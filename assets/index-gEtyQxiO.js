var u0=Object.defineProperty;var c0=(t,e,s)=>e in t?u0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Gs=(t,e,s)=>c0(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nf(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const we={},Ho=[],ar=()=>{},h0=()=>!1,Lc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Of=t=>t.startsWith("onUpdate:"),cn=Object.assign,Mf=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},f0=Object.prototype.hasOwnProperty,Ce=(t,e)=>f0.call(t,e),Jt=Array.isArray,qo=t=>Bl(t)==="[object Map]",da=t=>Bl(t)==="[object Set]",Ad=t=>Bl(t)==="[object Date]",ie=t=>typeof t=="function",We=t=>typeof t=="string",Bi=t=>typeof t=="symbol",Be=t=>t!==null&&typeof t=="object",bg=t=>(Be(t)||ie(t))&&ie(t.then)&&ie(t.catch),wg=Object.prototype.toString,Bl=t=>wg.call(t),d0=t=>Bl(t).slice(8,-1),Lg=t=>Bl(t)==="[object Object]",Af=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ol=Nf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ec=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},p0=/-(\w)/g,ci=Ec(t=>t.replace(p0,(e,s)=>s?s.toUpperCase():"")),m0=/\B([A-Z])/g,_s=Ec(t=>t.replace(m0,"-$1").toLowerCase()),kc=Ec(t=>t.charAt(0).toUpperCase()+t.slice(1)),dh=Ec(t=>t?`on${kc(t)}`:""),Jn=(t,e)=>!Object.is(t,e),Nu=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Eg=(t,e,s,a=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:a,value:s})},qu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},g0=t=>{const e=We(t)?Number(t):NaN;return isNaN(e)?t:e};let Rd;const xc=()=>Rd||(Rd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Dr(t){if(Jt(t)){const e={};for(let s=0;s<t.length;s++){const a=t[s],i=We(a)?b0(a):Dr(a);if(i)for(const l in i)e[l]=i[l]}return e}else if(We(t)||Be(t))return t}const _0=/;(?![^(]*\))/g,v0=/:([^]+)/,y0=/\/\*[^]*?\*\//g;function b0(t){const e={};return t.replace(y0,"").split(_0).forEach(s=>{if(s){const a=s.split(v0);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function Re(t){let e="";if(We(t))e=t;else if(Jt(t))for(let s=0;s<t.length;s++){const a=Re(t[s]);a&&(e+=a+" ")}else if(Be(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function ki(t){if(!t)return null;let{class:e,style:s}=t;return e&&!We(e)&&(t.class=Re(e)),s&&(t.style=Dr(s)),t}const w0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",L0=Nf(w0);function kg(t){return!!t||t===""}function E0(t,e){if(t.length!==e.length)return!1;let s=!0;for(let a=0;s&&a<t.length;a++)s=no(t[a],e[a]);return s}function no(t,e){if(t===e)return!0;let s=Ad(t),a=Ad(e);if(s||a)return s&&a?t.getTime()===e.getTime():!1;if(s=Bi(t),a=Bi(e),s||a)return t===e;if(s=Jt(t),a=Jt(e),s||a)return s&&a?E0(t,e):!1;if(s=Be(t),a=Be(e),s||a){if(!s||!a)return!1;const i=Object.keys(t).length,l=Object.keys(e).length;if(i!==l)return!1;for(const f in t){const d=t.hasOwnProperty(f),m=e.hasOwnProperty(f);if(d&&!m||!d&&m||!no(t[f],e[f]))return!1}}return String(t)===String(e)}function Rf(t,e){return t.findIndex(s=>no(s,e))}const xg=t=>!!(t&&t.__v_isRef===!0),Zt=t=>We(t)?t:t==null?"":Jt(t)||Be(t)&&(t.toString===wg||!ie(t.toString))?xg(t)?Zt(t.value):JSON.stringify(t,Tg,2):String(t),Tg=(t,e)=>xg(e)?Tg(t,e.value):qo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[a,i],l)=>(s[ph(a,l)+" =>"]=i,s),{})}:da(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>ph(s))}:Bi(e)?ph(e):Be(e)&&!Jt(e)&&!Lg(e)?String(e):e,ph=(t,e="")=>{var s;return Bi(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zn;class Cg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zn,!e&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=zn;try{return zn=this,e()}finally{zn=s}}}on(){zn=this}off(){zn=this.parent}stop(e){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Sg(t){return new Cg(t)}function Df(){return zn}function Wu(t,e=!1){zn&&zn.cleanups.push(t)}let ze;const mh=new WeakSet;class Ig{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zn&&zn.active&&zn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mh.has(this)&&(mh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ng(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dd(this),Og(this);const e=ze,s=Ri;ze=this,Ri=!0;try{return this.fn()}finally{Mg(this),ze=e,Ri=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)zf(e);this.deps=this.depsTail=void 0,Dd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Uh(this)&&this.run()}get dirty(){return Uh(this)}}let Pg=0,al,ll;function Ng(t,e=!1){if(t.flags|=8,e){t.next=ll,ll=t;return}t.next=al,al=t}function Bf(){Pg++}function Ff(){if(--Pg>0)return;if(ll){let e=ll;for(ll=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;al;){let e=al;for(al=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(a){t||(t=a)}e=s}}if(t)throw t}function Og(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Mg(t){let e,s=t.depsTail,a=s;for(;a;){const i=a.prevDep;a.version===-1?(a===s&&(s=i),zf(a),k0(a)):e=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=i}t.deps=e,t.depsTail=s}function Uh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ag(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ag(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===yl))return;t.globalVersion=yl;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Uh(t)){t.flags&=-3;return}const s=ze,a=Ri;ze=t,Ri=!0;try{Og(t);const i=t.fn(t._value);(e.version===0||Jn(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ze=s,Ri=a,Mg(t),t.flags&=-3}}function zf(t,e=!1){const{dep:s,prevSub:a,nextSub:i}=t;if(a&&(a.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=a,t.nextSub=void 0),s.subs===t&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)zf(l,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function k0(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ri=!0;const Rg=[];function vs(){Rg.push(Ri),Ri=!1}function ys(){const t=Rg.pop();Ri=t===void 0?!0:t}function Dd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ze;ze=void 0;try{e()}finally{ze=s}}}let yl=0;class x0{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Tc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ze||!Ri||ze===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ze)s=this.activeLink=new x0(ze,this),ze.deps?(s.prevDep=ze.depsTail,ze.depsTail.nextDep=s,ze.depsTail=s):ze.deps=ze.depsTail=s,Dg(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=ze.depsTail,s.nextDep=void 0,ze.depsTail.nextDep=s,ze.depsTail=s,ze.deps===s&&(ze.deps=a)}return s}trigger(e){this.version++,yl++,this.notify(e)}notify(e){Bf();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ff()}}}function Dg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let a=e.deps;a;a=a.nextDep)Dg(a)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Zu=new WeakMap,eo=Symbol(""),Gh=Symbol(""),bl=Symbol("");function Cn(t,e,s){if(Ri&&ze){let a=Zu.get(t);a||Zu.set(t,a=new Map);let i=a.get(s);i||(a.set(s,i=new Tc),i.map=a,i.key=s),i.track()}}function Pr(t,e,s,a,i,l){const f=Zu.get(t);if(!f){yl++;return}const d=m=>{m&&m.trigger()};if(Bf(),e==="clear")f.forEach(d);else{const m=Jt(t),v=m&&Af(s);if(m&&s==="length"){const _=Number(a);f.forEach((b,E)=>{(E==="length"||E===bl||!Bi(E)&&E>=_)&&d(b)})}else switch((s!==void 0||f.has(void 0))&&d(f.get(s)),v&&d(f.get(bl)),e){case"add":m?v&&d(f.get("length")):(d(f.get(eo)),qo(t)&&d(f.get(Gh)));break;case"delete":m||(d(f.get(eo)),qo(t)&&d(f.get(Gh)));break;case"set":qo(t)&&d(f.get(eo));break}}Ff()}function T0(t,e){const s=Zu.get(t);return s&&s.get(e)}function Do(t){const e=ae(t);return e===t?e:(Cn(e,"iterate",bl),Ti(t)?e:e.map(Sn))}function Cc(t){return Cn(t=ae(t),"iterate",bl),t}const C0={__proto__:null,[Symbol.iterator](){return gh(this,Symbol.iterator,Sn)},concat(...t){return Do(this).concat(...t.map(e=>Jt(e)?Do(e):e))},entries(){return gh(this,"entries",t=>(t[1]=Sn(t[1]),t))},every(t,e){return Er(this,"every",t,e,void 0,arguments)},filter(t,e){return Er(this,"filter",t,e,s=>s.map(Sn),arguments)},find(t,e){return Er(this,"find",t,e,Sn,arguments)},findIndex(t,e){return Er(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Er(this,"findLast",t,e,Sn,arguments)},findLastIndex(t,e){return Er(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Er(this,"forEach",t,e,void 0,arguments)},includes(...t){return _h(this,"includes",t)},indexOf(...t){return _h(this,"indexOf",t)},join(t){return Do(this).join(t)},lastIndexOf(...t){return _h(this,"lastIndexOf",t)},map(t,e){return Er(this,"map",t,e,void 0,arguments)},pop(){return Za(this,"pop")},push(...t){return Za(this,"push",t)},reduce(t,...e){return Bd(this,"reduce",t,e)},reduceRight(t,...e){return Bd(this,"reduceRight",t,e)},shift(){return Za(this,"shift")},some(t,e){return Er(this,"some",t,e,void 0,arguments)},splice(...t){return Za(this,"splice",t)},toReversed(){return Do(this).toReversed()},toSorted(t){return Do(this).toSorted(t)},toSpliced(...t){return Do(this).toSpliced(...t)},unshift(...t){return Za(this,"unshift",t)},values(){return gh(this,"values",Sn)}};function gh(t,e,s){const a=Cc(t),i=a[e]();return a!==t&&!Ti(t)&&(i._next=i.next,i.next=()=>{const l=i._next();return l.value&&(l.value=s(l.value)),l}),i}const S0=Array.prototype;function Er(t,e,s,a,i,l){const f=Cc(t),d=f!==t&&!Ti(t),m=f[e];if(m!==S0[e]){const b=m.apply(t,l);return d?Sn(b):b}let v=s;f!==t&&(d?v=function(b,E){return s.call(this,Sn(b),E,t)}:s.length>2&&(v=function(b,E){return s.call(this,b,E,t)}));const _=m.call(f,v,a);return d&&i?i(_):_}function Bd(t,e,s,a){const i=Cc(t);let l=s;return i!==t&&(Ti(t)?s.length>3&&(l=function(f,d,m){return s.call(this,f,d,m,t)}):l=function(f,d,m){return s.call(this,f,Sn(d),m,t)}),i[e](l,...a)}function _h(t,e,s){const a=ae(t);Cn(a,"iterate",bl);const i=a[e](...s);return(i===-1||i===!1)&&$f(s[0])?(s[0]=ae(s[0]),a[e](...s)):i}function Za(t,e,s=[]){vs(),Bf();const a=ae(t)[e].apply(t,s);return Ff(),ys(),a}const I0=Nf("__proto__,__v_isRef,__isVue"),Bg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bi));function P0(t){Bi(t)||(t=String(t));const e=ae(this);return Cn(e,"has",t),e.hasOwnProperty(t)}class Fg{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,a){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return l;if(s==="__v_raw")return a===(i?l?Hg:Vg:l?Gg:Ug).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(a)?e:void 0;const f=Jt(e);if(!i){let m;if(f&&(m=C0[s]))return m;if(s==="hasOwnProperty")return P0}const d=Reflect.get(e,s,qe(e)?e:a);return(Bi(s)?Bg.has(s):I0(s))||(i||Cn(e,"get",s),l)?d:qe(d)?f&&Af(s)?d:d.value:Be(d)?i?Gn(d):Hn(d):d}}class zg extends Fg{constructor(e=!1){super(!1,e)}set(e,s,a,i){let l=e[s];if(!this._isShallow){const m=io(l);if(!Ti(a)&&!io(a)&&(l=ae(l),a=ae(a)),!Jt(e)&&qe(l)&&!qe(a))return m?!1:(l.value=a,!0)}const f=Jt(e)&&Af(s)?Number(s)<e.length:Ce(e,s),d=Reflect.set(e,s,a,qe(e)?e:i);return e===ae(i)&&(f?Jn(a,l)&&Pr(e,"set",s,a):Pr(e,"add",s,a)),d}deleteProperty(e,s){const a=Ce(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&a&&Pr(e,"delete",s,void 0),i}has(e,s){const a=Reflect.has(e,s);return(!Bi(s)||!Bg.has(s))&&Cn(e,"has",s),a}ownKeys(e){return Cn(e,"iterate",Jt(e)?"length":eo),Reflect.ownKeys(e)}}class $g extends Fg{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const N0=new zg,O0=new $g,M0=new zg(!0),A0=new $g(!0),Vh=t=>t,fu=t=>Reflect.getPrototypeOf(t);function R0(t,e,s){return function(...a){const i=this.__v_raw,l=ae(i),f=qo(l),d=t==="entries"||t===Symbol.iterator&&f,m=t==="keys"&&f,v=i[t](...a),_=s?Vh:e?Hh:Sn;return!e&&Cn(l,"iterate",m?Gh:eo),{next(){const{value:b,done:E}=v.next();return E?{value:b,done:E}:{value:d?[_(b[0]),_(b[1])]:_(b),done:E}},[Symbol.iterator](){return this}}}}function du(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function D0(t,e){const s={get(i){const l=this.__v_raw,f=ae(l),d=ae(i);t||(Jn(i,d)&&Cn(f,"get",i),Cn(f,"get",d));const{has:m}=fu(f),v=e?Vh:t?Hh:Sn;if(m.call(f,i))return v(l.get(i));if(m.call(f,d))return v(l.get(d));l!==f&&l.get(i)},get size(){const i=this.__v_raw;return!t&&Cn(ae(i),"iterate",eo),Reflect.get(i,"size",i)},has(i){const l=this.__v_raw,f=ae(l),d=ae(i);return t||(Jn(i,d)&&Cn(f,"has",i),Cn(f,"has",d)),i===d?l.has(i):l.has(i)||l.has(d)},forEach(i,l){const f=this,d=f.__v_raw,m=ae(d),v=e?Vh:t?Hh:Sn;return!t&&Cn(m,"iterate",eo),d.forEach((_,b)=>i.call(l,v(_),v(b),f))}};return cn(s,t?{add:du("add"),set:du("set"),delete:du("delete"),clear:du("clear")}:{add(i){!e&&!Ti(i)&&!io(i)&&(i=ae(i));const l=ae(this);return fu(l).has.call(l,i)||(l.add(i),Pr(l,"add",i,i)),this},set(i,l){!e&&!Ti(l)&&!io(l)&&(l=ae(l));const f=ae(this),{has:d,get:m}=fu(f);let v=d.call(f,i);v||(i=ae(i),v=d.call(f,i));const _=m.call(f,i);return f.set(i,l),v?Jn(l,_)&&Pr(f,"set",i,l):Pr(f,"add",i,l),this},delete(i){const l=ae(this),{has:f,get:d}=fu(l);let m=f.call(l,i);m||(i=ae(i),m=f.call(l,i)),d&&d.call(l,i);const v=l.delete(i);return m&&Pr(l,"delete",i,void 0),v},clear(){const i=ae(this),l=i.size!==0,f=i.clear();return l&&Pr(i,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=R0(i,t,e)}),s}function Sc(t,e){const s=D0(t,e);return(a,i,l)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?a:Reflect.get(Ce(s,i)&&i in a?s:a,i,l)}const B0={get:Sc(!1,!1)},F0={get:Sc(!1,!0)},z0={get:Sc(!0,!1)},$0={get:Sc(!0,!0)},Ug=new WeakMap,Gg=new WeakMap,Vg=new WeakMap,Hg=new WeakMap;function U0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function G0(t){return t.__v_skip||!Object.isExtensible(t)?0:U0(d0(t))}function Hn(t){return io(t)?t:Ic(t,!1,N0,B0,Ug)}function qg(t){return Ic(t,!1,M0,F0,Gg)}function Gn(t){return Ic(t,!0,O0,z0,Vg)}function Bo(t){return Ic(t,!0,A0,$0,Hg)}function Ic(t,e,s,a,i){if(!Be(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=i.get(t);if(l)return l;const f=G0(t);if(f===0)return t;const d=new Proxy(t,f===2?a:s);return i.set(t,d),d}function Wo(t){return io(t)?Wo(t.__v_raw):!!(t&&t.__v_isReactive)}function io(t){return!!(t&&t.__v_isReadonly)}function Ti(t){return!!(t&&t.__v_isShallow)}function $f(t){return t?!!t.__v_raw:!1}function ae(t){const e=t&&t.__v_raw;return e?ae(e):t}function us(t){return!Ce(t,"__v_skip")&&Object.isExtensible(t)&&Eg(t,"__v_skip",!0),t}const Sn=t=>Be(t)?Hn(t):t,Hh=t=>Be(t)?Gn(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function Ft(t){return Wg(t,!1)}function Vn(t){return Wg(t,!0)}function Wg(t,e){return qe(t)?t:new V0(t,e)}class V0{constructor(e,s){this.dep=new Tc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ae(e),this._value=s?e:Sn(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,a=this.__v_isShallow||Ti(e)||io(e);e=a?e:ae(e),Jn(e,s)&&(this._rawValue=e,this._value=a?e:Sn(e),this.dep.trigger())}}function W(t){return qe(t)?t.value:t}function de(t){return ie(t)?t():W(t)}const H0={get:(t,e,s)=>e==="__v_raw"?t:W(Reflect.get(t,e,s)),set:(t,e,s,a)=>{const i=t[e];return qe(i)&&!qe(s)?(i.value=s,!0):Reflect.set(t,e,s,a)}};function Zg(t){return Wo(t)?t:new Proxy(t,H0)}class q0{constructor(e){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Tc,{get:a,set:i}=e(s.track.bind(s),s.trigger.bind(s));this._get=a,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Yg(t){return new q0(t)}class W0{constructor(e,s,a){this._object=e,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return T0(ae(this._object),this._key)}}class Z0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tn(t,e,s){return qe(t)?t:ie(t)?new Z0(t):Be(t)&&arguments.length>1?Y0(t,e,s):Ft(t)}function Y0(t,e,s){const a=t[e];return qe(a)?a:new W0(t,e,s)}class j0{constructor(e,s,a){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Tc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Ng(this,!0),!0}get value(){const e=this.dep.track();return Ag(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function X0(t,e,s=!1){let a,i;return ie(t)?a=t:(a=t.get,i=t.set),new j0(a,i,s)}const pu={},Yu=new WeakMap;let Ks;function K0(t,e=!1,s=Ks){if(s){let a=Yu.get(s);a||Yu.set(s,a=[]),a.push(t)}}function J0(t,e,s=we){const{immediate:a,deep:i,once:l,scheduler:f,augmentJob:d,call:m}=s,v=F=>i?F:Ti(F)||i===!1||i===0?Nr(F,1):Nr(F);let _,b,E,T,I=!1,O=!1;if(qe(t)?(b=()=>t.value,I=Ti(t)):Wo(t)?(b=()=>v(t),I=!0):Jt(t)?(O=!0,I=t.some(F=>Wo(F)||Ti(F)),b=()=>t.map(F=>{if(qe(F))return F.value;if(Wo(F))return v(F);if(ie(F))return m?m(F,2):F()})):ie(t)?e?b=m?()=>m(t,2):t:b=()=>{if(E){vs();try{E()}finally{ys()}}const F=Ks;Ks=_;try{return m?m(t,3,[T]):t(T)}finally{Ks=F}}:b=ar,e&&i){const F=b,H=i===!0?1/0:i;b=()=>Nr(F(),H)}const B=Df(),P=()=>{_.stop(),B&&B.active&&Mf(B.effects,_)};if(l&&e){const F=e;e=(...H)=>{F(...H),P()}}let R=O?new Array(t.length).fill(pu):pu;const D=F=>{if(!(!(_.flags&1)||!_.dirty&&!F))if(e){const H=_.run();if(i||I||(O?H.some((q,$)=>Jn(q,R[$])):Jn(H,R))){E&&E();const q=Ks;Ks=_;try{const $=[H,R===pu?void 0:O&&R[0]===pu?[]:R,T];m?m(e,3,$):e(...$),R=H}finally{Ks=q}}}else _.run()};return d&&d(D),_=new Ig(b),_.scheduler=f?()=>f(D,!1):D,T=F=>K0(F,!1,_),E=_.onStop=()=>{const F=Yu.get(_);if(F){if(m)m(F,4);else for(const H of F)H();Yu.delete(_)}},e?a?D(!0):R=_.run():f?f(D.bind(null,!0),!0):_.run(),P.pause=_.pause.bind(_),P.resume=_.resume.bind(_),P.stop=P,P}function Nr(t,e=1/0,s){if(e<=0||!Be(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,qe(t))Nr(t.value,e,s);else if(Jt(t))for(let a=0;a<t.length;a++)Nr(t[a],e,s);else if(da(t)||qo(t))t.forEach(a=>{Nr(a,e,s)});else if(Lg(t)){for(const a in t)Nr(t[a],e,s);for(const a of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,a)&&Nr(t[a],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fl(t,e,s,a){try{return a?t(...a):t()}catch(i){Pc(i,e,s)}}function Fi(t,e,s,a){if(ie(t)){const i=Fl(t,e,s,a);return i&&bg(i)&&i.catch(l=>{Pc(l,e,s)}),i}if(Jt(t)){const i=[];for(let l=0;l<t.length;l++)i.push(Fi(t[l],e,s,a));return i}}function Pc(t,e,s,a=!0){const i=e?e.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:f}=e&&e.appContext.config||we;if(e){let d=e.parent;const m=e.proxy,v=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const _=d.ec;if(_){for(let b=0;b<_.length;b++)if(_[b](t,m,v)===!1)return}d=d.parent}if(l){vs(),Fl(l,null,10,[t,m,v]),ys();return}}Q0(t,s,i,a,f)}function Q0(t,e,s,a=!0,i=!1){if(i)throw t;console.error(t)}const $n=[];let nr=-1;const Zo=[];let rs=null,zo=0;const jg=Promise.resolve();let ju=null;function ti(t){const e=ju||jg;return t?e.then(this?t.bind(this):t):e}function tb(t){let e=nr+1,s=$n.length;for(;e<s;){const a=e+s>>>1,i=$n[a],l=wl(i);l<t||l===t&&i.flags&2?e=a+1:s=a}return e}function Uf(t){if(!(t.flags&1)){const e=wl(t),s=$n[$n.length-1];!s||!(t.flags&2)&&e>=wl(s)?$n.push(t):$n.splice(tb(e),0,t),t.flags|=1,Xg()}}function Xg(){ju||(ju=jg.then(Jg))}function eb(t){Jt(t)?Zo.push(...t):rs&&t.id===-1?rs.splice(zo+1,0,t):t.flags&1||(Zo.push(t),t.flags|=1),Xg()}function Fd(t,e,s=nr+1){for(;s<$n.length;s++){const a=$n[s];if(a&&a.flags&2){if(t&&a.id!==t.uid)continue;$n.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Kg(t){if(Zo.length){const e=[...new Set(Zo)].sort((s,a)=>wl(s)-wl(a));if(Zo.length=0,rs){rs.push(...e);return}for(rs=e,zo=0;zo<rs.length;zo++){const s=rs[zo];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}rs=null,zo=0}}const wl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Jg(t){try{for(nr=0;nr<$n.length;nr++){const e=$n[nr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Fl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nr<$n.length;nr++){const e=$n[nr];e&&(e.flags&=-2)}nr=-1,$n.length=0,Kg(),ju=null,($n.length||Zo.length)&&Jg()}}let vn=null,Qg=null;function Xu(t){const e=vn;return vn=t,Qg=t&&t.type.__scopeId||null,e}function ee(t,e=vn,s){if(!e||t._n)return t;const a=(...i)=>{a._d&&Kd(-1);const l=Xu(e);let f;try{f=t(...i)}finally{Xu(l),a._d&&Kd(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function Je(t,e){if(vn===null)return t;const s=Dc(vn),a=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[l,f,d,m=we]=e[i];l&&(ie(l)&&(l={mounted:l,updated:l}),l.deep&&Nr(f),a.push({dir:l,instance:s,value:f,oldValue:void 0,arg:d,modifiers:m}))}return t}function Vs(t,e,s,a){const i=t.dirs,l=e&&e.dirs;for(let f=0;f<i.length;f++){const d=i[f];l&&(d.oldValue=l[f].value);let m=d.dir[a];m&&(vs(),Fi(m,s,8,[t.el,d,t,e]),ys())}}const t_=Symbol("_vte"),e_=t=>t.__isTeleport,ul=t=>t&&(t.disabled||t.disabled===""),zd=t=>t&&(t.defer||t.defer===""),$d=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ud=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,qh=(t,e)=>{const s=t&&t.to;return We(s)?e?e(s):null:s},n_={name:"Teleport",__isTeleport:!0,process(t,e,s,a,i,l,f,d,m,v){const{mc:_,pc:b,pbc:E,o:{insert:T,querySelector:I,createText:O,createComment:B}}=v,P=ul(e.props);let{shapeFlag:R,children:D,dynamicChildren:F}=e;if(t==null){const H=e.el=O(""),q=e.anchor=O("");T(H,s,a),T(q,s,a);const $=(X,J)=>{R&16&&(i&&i.isCE&&(i.ce._teleportTarget=X),_(D,X,J,i,l,f,d,m))},it=()=>{const X=e.target=qh(e.props,I),J=i_(X,e,O,T);X&&(f!=="svg"&&$d(X)?f="svg":f!=="mathml"&&Ud(X)&&(f="mathml"),P||($(X,J),Ou(e,!1)))};P&&($(s,q),Ou(e,!0)),zd(e.props)?Fn(()=>{it(),e.el.__isMounted=!0},l):it()}else{if(zd(e.props)&&!t.el.__isMounted){Fn(()=>{n_.process(t,e,s,a,i,l,f,d,m,v),delete t.el.__isMounted},l);return}e.el=t.el,e.targetStart=t.targetStart;const H=e.anchor=t.anchor,q=e.target=t.target,$=e.targetAnchor=t.targetAnchor,it=ul(t.props),X=it?s:q,J=it?H:$;if(f==="svg"||$d(q)?f="svg":(f==="mathml"||Ud(q))&&(f="mathml"),F?(E(t.dynamicChildren,F,X,i,l,f,d),Hf(t,e,!0)):m||b(t,e,X,J,i,l,f,d,!1),P)it?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):mu(e,s,H,v,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const _t=e.target=qh(e.props,I);_t&&mu(e,_t,null,v,0)}else it&&mu(e,q,$,v,1);Ou(e,P)}},remove(t,e,s,{um:a,o:{remove:i}},l){const{shapeFlag:f,children:d,anchor:m,targetStart:v,targetAnchor:_,target:b,props:E}=t;if(b&&(i(v),i(_)),l&&i(m),f&16){const T=l||!ul(E);for(let I=0;I<d.length;I++){const O=d[I];a(O,e,s,T,!!O.dynamicChildren)}}},move:mu,hydrate:nb};function mu(t,e,s,{o:{insert:a},m:i},l=2){l===0&&a(t.targetAnchor,e,s);const{el:f,anchor:d,shapeFlag:m,children:v,props:_}=t,b=l===2;if(b&&a(f,e,s),(!b||ul(_))&&m&16)for(let E=0;E<v.length;E++)i(v[E],e,s,2);b&&a(d,e,s)}function nb(t,e,s,a,i,l,{o:{nextSibling:f,parentNode:d,querySelector:m,insert:v,createText:_}},b){const E=e.target=qh(e.props,m);if(E){const T=ul(e.props),I=E._lpa||E.firstChild;if(e.shapeFlag&16)if(T)e.anchor=b(f(t),e,d(t),s,a,i,l),e.targetStart=I,e.targetAnchor=I&&f(I);else{e.anchor=f(t);let O=I;for(;O;){if(O&&O.nodeType===8){if(O.data==="teleport start anchor")e.targetStart=O;else if(O.data==="teleport anchor"){e.targetAnchor=O,E._lpa=e.targetAnchor&&f(e.targetAnchor);break}}O=f(O)}e.targetAnchor||i_(E,e,_,v),b(I&&f(I),e,E,s,a,i,l)}Ou(e,T)}return e.anchor&&f(e.anchor)}const ib=n_;function Ou(t,e){const s=t.ctx;if(s&&s.ut){let a,i;for(e?(a=t.el,i=t.anchor):(a=t.targetStart,i=t.targetAnchor);a&&a!==i;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function i_(t,e,s,a){const i=e.targetStart=s(""),l=e.targetAnchor=s("");return i[t_]=l,t&&(a(i,t),a(l,t)),l}const ss=Symbol("_leaveCb"),gu=Symbol("_enterCb");function rb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Hi(()=>{t.isMounted=!0}),Mc(()=>{t.isUnmounting=!0}),t}const Li=[Function,Array],r_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Li,onEnter:Li,onAfterEnter:Li,onEnterCancelled:Li,onBeforeLeave:Li,onLeave:Li,onAfterLeave:Li,onLeaveCancelled:Li,onBeforeAppear:Li,onAppear:Li,onAfterAppear:Li,onAppearCancelled:Li},s_=t=>{const e=t.subTree;return e.component?s_(e.component):e},sb={name:"BaseTransition",props:r_,setup(t,{slots:e}){const s=ei(),a=rb();return()=>{const i=e.default&&l_(e.default(),!0);if(!i||!i.length)return;const l=o_(i),f=ae(t),{mode:d}=f;if(a.isLeaving)return vh(l);const m=Gd(l);if(!m)return vh(l);let v=Wh(m,f,a,s,b=>v=b);m.type!==Un&&Ll(m,v);let _=s.subTree&&Gd(s.subTree);if(_&&_.type!==Un&&!Js(m,_)&&s_(s).type!==Un){let b=Wh(_,f,a,s);if(Ll(_,b),d==="out-in"&&m.type!==Un)return a.isLeaving=!0,b.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete b.afterLeave,_=void 0},vh(l);d==="in-out"&&m.type!==Un?b.delayLeave=(E,T,I)=>{const O=a_(a,_);O[String(_.key)]=_,E[ss]=()=>{T(),E[ss]=void 0,delete v.delayedLeave,_=void 0},v.delayedLeave=()=>{I(),delete v.delayedLeave,_=void 0}}:_=void 0}else _&&(_=void 0);return l}}};function o_(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Un){e=s;break}}return e}const ob=sb;function a_(t,e){const{leavingVNodes:s}=t;let a=s.get(e.type);return a||(a=Object.create(null),s.set(e.type,a)),a}function Wh(t,e,s,a,i){const{appear:l,mode:f,persisted:d=!1,onBeforeEnter:m,onEnter:v,onAfterEnter:_,onEnterCancelled:b,onBeforeLeave:E,onLeave:T,onAfterLeave:I,onLeaveCancelled:O,onBeforeAppear:B,onAppear:P,onAfterAppear:R,onAppearCancelled:D}=e,F=String(t.key),H=a_(s,t),q=(X,J)=>{X&&Fi(X,a,9,J)},$=(X,J)=>{const _t=J[1];q(X,J),Jt(X)?X.every(et=>et.length<=1)&&_t():X.length<=1&&_t()},it={mode:f,persisted:d,beforeEnter(X){let J=m;if(!s.isMounted)if(l)J=B||m;else return;X[ss]&&X[ss](!0);const _t=H[F];_t&&Js(t,_t)&&_t.el[ss]&&_t.el[ss](),q(J,[X])},enter(X){let J=v,_t=_,et=b;if(!s.isMounted)if(l)J=P||v,_t=R||_,et=D||b;else return;let tt=!1;const j=X[gu]=vt=>{tt||(tt=!0,vt?q(et,[X]):q(_t,[X]),it.delayedLeave&&it.delayedLeave(),X[gu]=void 0)};J?$(J,[X,j]):j()},leave(X,J){const _t=String(t.key);if(X[gu]&&X[gu](!0),s.isUnmounting)return J();q(E,[X]);let et=!1;const tt=X[ss]=j=>{et||(et=!0,J(),j?q(O,[X]):q(I,[X]),X[ss]=void 0,H[_t]===t&&delete H[_t])};H[_t]=t,T?$(T,[X,tt]):tt()},clone(X){const J=Wh(X,e,s,a,i);return i&&i(J),J}};return it}function vh(t){if(Nc(t))return t=Fr(t),t.children=null,t}function Gd(t){if(!Nc(t))return e_(t.type)&&t.children?o_(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&ie(s.default))return s.default()}}function Ll(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ll(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function l_(t,e=!1,s){let a=[],i=0;for(let l=0;l<t.length;l++){let f=t[l];const d=s==null?f.key:String(s)+String(f.key!=null?f.key:l);f.type===ce?(f.patchFlag&128&&i++,a=a.concat(l_(f.children,e,d))):(e||f.type!==Un)&&a.push(d!=null?Fr(f,{key:d}):f)}if(i>1)for(let l=0;l<a.length;l++)a[l].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function Pe(t,e){return ie(t)?cn({name:t.name},e,{setup:t}):t}function u_(){const t=ei();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function c_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function on(t){const e=ei(),s=Vn(null);if(e){const i=e.refs===we?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>s.value,set:l=>s.value=l})}return s}function Ku(t,e,s,a,i=!1){if(Jt(t)){t.forEach((I,O)=>Ku(I,e&&(Jt(e)?e[O]:e),s,a,i));return}if(Yo(a)&&!i){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Ku(t,e,s,a.component.subTree);return}const l=a.shapeFlag&4?Dc(a.component):a.el,f=i?null:l,{i:d,r:m}=t,v=e&&e.r,_=d.refs===we?d.refs={}:d.refs,b=d.setupState,E=ae(b),T=b===we?()=>!1:I=>Ce(E,I);if(v!=null&&v!==m&&(We(v)?(_[v]=null,T(v)&&(b[v]=null)):qe(v)&&(v.value=null)),ie(m))Fl(m,d,12,[f,_]);else{const I=We(m),O=qe(m);if(I||O){const B=()=>{if(t.f){const P=I?T(m)?b[m]:_[m]:m.value;i?Jt(P)&&Mf(P,l):Jt(P)?P.includes(l)||P.push(l):I?(_[m]=[l],T(m)&&(b[m]=_[m])):(m.value=[l],t.k&&(_[t.k]=m.value))}else I?(_[m]=f,T(m)&&(b[m]=f)):O&&(m.value=f,t.k&&(_[t.k]=f))};f?(B.id=-1,Fn(B,s)):B()}}}xc().requestIdleCallback;xc().cancelIdleCallback;const Yo=t=>!!t.type.__asyncLoader,Nc=t=>t.type.__isKeepAlive;function ab(t,e){h_(t,"a",e)}function lb(t,e){h_(t,"da",e)}function h_(t,e,s=xn){const a=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Oc(e,a,s),s){let i=s.parent;for(;i&&i.parent;)Nc(i.parent.vnode)&&ub(a,e,s,i),i=i.parent}}function ub(t,e,s,a){const i=Oc(e,t,a,!0);pa(()=>{Mf(a[e],i)},s)}function Oc(t,e,s=xn,a=!1){if(s){const i=s[t]||(s[t]=[]),l=e.__weh||(e.__weh=(...f)=>{vs();const d=Ul(s),m=Fi(e,s,t,f);return d(),ys(),m});return a?i.unshift(l):i.push(l),l}}const zr=t=>(e,s=xn)=>{(!kl||t==="sp")&&Oc(t,(...a)=>e(...a),s)},cb=zr("bm"),Hi=zr("m"),hb=zr("bu"),fb=zr("u"),Mc=zr("bum"),pa=zr("um"),db=zr("sp"),pb=zr("rtg"),mb=zr("rtc");function gb(t,e=xn){Oc("ec",t,e)}const f_="components";function _b(t,e){return p_(f_,t,!0,e)||t}const d_=Symbol.for("v-ndc");function bs(t){return We(t)?p_(f_,t,!1)||t:t||d_}function p_(t,e,s=!0,a=!1){const i=vn||xn;if(i){const l=i.type;{const d=ew(l,!1);if(d&&(d===e||d===ci(e)||d===kc(ci(e))))return l}const f=Vd(i[t]||l[t],e)||Vd(i.appContext[t],e);return!f&&a?l:f}}function Vd(t,e){return t&&(t[e]||t[ci(e)]||t[kc(ci(e))])}function lr(t,e,s,a){let i;const l=s,f=Jt(t);if(f||We(t)){const d=f&&Wo(t);let m=!1;d&&(m=!Ti(t),t=Cc(t)),i=new Array(t.length);for(let v=0,_=t.length;v<_;v++)i[v]=e(m?Sn(t[v]):t[v],v,void 0,l)}else if(typeof t=="number"){i=new Array(t);for(let d=0;d<t;d++)i[d]=e(d+1,d,void 0,l)}else if(Be(t))if(t[Symbol.iterator])i=Array.from(t,(d,m)=>e(d,m,void 0,l));else{const d=Object.keys(t);i=new Array(d.length);for(let m=0,v=d.length;m<v;m++){const _=d[m];i[m]=e(t[_],_,m,l)}}else i=[];return i}function vb(t,e){for(let s=0;s<e.length;s++){const a=e[s];if(Jt(a))for(let i=0;i<a.length;i++)t[a[i].name]=a[i].fn;else a&&(t[a.name]=a.key?(...i)=>{const l=a.fn(...i);return l&&(l.key=a.key),l}:a.fn)}return t}function ue(t,e,s={},a,i){if(vn.ce||vn.parent&&Yo(vn.parent)&&vn.parent.ce)return e!=="default"&&(s.name=e),wt(),ge(ce,null,[$t("slot",s,a&&a())],64);let l=t[e];l&&l._c&&(l._d=!1),wt();const f=l&&m_(l(s)),d=s.key||f&&f.key,m=ge(ce,{key:(d&&!Bi(d)?d:`_${e}`)+(!f&&a?"_fb":"")},f||(a?a():[]),f&&t._===1?64:-2);return!i&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),l&&l._c&&(l._d=!0),m}function m_(t){return t.some(e=>ro(e)?!(e.type===Un||e.type===ce&&!m_(e.children)):!0)?t:null}const Zh=t=>t?D_(t)?Dc(t):Zh(t.parent):null,cl=cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zh(t.parent),$root:t=>Zh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>v_(t),$forceUpdate:t=>t.f||(t.f=()=>{Uf(t.update)}),$nextTick:t=>t.n||(t.n=ti.bind(t.proxy)),$watch:t=>$b.bind(t)}),yh=(t,e)=>t!==we&&!t.__isScriptSetup&&Ce(t,e),yb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:a,data:i,props:l,accessCache:f,type:d,appContext:m}=t;let v;if(e[0]!=="$"){const T=f[e];if(T!==void 0)switch(T){case 1:return a[e];case 2:return i[e];case 4:return s[e];case 3:return l[e]}else{if(yh(a,e))return f[e]=1,a[e];if(i!==we&&Ce(i,e))return f[e]=2,i[e];if((v=t.propsOptions[0])&&Ce(v,e))return f[e]=3,l[e];if(s!==we&&Ce(s,e))return f[e]=4,s[e];Yh&&(f[e]=0)}}const _=cl[e];let b,E;if(_)return e==="$attrs"&&Cn(t.attrs,"get",""),_(t);if((b=d.__cssModules)&&(b=b[e]))return b;if(s!==we&&Ce(s,e))return f[e]=4,s[e];if(E=m.config.globalProperties,Ce(E,e))return E[e]},set({_:t},e,s){const{data:a,setupState:i,ctx:l}=t;return yh(i,e)?(i[e]=s,!0):a!==we&&Ce(a,e)?(a[e]=s,!0):Ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:a,appContext:i,propsOptions:l}},f){let d;return!!s[f]||t!==we&&Ce(t,f)||yh(e,f)||(d=l[0])&&Ce(d,f)||Ce(a,f)||Ce(cl,f)||Ce(i.config.globalProperties,f)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Ce(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function zl(){return g_().slots}function Gf(){return g_().attrs}function g_(){const t=ei();return t.setupContext||(t.setupContext=F_(t))}function Ju(t){return Jt(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}function hi(t,e){return!t||!e?t||e:Jt(t)&&Jt(e)?t.concat(e):cn({},Ju(t),Ju(e))}let Yh=!0;function bb(t){const e=v_(t),s=t.proxy,a=t.ctx;Yh=!1,e.beforeCreate&&Hd(e.beforeCreate,t,"bc");const{data:i,computed:l,methods:f,watch:d,provide:m,inject:v,created:_,beforeMount:b,mounted:E,beforeUpdate:T,updated:I,activated:O,deactivated:B,beforeDestroy:P,beforeUnmount:R,destroyed:D,unmounted:F,render:H,renderTracked:q,renderTriggered:$,errorCaptured:it,serverPrefetch:X,expose:J,inheritAttrs:_t,components:et,directives:tt,filters:j}=e;if(v&&wb(v,a,null),f)for(const bt in f){const dt=f[bt];ie(dt)&&(a[bt]=dt.bind(s))}if(i){const bt=i.call(s,s);Be(bt)&&(t.data=Hn(bt))}if(Yh=!0,l)for(const bt in l){const dt=l[bt],Nt=ie(dt)?dt.bind(s,s):ie(dt.get)?dt.get.bind(s,s):ar,ut=!ie(dt)&&ie(dt.set)?dt.set.bind(s):ar,At=lt({get:Nt,set:ut});Object.defineProperty(a,bt,{enumerable:!0,configurable:!0,get:()=>At.value,set:Ut=>At.value=Ut})}if(d)for(const bt in d)__(d[bt],a,s,bt);if(m){const bt=ie(m)?m.call(s):m;Reflect.ownKeys(bt).forEach(dt=>{cs(dt,bt[dt])})}_&&Hd(_,t,"c");function yt(bt,dt){Jt(dt)?dt.forEach(Nt=>bt(Nt.bind(s))):dt&&bt(dt.bind(s))}if(yt(cb,b),yt(Hi,E),yt(hb,T),yt(fb,I),yt(ab,O),yt(lb,B),yt(gb,it),yt(mb,q),yt(pb,$),yt(Mc,R),yt(pa,F),yt(db,X),Jt(J))if(J.length){const bt=t.exposed||(t.exposed={});J.forEach(dt=>{Object.defineProperty(bt,dt,{get:()=>s[dt],set:Nt=>s[dt]=Nt})})}else t.exposed||(t.exposed={});H&&t.render===ar&&(t.render=H),_t!=null&&(t.inheritAttrs=_t),et&&(t.components=et),tt&&(t.directives=tt),X&&c_(t)}function wb(t,e,s=ar){Jt(t)&&(t=jh(t));for(const a in t){const i=t[a];let l;Be(i)?"default"in i?l=rn(i.from||a,i.default,!0):l=rn(i.from||a):l=rn(i),qe(l)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:f=>l.value=f}):e[a]=l}}function Hd(t,e,s){Fi(Jt(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,s)}function __(t,e,s,a){let i=a.includes(".")?P_(s,a):()=>s[a];if(We(t)){const l=e[t];ie(l)&&ne(i,l)}else if(ie(t))ne(i,t.bind(s));else if(Be(t))if(Jt(t))t.forEach(l=>__(l,e,s,a));else{const l=ie(t.handler)?t.handler.bind(s):e[t.handler];ie(l)&&ne(i,l,t)}}function v_(t){const e=t.type,{mixins:s,extends:a}=e,{mixins:i,optionsCache:l,config:{optionMergeStrategies:f}}=t.appContext,d=l.get(e);let m;return d?m=d:!i.length&&!s&&!a?m=e:(m={},i.length&&i.forEach(v=>Qu(m,v,f,!0)),Qu(m,e,f)),Be(e)&&l.set(e,m),m}function Qu(t,e,s,a=!1){const{mixins:i,extends:l}=e;l&&Qu(t,l,s,!0),i&&i.forEach(f=>Qu(t,f,s,!0));for(const f in e)if(!(a&&f==="expose")){const d=Lb[f]||s&&s[f];t[f]=d?d(t[f],e[f]):e[f]}return t}const Lb={data:qd,props:Wd,emits:Wd,methods:el,computed:el,beforeCreate:Dn,created:Dn,beforeMount:Dn,mounted:Dn,beforeUpdate:Dn,updated:Dn,beforeDestroy:Dn,beforeUnmount:Dn,destroyed:Dn,unmounted:Dn,activated:Dn,deactivated:Dn,errorCaptured:Dn,serverPrefetch:Dn,components:el,directives:el,watch:kb,provide:qd,inject:Eb};function qd(t,e){return e?t?function(){return cn(ie(t)?t.call(this,this):t,ie(e)?e.call(this,this):e)}:e:t}function Eb(t,e){return el(jh(t),jh(e))}function jh(t){if(Jt(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Dn(t,e){return t?[...new Set([].concat(t,e))]:e}function el(t,e){return t?cn(Object.create(null),t,e):e}function Wd(t,e){return t?Jt(t)&&Jt(e)?[...new Set([...t,...e])]:cn(Object.create(null),Ju(t),Ju(e??{})):e}function kb(t,e){if(!t)return e;if(!e)return t;const s=cn(Object.create(null),t);for(const a in e)s[a]=Dn(t[a],e[a]);return s}function y_(){return{app:null,config:{isNativeTag:h0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xb=0;function Tb(t,e){return function(a,i=null){ie(a)||(a=cn({},a)),i!=null&&!Be(i)&&(i=null);const l=y_(),f=new WeakSet,d=[];let m=!1;const v=l.app={_uid:xb++,_component:a,_props:i,_container:null,_context:l,_instance:null,version:iw,get config(){return l.config},set config(_){},use(_,...b){return f.has(_)||(_&&ie(_.install)?(f.add(_),_.install(v,...b)):ie(_)&&(f.add(_),_(v,...b))),v},mixin(_){return l.mixins.includes(_)||l.mixins.push(_),v},component(_,b){return b?(l.components[_]=b,v):l.components[_]},directive(_,b){return b?(l.directives[_]=b,v):l.directives[_]},mount(_,b,E){if(!m){const T=v._ceVNode||$t(a,i);return T.appContext=l,E===!0?E="svg":E===!1&&(E=void 0),t(T,_,E),m=!0,v._container=_,_.__vue_app__=v,Dc(T.component)}},onUnmount(_){d.push(_)},unmount(){m&&(Fi(d,v._instance,16),t(null,v._container),delete v._container.__vue_app__)},provide(_,b){return l.provides[_]=b,v},runWithContext(_){const b=jo;jo=v;try{return _()}finally{jo=b}}};return v}}let jo=null;function cs(t,e){if(xn){let s=xn.provides;const a=xn.parent&&xn.parent.provides;a===s&&(s=xn.provides=Object.create(a)),s[t]=e}}function rn(t,e,s=!1){const a=xn||vn;if(a||jo){const i=jo?jo._context.provides:a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&ie(e)?e.call(a&&a.proxy):e}}const b_={},w_=()=>Object.create(b_),L_=t=>Object.getPrototypeOf(t)===b_;function Cb(t,e,s,a=!1){const i={},l=w_();t.propsDefaults=Object.create(null),E_(t,e,i,l);for(const f in t.propsOptions[0])f in i||(i[f]=void 0);s?t.props=a?i:qg(i):t.type.props?t.props=i:t.props=l,t.attrs=l}function Sb(t,e,s,a){const{props:i,attrs:l,vnode:{patchFlag:f}}=t,d=ae(i),[m]=t.propsOptions;let v=!1;if((a||f>0)&&!(f&16)){if(f&8){const _=t.vnode.dynamicProps;for(let b=0;b<_.length;b++){let E=_[b];if(Rc(t.emitsOptions,E))continue;const T=e[E];if(m)if(Ce(l,E))T!==l[E]&&(l[E]=T,v=!0);else{const I=ci(E);i[I]=Xh(m,d,I,T,t,!1)}else T!==l[E]&&(l[E]=T,v=!0)}}}else{E_(t,e,i,l)&&(v=!0);let _;for(const b in d)(!e||!Ce(e,b)&&((_=_s(b))===b||!Ce(e,_)))&&(m?s&&(s[b]!==void 0||s[_]!==void 0)&&(i[b]=Xh(m,d,b,void 0,t,!0)):delete i[b]);if(l!==d)for(const b in l)(!e||!Ce(e,b))&&(delete l[b],v=!0)}v&&Pr(t.attrs,"set","")}function E_(t,e,s,a){const[i,l]=t.propsOptions;let f=!1,d;if(e)for(let m in e){if(ol(m))continue;const v=e[m];let _;i&&Ce(i,_=ci(m))?!l||!l.includes(_)?s[_]=v:(d||(d={}))[_]=v:Rc(t.emitsOptions,m)||(!(m in a)||v!==a[m])&&(a[m]=v,f=!0)}if(l){const m=ae(s),v=d||we;for(let _=0;_<l.length;_++){const b=l[_];s[b]=Xh(i,m,b,v[b],t,!Ce(v,b))}}return f}function Xh(t,e,s,a,i,l){const f=t[s];if(f!=null){const d=Ce(f,"default");if(d&&a===void 0){const m=f.default;if(f.type!==Function&&!f.skipFactory&&ie(m)){const{propsDefaults:v}=i;if(s in v)a=v[s];else{const _=Ul(i);a=v[s]=m.call(null,e),_()}}else a=m;i.ce&&i.ce._setProp(s,a)}f[0]&&(l&&!d?a=!1:f[1]&&(a===""||a===_s(s))&&(a=!0))}return a}const Ib=new WeakMap;function k_(t,e,s=!1){const a=s?Ib:e.propsCache,i=a.get(t);if(i)return i;const l=t.props,f={},d=[];let m=!1;if(!ie(t)){const _=b=>{m=!0;const[E,T]=k_(b,e,!0);cn(f,E),T&&d.push(...T)};!s&&e.mixins.length&&e.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}if(!l&&!m)return Be(t)&&a.set(t,Ho),Ho;if(Jt(l))for(let _=0;_<l.length;_++){const b=ci(l[_]);Zd(b)&&(f[b]=we)}else if(l)for(const _ in l){const b=ci(_);if(Zd(b)){const E=l[_],T=f[b]=Jt(E)||ie(E)?{type:E}:cn({},E),I=T.type;let O=!1,B=!0;if(Jt(I))for(let P=0;P<I.length;++P){const R=I[P],D=ie(R)&&R.name;if(D==="Boolean"){O=!0;break}else D==="String"&&(B=!1)}else O=ie(I)&&I.name==="Boolean";T[0]=O,T[1]=B,(O||Ce(T,"default"))&&d.push(b)}}const v=[f,d];return Be(t)&&a.set(t,v),v}function Zd(t){return t[0]!=="$"&&!ol(t)}const x_=t=>t[0]==="_"||t==="$stable",Vf=t=>Jt(t)?t.map(sr):[sr(t)],Pb=(t,e,s)=>{if(e._n)return e;const a=ee((...i)=>Vf(e(...i)),s);return a._c=!1,a},T_=(t,e,s)=>{const a=t._ctx;for(const i in t){if(x_(i))continue;const l=t[i];if(ie(l))e[i]=Pb(i,l,a);else if(l!=null){const f=Vf(l);e[i]=()=>f}}},C_=(t,e)=>{const s=Vf(e);t.slots.default=()=>s},S_=(t,e,s)=>{for(const a in e)(s||a!=="_")&&(t[a]=e[a])},Nb=(t,e,s)=>{const a=t.slots=w_();if(t.vnode.shapeFlag&32){const i=e._;i?(S_(a,e,s),s&&Eg(a,"_",i,!0)):T_(e,a)}else e&&C_(t,e)},Ob=(t,e,s)=>{const{vnode:a,slots:i}=t;let l=!0,f=we;if(a.shapeFlag&32){const d=e._;d?s&&d===1?l=!1:S_(i,e,s):(l=!e.$stable,T_(e,i)),f=e}else e&&(C_(t,e),f={default:1});if(l)for(const d in i)!x_(d)&&f[d]==null&&delete i[d]},Fn=Wb;function Mb(t){return Ab(t)}function Ab(t,e){const s=xc();s.__VUE__=!0;const{insert:a,remove:i,patchProp:l,createElement:f,createText:d,createComment:m,setText:v,setElementText:_,parentNode:b,nextSibling:E,setScopeId:T=ar,insertStaticContent:I}=t,O=(C,V,K,ct=null,gt=null,pt=null,z=void 0,N=null,Q=!!V.dynamicChildren)=>{if(C===V)return;C&&!Js(C,V)&&(ct=rt(C),Ut(C,gt,pt,!0),C=null),V.patchFlag===-2&&(Q=!1,V.dynamicChildren=null);const{type:at,ref:Dt,shapeFlag:kt}=V;switch(at){case $l:B(C,V,K,ct);break;case Un:P(C,V,K,ct);break;case wh:C==null&&R(V,K,ct,z);break;case ce:et(C,V,K,ct,gt,pt,z,N,Q);break;default:kt&1?H(C,V,K,ct,gt,pt,z,N,Q):kt&6?tt(C,V,K,ct,gt,pt,z,N,Q):(kt&64||kt&128)&&at.process(C,V,K,ct,gt,pt,z,N,Q,St)}Dt!=null&&gt&&Ku(Dt,C&&C.ref,pt,V||C,!V)},B=(C,V,K,ct)=>{if(C==null)a(V.el=d(V.children),K,ct);else{const gt=V.el=C.el;V.children!==C.children&&v(gt,V.children)}},P=(C,V,K,ct)=>{C==null?a(V.el=m(V.children||""),K,ct):V.el=C.el},R=(C,V,K,ct)=>{[C.el,C.anchor]=I(C.children,V,K,ct,C.el,C.anchor)},D=({el:C,anchor:V},K,ct)=>{let gt;for(;C&&C!==V;)gt=E(C),a(C,K,ct),C=gt;a(V,K,ct)},F=({el:C,anchor:V})=>{let K;for(;C&&C!==V;)K=E(C),i(C),C=K;i(V)},H=(C,V,K,ct,gt,pt,z,N,Q)=>{V.type==="svg"?z="svg":V.type==="math"&&(z="mathml"),C==null?q(V,K,ct,gt,pt,z,N,Q):X(C,V,gt,pt,z,N,Q)},q=(C,V,K,ct,gt,pt,z,N)=>{let Q,at;const{props:Dt,shapeFlag:kt,transition:Y,dirs:ft}=C;if(Q=C.el=f(C.type,pt,Dt&&Dt.is,Dt),kt&8?_(Q,C.children):kt&16&&it(C.children,Q,null,ct,gt,bh(C,pt),z,N),ft&&Vs(C,null,ct,"created"),$(Q,C,C.scopeId,z,ct),Dt){for(const Qt in Dt)Qt!=="value"&&!ol(Qt)&&l(Q,Qt,null,Dt[Qt],pt,ct);"value"in Dt&&l(Q,"value",null,Dt.value,pt),(at=Dt.onVnodeBeforeMount)&&tr(at,ct,C)}ft&&Vs(C,null,ct,"beforeMount");const Gt=Rb(gt,Y);Gt&&Y.beforeEnter(Q),a(Q,V,K),((at=Dt&&Dt.onVnodeMounted)||Gt||ft)&&Fn(()=>{at&&tr(at,ct,C),Gt&&Y.enter(Q),ft&&Vs(C,null,ct,"mounted")},gt)},$=(C,V,K,ct,gt)=>{if(K&&T(C,K),ct)for(let pt=0;pt<ct.length;pt++)T(C,ct[pt]);if(gt){let pt=gt.subTree;if(V===pt||M_(pt.type)&&(pt.ssContent===V||pt.ssFallback===V)){const z=gt.vnode;$(C,z,z.scopeId,z.slotScopeIds,gt.parent)}}},it=(C,V,K,ct,gt,pt,z,N,Q=0)=>{for(let at=Q;at<C.length;at++){const Dt=C[at]=N?os(C[at]):sr(C[at]);O(null,Dt,V,K,ct,gt,pt,z,N)}},X=(C,V,K,ct,gt,pt,z)=>{const N=V.el=C.el;let{patchFlag:Q,dynamicChildren:at,dirs:Dt}=V;Q|=C.patchFlag&16;const kt=C.props||we,Y=V.props||we;let ft;if(K&&Hs(K,!1),(ft=Y.onVnodeBeforeUpdate)&&tr(ft,K,V,C),Dt&&Vs(V,C,K,"beforeUpdate"),K&&Hs(K,!0),(kt.innerHTML&&Y.innerHTML==null||kt.textContent&&Y.textContent==null)&&_(N,""),at?J(C.dynamicChildren,at,N,K,ct,bh(V,gt),pt):z||dt(C,V,N,null,K,ct,bh(V,gt),pt,!1),Q>0){if(Q&16)_t(N,kt,Y,K,gt);else if(Q&2&&kt.class!==Y.class&&l(N,"class",null,Y.class,gt),Q&4&&l(N,"style",kt.style,Y.style,gt),Q&8){const Gt=V.dynamicProps;for(let Qt=0;Qt<Gt.length;Qt++){const Ot=Gt[Qt],Ve=kt[Ot],jt=Y[Ot];(jt!==Ve||Ot==="value")&&l(N,Ot,Ve,jt,gt,K)}}Q&1&&C.children!==V.children&&_(N,V.children)}else!z&&at==null&&_t(N,kt,Y,K,gt);((ft=Y.onVnodeUpdated)||Dt)&&Fn(()=>{ft&&tr(ft,K,V,C),Dt&&Vs(V,C,K,"updated")},ct)},J=(C,V,K,ct,gt,pt,z)=>{for(let N=0;N<V.length;N++){const Q=C[N],at=V[N],Dt=Q.el&&(Q.type===ce||!Js(Q,at)||Q.shapeFlag&70)?b(Q.el):K;O(Q,at,Dt,null,ct,gt,pt,z,!0)}},_t=(C,V,K,ct,gt)=>{if(V!==K){if(V!==we)for(const pt in V)!ol(pt)&&!(pt in K)&&l(C,pt,V[pt],null,gt,ct);for(const pt in K){if(ol(pt))continue;const z=K[pt],N=V[pt];z!==N&&pt!=="value"&&l(C,pt,N,z,gt,ct)}"value"in K&&l(C,"value",V.value,K.value,gt)}},et=(C,V,K,ct,gt,pt,z,N,Q)=>{const at=V.el=C?C.el:d(""),Dt=V.anchor=C?C.anchor:d("");let{patchFlag:kt,dynamicChildren:Y,slotScopeIds:ft}=V;ft&&(N=N?N.concat(ft):ft),C==null?(a(at,K,ct),a(Dt,K,ct),it(V.children||[],K,Dt,gt,pt,z,N,Q)):kt>0&&kt&64&&Y&&C.dynamicChildren?(J(C.dynamicChildren,Y,K,gt,pt,z,N),(V.key!=null||gt&&V===gt.subTree)&&Hf(C,V,!0)):dt(C,V,K,Dt,gt,pt,z,N,Q)},tt=(C,V,K,ct,gt,pt,z,N,Q)=>{V.slotScopeIds=N,C==null?V.shapeFlag&512?gt.ctx.activate(V,K,ct,z,Q):j(V,K,ct,gt,pt,z,Q):vt(C,V,Q)},j=(C,V,K,ct,gt,pt,z)=>{const N=C.component=Kb(C,ct,gt);if(Nc(C)&&(N.ctx.renderer=St),Jb(N,!1,z),N.asyncDep){if(gt&&gt.registerDep(N,yt,z),!C.el){const Q=N.subTree=$t(Un);P(null,Q,V,K)}}else yt(N,C,V,K,gt,pt,z)},vt=(C,V,K)=>{const ct=V.component=C.component;if(Hb(C,V,K))if(ct.asyncDep&&!ct.asyncResolved){bt(ct,V,K);return}else ct.next=V,ct.update();else V.el=C.el,ct.vnode=V},yt=(C,V,K,ct,gt,pt,z)=>{const N=()=>{if(C.isMounted){let{next:kt,bu:Y,u:ft,parent:Gt,vnode:Qt}=C;{const Pn=I_(C);if(Pn){kt&&(kt.el=Qt.el,bt(C,kt,z)),Pn.asyncDep.then(()=>{C.isUnmounted||N()});return}}let Ot=kt,Ve;Hs(C,!1),kt?(kt.el=Qt.el,bt(C,kt,z)):kt=Qt,Y&&Nu(Y),(Ve=kt.props&&kt.props.onVnodeBeforeUpdate)&&tr(Ve,Gt,kt,Qt),Hs(C,!0);const jt=jd(C),Yt=C.subTree;C.subTree=jt,O(Yt,jt,b(Yt.el),rt(Yt),C,gt,pt),kt.el=jt.el,Ot===null&&qb(C,jt.el),ft&&Fn(ft,gt),(Ve=kt.props&&kt.props.onVnodeUpdated)&&Fn(()=>tr(Ve,Gt,kt,Qt),gt)}else{let kt;const{el:Y,props:ft}=V,{bm:Gt,m:Qt,parent:Ot,root:Ve,type:jt}=C,Yt=Yo(V);Hs(C,!1),Gt&&Nu(Gt),!Yt&&(kt=ft&&ft.onVnodeBeforeMount)&&tr(kt,Ot,V),Hs(C,!0);{Ve.ce&&Ve.ce._injectChildStyle(jt);const Pn=C.subTree=jd(C);O(null,Pn,K,ct,C,gt,pt),V.el=Pn.el}if(Qt&&Fn(Qt,gt),!Yt&&(kt=ft&&ft.onVnodeMounted)){const Pn=V;Fn(()=>tr(kt,Ot,Pn),gt)}(V.shapeFlag&256||Ot&&Yo(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&C.a&&Fn(C.a,gt),C.isMounted=!0,V=K=ct=null}};C.scope.on();const Q=C.effect=new Ig(N);C.scope.off();const at=C.update=Q.run.bind(Q),Dt=C.job=Q.runIfDirty.bind(Q);Dt.i=C,Dt.id=C.uid,Q.scheduler=()=>Uf(Dt),Hs(C,!0),at()},bt=(C,V,K)=>{V.component=C;const ct=C.vnode.props;C.vnode=V,C.next=null,Sb(C,V.props,ct,K),Ob(C,V.children,K),vs(),Fd(C),ys()},dt=(C,V,K,ct,gt,pt,z,N,Q=!1)=>{const at=C&&C.children,Dt=C?C.shapeFlag:0,kt=V.children,{patchFlag:Y,shapeFlag:ft}=V;if(Y>0){if(Y&128){ut(at,kt,K,ct,gt,pt,z,N,Q);return}else if(Y&256){Nt(at,kt,K,ct,gt,pt,z,N,Q);return}}ft&8?(Dt&16&&Tt(at,gt,pt),kt!==at&&_(K,kt)):Dt&16?ft&16?ut(at,kt,K,ct,gt,pt,z,N,Q):Tt(at,gt,pt,!0):(Dt&8&&_(K,""),ft&16&&it(kt,K,ct,gt,pt,z,N,Q))},Nt=(C,V,K,ct,gt,pt,z,N,Q)=>{C=C||Ho,V=V||Ho;const at=C.length,Dt=V.length,kt=Math.min(at,Dt);let Y;for(Y=0;Y<kt;Y++){const ft=V[Y]=Q?os(V[Y]):sr(V[Y]);O(C[Y],ft,K,null,gt,pt,z,N,Q)}at>Dt?Tt(C,gt,pt,!0,!1,kt):it(V,K,ct,gt,pt,z,N,Q,kt)},ut=(C,V,K,ct,gt,pt,z,N,Q)=>{let at=0;const Dt=V.length;let kt=C.length-1,Y=Dt-1;for(;at<=kt&&at<=Y;){const ft=C[at],Gt=V[at]=Q?os(V[at]):sr(V[at]);if(Js(ft,Gt))O(ft,Gt,K,null,gt,pt,z,N,Q);else break;at++}for(;at<=kt&&at<=Y;){const ft=C[kt],Gt=V[Y]=Q?os(V[Y]):sr(V[Y]);if(Js(ft,Gt))O(ft,Gt,K,null,gt,pt,z,N,Q);else break;kt--,Y--}if(at>kt){if(at<=Y){const ft=Y+1,Gt=ft<Dt?V[ft].el:ct;for(;at<=Y;)O(null,V[at]=Q?os(V[at]):sr(V[at]),K,Gt,gt,pt,z,N,Q),at++}}else if(at>Y)for(;at<=kt;)Ut(C[at],gt,pt,!0),at++;else{const ft=at,Gt=at,Qt=new Map;for(at=Gt;at<=Y;at++){const qt=V[at]=Q?os(V[at]):sr(V[at]);qt.key!=null&&Qt.set(qt.key,at)}let Ot,Ve=0;const jt=Y-Gt+1;let Yt=!1,Pn=0;const fn=new Array(jt);for(at=0;at<jt;at++)fn[at]=0;for(at=ft;at<=kt;at++){const qt=C[at];if(Ve>=jt){Ut(qt,gt,pt,!0);continue}let Zn;if(qt.key!=null)Zn=Qt.get(qt.key);else for(Ot=Gt;Ot<=Y;Ot++)if(fn[Ot-Gt]===0&&Js(qt,V[Ot])){Zn=Ot;break}Zn===void 0?Ut(qt,gt,pt,!0):(fn[Zn-Gt]=at+1,Zn>=Pn?Pn=Zn:Yt=!0,O(qt,V[Zn],K,null,gt,pt,z,N,Q),Ve++)}const Gr=Yt?Db(fn):Ho;for(Ot=Gr.length-1,at=jt-1;at>=0;at--){const qt=Gt+at,Zn=V[qt],qi=qt+1<Dt?V[qt+1].el:ct;fn[at]===0?O(null,Zn,K,qi,gt,pt,z,N,Q):Yt&&(Ot<0||at!==Gr[Ot]?At(Zn,K,qi,2):Ot--)}}},At=(C,V,K,ct,gt=null)=>{const{el:pt,type:z,transition:N,children:Q,shapeFlag:at}=C;if(at&6){At(C.component.subTree,V,K,ct);return}if(at&128){C.suspense.move(V,K,ct);return}if(at&64){z.move(C,V,K,St);return}if(z===ce){a(pt,V,K);for(let kt=0;kt<Q.length;kt++)At(Q[kt],V,K,ct);a(C.anchor,V,K);return}if(z===wh){D(C,V,K);return}if(ct!==2&&at&1&&N)if(ct===0)N.beforeEnter(pt),a(pt,V,K),Fn(()=>N.enter(pt),gt);else{const{leave:kt,delayLeave:Y,afterLeave:ft}=N,Gt=()=>a(pt,V,K),Qt=()=>{kt(pt,()=>{Gt(),ft&&ft()})};Y?Y(pt,Gt,Qt):Qt()}else a(pt,V,K)},Ut=(C,V,K,ct=!1,gt=!1)=>{const{type:pt,props:z,ref:N,children:Q,dynamicChildren:at,shapeFlag:Dt,patchFlag:kt,dirs:Y,cacheIndex:ft}=C;if(kt===-2&&(gt=!1),N!=null&&Ku(N,null,K,C,!0),ft!=null&&(V.renderCache[ft]=void 0),Dt&256){V.ctx.deactivate(C);return}const Gt=Dt&1&&Y,Qt=!Yo(C);let Ot;if(Qt&&(Ot=z&&z.onVnodeBeforeUnmount)&&tr(Ot,V,C),Dt&6)Lt(C.component,K,ct);else{if(Dt&128){C.suspense.unmount(K,ct);return}Gt&&Vs(C,null,V,"beforeUnmount"),Dt&64?C.type.remove(C,V,K,St,ct):at&&!at.hasOnce&&(pt!==ce||kt>0&&kt&64)?Tt(at,V,K,!1,!0):(pt===ce&&kt&384||!gt&&Dt&16)&&Tt(Q,V,K),ct&&Mt(C)}(Qt&&(Ot=z&&z.onVnodeUnmounted)||Gt)&&Fn(()=>{Ot&&tr(Ot,V,C),Gt&&Vs(C,null,V,"unmounted")},K)},Mt=C=>{const{type:V,el:K,anchor:ct,transition:gt}=C;if(V===ce){Pt(K,ct);return}if(V===wh){F(C);return}const pt=()=>{i(K),gt&&!gt.persisted&&gt.afterLeave&&gt.afterLeave()};if(C.shapeFlag&1&&gt&&!gt.persisted){const{leave:z,delayLeave:N}=gt,Q=()=>z(K,pt);N?N(C.el,pt,Q):Q()}else pt()},Pt=(C,V)=>{let K;for(;C!==V;)K=E(C),i(C),C=K;i(V)},Lt=(C,V,K)=>{const{bum:ct,scope:gt,job:pt,subTree:z,um:N,m:Q,a:at}=C;Yd(Q),Yd(at),ct&&Nu(ct),gt.stop(),pt&&(pt.flags|=8,Ut(z,C,V,K)),N&&Fn(N,V),Fn(()=>{C.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},Tt=(C,V,K,ct=!1,gt=!1,pt=0)=>{for(let z=pt;z<C.length;z++)Ut(C[z],V,K,ct,gt)},rt=C=>{if(C.shapeFlag&6)return rt(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const V=E(C.anchor||C.el),K=V&&V[t_];return K?E(K):V};let G=!1;const Et=(C,V,K)=>{C==null?V._vnode&&Ut(V._vnode,null,null,!0):O(V._vnode||null,C,V,null,null,null,K),V._vnode=C,G||(G=!0,Fd(),Kg(),G=!1)},St={p:O,um:Ut,m:At,r:Mt,mt:j,mc:it,pc:dt,pbc:J,n:rt,o:t};return{render:Et,hydrate:void 0,createApp:Tb(Et)}}function bh({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Hs({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Rb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Hf(t,e,s=!1){const a=t.children,i=e.children;if(Jt(a)&&Jt(i))for(let l=0;l<a.length;l++){const f=a[l];let d=i[l];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=i[l]=os(i[l]),d.el=f.el),!s&&d.patchFlag!==-2&&Hf(f,d)),d.type===$l&&(d.el=f.el)}}function Db(t){const e=t.slice(),s=[0];let a,i,l,f,d;const m=t.length;for(a=0;a<m;a++){const v=t[a];if(v!==0){if(i=s[s.length-1],t[i]<v){e[a]=i,s.push(a);continue}for(l=0,f=s.length-1;l<f;)d=l+f>>1,t[s[d]]<v?l=d+1:f=d;v<t[s[l]]&&(l>0&&(e[a]=s[l-1]),s[l]=a)}}for(l=s.length,f=s[l-1];l-- >0;)s[l]=f,f=e[f];return s}function I_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:I_(e)}function Yd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Bb=Symbol.for("v-scx"),Fb=()=>rn(Bb);function hl(t,e){return Ac(t,null,e)}function zb(t,e){return Ac(t,null,{flush:"sync"})}function ne(t,e,s){return Ac(t,e,s)}function Ac(t,e,s=we){const{immediate:a,deep:i,flush:l,once:f}=s,d=cn({},s),m=e&&a||!e&&l!=="post";let v;if(kl){if(l==="sync"){const T=Fb();v=T.__watcherHandles||(T.__watcherHandles=[])}else if(!m){const T=()=>{};return T.stop=ar,T.resume=ar,T.pause=ar,T}}const _=xn;d.call=(T,I,O)=>Fi(T,_,I,O);let b=!1;l==="post"?d.scheduler=T=>{Fn(T,_&&_.suspense)}:l!=="sync"&&(b=!0,d.scheduler=(T,I)=>{I?T():Uf(T)}),d.augmentJob=T=>{e&&(T.flags|=4),b&&(T.flags|=2,_&&(T.id=_.uid,T.i=_))};const E=J0(t,e,d);return kl&&(v?v.push(E):m&&E()),E}function $b(t,e,s){const a=this.proxy,i=We(t)?t.includes(".")?P_(a,t):()=>a[t]:t.bind(a,a);let l;ie(e)?l=e:(l=e.handler,s=e);const f=Ul(this),d=Ac(i,l.bind(a),s);return f(),d}function P_(t,e){const s=e.split(".");return()=>{let a=t;for(let i=0;i<s.length&&a;i++)a=a[s[i]];return a}}function Br(t,e,s=we){const a=ei(),i=ci(e),l=_s(e),f=N_(t,i),d=Yg((m,v)=>{let _,b=we,E;return zb(()=>{const T=t[i];Jn(_,T)&&(_=T,v())}),{get(){return m(),s.get?s.get(_):_},set(T){const I=s.set?s.set(T):T;if(!Jn(I,_)&&!(b!==we&&Jn(T,b)))return;const O=a.vnode.props;O&&(e in O||i in O||l in O)&&(`onUpdate:${e}`in O||`onUpdate:${i}`in O||`onUpdate:${l}`in O)||(_=T,v()),a.emit(`update:${e}`,I),Jn(T,I)&&Jn(T,b)&&!Jn(I,E)&&v(),b=T,E=I}}});return d[Symbol.iterator]=()=>{let m=0;return{next(){return m<2?{value:m++?f||we:d,done:!1}:{done:!0}}}},d}const N_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ci(e)}Modifiers`]||t[`${_s(e)}Modifiers`];function Ub(t,e,...s){if(t.isUnmounted)return;const a=t.vnode.props||we;let i=s;const l=e.startsWith("update:"),f=l&&N_(a,e.slice(7));f&&(f.trim&&(i=s.map(_=>We(_)?_.trim():_)),f.number&&(i=s.map(qu)));let d,m=a[d=dh(e)]||a[d=dh(ci(e))];!m&&l&&(m=a[d=dh(_s(e))]),m&&Fi(m,t,6,i);const v=a[d+"Once"];if(v){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,Fi(v,t,6,i)}}function O_(t,e,s=!1){const a=e.emitsCache,i=a.get(t);if(i!==void 0)return i;const l=t.emits;let f={},d=!1;if(!ie(t)){const m=v=>{const _=O_(v,e,!0);_&&(d=!0,cn(f,_))};!s&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}return!l&&!d?(Be(t)&&a.set(t,null),null):(Jt(l)?l.forEach(m=>f[m]=null):cn(f,l),Be(t)&&a.set(t,f),f)}function Rc(t,e){return!t||!Lc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ce(t,e[0].toLowerCase()+e.slice(1))||Ce(t,_s(e))||Ce(t,e))}function jd(t){const{type:e,vnode:s,proxy:a,withProxy:i,propsOptions:[l],slots:f,attrs:d,emit:m,render:v,renderCache:_,props:b,data:E,setupState:T,ctx:I,inheritAttrs:O}=t,B=Xu(t);let P,R;try{if(s.shapeFlag&4){const F=i||a,H=F;P=sr(v.call(H,F,_,b,T,E,I)),R=d}else{const F=e;P=sr(F.length>1?F(b,{attrs:d,slots:f,emit:m}):F(b,null)),R=e.props?d:Gb(d)}}catch(F){fl.length=0,Pc(F,t,1),P=$t(Un)}let D=P;if(R&&O!==!1){const F=Object.keys(R),{shapeFlag:H}=D;F.length&&H&7&&(l&&F.some(Of)&&(R=Vb(R,l)),D=Fr(D,R,!1,!0))}return s.dirs&&(D=Fr(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Ll(D,s.transition),P=D,Xu(B),P}const Gb=t=>{let e;for(const s in t)(s==="class"||s==="style"||Lc(s))&&((e||(e={}))[s]=t[s]);return e},Vb=(t,e)=>{const s={};for(const a in t)(!Of(a)||!(a.slice(9)in e))&&(s[a]=t[a]);return s};function Hb(t,e,s){const{props:a,children:i,component:l}=t,{props:f,children:d,patchFlag:m}=e,v=l.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return a?Xd(a,f,v):!!f;if(m&8){const _=e.dynamicProps;for(let b=0;b<_.length;b++){const E=_[b];if(f[E]!==a[E]&&!Rc(v,E))return!0}}}else return(i||d)&&(!d||!d.$stable)?!0:a===f?!1:a?f?Xd(a,f,v):!0:!!f;return!1}function Xd(t,e,s){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let i=0;i<a.length;i++){const l=a[i];if(e[l]!==t[l]&&!Rc(s,l))return!0}return!1}function qb({vnode:t,parent:e},s){for(;e;){const a=e.subTree;if(a.suspense&&a.suspense.activeBranch===t&&(a.el=t.el),a===t)(t=e.vnode).el=s,e=e.parent;else break}}const M_=t=>t.__isSuspense;function Wb(t,e){e&&e.pendingBranch?Jt(t)?e.effects.push(...t):e.effects.push(t):eb(t)}const ce=Symbol.for("v-fgt"),$l=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),wh=Symbol.for("v-stc"),fl=[];let li=null;function wt(t=!1){fl.push(li=t?null:[])}function Zb(){fl.pop(),li=fl[fl.length-1]||null}let El=1;function Kd(t,e=!1){El+=t,t<0&&li&&e&&(li.hasOnce=!0)}function A_(t){return t.dynamicChildren=El>0?li||Ho:null,Zb(),El>0&&li&&li.push(t),t}function zt(t,e,s,a,i,l){return A_(mt(t,e,s,a,i,l,!0))}function ge(t,e,s,a,i){return A_($t(t,e,s,a,i,!0))}function ro(t){return t?t.__v_isVNode===!0:!1}function Js(t,e){return t.type===e.type&&t.key===e.key}const R_=({key:t})=>t??null,Mu=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||qe(t)||ie(t)?{i:vn,r:t,k:e,f:!!s}:t:null);function mt(t,e=null,s=null,a=0,i=null,l=t===ce?0:1,f=!1,d=!1){const m={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&R_(e),ref:e&&Mu(e),scopeId:Qg,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:vn};return d?(qf(m,s),l&128&&t.normalize(m)):s&&(m.shapeFlag|=We(s)?8:16),El>0&&!f&&li&&(m.patchFlag>0||l&6)&&m.patchFlag!==32&&li.push(m),m}const $t=Yb;function Yb(t,e=null,s=null,a=0,i=null,l=!1){if((!t||t===d_)&&(t=Un),ro(t)){const d=Fr(t,e,!0);return s&&qf(d,s),El>0&&!l&&li&&(d.shapeFlag&6?li[li.indexOf(t)]=d:li.push(d)),d.patchFlag=-2,d}if(nw(t)&&(t=t.__vccOpts),e){e=rr(e);let{class:d,style:m}=e;d&&!We(d)&&(e.class=Re(d)),Be(m)&&($f(m)&&!Jt(m)&&(m=cn({},m)),e.style=Dr(m))}const f=We(t)?1:M_(t)?128:e_(t)?64:Be(t)?4:ie(t)?2:0;return mt(t,e,s,a,i,f,l,!0)}function rr(t){return t?$f(t)||L_(t)?cn({},t):t:null}function Fr(t,e,s=!1,a=!1){const{props:i,ref:l,patchFlag:f,children:d,transition:m}=t,v=e?ye(i||{},e):i,_={__v_isVNode:!0,__v_skip:!0,type:t.type,props:v,key:v&&R_(v),ref:e&&e.ref?s&&l?Jt(l)?l.concat(Mu(e)):[l,Mu(e)]:Mu(e):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:d,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ce?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:m,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fr(t.ssContent),ssFallback:t.ssFallback&&Fr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return m&&a&&Ll(_,m.clone(_)),_}function ve(t=" ",e=0){return $t($l,null,t,e)}function Se(t="",e=!1){return e?(wt(),ge(Un,null,t)):$t(Un,null,t)}function sr(t){return t==null||typeof t=="boolean"?$t(Un):Jt(t)?$t(ce,null,t.slice()):ro(t)?os(t):$t($l,null,String(t))}function os(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fr(t)}function qf(t,e){let s=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(Jt(e))s=16;else if(typeof e=="object")if(a&65){const i=e.default;i&&(i._c&&(i._d=!1),qf(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!L_(e)?e._ctx=vn:i===3&&vn&&(vn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ie(e)?(e={default:e,_ctx:vn},s=32):(e=String(e),a&64?(s=16,e=[ve(e)]):s=8);t.children=e,t.shapeFlag|=s}function ye(...t){const e={};for(let s=0;s<t.length;s++){const a=t[s];for(const i in a)if(i==="class")e.class!==a.class&&(e.class=Re([e.class,a.class]));else if(i==="style")e.style=Dr([e.style,a.style]);else if(Lc(i)){const l=e[i],f=a[i];f&&l!==f&&!(Jt(l)&&l.includes(f))&&(e[i]=l?[].concat(l,f):f)}else i!==""&&(e[i]=a[i])}return e}function tr(t,e,s,a=null){Fi(t,e,7,[s,a])}const jb=y_();let Xb=0;function Kb(t,e,s){const a=t.type,i=(e?e.appContext:t.appContext)||jb,l={uid:Xb++,vnode:t,type:a,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:k_(a,i),emitsOptions:O_(a,i),emit:null,emitted:null,propsDefaults:we,inheritAttrs:a.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=Ub.bind(null,l),t.ce&&t.ce(l),l}let xn=null;const ei=()=>xn||vn;let tc,Kh;{const t=xc(),e=(s,a)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(a),l=>{i.length>1?i.forEach(f=>f(l)):i[0](l)}};tc=e("__VUE_INSTANCE_SETTERS__",s=>xn=s),Kh=e("__VUE_SSR_SETTERS__",s=>kl=s)}const Ul=t=>{const e=xn;return tc(t),t.scope.on(),()=>{t.scope.off(),tc(e)}},Jd=()=>{xn&&xn.scope.off(),tc(null)};function D_(t){return t.vnode.shapeFlag&4}let kl=!1;function Jb(t,e=!1,s=!1){e&&Kh(e);const{props:a,children:i}=t.vnode,l=D_(t);Cb(t,a,l,e),Nb(t,i,s);const f=l?Qb(t,e):void 0;return e&&Kh(!1),f}function Qb(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,yb);const{setup:a}=s;if(a){vs();const i=t.setupContext=a.length>1?F_(t):null,l=Ul(t),f=Fl(a,t,0,[t.props,i]),d=bg(f);if(ys(),l(),(d||t.sp)&&!Yo(t)&&c_(t),d){if(f.then(Jd,Jd),e)return f.then(m=>{Qd(t,m)}).catch(m=>{Pc(m,t,0)});t.asyncDep=f}else Qd(t,f)}else B_(t)}function Qd(t,e,s){ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Be(e)&&(t.setupState=Zg(e)),B_(t)}function B_(t,e,s){const a=t.type;t.render||(t.render=a.render||ar);{const i=Ul(t);vs();try{bb(t)}finally{ys(),i()}}}const tw={get(t,e){return Cn(t,"get",""),t[e]}};function F_(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,tw),slots:t.slots,emit:t.emit,expose:e}}function Dc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zg(us(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in cl)return cl[s](t)},has(e,s){return s in e||s in cl}})):t.proxy}function ew(t,e=!0){return ie(t)?t.displayName||t.name:t.name||e&&t.__name}function nw(t){return ie(t)&&"__vccOpts"in t}const lt=(t,e)=>X0(t,e,kl);function Mi(t,e,s){const a=arguments.length;return a===2?Be(e)&&!Jt(e)?ro(e)?$t(t,null,[e]):$t(t,e):$t(t,null,e):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&ro(s)&&(s=[s]),$t(t,e,s))}const iw="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jh;const tp=typeof window<"u"&&window.trustedTypes;if(tp)try{Jh=tp.createPolicy("vue",{createHTML:t=>t})}catch{}const z_=Jh?t=>Jh.createHTML(t):t=>t,rw="http://www.w3.org/2000/svg",sw="http://www.w3.org/1998/Math/MathML",Sr=typeof document<"u"?document:null,ep=Sr&&Sr.createElement("template"),ow={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,a)=>{const i=e==="svg"?Sr.createElementNS(rw,t):e==="mathml"?Sr.createElementNS(sw,t):s?Sr.createElement(t,{is:s}):Sr.createElement(t);return t==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:t=>Sr.createTextNode(t),createComment:t=>Sr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Sr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,a,i,l){const f=s?s.previousSibling:e.lastChild;if(i&&(i===l||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===l||!(i=i.nextSibling)););else{ep.innerHTML=z_(a==="svg"?`<svg>${t}</svg>`:a==="mathml"?`<math>${t}</math>`:t);const d=ep.content;if(a==="svg"||a==="mathml"){const m=d.firstChild;for(;m.firstChild;)d.appendChild(m.firstChild);d.removeChild(m)}e.insertBefore(d,s)}return[f?f.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ts="transition",Ya="animation",xl=Symbol("_vtc"),$_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},aw=cn({},r_,$_),lw=t=>(t.displayName="Transition",t.props=aw,t),Tl=lw((t,{slots:e})=>Mi(ob,uw(t),e)),qs=(t,e=[])=>{Jt(t)?t.forEach(s=>s(...e)):t&&t(...e)},np=t=>t?Jt(t)?t.some(e=>e.length>1):t.length>1:!1;function uw(t){const e={};for(const et in t)et in $_||(e[et]=t[et]);if(t.css===!1)return e;const{name:s="v",type:a,duration:i,enterFromClass:l=`${s}-enter-from`,enterActiveClass:f=`${s}-enter-active`,enterToClass:d=`${s}-enter-to`,appearFromClass:m=l,appearActiveClass:v=f,appearToClass:_=d,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:E=`${s}-leave-active`,leaveToClass:T=`${s}-leave-to`}=t,I=cw(i),O=I&&I[0],B=I&&I[1],{onBeforeEnter:P,onEnter:R,onEnterCancelled:D,onLeave:F,onLeaveCancelled:H,onBeforeAppear:q=P,onAppear:$=R,onAppearCancelled:it=D}=e,X=(et,tt,j,vt)=>{et._enterCancelled=vt,Ws(et,tt?_:d),Ws(et,tt?v:f),j&&j()},J=(et,tt)=>{et._isLeaving=!1,Ws(et,b),Ws(et,T),Ws(et,E),tt&&tt()},_t=et=>(tt,j)=>{const vt=et?$:R,yt=()=>X(tt,et,j);qs(vt,[tt,yt]),ip(()=>{Ws(tt,et?m:l),kr(tt,et?_:d),np(vt)||rp(tt,a,O,yt)})};return cn(e,{onBeforeEnter(et){qs(P,[et]),kr(et,l),kr(et,f)},onBeforeAppear(et){qs(q,[et]),kr(et,m),kr(et,v)},onEnter:_t(!1),onAppear:_t(!0),onLeave(et,tt){et._isLeaving=!0;const j=()=>J(et,tt);kr(et,b),et._enterCancelled?(kr(et,E),ap()):(ap(),kr(et,E)),ip(()=>{et._isLeaving&&(Ws(et,b),kr(et,T),np(F)||rp(et,a,B,j))}),qs(F,[et,j])},onEnterCancelled(et){X(et,!1,void 0,!0),qs(D,[et])},onAppearCancelled(et){X(et,!0,void 0,!0),qs(it,[et])},onLeaveCancelled(et){J(et),qs(H,[et])}})}function cw(t){if(t==null)return null;if(Be(t))return[Lh(t.enter),Lh(t.leave)];{const e=Lh(t);return[e,e]}}function Lh(t){return g0(t)}function kr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[xl]||(t[xl]=new Set)).add(e)}function Ws(t,e){e.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const s=t[xl];s&&(s.delete(e),s.size||(t[xl]=void 0))}function ip(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let hw=0;function rp(t,e,s,a){const i=t._endId=++hw,l=()=>{i===t._endId&&a()};if(s!=null)return setTimeout(l,s);const{type:f,timeout:d,propCount:m}=fw(t,e);if(!f)return a();const v=f+"end";let _=0;const b=()=>{t.removeEventListener(v,E),l()},E=T=>{T.target===t&&++_>=m&&b()};setTimeout(()=>{_<m&&b()},d+1),t.addEventListener(v,E)}function fw(t,e){const s=window.getComputedStyle(t),a=I=>(s[I]||"").split(", "),i=a(`${ts}Delay`),l=a(`${ts}Duration`),f=sp(i,l),d=a(`${Ya}Delay`),m=a(`${Ya}Duration`),v=sp(d,m);let _=null,b=0,E=0;e===ts?f>0&&(_=ts,b=f,E=l.length):e===Ya?v>0&&(_=Ya,b=v,E=m.length):(b=Math.max(f,v),_=b>0?f>v?ts:Ya:null,E=_?_===ts?l.length:m.length:0);const T=_===ts&&/\b(transform|all)(,|$)/.test(a(`${ts}Property`).toString());return{type:_,timeout:b,propCount:E,hasTransform:T}}function sp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,a)=>op(s)+op(t[a])))}function op(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ap(){return document.body.offsetHeight}function dw(t,e,s){const a=t[xl];a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ec=Symbol("_vod"),U_=Symbol("_vsh"),Cl={beforeMount(t,{value:e},{transition:s}){t[ec]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):ja(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:a}){!e!=!s&&(a?e?(a.beforeEnter(t),ja(t,!0),a.enter(t)):a.leave(t,()=>{ja(t,!1)}):ja(t,e))},beforeUnmount(t,{value:e}){ja(t,e)}};function ja(t,e){t.style.display=e?t[ec]:"none",t[U_]=!e}const pw=Symbol(""),mw=/(^|;)\s*display\s*:/;function gw(t,e,s){const a=t.style,i=We(s);let l=!1;if(s&&!i){if(e)if(We(e))for(const f of e.split(";")){const d=f.slice(0,f.indexOf(":")).trim();s[d]==null&&Au(a,d,"")}else for(const f in e)s[f]==null&&Au(a,f,"");for(const f in s)f==="display"&&(l=!0),Au(a,f,s[f])}else if(i){if(e!==s){const f=a[pw];f&&(s+=";"+f),a.cssText=s,l=mw.test(s)}}else e&&t.removeAttribute("style");ec in t&&(t[ec]=l?a.display:"",t[U_]&&(a.display="none"))}const lp=/\s*!important$/;function Au(t,e,s){if(Jt(s))s.forEach(a=>Au(t,e,a));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const a=_w(t,e);lp.test(s)?t.setProperty(_s(a),s.replace(lp,""),"important"):t[a]=s}}const up=["Webkit","Moz","ms"],Eh={};function _w(t,e){const s=Eh[e];if(s)return s;let a=ci(e);if(a!=="filter"&&a in t)return Eh[e]=a;a=kc(a);for(let i=0;i<up.length;i++){const l=up[i]+a;if(l in t)return Eh[e]=l}return e}const cp="http://www.w3.org/1999/xlink";function hp(t,e,s,a,i,l=L0(e)){a&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(cp,e.slice(6,e.length)):t.setAttributeNS(cp,e,s):s==null||l&&!kg(s)?t.removeAttribute(e):t.setAttribute(e,l?"":Bi(s)?String(s):s)}function fp(t,e,s,a,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?z_(s):s);return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?t.getAttribute("value")||"":t.value,m=s==null?t.type==="checkbox"?"on":"":String(s);(d!==m||!("_value"in t))&&(t.value=m),s==null&&t.removeAttribute(e),t._value=s;return}let f=!1;if(s===""||s==null){const d=typeof t[e];d==="boolean"?s=kg(s):s==null&&d==="string"?(s="",f=!0):d==="number"&&(s=0,f=!0)}try{t[e]=s}catch{}f&&t.removeAttribute(i||e)}function Or(t,e,s,a){t.addEventListener(e,s,a)}function vw(t,e,s,a){t.removeEventListener(e,s,a)}const dp=Symbol("_vei");function yw(t,e,s,a,i=null){const l=t[dp]||(t[dp]={}),f=l[e];if(a&&f)f.value=a;else{const[d,m]=bw(e);if(a){const v=l[e]=Ew(a,i);Or(t,d,v,m)}else f&&(vw(t,d,f,m),l[e]=void 0)}}const pp=/(?:Once|Passive|Capture)$/;function bw(t){let e;if(pp.test(t)){e={};let a;for(;a=t.match(pp);)t=t.slice(0,t.length-a[0].length),e[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_s(t.slice(2)),e]}let kh=0;const ww=Promise.resolve(),Lw=()=>kh||(ww.then(()=>kh=0),kh=Date.now());function Ew(t,e){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Fi(kw(a,s.value),e,5,[a])};return s.value=t,s.attached=Lw(),s}function kw(t,e){if(Jt(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(a=>i=>!i._stopped&&a&&a(i))}else return e}const mp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,xw=(t,e,s,a,i,l)=>{const f=i==="svg";e==="class"?dw(t,a,f):e==="style"?gw(t,s,a):Lc(e)?Of(e)||yw(t,e,s,a,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tw(t,e,a,f))?(fp(t,e,a),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hp(t,e,a,f,l,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!We(a))?fp(t,ci(e),a,l,e):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),hp(t,e,a,f))};function Tw(t,e,s,a){if(a)return!!(e==="innerHTML"||e==="textContent"||e in t&&mp(e)&&ie(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return mp(e)&&We(s)?!1:e in t}const ds=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Jt(e)?s=>Nu(e,s):e};function Cw(t){t.target.composing=!0}function gp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ci=Symbol("_assign"),ps={created(t,{modifiers:{lazy:e,trim:s,number:a}},i){t[Ci]=ds(i);const l=a||i.props&&i.props.type==="number";Or(t,e?"change":"input",f=>{if(f.target.composing)return;let d=t.value;s&&(d=d.trim()),l&&(d=qu(d)),t[Ci](d)}),s&&Or(t,"change",()=>{t.value=t.value.trim()}),e||(Or(t,"compositionstart",Cw),Or(t,"compositionend",gp),Or(t,"change",gp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:a,trim:i,number:l}},f){if(t[Ci]=ds(f),t.composing)return;const d=(l||t.type==="number")&&!/^0\d/.test(t.value)?qu(t.value):t.value,m=e??"";d!==m&&(document.activeElement===t&&t.type!=="range"&&(a&&e===s||i&&t.value.trim()===m)||(t.value=m))}},G_={deep:!0,created(t,e,s){t[Ci]=ds(s),Or(t,"change",()=>{const a=t._modelValue,i=Jo(t),l=t.checked,f=t[Ci];if(Jt(a)){const d=Rf(a,i),m=d!==-1;if(l&&!m)f(a.concat(i));else if(!l&&m){const v=[...a];v.splice(d,1),f(v)}}else if(da(a)){const d=new Set(a);l?d.add(i):d.delete(i),f(d)}else f(V_(t,l))})},mounted:_p,beforeUpdate(t,e,s){t[Ci]=ds(s),_p(t,e,s)}};function _p(t,{value:e,oldValue:s},a){t._modelValue=e;let i;if(Jt(e))i=Rf(e,a.props.value)>-1;else if(da(e))i=e.has(a.props.value);else{if(e===s)return;i=no(e,V_(t,!0))}t.checked!==i&&(t.checked=i)}const Sw={created(t,{value:e},s){t.checked=no(e,s.props.value),t[Ci]=ds(s),Or(t,"change",()=>{t[Ci](Jo(t))})},beforeUpdate(t,{value:e,oldValue:s},a){t[Ci]=ds(a),e!==s&&(t.checked=no(e,a.props.value))}},so={deep:!0,created(t,{value:e,modifiers:{number:s}},a){const i=da(e);Or(t,"change",()=>{const l=Array.prototype.filter.call(t.options,f=>f.selected).map(f=>s?qu(Jo(f)):Jo(f));t[Ci](t.multiple?i?new Set(l):l:l[0]),t._assigning=!0,ti(()=>{t._assigning=!1})}),t[Ci]=ds(a)},mounted(t,{value:e}){vp(t,e)},beforeUpdate(t,e,s){t[Ci]=ds(s)},updated(t,{value:e}){t._assigning||vp(t,e)}};function vp(t,e){const s=t.multiple,a=Jt(e);if(!(s&&!a&&!da(e))){for(let i=0,l=t.options.length;i<l;i++){const f=t.options[i],d=Jo(f);if(s)if(a){const m=typeof d;m==="string"||m==="number"?f.selected=e.some(v=>String(v)===String(d)):f.selected=Rf(e,d)>-1}else f.selected=e.has(d);else if(no(Jo(f),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Jo(t){return"_value"in t?t._value:t.value}function V_(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Iw={created(t,e,s){_u(t,e,s,null,"created")},mounted(t,e,s){_u(t,e,s,null,"mounted")},beforeUpdate(t,e,s,a){_u(t,e,s,a,"beforeUpdate")},updated(t,e,s,a){_u(t,e,s,a,"updated")}};function Pw(t,e){switch(t){case"SELECT":return so;case"TEXTAREA":return ps;default:switch(e){case"checkbox":return G_;case"radio":return Sw;default:return ps}}}function _u(t,e,s,a,i){const f=Pw(t.tagName,s.props&&s.props.type)[i];f&&f(t,e,s,a)}const Nw=["ctrl","shift","alt","meta"],Ow={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Nw.some(s=>t[`${s}Key`]&&!e.includes(s))},H_=(t,e)=>{const s=t._withMods||(t._withMods={}),a=e.join(".");return s[a]||(s[a]=(i,...l)=>{for(let f=0;f<e.length;f++){const d=Ow[e[f]];if(d&&d(i,e))return}return t(i,...l)})},Mw=cn({patchProp:xw},ow);let yp;function Aw(){return yp||(yp=Mb(Mw))}const q_=(...t)=>{const e=Aw().createApp(...t),{mount:s}=e;return e.mount=a=>{const i=Dw(a);if(!i)return;const l=e._component;!ie(l)&&!l.render&&!l.template&&(l.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const f=s(i,!1,Rw(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),f},e};function Rw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Dw(t){return We(t)?document.querySelector(t):t}const W_="BootstrapVueNext__",Wf=(t,e="")=>{const s=`${e}___`;return`${W_}ID__${t}__${e?s:""}`},ma=t=>Wf(t),ws=t=>Wf(`${t}__plugin`),Bw=ma("checkboxGroup"),Z_=ma("collapse"),Bc=ws("globalShowHideStorage"),Fw=ma("dropdown"),Y_=ma("navbar"),zw=ws("rtl"),bp=`${W_}global_breadcrumb`,$w=ws("breadcrumbPlugin"),j_=ws("modalManager"),Ru=ws("defaults"),Uw=ma("inputGroup"),Gw=ma("buttonGroup"),Vw=ws("toast"),Hw=ws("modalController"),qw=ws("popover");function co(t){return Df()?(Wu(t),!0):!1}function X_(t){let e=0,s,a;const i=()=>{e-=1,a&&e<=0&&(a.stop(),s=void 0,a=void 0)};return(...l)=>(e+=1,a||(a=Sg(!0),s=a.run(()=>t(...l))),co(i),s)}const K_=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J_=t=>t!=null,Ww=Object.prototype.toString,Zw=t=>Ww.call(t)==="[object Object]",Ir=()=>{},Qh=Yw();function Yw(){var t,e;return K_&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function jw(...t){if(t.length!==1)return tn(...t);const e=t[0];return typeof e=="function"?Gn(Yg(()=>({get:e,set:Ir}))):Ft(e)}function Xw(t,e){function s(...a){return new Promise((i,l)=>{Promise.resolve(t(()=>e.apply(this,a),{fn:e,thisArg:this,args:a})).then(i).catch(l)})}return s}function Kw(...t){let e=0,s,a=!0,i=Ir,l,f,d,m,v;!qe(t[0])&&typeof t[0]=="object"?{delay:f,trailing:d=!0,leading:m=!0,rejectOnCancel:v=!1}=t[0]:[f,d=!0,m=!0,v=!1]=t;const _=()=>{s&&(clearTimeout(s),s=void 0,i(),i=Ir)};return E=>{const T=de(f),I=Date.now()-e,O=()=>l=E();return _(),T<=0?(e=Date.now(),O()):(I>T&&(m||!a)?(e=Date.now(),O()):d&&(l=new Promise((B,P)=>{i=v?P:B,s=setTimeout(()=>{e=Date.now(),a=!0,B(O()),_()},Math.max(0,T-I))})),!m&&!s&&(s=setTimeout(()=>a=!0,T)),a=!1,l)}}function dl(t){return Array.isArray(t)?t:[t]}function wp(t,e=200,s=!1,a=!0,i=!1){return Xw(Kw(e,s,a,i),t)}function Zf(t,e={}){const{method:s="parseFloat",radix:a,nanToZero:i}=e;return lt(()=>{let l=de(t);return typeof s=="function"?l=s(l):typeof l=="string"&&(l=Number[s](l,a)),i&&Number.isNaN(l)&&(l=0),l})}function Jw(t,e,s){return ne(t,e,{...s,immediate:!0})}const Gl=K_?window:void 0;function Mr(t){var e;const s=de(t);return(e=s==null?void 0:s.$el)!=null?e:s}function Qn(...t){const e=[],s=()=>{e.forEach(d=>d()),e.length=0},a=(d,m,v,_)=>(d.addEventListener(m,v,_),()=>d.removeEventListener(m,v,_)),i=lt(()=>{const d=dl(de(t[0])).filter(m=>m!=null);return d.every(m=>typeof m!="string")?d:void 0}),l=Jw(()=>{var d,m;return[(m=(d=i.value)==null?void 0:d.map(v=>Mr(v)))!=null?m:[Gl].filter(v=>v!=null),dl(de(i.value?t[1]:t[0])),dl(W(i.value?t[2]:t[1])),de(i.value?t[3]:t[2])]},([d,m,v,_])=>{if(s(),!(d!=null&&d.length)||!(m!=null&&m.length)||!(v!=null&&v.length))return;const b=Zw(_)?{..._}:_;e.push(...d.flatMap(E=>m.flatMap(T=>v.map(I=>a(E,T,I,b)))))},{flush:"post"}),f=()=>{l(),s()};return co(s),f}let Lp=!1;function Q_(t,e,s={}){const{window:a=Gl,ignore:i=[],capture:l=!0,detectIframe:f=!1,controls:d=!1}=s;if(!a)return d?{stop:Ir,cancel:Ir,trigger:Ir}:Ir;if(Qh&&!Lp){Lp=!0;const B={passive:!0};Array.from(a.document.body.children).forEach(P=>Qn(P,"click",Ir,B)),Qn(a.document.documentElement,"click",Ir,B)}let m=!0;const v=B=>de(i).some(P=>{if(typeof P=="string")return Array.from(a.document.querySelectorAll(P)).some(R=>R===B.target||B.composedPath().includes(R));{const R=Mr(P);return R&&(B.target===R||B.composedPath().includes(R))}});function _(B){const P=de(B);return P&&P.$.subTree.shapeFlag===16}function b(B,P){const R=de(B),D=R.$.subTree&&R.$.subTree.children;return D==null||!Array.isArray(D)?!1:D.some(F=>F.el===P.target||P.composedPath().includes(F.el))}const E=B=>{const P=Mr(t);if(B.target!=null&&!(!(P instanceof Element)&&_(t)&&b(t,B))&&!(!P||P===B.target||B.composedPath().includes(P))){if("detail"in B&&B.detail===0&&(m=!v(B)),!m){m=!0;return}e(B)}};let T=!1;const I=[Qn(a,"click",B=>{T||(T=!0,setTimeout(()=>{T=!1},0),E(B))},{passive:!0,capture:l}),Qn(a,"pointerdown",B=>{const P=Mr(t);m=!v(B)&&!!(P&&!B.composedPath().includes(P))},{passive:!0}),f&&Qn(a,"blur",B=>{setTimeout(()=>{var P;const R=Mr(t);((P=a.document.activeElement)==null?void 0:P.tagName)==="IFRAME"&&!(R!=null&&R.contains(a.document.activeElement))&&e(B)},0)},{passive:!0})].filter(Boolean),O=()=>I.forEach(B=>B());return d?{stop:O,cancel:()=>{m=!1},trigger:B=>{m=!0,E(B),m=!1}}:O}function Qw(){const t=Vn(!1),e=ei();return e&&Hi(()=>{t.value=!0},e),t}function tL(t){const e=Qw();return lt(()=>(e.value,!!t()))}function eL(t,e,s={}){const{window:a=Gl,...i}=s;let l;const f=tL(()=>a&&"MutationObserver"in a),d=()=>{l&&(l.disconnect(),l=void 0)},m=lt(()=>{const E=de(t),T=dl(E).map(Mr).filter(J_);return new Set(T)}),v=ne(()=>m.value,E=>{d(),f.value&&E.size&&(l=new MutationObserver(e),E.forEach(T=>l.observe(T,i)))},{immediate:!0,flush:"post"}),_=()=>l==null?void 0:l.takeRecords(),b=()=>{v(),d()};return co(b),{isSupported:f,stop:b,takeRecords:_}}function nL(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function as(...t){let e,s,a={};t.length===3?(e=t[0],s=t[1],a=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,s=t[0],a=t[1]):(e=t[0],s=t[1]):(e=!0,s=t[0]);const{target:i=Gl,eventName:l="keydown",passive:f=!1,dedupe:d=!1}=a,m=nL(e);return Qn(i,l,_=>{_.repeat&&de(d)||m(_)&&s(_)},f)}const vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yu="__vueuse_ssr_handlers__",iL=rL();function rL(){return yu in vu||(vu[yu]=vu[yu]||{}),vu[yu]}function sL(t,e){return iL[t]||e}function Vo(t,e={}){const{initialValue:s=!1,focusVisible:a=!1,preventScroll:i=!1}=e,l=Vn(!1),f=lt(()=>Mr(t)),d={passive:!0};Qn(f,"focus",v=>{var _,b;(!a||(b=(_=v.target).matches)!=null&&b.call(_,":focus-visible"))&&(l.value=!0)},d),Qn(f,"blur",()=>l.value=!1,d);const m=lt({get:()=>l.value,set(v){var _,b;!v&&l.value?(_=f.value)==null||_.blur():v&&!l.value&&((b=f.value)==null||b.focus({preventScroll:i}))}});return ne(f,()=>{m.value=s},{immediate:!0,flush:"post"}),{focused:m}}function xh(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}const oL={page:t=>[t.pageX,t.pageY],client:t=>[t.clientX,t.clientY],screen:t=>[t.screenX,t.screenY],movement:t=>t instanceof MouseEvent?[t.movementX,t.movementY]:null};function aL(t={}){const{type:e="page",touch:s=!0,resetOnTouchEnds:a=!1,initialValue:i={x:0,y:0},window:l=Gl,target:f=l,scroll:d=!0,eventFilter:m}=t;let v=null,_=0,b=0;const E=Vn(i.x),T=Vn(i.y),I=Vn(null),O=typeof e=="function"?e:oL[e],B=$=>{const it=O($);v=$,it&&([E.value,T.value]=it,I.value="mouse"),l&&(_=l.scrollX,b=l.scrollY)},P=$=>{if($.touches.length>0){const it=O($.touches[0]);it&&([E.value,T.value]=it,I.value="touch")}},R=()=>{if(!v||!l)return;const $=O(v);v instanceof MouseEvent&&$&&(E.value=$[0]+l.scrollX-_,T.value=$[1]+l.scrollY-b)},D=()=>{E.value=i.x,T.value=i.y},F=m?$=>m(()=>B($),{}):$=>B($),H=m?$=>m(()=>P($),{}):$=>P($),q=m?()=>m(()=>R(),{}):()=>R();if(f){const $={passive:!0};Qn(f,["mousemove","dragover"],F,$),s&&e!=="movement"&&(Qn(f,["touchstart","touchmove"],H,$),a&&Qn(f,"touchend",D,$)),d&&e==="page"&&Qn(l,"scroll",q,$)}return{x:E,y:T,sourceType:I}}function tv(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const s=t.parentNode;return!s||s.tagName==="BODY"?!1:tv(s)}}function lL(t){const e=t||window.event,s=e.target;return tv(s)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Th=new WeakMap;function uL(t,e=!1){const s=Vn(e);let a=null,i="";ne(jw(t),d=>{const m=xh(de(d));if(m){const v=m;if(Th.get(v)||Th.set(v,v.style.overflow),v.style.overflow!=="hidden"&&(i=v.style.overflow),v.style.overflow==="hidden")return s.value=!0;if(s.value)return v.style.overflow="hidden"}},{immediate:!0});const l=()=>{const d=xh(de(t));!d||s.value||(Qh&&(a=Qn(d,"touchmove",m=>{lL(m)},{passive:!1})),d.style.overflow="hidden",s.value=!0)},f=()=>{const d=xh(de(t));!d||!s.value||(Qh&&(a==null||a()),d.style.overflow=i,Th.delete(d),s.value=!1)};return co(f),lt({get(){return s.value},set(d){d?l():f()}})}const Ch="modal-open",cL=()=>{const t=rn(j_),e=a=>{t==null||t.removeStack(a),t==null||t.removeRegistry(a)},s=sL("updateHTMLAttrs",(a,i,l)=>{const f=typeof a=="string"?window==null?void 0:window.document.querySelector(a):Mr(a);f&&(i==="class"?f.classList.toggle(Ch,l===Ch):f.setAttribute(i,l))});return co(()=>{s("body","class","")}),ne(()=>t==null?void 0:t.countStack.value,a=>{a!==void 0&&s("body","class",a>0?Ch:"")}),{...t,dispose:e}},hL=(t,e)=>{const{pushRegistry:s,pushStack:a,removeStack:i,stack:l,dispose:f,countStack:d}=cL(),m=ei();if(!m||m.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");s==null||s(m),co(()=>{f(m)});const v=(_,b)=>{_?a==null||a(m):b&&!_&&(i==null||i(m))};return v(e,e),ne(t,v),{activePosition:lt(()=>l==null?void 0:l.value.findIndex(_=>{var b,E;return de((b=_.exposed)==null?void 0:b.id)===de((E=m.exposed)==null?void 0:E.id)})),activeModalCount:d,stackWithoutSelf:lt(()=>(l==null?void 0:l.value.filter(_=>{var b,E;return de((b=_.exposed)==null?void 0:b.id)!==de((E=m.exposed)==null?void 0:E.id)}))??[])}},nc=t=>{if(t)return typeof t=="string"?typeof document>"u"?void 0:document.getElementById(t)??document.querySelector(t)??void 0:t.$el??t},Ep=(t,e)=>t.setAttribute("data-bs-theme",e),fL={mounted(t,e){Ep(t,e.value)},updated(t,e){Ep(t,e.value)}},dL=/\s+/,pL=/^#/,mL=/^#[A-Za-z]+[\w\-:.]*$/;function gL(t,e){var s,a;return(e.ctx===t.instance.$?(s=_L(e,t.instance.$))==null?void 0:s.provides:(a=e.ctx)==null?void 0:a.provides)??t.instance.$.provides}function _L(t,e){const s=new Set,a=l=>{var f,d;for(const m of l){if(!m)continue;if(m===t||m.el&&t.el&&m.el===t.el)return!0;s.add(m);let v;if(m.suspense?v=a([m.ssContent]):Array.isArray(m.children)?v=a(m.children):(f=m.component)!=null&&f.vnode&&(v=a([(d=m.component)==null?void 0:d.subTree])),v)return v;s.delete(m)}return!1};if(!a([e.subTree]))return console.error("Could not find original vnode,  will not inherit provides"),e;const i=Array.from(s).reverse();for(const l of i)if(l.component)return l.component;return e}const vL=(t,e)=>{const{modifiers:s,arg:a,value:i}=t,l=Object.keys(s||{}),f=typeof i=="string"?i.split(dL):i;if(e.tagName.toLowerCase()==="a"){const d=e.getAttribute("href")||"";mL.test(d)&&l.push(d.replace(pL,""))}return Array.prototype.concat.apply([],[a,f]).forEach(d=>typeof d=="string"&&l.push(d)),l.filter((d,m,v)=>d&&v.indexOf(d)===m)},kp=(t,e,s,a)=>{var i;const f=(i=gL(s,a)[Bc])==null?void 0:i.map;t.forEach(d=>{if(f!=null&&f[d]){f[d].toggle();return}const m=document.getElementById(d);m!==null&&m.dispatchEvent(new Event("bv-toggle"))}),setTimeout(()=>ev(t,e),50)},ev=(t,e)=>{let s=!1;t.forEach(a=>{const i=document.getElementById(a);i!=null&&i.classList.contains("show")&&(s=!0),i!=null&&i.classList.contains("closing")&&(s=!1)}),e.setAttribute("aria-expanded",s?"true":"false"),e.classList.remove(s?"collapsed":"not-collapsed"),e.classList.add(s?"not-collapsed":"collapsed")},xp=(t,e,s)=>{const a=vL(e,t);a.length!==0&&(t.__toggle?setTimeout(()=>{t.removeEventListener("click",t.__toggle),t.__toggle=()=>kp(a,t,e,s),t.addEventListener("click",t.__toggle)},0):(t.__toggle=()=>kp(a,t,e,s),t.addEventListener("click",t.__toggle)),t.setAttribute("aria-controls",a.join(" ")),ev(a,t))},nv={mounted:xp,updated:xp,unmounted(t){t.removeEventListener("click",t.__toggle),t.removeAttribute("aria-controls"),t.removeAttribute("aria-expanded")}};function yL(t,e=iv("injectSelf")){const{provides:s}=e;if(s&&t in s)return s[t]}function iv(t,e){const s=ei();if(!s)throw new Error(`[Bvn] ${t} must be called from inside a setup function`);return s}const bL=(t="")=>t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase(),Tp=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);function rv(t={},e={},s){const a={};for(const i in t)a[i]=t[i];for(const i in e){const l=t[i],f=e[i];if(Tp(l)&&Tp(f)){a[i]=rv(l,f);continue}a[i]=f}return a}const wL=(t,e)=>{var s,a;return typeof((s=t.props)==null?void 0:s[e])<"u"||typeof((a=t.props)==null?void 0:a[bL(e)])<"u"};function LL(t={},e){const s=rn(Ru,Ft({})),a=iv("useDefaults");if(e=e??a.type.name??a.type.__name,!e)throw new Error("[Bvn] Could not determine component name");const i=lt(()=>{var m;return(m=s.value)==null?void 0:m[t._as??e]}),l=new Proxy(t,{get(m,v){var _,b,E,T;const I=Reflect.get(m,v);return v==="class"||v==="style"?[(_=i.value)==null?void 0:_[v],I].filter(O=>O!=null):typeof v=="string"&&!wL(a.vnode,v)?((b=i.value)==null?void 0:b[v])??((T=(E=s.value)==null?void 0:E.global)==null?void 0:T[v])??I:I}}),f=Vn();hl(()=>{if(i.value){const m=Object.entries(i.value).filter(([v])=>v.startsWith(v[0].toUpperCase()));f.value=m.length?Object.fromEntries(m):void 0}else f.value=void 0});function d(){const m=yL(Ru,a);cs(Ru,lt(()=>f.value?rv((m==null?void 0:m.value)??{},f.value):m==null?void 0:m.value))}return{props:l,provideSubDefaults:d}}function hn(t,e){const{props:s,provideSubDefaults:a}=LL(t,e);return a(),s}const ga=(t,e)=>{const s=u_();return lt(()=>de(t)||Wf(s||"",e))},Yf=Pe({name:"ConditionalTeleport",inheritAttrs:!1,props:{to:{type:[String,Object],default:null},disabled:{type:Boolean,required:!0}},slots:Object,setup(t,{slots:e}){return()=>{var s,a;return t.to?Mi(ib,{to:t.to,disabled:t.disabled||!t.to},[(a=e.default)==null?void 0:a.call(e,{})]):(s=e.default)==null?void 0:s.call(e,{})}}});var EL=Object.defineProperty,kL=(t,e,s)=>e in t?EL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Cr=(t,e,s)=>kL(t,typeof e!="symbol"?e+"":e,s);class ic{constructor(e,s={}){if(Cr(this,"cancelable",!0),Cr(this,"componentId",null),Cr(this,"_defaultPrevented",!1),Cr(this,"eventType",""),Cr(this,"nativeEvent",null),Cr(this,"_preventDefault"),Cr(this,"relatedTarget",null),Cr(this,"target",null),!e)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,ic.Defaults,s,{eventType:e}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(e){this._defaultPrevented=e}get preventDefault(){return this._preventDefault}set preventDefault(e){this._preventDefault=e}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class xL extends ic{constructor(e,s={}){super(e,s),Cr(this,"trigger",null),Object.assign(this,ic.Defaults,s,{eventType:e})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Cp={name:"fade",enterActiveClass:"",enterFromClass:"showing",enterToClass:"",leaveActiveClass:"",leaveFromClass:"",leaveToClass:"showing",css:!0},Fc=(t,e,s,a,i,l={transitionProps:{},showFn:()=>{},hideFn:()=>{}})=>{var f;let d=!1;const m=!!t.value&&!e.initialAnimation||e.visible||!1,v=Ft(m),_=Ft(m),b=Ft(m);let E=typeof t.value!="boolean";ne(t,()=>{if(E=typeof t.value!="boolean",d){d=!1;return}t.value?D():F()});const T=Ft(m),I=Ft(!1),O=lt(()=>e.noAnimation||e.noFade||T.value||!1);Hi(()=>{var Lt;if(!e.show&&m){const Tt=B("show",{cancelable:!0});if(s("show",Tt),Tt.defaultPrevented){s("show-prevented",B("show-prevented"));return}T.value=!0,t.value||(d=!0,t.value=!0),_.value=!0,b.value=!0,tt.value=!0,Ut.value=!0,Mt.value=!0,v.value=!0,(Lt=l.showFn)==null||Lt.call(l)}else(e.show||t.value&&e.initialAnimation)&&D()}),ne(()=>e.visible,Lt=>{T.value=!0,ti(()=>{Lt&&(tt.value=!0),Lt?D():F()})}),ne(()=>e.show,Lt=>{Lt?D():F()}),Qn(a,"bv-toggle",()=>{t.value=!t.value});const B=(Lt,Tt={})=>new xL(Lt,{cancelable:!1,target:(a==null?void 0:a.value)||null,relatedTarget:null,trigger:null,...Tt,componentId:i==null?void 0:i.value});let P,R;const D=()=>{if(v.value&&!R)return;const Lt=B("show",{cancelable:!0});if(s("show",Lt),Lt.defaultPrevented){s("show-prevented",B("show-prevented")),tt.value&&(tt.value=!1),t.value&&!E&&(d=!0,ti(()=>{t.value=!1}));return}R&&(clearTimeout(R),R=void 0),_.value=!0,b.value=!0,requestAnimationFrame(()=>{var Tt;P=setTimeout(()=>{var rt;P=void 0,v.value=!0,(rt=l.showFn)==null||rt.call(l),t.value||(d=!0,ti(()=>{t.value=!0}))},T.value?0:typeof e.delay=="number"?e.delay:((Tt=e.delay)==null?void 0:Tt.show)||0)})},F=Lt=>{var Tt;if(!v.value&&!P)return;const rt=B("hide",{cancelable:!0,trigger:Lt}),G=B(Lt||"ignore",{cancelable:!0,trigger:Lt});if(Lt==="backdrop"&&e.noCloseOnBackdrop||Lt==="esc"&&e.noCloseOnEsc){s("hide-prevented",B("hide-prevented"));return}if(Lt&&s(Lt,G),s("hide",rt),rt.defaultPrevented||G.defaultPrevented){s("hide-prevented",B("hide-prevented")),t.value||ti(()=>{d=!0,t.value=!0});return}P&&(clearTimeout(P),P=void 0,I.value||(_.value=!1),b.value=!1),R=setTimeout(()=>{var Et;R=void 0,_t.value=!0,v.value=!1,(Et=l.hideFn)==null||Et.call(l),t.value&&(d=!0,t.value=E?0:!1)},T.value?0:typeof e.delay=="number"?e.delay:((Tt=e.delay)==null?void 0:Tt.hide)||0)},H=wp(Lt=>F(Lt),500),q=wp(()=>D(),500),$=()=>{const Lt=B("toggle",{cancelable:!0});if(s("toggle",Lt),Lt.defaultPrevented){s("toggle-prevented",B("toggle-prevented"));return}v.value?F():D()},it=(f=rn(Bc,void 0))==null?void 0:f({id:i.value,toggle:$,show:D,hide:F,value:Gn(v)});Mc(()=>{it==null||it.unregister()});const X=Ft(!1),J=()=>{e.lazy===!0&&(X.value=!0)},_t=Ft(!1),et=Ft(m),tt=Ft(m),j=Lt=>{var Tt,rt,G,Et;(rt=(Tt=l.transitionProps)==null?void 0:Tt.onBeforeEnter)==null||rt.call(Tt,Lt),(Et=(G=e.transitionProps)==null?void 0:G.onBeforeEnter)==null||Et.call(G,Lt),et.value=!0},vt=Lt=>{var Tt,rt,G,Et;requestAnimationFrame(()=>{requestAnimationFrame(()=>{tt.value=!0})}),(rt=(Tt=l.transitionProps)==null?void 0:Tt.onEnter)==null||rt.call(Tt,Lt),(Et=(G=e.transitionProps)==null?void 0:G.onEnter)==null||Et.call(G,Lt)},yt=Lt=>{var Tt,rt,G,Et;s("shown",B("shown")),J(),(rt=(Tt=l.transitionProps)==null?void 0:Tt.onAfterEnter)==null||rt.call(Tt,Lt),(Et=(G=e.transitionProps)==null?void 0:G.onAfterEnter)==null||Et.call(G,Lt),T.value&&requestAnimationFrame(()=>{T.value=!1}),I.value&&(I.value=!1)},bt=Lt=>{var Tt,rt,G,Et;_t.value||(_t.value=!0),(rt=(Tt=l.transitionProps)==null?void 0:Tt.onBeforeLeave)==null||rt.call(Tt,Lt),(Et=(G=e.transitionProps)==null?void 0:G.onBeforeLeave)==null||Et.call(G,Lt)},dt=Lt=>{var Tt,rt,G,Et;tt.value=!1,(rt=(Tt=l.transitionProps)==null?void 0:Tt.onLeave)==null||rt.call(Tt,Lt),(Et=(G=e.transitionProps)==null?void 0:G.onLeave)==null||Et.call(G,Lt)},Nt=Lt=>{var Tt,rt,G,Et;s("hidden",B("hidden")),(rt=(Tt=l.transitionProps)==null?void 0:Tt.onAfterLeave)==null||rt.call(Tt,Lt),(Et=(G=e.transitionProps)==null?void 0:G.onAfterLeave)==null||Et.call(G,Lt),_t.value=!1,et.value=!1,T.value&&requestAnimationFrame(()=>{T.value=!1}),requestAnimationFrame(()=>{I.value||(_.value=!1)})},ut=lt(()=>I.value===!0||et.value===!0||e.lazy===!1||e.lazy===!0&&X.value===!0&&e.unmountLazy===!1),At=Ft(!1);ne(tt,Lt=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{At.value=Lt},32)})})})})});const Ut=Ft(!1),Mt=Ft(!1),Pt={...l.transitionProps,onBeforeEnter:j,onEnter:vt,onAfterEnter:yt,onBeforeLeave:bt,onLeave:dt,onAfterLeave:Nt};return{showRef:v,renderRef:_,renderBackdropRef:b,isVisible:tt,isActive:et,trapActive:At,show:D,hide:F,toggle:$,throttleHide:H,throttleShow:q,buildTriggerableEvent:B,computedNoAnimation:O,localNoAnimation:T,localTemporaryHide:I,isLeaving:_t,transitionProps:{...Cp,...e.transitionProps,...Pt},lazyLoadCompleted:X,markLazyLoadCompleted:J,contentShowing:ut,backdropReady:Mt,backdropVisible:Ut,backdropTransitionProps:{...Cp,onBeforeEnter:()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ut.value=!0})}),Mt.value=!1},onAfterEnter:()=>{Mt.value=!0},onBeforeLeave:()=>{Ut.value=!1},onAfterLeave:()=>{Mt.value=!1,requestAnimationFrame(()=>{b.value=!1})}}}},jf=(t,e)=>{const s=t.__vccOpts||t;for(const[a,i]of e)s[a]=i;return s},sv=["top","right","bottom","left"],Sp=["start","end"],Ip=sv.reduce((t,e)=>t.concat(e,e+"-"+Sp[0],e+"-"+Sp[1]),[]),zi=Math.min,In=Math.max,rc=Math.round,bu=Math.floor,ur=t=>({x:t,y:t}),TL={left:"right",right:"left",bottom:"top",top:"bottom"},CL={start:"end",end:"start"};function tf(t,e,s){return In(t,zi(e,s))}function $r(t,e){return typeof t=="function"?t(e):t}function Si(t){return t.split("-")[0]}function Di(t){return t.split("-")[1]}function ov(t){return t==="x"?"y":"x"}function Xf(t){return t==="y"?"height":"width"}function ms(t){return["top","bottom"].includes(Si(t))?"y":"x"}function Kf(t){return ov(ms(t))}function av(t,e,s){s===void 0&&(s=!1);const a=Di(t),i=Kf(t),l=Xf(i);let f=i==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(f=oc(f)),[f,oc(f)]}function SL(t){const e=oc(t);return[sc(t),e,sc(e)]}function sc(t){return t.replace(/start|end/g,e=>CL[e])}function IL(t,e,s){const a=["left","right"],i=["right","left"],l=["top","bottom"],f=["bottom","top"];switch(t){case"top":case"bottom":return s?e?i:a:e?a:i;case"left":case"right":return e?l:f;default:return[]}}function PL(t,e,s,a){const i=Di(t);let l=IL(Si(t),s==="start",a);return i&&(l=l.map(f=>f+"-"+i),e&&(l=l.concat(l.map(sc)))),l}function oc(t){return t.replace(/left|right|bottom|top/g,e=>TL[e])}function NL(t){return{top:0,right:0,bottom:0,left:0,...t}}function Jf(t){return typeof t!="number"?NL(t):{top:t,right:t,bottom:t,left:t}}function Qo(t){const{x:e,y:s,width:a,height:i}=t;return{width:a,height:i,top:s,left:e,right:e+a,bottom:s+i,x:e,y:s}}function Pp(t,e,s){let{reference:a,floating:i}=t;const l=ms(e),f=Kf(e),d=Xf(f),m=Si(e),v=l==="y",_=a.x+a.width/2-i.width/2,b=a.y+a.height/2-i.height/2,E=a[d]/2-i[d]/2;let T;switch(m){case"top":T={x:_,y:a.y-i.height};break;case"bottom":T={x:_,y:a.y+a.height};break;case"right":T={x:a.x+a.width,y:b};break;case"left":T={x:a.x-i.width,y:b};break;default:T={x:a.x,y:a.y}}switch(Di(e)){case"start":T[f]-=E*(s&&v?-1:1);break;case"end":T[f]+=E*(s&&v?-1:1);break}return T}const OL=async(t,e,s)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:f}=s,d=l.filter(Boolean),m=await(f.isRTL==null?void 0:f.isRTL(e));let v=await f.getElementRects({reference:t,floating:e,strategy:i}),{x:_,y:b}=Pp(v,a,m),E=a,T={},I=0;for(let O=0;O<d.length;O++){const{name:B,fn:P}=d[O],{x:R,y:D,data:F,reset:H}=await P({x:_,y:b,initialPlacement:a,placement:E,strategy:i,middlewareData:T,rects:v,platform:f,elements:{reference:t,floating:e}});_=R??_,b=D??b,T={...T,[B]:{...T[B],...F}},H&&I<=50&&(I++,typeof H=="object"&&(H.placement&&(E=H.placement),H.rects&&(v=H.rects===!0?await f.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:_,y:b}=Pp(v,E,m)),O=-1)}return{x:_,y:b,placement:E,strategy:i,middlewareData:T}};async function ta(t,e){var s;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:f,elements:d,strategy:m}=t,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:b="floating",altBoundary:E=!1,padding:T=0}=$r(e,t),I=Jf(T),B=d[E?b==="floating"?"reference":"floating":b],P=Qo(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(B)))==null||s?B:B.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:v,rootBoundary:_,strategy:m})),R=b==="floating"?{x:a,y:i,width:f.floating.width,height:f.floating.height}:f.reference,D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),F=await(l.isElement==null?void 0:l.isElement(D))?await(l.getScale==null?void 0:l.getScale(D))||{x:1,y:1}:{x:1,y:1},H=Qo(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:D,strategy:m}):R);return{top:(P.top-H.top+I.top)/F.y,bottom:(H.bottom-P.bottom+I.bottom)/F.y,left:(P.left-H.left+I.left)/F.x,right:(H.right-P.right+I.right)/F.x}}const ML=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:a,placement:i,rects:l,platform:f,elements:d,middlewareData:m}=e,{element:v,padding:_=0}=$r(t,e)||{};if(v==null)return{};const b=Jf(_),E={x:s,y:a},T=Kf(i),I=Xf(T),O=await f.getDimensions(v),B=T==="y",P=B?"top":"left",R=B?"bottom":"right",D=B?"clientHeight":"clientWidth",F=l.reference[I]+l.reference[T]-E[T]-l.floating[I],H=E[T]-l.reference[T],q=await(f.getOffsetParent==null?void 0:f.getOffsetParent(v));let $=q?q[D]:0;(!$||!await(f.isElement==null?void 0:f.isElement(q)))&&($=d.floating[D]||l.floating[I]);const it=F/2-H/2,X=$/2-O[I]/2-1,J=zi(b[P],X),_t=zi(b[R],X),et=J,tt=$-O[I]-_t,j=$/2-O[I]/2+it,vt=tf(et,j,tt),yt=!m.arrow&&Di(i)!=null&&j!==vt&&l.reference[I]/2-(j<et?J:_t)-O[I]/2<0,bt=yt?j<et?j-et:j-tt:0;return{[T]:E[T]+bt,data:{[T]:vt,centerOffset:j-vt-bt,...yt&&{alignmentOffset:bt}},reset:yt}}});function AL(t,e,s){return(t?[...s.filter(i=>Di(i)===t),...s.filter(i=>Di(i)!==t)]:s.filter(i=>Si(i)===i)).filter(i=>t?Di(i)===t||(e?sc(i)!==i:!1):!0)}const RL=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var s,a,i;const{rects:l,middlewareData:f,placement:d,platform:m,elements:v}=e,{crossAxis:_=!1,alignment:b,allowedPlacements:E=Ip,autoAlignment:T=!0,...I}=$r(t,e),O=b!==void 0||E===Ip?AL(b||null,T,E):E,B=await ta(e,I),P=((s=f.autoPlacement)==null?void 0:s.index)||0,R=O[P];if(R==null)return{};const D=av(R,l,await(m.isRTL==null?void 0:m.isRTL(v.floating)));if(d!==R)return{reset:{placement:O[0]}};const F=[B[Si(R)],B[D[0]],B[D[1]]],H=[...((a=f.autoPlacement)==null?void 0:a.overflows)||[],{placement:R,overflows:F}],q=O[P+1];if(q)return{data:{index:P+1,overflows:H},reset:{placement:q}};const $=H.map(J=>{const _t=Di(J.placement);return[J.placement,_t&&_?J.overflows.slice(0,2).reduce((et,tt)=>et+tt,0):J.overflows[0],J.overflows]}).sort((J,_t)=>J[1]-_t[1]),X=((i=$.filter(J=>J[2].slice(0,Di(J[0])?2:3).every(_t=>_t<=0))[0])==null?void 0:i[0])||$[0][0];return X!==d?{data:{index:P+1,overflows:H},reset:{placement:X}}:{}}}},DL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,a;const{placement:i,middlewareData:l,rects:f,initialPlacement:d,platform:m,elements:v}=e,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:O=!0,...B}=$r(t,e);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const P=Si(i),R=ms(d),D=Si(d)===d,F=await(m.isRTL==null?void 0:m.isRTL(v.floating)),H=E||(D||!O?[oc(d)]:SL(d)),q=I!=="none";!E&&q&&H.push(...PL(d,O,I,F));const $=[d,...H],it=await ta(e,B),X=[];let J=((a=l.flip)==null?void 0:a.overflows)||[];if(_&&X.push(it[P]),b){const j=av(i,f,F);X.push(it[j[0]],it[j[1]])}if(J=[...J,{placement:i,overflows:X}],!X.every(j=>j<=0)){var _t,et;const j=(((_t=l.flip)==null?void 0:_t.index)||0)+1,vt=$[j];if(vt)return{data:{index:j,overflows:J},reset:{placement:vt}};let yt=(et=J.filter(bt=>bt.overflows[0]<=0).sort((bt,dt)=>bt.overflows[1]-dt.overflows[1])[0])==null?void 0:et.placement;if(!yt)switch(T){case"bestFit":{var tt;const bt=(tt=J.filter(dt=>{if(q){const Nt=ms(dt.placement);return Nt===R||Nt==="y"}return!0}).map(dt=>[dt.placement,dt.overflows.filter(Nt=>Nt>0).reduce((Nt,ut)=>Nt+ut,0)]).sort((dt,Nt)=>dt[1]-Nt[1])[0])==null?void 0:tt[0];bt&&(yt=bt);break}case"initialPlacement":yt=d;break}if(i!==yt)return{reset:{placement:yt}}}return{}}}};function Np(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Op(t){return sv.some(e=>t[e]>=0)}const BL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:a="referenceHidden",...i}=$r(t,e);switch(a){case"referenceHidden":{const l=await ta(e,{...i,elementContext:"reference"}),f=Np(l,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:Op(f)}}}case"escaped":{const l=await ta(e,{...i,altBoundary:!0}),f=Np(l,s.floating);return{data:{escapedOffsets:f,escaped:Op(f)}}}default:return{}}}}};function lv(t){const e=zi(...t.map(l=>l.left)),s=zi(...t.map(l=>l.top)),a=In(...t.map(l=>l.right)),i=In(...t.map(l=>l.bottom));return{x:e,y:s,width:a-e,height:i-s}}function FL(t){const e=t.slice().sort((i,l)=>i.y-l.y),s=[];let a=null;for(let i=0;i<e.length;i++){const l=e[i];!a||l.y-a.y>a.height/2?s.push([l]):s[s.length-1].push(l),a=l}return s.map(i=>Qo(lv(i)))}const zL=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:s,elements:a,rects:i,platform:l,strategy:f}=e,{padding:d=2,x:m,y:v}=$r(t,e),_=Array.from(await(l.getClientRects==null?void 0:l.getClientRects(a.reference))||[]),b=FL(_),E=Qo(lv(_)),T=Jf(d);function I(){if(b.length===2&&b[0].left>b[1].right&&m!=null&&v!=null)return b.find(B=>m>B.left-T.left&&m<B.right+T.right&&v>B.top-T.top&&v<B.bottom+T.bottom)||E;if(b.length>=2){if(ms(s)==="y"){const J=b[0],_t=b[b.length-1],et=Si(s)==="top",tt=J.top,j=_t.bottom,vt=et?J.left:_t.left,yt=et?J.right:_t.right,bt=yt-vt,dt=j-tt;return{top:tt,bottom:j,left:vt,right:yt,width:bt,height:dt,x:vt,y:tt}}const B=Si(s)==="left",P=In(...b.map(J=>J.right)),R=zi(...b.map(J=>J.left)),D=b.filter(J=>B?J.left===R:J.right===P),F=D[0].top,H=D[D.length-1].bottom,q=R,$=P,it=$-q,X=H-F;return{top:F,bottom:H,left:q,right:$,width:it,height:X,x:q,y:F}}return E}const O=await l.getElementRects({reference:{getBoundingClientRect:I},floating:a.floating,strategy:f});return i.reference.x!==O.reference.x||i.reference.y!==O.reference.y||i.reference.width!==O.reference.width||i.reference.height!==O.reference.height?{reset:{rects:O}}:{}}}};async function $L(t,e){const{placement:s,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),f=Si(s),d=Di(s),m=ms(s)==="y",v=["left","top"].includes(f)?-1:1,_=l&&m?-1:1,b=$r(e,t);let{mainAxis:E,crossAxis:T,alignmentAxis:I}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof I=="number"&&(T=d==="end"?I*-1:I),m?{x:T*_,y:E*v}:{x:E*v,y:T*_}}const UL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,a;const{x:i,y:l,placement:f,middlewareData:d}=e,m=await $L(e,t);return f===((s=d.offset)==null?void 0:s.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:f}}}}},GL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:f=!1,limiter:d={fn:B=>{let{x:P,y:R}=B;return{x:P,y:R}}},...m}=$r(t,e),v={x:s,y:a},_=await ta(e,m),b=ms(Si(i)),E=ov(b);let T=v[E],I=v[b];if(l){const B=E==="y"?"top":"left",P=E==="y"?"bottom":"right",R=T+_[B],D=T-_[P];T=tf(R,T,D)}if(f){const B=b==="y"?"top":"left",P=b==="y"?"bottom":"right",R=I+_[B],D=I-_[P];I=tf(R,I,D)}const O=d.fn({...e,[E]:T,[b]:I});return{...O,data:{x:O.x-s,y:O.y-a,enabled:{[E]:l,[b]:f}}}}}},VL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,a;const{placement:i,rects:l,platform:f,elements:d}=e,{apply:m=()=>{},...v}=$r(t,e),_=await ta(e,v),b=Si(i),E=Di(i),T=ms(i)==="y",{width:I,height:O}=l.floating;let B,P;b==="top"||b==="bottom"?(B=b,P=E===(await(f.isRTL==null?void 0:f.isRTL(d.floating))?"start":"end")?"left":"right"):(P=b,B=E==="end"?"top":"bottom");const R=O-_.top-_.bottom,D=I-_.left-_.right,F=zi(O-_[B],R),H=zi(I-_[P],D),q=!e.middlewareData.shift;let $=F,it=H;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(it=D),(a=e.middlewareData.shift)!=null&&a.enabled.y&&($=R),q&&!E){const J=In(_.left,0),_t=In(_.right,0),et=In(_.top,0),tt=In(_.bottom,0);T?it=I-2*(J!==0||_t!==0?J+_t:In(_.left,_.right)):$=O-2*(et!==0||tt!==0?et+tt:In(_.top,_.bottom))}await m({...e,availableWidth:it,availableHeight:$});const X=await f.getDimensions(d.floating);return I!==X.width||O!==X.height?{reset:{rects:!0}}:{}}}};function zc(){return typeof window<"u"}function ho(t){return Qf(t)?(t.nodeName||"").toLowerCase():"#document"}function ui(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pr(t){var e;return(e=(Qf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Qf(t){return zc()?t instanceof Node||t instanceof ui(t).Node:!1}function $i(t){return zc()?t instanceof Element||t instanceof ui(t).Element:!1}function hr(t){return zc()?t instanceof HTMLElement||t instanceof ui(t).HTMLElement:!1}function Mp(t){return!zc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ui(t).ShadowRoot}function Vl(t){const{overflow:e,overflowX:s,overflowY:a,display:i}=Ui(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+s)&&!["inline","contents"].includes(i)}function HL(t){return["table","td","th"].includes(ho(t))}function $c(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function td(t){const e=ed(),s=$i(t)?Ui(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function qL(t){let e=gs(t);for(;hr(e)&&!ea(e);){if(td(e))return e;if($c(e))return null;e=gs(e)}return null}function ed(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ea(t){return["html","body","#document"].includes(ho(t))}function Ui(t){return ui(t).getComputedStyle(t)}function Uc(t){return $i(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gs(t){if(ho(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Mp(t)&&t.host||pr(t);return Mp(e)?e.host:e}function uv(t){const e=gs(t);return ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:hr(e)&&Vl(e)?e:uv(e)}function Sl(t,e,s){var a;e===void 0&&(e=[]),s===void 0&&(s=!0);const i=uv(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),f=ui(i);if(l){const d=ef(f);return e.concat(f,f.visualViewport||[],Vl(i)?i:[],d&&s?Sl(d):[])}return e.concat(i,Sl(i,[],s))}function ef(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cv(t){const e=Ui(t);let s=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=hr(t),l=i?t.offsetWidth:s,f=i?t.offsetHeight:a,d=rc(s)!==l||rc(a)!==f;return d&&(s=l,a=f),{width:s,height:a,$:d}}function nd(t){return $i(t)?t:t.contextElement}function Xo(t){const e=nd(t);if(!hr(e))return ur(1);const s=e.getBoundingClientRect(),{width:a,height:i,$:l}=cv(e);let f=(l?rc(s.width):s.width)/a,d=(l?rc(s.height):s.height)/i;return(!f||!Number.isFinite(f))&&(f=1),(!d||!Number.isFinite(d))&&(d=1),{x:f,y:d}}const WL=ur(0);function hv(t){const e=ui(t);return!ed()||!e.visualViewport?WL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZL(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==ui(t)?!1:e}function oo(t,e,s,a){e===void 0&&(e=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),l=nd(t);let f=ur(1);e&&(a?$i(a)&&(f=Xo(a)):f=Xo(t));const d=ZL(l,s,a)?hv(l):ur(0);let m=(i.left+d.x)/f.x,v=(i.top+d.y)/f.y,_=i.width/f.x,b=i.height/f.y;if(l){const E=ui(l),T=a&&$i(a)?ui(a):a;let I=E,O=ef(I);for(;O&&a&&T!==I;){const B=Xo(O),P=O.getBoundingClientRect(),R=Ui(O),D=P.left+(O.clientLeft+parseFloat(R.paddingLeft))*B.x,F=P.top+(O.clientTop+parseFloat(R.paddingTop))*B.y;m*=B.x,v*=B.y,_*=B.x,b*=B.y,m+=D,v+=F,I=ui(O),O=ef(I)}}return Qo({width:_,height:b,x:m,y:v})}function id(t,e){const s=Uc(t).scrollLeft;return e?e.left+s:oo(pr(t)).left+s}function fv(t,e,s){s===void 0&&(s=!1);const a=t.getBoundingClientRect(),i=a.left+e.scrollLeft-(s?0:id(t,a)),l=a.top+e.scrollTop;return{x:i,y:l}}function YL(t){let{elements:e,rect:s,offsetParent:a,strategy:i}=t;const l=i==="fixed",f=pr(a),d=e?$c(e.floating):!1;if(a===f||d&&l)return s;let m={scrollLeft:0,scrollTop:0},v=ur(1);const _=ur(0),b=hr(a);if((b||!b&&!l)&&((ho(a)!=="body"||Vl(f))&&(m=Uc(a)),hr(a))){const T=oo(a);v=Xo(a),_.x=T.x+a.clientLeft,_.y=T.y+a.clientTop}const E=f&&!b&&!l?fv(f,m,!0):ur(0);return{width:s.width*v.x,height:s.height*v.y,x:s.x*v.x-m.scrollLeft*v.x+_.x+E.x,y:s.y*v.y-m.scrollTop*v.y+_.y+E.y}}function jL(t){return Array.from(t.getClientRects())}function XL(t){const e=pr(t),s=Uc(t),a=t.ownerDocument.body,i=In(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=In(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let f=-s.scrollLeft+id(t);const d=-s.scrollTop;return Ui(a).direction==="rtl"&&(f+=In(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:f,y:d}}function KL(t,e){const s=ui(t),a=pr(t),i=s.visualViewport;let l=a.clientWidth,f=a.clientHeight,d=0,m=0;if(i){l=i.width,f=i.height;const v=ed();(!v||v&&e==="fixed")&&(d=i.offsetLeft,m=i.offsetTop)}return{width:l,height:f,x:d,y:m}}function JL(t,e){const s=oo(t,!0,e==="fixed"),a=s.top+t.clientTop,i=s.left+t.clientLeft,l=hr(t)?Xo(t):ur(1),f=t.clientWidth*l.x,d=t.clientHeight*l.y,m=i*l.x,v=a*l.y;return{width:f,height:d,x:m,y:v}}function Ap(t,e,s){let a;if(e==="viewport")a=KL(t,s);else if(e==="document")a=XL(pr(t));else if($i(e))a=JL(e,s);else{const i=hv(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qo(a)}function dv(t,e){const s=gs(t);return s===e||!$i(s)||ea(s)?!1:Ui(s).position==="fixed"||dv(s,e)}function QL(t,e){const s=e.get(t);if(s)return s;let a=Sl(t,[],!1).filter(d=>$i(d)&&ho(d)!=="body"),i=null;const l=Ui(t).position==="fixed";let f=l?gs(t):t;for(;$i(f)&&!ea(f);){const d=Ui(f),m=td(f);!m&&d.position==="fixed"&&(i=null),(l?!m&&!i:!m&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vl(f)&&!m&&dv(t,f))?a=a.filter(_=>_!==f):i=d,f=gs(f)}return e.set(t,a),a}function tE(t){let{element:e,boundary:s,rootBoundary:a,strategy:i}=t;const f=[...s==="clippingAncestors"?$c(e)?[]:QL(e,this._c):[].concat(s),a],d=f[0],m=f.reduce((v,_)=>{const b=Ap(e,_,i);return v.top=In(b.top,v.top),v.right=zi(b.right,v.right),v.bottom=zi(b.bottom,v.bottom),v.left=In(b.left,v.left),v},Ap(e,d,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function eE(t){const{width:e,height:s}=cv(t);return{width:e,height:s}}function nE(t,e,s){const a=hr(e),i=pr(e),l=s==="fixed",f=oo(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const m=ur(0);if(a||!a&&!l)if((ho(e)!=="body"||Vl(i))&&(d=Uc(e)),a){const E=oo(e,!0,l,e);m.x=E.x+e.clientLeft,m.y=E.y+e.clientTop}else i&&(m.x=id(i));const v=i&&!a&&!l?fv(i,d):ur(0),_=f.left+d.scrollLeft-m.x-v.x,b=f.top+d.scrollTop-m.y-v.y;return{x:_,y:b,width:f.width,height:f.height}}function Sh(t){return Ui(t).position==="static"}function Rp(t,e){if(!hr(t)||Ui(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return pr(t)===s&&(s=s.ownerDocument.body),s}function pv(t,e){const s=ui(t);if($c(t))return s;if(!hr(t)){let i=gs(t);for(;i&&!ea(i);){if($i(i)&&!Sh(i))return i;i=gs(i)}return s}let a=Rp(t,e);for(;a&&HL(a)&&Sh(a);)a=Rp(a,e);return a&&ea(a)&&Sh(a)&&!td(a)?s:a||qL(t)||s}const iE=async function(t){const e=this.getOffsetParent||pv,s=this.getDimensions,a=await s(t.floating);return{reference:nE(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function rE(t){return Ui(t).direction==="rtl"}const sE={convertOffsetParentRelativeRectToViewportRelativeRect:YL,getDocumentElement:pr,getClippingRect:tE,getOffsetParent:pv,getElementRects:iE,getClientRects:jL,getDimensions:eE,getScale:Xo,isElement:$i,isRTL:rE};function oE(t,e){let s=null,a;const i=pr(t);function l(){var d;clearTimeout(a),(d=s)==null||d.disconnect(),s=null}function f(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const{left:v,top:_,width:b,height:E}=t.getBoundingClientRect();if(d||e(),!b||!E)return;const T=bu(_),I=bu(i.clientWidth-(v+b)),O=bu(i.clientHeight-(_+E)),B=bu(v),R={rootMargin:-T+"px "+-I+"px "+-O+"px "+-B+"px",threshold:In(0,zi(1,m))||1};let D=!0;function F(H){const q=H[0].intersectionRatio;if(q!==m){if(!D)return f();q?f(!1,q):a=setTimeout(()=>{f(!1,1e-7)},1e3)}D=!1}try{s=new IntersectionObserver(F,{...R,root:i.ownerDocument})}catch{s=new IntersectionObserver(F,R)}s.observe(t)}return f(!0),l}function mv(t,e,s,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,v=nd(t),_=i||l?[...v?Sl(v):[],...Sl(e)]:[];_.forEach(P=>{i&&P.addEventListener("scroll",s,{passive:!0}),l&&P.addEventListener("resize",s)});const b=v&&d?oE(v,s):null;let E=-1,T=null;f&&(T=new ResizeObserver(P=>{let[R]=P;R&&R.target===v&&T&&(T.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var D;(D=T)==null||D.observe(e)})),s()}),v&&!m&&T.observe(v),T.observe(e));let I,O=m?oo(t):null;m&&B();function B(){const P=oo(t);O&&(P.x!==O.x||P.y!==O.y||P.width!==O.width||P.height!==O.height)&&s(),O=P,I=requestAnimationFrame(B)}return s(),()=>{var P;_.forEach(R=>{i&&R.removeEventListener("scroll",s),l&&R.removeEventListener("resize",s)}),b==null||b(),(P=T)==null||P.disconnect(),T=null,m&&cancelAnimationFrame(I)}}const gv=UL,aE=RL,_v=GL,vv=DL,yv=VL,lE=BL,uE=ML,cE=zL,hE=(t,e,s)=>{const a=new Map,i={platform:sE,...s},l={...i.platform,_c:a};return OL(t,e,{...i,platform:l})};function fE(t){return t!=null&&typeof t=="object"&&"$el"in t}function nf(t){if(fE(t)){const e=t.$el;return Qf(e)&&ho(e)==="#comment"?null:e}return t}function $o(t){return typeof t=="function"?t():W(t)}function dE(t){return{name:"arrow",options:t,fn(e){const s=nf($o(t.element));return s==null?{}:uE({element:s,padding:t.padding}).fn(e)}}}function bv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Dp(t,e){const s=bv(t);return Math.round(e*s)/s}function wv(t,e,s){s===void 0&&(s={});const a=s.whileElementsMounted,i=lt(()=>{var $;return($=$o(s.open))!=null?$:!0}),l=lt(()=>$o(s.middleware)),f=lt(()=>{var $;return($=$o(s.placement))!=null?$:"bottom"}),d=lt(()=>{var $;return($=$o(s.strategy))!=null?$:"absolute"}),m=lt(()=>{var $;return($=$o(s.transform))!=null?$:!0}),v=lt(()=>nf(t.value)),_=lt(()=>nf(e.value)),b=Ft(0),E=Ft(0),T=Ft(d.value),I=Ft(f.value),O=Vn({}),B=Ft(!1),P=lt(()=>{const $={position:T.value,left:"0",top:"0"};if(!_.value)return $;const it=Dp(_.value,b.value),X=Dp(_.value,E.value);return m.value?{...$,transform:"translate("+it+"px, "+X+"px)",...bv(_.value)>=1.5&&{willChange:"transform"}}:{position:T.value,left:it+"px",top:X+"px"}});let R;function D(){if(v.value==null||_.value==null)return;const $=i.value;hE(v.value,_.value,{middleware:l.value,placement:f.value,strategy:d.value}).then(it=>{b.value=it.x,E.value=it.y,T.value=it.strategy,I.value=it.placement,O.value=it.middlewareData,B.value=$!==!1})}function F(){typeof R=="function"&&(R(),R=void 0)}function H(){if(F(),a===void 0){D();return}if(v.value!=null&&_.value!=null){R=a(v.value,_.value,D);return}}function q(){i.value||(B.value=!1)}return ne([l,f,d,i],D,{flush:"sync"}),ne([v,_],H,{flush:"sync"}),ne(i,q,{flush:"sync"}),Df()&&Wu(F),{x:Bo(b),y:Bo(E),strategy:Bo(T),placement:Bo(I),middlewareData:Bo(O),isPositioned:Bo(B),floatingStyles:P,update:D}}const pE=X_(aL),mE=["id"],gE=["id"],_E=Pe({inheritAttrs:!1,__name:"BPopover",props:hi({boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},click:{type:Boolean,default:!1},closeOnHide:{type:Boolean,default:!1},content:{default:void 0},customClass:{default:""},delay:{default:()=>({show:100,hide:300})},floatingMiddleware:{default:void 0},hideMargin:{default:2},id:{default:void 0},inline:{type:Boolean,default:!1},manual:{type:Boolean,default:!1},noAutoClose:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noHide:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},noninteractive:{type:Boolean,default:!1},offset:{default:null},placement:{default:"top"},realtime:{type:Boolean,default:!1},reference:{default:null},strategy:{default:"absolute"},target:{default:null},title:{default:void 0},tooltip:{type:Boolean,default:!1},variant:{default:null},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:hi(["pointerleave","blur","click-outside","close-on-hide","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(t,{expose:e,emit:s}){const i=hn(t,"BPopover"),l=s,f=zl(),d=Br(t,"modelValue"),m=ga(()=>i.id,"popover"),v=Ft(!1),_=on("_element"),b=on("_content"),E=on("_arrow"),T=on("_placeholder"),I=Ft(null),O=Ft(null),B=lt(()=>i.placement.startsWith("auto")),P=Zf(()=>i.offset??NaN),R=lt(()=>rd(i.boundary)?i.boundary:void 0),D=lt(()=>Ev(i.boundary)?i.boundary:void 0),F=Ft({}),H=lt(()=>{if(i.floatingMiddleware!==void 0)return i.floatingMiddleware;const V=i.offset!==null?P.value:i.tooltip?6:8,K=[gv(V)];return i.noFlip===!1&&!B.value&&K.push(vv({boundary:R.value,rootBoundary:D.value,padding:i.boundaryPadding})),B.value&&K.push(aE({alignment:i.placement.split("-")[1]||void 0,boundary:R.value,rootBoundary:D.value,padding:i.boundaryPadding})),i.noShift===!1&&K.push(_v({boundary:R.value,rootBoundary:D.value,padding:i.boundaryPadding})),i.noHide===!1&&K.push(lE({boundary:R.value,rootBoundary:D.value,padding:i.boundaryPadding})),i.inline===!0&&K.push(cE()),K.push(dE({element:E,padding:10})),i.noSize===!1&&K.push(yv({boundary:R.value,rootBoundary:D.value,padding:i.boundaryPadding,apply({availableWidth:ct,availableHeight:gt}){var pt,z;F.value={maxHeight:gt>=(((pt=b.value)==null?void 0:pt.scrollHeight)??0)?void 0:gt?`${Math.max(0,gt)}px`:void 0,maxWidth:ct>=(((z=b.value)==null?void 0:z.scrollWidth)??0)?void 0:ct?`${Math.max(0,ct)}px`:void 0}}})),K}),q=lt(()=>B.value?void 0:i.placement),{floatingStyles:$,middlewareData:it,placement:X,update:J}=wv(I,_,{placement:q,middleware:H,strategy:tn(()=>i.strategy)}),_t=Ft({position:"absolute"});ne(it,V=>{var K,ct;if(i.noHide===!1&&((K=V.hide)!=null&&K.referenceHidden&&!v.value&&tt.value?i.closeOnHide&&!i.noAutoClose&&!i.manual?bt("close-on-hide"):(Mt.value=!0,v.value=!0):Mt.value&&!((ct=V.hide)!=null&&ct.referenceHidden)&&(Mt.value=!1,v.value=!1)),V.arrow){const{x:gt,y:pt}=V.arrow;_t.value={position:"absolute",top:pt?`${pt}px`:"",left:gt?`${gt}px`:""}}});let et;const{showRef:tt,hide:j,show:vt,toggle:yt,throttleHide:bt,computedNoAnimation:dt,transitionProps:Nt,contentShowing:ut,isVisible:At,renderRef:Ut,localTemporaryHide:Mt}=Fc(d,i,l,_,m,{showFn:()=>{J(),ti(()=>{et=mv(I.value,_.value,J,{animationFrame:i.realtime})})},hideFn:()=>{et&&(et(),et=void 0)}}),Pt=lt(()=>{const V=i.tooltip?"tooltip":"popover";return[V,`b-${V}`,{[`b-${V}-${i.variant}`]:i.variant!==null,show:At.value&&!v.value,fade:!dt.value,[`${i.customClass}`]:i.customClass!==void 0,[`bs-${V}-${vE(X.value)}`]:X.value!==void 0}]}),{x:Lt,y:Tt}=pE(),rt=()=>{var V,K;const ct=(V=O.value)==null?void 0:V.getBoundingClientRect(),gt=(K=_.value)==null?void 0:K.getBoundingClientRect(),pt=parseInt(i.hideMargin,10)||0,z=(window==null?void 0:window.scrollX)||0,N=(window==null?void 0:window.scrollY)||0,Q=!ct||Lt.value<ct.left+z-pt||Lt.value>ct.right+z+pt||Tt.value<ct.top+N-pt||Tt.value>ct.bottom+N+pt,at=!gt||Lt.value<gt.left+z-pt||Lt.value>gt.right+z+pt||Tt.value<gt.top+N-pt||Tt.value>gt.bottom+N+pt;return{triggerIsOutside:Q,isOutside:at}};let G;const Et=V=>{var K,ct;const{triggerIsOutside:gt,isOutside:pt}=rt();!i.noninteractive&&pt&&gt&&!((K=_.value)!=null&&K.contains(document==null?void 0:document.activeElement))&&!((ct=O.value)!=null&&ct.contains(document==null?void 0:document.activeElement))||i.noninteractive&&gt?j(V==null?void 0:V.type):(G&&clearTimeout(G),G=setTimeout(()=>{Et(V)},50))};ne(At,()=>{J()}),e({hide:j,show:vt,toggle:yt});const St=V=>{tt.value?j(V.type==="click"?"click":"toggle"):vt()},It=()=>{var V;if(i.target){const K=nc(de(i.target));K?O.value=K:console.warn("Target element not found",i.target)}else O.value=(V=T.value)==null?void 0:V.nextElementSibling;if(i.reference){const K=nc(de(i.reference));K?I.value=K:console.warn("Reference element not found",i.reference)}else I.value=O.value;if(!(!O.value||i.manual)){if(i.click){O.value.addEventListener("click",St);return}O.value.addEventListener("pointerenter",vt),O.value.addEventListener("pointerleave",Et),O.value.addEventListener("focus",vt),O.value.addEventListener("blur",Et)}},C=()=>{O.value&&(O.value.removeEventListener("click",St),O.value.removeEventListener("pointerenter",vt),O.value.removeEventListener("pointerleave",Et),O.value.removeEventListener("focus",vt),O.value.removeEventListener("blur",Et))};return Q_(_,()=>{tt.value&&i.click&&!i.noAutoClose&&!i.manual&&j("click-outside")},{ignore:[O]}),ne([()=>i.click,()=>i.target,()=>i.reference],()=>{C(),It()}),Hi(()=>{It(),ti(()=>{J()})}),Mc(C),(V,K)=>(wt(),zt(ce,null,[mt("span",{id:W(m)+"_placeholder",ref:"_placeholder",style:{display:"none"}},null,8,mE),ue(V.$slots,"target",{show:W(vt),hide:W(j),toggle:W(yt),visible:W(tt)},void 0,!0),$t(Yf,{to:W(i).teleportTo,disabled:!W(i).teleportTo||W(i).teleportDisabled},{default:ee(()=>[W(Ut)||W(ut)?(wt(),ge(Tl,ye({key:0},W(Nt),{appear:d.value||W(i).visible}),{default:ee(()=>[Je(mt("div",ye({id:W(m)},V.$attrs,{ref:"_element",class:Pt.value,role:"tooltip",tabindex:"-1",style:W($)}),[mt("div",{ref:"_arrow",class:Re(`${W(i).tooltip?"tooltip":"popover"}-arrow`),style:Dr(_t.value),"data-popper-arrow":""},null,6),mt("div",{ref:"_content",class:"overflow-auto",style:Dr(F.value)},[W(i).title||f.title?(wt(),zt("div",{key:0,class:Re(["position-sticky top-0",W(i).tooltip?"tooltip-inner":"popover-header"])},[ue(V.$slots,"title",{},()=>[ve(Zt(W(i).title),1)],!0)],2)):Se("",!0),W(i).tooltip&&!f.title&&!W(i).title||!W(i).tooltip?(wt(),zt("div",{key:1,class:Re(W(i).tooltip?"tooltip-inner":"popover-body")},[ue(V.$slots,"default",{},()=>[ve(Zt(W(i).content),1)],!0)],2)):Se("",!0)],4)],16,gE),[[Cl,W(tt)&&!v.value]])]),_:3},16,["appear"])):Se("",!0)]),_:3},8,["to","disabled"])],64))}}),Lv=jf(_E,[["__scopeId","data-v-d4670342"]]),vE=t=>{const[e]=t.split("-");switch(e){case"left":return"start";case"right":return"end";default:return e}},yE=t=>{const[e]=t.split("-");switch(e){case"left":return"start";case"right":return"end";case"top":return"up";case"bottom":return"down";default:return e}},rd=t=>t==="clippingAncestors"||t instanceof Element||Array.isArray(t),Ev=t=>!rd(t),bE=(t,e)=>[...e].reduce((s,a)=>(s[a]=t[a],s),{}),Xa=(t,e,s)=>{const a=e.split(/[.[\]]/g);let i=t;for(const l of a){if(i===null||i===void 0)return s;l.trim()!==""&&(i=i[l])}return i===void 0?s:i},kv=Pe({inheritAttrs:!1,__name:"BCollapse",props:hi({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},tag:{default:"div"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noFade:{type:Boolean},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:hi(["hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(t,{expose:e,emit:s}){const i=hn(t,"BCollapse"),l=s,f=Br(t,"modelValue"),d=ga(()=>i.id,"collapse"),m=on("_element");let v=!1;const _=J=>{v=!0,requestAnimationFrame(()=>{i.horizontal?J.style.width=`${J.scrollWidth}px`:J.style.height=`${J.scrollHeight}px`})},b=J=>{v||(i.horizontal?J.style.width=`${J.scrollWidth}px`:J.style.height=`${J.scrollHeight}px`,J.offsetHeight)},E=J=>{requestAnimationFrame(()=>{i.horizontal?J.style.width="":J.style.height=""})},T=J=>{J.style.height="",J.style.width="",v=!1},I=J=>{J.style.height="",J.style.width="",v=!1},{showRef:O,renderRef:B,hide:P,show:R,toggle:D,isActive:F,computedNoAnimation:H,contentShowing:q,transitionProps:$}=Fc(f,i,l,m,d,{transitionProps:{onBeforeLeave:b,onEnter:_,onLeave:E,onAfterEnter:T,onAfterLeave:I,enterToClass:"",leaveToClass:"",enterFromClass:"",leaveFromClass:"",enterActiveClass:"",leaveActiveClass:""}}),it=lt(()=>({show:F.value,"navbar-collapse":i.isNav,"collapse-horizontal":i.horizontal})),X=lt(()=>({toggle:D,show:R,hide:P,id:d.value,visible:O.value}));return e({hide:P,isNav:i.isNav,show:R,toggle:D,visible:Gn(O)}),cs(Z_,{id:d,hide:P,show:R,toggle:D,visible:Gn(O),isNav:tn(()=>i.isNav)}),(J,_t)=>(wt(),zt(ce,null,[ue(J.$slots,"header",ki(rr(X.value))),W(B)||W(q)?(wt(),ge(Tl,ye({key:0},W($),{"enter-active-class":W(H)?"":"collapsing","leave-active-class":W(H)?"":"collapsing",appear:f.value||W(i).visible}),{default:ee(()=>[Je((wt(),ge(bs(W(i).tag),ye({id:W(d),ref:"_element",class:["collapse",it.value],"is-nav":W(i).isNav},J.$attrs),{default:ee(()=>[W(q)?ue(J.$slots,"default",ki(ye({key:0},X.value))):Se("",!0)]),_:3},16,["id","class","is-nav"])),[[Cl,W(O)]])]),_:3},16,["enter-active-class","leave-active-class","appear"])):Se("",!0),ue(J.$slots,"footer",ki(rr(X.value)))],64))}}),wE=["type","disabled","aria-label"],LE=Pe({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(t,{emit:e}){const a=hn(t,"BCloseButton"),i=e;return(l,f)=>(wt(),zt("button",{type:W(a).type,class:"btn-close",disabled:W(a).disabled,"aria-label":W(a).ariaLabel,onClick:f[0]||(f[0]=d=>i("click",d))},null,8,wE))}}),sd=t=>((t==null?void 0:t())??[]).length===0,pl=t=>lt(()=>{let e=de(t);return e={variant:e.variant??null,bgVariant:e.bgVariant??null,textVariant:e.textVariant??null,borderVariant:e.borderVariant??null},{[`text-bg-${e.variant}`]:e.variant!==null,[`text-${e.textVariant}`]:e.textVariant!==null,[`bg-${e.bgVariant}`]:e.bgVariant!==null,[`border-${e.borderVariant}`]:e.borderVariant!==null}}),EE={key:0,class:"visually-hidden"},kE=Pe({__name:"BSpinner",props:{label:{default:void 0},role:{default:"status"},small:{type:Boolean,default:!1},tag:{default:"span"},type:{default:"border"},variant:{default:null}},setup(t){const s=hn(t,"BSpinner"),a=zl(),i=pl(lt(()=>({textVariant:s.variant}))),l=lt(()=>[`spinner-${s.type}`,i.value,{[`spinner-${s.type}-sm`]:s.small}]),f=lt(()=>!sd(a.label));return(d,m)=>(wt(),ge(bs(W(s).tag),{class:Re(l.value),role:W(s).label||f.value?W(s).role:null,"aria-hidden":W(s).label||f.value?null:!0},{default:ee(()=>[W(s).label||f.value?(wt(),zt("span",EE,[ue(d.$slots,"label",{},()=>[ve(Zt(W(s).label),1)])])):Se("",!0)]),_:3},8,["class","role","aria-hidden"]))}}),xE=t=>t.replace(/-./g,e=>e.charAt(1).toUpperCase()).replace(/\b\w/g,e=>e.toUpperCase()).replace(/\s+/g,""),TE=t=>!!(t.href||t.to),xv=(t,e)=>{const s=Gn(tn(e)),a=Gn(tn(t)),i=lt(()=>TE(a.value)),l=lt(()=>i.value?bE(a.value,s.value??["active","activeClass","append","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover"]):{});return{computedLink:i,computedLinkProps:l}},CE=t=>{const e=ei(),s=e==null?void 0:e.appContext.app.config.globalProperties.$router,a=e==null?void 0:e.appContext.app.config.globalProperties.$route,i=bs("RouterLink"),l=typeof i=="string"?null:i.useLink,f=tn(t),d=tn(()=>f.value.to||""),m=tn(()=>f.value.replace),v=lt(()=>xE(f.value.routerComponentName)),_=lt(()=>!((e==null?void 0:e.appContext.app.component(v.value))!==void 0)||f.value.disabled||!f.value.to?"a":v.value),b=lt(()=>_.value==="RouterLink"),E=lt(()=>b.value&&typeof(e==null?void 0:e.appContext.app.$nuxt)<"u"),T=lt(()=>_.value!=="a"&&!b.value&&!E.value),I=lt(()=>b.value||E.value),O=lt(()=>({to:d.value,replace:m.value})),B=l==null?void 0:l({to:d,replace:m}),P=lt(()=>I.value?B:null),R=lt(()=>{var D;if((D=P.value)!=null&&D.href.value)return P.value.href.value;const F="#";if(f.value.href)return f.value.href;if(typeof f.value.to=="string")return f.value.to||F;const{to:H}=f.value;if(H!==void 0&&"path"in H){const q=H.path||"",$=H.query?`?${Object.keys(H.query).map(X=>{var J;return`${X}=${(J=H.query)==null?void 0:J[X]}`}).join("=")}`:"",it=!H.hash||H.hash.charAt(0)==="#"?H.hash||"":`#${H.hash}`;return`${q}${$}${it}`||F}return F});return{isNonStandardTag:T,tag:_,isRouterLink:b,isNuxtLink:E,computedHref:R,routerName:v,router:s,route:a,link:P,linkProps:O}},Tv=t=>lt(()=>{const e=de(t);return{[`link-${e.variant}`]:e.variant!==null,[`link-opacity-${e.opacity}`]:e.opacity!==void 0,[`link-opacity-${e.opacityHover}-hover`]:e.opacityHover!==void 0,[`link-underline-${e.underlineVariant}`]:e.underlineVariant!==null,[`link-offset-${e.underlineOffset}`]:e.underlineOffset!==void 0,[`link-offset-${e.underlineOffsetHover}-hover`]:e.underlineOffsetHover!==void 0,"link-underline":e.underlineVariant===null&&(e.underlineOpacity!==void 0||e.underlineOpacityHover!==void 0),[`link-underline-opacity-${e.underlineOpacity}`]:e.underlineOpacity!==void 0,[`link-underline-opacity-${e.underlineOpacityHover}-hover`]:e.underlineOpacityHover!==void 0,"icon-link":e.icon===!0}}),Bp="active",Cv=Pe({__name:"BLink",props:{active:{type:Boolean,default:void 0},activeClass:{default:"router-link-active"},disabled:{type:Boolean,default:!1},exactActiveClass:{default:"router-link-exact-active"},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean,default:!1},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean,default:void 0},prefetchOn:{default:void 0},noPrefetch:{type:Boolean,default:void 0},prefetchedClass:{default:void 0},rel:{default:void 0},replace:{type:Boolean,default:!1},routerComponentName:{default:"router-link"},routerTag:{default:"a"},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null},variant:{default:null}},emits:["click"],setup(t,{emit:e}){const a=hn(t,"BLink"),i=e,l=Gf(),{computedHref:f,tag:d,link:m,isNuxtLink:v,isRouterLink:_,linkProps:b,isNonStandardTag:E}=CE(lt(()=>({routerComponentName:a.routerComponentName,disabled:a.disabled,to:a.to,replace:a.replace,href:a.href}))),T=rn(Z_,null),I=rn(Y_,null),O=Tv(a),B=lt(()=>{var $,it;return[O.value,l.class,P.value,{[Bp]:a.active,[a.activeClass]:(($=m.value)==null?void 0:$.isActive.value)||!1,[a.exactActiveClass]:((it=m.value)==null?void 0:it.isExactActive.value)||!1,"stretched-link":a.stretched===!0}]}),P=lt(()=>({[Bp]:a.active,disabled:a.disabled})),R=$=>{var it,X,J;if(a.disabled){$.preventDefault(),$.stopImmediatePropagation();return}(((it=T==null?void 0:T.isNav)==null?void 0:it.value)===!0&&I===null||I!==null&&((X=I.autoClose)==null?void 0:X.value)===!0)&&((J=T==null?void 0:T.hide)==null||J.call(T)),i("click",$)},D=lt(()=>a.target==="_blank"?!a.rel&&a.noRel?"noopener":a.rel:void 0),F=lt(()=>a.disabled?"-1":typeof l.tabindex>"u"?null:l.tabindex),H=lt(()=>({prefetch:a.prefetch,noPrefetch:a.noPrefetch,prefetchOn:a.prefetchOn,prefetchedClass:a.prefetchedClass,...b.value})),q=lt(()=>({..._.value?b.value:void 0,...v.value||E.value?H.value:void 0}));return($,it)=>(wt(),ge(bs(W(d)),ye({class:B.value,target:W(a).target,href:W(f),rel:D.value,tabindex:F.value,"aria-disabled":W(a).disabled?!0:null},q.value,{onClick:it[0]||(it[0]=X=>{var J;R(X),(J=W(m))==null||J.navigate(X)})}),{default:ee(()=>[ue($.$slots,"default")]),_:3},16,["class","target","href","rel","tabindex","aria-disabled"]))}}),hs=Pe({__name:"BButton",props:hi({loading:{type:Boolean,default:!1},loadingFill:{type:Boolean,default:!1},loadingText:{default:"Loading..."},pill:{type:Boolean,default:!1},size:{default:"md"},squared:{type:Boolean,default:!1},tag:{default:"button"},type:{default:"button"},variant:{default:"secondary"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},routerTag:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null}},{pressed:{type:Boolean,default:void 0},pressedModifiers:{}}),emits:hi(["click"],["update:pressed"]),setup(t,{emit:e}){const a=hn(t,"BButton"),i=e,l=on("_element"),f=Br(t,"pressed"),{computedLink:d,computedLinkProps:m}=xv(a,["active-class","exact-active-class","replace","routerComponentName","routerTag"]),v=lt(()=>typeof f.value=="boolean"),_=lt(()=>a.tag==="button"&&a.href===void 0&&a.to===void 0),b=lt(()=>a.to!==void 0),E=lt(()=>a.href!==void 0?!1:!_.value),T=lt(()=>b.value?m.value:[]),I=lt(()=>a.href==="#"&&a.disabled?!0:E.value?a.disabled:null),O=lt(()=>{var H;return((H=a.variant)==null?void 0:H.startsWith("link"))||!1}),B=lt(()=>{var H;return((H=a.variant)==null?void 0:H.startsWith("link-"))||!1}),P=Tv(lt(()=>{var H;return{...O.value?{icon:a.icon,opacity:a.opacity,opacityHover:a.opacityHover,underlineOffset:a.underlineOffset,underlineOffsetHover:a.underlineOffsetHover,underlineOpacity:a.underlineOpacity,underlineOpacityHover:a.underlineOpacityHover,underlineVariant:a.underlineVariant,variant:B.value===!0?(H=a.variant)==null?void 0:H.slice(5):null}:void 0}})),R=lt(()=>[O.value===!0&&d.value===!1?P.value:void 0,[`btn-${a.size}`],{[`btn-${a.variant}`]:a.variant!==null&&B.value===!1,active:a.active||f.value,"rounded-pill":a.pill,"rounded-0":a.squared,disabled:a.disabled}]),D=lt(()=>b.value?Cv:a.href?"a":a.tag),F=H=>{if(a.disabled){H.preventDefault(),H.stopPropagation();return}i("click",H),v.value&&(f.value=!f.value)};return as([" ","enter"],H=>{var q;a.href==="#"&&(H.preventDefault(),(q=l.value)==null||q.click())},{target:l}),(H,q)=>(wt(),ge(bs(D.value),ye({ref:"_element",class:"btn"},T.value,{class:R.value,"aria-disabled":I.value,"aria-pressed":v.value?f.value:null,autocomplete:v.value?"off":null,disabled:_.value?W(a).disabled:null,href:W(a).href,rel:W(d)?W(a).rel:null,role:E.value||W(d)?"button":null,target:W(d)?W(a).target:null,type:_.value?W(a).type:null,to:_.value?null:W(a).to,onClick:F}),{default:ee(()=>[W(a).loading?ue(H.$slots,"loading",{key:0},()=>[W(a).loadingFill?Se("",!0):(wt(),zt(ce,{key:0},[ve(Zt(W(a).loadingText),1)],64)),ue(H.$slots,"loading-spinner",{},()=>[$t(kE,{small:W(a).size!=="lg",label:W(a).loadingFill?W(a).loadingText:void 0},null,8,["small","label"])])]):ue(H.$slots,"default",{key:1})]),_:3},16,["class","aria-disabled","aria-pressed","autocomplete","disabled","href","rel","role","target","type","to"]))}}),Sv=Pe({name:"ConditionalWrapper",inheritAttrs:!1,props:{tag:{type:String,default:"div"},skip:{type:Boolean,required:!0}},slots:Object,setup(t,{slots:e,attrs:s}){return()=>{var a,i;return t.skip?(a=e.default)==null?void 0:a.call(e,{}):Mi(t.tag,{...s},[(i=e.default)==null?void 0:i.call(e,{})])}}}),SE=t=>lt(()=>{const e=de(t);return e?`justify-content-${e}`:""}),IE={class:"visually-hidden"},PE=["id","aria-labelledby","role"],NE=Pe({__name:"BDropdown",props:hi({ariaLabel:{default:void 0},autoClose:{type:[Boolean,String],default:!0},boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},disabled:{type:Boolean,default:!1},floatingMiddleware:{default:void 0},id:{default:void 0},isNav:{type:Boolean,default:!1},menuClass:{default:void 0},noCaret:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},offset:{default:0},role:{default:"menu"},size:{default:"md"},noWrapper:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitButtonType:{default:"button"},splitClass:{default:void 0},splitDisabled:{type:Boolean,default:void 0},splitHref:{default:void 0},splitTo:{default:void 0},splitVariant:{default:void 0},strategy:{default:"absolute"},text:{default:void 0},toggleClass:{default:void 0},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"},wrapperClass:{default:void 0},placement:{default:"bottom-start"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:hi(["split-click","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(t,{expose:e,emit:s}){const i=hn(t,"BDropdown"),l=s,f=ga(()=>i.id,"dropdown"),d=Br(t,"modelValue"),m=rn(Uw,!1),v=rn(Gw,!1),_=lt(()=>typeof i.offset=="string"||typeof i.offset=="number"?i.offset:NaN),b=Zf(_),E=on("_floating"),T=on("_button"),I=on("_splitButton"),O=lt(()=>rd(i.boundary)?i.boundary:void 0),B=lt(()=>Ev(i.boundary)?i.boundary:void 0),P=lt(()=>i.split?T.value:I.value),{showRef:R,renderRef:D,hide:F,show:H,toggle:q,computedNoAnimation:$,transitionProps:it,contentShowing:X,isVisible:J}=Fc(d,i,l,P,f),_t=lt(()=>[{show:J.value,fade:!$.value}]);as("Escape",()=>{var Mt;F(),(Mt=nc(P.value))==null||Mt.focus()},{target:P}),as("Escape",()=>{var Mt;F(),(Mt=nc(P.value))==null||Mt.focus()},{target:E});const et=(Mt,Pt)=>{var Lt,Tt,rt,G,Et,St,It;if((Tt=E.value)!=null&&Tt.contains((Lt=Mt.target)==null?void 0:Lt.closest("form"))||/input|select|option|textarea|form/i.test((rt=Mt.target)==null?void 0:rt.tagName))return;if(Mt.preventDefault(),!R.value){H();const V=setInterval(()=>{J.value&&(clearInterval(V),ti(()=>et(Mt,Pt)))},16);return}const C=(G=E.value)==null?void 0:G.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)");if(C)if((Et=E.value)!=null&&Et.contains(document.activeElement)){const V=E.value.querySelector(".dropdown-item:focus"),K=Array.prototype.indexOf.call(C,V)+Pt;K>=0&&K<(C==null?void 0:C.length)&&((St=C[K])==null||St.focus())}else(It=C[Pt===-1?C.length-1:0])==null||It.focus()};as("ArrowUp",Mt=>et(Mt,-1),{target:P}),as("ArrowDown",Mt=>et(Mt,1),{target:P}),as("ArrowUp",Mt=>et(Mt,-1),{target:E}),as("ArrowDown",Mt=>et(Mt,1),{target:E});const tt=Ft({}),j=lt(()=>{if(i.floatingMiddleware!==void 0)return i.floatingMiddleware;const Mt=typeof i.offset=="string"||typeof i.offset=="number"?b.value:i.offset,Pt=[gv(Mt)];return i.noFlip===!1&&Pt.push(vv({boundary:O.value,rootBoundary:B.value,padding:i.boundaryPadding})),i.noShift===!1&&Pt.push(_v({boundary:O.value,rootBoundary:B.value,padding:i.boundaryPadding})),i.noSize===!1&&Pt.push(yv({boundary:O.value,rootBoundary:B.value,padding:i.boundaryPadding,apply({availableWidth:Lt,availableHeight:Tt}){var rt,G;tt.value={maxHeight:Tt>=(((rt=E.value)==null?void 0:rt.scrollHeight)??0)?void 0:Tt?`${Math.max(0,Tt)}px`:void 0,maxWidth:Lt>=(((G=E.value)==null?void 0:G.scrollWidth)??0)?void 0:Lt?`${Math.max(0,Lt)}px`:void 0}}})),Pt}),{update:vt,floatingStyles:yt}=wv(P,E,{placement:()=>i.placement,middleware:j,strategy:tn(()=>i.strategy),whileElementsMounted:mv}),bt=v?{class:"btn-group",role:"group"}:void 0,dt=lt(()=>[bt==null?void 0:bt.class,i.wrapperClass,{"btn-group":!i.wrapperClass&&i.split,[`drop${yE(i.placement)}`]:!i.wrapperClass,"position-static":i.boundary!=="clippingAncestors"&&!i.isNav}]),Nt=lt(()=>[i.split?i.splitClass:i.toggleClass,{"nav-link":i.isNav,"dropdown-toggle":!i.split,"dropdown-toggle-no-caret":i.noCaret&&!i.split,show:i.split?void 0:R.value}]),ut=()=>{q()},At=Mt=>{if(i.split){l("split-click",Mt);return}ut()};Q_(E,()=>{R.value&&(i.autoClose===!0||i.autoClose==="outside")&&F()},{ignore:[T,I]});const Ut=()=>{R.value&&(i.autoClose===!0||i.autoClose==="inside")&&F()};return ne(J,()=>{vt()}),e({hide:F,show:H,toggle:q}),cs(Fw,{id:f,show:H,hide:F,toggle:q,visible:tn(()=>R.value),isNav:tn(()=>i.isNav)}),(Mt,Pt)=>{var Lt;return wt(),ge(Sv,{skip:W(m)||W(i).noWrapper,class:Re(dt.value),role:(Lt=W(bt))==null?void 0:Lt.role},{default:ee(()=>[$t(hs,{id:W(f),ref:"_splitButton",variant:W(i).splitVariant||W(i).variant,size:W(i).size,class:Re(Nt.value),disabled:W(i).splitDisabled||W(i).disabled,type:W(i).splitButtonType,"aria-label":W(i).ariaLabel,"aria-expanded":W(i).split?void 0:W(R),"aria-haspopup":W(i).split?void 0:"menu",href:W(i).split?W(i).splitHref:void 0,to:W(i).split&&W(i).splitTo?W(i).splitTo:void 0,onClick:At},{default:ee(()=>[ue(Mt.$slots,"button-content",{},()=>[ve(Zt(W(i).text),1)],!0)]),_:3},8,["id","variant","size","class","disabled","type","aria-label","aria-expanded","aria-haspopup","href","to"]),W(i).split?(wt(),ge(hs,{key:0,id:W(f)+"-split",ref:"_button",variant:W(i).variant,size:W(i).size,disabled:W(i).disabled,class:Re([[W(i).toggleClass,{show:W(R)}],"dropdown-toggle-split dropdown-toggle"]),"aria-expanded":W(R),"aria-haspopup":"menu",onClick:ut},{default:ee(()=>[mt("span",IE,[ue(Mt.$slots,"toggle-text",{},()=>[ve(Zt(W(i).toggleText),1)],!0)])]),_:3},8,["id","variant","size","disabled","class","aria-expanded"])):Se("",!0),$t(Yf,{to:W(i).teleportTo,disabled:!W(i).teleportTo||W(i).teleportDisabled},{default:ee(()=>[W(D)||W(X)?(wt(),ge(Tl,ye({key:0},W(it),{appear:d.value||W(i).visible}),{default:ee(()=>[Je(mt("ul",{id:W(f)+"-menu",ref:"_floating",style:Dr([W(yt),tt.value]),class:Re(["dropdown-menu overflow-auto",[W(i).menuClass,_t.value]]),"aria-labelledby":W(f),role:W(i).role,onClick:Ut},[W(X)?ue(Mt.$slots,"default",{key:0,hide:W(F),show:W(H),visible:W(R)},void 0,!0):Se("",!0)],14,PE),[[Cl,W(R)]])]),_:3},16,["appear"])):Se("",!0)]),_:3},8,["to","disabled"])]),_:3},8,["skip","class","role"])}}}),OE=jf(NE,[["__scopeId","data-v-8ac2524d"]]),ME=["id","novalidate"],AE=Pe({__name:"BForm",props:{floating:{type:Boolean,default:!1},id:{default:void 0},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},setup(t,{expose:e}){const a=hn(t,"BForm"),i=on("_element"),l=lt(()=>({"form-floating":a.floating,"was-validated":a.validated}));return e({element:i}),(f,d)=>(wt(),zt("form",{id:W(a).id,ref:"_element",novalidate:W(a).novalidate,class:Re(l.value)},[ue(f.$slots,"default")],10,ME))}}),RE=["value","disabled"],od=Pe({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(t){const s=hn(t,"BFormSelectOption");return(a,i)=>(wt(),zt("option",{value:W(s).value,disabled:W(s).disabled},[ue(a.$slots,"default")],8,RE))}}),Iv=(t,e)=>{const s=f=>typeof f=="object"&&f!==null&&"label"in f,a=f=>{const d=de(e);if(typeof f=="string")return{value:f,text:f};if(typeof f=="number")return{value:f,text:`${f}`};if(f instanceof Date)return{value:f,text:f.toLocaleString()};const m=Xa(f,d.valueField),v=Xa(f,d.textField),_=Xa(f,d.disabledField),b=d.optionsField?Xa(f,d.optionsField):void 0;return b!==void 0?{label:Xa(f,d.labelField)||v,options:b}:{...typeof f=="object"?f:void 0,value:m,text:v,disabled:_}},i=f=>f.map(d=>a(d));return{normalizedOptions:lt(()=>i(de(t))),isComplex:s}},DE=(t,e)=>lt(()=>{const s=de(t),a=de(e);return s===!0?"true":typeof s=="string"?s:a===!1?"true":s===!1?"false":void 0}),Pv=t=>lt(()=>{const e=de(t);return e===!0?"is-valid":e===!1?"is-invalid":null}),BE=t=>lt(()=>{const e=de(t);return{"form-check":e.plain===!1&&e.button===!1&&e.hasDefaultSlot,"form-check-reverse":e.reverse===!0,"form-check-inline":e.inline===!0,"form-switch":e.switch===!0,[`form-control-${e.size}`]:e.size!==void 0&&e.size!=="md"&&e.button===!1}}),FE=t=>{const e=Gn(tn(t)),s=Pv(()=>e.value.state??null);return lt(()=>[s.value,{"form-check-input":e.value.plain===!1&&e.value.button===!1,"btn-check":e.value.button===!0}])},zE=t=>lt(()=>{const e=de(t);return{"form-check-label":e.plain===!1&&e.button===!1,btn:e.button===!0,[`btn-${e.buttonVariant}`]:e.button===!0&&e.buttonVariant!==void 0&&e.buttonVariant!==null,[`btn-${e.size}`]:e.button&&e.size&&e.size!=="md"}}),$E=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","true-value","false-value","indeterminate"],UE=["for"],GE=Pe({inheritAttrs:!1,__name:"BFormCheckbox",props:hi({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},autofocus:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonGroup:{type:Boolean,default:!1},buttonVariant:{default:null},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},inline:{type:Boolean,default:!1},name:{default:void 0},plain:{type:Boolean,default:!1},required:{type:Boolean,default:void 0},reverse:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null},switch:{type:Boolean,default:!1},uncheckedValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:!1},wrapperAttrs:{default:void 0},inputClass:{default:void 0},value:{type:[String,Boolean,Array,Set,Object,Number,null],default:!0}},{modelValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:void 0},modelModifiers:{},indeterminate:{type:Boolean,default:!1},indeterminateModifiers:{}}),emits:["update:modelValue","update:indeterminate"],setup(t,{expose:e}){const s=Gf(),a=lt(()=>{const{class:$,...it}=s;return{wrapperClass:$,inputAttrs:it}}),l=hn(t,"BFormCheckbox"),f=zl(),d=Br(t,"modelValue"),m=Br(t,"indeterminate"),v=ga(()=>l.id,"form-check"),_=rn(Bw,null),b=on("_input"),{focused:E}=Vo(b,{initialValue:l.autofocus}),T=lt(()=>!sd(f.default)),I=lt({get:()=>_?_.modelValue.value:d.value,set:$=>{if($!==void 0){if(m.value=!1,_!==null&&Array.isArray($)){_.modelValue.value=$;return}d.value=$}}}),O=lt(()=>!!(l.name??(_==null?void 0:_.name.value))&&(l.required||(_==null?void 0:_.required.value))),B=lt(()=>l.buttonGroup||((_==null?void 0:_.buttons.value)??!1)),P=lt(()=>({plain:l.plain||((_==null?void 0:_.plain.value)??!1),button:l.button||((_==null?void 0:_.buttons.value)??!1),inline:l.inline||((_==null?void 0:_.inline.value)??!1),reverse:l.reverse||((_==null?void 0:_.reverse.value)??!1),switch:l.switch||((_==null?void 0:_.switch.value)??!1),state:l.state===!0||l.state===!1?l.state:(_==null?void 0:_.state.value)??null,size:l.size??(_==null?void 0:_.size.value)??"md",buttonVariant:l.buttonVariant??(_==null?void 0:_.buttonVariant.value)??"secondary",hasDefaultSlot:T.value})),R=BE(P),D=lt(()=>[R.value,a.value.wrapperClass]),F=FE(P),H=lt(()=>[F.value,l.inputClass]),q=zE(P);return e({blur:()=>{E.value=!1},element:b,focus:()=>{E.value=!0}}),($,it)=>(wt(),ge(Sv,ye({skip:B.value},W(l).wrapperAttrs,{class:D.value}),{default:ee(()=>{var X,J,_t;return[Je(mt("input",ye({id:W(v),ref:"_input","onUpdate:modelValue":it[0]||(it[0]=et=>I.value=et),class:H.value,type:"checkbox",disabled:W(l).disabled||((X=W(_))==null?void 0:X.disabled.value),required:O.value||void 0,name:W(l).name||((J=W(_))==null?void 0:J.name.value),form:W(l).form||((_t=W(_))==null?void 0:_t.form.value),"aria-label":W(l).ariaLabel,"aria-labelledby":W(l).ariaLabelledby,"aria-required":O.value||void 0,value:W(l).value,"true-value":W(l).value,"false-value":W(l).uncheckedValue,indeterminate:m.value||void 0},a.value.inputAttrs),null,16,$E),[[G_,I.value]]),T.value||W(l).plain===!1?(wt(),zt("label",{key:0,for:W(v),class:Re(W(q))},[ue($.$slots,"default")],10,UE)):Se("",!0)]}),_:3},16,["skip","class"]))}}),VE=["label"],HE=Pe({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(t){const s=hn(t,"BFormSelectOptionGroup"),{normalizedOptions:a}=Iv(()=>s.options,s);return(i,l)=>(wt(),zt("optgroup",{label:W(s).label},[ue(i.$slots,"first"),(wt(!0),zt(ce,null,lr(W(a),(f,d)=>(wt(),ge(od,ye({key:d,disabled:f.disabled,value:f.value,ref_for:!0},i.$attrs),{default:ee(()=>[ue(i.$slots,"option",ye({ref_for:!0},f),()=>[ve(Zt(f.text),1)])]),_:2},1040,["disabled","value"]))),128)),ue(i.$slots,"default")],8,VE))}}),qE=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],WE=Pe({__name:"BFormSelect",props:hi({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:e}){const a=hn(t,"BFormSelect"),i=Br(t,"modelValue"),l=ga(()=>a.id,"input"),f=Zf(()=>a.selectSize),d=Pv(()=>a.state),m=on("_input"),{focused:v}=Vo(m,{initialValue:a.autofocus}),_=lt(()=>[d.value,{"form-control":a.plain,[`form-control-${a.size}`]:a.size!=="md"&&a.plain,"form-select":!a.plain,[`form-select-${a.size}`]:a.size!=="md"&&!a.plain}]),b=lt(()=>f.value||a.plain?f.value:void 0),E=DE(()=>a.ariaInvalid,()=>a.state),{normalizedOptions:T,isComplex:I}=Iv(()=>a.options,a),O=lt(()=>T.value),B=lt({get:()=>i.value,set:P=>{i.value=P}});return e({blur:()=>{v.value=!1},element:m,focus:()=>{v.value=!0}}),(P,R)=>Je((wt(),zt("select",{id:W(l),ref:"_input","onUpdate:modelValue":R[0]||(R[0]=D=>B.value=D),class:Re(_.value),name:W(a).name,form:W(a).form||void 0,multiple:W(a).multiple||void 0,size:b.value,disabled:W(a).disabled,required:W(a).required||void 0,"aria-required":W(a).required||void 0,"aria-invalid":W(E)},[ue(P.$slots,"first"),(wt(!0),zt(ce,null,lr(O.value,(D,F)=>(wt(),zt(ce,{key:F},[W(I)(D)?(wt(),ge(HE,{key:0,label:D.label,options:D.options,"value-field":W(a).valueField,"text-field":W(a).textField,"disabled-field":W(a).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(wt(),ge(od,{key:1,value:D.value,disabled:D.disabled},{default:ee(()=>[ue(P.$slots,"option",ye({ref_for:!0},D),()=>[ve(Zt(D.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),ue(P.$slots,"default")],10,qE)),[[so,B.value]])}});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Nv=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ac=Nv.join(","),Ov=typeof Element>"u",ao=Ov?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,lc=!Ov&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},uc=function t(e,s){var a;s===void 0&&(s=!0);var i=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),l=i===""||i==="true",f=l||s&&e&&t(e.parentNode);return f},ZE=function(e){var s,a=e==null||(s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"contenteditable");return a===""||a==="true"},Mv=function(e,s,a){if(uc(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ac));return s&&ao.call(e,ac)&&i.unshift(e),i=i.filter(a),i},Av=function t(e,s,a){for(var i=[],l=Array.from(e);l.length;){var f=l.shift();if(!uc(f,!1))if(f.tagName==="SLOT"){var d=f.assignedElements(),m=d.length?d:f.children,v=t(m,!0,a);a.flatten?i.push.apply(i,v):i.push({scopeParent:f,candidates:v})}else{var _=ao.call(f,ac);_&&a.filter(f)&&(s||!e.includes(f))&&i.push(f);var b=f.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(f),E=!uc(b,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(f));if(b&&E){var T=t(b===!0?f.children:b.children,!0,a);a.flatten?i.push.apply(i,T):i.push({scopeParent:f,candidates:T})}else l.unshift.apply(l,f.children)}}return i},Rv=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Qs=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ZE(e))&&!Rv(e)?0:e.tabIndex},YE=function(e,s){var a=Qs(e);return a<0&&s&&!Rv(e)?0:a},jE=function(e,s){return e.tabIndex===s.tabIndex?e.documentOrder-s.documentOrder:e.tabIndex-s.tabIndex},Dv=function(e){return e.tagName==="INPUT"},XE=function(e){return Dv(e)&&e.type==="hidden"},KE=function(e){var s=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return s},JE=function(e,s){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===s)return e[a]},QE=function(e){if(!e.name)return!0;var s=e.form||lc(e),a=function(d){return s.querySelectorAll('input[type="radio"][name="'+d+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=a(window.CSS.escape(e.name));else try{i=a(e.name)}catch(f){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",f.message),!1}var l=JE(i,e.form);return!l||l===e},tk=function(e){return Dv(e)&&e.type==="radio"},ek=function(e){return tk(e)&&!QE(e)},nk=function(e){var s,a=e&&lc(e),i=(s=a)===null||s===void 0?void 0:s.host,l=!1;if(a&&a!==e){var f,d,m;for(l=!!((f=i)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(i)||e!=null&&(m=e.ownerDocument)!==null&&m!==void 0&&m.contains(e));!l&&i;){var v,_,b;a=lc(i),i=(v=a)===null||v===void 0?void 0:v.host,l=!!((_=i)!==null&&_!==void 0&&(b=_.ownerDocument)!==null&&b!==void 0&&b.contains(i))}}return l},Fp=function(e){var s=e.getBoundingClientRect(),a=s.width,i=s.height;return a===0&&i===0},ik=function(e,s){var a=s.displayCheck,i=s.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=ao.call(e,"details>summary:first-of-type"),f=l?e.parentElement:e;if(ao.call(f,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof i=="function"){for(var d=e;e;){var m=e.parentElement,v=lc(e);if(m&&!m.shadowRoot&&i(m)===!0)return Fp(e);e.assignedSlot?e=e.assignedSlot:!m&&v!==e.ownerDocument?e=v.host:e=m}e=d}if(nk(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return Fp(e);return!1},rk=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var s=e.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var a=0;a<s.children.length;a++){var i=s.children.item(a);if(i.tagName==="LEGEND")return ao.call(s,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}s=s.parentElement}return!1},cc=function(e,s){return!(s.disabled||uc(s)||XE(s)||ik(s,e)||KE(s)||rk(s))},rf=function(e,s){return!(ek(s)||Qs(s)<0||!cc(e,s))},sk=function(e){var s=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},ok=function t(e){var s=[],a=[];return e.forEach(function(i,l){var f=!!i.scopeParent,d=f?i.scopeParent:i,m=YE(d,f),v=f?t(i.candidates):d;m===0?f?s.push.apply(s,v):s.push(d):a.push({documentOrder:l,tabIndex:m,item:i,isScope:f,content:v})}),a.sort(jE).reduce(function(i,l){return l.isScope?i.push.apply(i,l.content):i.push(l.content),i},[]).concat(s)},ak=function(e,s){s=s||{};var a;return s.getShadowRoot?a=Av([e],s.includeContainer,{filter:rf.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:sk}):a=Mv(e,s.includeContainer,rf.bind(null,s)),ok(a)},lk=function(e,s){s=s||{};var a;return s.getShadowRoot?a=Av([e],s.includeContainer,{filter:cc.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):a=Mv(e,s.includeContainer,cc.bind(null,s)),a},Fo=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return ao.call(e,ac)===!1?!1:rf(s,e)},uk=Nv.concat("iframe").join(","),Ih=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return ao.call(e,uk)===!1?!1:cc(s,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function sf(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,a=Array(e);s<e;s++)a[s]=t[s];return a}function ck(t){if(Array.isArray(t))return sf(t)}function hk(t,e,s){return(e=gk(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function fk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zp(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function $p(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?zp(Object(s),!0).forEach(function(a){hk(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):zp(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function pk(t){return ck(t)||fk(t)||_k(t)||dk()}function mk(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gk(t){var e=mk(t,"string");return typeof e=="symbol"?e:e+""}function _k(t,e){if(t){if(typeof t=="string")return sf(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?sf(t,e):void 0}}var Up={activateTrap:function(e,s){if(e.length>0){var a=e[e.length-1];a!==s&&a._setPausedState(!0)}var i=e.indexOf(s);i===-1||e.splice(i,1),e.push(s)},deactivateTrap:function(e,s){var a=e.indexOf(s);a!==-1&&e.splice(a,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},vk=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},yk=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},ml=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},bk=function(e){return ml(e)&&!e.shiftKey},wk=function(e){return ml(e)&&e.shiftKey},Gp=function(e){return setTimeout(e,0)},Ka=function(e){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,a):e},wu=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Lk=[],Ek=function(e,s){var a=(s==null?void 0:s.document)||document,i=(s==null?void 0:s.trapStack)||Lk,l=$p({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:bk,isKeyBackward:wk},s),f={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,m=function(tt,j,vt){return tt&&tt[j]!==void 0?tt[j]:l[vt||j]},v=function(tt,j){var vt=typeof(j==null?void 0:j.composedPath)=="function"?j.composedPath():void 0;return f.containerGroups.findIndex(function(yt){var bt=yt.container,dt=yt.tabbableNodes;return bt.contains(tt)||(vt==null?void 0:vt.includes(bt))||dt.find(function(Nt){return Nt===tt})})},_=function(tt){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vt=j.hasFallback,yt=vt===void 0?!1:vt,bt=j.params,dt=bt===void 0?[]:bt,Nt=l[tt];if(typeof Nt=="function"&&(Nt=Nt.apply(void 0,pk(dt))),Nt===!0&&(Nt=void 0),!Nt){if(Nt===void 0||Nt===!1)return Nt;throw new Error("`".concat(tt,"` was specified but was not a node, or did not return a node"))}var ut=Nt;if(typeof Nt=="string"){try{ut=a.querySelector(Nt)}catch(At){throw new Error("`".concat(tt,'` appears to be an invalid selector; error="').concat(At.message,'"'))}if(!ut&&!yt)throw new Error("`".concat(tt,"` as selector refers to no known node"))}return ut},b=function(){var tt=_("initialFocus",{hasFallback:!0});if(tt===!1)return!1;if(tt===void 0||tt&&!Ih(tt,l.tabbableOptions))if(v(a.activeElement)>=0)tt=a.activeElement;else{var j=f.tabbableGroups[0],vt=j&&j.firstTabbableNode;tt=vt||_("fallbackFocus")}else tt===null&&(tt=_("fallbackFocus"));if(!tt)throw new Error("Your focus-trap needs to have at least one focusable element");return tt},E=function(){if(f.containerGroups=f.containers.map(function(tt){var j=ak(tt,l.tabbableOptions),vt=lk(tt,l.tabbableOptions),yt=j.length>0?j[0]:void 0,bt=j.length>0?j[j.length-1]:void 0,dt=vt.find(function(At){return Fo(At)}),Nt=vt.slice().reverse().find(function(At){return Fo(At)}),ut=!!j.find(function(At){return Qs(At)>0});return{container:tt,tabbableNodes:j,focusableNodes:vt,posTabIndexesFound:ut,firstTabbableNode:yt,lastTabbableNode:bt,firstDomTabbableNode:dt,lastDomTabbableNode:Nt,nextTabbableNode:function(Ut){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Pt=j.indexOf(Ut);return Pt<0?Mt?vt.slice(vt.indexOf(Ut)+1).find(function(Lt){return Fo(Lt)}):vt.slice(0,vt.indexOf(Ut)).reverse().find(function(Lt){return Fo(Lt)}):j[Pt+(Mt?1:-1)]}}}),f.tabbableGroups=f.containerGroups.filter(function(tt){return tt.tabbableNodes.length>0}),f.tabbableGroups.length<=0&&!_("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(f.containerGroups.find(function(tt){return tt.posTabIndexesFound})&&f.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},T=function(tt){var j=tt.activeElement;if(j)return j.shadowRoot&&j.shadowRoot.activeElement!==null?T(j.shadowRoot):j},I=function(tt){if(tt!==!1&&tt!==T(document)){if(!tt||!tt.focus){I(b());return}tt.focus({preventScroll:!!l.preventScroll}),f.mostRecentlyFocusedNode=tt,vk(tt)&&tt.select()}},O=function(tt){var j=_("setReturnFocus",{params:[tt]});return j||(j===!1?!1:tt)},B=function(tt){var j=tt.target,vt=tt.event,yt=tt.isBackward,bt=yt===void 0?!1:yt;j=j||wu(vt),E();var dt=null;if(f.tabbableGroups.length>0){var Nt=v(j,vt),ut=Nt>=0?f.containerGroups[Nt]:void 0;if(Nt<0)bt?dt=f.tabbableGroups[f.tabbableGroups.length-1].lastTabbableNode:dt=f.tabbableGroups[0].firstTabbableNode;else if(bt){var At=f.tabbableGroups.findIndex(function(rt){var G=rt.firstTabbableNode;return j===G});if(At<0&&(ut.container===j||Ih(j,l.tabbableOptions)&&!Fo(j,l.tabbableOptions)&&!ut.nextTabbableNode(j,!1))&&(At=Nt),At>=0){var Ut=At===0?f.tabbableGroups.length-1:At-1,Mt=f.tabbableGroups[Ut];dt=Qs(j)>=0?Mt.lastTabbableNode:Mt.lastDomTabbableNode}else ml(vt)||(dt=ut.nextTabbableNode(j,!1))}else{var Pt=f.tabbableGroups.findIndex(function(rt){var G=rt.lastTabbableNode;return j===G});if(Pt<0&&(ut.container===j||Ih(j,l.tabbableOptions)&&!Fo(j,l.tabbableOptions)&&!ut.nextTabbableNode(j))&&(Pt=Nt),Pt>=0){var Lt=Pt===f.tabbableGroups.length-1?0:Pt+1,Tt=f.tabbableGroups[Lt];dt=Qs(j)>=0?Tt.firstTabbableNode:Tt.firstDomTabbableNode}else ml(vt)||(dt=ut.nextTabbableNode(j))}}else dt=_("fallbackFocus");return dt},P=function(tt){var j=wu(tt);if(!(v(j,tt)>=0)){if(Ka(l.clickOutsideDeactivates,tt)){d.deactivate({returnFocus:l.returnFocusOnDeactivate});return}Ka(l.allowOutsideClick,tt)||tt.preventDefault()}},R=function(tt){var j=wu(tt),vt=v(j,tt)>=0;if(vt||j instanceof Document)vt&&(f.mostRecentlyFocusedNode=j);else{tt.stopImmediatePropagation();var yt,bt=!0;if(f.mostRecentlyFocusedNode)if(Qs(f.mostRecentlyFocusedNode)>0){var dt=v(f.mostRecentlyFocusedNode),Nt=f.containerGroups[dt].tabbableNodes;if(Nt.length>0){var ut=Nt.findIndex(function(At){return At===f.mostRecentlyFocusedNode});ut>=0&&(l.isKeyForward(f.recentNavEvent)?ut+1<Nt.length&&(yt=Nt[ut+1],bt=!1):ut-1>=0&&(yt=Nt[ut-1],bt=!1))}}else f.containerGroups.some(function(At){return At.tabbableNodes.some(function(Ut){return Qs(Ut)>0})})||(bt=!1);else bt=!1;bt&&(yt=B({target:f.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(f.recentNavEvent)})),I(yt||f.mostRecentlyFocusedNode||b())}f.recentNavEvent=void 0},D=function(tt){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;f.recentNavEvent=tt;var vt=B({event:tt,isBackward:j});vt&&(ml(tt)&&tt.preventDefault(),I(vt))},F=function(tt){(l.isKeyForward(tt)||l.isKeyBackward(tt))&&D(tt,l.isKeyBackward(tt))},H=function(tt){yk(tt)&&Ka(l.escapeDeactivates,tt)!==!1&&(tt.preventDefault(),d.deactivate())},q=function(tt){var j=wu(tt);v(j,tt)>=0||Ka(l.clickOutsideDeactivates,tt)||Ka(l.allowOutsideClick,tt)||(tt.preventDefault(),tt.stopImmediatePropagation())},$=function(){if(f.active)return Up.activateTrap(i,d),f.delayInitialFocusTimer=l.delayInitialFocus?Gp(function(){I(b())}):I(b()),a.addEventListener("focusin",R,!0),a.addEventListener("mousedown",P,{capture:!0,passive:!1}),a.addEventListener("touchstart",P,{capture:!0,passive:!1}),a.addEventListener("click",q,{capture:!0,passive:!1}),a.addEventListener("keydown",F,{capture:!0,passive:!1}),a.addEventListener("keydown",H),d},it=function(){if(f.active)return a.removeEventListener("focusin",R,!0),a.removeEventListener("mousedown",P,!0),a.removeEventListener("touchstart",P,!0),a.removeEventListener("click",q,!0),a.removeEventListener("keydown",F,!0),a.removeEventListener("keydown",H),d},X=function(tt){var j=tt.some(function(vt){var yt=Array.from(vt.removedNodes);return yt.some(function(bt){return bt===f.mostRecentlyFocusedNode})});j&&I(b())},J=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(X):void 0,_t=function(){J&&(J.disconnect(),f.active&&!f.paused&&f.containers.map(function(tt){J.observe(tt,{subtree:!0,childList:!0})}))};return d={get active(){return f.active},get paused(){return f.paused},activate:function(tt){if(f.active)return this;var j=m(tt,"onActivate"),vt=m(tt,"onPostActivate"),yt=m(tt,"checkCanFocusTrap");yt||E(),f.active=!0,f.paused=!1,f.nodeFocusedBeforeActivation=a.activeElement,j==null||j();var bt=function(){yt&&E(),$(),_t(),vt==null||vt()};return yt?(yt(f.containers.concat()).then(bt,bt),this):(bt(),this)},deactivate:function(tt){if(!f.active)return this;var j=$p({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},tt);clearTimeout(f.delayInitialFocusTimer),f.delayInitialFocusTimer=void 0,it(),f.active=!1,f.paused=!1,_t(),Up.deactivateTrap(i,d);var vt=m(j,"onDeactivate"),yt=m(j,"onPostDeactivate"),bt=m(j,"checkCanReturnFocus"),dt=m(j,"returnFocus","returnFocusOnDeactivate");vt==null||vt();var Nt=function(){Gp(function(){dt&&I(O(f.nodeFocusedBeforeActivation)),yt==null||yt()})};return dt&&bt?(bt(O(f.nodeFocusedBeforeActivation)).then(Nt,Nt),this):(Nt(),this)},pause:function(tt){return f.active?(f.manuallyPaused=!0,this._setPausedState(!0,tt)):this},unpause:function(tt){return f.active?(f.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,tt)):this},updateContainerElements:function(tt){var j=[].concat(tt).filter(Boolean);return f.containers=j.map(function(vt){return typeof vt=="string"?a.querySelector(vt):vt}),f.active&&E(),_t(),this}},Object.defineProperties(d,{_isManuallyPaused:{value:function(){return f.manuallyPaused}},_setPausedState:{value:function(tt,j){if(f.paused===tt)return this;if(f.paused=tt,tt){var vt=m(j,"onPause"),yt=m(j,"onPostPause");vt==null||vt(),it(),_t(),yt==null||yt()}else{var bt=m(j,"onUnpause"),dt=m(j,"onPostUnpause");bt==null||bt(),E(),$(),_t(),dt==null||dt()}return this}}}),d.updateContainerElements(e),d};function kk(t,e={}){let s;const{immediate:a,...i}=e,l=Vn(!1),f=Vn(!1),d=E=>s&&s.activate(E),m=E=>s&&s.deactivate(E),v=()=>{s&&(s.pause(),f.value=!0)},_=()=>{s&&(s.unpause(),f.value=!1)},b=lt(()=>{const E=de(t);return dl(E).map(T=>{const I=de(T);return typeof I=="string"?I:Mr(I)}).filter(J_)});return ne(b,E=>{E.length&&(s=Ek(E,{...i,onActivate(){l.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){l.value=!1,e.onDeactivate&&e.onDeactivate()}}),a&&d())},{flush:"post"}),co(()=>m()),{hasFocus:l,isPaused:f,activate:d,deactivate:m,pause:v,unpause:_}}const xk=({element:t,isActive:e,noTrap:s,fallbackFocus:a},i={allowOutsideClick:!0,fallbackFocus:a.ref.value??void 0,escapeDeactivates:!1})=>{const l=Gn(tn(e)),f=Gn(tn(s)),d=()=>{var _;const b=(_=t.value)==null?void 0:_.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${a.classSelector})`);return!(b!=null&&b.length)},m=Ft(!1);Hi(()=>{m.value=d(),eL(t,()=>{m.value=d()},{childList:!0,subtree:!0})});const v=kk(t,i);return ne(l,async _=>{await ti(),_&&f.value===!1?v.activate():v.deactivate()}),ne(f,_=>{_===!0&&v.deactivate()}),{needsFallback:Gn(m)}},Tk=X_(uL);let Lu="";const Zs=new Map,Ck=(t,e)=>{const s=Gn(tn(t)),a=u_(),i=lt(()=>!de(e)),l=Tk(typeof document<"u"?document.body:null,s.value&&i.value);Hi(()=>{typeof document>"u"||(Zs.set(a,!1),ne([s,i],([f,d])=>{const m=window.innerWidth-document.documentElement.clientWidth,v=Array.from(Zs.values()).some(E=>E===!0),_=f&&d;Zs.set(a,_),_&&!v&&!l.value&&(l.value=!0,m>0&&(Lu=document.body.style.paddingRight,document.body.style.paddingRight=`${m+Lu}px`));const b=Array.from(Zs.values()).some(E=>E===!0);v&&!b&&(Zs.set(a,!1),l.value=!1,document.body.style.paddingRight=Lu)},{immediate:!0}))}),pa(()=>{Zs.delete(a),Array.from(Zs.values()).some(d=>d===!0)||(document.body.style.paddingRight=Lu,l.value=!1)})},Sk=["id","aria-labelledby","aria-describedby"],Ik=["id"],Vp="modal-fallback-focus",Hp=1056,Pk=Pe({inheritAttrs:!1,__name:"BModal",props:hi({autofocus:{type:Boolean,default:!0},autofocusButton:{default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:hi(["backdrop","cancel","close","esc","ok","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(t,{expose:e,emit:s}){const i=hn(t,"BModal"),l=s,f=zl(),d=ga(()=>i.id,"modal"),m=Br(t,"modelValue"),v=on("_element"),_=on("_fallbackFocusElement"),b=on("_okButton"),E=on("_cancelButton"),T=on("_closeButton"),I=()=>{i.autofocus!==!1&&(i.autofocusButton==="ok"?bt.value=!0:i.autofocusButton==="close"?Nt.value=!0:i.autofocusButton==="cancel"?dt.value=!0:yt.value=!0)},O=()=>{I()},{showRef:B,renderRef:P,renderBackdropRef:R,hide:D,show:F,toggle:H,computedNoAnimation:q,transitionProps:$,backdropTransitionProps:it,isLeaving:X,isVisible:J,trapActive:_t,contentShowing:et,backdropReady:tt,backdropVisible:j}=Fc(m,i,l,v,d,{transitionProps:{onAfterEnter:O}}),{needsFallback:vt}=xk({element:v,isActive:_t,noTrap:()=>i.noTrap,fallbackFocus:{ref:_,classSelector:Vp}});as("Escape",()=>{D("esc")},{target:v}),Ck(B,()=>i.bodyScrolling);const{focused:yt}=Vo(v,{initialValue:m.value&&i.autofocusButton===void 0&&i.autofocus===!0}),{focused:bt}=Vo(b,{initialValue:m.value&&i.autofocusButton==="ok"&&i.autofocus===!0}),{focused:dt}=Vo(E,{initialValue:m.value&&i.autofocusButton==="cancel"&&i.autofocus===!0}),{focused:Nt}=Vo(T,{initialValue:m.value&&i.autofocusButton==="close"&&i.autofocus===!0}),ut=lt(()=>!sd(f["header-close"])),At=lt(()=>[i.dialogClass,{"modal-fullscreen":i.fullscreen===!0,[`modal-fullscreen-${i.fullscreen}-down`]:typeof i.fullscreen=="string",[`modal-${i.size}`]:i.size!=="md","modal-dialog-centered":i.centered,"modal-dialog-scrollable":i.scrollable}]),Ut=pl(()=>({bgVariant:i.bodyBgVariant,textVariant:i.bodyTextVariant,variant:i.bodyVariant})),Mt=lt(()=>[i.bodyClass,Ut.value]),Pt=pl(()=>({bgVariant:i.headerBgVariant,textVariant:i.headerTextVariant,variant:i.headerVariant,borderVariant:i.headerBorderVariant})),Lt=lt(()=>[i.headerClass,Pt.value]),Tt=lt(()=>({variant:ut.value?i.headerCloseVariant:void 0,class:i.headerCloseClass})),rt=pl(()=>({bgVariant:i.footerBgVariant,textVariant:i.footerTextVariant,variant:i.footerVariant,borderVariant:i.footerBorderVariant})),G=lt(()=>[i.footerClass,rt.value]),Et=lt(()=>[i.titleClass,{"visually-hidden":i.titleVisuallyHidden}]),St=lt(()=>i.cancelDisabled||i.busy),It=lt(()=>i.okDisabled||i.busy),{activePosition:C,activeModalCount:V,stackWithoutSelf:K}=hL(B,m.value);ne(K,(N,Q)=>{N.length>Q.length&&B.value===!0&&i.noStacking===!0&&D()});const ct=lt(()=>B.value||X.value?Hp-(((V==null?void 0:V.value)??0)*2-((C==null?void 0:C.value)??0)*2):Hp),gt=lt(()=>({"z-index":ct.value})),pt=lt(()=>({"z-index":ct.value-1})),z=lt(()=>({cancel:()=>{D("cancel")},close:()=>{D("close")},hide:D,ok:()=>{D("ok")},active:B.value,visible:B.value}));return e({hide:D,id:d,show:F,toggle:H}),(N,Q)=>(wt(),ge(Yf,{to:W(i).teleportTo,disabled:W(i).teleportDisabled},{default:ee(()=>[W(P)||W(et)?(wt(),ge(Tl,ye({key:0},W($),{appear:m.value||W(i).visible,onAfterEnter:O}),{default:ee(()=>[Je(mt("div",ye({id:W(d),ref:"_element",class:["modal",[W(i).modalClass,{fade:!W(q),show:W(J)}]],role:"dialog","aria-labelledby":W(i).noHeader?void 0:`${W(d)}-label`,"aria-describedby":`${W(d)}-body`,tabindex:"-1"},N.$attrs,{style:gt.value,onClick:Q[4]||(Q[4]=H_(at=>W(D)("backdrop"),["self"]))}),[mt("div",{class:Re(["modal-dialog",At.value])},[W(et)?(wt(),zt("div",{key:0,class:Re(["modal-content",W(i).contentClass])},[W(i).noHeader?Se("",!0):(wt(),zt("div",{key:0,class:Re(["modal-header",Lt.value])},[ue(N.$slots,"header",ki(rr(z.value)),()=>[(wt(),ge(bs(W(i).titleTag),{id:`${W(d)}-label`,class:Re(["modal-title",Et.value])},{default:ee(()=>[ue(N.$slots,"title",ki(rr(z.value)),()=>[ve(Zt(W(i).title),1)],!0)]),_:3},8,["id","class"])),W(i).noHeaderClose?Se("",!0):(wt(),zt(ce,{key:0},[ut.value?(wt(),ge(hs,ye({key:0},Tt.value,{onClick:Q[0]||(Q[0]=at=>W(D)("close"))}),{default:ee(()=>[ue(N.$slots,"header-close",{},void 0,!0)]),_:3},16)):(wt(),ge(LE,ye({key:1,"aria-label":W(i).headerCloseLabel},Tt.value,{onClick:Q[1]||(Q[1]=at=>W(D)("close"))}),null,16,["aria-label"]))],64))],!0)],2)),mt("div",ye({id:`${W(d)}-body`,class:["modal-body",Mt.value]},W(i).bodyAttrs),[ue(N.$slots,"default",ki(rr(z.value)),()=>[ve(Zt(W(i).body),1)],!0)],16,Ik),W(i).noFooter?Se("",!0):(wt(),zt("div",{key:1,class:Re(["modal-footer",G.value])},[ue(N.$slots,"footer",ki(rr(z.value)),()=>[ue(N.$slots,"cancel",ki(rr(z.value)),()=>[W(i).okOnly?Se("",!0):(wt(),ge(hs,{key:0,ref:"_cancelButton",disabled:St.value,size:W(i).buttonSize,variant:W(i).cancelVariant,onClick:Q[2]||(Q[2]=at=>W(D)("cancel"))},{default:ee(()=>[ve(Zt(W(i).cancelTitle),1)]),_:1},8,["disabled","size","variant"]))],!0),ue(N.$slots,"ok",ki(rr(z.value)),()=>[$t(hs,{ref:"_okButton",disabled:It.value,size:W(i).buttonSize,variant:W(i).okVariant,onClick:Q[3]||(Q[3]=at=>W(D)("ok"))},{default:ee(()=>[ve(Zt(W(i).okTitle),1)]),_:1},8,["disabled","size","variant"])],!0)],!0)],2))],2)):Se("",!0)],2),W(vt)?(wt(),zt("div",{key:0,ref:"_fallbackFocusElement",class:Re(Vp),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):Se("",!0)],16,Sk),[[Cl,W(B)&&(W(tt)&&W(i).backdropFirst||!W(i).backdropFirst)]])]),_:3},16,["appear"])):Se("",!0),W(i).noBackdrop?Se("",!0):ue(N.$slots,"backdrop",ki(ye({key:1},z.value)),()=>[W(R)?(wt(),ge(Tl,ki(ye({key:0},W(it))),{default:ee(()=>[Je(mt("div",{class:Re(["modal-backdrop",{fade:!W(q),show:W(j)||W(q)}]),style:Dr(pt.value),onClick:Q[5]||(Q[5]=at=>W(D)("backdrop"))},null,6),[[Cl,W(B)||W(X)&&W(i).backdropFirst&&!W(q)]])]),_:1},16)):Se("",!0)],!0)]),_:3},8,["to","disabled"]))}}),Nk=jf(Pk,[["__scopeId","data-v-93972863"]]),Ok=Pe({inheritAttrs:!1,__name:"BNavForm",props:{role:{default:void 0},wrapperAttrs:{default:void 0},formClass:{default:void 0},floating:{type:Boolean,default:void 0},id:{default:void 0},novalidate:{type:Boolean,default:void 0},validated:{type:Boolean,default:void 0}},emits:["submit"],setup(t,{emit:e}){const a=hn(t,"BNavForm"),i=e,l=Gf(),f=lt(()=>{const{class:v,..._}=l;return{wrapperClass:v,formAttrs:_}}),d=v=>{i("submit",v)},m=lt(()=>["d-flex","flex-row","align-items-center","flex-wrap",f.value.wrapperClass]);return(v,_)=>(wt(),zt("li",ye({class:m.value},v.wrapperAttrs),[$t(AE,ye(f.value.formAttrs,{id:W(a).id,floating:W(a).floating,role:W(a).role,novalidate:W(a).novalidate,validated:W(a).validated,class:["d-flex",W(a).formClass],onSubmit:H_(d,["prevent"])}),{default:ee(()=>[ue(v.$slots,"default")]),_:3},16,["id","floating","role","novalidate","validated","class"])],16))}}),Mk=t=>lt(()=>{const e=de(t);return{container:e===!0,[`container-${e}`]:typeof e=="string"}}),Ak=Pe({__name:"BNavbar",props:{autoClose:{type:Boolean,default:!0},container:{type:[Boolean,String],default:"fluid"},fixed:{default:void 0},print:{type:Boolean,default:!1},sticky:{default:void 0},tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},variant:{default:null}},setup(t){const s=hn(t,"BNavbar"),a=lt(()=>s.tag==="nav"?void 0:"navigation"),i=Mk(()=>s.container),l=pl(lt(()=>({bgVariant:s.variant}))),f=lt(()=>[l.value,{"d-print":s.print,[`sticky-${s.sticky}`]:s.sticky!==void 0,[`fixed-${s.fixed}`]:s.fixed!==void 0,"navbar-expand":s.toggleable===!1,[`navbar-expand-${s.toggleable}`]:typeof s.toggleable=="string"}]);return cs(Y_,{tag:tn(()=>s.tag),autoClose:tn(()=>s.autoClose)}),(d,m)=>(wt(),ge(bs(W(s).tag),{class:Re(["navbar",f.value]),role:a.value},{default:ee(()=>[W(s).container!==!1?(wt(),zt("div",{key:0,class:Re(W(i))},[ue(d.$slots,"default")],2)):ue(d.$slots,"default",{key:1})]),_:3},8,["class","role"]))}}),Rk=Pe({__name:"BNavbarBrand",props:{tag:{default:"div"},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(t){const s=hn(t,"BNavbarBrand"),{computedLink:a,computedLinkProps:i}=xv(s,["active","activeClass","append","disabled","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon"]),l=lt(()=>a.value?Cv:s.tag);return(f,d)=>(wt(),ge(bs(l.value),ye({class:"navbar-brand"},W(i)),{default:ee(()=>[ue(f.$slots,"default")]),_:3},16))}}),Dk=Pe({__name:"BNavbarNav",props:{align:{default:void 0},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tag:{default:"ul"}},setup(t){const s=hn(t,"BNavbarNav"),a=SE(()=>s.align),i=lt(()=>({"nav-fill":s.fill,"nav-justified":s.justified,[a.value]:s.align!==void 0,small:s.small}));return(l,f)=>(wt(),zt("ul",{class:Re(["navbar-nav",i.value])},[ue(l.$slots,"default")],2))}}),Bk=["disabled","aria-label"],Fk=Pe({__name:"BNavbarToggle",props:{disabled:{type:Boolean,default:!1},label:{default:"Toggle navigation"},target:{default:void 0}},emits:["click"],setup(t,{emit:e}){const a=hn(t,"BNavbarToggle"),i=e,l=lt(()=>({disabled:a.disabled})),f=rn(Bc,void 0),d=lt(()=>{var _;return!a.target||!f?!1:typeof a.target=="string"?((_=f.map[a.target])==null?void 0:_.value)||!1:a.target.some(b=>{var E;return(E=f.map[b])==null?void 0:E.value})}),m=()=>{var _;if(!(!a.target||!f)){if(typeof a.target=="string"){(_=f.map[a.target])==null||_.toggle();return}a.target.forEach(b=>{var E;return(E=f.map[b])==null?void 0:E.toggle()})}},v=_=>{a.disabled||(i("click",_),m())};return(_,b)=>(wt(),zt("button",{class:Re(["navbar-toggler",l.value]),type:"button",disabled:W(a).disabled,"aria-label":W(a).label,onClick:v},[ue(_.$slots,"default",{expanded:d.value},()=>[b[0]||(b[0]=mt("span",{class:"navbar-toggler-icon"},null,-1))])],10,Bk))}}),zk=Pe({__name:"BTooltip",props:hi({interactive:{type:Boolean,default:void 0},boundary:{},boundaryPadding:{},click:{type:Boolean,default:void 0},closeOnHide:{type:Boolean},content:{default:void 0},customClass:{default:void 0},delay:{default:void 0},floatingMiddleware:{default:void 0},hideMargin:{},id:{default:void 0},inline:{type:Boolean,default:void 0},manual:{type:Boolean,default:void 0},noAutoClose:{type:Boolean,default:void 0},noFlip:{type:Boolean,default:void 0},noHide:{type:Boolean,default:void 0},noShift:{type:Boolean,default:void 0},noSize:{type:Boolean},noninteractive:{type:Boolean,default:void 0},offset:{default:void 0},placement:{default:void 0},realtime:{type:Boolean,default:void 0},reference:{default:void 0},strategy:{default:void 0},target:{default:void 0},title:{default:void 0},variant:{default:void 0},teleportDisabled:{type:Boolean,default:void 0},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:void 0},lazy:{type:Boolean,default:void 0},unmountLazy:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},transProps:{},visible:{type:Boolean,default:void 0}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:e}){const a=hn(t,"BTooltip"),i=zl(),l=Br(t,"modelValue"),f=lt(()=>{const{interactive:m,noninteractive:v,..._}=a;return{noninteractive:v!==void 0?v:!m,..._}}),d=on("_popover");return e({hide:()=>{var m;(m=d.value)==null||m.hide()},show:()=>{var m;(m=d.value)==null||m.show()},toggle:()=>{var m;(m=d.value)==null||m.toggle()}}),(m,v)=>(wt(),ge(Lv,ye({ref:"_popover"},f.value,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=_=>l.value=_),tooltip:""}),vb({_:2},[i.default?{name:"default",fn:ee(()=>[ue(m.$slots,"default")]),key:"0"}:void 0,i.target?{name:"target",fn:ee(_=>[ue(m.$slots,"target",ki(rr(_)))]),key:"1"}:void 0,i.title?{name:"title",fn:ee(()=>[ue(m.$slots,"title")]),key:"2"}:void 0]),1040,["modelValue"]))}});Object.freeze(Object.keys({bordered:0,borderless:0,borderVariant:0,captionTop:0,dark:0,fixed:0,hover:0,id:0,noBorderCollapse:0,outlined:0,responsive:0,small:0,stacked:0,stickyHeader:0,striped:0,stripedColumns:0,variant:0,tableAttrs:0,tableClass:0}));Object.freeze(Object.keys({align:0,caption:0,detailsTdClass:0,fieldColumnClass:0,fields:0,footClone:0,footRowVariant:0,footVariant:0,headRowVariant:0,headVariant:0,items:0,labelStacked:0,modelValue:0,primaryKey:0,tbodyClass:0,tbodyTrAttrs:0,tbodyTrClass:0,tfootClass:0,tfootTrClass:0,theadClass:0,theadTrClass:0}));const Bv={BAccordion:"/components/BAccordion",BAccordionItem:"/components/BAccordion",BAlert:"/components/BAlert",BAvatar:"/components/BAvatar",BAvatarGroup:"/components/BAvatar",BBadge:"/components/BBadge",BBreadcrumb:"/components/BBreadcrumb",BBreadcrumbItem:"/components/BBreadcrumb",BButton:"/components/BButton",BButtonGroup:"/components/BButton",BButtonToolbar:"/components/BButton",BCloseButton:"/components/BButton",BCard:"/components/BCard",BCardBody:"/components/BCard",BCardFooter:"/components/BCard",BCardGroup:"/components/BCard",BCardHeader:"/components/BCard",BCardImg:"/components/BCard",BCardSubtitle:"/components/BCard",BCardText:"/components/BCard",BCardTitle:"/components/BCard",BCarousel:"/components/BCarousel",BCarouselSlide:"/components/BCarousel",BCol:"/components/BContainer",BCollapse:"/components/BCollapse",BContainer:"/components/BContainer",BDropdown:"/components/BDropdown",BDropdownDivider:"/components/BDropdown",BDropdownForm:"/components/BDropdown",BDropdownGroup:"/components/BDropdown",BDropdownHeader:"/components/BDropdown",BDropdownItem:"/components/BDropdown",BDropdownItemButton:"/components/BDropdown",BDropdownText:"/components/BDropdown",BForm:"/components/BForm",BFormCheckbox:"/components/BFormCheckbox",BFormCheckboxGroup:"/components/BFormCheckbox",BFormDatalist:"/components/BForm",BFormFile:"/components/BFormFile",BFormFloatingLabel:"/components/BForm",BFormGroup:"/components/BFormGroup",BFormInput:"/components/BFormInput",BFormInvalidFeedback:"/components/BForm",BFormRadio:"/components/BFormRadio",BFormRadioGroup:"/components/BFormRadio",BFormRow:"/components/BForm",BFormSelect:"/components/BFormSelect",BFormSelectOption:"/components/BFormSelect",BFormSelectOptionGroup:"/components/BFormSelect",BFormSpinbutton:"/components/BFormSpinbutton",BFormTag:"/components/BFormTags",BFormTags:"/components/BFormTags",BFormText:"/components/BForm",BFormTextarea:"/components/BFormTextarea",BFormValidFeedback:"/components/BForm",BImg:"/components/BImg",BInput:"/components/BFormInput",BInputGroup:"/components/BInputGroup",BInputGroupText:"/components/BInputGroup",BListGroup:"/components/BListGroup",BListGroupItem:"/components/BListGroup",BModal:"/components/BModal",BModalOrchestrator:"/components/BModal",BNav:"/components/BNav",BNavForm:"/components/BNav",BNavItem:"/components/BNav",BNavItemDropdown:"/components/BNav",BNavText:"/components/BNav",BNavbar:"/components/BNavbar",BNavbarBrand:"/components/BNavbar",BNavbarNav:"/components/BNavbar",BNavbarToggle:"/components/BNavbar",BOffcanvas:"/components/BOffcanvas",BOverlay:"/components/BOverlay",BPagination:"/components/BPagination",BPlaceholder:"/components/BPlaceholder",BPlaceholderButton:"/components/BPlaceholder",BPlaceholderCard:"/components/BPlaceholder",BPlaceholderTable:"/components/BPlaceholder",BPlaceholderWrapper:"/components/BPlaceholder",BPopover:"/components/BPopover",BProgress:"/components/BProgress",BRow:"/components/BContainer",BSpinner:"/components/BSpinner",BTab:"/components/BTabs",BTabs:"/components/BTabs",BToast:"/components/BToast",BToastOrchestrator:"/components/BToast",BTooltip:"/components/BTooltip",BLink:"/components/BLink",BProgressBar:"/components/BProgress",BTableSimple:"/components/BTable",BTableLite:"/components/BTable",BTable:"/components/BTable",BTbody:"/components/BTable",BTd:"/components/BTable",BTh:"/components/BTable",BThead:"/components/BTable",BTfoot:"/components/BTable",BTr:"/components/BTable",BPopoverOrchestrator:"/components/BPopover"},$k=Object.freeze(Object.keys(Bv)),Fv={vBColorMode:"/directives/BColorMode",vBModal:"/directives/BModal",vBPopover:"/directives/BPopover",vBScrollspy:"/directives/BScrollspy",vBToggle:"/directives/BToggle",vBTooltip:"/directives/BTooltip"},Uk=Object.freeze(Object.keys(Fv)),Gk={useBreadcrumb:"/composables/useBreadcrumb",useColorMode:"/composables/useColorMode",useModal:"/composables/useModal",useModalController:"/composables/useModalController",useScrollspy:"/composables/useScrollspy",useToastController:"/composables/useToastController",usePopoverController:"/composables/usePopoverController"};Object.freeze(Object.keys(Gk));const qp="bootstrap-vue-next",Wp=(t,e)=>{const{all:s,...a}=t,i={};s&&e.forEach(f=>{i[f]=s});const l={...i,...a};return Object.entries(l).filter(([f,d])=>!!d&&e.includes(f)).map(([f])=>f)},Ph=new Set,Zp=new Set;Object.assign(({aliases:t={},directives:e=!0,components:s=!0}={})=>{const i=Wp(typeof s=="boolean"?{all:s}:s,$k).reduce((m,v)=>(m.set(v,`${qp}${Bv[v]}`),m),new Map),f=Wp(typeof e=="boolean"?{all:e}:e,Uk).reduce((m,v)=>{const _=v.toLowerCase().startsWith("v")?v:`v${v}`;return m.set(_,`${qp}${Fv[_]}`),m},new Map);return[{type:"component",resolve(m){const v=i.get(m),_=i.get(t[m]);if(_){const b=t[m];return Ph.add(b),{name:b,from:_}}if(v)return Ph.add(m),{name:m,from:v}}},{type:"directive",resolve(m){const v=`v${m}`,_=f.get(v);if(_)return Zp.add(v),{name:v,from:_}}}]},{__usedComponents:Ph,__usedDirectives:Zp});const Vk={install(t,e){const s=(e==null?void 0:e.components)??{};t.provide(Ru,Ft(s))}},Hk={install(t){const e=Ft({[bp]:[]}),s=(a=bp)=>{e.value[a]=[]};t.provide($w,{items:e,reset:s})}},qk={install(t){const e=Ft(new Map),s=()=>{let m=()=>{};return{value:new Promise(_=>{m=_}),resolve:m}},a=m=>[s(),m||Symbol("Modals controller"),!0],i=(m={})=>{var v;const _=tn(m.props),[b,E,T]=a((v=_.value)==null?void 0:v.id);return e.value.set(E,{component:m.component?us(m.component):void 0,props:{..._.value,_isConfirm:!1,_promise:b,_modelValue:T}}),ne(_,I=>{const O=e.value.get(E);O&&e.value.set(E,{component:m.component?us(m.component):void 0,props:{...O.props,...I}})}),b.value},l=(m={})=>{var v;const _=tn(m.props),[b,E,T]=a((v=_.value)==null?void 0:v.id);return e.value.set(E,{component:m.component?us(m.component):void 0,props:{..._.value,_isConfirm:!0,_promise:b,_modelValue:T}}),ne(_,I=>{const O=e.value.get(E);O&&e.value.set(E,{component:m.component?us(m.component):void 0,props:{...O.props,...I}})}),b.value},f=m=>{const v=e.value.get(m);v!=null&&v.props&&(v.props={...v.props,_modelValue:!1})},d=m=>{e.value.delete(m)};t.provide(Hw,{modals:e,remove:d,show:i,confirm:l,leave:f})}},Wk={install(t){const e=Ft(new Map),s=lt(()=>e.value.size),a=lt(()=>[...e.value.values()]),i=lt(()=>a.value[a.value.length-1]),l=_=>{e.value.set(_.uid,_)},f=_=>{e.value.delete(_.uid)},d=Ft(new Map),m=_=>{d.value.set(_.uid,_)},v=_=>{d.value.delete(_.uid)};t.provide(j_,{countStack:s,lastStack:i,registry:Gn(d),stack:a,pushStack:l,removeStack:f,pushRegistry:m,removeRegistry:v})}},Zk={install(t){const e=Ft(new Map),s=v=>{var _;const b=tn(v),E=((_=b.value)==null?void 0:_.id)||Symbol("Popover controller");return ne(b,T=>{e.value.set(E,{...T,...typeof T.modelValue<"u"&&qe(v)?{"onUpdate:modelValue":I=>{var O;(O=T["onUpdate:modelValue"])==null||O.call(T,I),v.value.modelValue=I}}:{}})},{immediate:!0,deep:!0}),Wu(()=>e.value.delete(E),!0),E},a=(v,_)=>{const b=e.value.get(v);b&&e.value.set(v,{...b,...de(_)})},i=v=>e.value.delete(v),l=Ft(new Map),f=v=>{var _;const b=tn(v),E=((_=b.value)==null?void 0:_.id)||Symbol("Tooltip controller");return ne(b,T=>{e.value.set(E,{...T,...typeof T.modelValue<"u"&&qe(v)?{"onUpdate:modelValue":I=>{var O;(O=T["onUpdate:modelValue"])==null||O.call(T,I),v.value.modelValue=I}}:{}})},{immediate:!0,deep:!0}),Wu(()=>l.value.delete(E),!0),E},d=(v,_)=>{const b=l.value.get(v);b&&l.value.set(v,{...b,...de(_)})},m=v=>l.value.delete(v);t.provide(qw,{popovers:e,tooltips:l,tooltip:f,popover:s,setPopover:a,setTooltip:d,removePopover:i,removeTooltip:m})}},Yk={install(t,e){var s,a;const f=typeof(e==null?void 0:e.rtl)=="boolean"?!1:((s=e==null?void 0:e.rtl)==null?void 0:s.rtlInitial)??!1,d=typeof(e==null?void 0:e.rtl)=="boolean"?void 0:((a=e==null?void 0:e.rtl)==null?void 0:a.localeInitial)??void 0,m=Ft(f),v=Ft(d);t.provide(zw,{isRtl:m,locale:v})}},jk="top-end",Xk={install(t){const e=Ft([]),s=Ft(!1),a=d=>{s.value=d},i=(d={})=>{var m,v,_,b;const E=tn(d.props),T=((m=E.value)==null?void 0:m.id)||Symbol("Toast controller"),I={component:d.component?us(d.component):void 0,props:{...E.value,pos:((v=E.value)==null?void 0:v.pos)||jk,_modelValue:((_=E.value)==null?void 0:_.value)||5e3,_self:T}};return(((b=E.value)==null?void 0:b.appendToast)!==void 0?E.value.appendToast:s.value)?e.value.push(I):e.value.unshift(I),ne(E,O=>{const B=e.value.findIndex(P=>P.props._self===T);B!==-1&&e.value.splice(B,1,{component:d.component?us(d.component):void 0,props:{...e.value[B].props,...O,_modelValue:(O==null?void 0:O.value)||e.value[B].props._modelValue||5e3}})}),T},l=d=>{e.value=e.value.filter(m=>m.props._self!==d)},f=d=>{const m=e.value.findIndex(v=>v.props._self===d);m!==-1&&e.value.splice(m,1,{component:e.value[m].component?us(e.value[m].component):void 0,props:{...e.value[m].props,_modelValue:!1}})};t.provide(Vw,{_setIsAppend:a,toasts:e,show:i,remove:l,leave:f})}},Kk={install(t){const e=Hn({}),s=({id:a,value:i,toggle:l,show:f,hide:d})=>(e[a]=lt(()=>({value:i.value,toggle:l,show:f,hide:d})),{unregister(){delete e[a]}});s.map=Gn(e),t.provide(Bc,s)}},Jk=(t={})=>({install(e){(t.breadcrumb??!0)&&e.use(Hk),(t.modalController??!0)&&e.use(qk),(t.modalManager??!0)&&e.use(Wk),((t.rtl??!0)||typeof t.rtl=="object")&&e.use(Yk,t),(t.toast??!0)&&e.use(Xk),(t.popover??!0)&&e.use(Zk),e.use(Kk),e.use(Vk,t)}});/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const hc=typeof window<"u",Ls=(t,e=!1)=>e?Symbol.for(t):Symbol(t),Qk=(t,e,s)=>t1({l:t,k:e,s}),t1=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),nn=t=>typeof t=="number"&&isFinite(t),e1=t=>ad(t)==="[object Date]",na=t=>ad(t)==="[object RegExp]",Gc=t=>he(t)&&Object.keys(t).length===0,un=Object.assign,n1=Object.create,De=(t=null)=>n1(t);let Yp;const to=()=>Yp||(Yp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:De());function jp(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const i1=Object.prototype.hasOwnProperty;function Ai(t,e){return i1.call(t,e)}const Qe=Array.isArray,Ge=t=>typeof t=="function",Ht=t=>typeof t=="string",Le=t=>typeof t=="boolean",ke=t=>t!==null&&typeof t=="object",r1=t=>ke(t)&&Ge(t.then)&&Ge(t.catch),zv=Object.prototype.toString,ad=t=>zv.call(t),he=t=>ad(t)==="[object Object]",s1=t=>t==null?"":Qe(t)||he(t)&&t.toString===zv?JSON.stringify(t,null,2):String(t);function ld(t,e=""){return t.reduce((s,a,i)=>i===0?s+a:s+e+a,"")}function o1(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Eu=t=>!ke(t)||Qe(t);function Du(t,e){if(Eu(t)||Eu(e))throw new Error("Invalid value");const s=[{src:t,des:e}];for(;s.length;){const{src:a,des:i}=s.pop();Object.keys(a).forEach(l=>{l!=="__proto__"&&(ke(a[l])&&!ke(i[l])&&(i[l]=Array.isArray(a[l])?[]:De()),Eu(i[l])||Eu(a[l])?i[l]=a[l]:s.push({src:a[l],des:i[l]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function a1(t,e,s){return{line:t,column:e,offset:s}}function of(t,e,s){return{start:t,end:e}}const Ae={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},l1=17;function Vc(t,e,s={}){const{domain:a,messages:i,args:l}=s,f=t,d=new SyntaxError(String(f));return d.code=t,e&&(d.location=e),d.domain=a,d}function u1(t){throw t}const xr=" ",c1="\r",Bn=`
`,h1="\u2028",f1="\u2029";function d1(t){const e=t;let s=0,a=1,i=1,l=0;const f=$=>e[$]===c1&&e[$+1]===Bn,d=$=>e[$]===Bn,m=$=>e[$]===f1,v=$=>e[$]===h1,_=$=>f($)||d($)||m($)||v($),b=()=>s,E=()=>a,T=()=>i,I=()=>l,O=$=>f($)||m($)||v($)?Bn:e[$],B=()=>O(s),P=()=>O(s+l);function R(){return l=0,_(s)&&(a++,i=0),f(s)&&s++,s++,i++,e[s]}function D(){return f(s+l)&&l++,l++,e[s+l]}function F(){s=0,a=1,i=1,l=0}function H($=0){l=$}function q(){const $=s+l;for(;$!==s;)R();l=0}return{index:b,line:E,column:T,peekOffset:I,charAt:O,currentChar:B,currentPeek:P,next:R,peek:D,reset:F,resetPeek:H,skipToPeek:q}}const es=void 0,p1=".",Xp="'",m1="tokenizer";function g1(t,e={}){const s=e.location!==!1,a=d1(t),i=()=>a.index(),l=()=>a1(a.line(),a.column(),a.index()),f=l(),d=i(),m={currentType:13,offset:d,startLoc:f,endLoc:f,lastType:13,lastOffset:d,lastStartLoc:f,lastEndLoc:f,braceNest:0,inLinked:!1,text:""},v=()=>m,{onError:_}=e;function b(z,N,Q,...at){const Dt=v();if(N.column+=Q,N.offset+=Q,_){const kt=s?of(Dt.startLoc,N):null,Y=Vc(z,kt,{domain:m1,args:at});_(Y)}}function E(z,N,Q){z.endLoc=l(),z.currentType=N;const at={type:N};return s&&(at.loc=of(z.startLoc,z.endLoc)),Q!=null&&(at.value=Q),at}const T=z=>E(z,13);function I(z,N){return z.currentChar()===N?(z.next(),N):(b(Ae.EXPECTED_TOKEN,l(),0,N),"")}function O(z){let N="";for(;z.currentPeek()===xr||z.currentPeek()===Bn;)N+=z.currentPeek(),z.peek();return N}function B(z){const N=O(z);return z.skipToPeek(),N}function P(z){if(z===es)return!1;const N=z.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N===95}function R(z){if(z===es)return!1;const N=z.charCodeAt(0);return N>=48&&N<=57}function D(z,N){const{currentType:Q}=N;if(Q!==2)return!1;O(z);const at=P(z.currentPeek());return z.resetPeek(),at}function F(z,N){const{currentType:Q}=N;if(Q!==2)return!1;O(z);const at=z.currentPeek()==="-"?z.peek():z.currentPeek(),Dt=R(at);return z.resetPeek(),Dt}function H(z,N){const{currentType:Q}=N;if(Q!==2)return!1;O(z);const at=z.currentPeek()===Xp;return z.resetPeek(),at}function q(z,N){const{currentType:Q}=N;if(Q!==7)return!1;O(z);const at=z.currentPeek()===".";return z.resetPeek(),at}function $(z,N){const{currentType:Q}=N;if(Q!==8)return!1;O(z);const at=P(z.currentPeek());return z.resetPeek(),at}function it(z,N){const{currentType:Q}=N;if(!(Q===7||Q===11))return!1;O(z);const at=z.currentPeek()===":";return z.resetPeek(),at}function X(z,N){const{currentType:Q}=N;if(Q!==9)return!1;const at=()=>{const kt=z.currentPeek();return kt==="{"?P(z.peek()):kt==="@"||kt==="|"||kt===":"||kt==="."||kt===xr||!kt?!1:kt===Bn?(z.peek(),at()):_t(z,!1)},Dt=at();return z.resetPeek(),Dt}function J(z){O(z);const N=z.currentPeek()==="|";return z.resetPeek(),N}function _t(z,N=!0){const Q=(Dt=!1,kt="")=>{const Y=z.currentPeek();return Y==="{"||Y==="@"||!Y?Dt:Y==="|"?!(kt===xr||kt===Bn):Y===xr?(z.peek(),Q(!0,xr)):Y===Bn?(z.peek(),Q(!0,Bn)):!0},at=Q();return N&&z.resetPeek(),at}function et(z,N){const Q=z.currentChar();return Q===es?es:N(Q)?(z.next(),Q):null}function tt(z){const N=z.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===95||N===36}function j(z){return et(z,tt)}function vt(z){const N=z.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===95||N===36||N===45}function yt(z){return et(z,vt)}function bt(z){const N=z.charCodeAt(0);return N>=48&&N<=57}function dt(z){return et(z,bt)}function Nt(z){const N=z.charCodeAt(0);return N>=48&&N<=57||N>=65&&N<=70||N>=97&&N<=102}function ut(z){return et(z,Nt)}function At(z){let N="",Q="";for(;N=dt(z);)Q+=N;return Q}function Ut(z){let N="";for(;;){const Q=z.currentChar();if(Q==="{"||Q==="}"||Q==="@"||Q==="|"||!Q)break;if(Q===xr||Q===Bn)if(_t(z))N+=Q,z.next();else{if(J(z))break;N+=Q,z.next()}else N+=Q,z.next()}return N}function Mt(z){B(z);let N="",Q="";for(;N=yt(z);)Q+=N;return z.currentChar()===es&&b(Ae.UNTERMINATED_CLOSING_BRACE,l(),0),Q}function Pt(z){B(z);let N="";return z.currentChar()==="-"?(z.next(),N+=`-${At(z)}`):N+=At(z),z.currentChar()===es&&b(Ae.UNTERMINATED_CLOSING_BRACE,l(),0),N}function Lt(z){return z!==Xp&&z!==Bn}function Tt(z){B(z),I(z,"'");let N="",Q="";for(;N=et(z,Lt);)N==="\\"?Q+=rt(z):Q+=N;const at=z.currentChar();return at===Bn||at===es?(b(Ae.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,l(),0),at===Bn&&(z.next(),I(z,"'")),Q):(I(z,"'"),Q)}function rt(z){const N=z.currentChar();switch(N){case"\\":case"'":return z.next(),`\\${N}`;case"u":return G(z,N,4);case"U":return G(z,N,6);default:return b(Ae.UNKNOWN_ESCAPE_SEQUENCE,l(),0,N),""}}function G(z,N,Q){I(z,N);let at="";for(let Dt=0;Dt<Q;Dt++){const kt=ut(z);if(!kt){b(Ae.INVALID_UNICODE_ESCAPE_SEQUENCE,l(),0,`\\${N}${at}${z.currentChar()}`);break}at+=kt}return`\\${N}${at}`}function Et(z){return z!=="{"&&z!=="}"&&z!==xr&&z!==Bn}function St(z){B(z);let N="",Q="";for(;N=et(z,Et);)Q+=N;return Q}function It(z){let N="",Q="";for(;N=j(z);)Q+=N;return Q}function C(z){const N=Q=>{const at=z.currentChar();return at==="{"||at==="@"||at==="|"||at==="("||at===")"||!at||at===xr?Q:(Q+=at,z.next(),N(Q))};return N("")}function V(z){B(z);const N=I(z,"|");return B(z),N}function K(z,N){let Q=null;switch(z.currentChar()){case"{":return N.braceNest>=1&&b(Ae.NOT_ALLOW_NEST_PLACEHOLDER,l(),0),z.next(),Q=E(N,2,"{"),B(z),N.braceNest++,Q;case"}":return N.braceNest>0&&N.currentType===2&&b(Ae.EMPTY_PLACEHOLDER,l(),0),z.next(),Q=E(N,3,"}"),N.braceNest--,N.braceNest>0&&B(z),N.inLinked&&N.braceNest===0&&(N.inLinked=!1),Q;case"@":return N.braceNest>0&&b(Ae.UNTERMINATED_CLOSING_BRACE,l(),0),Q=ct(z,N)||T(N),N.braceNest=0,Q;default:{let Dt=!0,kt=!0,Y=!0;if(J(z))return N.braceNest>0&&b(Ae.UNTERMINATED_CLOSING_BRACE,l(),0),Q=E(N,1,V(z)),N.braceNest=0,N.inLinked=!1,Q;if(N.braceNest>0&&(N.currentType===4||N.currentType===5||N.currentType===6))return b(Ae.UNTERMINATED_CLOSING_BRACE,l(),0),N.braceNest=0,gt(z,N);if(Dt=D(z,N))return Q=E(N,4,Mt(z)),B(z),Q;if(kt=F(z,N))return Q=E(N,5,Pt(z)),B(z),Q;if(Y=H(z,N))return Q=E(N,6,Tt(z)),B(z),Q;if(!Dt&&!kt&&!Y)return Q=E(N,12,St(z)),b(Ae.INVALID_TOKEN_IN_PLACEHOLDER,l(),0,Q.value),B(z),Q;break}}return Q}function ct(z,N){const{currentType:Q}=N;let at=null;const Dt=z.currentChar();switch((Q===7||Q===8||Q===11||Q===9)&&(Dt===Bn||Dt===xr)&&b(Ae.INVALID_LINKED_FORMAT,l(),0),Dt){case"@":return z.next(),at=E(N,7,"@"),N.inLinked=!0,at;case".":return B(z),z.next(),E(N,8,".");case":":return B(z),z.next(),E(N,9,":");default:return J(z)?(at=E(N,1,V(z)),N.braceNest=0,N.inLinked=!1,at):q(z,N)||it(z,N)?(B(z),ct(z,N)):$(z,N)?(B(z),E(N,11,It(z))):X(z,N)?(B(z),Dt==="{"?K(z,N)||at:E(N,10,C(z))):(Q===7&&b(Ae.INVALID_LINKED_FORMAT,l(),0),N.braceNest=0,N.inLinked=!1,gt(z,N))}}function gt(z,N){let Q={type:13};if(N.braceNest>0)return K(z,N)||T(N);if(N.inLinked)return ct(z,N)||T(N);switch(z.currentChar()){case"{":return K(z,N)||T(N);case"}":return b(Ae.UNBALANCED_CLOSING_BRACE,l(),0),z.next(),E(N,3,"}");case"@":return ct(z,N)||T(N);default:{if(J(z))return Q=E(N,1,V(z)),N.braceNest=0,N.inLinked=!1,Q;if(_t(z))return E(N,0,Ut(z));break}}return Q}function pt(){const{currentType:z,offset:N,startLoc:Q,endLoc:at}=m;return m.lastType=z,m.lastOffset=N,m.lastStartLoc=Q,m.lastEndLoc=at,m.offset=i(),m.startLoc=l(),a.currentChar()===es?E(m,13):gt(a,m)}return{nextToken:pt,currentOffset:i,currentPosition:l,context:v}}const _1="parser",v1=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function y1(t,e,s){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const a=parseInt(e||s,16);return a<=55295||a>=57344?String.fromCodePoint(a):""}}}function b1(t={}){const e=t.location!==!1,{onError:s}=t;function a(P,R,D,F,...H){const q=P.currentPosition();if(q.offset+=F,q.column+=F,s){const $=e?of(D,q):null,it=Vc(R,$,{domain:_1,args:H});s(it)}}function i(P,R,D){const F={type:P};return e&&(F.start=R,F.end=R,F.loc={start:D,end:D}),F}function l(P,R,D,F){e&&(P.end=R,P.loc&&(P.loc.end=D))}function f(P,R){const D=P.context(),F=i(3,D.offset,D.startLoc);return F.value=R,l(F,P.currentOffset(),P.currentPosition()),F}function d(P,R){const D=P.context(),{lastOffset:F,lastStartLoc:H}=D,q=i(5,F,H);return q.index=parseInt(R,10),P.nextToken(),l(q,P.currentOffset(),P.currentPosition()),q}function m(P,R){const D=P.context(),{lastOffset:F,lastStartLoc:H}=D,q=i(4,F,H);return q.key=R,P.nextToken(),l(q,P.currentOffset(),P.currentPosition()),q}function v(P,R){const D=P.context(),{lastOffset:F,lastStartLoc:H}=D,q=i(9,F,H);return q.value=R.replace(v1,y1),P.nextToken(),l(q,P.currentOffset(),P.currentPosition()),q}function _(P){const R=P.nextToken(),D=P.context(),{lastOffset:F,lastStartLoc:H}=D,q=i(8,F,H);return R.type!==11?(a(P,Ae.UNEXPECTED_EMPTY_LINKED_MODIFIER,D.lastStartLoc,0),q.value="",l(q,F,H),{nextConsumeToken:R,node:q}):(R.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,er(R)),q.value=R.value||"",l(q,P.currentOffset(),P.currentPosition()),{node:q})}function b(P,R){const D=P.context(),F=i(7,D.offset,D.startLoc);return F.value=R,l(F,P.currentOffset(),P.currentPosition()),F}function E(P){const R=P.context(),D=i(6,R.offset,R.startLoc);let F=P.nextToken();if(F.type===8){const H=_(P);D.modifier=H.node,F=H.nextConsumeToken||P.nextToken()}switch(F.type!==9&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(F)),F=P.nextToken(),F.type===2&&(F=P.nextToken()),F.type){case 10:F.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(F)),D.key=b(P,F.value||"");break;case 4:F.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(F)),D.key=m(P,F.value||"");break;case 5:F.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(F)),D.key=d(P,F.value||"");break;case 6:F.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(F)),D.key=v(P,F.value||"");break;default:{a(P,Ae.UNEXPECTED_EMPTY_LINKED_KEY,R.lastStartLoc,0);const H=P.context(),q=i(7,H.offset,H.startLoc);return q.value="",l(q,H.offset,H.startLoc),D.key=q,l(D,H.offset,H.startLoc),{nextConsumeToken:F,node:D}}}return l(D,P.currentOffset(),P.currentPosition()),{node:D}}function T(P){const R=P.context(),D=R.currentType===1?P.currentOffset():R.offset,F=R.currentType===1?R.endLoc:R.startLoc,H=i(2,D,F);H.items=[];let q=null;do{const X=q||P.nextToken();switch(q=null,X.type){case 0:X.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(X)),H.items.push(f(P,X.value||""));break;case 5:X.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(X)),H.items.push(d(P,X.value||""));break;case 4:X.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(X)),H.items.push(m(P,X.value||""));break;case 6:X.value==null&&a(P,Ae.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,er(X)),H.items.push(v(P,X.value||""));break;case 7:{const J=E(P);H.items.push(J.node),q=J.nextConsumeToken||null;break}}}while(R.currentType!==13&&R.currentType!==1);const $=R.currentType===1?R.lastOffset:P.currentOffset(),it=R.currentType===1?R.lastEndLoc:P.currentPosition();return l(H,$,it),H}function I(P,R,D,F){const H=P.context();let q=F.items.length===0;const $=i(1,R,D);$.cases=[],$.cases.push(F);do{const it=T(P);q||(q=it.items.length===0),$.cases.push(it)}while(H.currentType!==13);return q&&a(P,Ae.MUST_HAVE_MESSAGES_IN_PLURAL,D,0),l($,P.currentOffset(),P.currentPosition()),$}function O(P){const R=P.context(),{offset:D,startLoc:F}=R,H=T(P);return R.currentType===13?H:I(P,D,F,H)}function B(P){const R=g1(P,un({},t)),D=R.context(),F=i(0,D.offset,D.startLoc);return e&&F.loc&&(F.loc.source=P),F.body=O(R),t.onCacheKey&&(F.cacheKey=t.onCacheKey(P)),D.currentType!==13&&a(R,Ae.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,P[D.offset]||""),l(F,R.currentOffset(),R.currentPosition()),F}return{parse:B}}function er(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function w1(t,e={}){const s={ast:t,helpers:new Set};return{context:()=>s,helper:l=>(s.helpers.add(l),l)}}function Kp(t,e){for(let s=0;s<t.length;s++)ud(t[s],e)}function ud(t,e){switch(t.type){case 1:Kp(t.cases,e),e.helper("plural");break;case 2:Kp(t.items,e);break;case 6:{ud(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function L1(t,e={}){const s=w1(t);s.helper("normalize"),t.body&&ud(t.body,s);const a=s.context();t.helpers=Array.from(a.helpers)}function E1(t){const e=t.body;return e.type===2?Jp(e):e.cases.forEach(s=>Jp(s)),t}function Jp(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let s=0;s<t.items.length;s++){const a=t.items[s];if(!(a.type===3||a.type===9)||a.value==null)break;e.push(a.value)}if(e.length===t.items.length){t.static=ld(e);for(let s=0;s<t.items.length;s++){const a=t.items[s];(a.type===3||a.type===9)&&delete a.value}}}}function Uo(t){switch(t.t=t.type,t.type){case 0:{const e=t;Uo(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,s=e.cases;for(let a=0;a<s.length;a++)Uo(s[a]);e.c=s,delete e.cases;break}case 2:{const e=t,s=e.items;for(let a=0;a<s.length;a++)Uo(s[a]);e.i=s,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Uo(e.key),e.k=e.key,delete e.key,e.modifier&&(Uo(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function k1(t,e){const{sourceMap:s,filename:a,breakLineCode:i,needIndent:l}=e,f=e.location!==!1,d={filename:a,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:l,indentLevel:0};f&&t.loc&&(d.source=t.loc.source);const m=()=>d;function v(B,P){d.code+=B}function _(B,P=!0){const R=P?i:"";v(l?R+"  ".repeat(B):R)}function b(B=!0){const P=++d.indentLevel;B&&_(P)}function E(B=!0){const P=--d.indentLevel;B&&_(P)}function T(){_(d.indentLevel)}return{context:m,push:v,indent:b,deindent:E,newline:T,helper:B=>`_${B}`,needIndent:()=>d.needIndent}}function x1(t,e){const{helper:s}=t;t.push(`${s("linked")}(`),ia(t,e.key),e.modifier?(t.push(", "),ia(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function T1(t,e){const{helper:s,needIndent:a}=t;t.push(`${s("normalize")}([`),t.indent(a());const i=e.items.length;for(let l=0;l<i&&(ia(t,e.items[l]),l!==i-1);l++)t.push(", ");t.deindent(a()),t.push("])")}function C1(t,e){const{helper:s,needIndent:a}=t;if(e.cases.length>1){t.push(`${s("plural")}([`),t.indent(a());const i=e.cases.length;for(let l=0;l<i&&(ia(t,e.cases[l]),l!==i-1);l++)t.push(", ");t.deindent(a()),t.push("])")}}function S1(t,e){e.body?ia(t,e.body):t.push("null")}function ia(t,e){const{helper:s}=t;switch(e.type){case 0:S1(t,e);break;case 1:C1(t,e);break;case 2:T1(t,e);break;case 6:x1(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${s("interpolate")}(${s("list")}(${e.index}))`,e);break;case 4:t.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const I1=(t,e={})=>{const s=Ht(e.mode)?e.mode:"normal",a=Ht(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,l=e.breakLineCode!=null?e.breakLineCode:s==="arrow"?";":`
`,f=e.needIndent?e.needIndent:s!=="arrow",d=t.helpers||[],m=k1(t,{mode:s,filename:a,sourceMap:i,breakLineCode:l,needIndent:f});m.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),m.indent(f),d.length>0&&(m.push(`const { ${ld(d.map(b=>`${b}: _${b}`),", ")} } = ctx`),m.newline()),m.push("return "),ia(m,t),m.deindent(f),m.push("}"),delete t.helpers;const{code:v,map:_}=m.context();return{ast:t,code:v,map:_?_.toJSON():void 0}};function P1(t,e={}){const s=un({},e),a=!!s.jit,i=!!s.minify,l=s.optimize==null?!0:s.optimize,d=b1(s).parse(t);return a?(l&&E1(d),i&&Uo(d),{ast:d,code:""}):(L1(d,s),I1(d,s))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function N1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(to().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(to().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Nh(t){return s=>O1(s,t)}function O1(t,e){const s=A1(e);if(s==null)throw Il(0);if(cd(s)===1){const l=D1(s);return t.plural(l.reduce((f,d)=>[...f,Qp(t,d)],[]))}else return Qp(t,s)}const M1=["b","body"];function A1(t){return Es(t,M1)}const R1=["c","cases"];function D1(t){return Es(t,R1,[])}function Qp(t,e){const s=F1(e);if(s!=null)return t.type==="text"?s:t.normalize([s]);{const a=$1(e).reduce((i,l)=>[...i,af(t,l)],[]);return t.normalize(a)}}const B1=["s","static"];function F1(t){return Es(t,B1)}const z1=["i","items"];function $1(t){return Es(t,z1,[])}function af(t,e){const s=cd(e);switch(s){case 3:return ku(e,s);case 9:return ku(e,s);case 4:{const a=e;if(Ai(a,"k")&&a.k)return t.interpolate(t.named(a.k));if(Ai(a,"key")&&a.key)return t.interpolate(t.named(a.key));throw Il(s)}case 5:{const a=e;if(Ai(a,"i")&&nn(a.i))return t.interpolate(t.list(a.i));if(Ai(a,"index")&&nn(a.index))return t.interpolate(t.list(a.index));throw Il(s)}case 6:{const a=e,i=H1(a),l=W1(a);return t.linked(af(t,l),i?af(t,i):void 0,t.type)}case 7:return ku(e,s);case 8:return ku(e,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const U1=["t","type"];function cd(t){return Es(t,U1)}const G1=["v","value"];function ku(t,e){const s=Es(t,G1);if(s)return s;throw Il(e)}const V1=["m","modifier"];function H1(t){return Es(t,V1)}const q1=["k","key"];function W1(t){const e=Es(t,q1);if(e)return e;throw Il(6)}function Es(t,e,s){for(let a=0;a<e.length;a++){const i=e[a];if(Ai(t,i)&&t[i]!=null)return t[i]}return s}function Il(t){return new Error(`unhandled node type: ${t}`)}const Z1=t=>t;let xu=De();function ra(t){return ke(t)&&cd(t)===0&&(Ai(t,"b")||Ai(t,"body"))}function Y1(t,e={}){let s=!1;const a=e.onError||u1;return e.onError=i=>{s=!0,a(i)},{...P1(t,e),detectError:s}}function j1(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ht(t)){Le(e.warnHtmlMessage)&&e.warnHtmlMessage;const a=(e.onCacheKey||Z1)(t),i=xu[a];if(i)return i;const{ast:l,detectError:f}=Y1(t,{...e,location:!1,jit:!0}),d=Nh(l);return f?d:xu[a]=d}else{const s=t.cacheKey;if(s){const a=xu[s];return a||(xu[s]=Nh(t))}else return Nh(t)}}let Pl=null;function X1(t){Pl=t}function K1(t,e,s){Pl&&Pl.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:s})}const J1=Q1("function:translate");function Q1(t){return e=>Pl&&Pl.emit(t,e)}const Ar={INVALID_ARGUMENT:l1,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},tx=24;function Rr(t){return Vc(t,null,void 0)}function hd(t,e){return e.locale!=null?tm(e.locale):tm(t.locale)}let Oh;function tm(t){if(Ht(t))return t;if(Ge(t)){if(t.resolvedOnce&&Oh!=null)return Oh;if(t.constructor.name==="Function"){const e=t();if(r1(e))throw Rr(Ar.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Oh=e}else throw Rr(Ar.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Rr(Ar.NOT_SUPPORT_LOCALE_TYPE)}function ex(t,e,s){return[...new Set([s,...Qe(e)?e:ke(e)?Object.keys(e):Ht(e)?[e]:[s]])]}function $v(t,e,s){const a=Ht(s)?s:Nl,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let l=i.__localeChainCache.get(a);if(!l){l=[];let f=[s];for(;Qe(f);)f=em(l,f,e);const d=Qe(e)||!he(e)?e:e.default?e.default:null;f=Ht(d)?[d]:d,Qe(f)&&em(l,f,!1),i.__localeChainCache.set(a,l)}return l}function em(t,e,s){let a=!0;for(let i=0;i<e.length&&Le(a);i++){const l=e[i];Ht(l)&&(a=nx(t,e[i],s))}return a}function nx(t,e,s){let a;const i=e.split("-");do{const l=i.join("-");a=ix(t,l,s),i.splice(-1,1)}while(i.length&&a===!0);return a}function ix(t,e,s){let a=!1;if(!t.includes(e)&&(a=!0,e)){a=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Qe(s)||he(s))&&s[i]&&(a=s[i])}return a}const ks=[];ks[0]={w:[0],i:[3,0],"[":[4],o:[7]};ks[1]={w:[1],".":[2],"[":[4],o:[7]};ks[2]={w:[2],i:[3,0],0:[3,0]};ks[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ks[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ks[5]={"'":[4,0],o:8,l:[5,0]};ks[6]={'"':[4,0],o:8,l:[6,0]};const rx=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function sx(t){return rx.test(t)}function ox(t){const e=t.charCodeAt(0),s=t.charCodeAt(t.length-1);return e===s&&(e===34||e===39)?t.slice(1,-1):t}function ax(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function lx(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:sx(e)?ox(e):"*"+e}function ux(t){const e=[];let s=-1,a=0,i=0,l,f,d,m,v,_,b;const E=[];E[0]=()=>{f===void 0?f=d:f+=d},E[1]=()=>{f!==void 0&&(e.push(f),f=void 0)},E[2]=()=>{E[0](),i++},E[3]=()=>{if(i>0)i--,a=4,E[0]();else{if(i=0,f===void 0||(f=lx(f),f===!1))return!1;E[1]()}};function T(){const I=t[s+1];if(a===5&&I==="'"||a===6&&I==='"')return s++,d="\\"+I,E[0](),!0}for(;a!==null;)if(s++,l=t[s],!(l==="\\"&&T())){if(m=ax(l),b=ks[a],v=b[m]||b.l||8,v===8||(a=v[0],v[1]!==void 0&&(_=E[v[1]],_&&(d=l,_()===!1))))return;if(a===7)return e}}const nm=new Map;function cx(t,e){return ke(t)?t[e]:null}function hx(t,e){if(!ke(t))return null;let s=nm.get(e);if(s||(s=ux(e),s&&nm.set(e,s)),!s)return null;const a=s.length;let i=t,l=0;for(;l<a;){const f=i[s[l]];if(f===void 0||Ge(i))return null;i=f,l++}return i}const fx="10.0.5",Hc=-1,Nl="en-US",im="",rm=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function dx(){return{upper:(t,e)=>e==="text"&&Ht(t)?t.toUpperCase():e==="vnode"&&ke(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ht(t)?t.toLowerCase():e==="vnode"&&ke(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ht(t)?rm(t):e==="vnode"&&ke(t)&&"__v_isVNode"in t?rm(t.children):t}}let Uv;function px(t){Uv=t}let Gv;function mx(t){Gv=t}let Vv;function gx(t){Vv=t}let Hv=null;const _x=t=>{Hv=t},vx=()=>Hv;let qv=null;const sm=t=>{qv=t},yx=()=>qv;let om=0;function bx(t={}){const e=Ge(t.onWarn)?t.onWarn:o1,s=Ht(t.version)?t.version:fx,a=Ht(t.locale)||Ge(t.locale)?t.locale:Nl,i=Ge(a)?Nl:a,l=Qe(t.fallbackLocale)||he(t.fallbackLocale)||Ht(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,f=he(t.messages)?t.messages:Mh(i),d=he(t.datetimeFormats)?t.datetimeFormats:Mh(i),m=he(t.numberFormats)?t.numberFormats:Mh(i),v=un(De(),t.modifiers,dx()),_=t.pluralRules||De(),b=Ge(t.missing)?t.missing:null,E=Le(t.missingWarn)||na(t.missingWarn)?t.missingWarn:!0,T=Le(t.fallbackWarn)||na(t.fallbackWarn)?t.fallbackWarn:!0,I=!!t.fallbackFormat,O=!!t.unresolving,B=Ge(t.postTranslation)?t.postTranslation:null,P=he(t.processor)?t.processor:null,R=Le(t.warnHtmlMessage)?t.warnHtmlMessage:!0,D=!!t.escapeParameter,F=Ge(t.messageCompiler)?t.messageCompiler:Uv,H=Ge(t.messageResolver)?t.messageResolver:Gv||cx,q=Ge(t.localeFallbacker)?t.localeFallbacker:Vv||ex,$=ke(t.fallbackContext)?t.fallbackContext:void 0,it=t,X=ke(it.__datetimeFormatters)?it.__datetimeFormatters:new Map,J=ke(it.__numberFormatters)?it.__numberFormatters:new Map,_t=ke(it.__meta)?it.__meta:{};om++;const et={version:s,cid:om,locale:a,fallbackLocale:l,messages:f,modifiers:v,pluralRules:_,missing:b,missingWarn:E,fallbackWarn:T,fallbackFormat:I,unresolving:O,postTranslation:B,processor:P,warnHtmlMessage:R,escapeParameter:D,messageCompiler:F,messageResolver:H,localeFallbacker:q,fallbackContext:$,onWarn:e,__meta:_t};return et.datetimeFormats=d,et.numberFormats=m,et.__datetimeFormatters=X,et.__numberFormatters=J,__INTLIFY_PROD_DEVTOOLS__&&K1(et,s,_t),et}const Mh=t=>({[t]:De()});function fd(t,e,s,a,i){const{missing:l,onWarn:f}=t;if(l!==null){const d=l(t,s,e,i);return Ht(d)?d:e}else return e}function Ja(t,e,s){const a=t;a.__localeChainCache=new Map,t.localeFallbacker(t,s,e)}function wx(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Lx(t,e){const s=e.indexOf(t);if(s===-1)return!1;for(let a=s+1;a<e.length;a++)if(wx(t,e[a]))return!0;return!1}function am(t,...e){const{datetimeFormats:s,unresolving:a,fallbackLocale:i,onWarn:l,localeFallbacker:f}=t,{__datetimeFormatters:d}=t,[m,v,_,b]=lf(...e),E=Le(_.missingWarn)?_.missingWarn:t.missingWarn;Le(_.fallbackWarn)?_.fallbackWarn:t.fallbackWarn;const T=!!_.part,I=hd(t,_),O=f(t,i,I);if(!Ht(m)||m==="")return new Intl.DateTimeFormat(I,b).format(v);let B={},P,R=null;const D="datetime format";for(let q=0;q<O.length&&(P=O[q],B=s[P]||{},R=B[m],!he(R));q++)fd(t,m,P,E,D);if(!he(R)||!Ht(P))return a?Hc:m;let F=`${P}__${m}`;Gc(b)||(F=`${F}__${JSON.stringify(b)}`);let H=d.get(F);return H||(H=new Intl.DateTimeFormat(P,un({},R,b)),d.set(F,H)),T?H.formatToParts(v):H.format(v)}const Wv=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function lf(...t){const[e,s,a,i]=t,l=De();let f=De(),d;if(Ht(e)){const m=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!m)throw Rr(Ar.INVALID_ISO_DATE_ARGUMENT);const v=m[3]?m[3].trim().startsWith("T")?`${m[1].trim()}${m[3].trim()}`:`${m[1].trim()}T${m[3].trim()}`:m[1].trim();d=new Date(v);try{d.toISOString()}catch{throw Rr(Ar.INVALID_ISO_DATE_ARGUMENT)}}else if(e1(e)){if(isNaN(e.getTime()))throw Rr(Ar.INVALID_DATE_ARGUMENT);d=e}else if(nn(e))d=e;else throw Rr(Ar.INVALID_ARGUMENT);return Ht(s)?l.key=s:he(s)&&Object.keys(s).forEach(m=>{Wv.includes(m)?f[m]=s[m]:l[m]=s[m]}),Ht(a)?l.locale=a:he(a)&&(f=a),he(i)&&(f=i),[l.key||"",d,l,f]}function lm(t,e,s){const a=t;for(const i in s){const l=`${e}__${i}`;a.__datetimeFormatters.has(l)&&a.__datetimeFormatters.delete(l)}}function um(t,...e){const{numberFormats:s,unresolving:a,fallbackLocale:i,onWarn:l,localeFallbacker:f}=t,{__numberFormatters:d}=t,[m,v,_,b]=uf(...e),E=Le(_.missingWarn)?_.missingWarn:t.missingWarn;Le(_.fallbackWarn)?_.fallbackWarn:t.fallbackWarn;const T=!!_.part,I=hd(t,_),O=f(t,i,I);if(!Ht(m)||m==="")return new Intl.NumberFormat(I,b).format(v);let B={},P,R=null;const D="number format";for(let q=0;q<O.length&&(P=O[q],B=s[P]||{},R=B[m],!he(R));q++)fd(t,m,P,E,D);if(!he(R)||!Ht(P))return a?Hc:m;let F=`${P}__${m}`;Gc(b)||(F=`${F}__${JSON.stringify(b)}`);let H=d.get(F);return H||(H=new Intl.NumberFormat(P,un({},R,b)),d.set(F,H)),T?H.formatToParts(v):H.format(v)}const Zv=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function uf(...t){const[e,s,a,i]=t,l=De();let f=De();if(!nn(e))throw Rr(Ar.INVALID_ARGUMENT);const d=e;return Ht(s)?l.key=s:he(s)&&Object.keys(s).forEach(m=>{Zv.includes(m)?f[m]=s[m]:l[m]=s[m]}),Ht(a)?l.locale=a:he(a)&&(f=a),he(i)&&(f=i),[l.key||"",d,l,f]}function cm(t,e,s){const a=t;for(const i in s){const l=`${e}__${i}`;a.__numberFormatters.has(l)&&a.__numberFormatters.delete(l)}}const Ex=t=>t,kx=t=>"",xx="text",Tx=t=>t.length===0?"":ld(t),Cx=s1;function hm(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Sx(t){const e=nn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(nn(t.named.count)||nn(t.named.n))?nn(t.named.count)?t.named.count:nn(t.named.n)?t.named.n:e:e}function Ix(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Px(t={}){const e=t.locale,s=Sx(t),a=ke(t.pluralRules)&&Ht(e)&&Ge(t.pluralRules[e])?t.pluralRules[e]:hm,i=ke(t.pluralRules)&&Ht(e)&&Ge(t.pluralRules[e])?hm:void 0,l=P=>P[a(s,P.length,i)],f=t.list||[],d=P=>f[P],m=t.named||De();nn(t.pluralIndex)&&Ix(s,m);const v=P=>m[P];function _(P,R){const D=Ge(t.messages)?t.messages(P,!!R):ke(t.messages)?t.messages[P]:!1;return D||(t.parent?t.parent.message(P):kx)}const b=P=>t.modifiers?t.modifiers[P]:Ex,E=he(t.processor)&&Ge(t.processor.normalize)?t.processor.normalize:Tx,T=he(t.processor)&&Ge(t.processor.interpolate)?t.processor.interpolate:Cx,I=he(t.processor)&&Ht(t.processor.type)?t.processor.type:xx,B={list:d,named:v,plural:l,linked:(P,...R)=>{const[D,F]=R;let H="text",q="";R.length===1?ke(D)?(q=D.modifier||q,H=D.type||H):Ht(D)&&(q=D||q):R.length===2&&(Ht(D)&&(q=D||q),Ht(F)&&(H=F||H));const $=_(P,!0)(B),it=H==="vnode"&&Qe($)&&q?$[0]:$;return q?b(q)(it,H):it},message:_,type:I,interpolate:T,normalize:E,values:un(De(),f,m)};return B}const fm=()=>"",xi=t=>Ge(t);function dm(t,...e){const{fallbackFormat:s,postTranslation:a,unresolving:i,messageCompiler:l,fallbackLocale:f,messages:d}=t,[m,v]=cf(...e),_=Le(v.missingWarn)?v.missingWarn:t.missingWarn,b=Le(v.fallbackWarn)?v.fallbackWarn:t.fallbackWarn,E=Le(v.escapeParameter)?v.escapeParameter:t.escapeParameter,T=!!v.resolvedMessage,I=Ht(v.default)||Le(v.default)?Le(v.default)?l?m:()=>m:v.default:s?l?m:()=>m:null,O=s||I!=null&&(Ht(I)||Ge(I)),B=hd(t,v);E&&Nx(v);let[P,R,D]=T?[m,B,d[B]||De()]:Yv(t,m,B,f,b,_),F=P,H=m;if(!T&&!(Ht(F)||ra(F)||xi(F))&&O&&(F=I,H=F),!T&&(!(Ht(F)||ra(F)||xi(F))||!Ht(R)))return i?Hc:m;let q=!1;const $=()=>{q=!0},it=xi(F)?F:jv(t,m,R,F,H,$);if(q)return F;const X=Ax(t,R,D,v),J=Px(X),_t=Ox(t,it,J),et=a?a(_t,m):_t;if(__INTLIFY_PROD_DEVTOOLS__){const tt={timestamp:Date.now(),key:Ht(m)?m:xi(F)?F.key:"",locale:R||(xi(F)?F.locale:""),format:Ht(F)?F:xi(F)?F.source:"",message:et};tt.meta=un({},t.__meta,vx()||{}),J1(tt)}return et}function Nx(t){Qe(t.list)?t.list=t.list.map(e=>Ht(e)?jp(e):e):ke(t.named)&&Object.keys(t.named).forEach(e=>{Ht(t.named[e])&&(t.named[e]=jp(t.named[e]))})}function Yv(t,e,s,a,i,l){const{messages:f,onWarn:d,messageResolver:m,localeFallbacker:v}=t,_=v(t,a,s);let b=De(),E,T=null;const I="translate";for(let O=0;O<_.length&&(E=_[O],b=f[E]||De(),(T=m(b,e))===null&&(T=b[e]),!(Ht(T)||ra(T)||xi(T)));O++)if(!Lx(E,_)){const B=fd(t,e,E,l,I);B!==e&&(T=B)}return[T,E,b]}function jv(t,e,s,a,i,l){const{messageCompiler:f,warnHtmlMessage:d}=t;if(xi(a)){const v=a;return v.locale=v.locale||s,v.key=v.key||e,v}if(f==null){const v=()=>a;return v.locale=s,v.key=e,v}const m=f(a,Mx(t,s,i,a,d,l));return m.locale=s,m.key=e,m.source=a,m}function Ox(t,e,s){return e(s)}function cf(...t){const[e,s,a]=t,i=De();if(!Ht(e)&&!nn(e)&&!xi(e)&&!ra(e))throw Rr(Ar.INVALID_ARGUMENT);const l=nn(e)?String(e):(xi(e),e);return nn(s)?i.plural=s:Ht(s)?i.default=s:he(s)&&!Gc(s)?i.named=s:Qe(s)&&(i.list=s),nn(a)?i.plural=a:Ht(a)?i.default=a:he(a)&&un(i,a),[l,i]}function Mx(t,e,s,a,i,l){return{locale:e,key:s,warnHtmlMessage:i,onError:f=>{throw l&&l(f),f},onCacheKey:f=>Qk(e,s,f)}}function Ax(t,e,s,a){const{modifiers:i,pluralRules:l,messageResolver:f,fallbackLocale:d,fallbackWarn:m,missingWarn:v,fallbackContext:_}=t,E={locale:e,modifiers:i,pluralRules:l,messages:(T,I)=>{let O=f(s,T);if(O==null&&(_||I)){const[,,B]=Yv(_||t,T,e,d,m,v);O=f(B,T)}if(Ht(O)||ra(O)){let B=!1;const R=jv(t,T,e,O,T,()=>{B=!0});return B?fm:R}else return xi(O)?O:fm}};return t.processor&&(E.processor=t.processor),a.list&&(E.list=a.list),a.named&&(E.named=a.named),nn(a.plural)&&(E.pluralIndex=a.plural),E}N1();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Rx="10.0.5";function Dx(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(to().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(to().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(to().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(to().__INTLIFY_PROD_DEVTOOLS__=!1)}const qn={UNEXPECTED_RETURN_TYPE:tx,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function ni(t,...e){return Vc(t,null,void 0)}const hf=Ls("__translateVNode"),ff=Ls("__datetimeParts"),df=Ls("__numberParts"),Xv=Ls("__setPluralRules"),Kv=Ls("__injectWithOption"),pf=Ls("__dispose");function Ol(t){if(!ke(t))return t;for(const e in t)if(Ai(t,e))if(!e.includes("."))ke(t[e])&&Ol(t[e]);else{const s=e.split("."),a=s.length-1;let i=t,l=!1;for(let f=0;f<a;f++){if(s[f]in i||(i[s[f]]=De()),!ke(i[s[f]])){l=!0;break}i=i[s[f]]}l||(i[s[a]]=t[e],delete t[e]),ke(i[s[a]])&&Ol(i[s[a]])}return t}function dd(t,e){const{messages:s,__i18n:a,messageResolver:i,flatJson:l}=e,f=he(s)?s:Qe(a)?De():{[t]:De()};if(Qe(a)&&a.forEach(d=>{if("locale"in d&&"resource"in d){const{locale:m,resource:v}=d;m?(f[m]=f[m]||De(),Du(v,f[m])):Du(v,f)}else Ht(d)&&Du(JSON.parse(d),f)}),i==null&&l)for(const d in f)Ai(f,d)&&Ol(f[d]);return f}function Jv(t){return t.type}function Qv(t,e,s){let a=ke(e.messages)?e.messages:De();"__i18nGlobal"in s&&(a=dd(t.locale.value,{messages:a,__i18n:s.__i18nGlobal}));const i=Object.keys(a);i.length&&i.forEach(l=>{t.mergeLocaleMessage(l,a[l])});{if(ke(e.datetimeFormats)){const l=Object.keys(e.datetimeFormats);l.length&&l.forEach(f=>{t.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(ke(e.numberFormats)){const l=Object.keys(e.numberFormats);l.length&&l.forEach(f=>{t.mergeNumberFormat(f,e.numberFormats[f])})}}}function pm(t){return $t($l,null,t,0)}const mm="__INTLIFY_META__",gm=()=>[],Bx=()=>!1;let _m=0;function vm(t){return(e,s,a,i)=>t(s,a,ei()||void 0,i)}const Fx=()=>{const t=ei();let e=null;return t&&(e=Jv(t)[mm])?{[mm]:e}:null};function pd(t={}){const{__root:e,__injectWithOption:s}=t,a=e===void 0,i=t.flatJson,l=hc?Ft:Vn;let f=Le(t.inheritLocale)?t.inheritLocale:!0;const d=l(e&&f?e.locale.value:Ht(t.locale)?t.locale:Nl),m=l(e&&f?e.fallbackLocale.value:Ht(t.fallbackLocale)||Qe(t.fallbackLocale)||he(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:d.value),v=l(dd(d.value,t)),_=l(he(t.datetimeFormats)?t.datetimeFormats:{[d.value]:{}}),b=l(he(t.numberFormats)?t.numberFormats:{[d.value]:{}});let E=e?e.missingWarn:Le(t.missingWarn)||na(t.missingWarn)?t.missingWarn:!0,T=e?e.fallbackWarn:Le(t.fallbackWarn)||na(t.fallbackWarn)?t.fallbackWarn:!0,I=e?e.fallbackRoot:Le(t.fallbackRoot)?t.fallbackRoot:!0,O=!!t.fallbackFormat,B=Ge(t.missing)?t.missing:null,P=Ge(t.missing)?vm(t.missing):null,R=Ge(t.postTranslation)?t.postTranslation:null,D=e?e.warnHtmlMessage:Le(t.warnHtmlMessage)?t.warnHtmlMessage:!0,F=!!t.escapeParameter;const H=e?e.modifiers:he(t.modifiers)?t.modifiers:{};let q=t.pluralRules||e&&e.pluralRules,$;$=(()=>{a&&sm(null);const Y={version:Rx,locale:d.value,fallbackLocale:m.value,messages:v.value,modifiers:H,pluralRules:q,missing:P===null?void 0:P,missingWarn:E,fallbackWarn:T,fallbackFormat:O,unresolving:!0,postTranslation:R===null?void 0:R,warnHtmlMessage:D,escapeParameter:F,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};Y.datetimeFormats=_.value,Y.numberFormats=b.value,Y.__datetimeFormatters=he($)?$.__datetimeFormatters:void 0,Y.__numberFormatters=he($)?$.__numberFormatters:void 0;const ft=bx(Y);return a&&sm(ft),ft})(),Ja($,d.value,m.value);function X(){return[d.value,m.value,v.value,_.value,b.value]}const J=lt({get:()=>d.value,set:Y=>{d.value=Y,$.locale=d.value}}),_t=lt({get:()=>m.value,set:Y=>{m.value=Y,$.fallbackLocale=m.value,Ja($,d.value,Y)}}),et=lt(()=>v.value),tt=lt(()=>_.value),j=lt(()=>b.value);function vt(){return Ge(R)?R:null}function yt(Y){R=Y,$.postTranslation=Y}function bt(){return B}function dt(Y){Y!==null&&(P=vm(Y)),B=Y,$.missing=P}const Nt=(Y,ft,Gt,Qt,Ot,Ve)=>{X();let jt;try{__INTLIFY_PROD_DEVTOOLS__,a||($.fallbackContext=e?yx():void 0),jt=Y($)}finally{__INTLIFY_PROD_DEVTOOLS__,a||($.fallbackContext=void 0)}if(Gt!=="translate exists"&&nn(jt)&&jt===Hc||Gt==="translate exists"&&!jt){const[Yt,Pn]=ft();return e&&I?Qt(e):Ot(Yt)}else{if(Ve(jt))return jt;throw ni(qn.UNEXPECTED_RETURN_TYPE)}};function ut(...Y){return Nt(ft=>Reflect.apply(dm,null,[ft,...Y]),()=>cf(...Y),"translate",ft=>Reflect.apply(ft.t,ft,[...Y]),ft=>ft,ft=>Ht(ft))}function At(...Y){const[ft,Gt,Qt]=Y;if(Qt&&!ke(Qt))throw ni(qn.INVALID_ARGUMENT);return ut(ft,Gt,un({resolvedMessage:!0},Qt||{}))}function Ut(...Y){return Nt(ft=>Reflect.apply(am,null,[ft,...Y]),()=>lf(...Y),"datetime format",ft=>Reflect.apply(ft.d,ft,[...Y]),()=>im,ft=>Ht(ft))}function Mt(...Y){return Nt(ft=>Reflect.apply(um,null,[ft,...Y]),()=>uf(...Y),"number format",ft=>Reflect.apply(ft.n,ft,[...Y]),()=>im,ft=>Ht(ft))}function Pt(Y){return Y.map(ft=>Ht(ft)||nn(ft)||Le(ft)?pm(String(ft)):ft)}const Tt={normalize:Pt,interpolate:Y=>Y,type:"vnode"};function rt(...Y){return Nt(ft=>{let Gt;const Qt=ft;try{Qt.processor=Tt,Gt=Reflect.apply(dm,null,[Qt,...Y])}finally{Qt.processor=null}return Gt},()=>cf(...Y),"translate",ft=>ft[hf](...Y),ft=>[pm(ft)],ft=>Qe(ft))}function G(...Y){return Nt(ft=>Reflect.apply(um,null,[ft,...Y]),()=>uf(...Y),"number format",ft=>ft[df](...Y),gm,ft=>Ht(ft)||Qe(ft))}function Et(...Y){return Nt(ft=>Reflect.apply(am,null,[ft,...Y]),()=>lf(...Y),"datetime format",ft=>ft[ff](...Y),gm,ft=>Ht(ft)||Qe(ft))}function St(Y){q=Y,$.pluralRules=q}function It(Y,ft){return Nt(()=>{if(!Y)return!1;const Gt=Ht(ft)?ft:d.value,Qt=K(Gt),Ot=$.messageResolver(Qt,Y);return ra(Ot)||xi(Ot)||Ht(Ot)},()=>[Y],"translate exists",Gt=>Reflect.apply(Gt.te,Gt,[Y,ft]),Bx,Gt=>Le(Gt))}function C(Y){let ft=null;const Gt=$v($,m.value,d.value);for(let Qt=0;Qt<Gt.length;Qt++){const Ot=v.value[Gt[Qt]]||{},Ve=$.messageResolver(Ot,Y);if(Ve!=null){ft=Ve;break}}return ft}function V(Y){const ft=C(Y);return ft??(e?e.tm(Y)||{}:{})}function K(Y){return v.value[Y]||{}}function ct(Y,ft){if(i){const Gt={[Y]:ft};for(const Qt in Gt)Ai(Gt,Qt)&&Ol(Gt[Qt]);ft=Gt[Y]}v.value[Y]=ft,$.messages=v.value}function gt(Y,ft){v.value[Y]=v.value[Y]||{};const Gt={[Y]:ft};if(i)for(const Qt in Gt)Ai(Gt,Qt)&&Ol(Gt[Qt]);ft=Gt[Y],Du(ft,v.value[Y]),$.messages=v.value}function pt(Y){return _.value[Y]||{}}function z(Y,ft){_.value[Y]=ft,$.datetimeFormats=_.value,lm($,Y,ft)}function N(Y,ft){_.value[Y]=un(_.value[Y]||{},ft),$.datetimeFormats=_.value,lm($,Y,ft)}function Q(Y){return b.value[Y]||{}}function at(Y,ft){b.value[Y]=ft,$.numberFormats=b.value,cm($,Y,ft)}function Dt(Y,ft){b.value[Y]=un(b.value[Y]||{},ft),$.numberFormats=b.value,cm($,Y,ft)}_m++,e&&hc&&(ne(e.locale,Y=>{f&&(d.value=Y,$.locale=Y,Ja($,d.value,m.value))}),ne(e.fallbackLocale,Y=>{f&&(m.value=Y,$.fallbackLocale=Y,Ja($,d.value,m.value))}));const kt={id:_m,locale:J,fallbackLocale:_t,get inheritLocale(){return f},set inheritLocale(Y){f=Y,Y&&e&&(d.value=e.locale.value,m.value=e.fallbackLocale.value,Ja($,d.value,m.value))},get availableLocales(){return Object.keys(v.value).sort()},messages:et,get modifiers(){return H},get pluralRules(){return q||{}},get isGlobal(){return a},get missingWarn(){return E},set missingWarn(Y){E=Y,$.missingWarn=E},get fallbackWarn(){return T},set fallbackWarn(Y){T=Y,$.fallbackWarn=T},get fallbackRoot(){return I},set fallbackRoot(Y){I=Y},get fallbackFormat(){return O},set fallbackFormat(Y){O=Y,$.fallbackFormat=O},get warnHtmlMessage(){return D},set warnHtmlMessage(Y){D=Y,$.warnHtmlMessage=Y},get escapeParameter(){return F},set escapeParameter(Y){F=Y,$.escapeParameter=Y},t:ut,getLocaleMessage:K,setLocaleMessage:ct,mergeLocaleMessage:gt,getPostTranslationHandler:vt,setPostTranslationHandler:yt,getMissingHandler:bt,setMissingHandler:dt,[Xv]:St};return kt.datetimeFormats=tt,kt.numberFormats=j,kt.rt=At,kt.te=It,kt.tm=V,kt.d=Ut,kt.n=Mt,kt.getDateTimeFormat=pt,kt.setDateTimeFormat=z,kt.mergeDateTimeFormat=N,kt.getNumberFormat=Q,kt.setNumberFormat=at,kt.mergeNumberFormat=Dt,kt[Kv]=s,kt[hf]=rt,kt[ff]=Et,kt[df]=G,kt}function zx(t){const e=Ht(t.locale)?t.locale:Nl,s=Ht(t.fallbackLocale)||Qe(t.fallbackLocale)||he(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,a=Ge(t.missing)?t.missing:void 0,i=Le(t.silentTranslationWarn)||na(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,l=Le(t.silentFallbackWarn)||na(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,f=Le(t.fallbackRoot)?t.fallbackRoot:!0,d=!!t.formatFallbackMessages,m=he(t.modifiers)?t.modifiers:{},v=t.pluralizationRules,_=Ge(t.postTranslation)?t.postTranslation:void 0,b=Ht(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,E=!!t.escapeParameterHtml,T=Le(t.sync)?t.sync:!0;let I=t.messages;if(he(t.sharedMessages)){const H=t.sharedMessages;I=Object.keys(H).reduce(($,it)=>{const X=$[it]||($[it]={});return un(X,H[it]),$},I||{})}const{__i18n:O,__root:B,__injectWithOption:P}=t,R=t.datetimeFormats,D=t.numberFormats,F=t.flatJson;return{locale:e,fallbackLocale:s,messages:I,flatJson:F,datetimeFormats:R,numberFormats:D,missing:a,missingWarn:i,fallbackWarn:l,fallbackRoot:f,fallbackFormat:d,modifiers:m,pluralRules:v,postTranslation:_,warnHtmlMessage:b,escapeParameter:E,messageResolver:t.messageResolver,inheritLocale:T,__i18n:O,__root:B,__injectWithOption:P}}function mf(t={}){const e=pd(zx(t)),{__extender:s}=t,a={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return Le(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=Le(i)?!i:i},get silentFallbackWarn(){return Le(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=Le(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},tc(...i){const[l,f,d]=i,m={plural:1};let v=null,_=null;if(!Ht(l))throw ni(qn.INVALID_ARGUMENT);const b=l;return Ht(f)?m.locale=f:nn(f)?m.plural=f:Qe(f)?v=f:he(f)&&(_=f),Ht(d)?m.locale=d:Qe(d)?v=d:he(d)&&(_=d),Reflect.apply(e.t,e,[b,v||_||{},m])},te(i,l){return e.te(i,l)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,l){e.setLocaleMessage(i,l)},mergeLocaleMessage(i,l){e.mergeLocaleMessage(i,l)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,l){e.setDateTimeFormat(i,l)},mergeDateTimeFormat(i,l){e.mergeDateTimeFormat(i,l)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,l){e.setNumberFormat(i,l)},mergeNumberFormat(i,l){e.mergeNumberFormat(i,l)}};return a.__extender=s,a}function $x(t,e,s){return{beforeCreate(){const a=ei();if(!a)throw ni(qn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const l=i.i18n;if(i.__i18n&&(l.__i18n=i.__i18n),l.__root=e,this===this.$root)this.$i18n=ym(t,l);else{l.__injectWithOption=!0,l.__extender=s.__vueI18nExtend,this.$i18n=mf(l);const f=this.$i18n;f.__extender&&(f.__disposer=f.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=ym(t,i);else{this.$i18n=mf({__i18n:i.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:e});const l=this.$i18n;l.__extender&&(l.__disposer=l.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&Qv(e,i,i),this.$t=(...l)=>this.$i18n.t(...l),this.$rt=(...l)=>this.$i18n.rt(...l),this.$tc=(...l)=>this.$i18n.tc(...l),this.$te=(l,f)=>this.$i18n.te(l,f),this.$d=(...l)=>this.$i18n.d(...l),this.$n=(...l)=>this.$i18n.n(...l),this.$tm=l=>this.$i18n.tm(l),s.__setInstance(a,this.$i18n)},mounted(){},unmounted(){const a=ei();if(!a)throw ni(qn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),s.__deleteInstance(a),delete this.$i18n}}}function ym(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[Xv](e.pluralizationRules||t.pluralizationRules);const s=dd(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(s).forEach(a=>t.mergeLocaleMessage(a,s[a])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(a=>t.mergeDateTimeFormat(a,e.datetimeFormats[a])),e.numberFormats&&Object.keys(e.numberFormats).forEach(a=>t.mergeNumberFormat(a,e.numberFormats[a])),t}const md={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Ux({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((a,i)=>[...a,...i.type===ce?i.children:[i]],[]):e.reduce((s,a)=>{const i=t[a];return i&&(s[a]=i()),s},De())}function ty(){return ce}const Gx=Pe({name:"i18n-t",props:un({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>nn(t)||!isNaN(t)}},md),setup(t,e){const{slots:s,attrs:a}=e,i=t.i18n||_a({useScope:t.scope,__useComponent:!0});return()=>{const l=Object.keys(s).filter(b=>b!=="_"),f=De();t.locale&&(f.locale=t.locale),t.plural!==void 0&&(f.plural=Ht(t.plural)?+t.plural:t.plural);const d=Ux(e,l),m=i[hf](t.keypath,d,f),v=un(De(),a),_=Ht(t.tag)||ke(t.tag)?t.tag:ty();return Mi(_,v,m)}}}),bm=Gx;function Vx(t){return Qe(t)&&!Ht(t[0])}function ey(t,e,s,a){const{slots:i,attrs:l}=e;return()=>{const f={part:!0};let d=De();t.locale&&(f.locale=t.locale),Ht(t.format)?f.key=t.format:ke(t.format)&&(Ht(t.format.key)&&(f.key=t.format.key),d=Object.keys(t.format).reduce((E,T)=>s.includes(T)?un(De(),E,{[T]:t.format[T]}):E,De()));const m=a(t.value,f,d);let v=[f.key];Qe(m)?v=m.map((E,T)=>{const I=i[E.type],O=I?I({[E.type]:E.value,index:T,parts:m}):[E.value];return Vx(O)&&(O[0].key=`${E.type}-${T}`),O}):Ht(m)&&(v=[m]);const _=un(De(),l),b=Ht(t.tag)||ke(t.tag)?t.tag:ty();return Mi(b,_,v)}}const Hx=Pe({name:"i18n-n",props:un({value:{type:Number,required:!0},format:{type:[String,Object]}},md),setup(t,e){const s=t.i18n||_a({useScope:t.scope,__useComponent:!0});return ey(t,e,Zv,(...a)=>s[df](...a))}}),wm=Hx,qx=Pe({name:"i18n-d",props:un({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},md),setup(t,e){const s=t.i18n||_a({useScope:t.scope,__useComponent:!0});return ey(t,e,Wv,(...a)=>s[ff](...a))}}),Lm=qx;function Wx(t,e){const s=t;if(t.mode==="composition")return s.__getInstance(e)||t.global;{const a=s.__getInstance(e);return a!=null?a.__composer:t.global.__composer}}function Zx(t){const e=f=>{const{instance:d,value:m}=f;if(!d||!d.$)throw ni(qn.UNEXPECTED_ERROR);const v=Wx(t,d.$),_=Em(m);return[Reflect.apply(v.t,v,[...km(_)]),v]};return{created:(f,d)=>{const[m,v]=e(d);hc&&t.global===v&&(f.__i18nWatcher=ne(v.locale,()=>{d.instance&&d.instance.$forceUpdate()})),f.__composer=v,f.textContent=m},unmounted:f=>{hc&&f.__i18nWatcher&&(f.__i18nWatcher(),f.__i18nWatcher=void 0,delete f.__i18nWatcher),f.__composer&&(f.__composer=void 0,delete f.__composer)},beforeUpdate:(f,{value:d})=>{if(f.__composer){const m=f.__composer,v=Em(d);f.textContent=Reflect.apply(m.t,m,[...km(v)])}},getSSRProps:f=>{const[d]=e(f);return{textContent:d}}}}function Em(t){if(Ht(t))return{path:t};if(he(t)){if(!("path"in t))throw ni(qn.REQUIRED_VALUE,"path");return t}else throw ni(qn.INVALID_VALUE)}function km(t){const{path:e,locale:s,args:a,choice:i,plural:l}=t,f={},d=a||{};return Ht(s)&&(f.locale=s),nn(i)&&(f.plural=i),nn(l)&&(f.plural=l),[e,d,f]}function Yx(t,e,...s){const a=he(s[0])?s[0]:{};(Le(a.globalInstall)?a.globalInstall:!0)&&([bm.name,"I18nT"].forEach(l=>t.component(l,bm)),[wm.name,"I18nN"].forEach(l=>t.component(l,wm)),[Lm.name,"I18nD"].forEach(l=>t.component(l,Lm))),t.directive("t",Zx(e))}const jx=Ls("global-vue-i18n");function Xx(t={},e){const s=__VUE_I18N_LEGACY_API__&&Le(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,a=Le(t.globalInjection)?t.globalInjection:!0,i=new Map,[l,f]=Kx(t,s),d=Ls("");function m(E){return i.get(E)||null}function v(E,T){i.set(E,T)}function _(E){i.delete(E)}const b={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},async install(E,...T){if(E.__VUE_I18N_SYMBOL__=d,E.provide(E.__VUE_I18N_SYMBOL__,b),he(T[0])){const B=T[0];b.__composerExtend=B.__composerExtend,b.__vueI18nExtend=B.__vueI18nExtend}let I=null;!s&&a&&(I=sT(E,b.global)),__VUE_I18N_FULL_INSTALL__&&Yx(E,b,...T),__VUE_I18N_LEGACY_API__&&s&&E.mixin($x(f,f.__composer,b));const O=E.unmount;E.unmount=()=>{I&&I(),b.dispose(),O()}},get global(){return f},dispose(){l.stop()},__instances:i,__getInstance:m,__setInstance:v,__deleteInstance:_};return b}function _a(t={}){const e=ei();if(e==null)throw ni(qn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ni(qn.NOT_INSTALLED);const s=Jx(e),a=tT(s),i=Jv(e),l=Qx(t,i);if(l==="global")return Qv(a,t,i),a;if(l==="parent"){let m=eT(s,e,t.__useComponent);return m==null&&(m=a),m}const f=s;let d=f.__getInstance(e);if(d==null){const m=un({},t);"__i18n"in i&&(m.__i18n=i.__i18n),a&&(m.__root=a),d=pd(m),f.__composerExtend&&(d[pf]=f.__composerExtend(d)),iT(f,e,d),f.__setInstance(e,d)}return d}function Kx(t,e,s){const a=Sg(),i=__VUE_I18N_LEGACY_API__&&e?a.run(()=>mf(t)):a.run(()=>pd(t));if(i==null)throw ni(qn.UNEXPECTED_ERROR);return[a,i]}function Jx(t){const e=rn(t.isCE?jx:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ni(t.isCE?qn.NOT_INSTALLED_WITH_PROVIDE:qn.UNEXPECTED_ERROR);return e}function Qx(t,e){return Gc(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function tT(t){return t.mode==="composition"?t.global:t.global.__composer}function eT(t,e,s=!1){let a=null;const i=e.root;let l=nT(e,s);for(;l!=null;){const f=t;if(t.mode==="composition")a=f.__getInstance(l);else if(__VUE_I18N_LEGACY_API__){const d=f.__getInstance(l);d!=null&&(a=d.__composer,s&&a&&!a[Kv]&&(a=null))}if(a!=null||i===l)break;l=l.parent}return a}function nT(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function iT(t,e,s){Hi(()=>{},e),pa(()=>{const a=s;t.__deleteInstance(e);const i=a[pf];i&&(i(),delete a[pf])},e)}const rT=["locale","fallbackLocale","availableLocales"],xm=["t","rt","d","n","tm","te"];function sT(t,e){const s=Object.create(null);return rT.forEach(i=>{const l=Object.getOwnPropertyDescriptor(e,i);if(!l)throw ni(qn.UNEXPECTED_ERROR);const f=qe(l.value)?{get(){return l.value.value},set(d){l.value.value=d}}:{get(){return l.get&&l.get()}};Object.defineProperty(s,i,f)}),t.config.globalProperties.$i18n=s,xm.forEach(i=>{const l=Object.getOwnPropertyDescriptor(e,i);if(!l||!l.value)throw ni(qn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,l)}),()=>{delete t.config.globalProperties.$i18n,xm.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}Dx();px(j1);mx(hx);gx($v);if(__INTLIFY_PROD_DEVTOOLS__){const t=to();t.__INTLIFY__=!0,X1(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const oT={__name:"App",setup(t){const{t:e,locale:s}=_a();return document.title=e("title"),ne(s,()=>{document.title=e("title")}),(a,i)=>{const l=_b("RouterView");return wt(),ge(l)}}},aT={key:0},lT={class:"d-flex justify-content-center"},uT={class:"d-flex justify-content-center"},cT={class:"spinner-border",role:"status"},hT={class:"visually-hidden"},fT={__name:"Loading",props:{loadingStatus:Boolean},setup(t){const e=t;ne(e,()=>{s.value=e.loadingStatus});const s=Ft(e.loadingStatus!=null?e.loadingStatus:!1);return(a,i)=>s.value?(wt(),zt("div",aT,[mt("div",lT,[mt("h3",null,Zt(a.$t("loading")),1)]),mt("div",uT,[mt("div",cT,[mt("span",hT,Zt(a.$t("loading")),1)])])])):Se("",!0)}},dT={class:"input-group"},pT=["value"],mT={key:0,class:"bi bi-sort-up"},gT={key:1,class:"bi bi-sort-down"},_T={__name:"SortBy",props:{sortByAvailable:{type:Array,required:!0},sortBy:{type:String,required:!0},orderBy:{type:String,default:"asc"}},emits:["update:sortBy","update:orderBy"],setup(t,{emit:e}){const s=t,a=s.sortByAvailable,i=Ft(s.sortBy),l=Ft(s.orderBy),f=e;function d(){l.value=l.value==="asc"?"desc":"asc",f("update:orderBy",l.value)}return ne(i,m=>{f("update:sortBy",m)}),(m,v)=>(wt(),zt(ce,null,[mt("div",dT,[Je(mt("select",{"onUpdate:modelValue":v[0]||(v[0]=_=>i.value=_),class:"form-select",id:"sortby"},[(wt(!0),zt(ce,null,lr(W(a),_=>(wt(),zt("option",{key:`sort-${_.field_name}`,value:_.field_name},Zt(_.label),9,pT))),128))],512),[[so,i.value]]),mt("button",{class:"btn btn-outline-secondary",onClick:d},[l.value==="asc"?(wt(),zt("i",mT)):(wt(),zt("i",gT))])]),v[1]||(v[1]=mt("div",null,null,-1))],64))}},vT={class:"input-group mb-2"},yT={__name:"SearchForm",emits:["update:searchString"],setup(t,{emit:e}){const s=Ft(""),a=e;return ne(s,()=>{a("update:searchString",s.value)}),(i,l)=>(wt(),zt("div",vT,[Je(mt("input",{type:"text",class:"form-control",id:"search","onUpdate:modelValue":l[0]||(l[0]=f=>s.value=f)},null,512),[[ps,s.value]]),l[1]||(l[1]=mt("label",{for:"search",class:"input-group-text"},[mt("i",{class:"bi bi-search"})],-1))]))}};function bT(t){return typeof t=="object"&&t!==null}function wT(t){return bT(t)&&typeof t.length=="number"}function Tm(t){return Array.isArray(t)?t:t===void 0?[]:wT(t)||t instanceof Set?Array.from(t):[t]}function LT(t){return!isNaN(parseFloat(t))}function ET(t){return!isNaN(parseFloat(t))&&isFinite(t)}function kT(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function xT(t){return ny(t)&&typeof t.length=="number"}function ny(t){return typeof t=="object"&&t!==null}function Hl(t){return typeof t<"u"}function TT(t){return!Hl(t)}function iy(t){return t===null}function CT(t){return Hl(t)&&!iy(t)&&!Number.isNaN(t)}function ST(t){return typeof t=="function"?/^class /.test(Function.prototype.toString.call(t)):!1}function IT(t){if(t===null)return!0;switch(typeof t){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function PT(t){if(t){const e=Hl(Promise)&&t instanceof Promise,s=t.then&&typeof t.then=="function";return!!(e||s)}else return!1}function NT(t){return t===null||!Hl(t)?!1:typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function"}function OT(t){return typeof t=="string"}function MT(t){return typeof t=="function"}function AT(t){return typeof t=="function"&&t.constructor.name==="AsyncFunction"}const Rn={isNumber:LT,isFiniteNumber:ET,isPlainObject:kT,isArrayLike:xT,isObject:ny,isDefined:Hl,isUndefined:TT,isNull:iy,isDefinedValue:CT,isClass:ST,isPrimitive:IT,isPromise:PT,isIterable:NT,isString:OT,isFunction:MT,isAsyncFunction:AT};function RT(t,e={}){return e=Object.assign({computed:{},customOrders:{},nullRank:1,undefinedRank:1},e),t.sort(DT(e)),t}function DT(t={}){const e=Tm(t.by),s=Tm(t.order),{customOrders:a,computed:i}=t;return function l(f,d,m=0){const v=s[m]||"asc";if(!(v==="asc"||v==="desc"||a[v]))return 0;let _,b,E;return e.length?(b=Rn.isDefined(f[e[m]])?f[e[m]]:i[e[m]]&&i[e[m]](f),E=Rn.isDefined(d[e[m]])?d[e[m]]:i[e[m]]&&i[e[m]](d)):(b=f,E=d),a&&a[v]?_=a[v].indexOf(b)-a[v].indexOf(E):b===E?_=0:Rn.isNull(b)&&Rn.isUndefined(E)?_=v==="asc"?1:v==="desc"?-1:0:Rn.isUndefined(b)&&Rn.isNull(E)?_=v==="asc"?-1:v==="desc"?1:0:Rn.isNull(b)&&Rn.isDefinedValue(E)?_=t.nullRank:Rn.isUndefined(b)&&Rn.isDefinedValue(E)?_=t.undefinedRank:Rn.isNull(E)&&Rn.isDefinedValue(b)?_=-t.nullRank:Rn.isUndefined(E)&&Rn.isDefinedValue(b)?_=-t.undefinedRank:(_=b<E?-1:b>E?1:0,v==="desc"&&(_=_*-1)),_===0&&Rn.isDefined(e[m+1])&&(_=l(f,d,m+1)),_}}class gd{constructor(e){this.taxonId=e.taxonId,this.acceptedScientificName=e.acceptedScientificName;const{vernacularName:s="",nbObservations:a=0,mediaUrl:i="",taxonRank:l="",description:f="",taxonSheetUrl:d="",lastSeenDate:m=null,kingdom:v="",class:_=""}=e;this.vernacularName=s,this.nbObservations=a,this.mediaUrl=i,this.taxonRank=l,this.description=f,this.taxonSheetUrl=d,this.lastSeenDate=m,this.kingdom=v,this.class=_}}class Gi{constructor(e){this.url=e.url,this.source=e.source,this.typeMedia=e.typeMedia;const{license:s="",author:a=""}=e;this.license=s,this.author=a}}class _d{constructor(e,s){Gs(this,"name");if(this.name=e,!Object.values(cr).includes(s))throw new Error("Source identifier is not declared in `mediaIdentifier.js`");this.id=s}fetchPicture(e,s){throw this.isCompatible(s)?new Error("Not implemented"):new Error("This media source is not available !")}fetchSound(e,s){if(!this.isCompatible(s))throw new Error("This media source is not available !");return new Promise(a=>null)}isCompatible(e){throw new Error("Not Implemented")}}const lo=Object.freeze({GBIF:"GBIF",TAXREF:"TAXREF"});class BT extends _d{constructor(e){super("GBIFMediaSource",cr.GBIF)}isCompatible(e){return e.referential==lo.GBIF}fetchPicture(e,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const a=`${s.GBIF_ENDPOINT}/species/${e}/media`;return fetch(a).then(i=>i.json()).then(i=>{let l=this.processMedia(i.results);return l.length===0?this.fetchMediaOccurence(e,s.GBIF_ENDPOINT):l})}fetchSound(e,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const a=`${s.GBIF_ENDPOINT}/occurrence/search?limit=10&mediaType=Sound&speciesKey=${e}`;return fetch(a).then(i=>i.json()).then(i=>{if(i.results.length>0){i.results[0].media[0];for(let l of i.results)for(let f of l.media)if(!["png","jpg","jpeg","bmp","gif"].includes(f.identifier.split(".").pop()))return new Gi({url:f.identifier,typeMedia:"sound",license:f.license,source:`${f.rightsHolder} (${f.license})`})}})}processMedia(e){return Object.values(e).filter(s=>s.hasOwnProperty("license")&&s.hasOwnProperty("rightsHolder")).map(s=>new Gi({url:s.identifier,license:s.licence,source:`${s.rightsHolder} (${s.license})`,typeMedia:"image"}))}fetchMediaOccurence(e,s){const a=`${s}/occurrence/search?limit=10&mediaType=StillImage&speciesKey=${e}`;return fetch(a).then(i=>i.json()).then(i=>{const l=i.results.flatMap(f=>f.media);return this.processMedia(l)})}}class FT extends _d{constructor(e){super("Taxref",cr.TAXREF_ODATA)}fetchPicture(e,s){const a=`https://odata-inpn.mnhn.fr/photos/taxa?taxrefId=${e}&visibility=PUBLIC`;return fetch(a).then(i=>i.json()).then(function(i){var f;let l=[];try{return Object.values((f=i==null?void 0:i._embedded)==null?void 0:f.photos).forEach(d=>{l.push(new Gi({url:d._links.thumbnail.href,license:d.licence,source:d.copyright,typeMedia:"image"}))}),l}catch{return[]}})}isCompatible(e){return e.referential==lo.TAXREF}}const{GBIF:zT,TAXREF:$T}=lo;function UT(t){const e="https://query.wikidata.org/sparql",s=`
    SELECT ?item WHERE {
      ?item wdt:P3186 "${t}" .
    }`;return fetch(e+"?format=json&query="+encodeURIComponent(s)).then(a=>a.json()).then(a=>a.results.bindings.length?a.results.bindings[0].item.value.split("/").pop():null)}function GT(t){const e="https://query.wikidata.org/sparql",s=`
    SELECT ?item WHERE {
      ?item wdt:P846 "${t}" .
    }`;return fetch(e+"?format=json&query="+encodeURIComponent(s)).then(a=>a.json()).then(a=>a.results.bindings.length?a.results.bindings[0].item.value.split("/").pop():null)}function Cm(t){if(!t)return;const e=`https://www.wikidata.org/wiki/Special:EntityData/${t}.json`;return fetch(e).then(s=>s.json()).then(s=>{const l=(s.entities[t].claims||{}).P18||[];if(!l.length)return"No image found for this entity.";const d=`https://commons.wikimedia.org/w/thumb.php?width=500&f=${l[0].mainsnak.datavalue.value}`;return[new Gi({url:d,source:"Wikidata",typeMedia:"image"})]})}function VT(t,e,s=null){if(!t)throw new Error("No taxonId given !");if(s)return Cm(s);if(t){let a=null;switch(e.referential){case lo.GBIF:a=GT(t);break;case lo.TAXREF:a=UT(t);break}return a?a.then(i=>{if(i)return Cm(i)}):void 0}}class HT extends _d{constructor(){super("WikidataMediaSource",cr.WIKIDATA)}fetchPicture(e,s){if(!this.isCompatible(s))throw new Error("Wikidata Image source is only compatible with the GBIF and a TAXREF referential based connector ");return VT(e,s)}isCompatible(e){return!![zT,$T].includes(e.referential)}}const cr=Object.freeze({GBIF:"gbif",TAXREF_ODATA:"taxref_odata",WIKIDATA:"wikidata"});function sa(t,e={}){switch(t){case cr.GBIF:return new BT(e);case cr.TAXREF_ODATA:return new FT(e);case cr.WIKIDATA:return new HT(e)}}const ql={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},oa={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Wn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},qT={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},ry={dangerouslyHTMLString:!1,multiple:!0,position:ql.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},WT={rtl:!1,newestOnTop:!1,toastClassName:""},sy={...ry,...WT};({...ry,type:Wn.DEFAULT});var Ie=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(Ie||{}),gf=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(gf||{});const ZT={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},YT={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},jT={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},XT={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Sm="Toastify--animate Toastify__none-enter";function oy(t,e=!1){var s;let a=ZT;if(!t||typeof t=="string")switch(t){case"flip":a=XT;break;case"zoom":a=jT;break;case"slide":a=YT;break}else a=t;if(e)a.enter=Sm;else if(a.enter===Sm){const i=(s=a.exit.split("__")[1])==null?void 0:s.split("-")[0];a.enter=`Toastify--animate Toastify__${i}-enter`}return a}function KT(t){return t.containerId||String(t.position)}const qc="will-unmount";function JT(t=ql.TOP_RIGHT){return!!document.querySelector(`.${Ie.CSS_NAMESPACE}__toast-container--${t}`)}function QT(t=ql.TOP_RIGHT){return`${Ie.CSS_NAMESPACE}__toast-container--${t}`}function tC(t,e,s=!1){const a=[`${Ie.CSS_NAMESPACE}__toast-container`,`${Ie.CSS_NAMESPACE}__toast-container--${t}`,s?`${Ie.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Ko(e)?e({position:t,rtl:s,defaultClassName:a}):`${a} ${e||""}`}function eC(t){var e;const{position:s,containerClassName:a,rtl:i=!1,style:l={}}=t,f=Ie.CSS_NAMESPACE,d=QT(s),m=document.querySelector(`.${f}`),v=document.querySelector(`.${d}`),_=!!v&&!((e=v.className)!=null&&e.includes(qc)),b=m||document.createElement("div"),E=document.createElement("div");E.className=tC(s,a,i),E.dataset.testid=`${Ie.CSS_NAMESPACE}__toast-container--${s}`,E.id=KT(t);for(const T in l)if(Object.prototype.hasOwnProperty.call(l,T)){const I=l[T];E.style[T]=I}return m||(b.className=Ie.CSS_NAMESPACE,document.body.appendChild(b)),_||b.appendChild(E),E}function _f(t){var e,s,a;const i=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((s=t.target)==null?void 0:s.id),l=document.getElementById(i);l&&l.removeEventListener("animationend",_f,!1);try{Ml[i].unmount(),(a=document.getElementById(i))==null||a.remove(),delete Ml[i],delete kn[i]}catch{}}const Ml=Hn({});function nC(t,e){const s=document.getElementById(String(e));s&&(Ml[s.id]=t)}function vf(t,e=!0){const s=String(t);if(!Ml[s])return;const a=document.getElementById(s);a&&a.classList.add(qc),e?(rC(t),a&&a.addEventListener("animationend",_f,!1)):_f(s),fr.items=fr.items.filter(i=>i.containerId!==t)}function iC(t){for(const e in Ml)vf(e,t);fr.items=[]}function ay(t,e){const s=document.getElementById(t.toastId);if(s){let a=t;a={...a,...oy(a.transition)};const i=a.appendPosition?`${a.exit}--${a.position}`:a.exit;s.className+=` ${i}`,e&&e(s)}}function rC(t){for(const e in kn)if(e===t)for(const s of kn[e]||[])ay(s)}function sC(t){const e=aa().find(s=>s.toastId===t);return e==null?void 0:e.containerId}function vd(t){return document.getElementById(t)}function oC(t){const e=vd(t.containerId);return e&&e.classList.contains(qc)}function Im(t){var e;const s=ro(t.content)?ae(t.content.props):null;return s??ae((e=t.data)!=null?e:{})}function aC(t){return t?fr.items.filter(e=>e.containerId===t).length>0:fr.items.length>0}function lC(){if(fr.items.length>0){const t=fr.items.shift();Bu(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const kn=Hn({}),fr=Hn({items:[]});function aa(){const t=ae(kn);return Object.values(t).reduce((e,s)=>[...e,...s],[])}function uC(t){return aa().find(e=>e.toastId===t)}function Bu(t,e={}){if(oC(e)){const s=vd(e.containerId);s&&s.addEventListener("animationend",yf.bind(null,t,e),!1)}else yf(t,e)}function yf(t,e={}){const s=vd(e.containerId);s&&s.removeEventListener("animationend",yf.bind(null,t,e),!1);const a=kn[e.containerId]||[],i=a.length>0;if(!i&&!JT(e.position)){const l=eC(e),f=q_(IC,e);e.useHandler&&e.useHandler(f),f.mount(l),nC(f,l.id)}i&&!e.updateId&&(e.position=a[0].position),ti(()=>{e.updateId?ai.update(e):ai.add(t,e)})}const ai={add(t,e){const{containerId:s=""}=e;s&&(kn[s]=kn[s]||[],kn[s].find(a=>a.toastId===e.toastId)||setTimeout(()=>{var a,i;e.newestOnTop?(a=kn[s])==null||a.unshift(e):(i=kn[s])==null||i.push(e),e.onOpen&&e.onOpen(Im(e))},e.delay||0))},remove(t){if(t){const e=sC(t);if(e){const s=kn[e];let a=s.find(i=>i.toastId===t);kn[e]=s.filter(i=>i.toastId!==t),!kn[e].length&&!aC(e)&&vf(e,!1),lC(),ti(()=>{a!=null&&a.onClose&&(a.onClose(Im(a)),a=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){kn[e]=kn[e]||[];const s=kn[e].find(l=>l.toastId===t.toastId),a=(s==null?void 0:s.position)!==t.position||(s==null?void 0:s.transition)!==t.transition,i={...t,disabledEnterTransition:!a,updateId:void 0};ai.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{Fe(i.content,i)},t.delay||0)}},clear(t,e=!0){t?vf(t,e):iC(e)},dismissCallback(t){var e;const s=(e=t.currentTarget)==null?void 0:e.id,a=document.getElementById(s);a&&(a.removeEventListener("animationend",ai.dismissCallback,!1),setTimeout(()=>{ai.remove(s)}))},dismiss(t){if(t){const e=aa();for(const s of e)if(s.toastId===t){ay(s,a=>{a.addEventListener("animationend",ai.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=aa();for(const s of e)if(s.toastId===t){const a=document.getElementById(t);a&&(a.remove(),a.removeEventListener("animationend",ai.dismissCallback,!1),ai.remove(t));break}}}},cC=Hn({useHandler:void 0}),ly=Hn({}),fc=Hn({});function uy(){return Math.random().toString(36).substring(2,9)}function hC(t){return typeof t=="number"&&!isNaN(t)}function bf(t){return typeof t=="string"}function Ko(t){return typeof t=="function"}function Wc(...t){return ye(...t)}function Fu(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function fC(t={}){ly[`${Ie.CSS_NAMESPACE}-default-options`]=t}function dC(){return ly[`${Ie.CSS_NAMESPACE}-default-options`]||sy}function pC(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var zu=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(zu||{});const cy={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:ql.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:oa.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Wn.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},mC={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Wn.DEFAULT},theme:{type:String,required:!1,default:oa.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},gC=Pe({name:"ProgressBar",props:mC,setup(t,{attrs:e}){const s=Ft(),a=lt(()=>t.hide?"true":"false"),i=lt(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),l=lt(()=>[`${Ie.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${Ie.CSS_NAMESPACE}__progress-bar--controlled`:`${Ie.CSS_NAMESPACE}__progress-bar--animated`,`${Ie.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${Ie.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${Ie.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),f=lt(()=>`${l.value} ${(e==null?void 0:e.class)||""}`),d=()=>{s.value&&(s.value.onanimationend=null,s.value.ontransitionend=null)},m=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),d())},v=lt(()=>t.controlledProgress?null:m),_=lt(()=>t.controlledProgress?m:null);return hl(()=>{s.value&&(d(),s.value.onanimationend=v.value,s.value.ontransitionend=_.value)}),()=>$t("div",{ref:s,role:"progressbar","aria-hidden":a.value,"aria-label":"notification timer",class:f.value,style:i.value},null)}}),_C=Pe({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:oa.AUTO},type:{type:String,required:!1,default:oa.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>$t("button",{class:`${Ie.CSS_NAMESPACE}__close-button ${Ie.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[$t("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[$t("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Zc=({theme:t,type:e,path:s,...a})=>$t("svg",ye({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},a),[$t("path",{d:s},null)]);function vC(t){return $t(Zc,ye(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function yC(t){return $t(Zc,ye(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function bC(t){return $t(Zc,ye(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function wC(t){return $t(Zc,ye(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function LC(){return $t("div",{class:`${Ie.CSS_NAMESPACE}__spinner`},null)}const $u={info:yC,warning:vC,success:bC,error:wC,spinner:LC},EC=t=>t in $u;function kC({theme:t,type:e,isLoading:s,icon:a}){let i;const l=!!s||e==="loading",f={theme:t,type:e};if(l&&(a===void 0||typeof a=="boolean"))return $u.spinner();if(a!==!1){if(Fu(a))i=ae(a);else if(Ko(a)){const d=a;f.type=l?"loading":e,i=d(f),i=!i&&l?$u.spinner():i}else ro(a)?i=Fr(a,f):bf(a)||hC(a)?i=a:EC(e)&&(i=$u[e](f));return i}}const xC=()=>{};function TC(t,e,s=Ie.COLLAPSE_DURATION){const{scrollHeight:a,style:i}=t,l=s;requestAnimationFrame(()=>{i.minHeight="initial",i.height=a+"px",i.transition=`all ${l}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,l)})})}function CC(t){const e=Ft(!1),s=Ft(!1),a=Ft(!1),i=Ft(zu.Enter),l=Hn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||Ie.COLLAPSE_DURATION}),f=l.done||xC,d=lt(()=>l.appendPosition?`${l.enter}--${l.position}`:l.enter),m=lt(()=>l.appendPosition?`${l.exit}--${l.position}`:l.exit),v=lt(()=>t.pauseOnHover?{onMouseenter:B,onMouseleave:O}:{});function _(){const R=d.value.split(" ");E().addEventListener(gf.ENTRANCE_ANIMATION_END,O,{once:!0});const D=H=>{const q=E();H.target===q&&(q.dispatchEvent(new Event(gf.ENTRANCE_ANIMATION_END)),q.removeEventListener("animationend",D),q.removeEventListener("animationcancel",D),i.value===zu.Enter&&H.type!=="animationcancel"&&q.classList.remove(...R))},F=()=>{const H=E();H.classList.add(...R),H.addEventListener("animationend",D),H.addEventListener("animationcancel",D)};t.pauseOnFocusLoss&&T(),F()}function b(){if(!E())return;const R=()=>{const F=E();F.removeEventListener("animationend",R),l.collapse?TC(F,f,l.collapseDuration):f()},D=()=>{const F=E();i.value=zu.Exit,F&&(F.className+=` ${m.value}`,F.addEventListener("animationend",R))};s.value||(a.value?R():setTimeout(D))}function E(){return t.toastRef.value}function T(){document.hasFocus()||B(),window.addEventListener("focus",O),window.addEventListener("blur",B)}function I(){window.removeEventListener("focus",O),window.removeEventListener("blur",B)}function O(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function B(){e.value=!1}function P(R){R&&(R.stopPropagation(),R.preventDefault()),s.value=!1}return hl(b),hl(()=>{const R=aa();s.value=R.findIndex(D=>D.toastId===l.toastId)>-1}),hl(()=>{t.isLoading!==void 0&&(t.loading.value?B():O())}),Hi(_),pa(()=>{t.pauseOnFocusLoss&&I()}),{isIn:s,isRunning:e,hideToast:P,eventHandlers:v}}const SC=Pe({name:"ToastItem",inheritAttrs:!1,props:cy,setup(t){const e=Ft(),s=lt(()=>!!t.isLoading),a=lt(()=>t.progress!==void 0&&t.progress!==null),i=lt(()=>kC(t)),l=lt(()=>[`${Ie.CSS_NAMESPACE}__toast`,`${Ie.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${Ie.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${Ie.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:f,isIn:d,hideToast:m,eventHandlers:v}=CC({toastRef:e,loading:s,done:()=>{ai.remove(t.toastId)},...oy(t.transition,t.disabledEnterTransition),...t});return()=>$t("div",ye({id:t.toastId,class:l.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:_=>{t.closeOnClick&&m(),t.onClick&&t.onClick(_)}},v.value),[$t("div",{role:t.role,"data-testid":"toast-body",class:`${Ie.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[i.value!=null&&$t("div",{"data-testid":`toast-icon-${t.type}`,class:[`${Ie.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${Ie.CSS_NAMESPACE}--animate-icon ${Ie.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Fu(i.value)?Mi(ae(i.value),{theme:t.theme,type:t.type}):Ko(i.value)?i.value({theme:t.theme,type:t.type}):i.value]),$t("div",{"data-testid":"toast-content"},[Fu(t.content)?Mi(ae(t.content),{toastProps:ae(t),closeToast:m,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Ko(t.content)?t.content({toastProps:ae(t),closeToast:m,data:t.data}):t.dangerouslyHTMLString?Mi("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&$t(_C,{theme:t.theme,closeToast:_=>{_.stopPropagation(),_.preventDefault(),m()}},null),Fu(t.closeButton)?Mi(ae(t.closeButton),{closeToast:m,type:t.type,theme:t.theme}):Ko(t.closeButton)?t.closeButton({closeToast:m,type:t.type,theme:t.theme}):null,$t(gC,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:d.value,type:t.type,hide:t.hideProgressBar,isRunning:f.value,autoClose:t.autoClose,controlledProgress:a.value,progress:t.progress,closeToast:t.isLoading?void 0:m},null)])}});let gl=0;function hy(){typeof window>"u"||(gl&&window.cancelAnimationFrame(gl),gl=window.requestAnimationFrame(hy),fc.lastUrl!==window.location.href&&(fc.lastUrl=window.location.href,ai.clear()))}const IC=Pe({name:"ToastifyContainer",inheritAttrs:!1,props:cy,setup(t){const e=lt(()=>t.containerId),s=lt(()=>kn[e.value]||[]),a=lt(()=>s.value.filter(i=>i.position===t.position));return Hi(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(hy)}),pa(()=>{typeof window<"u"&&gl&&(window.cancelAnimationFrame(gl),fc.lastUrl="")}),()=>$t(ce,null,[a.value.map(i=>{const{toastId:l=""}=i;return $t(SC,ye({key:l},i),null)})])}});let Ah=!1;const fy={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function dy(){const t=[];return aa().forEach(e=>{const s=document.getElementById(e.containerId);s&&!s.classList.contains(qc)&&t.push(e)}),t}function PC(t){const e=dy().length,s=t??0;return s>0&&e+fr.items.length>=s}function NC(t){PC(t.limit)&&!t.updateId&&fr.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function xs(t,e,s={}){if(Ah)return;s=Wc(dC(),{type:e},ae(s)),(!s.toastId||typeof s.toastId!="string"&&typeof s.toastId!="number")&&(s.toastId=uy()),s={...s,...s.type==="loading"?fy:{},content:t,containerId:s.containerId||String(s.position)};const a=Number(s==null?void 0:s.progress);return!isNaN(a)&&a<0&&(s.progress=0),a>1&&(s.progress=1),s.theme==="auto"&&(s.theme=pC()),NC(s),fc.lastUrl=window.location.href,s.multiple?fr.items.length?s.updateId&&Bu(t,s):Bu(t,s):(Ah=!0,Fe.clearAll(void 0,!1),setTimeout(()=>{Bu(t,s)},0),setTimeout(()=>{Ah=!1},390)),s.toastId}const Fe=(t,e)=>xs(t,Wn.DEFAULT,e);Fe.info=(t,e)=>xs(t,Wn.DEFAULT,{...e,type:Wn.INFO});Fe.error=(t,e)=>xs(t,Wn.DEFAULT,{...e,type:Wn.ERROR});Fe.warning=(t,e)=>xs(t,Wn.DEFAULT,{...e,type:Wn.WARNING});Fe.warn=Fe.warning;Fe.success=(t,e)=>xs(t,Wn.DEFAULT,{...e,type:Wn.SUCCESS});Fe.loading=(t,e)=>xs(t,Wn.DEFAULT,Wc(e,fy));Fe.dark=(t,e)=>xs(t,Wn.DEFAULT,Wc(e,{theme:oa.DARK}));Fe.remove=t=>{t?ai.dismiss(t):ai.clear()};Fe.clearAll=(t,e)=>{ti(()=>{ai.clear(t,e)})};Fe.isActive=t=>{let e=!1;return e=dy().findIndex(s=>s.toastId===t)>-1,e};Fe.update=(t,e={})=>{setTimeout(()=>{const s=uC(t);if(s){const a=ae(s),{content:i}=a,l={...a,...e,toastId:e.toastId||t,updateId:uy()},f=l.render||i;delete l.render,xs(f,l.type,l)}},0)};Fe.done=t=>{Fe.update(t,{isLoading:!1,progress:1})};Fe.promise=OC;function OC(t,{pending:e,error:s,success:a},i){var l,f,d;let m;const v={...i||{},autoClose:!1};e&&(m=bf(e)?Fe.loading(e,v):Fe.loading(e.render,{...v,...e}));const _={autoClose:(l=i==null?void 0:i.autoClose)!=null?l:!0,closeOnClick:(f=i==null?void 0:i.closeOnClick)!=null?f:!0,closeButton:(d=i==null?void 0:i.autoClose)!=null?d:null,isLoading:void 0,draggable:null,delay:100},b=(T,I,O)=>{if(I==null){Fe.remove(m);return}const B={type:T,..._,...i,data:O},P=bf(I)?{render:I}:I;return m?Fe.update(m,{...B,...P,isLoading:!1}):Fe(P.render,{...B,...P,isLoading:!1}),O},E=Ko(t)?t():t;return E.then(T=>{b("success",a,T)}).catch(T=>{b("error",s,T)}),E}Fe.POSITION=ql;Fe.THEME=oa;Fe.TYPE=Wn;Fe.TRANSITIONS=qT;const MC={install(t,e={}){cC.useHandler=e.useHandler||(()=>{}),AC(e)}};typeof window<"u"&&(window.Vue3Toastify=MC);function AC(t={}){const e=Wc(sy,t);fC(e)}class py{constructor(e){Gs(this,"name");Gs(this,"taxonClass2SourceID",{});Gs(this,"referential");this.options=e,this.mediaSource=e==null?void 0:e.mediaSource}verifyOptions(e=[]){e.forEach(s=>{this.options.hasOwnProperty(s)||Fe.error(`Please indicate the ${s} parameter`)})}getParams(){const e={};return Object.entries(this).filter(([s,a])=>!["options","params","name","taxonClass2SourceID","referential","mediaSource"].includes(s)).filter(([s,a])=>typeof a!=typeof{}).forEach(([s,a])=>{e[s]=a}),this.mediaSource&&(e.mediaSource=this.mediaSource.id),e}fetchOccurrence(e){throw new Error("Not implemented")}fetchMedia(e){if(!this.mediaSource.isCompatible(this))throw new Error("Media Source incompatible");return this.mediaSource.fetchPicture(e,this)}fetchTaxonInfo(e){throw new Error("Not implemented")}fetchTaxonStatus(e){throw new Error("Not implemented")}searchTaxon(e="",s={}){}getTaxonDetailPage(e){throw new Error("Not implemented")}fetchVernacularName(e){throw new Error("Not implemented")}sourceDetailMessage(){return""}getCompatibleMediaSource(){const e=[];return Object.values(cr).filter(s=>sa(s).isCompatible(this)).forEach(s=>{e.push({value:s,text:sa(s).name})}),e}}const dc="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg",my="https://api.gbif.org/v1";function Pm(t={}){const e=new URL(`${my}/occurrence/search`);return Object.entries(t).forEach(([s,a])=>{e.searchParams.append(s,a)}),fetch(e.toString()).then(s=>s.json())}class Nm extends py{constructor(e){super(e),this.name="GBIF",this.GBIF_ENDPOINT=this.options.GBIF_ENDPOINT||my,this.referential=lo.GBIF,this.mediaSource=this.mediaSource||sa(cr.GBIF),this.taxonClass2SourceID={Aves:212,Mammalia:359,Reptilia:358,Amphibia:131,Insecta:216,Arachnida:367,Gastropoda:225,Bivalvia:137,Magnoliopsida:220,Liliopsida:196,Pinopsida:194}}countOccurrence(e={}){return Pm(e).then(s=>s.count)}fetchVernacularName(e){const s={en:"eng",fr:"fra"},a=ii.getInstance().lang.value;return fetch(`${this.GBIF_ENDPOINT}/species/${e}/vernacularNames?limit=100`).then(i=>i.json()).then(i=>{const l=i.results.find(f=>f.language===s[a]);return l?l.vernacularName.capitalize():void 0})}fetchOccurrence(e){let s={limit:300,maxPage:10,...e};return s.dateMin&&s.dateMax&&(s.eventDate=`${s.dateMin},${s.dateMax}`),e!=null&&e.class&&(s={...s,classKey:this.taxonClass2SourceID[e==null?void 0:e.class]}),this.countOccurrence(s).then(a=>{const i=Math.min(Math.ceil(a/s.limit),s.maxPage),l={},f=d=>{if(d>=i)return Promise.resolve();const m=d*s.limit;return Pm({...s,offset:m}).then(v=>(v.results.forEach(_=>{l[_.taxonKey]||(l[_.taxonKey]=new gd({acceptedScientificName:_.acceptedScientificName,vernacularName:_.vernacularName,taxonId:_.taxonKey,mediaUrl:dc,taxonRank:_.taxonRank,kingdom:_.kingdom,class:_.class,nbObservations:0,description:"",lastSeenDate:new Date(_.eventDate).getTime()})),l[_.taxonKey].nbObservations+=1,l[_.taxonKey].lastSeenDate=new Date(Math.max(new Date(_.eventDate).getTime(),new Date(l[_.taxonKey].lastSeenDate).getTime()))}),f(d+1)))};return f(0).then(()=>l)})}fetchTaxonInfo(e){const s=`${this.GBIF_ENDPOINT}/species/${e}?language=${this.language}`;return fetch(s).then(a=>a.json()).then(a=>({scientificName:a.scientificName,vernacularName:a.vernacularName,rank:a.rank,taxonKey:a.key}))}fetchTaxonStatus(e){const s=`${this.GBIF_ENDPOINT}/species/${e}/iucnRedListCategory`;return fetch(s).then(a=>a.json()).then(a=>({iucnRedListCategory:a.category,code:a.code}))}searchTaxon(e="",s={}){const a=`${this.GBIF_ENDPOINT}/species/search?q=${e}&limit=20`;return fetch(a).then(i=>i.json()).then(i=>i.results.map(l=>({scientificName:l.scientificName,taxonKey:l.key})))}getTaxonDetailPage(e){return`https://www.gbif.org/species/${e}`}sourceDetailMessage(){return"The number of observations and the dates of the latest sightings are based on an aggregation of the latest 30,000 observations made within the selected area."}}class RC extends py{constructor(s){super(s);Gs(this,"EXPORT_API_ENDPOINT");this.name="GeoNature",this.EXPORT_API_ENDPOINT=s==null?void 0:s.EXPORT_API_ENDPOINT,this.referential=lo.TAXREF,this.mediaSource=this.mediaSource??sa(cr.TAXREF_ODATA)}fetchOccurrence(s={}){let a=new URL(this.EXPORT_API_ENDPOINT);s={...s,limit:"ALL"};for(const[l,f]of Object.entries(s))a.searchParams.append(l,f);const i=a.toString();return fetch(i).then(l=>l.json()).then(l=>{let f={};return l.items.features.forEach(d=>{d=d.properties,f.hasOwnProperty(d.cd_ref)||(f[d.cd_ref]=new gd({acceptedScientificName:d.nom_scientifique,vernacularName:d.nom_vernaculaire,taxonId:d.cd_ref,taxonKey:d.cd_ref,mediaUrl:dc,taxonRank:"",nbObservations:0,description:"",lastSeenDate:new Date(d.date_max).getTime()})),f[d.cd_ref].nbObservations+=1,f[d.cd_ref].lastSeenDate=new Date(Math.max(new Date(d.date_max).getTime(),new Date(f[d.cd_ref].lastSeenDate).getTime()))}),f})}fetchTaxonInfo(s){const a=`https://odata-inpn.mnhn.fr/taxa/${s}`;return fetch(a).then(i=>i.json()).then(function(i){return{scientificName:i.names.scientific,vernacularName:i.names.vernacular.fr[0],rank:i.rank,taxonKey:i.taxrefId}})}fetchTaxonStatus(s){const a=`https://taxref.mnhn.fr/api/taxa/${s}/status/columns`;return fetch(a).then(i=>i.json()).then(i=>{var l;return(l=i._embedded)==null?void 0:l.status})}getTaxonDetailPage(s){return`https://inpn.mnhn.fr/espece/cd_nom/${s}`}fetchVernacularName(s){return Promise.resolve(null)}}function wf(t="GBIF",e={}){switch(e.hasOwnProperty("mediaSource")&&(e.mediaSource=sa(e.mediaSource)),t){case"GBIF":return new Nm(e);case"GeoNature":return new RC(e);default:return new Nm(e)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Go=typeof document<"u";function gy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function DC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&gy(t.default)}const Te=Object.assign;function Rh(t,e){const s={};for(const a in e){const i=e[a];s[a]=Vi(i)?i.map(t):t(i)}return s}const _l=()=>{},Vi=Array.isArray,_y=/#/g,BC=/&/g,FC=/\//g,zC=/=/g,$C=/\?/g,vy=/\+/g,UC=/%5B/g,GC=/%5D/g,yy=/%5E/g,VC=/%60/g,by=/%7B/g,HC=/%7C/g,wy=/%7D/g,qC=/%20/g;function yd(t){return encodeURI(""+t).replace(HC,"|").replace(UC,"[").replace(GC,"]")}function WC(t){return yd(t).replace(by,"{").replace(wy,"}").replace(yy,"^")}function Lf(t){return yd(t).replace(vy,"%2B").replace(qC,"+").replace(_y,"%23").replace(BC,"%26").replace(VC,"`").replace(by,"{").replace(wy,"}").replace(yy,"^")}function ZC(t){return Lf(t).replace(zC,"%3D")}function YC(t){return yd(t).replace(_y,"%23").replace($C,"%3F")}function jC(t){return t==null?"":YC(t).replace(FC,"%2F")}function Al(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const XC=/\/$/,KC=t=>t.replace(XC,"");function Dh(t,e,s="/"){let a,i={},l="",f="";const d=e.indexOf("#");let m=e.indexOf("?");return d<m&&d>=0&&(m=-1),m>-1&&(a=e.slice(0,m),l=e.slice(m+1,d>-1?d:e.length),i=t(l)),d>-1&&(a=a||e.slice(0,d),f=e.slice(d,e.length)),a=eS(a??e,s),{fullPath:a+(l&&"?")+l+f,path:a,query:i,hash:Al(f)}}function JC(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Om(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function QC(t,e,s){const a=e.matched.length-1,i=s.matched.length-1;return a>-1&&a===i&&la(e.matched[a],s.matched[i])&&Ly(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function la(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ly(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!tS(t[s],e[s]))return!1;return!0}function tS(t,e){return Vi(t)?Mm(t,e):Vi(e)?Mm(e,t):t===e}function Mm(t,e){return Vi(e)?t.length===e.length&&t.every((s,a)=>s===e[a]):t.length===1&&t[0]===e}function eS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),a=t.split("/"),i=a[a.length-1];(i===".."||i===".")&&a.push("");let l=s.length-1,f,d;for(f=0;f<a.length;f++)if(d=a[f],d!==".")if(d==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+a.slice(f).join("/")}const ns={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Rl;(function(t){t.pop="pop",t.push="push"})(Rl||(Rl={}));var vl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vl||(vl={}));function nS(t){if(!t)if(Go){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),KC(t)}const iS=/^[^#]+#/;function rS(t,e){return t.replace(iS,"#")+e}function sS(t,e){const s=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:e.behavior,left:a.left-s.left-(e.left||0),top:a.top-s.top-(e.top||0)}}const Yc=()=>({left:window.scrollX,top:window.scrollY});function oS(t){let e;if("el"in t){const s=t.el,a=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;e=sS(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Am(t,e){return(history.state?history.state.position-e:-1)+t}const Ef=new Map;function aS(t,e){Ef.set(t,e)}function lS(t){const e=Ef.get(t);return Ef.delete(t),e}let uS=()=>location.protocol+"//"+location.host;function Ey(t,e){const{pathname:s,search:a,hash:i}=e,l=t.indexOf("#");if(l>-1){let d=i.includes(t.slice(l))?t.slice(l).length:1,m=i.slice(d);return m[0]!=="/"&&(m="/"+m),Om(m,"")}return Om(s,t)+a+i}function cS(t,e,s,a){let i=[],l=[],f=null;const d=({state:E})=>{const T=Ey(t,location),I=s.value,O=e.value;let B=0;if(E){if(s.value=T,e.value=E,f&&f===I){f=null;return}B=O?E.position-O.position:0}else a(T);i.forEach(P=>{P(s.value,I,{delta:B,type:Rl.pop,direction:B?B>0?vl.forward:vl.back:vl.unknown})})};function m(){f=s.value}function v(E){i.push(E);const T=()=>{const I=i.indexOf(E);I>-1&&i.splice(I,1)};return l.push(T),T}function _(){const{history:E}=window;E.state&&E.replaceState(Te({},E.state,{scroll:Yc()}),"")}function b(){for(const E of l)E();l=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",_,{passive:!0}),{pauseListeners:m,listen:v,destroy:b}}function Rm(t,e,s,a=!1,i=!1){return{back:t,current:e,forward:s,replaced:a,position:window.history.length,scroll:i?Yc():null}}function hS(t){const{history:e,location:s}=window,a={value:Ey(t,s)},i={value:e.state};i.value||l(a.value,{back:null,current:a.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function l(m,v,_){const b=t.indexOf("#"),E=b>-1?(s.host&&document.querySelector("base")?t:t.slice(b))+m:uS()+t+m;try{e[_?"replaceState":"pushState"](v,"",E),i.value=v}catch(T){console.error(T),s[_?"replace":"assign"](E)}}function f(m,v){const _=Te({},e.state,Rm(i.value.back,m,i.value.forward,!0),v,{position:i.value.position});l(m,_,!0),a.value=m}function d(m,v){const _=Te({},i.value,e.state,{forward:m,scroll:Yc()});l(_.current,_,!0);const b=Te({},Rm(a.value,m,null),{position:_.position+1},v);l(m,b,!1),a.value=m}return{location:a,state:i,push:d,replace:f}}function fS(t){t=nS(t);const e=hS(t),s=cS(t,e.state,e.location,e.replace);function a(l,f=!0){f||s.pauseListeners(),history.go(l)}const i=Te({location:"",base:t,go:a,createHref:rS.bind(null,t)},e,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function dS(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),fS(t)}function pS(t){return typeof t=="string"||t&&typeof t=="object"}function ky(t){return typeof t=="string"||typeof t=="symbol"}const xy=Symbol("");var Dm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Dm||(Dm={}));function ua(t,e){return Te(new Error,{type:t,[xy]:!0},e)}function Tr(t,e){return t instanceof Error&&xy in t&&(e==null||!!(t.type&e))}const Bm="[^/]+?",mS={sensitive:!1,strict:!1,start:!0,end:!0},gS=/[.+*?^${}()[\]/\\]/g;function _S(t,e){const s=Te({},mS,e),a=[];let i=s.start?"^":"";const l=[];for(const v of t){const _=v.length?[]:[90];s.strict&&!v.length&&(i+="/");for(let b=0;b<v.length;b++){const E=v[b];let T=40+(s.sensitive?.25:0);if(E.type===0)b||(i+="/"),i+=E.value.replace(gS,"\\$&"),T+=40;else if(E.type===1){const{value:I,repeatable:O,optional:B,regexp:P}=E;l.push({name:I,repeatable:O,optional:B});const R=P||Bm;if(R!==Bm){T+=10;try{new RegExp(`(${R})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${I}" (${R}): `+F.message)}}let D=O?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;b||(D=B&&v.length<2?`(?:/${D})`:"/"+D),B&&(D+="?"),i+=D,T+=20,B&&(T+=-8),O&&(T+=-20),R===".*"&&(T+=-50)}_.push(T)}a.push(_)}if(s.strict&&s.end){const v=a.length-1;a[v][a[v].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const f=new RegExp(i,s.sensitive?"":"i");function d(v){const _=v.match(f),b={};if(!_)return null;for(let E=1;E<_.length;E++){const T=_[E]||"",I=l[E-1];b[I.name]=T&&I.repeatable?T.split("/"):T}return b}function m(v){let _="",b=!1;for(const E of t){(!b||!_.endsWith("/"))&&(_+="/"),b=!1;for(const T of E)if(T.type===0)_+=T.value;else if(T.type===1){const{value:I,repeatable:O,optional:B}=T,P=I in v?v[I]:"";if(Vi(P)&&!O)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const R=Vi(P)?P.join("/"):P;if(!R)if(B)E.length<2&&(_.endsWith("/")?_=_.slice(0,-1):b=!0);else throw new Error(`Missing required param "${I}"`);_+=R}}return _||"/"}return{re:f,score:a,keys:l,parse:d,stringify:m}}function vS(t,e){let s=0;for(;s<t.length&&s<e.length;){const a=e[s]-t[s];if(a)return a;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ty(t,e){let s=0;const a=t.score,i=e.score;for(;s<a.length&&s<i.length;){const l=vS(a[s],i[s]);if(l)return l;s++}if(Math.abs(i.length-a.length)===1){if(Fm(a))return 1;if(Fm(i))return-1}return i.length-a.length}function Fm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const yS={type:0,value:""},bS=/[a-zA-Z0-9_]/;function wS(t){if(!t)return[[]];if(t==="/")return[[yS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(T){throw new Error(`ERR (${s})/"${v}": ${T}`)}let s=0,a=s;const i=[];let l;function f(){l&&i.push(l),l=[]}let d=0,m,v="",_="";function b(){v&&(s===0?l.push({type:0,value:v}):s===1||s===2||s===3?(l.length>1&&(m==="*"||m==="+")&&e(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:v,regexp:_,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):e("Invalid state to consume buffer"),v="")}function E(){v+=m}for(;d<t.length;){if(m=t[d++],m==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:m==="/"?(v&&b(),f()):m===":"?(b(),s=1):E();break;case 4:E(),s=a;break;case 1:m==="("?s=2:bS.test(m)?E():(b(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&d--);break;case 2:m===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+m:s=3:_+=m;break;case 3:b(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&d--,_="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${v}"`),b(),f(),i}function LS(t,e,s){const a=_S(wS(t.path),s),i=Te(a,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function ES(t,e){const s=[],a=new Map;e=Gm({strict:!1,end:!0,sensitive:!1},e);function i(b){return a.get(b)}function l(b,E,T){const I=!T,O=$m(b);O.aliasOf=T&&T.record;const B=Gm(e,b),P=[O];if("alias"in b){const F=typeof b.alias=="string"?[b.alias]:b.alias;for(const H of F)P.push($m(Te({},O,{components:T?T.record.components:O.components,path:H,aliasOf:T?T.record:O})))}let R,D;for(const F of P){const{path:H}=F;if(E&&H[0]!=="/"){const q=E.record.path,$=q[q.length-1]==="/"?"":"/";F.path=E.record.path+(H&&$+H)}if(R=LS(F,E,B),T?T.alias.push(R):(D=D||R,D!==R&&D.alias.push(R),I&&b.name&&!Um(R)&&f(b.name)),Cy(R)&&m(R),O.children){const q=O.children;for(let $=0;$<q.length;$++)l(q[$],R,T&&T.children[$])}T=T||R}return D?()=>{f(D)}:_l}function f(b){if(ky(b)){const E=a.get(b);E&&(a.delete(b),s.splice(s.indexOf(E),1),E.children.forEach(f),E.alias.forEach(f))}else{const E=s.indexOf(b);E>-1&&(s.splice(E,1),b.record.name&&a.delete(b.record.name),b.children.forEach(f),b.alias.forEach(f))}}function d(){return s}function m(b){const E=TS(b,s);s.splice(E,0,b),b.record.name&&!Um(b)&&a.set(b.record.name,b)}function v(b,E){let T,I={},O,B;if("name"in b&&b.name){if(T=a.get(b.name),!T)throw ua(1,{location:b});B=T.record.name,I=Te(zm(E.params,T.keys.filter(D=>!D.optional).concat(T.parent?T.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),b.params&&zm(b.params,T.keys.map(D=>D.name))),O=T.stringify(I)}else if(b.path!=null)O=b.path,T=s.find(D=>D.re.test(O)),T&&(I=T.parse(O),B=T.record.name);else{if(T=E.name?a.get(E.name):s.find(D=>D.re.test(E.path)),!T)throw ua(1,{location:b,currentLocation:E});B=T.record.name,I=Te({},E.params,b.params),O=T.stringify(I)}const P=[];let R=T;for(;R;)P.unshift(R.record),R=R.parent;return{name:B,path:O,params:I,matched:P,meta:xS(P)}}t.forEach(b=>l(b));function _(){s.length=0,a.clear()}return{addRoute:l,resolve:v,removeRoute:f,clearRoutes:_,getRoutes:d,getRecordMatcher:i}}function zm(t,e){const s={};for(const a of e)a in t&&(s[a]=t[a]);return s}function $m(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:kS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function kS(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const a in t.components)e[a]=typeof s=="object"?s[a]:s;return e}function Um(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function xS(t){return t.reduce((e,s)=>Te(e,s.meta),{})}function Gm(t,e){const s={};for(const a in t)s[a]=a in e?e[a]:t[a];return s}function TS(t,e){let s=0,a=e.length;for(;s!==a;){const l=s+a>>1;Ty(t,e[l])<0?a=l:s=l+1}const i=CS(t);return i&&(a=e.lastIndexOf(i,a-1)),a}function CS(t){let e=t;for(;e=e.parent;)if(Cy(e)&&Ty(t,e)===0)return e}function Cy({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function SS(t){const e={};if(t===""||t==="?")return e;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<a.length;++i){const l=a[i].replace(vy," "),f=l.indexOf("="),d=Al(f<0?l:l.slice(0,f)),m=f<0?null:Al(l.slice(f+1));if(d in e){let v=e[d];Vi(v)||(v=e[d]=[v]),v.push(m)}else e[d]=m}return e}function Vm(t){let e="";for(let s in t){const a=t[s];if(s=ZC(s),a==null){a!==void 0&&(e+=(e.length?"&":"")+s);continue}(Vi(a)?a.map(l=>l&&Lf(l)):[a&&Lf(a)]).forEach(l=>{l!==void 0&&(e+=(e.length?"&":"")+s,l!=null&&(e+="="+l))})}return e}function IS(t){const e={};for(const s in t){const a=t[s];a!==void 0&&(e[s]=Vi(a)?a.map(i=>i==null?null:""+i):a==null?a:""+a)}return e}const PS=Symbol(""),Hm=Symbol(""),jc=Symbol(""),bd=Symbol(""),kf=Symbol("");function Qa(){let t=[];function e(a){return t.push(a),()=>{const i=t.indexOf(a);i>-1&&t.splice(i,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function ls(t,e,s,a,i,l=f=>f()){const f=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((d,m)=>{const v=E=>{E===!1?m(ua(4,{from:s,to:e})):E instanceof Error?m(E):pS(E)?m(ua(2,{from:e,to:E})):(f&&a.enterCallbacks[i]===f&&typeof E=="function"&&f.push(E),d())},_=l(()=>t.call(a&&a.instances[i],e,s,v));let b=Promise.resolve(_);t.length<3&&(b=b.then(v)),b.catch(E=>m(E))})}function Bh(t,e,s,a,i=l=>l()){const l=[];for(const f of t)for(const d in f.components){let m=f.components[d];if(!(e!=="beforeRouteEnter"&&!f.instances[d]))if(gy(m)){const _=(m.__vccOpts||m)[e];_&&l.push(ls(_,s,a,f,d,i))}else{let v=m();l.push(()=>v.then(_=>{if(!_)throw new Error(`Couldn't resolve component "${d}" at "${f.path}"`);const b=DC(_)?_.default:_;f.mods[d]=_,f.components[d]=b;const T=(b.__vccOpts||b)[e];return T&&ls(T,s,a,f,d,i)()}))}}return l}function qm(t){const e=rn(jc),s=rn(bd),a=lt(()=>{const m=W(t.to);return e.resolve(m)}),i=lt(()=>{const{matched:m}=a.value,{length:v}=m,_=m[v-1],b=s.matched;if(!_||!b.length)return-1;const E=b.findIndex(la.bind(null,_));if(E>-1)return E;const T=Wm(m[v-2]);return v>1&&Wm(_)===T&&b[b.length-1].path!==T?b.findIndex(la.bind(null,m[v-2])):E}),l=lt(()=>i.value>-1&&RS(s.params,a.value.params)),f=lt(()=>i.value>-1&&i.value===s.matched.length-1&&Ly(s.params,a.value.params));function d(m={}){if(AS(m)){const v=e[W(t.replace)?"replace":"push"](W(t.to)).catch(_l);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>v),v}return Promise.resolve()}return{route:a,href:lt(()=>a.value.href),isActive:l,isExactActive:f,navigate:d}}function NS(t){return t.length===1?t[0]:t}const OS=Pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qm,setup(t,{slots:e}){const s=Hn(qm(t)),{options:a}=rn(jc),i=lt(()=>({[Zm(t.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[Zm(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=e.default&&NS(e.default(s));return t.custom?l:Mi("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},l)}}}),MS=OS;function AS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function RS(t,e){for(const s in e){const a=e[s],i=t[s];if(typeof a=="string"){if(a!==i)return!1}else if(!Vi(i)||i.length!==a.length||a.some((l,f)=>l!==i[f]))return!1}return!0}function Wm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Zm=(t,e,s)=>t??e??s,DS=Pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const a=rn(kf),i=lt(()=>t.route||a.value),l=rn(Hm,0),f=lt(()=>{let v=W(l);const{matched:_}=i.value;let b;for(;(b=_[v])&&!b.components;)v++;return v}),d=lt(()=>i.value.matched[f.value]);cs(Hm,lt(()=>f.value+1)),cs(PS,d),cs(kf,i);const m=Ft();return ne(()=>[m.value,d.value,t.name],([v,_,b],[E,T,I])=>{_&&(_.instances[b]=v,T&&T!==_&&v&&v===E&&(_.leaveGuards.size||(_.leaveGuards=T.leaveGuards),_.updateGuards.size||(_.updateGuards=T.updateGuards))),v&&_&&(!T||!la(_,T)||!E)&&(_.enterCallbacks[b]||[]).forEach(O=>O(v))},{flush:"post"}),()=>{const v=i.value,_=t.name,b=d.value,E=b&&b.components[_];if(!E)return Ym(s.default,{Component:E,route:v});const T=b.props[_],I=T?T===!0?v.params:typeof T=="function"?T(v):T:null,B=Mi(E,Te({},I,e,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(b.instances[_]=null)},ref:m}));return Ym(s.default,{Component:B,route:v})||B}}});function Ym(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const BS=DS;function FS(t){const e=ES(t.routes,t),s=t.parseQuery||SS,a=t.stringifyQuery||Vm,i=t.history,l=Qa(),f=Qa(),d=Qa(),m=Vn(ns);let v=ns;Go&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Rh.bind(null,rt=>""+rt),b=Rh.bind(null,jC),E=Rh.bind(null,Al);function T(rt,G){let Et,St;return ky(rt)?(Et=e.getRecordMatcher(rt),St=G):St=rt,e.addRoute(St,Et)}function I(rt){const G=e.getRecordMatcher(rt);G&&e.removeRoute(G)}function O(){return e.getRoutes().map(rt=>rt.record)}function B(rt){return!!e.getRecordMatcher(rt)}function P(rt,G){if(G=Te({},G||m.value),typeof rt=="string"){const K=Dh(s,rt,G.path),ct=e.resolve({path:K.path},G),gt=i.createHref(K.fullPath);return Te(K,ct,{params:E(ct.params),hash:Al(K.hash),redirectedFrom:void 0,href:gt})}let Et;if(rt.path!=null)Et=Te({},rt,{path:Dh(s,rt.path,G.path).path});else{const K=Te({},rt.params);for(const ct in K)K[ct]==null&&delete K[ct];Et=Te({},rt,{params:b(K)}),G.params=b(G.params)}const St=e.resolve(Et,G),It=rt.hash||"";St.params=_(E(St.params));const C=JC(a,Te({},rt,{hash:WC(It),path:St.path})),V=i.createHref(C);return Te({fullPath:C,hash:It,query:a===Vm?IS(rt.query):rt.query||{}},St,{redirectedFrom:void 0,href:V})}function R(rt){return typeof rt=="string"?Dh(s,rt,m.value.path):Te({},rt)}function D(rt,G){if(v!==rt)return ua(8,{from:G,to:rt})}function F(rt){return $(rt)}function H(rt){return F(Te(R(rt),{replace:!0}))}function q(rt){const G=rt.matched[rt.matched.length-1];if(G&&G.redirect){const{redirect:Et}=G;let St=typeof Et=="function"?Et(rt):Et;return typeof St=="string"&&(St=St.includes("?")||St.includes("#")?St=R(St):{path:St},St.params={}),Te({query:rt.query,hash:rt.hash,params:St.path!=null?{}:rt.params},St)}}function $(rt,G){const Et=v=P(rt),St=m.value,It=rt.state,C=rt.force,V=rt.replace===!0,K=q(Et);if(K)return $(Te(R(K),{state:typeof K=="object"?Te({},It,K.state):It,force:C,replace:V}),G||Et);const ct=Et;ct.redirectedFrom=G;let gt;return!C&&QC(a,St,Et)&&(gt=ua(16,{to:ct,from:St}),At(St,St,!0,!1)),(gt?Promise.resolve(gt):J(ct,St)).catch(pt=>Tr(pt)?Tr(pt,2)?pt:ut(pt):dt(pt,ct,St)).then(pt=>{if(pt){if(Tr(pt,2))return $(Te({replace:V},R(pt.to),{state:typeof pt.to=="object"?Te({},It,pt.to.state):It,force:C}),G||ct)}else pt=et(ct,St,!0,V,It);return _t(ct,St,pt),pt})}function it(rt,G){const Et=D(rt,G);return Et?Promise.reject(Et):Promise.resolve()}function X(rt){const G=Pt.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(rt):rt()}function J(rt,G){let Et;const[St,It,C]=zS(rt,G);Et=Bh(St.reverse(),"beforeRouteLeave",rt,G);for(const K of St)K.leaveGuards.forEach(ct=>{Et.push(ls(ct,rt,G))});const V=it.bind(null,rt,G);return Et.push(V),Tt(Et).then(()=>{Et=[];for(const K of l.list())Et.push(ls(K,rt,G));return Et.push(V),Tt(Et)}).then(()=>{Et=Bh(It,"beforeRouteUpdate",rt,G);for(const K of It)K.updateGuards.forEach(ct=>{Et.push(ls(ct,rt,G))});return Et.push(V),Tt(Et)}).then(()=>{Et=[];for(const K of C)if(K.beforeEnter)if(Vi(K.beforeEnter))for(const ct of K.beforeEnter)Et.push(ls(ct,rt,G));else Et.push(ls(K.beforeEnter,rt,G));return Et.push(V),Tt(Et)}).then(()=>(rt.matched.forEach(K=>K.enterCallbacks={}),Et=Bh(C,"beforeRouteEnter",rt,G,X),Et.push(V),Tt(Et))).then(()=>{Et=[];for(const K of f.list())Et.push(ls(K,rt,G));return Et.push(V),Tt(Et)}).catch(K=>Tr(K,8)?K:Promise.reject(K))}function _t(rt,G,Et){d.list().forEach(St=>X(()=>St(rt,G,Et)))}function et(rt,G,Et,St,It){const C=D(rt,G);if(C)return C;const V=G===ns,K=Go?history.state:{};Et&&(St||V?i.replace(rt.fullPath,Te({scroll:V&&K&&K.scroll},It)):i.push(rt.fullPath,It)),m.value=rt,At(rt,G,Et,V),ut()}let tt;function j(){tt||(tt=i.listen((rt,G,Et)=>{if(!Lt.listening)return;const St=P(rt),It=q(St);if(It){$(Te(It,{replace:!0,force:!0}),St).catch(_l);return}v=St;const C=m.value;Go&&aS(Am(C.fullPath,Et.delta),Yc()),J(St,C).catch(V=>Tr(V,12)?V:Tr(V,2)?($(Te(R(V.to),{force:!0}),St).then(K=>{Tr(K,20)&&!Et.delta&&Et.type===Rl.pop&&i.go(-1,!1)}).catch(_l),Promise.reject()):(Et.delta&&i.go(-Et.delta,!1),dt(V,St,C))).then(V=>{V=V||et(St,C,!1),V&&(Et.delta&&!Tr(V,8)?i.go(-Et.delta,!1):Et.type===Rl.pop&&Tr(V,20)&&i.go(-1,!1)),_t(St,C,V)}).catch(_l)}))}let vt=Qa(),yt=Qa(),bt;function dt(rt,G,Et){ut(rt);const St=yt.list();return St.length?St.forEach(It=>It(rt,G,Et)):console.error(rt),Promise.reject(rt)}function Nt(){return bt&&m.value!==ns?Promise.resolve():new Promise((rt,G)=>{vt.add([rt,G])})}function ut(rt){return bt||(bt=!rt,j(),vt.list().forEach(([G,Et])=>rt?Et(rt):G()),vt.reset()),rt}function At(rt,G,Et,St){const{scrollBehavior:It}=t;if(!Go||!It)return Promise.resolve();const C=!Et&&lS(Am(rt.fullPath,0))||(St||!Et)&&history.state&&history.state.scroll||null;return ti().then(()=>It(rt,G,C)).then(V=>V&&oS(V)).catch(V=>dt(V,rt,G))}const Ut=rt=>i.go(rt);let Mt;const Pt=new Set,Lt={currentRoute:m,listening:!0,addRoute:T,removeRoute:I,clearRoutes:e.clearRoutes,hasRoute:B,getRoutes:O,resolve:P,options:t,push:F,replace:H,go:Ut,back:()=>Ut(-1),forward:()=>Ut(1),beforeEach:l.add,beforeResolve:f.add,afterEach:d.add,onError:yt.add,isReady:Nt,install(rt){const G=this;rt.component("RouterLink",MS),rt.component("RouterView",BS),rt.config.globalProperties.$router=G,Object.defineProperty(rt.config.globalProperties,"$route",{enumerable:!0,get:()=>W(m)}),Go&&!Mt&&m.value===ns&&(Mt=!0,F(i.location).catch(It=>{}));const Et={};for(const It in ns)Object.defineProperty(Et,It,{get:()=>m.value[It],enumerable:!0});rt.provide(jc,G),rt.provide(bd,qg(Et)),rt.provide(kf,m);const St=rt.unmount;Pt.add(rt),rt.unmount=function(){Pt.delete(rt),Pt.size<1&&(v=ns,tt&&tt(),tt=null,m.value=ns,Mt=!1,bt=!1),St()}}};function Tt(rt){return rt.reduce((G,Et)=>G.then(()=>X(Et)),Promise.resolve())}return Lt}function zS(t,e){const s=[],a=[],i=[],l=Math.max(e.matched.length,t.matched.length);for(let f=0;f<l;f++){const d=e.matched[f];d&&(t.matched.find(v=>la(v,d))?a.push(d):s.push(d));const m=t.matched[f];m&&(e.matched.find(v=>la(v,m))||i.push(m))}return[s,a,i]}function $S(){return rn(jc)}function Fh(t){return rn(bd)}function Sy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tl={exports:{}},jm;function US(){if(jm)return tl.exports;jm=1,tl.exports=s,tl.exports.parse=s,tl.exports.stringify=a;var t=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,e=new RegExp("^"+t.source+"(\\s"+t.source+"){1,}");function s(i){var l=i.split(";"),f=l.pop(),d=(l.shift()||"").split("=").pop(),m=0;function v(q){var $=f.substring(m).match(q);return $?(m+=$[0].length,$[0]):null}function _(q){return q&&d.match(/\d+/)&&(q.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+d}}),q}function b(){v(/^\s*/)}function E(){b();for(var q=0,$=[],it=[$],X=$,J;J=v(/^(\()/)||v(/^(\))/)||v(/^(,)/)||v(e);){if(J==="(")it.push(X),X=[],it[it.length-1].push(X),q++;else if(J===")"){if(X.length===0||(X=it.pop(),!X))return null;if(q--,q===0)break}else if(J===",")X=[],it[it.length-1].push(X);else if(!J.split(/\s/g).some(isNaN))Array.prototype.push.apply(X,J.split(/\s/g).map(parseFloat));else return null;b()}return q!==0?null:$}function T(){for(var q=[],$,it;it=v(e)||v(/^(,)/);)it===","?(q.push($),$=[]):it.split(/\s/g).some(isNaN)||($||($=[]),Array.prototype.push.apply($,it.split(/\s/g).map(parseFloat))),b();if($)q.push($);else return null;return q.length?q:null}function I(){if(!v(/^(point(\sz)?)/i)||(b(),!v(/^(\()/)))return null;var q=T();return!q||(b(),!v(/^(\))/))?null:{type:"Point",coordinates:q[0]}}function O(){if(!v(/^(multipoint)/i))return null;b();var q=f.substring(f.indexOf("(")+1,f.length-1).replace(/\(/g,"").replace(/\)/g,"");f="MULTIPOINT ("+q+")";var $=E();return $?(b(),{type:"MultiPoint",coordinates:$}):null}function B(){if(!v(/^(multilinestring)/i))return null;b();var q=E();return q?(b(),{type:"MultiLineString",coordinates:q}):null}function P(){if(!v(/^(linestring(\sz)?)/i)||(b(),!v(/^(\()/)))return null;var q=T();return!q||!v(/^(\))/)?null:{type:"LineString",coordinates:q}}function R(){if(!v(/^(polygon(\sz)?)/i))return null;b();var q=E();return q?{type:"Polygon",coordinates:q}:null}function D(){if(!v(/^(multipolygon)/i))return null;b();var q=E();return q?{type:"MultiPolygon",coordinates:q}:null}function F(){var q=[],$;if(!v(/^(geometrycollection)/i)||(b(),!v(/^(\()/)))return null;for(;$=H();)q.push($),b(),v(/^(,)/),b();return v(/^(\))/)?{type:"GeometryCollection",geometries:q}:null}function H(){return I()||P()||R()||O()||B()||D()||F()}return _(H())}function a(i){i.type==="Feature"&&(i=i.geometry);function l(_){return _.join(" ")}function f(_){return _.map(l).join(", ")}function d(_){return _.map(f).map(v).join(", ")}function m(_){return _.map(d).map(v).join(", ")}function v(_){return"("+_+")"}switch(i.type){case"Point":return"POINT ("+l(i.coordinates)+")";case"LineString":return"LINESTRING ("+f(i.coordinates)+")";case"Polygon":return"POLYGON ("+d(i.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+f(i.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+m(i.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+d(i.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+i.geometries.map(a).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return tl.exports}var fs=US(),Kn=63710088e-1,Iy={centimeters:Kn*100,centimetres:Kn*100,degrees:360/(2*Math.PI),feet:Kn*3.28084,inches:Kn*39.37,kilometers:Kn/1e3,kilometres:Kn/1e3,meters:Kn,metres:Kn,miles:Kn/1609.344,millimeters:Kn*1e3,millimetres:Kn*1e3,nauticalmiles:Kn/1852,radians:1,yards:Kn*1.0936};function Py(t,e,s={}){const a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=e||{},a.geometry=t,a}function GS(t,e,s={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Xm(t[0])||!Xm(t[1]))throw new Error("coordinates must contain numbers");return Py({type:"Point",coordinates:t},e,s)}function pc(t,e={}){const s={type:"FeatureCollection"};return e.id&&(s.id=e.id),e.bbox&&(s.bbox=e.bbox),s.features=t,s}function VS(t,e="kilometers"){const s=Iy[e];if(!s)throw new Error(e+" units is invalid");return t*s}function HS(t,e="kilometers"){const s=Iy[e];if(!s)throw new Error(e+" units is invalid");return t/s}function Xm(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function qS(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function nl(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ny(t,e,s){if(t!==null)for(var a,i,l,f,d,m,v,_=0,b=0,E,T=t.type,I=T==="FeatureCollection",O=T==="Feature",B=I?t.features.length:1,P=0;P<B;P++){v=I?t.features[P].geometry:O?t.geometry:t,E=v?v.type==="GeometryCollection":!1,d=E?v.geometries.length:1;for(var R=0;R<d;R++){var D=0,F=0;if(f=E?v.geometries[R]:v,f!==null){m=f.coordinates;var H=f.type;switch(_=0,H){case null:break;case"Point":if(e(m,b,P,D,F)===!1)return!1;b++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<m.length;a++){if(e(m[a],b,P,D,F)===!1)return!1;b++,H==="MultiPoint"&&D++}H==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<m.length;a++){for(i=0;i<m[a].length-_;i++){if(e(m[a][i],b,P,D,F)===!1)return!1;b++}H==="MultiLineString"&&D++,H==="Polygon"&&F++}H==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<m.length;a++){for(F=0,i=0;i<m[a].length;i++){for(l=0;l<m[a][i].length-_;l++){if(e(m[a][i][l],b,P,D,F)===!1)return!1;b++}F++}D++}break;case"GeometryCollection":for(a=0;a<f.geometries.length;a++)if(Ny(f.geometries[a],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function mc(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length&&e(t.features[s],s)!==!1;s++);}function Xc(t,e){var s,a,i,l,f,d,m,v,_,b,E=0,T=t.type==="FeatureCollection",I=t.type==="Feature",O=T?t.features.length:1;for(s=0;s<O;s++){for(d=T?t.features[s].geometry:I?t.geometry:t,v=T?t.features[s].properties:I?t.properties:{},_=T?t.features[s].bbox:I?t.bbox:void 0,b=T?t.features[s].id:I?t.id:void 0,m=d?d.type==="GeometryCollection":!1,f=m?d.geometries.length:1,i=0;i<f;i++){if(l=m?d.geometries[i]:d,l===null){if(e(null,E,v,_,b)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(l,E,v,_,b)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<l.geometries.length;a++)if(e(l.geometries[a],E,v,_,b)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}E++}}function WS(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const s=[1/0,1/0,-1/0,-1/0];return Ny(t,a=>{s[0]>a[0]&&(s[0]=a[0]),s[1]>a[1]&&(s[1]=a[1]),s[2]<a[0]&&(s[2]=a[0]),s[3]<a[1]&&(s[3]=a[1])}),s}function gc(t){const e=nl(t);let s=0,a=1,i,l;for(;a<e.length;)i=l||e[0],l=e[a],s+=(l[0]-i[0])*(l[1]+i[1]),a++;return s>0}function ZS(t,e={}){const s=WS(t),a=(s[0]+s[2])/2,i=(s[1]+s[3])/2;return GS([a,i],e.properties,e)}var Uu={exports:{}},YS=Uu.exports,Km;function jS(){return Km||(Km=1,function(t,e){(function(s,a){t.exports=a()})(YS,function(){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var r=0,u=Array(n);r<n;r++)u[r]=c[r];return u}function a(c,n,r){return n=_(n),function(u,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(u)}(c,E()?Reflect.construct(n,r||[],_(c).constructor):n.apply(c,r))}function i(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function l(c,n,r){if(E())return Reflect.construct.apply(null,arguments);var u=[null];u.push.apply(u,n);var p=new(c.bind.apply(c,u));return r&&T(p,r.prototype),p}function f(c,n){for(var r=0;r<n.length;r++){var u=n[r];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,B(u.key),u)}}function d(c,n,r){return n&&f(c.prototype,n),r&&f(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c,n){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=P(c))||n){r&&(c=r);var u=0,p=function(){};return{s:p,n:function(){return u>=c.length?{done:!0}:{done:!1,value:c[u++]}},e:function(M){throw M},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,k=!0,S=!1;return{s:function(){r=r.call(c)},n:function(){var M=r.next();return k=M.done,M},e:function(M){S=!0,y=M},f:function(){try{k||r.return==null||r.return()}finally{if(S)throw y}}}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,n,r){var u=function(y,k){for(;!{}.hasOwnProperty.call(y,k)&&(y=_(y))!==null;);return y}(c,n);if(u){var p=Object.getOwnPropertyDescriptor(u,n);return p.get?p.get.call(arguments.length<3?c:r):p.value}},v.apply(null,arguments)}function _(c){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_(c)}function b(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),n&&T(c,n)}function E(){try{var c=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!c})()}function T(c,n){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,u){return r.__proto__=u,r},T(c,n)}function I(c,n,r,u){var p=v(_(1&u?c.prototype:c),n,r);return 2&u&&typeof p=="function"?function(y){return p.apply(r,y)}:p}function O(c){return function(n){if(Array.isArray(n))return s(n)}(c)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(c)||P(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B(c){var n=function(r,u){if(typeof r!="object"||!r)return r;var p=r[Symbol.toPrimitive];if(p!==void 0){var y=p.call(r,u);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(c,"string");return typeof n=="symbol"?n:n+""}function P(c,n){if(c){if(typeof c=="string")return s(c,n);var r={}.toString.call(c).slice(8,-1);return r==="Object"&&c.constructor&&(r=c.constructor.name),r==="Map"||r==="Set"?Array.from(c):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(c,n):void 0}}function R(c){var n=typeof Map=="function"?new Map:void 0;return R=function(r){if(r===null||!function(p){try{return Function.toString.call(p).indexOf("[native code]")!==-1}catch{return typeof p=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,u)}function u(){return l(r,arguments,_(this).constructor)}return u.prototype=Object.create(r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),T(u,r)},R(c)}var D=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(n){this._quadrantSegments=n,this._quadrantSegments===0&&(this._joinStyle=c.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=c.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),n<=0&&(this._quadrantSegments=1),this._joinStyle!==c.JOIN_ROUND&&(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(n){this._joinStyle=n}},{key:"setSimplifyFactor",value:function(n){this._simplifyFactor=n<0?0:n}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(n){this._endCapStyle=n}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(n){this._mitreLimit=n}},{key:"setSingleSided",value:function(n){this._isSingleSided=n}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=c.CAP_ROUND,this._joinStyle=c.JOIN_ROUND,this._mitreLimit=c.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=c.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.setQuadrantSegments(r),this.setEndCapStyle(u)}else if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],S=arguments[3];this.setQuadrantSegments(p),this.setEndCapStyle(y),this.setJoinStyle(k),this.setMitreLimit(S)}}}},{key:"bufferDistanceError",value:function(n){var r=Math.PI/2/n;return 1-Math.cos(r/2)}}])}();D.CAP_ROUND=1,D.CAP_FLAT=2,D.CAP_SQUARE=3,D.JOIN_ROUND=1,D.JOIN_MITRE=2,D.JOIN_BEVEL=3,D.DEFAULT_QUADRANT_SEGMENTS=8,D.DEFAULT_MITRE_LIMIT=5,D.DEFAULT_SIMPLIFY_FACTOR=.01;var F=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({Exception:n})[0],u}return b(n,c),d(n,[{key:"toString",value:function(){return this.message}}])}(R(Error)),H=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({IllegalArgumentException:n})[0],u}return b(n,c),d(n)}(F),q=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}();function $(){}function it(){}function X(){}var J,_t,et,tt,j,vt,yt,bt,dt=function(){return d(function c(){i(this,c)},null,[{key:"equalsWithTolerance",value:function(c,n,r){return Math.abs(c-n)<=r}}])}(),Nt=function(){return d(function c(n,r){i(this,c),this.low=r||0,this.high=n||0},null,[{key:"toBinaryString",value:function(c){var n,r="";for(n=2147483648;n>0;n>>>=1)r+=(c.high&n)===n?"1":"0";for(n=2147483648;n>0;n>>>=1)r+=(c.low&n)===n?"1":"0";return r}}])}();function ut(){}function At(){}ut.NaN=NaN,ut.isNaN=function(c){return Number.isNaN(c)},ut.isInfinite=function(c){return!Number.isFinite(c)},ut.MAX_VALUE=Number.MAX_VALUE,ut.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,ut.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(vt=2146435072,yt=new Float64Array(1),bt=new Int32Array(yt.buffer),ut.doubleToLongBits=function(c){yt[0]=c;var n=0|bt[0],r=0|bt[1];return(r&vt)===vt&&1048575&r&&n!==0&&(n=0,r=2146959360),new Nt(r,n)},ut.longBitsToDouble=function(c){return bt[0]=c.low,bt[1]=c.high,yt[0]}):(J=1023,_t=Math.log2,et=Math.floor,tt=Math.pow,j=function(){for(var c=53;c>0;c--){var n=tt(2,c)-1;if(et(_t(n))+1===c)return n}return 0}(),ut.doubleToLongBits=function(c){var n,r,u,p,y,k,S,M,U;if(c<0||1/c===Number.NEGATIVE_INFINITY?(k=1<<31,c=-c):k=0,c===0)return new Nt(M=k,U=0);if(c===1/0)return new Nt(M=2146435072|k,U=0);if(c!=c)return new Nt(M=2146959360,U=0);if(p=0,U=0,(n=et(c))>1)if(n<=j)(p=et(_t(n)))<=20?(U=0,M=n<<20-p&1048575):(U=n%(r=tt(2,u=p-20))<<32-u,M=n/r&1048575);else for(u=n,U=0;(u=et(r=u/2))!==0;)p++,U>>>=1,U|=(1&M)<<31,M>>>=1,r!==u&&(M|=524288);if(S=p+J,y=n===0,n=c-n,p<52&&n!==0)for(u=0;;){if((r=2*n)>=1?(n=r-1,y?(S--,y=!1):(u<<=1,u|=1,p++)):(n=r,y?--S==0&&(p++,y=!1):(u<<=1,p++)),p===20)M|=u,u=0;else if(p===52){U|=u;break}if(r===1){p<20?M|=u<<20-p:p<52&&(U|=u<<52-p);break}}return M|=S<<20,new Nt(M|=k,U)},ut.longBitsToDouble=function(c){var n,r,u,p,y=c.high,k=c.low,S=y&1<<31?-1:1;for(u=((2146435072&y)>>20)-J,p=0,r=1<<19,n=1;n<=20;n++)y&r&&(p+=tt(2,-n)),r>>>=1;for(r=1<<31,n=21;n<=52;n++)k&r&&(p+=tt(2,-n)),r>>>=1;if(u===-1023){if(p===0)return 0*S;u=-1022}else{if(u===1024)return p===0?S/0:NaN;p+=1}return S*p*tt(2,u)});var Ut=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({RuntimeException:n})[0],u}return b(n,c),d(n)}(F),Mt=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,null,[{key:"constructor_",value:function(){if(arguments.length===0)Ut.constructor_.call(this);else if(arguments.length===1){var r=arguments[0];Ut.constructor_.call(this,r)}}}])}(Ut),Pt=function(){function c(){i(this,c)}return d(c,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)c.shouldNeverReachHere(null);else if(arguments.length===1){var n=arguments[0];throw new Mt("Should never reach here"+(n!==null?": "+n:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var n=arguments[0];c.isTrue(n,null)}else if(arguments.length===2){var r=arguments[1];if(!arguments[0])throw r===null?new Mt:new Mt(r)}}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];c.equals(n,r,null)}else if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2];if(!p.equals(u))throw new Mt("Expected "+u+" but encountered "+p+(y!==null?": "+y:""))}}}])}(),Lt=new ArrayBuffer(8),Tt=new Float64Array(Lt),rt=new Int32Array(Lt),G=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getM",value:function(){return ut.NaN}},{key:"setOrdinate",value:function(n,r){switch(n){case c.X:this.x=r;break;case c.Y:this.y=r;break;case c.Z:this.setZ(r);break;default:throw new H("Invalid ordinate index: "+n)}}},{key:"equals2D",value:function(){if(arguments.length===1){var n=arguments[0];return this.x===n.x&&this.y===n.y}if(arguments.length===2){var r=arguments[0],u=arguments[1];return!!dt.equalsWithTolerance(this.x,r.x,u)&&!!dt.equalsWithTolerance(this.y,r.y,u)}}},{key:"setM",value:function(n){throw new H("Invalid ordinate index: "+c.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(n){switch(n){case c.X:return this.x;case c.Y:return this.y;case c.Z:return this.getZ()}throw new H("Invalid ordinate index: "+n)}},{key:"equals3D",value:function(n){return this.x===n.x&&this.y===n.y&&(this.getZ()===n.getZ()||ut.isNaN(this.getZ())&&ut.isNaN(n.getZ()))}},{key:"equals",value:function(n){return n instanceof c&&this.equals2D(n)}},{key:"equalInZ",value:function(n,r){return dt.equalsWithTolerance(this.getZ(),n.getZ(),r)}},{key:"setX",value:function(n){this.x=n}},{key:"compareTo",value:function(n){var r=n;return this.x<r.x?-1:this.x>r.x?1:this.y<r.y?-1:this.y>r.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(n){this.z=n}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return Pt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw n}}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(n){var r=this.x-n.x,u=this.y-n.y,p=this.getZ()-n.getZ();return Math.sqrt(r*r+u*u+p*p)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(n){this.y=n}},{key:"distance",value:function(n){var r=this.x-n.x,u=this.y-n.y;return Math.sqrt(r*r+u*u)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*n+c.hashCode(this.x))+c.hashCode(this.y)}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}},{key:"interfaces_",get:function(){return[$,it,X]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)c.constructor_.call(this,0,0);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.x,n.y,n.getZ())}else if(arguments.length===2){var r=arguments[0],u=arguments[1];c.constructor_.call(this,r,u,c.NULL_ORDINATE)}else if(arguments.length===3){var p=arguments[0],y=arguments[1],k=arguments[2];this.x=p,this.y=y,this.z=k}}},{key:"hashCode",value:function(n){return Tt[0]=n,rt[0]^rt[1]}}])}(),Et=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"compare",value:function(n,r){var u=c.compare(n.x,r.x);if(u!==0)return u;var p=c.compare(n.y,r.y);return p!==0?p:this._dimensionsToTest<=2?0:c.compare(n.getZ(),r.getZ())}},{key:"interfaces_",get:function(){return[At]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)c.constructor_.call(this,2);else if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new H("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}},{key:"compare",value:function(n,r){return n<r?-1:n>r?1:ut.isNaN(n)?ut.isNaN(r)?0:-1:ut.isNaN(r)?1:0}}])}();G.DimensionalComparator=Et,G.NULL_ORDINATE=ut.NaN,G.X=0,G.Y=1,G.Z=2,G.M=3;var St=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.isNull()?r.isNull():this._maxx===r.getMaxX()&&this._maxy===r.getMaxY()&&this._minx===r.getMinX()&&this._miny===r.getMinY()}},{key:"intersection",value:function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new c;var r=this._minx>n._minx?this._minx:n._minx,u=this._miny>n._miny?this._miny:n._miny;return new c(r,this._maxx<n._maxx?this._maxx:n._maxx,u,this._maxy<n._maxy?this._maxy:n._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];return this.covers(n.x,n.y)}if(arguments[0]instanceof c){var r=arguments[0];return!this.isNull()&&!r.isNull()&&r.getMinX()>=this._minx&&r.getMaxX()<=this._maxx&&r.getMinY()>=this._miny&&r.getMaxY()<=this._maxy}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];return!this.isNull()&&u>=this._minx&&u<=this._maxx&&p>=this._miny&&p<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return!this.isNull()&&!n.isNull()&&!(n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny)}if(arguments[0]instanceof G){var r=arguments[0];return this.intersects(r.x,r.y)}}else if(arguments.length===2){if(arguments[0]instanceof G&&arguments[1]instanceof G){var u=arguments[0],p=arguments[1];return!this.isNull()&&!((u.x<p.x?u.x:p.x)>this._maxx)&&!((u.x>p.x?u.x:p.x)<this._minx)&&!((u.y<p.y?u.y:p.y)>this._maxy)&&!((u.y>p.y?u.y:p.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var y=arguments[0],k=arguments[1];return!this.isNull()&&!(y>this._maxx||y<this._minx||k>this._maxy||k<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return Math.sqrt(n*n+r*r)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];if(r.isNull())return null;this.isNull()?(this._minx=r.getMinX(),this._maxx=r.getMaxX(),this._miny=r.getMinY(),this._maxy=r.getMaxY()):(r._minx<this._minx&&(this._minx=r._minx),r._maxx>this._maxx&&(this._maxx=r._maxx),r._miny<this._miny&&(this._miny=r._miny),r._maxy>this._maxy&&(this._maxy=r._maxy))}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.isNull()?(this._minx=u,this._maxx=u,this._miny=p,this._maxy=p):(u<this._minx&&(this._minx=u),u>this._maxx&&(this._maxx=u),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n<r?n:r}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(n){var r=n;return this.isNull()?r.isNull()?0:-1:r.isNull()?1:this._minx<r._minx?-1:this._minx>r._minx?1:this._miny<r._miny?-1:this._miny>r._miny?1:this._maxx<r._maxx?-1:this._maxx>r._maxx?1:this._maxy<r._maxy?-1:this._maxy>r._maxy?1:0}},{key:"translate",value:function(n,r){if(this.isNull())return null;this.init(this.getMinX()+n,this.getMaxX()+n,this.getMinY()+r,this.getMaxY()+r)}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(n){return!(!this.isNull()&&!n.isNull())||n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n>r?n:r}},{key:"expandBy",value:function(){if(arguments.length===1){var n=arguments[0];this.expandBy(n,n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];if(this.isNull())return null;this._minx-=r,this._maxx+=r,this._miny-=u,this._maxy+=u,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.covers(n)}if(arguments[0]instanceof G){var r=arguments[0];return this.covers(r)}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];return this.covers(u,p)}}},{key:"centre",value:function(){return this.isNull()?null:new G((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this._minx=r._minx,this._maxx=r._maxx,this._miny=r._miny,this._maxy=r._maxy}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.init(u.x,p.x,u.y,p.y)}else if(arguments.length===4){var y=arguments[0],k=arguments[1],S=arguments[2],M=arguments[3];y<k?(this._minx=y,this._maxx=k):(this._minx=k,this._maxx=y),S<M?(this._miny=S,this._maxy=M):(this._miny=M,this._maxy=S)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(n){if(this.intersects(n))return 0;var r=0;this._maxx<n._minx?r=n._minx-this._maxx:this._minx>n._maxx&&(r=this._minx-n._maxx);var u=0;return this._maxy<n._miny?u=n._miny-this._maxy:this._miny>n._maxy&&(u=this._miny-n._maxy),r===0?u:u===0?r:Math.sqrt(r*r+u*u)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*(n=37*(n=37*n+G.hashCode(this._minx))+G.hashCode(this._maxx))+G.hashCode(this._miny))+G.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[$,X]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.init(u.x,p.x,u.y,p.y)}else if(arguments.length===4){var y=arguments[0],k=arguments[1],S=arguments[2],M=arguments[3];this.init(y,k,S,M)}}},{key:"intersects",value:function(){if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];return u.x>=(n.x<r.x?n.x:r.x)&&u.x<=(n.x>r.x?n.x:r.x)&&u.y>=(n.y<r.y?n.y:r.y)&&u.y<=(n.y>r.y?n.y:r.y)}if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],S=arguments[3],M=Math.min(k.x,S.x),U=Math.max(k.x,S.x),nt=Math.min(p.x,y.x),st=Math.max(p.x,y.x);return!(nt>U)&&!(st<M)&&(M=Math.min(k.y,S.y),U=Math.max(k.y,S.y),nt=Math.min(p.y,y.y),st=Math.max(p.y,y.y),!(nt>U)&&!(st<M))}}}])}(),It=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(n){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(n){return this===n||this.equalsExact(n,0)}},{key:"geometryChanged",value:function(){this.apply(c.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(n){return n!==null&&this.norm().equalsExact(n.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var n;if(arguments.length===1){var r=arguments[0];return n=r,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(r)}if(arguments.length===2){var u=arguments[0],p=arguments[1];return n=u,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(u,p)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(n){if(n.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION)throw new H("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(n,r,u){return u===0?n.equals(r):n.distance(r)<=u}},{key:"norm",value:function(){var n=this.copy();return n.normalize(),n}},{key:"reverse",value:function(){var n=this.reverseInternal();return this.envelope!=null&&(n.envelope=this.envelope.copy()),n.setSRID(this.getSRID()),n}},{key:"copy",value:function(){var n=this.copyInternal();return n.envelope=this._envelope==null?null:this._envelope.copy(),n._SRID=this._SRID,n._userData=this._userData,n}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new St(this._envelope)}},{key:"setSRID",value:function(n){this._SRID=n}},{key:"setUserData",value:function(n){this._userData=n}},{key:"compare",value:function(n,r){for(var u=n.iterator(),p=r.iterator();u.hasNext()&&p.hasNext();){var y=u.next(),k=p.next(),S=y.compareTo(k);if(S!==0)return S}return u.hasNext()?1:p.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(n){return this.getClass()===n.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===c.TYPECODE_MULTIPOINT||this.getTypeCode()===c.TYPECODE_MULTILINESTRING||this.getTypeCode()===c.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[it,$,X]}},{key:"getClass",value:function(){return c}}],[{key:"hasNonEmptyElements",value:function(n){for(var r=0;r<n.length;r++)if(!n[r].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(n){for(var r=0;r<n.length;r++)if(n[r]===null)return!0;return!1}}])}();It.constructor_=function(c){c&&(this._envelope=null,this._userData=null,this._factory=c,this._SRID=c.getSRID())},It.TYPECODE_POINT=0,It.TYPECODE_MULTIPOINT=1,It.TYPECODE_LINESTRING=2,It.TYPECODE_LINEARRING=3,It.TYPECODE_MULTILINESTRING=4,It.TYPECODE_POLYGON=5,It.TYPECODE_MULTIPOLYGON=6,It.TYPECODE_GEOMETRYCOLLECTION=7,It.TYPENAME_POINT="Point",It.TYPENAME_MULTIPOINT="MultiPoint",It.TYPENAME_LINESTRING="LineString",It.TYPENAME_LINEARRING="LinearRing",It.TYPENAME_MULTILINESTRING="MultiLineString",It.TYPENAME_POLYGON="Polygon",It.TYPENAME_MULTIPOLYGON="MultiPolygon",It.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",It.geometryChangedFilter={get interfaces_(){return[q]},filter:function(c){c.geometryChangedAction()}};var C=function(){function c(){i(this,c)}return d(c,null,[{key:"toLocationSymbol",value:function(n){switch(n){case c.EXTERIOR:return"e";case c.BOUNDARY:return"b";case c.INTERIOR:return"i";case c.NONE:return"-"}throw new H("Unknown location value: "+n)}}])}();C.INTERIOR=0,C.BOUNDARY=1,C.EXTERIOR=2,C.NONE=-1;var V=function(){return d(function c(){i(this,c)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),K=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({NoSuchElementException:n})[0],u}return b(n,c),d(n)}(F),ct=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({UnsupportedOperationException:n})[0],u}return b(n,c),d(n)}(F),gt=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n,[{key:"contains",value:function(){}}])}(V),pt=function(c){function n(r){var u;return i(this,n),(u=a(this,n)).map=new Map,r instanceof V&&u.addAll(r),u}return b(n,c),d(n,[{key:"contains",value:function(r){var u=r.hashCode?r.hashCode():r;return!!this.map.has(u)}},{key:"add",value:function(r){var u=r.hashCode?r.hashCode():r;return!this.map.has(u)&&!!this.map.set(u,r)}},{key:"addAll",value:function(r){var u,p=m(r);try{for(p.s();!(u=p.n()).done;){var y=u.value;this.add(y)}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new ct}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new z(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(gt),z=function(){return d(function c(n){i(this,c),this.iterator=n.values();var r=this.iterator.next(),u=r.done,p=r.value;this.done=u,this.value=p},[{key:"next",value:function(){if(this.done)throw new K;var c=this.value,n=this.iterator.next(),r=n.done,u=n.value;return this.done=r,this.value=u,c}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new ct}}])}(),N=function(){function c(){i(this,c)}return d(c,null,[{key:"opposite",value:function(n){return n===c.LEFT?c.RIGHT:n===c.RIGHT?c.LEFT:n}}])}();N.ON=0,N.LEFT=1,N.RIGHT=2;var Q=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({EmptyStackException:n})[0],u}return b(n,c),d(n)}(F),at=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({IndexOutOfBoundsException:n})[0],u}return b(n,c),d(n)}(F),Dt=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(V),kt=function(c){function n(){var r;return i(this,n),(r=a(this,n)).array=[],r}return b(n,c),d(n,[{key:"add",value:function(r){return this.array.push(r),!0}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new at;return this.array[r]}},{key:"push",value:function(r){return this.array.push(r),r}},{key:"pop",value:function(){if(this.array.length===0)throw new Q;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Q;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(r){return this.array.indexOf(r)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(Dt);function Y(c,n){return c.interfaces_&&c.interfaces_.indexOf(n)>-1}var ft=function(){return d(function c(n){i(this,c),this.str=n},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),Gt=function(){function c(n){i(this,c),this.value=n}return d(c,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(n){return this.value<n?-1:this.value>n?1:0}}],[{key:"compare",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"isNan",value:function(n){return Number.isNaN(n)}},{key:"valueOf",value:function(n){return new c(n)}}])}(),Qt=function(){return d(function c(){i(this,c)},null,[{key:"isWhitespace",value:function(c){return c<=32&&c>=0||c===127}},{key:"toUpperCase",value:function(c){return c.toUpperCase()}}])}(),Ot=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"le",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<=n._lo}},{key:"extractSignificantDigits",value:function(n,r){var u=this.abs(),p=c.magnitude(u._hi),y=c.TEN.pow(p);(u=u.divide(y)).gt(c.TEN)?(u=u.divide(c.TEN),p+=1):u.lt(c.ONE)&&(u=u.multiply(c.TEN),p-=1);for(var k=p+1,S=new ft,M=c.MAX_PRINT_DIGITS-1,U=0;U<=M;U++){n&&U===k&&S.append(".");var nt=Math.trunc(u._hi);if(nt<0)break;var st=!1,xt=0;nt>9?(st=!0,xt="9"):xt="0"+nt,S.append(xt),u=u.subtract(c.valueOf(nt)).multiply(c.TEN),st&&u.selfAdd(c.TEN);var Bt=!0,Wt=c.magnitude(u._hi);if(Wt<0&&Math.abs(Wt)>=M-U&&(Bt=!1),!Bt)break}return r[0]=p,S.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.add(n.negate())}if(typeof arguments[0]=="number"){var r=arguments[0];return this.add(-r)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof c){var n=arguments[0];return this._hi===n._hi&&this._lo===n._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n._hi,-n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.isNaN()?this:this.selfAdd(-r,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(n){return this.le(n)?this:n}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfDivide(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfDivide(r,0)}}else if(arguments.length===2){var u,p,y,k,S=arguments[0],M=arguments[1],U=null,nt=null,st=null,xt=null;return y=this._hi/S,xt=(U=(st=c.SPLIT*y)-(U=st-y))*(nt=(xt=c.SPLIT*S)-(nt=xt-S))-(k=y*S)+U*(p=S-nt)+(u=y-U)*nt+u*p,xt=y+(st=(this._hi-k-xt+this._lo-y*M)/S),this._hi=xt,this._lo=y-xt+st,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof c){var n,r,u,p,y=arguments[0],k=null,S=null,M=null,U=null;return n=(u=this._hi/y._hi)-(k=(M=c.SPLIT*u)-(k=M-u)),U=k*(S=(U=c.SPLIT*y._hi)-(S=U-y._hi))-(p=u*y._hi)+k*(r=y._hi-S)+n*S+n*r,new c(U=u+(M=(this._hi-p-U+this._lo-u*y._lo)/y._hi),u-U+M)}if(typeof arguments[0]=="number"){var nt=arguments[0];return ut.isNaN(nt)?c.createNaN():c.copy(this).selfDivide(nt,0)}}},{key:"ge",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>=n._lo}},{key:"pow",value:function(n){if(n===0)return c.valueOf(1);var r=new c(this),u=c.valueOf(1),p=Math.abs(n);if(p>1)for(;p>0;)p%2==1&&u.selfMultiply(r),(p/=2)>0&&(r=r.sqr());else u=r;return n<0?u.reciprocal():u}},{key:"ceil",value:function(){if(this.isNaN())return c.NaN;var n=Math.ceil(this._hi),r=0;return n===this._hi&&(r=Math.ceil(this._lo)),new c(n,r)}},{key:"compareTo",value:function(n){var r=n;return this._hi<r._hi?-1:this._hi>r._hi?1:this._lo<r._lo?-1:this._lo>r._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.init(n),this}if(typeof arguments[0]=="number"){var r=arguments[0];return this.init(r),this}}},{key:"max",value:function(n){return this.ge(n)?this:n}},{key:"sqrt",value:function(){if(this.isZero())return c.valueOf(0);if(this.isNegative())return c.NaN;var n=1/Math.sqrt(this._hi),r=this._hi*n,u=c.valueOf(r),p=this.subtract(u.sqr())._hi*(.5*n);return u.add(p)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfAdd(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r,u,p,y,k,S=arguments[0],M=null;return M=(p=this._hi+S)-(y=p-this._hi),u=(k=(M=S-y+(this._hi-M))+this._lo)+(p-(r=p+k)),this._hi=r+u,this._lo=u+(r-this._hi),this}}else if(arguments.length===2){var U,nt,st,xt,Bt=arguments[0],Wt=arguments[1],Kt=null,me=null,le=null;st=this._hi+Bt,nt=this._lo+Wt,me=st-(le=st-this._hi),Kt=nt-(xt=nt-this._lo);var Me=(U=st+(le=(me=Bt-le+(this._hi-me))+nt))+(le=(Kt=Wt-xt+(this._lo-Kt))+(le+(st-U))),He=le+(U-Me);return this._hi=Me,this._lo=He,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfMultiply(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfMultiply(r,0)}}else if(arguments.length===2){var u,p,y=arguments[0],k=arguments[1],S=null,M=null,U=null,nt=null;S=(U=c.SPLIT*this._hi)-this._hi,nt=c.SPLIT*y,S=U-S,u=this._hi-S,M=nt-y;var st=(U=this._hi*y)+(nt=S*(M=nt-M)-U+S*(p=y-M)+u*M+u*p+(this._hi*k+this._lo*y)),xt=nt+(S=U-st);return this._hi=st,this._lo=xt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return c.NaN;var n=Math.floor(this._hi),r=0;return n===this._hi&&(r=Math.floor(this._lo)),new c(n,r)}},{key:"negate",value:function(){return this.isNaN()?this:new c(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return null;throw n}}},{key:"multiply",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return n.isNaN()?c.createNaN():c.copy(this).selfMultiply(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return ut.isNaN(r)?c.createNaN():c.copy(this).selfMultiply(r,0)}}},{key:"isNaN",value:function(){return ut.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var n=c.magnitude(this._hi);return n>=-3&&n<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),u=this.extractSignificantDigits(!0,r),p=r[0]+1,y=u;if(u.charAt(0)===".")y="0"+u;else if(p<0)y="0."+c.stringOfChar("0",-p)+u;else if(u.indexOf(".")===-1){var k=p-u.length;y=u+c.stringOfChar("0",k)+".0"}return this.isNegative()?"-"+y:y}},{key:"reciprocal",value:function(){var n,r,u,p,y=null,k=null,S=null,M=null;n=(u=1/this._hi)-(y=(S=c.SPLIT*u)-(y=S-u)),k=(M=c.SPLIT*this._hi)-this._hi;var U=u+(S=(1-(p=u*this._hi)-(M=y*(k=M-k)-p+y*(r=this._hi-k)+n*k+n*r)-u*this._lo)/this._hi);return new c(U,u-U+S)}},{key:"toSciNotation",value:function(){if(this.isZero())return c.SCI_NOT_ZERO;var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),u=this.extractSignificantDigits(!1,r),p=c.SCI_NOT_EXPONENT_CHAR+r[0];if(u.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+u);var y="";u.length>1&&(y=u.substring(1));var k=u.charAt(0)+"."+y;return this.isNegative()?"-"+k+p:k+p}},{key:"abs",value:function(){return this.isNaN()?c.NaN:this.isNegative()?this.negate():new c(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<n._lo}},{key:"add",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return c.copy(this).selfAdd(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return c.copy(this).selfAdd(r)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this._hi=n,this._lo=0}else if(arguments[0]instanceof c){var r=arguments[0];this._hi=r._hi,this._lo=r._lo}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this._hi=u,this._lo=p}}},{key:"gt",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>n._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?c.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[X,$,it]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}else if(typeof arguments[0]=="string"){var u=arguments[0];c.constructor_.call(this,c.parse(u))}}else if(arguments.length===2){var p=arguments[0],y=arguments[1];this.init(p,y)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],u=arguments[2],p=arguments[3];return c.determinant(c.valueOf(n),c.valueOf(r),c.valueOf(u),c.valueOf(p))}if(arguments[3]instanceof c&&arguments[2]instanceof c&&arguments[0]instanceof c&&arguments[1]instanceof c){var y=arguments[1],k=arguments[2],S=arguments[3];return arguments[0].multiply(S).selfSubtract(y.multiply(k))}}},{key:"sqr",value:function(n){return c.valueOf(n).selfMultiply(n)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var n=arguments[0];return c.parse(n)}if(typeof arguments[0]=="number")return new c(arguments[0])}},{key:"sqrt",value:function(n){return c.valueOf(n).sqrt()}},{key:"parse",value:function(n){for(var r=0,u=n.length;Qt.isWhitespace(n.charAt(r));)r++;var p=!1;if(r<u){var y=n.charAt(r);y!=="-"&&y!=="+"||(r++,y==="-"&&(p=!0))}for(var k=new c,S=0,M=0,U=0,nt=!1;!(r>=u);){var st=n.charAt(r);if(r++,Qt.isDigit(st)){var xt=st-"0";k.selfMultiply(c.TEN),k.selfAdd(xt),S++}else{if(st!=="."){if(st==="e"||st==="E"){var Bt=n.substring(r);try{U=Gt.parseInt(Bt)}catch(Me){throw Me instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Bt+" in string "+n):Me}break}throw new NumberFormatException("Unexpected character '"+st+"' at position "+r+" in string "+n)}M=S,nt=!0}}var Wt=k;nt||(M=S);var Kt=S-M-U;if(Kt===0)Wt=k;else if(Kt>0){var me=c.TEN.pow(Kt);Wt=k.divide(me)}else if(Kt<0){var le=c.TEN.pow(-Kt);Wt=k.multiply(le)}return p?Wt.negate():Wt}},{key:"createNaN",value:function(){return new c(ut.NaN,ut.NaN)}},{key:"copy",value:function(n){return new c(n)}},{key:"magnitude",value:function(n){var r=Math.abs(n),u=Math.log(r)/Math.log(10),p=Math.trunc(Math.floor(u));return 10*Math.pow(10,p)<=r&&(p+=1),p}},{key:"stringOfChar",value:function(n,r){for(var u=new ft,p=0;p<r;p++)u.append(n);return u.toString()}}])}();Ot.PI=new Ot(3.141592653589793,12246467991473532e-32),Ot.TWO_PI=new Ot(6.283185307179586,24492935982947064e-32),Ot.PI_2=new Ot(1.5707963267948966,6123233995736766e-32),Ot.E=new Ot(2.718281828459045,14456468917292502e-32),Ot.NaN=new Ot(ut.NaN,ut.NaN),Ot.EPS=123259516440783e-46,Ot.SPLIT=134217729,Ot.MAX_PRINT_DIGITS=32,Ot.TEN=Ot.valueOf(10),Ot.ONE=Ot.valueOf(1),Ot.SCI_NOT_EXPONENT_CHAR="E",Ot.SCI_NOT_ZERO="0.0E0";var Ve=function(){function c(){i(this,c)}return d(c,null,[{key:"orientationIndex",value:function(n,r,u){var p=c.orientationIndexFilter(n,r,u);if(p<=1)return p;var y=Ot.valueOf(r.x).selfAdd(-n.x),k=Ot.valueOf(r.y).selfAdd(-n.y),S=Ot.valueOf(u.x).selfAdd(-r.x),M=Ot.valueOf(u.y).selfAdd(-r.y);return y.selfMultiply(M).selfSubtract(k.selfMultiply(S)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Ot&&arguments[2]instanceof Ot&&arguments[0]instanceof Ot&&arguments[1]instanceof Ot){var n=arguments[1],r=arguments[2],u=arguments[3];return arguments[0].multiply(u).selfSubtract(n.multiply(r)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],y=arguments[1],k=arguments[2],S=arguments[3],M=Ot.valueOf(p),U=Ot.valueOf(y),nt=Ot.valueOf(k),st=Ot.valueOf(S);return M.multiply(st).selfSubtract(U.multiply(nt)).signum()}}},{key:"intersection",value:function(n,r,u,p){var y=new Ot(n.y).selfSubtract(r.y),k=new Ot(r.x).selfSubtract(n.x),S=new Ot(n.x).selfMultiply(r.y).selfSubtract(new Ot(r.x).selfMultiply(n.y)),M=new Ot(u.y).selfSubtract(p.y),U=new Ot(p.x).selfSubtract(u.x),nt=new Ot(u.x).selfMultiply(p.y).selfSubtract(new Ot(p.x).selfMultiply(u.y)),st=k.multiply(nt).selfSubtract(U.multiply(S)),xt=M.multiply(S).selfSubtract(y.multiply(nt)),Bt=y.multiply(U).selfSubtract(M.multiply(k)),Wt=st.selfDivide(Bt).doubleValue(),Kt=xt.selfDivide(Bt).doubleValue();return ut.isNaN(Wt)||ut.isInfinite(Wt)||ut.isNaN(Kt)||ut.isInfinite(Kt)?null:new G(Wt,Kt)}},{key:"orientationIndexFilter",value:function(n,r,u){var p=null,y=(n.x-u.x)*(r.y-u.y),k=(n.y-u.y)*(r.x-u.x),S=y-k;if(y>0){if(k<=0)return c.signum(S);p=y+k}else{if(!(y<0)||k>=0)return c.signum(S);p=-y-k}var M=c.DP_SAFE_EPSILON*p;return S>=M||-S>=M?c.signum(S):2}},{key:"signum",value:function(n){return n>0?1:n<0?-1:0}}])}();Ve.DP_SAFE_EPSILON=1e-15;var jt=function(){return d(function c(){i(this,c)},[{key:"getM",value:function(c){if(this.hasM()){var n=this.getDimension()-this.getMeasures();return this.getOrdinate(c,n)}return ut.NaN}},{key:"setOrdinate",value:function(c,n,r){}},{key:"getZ",value:function(c){return this.hasZ()?this.getOrdinate(c,2):ut.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(c,n){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(c){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(c){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(c){}},{key:"copy",value:function(){}},{key:"getY",value:function(c){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[it]}}])}();jt.X=0,jt.Y=1,jt.Z=2,jt.M=3;var Yt=function(){function c(){i(this,c)}return d(c,null,[{key:"index",value:function(n,r,u){return Ve.orientationIndex(n,r,u)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var n=arguments[0],r=n.length-1;if(r<3)throw new H("Ring has fewer than 4 points, so orientation cannot be determined");for(var u=n[0],p=0,y=1;y<=r;y++){var k=n[y];k.y>u.y&&(u=k,p=y)}var S=p;do(S-=1)<0&&(S=r);while(n[S].equals2D(u)&&S!==p);var M=p;do M=(M+1)%r;while(n[M].equals2D(u)&&M!==p);var U=n[S],nt=n[M];if(U.equals2D(u)||nt.equals2D(u)||U.equals2D(nt))return!1;var st=c.index(U,u,nt);return st===0?U.x>nt.x:st>0}if(Y(arguments[0],jt)){var xt=arguments[0],Bt=xt.size()-1;if(Bt<3)throw new H("Ring has fewer than 4 points, so orientation cannot be determined");for(var Wt=xt.getCoordinate(0),Kt=0,me=1;me<=Bt;me++){var le=xt.getCoordinate(me);le.y>Wt.y&&(Wt=le,Kt=me)}var Me=null,He=Kt;do(He-=1)<0&&(He=Bt),Me=xt.getCoordinate(He);while(Me.equals2D(Wt)&&He!==Kt);var ln=null,Qi=Kt;do Qi=(Qi+1)%Bt,ln=xt.getCoordinate(Qi);while(ln.equals2D(Wt)&&Qi!==Kt);if(Me.equals2D(Wt)||ln.equals2D(Wt)||Me.equals2D(ln))return!1;var $s=c.index(Me,Wt,ln);return $s===0?Me.x>ln.x:$s>0}}}])}();Yt.CLOCKWISE=-1,Yt.RIGHT=Yt.CLOCKWISE,Yt.COUNTERCLOCKWISE=1,Yt.LEFT=Yt.COUNTERCLOCKWISE,Yt.COLLINEAR=0,Yt.STRAIGHT=Yt.COLLINEAR;var Pn=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(c,n){var r=this.getRightmostSideOfSegment(c,n);return r<0&&(r=this.getRightmostSideOfSegment(c,n-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(c)),r}},{key:"findRightmostEdgeAtVertex",value:function(){var c=this._minDe.getEdge().getCoordinates();Pt.isTrue(this._minIndex>0&&this._minIndex<c.length,"rightmost point expected to be interior vertex of edge");var n=c[this._minIndex-1],r=c[this._minIndex+1],u=Yt.index(this._minCoord,r,n),p=!1;(n.y<this._minCoord.y&&r.y<this._minCoord.y&&u===Yt.COUNTERCLOCKWISE||n.y>this._minCoord.y&&r.y>this._minCoord.y&&u===Yt.CLOCKWISE)&&(p=!0),p&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(c,n){var r=c.getEdge().getCoordinates();if(n<0||n+1>=r.length||r[n].y===r[n+1].y)return-1;var u=N.LEFT;return r[n].y<r[n+1].y&&(u=N.RIGHT),u}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(c){for(var n=c.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(this._minCoord===null||n[r].x>this._minCoord.x)&&(this._minDe=c,this._minIndex=r,this._minCoord=n[r])}},{key:"findRightmostEdgeAtNode",value:function(){var c=this._minDe.getNode().getEdges();this._minDe=c.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();r.isForward()&&this.checkForRightmostCoordinate(r)}Pt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===N.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),fn=function(c){function n(r,u){var p;return i(this,n),(p=a(this,n,[u?r+" [ "+u+" ]":r])).pt=u?new G(u):void 0,p.name=Object.keys({TopologyException:n})[0],p}return b(n,c),d(n,[{key:"getCoordinate",value:function(){return this.pt}}])}(Ut),Gr=function(){return d(function c(){i(this,c),this.array=[]},[{key:"addLast",value:function(c){this.array.push(c)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),qt=function(c){function n(r){var u;return i(this,n),(u=a(this,n)).array=[],r instanceof V&&u.addAll(r),u}return b(n,c),d(n,[{key:"interfaces_",get:function(){return[Dt,V]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(r){return arguments.length===1?this.array.push(r):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(r){var u,p=m(r);try{for(p.s();!(u=p.n()).done;){var y=u.value;this.array.push(y)}}catch(k){p.e(k)}finally{p.f()}}},{key:"set",value:function(r,u){var p=this.array[r];return this.array[r]=u,p}},{key:"iterator",value:function(){return new Zn(this)}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new at;return this.array[r]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(r){r?this.array.sort(function(u,p){return r.compare(u,p)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(r){for(var u=0,p=this.array.length;u<p;u++)if(this.array[u]===r)return!!this.array.splice(u,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(Dt),Zn=function(){return d(function c(n){i(this,c),this.arrayList=n,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new K;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(c){return this.arrayList.set(this.position-1,c)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),qi=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();)c.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(c){for(var n=null,r=c.getEdges().iterator();r.hasNext();){var u=r.next();if(u.isVisited()||u.getSym().isVisited()){n=u;break}}if(n===null)throw new fn("unable to find edge to compute depths at "+c.getCoordinate());c.getEdges().computeDepths(n);for(var p=c.getEdges().iterator();p.hasNext();){var y=p.next();y.setVisited(!0),this.copySymDepths(y)}}},{key:"computeDepth",value:function(c){this.clearVisitedEdges();var n=this._finder.getEdge();n.getNode(),n.getLabel(),n.setEdgeDepths(N.RIGHT,c),this.copySymDepths(n),this.computeDepths(n)}},{key:"create",value:function(c){this.addReachable(c),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();){var n=c.next();n.getDepth(N.RIGHT)>=1&&n.getDepth(N.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}}},{key:"computeDepths",value:function(c){var n=new pt,r=new Gr,u=c.getNode();for(r.addLast(u),n.add(u),c.setVisited(!0);!r.isEmpty();){var p=r.removeFirst();n.add(p),this.computeNodeDepth(p);for(var y=p.getEdges().iterator();y.hasNext();){var k=y.next().getSym();if(!k.isVisited()){var S=k.getNode();n.contains(S)||(r.addLast(S),n.add(S))}}}}},{key:"compareTo",value:function(c){var n=c;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var c=new St,n=this._dirEdgeList.iterator();n.hasNext();)for(var r=n.next().getEdge().getCoordinates(),u=0;u<r.length-1;u++)c.expandToInclude(r[u]);this._env=c}return this._env}},{key:"addReachable",value:function(c){var n=new kt;for(n.add(c);!n.empty();){var r=n.pop();this.add(r,n)}}},{key:"copySymDepths",value:function(c){var n=c.getSym();n.setDepth(N.LEFT,c.getDepth(N.RIGHT)),n.setDepth(N.RIGHT,c.getDepth(N.LEFT))}},{key:"add",value:function(c,n){c.setVisited(!0),this._nodes.add(c);for(var r=c.getEdges().iterator();r.hasNext();){var u=r.next();this._dirEdgeList.add(u);var p=u.getSym().getNode();p.isVisited()||n.push(p)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[$]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new qt,this._nodes=new qt,this._rightMostCoord=null,this._env=null,this._finder=new Pn}}])}(),ya=function(){return d(function c(){i(this,c)},null,[{key:"intersection",value:function(c,n,r,u){var p=c.x<n.x?c.x:n.x,y=c.y<n.y?c.y:n.y,k=c.x>n.x?c.x:n.x,S=c.y>n.y?c.y:n.y,M=r.x<u.x?r.x:u.x,U=r.y<u.y?r.y:u.y,nt=r.x>u.x?r.x:u.x,st=r.y>u.y?r.y:u.y,xt=((p>M?p:M)+(k<nt?k:nt))/2,Bt=((y>U?y:U)+(S<st?S:st))/2,Wt=c.x-xt,Kt=c.y-Bt,me=n.x-xt,le=n.y-Bt,Me=r.x-xt,He=r.y-Bt,ln=u.x-xt,Qi=u.y-Bt,$s=Kt-le,bi=me-Wt,qa=Wt*le-me*Kt,Wa=He-Qi,Qr=ln-Me,cu=Me*Qi-ln*He,Us=$s*Qr-Wa*bi,Lr=(bi*cu-Qr*qa)/Us,Ao=(Wa*qa-$s*cu)/Us;return ut.isNaN(Lr)||ut.isInfinite(Lr)||ut.isNaN(Ao)||ut.isInfinite(Ao)?null:new G(Lr+xt,Ao+Bt)}}])}(),Yn=function(){return d(function c(){i(this,c)},null,[{key:"arraycopy",value:function(c,n,r,u,p){for(var y=0,k=n;k<n+p;k++)r[u+y]=c[k],y++}},{key:"getProperty",value:function(c){return{"line.separator":`
`}[c]}}])}(),Vr=function(){function c(){i(this,c)}return d(c,null,[{key:"log10",value:function(n){var r=Math.log(n);return ut.isInfinite(r)||ut.isNaN(r)?r:r/c.LOG_10}},{key:"min",value:function(n,r,u,p){var y=n;return r<y&&(y=r),u<y&&(y=u),p<y&&(y=p),y}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],u=arguments[2];return n<r?r:n>u?u:n}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],y=arguments[1],k=arguments[2];return p<y?y:p>k?k:p}}},{key:"wrap",value:function(n,r){return n<0?r- -n%r:n%r}},{key:"max",value:function(){if(arguments.length===3){var n=arguments[1],r=arguments[2],u=arguments[0];return n>u&&(u=n),r>u&&(u=r),u}if(arguments.length===4){var p=arguments[1],y=arguments[2],k=arguments[3],S=arguments[0];return p>S&&(S=p),y>S&&(S=y),k>S&&(S=k),S}}},{key:"average",value:function(n,r){return(n+r)/2}}])}();Vr.LOG_10=Math.log(10);var ri=function(){function c(){i(this,c)}return d(c,null,[{key:"segmentToSegment",value:function(n,r,u,p){if(n.equals(r))return c.pointToSegment(n,u,p);if(u.equals(p))return c.pointToSegment(p,n,r);var y=!1;if(St.intersects(n,r,u,p)){var k=(r.x-n.x)*(p.y-u.y)-(r.y-n.y)*(p.x-u.x);if(k===0)y=!0;else{var S=(n.y-u.y)*(p.x-u.x)-(n.x-u.x)*(p.y-u.y),M=((n.y-u.y)*(r.x-n.x)-(n.x-u.x)*(r.y-n.y))/k,U=S/k;(U<0||U>1||M<0||M>1)&&(y=!0)}}else y=!0;return y?Vr.min(c.pointToSegment(n,u,p),c.pointToSegment(r,u,p),c.pointToSegment(u,n,r),c.pointToSegment(p,n,r)):0}},{key:"pointToSegment",value:function(n,r,u){if(r.x===u.x&&r.y===u.y)return n.distance(r);var p=(u.x-r.x)*(u.x-r.x)+(u.y-r.y)*(u.y-r.y),y=((n.x-r.x)*(u.x-r.x)+(n.y-r.y)*(u.y-r.y))/p;if(y<=0)return n.distance(r);if(y>=1)return n.distance(u);var k=((r.y-n.y)*(u.x-r.x)-(r.x-n.x)*(u.y-r.y))/p;return Math.abs(k)*Math.sqrt(p)}},{key:"pointToLinePerpendicular",value:function(n,r,u){var p=(u.x-r.x)*(u.x-r.x)+(u.y-r.y)*(u.y-r.y),y=((r.y-n.y)*(u.x-r.x)-(r.x-n.x)*(u.y-r.y))/p;return Math.abs(y)*Math.sqrt(p)}},{key:"pointToSegmentString",value:function(n,r){if(r.length===0)throw new H("Line array must contain at least one vertex");for(var u=n.distance(r[0]),p=0;p<r.length-1;p++){var y=c.pointToSegment(n,r[p],r[p+1]);y<u&&(u=y)}return u}}])}(),ba=function(){return d(function c(){i(this,c)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Y(arguments[0],jt);else if(arguments.length!==2){if(arguments.length===3){var c=arguments[0],n=arguments[1];return this.create(c,n)}}}}])}(),fo=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}(),Kc=function(){return d(function c(){i(this,c)},null,[{key:"ofLine",value:function(c){var n=c.size();if(n<=1)return 0;var r=0,u=new G;c.getCoordinate(0,u);for(var p=u.x,y=u.y,k=1;k<n;k++){c.getCoordinate(k,u);var S=u.x,M=u.y,U=S-p,nt=M-y;r+=Math.sqrt(U*U+nt*nt),p=S,y=M}return r}}])}(),Wl=d(function c(){i(this,c)}),mr=function(){function c(){i(this,c)}return d(c,null,[{key:"copyCoord",value:function(n,r,u,p){for(var y=Math.min(n.getDimension(),u.getDimension()),k=0;k<y;k++)u.setOrdinate(p,k,n.getOrdinate(r,k))}},{key:"isRing",value:function(n){var r=n.size();return r===0||!(r<=3)&&n.getOrdinate(0,jt.X)===n.getOrdinate(r-1,jt.X)&&n.getOrdinate(0,jt.Y)===n.getOrdinate(r-1,jt.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Y(arguments[0],jt)&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1];c.scroll(n,r,c.isRing(n))}else if(Y(arguments[0],jt)&&arguments[1]instanceof G){var u=arguments[0],p=arguments[1],y=c.indexOf(p,u);if(y<=0)return null;c.scroll(u,y)}}else if(arguments.length===3){var k=arguments[0],S=arguments[1],M=arguments[2];if(S<=0)return null;for(var U=k.copy(),nt=M?k.size()-1:k.size(),st=0;st<nt;st++)for(var xt=0;xt<k.getDimension();xt++)k.setOrdinate(st,xt,U.getOrdinate((S+st)%nt,xt));if(M)for(var Bt=0;Bt<k.getDimension();Bt++)k.setOrdinate(nt,Bt,k.getOrdinate(0,Bt))}}},{key:"isEqual",value:function(n,r){var u=n.size();if(u!==r.size())return!1;for(var p=Math.min(n.getDimension(),r.getDimension()),y=0;y<u;y++)for(var k=0;k<p;k++){var S=n.getOrdinate(y,k),M=r.getOrdinate(y,k);if(n.getOrdinate(y,k)!==r.getOrdinate(y,k)&&(!ut.isNaN(S)||!ut.isNaN(M)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var n=arguments[0];return c.minCoordinateIndex(n,0,n.size()-1)}if(arguments.length===3){for(var r=arguments[0],u=arguments[2],p=-1,y=null,k=arguments[1];k<=u;k++){var S=r.getCoordinate(k);(y===null||y.compareTo(S)>0)&&(y=S,p=k)}return p}}},{key:"extend",value:function(n,r,u){var p=n.create(u,r.getDimension()),y=r.size();if(c.copy(r,0,p,0,y),y>0)for(var k=y;k<u;k++)c.copy(r,y-1,p,k,1);return p}},{key:"reverse",value:function(n){for(var r=n.size()-1,u=Math.trunc(r/2),p=0;p<=u;p++)c.swap(n,p,r-p)}},{key:"swap",value:function(n,r,u){if(r===u)return null;for(var p=0;p<n.getDimension();p++){var y=n.getOrdinate(r,p);n.setOrdinate(r,p,n.getOrdinate(u,p)),n.setOrdinate(u,p,y)}}},{key:"copy",value:function(n,r,u,p,y){for(var k=0;k<y;k++)c.copyCoord(n,r+k,u,p+k)}},{key:"ensureValidRing",value:function(n,r){var u=r.size();return u===0?r:u<=3?c.createClosedRing(n,r,4):r.getOrdinate(0,jt.X)===r.getOrdinate(u-1,jt.X)&&r.getOrdinate(0,jt.Y)===r.getOrdinate(u-1,jt.Y)?r:c.createClosedRing(n,r,u+1)}},{key:"indexOf",value:function(n,r){for(var u=0;u<r.size();u++)if(n.x===r.getOrdinate(u,jt.X)&&n.y===r.getOrdinate(u,jt.Y))return u;return-1}},{key:"createClosedRing",value:function(n,r,u){var p=n.create(u,r.getDimension()),y=r.size();c.copy(r,0,p,0,y);for(var k=y;k<u;k++)c.copy(r,0,p,k,1);return p}},{key:"minCoordinate",value:function(n){for(var r=null,u=0;u<n.size();u++){var p=n.getCoordinate(u);(r===null||r.compareTo(p)>0)&&(r=p)}return r}}])}(),Rt=function(){function c(){i(this,c)}return d(c,null,[{key:"toDimensionSymbol",value:function(n){switch(n){case c.FALSE:return c.SYM_FALSE;case c.TRUE:return c.SYM_TRUE;case c.DONTCARE:return c.SYM_DONTCARE;case c.P:return c.SYM_P;case c.L:return c.SYM_L;case c.A:return c.SYM_A}throw new H("Unknown dimension value: "+n)}},{key:"toDimensionValue",value:function(n){switch(Qt.toUpperCase(n)){case c.SYM_FALSE:return c.FALSE;case c.SYM_TRUE:return c.TRUE;case c.SYM_DONTCARE:return c.DONTCARE;case c.SYM_P:return c.P;case c.SYM_L:return c.L;case c.SYM_A:return c.A}throw new H("Unknown dimension symbol: "+n)}}])}();Rt.P=0,Rt.L=1,Rt.A=2,Rt.FALSE=-1,Rt.TRUE=-2,Rt.DONTCARE=-3,Rt.SYM_FALSE="F",Rt.SYM_TRUE="T",Rt.SYM_DONTCARE="*",Rt.SYM_P="0",Rt.SYM_L="1",Rt.SYM_A="2";var po=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}(),Hr=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c,n){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),Cs=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new St:this._points.expandEnvelope(new St)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof It){var r=arguments[0],u=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._points.size()!==p._points.size())return!1;for(var y=0;y<this._points.size();y++)if(!this.equal(this._points.getCoordinate(y),p._points.getCoordinate(y),u))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<Math.trunc(this._points.size()/2);r++){var u=this._points.size()-1-r;if(!this._points.getCoordinate(r).equals(this._points.getCoordinate(u))){if(this._points.getCoordinate(r).compareTo(this._points.getCoordinate(u))>0){var p=this._points.copy();mr.reverse(p),this._points=p}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Rt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var r=this._points.copy();return mr.reverse(r),this.getFactory().createLineString(r)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return It.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Kc.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var r=arguments[0],u=0,p=0;u<this._points.size()&&p<r._points.size();){var y=this._points.getCoordinate(u).compareTo(r._points.getCoordinate(p));if(y!==0)return y;u++,p++}return u<this._points.size()?1:p<r._points.size()?-1:0}if(arguments.length===2){var k=arguments[0];return arguments[1].compare(this._points,k._points)}}},{key:"apply",value:function(){if(Y(arguments[0],fo))for(var r=arguments[0],u=0;u<this._points.size();u++)r.filter(this._points.getCoordinate(u));else if(Y(arguments[0],Hr)){var p=arguments[0];if(this._points.size()===0)return null;for(var y=0;y<this._points.size()&&(p.filter(this._points,y),!p.isDone());y++);p.isGeometryChanged()&&this.geometryChanged()}else Y(arguments[0],po)?arguments[0].filter(this):Y(arguments[0],q)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new ct}},{key:"isEquivalentClass",value:function(r){return r instanceof n}},{key:"getCoordinateN",value:function(r){return this._points.getCoordinate(r)}},{key:"getGeometryType",value:function(){return It.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new H("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r}},{key:"isCoordinate",value:function(r){for(var u=0;u<this._points.size();u++)if(this._points.getCoordinate(u).equals(r))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))}},{key:"interfaces_",get:function(){return[Wl]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],u=arguments[1];It.constructor_.call(this,u),this.init(r)}}}}])}(It),Zl=d(function c(){i(this,c)}),wa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new St;var r=new St;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof It){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&(!(!this.isEmpty()||!r.isEmpty())||this.isEmpty()===r.isEmpty()&&this.equal(r.getCoordinate(),this.getCoordinate(),u))}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Rt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return It.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0];return this.getCoordinate().compareTo(r.getCoordinate())}if(arguments.length===2){var u=arguments[0];return arguments[1].compare(this._coordinates,u._coordinates)}}},{key:"apply",value:function(){if(Y(arguments[0],fo)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(Y(arguments[0],Hr)){var u=arguments[0];if(this.isEmpty())return null;u.filter(this._coordinates,0),u.isGeometryChanged()&&this.geometryChanged()}else Y(arguments[0],po)?arguments[0].filter(this):Y(arguments[0],q)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return It.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),Pt.isTrue(r.size()<=1),this._coordinates=r}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Zl]}}],[{key:"constructor_",value:function(){this._coordinates=null;var r=arguments[0],u=arguments[1];It.constructor_.call(this,u),this.init(r)}}])}(It),Yl=function(){function c(){i(this,c)}return d(c,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];return Math.abs(c.ofRingSigned(n))}if(Y(arguments[0],jt)){var r=arguments[0];return Math.abs(c.ofRingSigned(r))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];if(n.length<3)return 0;for(var r=0,u=n[0].x,p=1;p<n.length-1;p++){var y=n[p].x-u,k=n[p+1].y;r+=y*(n[p-1].y-k)}return r/2}if(Y(arguments[0],jt)){var S=arguments[0],M=S.size();if(M<3)return 0;var U=new G,nt=new G,st=new G;S.getCoordinate(0,nt),S.getCoordinate(1,st);var xt=nt.x;st.x-=xt;for(var Bt=0,Wt=1;Wt<M-1;Wt++)U.y=nt.y,nt.x=st.x,nt.y=st.y,S.getCoordinate(Wt+1,st),st.x-=xt,Bt+=nt.x*(U.y-st.y);return Bt/2}}}])}(),dn=function(){return d(function c(){i(this,c)},null,[{key:"sort",value:function(){var c=arguments,n=arguments[0];if(arguments.length===1)n.sort(function(xt,Bt){return xt.compareTo(Bt)});else if(arguments.length===2)n.sort(function(xt,Bt){return c[1].compare(xt,Bt)});else if(arguments.length===3){var r=n.slice(arguments[1],arguments[2]);r.sort();var u=n.slice(0,arguments[1]).concat(r,n.slice(arguments[2],n.length));n.splice(0,n.length);var p,y=m(u);try{for(y.s();!(p=y.n()).done;){var k=p.value;n.push(k)}}catch(xt){y.e(xt)}finally{y.f()}}else if(arguments.length===4){var S=n.slice(arguments[1],arguments[2]);S.sort(function(xt,Bt){return c[3].compare(xt,Bt)});var M=n.slice(0,arguments[1]).concat(S,n.slice(arguments[2],n.length));n.splice(0,n.length);var U,nt=m(M);try{for(nt.s();!(U=nt.n()).done;){var st=U.value;n.push(st)}}catch(xt){nt.e(xt)}finally{nt.f()}}}},{key:"asList",value:function(c){var n,r=new qt,u=m(c);try{for(u.s();!(n=u.n()).done;){var p=n.value;r.add(p)}}catch(y){u.e(y)}finally{u.f()}return r}},{key:"copyOf",value:function(c,n){return c.slice(0,n)}}])}(),Xt=d(function c(){i(this,c)}),Ss=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var r=new Array(this.getNumPoints()).fill(null),u=-1,p=this._shell.getCoordinates(),y=0;y<p.length;y++)r[++u]=p[y];for(var k=0;k<this._holes.length;k++)for(var S=this._holes[k].getCoordinates(),M=0;M<S.length;M++)r[++u]=S[M];return r}},{key:"getArea",value:function(){var r=0;r+=Yl.ofRing(this._shell.getCoordinateSequence());for(var u=0;u<this._holes.length;u++)r-=Yl.ofRing(this._holes[u].getCoordinateSequence());return r}},{key:"copyInternal",value:function(){for(var r=this._shell.copy(),u=new Array(this._holes.length).fill(null),p=0;p<this._holes.length;p++)u[p]=this._holes[p].copy();return new n(r,u,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),u=this.getEnvelopeInternal(),p=0;p<5;p++){var y=r.getX(p);if(y!==u.getMinX()&&y!==u.getMaxX())return!1;var k=r.getY(p);if(k!==u.getMinY()&&k!==u.getMaxY())return!1}for(var S=r.getX(0),M=r.getY(0),U=1;U<=4;U++){var nt=r.getX(U),st=r.getY(U);if(nt!==S==(st!==M))return!1;S=nt,M=st}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof It){var r=arguments[0],u=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r,y=this._shell,k=p._shell;if(!y.equalsExact(k,u)||this._holes.length!==p._holes.length)return!1;for(var S=0;S<this._holes.length;S++)if(!this._holes[S].equalsExact(p._holes[S],u))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var r=0;r<this._holes.length;r++)this._holes[r]=this.normalized(this._holes[r],!1);dn.sort(this._holes)}else if(arguments.length===2){var u=arguments[0],p=arguments[1];if(u.isEmpty())return null;var y=u.getCoordinateSequence(),k=mr.minCoordinateIndex(y,0,y.size()-2);mr.scroll(y,k,!0),Yt.isCCW(y)===p&&mr.reverse(y)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var r=this.getExteriorRing().reverse(),u=new Array(this.getNumInteriorRing()).fill(null),p=0;p<u.length;p++)u[p]=this.getInteriorRingN(p).reverse();return this.getFactory().createPolygon(r,u)}},{key:"getTypeCode",value:function(){return It.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var r=0;r+=this._shell.getLength();for(var u=0;u<this._holes.length;u++)r+=this._holes[u].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=this._shell.getNumPoints(),u=0;u<this._holes.length;u++)r+=this._holes[u].getNumPoints();return r}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(r,u){var p=r.copy();return this.normalize(p,u),p}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],u=this._shell,p=r._shell;return u.compareToSameClass(p)}if(arguments.length===2){var y=arguments[1],k=arguments[0],S=this._shell,M=k._shell,U=S.compareToSameClass(M,y);if(U!==0)return U;for(var nt=this.getNumInteriorRing(),st=k.getNumInteriorRing(),xt=0;xt<nt&&xt<st;){var Bt=this.getInteriorRingN(xt),Wt=k.getInteriorRingN(xt),Kt=Bt.compareToSameClass(Wt,y);if(Kt!==0)return Kt;xt++}return xt<nt?1:xt<st?-1:0}}},{key:"apply",value:function(){if(Y(arguments[0],fo)){var r=arguments[0];this._shell.apply(r);for(var u=0;u<this._holes.length;u++)this._holes[u].apply(r)}else if(Y(arguments[0],Hr)){var p=arguments[0];if(this._shell.apply(p),!p.isDone())for(var y=0;y<this._holes.length&&(this._holes[y].apply(p),!p.isDone());y++);p.isGeometryChanged()&&this.geometryChanged()}else if(Y(arguments[0],po))arguments[0].filter(this);else if(Y(arguments[0],q)){var k=arguments[0];k.filter(this),this._shell.apply(k);for(var S=0;S<this._holes.length;S++)this._holes[S].apply(k)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var r=new Array(this._holes.length+1).fill(null);r[0]=this._shell;for(var u=0;u<this._holes.length;u++)r[u+1]=this._holes[u];return r.length<=1?this.getFactory().createLinearRing(r[0].getCoordinateSequence()):this.getFactory().createMultiLineString(r)}},{key:"getGeometryType",value:function(){return It.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(r){return this._holes[r]}},{key:"interfaces_",get:function(){return[Xt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var r=arguments[0],u=arguments[1],p=arguments[2];if(It.constructor_.call(this,p),r===null&&(r=this.getFactory().createLinearRing()),u===null&&(u=[]),It.hasNullElements(u))throw new H("holes must not contain null elements");if(r.isEmpty()&&It.hasNonEmptyElements(u))throw new H("shell is empty but holes are not");this._shell=r,this._holes=u}}])}(It),jl=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n)}(gt),La=function(c){function n(r){var u;return i(this,n),(u=a(this,n)).array=[],r instanceof V&&u.addAll(r),u}return b(n,c),d(n,[{key:"contains",value:function(r){var u,p=m(this.array);try{for(p.s();!(u=p.n()).done;)if(u.value.compareTo(r)===0)return!0}catch(y){p.e(y)}finally{p.f()}return!1}},{key:"add",value:function(r){if(this.contains(r))return!1;for(var u=0,p=this.array.length;u<p;u++)if(this.array[u].compareTo(r)===1)return!!this.array.splice(u,0,r);return this.array.push(r),!0}},{key:"addAll",value:function(r){var u,p=m(r);try{for(p.s();!(u=p.n()).done;){var y=u.value;this.add(y)}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new ct}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Xl(this.array)}}])}(jl),Xl=function(){return d(function c(n){i(this,c),this.array=n,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new K;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new ct}}])}(),bn=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){for(var r=new St,u=0;u<this._geometries.length;u++)r.expandToInclude(this._geometries[u].getEnvelopeInternal());return r}},{key:"getGeometryN",value:function(r){return this._geometries[r]}},{key:"getCoordinates",value:function(){for(var r=new Array(this.getNumPoints()).fill(null),u=-1,p=0;p<this._geometries.length;p++)for(var y=this._geometries[p].getCoordinates(),k=0;k<y.length;k++)r[++u]=y[k];return r}},{key:"getArea",value:function(){for(var r=0,u=0;u<this._geometries.length;u++)r+=this._geometries[u].getArea();return r}},{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof It){var r=arguments[0],u=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._geometries.length!==p._geometries.length)return!1;for(var y=0;y<this._geometries.length;y++)if(!this._geometries[y].equalsExact(p._geometries[y],u))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<this._geometries.length;r++)this._geometries[r].normalize();dn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var r=Rt.FALSE,u=0;u<this._geometries.length;u++)r=Math.max(r,this._geometries[u].getBoundaryDimension());return r}},{key:"reverseInternal",value:function(){for(var r=this._geometries.length,u=new qt(r),p=0;p<r;p++)u.add(this._geometries[p].reverse());return this.getFactory().buildGeometry(u)}},{key:"getTypeCode",value:function(){return It.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var r=Rt.FALSE,u=0;u<this._geometries.length;u++)r=Math.max(r,this._geometries[u].getDimension());return r}},{key:"getLength",value:function(){for(var r=0,u=0;u<this._geometries.length;u++)r+=this._geometries[u].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=0,u=0;u<this._geometries.length;u++)r+=this._geometries[u].getNumPoints();return r}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],u=new La(dn.asList(this._geometries)),p=new La(dn.asList(r._geometries));return this.compare(u,p)}if(arguments.length===2){for(var y=arguments[1],k=arguments[0],S=this.getNumGeometries(),M=k.getNumGeometries(),U=0;U<S&&U<M;){var nt=this.getGeometryN(U),st=k.getGeometryN(U),xt=nt.compareToSameClass(st,y);if(xt!==0)return xt;U++}return U<S?1:U<M?-1:0}}},{key:"apply",value:function(){if(Y(arguments[0],fo))for(var r=arguments[0],u=0;u<this._geometries.length;u++)this._geometries[u].apply(r);else if(Y(arguments[0],Hr)){var p=arguments[0];if(this._geometries.length===0)return null;for(var y=0;y<this._geometries.length&&(this._geometries[y].apply(p),!p.isDone());y++);p.isGeometryChanged()&&this.geometryChanged()}else if(Y(arguments[0],po)){var k=arguments[0];k.filter(this);for(var S=0;S<this._geometries.length;S++)this._geometries[S].apply(k)}else if(Y(arguments[0],q)){var M=arguments[0];M.filter(this);for(var U=0;U<this._geometries.length;U++)this._geometries[U].apply(M)}}},{key:"getBoundary",value:function(){return It.checkNotGeometryCollection(this),Pt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return It.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],u=arguments[1];if(It.constructor_.call(this,u),r===null&&(r=[]),It.hasNullElements(r))throw new H("geometries must not contain null elements");this._geometries=r}}}}])}(It),mo=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof It){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&I(n,"equalsExact",this,1).call(this,r,u)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var r=arguments[0];return this._geometries[r].getCoordinate()}return I(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Rt.FALSE}},{key:"getTypeCode",value:function(){return It.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return It.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Zl]}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];bn.constructor_.call(this,r,u)}}])}(bn),fi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Rt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||I(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var r=this._points.copy();return mr.reverse(r),this.getFactory().createLinearRing(r)}},{key:"getTypeCode",value:function(){return It.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!I(n,"isClosed",this,1).call(this))throw new H("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new H("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return It.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];Cs.constructor_.call(this,r,u),this.validateConstruction()}}])}(Cs);fi.MINIMUM_VALID_SIZE=4;var Wi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"setOrdinate",value:function(r,u){switch(r){case n.X:this.x=u;break;case n.Y:this.y=u;break;default:throw new H("Invalid ordinate index: "+r)}}},{key:"getZ",value:function(){return G.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y}throw new H("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new H("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)G.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];G.constructor_.call(this,r.x,r.y)}else if(arguments[0]instanceof G){var u=arguments[0];G.constructor_.call(this,u.x,u.y)}}else if(arguments.length===2){var p=arguments[0],y=arguments[1];G.constructor_.call(this,p,y,G.NULL_ORDINATE)}}}])}(G);Wi.X=0,Wi.Y=1,Wi.Z=-1,Wi.M=-1;var gr=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,u){switch(r){case n.X:this.x=u;break;case n.Y:this.y=u;break;case n.M:this._m=u;break;default:throw new H("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getZ",value:function(){return G.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new H("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new H("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)G.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];G.constructor_.call(this,r.x,r.y),this._m=r._m}else if(arguments[0]instanceof G){var u=arguments[0];G.constructor_.call(this,u.x,u.y),this._m=this.getM()}}else if(arguments.length===3){var p=arguments[0],y=arguments[1],k=arguments[2];G.constructor_.call(this,p,y,G.NULL_ORDINATE),this._m=k}}}])}(G);gr.X=0,gr.Y=1,gr.Z=-1,gr.M=2;var Ea=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,u){switch(r){case G.X:this.x=u;break;case G.Y:this.y=u;break;case G.Z:this.z=u;break;case G.M:this._m=u;break;default:throw new H("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getOrdinate",value:function(r){switch(r){case G.X:return this.x;case G.Y:return this.y;case G.Z:return this.getZ();case G.M:return this.getM()}throw new H("Invalid ordinate index: "+r)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)G.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];G.constructor_.call(this,r),this._m=r._m}else if(arguments[0]instanceof G){var u=arguments[0];G.constructor_.call(this,u),this._m=this.getM()}}else if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],S=arguments[3];G.constructor_.call(this,p,y,k),this._m=S}}}])}(G),go=function(){function c(){i(this,c)}return d(c,null,[{key:"measures",value:function(n){return n instanceof Wi?0:n instanceof gr||n instanceof Ea?1:0}},{key:"dimension",value:function(n){return n instanceof Wi?2:n instanceof gr?3:n instanceof Ea?4:3}},{key:"create",value:function(){if(arguments.length===1){var n=arguments[0];return c.create(n,0)}if(arguments.length===2){var r=arguments[0],u=arguments[1];return r===2?new Wi:r===3&&u===0?new G:r===3&&u===1?new gr:r===4&&u===1?new Ea:new G}}}])}(),Is=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getCoordinate",value:function(r){return this.get(r)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Y(arguments[0],V)){for(var r=arguments[1],u=!1,p=arguments[0].iterator();p.hasNext();)this.add(p.next(),r),u=!0;return u}return I(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var r=I(n,"clone",this,1).call(this),u=0;u<this.size();u++)r.add(u,this.get(u).clone());return r}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(n.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(n.coordArrayType);for(var r=this.size(),u=new Array(r).fill(null),p=0;p<r;p++)u[p]=this.get(r-p-1);return u}}},{key:"add",value:function(){if(arguments.length===1){var r=arguments[0];return I(n,"add",this,1).call(this,r)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var u=arguments[0],p=arguments[1];return this.add(u,p,!0),!0}if(arguments[0]instanceof G&&typeof arguments[1]=="boolean"){var y=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(y))return null;I(n,"add",this,1).call(this,y)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var k=arguments[0],S=arguments[1];return this.add(k,S),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var M=arguments[0],U=arguments[1];if(arguments[2])for(var nt=0;nt<M.length;nt++)this.add(M[nt],U);else for(var st=M.length-1;st>=0;st--)this.add(M[st],U);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof G){var xt=arguments[0],Bt=arguments[1];if(!arguments[2]){var Wt=this.size();if(Wt>0&&(xt>0&&this.get(xt-1).equals2D(Bt)||xt<Wt&&this.get(xt).equals2D(Bt)))return null}I(n,"add",this,1).call(this,xt,Bt)}}else if(arguments.length===4){var Kt=arguments[0],me=arguments[1],le=arguments[2],Me=arguments[3],He=1;le>Me&&(He=-1);for(var ln=le;ln!==Me;ln+=He)this.add(Kt[ln],me);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var r=this.get(0).copy();this.add(r,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.ensureCapacity(u.length),this.add(u,p)}}}}])}(qt);Is.coordArrayType=new Array(0).fill(null);var Xe=function(){function c(){i(this,c)}return d(c,null,[{key:"isRing",value:function(n){return!(n.length<4)&&!!n[0].equals2D(n[n.length-1])}},{key:"ptNotInList",value:function(n,r){for(var u=0;u<n.length;u++){var p=n[u];if(c.indexOf(p,r)<0)return p}return null}},{key:"scroll",value:function(n,r){var u=c.indexOf(r,n);if(u<0)return null;var p=new Array(n.length).fill(null);Yn.arraycopy(n,u,p,0,n.length-u),Yn.arraycopy(n,0,p,n.length-u,u),Yn.arraycopy(p,0,n,0,n.length)}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];if(n===r)return!0;if(n===null||r===null||n.length!==r.length)return!1;for(var u=0;u<n.length;u++)if(!n[u].equals(r[u]))return!1;return!0}if(arguments.length===3){var p=arguments[0],y=arguments[1],k=arguments[2];if(p===y)return!0;if(p===null||y===null||p.length!==y.length)return!1;for(var S=0;S<p.length;S++)if(k.compare(p[S],y[S])!==0)return!1;return!0}}},{key:"intersection",value:function(n,r){for(var u=new Is,p=0;p<n.length;p++)r.intersects(n[p])&&u.add(n[p],!0);return u.toCoordinateArray()}},{key:"measures",value:function(n){if(n===null||n.length===0)return 0;var r,u=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var y=r.value;u=Math.max(u,go.measures(y))}}catch(k){p.e(k)}finally{p.f()}return u}},{key:"hasRepeatedPoints",value:function(n){for(var r=1;r<n.length;r++)if(n[r-1].equals(n[r]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(n){return c.hasRepeatedPoints(n)?new Is(n,!1).toCoordinateArray():n}},{key:"reverse",value:function(n){for(var r=n.length-1,u=Math.trunc(r/2),p=0;p<=u;p++){var y=n[p];n[p]=n[r-p],n[r-p]=y}}},{key:"removeNull",value:function(n){for(var r=0,u=0;u<n.length;u++)n[u]!==null&&r++;var p=new Array(r).fill(null);if(r===0)return p;for(var y=0,k=0;k<n.length;k++)n[k]!==null&&(p[y++]=n[k]);return p}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var n=arguments[0],r=new Array(n.length).fill(null),u=0;u<n.length;u++)r[u]=n[u].copy();return r}if(arguments.length===5)for(var p=arguments[0],y=arguments[1],k=arguments[2],S=arguments[3],M=arguments[4],U=0;U<M;U++)k[S+U]=p[y+U].copy()}},{key:"isEqualReversed",value:function(n,r){for(var u=0;u<n.length;u++){var p=n[u],y=r[n.length-u-1];if(p.compareTo(y)!==0)return!1}return!0}},{key:"envelope",value:function(n){for(var r=new St,u=0;u<n.length;u++)r.expandToInclude(n[u]);return r}},{key:"toCoordinateArray",value:function(n){return n.toArray(c.coordArrayType)}},{key:"dimension",value:function(n){if(n===null||n.length===0)return 3;var r,u=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var y=r.value;u=Math.max(u,go.dimension(y))}}catch(k){p.e(k)}finally{p.f()}return u}},{key:"atLeastNCoordinatesOrNothing",value:function(n,r){return r.length>=n?r:[]}},{key:"indexOf",value:function(n,r){for(var u=0;u<r.length;u++)if(n.equals(r[u]))return u;return-1}},{key:"increasingDirection",value:function(n){for(var r=0;r<Math.trunc(n.length/2);r++){var u=n.length-1-r,p=n[r].compareTo(n[u]);if(p!==0)return p}return 1}},{key:"compare",value:function(n,r){for(var u=0;u<n.length&&u<r.length;){var p=n[u].compareTo(r[u]);if(p!==0)return p;u++}return u<r.length?-1:u<n.length?1:0}},{key:"minCoordinate",value:function(n){for(var r=null,u=0;u<n.length;u++)(r===null||r.compareTo(n[u])>0)&&(r=n[u]);return r}},{key:"extract",value:function(n,r,u){r=Vr.clamp(r,0,n.length);var p=(u=Vr.clamp(u,-1,n.length))-r+1;u<0&&(p=0),r>=n.length&&(p=0),u<r&&(p=0);var y=new Array(p).fill(null);if(p===0)return y;for(var k=0,S=r;S<=u;S++)y[k++]=n[S];return y}}])}(),Jc=function(){return d(function c(){i(this,c)},[{key:"compare",value:function(c,n){var r=c,u=n;return Xe.compare(r,u)}},{key:"interfaces_",get:function(){return[At]}}])}(),_o=function(){return d(function c(){i(this,c)},[{key:"compare",value:function(c,n){var r=c,u=n;if(r.length<u.length)return-1;if(r.length>u.length)return 1;if(r.length===0)return 0;var p=Xe.compare(r,u);return Xe.isEqualReversed(r,u)?0:p}},{key:"OLDcompare",value:function(c,n){var r=c,u=n;if(r.length<u.length)return-1;if(r.length>u.length)return 1;if(r.length===0)return 0;for(var p=Xe.increasingDirection(r),y=Xe.increasingDirection(u),k=p>0?0:r.length-1,S=y>0?0:r.length-1,M=0;M<r.length;M++){var U=r[k].compareTo(u[S]);if(U!==0)return U;k+=p,S+=y}return 0}},{key:"interfaces_",get:function(){return[At]}}])}();Xe.ForwardComparator=Jc,Xe.BidirectionalComparator=_o,Xe.coordArrayType=new Array(0).fill(null);var vo=function(){return d(function c(n){i(this,c),this.str=n},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),Ps=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getM",value:function(n){return this.hasM()?this._coordinates[n].getM():ut.NaN}},{key:"setOrdinate",value:function(n,r,u){switch(r){case jt.X:this._coordinates[n].x=u;break;case jt.Y:this._coordinates[n].y=u;break;default:this._coordinates[n].setOrdinate(r,u)}}},{key:"getZ",value:function(n){return this.hasZ()?this._coordinates[n].getZ():ut.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(n,r){switch(r){case jt.X:return this._coordinates[n].x;case jt.Y:return this._coordinates[n].y;default:return this._coordinates[n].getOrdinate(r)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var n=arguments[0];return this._coordinates[n]}if(arguments.length===2){var r=arguments[0];arguments[1].setCoordinate(this._coordinates[r])}}},{key:"getCoordinateCopy",value:function(n){var r=this.createCoordinate();return r.setCoordinate(this._coordinates[n]),r}},{key:"createCoordinate",value:function(){return go.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(n){return this._coordinates[n].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(n){for(var r=0;r<this._coordinates.length;r++)n.expandToInclude(this._coordinates[r]);return n}},{key:"copy",value:function(){for(var n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++){var u=this.createCoordinate();u.setCoordinate(this._coordinates[r]),n[r]=u}return new c(n,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var n=new vo(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)n.append(", "),n.append(this._coordinates[r]);return n.append(")"),n.toString()}return"()"}},{key:"getY",value:function(n){return this._coordinates[n].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[jt,X]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];c.constructor_.call(this,n,Xe.dimension(n),Xe.measures(n))}else if(Number.isInteger(arguments[0])){var r=arguments[0];this._coordinates=new Array(r).fill(null);for(var u=0;u<r;u++)this._coordinates[u]=new G}else if(Y(arguments[0],jt)){var p=arguments[0];if(p===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=p.getDimension(),this._measures=p.getMeasures(),this._coordinates=new Array(p.size()).fill(null);for(var y=0;y<this._coordinates.length;y++)this._coordinates[y]=p.getCoordinateCopy(y)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var k=arguments[0],S=arguments[1];c.constructor_.call(this,k,S,Xe.measures(k))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var M=arguments[0],U=arguments[1];this._coordinates=new Array(M).fill(null),this._dimension=U;for(var nt=0;nt<M;nt++)this._coordinates[nt]=go.create(U)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var st=arguments[0],xt=arguments[1],Bt=arguments[2];this._dimension=xt,this._measures=Bt,this._coordinates=st===null?new Array(0).fill(null):st}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Wt=arguments[0],Kt=arguments[1],me=arguments[2];this._coordinates=new Array(Wt).fill(null),this._dimension=Kt,this._measures=me;for(var le=0;le<Wt;le++)this._coordinates[le]=this.createCoordinate()}}}}])}(),ka=function(){function c(){i(this,c)}return d(c,[{key:"readResolve",value:function(){return c.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Ps(arguments[0]);if(Y(arguments[0],jt))return new Ps(arguments[0])}else{if(arguments.length===2){var n=arguments[1];return n>3&&(n=3),n<2&&(n=2),new Ps(arguments[0],n)}if(arguments.length===3){var r=arguments[2],u=arguments[1]-r;return r>1&&(r=1),u>3&&(u=3),u<2&&(u=2),new Ps(arguments[0],u+r,r)}}}},{key:"interfaces_",get:function(){return[ba,X]}}],[{key:"instance",value:function(){return c.instanceObject}}])}();ka.instanceObject=new ka;var xa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof It){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&I(n,"equalsExact",this,1).call(this,r,u)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return It.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var r=new qt,u=0;u<this._geometries.length;u++)for(var p=this._geometries[u].getBoundary(),y=0;y<p.getNumGeometries();y++)r.add(p.getGeometryN(y));var k=new Array(r.size()).fill(null);return this.getFactory().createMultiLineString(r.toArray(k))}},{key:"getGeometryType",value:function(){return It.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Xt]}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];bn.constructor_.call(this,r,u)}}])}(bn),Kl=function(){return d(function c(){i(this,c)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),Ta=function(c){function n(){var r;return i(this,n),(r=a(this,n)).map=new Map,r}return b(n,c),d(n,[{key:"get",value:function(r){return this.map.get(r)||null}},{key:"put",value:function(r,u){return this.map.set(r,u),u}},{key:"values",value:function(){for(var r=new qt,u=this.map.values(),p=u.next();!p.done;)r.add(p.value),p=u.next();return r}},{key:"entrySet",value:function(){var r=new pt;return this.map.entries().forEach(function(u){return r.add(u)}),r}},{key:"size",value:function(){return this.map.size()}}])}(Kl),wn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this._modelType===r._modelType&&this._scale===r._scale}},{key:"compareTo",value:function(n){var r=n,u=this.getMaximumSignificantDigits(),p=r.getMaximumSignificantDigits();return Gt.compare(u,p)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===c.FLOATING||this._modelType===c.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var n="UNKNOWN";return this._modelType===c.FLOATING?n="Floating":this._modelType===c.FLOATING_SINGLE?n="Floating-Single":this._modelType===c.FIXED&&(n="Fixed (Scale="+this.getScale()+")"),n}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var n=arguments[0];return ut.isNaN(n)||this._modelType===c.FLOATING_SINGLE?n:this._modelType===c.FIXED?Math.round(n*this._scale)/this._scale:n}if(arguments[0]instanceof G){var r=arguments[0];if(this._modelType===c.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}}},{key:"getMaximumSignificantDigits",value:function(){var n=16;return this._modelType===c.FLOATING?n=16:this._modelType===c.FLOATING_SINGLE?n=6:this._modelType===c.FIXED&&(n=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),n}},{key:"setScale",value:function(n){this._scale=Math.abs(n)}},{key:"interfaces_",get:function(){return[X,$]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=c.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof _r){var n=arguments[0];this._modelType=n,n===c.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var r=arguments[0];this._modelType=c.FIXED,this.setScale(r)}else if(arguments[0]instanceof c){var u=arguments[0];this._modelType=u._modelType,this._scale=u._scale}}}},{key:"mostPrecise",value:function(n,r){return n.compareTo(r)>=0?n:r}}])}(),_r=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"readResolve",value:function(){return c.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[X]}}],[{key:"constructor_",value:function(){this._name=null;var n=arguments[0];this._name=n,c.nameToTypeMap.put(n,this)}}])}();_r.nameToTypeMap=new Ta,wn.Type=_r,wn.FIXED=new _r("FIXED"),wn.FLOATING=new _r("FLOATING"),wn.FLOATING_SINGLE=new _r("FLOATING SINGLE"),wn.maximumPreciseValue=9007199254740992;var yo=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof It){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&I(n,"equalsExact",this,1).call(this,r,u)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Rt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return It.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new ct}},{key:"getGeometryType",value:function(){return It.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Wl]}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];bn.constructor_.call(this,r,u)}}])}(bn),di=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"createEmpty",value:function(n){switch(n){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new H("Invalid dimension: "+n)}}},{key:"toGeometry",value:function(n){return n.isNull()?this.createPoint():n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new G(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new G(n.getMinX(),n.getMinY()),new G(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new G(n.getMinX(),n.getMinY()),new G(n.getMinX(),n.getMaxY()),new G(n.getMaxX(),n.getMaxY()),new G(n.getMaxX(),n.getMinY()),new G(n.getMinX(),n.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLineString(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Y(arguments[0],jt))return new Cs(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new yo(null,this):arguments.length===1?new yo(arguments[0],this):void 0}},{key:"buildGeometry",value:function(n){for(var r=null,u=!1,p=!1,y=n.iterator();y.hasNext();){var k=y.next(),S=k.getTypeCode();r===null&&(r=S),S!==r&&(u=!0),k instanceof bn&&(p=!0)}if(r===null)return this.createGeometryCollection();if(u||p)return this.createGeometryCollection(c.toGeometryArray(n));var M=n.iterator().next();if(n.size()>1){if(M instanceof Ss)return this.createMultiPolygon(c.toPolygonArray(n));if(M instanceof Cs)return this.createMultiLineString(c.toLineStringArray(n));if(M instanceof wa)return this.createMultiPoint(c.toPointArray(n));Pt.shouldNeverReachHere("Unhandled geometry type: "+M.getGeometryType())}return M}},{key:"createMultiPointFromCoords",value:function(n){return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];return this.createPoint(n!==null?this.getCoordinateSequenceFactory().create([n]):null)}if(Y(arguments[0],jt))return new wa(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Y(arguments[0],jt)){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Array){var r=arguments[0];return this.createPolygon(this.createLinearRing(r))}if(arguments[0]instanceof fi){var u=arguments[0];return this.createPolygon(u,null)}}else if(arguments.length===2)return new Ss(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new bn(null,this):arguments.length===1?new bn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLinearRing(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Y(arguments[0],jt))return new fi(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new xa(null,this):arguments.length===1?new xa(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new mo(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new mo(arguments[0],this);if(Y(arguments[0],jt)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),u=0;u<n.size();u++){var p=this.getCoordinateSequenceFactory().create(1,n.getDimension(),n.getMeasures());mr.copy(n,u,p,0,1),r[u]=this.createPoint(p)}return this.createMultiPoint(r)}}}},{key:"interfaces_",get:function(){return[X]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)c.constructor_.call(this,new wn,0);else if(arguments.length===1){if(Y(arguments[0],ba)){var n=arguments[0];c.constructor_.call(this,new wn,0,n)}else if(arguments[0]instanceof wn){var r=arguments[0];c.constructor_.call(this,r,0,c.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];c.constructor_.call(this,u,p,c.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var y=arguments[0],k=arguments[1],S=arguments[2];this._precisionModel=y,this._coordinateSequenceFactory=S,this._SRID=k}}},{key:"toMultiPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toGeometryArray",value:function(n){if(n===null)return null;var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return ka.instance()}},{key:"toMultiLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toMultiPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLinearRingArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"createPointFromInternalCoord",value:function(n,r){return r.getPrecisionModel().makePrecise(n),r.getFactory().createPoint(n)}}])}(),pe="XY",Ue="XYZ",bo="XYM",qr="XYZM",vr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},wo="EMPTY",re=1,Ee=2,pi=3,Ns=4,an=5,Qc=6;for(var Lo in vr)vr[Lo].toUpperCase();var yr=function(){return d(function c(n){i(this,c),this.wkt=n,this.index_=-1},[{key:"isAlpha_",value:function(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"}},{key:"isNumeric_",value:function(c,n){return c>="0"&&c<="9"||c=="."&&!(n!==void 0&&n)}},{key:"isWhiteSpace_",value:function(c){return c==" "||c=="	"||c=="\r"||c==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var c,n=this.nextChar_(),r=this.index_,u=n;if(n=="(")c=Ee;else if(n==",")c=an;else if(n==")")c=pi;else if(this.isNumeric_(n)||n=="-")c=Ns,u=this.readNumber_();else if(this.isAlpha_(n))c=re,u=this.readText_();else{if(this.isWhiteSpace_(n))return this.nextToken();if(n!=="")throw new Error("Unexpected character: "+n);c=Qc}return{position:r,value:u,type:c}}},{key:"readNumber_",value:function(){var c,n=this.index_,r=!1,u=!1;do c=="."?r=!0:c!="e"&&c!="E"||(u=!0),c=this.nextChar_();while(this.isNumeric_(c,r)||!u&&(c=="e"||c=="E")||u&&(c=="-"||c=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}},{key:"readText_",value:function(){var c,n=this.index_;do c=this.nextChar_();while(this.isAlpha_(c));return this.wkt.substring(n,this.index_--).toUpperCase()}}])}(),Ke=function(){return d(function c(n,r){i(this,c),this.lexer_=n,this.token_,this.layout_=pe,this.factory=r},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(c){return this.token_.type==c}},{key:"match",value:function(c){var n=this.isTokenType(c);return n&&this.consume_(),n}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var c=pe,n=this.token_;if(this.isTokenType(re)){var r=n.value;r==="Z"?c=Ue:r==="M"?c=bo:r==="ZM"&&(c=qr),c!==pe&&this.consume_()}return c}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Ee)){var c=[];do c.push(this.parseGeometry_());while(this.match(an));if(this.match(pi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Ee)){var c=this.parsePoint_();if(this.match(pi))return c}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Ee)){var c=this.parsePointList_();if(this.match(pi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Ee)){var c=this.parseLineStringTextList_();if(this.match(pi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var c;if(this.match(Ee)){if(c=this.token_.type==Ee?this.parsePointTextList_():this.parsePointList_(),this.match(pi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Ee)){var c=this.parseLineStringTextList_();if(this.match(pi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Ee)){var c=this.parsePolygonTextList_();if(this.match(pi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var c=[],n=this.layout_.length,r=0;r<n;++r){var u=this.token_;if(!this.match(Ns))break;c.push(u.value)}if(c.length==n)return c;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var c=[this.parsePoint_()];this.match(an);)c.push(this.parsePoint_());return c}},{key:"parsePointTextList_",value:function(){for(var c=[this.parsePointText_()];this.match(an);)c.push(this.parsePointText_());return c}},{key:"parseLineStringTextList_",value:function(){for(var c=[this.parseLineStringText_()];this.match(an);)c.push(this.parseLineStringText_());return c}},{key:"parsePolygonTextList_",value:function(){for(var c=[this.parsePolygonText_()];this.match(an);)c.push(this.parsePolygonText_());return c}},{key:"isEmptyGeometry_",value:function(){var c=this.isTokenType(re)&&this.token_.value==wo;return c&&this.consume_(),c}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var c=this.factory,n=function(Kt){return l(G,O(Kt))},r=function(Kt){var me=Kt.map(function(le){return c.createLinearRing(le.map(n))});return me.length>1?c.createPolygon(me[0],me.slice(1)):c.createPolygon(me[0])},u=this.token_;if(this.match(re)){var p=u.value;if(this.layout_=this.parseGeometryLayout_(),p=="GEOMETRYCOLLECTION"){var y=this.parseGeometryCollectionText_();return c.createGeometryCollection(y)}switch(p){case"POINT":var k=this.parsePointText_();return k?c.createPoint(l(G,O(k))):c.createPoint();case"LINESTRING":var S=this.parseLineStringText_().map(n);return c.createLineString(S);case"LINEARRING":var M=this.parseLineStringText_().map(n);return c.createLinearRing(M);case"POLYGON":var U=this.parsePolygonText_();return U&&U.length!==0?r(U):c.createPolygon();case"MULTIPOINT":var nt=this.parseMultiPointText_();if(!nt||nt.length===0)return c.createMultiPoint();var st=nt.map(n).map(function(Kt){return c.createPoint(Kt)});return c.createMultiPoint(st);case"MULTILINESTRING":var xt=this.parseMultiLineStringText_().map(function(Kt){return c.createLineString(Kt.map(n))});return c.createMultiLineString(xt);case"MULTIPOLYGON":var Bt=this.parseMultiPolygonText_();if(!Bt||Bt.length===0)return c.createMultiPolygon();var Wt=Bt.map(r);return c.createMultiPolygon(Wt);default:throw new Error("Invalid geometry type: "+p)}}throw new Error(this.formatErrorMessage_())}}])}();function Zi(c){if(c.isEmpty())return"";var n=c.getCoordinate(),r=[n.x,n.y];return n.z===void 0||Number.isNaN(n.z)||r.push(n.z),n.m===void 0||Number.isNaN(n.m)||r.push(n.m),r.join(" ")}function Ii(c){for(var n=c.getCoordinates().map(function(y){var k=[y.x,y.y];return y.z===void 0||Number.isNaN(y.z)||k.push(y.z),y.m===void 0||Number.isNaN(y.m)||k.push(y.m),k}),r=[],u=0,p=n.length;u<p;++u)r.push(n[u].join(" "));return r.join(", ")}function Wr(c){var n=[];n.push("("+Ii(c.getExteriorRing())+")");for(var r=0,u=c.getNumInteriorRing();r<u;++r)n.push("("+Ii(c.getInteriorRingN(r))+")");return n.join(", ")}var Ca={Point:Zi,LineString:Ii,LinearRing:Ii,Polygon:Wr,MultiPoint:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push("("+Zi(c.getGeometryN(r))+")");return n.join(", ")},MultiLineString:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push("("+Ii(c.getGeometryN(r))+")");return n.join(", ")},MultiPolygon:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push("("+Wr(c.getGeometryN(r))+")");return n.join(", ")},GeometryCollection:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push(Zr(c.getGeometryN(r)));return n.join(", ")}};function Zr(c){var n=c.getGeometryType(),r=Ca[n];n=n.toUpperCase();var u=function(p){var y="";if(p.isEmpty())return y;var k=p.getCoordinate();return k.z===void 0||Number.isNaN(k.z)||(y+="Z"),k.m===void 0||Number.isNaN(k.m)||(y+="M"),y}(c);return u.length>0&&(n+=" "+u),c.isEmpty()?n+" "+wo:n+" ("+r(c)+")"}var Sa=function(){return d(function c(n){i(this,c),this.geometryFactory=n||new di,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(c){var n=new yr(c);return new Ke(n,this.geometryFactory).parse()}},{key:"write",value:function(c){return Zr(c)}}])}(),Os=function(){return d(function c(n){i(this,c),this.parser=new Sa(n)},[{key:"write",value:function(c){return this.parser.write(c)}}],[{key:"toLineString",value:function(c,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+c.x+" "+c.y+", "+n.x+" "+n.y+" )"}}])}(),Ne=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getIndexAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intLineIndex[n][r]}},{key:"getTopologySummary",value:function(){var n=new vo;return this.isEndPoint()&&n.append(" endpoint"),this._isProper&&n.append(" proper"),this.isCollinear()&&n.append(" collinear"),n.toString()}},{key:"computeIntersection",value:function(n,r,u,p){this._inputLines[0][0]=n,this._inputLines[0][1]=r,this._inputLines[1][0]=u,this._inputLines[1][1]=p,this._result=this.computeIntersect(n,r,u,p)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var n=arguments[0];this.getEdgeDistance(n,0)>this.getEdgeDistance(n,1)?(this._intLineIndex[n][0]=0,this._intLineIndex[n][1]=1):(this._intLineIndex[n][0]=1,this._intLineIndex[n][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],r=0;r<this._result;r++)if(!this._intPt[r].equals2D(this._inputLines[n][0])&&!this._intPt[r].equals2D(this._inputLines[n][1]))return!0;return!1}}},{key:"getIntersection",value:function(n){return this._intPt[n]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==c.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(n,r){return c.computeEdgeDistance(this._intPt[r],this._inputLines[n][0],this._inputLines[n][1])}},{key:"isCollinear",value:function(){return this._result===c.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Os.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Os.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(n,r){return this._inputLines[n][r]}},{key:"isIntersection",value:function(n){for(var r=0;r<this._result;r++)if(this._intPt[r].equals2D(n))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[n][r]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new G,this._intPt[1]=new G,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(n,r,u){var p=Math.abs(u.x-r.x),y=Math.abs(u.y-r.y),k=-1;if(n.equals(r))k=0;else if(n.equals(u))k=p>y?p:y;else{var S=Math.abs(n.x-r.x),M=Math.abs(n.y-r.y);(k=p>y?S:M)!==0||n.equals(r)||(k=Math.max(S,M))}return Pt.isTrue(!(k===0&&!n.equals(r)),"Bad distance calculation"),k}},{key:"nonRobustComputeEdgeDistance",value:function(n,r,u){var p=n.x-r.x,y=n.y-r.y,k=Math.sqrt(p*p+y*y);return Pt.isTrue(!(k===0&&!n.equals(r)),"Invalid distance calculation"),k}}])}();Ne.DONT_INTERSECT=0,Ne.DO_INTERSECT=1,Ne.COLLINEAR=2,Ne.NO_INTERSECTION=0,Ne.POINT_INTERSECTION=1,Ne.COLLINEAR_INTERSECTION=2;var Pi=function(c){function n(){return i(this,n),a(this,n)}return b(n,c),d(n,[{key:"isInSegmentEnvelopes",value:function(r){var u=new St(this._inputLines[0][0],this._inputLines[0][1]),p=new St(this._inputLines[1][0],this._inputLines[1][1]);return u.contains(r)&&p.contains(r)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return I(n,"computeIntersection",this,1).apply(this,arguments);var r=arguments[0],u=arguments[1],p=arguments[2];if(this._isProper=!1,St.intersects(u,p,r)&&Yt.index(u,p,r)===0&&Yt.index(p,u,r)===0)return this._isProper=!0,(r.equals(u)||r.equals(p))&&(this._isProper=!1),this._result=Ne.POINT_INTERSECTION,null;this._result=Ne.NO_INTERSECTION}},{key:"intersection",value:function(r,u,p,y){var k=this.intersectionSafe(r,u,p,y);return this.isInSegmentEnvelopes(k)||(k=new G(n.nearestEndpoint(r,u,p,y))),this._precisionModel!==null&&this._precisionModel.makePrecise(k),k}},{key:"checkDD",value:function(r,u,p,y,k){var S=Ve.intersection(r,u,p,y),M=this.isInSegmentEnvelopes(S);Yn.out.println("DD in env = "+M+"  --------------------- "+S),k.distance(S)>1e-4&&Yn.out.println("Distance = "+k.distance(S))}},{key:"intersectionSafe",value:function(r,u,p,y){var k=ya.intersection(r,u,p,y);return k===null&&(k=n.nearestEndpoint(r,u,p,y)),k}},{key:"computeCollinearIntersection",value:function(r,u,p,y){var k=St.intersects(r,u,p),S=St.intersects(r,u,y),M=St.intersects(p,y,r),U=St.intersects(p,y,u);return k&&S?(this._intPt[0]=p,this._intPt[1]=y,Ne.COLLINEAR_INTERSECTION):M&&U?(this._intPt[0]=r,this._intPt[1]=u,Ne.COLLINEAR_INTERSECTION):k&&M?(this._intPt[0]=p,this._intPt[1]=r,!p.equals(r)||S||U?Ne.COLLINEAR_INTERSECTION:Ne.POINT_INTERSECTION):k&&U?(this._intPt[0]=p,this._intPt[1]=u,!p.equals(u)||S||M?Ne.COLLINEAR_INTERSECTION:Ne.POINT_INTERSECTION):S&&M?(this._intPt[0]=y,this._intPt[1]=r,!y.equals(r)||k||U?Ne.COLLINEAR_INTERSECTION:Ne.POINT_INTERSECTION):S&&U?(this._intPt[0]=y,this._intPt[1]=u,!y.equals(u)||k||M?Ne.COLLINEAR_INTERSECTION:Ne.POINT_INTERSECTION):Ne.NO_INTERSECTION}},{key:"computeIntersect",value:function(r,u,p,y){if(this._isProper=!1,!St.intersects(r,u,p,y))return Ne.NO_INTERSECTION;var k=Yt.index(r,u,p),S=Yt.index(r,u,y);if(k>0&&S>0||k<0&&S<0)return Ne.NO_INTERSECTION;var M=Yt.index(p,y,r),U=Yt.index(p,y,u);return M>0&&U>0||M<0&&U<0?Ne.NO_INTERSECTION:k===0&&S===0&&M===0&&U===0?this.computeCollinearIntersection(r,u,p,y):(k===0||S===0||M===0||U===0?(this._isProper=!1,r.equals2D(p)||r.equals2D(y)?this._intPt[0]=r:u.equals2D(p)||u.equals2D(y)?this._intPt[0]=u:k===0?this._intPt[0]=new G(p):S===0?this._intPt[0]=new G(y):M===0?this._intPt[0]=new G(r):U===0&&(this._intPt[0]=new G(u))):(this._isProper=!0,this._intPt[0]=this.intersection(r,u,p,y)),Ne.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(r,u,p,y){var k=r,S=ri.pointToSegment(r,p,y),M=ri.pointToSegment(u,p,y);return M<S&&(S=M,k=u),(M=ri.pointToSegment(p,r,u))<S&&(S=M,k=p),(M=ri.pointToSegment(y,r,u))<S&&(S=M,k=y),k}}])}(Ne),Ia=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"countSegment",value:function(n,r){if(n.x<this._p.x&&r.x<this._p.x)return null;if(this._p.x===r.x&&this._p.y===r.y)return this._isPointOnSegment=!0,null;if(n.y===this._p.y&&r.y===this._p.y){var u=n.x,p=r.x;return u>p&&(u=r.x,p=n.x),this._p.x>=u&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(n.y>this._p.y&&r.y<=this._p.y||r.y>this._p.y&&n.y<=this._p.y){var y=Yt.index(n,r,this._p);if(y===Yt.COLLINEAR)return this._isPointOnSegment=!0,null;r.y<n.y&&(y=-y),y===Yt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==C.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?C.BOUNDARY:this._crossingCount%2==1?C.INTERIOR:C.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var n=arguments[0];this._p=n}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof G&&Y(arguments[1],jt)){for(var n=arguments[1],r=new c(arguments[0]),u=new G,p=new G,y=1;y<n.size();y++)if(n.getCoordinate(y,u),n.getCoordinate(y-1,p),r.countSegment(u,p),r.isOnSegment())return r.getLocation();return r.getLocation()}if(arguments[0]instanceof G&&arguments[1]instanceof Array){for(var k=arguments[1],S=new c(arguments[0]),M=1;M<k.length;M++){var U=k[M],nt=k[M-1];if(S.countSegment(U,nt),S.isOnSegment())return S.getLocation()}return S.getLocation()}}}])}(),Yr=function(){function c(){i(this,c)}return d(c,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof G&&Y(arguments[1],jt)){for(var n=arguments[0],r=arguments[1],u=new Pi,p=new G,y=new G,k=r.size(),S=1;S<k;S++)if(r.getCoordinate(S-1,p),r.getCoordinate(S,y),u.computeIntersection(n,p,y),u.hasIntersection())return!0;return!1}if(arguments[0]instanceof G&&arguments[1]instanceof Array){for(var M=arguments[0],U=arguments[1],nt=new Pi,st=1;st<U.length;st++){var xt=U[st-1],Bt=U[st];if(nt.computeIntersection(M,xt,Bt),nt.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(n,r){return Ia.locatePointInRing(n,r)}},{key:"isInRing",value:function(n,r){return c.locateInRing(n,r)!==C.EXTERIOR}}])}(),Nn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"setAllLocations",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]=n}},{key:"isNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==C.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]===C.NONE&&(this.location[r]=n)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(n){if(n.location.length>this.location.length){var r=new Array(3).fill(null);r[N.ON]=this.location[N.ON],r[N.LEFT]=C.NONE,r[N.RIGHT]=C.NONE,this.location=r}for(var u=0;u<this.location.length;u++)this.location[u]===C.NONE&&u<n.location.length&&(this.location[u]=n.location[u])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var n=this.location[N.LEFT];this.location[N.LEFT]=this.location[N.RIGHT],this.location[N.RIGHT]=n}},{key:"toString",value:function(){var n=new ft;return this.location.length>1&&n.append(C.toLocationSymbol(this.location[N.LEFT])),n.append(C.toLocationSymbol(this.location[N.ON])),this.location.length>1&&n.append(C.toLocationSymbol(this.location[N.RIGHT])),n.toString()}},{key:"setLocations",value:function(n,r,u){this.location[N.ON]=n,this.location[N.LEFT]=r,this.location[N.RIGHT]=u}},{key:"get",value:function(n){return n<this.location.length?this.location[n]:C.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===C.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var n=arguments[0];this.setLocation(N.ON,n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.location[r]=u}}},{key:"init",value:function(n){this.location=new Array(n).fill(null),this.setAllLocations(C.NONE)}},{key:"isEqualOnSide",value:function(n,r){return this.location[r]===n.location[r]}},{key:"allPositionsEqual",value:function(n){for(var r=0;r<this.location.length;r++)if(this.location[r]!==n)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[N.ON]=r}else if(arguments[0]instanceof c){var u=arguments[0];if(this.init(u.location.length),u!==null)for(var p=0;p<this.location.length;p++)this.location[p]=u.location[p]}}else if(arguments.length===3){var y=arguments[0],k=arguments[1],S=arguments[2];this.init(3),this.location[N.ON]=y,this.location[N.LEFT]=k,this.location[N.RIGHT]=S}}}])}(),Tn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getGeometryCount",value:function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n}},{key:"setAllLocations",value:function(n,r){this.elt[n].setAllLocations(r)}},{key:"isNull",value:function(n){return this.elt[n].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var n=arguments[0];this.setAllLocationsIfNull(0,n),this.setAllLocationsIfNull(1,n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.elt[r].setAllLocationsIfNull(u)}}},{key:"isLine",value:function(n){return this.elt[n].isLine()}},{key:"merge",value:function(n){for(var r=0;r<2;r++)this.elt[r]===null&&n.elt[r]!==null?this.elt[r]=new Nn(n.elt[r]):this.elt[r].merge(n.elt[r])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var n=arguments[0];return this.elt[n].get(N.ON)}if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.elt[r].get(u)}}},{key:"toString",value:function(){var n=new ft;return this.elt[0]!==null&&(n.append("A:"),n.append(this.elt[0].toString())),this.elt[1]!==null&&(n.append(" B:"),n.append(this.elt[1].toString())),n.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var n=arguments[0];return this.elt[n].isArea()}}},{key:"isAnyNull",value:function(n){return this.elt[n].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[n].setLocation(N.ON,r)}else if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2];this.elt[u].setLocation(p,y)}}},{key:"isEqualOnSide",value:function(n,r){return this.elt[0].isEqualOnSide(n.elt[0],r)&&this.elt[1].isEqualOnSide(n.elt[1],r)}},{key:"allPositionsEqual",value:function(n,r){return this.elt[n].allPositionsEqual(r)}},{key:"toLine",value:function(n){this.elt[n].isArea()&&(this.elt[n]=new Nn(this.elt[n].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Nn(n),this.elt[1]=new Nn(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.elt[0]=new Nn(r.elt[0]),this.elt[1]=new Nn(r.elt[1])}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.elt[0]=new Nn(C.NONE),this.elt[1]=new Nn(C.NONE),this.elt[u].setLocation(p)}else if(arguments.length===3){var y=arguments[0],k=arguments[1],S=arguments[2];this.elt[0]=new Nn(y,k,S),this.elt[1]=new Nn(y,k,S)}else if(arguments.length===4){var M=arguments[0],U=arguments[1],nt=arguments[2],st=arguments[3];this.elt[0]=new Nn(C.NONE,C.NONE,C.NONE),this.elt[1]=new Nn(C.NONE,C.NONE,C.NONE),this.elt[M].setLocations(U,nt,st)}}},{key:"toLineLabel",value:function(n){for(var r=new c(C.NONE),u=0;u<2;u++)r.setLocation(u,n.getLocation(u));return r}}])}(),Eo=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var c=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)c[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(c),this._isHole=Yt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(c){this._startDe=c;var n=c,r=!0;do{if(n===null)throw new fn("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new fn("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var u=n.getLabel();Pt.isTrue(u.isArea()),this.mergeLabel(u),this.addPoints(n.getEdge(),n.isForward(),r),r=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(c){return this._pts.get(c)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var c=this._startDe;do{var n=c.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),c=this.getNext(c)}while(c!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(c,n,r){var u=c.getCoordinates();if(n){var p=1;r&&(p=0);for(var y=p;y<u.length;y++)this._pts.add(u[y])}else{var k=u.length-2;r&&(k=u.length-1);for(var S=k;S>=0;S--)this._pts.add(u[S])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var c=this._startDe;do c.getEdge().setInResult(!0),c=c.getNext();while(c!==this._startDe)}},{key:"containsPoint",value:function(c){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(c)||!Yr.isInRing(c,n.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();)if(r.next().containsPoint(c))return!1;return!0}},{key:"addHole",value:function(c){this._holes.add(c)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var c=arguments[0];this.mergeLabel(c,0),this.mergeLabel(c,1)}else if(arguments.length===2){var n=arguments[1],r=arguments[0].getLocation(n,N.RIGHT);if(r===C.NONE)return null;if(this._label.getLocation(n)===C.NONE)return this._label.setLocation(n,r),null}}},{key:"setShell",value:function(c){this._shell=c,c!==null&&c.addHole(this)}},{key:"toPolygon",value:function(c){for(var n=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)n[r]=this._holes.get(r).getLinearRing();return c.createPolygon(this.getLinearRing(),n)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new qt,this._pts=new qt,this._label=new Tn(C.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new qt,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var c=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(c),this.computeRing()}}}}])}(),se=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"setEdgeRing",value:function(r,u){r.setMinEdgeRing(u)}},{key:"getNext",value:function(r){return r.getNextMin()}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];Eo.constructor_.call(this,r,u)}}])}(Eo),mi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"buildMinimalRings",value:function(){var r=new qt,u=this._startDe;do{if(u.getMinEdgeRing()===null){var p=new se(u,this._geometryFactory);r.add(p)}u=u.getNext()}while(u!==this._startDe);return r}},{key:"setEdgeRing",value:function(r,u){r.setEdgeRing(u)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var r=this._startDe;do r.getNode().getEdges().linkMinimalDirectedEdges(this),r=r.getNext();while(r!==this._startDe)}},{key:"getNext",value:function(r){return r.getNext()}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];Eo.constructor_.call(this,r,u)}}])}(Eo),Oe=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(c){this._isVisited=c}},{key:"setInResult",value:function(c){this._isInResult=c}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(c){this._label=c}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(c){this._isCovered=c,this._isCoveredSet=!0}},{key:"updateIM",value:function(c){Pt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(c)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._label=c}}}}])}(),Ms=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"isIncidentEdgeInResult",value:function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();)if(r.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(r){r.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(r){}},{key:"computeMergedLocation",value:function(r,u){var p=C.NONE;if(p=this._label.getLocation(u),!r.isNull(u)){var y=r.getLocation(u);p!==C.BOUNDARY&&(p=y)}return p}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return I(n,"setLabel",this,1).apply(this,arguments);var r=arguments[0],u=arguments[1];this._label===null?this._label=new Tn(r,u):this._label.setLocation(r,u)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Tn)for(var u=arguments[0],p=0;p<2;p++){var y=this.computeMergedLocation(u,p);this._label.getLocation(p)===C.NONE&&this._label.setLocation(p,y)}}},{key:"add",value:function(r){this._edges.insert(r),r.setNode(this)}},{key:"setLabelBoundary",value:function(r){if(this._label===null)return null;var u=C.NONE;this._label!==null&&(u=this._label.getLocation(r));var p=null;switch(u){case C.BOUNDARY:p=C.INTERIOR;break;case C.INTERIOR:default:p=C.BOUNDARY}this._label.setLocation(r,p)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var r=arguments[0],u=arguments[1];this._coord=r,this._edges=u,this._label=new Tn(0,C.NONE)}}])}(Oe),Pa=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n)}(Kl);function ko(c){return c==null?0:c.color}function _e(c){return c==null?null:c.parent}function pn(c,n){c!==null&&(c.color=n)}function As(c){return c==null?null:c.left}function jr(c){return c==null?null:c.right}var Ze=function(c){function n(){var r;return i(this,n),(r=a(this,n)).root_=null,r.size_=0,r}return b(n,c),d(n,[{key:"get",value:function(r){for(var u=this.root_;u!==null;){var p=r.compareTo(u.key);if(p<0)u=u.left;else{if(!(p>0))return u.value;u=u.right}}return null}},{key:"put",value:function(r,u){if(this.root_===null)return this.root_={key:r,value:u,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var p,y,k=this.root_;do if(p=k,(y=r.compareTo(k.key))<0)k=k.left;else{if(!(y>0)){var S=k.value;return k.value=u,S}k=k.right}while(k!==null);var M={key:r,left:null,right:null,value:u,parent:p,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return y<0?p.left=M:p.right=M,this.fixAfterInsertion(M),this.size_++,null}},{key:"fixAfterInsertion",value:function(r){var u;for(r.color=1;r!=null&&r!==this.root_&&r.parent.color===1;)_e(r)===As(_e(_e(r)))?ko(u=jr(_e(_e(r))))===1?(pn(_e(r),0),pn(u,0),pn(_e(_e(r)),1),r=_e(_e(r))):(r===jr(_e(r))&&(r=_e(r),this.rotateLeft(r)),pn(_e(r),0),pn(_e(_e(r)),1),this.rotateRight(_e(_e(r)))):ko(u=As(_e(_e(r))))===1?(pn(_e(r),0),pn(u,0),pn(_e(_e(r)),1),r=_e(_e(r))):(r===As(_e(r))&&(r=_e(r),this.rotateRight(r)),pn(_e(r),0),pn(_e(_e(r)),1),this.rotateLeft(_e(_e(r))));this.root_.color=0}},{key:"values",value:function(){var r=new qt,u=this.getFirstEntry();if(u!==null)for(r.add(u.value);(u=n.successor(u))!==null;)r.add(u.value);return r}},{key:"entrySet",value:function(){var r=new pt,u=this.getFirstEntry();if(u!==null)for(r.add(u);(u=n.successor(u))!==null;)r.add(u);return r}},{key:"rotateLeft",value:function(r){if(r!=null){var u=r.right;r.right=u.left,u.left!=null&&(u.left.parent=r),u.parent=r.parent,r.parent==null?this.root_=u:r.parent.left===r?r.parent.left=u:r.parent.right=u,u.left=r,r.parent=u}}},{key:"rotateRight",value:function(r){if(r!=null){var u=r.left;r.left=u.right,u.right!=null&&(u.right.parent=r),u.parent=r.parent,r.parent==null?this.root_=u:r.parent.right===r?r.parent.right=u:r.parent.left=u,u.right=r,r.parent=u}}},{key:"getFirstEntry",value:function(){var r=this.root_;if(r!=null)for(;r.left!=null;)r=r.left;return r}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(r){for(var u=this.root_;u!==null;){var p=r.compareTo(u.key);if(p<0)u=u.left;else{if(!(p>0))return!0;u=u.right}}return!1}}],[{key:"successor",value:function(r){var u;if(r===null)return null;if(r.right!==null){for(u=r.right;u.left!==null;)u=u.left;return u}u=r.parent;for(var p=r;u!==null&&p===u.right;)p=u,u=u.parent;return u}}])}(Pa),Yi=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"find",value:function(c){return this.nodeMap.get(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof G){var c=arguments[0],n=this.nodeMap.get(c);return n===null&&(n=this.nodeFact.createNode(c),this.nodeMap.put(c,n)),n}if(arguments[0]instanceof Ms){var r=arguments[0],u=this.nodeMap.get(r.getCoordinate());return u===null?(this.nodeMap.put(r.getCoordinate(),r),r):(u.mergeLabel(r),u)}}},{key:"print",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(c){for(var n=new qt,r=this.iterator();r.hasNext();){var u=r.next();u.getLabel().getLocation(c)===C.BOUNDARY&&n.add(u)}return n}},{key:"add",value:function(c){var n=c.getCoordinate();this.addNode(n).add(c)}}],[{key:"constructor_",value:function(){this.nodeMap=new Ze,this.nodeFact=null;var c=arguments[0];this.nodeFact=c}}])}(),mn=function(){function c(){i(this,c)}return d(c,null,[{key:"isNorthern",value:function(n){return n===c.NE||n===c.NW}},{key:"isOpposite",value:function(n,r){return n!==r&&(n-r+4)%4===2}},{key:"commonHalfPlane",value:function(n,r){if(n===r)return n;if((n-r+4)%4===2)return-1;var u=n<r?n:r;return u===0&&(n>r?n:r)===3?3:u}},{key:"isInHalfPlane",value:function(n,r){return r===c.SE?n===c.SE||n===c.SW:n===r||n===r+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new H("Cannot compute the quadrant for point ( "+n+", "+r+" )");return n>=0?r>=0?c.NE:c.SE:r>=0?c.NW:c.SW}if(arguments[0]instanceof G&&arguments[1]instanceof G){var u=arguments[0],p=arguments[1];if(p.x===u.x&&p.y===u.y)throw new H("Cannot compute the quadrant for two identical points "+u);return p.x>=u.x?p.y>=u.y?c.NE:c.SE:p.y>=u.y?c.NW:c.SW}}}])}();mn.NE=0,mn.NW=1,mn.SW=2,mn.SE=3;var Na=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"compareDirection",value:function(n){return this._dx===n._dx&&this._dy===n._dy?0:this._quadrant>n._quadrant?1:this._quadrant<n._quadrant?-1:Yt.index(n._p0,n._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(n){this._node=n}},{key:"print",value:function(n){var r=Math.atan2(this._dy,this._dx),u=this.getClass().getName(),p=u.lastIndexOf("."),y=u.substring(p+1);n.print("  "+y+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+r+"   "+this._label)}},{key:"compareTo",value:function(n){var r=n;return this.compareDirection(r)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var n=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),u=r.lastIndexOf(".");return"  "+r.substring(u+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label}},{key:"computeLabel",value:function(n){}},{key:"init",value:function(n,r){this._p0=n,this._p1=r,this._dx=r.x-n.x,this._dy=r.y-n.y,this._quadrant=mn.quadrant(this._dx,this._dy),Pt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[$]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var n=arguments[0];this._edge=n}else if(arguments.length===3){var r=arguments[0],u=arguments[1],p=arguments[2];c.constructor_.call(this,r,u,p,null)}else if(arguments.length===4){var y=arguments[0],k=arguments[1],S=arguments[2],M=arguments[3];c.constructor_.call(this,y),this.init(k,S),this._label=M}}}])}(),Oa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(r){return this._depth[r]}},{key:"setVisited",value:function(r){this._isVisited=r}},{key:"computeDirectedLabel",value:function(){this._label=new Tn(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(r,u){if(this._depth[r]!==-999&&this._depth[r]!==u)throw new fn("assigned depths do not match",this.getCoordinate());this._depth[r]=u}},{key:"isInteriorAreaEdge",value:function(){for(var r=!0,u=0;u<2;u++)this._label.isArea(u)&&this._label.getLocation(u,N.LEFT)===C.INTERIOR&&this._label.getLocation(u,N.RIGHT)===C.INTERIOR||(r=!1);return r}},{key:"setNextMin",value:function(r){this._nextMin=r}},{key:"print",value:function(r){I(n,"print",this,1).call(this,r),r.print(" "+this._depth[N.LEFT]+"/"+this._depth[N.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")}},{key:"setMinEdgeRing",value:function(r){this._minEdgeRing=r}},{key:"isLineEdge",value:function(){var r=this._label.isLine(0)||this._label.isLine(1),u=!this._label.isArea(0)||this._label.allPositionsEqual(0,C.EXTERIOR),p=!this._label.isArea(1)||this._label.allPositionsEqual(1,C.EXTERIOR);return r&&u&&p}},{key:"setEdgeRing",value:function(r){this._edgeRing=r}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var r=this._edge.getDepthDelta();return this._isForward||(r=-r),r}},{key:"setInResult",value:function(r){this._isInResult=r}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(r){this.print(r),r.print(" "),this._isForward?this._edge.print(r):this._edge.printReverse(r)}},{key:"setSym",value:function(r){this._sym=r}},{key:"setVisitedEdge",value:function(r){this.setVisited(r),this._sym.setVisited(r)}},{key:"setEdgeDepths",value:function(r,u){var p=this.getEdge().getDepthDelta();this._isForward||(p=-p);var y=1;r===N.LEFT&&(y=-1);var k=N.opposite(r),S=u+p*y;this.setDepth(r,u),this.setDepth(k,S)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(r){this._next=r}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var r=arguments[0],u=arguments[1];if(Na.constructor_.call(this,r),this._isForward=u,u)this.init(r.getCoordinate(0),r.getCoordinate(1));else{var p=r.getNumPoints()-1;this.init(r.getCoordinate(p),r.getCoordinate(p-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(r,u){return r===C.EXTERIOR&&u===C.INTERIOR?1:r===C.INTERIOR&&u===C.EXTERIOR?-1:0}}])}(Na),Ma=function(){return d(function c(){i(this,c)},[{key:"createNode",value:function(c){return new Ms(c,null)}}])}(),xo=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(c){c.println("Edges:");for(var n=0;n<this._edges.size();n++){c.println("edge "+n+":");var r=this._edges.get(n);r.print(c),r.eiList.print(c)}}},{key:"find",value:function(c){return this._nodes.find(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ms){var c=arguments[0];return this._nodes.addNode(c)}if(arguments[0]instanceof G){var n=arguments[0];return this._nodes.addNode(n)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(c){Yn.out.println(c)}},{key:"isBoundaryNode",value:function(c,n){var r=this._nodes.find(n);if(r===null)return!1;var u=r.getLabel();return u!==null&&u.getLocation(c)===C.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(c,n,r,u){return!!c.equals(r)&&Yt.index(c,n,u)===Yt.COLLINEAR&&mn.quadrant(c,n)===mn.quadrant(r,u)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(c){Yn.out.print(c)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(c,n){for(var r=0;r<this._edges.size();r++){var u=this._edges.get(r),p=u.getCoordinates();if(this.matchInSameDirection(c,n,p[0],p[1])||this.matchInSameDirection(c,n,p[p.length-1],p[p.length-2]))return u}return null}},{key:"insertEdge",value:function(c){this._edges.add(c)}},{key:"findEdgeEnd",value:function(c){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var r=n.next();if(r.getEdge()===c)return r}return null}},{key:"addEdges",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();this._edges.add(r);var u=new Oa(r,!0),p=new Oa(r,!1);u.setSym(p),p.setSym(u),this.add(u),this.add(p)}}},{key:"add",value:function(c){this._nodes.add(c),this._edgeEndList.add(c)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(c,n){for(var r=0;r<this._edges.size();r++){var u=this._edges.get(r),p=u.getCoordinates();if(c.equals(p[0])&&n.equals(p[1]))return u}return null}}],[{key:"constructor_",value:function(){if(this._edges=new qt,this._nodes=null,this._edgeEndList=new qt,arguments.length===0)this._nodes=new Yi(new Ma);else if(arguments.length===1){var c=arguments[0];this._nodes=new Yi(c)}}},{key:"linkResultDirectedEdges",value:function(c){for(var n=c.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()}}])}(),th=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"sortShellsAndHoles",value:function(n,r,u){for(var p=n.iterator();p.hasNext();){var y=p.next();y.isHole()?u.add(y):r.add(y)}}},{key:"computePolygons",value:function(n){for(var r=new qt,u=n.iterator();u.hasNext();){var p=u.next().toPolygon(this._geometryFactory);r.add(p)}return r}},{key:"placeFreeHoles",value:function(n,r){for(var u=r.iterator();u.hasNext();){var p=u.next();if(p.getShell()===null){var y=c.findEdgeRingContaining(p,n);if(y===null)throw new fn("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(y)}}}},{key:"buildMinimalEdgeRings",value:function(n,r,u){for(var p=new qt,y=n.iterator();y.hasNext();){var k=y.next();if(k.getMaxNodeDegree()>2){k.linkDirectedEdgesForMinimalEdgeRings();var S=k.buildMinimalRings(),M=this.findShell(S);M!==null?(this.placePolygonHoles(M,S),r.add(M)):u.addAll(S)}else p.add(k)}return p}},{key:"buildMaximalEdgeRings",value:function(n){for(var r=new qt,u=n.iterator();u.hasNext();){var p=u.next();if(p.isInResult()&&p.getLabel().isArea()&&p.getEdgeRing()===null){var y=new mi(p,this._geometryFactory);r.add(y),y.setInResult()}}return r}},{key:"placePolygonHoles",value:function(n,r){for(var u=r.iterator();u.hasNext();){var p=u.next();p.isHole()&&p.setShell(n)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(n){for(var r=0,u=null,p=n.iterator();p.hasNext();){var y=p.next();y.isHole()||(u=y,r++)}return Pt.isTrue(r<=1,"found two shells in MinimalEdgeRing list"),u}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];this.add(n.getEdgeEnds(),n.getNodes())}else if(arguments.length===2){var r=arguments[0],u=arguments[1];xo.linkResultDirectedEdges(u);var p=this.buildMaximalEdgeRings(r),y=new qt,k=this.buildMinimalEdgeRings(p,this._shellList,y);this.sortShellsAndHoles(k,this._shellList,y),this.placeFreeHoles(this._shellList,y)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new qt;var n=arguments[0];this._geometryFactory=n}},{key:"findEdgeRingContaining",value:function(n,r){for(var u=n.getLinearRing(),p=u.getEnvelopeInternal(),y=u.getCoordinateN(0),k=null,S=null,M=r.iterator();M.hasNext();){var U=M.next(),nt=U.getLinearRing(),st=nt.getEnvelopeInternal();if(!st.equals(p)&&st.contains(p)){y=Xe.ptNotInList(u.getCoordinates(),nt.getCoordinates());var xt=!1;Yr.isInRing(y,nt.getCoordinates())&&(xt=!0),xt&&(k===null||S.contains(st))&&(S=(k=U).getLinearRing().getEnvelopeInternal())}}return k}}])}(),Aa=function(){return d(function c(){i(this,c)},[{key:"getBounds",value:function(){}}])}(),oe=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Aa,X]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var c=arguments[0],n=arguments[1];this._bounds=c,this._item=n}}])}(),To=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var c=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),c}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(c){for(var n=null,r=this._items.get(c);2*c<=this._size&&((n=2*c)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(r)<0);c=n)this._items.set(c,this._items.get(n));this._items.set(c,r)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(c){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,c);c.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,c)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new qt,this._items.add(null)}}])}(),si=function(){return d(function c(){i(this,c)},[{key:"insert",value:function(c,n){}},{key:"remove",value:function(c,n){}},{key:"query",value:function(){}}])}(),gn=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(c){Pt.isTrue(this._bounds===null),this._childBoundables.add(c)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Aa,X]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new qt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._level=c}}}}])}(),br={reverseOrder:function(){return{compare:function(c,n){return n.compareTo(c)}}},min:function(c){return br.sort(c),c.get(0)},sort:function(c,n){var r=c.toArray();n?dn.sort(r,n):dn.sort(r);for(var u=c.iterator(),p=0,y=r.length;p<y;p++)u.next(),u.set(r[p])},singletonList:function(c){var n=new qt;return n.add(c),n}},eh=function(){function c(){i(this,c)}return d(c,null,[{key:"maxDistance",value:function(n,r,u,p,y,k,S,M){var U=c.distance(n,r,y,k);return U=Math.max(U,c.distance(n,r,S,M)),U=Math.max(U,c.distance(u,p,y,k)),U=Math.max(U,c.distance(u,p,S,M))}},{key:"distance",value:function(n,r,u,p){var y=u-n,k=p-r;return Math.sqrt(y*y+k*k)}},{key:"maximumDistance",value:function(n,r){var u=Math.min(n.getMinX(),r.getMinX()),p=Math.min(n.getMinY(),r.getMinY()),y=Math.max(n.getMaxX(),r.getMaxX()),k=Math.max(n.getMaxY(),r.getMaxY());return c.distance(u,p,y,k)}},{key:"minMaxDistance",value:function(n,r){var u=n.getMinX(),p=n.getMinY(),y=n.getMaxX(),k=n.getMaxY(),S=r.getMinX(),M=r.getMinY(),U=r.getMaxX(),nt=r.getMaxY(),st=c.maxDistance(u,p,u,k,S,M,S,nt);return st=Math.min(st,c.maxDistance(u,p,u,k,S,M,U,M)),st=Math.min(st,c.maxDistance(u,p,u,k,U,nt,S,nt)),st=Math.min(st,c.maxDistance(u,p,u,k,U,nt,U,M)),st=Math.min(st,c.maxDistance(u,p,y,p,S,M,S,nt)),st=Math.min(st,c.maxDistance(u,p,y,p,S,M,U,M)),st=Math.min(st,c.maxDistance(u,p,y,p,U,nt,S,nt)),st=Math.min(st,c.maxDistance(u,p,y,p,U,nt,U,M)),st=Math.min(st,c.maxDistance(y,k,u,k,S,M,S,nt)),st=Math.min(st,c.maxDistance(y,k,u,k,S,M,U,M)),st=Math.min(st,c.maxDistance(y,k,u,k,U,nt,S,nt)),st=Math.min(st,c.maxDistance(y,k,u,k,U,nt,U,M)),st=Math.min(st,c.maxDistance(y,k,y,p,S,M,S,nt)),st=Math.min(st,c.maxDistance(y,k,y,p,S,M,U,M)),st=Math.min(st,c.maxDistance(y,k,y,p,U,nt,S,nt)),st=Math.min(st,c.maxDistance(y,k,y,p,U,nt,U,M))}}])}(),ji=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"maximumDistance",value:function(){return eh.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(n,r){var u=c.isComposite(this._boundable1),p=c.isComposite(this._boundable2);if(u&&p)return c.area(this._boundable1)>c.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,n,r),null):(this.expand(this._boundable2,this._boundable1,!0,n,r),null);if(u)return this.expand(this._boundable1,this._boundable2,!1,n,r),null;if(p)return this.expand(this._boundable2,this._boundable1,!0,n,r),null;throw new H("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(c.isComposite(this._boundable1)||c.isComposite(this._boundable2))}},{key:"compareTo",value:function(n){var r=n;return this._distance<r._distance?-1:this._distance>r._distance?1:0}},{key:"expand",value:function(n,r,u,p,y){for(var k=n.getChildBoundables().iterator();k.hasNext();){var S=k.next(),M=null;(M=u?new c(r,S,this._itemDistance):new c(S,r,this._itemDistance)).getDistance()<y&&p.add(M)}}},{key:"getBoundable",value:function(n){return n===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[$]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var n=arguments[0],r=arguments[1],u=arguments[2];this._boundable1=n,this._boundable2=r,this._itemDistance=u,this._distance=this.distance()}},{key:"area",value:function(n){return n.getBounds().getArea()}},{key:"isComposite",value:function(n){return n instanceof gn}}])}(),Jl=function(){return d(function c(){i(this,c)},[{key:"visitItem",value:function(c){}}])}(),wr=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"queryInternal",value:function(){if(Y(arguments[2],Jl)&&arguments[0]instanceof Object&&arguments[1]instanceof gn)for(var n=arguments[0],r=arguments[2],u=arguments[1].getChildBoundables(),p=0;p<u.size();p++){var y=u.get(p);this.getIntersectsOp().intersects(y.getBounds(),n)&&(y instanceof gn?this.queryInternal(n,y,r):y instanceof oe?r.visitItem(y.getItem()):Pt.shouldNeverReachHere())}else if(Y(arguments[2],Dt)&&arguments[0]instanceof Object&&arguments[1]instanceof gn)for(var k=arguments[0],S=arguments[2],M=arguments[1].getChildBoundables(),U=0;U<M.size();U++){var nt=M.get(U);this.getIntersectsOp().intersects(nt.getBounds(),k)&&(nt instanceof gn?this.queryInternal(k,nt,S):nt instanceof oe?S.add(nt.getItem()):Pt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(n){return n.get(n.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var u=r.next();u instanceof gn?n+=this.size(u):u instanceof oe&&(n+=1)}return n}}},{key:"removeItem",value:function(n,r){for(var u=null,p=n.getChildBoundables().iterator();p.hasNext();){var y=p.next();y instanceof oe&&y.getItem()===r&&(u=y)}return u!==null&&(n.getChildBoundables().remove(u),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new qt:n}if(arguments.length===1){for(var r=arguments[0],u=new qt,p=r.getChildBoundables().iterator();p.hasNext();){var y=p.next();if(y instanceof gn){var k=this.itemsTree(y);k!==null&&u.add(k)}else y instanceof oe?u.add(y.getItem()):Pt.shouldNeverReachHere()}return u.size()<=0?null:u}}},{key:"insert",value:function(n,r){Pt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new oe(n,r))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var n=arguments[0],r=new qt;return this.boundablesAtLevel(n,this._root,r),r}if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2];if(Pt.isTrue(u>-2),p.getLevel()===u)return y.add(p),null;for(var k=p.getChildBoundables().iterator();k.hasNext();){var S=k.next();S instanceof gn?this.boundablesAtLevel(u,S,y):(Pt.isTrue(S instanceof oe),u===-1&&y.add(S))}return null}}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];this.build();var r=new qt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,r),r}if(arguments.length===2){var u=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),u)&&this.queryInternal(u,this._root,p)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,r)}if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2],k=this.removeItem(p,y);if(k)return!0;for(var S=null,M=p.getChildBoundables().iterator();M.hasNext();){var U=M.next();if(this.getIntersectsOp().intersects(U.getBounds(),u)&&U instanceof gn&&(k=this.remove(u,U,y))){S=U;break}}return S!==null&&S.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(S),k}}},{key:"createHigherLevels",value:function(n,r){Pt.isTrue(!n.isEmpty());var u=this.createParentBoundables(n,r+1);return u.size()===1?u.get(0):this.createHigherLevels(u,r+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var u=r.next();if(u instanceof gn){var p=this.depth(u);p>n&&(n=p)}}return n+1}}},{key:"createParentBoundables",value:function(n,r){Pt.isTrue(!n.isEmpty());var u=new qt;u.add(this.createNode(r));var p=new qt(n);br.sort(p,this.getComparator());for(var y=p.iterator();y.hasNext();){var k=y.next();this.lastNode(u).getChildBoundables().size()===this.getNodeCapacity()&&u.add(this.createNode(r)),this.lastNode(u).addChildBoundable(k)}return u}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[X]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new qt,this._nodeCapacity=null,arguments.length===0)c.constructor_.call(this,c.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];Pt.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}}},{key:"compareDoubles",value:function(n,r){return n>r?1:n<r?-1:0}}])}();wr.IntersectsOp=function(){},wr.DEFAULT_NODE_CAPACITY=10;var nh=function(){return d(function c(){i(this,c)},[{key:"distance",value:function(c,n){}}])}(),gi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(r,u){Pt.isTrue(r.length>0);for(var p=new qt,y=0;y<r.length;y++)p.addAll(this.createParentBoundablesFromVerticalSlice(r[y],u));return p}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.nearestNeighbourK(r,ut.POSITIVE_INFINITY,u)}if(arguments.length===3){var p=arguments[0],y=arguments[2],k=arguments[1],S=new To;S.add(p);for(var M=new To;!S.isEmpty()&&k>=0;){var U=S.poll(),nt=U.getDistance();if(nt>=k)break;U.isLeaves()?M.size()<y?M.add(U):(M.peek().getDistance()>nt&&(M.poll(),M.add(U)),k=M.peek().getDistance()):U.expandToQueue(S,k)}return n.getItems(M)}}},{key:"createNode",value:function(r){return new Co(r)}},{key:"size",value:function(){return arguments.length===0?I(n,"size",this,1).call(this):I(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof St))return I(n,"insert",this,1).apply(this,arguments);var r=arguments[0],u=arguments[1];if(r.isNull())return null;I(n,"insert",this,1).call(this,r,u)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(r,u){for(var p=Math.trunc(Math.ceil(r.size()/u)),y=new Array(u).fill(null),k=r.iterator(),S=0;S<u;S++){y[S]=new qt;for(var M=0;k.hasNext()&&M<p;){var U=k.next();y[S].add(U),M++}}return y}},{key:"query",value:function(){if(arguments.length===1){var r=arguments[0];return I(n,"query",this,1).call(this,r)}if(arguments.length===2){var u=arguments[0],p=arguments[1];I(n,"query",this,1).call(this,u,p)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(r,u){return I(n,"createParentBoundables",this,1).call(this,r,u)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof St){var r=arguments[0],u=arguments[1];return I(n,"remove",this,1).call(this,r,u)}return I(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?I(n,"depth",this,1).call(this):I(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(r,u){Pt.isTrue(!r.isEmpty());var p=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),y=new qt(r);br.sort(y,n.xComparator);var k=this.verticalSlices(y,Math.trunc(Math.ceil(Math.sqrt(p))));return this.createParentBoundablesFromVerticalSlices(k,u)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Y(arguments[0],nh)){var r=arguments[0];if(this.isEmpty())return null;var u=new ji(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(u)}if(arguments[0]instanceof ji){var p=arguments[0],y=ut.POSITIVE_INFINITY,k=null,S=new To;for(S.add(p);!S.isEmpty()&&y>0;){var M=S.poll(),U=M.getDistance();if(U>=y)break;M.isLeaves()?(y=U,k=M):M.expandToQueue(S,y)}return k===null?null:[k.getBoundable(0).getItem(),k.getBoundable(1).getItem()]}}else{if(arguments.length===2){var nt=arguments[0],st=arguments[1];if(this.isEmpty()||nt.isEmpty())return null;var xt=new ji(this.getRoot(),nt.getRoot(),st);return this.nearestNeighbour(xt)}if(arguments.length===3){var Bt=arguments[2],Wt=new oe(arguments[0],arguments[1]),Kt=new ji(this.getRoot(),Wt,Bt);return this.nearestNeighbour(Kt)[0]}if(arguments.length===4){var me=arguments[2],le=arguments[3],Me=new oe(arguments[0],arguments[1]),He=new ji(this.getRoot(),Me,me);return this.nearestNeighbourK(He,le)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var r=arguments[0],u=arguments[1],p=ut.POSITIVE_INFINITY,y=new To;for(y.add(r);!y.isEmpty();){var k=y.poll(),S=k.getDistance();if(S>u)return!1;if(k.maximumDistance()<=u)return!0;if(k.isLeaves()){if((p=S)<=u)return!0}else k.expandToQueue(y,p)}return!1}if(arguments.length===3){var M=arguments[0],U=arguments[1],nt=arguments[2],st=new ji(this.getRoot(),M.getRoot(),U);return this.isWithinDistance(st,nt)}}},{key:"interfaces_",get:function(){return[si,X]}}],[{key:"constructor_",value:function(){if(arguments.length===0)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var r=arguments[0];wr.constructor_.call(this,r)}}},{key:"centreX",value:function(r){return n.avg(r.getMinX(),r.getMaxX())}},{key:"avg",value:function(r,u){return(r+u)/2}},{key:"getItems",value:function(r){for(var u=new Array(r.size()).fill(null),p=0;!r.isEmpty();){var y=r.poll();u[p]=y.getBoundable(0).getItem(),p++}return u}},{key:"centreY",value:function(r){return n.avg(r.getMinY(),r.getMaxY())}}])}(wr),Co=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeBounds",value:function(){for(var r=null,u=this.getChildBoundables().iterator();u.hasNext();){var p=u.next();r===null?r=new St(p.getBounds()):r.expandToInclude(p.getBounds())}return r}}],[{key:"constructor_",value:function(){var r=arguments[0];gn.constructor_.call(this,r)}}])}(gn);gi.STRtreeNode=Co,gi.xComparator=new(function(){return d(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[At]}},{key:"compare",value:function(c,n){return wr.compareDoubles(gi.centreX(c.getBounds()),gi.centreX(n.getBounds()))}}])}()),gi.yComparator=new(function(){return d(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[At]}},{key:"compare",value:function(c,n){return wr.compareDoubles(gi.centreY(c.getBounds()),gi.centreY(n.getBounds()))}}])}()),gi.intersectsOp=new(function(){return d(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(c,n){return c.intersects(n)}}])}()),gi.DEFAULT_NODE_CAPACITY=10;var ih=function(){function c(){i(this,c)}return d(c,null,[{key:"relativeSign",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"compare",value:function(n,r,u){if(r.equals2D(u))return 0;var p=c.relativeSign(r.x,u.x),y=c.relativeSign(r.y,u.y);switch(n){case 0:return c.compareValue(p,y);case 1:return c.compareValue(y,p);case 2:return c.compareValue(y,-p);case 3:return c.compareValue(-p,y);case 4:return c.compareValue(-p,-y);case 5:return c.compareValue(-y,-p);case 6:return c.compareValue(-y,p);case 7:return c.compareValue(p,-y)}return Pt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(n,r){return n<0?-1:n>0?1:r<0?-1:r>0?1:0}}])}(),_i=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(c){var n=c;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:this._isInterior?n._isInterior?ih.compare(this._segmentOctant,this.coord,n.coord):1:-1}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===c}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[$]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var c=arguments[0],n=arguments[1],r=arguments[2],u=arguments[3];this._segString=c,this.coord=new G(n),this.segmentIndex=r,this._segmentOctant=u,this._isInterior=!n.equals2D(c.getCoordinate(r))}}])}(),rh=function(){return d(function c(){i(this,c)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),Ql=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var c=new Is;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next();this.addEdgeCoordinates(r,u,c),r=u}return c.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var c=new qt;this.findCollapsesFromInsertedNodes(c),this.findCollapsesFromExistingVertices(c);for(var n=c.iterator();n.hasNext();){var r=n.next().intValue();this.add(this._edge.getCoordinate(r),r)}}},{key:"createSplitEdgePts",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2;if(r===2)return[new G(c.coord),new G(n.coord)];var u=this._edge.getCoordinate(n.segmentIndex),p=n.isInterior()||!n.coord.equals2D(u);p||r--;var y=new Array(r).fill(null),k=0;y[k++]=new G(c.coord);for(var S=c.segmentIndex+1;S<=n.segmentIndex;S++)y[k++]=this._edge.getCoordinate(S);return p&&(y[k]=new G(n.coord)),y}},{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"findCollapsesFromExistingVertices",value:function(c){for(var n=0;n<this._edge.size()-2;n++){var r=this._edge.getCoordinate(n);this._edge.getCoordinate(n+1);var u=this._edge.getCoordinate(n+2);r.equals2D(u)&&c.add(Gt.valueOf(n+1))}}},{key:"addEdgeCoordinates",value:function(c,n,r){var u=this.createSplitEdgePts(c,n);r.add(u,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next(),p=this.createSplitEdge(r,u);c.add(p),r=u}}},{key:"findCollapseIndex",value:function(c,n,r){if(!c.coord.equals2D(n.coord))return!1;var u=n.segmentIndex-c.segmentIndex;return n.isInterior()||u--,u===1&&(r[0]=c.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(c){for(var n=new Array(1).fill(null),r=this.iterator(),u=r.next();r.hasNext();){var p=r.next();this.findCollapseIndex(u,p,n)&&c.add(Gt.valueOf(n[0])),u=p}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var c=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(c),c)}},{key:"createSplitEdge",value:function(c,n){var r=this.createSplitEdgePts(c,n);return new Ni(r,this._edge.getData())}},{key:"add",value:function(c,n){var r=new _i(this._edge,c,n,this._edge.getSegmentOctant(n)),u=this._nodeMap.get(r);return u!==null?(Pt.isTrue(u.coord.equals2D(c),"Found equal nodes with different coordinates"),u):(this._nodeMap.put(r,r),r)}},{key:"checkSplitEdgesCorrectness",value:function(c){var n=this._edge.getCoordinates(),r=c.get(0).getCoordinate(0);if(!r.equals2D(n[0]))throw new Ut("bad split edge start point at "+r);var u=c.get(c.size()-1).getCoordinates(),p=u[u.length-1];if(!p.equals2D(n[n.length-1]))throw new Ut("bad split edge end point at "+p)}}],[{key:"constructor_",value:function(){this._nodeMap=new Ze,this._edge=null;var c=arguments[0];this._edge=c}}])}(),Xi=function(){function c(){i(this,c)}return d(c,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new H("Cannot compute the octant for point ( "+n+", "+r+" )");var u=Math.abs(n),p=Math.abs(r);return n>=0?r>=0?u>=p?0:1:u>=p?7:6:r>=0?u>=p?3:2:u>=p?4:5}if(arguments[0]instanceof G&&arguments[1]instanceof G){var y=arguments[0],k=arguments[1],S=k.x-y.x,M=k.y-y.y;if(S===0&&M===0)throw new H("Cannot compute the octant for two identical points "+y);return c.octant(S,M)}}}])}(),tu=function(){return d(function c(){i(this,c)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(c){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(c){}},{key:"getData",value:function(){}}])}(),eu=function(){return d(function c(){i(this,c)},[{key:"addIntersection",value:function(c,n){}},{key:"interfaces_",get:function(){return[tu]}}])}(),Ni=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(n){return this._pts[n]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(n){return n===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))}},{key:"setData",value:function(n){this._data=n}},{key:"safeOctant",value:function(n,r){return n.equals2D(r)?0:Xi.octant(n,r)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.addIntersectionNode(n,r)}else if(arguments.length===4){var u=arguments[1],p=arguments[3],y=new G(arguments[0].getIntersection(p));this.addIntersection(y,u)}}},{key:"toString",value:function(){return Os.toLineString(new Ps(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(n,r){var u=r,p=u+1;if(p<this._pts.length){var y=this._pts[p];n.equals2D(y)&&(u=p)}return this._nodeList.add(n,u)}},{key:"addIntersections",value:function(n,r,u){for(var p=0;p<n.getIntersectionNum();p++)this.addIntersection(n,r,u,p)}},{key:"interfaces_",get:function(){return[eu]}}],[{key:"constructor_",value:function(){this._nodeList=new Ql(this),this._pts=null,this._data=null;var n=arguments[0],r=arguments[1];this._pts=n,this._data=r}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var n=arguments[0],r=new qt;return c.getNodedSubstrings(n,r),r}if(arguments.length===2)for(var u=arguments[1],p=arguments[0].iterator();p.hasNext();)p.next().getNodeList().addSplitEdges(u)}}])}(),On=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof c){var n=arguments[0],r=Yt.index(this.p0,this.p1,n.p0),u=Yt.index(this.p0,this.p1,n.p1);return r>=0&&u>=0||r<=0&&u<=0?Math.max(r,u):0}if(arguments[0]instanceof G){var p=arguments[0];return Yt.index(this.p0,this.p1,p)}}},{key:"toGeometry",value:function(n){return n.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.p0.equals(r.p0)&&this.p1.equals(r.p1)}},{key:"intersection",value:function(n){var r=new Pi;return r.computeIntersection(this.p0,this.p1,n.p0,n.p1),r.hasIntersection()?r.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof G){var n=arguments[0];if(n.equals(this.p0)||n.equals(this.p1))return new G(n);var r=this.projectionFactor(n),u=new G;return u.x=this.p0.x+r*(this.p1.x-this.p0.x),u.y=this.p0.y+r*(this.p1.y-this.p0.y),u}if(arguments[0]instanceof c){var p=arguments[0],y=this.projectionFactor(p.p0),k=this.projectionFactor(p.p1);if(y>=1&&k>=1||y<=0&&k<=0)return null;var S=this.project(p.p0);y<0&&(S=this.p0),y>1&&(S=this.p1);var M=this.project(p.p1);return k<0&&(M=this.p0),k>1&&(M=this.p1),new c(S,M)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(n){return n===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(n){return ri.pointToLinePerpendicular(n,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return c.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var r=this.p1.x-this.p0.x,u=this.p1.y-this.p0.y,p=r*r+u*u;return p<=0?ut.NaN:((n.x-this.p0.x)*r+(n.y-this.p0.y)*u)/p}},{key:"closestPoints",value:function(n){var r=this.intersection(n);if(r!==null)return[r,r];var u=new Array(2).fill(null),p=ut.MAX_VALUE,y=null,k=this.closestPoint(n.p0);p=k.distance(n.p0),u[0]=k,u[1]=n.p0;var S=this.closestPoint(n.p1);(y=S.distance(n.p1))<p&&(p=y,u[0]=S,u[1]=n.p1);var M=n.closestPoint(this.p0);(y=M.distance(this.p0))<p&&(p=y,u[0]=this.p0,u[1]=M);var U=n.closestPoint(this.p1);return(y=U.distance(this.p1))<p&&(p=y,u[0]=this.p1,u[1]=U),u}},{key:"closestPoint",value:function(n){var r=this.projectionFactor(n);return r>0&&r<1?this.project(n):this.p0.distance(n)<this.p1.distance(n)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(n){var r=n,u=this.p0.compareTo(r.p0);return u!==0?u:this.p1.compareTo(r.p1)}},{key:"reverse",value:function(){var n=this.p0;this.p0=this.p1,this.p1=n}},{key:"equalsTopo",value:function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)}},{key:"lineIntersection",value:function(n){return ya.intersection(this.p0,this.p1,n.p0,n.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(n,r){var u=this.p0.x+n*(this.p1.x-this.p0.x),p=this.p0.y+n*(this.p1.y-this.p0.y),y=this.p1.x-this.p0.x,k=this.p1.y-this.p0.y,S=Math.sqrt(y*y+k*k),M=0,U=0;if(r!==0){if(S<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");M=r*y/S,U=r*k/S}return new G(u-U,p+M)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var n=arguments[0];this.setCoordinates(n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.p0.x=r.x,this.p0.y=r.y,this.p1.x=u.x,this.p1.y=u.y}}},{key:"segmentFraction",value:function(n){var r=this.projectionFactor(n);return r<0?r=0:(r>1||ut.isNaN(r))&&(r=1),r}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(n){var r=this.p1.getY()-this.p0.getY(),u=this.p0.getX()-this.p1.getX(),p=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),y=r*r+u*u,k=r*r-u*u,S=n.getX(),M=n.getY();return new G((-k*S-2*r*u*M-2*r*p)/y,(k*M-2*r*u*S-2*u*p)/y)}},{key:"distance",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return ri.segmentToSegment(this.p0,this.p1,n.p0,n.p1)}if(arguments[0]instanceof G){var r=arguments[0];return ri.pointToSegment(r,this.p0,this.p1)}}},{key:"pointAlong",value:function(n){var r=new G;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}},{key:"hashCode",value:function(){var n=ut.doubleToLongBits(this.p0.x);n^=31*ut.doubleToLongBits(this.p0.y);var r=Math.trunc(n)^Math.trunc(n>>32),u=ut.doubleToLongBits(this.p1.x);return u^=31*ut.doubleToLongBits(this.p1.y),r^(Math.trunc(u)^Math.trunc(u>>32))}},{key:"interfaces_",get:function(){return[$,X]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)c.constructor_.call(this,new G,new G);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.p0=r,this.p1=u}else if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],S=arguments[3];c.constructor_.call(this,new G(p,y),new G(k,S))}}},{key:"midPoint",value:function(n,r){return new G((n.x+r.x)/2,(n.y+r.y)/2)}}])}(),nu=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var c=arguments[1],n=arguments[2],r=arguments[3];arguments[0].getLineSegment(c,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new On,this._overlapSeg2=new On}}])}(),Ra=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(c,n){n.p0=this._pts[c],n.p1=this._pts[c+1]}},{key:"computeSelect",value:function(c,n,r,u){var p=this._pts[n],y=this._pts[r];if(r-n==1)return u.select(this,n),null;if(!c.intersects(p,y))return null;var k=Math.trunc((n+r)/2);n<k&&this.computeSelect(c,n,k,u),k<r&&this.computeSelect(c,k,r,u)}},{key:"getCoordinates",value:function(){for(var c=new Array(this._end-this._start+1).fill(null),n=0,r=this._start;r<=this._end;r++)c[n++]=this._pts[r];return c}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var c=arguments[0],n=arguments[1];this.computeOverlaps(this._start,this._end,c,c._start,c._end,n)}else if(arguments.length===6){var r=arguments[0],u=arguments[1],p=arguments[2],y=arguments[3],k=arguments[4],S=arguments[5];if(u-r==1&&k-y==1)return S.overlap(this,r,p,y),null;if(!this.overlaps(r,u,p,y,k))return null;var M=Math.trunc((r+u)/2),U=Math.trunc((y+k)/2);r<M&&(y<U&&this.computeOverlaps(r,M,p,y,U,S),U<k&&this.computeOverlaps(r,M,p,U,k,S)),M<u&&(y<U&&this.computeOverlaps(M,u,p,y,U,S),U<k&&this.computeOverlaps(M,u,p,U,k,S))}}},{key:"setId",value:function(c){this._id=c}},{key:"select",value:function(c,n){this.computeSelect(c,this._start,this._end,n)}},{key:"getEnvelope",value:function(){if(this._env===null){var c=this._pts[this._start],n=this._pts[this._end];this._env=new St(c,n)}return this._env}},{key:"overlaps",value:function(c,n,r,u,p){return St.intersects(this._pts[c],this._pts[n],r._pts[u],r._pts[p])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var c=arguments[0],n=arguments[1],r=arguments[2],u=arguments[3];this._pts=c,this._start=n,this._end=r,this._context=u}}])}(),sh=function(){function c(){i(this,c)}return d(c,null,[{key:"findChainEnd",value:function(n,r){for(var u=r;u<n.length-1&&n[u].equals2D(n[u+1]);)u++;if(u>=n.length-1)return n.length-1;for(var p=mn.quadrant(n[u],n[u+1]),y=r+1;y<n.length&&!(!n[y-1].equals2D(n[y])&&mn.quadrant(n[y-1],n[y])!==p);)y++;return y-1}},{key:"getChains",value:function(){if(arguments.length===1){var n=arguments[0];return c.getChains(n,null)}if(arguments.length===2){var r=arguments[0],u=arguments[1],p=new qt,y=0;do{var k=c.findChainEnd(r,y),S=new Ra(r,y,k,u);p.add(S),y=k}while(y<r.length-1);return p}}}])}(),Da=function(){return d(function c(){i(this,c)},[{key:"computeNodes",value:function(c){}},{key:"getNodedSubstrings",value:function(){}}])}(),So=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(c){this._segInt=c}},{key:"interfaces_",get:function(){return[Da]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this.setSegmentIntersector(c)}}}}])}(),Ba=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Ni.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(r){for(var u=sh.getChains(r.getCoordinates(),r).iterator();u.hasNext();){var p=u.next();p.setId(this._idCounter++),this._index.insert(p.getEnvelope(),p),this._monoChains.add(p)}}},{key:"computeNodes",value:function(r){this._nodedSegStrings=r;for(var u=r.iterator();u.hasNext();)this.add(u.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var r=new Fa(this._segInt),u=this._monoChains.iterator();u.hasNext();)for(var p=u.next(),y=this._index.query(p.getEnvelope()).iterator();y.hasNext();){var k=y.next();if(k.getId()>p.getId()&&(p.computeOverlaps(k,r),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new qt,this._index=new gi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var r=arguments[0];So.constructor_.call(this,r)}}}}])}(So),Fa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"overlap",value:function(){if(arguments.length!==4)return I(n,"overlap",this,1).apply(this,arguments);var r=arguments[1],u=arguments[2],p=arguments[3],y=arguments[0].getContext(),k=u.getContext();this._si.processIntersections(y,r,k,p)}}],[{key:"constructor_",value:function(){this._si=null;var r=arguments[0];this._si=r}}])}(nu);Ba.SegmentOverlapAction=Fa;var jn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isDeletable",value:function(n,r,u,p){var y=this._inputLine[n],k=this._inputLine[r],S=this._inputLine[u];return!!this.isConcave(y,k,S)&&!!this.isShallow(y,k,S,p)&&this.isShallowSampled(y,k,n,u,p)}},{key:"deleteShallowConcavities",value:function(){for(var n=1,r=this.findNextNonDeletedIndex(n),u=this.findNextNonDeletedIndex(r),p=!1;u<this._inputLine.length;){var y=!1;this.isDeletable(n,r,u,this._distanceTol)&&(this._isDeleted[r]=c.DELETE,y=!0,p=!0),n=y?u:r,r=this.findNextNonDeletedIndex(n),u=this.findNextNonDeletedIndex(r)}return p}},{key:"isShallowConcavity",value:function(n,r,u,p){return Yt.index(n,r,u)===this._angleOrientation&&ri.pointToSegment(r,n,u)<p}},{key:"isShallowSampled",value:function(n,r,u,p,y){var k=Math.trunc((p-u)/c.NUM_PTS_TO_CHECK);k<=0&&(k=1);for(var S=u;S<p;S+=k)if(!this.isShallow(n,r,this._inputLine[S],y))return!1;return!0}},{key:"isConcave",value:function(n,r,u){var p=Yt.index(n,r,u)===this._angleOrientation;return p}},{key:"simplify",value:function(n){this._distanceTol=Math.abs(n),n<0&&(this._angleOrientation=Yt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=this.deleteShallowConcavities();while(r);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(n){for(var r=n+1;r<this._inputLine.length&&this._isDeleted[r]===c.DELETE;)r++;return r}},{key:"isShallow",value:function(n,r,u,p){return ri.pointToSegment(r,n,u)<p}},{key:"collapseLine",value:function(){for(var n=new Is,r=0;r<this._inputLine.length;r++)this._isDeleted[r]!==c.DELETE&&n.add(this._inputLine[r]);return n.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Yt.COUNTERCLOCKWISE;var n=arguments[0];this._inputLine=n}},{key:"simplify",value:function(n,r){return new c(n).simplify(r)}}])}();jn.INIT=0,jn.DELETE=1,jn.KEEP=1,jn.NUM_PTS_TO_CHECK=10;var Rs=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getCoordinates",value:function(){return this._ptList.toArray(c.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"addPt",value:function(n){var r=new G(n);if(this._precisionModel.makePrecise(r),this.isRedundant(r))return null;this._ptList.add(r)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(n,r){if(r)for(var u=0;u<n.length;u++)this.addPt(n[u]);else for(var p=n.length-1;p>=0;p--)this.addPt(n[p])}},{key:"isRedundant",value:function(n){if(this._ptList.size()<1)return!1;var r=this._ptList.get(this._ptList.size()-1);return n.distance(r)<this._minimimVertexDistance}},{key:"toString",value:function(){return new di().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var n=new G(this._ptList.get(0)),r=this._ptList.get(this._ptList.size()-1);if(n.equals(r))return null;this._ptList.add(n)}},{key:"setMinimumVertexDistance",value:function(n){this._minimimVertexDistance=n}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new qt}}])}();Rs.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var en=function(){function c(){i(this,c)}return d(c,null,[{key:"toDegrees",value:function(n){return 180*n/Math.PI}},{key:"normalize",value:function(n){for(;n>Math.PI;)n-=c.PI_TIMES_2;for(;n<=-Math.PI;)n+=c.PI_TIMES_2;return n}},{key:"angle",value:function(){if(arguments.length===1){var n=arguments[0];return Math.atan2(n.y,n.x)}if(arguments.length===2){var r=arguments[0],u=arguments[1],p=u.x-r.x,y=u.y-r.y;return Math.atan2(y,p)}}},{key:"isAcute",value:function(n,r,u){var p=n.x-r.x,y=n.y-r.y;return p*(u.x-r.x)+y*(u.y-r.y)>0}},{key:"isObtuse",value:function(n,r,u){var p=n.x-r.x,y=n.y-r.y;return p*(u.x-r.x)+y*(u.y-r.y)<0}},{key:"interiorAngle",value:function(n,r,u){var p=c.angle(r,n),y=c.angle(r,u);return Math.abs(y-p)}},{key:"normalizePositive",value:function(n){if(n<0){for(;n<0;)n+=c.PI_TIMES_2;n>=c.PI_TIMES_2&&(n=0)}else{for(;n>=c.PI_TIMES_2;)n-=c.PI_TIMES_2;n<0&&(n=0)}return n}},{key:"angleBetween",value:function(n,r,u){var p=c.angle(r,n),y=c.angle(r,u);return c.diff(p,y)}},{key:"diff",value:function(n,r){var u=null;return(u=n<r?r-n:n-r)>Math.PI&&(u=2*Math.PI-u),u}},{key:"toRadians",value:function(n){return n*Math.PI/180}},{key:"getTurn",value:function(n,r){var u=Math.sin(r-n);return u>0?c.COUNTERCLOCKWISE:u<0?c.CLOCKWISE:c.NONE}},{key:"angleBetweenOriented",value:function(n,r,u){var p=c.angle(r,n),y=c.angle(r,u)-p;return y<=-Math.PI?y+c.PI_TIMES_2:y>Math.PI?y-c.PI_TIMES_2:y}}])}();en.PI_TIMES_2=2*Math.PI,en.PI_OVER_2=Math.PI/2,en.PI_OVER_4=Math.PI/4,en.COUNTERCLOCKWISE=Yt.COUNTERCLOCKWISE,en.CLOCKWISE=Yt.CLOCKWISE,en.NONE=Yt.COLLINEAR;var Ds=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"addNextSegment",value:function(n,r){if(this._s0=this._s1,this._s1=this._s2,this._s2=n,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var u=Yt.index(this._s0,this._s1,this._s2),p=u===Yt.CLOCKWISE&&this._side===N.LEFT||u===Yt.COUNTERCLOCKWISE&&this._side===N.RIGHT;u===0?this.addCollinear(r):p?this.addOutsideTurn(u,r):this.addInsideTurn(u,r)}},{key:"addLineEndCap",value:function(n,r){var u=new On(n,r),p=new On;this.computeOffsetSegment(u,N.LEFT,this._distance,p);var y=new On;this.computeOffsetSegment(u,N.RIGHT,this._distance,y);var k=r.x-n.x,S=r.y-n.y,M=Math.atan2(S,k);switch(this._bufParams.getEndCapStyle()){case D.CAP_ROUND:this._segList.addPt(p.p1),this.addDirectedFillet(r,M+Math.PI/2,M-Math.PI/2,Yt.CLOCKWISE,this._distance),this._segList.addPt(y.p1);break;case D.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(y.p1);break;case D.CAP_SQUARE:var U=new G;U.x=Math.abs(this._distance)*Math.cos(M),U.y=Math.abs(this._distance)*Math.sin(M);var nt=new G(p.p1.x+U.x,p.p1.y+U.y),st=new G(y.p1.x+U.x,y.p1.y+U.y);this._segList.addPt(nt),this._segList.addPt(st)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(n,r,u,p){var y=ya.intersection(r.p0,r.p1,u.p0,u.p1);if(y!==null&&(p<=0?1:y.distance(n)/Math.abs(p))<=this._bufParams.getMitreLimit())return this._segList.addPt(y),null;this.addLimitedMitreJoin(r,u,p,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(n,r){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*c.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===D.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===D.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(r&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,n,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(n){this._segList.addPt(new G(n.x+this._distance,n.y+this._distance)),this._segList.addPt(new G(n.x+this._distance,n.y-this._distance)),this._segList.addPt(new G(n.x-this._distance,n.y-this._distance)),this._segList.addPt(new G(n.x-this._distance,n.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(n,r){this._segList.addPts(n,r)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(n,r,u,p,y){var k=r.x-n.x,S=r.y-n.y,M=Math.atan2(S,k),U=u.x-n.x,nt=u.y-n.y,st=Math.atan2(nt,U);p===Yt.CLOCKWISE?M<=st&&(M+=2*Math.PI):M>=st&&(M-=2*Math.PI),this._segList.addPt(r),this.addDirectedFillet(n,M,st,p,y),this._segList.addPt(u)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(n,r,u){this._s1=n,this._s2=r,this._side=u,this._seg1.setCoordinates(n,r),this.computeOffsetSegment(this._seg1,u,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(n,r,u,p){var y=this._seg0.p1,k=en.angle(y,this._seg0.p0),S=en.angleBetweenOriented(this._seg0.p0,y,this._seg1.p1)/2,M=en.normalize(k+S),U=en.normalize(M+Math.PI),nt=p*u,st=u-nt*Math.abs(Math.sin(S)),xt=y.x+nt*Math.cos(U),Bt=y.y+nt*Math.sin(U),Wt=new G(xt,Bt),Kt=new On(y,Wt),me=Kt.pointAlongOffset(1,st),le=Kt.pointAlongOffset(1,-st);this._side===N.LEFT?(this._segList.addPt(me),this._segList.addPt(le)):(this._segList.addPt(le),this._segList.addPt(me))}},{key:"addDirectedFillet",value:function(n,r,u,p,y){var k=p===Yt.CLOCKWISE?-1:1,S=Math.abs(r-u),M=Math.trunc(S/this._filletAngleQuantum+.5);if(M<1)return null;for(var U=S/M,nt=new G,st=0;st<M;st++){var xt=r+k*st*U;nt.x=n.x+y*Math.cos(xt),nt.y=n.y+y*Math.sin(xt),this._segList.addPt(nt)}}},{key:"computeOffsetSegment",value:function(n,r,u,p){var y=r===N.LEFT?1:-1,k=n.p1.x-n.p0.x,S=n.p1.y-n.p0.y,M=Math.sqrt(k*k+S*S),U=y*u*k/M,nt=y*u*S/M;p.p0.x=n.p0.x-nt,p.p0.y=n.p0.y+U,p.p1.x=n.p1.x-nt,p.p1.y=n.p1.y+U}},{key:"addInsideTurn",value:function(n,r){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*c.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var u=new G((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(u);var p=new G((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(n){var r=new G(n.x+this._distance,n.y);this._segList.addPt(r),this.addDirectedFillet(n,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(n,r){this._segList.addPt(n.p1),this._segList.addPt(r.p0)}},{key:"init",value:function(n){this._distance=n,this._maxCurveSegmentError=n*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Rs,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(n*c.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(n){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===D.JOIN_BEVEL||this._bufParams.getJoinStyle()===D.JOIN_MITRE?(n&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Yt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new On,this._seg1=new On,this._offset0=new On,this._offset1=new On,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],r=arguments[1],u=arguments[2];this._precisionModel=n,this._bufParams=r,this._li=new Pi,this._filletAngleQuantum=Math.PI/2/r.getQuadrantSegments(),r.getQuadrantSegments()>=8&&r.getJoinStyle()===D.JOIN_ROUND&&(this._closingSegLengthFactor=c.MAX_CLOSING_SEG_LEN_FACTOR),this.init(u)}}])}();Ds.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ds.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ds.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ds.MAX_CLOSING_SEG_LEN_FACTOR=80;var Bs=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getOffsetCurve",value:function(n,r){if(this._distance=r,r===0)return null;var u=r<0,p=Math.abs(r),y=this.getSegGen(p);n.length<=1?this.computePointCurve(n[0],y):this.computeOffsetCurve(n,u,y);var k=y.getCoordinates();return u&&Xe.reverse(k),k}},{key:"computeSingleSidedBufferCurve",value:function(n,r,u){var p=this.simplifyTolerance(this._distance);if(r){u.addSegments(n,!0);var y=jn.simplify(n,-p),k=y.length-1;u.initSideSegments(y[k],y[k-1],N.LEFT),u.addFirstSegment();for(var S=k-2;S>=0;S--)u.addNextSegment(y[S],!0)}else{u.addSegments(n,!1);var M=jn.simplify(n,p),U=M.length-1;u.initSideSegments(M[0],M[1],N.LEFT),u.addFirstSegment();for(var nt=2;nt<=U;nt++)u.addNextSegment(M[nt],!0)}u.addLastSegment(),u.closeRing()}},{key:"computeRingBufferCurve",value:function(n,r,u){var p=this.simplifyTolerance(this._distance);r===N.RIGHT&&(p=-p);var y=jn.simplify(n,p),k=y.length-1;u.initSideSegments(y[k-1],y[0],r);for(var S=1;S<=k;S++){var M=S!==1;u.addNextSegment(y[S],M)}u.closeRing()}},{key:"computeLineBufferCurve",value:function(n,r){var u=this.simplifyTolerance(this._distance),p=jn.simplify(n,u),y=p.length-1;r.initSideSegments(p[0],p[1],N.LEFT);for(var k=2;k<=y;k++)r.addNextSegment(p[k],!0);r.addLastSegment(),r.addLineEndCap(p[y-1],p[y]);var S=jn.simplify(n,-u),M=S.length-1;r.initSideSegments(S[M],S[M-1],N.LEFT);for(var U=M-2;U>=0;U--)r.addNextSegment(S[U],!0);r.addLastSegment(),r.addLineEndCap(S[1],S[0]),r.closeRing()}},{key:"computePointCurve",value:function(n,r){switch(this._bufParams.getEndCapStyle()){case D.CAP_ROUND:r.createCircle(n);break;case D.CAP_SQUARE:r.createSquare(n)}}},{key:"getLineCurve",value:function(n,r){if(this._distance=r,this.isLineOffsetEmpty(r))return null;var u=Math.abs(r),p=this.getSegGen(u);if(n.length<=1)this.computePointCurve(n[0],p);else if(this._bufParams.isSingleSided()){var y=r<0;this.computeSingleSidedBufferCurve(n,y,p)}else this.computeLineBufferCurve(n,p);return p.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(n){return n*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(n,r,u){if(this._distance=u,n.length<=2)return this.getLineCurve(n,u);if(u===0)return c.copyCoordinates(n);var p=this.getSegGen(u);return this.computeRingBufferCurve(n,r,p),p.getCoordinates()}},{key:"computeOffsetCurve",value:function(n,r,u){var p=this.simplifyTolerance(this._distance);if(r){var y=jn.simplify(n,-p),k=y.length-1;u.initSideSegments(y[k],y[k-1],N.LEFT),u.addFirstSegment();for(var S=k-2;S>=0;S--)u.addNextSegment(y[S],!0)}else{var M=jn.simplify(n,p),U=M.length-1;u.initSideSegments(M[0],M[1],N.LEFT),u.addFirstSegment();for(var nt=2;nt<=U;nt++)u.addNextSegment(M[nt],!0)}u.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(n){return n===0||n<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(n){return new Ds(this._precisionModel,this._bufParams,n)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var n=arguments[0],r=arguments[1];this._precisionModel=n,this._bufParams=r}},{key:"copyCoordinates",value:function(n){for(var r=new Array(n.length).fill(null),u=0;u<r.length;u++)r[u]=new G(n[u]);return r}}])}(),Mn=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var c=arguments[0],n=new qt,r=this._subgraphs.iterator();r.hasNext();){var u=r.next(),p=u.getEnvelope();c.y<p.getMinY()||c.y>p.getMaxY()||this.findStabbedSegments(c,u.getDirectedEdges(),n)}return n}if(arguments.length===3){if(Y(arguments[2],Dt)&&arguments[0]instanceof G&&arguments[1]instanceof Oa){for(var y=arguments[0],k=arguments[1],S=arguments[2],M=k.getEdge().getCoordinates(),U=0;U<M.length-1;U++)if(this._seg.p0=M[U],this._seg.p1=M[U+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<y.x||this._seg.isHorizontal()||y.y<this._seg.p0.y||y.y>this._seg.p1.y||Yt.index(this._seg.p0,this._seg.p1,y)===Yt.RIGHT)){var nt=k.getDepth(N.LEFT);this._seg.p0.equals(M[U])||(nt=k.getDepth(N.RIGHT));var st=new za(this._seg,nt);S.add(st)}}else if(Y(arguments[2],Dt)&&arguments[0]instanceof G&&Y(arguments[1],Dt))for(var xt=arguments[0],Bt=arguments[2],Wt=arguments[1].iterator();Wt.hasNext();){var Kt=Wt.next();Kt.isForward()&&this.findStabbedSegments(xt,Kt,Bt)}}}},{key:"getDepth",value:function(c){var n=this.findStabbedSegments(c);return n.size()===0?0:br.min(n)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new On;var c=arguments[0];this._subgraphs=c}}])}(),za=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(c){var n=c;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(n._upwardSeg);return r!==0||(r=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?r:this._upwardSeg.compareTo(n._upwardSeg)}},{key:"compareX",value:function(c,n){var r=c.p0.compareTo(n.p0);return r!==0?r:c.p1.compareTo(n.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[$]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var c=arguments[0],n=arguments[1];this._upwardSeg=new On(c),this._leftDepth=n}}])}();Mn.DepthSegment=za;var $a=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,null,[{key:"constructor_",value:function(){F.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(F),Ua=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getY",value:function(){var n=this.y/this.w;if(ut.isNaN(n)||ut.isInfinite(n))throw new $a;return n}},{key:"getX",value:function(){var n=this.x/this.w;if(ut.isNaN(n)||ut.isInfinite(n))throw new $a;return n}},{key:"getCoordinate",value:function(){var n=new G;return n.x=this.getX(),n.y=this.getY(),n}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var r=arguments[0],u=arguments[1];this.x=r,this.y=u,this.w=1}else if(arguments[0]instanceof c&&arguments[1]instanceof c){var p=arguments[0],y=arguments[1];this.x=p.y*y.w-y.y*p.w,this.y=y.x*p.w-p.x*y.w,this.w=p.x*y.y-y.x*p.y}else if(arguments[0]instanceof G&&arguments[1]instanceof G){var k=arguments[0],S=arguments[1];this.x=k.y-S.y,this.y=S.x-k.x,this.w=k.x*S.y-S.x*k.y}}else if(arguments.length===3){var M=arguments[0],U=arguments[1],nt=arguments[2];this.x=M,this.y=U,this.w=nt}else if(arguments.length===4){var st=arguments[0],xt=arguments[1],Bt=arguments[2],Wt=arguments[3],Kt=st.y-xt.y,me=xt.x-st.x,le=st.x*xt.y-xt.x*st.y,Me=Bt.y-Wt.y,He=Wt.x-Bt.x,ln=Bt.x*Wt.y-Wt.x*Bt.y;this.x=me*ln-He*le,this.y=Me*le-Kt*ln,this.w=Kt*He-Me*me}}}])}(),Ga=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"area",value:function(){return c.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return c.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(n){if(n===null)throw new H("Supplied point is null.");return c.interpolateZ(n,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return c.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return c.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return c.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return c.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return c.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return c.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var n=arguments[0],r=arguments[1],u=arguments[2];this.p0=n,this.p1=r,this.p2=u}},{key:"area",value:function(n,r,u){return Math.abs(((u.x-n.x)*(r.y-n.y)-(r.x-n.x)*(u.y-n.y))/2)}},{key:"signedArea",value:function(n,r,u){return((u.x-n.x)*(r.y-n.y)-(r.x-n.x)*(u.y-n.y))/2}},{key:"det",value:function(n,r,u,p){return n*p-r*u}},{key:"interpolateZ",value:function(n,r,u,p){var y=r.x,k=r.y,S=u.x-y,M=p.x-y,U=u.y-k,nt=p.y-k,st=S*nt-M*U,xt=n.x-y,Bt=n.y-k,Wt=(nt*xt-M*Bt)/st,Kt=(-U*xt+S*Bt)/st;return r.getZ()+Wt*(u.getZ()-r.getZ())+Kt*(p.getZ()-r.getZ())}},{key:"longestSideLength",value:function(n,r,u){var p=n.distance(r),y=r.distance(u),k=u.distance(n),S=p;return y>S&&(S=y),k>S&&(S=k),S}},{key:"circumcentreDD",value:function(n,r,u){var p=Ot.valueOf(n.x).subtract(u.x),y=Ot.valueOf(n.y).subtract(u.y),k=Ot.valueOf(r.x).subtract(u.x),S=Ot.valueOf(r.y).subtract(u.y),M=Ot.determinant(p,y,k,S).multiply(2),U=p.sqr().add(y.sqr()),nt=k.sqr().add(S.sqr()),st=Ot.determinant(y,U,S,nt),xt=Ot.determinant(p,U,k,nt),Bt=Ot.valueOf(u.x).subtract(st.divide(M)).doubleValue(),Wt=Ot.valueOf(u.y).add(xt.divide(M)).doubleValue();return new G(Bt,Wt)}},{key:"isAcute",value:function(n,r,u){return!!en.isAcute(n,r,u)&&!!en.isAcute(r,u,n)&&!!en.isAcute(u,n,r)}},{key:"circumcentre",value:function(n,r,u){var p=u.x,y=u.y,k=n.x-p,S=n.y-y,M=r.x-p,U=r.y-y,nt=2*c.det(k,S,M,U),st=c.det(S,k*k+S*S,U,M*M+U*U),xt=c.det(k,k*k+S*S,M,M*M+U*U);return new G(p-st/nt,y+xt/nt)}},{key:"perpendicularBisector",value:function(n,r){var u=r.x-n.x,p=r.y-n.y,y=new Ua(n.x+u/2,n.y+p/2,1),k=new Ua(n.x-p+u/2,n.y+u+p/2,1);return new Ua(y,k)}},{key:"angleBisector",value:function(n,r,u){var p=r.distance(n),y=p/(p+r.distance(u)),k=u.x-n.x,S=u.y-n.y;return new G(n.x+y*k,n.y+y*S)}},{key:"area3D",value:function(n,r,u){var p=r.x-n.x,y=r.y-n.y,k=r.getZ()-n.getZ(),S=u.x-n.x,M=u.y-n.y,U=u.getZ()-n.getZ(),nt=y*U-k*M,st=k*S-p*U,xt=p*M-y*S,Bt=nt*nt+st*st+xt*xt,Wt=Math.sqrt(Bt)/2;return Wt}},{key:"centroid",value:function(n,r,u){var p=(n.x+r.x+u.x)/3,y=(n.y+r.y+u.y)/3;return new G(p,y)}},{key:"inCentre",value:function(n,r,u){var p=r.distance(u),y=n.distance(u),k=n.distance(r),S=p+y+k,M=(p*n.x+y*r.x+k*u.x)/S,U=(p*n.y+y*r.y+k*u.y)/S;return new G(M,U)}}])}(),Va=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(c,n,r,u,p){if(n===0&&c.length<fi.MINIMUM_VALID_SIZE)return null;var y=u,k=p;c.length>=fi.MINIMUM_VALID_SIZE&&Yt.isCCW(c)&&(y=p,k=u,r=N.opposite(r));var S=this._curveBuilder.getRingCurve(c,r,n);this.addCurve(S,y,k)}},{key:"addRingBothSides",value:function(c,n){this.addRingSide(c,n,N.LEFT,C.EXTERIOR,C.INTERIOR),this.addRingSide(c,n,N.RIGHT,C.INTERIOR,C.EXTERIOR)}},{key:"addPoint",value:function(c){if(this._distance<=0)return null;var n=c.getCoordinates(),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,C.EXTERIOR,C.INTERIOR)}},{key:"addPolygon",value:function(c){var n=this._distance,r=N.LEFT;this._distance<0&&(n=-this._distance,r=N.RIGHT);var u=c.getExteriorRing(),p=Xe.removeRepeatedPoints(u.getCoordinates());if(this._distance<0&&this.isErodedCompletely(u,this._distance)||this._distance<=0&&p.length<3)return null;this.addRingSide(p,n,r,C.EXTERIOR,C.INTERIOR);for(var y=0;y<c.getNumInteriorRing();y++){var k=c.getInteriorRingN(y),S=Xe.removeRepeatedPoints(k.getCoordinates());this._distance>0&&this.isErodedCompletely(k,-this._distance)||this.addRingSide(S,n,N.opposite(r),C.INTERIOR,C.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(c,n){var r=new Ga(c[0],c[1],c[2]),u=r.inCentre();return ri.pointToSegment(u,r.p0,r.p1)<Math.abs(n)}},{key:"addLineString",value:function(c){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var n=Xe.removeRepeatedPoints(c.getCoordinates());if(Xe.isRing(n)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(n,this._distance);else{var r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,C.EXTERIOR,C.INTERIOR)}}},{key:"addCurve",value:function(c,n,r){if(c===null||c.length<2)return null;var u=new Ni(c,new Tn(0,C.BOUNDARY,n,r));this._curveList.add(u)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(c){if(c.isEmpty())return null;if(c instanceof Ss)this.addPolygon(c);else if(c instanceof Cs)this.addLineString(c);else if(c instanceof wa)this.addPoint(c);else if(c instanceof mo)this.addCollection(c);else if(c instanceof yo)this.addCollection(c);else if(c instanceof xa)this.addCollection(c);else{if(!(c instanceof bn))throw new ct(c.getGeometryType());this.addCollection(c)}}},{key:"isErodedCompletely",value:function(c,n){var r=c.getCoordinates();if(r.length<4)return n<0;if(r.length===4)return this.isTriangleErodedCompletely(r,n);var u=c.getEnvelopeInternal(),p=Math.min(u.getHeight(),u.getWidth());return n<0&&2*Math.abs(n)>p}},{key:"addCollection",value:function(c){for(var n=0;n<c.getNumGeometries();n++){var r=c.getGeometryN(n);this.add(r)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new qt;var c=arguments[0],n=arguments[1],r=arguments[2];this._inputGeom=c,this._distance=n,this._curveBuilder=r}}])}(),oh=function(){return d(function c(){i(this,c)},[{key:"locate",value:function(c){}}])}(),ah=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,c.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new K;var n=this._parent.getGeometryN(this._index++);return n instanceof bn?(this._subcollectionIterator=new c(n),this._subcollectionIterator.next()):n}},{key:"remove",value:function(){throw new ct(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[rh]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var n=arguments[0];this._parent=n,this._atStart=!0,this._index=0,this._max=n.getNumGeometries()}},{key:"isAtomic",value:function(n){return!(n instanceof bn)}}])}(),iu=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"locate",value:function(n){return c.locate(n,this._geom)}},{key:"interfaces_",get:function(){return[oh]}}],[{key:"constructor_",value:function(){this._geom=null;var n=arguments[0];this._geom=n}},{key:"locatePointInPolygon",value:function(n,r){if(r.isEmpty())return C.EXTERIOR;var u=r.getExteriorRing(),p=c.locatePointInRing(n,u);if(p!==C.INTERIOR)return p;for(var y=0;y<r.getNumInteriorRing();y++){var k=r.getInteriorRingN(y),S=c.locatePointInRing(n,k);if(S===C.BOUNDARY)return C.BOUNDARY;if(S===C.INTERIOR)return C.EXTERIOR}return C.INTERIOR}},{key:"locatePointInRing",value:function(n,r){return r.getEnvelopeInternal().intersects(n)?Yr.locateInRing(n,r.getCoordinates()):C.EXTERIOR}},{key:"containsPointInPolygon",value:function(n,r){return C.EXTERIOR!==c.locatePointInPolygon(n,r)}},{key:"locateInGeometry",value:function(n,r){if(r instanceof Ss)return c.locatePointInPolygon(n,r);if(r instanceof bn)for(var u=new ah(r);u.hasNext();){var p=u.next();if(p!==r){var y=c.locateInGeometry(n,p);if(y!==C.EXTERIOR)return y}}return C.EXTERIOR}},{key:"isContained",value:function(n,r){return C.EXTERIOR!==c.locate(n,r)}},{key:"locate",value:function(n,r){return r.isEmpty()?C.EXTERIOR:r.getEnvelopeInternal().intersects(n)?c.locateInGeometry(n,r):C.EXTERIOR}}])}(),lh=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(c){this.getEdges();var n=this._edgeList.indexOf(c),r=n-1;return n===0&&(r=this._edgeList.size()-1),this._edgeList.get(r)}},{key:"propagateSideLabels",value:function(c){for(var n=C.NONE,r=this.iterator();r.hasNext();){var u=r.next().getLabel();u.isArea(c)&&u.getLocation(c,N.LEFT)!==C.NONE&&(n=u.getLocation(c,N.LEFT))}if(n===C.NONE)return null;for(var p=n,y=this.iterator();y.hasNext();){var k=y.next(),S=k.getLabel();if(S.getLocation(c,N.ON)===C.NONE&&S.setLocation(c,N.ON,p),S.isArea(c)){var M=S.getLocation(c,N.LEFT),U=S.getLocation(c,N.RIGHT);if(U!==C.NONE){if(U!==p)throw new fn("side location conflict",k.getCoordinate());M===C.NONE&&Pt.shouldNeverReachHere("found single null side (at "+k.getCoordinate()+")"),p=M}else Pt.isTrue(S.getLocation(c,N.LEFT)===C.NONE,"found single null side"),S.setLocation(c,N.RIGHT,p),S.setLocation(c,N.LEFT,p)}}}},{key:"getCoordinate",value:function(){var c=this.iterator();return c.hasNext()?c.next().getCoordinate():null}},{key:"print",value:function(c){Yn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"isAreaLabelsConsistent",value:function(c){return this.computeEdgeEndLabels(c.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(c){var n=this.getEdges();if(n.size()<=0)return!0;var r=n.size()-1,u=n.get(r).getLabel().getLocation(c,N.LEFT);Pt.isTrue(u!==C.NONE,"Found unlabelled area edge");for(var p=u,y=this.iterator();y.hasNext();){var k=y.next().getLabel();Pt.isTrue(k.isArea(c),"Found non-area edge");var S=k.getLocation(c,N.LEFT),M=k.getLocation(c,N.RIGHT);if(S===M||M!==p)return!1;p=S}return!0}},{key:"findIndex",value:function(c){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===c)return n;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new qt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(c,n,r){return this._ptInAreaLocation[c]===C.NONE&&(this._ptInAreaLocation[c]=iu.locate(n,r[c].getGeometry())),this._ptInAreaLocation[c]}},{key:"toString",value:function(){var c=new ft;c.append("EdgeEndStar:   "+this.getCoordinate()),c.append(`
`);for(var n=this.iterator();n.hasNext();){var r=n.next();c.append(r),c.append(`
`)}return c.toString()}},{key:"computeEdgeEndLabels",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(c)}},{key:"computeLabelling",value:function(c){this.computeEdgeEndLabels(c[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],r=this.iterator();r.hasNext();)for(var u=r.next().getLabel(),p=0;p<2;p++)u.isLine(p)&&u.getLocation(p)===C.BOUNDARY&&(n[p]=!0);for(var y=this.iterator();y.hasNext();)for(var k=y.next(),S=k.getLabel(),M=0;M<2;M++)if(S.isAnyNull(M)){var U=C.NONE;if(n[M])U=C.EXTERIOR;else{var nt=k.getCoordinate();U=this.getLocation(M,nt,c)}S.setAllLocationsIfNull(M,U)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(c,n){this._edgeMap.put(c,n),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Ze,this._edgeList=null,this._ptInAreaLocation=[C.NONE,C.NONE]}}])}(),oi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var r=null,u=null,p=this._SCANNING_FOR_INCOMING,y=0;y<this._resultAreaEdgeList.size();y++){var k=this._resultAreaEdgeList.get(y),S=k.getSym();if(k.getLabel().isArea())switch(r===null&&k.isInResult()&&(r=k),p){case this._SCANNING_FOR_INCOMING:if(!S.isInResult())continue;u=S,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!k.isInResult())continue;u.setNext(k),p=this._SCANNING_FOR_INCOMING}}if(p===this._LINKING_TO_OUTGOING){if(r===null)throw new fn("no outgoing dirEdge found",this.getCoordinate());Pt.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),u.setNext(r)}}},{key:"insert",value:function(r){var u=r;this.insertEdgeEnd(u,u)}},{key:"getRightmostEdge",value:function(){var r=this.getEdges(),u=r.size();if(u<1)return null;var p=r.get(0);if(u===1)return p;var y=r.get(u-1),k=p.getQuadrant(),S=y.getQuadrant();return mn.isNorthern(k)&&mn.isNorthern(S)?p:mn.isNorthern(k)||mn.isNorthern(S)?p.getDy()!==0?p:y.getDy()!==0?y:(Pt.shouldNeverReachHere("found two horizontal edges incident on node"),null):y}},{key:"print",value:function(r){Yn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var u=this.iterator();u.hasNext();){var p=u.next();r.print("out "),p.print(r),r.println(),r.print("in "),p.getSym().print(r),r.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new qt;for(var r=this.iterator();r.hasNext();){var u=r.next();(u.isInResult()||u.getSym().isInResult())&&this._resultAreaEdgeList.add(u)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(r){for(var u=this.iterator();u.hasNext();){var p=u.next().getLabel();p.setAllLocationsIfNull(0,r.getLocation(0)),p.setAllLocationsIfNull(1,r.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var r=null,u=null,p=this._edgeList.size()-1;p>=0;p--){var y=this._edgeList.get(p),k=y.getSym();u===null&&(u=k),r!==null&&k.setNext(r),r=y}u.setNext(r)}},{key:"computeDepths",value:function(){if(arguments.length===1){var r=arguments[0],u=this.findIndex(r),p=r.getDepth(N.LEFT),y=r.getDepth(N.RIGHT),k=this.computeDepths(u+1,this._edgeList.size(),p);if(this.computeDepths(0,u,k)!==y)throw new fn("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var S=arguments[1],M=arguments[2],U=arguments[0];U<S;U++){var nt=this._edgeList.get(U);nt.setEdgeDepths(N.RIGHT,M),M=nt.getDepth(N.LEFT)}return M}}},{key:"mergeSymLabels",value:function(){for(var r=this.iterator();r.hasNext();){var u=r.next();u.getLabel().merge(u.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(r){for(var u=null,p=null,y=this._SCANNING_FOR_INCOMING,k=this._resultAreaEdgeList.size()-1;k>=0;k--){var S=this._resultAreaEdgeList.get(k),M=S.getSym();switch(u===null&&S.getEdgeRing()===r&&(u=S),y){case this._SCANNING_FOR_INCOMING:if(M.getEdgeRing()!==r)continue;p=M,y=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(S.getEdgeRing()!==r)continue;p.setNextMin(S),y=this._SCANNING_FOR_INCOMING}}y===this._LINKING_TO_OUTGOING&&(Pt.isTrue(u!==null,"found null for first outgoing dirEdge"),Pt.isTrue(u.getEdgeRing()===r,"unable to link last incoming dirEdge"),p.setNextMin(u))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var r=0,u=this.iterator();u.hasNext();)u.next().isInResult()&&r++;return r}if(arguments.length===1){for(var p=arguments[0],y=0,k=this.iterator();k.hasNext();)k.next().getEdgeRing()===p&&y++;return y}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var r=C.NONE,u=this.iterator();u.hasNext();){var p=u.next(),y=p.getSym();if(!p.isLineEdge()){if(p.isInResult()){r=C.INTERIOR;break}if(y.isInResult()){r=C.EXTERIOR;break}}}if(r===C.NONE)return null;for(var k=r,S=this.iterator();S.hasNext();){var M=S.next(),U=M.getSym();M.isLineEdge()?M.getEdge().setCovered(k===C.INTERIOR):(M.isInResult()&&(k=C.EXTERIOR),U.isInResult()&&(k=C.INTERIOR))}}},{key:"computeLabelling",value:function(r){I(n,"computeLabelling",this,1).call(this,r),this._label=new Tn(C.NONE);for(var u=this.iterator();u.hasNext();)for(var p=u.next().getEdge().getLabel(),y=0;y<2;y++){var k=p.getLocation(y);k!==C.INTERIOR&&k!==C.BOUNDARY||this._label.setLocation(y,C.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(lh),Xr=function(c){function n(){return i(this,n),a(this,n)}return b(n,c),d(n,[{key:"createNode",value:function(r){return new Ms(r,new oi)}}])}(Ma),ru=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"compareTo",value:function(n){var r=n;return c.compareOriented(this._pts,this._orientation,r._pts,r._orientation)}},{key:"interfaces_",get:function(){return[$]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=c.orientation(n)}},{key:"orientation",value:function(n){return Xe.increasingDirection(n)===1}},{key:"compareOriented",value:function(n,r,u,p){for(var y=r?1:-1,k=p?1:-1,S=r?n.length:-1,M=p?u.length:-1,U=r?0:n.length-1,nt=p?0:u.length-1;;){var st=n[U].compareTo(u[nt]);if(st!==0)return st;var xt=(U+=y)===S,Bt=(nt+=k)===M;if(xt&&!Bt)return-1;if(!xt&&Bt)return 1;if(xt&&Bt)return 0}}}])}(),Oi=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n);n>0&&c.print(","),c.print("(");for(var u=r.getCoordinates(),p=0;p<u.length;p++)p>0&&c.print(","),c.print(u[p].x+" "+u[p].y);c.println(")")}c.print(")  ")}},{key:"addAll",value:function(c){for(var n=c.iterator();n.hasNext();)this.add(n.next())}},{key:"findEdgeIndex",value:function(c){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(c))return n;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(c){return this._edges.get(c)}},{key:"findEqualEdge",value:function(c){var n=new ru(c.getCoordinates());return this._ocaMap.get(n)}},{key:"add",value:function(c){this._edges.add(c);var n=new ru(c.getCoordinates());this._ocaMap.put(n,c)}}],[{key:"constructor_",value:function(){this._edges=new qt,this._ocaMap=new Ze}}])}(),su=function(){return d(function c(){i(this,c)},[{key:"processIntersections",value:function(c,n,r,u){}},{key:"isDone",value:function(){}}])}(),Kr=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isTrivialIntersection",value:function(n,r,u,p){if(n===u&&this._li.getIntersectionNum()===1){if(c.isAdjacentSegments(r,p))return!0;if(n.isClosed()){var y=n.size()-1;if(r===0&&p===y||p===0&&r===y)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(n,r,u,p){if(n===u&&r===p)return null;this.numTests++;var y=n.getCoordinates()[r],k=n.getCoordinates()[r+1],S=u.getCoordinates()[p],M=u.getCoordinates()[p+1];this._li.computeIntersection(y,k,S,M),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(n,r,u,p)||(this._hasIntersection=!0,n.addIntersections(this._li,r,0),u.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[su]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var n=arguments[0];this._li=n}},{key:"isAdjacentSegments",value:function(n,r){return Math.abs(n-r)===1}}])}(),uh=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex),c.println(" dist = "+this.dist)}},{key:"compareTo",value:function(c){var n=c;return this.compare(n.segmentIndex,n.dist)}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===c}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(c,n){return this.segmentIndex<c?-1:this.segmentIndex>c?1:this.dist<n?-1:this.dist>n?1:0}},{key:"interfaces_",get:function(){return[$]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var c=arguments[0],n=arguments[1],r=arguments[2];this.coord=new G(c),this.segmentIndex=n,this.dist=r}}])}(),Fs=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next(),p=this.createSplitEdge(r,u);c.add(p),r=u}}},{key:"addEndpoints",value:function(){var c=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[c],c,0)}},{key:"createSplitEdge",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2,u=this.edge.pts[n.segmentIndex],p=n.dist>0||!n.coord.equals2D(u);p||r--;var y=new Array(r).fill(null),k=0;y[k++]=new G(c.coord);for(var S=c.segmentIndex+1;S<=n.segmentIndex;S++)y[k++]=this.edge.pts[S];return p&&(y[k]=n.coord),new au(y,new Tn(this.edge._label))}},{key:"add",value:function(c,n,r){var u=new uh(c,n,r),p=this._nodeMap.get(u);return p!==null?p:(this._nodeMap.put(u,u),u)}},{key:"isIntersection",value:function(c){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(c))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Ze,this.edge=null;var c=arguments[0];this.edge=c}}])}(),ou=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])||c.isTrue(this._matrix[C.INTERIOR][C.BOUNDARY])||c.isTrue(this._matrix[C.BOUNDARY][C.INTERIOR])||c.isTrue(this._matrix[C.BOUNDARY][C.BOUNDARY]))&&this._matrix[C.EXTERIOR][C.INTERIOR]===Rt.FALSE&&this._matrix[C.EXTERIOR][C.BOUNDARY]===Rt.FALSE}},{key:"isCoveredBy",value:function(){return(c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])||c.isTrue(this._matrix[C.INTERIOR][C.BOUNDARY])||c.isTrue(this._matrix[C.BOUNDARY][C.INTERIOR])||c.isTrue(this._matrix[C.BOUNDARY][C.BOUNDARY]))&&this._matrix[C.INTERIOR][C.EXTERIOR]===Rt.FALSE&&this._matrix[C.BOUNDARY][C.EXTERIOR]===Rt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var u=Math.trunc(r/3),p=r%3;this._matrix[u][p]=Rt.toDimensionValue(n.charAt(r))}else if(arguments.length===3){var y=arguments[0],k=arguments[1],S=arguments[2];this._matrix[y][k]=S}}},{key:"isContains",value:function(){return c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&this._matrix[C.EXTERIOR][C.INTERIOR]===Rt.FALSE&&this._matrix[C.EXTERIOR][C.BOUNDARY]===Rt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var u=Math.trunc(r/3),p=r%3;this.setAtLeast(u,p,Rt.toDimensionValue(n.charAt(r)))}else if(arguments.length===3){var y=arguments[0],k=arguments[1],S=arguments[2];this._matrix[y][k]<S&&(this._matrix[y][k]=S)}}},{key:"setAtLeastIfValid",value:function(n,r,u){n>=0&&r>=0&&this.setAtLeast(n,r,u)}},{key:"isWithin",value:function(){return c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&this._matrix[C.INTERIOR][C.EXTERIOR]===Rt.FALSE&&this._matrix[C.BOUNDARY][C.EXTERIOR]===Rt.FALSE}},{key:"isTouches",value:function(n,r){return n>r?this.isTouches(r,n):(n===Rt.A&&r===Rt.A||n===Rt.L&&r===Rt.L||n===Rt.L&&r===Rt.A||n===Rt.P&&r===Rt.A||n===Rt.P&&r===Rt.L)&&this._matrix[C.INTERIOR][C.INTERIOR]===Rt.FALSE&&(c.isTrue(this._matrix[C.INTERIOR][C.BOUNDARY])||c.isTrue(this._matrix[C.BOUNDARY][C.INTERIOR])||c.isTrue(this._matrix[C.BOUNDARY][C.BOUNDARY]))}},{key:"isOverlaps",value:function(n,r){return n===Rt.P&&r===Rt.P||n===Rt.A&&r===Rt.A?c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&c.isTrue(this._matrix[C.INTERIOR][C.EXTERIOR])&&c.isTrue(this._matrix[C.EXTERIOR][C.INTERIOR]):n===Rt.L&&r===Rt.L&&this._matrix[C.INTERIOR][C.INTERIOR]===1&&c.isTrue(this._matrix[C.INTERIOR][C.EXTERIOR])&&c.isTrue(this._matrix[C.EXTERIOR][C.INTERIOR])}},{key:"isEquals",value:function(n,r){return n===r&&c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&this._matrix[C.INTERIOR][C.EXTERIOR]===Rt.FALSE&&this._matrix[C.BOUNDARY][C.EXTERIOR]===Rt.FALSE&&this._matrix[C.EXTERIOR][C.INTERIOR]===Rt.FALSE&&this._matrix[C.EXTERIOR][C.BOUNDARY]===Rt.FALSE}},{key:"toString",value:function(){for(var n=new vo("123456789"),r=0;r<3;r++)for(var u=0;u<3;u++)n.setCharAt(3*r+u,Rt.toDimensionSymbol(this._matrix[r][u]));return n.toString()}},{key:"setAll",value:function(n){for(var r=0;r<3;r++)for(var u=0;u<3;u++)this._matrix[r][u]=n}},{key:"get",value:function(n,r){return this._matrix[n][r]}},{key:"transpose",value:function(){var n=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=n,n=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=n,n=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=n,this}},{key:"matches",value:function(n){if(n.length!==9)throw new H("Should be length 9: "+n);for(var r=0;r<3;r++)for(var u=0;u<3;u++)if(!c.matches(this._matrix[r][u],n.charAt(3*r+u)))return!1;return!0}},{key:"add",value:function(n){for(var r=0;r<3;r++)for(var u=0;u<3;u++)this.setAtLeast(r,u,n.get(r,u))}},{key:"isDisjoint",value:function(){return this._matrix[C.INTERIOR][C.INTERIOR]===Rt.FALSE&&this._matrix[C.INTERIOR][C.BOUNDARY]===Rt.FALSE&&this._matrix[C.BOUNDARY][C.INTERIOR]===Rt.FALSE&&this._matrix[C.BOUNDARY][C.BOUNDARY]===Rt.FALSE}},{key:"isCrosses",value:function(n,r){return n===Rt.P&&r===Rt.L||n===Rt.P&&r===Rt.A||n===Rt.L&&r===Rt.A?c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&c.isTrue(this._matrix[C.INTERIOR][C.EXTERIOR]):n===Rt.L&&r===Rt.P||n===Rt.A&&r===Rt.P||n===Rt.A&&r===Rt.L?c.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&c.isTrue(this._matrix[C.EXTERIOR][C.INTERIOR]):n===Rt.L&&r===Rt.L&&this._matrix[C.INTERIOR][C.INTERIOR]===0}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Rt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var n=arguments[0];c.constructor_.call(this),this.set(n)}else if(arguments[0]instanceof c){var r=arguments[0];c.constructor_.call(this),this._matrix[C.INTERIOR][C.INTERIOR]=r._matrix[C.INTERIOR][C.INTERIOR],this._matrix[C.INTERIOR][C.BOUNDARY]=r._matrix[C.INTERIOR][C.BOUNDARY],this._matrix[C.INTERIOR][C.EXTERIOR]=r._matrix[C.INTERIOR][C.EXTERIOR],this._matrix[C.BOUNDARY][C.INTERIOR]=r._matrix[C.BOUNDARY][C.INTERIOR],this._matrix[C.BOUNDARY][C.BOUNDARY]=r._matrix[C.BOUNDARY][C.BOUNDARY],this._matrix[C.BOUNDARY][C.EXTERIOR]=r._matrix[C.BOUNDARY][C.EXTERIOR],this._matrix[C.EXTERIOR][C.INTERIOR]=r._matrix[C.EXTERIOR][C.INTERIOR],this._matrix[C.EXTERIOR][C.BOUNDARY]=r._matrix[C.EXTERIOR][C.BOUNDARY],this._matrix[C.EXTERIOR][C.EXTERIOR]=r._matrix[C.EXTERIOR][C.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var n=arguments[0],r=arguments[1];return r===Rt.SYM_DONTCARE||r===Rt.SYM_TRUE&&(n>=0||n===Rt.TRUE)||r===Rt.SYM_FALSE&&n===Rt.FALSE||r===Rt.SYM_P&&n===Rt.P||r===Rt.SYM_L&&n===Rt.L||r===Rt.SYM_A&&n===Rt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var u=arguments[1];return new c(arguments[0]).matches(u)}}},{key:"isTrue",value:function(n){return n>=0||n===Rt.TRUE}}])}(),Io=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(n){return n===null||n.length===0?null:(this.ensureCapacity(this._size+n.length),Yn.arraycopy(n,0,this._data,this._size,n.length),void(this._size+=n.length))}},{key:"ensureCapacity",value:function(n){if(n<=this._data.length)return null;var r=Math.max(n,2*this._data.length);this._data=dn.copyOf(this._data,r)}},{key:"toArray",value:function(){var n=new Array(this._size).fill(null);return Yn.arraycopy(this._data,0,n,0,this._size),n}},{key:"add",value:function(n){this.ensureCapacity(this._size+1),this._data[this._size]=n,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)c.constructor_.call(this,10);else if(arguments.length===1){var n=arguments[0];this._data=new Array(n).fill(null)}}}])}(),ch=function(){function c(){i(this,c)}return d(c,[{key:"getChainStartIndices",value:function(n){var r=0,u=new Io(Math.trunc(n.length/2));u.add(r);do{var p=this.findChainEnd(n,r);u.add(p),r=p}while(r<n.length-1);return u.toArray()}},{key:"findChainEnd",value:function(n,r){for(var u=mn.quadrant(n[r],n[r+1]),p=r+1;p<n.length&&mn.quadrant(n[p-1],n[p])===u;)p++;return p-1}},{key:"OLDgetChainStartIndices",value:function(n){var r=0,u=new qt;u.add(r);do{var p=this.findChainEnd(n,r);u.add(p),r=p}while(r<n.length-1);return c.toIntArray(u)}}],[{key:"toIntArray",value:function(n){for(var r=new Array(n.size()).fill(null),u=0;u<r.length;u++)r[u]=n.get(u).intValue();return r}}])}(),Ki=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n>r?n:r}},{key:"getMinX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n<r?n:r}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var c=arguments[0],n=arguments[1],r=arguments[2],u=arguments[3];this.computeIntersectsForChain(this.startIndex[c],this.startIndex[c+1],n,n.startIndex[r],n.startIndex[r+1],u)}else if(arguments.length===6){var p=arguments[0],y=arguments[1],k=arguments[2],S=arguments[3],M=arguments[4],U=arguments[5];if(y-p==1&&M-S==1)return U.addIntersections(this.e,p,k.e,S),null;if(!this.overlaps(p,y,k,S,M))return null;var nt=Math.trunc((p+y)/2),st=Math.trunc((S+M)/2);p<nt&&(S<st&&this.computeIntersectsForChain(p,nt,k,S,st,U),st<M&&this.computeIntersectsForChain(p,nt,k,st,M,U)),nt<y&&(S<st&&this.computeIntersectsForChain(nt,y,k,S,st,U),st<M&&this.computeIntersectsForChain(nt,y,k,st,M,U))}}},{key:"overlaps",value:function(c,n,r,u,p){return St.intersects(this.pts[c],this.pts[n],r.pts[u],r.pts[p])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(c,n){for(var r=0;r<this.startIndex.length-1;r++)for(var u=0;u<c.startIndex.length-1;u++)this.computeIntersectsForChain(r,c,u,n)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var c=arguments[0];this.e=c,this.pts=c.getCoordinates();var n=new ch;this.startIndex=n.getChainStartIndices(this.pts)}}])}(),zs=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getDepth",value:function(n,r){return this._depth[n][r]}},{key:"setDepth",value:function(n,r,u){this._depth[n][r]=u}},{key:"isNull",value:function(){if(arguments.length===0){for(var n=0;n<2;n++)for(var r=0;r<3;r++)if(this._depth[n][r]!==c.NULL_VALUE)return!1;return!0}if(arguments.length===1){var u=arguments[0];return this._depth[u][1]===c.NULL_VALUE}if(arguments.length===2){var p=arguments[0],y=arguments[1];return this._depth[p][y]===c.NULL_VALUE}}},{key:"normalize",value:function(){for(var n=0;n<2;n++)if(!this.isNull(n)){var r=this._depth[n][1];this._depth[n][2]<r&&(r=this._depth[n][2]),r<0&&(r=0);for(var u=1;u<3;u++){var p=0;this._depth[n][u]>r&&(p=1),this._depth[n][u]=p}}}},{key:"getDelta",value:function(n){return this._depth[n][N.RIGHT]-this._depth[n][N.LEFT]}},{key:"getLocation",value:function(n,r){return this._depth[n][r]<=0?C.EXTERIOR:C.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<2;r++)for(var u=1;u<3;u++){var p=n.getLocation(r,u);p!==C.EXTERIOR&&p!==C.INTERIOR||(this.isNull(r,u)?this._depth[r][u]=c.depthAtLocation(p):this._depth[r][u]+=c.depthAtLocation(p))}else if(arguments.length===3){var y=arguments[0],k=arguments[1];arguments[2]===C.INTERIOR&&this._depth[y][k]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var r=0;r<3;r++)this._depth[n][r]=c.NULL_VALUE}},{key:"depthAtLocation",value:function(n){return n===C.EXTERIOR?0:n===C.INTERIOR?1:c.NULL_VALUE}}])}();zs.NULL_VALUE=-1;var au=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var r=new Array(2).fill(null);return r[0]=this.pts[0],r[1]=this.pts[1],new n(r,Tn.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(r){this._isIsolated=r}},{key:"setName",value:function(r){this._name=r}},{key:"equals",value:function(r){if(!(r instanceof n))return!1;var u=r;if(this.pts.length!==u.pts.length)return!1;for(var p=!0,y=!0,k=this.pts.length,S=0;S<this.pts.length;S++)if(this.pts[S].equals2D(u.pts[S])||(p=!1),this.pts[S].equals2D(u.pts[--k])||(y=!1),!p&&!y)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}}},{key:"print",value:function(r){r.print("edge "+this._name+": "),r.print("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&r.print(","),r.print(this.pts[u].x+" "+this.pts[u].y);r.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(r){n.updateIM(this._label,r)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(r){r.print("edge "+this._name+": ");for(var u=this.pts.length-1;u>=0;u--)r.print(this.pts[u]+" ");r.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Ki(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new St;for(var r=0;r<this.pts.length;r++)this._env.expandToInclude(this.pts[r])}return this._env}},{key:"addIntersection",value:function(r,u,p,y){var k=new G(r.getIntersection(y)),S=u,M=r.getEdgeDistance(p,y),U=S+1;if(U<this.pts.length){var nt=this.pts[U];k.equals2D(nt)&&(S=U,M=0)}this.eiList.add(k,S,M)}},{key:"toString",value:function(){var r=new vo;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&r.append(","),r.append(this.pts[u].x+" "+this.pts[u].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()}},{key:"isPointwiseEqual",value:function(r){if(this.pts.length!==r.pts.length)return!1;for(var u=0;u<this.pts.length;u++)if(!this.pts[u].equals2D(r.pts[u]))return!1;return!0}},{key:"setDepthDelta",value:function(r){this._depthDelta=r}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(r,u,p){for(var y=0;y<r.getIntersectionNum();y++)this.addIntersection(r,u,p,y)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Fs(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new zs,this._depthDelta=0,arguments.length===1){var r=arguments[0];n.constructor_.call(this,r,null)}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.pts=u,this._label=p}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof ou&&arguments[0]instanceof Tn))return I(n,"updateIM",this).apply(this,arguments);var r=arguments[0],u=arguments[1];u.setAtLeastIfValid(r.getLocation(0,N.ON),r.getLocation(1,N.ON),1),r.isArea()&&(u.setAtLeastIfValid(r.getLocation(0,N.LEFT),r.getLocation(1,N.LEFT),2),u.setAtLeastIfValid(r.getLocation(0,N.RIGHT),r.getLocation(1,N.RIGHT),2))}}])}(Oe),Po=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"setWorkingPrecisionModel",value:function(n){this._workingPrecisionModel=n}},{key:"insertUniqueEdge",value:function(n){var r=this._edgeList.findEqualEdge(n);if(r!==null){var u=r.getLabel(),p=n.getLabel();r.isPointwiseEqual(n)||(p=new Tn(n.getLabel())).flip(),u.merge(p);var y=c.depthDelta(p),k=r.getDepthDelta()+y;r.setDepthDelta(k)}else this._edgeList.add(n),n.setDepthDelta(c.depthDelta(n.getLabel()))}},{key:"buildSubgraphs",value:function(n,r){for(var u=new qt,p=n.iterator();p.hasNext();){var y=p.next(),k=y.getRightmostCoordinate(),S=new Mn(u).getDepth(k);y.computeDepth(S),y.findResultEdges(),u.add(y),r.add(y.getDirectedEdges(),y.getNodes())}}},{key:"createSubgraphs",value:function(n){for(var r=new qt,u=n.getNodes().iterator();u.hasNext();){var p=u.next();if(!p.isVisited()){var y=new qi;y.create(p),r.add(y)}}return br.sort(r,br.reverseOrder()),r}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(n){if(this._workingNoder!==null)return this._workingNoder;var r=new Ba,u=new Pi;return u.setPrecisionModel(n),r.setSegmentIntersector(new Kr(u)),r}},{key:"buffer",value:function(n,r){var u=this._workingPrecisionModel;u===null&&(u=n.getPrecisionModel()),this._geomFact=n.getFactory();var p=new Bs(u,this._bufParams),y=new Va(n,r,p).getCurves();if(y.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(y,u),this._graph=new xo(new Xr),this._graph.addEdges(this._edgeList.getEdges());var k=this.createSubgraphs(this._graph),S=new th(this._geomFact);this.buildSubgraphs(k,S);var M=S.getPolygons();return M.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(M)}},{key:"computeNodedEdges",value:function(n,r){var u=this.getNoder(r);u.computeNodes(n);for(var p=u.getNodedSubstrings().iterator();p.hasNext();){var y=p.next(),k=y.getCoordinates();if(k.length!==2||!k[0].equals2D(k[1])){var S=y.getData(),M=new au(y.getCoordinates(),new Tn(S));this.insertUniqueEdge(M)}}}},{key:"setNoder",value:function(n){this._workingNoder=n}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Oi;var n=arguments[0];this._bufParams=n}},{key:"depthDelta",value:function(n){var r=n.getLocation(0,N.LEFT),u=n.getLocation(0,N.RIGHT);return r===C.INTERIOR&&u===C.EXTERIOR?1:r===C.EXTERIOR&&u===C.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(n){for(var r=new di,u=new qt;n.hasNext();){var p=n.next(),y=r.createLineString(p.getCoordinates());u.add(y)}return r.buildGeometry(u)}}])}(),hh=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"rescale",value:function(){if(Y(arguments[0],V))for(var n=arguments[0].iterator();n.hasNext();){var r=n.next();this.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var u=arguments[0],p=0;p<u.length;p++)u[p].x=u[p].x/this._scaleFactor+this._offsetX,u[p].y=u[p].y/this._scaleFactor+this._offsetY;u.length===2&&u[0].equals2D(u[1])&&Yn.out.println(u)}}},{key:"scale",value:function(){if(Y(arguments[0],V)){for(var n=arguments[0],r=new qt(n.size()),u=n.iterator();u.hasNext();){var p=u.next();r.add(new Ni(this.scale(p.getCoordinates()),p.getData()))}return r}if(arguments[0]instanceof Array){for(var y=arguments[0],k=new Array(y.length).fill(null),S=0;S<y.length;S++)k[S]=new G(Math.round((y[S].x-this._offsetX)*this._scaleFactor),Math.round((y[S].y-this._offsetY)*this._scaleFactor),y[S].getZ());return Xe.removeRepeatedPoints(k)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var n=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(n),n}},{key:"computeNodes",value:function(n){var r=n;this._isScaled&&(r=this.scale(n)),this._noder.computeNodes(r)}},{key:"interfaces_",get:function(){return[Da]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var n=arguments[0],r=arguments[1];c.constructor_.call(this,n,r,0,0)}else if(arguments.length===4){var u=arguments[0],p=arguments[1];this._noder=u,this._scaleFactor=p,this._isScaled=!this.isIntegerPrecision()}}}])}(),vi=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next().getCoordinates();this.checkEndPtVertexIntersections(r[0],this._segStrings),this.checkEndPtVertexIntersections(r[r.length-1],this._segStrings)}else if(arguments.length===2){for(var u=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var y=p.next().getCoordinates(),k=1;k<y.length-1;k++)if(y[k].equals(u))throw new Ut("found endpt/interior pt intersection at index "+k+" :pt "+u)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var r=n.next(),u=this._segStrings.iterator();u.hasNext();){var p=u.next();this.checkInteriorIntersections(r,p)}else if(arguments.length===2)for(var y=arguments[0],k=arguments[1],S=y.getCoordinates(),M=k.getCoordinates(),U=0;U<S.length-1;U++)for(var nt=0;nt<M.length-1;nt++)this.checkInteriorIntersections(y,U,k,nt);else if(arguments.length===4){var st=arguments[0],xt=arguments[1],Bt=arguments[2],Wt=arguments[3];if(st===Bt&&xt===Wt)return null;var Kt=st.getCoordinates()[xt],me=st.getCoordinates()[xt+1],le=Bt.getCoordinates()[Wt],Me=Bt.getCoordinates()[Wt+1];if(this._li.computeIntersection(Kt,me,le,Me),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Kt,me)||this.hasInteriorIntersection(this._li,le,Me)))throw new Ut("found non-noded intersection at "+Kt+"-"+me+" and "+le+"-"+Me)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkCollapses(r)}else if(arguments.length===1)for(var u=arguments[0].getCoordinates(),p=0;p<u.length-2;p++)this.checkCollapse(u[p],u[p+1],u[p+2])}},{key:"hasInteriorIntersection",value:function(n,r,u){for(var p=0;p<n.getIntersectionNum();p++){var y=n.getIntersection(p);if(!y.equals(r)&&!y.equals(u))return!0}return!1}},{key:"checkCollapse",value:function(n,r,u){if(n.equals(u))throw new Ut("found non-noded collapse at "+c.fact.createLineString([n,r,u]))}}],[{key:"constructor_",value:function(){this._li=new Pi,this._segStrings=null;var n=arguments[0];this._segStrings=n}}])}();vi.fact=new di;var Ha=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"intersectsScaled",value:function(n,r){var u=Math.min(n.x,r.x),p=Math.max(n.x,r.x),y=Math.min(n.y,r.y),k=Math.max(n.y,r.y),S=this._maxx<u||this._minx>p||this._maxy<y||this._miny>k;if(S)return!1;var M=this.intersectsToleranceSquare(n,r);return Pt.isTrue(!(S&&M),"Found bad envelope test"),M}},{key:"initCorners",value:function(n){var r=.5;this._minx=n.x-r,this._maxx=n.x+r,this._miny=n.y-r,this._maxy=n.y+r,this._corner[0]=new G(this._maxx,this._maxy),this._corner[1]=new G(this._minx,this._maxy),this._corner[2]=new G(this._minx,this._miny),this._corner[3]=new G(this._maxx,this._miny)}},{key:"intersects",value:function(n,r){return this._scaleFactor===1?this.intersectsScaled(n,r):(this.copyScaled(n,this._p0Scaled),this.copyScaled(r,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(n){return Math.round(n*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(n,r){r.x=this.scale(n.x),r.y=this.scale(n.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var n=c.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new St(this._originalPt.x-n,this._originalPt.x+n,this._originalPt.y-n,this._originalPt.y+n)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(n,r){return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(n,r){var u=!1,p=!1;return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(u=!0),this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!u||!p)||!!n.equals(this._pt)||!!r.equals(this._pt))))}},{key:"addSnappedNode",value:function(n,r){var u=n.getCoordinate(r),p=n.getCoordinate(r+1);return!!this.intersects(u,p)&&(n.addIntersection(this.getCoordinate(),r),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var n=arguments[0],r=arguments[1],u=arguments[2];if(this._originalPt=n,this._pt=n,this._scaleFactor=r,this._li=u,r<=0)throw new H("Scale factor must be non-zero");r!==1&&(this._pt=new G(this.scale(n.x),this.scale(n.y)),this._p0Scaled=new G,this._p1Scaled=new G),this.initCorners(this._pt)}}])}();Ha.SAFE_ENV_EXPANSION_FACTOR=.75;var Jr=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var c=arguments[1];arguments[0].getLineSegment(c,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new On}}])}(),lu=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var c=arguments[0];return this.snap(c,null,-1)}if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2],p=n.getSafeEnvelope(),y=new yi(n,r,u);return this._index.query(p,new(function(){return d(function k(){i(this,k)},[{key:"interfaces_",get:function(){return[Jl]}},{key:"visitItem",value:function(k){k.select(p,y)}}])}())),y.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var c=arguments[0];this._index=c}}])}(),yi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Ra))return I(n,"select",this,1).apply(this,arguments);var r=arguments[1],u=arguments[0].getContext();if(this._parentEdge===u&&(r===this._hotPixelVertexIndex||r+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(u,r)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var r=arguments[0],u=arguments[1],p=arguments[2];this._hotPixel=r,this._parentEdge=u,this._hotPixelVertexIndex=p}}])}(Jr);lu.HotPixelSnapAction=yi;var No=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(c,n,r,u){if(c===r&&n===u)return null;var p=c.getCoordinates()[n],y=c.getCoordinates()[n+1],k=r.getCoordinates()[u],S=r.getCoordinates()[u+1];if(this._li.computeIntersection(p,y,k,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var M=0;M<this._li.getIntersectionNum();M++)this._interiorIntersections.add(this._li.getIntersection(M));c.addIntersections(this._li,n,0),r.addIntersections(this._li,u,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[su]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var c=arguments[0];this._li=c,this._interiorIntersections=new qt}}])}(),uu=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(c){var n=Ni.getNodedSubstrings(c),r=new vi(n);try{r.checkValid()}catch(u){if(!(u instanceof F))throw u;u.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Ni.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(c,n){var r=this.findInteriorIntersections(c,n);this.computeIntersectionSnaps(r),this.computeVertexSnaps(c)}},{key:"findInteriorIntersections",value:function(c,n){var r=new No(n);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(c),r.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Y(arguments[0],V))for(var c=arguments[0].iterator();c.hasNext();){var n=c.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Ni)for(var r=arguments[0],u=r.getCoordinates(),p=0;p<u.length;p++){var y=new Ha(u[p],this._scaleFactor,this._li);this._pointSnapper.snap(y,r,p)&&r.addIntersection(u[p],p)}}},{key:"computeNodes",value:function(c){this._nodedSegStrings=c,this._noder=new Ba,this._pointSnapper=new lu(this._noder.getIndex()),this.snapRound(c,this._li)}},{key:"computeIntersectionSnaps",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next(),u=new Ha(r,this._scaleFactor,this._li);this._pointSnapper.snap(u)}}},{key:"interfaces_",get:function(){return[Da]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var c=arguments[0];this._pm=c,this._li=new Pi,this._li.setPrecisionModel(c),this._scaleFactor=c.getScale()}}])}(),Ji=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"bufferFixedPrecision",value:function(n){var r=new hh(new uu(new wn(1)),n.getScale()),u=new Po(this._bufParams);u.setWorkingPrecisionModel(n),u.setNoder(r),this._resultGeometry=u.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var n=c.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision(n)}catch(y){if(!(y instanceof fn))throw y;this._saveException=y}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var r=arguments[0],u=c.precisionScaleFactor(this._argGeom,this._distance,r),p=new wn(u);this.bufferFixedPrecision(p)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var n=this._argGeom.getFactory().getPrecisionModel();n.getType()===wn.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(n){this._bufParams.setQuadrantSegments(n)}},{key:"bufferOriginalPrecision",value:function(){try{var n=new Po(this._bufParams);this._resultGeometry=n.buffer(this._argGeom,this._distance)}catch(r){if(!(r instanceof Ut))throw r;this._saveException=r}}},{key:"getResultGeometry",value:function(n){return this._distance=n,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(n){this._bufParams.setEndCapStyle(n)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new D,this._resultGeometry=null,this._saveException=null,arguments.length===1){var n=arguments[0];this._argGeom=n}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this._argGeom=r,this._bufParams=u}}},{key:"bufferOp",value:function(){if(arguments.length===2){var n=arguments[1];return new c(arguments[0]).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof It&&typeof arguments[1]=="number"){var r=arguments[1],u=arguments[2],p=new c(arguments[0]);return p.setQuadrantSegments(u),p.getResultGeometry(r)}if(arguments[2]instanceof D&&arguments[0]instanceof It&&typeof arguments[1]=="number"){var y=arguments[1];return new c(arguments[0],arguments[2]).getResultGeometry(y)}}else if(arguments.length===4){var k=arguments[1],S=arguments[2],M=arguments[3],U=new c(arguments[0]);return U.setQuadrantSegments(S),U.setEndCapStyle(M),U.getResultGeometry(k)}}},{key:"precisionScaleFactor",value:function(n,r,u){var p=n.getEnvelopeInternal(),y=Vr.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(r>0?r:0),k=u-Math.trunc(Math.log(y)/Math.log(10)+1);return Math.pow(10,k)}}])}();Ji.CAP_ROUND=D.CAP_ROUND,Ji.CAP_BUTT=D.CAP_FLAT,Ji.CAP_FLAT=D.CAP_FLAT,Ji.CAP_SQUARE=D.CAP_SQUARE,Ji.MAX_PRECISION_DIGITS=12;var Oo=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Mo=function(){return d(function c(n){i(this,c),this.geometryFactory=n||new di},[{key:"read",value:function(c){var n,r=(n=typeof c=="string"?JSON.parse(c):c).type;if(!Ln[r])throw new Error("Unknown GeoJSON type: "+n.type);return Oo.indexOf(r)!==-1?Ln[r].call(this,n.coordinates):r==="GeometryCollection"?Ln[r].call(this,n.geometries):Ln[r].call(this,n)}},{key:"write",value:function(c){var n=c.getGeometryType();if(!En[n])throw new Error("Geometry is not supported");return En[n].call(this,c)}}])}(),Ln={Feature:function(c){var n={};for(var r in c)n[r]=c[r];if(c.geometry){var u=c.geometry.type;if(!Ln[u])throw new Error("Unknown GeoJSON type: "+c.type);n.geometry=this.read(c.geometry)}return c.bbox&&(n.bbox=Ln.bbox.call(this,c.bbox)),n},FeatureCollection:function(c){var n={};if(c.features){n.features=[];for(var r=0;r<c.features.length;++r)n.features.push(this.read(c.features[r]))}return c.bbox&&(n.bbox=this.parse.bbox.call(this,c.bbox)),n},coordinates:function(c){for(var n=[],r=0;r<c.length;++r){var u=c[r];n.push(l(G,O(u)))}return n},bbox:function(c){return this.geometryFactory.createLinearRing([new G(c[0],c[1]),new G(c[2],c[1]),new G(c[2],c[3]),new G(c[0],c[3]),new G(c[0],c[1])])},Point:function(c){var n=l(G,O(c));return this.geometryFactory.createPoint(n)},MultiPoint:function(c){for(var n=[],r=0;r<c.length;++r)n.push(Ln.Point.call(this,c[r]));return this.geometryFactory.createMultiPoint(n)},LineString:function(c){var n=Ln.coordinates.call(this,c);return this.geometryFactory.createLineString(n)},MultiLineString:function(c){for(var n=[],r=0;r<c.length;++r)n.push(Ln.LineString.call(this,c[r]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(c){for(var n=Ln.coordinates.call(this,c[0]),r=this.geometryFactory.createLinearRing(n),u=[],p=1;p<c.length;++p){var y=c[p],k=Ln.coordinates.call(this,y),S=this.geometryFactory.createLinearRing(k);u.push(S)}return this.geometryFactory.createPolygon(r,u)},MultiPolygon:function(c){for(var n=[],r=0;r<c.length;++r){var u=c[r];n.push(Ln.Polygon.call(this,u))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(c){for(var n=[],r=0;r<c.length;++r){var u=c[r];n.push(this.read(u))}return this.geometryFactory.createGeometryCollection(n)}},En={coordinate:function(c){var n=[c.x,c.y];return c.z&&n.push(c.z),c.m&&n.push(c.m),n},Point:function(c){return{type:"Point",coordinates:En.coordinate.call(this,c.getCoordinate())}},MultiPoint:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=En.Point.call(this,u);n.push(p.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(c){for(var n=[],r=c.getCoordinates(),u=0;u<r.length;++u){var p=r[u];n.push(En.coordinate.call(this,p))}return{type:"LineString",coordinates:n}},MultiLineString:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=En.LineString.call(this,u);n.push(p.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(c){var n=[],r=En.LineString.call(this,c._shell);n.push(r.coordinates);for(var u=0;u<c._holes.length;++u){var p=c._holes[u],y=En.LineString.call(this,p);n.push(y.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=En.Polygon.call(this,u);n.push(p.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=u.getGeometryType();n.push(En[p].call(this,u))}return{type:"GeometryCollection",geometries:n}}};return{BufferOp:Ji,GeoJSONReader:function(){return d(function c(n){i(this,c),this.parser=new Mo(n||new di)},[{key:"read",value:function(c){return this.parser.read(c)}}])}(),GeoJSONWriter:function(){return d(function c(){i(this,c),this.parser=new Mo(this.geometryFactory)},[{key:"write",value:function(c){return this.parser.write(c)}}])}()}})}(Uu)),Uu.exports}var XS=jS();const KS=Sy(XS);function Ts(){return new _c}function _c(){this.reset()}_c.prototype={constructor:_c,reset:function(){this.s=this.t=0},add:function(t){Jm(Tu,t,this.t),Jm(this,Tu.s,this.s),this.s?this.t+=Tu.t:this.s=Tu.t},valueOf:function(){return this.s}};var Tu=new _c;function Jm(t,e,s){var a=t.s=e+s,i=a-e,l=a-i;t.t=e-l+(s-i)}var $e=1e-6,be=Math.PI,or=be/2,Qm=be/4,dr=be*2,is=180/be,Ei=be/180,yn=Math.abs,JS=Math.atan,ca=Math.atan2,Ye=Math.cos,je=Math.sin,va=Math.sqrt;function Oy(t){return t>1?0:t<-1?be:Math.acos(t)}function uo(t){return t>1?or:t<-1?-or:Math.asin(t)}function il(){}function vc(t,e){t&&eg.hasOwnProperty(t.type)&&eg[t.type](t,e)}var tg={Feature:function(t,e){vc(t.geometry,e)},FeatureCollection:function(t,e){for(var s=t.features,a=-1,i=s.length;++a<i;)vc(s[a].geometry,e)}},eg={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var s=t.coordinates,a=-1,i=s.length;++a<i;)t=s[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){xf(t.coordinates,e,0)},MultiLineString:function(t,e){for(var s=t.coordinates,a=-1,i=s.length;++a<i;)xf(s[a],e,0)},Polygon:function(t,e){ng(t.coordinates,e)},MultiPolygon:function(t,e){for(var s=t.coordinates,a=-1,i=s.length;++a<i;)ng(s[a],e)},GeometryCollection:function(t,e){for(var s=t.geometries,a=-1,i=s.length;++a<i;)vc(s[a],e)}};function xf(t,e,s){var a=-1,i=t.length-s,l;for(e.lineStart();++a<i;)l=t[a],e.point(l[0],l[1],l[2]);e.lineEnd()}function ng(t,e){var s=-1,a=t.length;for(e.polygonStart();++s<a;)xf(t[s],e,1);e.polygonEnd()}function QS(t,e){t&&tg.hasOwnProperty(t.type)?tg[t.type](t,e):vc(t,e)}Ts();Ts();function Tf(t){return[ca(t[1],t[0]),uo(t[2])]}function ha(t){var e=t[0],s=t[1],a=Ye(s);return[a*Ye(e),a*je(e),je(s)]}function Cu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function yc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function zh(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Su(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Cf(t){var e=va(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Ts();function My(t,e){function s(a,i){return a=t(a,i),e(a[0],a[1])}return t.invert&&e.invert&&(s.invert=function(a,i){return a=e.invert(a,i),a&&t.invert(a[0],a[1])}),s}function Sf(t,e){return[t>be?t-dr:t<-be?t+dr:t,e]}Sf.invert=Sf;function tI(t,e,s){return(t%=dr)?e||s?My(rg(t),sg(e,s)):rg(t):e||s?sg(e,s):Sf}function ig(t){return function(e,s){return e+=t,[e>be?e-dr:e<-be?e+dr:e,s]}}function rg(t){var e=ig(t);return e.invert=ig(-t),e}function sg(t,e){var s=Ye(t),a=je(t),i=Ye(e),l=je(e);function f(d,m){var v=Ye(m),_=Ye(d)*v,b=je(d)*v,E=je(m),T=E*s+_*a;return[ca(b*i-T*l,_*s-E*a),uo(T*i+b*l)]}return f.invert=function(d,m){var v=Ye(m),_=Ye(d)*v,b=je(d)*v,E=je(m),T=E*i-b*l;return[ca(b*i+E*l,_*s+T*a),uo(T*s-_*a)]},f}function eI(t,e,s,a,i,l){if(s){var f=Ye(e),d=je(e),m=a*s;i==null?(i=e+a*dr,l=e-m/2):(i=og(f,i),l=og(f,l),(a>0?i<l:i>l)&&(i+=a*dr));for(var v,_=i;a>0?_>l:_<l;_-=m)v=Tf([f,-d*Ye(_),-d*je(_)]),t.point(v[0],v[1])}}function og(t,e){e=ha(e),e[0]-=t,Cf(e);var s=Oy(-e[1]);return((-e[2]<0?-s:s)+dr-$e)%dr}function Ay(){var t=[],e;return{point:function(s,a){e.push([s,a])},lineStart:function(){t.push(e=[])},lineEnd:il,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var s=t;return t=[],e=null,s}}}function nI(t,e,s,a,i,l){var f=t[0],d=t[1],m=e[0],v=e[1],_=0,b=1,E=m-f,T=v-d,I;if(I=s-f,!(!E&&I>0)){if(I/=E,E<0){if(I<_)return;I<b&&(b=I)}else if(E>0){if(I>b)return;I>_&&(_=I)}if(I=i-f,!(!E&&I<0)){if(I/=E,E<0){if(I>b)return;I>_&&(_=I)}else if(E>0){if(I<_)return;I<b&&(b=I)}if(I=a-d,!(!T&&I>0)){if(I/=T,T<0){if(I<_)return;I<b&&(b=I)}else if(T>0){if(I>b)return;I>_&&(_=I)}if(I=l-d,!(!T&&I<0)){if(I/=T,T<0){if(I>b)return;I>_&&(_=I)}else if(T>0){if(I<_)return;I<b&&(b=I)}return _>0&&(t[0]=f+_*E,t[1]=d+_*T),b<1&&(e[0]=f+b*E,e[1]=d+b*T),!0}}}}}function Gu(t,e){return yn(t[0]-e[0])<$e&&yn(t[1]-e[1])<$e}function Iu(t,e,s,a){this.x=t,this.z=e,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Ry(t,e,s,a,i){var l=[],f=[],d,m;if(t.forEach(function(I){if(!((O=I.length-1)<=0)){var O,B=I[0],P=I[O],R;if(Gu(B,P)){for(i.lineStart(),d=0;d<O;++d)i.point((B=I[d])[0],B[1]);i.lineEnd();return}l.push(R=new Iu(B,I,null,!0)),f.push(R.o=new Iu(B,null,R,!1)),l.push(R=new Iu(P,I,null,!1)),f.push(R.o=new Iu(P,null,R,!0))}}),!!l.length){for(f.sort(e),ag(l),ag(f),d=0,m=f.length;d<m;++d)f[d].e=s=!s;for(var v=l[0],_,b;;){for(var E=v,T=!0;E.v;)if((E=E.n)===v)return;_=E.z,i.lineStart();do{if(E.v=E.o.v=!0,E.e){if(T)for(d=0,m=_.length;d<m;++d)i.point((b=_[d])[0],b[1]);else a(E.x,E.n.x,1,i);E=E.n}else{if(T)for(_=E.p.z,d=_.length-1;d>=0;--d)i.point((b=_[d])[0],b[1]);else a(E.x,E.p.x,-1,i);E=E.p}E=E.o,_=E.z,T=!T}while(!E.v);i.lineEnd()}}}function ag(t){if(e=t.length){for(var e,s=0,a=t[0],i;++s<e;)a.n=i=t[s],i.p=a,a=i;a.n=i=t[0],i.p=a}}function Dy(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function iI(t){return t.length===1&&(t=rI(t)),{left:function(e,s,a,i){for(a==null&&(a=0),i==null&&(i=e.length);a<i;){var l=a+i>>>1;t(e[l],s)<0?a=l+1:i=l}return a},right:function(e,s,a,i){for(a==null&&(a=0),i==null&&(i=e.length);a<i;){var l=a+i>>>1;t(e[l],s)>0?i=l:a=l+1}return a}}}function rI(t){return function(e,s){return Dy(t(e),s)}}iI(Dy);function By(t){for(var e=t.length,s,a=-1,i=0,l,f;++a<e;)i+=t[a].length;for(l=new Array(i);--e>=0;)for(f=t[e],s=f.length;--s>=0;)l[--i]=f[s];return l}var rl=1e9,Pu=-rl;function sI(t,e,s,a){function i(v,_){return t<=v&&v<=s&&e<=_&&_<=a}function l(v,_,b,E){var T=0,I=0;if(v==null||(T=f(v,b))!==(I=f(_,b))||m(v,_)<0^b>0)do E.point(T===0||T===3?t:s,T>1?a:e);while((T=(T+b+4)%4)!==I);else E.point(_[0],_[1])}function f(v,_){return yn(v[0]-t)<$e?_>0?0:3:yn(v[0]-s)<$e?_>0?2:1:yn(v[1]-e)<$e?_>0?1:0:_>0?3:2}function d(v,_){return m(v.x,_.x)}function m(v,_){var b=f(v,1),E=f(_,1);return b!==E?b-E:b===0?_[1]-v[1]:b===1?v[0]-_[0]:b===2?v[1]-_[1]:_[0]-v[0]}return function(v){var _=v,b=Ay(),E,T,I,O,B,P,R,D,F,H,q,$={point:it,lineStart:et,lineEnd:tt,polygonStart:J,polygonEnd:_t};function it(vt,yt){i(vt,yt)&&_.point(vt,yt)}function X(){for(var vt=0,yt=0,bt=T.length;yt<bt;++yt)for(var dt=T[yt],Nt=1,ut=dt.length,At=dt[0],Ut,Mt,Pt=At[0],Lt=At[1];Nt<ut;++Nt)Ut=Pt,Mt=Lt,At=dt[Nt],Pt=At[0],Lt=At[1],Mt<=a?Lt>a&&(Pt-Ut)*(a-Mt)>(Lt-Mt)*(t-Ut)&&++vt:Lt<=a&&(Pt-Ut)*(a-Mt)<(Lt-Mt)*(t-Ut)&&--vt;return vt}function J(){_=b,E=[],T=[],q=!0}function _t(){var vt=X(),yt=q&&vt,bt=(E=By(E)).length;(yt||bt)&&(v.polygonStart(),yt&&(v.lineStart(),l(null,null,1,v),v.lineEnd()),bt&&Ry(E,d,vt,l,v),v.polygonEnd()),_=v,E=T=I=null}function et(){$.point=j,T&&T.push(I=[]),H=!0,F=!1,R=D=NaN}function tt(){E&&(j(O,B),P&&F&&b.rejoin(),E.push(b.result())),$.point=it,F&&_.lineEnd()}function j(vt,yt){var bt=i(vt,yt);if(T&&I.push([vt,yt]),H)O=vt,B=yt,P=bt,H=!1,bt&&(_.lineStart(),_.point(vt,yt));else if(bt&&F)_.point(vt,yt);else{var dt=[R=Math.max(Pu,Math.min(rl,R)),D=Math.max(Pu,Math.min(rl,D))],Nt=[vt=Math.max(Pu,Math.min(rl,vt)),yt=Math.max(Pu,Math.min(rl,yt))];nI(dt,Nt,t,e,s,a)?(F||(_.lineStart(),_.point(dt[0],dt[1])),_.point(Nt[0],Nt[1]),bt||_.lineEnd(),q=!1):bt&&(_.lineStart(),_.point(vt,yt),q=!1)}R=vt,D=yt,F=bt}return $}}var $h=Ts();function oI(t,e){var s=e[0],a=e[1],i=[je(s),-Ye(s),0],l=0,f=0;$h.reset();for(var d=0,m=t.length;d<m;++d)if(_=(v=t[d]).length)for(var v,_,b=v[_-1],E=b[0],T=b[1]/2+Qm,I=je(T),O=Ye(T),B=0;B<_;++B,E=R,I=F,O=H,b=P){var P=v[B],R=P[0],D=P[1]/2+Qm,F=je(D),H=Ye(D),q=R-E,$=q>=0?1:-1,it=$*q,X=it>be,J=I*F;if($h.add(ca(J*$*je(it),O*H+J*Ye(it))),l+=X?q+$*dr:q,X^E>=s^R>=s){var _t=yc(ha(b),ha(P));Cf(_t);var et=yc(i,_t);Cf(et);var tt=(X^q>=0?-1:1)*uo(et[2]);(a>tt||a===tt&&(_t[0]||_t[1]))&&(f+=X^q>=0?1:-1)}}return(l<-$e||l<$e&&$h<-$e)^f&1}Ts();function lg(t){return t}Ts();Ts();var fa=1/0,bc=fa,Dl=-fa,wc=Dl,ug={point:aI,lineStart:il,lineEnd:il,polygonStart:il,polygonEnd:il,result:function(){var t=[[fa,bc],[Dl,wc]];return Dl=wc=-(bc=fa=1/0),t}};function aI(t,e){t<fa&&(fa=t),t>Dl&&(Dl=t),e<bc&&(bc=e),e>wc&&(wc=e)}Ts();function Fy(t,e,s,a){return function(i,l){var f=e(l),d=i.invert(a[0],a[1]),m=Ay(),v=e(m),_=!1,b,E,T,I={point:O,lineStart:P,lineEnd:R,polygonStart:function(){I.point=D,I.lineStart=F,I.lineEnd=H,E=[],b=[]},polygonEnd:function(){I.point=O,I.lineStart=P,I.lineEnd=R,E=By(E);var q=oI(b,d);E.length?(_||(l.polygonStart(),_=!0),Ry(E,uI,q,s,l)):q&&(_||(l.polygonStart(),_=!0),l.lineStart(),s(null,null,1,l),l.lineEnd()),_&&(l.polygonEnd(),_=!1),E=b=null},sphere:function(){l.polygonStart(),l.lineStart(),s(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function O(q,$){var it=i(q,$);t(q=it[0],$=it[1])&&l.point(q,$)}function B(q,$){var it=i(q,$);f.point(it[0],it[1])}function P(){I.point=B,f.lineStart()}function R(){I.point=O,f.lineEnd()}function D(q,$){T.push([q,$]);var it=i(q,$);v.point(it[0],it[1])}function F(){v.lineStart(),T=[]}function H(){D(T[0][0],T[0][1]),v.lineEnd();var q=v.clean(),$=m.result(),it,X=$.length,J,_t,et;if(T.pop(),b.push(T),T=null,!!X){if(q&1){if(_t=$[0],(J=_t.length-1)>0){for(_||(l.polygonStart(),_=!0),l.lineStart(),it=0;it<J;++it)l.point((et=_t[it])[0],et[1]);l.lineEnd()}return}X>1&&q&2&&$.push($.pop().concat($.shift())),E.push($.filter(lI))}}return I}}function lI(t){return t.length>1}function uI(t,e){return((t=t.x)[0]<0?t[1]-or-$e:or-t[1])-((e=e.x)[0]<0?e[1]-or-$e:or-e[1])}const cg=Fy(function(){return!0},cI,fI,[-be,-or]);function cI(t){var e=NaN,s=NaN,a=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(l,f){var d=l>0?be:-be,m=yn(l-e);yn(m-be)<$e?(t.point(e,s=(s+f)/2>0?or:-or),t.point(a,s),t.lineEnd(),t.lineStart(),t.point(d,s),t.point(l,s),i=0):a!==d&&m>=be&&(yn(e-a)<$e&&(e-=a*$e),yn(l-d)<$e&&(l-=d*$e),s=hI(e,s,l,f),t.point(a,s),t.lineEnd(),t.lineStart(),t.point(d,s),i=0),t.point(e=l,s=f),a=d},lineEnd:function(){t.lineEnd(),e=s=NaN},clean:function(){return 2-i}}}function hI(t,e,s,a){var i,l,f=je(t-s);return yn(f)>$e?JS((je(e)*(l=Ye(a))*je(s)-je(a)*(i=Ye(e))*je(t))/(i*l*f)):(e+a)/2}function fI(t,e,s,a){var i;if(t==null)i=s*or,a.point(-be,i),a.point(0,i),a.point(be,i),a.point(be,0),a.point(be,-i),a.point(0,-i),a.point(-be,-i),a.point(-be,0),a.point(-be,i);else if(yn(t[0]-e[0])>$e){var l=t[0]<e[0]?be:-be;i=s*l/2,a.point(-l,i),a.point(0,i),a.point(l,i)}else a.point(e[0],e[1])}function dI(t,e){var s=Ye(t),a=s>0,i=yn(s)>$e;function l(_,b,E,T){eI(T,t,e,E,_,b)}function f(_,b){return Ye(_)*Ye(b)>s}function d(_){var b,E,T,I,O;return{lineStart:function(){I=T=!1,O=1},point:function(B,P){var R=[B,P],D,F=f(B,P),H=a?F?0:v(B,P):F?v(B+(B<0?be:-be),P):0;if(!b&&(I=T=F)&&_.lineStart(),F!==T&&(D=m(b,R),(!D||Gu(b,D)||Gu(R,D))&&(R[0]+=$e,R[1]+=$e,F=f(R[0],R[1]))),F!==T)O=0,F?(_.lineStart(),D=m(R,b),_.point(D[0],D[1])):(D=m(b,R),_.point(D[0],D[1]),_.lineEnd()),b=D;else if(i&&b&&a^F){var q;!(H&E)&&(q=m(R,b,!0))&&(O=0,a?(_.lineStart(),_.point(q[0][0],q[0][1]),_.point(q[1][0],q[1][1]),_.lineEnd()):(_.point(q[1][0],q[1][1]),_.lineEnd(),_.lineStart(),_.point(q[0][0],q[0][1])))}F&&(!b||!Gu(b,R))&&_.point(R[0],R[1]),b=R,T=F,E=H},lineEnd:function(){T&&_.lineEnd(),b=null},clean:function(){return O|(I&&T)<<1}}}function m(_,b,E){var T=ha(_),I=ha(b),O=[1,0,0],B=yc(T,I),P=Cu(B,B),R=B[0],D=P-R*R;if(!D)return!E&&_;var F=s*P/D,H=-s*R/D,q=yc(O,B),$=Su(O,F),it=Su(B,H);zh($,it);var X=q,J=Cu($,X),_t=Cu(X,X),et=J*J-_t*(Cu($,$)-1);if(!(et<0)){var tt=va(et),j=Su(X,(-J-tt)/_t);if(zh(j,$),j=Tf(j),!E)return j;var vt=_[0],yt=b[0],bt=_[1],dt=b[1],Nt;yt<vt&&(Nt=vt,vt=yt,yt=Nt);var ut=yt-vt,At=yn(ut-be)<$e,Ut=At||ut<$e;if(!At&&dt<bt&&(Nt=bt,bt=dt,dt=Nt),Ut?At?bt+dt>0^j[1]<(yn(j[0]-vt)<$e?bt:dt):bt<=j[1]&&j[1]<=dt:ut>be^(vt<=j[0]&&j[0]<=yt)){var Mt=Su(X,(-J+tt)/_t);return zh(Mt,$),[j,Tf(Mt)]}}}function v(_,b){var E=a?t:be-t,T=0;return _<-E?T|=1:_>E&&(T|=2),b<-E?T|=4:b>E&&(T|=8),T}return Fy(f,d,l,a?[0,-t]:[-be,t-be])}function zy(t){return function(e){var s=new If;for(var a in t)s[a]=t[a];return s.stream=e,s}}function If(){}If.prototype={constructor:If,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function $y(t,e,s){var a=e[1][0]-e[0][0],i=e[1][1]-e[0][1],l=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),l!=null&&t.clipExtent(null),QS(s,t.stream(ug));var f=ug.result(),d=Math.min(a/(f[1][0]-f[0][0]),i/(f[1][1]-f[0][1])),m=+e[0][0]+(a-d*(f[1][0]+f[0][0]))/2,v=+e[0][1]+(i-d*(f[1][1]+f[0][1]))/2;return l!=null&&t.clipExtent(l),t.scale(d*150).translate([m,v])}function pI(t,e,s){return $y(t,[[0,0],e],s)}var hg=16,mI=Ye(30*Ei);function fg(t,e){return+e?_I(t,e):gI(t)}function gI(t){return zy({point:function(e,s){e=t(e,s),this.stream.point(e[0],e[1])}})}function _I(t,e){function s(a,i,l,f,d,m,v,_,b,E,T,I,O,B){var P=v-a,R=_-i,D=P*P+R*R;if(D>4*e&&O--){var F=f+E,H=d+T,q=m+I,$=va(F*F+H*H+q*q),it=uo(q/=$),X=yn(yn(q)-1)<$e||yn(l-b)<$e?(l+b)/2:ca(H,F),J=t(X,it),_t=J[0],et=J[1],tt=_t-a,j=et-i,vt=R*tt-P*j;(vt*vt/D>e||yn((P*tt+R*j)/D-.5)>.3||f*E+d*T+m*I<mI)&&(s(a,i,l,f,d,m,_t,et,X,F/=$,H/=$,q,O,B),B.point(_t,et),s(_t,et,X,F,H,q,v,_,b,E,T,I,O,B))}}return function(a){var i,l,f,d,m,v,_,b,E,T,I,O,B={point:P,lineStart:R,lineEnd:F,polygonStart:function(){a.polygonStart(),B.lineStart=H},polygonEnd:function(){a.polygonEnd(),B.lineStart=R}};function P(it,X){it=t(it,X),a.point(it[0],it[1])}function R(){b=NaN,B.point=D,a.lineStart()}function D(it,X){var J=ha([it,X]),_t=t(it,X);s(b,E,_,T,I,O,b=_t[0],E=_t[1],_=it,T=J[0],I=J[1],O=J[2],hg,a),a.point(b,E)}function F(){B.point=P,a.lineEnd()}function H(){R(),B.point=q,B.lineEnd=$}function q(it,X){D(i=it,X),l=b,f=E,d=T,m=I,v=O,B.point=D}function $(){s(b,E,_,T,I,O,l,f,i,d,m,v,hg,a),B.lineEnd=F,F()}return B}}var vI=zy({point:function(t,e){this.stream.point(t*Ei,e*Ei)}});function yI(t){return bI(function(){return t})()}function bI(t){var e,s=150,a=480,i=250,l,f,d=0,m=0,v=0,_=0,b=0,E,T,I=null,O=cg,B=null,P,R,D,F=lg,H=.5,q=fg(_t,H),$,it;function X(j){return j=T(j[0]*Ei,j[1]*Ei),[j[0]*s+l,f-j[1]*s]}function J(j){return j=T.invert((j[0]-l)/s,(f-j[1])/s),j&&[j[0]*is,j[1]*is]}function _t(j,vt){return j=e(j,vt),[j[0]*s+l,f-j[1]*s]}X.stream=function(j){return $&&it===j?$:$=vI(O(E,q(F(it=j))))},X.clipAngle=function(j){return arguments.length?(O=+j?dI(I=j*Ei,6*Ei):(I=null,cg),tt()):I*is},X.clipExtent=function(j){return arguments.length?(F=j==null?(B=P=R=D=null,lg):sI(B=+j[0][0],P=+j[0][1],R=+j[1][0],D=+j[1][1]),tt()):B==null?null:[[B,P],[R,D]]},X.scale=function(j){return arguments.length?(s=+j,et()):s},X.translate=function(j){return arguments.length?(a=+j[0],i=+j[1],et()):[a,i]},X.center=function(j){return arguments.length?(d=j[0]%360*Ei,m=j[1]%360*Ei,et()):[d*is,m*is]},X.rotate=function(j){return arguments.length?(v=j[0]%360*Ei,_=j[1]%360*Ei,b=j.length>2?j[2]%360*Ei:0,et()):[v*is,_*is,b*is]},X.precision=function(j){return arguments.length?(q=fg(_t,H=j*j),tt()):va(H)},X.fitExtent=function(j,vt){return $y(X,j,vt)},X.fitSize=function(j,vt){return pI(X,j,vt)};function et(){T=My(E=tI(v,_,b),e);var j=e(d,m);return l=a-j[0]*s,f=i+j[1]*s,tt()}function tt(){return $=it=null,X}return function(){return e=t.apply(this,arguments),X.invert=e.invert&&J,et()}}function Uy(t){return function(e,s){var a=Ye(e),i=Ye(s),l=t(a*i);return[l*i*je(e),l*je(s)]}}function Gy(t){return function(e,s){var a=va(e*e+s*s),i=t(a),l=je(i),f=Ye(i);return[ca(e*l,a*f),uo(a&&s*l/a)]}}var wI=Uy(function(t){return va(2/(1+t))});wI.invert=Gy(function(t){return 2*uo(t/2)});var Vy=Uy(function(t){return(t=Oy(t))&&t/je(t)});Vy.invert=Gy(function(t){return t});function LI(){return yI(Vy).scale(79.4188).clipAngle(180-.001)}function dg(t,e){return[t,e]}dg.invert=dg;var{BufferOp:EI,GeoJSONReader:kI,GeoJSONWriter:xI}=KS;function Pf(t,e,s){s=s||{};var a=s.units||"kilometers",i=s.steps||8;if(!t)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var l=[];switch(t.type){case"GeometryCollection":return Xc(t,function(f){var d=Vu(f,e,a,i);d&&l.push(d)}),pc(l);case"FeatureCollection":return mc(t,function(f){var d=Vu(f,e,a,i);d&&mc(d,function(m){m&&l.push(m)})}),pc(l)}return Vu(t,e,a,i)}function Vu(t,e,s,a){var i=t.properties||{},l=t.type==="Feature"?t.geometry:t;if(l.type==="GeometryCollection"){var f=[];return Xc(t,function(O){var B=Vu(O,e,s,a);B&&f.push(B)}),pc(f)}var d=TI(l),m={type:l.type,coordinates:qy(l.coordinates,d)},v=new kI,_=v.read(m),b=VS(HS(e,s),"meters"),E=EI.bufferOp(_,b,a),T=new xI;if(E=T.write(E),!Hy(E.coordinates)){var I={type:E.type,coordinates:Wy(E.coordinates,d)};return Py(I,i)}}function Hy(t){return Array.isArray(t[0])?Hy(t[0]):isNaN(t[0])}function qy(t,e){return typeof t[0]!="object"?e(t):t.map(function(s){return qy(s,e)})}function Wy(t,e){return typeof t[0]!="object"?e.invert(t):t.map(function(s){return Wy(s,e)})}function TI(t){var e=ZS(t).geometry.coordinates,s=[-e[0],-e[1]];return LI().rotate(s).scale(Kn)}function CI(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Zy(t);case"FeatureCollection":return SI(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return wd(t);default:throw new Error("unknown GeoJSON type")}}function Zy(t){const e={type:"Feature"};return Object.keys(t).forEach(s=>{switch(s){case"type":case"properties":case"geometry":return;default:e[s]=t[s]}}),e.properties=Yy(t.properties),t.geometry==null?e.geometry=null:e.geometry=wd(t.geometry),e}function Yy(t){const e={};return t&&Object.keys(t).forEach(s=>{const a=t[s];typeof a=="object"?a===null?e[s]=null:Array.isArray(a)?e[s]=a.map(i=>i):e[s]=Yy(a):e[s]=a}),e}function SI(t){const e={type:"FeatureCollection"};return Object.keys(t).forEach(s=>{switch(s){case"type":case"features":return;default:e[s]=t[s]}}),e.features=t.features.map(s=>Zy(s)),e}function wd(t){const e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(s=>wd(s)),e):(e.coordinates=jy(t.coordinates),e)}function jy(t){const e=t;return typeof e[0]!="object"?e.slice():e.map(s=>jy(s))}function II(t,e={}){var s,a;if(e=e||{},!qS(e))throw new Error("options is invalid");const i=(s=e.mutate)!=null?s:!1,l=(a=e.reverse)!=null?a:!1;if(!t)throw new Error("<geojson> is required");if(typeof l!="boolean")throw new Error("<reverse> must be a boolean");if(typeof i!="boolean")throw new Error("<mutate> must be a boolean");!i&&t.type!=="Point"&&t.type!=="MultiPoint"&&(t=CI(t));const f=[];switch(t.type){case"GeometryCollection":return Xc(t,function(d){Hu(d,l)}),t;case"FeatureCollection":return mc(t,function(d){const m=Hu(d,l);mc(m,function(v){f.push(v)})}),pc(f)}return Hu(t,l)}function Hu(t,e){switch(t.type==="Feature"?t.geometry.type:t.type){case"GeometryCollection":return Xc(t,function(a){Hu(a,e)}),t;case"LineString":return pg(nl(t),e),t;case"Polygon":return mg(nl(t),e),t;case"MultiLineString":return nl(t).forEach(function(a){pg(a,e)}),t;case"MultiPolygon":return nl(t).forEach(function(a){mg(a,e)}),t;case"Point":case"MultiPoint":return t}}function pg(t,e){gc(t)===e&&t.reverse()}function mg(t,e){gc(t[0])!==e&&t[0].reverse();for(let s=1;s<t.length;s++)gc(t[s])===e&&t[s].reverse()}const ir=class ir{constructor(){if(ir.instance)return ir.instance;const{locale:e,availableLocales:s}=_a(),a=Fh(),i=$S(),l=a==null?void 0:a.query;this.radius=Ft(1),this.wkt=Ft(""),this.dateMin=Ft(null),this.dateMax=Ft(null),this.connector=Hn(wf(null,l)),this.itemsPerPage=Ft(10),this.nbTaxonPerLine=Ft(null),this.showFilters=Ft(!0),this.lang=e,this.mode=Ft("detailedList"),this.sourceGeometry=Ft(null),this.class=Ft(null),this.initializeFromUrl(l,e,s),ir.instance=this,"radius wkt dateMin dateMax itemsPerPage nbTaxonPerLine showFilters lang mode class connector".split(" ").forEach(f=>{ne(this[f],()=>{i.replace({path:a.path,query:this.getParams()})})})}initializeFromUrl(e,s,a){e&&(this.setParameterFromUrl("radius",i=>parseInt(i)),this.setParameterFromUrl("wkt",i=>gg(i,this.radius.value)),this.setParameterFromUrl("sourceGeometry",async i=>{this.sourceGeometry.value=i;try{const f=await(await fetch(i)).json();this.wkt.value=gg(fs.stringify(f.geometry),this.radius.value)}catch(l){console.error(l)}},!0),this.setParameterFromUrl("dateMin",i=>i),this.setParameterFromUrl("dateMax",i=>i),this.setParameterFromUrl("connector",i=>wf(i,{...e})),this.setParameterFromUrl("class",i=>{var l;return(l=Object.keys(this.connector.taxonClass2SourceID))!=null&&l.includes(i)?i:null}),this.setParameterFromUrl("itemsPerPage",i=>parseInt(i)),this.setParameterFromUrl("nbTaxonPerLine",i=>parseInt(i)),this.setParameterFromUrl("showFilters",i=>i==="true"),this.setParameterFromUrl("lang",i=>{if(a.includes(i))return i}),this.setParameterFromUrl("mode",i=>["detailedList","gallery"].includes(i)?i:"detailedList"))}setParameterFromUrl(e,s,a=!1){if(e in Fh().query){const i=Fh().query[e];a?s(i):this[e].value=s(i)}}getParams(){let e={};return Object.entries(this).filter(([s,a])=>a.value!==void 0&&a.value!==null&&a.value!=="").forEach(([s,a])=>{e[s]=a.value}),e.connector=this.connector.name,e={...e,...this.connector.getParams()},(e==null?void 0:e.sourceGeometry)!=null&&(e!=null&&e.wkt)&&delete e.wkt,e}static getInstance(){return ir.instance||(ir.instance=new ir),ir.instance}};Gs(ir,"instance",null);let ii=ir;const gg=(t,e)=>{if(t&&(t.includes("POINT")||t.includes("LINESTRING"))){const s=Pf(fs.parse(t),e);return fs.stringify(s)}return t};var sl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var PI=sl.exports,_g;function NI(){return _g||(_g=1,function(t,e){(function(s,a){a(e)})(PI,function(s){var a="1.9.4";function i(o){var h,g,w,x;for(g=1,w=arguments.length;g<w;g++){x=arguments[g];for(h in x)o[h]=x[h]}return o}var l=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function f(o,h){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var w=g.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(g.call(arguments)):arguments)}}var d=0;function m(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function v(o,h,g){var w,x,A,Z;return Z=function(){w=!1,x&&(A.apply(g,x),x=!1)},A=function(){w?x=arguments:(o.apply(g,arguments),setTimeout(Z,h),w=!0)},A}function _(o,h,g){var w=h[1],x=h[0],A=w-x;return o===w&&g?o:((o-x)%A+A)%A+x}function b(){return!1}function E(o,h){if(h===!1)return o;var g=Math.pow(10,h===void 0?6:h);return Math.round(o*g)/g}function T(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function I(o){return T(o).split(/\s+/)}function O(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var g in h)o.options[g]=h[g];return o.options}function B(o,h,g){var w=[];for(var x in o)w.push(encodeURIComponent(g?x.toUpperCase():x)+"="+encodeURIComponent(o[x]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function R(o,h){return o.replace(P,function(g,w){var x=h[w];if(x===void 0)throw new Error("No value provided for variable "+g);return typeof x=="function"&&(x=x(h)),x})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function F(o,h){for(var g=0;g<o.length;g++)if(o[g]===h)return g;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var $=0;function it(o){var h=+new Date,g=Math.max(0,16-(h-$));return $=h+g,window.setTimeout(o,g)}var X=window.requestAnimationFrame||q("RequestAnimationFrame")||it,J=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function _t(o,h,g){if(g&&X===it)o.call(h);else return X.call(window,f(o,h))}function et(o){o&&J.call(window,o)}var tt={__proto__:null,extend:i,create:l,bind:f,get lastId(){return d},stamp:m,throttle:v,wrapNum:_,falseFn:b,formatNum:E,trim:T,splitWords:I,setOptions:O,getParamString:B,template:R,isArray:D,indexOf:F,emptyImageUrl:H,requestFn:X,cancelFn:J,requestAnimFrame:_t,cancelAnimFrame:et};function j(){}j.extend=function(o){var h=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=h.__super__=this.prototype,w=l(g);w.constructor=h,h.prototype=w;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(h[x]=this[x]);return o.statics&&i(h,o.statics),o.includes&&(vt(o.includes),i.apply(null,[w].concat(o.includes))),i(w,o),delete w.statics,delete w.includes,w.options&&(w.options=g.options?l(g.options):{},i(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,Z=w._initHooks.length;A<Z;A++)w._initHooks[A].call(this)}},h},j.include=function(o){var h=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},j.mergeOptions=function(o){return i(this.prototype.options,o),this},j.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function vt(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var yt={on:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=I(o);for(var x=0,A=o.length;x<A;x++)this._on(o[x],h,g)}return this},off:function(o,h,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=I(o);for(var x=arguments.length===1,A=0,Z=o.length;A<Z;A++)x?this._off(o[A]):this._off(o[A],h,g)}return this},_on:function(o,h,g,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,g)===!1){g===this&&(g=void 0);var x={fn:h,ctx:g};w&&(x.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(x)}},_off:function(o,h,g){var w,x,A;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(x=0,A=w.length;x<A;x++)w[x].fn=b;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Z=this._listens(o,h,g);if(Z!==!1){var ot=w[Z];this._firingCount&&(ot.fn=b,this._events[o]=w=w.slice()),w.splice(Z,1)}}},fire:function(o,h,g){if(!this.listens(o,g))return this;var w=i({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var x=this._events[o];if(x){this._firingCount=this._firingCount+1||1;for(var A=0,Z=x.length;A<Z;A++){var ot=x[A],ht=ot.fn;ot.once&&this.off(o,ht,ot.ctx),ht.call(ot.ctx||this,w)}this._firingCount--}}return g&&this._propagateEvent(w),this},listens:function(o,h,g,w){typeof o!="string"&&console.warn('"string" type argument expected');var x=h;typeof h!="function"&&(w=!!h,x=void 0,g=void 0);var A=this._events&&this._events[o];if(A&&A.length&&this._listens(o,x,g)!==!1)return!0;if(w){for(var Z in this._eventParents)if(this._eventParents[Z].listens(o,h,g,w))return!0}return!1},_listens:function(o,h,g){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;g===this&&(g=void 0);for(var x=0,A=w.length;x<A;x++)if(w[x].fn===h&&w[x].ctx===g)return x;return!1},once:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=I(o);for(var x=0,A=o.length;x<A;x++)this._on(o[x],h,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[m(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[m(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};yt.addEventListener=yt.on,yt.removeEventListener=yt.clearAllEventListeners=yt.off,yt.addOneTimeEventListener=yt.once,yt.fireEvent=yt.fire,yt.hasEventListeners=yt.listens;var bt=j.extend(yt);function dt(o,h,g){this.x=g?Math.round(o):o,this.y=g?Math.round(h):h}var Nt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(o){return this.clone()._add(ut(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ut(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new dt(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new dt(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Nt(this.x),this.y=Nt(this.y),this},distanceTo:function(o){o=ut(o);var h=o.x-this.x,g=o.y-this.y;return Math.sqrt(h*h+g*g)},equals:function(o){return o=ut(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ut(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function ut(o,h,g){return o instanceof dt?o:D(o)?new dt(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new dt(o.x,o.y):new dt(o,h,g)}function At(o,h){if(o)for(var g=h?[o,h]:o,w=0,x=g.length;w<x;w++)this.extend(g[w])}At.prototype={extend:function(o){var h,g;if(!o)return this;if(o instanceof dt||typeof o[0]=="number"||"x"in o)h=g=ut(o);else if(o=Ut(o),h=o.min,g=o.max,!h||!g)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=g.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return ut((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ut(this.min.x,this.max.y)},getTopRight:function(){return ut(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,g;return typeof o[0]=="number"||o instanceof dt?o=ut(o):o=Ut(o),o instanceof At?(h=o.min,g=o.max):h=g=o,h.x>=this.min.x&&g.x<=this.max.x&&h.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=Ut(o);var h=this.min,g=this.max,w=o.min,x=o.max,A=x.x>=h.x&&w.x<=g.x,Z=x.y>=h.y&&w.y<=g.y;return A&&Z},overlaps:function(o){o=Ut(o);var h=this.min,g=this.max,w=o.min,x=o.max,A=x.x>h.x&&w.x<g.x,Z=x.y>h.y&&w.y<g.y;return A&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,g=this.max,w=Math.abs(h.x-g.x)*o,x=Math.abs(h.y-g.y)*o;return Ut(ut(h.x-w,h.y-x),ut(g.x+w,g.y+x))},equals:function(o){return o?(o=Ut(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Ut(o,h){return!o||o instanceof At?o:new At(o,h)}function Mt(o,h){if(o)for(var g=h?[o,h]:o,w=0,x=g.length;w<x;w++)this.extend(g[w])}Mt.prototype={extend:function(o){var h=this._southWest,g=this._northEast,w,x;if(o instanceof Lt)w=o,x=o;else if(o instanceof Mt){if(w=o._southWest,x=o._northEast,!w||!x)return this}else return o?this.extend(Tt(o)||Pt(o)):this;return!h&&!g?(this._southWest=new Lt(w.lat,w.lng),this._northEast=new Lt(x.lat,x.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),g.lat=Math.max(x.lat,g.lat),g.lng=Math.max(x.lng,g.lng)),this},pad:function(o){var h=this._southWest,g=this._northEast,w=Math.abs(h.lat-g.lat)*o,x=Math.abs(h.lng-g.lng)*o;return new Mt(new Lt(h.lat-w,h.lng-x),new Lt(g.lat+w,g.lng+x))},getCenter:function(){return new Lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Lt||"lat"in o?o=Tt(o):o=Pt(o);var h=this._southWest,g=this._northEast,w,x;return o instanceof Mt?(w=o.getSouthWest(),x=o.getNorthEast()):w=x=o,w.lat>=h.lat&&x.lat<=g.lat&&w.lng>=h.lng&&x.lng<=g.lng},intersects:function(o){o=Pt(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),x=o.getNorthEast(),A=x.lat>=h.lat&&w.lat<=g.lat,Z=x.lng>=h.lng&&w.lng<=g.lng;return A&&Z},overlaps:function(o){o=Pt(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),x=o.getNorthEast(),A=x.lat>h.lat&&w.lat<g.lat,Z=x.lng>h.lng&&w.lng<g.lng;return A&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Pt(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pt(o,h){return o instanceof Mt?o:new Mt(o,h)}function Lt(o,h,g){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,g!==void 0&&(this.alt=+g)}Lt.prototype={equals:function(o,h){if(!o)return!1;o=Tt(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+E(this.lat,o)+", "+E(this.lng,o)+")"},distanceTo:function(o){return G.distance(this,Tt(o))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,g=h/Math.cos(Math.PI/180*this.lat);return Pt([this.lat-h,this.lng-g],[this.lat+h,this.lng+g])},clone:function(){return new Lt(this.lat,this.lng,this.alt)}};function Tt(o,h,g){return o instanceof Lt?o:D(o)&&typeof o[0]!="object"?o.length===3?new Lt(o[0],o[1],o[2]):o.length===2?new Lt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Lt(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Lt(o,h,g)}var rt={latLngToPoint:function(o,h){var g=this.projection.project(o),w=this.scale(h);return this.transformation._transform(g,w)},pointToLatLng:function(o,h){var g=this.scale(h),w=this.transformation.untransform(o,g);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,g=this.scale(o),w=this.transformation.transform(h.min,g),x=this.transformation.transform(h.max,g);return new At(w,x)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?_(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?_(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Lt(g,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),g=this.wrapLatLng(h),w=h.lat-g.lat,x=h.lng-g.lng;if(w===0&&x===0)return o;var A=o.getSouthWest(),Z=o.getNorthEast(),ot=new Lt(A.lat-w,A.lng-x),ht=new Lt(Z.lat-w,Z.lng-x);return new Mt(ot,ht)}},G=i({},rt,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var g=Math.PI/180,w=o.lat*g,x=h.lat*g,A=Math.sin((h.lat-o.lat)*g/2),Z=Math.sin((h.lng-o.lng)*g/2),ot=A*A+Math.cos(w)*Math.cos(x)*Z*Z,ht=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*ht}}),Et=6378137,St={R:Et,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,g=this.MAX_LATITUDE,w=Math.max(Math.min(g,o.lat),-g),x=Math.sin(w*h);return new dt(this.R*o.lng*h,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(o){var h=180/Math.PI;return new Lt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=Et*Math.PI;return new At([-o,-o],[o,o])}()};function It(o,h,g,w){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=g,this._d=w}It.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new dt((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function C(o,h,g,w){return new It(o,h,g,w)}var V=i({},G,{code:"EPSG:3857",projection:St,transformation:function(){var o=.5/(Math.PI*St.R);return C(o,.5,-o,.5)}()}),K=i({},V,{code:"EPSG:900913"});function ct(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function gt(o,h){var g="",w,x,A,Z,ot,ht;for(w=0,A=o.length;w<A;w++){for(ot=o[w],x=0,Z=ot.length;x<Z;x++)ht=ot[x],g+=(x?"L":"M")+ht.x+" "+ht.y;g+=h?Xt.svg?"z":"x":""}return g||"M0 0"}var pt=document.documentElement.style,z="ActiveXObject"in window,N=z&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),at=dn("webkit"),Dt=dn("android"),kt=dn("android 2")||dn("android 3"),Y=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ft=Dt&&dn("Google")&&Y<537&&!("AudioNode"in window),Gt=!!window.opera,Qt=!Q&&dn("chrome"),Ot=dn("gecko")&&!at&&!Gt&&!z,Ve=!Qt&&dn("safari"),jt=dn("phantom"),Yt="OTransition"in pt,Pn=navigator.platform.indexOf("Win")===0,fn=z&&"transition"in pt,Gr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kt,qt="MozPerspective"in pt,Zn=!window.L_DISABLE_3D&&(fn||Gr||qt)&&!Yt&&!jt,qi=typeof orientation<"u"||dn("mobile"),ya=qi&&at,Yn=qi&&Gr,Vr=!window.PointerEvent&&window.MSPointerEvent,ri=!!(window.PointerEvent||Vr),ba="ontouchstart"in window||!!window.TouchEvent,fo=!window.L_NO_TOUCH&&(ba||ri),Kc=qi&&Gt,Wl=qi&&Ot,mr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rt=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",b,h),window.removeEventListener("testPassiveEventSupport",b,h)}catch{}return o}(),po=function(){return!!document.createElement("canvas").getContext}(),Hr=!!(document.createElementNS&&ct("svg").createSVGRect),Cs=!!Hr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Zl=!Hr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),wa=navigator.platform.indexOf("Mac")===0,Yl=navigator.platform.indexOf("Linux")===0;function dn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Xt={ie:z,ielt9:N,edge:Q,webkit:at,android:Dt,android23:kt,androidStock:ft,opera:Gt,chrome:Qt,gecko:Ot,safari:Ve,phantom:jt,opera12:Yt,win:Pn,ie3d:fn,webkit3d:Gr,gecko3d:qt,any3d:Zn,mobile:qi,mobileWebkit:ya,mobileWebkit3d:Yn,msPointer:Vr,pointer:ri,touch:fo,touchNative:ba,mobileOpera:Kc,mobileGecko:Wl,retina:mr,passiveEvents:Rt,canvas:po,svg:Hr,vml:Zl,inlineSvg:Cs,mac:wa,linux:Yl},Ss=Xt.msPointer?"MSPointerDown":"pointerdown",jl=Xt.msPointer?"MSPointerMove":"pointermove",La=Xt.msPointer?"MSPointerUp":"pointerup",Xl=Xt.msPointer?"MSPointerCancel":"pointercancel",bn={touchstart:Ss,touchmove:jl,touchend:La,touchcancel:Xl},mo={touchstart:vo,touchmove:_o,touchend:_o,touchcancel:_o},fi={},Wi=!1;function gr(o,h,g){return h==="touchstart"&&Jc(),mo[h]?(g=mo[h].bind(this,g),o.addEventListener(bn[h],g,!1),g):(console.warn("wrong event specified:",h),b)}function Ea(o,h,g){if(!bn[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(bn[h],g,!1)}function go(o){fi[o.pointerId]=o}function Is(o){fi[o.pointerId]&&(fi[o.pointerId]=o)}function Xe(o){delete fi[o.pointerId]}function Jc(){Wi||(document.addEventListener(Ss,go,!0),document.addEventListener(jl,Is,!0),document.addEventListener(La,Xe,!0),document.addEventListener(Xl,Xe,!0),Wi=!0)}function _o(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var g in fi)h.touches.push(fi[g]);h.changedTouches=[h],o(h)}}function vo(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ze(h),_o(o,h)}function Ps(o){var h={},g,w;for(w in o)g=o[w],h[w]=g&&g.bind?g.bind(o):g;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ka=200;function xa(o,h){o.addEventListener("dblclick",h);var g=0,w;function x(A){if(A.detail!==1){w=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var Z=mn(A);if(!(Z.some(function(ht){return ht instanceof HTMLLabelElement&&ht.attributes.for})&&!Z.some(function(ht){return ht instanceof HTMLInputElement||ht instanceof HTMLSelectElement}))){var ot=Date.now();ot-g<=ka?(w++,w===2&&h(Ps(A))):w=1,g=ot}}}return o.addEventListener("click",x),{dblclick:h,simDblclick:x}}function Kl(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Ta=Lo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wn=Lo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_r=wn==="webkitTransition"||wn==="OTransition"?wn+"End":"transitionend";function yo(o){return typeof o=="string"?document.getElementById(o):o}function di(o,h){var g=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!g||g==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);g=w?w[h]:null}return g==="auto"?null:g}function pe(o,h,g){var w=document.createElement(o);return w.className=h||"",g&&g.appendChild(w),w}function Ue(o){var h=o.parentNode;h&&h.removeChild(o)}function bo(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function qr(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function vr(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function wo(o,h){if(o.classList!==void 0)return o.classList.contains(h);var g=Ns(o);return g.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(g)}function re(o,h){if(o.classList!==void 0)for(var g=I(h),w=0,x=g.length;w<x;w++)o.classList.add(g[w]);else if(!wo(o,h)){var A=Ns(o);pi(o,(A?A+" ":"")+h)}}function Ee(o,h){o.classList!==void 0?o.classList.remove(h):pi(o,T((" "+Ns(o)+" ").replace(" "+h+" "," ")))}function pi(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Ns(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function an(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&Qc(o,h)}function Qc(o,h){var g=!1,w="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),g?(g.Enabled=h!==100,g.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function Lo(o){for(var h=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in h)return o[g];return!1}function yr(o,h,g){var w=h||new dt(0,0);o.style[Ta]=(Xt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(g?" scale("+g+")":"")}function Ke(o,h){o._leaflet_pos=h,Xt.any3d?yr(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Zi(o){return o._leaflet_pos||new dt(0,0)}var Ii,Wr,Ca;if("onselectstart"in document)Ii=function(){se(window,"selectstart",Ze)},Wr=function(){Oe(window,"selectstart",Ze)};else{var Zr=Lo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ii=function(){if(Zr){var o=document.documentElement.style;Ca=o[Zr],o[Zr]="none"}},Wr=function(){Zr&&(document.documentElement.style[Zr]=Ca,Ca=void 0)}}function Sa(){se(window,"dragstart",Ze)}function Os(){Oe(window,"dragstart",Ze)}var Ne,Pi;function Ia(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Yr(),Ne=o,Pi=o.style.outlineStyle,o.style.outlineStyle="none",se(window,"keydown",Yr))}function Yr(){Ne&&(Ne.style.outlineStyle=Pi,Ne=void 0,Pi=void 0,Oe(window,"keydown",Yr))}function Nn(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Tn(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var Eo={__proto__:null,TRANSFORM:Ta,TRANSITION:wn,TRANSITION_END:_r,get:yo,getStyle:di,create:pe,remove:Ue,empty:bo,toFront:qr,toBack:vr,hasClass:wo,addClass:re,removeClass:Ee,setClass:pi,getClass:Ns,setOpacity:an,testProp:Lo,setTransform:yr,setPosition:Ke,getPosition:Zi,get disableTextSelection(){return Ii},get enableTextSelection(){return Wr},disableImageDrag:Sa,enableImageDrag:Os,preventOutline:Ia,restoreOutline:Yr,getSizedParentNode:Nn,getScale:Tn};function se(o,h,g,w){if(h&&typeof h=="object")for(var x in h)ko(o,x,h[x],g);else{h=I(h);for(var A=0,Z=h.length;A<Z;A++)ko(o,h[A],g,w)}return this}var mi="_leaflet_events";function Oe(o,h,g,w){if(arguments.length===1)Ms(o),delete o[mi];else if(h&&typeof h=="object")for(var x in h)_e(o,x,h[x],g);else if(h=I(h),arguments.length===2)Ms(o,function(ot){return F(h,ot)!==-1});else for(var A=0,Z=h.length;A<Z;A++)_e(o,h[A],g,w);return this}function Ms(o,h){for(var g in o[mi]){var w=g.split(/\d/)[0];(!h||h(w))&&_e(o,w,null,null,g)}}var Pa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ko(o,h,g,w){var x=h+m(g)+(w?"_"+m(w):"");if(o[mi]&&o[mi][x])return this;var A=function(ot){return g.call(w||o,ot||window.event)},Z=A;!Xt.touchNative&&Xt.pointer&&h.indexOf("touch")===0?A=gr(o,h,A):Xt.touch&&h==="dblclick"?A=xa(o,A):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Pa[h]||h,A,Xt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(A=function(ot){ot=ot||window.event,xo(o,ot)&&Z(ot)},o.addEventListener(Pa[h],A,!1)):o.addEventListener(h,Z,!1):o.attachEvent("on"+h,A),o[mi]=o[mi]||{},o[mi][x]=A}function _e(o,h,g,w,x){x=x||h+m(g)+(w?"_"+m(w):"");var A=o[mi]&&o[mi][x];if(!A)return this;!Xt.touchNative&&Xt.pointer&&h.indexOf("touch")===0?Ea(o,h,A):Xt.touch&&h==="dblclick"?Kl(o,A):"removeEventListener"in o?o.removeEventListener(Pa[h]||h,A,!1):o.detachEvent("on"+h,A),o[mi][x]=null}function pn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function As(o){return ko(o,"wheel",pn),this}function jr(o){return se(o,"mousedown touchstart dblclick contextmenu",pn),o._leaflet_disable_click=!0,this}function Ze(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Yi(o){return Ze(o),pn(o),this}function mn(o){if(o.composedPath)return o.composedPath();for(var h=[],g=o.target;g;)h.push(g),g=g.parentNode;return h}function Na(o,h){if(!h)return new dt(o.clientX,o.clientY);var g=Tn(h),w=g.boundingClientRect;return new dt((o.clientX-w.left)/g.x-h.clientLeft,(o.clientY-w.top)/g.y-h.clientTop)}var Oa=Xt.linux&&Xt.chrome?window.devicePixelRatio:Xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ma(o){return Xt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Oa:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function xo(o,h){var g=h.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var th={__proto__:null,on:se,off:Oe,stopPropagation:pn,disableScrollPropagation:As,disableClickPropagation:jr,preventDefault:Ze,stop:Yi,getPropagationPath:mn,getMousePosition:Na,getWheelDelta:Ma,isExternalTarget:xo,addListener:se,removeListener:Oe},Aa=bt.extend({run:function(o,h,g,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Zi(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_t(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,g=this._duration*1e3;h<g?this._runFrame(this._easeOut(h/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var g=this._startPos.add(this._offset.multiplyBy(o));h&&g._round(),Ke(this._el,g),this.fire("step")},_complete:function(){et(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),oe=bt.extend({options:{crs:V,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=O(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Tt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wn&&Xt.any3d&&!Xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),se(this._proxy,_r,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,g){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Tt(o),h,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,g.zoom):this._tryAnimatedPan(o,g.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,g){var w=this.getZoomScale(h),x=this.getSize().divideBy(2),A=o instanceof dt?o:this.latLngToContainerPoint(o),Z=A.subtract(x).multiplyBy(1-1/w),ot=this.containerPointToLatLng(x.add(Z));return this.setView(ot,h,{zoom:g})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Pt(o);var g=ut(h.paddingTopLeft||h.padding||[0,0]),w=ut(h.paddingBottomRight||h.padding||[0,0]),x=this.getBoundsZoom(o,!1,g.add(w));if(x=typeof h.maxZoom=="number"?Math.min(h.maxZoom,x):x,x===1/0)return{center:o.getCenter(),zoom:x};var A=w.subtract(g).divideBy(2),Z=this.project(o.getSouthWest(),x),ot=this.project(o.getNorthEast(),x),ht=this.unproject(Z.add(ot).divideBy(2).add(A),x);return{center:ht,zoom:x}},fitBounds:function(o,h){if(o=Pt(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,h);return this.setView(g.center,g.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=ut(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Aa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){re(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,g){if(g=g||{},g.animate===!1||!Xt.any3d)return this.setView(o,h,g);this._stop();var w=this.project(this.getCenter()),x=this.project(o),A=this.getSize(),Z=this._zoom;o=Tt(o),h=h===void 0?Z:h;var ot=Math.max(A.x,A.y),ht=ot*this.getZoomScale(Z,h),Ct=x.distanceTo(w)||1,Vt=1.42,te=Vt*Vt;function fe(sn){var hu=sn?-1:1,s0=sn?ht:ot,o0=ht*ht-ot*ot+hu*te*te*Ct*Ct,a0=2*s0*te*Ct,fh=o0/a0,Md=Math.sqrt(fh*fh+1)-fh,l0=Md<1e-9?-18:Math.log(Md);return l0}function An(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function _n(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function wi(sn){return An(sn)/_n(sn)}var Xn=fe(0);function Ro(sn){return ot*(_n(Xn)/_n(Xn+Vt*sn))}function e0(sn){return ot*(_n(Xn)*wi(Xn+Vt*sn)-An(Xn))/te}function n0(sn){return 1-Math.pow(1-sn,1.5)}var i0=Date.now(),Nd=(fe(1)-Xn)/Vt,r0=g.duration?1e3*g.duration:1e3*Nd*.8;function Od(){var sn=(Date.now()-i0)/r0,hu=n0(sn)*Nd;sn<=1?(this._flyToFrame=_t(Od,this),this._move(this.unproject(w.add(x.subtract(w).multiplyBy(e0(hu)/Ct)),Z),this.getScaleZoom(ot/Ro(hu),Z),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Od.call(this),this},flyToBounds:function(o,h){var g=this._getBoundsCenterZoom(o,h);return this.flyTo(g.center,g.zoom,h)},setMaxBounds:function(o){return o=Pt(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var g=this.getCenter(),w=this._limitCenter(g,this._zoom,Pt(o));return g.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var g=ut(h.paddingTopLeft||h.padding||[0,0]),w=ut(h.paddingBottomRight||h.padding||[0,0]),x=this.project(this.getCenter()),A=this.project(o),Z=this.getPixelBounds(),ot=Ut([Z.min.add(g),Z.max.subtract(w)]),ht=ot.getSize();if(!ot.contains(A)){this._enforcingBounds=!0;var Ct=A.subtract(ot.getCenter()),Vt=ot.extend(A).getSize().subtract(ht);x.x+=Ct.x<0?-Vt.x:Vt.x,x.y+=Ct.y<0?-Vt.y:Vt.y,this.panTo(this.unproject(x),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),w=h.divideBy(2).round(),x=g.divideBy(2).round(),A=w.subtract(x);return!A.x&&!A.y?this:(o.animate&&o.pan?this.panBy(A):(o.pan&&this._rawPanBy(A),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=f(this._handleGeolocationResponse,this),g=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,g,o):navigator.geolocation.getCurrentPosition(h,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,g=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,g=o.coords.longitude,w=new Lt(h,g),x=w.toBounds(o.coords.accuracy*2),A=this._locateOptions;if(A.setView){var Z=this.getBoundsZoom(x);this.setView(w,A.maxZoom?Math.min(Z,A.maxZoom):Z)}var ot={latlng:w,bounds:x,timestamp:o.timestamp};for(var ht in o.coords)typeof o.coords[ht]=="number"&&(ot[ht]=o.coords[ht]);this.fire("locationfound",ot)}},addHandler:function(o,h){if(!h)return this;var g=this[o]=new h(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(et(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ue(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=pe("div",g,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new Mt(h,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,g){o=Pt(o),g=ut(g||[0,0]);var w=this.getZoom()||0,x=this.getMinZoom(),A=this.getMaxZoom(),Z=o.getNorthWest(),ot=o.getSouthEast(),ht=this.getSize().subtract(g),Ct=Ut(this.project(ot,w),this.project(Z,w)).getSize(),Vt=Xt.any3d?this.options.zoomSnap:1,te=ht.x/Ct.x,fe=ht.y/Ct.y,An=h?Math.max(te,fe):Math.min(te,fe);return w=this.getScaleZoom(An,w),Vt&&(w=Math.round(w/(Vt/100))*(Vt/100),w=h?Math.ceil(w/Vt)*Vt:Math.floor(w/Vt)*Vt),Math.max(x,Math.min(A,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var g=this._getTopLeftPoint(o,h);return new At(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var g=this.options.crs;return h=h===void 0?this._zoom:h,g.scale(o)/g.scale(h)},getScaleZoom:function(o,h){var g=this.options.crs;h=h===void 0?this._zoom:h;var w=g.zoom(o*g.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Tt(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(ut(o),h)},layerPointToLatLng:function(o){var h=ut(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Tt(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Tt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Pt(o))},distance:function(o,h){return this.options.crs.distance(Tt(o),Tt(h))},containerPointToLayerPoint:function(o){return ut(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ut(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(ut(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(o)))},mouseEventToContainerPoint:function(o){return Na(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=yo(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");se(h,"scroll",this._onScroll,this),this._containerId=m(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xt.any3d,re(o,"leaflet-container"+(Xt.touch?" leaflet-touch":"")+(Xt.retina?" leaflet-retina":"")+(Xt.ielt9?" leaflet-oldie":"")+(Xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=di(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ke(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(re(o.markerPane,"leaflet-zoom-hide"),re(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,g){Ke(this._mapPane,new dt(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var x=this._zoom!==h;this._moveStart(x,g)._move(o,h)._moveEnd(x),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,g,w){h===void 0&&(h=this._zoom);var x=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?g&&g.pinch&&this.fire("zoom",g):((x||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return et(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ke(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[m(this._container)]=this;var h=o?Oe:se;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Xt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){et(this._resizeRequest),this._resizeRequest=_t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var g=[],w,x=h==="mouseout"||h==="mouseover",A=o.target||o.srcElement,Z=!1;A;){if(w=this._targets[m(A)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){Z=!0;break}if(w&&w.listens(h,!0)&&(x&&!xo(A,o)||(g.push(w),x))||A===this._container)break;A=A.parentNode}return!g.length&&!Z&&!x&&this.listens(h,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var g=o.type;g==="mousedown"&&Ia(h),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,g){if(o.type==="click"){var w=i({},o);w.type="preclick",this._fireDOMEvent(w,w.type,g)}var x=this._findEventTargets(o,h);if(g){for(var A=[],Z=0;Z<g.length;Z++)g[Z].listens(h,!0)&&A.push(g[Z]);x=A.concat(x)}if(x.length){h==="contextmenu"&&Ze(o);var ot=x[0],ht={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Ct=ot.getLatLng&&(!ot._radius||ot._radius<=10);ht.containerPoint=Ct?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(o),ht.layerPoint=this.containerPointToLayerPoint(ht.containerPoint),ht.latlng=Ct?ot.getLatLng():this.layerPointToLatLng(ht.layerPoint)}for(Z=0;Z<x.length;Z++)if(x[Z].fire(h,ht,!0),ht.originalEvent._stopped||x[Z].options.bubblingMouseEvents===!1&&F(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Zi(this._mapPane)||new dt(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var g=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var g=this.getSize()._divideBy(2);return this.project(o,h)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return Ut([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,g){if(!g)return o;var w=this.project(o,h),x=this.getSize().divideBy(2),A=new At(w.subtract(x),w.add(x)),Z=this._getBoundsOffset(A,g,h);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?o:this.unproject(w.add(Z),h)},_limitOffset:function(o,h){if(!h)return o;var g=this.getPixelBounds(),w=new At(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,g){var w=Ut(this.project(h.getNorthEast(),g),this.project(h.getSouthWest(),g)),x=w.min.subtract(o.min),A=w.max.subtract(o.max),Z=this._rebound(x.x,-A.x),ot=this._rebound(x.y,-A.y);return new dt(Z,ot)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),g=this.getMaxZoom(),w=Xt.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var g=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,h),!0)},_createAnimProxy:function(){var o=this._proxy=pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var g=Ta,w=this._proxy.style[g];yr(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();yr(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),x=this._getCenterOffset(o)._divideBy(1-1/w);return g.animate!==!0&&!this.getSize().contains(x)?!1:(_t(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,g,w){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function To(o,h){return new oe(o,h)}var si=j.extend({options:{position:"topright"},initialize:function(o){O(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),g=this.getPosition(),w=o._controlCorners[g];return re(h,"leaflet-control"),g.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),gn=function(o){return new si(o)};oe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",g=this._controlContainer=pe("div",h+"control-container",this._container);function w(x,A){var Z=h+x+" "+h+A;o[x+A]=pe("div",Z,g)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ue(this._controlCorners[o]);Ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var br=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,g,w){return g<w?-1:w<g?1:0}},initialize:function(o,h,g){O(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return si.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(m(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=pe("div",o),g=this.options.collapsed;h.setAttribute("aria-haspopup",!0),jr(h),As(h);var w=this._section=pe("section",o+"-list");g&&(this._map.on("click",this.collapse,this),se(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=pe("a",o+"-toggle",h);x.href="#",x.title="Layers",x.setAttribute("role","button"),se(x,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){Ze(A),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=pe("div",o+"-base",w),this._separator=pe("div",o+"-separator",w),this._overlaysList=pe("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&m(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:g}),this.options.sortLayers&&this._layers.sort(f(function(w,x){return this.options.sortFunction(w.layer,x.layer,w.name,x.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bo(this._baseLayersList),bo(this._overlaysList),this._layerControlInputs=[];var o,h,g,w,x=0;for(g=0;g<this._layers.length;g++)w=this._layers[g],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,x+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&x>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(m(o.target)),g=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,h)},_createRadioElement:function(o,h){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=g,w.firstChild},_addItem:function(o){var h=document.createElement("label"),g=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=g):w=this._createRadioElement("leaflet-base-layers_"+m(this),g),this._layerControlInputs.push(w),w.layerId=m(o.layer),se(w,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+o.name;var A=document.createElement("span");h.appendChild(A),A.appendChild(w),A.appendChild(x);var Z=o.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,g,w=[],x=[];this._handlingClick=!0;for(var A=o.length-1;A>=0;A--)h=o[A],g=this._getLayer(h.layerId).layer,h.checked?w.push(g):h.checked||x.push(g);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])&&this._map.removeLayer(x[A]);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])||this._map.addLayer(w[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,g,w=this._map.getZoom(),x=o.length-1;x>=0;x--)h=o[x],g=this._getLayer(h.layerId).layer,h.disabled=g.options.minZoom!==void 0&&w<g.options.minZoom||g.options.maxZoom!==void 0&&w>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,se(o,"click",Ze),this.expand();var h=this;setTimeout(function(){Oe(o,"click",Ze),h._preventClick=!1})}}),eh=function(o,h,g){return new br(o,h,g)},ji=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",g=pe("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,g,w,x){var A=pe("a",g,w);return A.innerHTML=o,A.href="#",A.title=h,A.setAttribute("role","button"),A.setAttribute("aria-label",h),jr(A),se(A,"click",Yi),se(A,"click",x,this),se(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";Ee(this._zoomInButton,h),Ee(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(re(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(re(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});oe.mergeOptions({zoomControl:!0}),oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ji,this.addControl(this.zoomControl))});var Jl=function(o){return new ji(o)},wr=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",g=pe("div",h),w=this.options;return this._addScales(w,h+"-line",g),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,g){o.metric&&(this._mScale=pe("div",h,g)),o.imperial&&(this._iScale=pe("div",h,g))},_update:function(){var o=this._map,h=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),g=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,g,h/o)},_updateImperial:function(o){var h=o*3.2808399,g,w,x;h>5280?(g=h/5280,w=this._getRoundNum(g),this._updateScale(this._iScale,w+" mi",w/g)):(x=this._getRoundNum(h),this._updateScale(this._iScale,x+" ft",x/h))},_updateScale:function(o,h,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),g=o/h;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,h*g}}),nh=function(o){return new wr(o)},gi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Co=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xt.inlineSvg?gi+" ":"")+"Leaflet</a>"},initialize:function(o){O(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=pe("div","leaflet-control-attribution"),jr(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});oe.mergeOptions({attributionControl:!0}),oe.addInitHook(function(){this.options.attributionControl&&new Co().addTo(this)});var ih=function(o){return new Co(o)};si.Layers=br,si.Zoom=ji,si.Scale=wr,si.Attribution=Co,gn.layers=eh,gn.zoom=Jl,gn.scale=nh,gn.attribution=ih;var _i=j.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_i.addTo=function(o,h){return o.addHandler(h,this),this};var rh={Events:yt},Ql=Xt.touch?"touchstart mousedown":"mousedown",Xi=bt.extend({options:{clickTolerance:3},initialize:function(o,h,g,w){O(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=g},enable:function(){this._enabled||(se(this._dragStartTarget,Ql,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xi._dragging===this&&this.finishDrag(!0),Oe(this._dragStartTarget,Ql,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!wo(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Xi._dragging===this&&this.finishDrag();return}if(!(Xi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Xi._dragging=this,this._preventOutline&&Ia(this._element),Sa(),Ii(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,g=Nn(this._element);this._startPoint=new dt(h.clientX,h.clientY),this._startPos=Zi(this._element),this._parentScale=Tn(g);var w=o.type==="mousedown";se(document,w?"mousemove":"touchmove",this._onMove,this),se(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,g=new dt(h.clientX,h.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Ze(o),this._moved||(this.fire("dragstart"),this._moved=!0,re(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ke(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Oe(document,"mousemove touchmove",this._onMove,this),Oe(document,"mouseup touchend touchcancel",this._onUp,this),Os(),Wr();var h=this._moved&&this._moving;this._moving=!1,Xi._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function tu(o,h,g){var w,x=[1,4,2,8],A,Z,ot,ht,Ct,Vt,te,fe;for(A=0,Vt=o.length;A<Vt;A++)o[A]._code=en(o[A],h);for(ot=0;ot<4;ot++){for(te=x[ot],w=[],A=0,Vt=o.length,Z=Vt-1;A<Vt;Z=A++)ht=o[A],Ct=o[Z],ht._code&te?Ct._code&te||(fe=Rs(Ct,ht,te,h,g),fe._code=en(fe,h),w.push(fe)):(Ct._code&te&&(fe=Rs(Ct,ht,te,h,g),fe._code=en(fe,h),w.push(fe)),w.push(ht));o=w}return o}function eu(o,h){var g,w,x,A,Z,ot,ht,Ct,Vt;if(!o||o.length===0)throw new Error("latlngs not passed");Mn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var te=Tt([0,0]),fe=Pt(o),An=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());An<1700&&(te=Ni(o));var _n=o.length,wi=[];for(g=0;g<_n;g++){var Xn=Tt(o[g]);wi.push(h.project(Tt([Xn.lat-te.lat,Xn.lng-te.lng])))}for(ot=ht=Ct=0,g=0,w=_n-1;g<_n;w=g++)x=wi[g],A=wi[w],Z=x.y*A.x-A.y*x.x,ht+=(x.x+A.x)*Z,Ct+=(x.y+A.y)*Z,ot+=Z*3;ot===0?Vt=wi[0]:Vt=[ht/ot,Ct/ot];var Ro=h.unproject(ut(Vt));return Tt([Ro.lat+te.lat,Ro.lng+te.lng])}function Ni(o){for(var h=0,g=0,w=0,x=0;x<o.length;x++){var A=Tt(o[x]);h+=A.lat,g+=A.lng,w++}return Tt([h/w,g/w])}var On={__proto__:null,clipPolygon:tu,polygonCenter:eu,centroid:Ni};function nu(o,h){if(!h||!o.length)return o.slice();var g=h*h;return o=Ba(o,g),o=Da(o,g),o}function Ra(o,h,g){return Math.sqrt(Bs(o,h,g,!0))}function sh(o,h,g){return Bs(o,h,g)}function Da(o,h){var g=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,x=new w(g);x[0]=x[g-1]=1,So(o,x,h,0,g-1);var A,Z=[];for(A=0;A<g;A++)x[A]&&Z.push(o[A]);return Z}function So(o,h,g,w,x){var A=0,Z,ot,ht;for(ot=w+1;ot<=x-1;ot++)ht=Bs(o[ot],o[w],o[x],!0),ht>A&&(Z=ot,A=ht);A>g&&(h[Z]=1,So(o,h,g,w,Z),So(o,h,g,Z,x))}function Ba(o,h){for(var g=[o[0]],w=1,x=0,A=o.length;w<A;w++)Ds(o[w],o[x])>h&&(g.push(o[w]),x=w);return x<A-1&&g.push(o[A-1]),g}var Fa;function jn(o,h,g,w,x){var A=w?Fa:en(o,g),Z=en(h,g),ot,ht,Ct;for(Fa=Z;;){if(!(A|Z))return[o,h];if(A&Z)return!1;ot=A||Z,ht=Rs(o,h,ot,g,x),Ct=en(ht,g),ot===A?(o=ht,A=Ct):(h=ht,Z=Ct)}}function Rs(o,h,g,w,x){var A=h.x-o.x,Z=h.y-o.y,ot=w.min,ht=w.max,Ct,Vt;return g&8?(Ct=o.x+A*(ht.y-o.y)/Z,Vt=ht.y):g&4?(Ct=o.x+A*(ot.y-o.y)/Z,Vt=ot.y):g&2?(Ct=ht.x,Vt=o.y+Z*(ht.x-o.x)/A):g&1&&(Ct=ot.x,Vt=o.y+Z*(ot.x-o.x)/A),new dt(Ct,Vt,x)}function en(o,h){var g=0;return o.x<h.min.x?g|=1:o.x>h.max.x&&(g|=2),o.y<h.min.y?g|=4:o.y>h.max.y&&(g|=8),g}function Ds(o,h){var g=h.x-o.x,w=h.y-o.y;return g*g+w*w}function Bs(o,h,g,w){var x=h.x,A=h.y,Z=g.x-x,ot=g.y-A,ht=Z*Z+ot*ot,Ct;return ht>0&&(Ct=((o.x-x)*Z+(o.y-A)*ot)/ht,Ct>1?(x=g.x,A=g.y):Ct>0&&(x+=Z*Ct,A+=ot*Ct)),Z=o.x-x,ot=o.y-A,w?Z*Z+ot*ot:new dt(x,A)}function Mn(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function za(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(o)}function $a(o,h){var g,w,x,A,Z,ot,ht,Ct;if(!o||o.length===0)throw new Error("latlngs not passed");Mn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Vt=Tt([0,0]),te=Pt(o),fe=te.getNorthWest().distanceTo(te.getSouthWest())*te.getNorthEast().distanceTo(te.getNorthWest());fe<1700&&(Vt=Ni(o));var An=o.length,_n=[];for(g=0;g<An;g++){var wi=Tt(o[g]);_n.push(h.project(Tt([wi.lat-Vt.lat,wi.lng-Vt.lng])))}for(g=0,w=0;g<An-1;g++)w+=_n[g].distanceTo(_n[g+1])/2;if(w===0)Ct=_n[0];else for(g=0,A=0;g<An-1;g++)if(Z=_n[g],ot=_n[g+1],x=Z.distanceTo(ot),A+=x,A>w){ht=(A-w)/x,Ct=[ot.x-ht*(ot.x-Z.x),ot.y-ht*(ot.y-Z.y)];break}var Xn=h.unproject(ut(Ct));return Tt([Xn.lat+Vt.lat,Xn.lng+Vt.lng])}var Ua={__proto__:null,simplify:nu,pointToSegmentDistance:Ra,closestPointOnSegment:sh,clipSegment:jn,_getEdgeIntersection:Rs,_getBitCode:en,_sqClosestPointOnSegment:Bs,isFlat:Mn,_flat:za,polylineCenter:$a},Ga={project:function(o){return new dt(o.lng,o.lat)},unproject:function(o){return new Lt(o.y,o.x)},bounds:new At([-180,-90],[180,90])},Va={R:6378137,R_MINOR:6356752314245179e-9,bounds:new At([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,g=this.R,w=o.lat*h,x=this.R_MINOR/g,A=Math.sqrt(1-x*x),Z=A*Math.sin(w),ot=Math.tan(Math.PI/4-w/2)/Math.pow((1-Z)/(1+Z),A/2);return w=-g*Math.log(Math.max(ot,1e-10)),new dt(o.lng*h*g,w)},unproject:function(o){for(var h=180/Math.PI,g=this.R,w=this.R_MINOR/g,x=Math.sqrt(1-w*w),A=Math.exp(-o.y/g),Z=Math.PI/2-2*Math.atan(A),ot=0,ht=.1,Ct;ot<15&&Math.abs(ht)>1e-7;ot++)Ct=x*Math.sin(Z),Ct=Math.pow((1-Ct)/(1+Ct),x/2),ht=Math.PI/2-2*Math.atan(A*Ct)-Z,Z+=ht;return new Lt(Z*h,o.x*h/g)}},oh={__proto__:null,LonLat:Ga,Mercator:Va,SphericalMercator:St},ah=i({},G,{code:"EPSG:3395",projection:Va,transformation:function(){var o=.5/(Math.PI*Va.R);return C(o,.5,-o,.5)}()}),iu=i({},G,{code:"EPSG:4326",projection:Ga,transformation:C(1/180,1,-1/180,.5)}),lh=i({},rt,{projection:Ga,transformation:C(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var g=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(g*g+w*w)},infinite:!0});rt.Earth=G,rt.EPSG3395=ah,rt.EPSG3857=V,rt.EPSG900913=K,rt.EPSG4326=iu,rt.Simple=lh;var oi=bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[m(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[m(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var g=this.getEvents();h.on(g,this),this.once("remove",function(){h.off(g,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});oe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=m(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=m(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return m(o)in this._layers},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var h=0,g=o.length;h<g;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[m(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=m(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,g=this._getZoomSpan();for(var w in this._zoomBoundLayers){var x=this._zoomBoundLayers[w].options;o=x.minZoom===void 0?o:Math.min(o,x.minZoom),h=x.maxZoom===void 0?h:Math.max(h,x.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xr=oi.extend({initialize:function(o,h){O(this,h),this._layers={};var g,w;if(o)for(g=0,w=o.length;g<w;g++)this.addLayer(o[g])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),g,w;for(g in this._layers)w=this._layers[g],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return m(o)}}),ru=function(o,h){return new Xr(o,h)},Oi=Xr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Xr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Xr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Mt;for(var h in this._layers){var g=this._layers[h];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),su=function(o,h){return new Oi(o,h)},Kr=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){O(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(g,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var g=this.options,w=g[h+"Size"];typeof w=="number"&&(w=[w,w]);var x=ut(w),A=ut(h==="shadow"&&g.shadowAnchor||g.iconAnchor||x&&x.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(g.className||""),A&&(o.style.marginLeft=-A.x+"px",o.style.marginTop=-A.y+"px"),x&&(o.style.width=x.x+"px",o.style.height=x.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Xt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function uh(o){return new Kr(o)}var Fs=Kr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Fs.imagePath!="string"&&(Fs.imagePath=this._detectIconPath()),(this.options.imagePath||Fs.imagePath)+Kr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(g,w,x){var A=w.exec(g);return A&&A[x]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=pe("div","leaflet-default-icon-path",document.body),h=di(o,"background-image")||di(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),ou=_i.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Xi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),re(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,g=h._map,w=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,A=Zi(h._icon),Z=g.getPixelBounds(),ot=g.getPixelOrigin(),ht=Ut(Z.min._subtract(ot).add(x),Z.max._subtract(ot).subtract(x));if(!ht.contains(A)){var Ct=ut((Math.max(ht.max.x,A.x)-ht.max.x)/(Z.max.x-ht.max.x)-(Math.min(ht.min.x,A.x)-ht.min.x)/(Z.min.x-ht.min.x),(Math.max(ht.max.y,A.y)-ht.max.y)/(Z.max.y-ht.max.y)-(Math.min(ht.min.y,A.y)-ht.min.y)/(Z.min.y-ht.min.y)).multiplyBy(w);g.panBy(Ct,{animate:!1}),this._draggable._newPos._add(Ct),this._draggable._startPos._add(Ct),Ke(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=_t(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(et(this._panRequest),this._panRequest=_t(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,g=h._shadow,w=Zi(h._icon),x=h._map.layerPointToLatLng(w);g&&Ke(g,w),h._latlng=x,o.latlng=x,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){et(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Io=oi.extend({options:{icon:new Fs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){O(this,h),this._latlng=Tt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Tt(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),w=!1;g!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),re(g,h),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(g,"focus",this._panOnFocus,this);var x=o.icon.createShadow(this._shadow),A=!1;x!==this._shadow&&(this._removeShadow(),A=!0),x&&(re(x,h),x.alt=""),this._shadow=x,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&A&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Oe(this._icon,"focus",this._panOnFocus,this),Ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ue(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ke(this._icon,o),this._shadow&&Ke(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ou)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ou(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&an(this._icon,o),this._shadow&&an(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,g=h.iconSize?ut(h.iconSize):ut(0,0),w=h.iconAnchor?ut(h.iconAnchor):ut(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:g.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ch(o,h){return new Io(o,h)}var Ki=oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return O(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zs=Ki.extend({options:{fill:!0,radius:10},initialize:function(o,h){O(this,h),this._latlng=Tt(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Tt(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Ki.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,g=this._clickTolerance(),w=[o+g,h+g];this._pxBounds=new At(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function au(o,h){return new zs(o,h)}var Po=zs.extend({initialize:function(o,h,g){if(typeof h=="number"&&(h=i({},g,{radius:h})),O(this,h),this._latlng=Tt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Mt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ki.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,g=this._map,w=g.options.crs;if(w.distance===G.distance){var x=Math.PI/180,A=this._mRadius/G.R/x,Z=g.project([h+A,o]),ot=g.project([h-A,o]),ht=Z.add(ot).divideBy(2),Ct=g.unproject(ht).lat,Vt=Math.acos((Math.cos(A*x)-Math.sin(h*x)*Math.sin(Ct*x))/(Math.cos(h*x)*Math.cos(Ct*x)))/x;(isNaN(Vt)||Vt===0)&&(Vt=A/Math.cos(Math.PI/180*h)),this._point=ht.subtract(g.getPixelOrigin()),this._radius=isNaN(Vt)?0:ht.x-g.project([Ct,o-Vt]).x,this._radiusY=ht.y-Z.y}else{var te=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(te).x}this._updateBounds()}});function hh(o,h,g){return new Po(o,h,g)}var vi=Ki.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){O(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,g=null,w=Bs,x,A,Z=0,ot=this._parts.length;Z<ot;Z++)for(var ht=this._parts[Z],Ct=1,Vt=ht.length;Ct<Vt;Ct++){x=ht[Ct-1],A=ht[Ct];var te=w(o,x,A,!0);te<h&&(h=te,g=w(o,x,A))}return g&&(g.distance=Math.sqrt(h)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $a(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Tt(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Mt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],g=Mn(o),w=0,x=o.length;w<x;w++)g?(h[w]=Tt(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new At;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new dt(o,o);this._rawPxBounds&&(this._pxBounds=new At([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,g){var w=o[0]instanceof Lt,x=o.length,A,Z;if(w){for(Z=[],A=0;A<x;A++)Z[A]=this._map.latLngToLayerPoint(o[A]),g.extend(Z[A]);h.push(Z)}else for(A=0;A<x;A++)this._projectLatlngs(o[A],h,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,g,w,x,A,Z,ot,ht;for(g=0,x=0,A=this._rings.length;g<A;g++)for(ht=this._rings[g],w=0,Z=ht.length;w<Z-1;w++)ot=jn(ht[w],ht[w+1],o,w,!0),ot&&(h[x]=h[x]||[],h[x].push(ot[0]),(ot[1]!==ht[w+1]||w===Z-2)&&(h[x].push(ot[1]),x++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,g=0,w=o.length;g<w;g++)o[g]=nu(o[g],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var g,w,x,A,Z,ot,ht=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,A=this._parts.length;g<A;g++)for(ot=this._parts[g],w=0,Z=ot.length,x=Z-1;w<Z;x=w++)if(!(!h&&w===0)&&Ra(o,ot[x],ot[w])<=ht)return!0;return!1}});function Ha(o,h){return new vi(o,h)}vi._flat=za;var Jr=vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return eu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=vi.prototype._convertLatLngs.call(this,o),g=h.length;return g>=2&&h[0]instanceof Lt&&h[0].equals(h[g-1])&&h.pop(),h},_setLatLngs:function(o){vi.prototype._setLatLngs.call(this,o),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,g=new dt(h,h);if(o=new At(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,x=this._rings.length,A;w<x;w++)A=tu(this._rings[w],o,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,g,w,x,A,Z,ot,ht,Ct;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(A=0,ht=this._parts.length;A<ht;A++)for(g=this._parts[A],Z=0,Ct=g.length,ot=Ct-1;Z<Ct;ot=Z++)w=g[Z],x=g[ot],w.y>o.y!=x.y>o.y&&o.x<(x.x-w.x)*(o.y-w.y)/(x.y-w.y)+w.x&&(h=!h);return h||vi.prototype._containsPoint.call(this,o,!0)}});function lu(o,h){return new Jr(o,h)}var yi=Oi.extend({initialize:function(o,h){O(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=D(o)?o:o.features,g,w,x;if(h){for(g=0,w=h.length;g<w;g++)x=h[g],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var A=this.options;if(A.filter&&!A.filter(o))return this;var Z=No(o,A);return Z?(Z.feature=c(o),Z.defaultOptions=Z.options,this.resetStyle(Z),A.onEachFeature&&A.onEachFeature(o,Z),this.addLayer(Z)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function No(o,h){var g=o.type==="Feature"?o.geometry:o,w=g?g.coordinates:null,x=[],A=h&&h.pointToLayer,Z=h&&h.coordsToLatLng||Ji,ot,ht,Ct,Vt;if(!w&&!g)return null;switch(g.type){case"Point":return ot=Z(w),uu(A,o,ot,h);case"MultiPoint":for(Ct=0,Vt=w.length;Ct<Vt;Ct++)ot=Z(w[Ct]),x.push(uu(A,o,ot,h));return new Oi(x);case"LineString":case"MultiLineString":return ht=Oo(w,g.type==="LineString"?0:1,Z),new vi(ht,h);case"Polygon":case"MultiPolygon":return ht=Oo(w,g.type==="Polygon"?1:2,Z),new Jr(ht,h);case"GeometryCollection":for(Ct=0,Vt=g.geometries.length;Ct<Vt;Ct++){var te=No({geometry:g.geometries[Ct],type:"Feature",properties:o.properties},h);te&&x.push(te)}return new Oi(x);case"FeatureCollection":for(Ct=0,Vt=g.features.length;Ct<Vt;Ct++){var fe=No(g.features[Ct],h);fe&&x.push(fe)}return new Oi(x);default:throw new Error("Invalid GeoJSON object.")}}function uu(o,h,g,w){return o?o(h,g):new Io(g,w&&w.markersInheritOptions&&w)}function Ji(o){return new Lt(o[1],o[0],o[2])}function Oo(o,h,g){for(var w=[],x=0,A=o.length,Z;x<A;x++)Z=h?Oo(o[x],h-1,g):(g||Ji)(o[x]),w.push(Z);return w}function Mo(o,h){return o=Tt(o),o.alt!==void 0?[E(o.lng,h),E(o.lat,h),E(o.alt,h)]:[E(o.lng,h),E(o.lat,h)]}function Ln(o,h,g,w){for(var x=[],A=0,Z=o.length;A<Z;A++)x.push(h?Ln(o[A],Mn(o[A])?0:h-1,g,w):Mo(o[A],w));return!h&&g&&x.length>0&&x.push(x[0].slice()),x}function En(o,h){return o.feature?i({},o.feature,{geometry:h}):c(h)}function c(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var n={toGeoJSON:function(o){return En(this,{type:"Point",coordinates:Mo(this.getLatLng(),o)})}};Io.include(n),Po.include(n),zs.include(n),vi.include({toGeoJSON:function(o){var h=!Mn(this._latlngs),g=Ln(this._latlngs,h?1:0,!1,o);return En(this,{type:(h?"Multi":"")+"LineString",coordinates:g})}}),Jr.include({toGeoJSON:function(o){var h=!Mn(this._latlngs),g=h&&!Mn(this._latlngs[0]),w=Ln(this._latlngs,g?2:h?1:0,!0,o);return h||(w=[w]),En(this,{type:(g?"Multi":"")+"Polygon",coordinates:w})}}),Xr.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(g){h.push(g.toGeoJSON(o).geometry.coordinates)}),En(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var g=h==="GeometryCollection",w=[];return this.eachLayer(function(x){if(x.toGeoJSON){var A=x.toGeoJSON(o);if(g)w.push(A.geometry);else{var Z=c(A);Z.type==="FeatureCollection"?w.push.apply(w,Z.features):w.push(Z)}}}),g?En(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function r(o,h){return new yi(o,h)}var u=r,p=oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,g){this._url=o,this._bounds=Pt(h),O(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&qr(this._image),this},bringToBack:function(){return this._map&&vr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Pt(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:pe("img");if(re(h,"leaflet-image-layer"),this._zoomAnimated&&re(h,"leaflet-zoom-animated"),this.options.className&&re(h,this.options.className),h.onselectstart=b,h.onmousemove=b,h.onload=f(this.fire,this,"load"),h.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;yr(this._image,g,h)},_reset:function(){var o=this._image,h=new At(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=h.getSize();Ke(o,h.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){an(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),y=function(o,h,g){return new p(o,h,g)},k=p.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:pe("video");if(re(h,"leaflet-image-layer"),this._zoomAnimated&&re(h,"leaflet-zoom-animated"),this.options.className&&re(h,this.options.className),h.onselectstart=b,h.onmousemove=b,h.onloadeddata=f(this.fire,this,"load"),o){for(var g=h.getElementsByTagName("source"),w=[],x=0;x<g.length;x++)w.push(g[x].src);this._url=g.length>0?w:[h.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var Z=pe("source");Z.src=this._url[A],h.appendChild(Z)}}});function S(o,h,g){return new k(o,h,g)}var M=p.extend({_initImage:function(){var o=this._image=this._url;re(o,"leaflet-image-layer"),this._zoomAnimated&&re(o,"leaflet-zoom-animated"),this.options.className&&re(o,this.options.className),o.onselectstart=b,o.onmousemove=b}});function U(o,h,g){return new M(o,h,g)}var nt=oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Lt||D(o))?(this._latlng=Tt(o),O(this,h)):(O(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&an(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&an(this._container,1),this.bringToFront(),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(an(this._container,0),this._removeTimeout=setTimeout(f(Ue,void 0,this._container),200)):Ue(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Tt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qr(this._container),this},bringToBack:function(){return this._map&&vr(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Oi){h=null;var g=this._source._layers;for(var w in g)if(g[w]._map){h=g[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=ut(this.options.offset),g=this._getAnchor();this._zoomAnimated?Ke(this._container,o.add(g)):h=h.add(o).add(g);var w=this._containerBottom=-h.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});oe.include({_initOverlay:function(o,h,g,w){var x=h;return x instanceof o||(x=new o(w).setContent(h)),g&&x.setLatLng(g),x}}),oi.include({_initOverlay:function(o,h,g,w){var x=g;return x instanceof o?(O(x,w),x._source=this):(x=h&&!w?h:new o(w,this),x.setContent(g)),x}});var st=nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,nt.prototype.openOn.call(this,o)},onAdd:function(o){nt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ki||this._source.on("preclick",pn))},onRemove:function(o){nt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ki||this._source.off("preclick",pn))},getEvents:function(){var o=nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=pe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=pe("div",o+"-content-wrapper",h);if(this._contentNode=pe("div",o+"-content",g),jr(h),As(this._contentNode),se(h,"contextmenu",pn),this._tipContainer=pe("div",o+"-tip-container",h),this._tip=pe("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=pe("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',se(w,"click",function(x){Ze(x),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),h.width=g+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,x=this.options.maxHeight,A="leaflet-popup-scrolled";x&&w>x?(h.height=x+"px",re(o,A)):Ee(o,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();Ke(this._container,h.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(di(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+h,w=this._containerWidth,x=new dt(this._containerLeft,-g-this._containerBottom);x._add(Zi(this._container));var A=o.layerPointToContainerPoint(x),Z=ut(this.options.autoPanPadding),ot=ut(this.options.autoPanPaddingTopLeft||Z),ht=ut(this.options.autoPanPaddingBottomRight||Z),Ct=o.getSize(),Vt=0,te=0;A.x+w+ht.x>Ct.x&&(Vt=A.x+w-Ct.x+ht.x),A.x-Vt-ot.x<0&&(Vt=A.x-ot.x),A.y+g+ht.y>Ct.y&&(te=A.y+g-Ct.y+ht.y),A.y-te-ot.y<0&&(te=A.y-ot.y),(Vt||te)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Vt,te]))}},_getAnchor:function(){return ut(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xt=function(o,h){return new st(o,h)};oe.mergeOptions({closePopupOnClick:!0}),oe.include({openPopup:function(o,h,g){return this._initOverlay(st,o,h,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),oi.include({bindPopup:function(o,h){return this._popup=this._initOverlay(st,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Oi||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Yi(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Ki)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Bt=nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){nt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){nt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=nt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pe("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,g,w=this._map,x=this._container,A=w.latLngToContainerPoint(w.getCenter()),Z=w.layerPointToContainerPoint(o),ot=this.options.direction,ht=x.offsetWidth,Ct=x.offsetHeight,Vt=ut(this.options.offset),te=this._getAnchor();ot==="top"?(h=ht/2,g=Ct):ot==="bottom"?(h=ht/2,g=0):ot==="center"?(h=ht/2,g=Ct/2):ot==="right"?(h=0,g=Ct/2):ot==="left"?(h=ht,g=Ct/2):Z.x<A.x?(ot="right",h=0,g=Ct/2):(ot="left",h=ht+(Vt.x+te.x)*2,g=Ct/2),o=o.subtract(ut(h,g,!0)).add(Vt).add(te),Ee(x,"leaflet-tooltip-right"),Ee(x,"leaflet-tooltip-left"),Ee(x,"leaflet-tooltip-top"),Ee(x,"leaflet-tooltip-bottom"),re(x,"leaflet-tooltip-"+ot),Ke(x,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&an(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return ut(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wt=function(o,h){return new Bt(o,h)};oe.include({openTooltip:function(o,h,g){return this._initOverlay(Bt,o,h,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),oi.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bt,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[h](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Oi||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(se(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),se(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,g,w;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(g),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Kt=Kr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(bo(h),h.appendChild(g.html)):h.innerHTML=g.html!==!1?g.html:"",g.bgPos){var w=ut(g.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function me(o){return new Kt(o)}Kr.Default=Fs;var le=oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){O(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ue(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof dt?o:new dt(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,g=-o(-1/0,1/0),w=0,x=h.length,A;w<x;w++)A=h[w].style.zIndex,h[w]!==this._container&&A&&(g=o(g,+A));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xt.ielt9){an(this._container,this.options.opacity);var o=+new Date,h=!1,g=!1;for(var w in this._tiles){var x=this._tiles[w];if(!(!x.current||!x.loaded)){var A=Math.min(1,(o-x.loaded)/200);an(x.el,A),A<1?h=!0:(x.active?g=!0:this._onOpaqueTile(x),x.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),h&&(et(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=h-Math.abs(o-g),this._onUpdateLevel(g)):(Ue(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var w=this._levels[o],x=this._map;return w||(w=this._levels[o]={},w.el=pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=x.project(x.unproject(x.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,x.getCenter(),x.getZoom()),b(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var o,h,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ue(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,g,w){var x=Math.floor(o/2),A=Math.floor(h/2),Z=g-1,ot=new dt(+x,+A);ot.z=+Z;var ht=this._tileCoordsToKey(ot),Ct=this._tiles[ht];return Ct&&Ct.active?(Ct.retain=!0,!0):(Ct&&Ct.loaded&&(Ct.retain=!0),Z>w?this._retainParent(x,A,Z,w):!1)},_retainChildren:function(o,h,g,w){for(var x=2*o;x<2*o+2;x++)for(var A=2*h;A<2*h+2;A++){var Z=new dt(x,A);Z.z=g+1;var ot=this._tileCoordsToKey(Z),ht=this._tiles[ot];if(ht&&ht.active){ht.retain=!0;continue}else ht&&ht.loaded&&(ht.retain=!0);g+1<w&&this._retainChildren(x,A,g+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,g,w){var x=Math.round(h);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var A=this.options.updateWhenZooming&&x!==this._tileZoom;(!w||A)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,h)},_setZoomTransform:function(o,h,g){var w=this._map.getZoomScale(g,o.zoom),x=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,g)).round();Xt.any3d?yr(o.el,x,w):Ke(o.el,x)},_resetGrid:function(){var o=this._map,h=o.options.crs,g=this._tileSize=this.getTileSize(),w=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/g.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/g.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/g.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,g=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(g,this._tileZoom),x=h.project(o,this._tileZoom).floor(),A=h.getSize().divideBy(w*2);return new At(x.subtract(A),x.add(A))},_update:function(o){var h=this._map;if(h){var g=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),x=this._pxBoundsToTileRange(w),A=x.getCenter(),Z=[],ot=this.options.keepBuffer,ht=new At(x.getBottomLeft().subtract([ot,-ot]),x.getTopRight().add([ot,-ot]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ct in this._tiles){var Vt=this._tiles[Ct].coords;(Vt.z!==this._tileZoom||!ht.contains(new dt(Vt.x,Vt.y)))&&(this._tiles[Ct].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var te=x.min.y;te<=x.max.y;te++)for(var fe=x.min.x;fe<=x.max.x;fe++){var An=new dt(fe,te);if(An.z=this._tileZoom,!!this._isValidTile(An)){var _n=this._tiles[this._tileCoordsToKey(An)];_n?_n.current=!0:Z.push(An)}}if(Z.sort(function(Xn,Ro){return Xn.distanceTo(A)-Ro.distanceTo(A)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wi=document.createDocumentFragment();for(fe=0;fe<Z.length;fe++)this._addTile(Z[fe],wi);this._level.el.appendChild(wi)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var g=this._globalTileRange;if(!h.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!h.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Pt(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,g=this.getTileSize(),w=o.scaleBy(g),x=w.add(g),A=h.unproject(w,o.z),Z=h.unproject(x,o.z);return[A,Z]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),g=new Mt(h[0],h[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),g=new dt(+h[0],+h[1]);return g.z=+h[2],g},_removeTile:function(o){var h=this._tiles[o];h&&(Ue(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){re(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=b,o.onmousemove=b,Xt.ielt9&&this.options.opacity<1&&an(o,this.options.opacity)},_addTile:function(o,h){var g=this._getTilePos(o),w=this._tileCoordsToKey(o),x=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(x),this.createTile.length<2&&_t(f(this._tileReady,this,o,null,x)),Ke(x,g),this._tiles[w]={el:x,coords:o,current:!0},h.appendChild(x),this.fire("tileloadstart",{tile:x,coords:o})},_tileReady:function(o,h,g){h&&this.fire("tileerror",{error:h,tile:g,coords:o});var w=this._tileCoordsToKey(o);g=this._tiles[w],g&&(g.loaded=+new Date,this._map._fadeAnimated?(an(g.el,0),et(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),h||(re(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xt.ielt9||!this._map._fadeAnimated?_t(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new dt(this._wrapX?_(o.x,this._wrapX):o.x,this._wrapY?_(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new At(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Me(o){return new le(o)}var He=le.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=O(this,h),h.detectRetina&&Xt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var g=document.createElement("img");return se(g,"load",f(this._tileOnLoad,this,h,g)),se(g,"error",f(this._tileOnError,this,h,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var h={r:Xt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=g),h["-y"]=g}return R(this._url,i(h,this.options))},_tileOnLoad:function(o,h){Xt.ielt9?setTimeout(f(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,g){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(g,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,g=this.options.zoomReverse,w=this.options.zoomOffset;return g&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=b,h.onerror=b,!h.complete)){h.src=H;var g=this._tiles[o].coords;Ue(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:g})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",H),le.prototype._removeTile.call(this,o)},_tileReady:function(o,h,g){if(!(!this._map||g&&g.getAttribute("src")===H))return le.prototype._tileReady.call(this,o,h,g)}});function ln(o,h){return new He(o,h)}var Qi=He.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var g=i({},this.defaultWmsParams);for(var w in h)w in this.options||(g[w]=h[w]);h=O(this,h);var x=h.detectRetina&&Xt.retina?2:1,A=this.getTileSize();g.width=A.x*x,g.height=A.y*x,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,He.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),g=this._crs,w=Ut(g.project(h[0]),g.project(h[1])),x=w.min,A=w.max,Z=(this._wmsVersion>=1.3&&this._crs===iu?[x.y,x.x,A.y,A.x]:[x.x,x.y,A.x,A.y]).join(","),ot=He.prototype.getTileUrl.call(this,o);return ot+B(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(o,h){return i(this.wmsParams,o),h||this.redraw(),this}});function $s(o,h){return new Qi(o,h)}He.WMS=Qi,ln.wms=$s;var bi=oi.extend({options:{padding:.1},initialize:function(o){O(this,o),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var g=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,h),A=w.multiplyBy(-g).add(x).subtract(this._map._getNewPixelOrigin(o,h));Xt.any3d?yr(this._container,A,g):Ke(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),g=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new At(g,g.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qa=bi.extend({options:{tolerance:0},getEvents:function(){var o=bi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){bi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");se(o,"mousemove",this._onMouseMove,this),se(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),se(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){et(this._redrawRequest),delete this._ctx,Ue(this._container),Oe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bi.prototype._update.call(this);var o=this._bounds,h=this._container,g=o.getSize(),w=Xt.retina?2:1;Ke(h,o.min),h.width=w*g.x,h.height=w*g.y,h.style.width=g.x+"px",h.style.height=g.y+"px",Xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){bi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[m(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,g=h.next,w=h.prev;g?g.prev=w:this._drawLast=w,w?w.next=g:this._drawFirst=g,delete o._order,delete this._layers[m(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),g=[],w,x;for(x=0;x<h.length;x++){if(w=Number(h[x]),isNaN(w))return;g.push(w)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||_t(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new At,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var g=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var g,w,x,A,Z=o._parts,ot=Z.length,ht=this._ctx;if(ot){for(ht.beginPath(),g=0;g<ot;g++){for(w=0,x=Z[g].length;w<x;w++)A=Z[g][w],ht[w?"lineTo":"moveTo"](A.x,A.y);h&&ht.closePath()}this._fillStroke(ht,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,g=this._ctx,w=Math.max(Math.round(o._radius),1),x=(Math.max(Math.round(o._radiusY),1)||w)/w;x!==1&&(g.save(),g.scale(1,x)),g.beginPath(),g.arc(h.x,h.y/x,w,0,Math.PI*2,!1),x!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,h){var g=h.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),g,w,x=this._drawFirst;x;x=x.next)g=x.layer,g.options.interactive&&g._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(w=g);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var g,w,x=this._drawFirst;x;x=x.next)g=x.layer,g.options.interactive&&g._containsPoint(h)&&(w=g);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(re(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,g){this._map._fireDOMEvent(h,g||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(g)g.prev=w;else return;w?w.next=g:g&&(this._drawFirst=g),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(w)w.next=g;else return;g?g.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Wa(o){return Xt.canvas?new qa(o):null}var Qr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),cu={_initContainer:function(){this._container=pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(bi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Qr("shape");re(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Qr("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Ue(h),o.removeInteractiveTarget(h),delete this._layers[m(o)]},_updateStyle:function(o){var h=o._stroke,g=o._fill,w=o.options,x=o._container;x.stroked=!!w.stroke,x.filled=!!w.fill,w.stroke?(h||(h=o._stroke=Qr("stroke")),x.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=D(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(x.removeChild(h),o._stroke=null),w.fill?(g||(g=o._fill=Qr("fill")),x.appendChild(g),g.color=w.fillColor||w.color,g.opacity=w.fillOpacity):g&&(x.removeChild(g),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),g=Math.round(o._radius),w=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+g+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){qr(o._container)},_bringToBack:function(o){vr(o._container)}},Us=Xt.vml?Qr:ct,Lr=bi.extend({_initContainer:function(){this._container=Us("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Us("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ue(this._container),Oe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,g.setAttribute("width",h.x),g.setAttribute("height",h.y)),Ke(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Us("path");o.options.className&&re(h,o.options.className),o.options.interactive&&re(h,"leaflet-interactive"),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ue(o._path),o.removeInteractiveTarget(o._path),delete this._layers[m(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,g=o.options;h&&(g.stroke?(h.setAttribute("stroke",g.color),h.setAttribute("stroke-opacity",g.opacity),h.setAttribute("stroke-width",g.weight),h.setAttribute("stroke-linecap",g.lineCap),h.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?h.setAttribute("stroke-dasharray",g.dashArray):h.removeAttribute("stroke-dasharray"),g.dashOffset?h.setAttribute("stroke-dashoffset",g.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),g.fill?(h.setAttribute("fill",g.fillColor||g.color),h.setAttribute("fill-opacity",g.fillOpacity),h.setAttribute("fill-rule",g.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,gt(o._parts,h))},_updateCircle:function(o){var h=o._point,g=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||g,x="a"+g+","+w+" 0 1,0 ",A=o._empty()?"M0 0":"M"+(h.x-g)+","+h.y+x+g*2+",0 "+x+-g*2+",0 ";this._setPath(o,A)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){qr(o._path)},_bringToBack:function(o){vr(o._path)}});Xt.vml&&Lr.include(cu);function Ao(o){return Xt.svg||Xt.vml?new Lr(o):null}oe.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Wa(o)||Ao(o)}});var Ed=Jr.extend({initialize:function(o,h){Jr.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Pt(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Jy(o,h){return new Ed(o,h)}Lr.create=Us,Lr.pointsToPath=gt,yi.geometryToLayer=No,yi.coordsToLatLng=Ji,yi.coordsToLatLngs=Oo,yi.latLngToCoords=Mo,yi.latLngsToCoords=Ln,yi.getFeature=En,yi.asFeature=c,oe.mergeOptions({boxZoom:!0});var kd=_i.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ii(),Sa(),this._startPoint=this._map.mouseEventToContainerPoint(o),se(document,{contextmenu:Yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=pe("div","leaflet-zoom-box",this._container),re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new At(this._point,this._startPoint),g=h.getSize();Ke(this._box,h.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Ue(this._box),Ee(this._container,"leaflet-crosshair")),Wr(),Os(),Oe(document,{contextmenu:Yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var h=new Mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});oe.addInitHook("addHandler","boxZoom",kd),oe.mergeOptions({doubleClickZoom:!0});var xd=_i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,g=h.getZoom(),w=h.options.zoomDelta,x=o.originalEvent.shiftKey?g-w:g+w;h.options.doubleClickZoom==="center"?h.setZoom(x):h.setZoomAround(o.containerPoint,x)}});oe.addInitHook("addHandler","doubleClickZoom",xd),oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Td=_i.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Xi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Pt(this._map.options.maxBounds);this._offsetLimit=Ut(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),g=this._initialWorldOffset,w=this._draggable._newPos.x,x=(w-h+g)%o+h-g,A=(w+h+g)%o-h-g,Z=Math.abs(x+g)<Math.abs(A+g)?x:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(o){var h=this._map,g=h.options,w=!g.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,Z=g.easeLinearity,ot=x.multiplyBy(Z/A),ht=ot.distanceTo([0,0]),Ct=Math.min(g.inertiaMaxSpeed,ht),Vt=ot.multiplyBy(Ct/ht),te=Ct/(g.inertiaDeceleration*Z),fe=Vt.multiplyBy(-te/2).round();!fe.x&&!fe.y?h.fire("moveend"):(fe=h._limitOffset(fe,h.options.maxBounds),_t(function(){h.panBy(fe,{duration:te,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});oe.addInitHook("addHandler","dragging",Td),oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Cd=_i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),se(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Oe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,g=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},g=this.keyCodes,w,x;for(w=0,x=g.left.length;w<x;w++)h[g.left[w]]=[-1*o,0];for(w=0,x=g.right.length;w<x;w++)h[g.right[w]]=[o,0];for(w=0,x=g.down.length;w<x;w++)h[g.down[w]]=[0,o];for(w=0,x=g.up.length;w<x;w++)h[g.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},g=this.keyCodes,w,x;for(w=0,x=g.zoomIn.length;w<x;w++)h[g.zoomIn[w]]=o;for(w=0,x=g.zoomOut.length;w<x;w++)h[g.zoomOut[w]]=-o},_addHooks:function(){se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,g=this._map,w;if(h in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=ut(w).multiplyBy(3)),g.options.maxBounds&&(w=g._limitOffset(ut(w),g.options.maxBounds)),g.options.worldCopyJump){var x=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(w)));g.panTo(x)}else g.panBy(w)}else if(h in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Yi(o)}}});oe.addInitHook("addHandler","keyboard",Cd),oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sd=_i.extend({addHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Oe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=Ma(o),g=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),w),Yi(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,A=g?Math.ceil(x/g)*g:x,Z=o._limitZoom(h+(this._delta>0?A:-A))-h;this._delta=0,this._startTime=null,Z&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+Z):o.setZoomAround(this._lastMousePos,h+Z))}});oe.addInitHook("addHandler","scrollWheelZoom",Sd);var Qy=600;oe.mergeOptions({tapHold:Xt.touchNative&&Xt.safari&&Xt.mobile,tapTolerance:15});var Id=_i.extend({addHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new dt(h.clientX,h.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(se(document,"touchend",Ze),se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Qy),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Oe(document,"touchend",Ze),Oe(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Oe(document,"touchend touchcancel contextmenu",this._cancel,this),Oe(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new dt(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});g._simulated=!0,h.target.dispatchEvent(g)}});oe.addInitHook("addHandler","tapHold",Id),oe.mergeOptions({touchZoom:Xt.touch,bounceAtZoomLimits:!0});var Pd=_i.extend({addHooks:function(){re(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(g.add(w)._divideBy(2))),this._startDist=g.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),Ze(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),x=g.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(x,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&x<1||this._zoom>h.getMaxZoom()&&x>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var A=g._add(w)._divideBy(2)._subtract(this._centerPoint);if(x===1&&A.x===0&&A.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),et(this._animRequest);var Z=f(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_t(Z,this,!0),Ze(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,et(this._animRequest),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});oe.addInitHook("addHandler","touchZoom",Pd),oe.BoxZoom=kd,oe.DoubleClickZoom=xd,oe.Drag=Td,oe.Keyboard=Cd,oe.ScrollWheelZoom=Sd,oe.TapHold=Id,oe.TouchZoom=Pd,s.Bounds=At,s.Browser=Xt,s.CRS=rt,s.Canvas=qa,s.Circle=Po,s.CircleMarker=zs,s.Class=j,s.Control=si,s.DivIcon=Kt,s.DivOverlay=nt,s.DomEvent=th,s.DomUtil=Eo,s.Draggable=Xi,s.Evented=bt,s.FeatureGroup=Oi,s.GeoJSON=yi,s.GridLayer=le,s.Handler=_i,s.Icon=Kr,s.ImageOverlay=p,s.LatLng=Lt,s.LatLngBounds=Mt,s.Layer=oi,s.LayerGroup=Xr,s.LineUtil=Ua,s.Map=oe,s.Marker=Io,s.Mixin=rh,s.Path=Ki,s.Point=dt,s.PolyUtil=On,s.Polygon=Jr,s.Polyline=vi,s.Popup=st,s.PosAnimation=Aa,s.Projection=oh,s.Rectangle=Ed,s.Renderer=bi,s.SVG=Lr,s.SVGOverlay=M,s.TileLayer=He,s.Tooltip=Bt,s.Transformation=It,s.Util=tt,s.VideoOverlay=k,s.bind=f,s.bounds=Ut,s.canvas=Wa,s.circle=hh,s.circleMarker=au,s.control=gn,s.divIcon=me,s.extend=i,s.featureGroup=su,s.geoJSON=r,s.geoJson=u,s.gridLayer=Me,s.icon=uh,s.imageOverlay=y,s.latLng=Tt,s.latLngBounds=Pt,s.layerGroup=ru,s.map=To,s.marker=ch,s.point=ut,s.polygon=lu,s.polyline=Ha,s.popup=xt,s.rectangle=Jy,s.setOptions=O,s.stamp=m,s.svg=Ao,s.svgOverlay=U,s.tileLayer=ln,s.tooltip=Wt,s.transformation=C,s.version=a,s.videoOverlay=S;var t0=window.L;s.noConflict=function(){return window.L=t0,this},window.L=s})}(sl,sl.exports)),sl.exports}var xe=NI();const Ys=Sy(xe);function OI(t){var e=Math.floor(Math.random()*t.length);return t[e]}function MI(t,e,s,a){let i=fs.stringify(t);if(s=="marker"||s=="polyline"){var l=Pf(t,a);i=fs.stringify(l)}if(s=="circle"){var l=Pf(t,e/1e3);i=fs.stringify(l)}return i}function AI(t){const e=localStorage.getItem("mapState");if(e){const s=JSON.parse(e);t.setView([s.center.lat,s.center.lng],s.zoom)}else t.setView([48.8566,2.3522],13)}const RI=["src"],DI={__name:"SingleButtonAudioPlayer",props:{audio:{type:Gi,required:!0}},setup(t){const e=t,s=on("audio"),a=Ft(!1);function i(){a.value?(s.value.pause(),a.value=!1):(s.value.play(),a.value=!0)}return(l,f)=>(wt(),zt(ce,null,[mt("i",{onClick:f[0]||(f[0]=d=>i()),class:Re(a.value?"bi bi-pause-circle":"bi bi-play-circle")},null,2),mt("audio",{controls:"",ref_key:"audio",ref:s,style:{display:"none"},src:e.audio.url},null,8,RI)],64))}},Ur=(t,e)=>{const s=t.__vccOpts||t;for(const[a,i]of e)s[a]=i;return s},BI={class:"col card thumbnail"},FI=["src","alt","title"],zI={class:"card-img-overlay"},$I={class:"card-title h6"},UI=["href"],GI={class:"player"},VI={__name:"TaxonThumbnail",props:{picture:{type:Gi},audio:{type:Gi},vernacularName:{type:String},acceptedScientificName:{type:String},urlDetailPage:{type:String}},setup(t){const e=t;return on("audio"),(s,a)=>{var f,d,m;const i=DI,l=Lv;return wt(),zt("div",BI,[mt("img",{class:"card-img",src:(f=e.picture)==null?void 0:f.url,alt:(d=e.picture)==null?void 0:d.url,title:"Source: "+((m=e.picture)==null?void 0:m.source)},null,8,FI),mt("div",zI,[mt("div",$I,[mt("a",{style:{color:"inherit","text-decoration":"inherit"},href:e.urlDetailPage,target:"_blank"},[mt("span",null,Zt(e.vernacularName),1)],8,UI),mt("div",GI,[e.audio?(wt(),ge(i,{key:0,audio:e.audio},null,8,["audio"])):Se("",!0)]),e.picture.source?(wt(),ge(l,{key:0,click:!0,"close-on-hide":!0,delay:{show:0,hide:0}},{target:ee(()=>a[0]||(a[0]=[mt("i",{class:"bi bi-c-square-fill copyright-icon"},null,-1)])),default:ee(()=>[ve(" "+Zt(e.picture.source),1)]),_:1})):Se("",!0)])])])}}},HI=Ur(VI,[["__scopeId","data-v-f010c7a0"]]),qI={class:"col"},WI={class:"card h-100 mb-2"},ZI=["src","alt","title"],YI={key:0,class:"caption"},jI={class:"card-body"},XI={class:"card-text"},KI={class:"card-title text-wrap"},JI={class:"text-body-secondary"},QI={key:0,class:"text-body-secondary"},tP={class:"text-body-secondary"},eP=["href"],nP=["src"],iP={class:"card-footer"},rP={class:"text-body-secondary"},sP={__name:"TaxonDetailed",props:{picture:{type:Gi},audio:{type:Gi},vernacularName:{type:String},acceptedScientificName:{type:String},urlDetailPage:{type:String},nbObservations:{type:Number},lastSeenDate:{type:Object}},setup(t){const e=t;return(s,a)=>{var i,l,f;return wt(),zt("div",qI,[mt("div",WI,[mt("div",{class:Re(["taxon-photo",e.picture.url?"":"placeholder"])},[mt("img",{src:(i=e.picture)==null?void 0:i.url,alt:(l=e.picture)==null?void 0:l.url,title:"Source: "+((f=e.picture)==null?void 0:f.source)},null,8,ZI),e.picture.source?(wt(),zt("span",YI,Zt(e.picture.source),1)):Se("",!0)],2),mt("div",jI,[mt("div",XI,[mt("h5",KI,Zt(e.vernacularName),1),mt("small",JI,[mt("strong",null,Zt(s.$t("taxon.scientificName"))+" :",1),ve(" "+Zt(e.acceptedScientificName),1)]),a[1]||(a[1]=mt("br",null,null,-1)),e.nbObservations?(wt(),zt("small",QI,[mt("strong",null,Zt(s.$t("taxon.nbObservations"))+" : ",1),ve(Zt(e.nbObservations),1)])):Se("",!0),a[2]||(a[2]=mt("br",null,null,-1)),mt("small",tP,[mt("a",{href:e.urlDetailPage,target:"_blank",class:"badge bg-light text-primary border border-primary text-decoration-none"},[mt("strong",null,[ve(Zt(s.$t("taxon.seeMore"))+" ",1),a[0]||(a[0]=mt("i",{class:"bi bi-arrow-right"},null,-1))])],8,eP)]),a[3]||(a[3]=mt("br",null,null,-1)),e.audio?(wt(),zt("audio",{key:1,class:"mt-2",controls:"",src:e.audio.url,ref:"audio"},null,8,nP)):Se("",!0)])]),mt("div",iP,[mt("small",rP,Zt(s.$t("taxon.lastSeenDate"))+" : "+Zt(e==null?void 0:e.lastSeenDate.toLocaleDateString()),1)])])])}}},oP=Ur(sP,[["__scopeId","data-v-f39cb73b"]]),aP={__name:"TaxonView",props:{taxon:gd},setup(t){const{mode:e,connector:s,lang:a}=ii.getInstance(),l=t.taxon,f=Ft([]),d=Ft(null),m=Ft(l.vernacularName);function v(){f.value=[],l.taxonId&&s.fetchMedia(l.taxonId).then(T=>{f.value=T})}function _(){d.value=null,l.taxonId&&s.mediaSource.fetchSound(l.taxonId,s).then(T=>{d.value=T,console.log(d.value)})}const b=lt(()=>f.value?f.value.length==0?new Gi({url:dc,typeMedia:"image"}):OI(f.value):new Gi({url:dc,typeMedia:"image"}));function E(){s.fetchVernacularName(l.taxonId).then(T=>{T&&(m.value=T.split(",")[0])})}return v(),_(),E(),ne(a,()=>{E()}),(T,I)=>{var O,B;return W(e)=="gallery"?(wt(),ge(HI,{key:0,picture:b.value,audio:d.value,"vernacular-name":m.value||W(l).acceptedScientificName,"url-detail-page":W(s).getTaxonDetailPage(W(l).taxonId),"accepted-scientific-name":W(l).acceptedScientificName},null,8,["picture","audio","vernacular-name","url-detail-page","accepted-scientific-name"])):(wt(),ge(oP,{key:1,picture:b.value,audio:d.value,"accepted-scientific-name":W(l).acceptedScientificName,"vernacular-name":m.value||W(l).acceptedScientificName,"url-detail-page":W(s).getTaxonDetailPage(W(l).taxonId),"nb-observations":(O=W(l))==null?void 0:O.nbObservations,"last-seen-date":(B=W(l))==null?void 0:B.lastSeenDate},null,8,["picture","audio","accepted-scientific-name","vernacular-name","url-detail-page","nb-observations","last-seen-date"]))}}},lP={id:"taxon-list",class:"card"},uP={key:0,class:"card-header"},cP={class:"card-body"},hP={key:0,id:"no-geometry-message",class:"col-6"},fP={key:1,id:"no-observations-message"},dP={key:2,id:"loading-error",class:"col-6 bg-danger"},pP={class:"justify-content-center toggleMode"},mP={key:0,class:"fa-solid fa-list"},gP={key:1,class:"fa-solid fa-grip-vertical"},_P={id:"data-source-credits"},vP={__name:"TaxonList",props:{itemsPerPage:Number,nbTaxonPerLine:{type:Number,default:1},showFilters:{type:Boolean,default:!0},sortBy:{type:String,default:"nbObservations",validator:t=>["vernacularName","acceptedScientificName","nbObservations","lastSeenDate"].includes(t)},order:{type:String,default:"desc",validator:t=>["asc","desc"].includes(t)},mode:{type:String,validator:t=>["detailedList","gallery"].includes(t)}},setup(t){const{t:e}=_a(),{wkt:s,dateMin:a,dateMax:i,nbTaxonPerLine:l,showFilters:f,itemsPerPage:d,connector:m,mode:v}=ii.getInstance(),_=ii.getInstance().class,b=t,E=Ft([]);l.value=b.nbTaxonPerLine??l;let T=!1,I=!1;const O=Ft(0),B=Ft(b.sortBy||"lastSeenDate"),P=Ft(b.order||"desc"),R=Ft(""),D=[{field_name:"vernacularName",label:e("taxon.vernacularName")},{field_name:"acceptedScientificName",label:e("taxon.scientificName")},{field_name:"nbObservations",label:e("taxon.nbObservations")},{field_name:"lastSeenDate",label:e("taxon.lastSeenDate")}];v.value=b.mode??v.value;function F(){v.value=v.value=="gallery"?"detailedList":"gallery"}const H=lt(()=>{const X=v.value==="gallery"?2:1,J=l.value*X,_t=l.value===1?1:J/2;return`row row-cols-${X} row-cols-lg-${J} row-cols-md-${_t} g-4`}),q=lt(()=>{let X=E.value;return R.value&&(X=E.value.filter(J=>(J!=null&&J.vernacularName?`${J.vernacularName} ${J.acceptedScientificName}`:J.acceptedScientificName||"incertae sedis").toLowerCase().includes(R.value.toLowerCase()))),RT(X,{by:B.value,order:P.value}).slice(0,(O.value+1)*d.value)}),$=X=>{X.length&&(T=!0,I=!1,E.value=[],m.fetchOccurrence({geometry:X,dateMin:a.value,dateMax:i.value,class:_.value}).then(J=>{E.value=Object.values(J),E.value.length,T=!1,O.value=0}).catch(()=>{T=!1,I=!0}))};ne(R,()=>{O.value=0});function it(X){const J=X.target;J.scrollTop+J.clientHeight>=J.scrollHeight-50&&O.value++}return ne([s,_,a,i,m],()=>{s.value&&$(s.value)}),s.value&&$(s.value),(X,J)=>{const _t=zk;return wt(),zt("div",lP,[W(f)?(wt(),zt("div",uP,[$t(yT,{"onUpdate:searchString":J[0]||(J[0]=et=>R.value=et)}),$t(_T,{"sort-by-available":D,"onUpdate:sortBy":J[1]||(J[1]=et=>B.value=et),"onUpdate:orderBy":J[2]||(J[2]=et=>P.value=et),sortBy:B.value,orderBy:P.value},null,8,["sortBy","orderBy"])])):Se("",!0),mt("div",cP,[$t(fT,{id:"loadingObs",loadingStatus:W(T)},null,8,["loadingStatus"]),!W(s).length&&!W(T)&&!W(I)?(wt(),zt("div",hP,[mt("h5",null,Zt(X.$t("drawGeometry")),1),J[4]||(J[4]=mt("h5",null,[mt("i",{class:"bi bi-square-fill"}),ve(),mt("i",{class:"bi bi-hexagon-fill"}),mt("i",{class:"bi bi-circle-fill"}),ve(),mt("i",{class:"bi bi-geo-fill"})],-1))])):Se("",!0),W(s).length&&!W(T)&&!W(I)&&!E.value.length?(wt(),zt("div",fP,Zt(X.$t("noSpeciesObserved")),1)):Se("",!0),W(I)?(wt(),zt("div",dP,J[5]||(J[5]=[mt("h5",null,[mt("i",{class:"bi bi-bug"}),ve(" Erreur de chargement des donnes")],-1)]))):Se("",!0),mt("div",{id:"taxon-list-content",class:Re(H.value),onScroll:it},[mt("div",pP,[mt("button",{class:"btn btn-secondary",onClick:J[3]||(J[3]=et=>F())},[W(v)==="gallery"?(wt(),zt("i",mP)):(wt(),zt("i",gP))])]),(wt(!0),zt(ce,null,lr(q.value,et=>(wt(),ge(aP,{key:et.taxonId,taxon:et},null,8,["taxon"]))),128))],34)]),mt("div",_P,[ve(Zt(X.$t("source.title"))+" "+Zt(W(m).name)+" ",1),$t(_t,null,{target:ee(()=>J[6]||(J[6]=[mt("a",{style:{color:"white","text-decoration":"underline"}},[mt("i",{class:"bi bi-info-circle"})],-1)])),default:ee(()=>[ve(" "+Zt(W(m).sourceDetailMessage()),1)]),_:1})])])}}},Ld=Ur(vP,[["__scopeId","data-v-e5a255e8"]]);(function(t,e,s){function a(i,l){for(;(i=i.parentElement)&&!i.classList.contains(l););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,l){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,l&&l.shapeOptions&&(l.shapeOptions=L.Util.extend({},this.options.shapeOptions,l.shapeOptions)),L.setOptions(this,l);var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,l){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,l&&l.drawError&&(l.drawError=L.Util.extend({},this.options.drawError,l.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,l)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),l=this._poly,f=l.getLatLngs(),d=f.splice(-1,1)[0];this._poly.setLatLngs(f),this._markerGroup.removeLayer(i),l.getLatLngs().length<2&&this._map.removeLayer(l),this._vertexChanged(d,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),l=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&l||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var l=this._map.mouseEventToLayerPoint(i.originalEvent),f=this._map.layerPointToLatLng(l);this._currentLatLng=f,this._updateTooltip(f),this._updateGuide(l),this._mouseMarker.setLatLng(f),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,l){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,l),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var l=i.originalEvent,f=l.clientX,d=l.clientY;this._startPoint.call(this,f,d)}},_startPoint:function(i,l){this._mouseDownOrigin=L.point(i,l)},_onMouseUp:function(i){var l=i.originalEvent,f=l.clientX,d=l.clientY;this._endPoint.call(this,f,d,i),this._clickHandled=null},_endPoint:function(i,l,f){if(this._mouseDownOrigin){var d=L.point(i,l).distanceTo(this._mouseDownOrigin),m=this._calculateFinishDistance(f.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(f.latlng),this._finishShape()):m<10&&L.Browser.touch?this._finishShape():Math.abs(d)<9*(t.devicePixelRatio||1)&&this.addVertex(f.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var l,f,d=i.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(l=d.touches[0].clientX,f=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,l,f),this._endPoint.call(this,l,f,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var l;if(this._markers.length>0){var f;if(this.type===L.Draw.Polyline.TYPE)f=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;f=this._markers[0]}var d=this._map.latLngToContainerPoint(f.getLatLng()),m=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),v=this._map.latLngToContainerPoint(m.getLatLng());l=d.distanceTo(v)}else l=1/0;return l},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var l=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(l),l},_updateGuide:function(i){var l=this._markers?this._markers.length:0;l>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[l-1].getLatLng()),i))},_updateTooltip:function(i){var l=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(l)},_drawGuide:function(i,l){var f,d,m,v=Math.floor(Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2))),_=this.options.guidelineDistance,b=this.options.maxGuideLineLength,E=v>b?v-b:_;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));E<v;E+=this.options.guidelineDistance)f=E/v,d={x:Math.floor(i.x*(1-f)+f*l.x),y:Math.floor(i.y*(1-f)+f*l.y)},m=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),m.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(m,d)},_updateGuideColor:function(i){if(this._guidesContainer)for(var l=0,f=this._guidesContainer.childNodes.length;l<f;l++)this._guidesContainer.childNodes[l].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,l,f=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(l=f?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:l}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:l}),i},_updateRunningMeasure:function(i,l){var f,d,m=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(f=m-(l?2:1),d=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[f].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[f].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(l?1:-1))},_getMeasurementString:function(){var i,l=this._currentLatLng,f=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?f&&l&&l.distanceTo?this._measurementRunningTotal+l.distanceTo(f)*(this.options.factor||1):this._measurementRunningTotal||0:f&&l?this._measurementRunningTotal+this._map.distance(l,f)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,l){L.Draw.Polyline.prototype.initialize.call(this,i,l),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,l;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,l=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,l=this._getMeasurementString()),{text:i,subtext:l}},_getMeasurementString:function(){var i=this._area,l="";return i||this.options.showLength?(this.options.showLength&&(l=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(l+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),l):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,l){var f;!this.options.allowIntersection&&this.options.showArea&&(f=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(f)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,l)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,l){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,l)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var l=i.latlng;this._tooltip.updatePosition(l),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(l))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,l){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,l)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!a(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,l,f,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),m=this._shape,v=this.options.showArea;return m&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),l=L.GeometryUtil.geodesicArea(i),f=v?L.GeometryUtil.readableArea(l,this.options.metric):""),{text:d.text,subtext:f}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,l){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,l)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var l=i.latlng;this._tooltip.updatePosition(l),this._mouseMarker.setLatLng(l),this._marker?(l=this._mouseMarker.getLatLng(),this._marker.setLatLng(l)):(this._marker=this._createMarker(l),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,l){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,l)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,l){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,l)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var l=this._startLatLng.distanceTo(i);else var l=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(l):(this._shape=new L.Circle(this._startLatLng,l,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var l,f=i.latlng,d=this.options.showRadius,m=this.options.metric;if(this._tooltip.updatePosition(f),this._isDrawing){this._drawShape(f),l=this._shape.getRadius().toFixed(1);var v="";d&&(v=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(l,m,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:v})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,l){this._marker=i,L.setOptions(this,l)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var l=i.target;l.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:l})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,l){var f=parseInt(i.style.marginTop,10)-l,d=parseInt(i.style.marginLeft,10)-l;i.style.marginTop=f+"px",i.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var l=0;l<this._verticesHandlers.length;l++)i(this._verticesHandlers[l])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,l,f){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,f&&f.drawError&&(f.drawError=L.Util.extend({},this.options.drawError,f.drawError)),this._latlngs=l,L.setOptions(this,f)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,l=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),l&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(f){L.DomUtil.removeClass(l,f)}),i.options.editing.className.split(" ").forEach(function(f){L.DomUtil.addClass(l,f)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,l=i._path;l&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(f){L.DomUtil.removeClass(l,f)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(f){L.DomUtil.addClass(l,f)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,l,f,d,m=this._defaultShape();for(i=0,f=m.length;i<f;i++)d=this._createMarker(m[i],i),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var v,_;for(i=0,l=f-1;i<f;l=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(v=this._markers[l],_=this._markers[i],this._createMiddleMarker(v,_),this._updatePrevNext(v,_))},_createMarker:function(i,l){var f=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return f._origLatLng=i,f._index=l,f.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(f),f},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),l=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),l},_removeMarker:function(i){var l=i._index;this._markerGroup.removeLayer(i),this._markers.splice(l,1),this._spliceLatLngs(l,1),this._updateIndexes(l,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var l=i.target,f=this._poly,d=L.LatLngUtil.cloneLatLng(l._origLatLng);if(L.extend(l._origLatLng,l._latlng),f.options.poly){var m=f._map._editTooltip;if(!f.options.poly.allowIntersection&&f.intersects()){L.extend(l._origLatLng,d),l.setLatLng(d);var v=f.options.color;f.setStyle({color:this.options.drawError.color}),m&&m.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){f.setStyle({color:v}),m&&m.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}l._middleLeft&&l._middleLeft.setLatLng(this._getMiddleLatLng(l._prev,l)),l._middleRight&&l._middleRight.setLatLng(this._getMiddleLatLng(l,l._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var _=this._poly.getLatLngs();this._poly._convertLatLngs(_,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var l=L.Polygon&&this._poly instanceof L.Polygon?4:3,f=i.target;this._defaultShape().length<l||(this._removeMarker(f),this._updatePrevNext(f._prev,f._next),f._middleLeft&&this._markerGroup.removeLayer(f._middleLeft),f._middleRight&&this._markerGroup.removeLayer(f._middleRight),f._prev&&f._next?this._createMiddleMarker(f._prev,f._next):f._prev?f._next||(f._prev._middleRight=null):f._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var l=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:l,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var l=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),f=this._map.layerPointToLatLng(l),d=i.target;L.extend(d._origLatLng,f),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,l){this._markerGroup.eachLayer(function(f){f._index>i&&(f._index+=l)})},_createMiddleMarker:function(i,l){var f,d,m,v=this._getMiddleLatLng(i,l),_=this._createMarker(v);_.setOpacity(.6),i._middleRight=l._middleLeft=_,d=function(){_.off("touchmove",d,this);var b=l._index;_._index=b,_.off("click",f,this).on("click",this._onMarkerClick,this),v.lat=_.getLatLng().lat,v.lng=_.getLatLng().lng,this._spliceLatLngs(b,0,v),this._markers.splice(b,0,_),_.setOpacity(1),this._updateIndexes(b,1),l._index++,this._updatePrevNext(i,_),this._updatePrevNext(_,l),this._poly.fire("editstart")},m=function(){_.off("dragstart",d,this),_.off("dragend",m,this),_.off("touchmove",d,this),this._createMiddleMarker(i,_),this._createMiddleMarker(_,l)},f=function(){d.call(this),m.call(this),this._fireEdit()},_.on("click",f,this).on("dragstart",d,this).on("dragend",m,this).on("touchmove",d,this),this._markerGroup.addLayer(_)},_updatePrevNext:function(i,l){i&&(i._next=l),l&&(l._prev=i)},_getMiddleLatLng:function(i,l){var f=this._poly._map,d=f.project(i.getLatLng()),m=f.project(l.getLatLng());return f.unproject(d._add(m)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,l){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,l)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var l=0,f=this._resizeMarkers.length;l<f;l++)this._unbindMarker(this._resizeMarkers[l]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,l){var f=new L.Marker.Touch(i,{draggable:!0,icon:l,zIndexOffset:10});return this._bindMarker(f),this._markerGroup.addLayer(f),f},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var l=i.target,f=l.getLatLng();l===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var l=this._getCorners(),f=i.target,d=f._cornerIndex;f.setOpacity(0),this._oppositeCorner=l[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(i){var l=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),f=this._map.layerPointToLatLng(l);return i.target===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),l=i.getCenter();this._moveMarker=this._createMarker(l,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var l=0,f=i.length;l<f;l++)this._resizeMarkers.push(this._createMarker(i[l],this.options.resizeIcon)),this._resizeMarkers[l]._cornerIndex=l},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var l=this._getCorners(),f=i.target,d=f._cornerIndex;this._oppositeCorner=l[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(i){var l,f,d=i.target;d===this._moveMarker&&(l=this._shape.getBounds(),f=l.getCenter(),d.setLatLng(f)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var l,f=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),m=d.getCenter(),v=[],_=0,b=f.length;_<b;_++)l=[f[_].lat-m.lat,f[_].lng-m.lng],v.push([i.lat+l[0],i.lng+l[1]]);this._shape.setLatLngs(v),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var l;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),l=this._shape.getBounds(),this._moveMarker.setLatLng(l.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var l=0,f=this._resizeMarkers.length;l<f;l++)this._resizeMarkers[l].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),l=0,f=this._resizeMarkers.length;l<f;l++)this._resizeMarkers[l].setLatLng(i[l])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var l=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(l)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),l=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(l,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var l=this._shape._radius*Math.cos(Math.PI/4),f=this._map.project(i);return this._map.unproject([f.x+l,f.y-l])},_resize:function(i){var l=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=l.distanceTo(i):radius=this._map.distance(l,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,l){var f={};if(i.touches!==void 0){if(!i.touches.length)return;f=i.touches[0]}else if(i.pointerType!=="touch"||(f=i,!this._filterClick(i)))return;var d=this._map.mouseEventToContainerPoint(f),m=this._map.mouseEventToLayerPoint(f),v=this._map.layerPointToLatLng(m);this._map.fire(l,{latlng:v,layerPoint:m,containerPoint:d,pageX:f.pageX,pageY:f.pageY,originalEvent:i})},_filterClick:function(i){var l=i.timeStamp||i.originalEvent.timeStamp,f=L.DomEvent._lastClick&&l-L.DomEvent._lastClick;return f&&f>100&&f<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=l,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var l="touchcancel";this._detectIE()&&(l="pointercancel"),this._touchEvent(i,l)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=t.navigator.userAgent,l=i.indexOf("MSIE ");if(l>0)return parseInt(i.substring(l+5,i.indexOf(".",l)),10);if(i.indexOf("Trident/")>0){var f=i.indexOf("rv:");return parseInt(i.substring(f+3,i.indexOf(".",f)),10)}var d=i.indexOf("Edge/");return d>0&&parseInt(i.substring(d+5,i.indexOf(".",d)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,l=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?l.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):l.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var f=0;f<l.length;f++)L.DomEvent.on(i,l[f],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=t.navigator.userAgent,l=i.indexOf("MSIE ");if(l>0)return parseInt(i.substring(l+5,i.indexOf(".",l)),10);if(i.indexOf("Trident/")>0){var f=i.indexOf("rv:");return parseInt(i.substring(f+3,i.indexOf(".",f)),10)}var d=i.indexOf("Edge/");return d>0&&parseInt(i.substring(d+5,i.indexOf(".",d)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var l=[],f=0,d=i.length;f<d;f++)Array.isArray(i[f])?l.push(L.LatLngUtil.cloneLatLngs(i[f])):l.push(this.cloneLatLng(i[f]));return l},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(l){var f,d,m=l.length,v=0,_=Math.PI/180;if(m>2){for(var b=0;b<m;b++)f=l[b],d=l[(b+1)%m],v+=(d.lng-f.lng)*_*(2+Math.sin(f.lat*_)+Math.sin(d.lat*_));v=6378137*v*6378137/2}return Math.abs(v)},formattedNumber:function(l,f){var d=parseFloat(l).toFixed(f),m=L.drawLocal.format&&L.drawLocal.format.numeric,v=m&&m.delimiters,_=v&&v.thousands,b=v&&v.decimal;if(_||b){var E=d.split(".");d=_?E[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_):E[0],b=b||".",E.length>1&&(d=d+b+E[1])}return d},readableArea:function(l,f,_){var m,v,_=L.Util.extend({},i,_);return f?(v=["ha","m"],type=typeof f,type==="string"?v=[f]:type!=="boolean"&&(v=f),m=l>=1e6&&v.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*l,_.km)+" km":l>=1e4&&v.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*l,_.ha)+" ha":L.GeometryUtil.formattedNumber(l,_.m)+" m"):(l/=.836127,m=l>=3097600?L.GeometryUtil.formattedNumber(l/3097600,_.mi)+" mi":l>=4840?L.GeometryUtil.formattedNumber(l/4840,_.ac)+" acres":L.GeometryUtil.formattedNumber(l,_.yd)+" yd"),m},readableDistance:function(l,f,d,m,b){var _,b=L.Util.extend({},i,b);switch(f?typeof f=="string"?f:"metric":d?"feet":m?"nauticalMile":"yards"){case"metric":_=l>1e3?L.GeometryUtil.formattedNumber(l/1e3,b.km)+" km":L.GeometryUtil.formattedNumber(l,b.m)+" m";break;case"feet":l*=3.28083,_=L.GeometryUtil.formattedNumber(l,b.ft)+" ft";break;case"nauticalMile":l*=.53996,_=L.GeometryUtil.formattedNumber(l/1e3,b.nm)+" nm";break;case"yards":default:l*=1.09361,_=l>1760?L.GeometryUtil.formattedNumber(l/1760,b.mi)+" miles":L.GeometryUtil.formattedNumber(l,b.yd)+" yd"}return _},isVersion07x:function(){var l=L.version.split(".");return parseInt(l[0],10)===0&&parseInt(l[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,l,f,d){return this._checkCounterclockwise(i,f,d)!==this._checkCounterclockwise(l,f,d)&&this._checkCounterclockwise(i,l,f)!==this._checkCounterclockwise(i,l,d)},_checkCounterclockwise:function(i,l,f){return(f.y-i.y)*(l.x-i.x)>(l.y-i.y)*(f.x-i.x)}}),L.Polyline.include({intersects:function(){var i,l,f,d=this._getProjectedPoints(),m=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=m-1;i>=3;i--)if(l=d[i-1],f=d[i],this._lineSegmentsIntersectsRange(l,f,i-2))return!0;return!1},newLatLngIntersects:function(i,l){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),l)},newPointIntersects:function(i,l){var f=this._getProjectedPoints(),d=f?f.length:0,m=f?f[d-1]:null,v=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(m,i,v,l?1:0)},_tooFewPointsForIntersection:function(i){var l=this._getProjectedPoints(),f=l?l.length:0;return f+=i||0,!l||f<=3},_lineSegmentsIntersectsRange:function(i,l,f,d){var m,v,_=this._getProjectedPoints();d=d||0;for(var b=f;b>d;b--)if(m=_[b-1],v=_[b],L.LineUtil.segmentsIntersect(i,l,m,v))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],l=this._defaultShape(),f=0;f<l.length;f++)i.push(this._map.latLngToLayerPoint(l[f]));return i}}),L.Polygon.include({intersects:function(){var i,l,f,d,m=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=m.length,l=m[0],f=m[i-1],d=i-2,this._lineSegmentsIntersectsRange(f,l,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var l;this._toolbars={},L.DrawToolbar&&this.options.draw&&(l=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=l,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(l=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=l,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var l,f=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var m in this._toolbars)this._toolbars.hasOwnProperty(m)&&(l=this._toolbars[m].addToolbar(i))&&(d||(L.DomUtil.hasClass(l,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(l.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),f.appendChild(l));return f},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var l in this._toolbars)this._toolbars[l]instanceof L.DrawToolbar&&this._toolbars[l].setOptions(i)},_toolbarEnabled:function(i){var l=i.target;for(var f in this._toolbars)this._toolbars[f]!==l&&this._toolbars[f].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var l=L.version.split(".");parseInt(l[0],10)===1&&parseInt(l[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var l,f=L.DomUtil.create("div","leaflet-draw-section"),d=0,m=this._toolbarClass||"",v=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,l=0;l<v.length;l++)v[l].enabled&&this._initModeHandler(v[l].handler,this._toolbarContainer,d++,m,v[l].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),f.appendChild(this._toolbarContainer),f.appendChild(this._actionsContainer),f},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var l=0,f=this._actionButtons.length;l<f;l++)this._disposeButton(this._actionButtons[l].button,this._actionButtons[l].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,l,f,d,m){var v=i.type;this._modes[v]={},this._modes[v].handler=i,this._modes[v].button=this._createButton({type:v,title:m,className:d+"-"+v,container:l,callback:this._modes[v].handler.enable,context:this._modes[v].handler}),this._modes[v].buttonIndex=f,this._modes[v].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(i){var l=L.DomUtil.create("a",i.className||"",i.container),f=L.DomUtil.create("span","sr-only",i.container);l.href="#",l.appendChild(f),i.title&&(l.title=i.title,f.innerHTML=i.title),i.text&&(l.innerHTML=i.text,f.innerHTML=i.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(l,"click",L.DomEvent.stopPropagation).on(l,"mousedown",L.DomEvent.stopPropagation).on(l,"dblclick",L.DomEvent.stopPropagation).on(l,"touchstart",L.DomEvent.stopPropagation).on(l,"click",L.DomEvent.preventDefault).on(l,d,i.callback,i.context),l},_disposeButton:function(i,l){var f=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,f,l)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var l,f,d,m,v=this._actionsContainer,_=this.getActions(i),b=_.length;for(f=0,d=this._actionButtons.length;f<d;f++)this._disposeButton(this._actionButtons[f].button,this._actionButtons[f].callback);for(this._actionButtons=[];v.firstChild;)v.removeChild(v.firstChild);for(var E=0;E<b;E++)"enabled"in _[E]&&!_[E].enabled||(l=L.DomUtil.create("li","",v),m=this._createButton({title:_[E].title,text:_[E].text,container:l,callback:_[E].callback,context:_[E].context}),this._actionButtons.push({button:m,callback:_[E].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,l=this._lastButtonIndex,f=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=f+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===l&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var l=this._map.latLngToLayerPoint(i),f=this._container;return this._container&&(this._visible&&(f.style.visibility="inherit"),L.DomUtil.setPosition(f,l)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var l in this.options)this.options.hasOwnProperty(l)&&i[l]&&(i[l]=L.extend({},this.options[l],i[l]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var l in this._modes)this._modes.hasOwnProperty(l)&&i.hasOwnProperty(l)&&this._modes[l].handler.setOptions(i[l])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var l=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:l,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:l}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var l=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&l.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),l},addToolbar:function(i){var l=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),l},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,l=this.options.featureGroup,f=l.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,f?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,f?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,l){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,l),this._featureGroup=l.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(l){l.edited&&(i.addLayer(l),l.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var l=L.Util.stamp(i);this._uneditedLayerProps[l]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[l]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[l]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[l]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var l=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(l)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[l].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[l].latlng),i.setRadius(this._uneditedLayerProps[l].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[l].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var l,f,d=i.layer||i.target||i;this._backupLayer(d),this.options.poly&&(f=L.Util.extend({},this.options.poly),d.options.poly=f),this.options.selectedPathOptions&&(l=L.Util.extend({},this.options.selectedPathOptions),l.maintainColor&&(l.color=d.options.color,l.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=l),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(i){var l=i.layer||i.target||i;l.edited=!1,l.editing&&l.editing.disable(),delete l.options.editing,delete l.options.original,this._selectedPathOptions&&(l instanceof L.Marker?this._toggleMarkerHighlight(l):(l.setStyle(l.options.previousOptions),delete l.options.previousOptions)),l instanceof L.Marker?(l.dragging.disable(),l.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):l.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var l=i.target;l.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:l})},_onTouchMove:function(i){var l=i.originalEvent.changedTouches[0],f=this._map.mouseEventToLayerPoint(l),d=this._map.layerPointToLatLng(f);i.target.setLatLng(d)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,l){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,l),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var l=i.layer||i.target||i;l.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(l)},_removeLayer:function(i){var l=i.layer||i.target||i;this._deletableLayers.removeLayer(l),this._deletedLayers.addLayer(l),l.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const js=(t,e)=>{e.split(" ").forEach(s=>{t.classList.add(s)})},Xs=(t,e)=>{e.split(" ").forEach(s=>{t.classList.remove(s)})},Xy=xe.Marker.extend({initialize(t,e){xe.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon(){const t=this.options;let e="";t.color!==void 0&&(e+=`stroke:${t.color};`),t.weight!==void 0&&(e+=`stroke-width:${t.weight};`),t.fillColor!==void 0&&(e+=`fill:${t.fillColor};`),t.fillOpacity!==void 0&&(e+=`fill-opacity:${t.fillOpacity};`),t.opacity!==void 0&&(e+=`opacity:${t.opacity};`);const s=this._getIconSVG(t,e);this._locationIcon=xe.divIcon({className:s.className,html:s.svg,iconSize:[s.w,s.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const s=t.radius,a=t.weight,i=s+a,l=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${l}" height="${l}" version="1.1" viewBox="-${i} -${i} ${l} ${l}"><circle r="`+s+'" style="'+e+'" /></svg>',w:l,h:l}},setStyle(t){xe.setOptions(this,t),this.createIcon()}}),yP=Xy.extend({initialize(t,e,s){xe.setOptions(this,s),this._latlng=t,this._heading=e,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const s=t.radius,a=t.width+t.weight,i=(s+t.depth+t.weight)*2,l=`M0,0 l${t.width/2},${t.depth} l-${a},0 z`,f=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${i}" version="1.1" viewBox="-${a/2} 0 ${a} ${i}" style="${f}"><path d="`+l+'" style="'+e+'" /></svg>',w:a,h:i}}}),bP=xe.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:Xy,compassClass:yP,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(t,e){const s=xe.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);s.title=e.strings.title,s.href="#",s.setAttribute("role","button");const a=xe.DomUtil.create(e.iconElementTag,e.icon,s);if(e.strings.text!==void 0){const i=xe.DomUtil.create(e.textElementTag,"leaflet-locate-text",s);i.textContent=e.strings.text,s.classList.add("leaflet-locate-text-active"),s.parentNode.style.display="flex",e.icon.length>0&&a.classList.add("leaflet-locate-icon")}return{link:s,icon:a}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(t){for(const e in t)typeof this.options[e]=="object"?xe.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=xe.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=xe.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=xe.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(t){const e=xe.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new xe.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const s=this.options.createButtonCallback(e,this.options);return this._link=s.link,this._icon=s.icon,xe.DomEvent.on(this._link,"click",function(a){xe.DomEvent.stopPropagation(a),xe.DomEvent.preventDefault(a),this._onClick()},this).on(this._link,"dblclick",xe.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let s=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(s=t?e.inView:e.inViewNotFollowing),e[s]&&(s=e[s]),s){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){const e=this,s=function(){xe.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(a){a==="granted"&&s()}):s()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?xe.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&xe.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),xe.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&this._compassHeading!==null){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){const f=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(f):this._circle=xe.circle(e,t,f).addTo(this._layer)}let s,a;if(this.options.metric?(s=t.toFixed(0),a=this.options.strings.metersUnit):(s=(t*3.2808399).toFixed(0),a=this.options.strings.feetUnit),this.options.drawMarker){const f=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(f)):this._marker=new this.options.markerClass(e,f).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function l(){return typeof i=="string"?xe.Util.template(i,{distance:s,unit:a}):typeof i=="function"?i({distance:s,unit:a}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(l())._popup.setLatLng(e),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(l())._popup.setLatLng(e)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,xe.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){t=="requesting"?(Xs(this._container,"active following"),js(this._container,"requesting"),Xs(this._icon,this.options.icon),js(this._icon,this.options.iconLoading)):t=="active"?(Xs(this._container,"requesting following"),js(this._container,"active"),Xs(this._icon,this.options.iconLoading),js(this._icon,this.options.icon)):t=="following"&&(Xs(this._container,"requesting"),js(this._container,"active following"),Xs(this._icon,this.options.iconLoading),js(this._icon,this.options.icon))},_cleanClasses(){xe.DomUtil.removeClass(this._container,"requesting"),xe.DomUtil.removeClass(this._container,"active"),xe.DomUtil.removeClass(this._container,"following"),Xs(this._icon,this.options.iconLoading),js(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function wP(t){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},marker:!1,circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:t,remove:!1}}}L.GeometryUtil=L.extend(L.GeometryUtil||{},{readableArea:function(t,e,d){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},i,l,f,d=L.Util.extend({},a,d);return e?(l=["ha","m"],f=typeof e,f==="string"?l=[e]:f!=="boolean"&&(l=e),t>=1e6&&l.indexOf("km")!==-1?i=L.GeometryUtil.formattedNumber(t*1e-6,d.km)+" km":t>=1e4&&l.indexOf("ha")!==-1?i=L.GeometryUtil.formattedNumber(t*1e-4,d.ha)+" ha":i=L.GeometryUtil.formattedNumber(t,d.m)+" m"):(t/=.836127,t>=3097600?i=L.GeometryUtil.formattedNumber(t/3097600,d.mi)+" mi":t>=4840?i=L.GeometryUtil.formattedNumber(t/4840,d.ac)+" acres":i=L.GeometryUtil.formattedNumber(t,d.yd)+" yd"),i}});const LP="100vh",EP="https://tile.openstreetmap.org/{z}/{x}/{y}.png",kP='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',xP={__name:"Map",props:{height:{type:String,default:LP},editable:{type:Boolean,default:!0}},setup(t){const e=t,{radius:s,wkt:a,sourceGeometry:i}=ii.getInstance(),l=Vn(),f=Vn(new Ys.FeatureGroup),d=Ft(e.editable);let m=null;const v=lt(()=>!!a.value),_=lt(()=>`height: ${e.height};`);ne(a,b),ne([s,f],T);function b(){a.value&&(Ys.geoJSON().addTo(f.value).addData(fs.parse(a.value)),E())}function E(){l.value&&l.value.fitBounds(f.value.getBounds())}b();function T(){if(!m)return;f.value.clearLayers();let P=m.layer,R=P.toGeoJSON();gc(R)||(R=II(R));const D=MI(R,m.layerType==="circle"?P.getRadius():null,m.layerType,s.value);(m.layerType==="marker"||m.layerType==="polyline")&&Ys.geoJSON().addTo(f.value).addData(fs.parse(D)),a.value=D,i.value=null}function I(){l.value=Ys.map("map"),AI(l.value),Ys.tileLayer(EP,{maxZoom:19,attribution:kP}).addTo(l.value),l.value.addLayer(f.value),v.value&&E(),d.value&&(l.value.addControl(new Ys.Control.Draw(wP(f.value))),new bP().addTo(l.value)),l.value.on(Ys.Draw.Event.CREATED,O)}function O(P){let R=P.layer;m=P,f.value.clearLayers(),f.value.addLayer(R),T()}function B(){const P={center:l.value.getCenter(),zoom:l.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(P))}return Hi(()=>{I(),window.addEventListener("beforeunload",B)}),(P,R)=>(wt(),zt("div",{id:"map",style:Dr(_.value)},null,4))}},Ky=Ur(xP,[["__scopeId","data-v-d6cc63df"]]),TP={class:"container-fluid"},CP={class:"row"},SP={class:"col-12 col-lg-6 col-md-6"},IP={class:"col-12 col-lg-6 col-md-6"},PP={__name:"MapListWidget",setup(t){return(e,s)=>(wt(),zt("div",TP,[mt("div",CP,[mt("div",SP,[$t(Ky,{height:"100vh",editable:!0})]),mt("div",IP,[$t(Ld,{nbTaxonPerLine:2})])])]))}},NP={key:0},OP={key:1},MP={__name:"ListWidget",setup(t){const e=ii.getInstance();return(s,a)=>(wt(),zt("div",null,[W(e).wkt.value.length>0?(wt(),zt("div",NP,[$t(Ld,{nbTaxonPerLine:4})])):(wt(),zt("div",OP,a[0]||(a[0]=[mt("h2",{class:"col-12 text-center m-3"},"Aucune gomtrie fournie !",-1)])))]))}},vg={Animalia:{Mammalia:{Icon:"fas fa-paw"},Aves:{Icon:"fas fa-dove"},Reptilia:{Icon:"fas fa-dragon"},Amphibia:{Icon:"fas fa-frog"},Insecta:{Icon:"fas fa-bug"},Arachnida:{Icon:"fas fa-spider"},Gastropoda:{Icon:"fas fa-paw"},Bivalvia:{Icon:"fas fa-shrimp"}},Plantae:{Magnoliopsida:{Icon:"fas fa-leaf"},Liliopsida:{Icon:"fas fa-leaf"},Pinopsida:{Icon:"fas fa-tree"}}},AP={class:""},RP={class:"row g-1",id:"classTaxonFilters"},DP={__name:"TaxonClassFilter",setup(t){const e=ii.getInstance().class;function s(a){e.value=e.value==a?null:a}return(a,i)=>{const l=hs;return wt(),zt(ce,null,[mt("label",null,Zt(a.$t("taxon.class")),1),mt("div",AP,[mt("div",RP,[(wt(!0),zt(ce,null,lr(Object.keys(W(vg).Animalia),f=>(wt(),zt("div",{key:f,class:"col"},[$t(l,{pill:"",variant:"outline-primary",pressed:W(e)==f,onClick:d=>s(f)},{default:ee(()=>[ve(Zt(f),1)]),_:2},1032,["pressed","onClick"])]))),128)),(wt(!0),zt(ce,null,lr(Object.keys(W(vg).Plantae),f=>(wt(),zt("div",{key:f,class:"col"},[$t(l,{pill:"",variant:"outline-success",pressed:W(e)==f,onClick:d=>s(f)},{default:ee(()=>[ve(Zt(f),1)]),_:2},1032,["pressed","onClick"])]))),128))])])],64)}}},BP=Ur(DP,[["__scopeId","data-v-f7eb8b8b"]]),FP=["for"],zP=["id"],yg={__name:"DateFilter",props:{label:{type:String,required:!0},id:String,currentDate:Date},emits:["update:date"],setup(t,{emit:e}){const s=t,a=Ft(null),i=e;return ne(a,()=>{i("update:date",a.value)}),(l,f)=>(wt(),zt(ce,null,[mt("label",{for:s.id},Zt(s.label),9,FP),Je(mt("input",{id:s.id,class:"form-control",type:"date","onUpdate:modelValue":f[0]||(f[0]=d=>a.value=d)},null,8,zP),[[ps,a.value]])],64))}},$P={class:"row"},UP={for:"radius",class:"form-label col-8"},GP={__name:"BufferSizeFilter",setup(t){const{radius:e}=ii.getInstance();return(s,a)=>(wt(),zt("div",$P,[mt("label",UP,Zt(s.$t("bufferSize"))+" "+Zt(W(e))+" km",1),Je(mt("input",{type:"range",class:"form-range",min:"1",max:"100","onUpdate:modelValue":a[0]||(a[0]=i=>qe(e)?e.value=i:null),id:"radius"},null,512),[[ps,W(e)]])]))}},VP=Ur(GP,[["__scopeId","data-v-f2f46160"]]),HP={class:"text-center col-12"},qP={class:"sourceParam"},WP={for:"sourceName"},ZP=["value"],YP={class:"parameters"},jP=["for"],XP=["placeholder","onUpdate:modelValue"],KP=["type","placeholder","onUpdate:modelValue"],JP=["onUpdate:modelValue"],QP=["value"],tN={key:3,class:"text-danger"},eN={__name:"SourceFilter",setup(t){const{connector:e}=ii.getInstance(),s={GBIF:[{name:"API_ENPOINT",label:"Adresse de l'API du GBIF",type:String,default:"https://api.gbif.org/v1"}],GeoNature:[{name:"EXPORT_API_ENDPOINT",label:"Adresse de l'API d'un export GeoNature",type:String,default:"http://localhost:8000/exports/api/20"}]},a=Ft(e.name);let i=Hn(Object.fromEntries(s[a.value].map(f=>[f.name,f.default])));ne([a],()=>{i=Hn(Object.fromEntries(s[a.value].map(f=>[f.name,f.default])))});function l(f){e=wf(a.value,i)}return(f,d)=>{const m=hs,v=Nk,_=nv;return wt(),zt(ce,null,[mt("div",HP,[Je((wt(),ge(m,{variant:"primary",size:"lg",class:"col-12 mb-3"},{default:ee(()=>[d[1]||(d[1]=mt("i",{class:"fa fa-leaf"},null,-1)),d[2]||(d[2]=ve()),d[3]||(d[3]=mt("br",null,null,-1)),ve(" "+Zt(f.$t("source.modify")),1)]),_:1})),[[_,void 0,void 0,{"modal-center":!0}]])]),$t(v,{id:"modal-center",centered:"",title:f.$t("source.title"),onOk:l},{default:ee(()=>[mt("div",qP,[mt("label",WP,Zt(f.$t("source.select")),1),Je(mt("select",{"onUpdate:modelValue":d[0]||(d[0]=b=>a.value=b),class:"form-select"},[(wt(),zt(ce,null,lr(s,(b,E)=>mt("option",{value:E},Zt(E),9,ZP)),64))],512),[[so,a.value]]),(wt(!0),zt(ce,null,lr(s[a.value],b=>(wt(),zt("div",YP,[mt("label",{for:b.name},Zt(b.label),9,jP),b.type===String?Je((wt(),zt("input",{key:0,class:"form-control",placeholder:b.default,"onUpdate:modelValue":E=>W(i)[b.name]=E},null,8,XP)),[[ps,W(i)[b.name]]]):b.type===Number?Je((wt(),zt("input",{key:1,type:b.type,class:"form-control",placeholder:b.default,"onUpdate:modelValue":E=>W(i)[b.name]=E},null,8,KP)),[[Iw,W(i)[b.name]]]):Array.isArray(b.type)?Je((wt(),zt("select",{key:2,class:"form-select","onUpdate:modelValue":E=>W(i)[b.name]=E},[(wt(!0),zt(ce,null,lr(b.type,E=>(wt(),zt("option",{key:E,value:E},Zt(E),9,QP))),128))],8,JP)),[[so,W(i)[b.name]]]):(wt(),zt("div",tN,"Unsupported input type"))]))),256))])]),_:1},8,["title"])],64)}}},nN={for:"mediaSourceSelect"},iN={__name:"MediaSourceSelector",setup(t){const{connector:e}=ii.getInstance(),s=Ft(e.mediaSource.id);return ne(s,()=>{e.mediaSource=sa(s.value)}),(a,i)=>{const l=od,f=WE;return wt(),zt(ce,null,[mt("label",nN,Zt(a.$t("media.source")),1),$t(f,{id:"mediaSourceSelect",options:W(e).getCompatibleMediaSource(),modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=d=>s.value=d)},{first:ee(()=>[$t(l,{value:null,disabled:""},{default:ee(()=>[ve(Zt(a.$t("media.select")),1)]),_:1})]),_:1},8,["options","modelValue"])],64)}}},rN={class:"card"},sN={class:"card-header"},oN={class:"card-body"},aN={id:"filters"},lN={class:"col-lg-12"},uN={class:"row mt-3"},cN={class:"col-6"},hN={class:"col-6"},fN={class:"col mt-3"},dN={class:"col mt-3"},pN={class:"col mt-3"},mN={class:"col mt-3"},gN={__name:"Filters",setup(t){const{dateMin:e,dateMax:s,showFilters:a}=ii.getInstance();return(i,l)=>{const f=GE;return wt(),zt(ce,null,[mt("div",rN,[mt("h4",sN,Zt(i.$t("parameters")),1),mt("div",oN,[mt("div",aN,[mt("div",lN,[$t(VP)]),mt("div",uN,[mt("div",cN,[$t(yg,{id:"startDate",label:"Date min.",currentDate:W(e),"onUpdate:date":l[0]||(l[0]=d=>e.value=d)},null,8,["currentDate"])]),mt("div",hN,[$t(yg,{id:"endDate",label:"Date max.",currentDate:W(s),"onUpdate:date":l[1]||(l[1]=d=>s.value=d)},null,8,["currentDate"])])]),mt("div",fN,[$t(BP)]),mt("div",dN,[$t(f,{switch:"",modelValue:W(a),"onUpdate:modelValue":l[2]||(l[2]=d=>qe(a)?a.value=d:null)},{default:ee(()=>[ve(Zt(i.$t("showFilters")),1)]),_:1},8,["modelValue"])]),mt("div",pN,[$t(iN)])])])]),mt("div",mN,[$t(eN)])],64)}}},_N={class:"input-group-text"},vN=["value"],yN={class:"input-group mb-3"},bN={class:"input-group-text"},wN={class:"input-group-text"},LN={class:"input-group"},EN={class:"input-group-text"},kN={value:""},xN={value:"list"},TN={value:"config"},CN={__name:"HTMLBuilder",props:{link:String,required:!0},emits:["update:width","update:height","update:typeWidget"],setup(t,{emit:e}){const s=Ft("100wv"),a=Ft("100vh"),i=Ft(""),l=t,f=e;ne([i,s,a],()=>{f("update:width",s.value),f("update:height",a.value),f("update:typeWidget",i.value)});const d=lt(()=>`<embed src="${l.link}" type="" style="width: ${s.value}; height: ${a.value}" />`);return(m,v)=>(wt(),zt(ce,null,[mt("span",_N,[v[3]||(v[3]=mt("i",{class:"bi bi-code-slash"},null,-1)),ve(" "+Zt(m.$t("browserIntegration")),1)]),mt("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:d.value},null,8,vN),mt("div",yN,[mt("span",bN,Zt(m.$t("size.width")),1),Je(mt("input",{class:"form-control form-control-lg",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":v[0]||(v[0]=_=>s.value=_)},null,512),[[ps,s.value]]),mt("span",wN,Zt(m.$t("size.height")),1),Je(mt("input",{class:"form-control form-control-lg",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":v[1]||(v[1]=_=>a.value=_)},null,512),[[ps,a.value]])]),mt("div",LN,[mt("span",EN,Zt(m.$t("typeWidget.title")),1),Je(mt("select",{class:"form-select","onUpdate:modelValue":v[2]||(v[2]=_=>i.value=_)},[mt("option",kN,Zt(m.$t("typeWidget.default")),1),mt("option",xN,Zt(m.$t("typeWidget.list")),1),mt("option",TN,Zt(m.$t("typeWidget.config")),1)],512),[[so,i.value]])])],64))}},SN={class:"row justify-content-center p-3"},IN={class:"col-12 col-lg-12 col-md-6 text-center"},PN={for:"shareButton"},NN={key:0},ON={key:1},MN={__name:"Share",setup(t){const e=ii.getInstance(),s=Ft("100wv"),a=Ft("100vh"),i=Ft(""),l=window.location.origin,f=window.location.pathname,d=lt(()=>({list:"/list",config:"/config"})[i.value]||"/"),m=lt(()=>{const b=Object.entries(e.getParams()).map(([T,I])=>`${T}=${I}`),E=b.length?`?${b.join("&")}`:"";return`${l}${f}#${d.value}${E}`}),v=Ft(!1);function _(){navigator.clipboard.writeText(m.value),v.value=!0,setTimeout(()=>{v.value=!1},3e3)}return(b,E)=>{const T=OE;return wt(),ge(T,{text:b.$t("share"),variant:"primary",class:"me-2","auto-close":"outside","menu-class":"share_modal"},{"button-content":ee(()=>[E[3]||(E[3]=mt("i",{class:"bi bi-share"},null,-1)),ve(" "+Zt(b.$t("share")),1)]),default:ee(()=>[mt("div",SN,[mt("div",IN,[mt("label",PN,Zt(b.$t("shareLink")),1),mt("button",{class:"btn btn-outline-secondary mb-3",id:"shareButton",onClick:_},[v.value?(wt(),zt("div",NN,[E[4]||(E[4]=mt("i",{class:"bi bi-check2-circle"},null,-1)),ve(" "+Zt(b.$t("copied"))+"! ",1)])):(wt(),zt("div",ON,[E[5]||(E[5]=mt("i",{class:"bi bi-link-45deg"},null,-1)),ve(" "+Zt(b.$t("copy")),1)]))]),$t(CN,{link:m.value,"onUpdate:typeWidget":E[0]||(E[0]=I=>i.value=I),"onUpdate:width":E[1]||(E[1]=I=>s.value=I),"onUpdate:height":E[2]||(E[2]=I=>a.value=I)},null,8,["link"])])])]),_:1},8,["text"])}}},AN={},RN={class:"locale-changer input-group"},DN=["value"];function BN(t,e){return wt(),zt("div",RN,[e[1]||(e[1]=mt("label",{for:"languageSelect",class:"input-group-text"},[mt("i",{class:"bi bi-translate"})],-1)),Je(mt("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.$i18n.locale=s),class:"form-select",id:"languageSelect"},[(wt(!0),zt(ce,null,lr(t.$i18n.availableLocales,s=>(wt(),zt("option",{key:`locale-${s}`,value:s},Zt(s),9,DN))),128))],512),[[so,t.$i18n.locale]])])}const FN=Ur(AN,[["render",BN]]),zN={class:"card small"},$N={class:"card-header"},UN={key:0,class:"bi bi-chevron-down"},GN={key:1,class:"bi bi-chevron-up"},VN=["innerHTML"],HN={__name:"Intro",setup(t){const e=Ft(!1);return(s,a)=>{const i=hs,l=kv,f=nv;return wt(),zt("div",zN,[mt("div",$N,[mt("h4",null,[ve(Zt(s.$t("howto"))+" ",1),Je((wt(),ge(i,{variant:"light"},{default:ee(()=>[e.value?(wt(),zt("i",GN)):(wt(),zt("i",UN))]),_:1})),[[f,void 0,void 0,{"collapse-howto":!0}]])])]),$t(l,{id:"collapse-howto",modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=d=>e.value=d)},{default:ee(()=>[mt("div",{class:"card-body",style:{"overflow-y":"scroll",height:"30vh"},innerHTML:s.$t("intro")},null,8,VN)]),_:1},8,["modelValue"])])}}},qN={class:"container-fluid"},WN={class:"row"},ZN={class:"col-12 col-lg-3 col-md-2"},YN={class:"col-12 col-lg-6 col-md-6"},jN={class:"col-12 col-lg-3 col-md-4"},XN={__name:"ConfiguratorWidget",setup(t){return(e,s)=>{const a=Rk,i=Fk,l=Ok,f=Dk,d=kv,m=Ak,v=fL;return wt(),zt(ce,null,[mt("header",null,[Je((wt(),ge(m,{toggleable:"lg",variant:"light",class:"mb-3"},{default:ee(()=>[$t(a,{href:"#/config"},{default:ee(()=>[ve("   "+Zt(e.$t("title")),1)]),_:1}),$t(i,{target:"nav-collapse"}),$t(d,{id:"nav-collapse","is-nav":""},{default:ee(()=>[$t(f,{class:"ms-auto mb-2 mb-lg-0"},{default:ee(()=>[$t(l,{class:"d-flex",right:""},{default:ee(()=>[$t(MN),$t(FN)]),_:1})]),_:1})]),_:1})]),_:1})),[[v,"light"]])]),mt("main",qN,[mt("div",WN,[mt("div",ZN,[$t(HN,{class:"mb-2"}),$t(gN)]),mt("div",YN,[$t(Ky,{height:"100vh"})]),mt("div",jN,[$t(Ld,{"nb-taxon-per-line":1})])])])],64)}}},KN=Ur(XN,[["__scopeId","data-v-b800ea84"]]),JN={},QN={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},tO={class:"text-center"},eO={class:"lead"};function nO(t,e){return wt(),zt("div",QN,[mt("div",tO,[e[0]||(e[0]=mt("h1",{class:"display-1"},"404",-1)),mt("p",eO,Zt(t.$t("error404.title")),1),mt("p",null,Zt(t.$t("error404.subtitle")),1)])])}const iO=Ur(JN,[["render",nO]]),rO={fr:{title:"Biodiversit autour de moi",subtitle:"Rechercher des espces autour de moi",howto:"Comment a marche ?",intro:`<p>
        <em>Biodiversit autour de moi</em> est un widget ddi 
        <strong>l'exploration des espces <i class="bi bi-search"></i></strong>
        ! Cette interface vous permet de
        <strong
          >rechercher les espces observes dans une zone
          gographique spcifique <i class="bi bi-geo-alt"></i></strong
        >.
      </p>
      <p>
        <strong>Utilisez la carte interactive <i class="bi bi-map"></i></strong>
        pour slectionner la zone o vous souhaitez effectuer votre recherche.
        La
        <strong
          ><i class="fa fa-kiwi-bird"></i> liste des espces
          <i class="fa fa-leaf"></i
        ></strong>
        trouves dans la zone slectionne s'affichera  ct de la carte
        <i class="bi bi-list-ul"></i>.
      </p>
      <p>
        Vous pouvez galement
        <strong>partager vos rsultats <i class="bi bi-share"></i></strong>
        pour collaborer avec d'autres utilisateurs.
      </p>`,parameters:"Paramtres",filters:"Filtres",showFilters:"Afficher les filtres",filtersTitle:"Filtres",radius:"Rayon",bufferSize:"Taille du buffer :",dateMin:"Date Min",dateMax:"Date Max",search:"Rechercher",reset:"Rinitialiser",searchResults:"Rsultats de la recherche",noResults:"Aucun rsultat",previousPage:"Prcedent",nextPage:"Suivant",loading:"Chargement en cours ...",noObservations:"Aucune observation trouve",noSpeciesObserved:"Aucune espces observes dans cette zone !",noGeometry:"Aucune gometrie trouve",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},browserIntegration:"Intgrer le widget dans votre site",drawGeometry:"Dessiner une zone pour afficher les espces",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type de widget",default:"Carte et liste",list:"Liste d'espces",config:"Configurateur"},copy:"Copier",copied:"Copi",share:"Partager",shareLink:"Partager un lien",source:{title:"Source de donnes",select:"Slectionner une source",modify:"Modifier la source de donnes"},desc:"Dcroissant",asc:"Croissant",media:{source:"Source de mdias",select:"Slectionner une source de mdia"},taxon:{scientificName:"Nom scientifique",vernacularName:"Nom vernaculaire",nbObservations:"Nombre d'observations",lastSeenDate:"Date de la dernire observation",taxonFilter:"Filtre par taxon",seeMore:"En savoir plus",class:"Classe du Taxon"}}},sO={en:{title:"Biodiversity around me",subtitle:"Search for species around me",howto:"How does it work?",intro:`<p><em>Biodiversity around me</em> is a widget dedicated to
      <strong>exploring species <i class="bi bi-search"></i></strong>
      ! This interface allows you to
      <strong
        >search species observed in a specific geographic area <i class="bi bi-geo-alt"></i></strong
      >.
    </p>
    <p>
      <strong>Use the interactive map <i class="bi bi-map"></i></strong>
      to select the area where you want to perform your search. The
      <strong
        ><i class="fa fa-kiwi-bird"></i> list of species
        <i class="fa fa-leaf"></i
      ></strong>
      found in the selected area will be displayed next to the map
      <i class="bi bi-list-ul"></i>.
    </p>
    <p>
      You can also
      <strong>share your results <i class="bi bi-share"></i></strong>
      to collaborate with other users.
    </p>
    `,parameters:"Parameters",filters:"Filters",showFilters:"Show Filters",filtersTitle:"Filters",radius:"Radius",bufferSize:"Buffer Size:",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",searchResults:"Search results",noResults:"No results",noSpeciesObserved:"No species observed in this area !",previousPage:"Previous",nextPage:"Next",loading:"Loading...",noObservations:"No observation found",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},browserIntegration:"Integrate the widget into your site",drawGeometry:"Draw an area to display species",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type of widget",default:"Map and List",list:"List of species",config:"Configuration"},copy:"Copy",copied:"Copied",share:"Share",shareLink:"Share a link",source:{title:"Data Source",select:"Select a data source",modify:"Change the data source"},desc:"Dcroissant",asc:"Croissant",media:{source:"Media source",select:"Select a media source"},taxon:{scientificName:"Scientific Name",vernacularName:"Vernacular name",nbObservations:"Number of observations",lastSeenDate:"Last observation date",taxonFilter:"Filter by taxon",seeMore:"See more",class:"Taxon's class"}}},oO=Xx({locale:"fr",fallbackLocale:"en",messages:{...rO,...sO}}),aO=[{path:"/",component:PP},{path:"/list",component:MP},{path:"/config",component:KN},{path:"/:pathMatch(.*)*",name:"NotFound",component:iO}],lO=FS({history:dS(),routes:aO});Object.defineProperty(String.prototype,"capitalize",{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1});q_(oT).use(lO).use(oO).use(Jk()).mount("#app");
