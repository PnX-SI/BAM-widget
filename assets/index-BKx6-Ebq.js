var S0=Object.defineProperty;var C0=(e,t,s)=>t in e?S0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var js=(e,t,s)=>C0(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(i){if(i.ep)return;i.ep=!0;const u=s(i);fetch(i.href,u)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Bf(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const kt={},Zo=[],cr=()=>{},P0=()=>!1,Pc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ff=e=>e.startsWith("onUpdate:"),fn=Object.assign,zf=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},I0=Object.prototype.hasOwnProperty,Pt=(e,t)=>I0.call(e,t),Je=Array.isArray,Yo=e=>Gu(e)==="[object Map]",ya=e=>Gu(e)==="[object Set]",$h=e=>Gu(e)==="[object Date]",rt=e=>typeof e=="function",jt=e=>typeof e=="string",Ui=e=>typeof e=="symbol",Ft=e=>e!==null&&typeof e=="object",Ig=e=>(Ft(e)||rt(e))&&rt(e.then)&&rt(e.catch),Ng=Object.prototype.toString,Gu=e=>Ng.call(e),N0=e=>Gu(e).slice(8,-1),Mg=e=>Gu(e)==="[object Object]",$f=e=>jt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cu=Bf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ic=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},M0=/-(\w)/g,hi=Ic(e=>e.replace(M0,(t,s)=>s?s.toUpperCase():"")),O0=/\B([A-Z])/g,ws=Ic(e=>e.replace(O0,"-$1").toLowerCase()),Nc=Ic(e=>e.charAt(0).toUpperCase()+e.slice(1)),bd=Ic(e=>e?`on${Nc(e)}`:""),ei=(e,t)=>!Object.is(e,t),Rl=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Og=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Jl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},A0=e=>{const t=jt(e)?Number(e):NaN;return isNaN(t)?e:t};let Uh;const Mc=()=>Uh||(Uh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gi(e){if(Je(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],i=jt(o)?F0(o):Gi(o);if(i)for(const u in i)t[u]=i[u]}return t}else if(jt(e)||Ft(e))return e}const R0=/;(?![^(]*\))/g,D0=/:([^]+)/,B0=/\/\*[^]*?\*\//g;function F0(e){const t={};return e.replace(B0,"").split(R0).forEach(s=>{if(s){const o=s.split(D0);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Nt(e){let t="";if(jt(e))t=e;else if(Je(e))for(let s=0;s<e.length;s++){const o=Nt(e[s]);o&&(t+=o+" ")}else if(Ft(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function xi(e){if(!e)return null;let{class:t,style:s}=e;return t&&!jt(t)&&(e.class=Nt(t)),s&&(e.style=Gi(s)),e}const z0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$0=Bf(z0);function Ag(e){return!!e||e===""}function U0(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=oo(e[o],t[o]);return s}function oo(e,t){if(e===t)return!0;let s=$h(e),o=$h(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=Ui(e),o=Ui(t),s||o)return e===t;if(s=Je(e),o=Je(t),s||o)return s&&o?U0(e,t):!1;if(s=Ft(e),o=Ft(t),s||o){if(!s||!o)return!1;const i=Object.keys(e).length,u=Object.keys(t).length;if(i!==u)return!1;for(const f in e){const h=e.hasOwnProperty(f),m=t.hasOwnProperty(f);if(h&&!m||!h&&m||!oo(e[f],t[f]))return!1}}return String(e)===String(t)}function Uf(e,t){return e.findIndex(s=>oo(s,t))}const Rg=e=>!!(e&&e.__v_isRef===!0),qe=e=>jt(e)?e:e==null?"":Je(e)||Ft(e)&&(e.toString===Ng||!rt(e.toString))?Rg(e)?qe(e.value):JSON.stringify(e,Dg,2):String(e),Dg=(e,t)=>Rg(t)?Dg(e,t.value):Yo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,i],u)=>(s[wd(o,u)+" =>"]=i,s),{})}:ya(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>wd(s))}:Ui(t)?wd(t):Ft(t)&&!Je(t)&&!Mg(t)?String(t):t,wd=(e,t="")=>{var s;return Ui(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gn;class Bg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Gn,!t&&Gn&&(this.index=(Gn.scopes||(Gn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Gn;try{return Gn=this,t()}finally{Gn=s}}}on(){Gn=this}off(){Gn=this.parent}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Fg(e){return new Bg(e)}function Gf(){return Gn}function Ql(e,t=!1){Gn&&Gn.cleanups.push(e)}let $t;const kd=new WeakSet;class zg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Gn&&Gn.active&&Gn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,kd.has(this)&&(kd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ug(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gh(this),Gg(this);const t=$t,s=zi;$t=this,zi=!0;try{return this.fn()}finally{Hg(this),$t=t,zi=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qf(t);this.deps=this.depsTail=void 0,Gh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?kd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wd(this)&&this.run()}get dirty(){return Wd(this)}}let $g=0,du,fu;function Ug(e,t=!1){if(e.flags|=8,t){e.next=fu,fu=e;return}e.next=du,du=e}function Hf(){$g++}function Vf(){if(--$g>0)return;if(fu){let t=fu;for(fu=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;du;){let t=du;for(du=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function Gg(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Hg(e){let t,s=e.depsTail,o=s;for(;o;){const i=o.prevDep;o.version===-1?(o===s&&(s=i),qf(o),G0(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}e.deps=t,e.depsTail=s}function Wd(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Vg(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Vg(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Lu))return;e.globalVersion=Lu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Wd(e)){e.flags&=-3;return}const s=$t,o=zi;$t=e,zi=!0;try{Gg(e);const i=e.fn(e._value);(t.version===0||ei(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{$t=s,zi=o,Hg(e),e.flags&=-3}}function qf(e,t=!1){const{dep:s,prevSub:o,nextSub:i}=e;if(o&&(o.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let u=s.computed.deps;u;u=u.nextDep)qf(u,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function G0(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let zi=!0;const qg=[];function ks(){qg.push(zi),zi=!1}function Ls(){const e=qg.pop();zi=e===void 0?!0:e}function Gh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=$t;$t=void 0;try{t()}finally{$t=s}}}let Lu=0;class H0{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Oc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!$t||!zi||$t===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==$t)s=this.activeLink=new H0($t,this),$t.deps?(s.prevDep=$t.depsTail,$t.depsTail.nextDep=s,$t.depsTail=s):$t.deps=$t.depsTail=s,jg(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=$t.depsTail,s.nextDep=void 0,$t.depsTail.nextDep=s,$t.depsTail=s,$t.deps===s&&($t.deps=o)}return s}trigger(t){this.version++,Lu++,this.notify(t)}notify(t){Hf();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Vf()}}}function jg(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)jg(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ec=new WeakMap,so=Symbol(""),Zd=Symbol(""),Eu=Symbol("");function Pn(e,t,s){if(zi&&$t){let o=ec.get(e);o||ec.set(e,o=new Map);let i=o.get(s);i||(o.set(s,i=new Oc),i.map=o,i.key=s),i.track()}}function Ar(e,t,s,o,i,u){const f=ec.get(e);if(!f){Lu++;return}const h=m=>{m&&m.trigger()};if(Hf(),t==="clear")f.forEach(h);else{const m=Je(e),y=m&&$f(s);if(m&&s==="length"){const v=Number(o);f.forEach((w,x)=>{(x==="length"||x===Eu||!Ui(x)&&x>=v)&&h(w)})}else switch((s!==void 0||f.has(void 0))&&h(f.get(s)),y&&h(f.get(Eu)),t){case"add":m?y&&h(f.get("length")):(h(f.get(so)),Yo(e)&&h(f.get(Zd)));break;case"delete":m||(h(f.get(so)),Yo(e)&&h(f.get(Zd)));break;case"set":Yo(e)&&h(f.get(so));break}}Vf()}function V0(e,t){const s=ec.get(e);return s&&s.get(t)}function Uo(e){const t=ut(e);return t===e?t:(Pn(t,"iterate",Eu),Ci(e)?t:t.map(In))}function Ac(e){return Pn(e=ut(e),"iterate",Eu),e}const q0={__proto__:null,[Symbol.iterator](){return Ld(this,Symbol.iterator,In)},concat(...e){return Uo(this).concat(...e.map(t=>Je(t)?Uo(t):t))},entries(){return Ld(this,"entries",e=>(e[1]=In(e[1]),e))},every(e,t){return Cr(this,"every",e,t,void 0,arguments)},filter(e,t){return Cr(this,"filter",e,t,s=>s.map(In),arguments)},find(e,t){return Cr(this,"find",e,t,In,arguments)},findIndex(e,t){return Cr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Cr(this,"findLast",e,t,In,arguments)},findLastIndex(e,t){return Cr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Cr(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ed(this,"includes",e)},indexOf(...e){return Ed(this,"indexOf",e)},join(e){return Uo(this).join(e)},lastIndexOf(...e){return Ed(this,"lastIndexOf",e)},map(e,t){return Cr(this,"map",e,t,void 0,arguments)},pop(){return Ka(this,"pop")},push(...e){return Ka(this,"push",e)},reduce(e,...t){return Hh(this,"reduce",e,t)},reduceRight(e,...t){return Hh(this,"reduceRight",e,t)},shift(){return Ka(this,"shift")},some(e,t){return Cr(this,"some",e,t,void 0,arguments)},splice(...e){return Ka(this,"splice",e)},toReversed(){return Uo(this).toReversed()},toSorted(e){return Uo(this).toSorted(e)},toSpliced(...e){return Uo(this).toSpliced(...e)},unshift(...e){return Ka(this,"unshift",e)},values(){return Ld(this,"values",In)}};function Ld(e,t,s){const o=Ac(e),i=o[t]();return o!==e&&!Ci(e)&&(i._next=i.next,i.next=()=>{const u=i._next();return u.value&&(u.value=s(u.value)),u}),i}const j0=Array.prototype;function Cr(e,t,s,o,i,u){const f=Ac(e),h=f!==e&&!Ci(e),m=f[t];if(m!==j0[t]){const w=m.apply(e,u);return h?In(w):w}let y=s;f!==e&&(h?y=function(w,x){return s.call(this,In(w),x,e)}:s.length>2&&(y=function(w,x){return s.call(this,w,x,e)}));const v=m.call(f,y,o);return h&&i?i(v):v}function Hh(e,t,s,o){const i=Ac(e);let u=s;return i!==e&&(Ci(e)?s.length>3&&(u=function(f,h,m){return s.call(this,f,h,m,e)}):u=function(f,h,m){return s.call(this,f,In(h),m,e)}),i[t](u,...o)}function Ed(e,t,s){const o=ut(e);Pn(o,"iterate",Eu);const i=o[t](...s);return(i===-1||i===!1)&&jf(s[0])?(s[0]=ut(s[0]),o[t](...s)):i}function Ka(e,t,s=[]){ks(),Hf();const o=ut(e)[t].apply(e,s);return Vf(),Ls(),o}const W0=Bf("__proto__,__v_isRef,__isVue"),Wg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ui));function Z0(e){Ui(e)||(e=String(e));const t=ut(this);return Pn(t,"has",e),t.hasOwnProperty(e)}class Zg{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,u=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return u;if(s==="__v_raw")return o===(i?u?e_:Qg:u?Jg:Kg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const f=Je(t);if(!i){let m;if(f&&(m=q0[s]))return m;if(s==="hasOwnProperty")return Z0}const h=Reflect.get(t,s,Mt(t)?t:o);return(Ui(s)?Wg.has(s):W0(s))||(i||Pn(t,"get",s),u)?h:Mt(h)?f&&$f(s)?h:h.value:Ft(h)?i?jn(h):ni(h):h}}class Yg extends Zg{constructor(t=!1){super(!1,t)}set(t,s,o,i){let u=t[s];if(!this._isShallow){const m=ao(u);if(!Ci(o)&&!ao(o)&&(u=ut(u),o=ut(o)),!Je(t)&&Mt(u)&&!Mt(o))return m?!1:(u.value=o,!0)}const f=Je(t)&&$f(s)?Number(s)<t.length:Pt(t,s),h=Reflect.set(t,s,o,Mt(t)?t:i);return t===ut(i)&&(f?ei(o,u)&&Ar(t,"set",s,o):Ar(t,"add",s,o)),h}deleteProperty(t,s){const o=Pt(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&o&&Ar(t,"delete",s,void 0),i}has(t,s){const o=Reflect.has(t,s);return(!Ui(s)||!Wg.has(s))&&Pn(t,"has",s),o}ownKeys(t){return Pn(t,"iterate",Je(t)?"length":so),Reflect.ownKeys(t)}}class Xg extends Zg{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Y0=new Yg,X0=new Xg,K0=new Yg(!0),J0=new Xg(!0),Yd=e=>e,gl=e=>Reflect.getPrototypeOf(e);function Q0(e,t,s){return function(...o){const i=this.__v_raw,u=ut(i),f=Yo(u),h=e==="entries"||e===Symbol.iterator&&f,m=e==="keys"&&f,y=i[e](...o),v=s?Yd:t?Xd:In;return!t&&Pn(u,"iterate",m?Zd:so),{next(){const{value:w,done:x}=y.next();return x?{value:w,done:x}:{value:h?[v(w[0]),v(w[1])]:v(w),done:x}},[Symbol.iterator](){return this}}}}function _l(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function eb(e,t){const s={get(i){const u=this.__v_raw,f=ut(u),h=ut(i);e||(ei(i,h)&&Pn(f,"get",i),Pn(f,"get",h));const{has:m}=gl(f),y=t?Yd:e?Xd:In;if(m.call(f,i))return y(u.get(i));if(m.call(f,h))return y(u.get(h));u!==f&&u.get(i)},get size(){const i=this.__v_raw;return!e&&Pn(ut(i),"iterate",so),Reflect.get(i,"size",i)},has(i){const u=this.__v_raw,f=ut(u),h=ut(i);return e||(ei(i,h)&&Pn(f,"has",i),Pn(f,"has",h)),i===h?u.has(i):u.has(i)||u.has(h)},forEach(i,u){const f=this,h=f.__v_raw,m=ut(h),y=t?Yd:e?Xd:In;return!e&&Pn(m,"iterate",so),h.forEach((v,w)=>i.call(u,y(v),y(w),f))}};return fn(s,e?{add:_l("add"),set:_l("set"),delete:_l("delete"),clear:_l("clear")}:{add(i){!t&&!Ci(i)&&!ao(i)&&(i=ut(i));const u=ut(this);return gl(u).has.call(u,i)||(u.add(i),Ar(u,"add",i,i)),this},set(i,u){!t&&!Ci(u)&&!ao(u)&&(u=ut(u));const f=ut(this),{has:h,get:m}=gl(f);let y=h.call(f,i);y||(i=ut(i),y=h.call(f,i));const v=m.call(f,i);return f.set(i,u),y?ei(u,v)&&Ar(f,"set",i,u):Ar(f,"add",i,u),this},delete(i){const u=ut(this),{has:f,get:h}=gl(u);let m=f.call(u,i);m||(i=ut(i),m=f.call(u,i)),h&&h.call(u,i);const y=u.delete(i);return m&&Ar(u,"delete",i,void 0),y},clear(){const i=ut(this),u=i.size!==0,f=i.clear();return u&&Ar(i,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Q0(i,e,t)}),s}function Rc(e,t){const s=eb(e,t);return(o,i,u)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(Pt(s,i)&&i in o?s:o,i,u)}const tb={get:Rc(!1,!1)},nb={get:Rc(!1,!0)},ib={get:Rc(!0,!1)},rb={get:Rc(!0,!0)},Kg=new WeakMap,Jg=new WeakMap,Qg=new WeakMap,e_=new WeakMap;function sb(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ob(e){return e.__v_skip||!Object.isExtensible(e)?0:sb(N0(e))}function ni(e){return ao(e)?e:Dc(e,!1,Y0,tb,Kg)}function t_(e){return Dc(e,!1,K0,nb,Jg)}function jn(e){return Dc(e,!0,X0,ib,Qg)}function Go(e){return Dc(e,!0,J0,rb,e_)}function Dc(e,t,s,o,i){if(!Ft(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=i.get(e);if(u)return u;const f=ob(e);if(f===0)return e;const h=new Proxy(e,f===2?o:s);return i.set(e,h),h}function Xo(e){return ao(e)?Xo(e.__v_raw):!!(e&&e.__v_isReactive)}function ao(e){return!!(e&&e.__v_isReadonly)}function Ci(e){return!!(e&&e.__v_isShallow)}function jf(e){return e?!!e.__v_raw:!1}function ut(e){const t=e&&e.__v_raw;return t?ut(t):e}function ps(e){return!Pt(e,"__v_skip")&&Object.isExtensible(e)&&Og(e,"__v_skip",!0),e}const In=e=>Ft(e)?ni(e):e,Xd=e=>Ft(e)?jn(e):e;function Mt(e){return e?e.__v_isRef===!0:!1}function ze(e){return n_(e,!1)}function Mn(e){return n_(e,!0)}function n_(e,t){return Mt(e)?e:new ab(e,t)}class ab{constructor(t,s){this.dep=new Oc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ut(t),this._value=s?t:In(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||Ci(t)||ao(t);t=o?t:ut(t),ei(t,s)&&(this._rawValue=t,this._value=o?t:In(t),this.dep.trigger())}}function W(e){return Mt(e)?e.value:e}function pt(e){return rt(e)?e():W(e)}const ub={get:(e,t,s)=>t==="__v_raw"?e:W(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const i=e[t];return Mt(i)&&!Mt(s)?(i.value=s,!0):Reflect.set(e,t,s,o)}};function i_(e){return Xo(e)?e:new Proxy(e,ub)}class lb{constructor(t){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Oc,{get:o,set:i}=t(s.track.bind(s),s.trigger.bind(s));this._get=o,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function r_(e){return new lb(e)}class cb{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return V0(ut(this._object),this._key)}}class db{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function en(e,t,s){return Mt(e)?e:rt(e)?new db(e):Ft(e)&&arguments.length>1?fb(e,t,s):ze(e)}function fb(e,t,s){const o=e[t];return Mt(o)?o:new cb(e,t,s)}class hb{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Oc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Lu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&$t!==this)return Ug(this,!0),!0}get value(){const t=this.dep.track();return Vg(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pb(e,t,s=!1){let o,i;return rt(e)?o=e:(o=e.get,i=e.set),new hb(o,i,s)}const vl={},tc=new WeakMap;let eo;function mb(e,t=!1,s=eo){if(s){let o=tc.get(s);o||tc.set(s,o=[]),o.push(e)}}function gb(e,t,s=kt){const{immediate:o,deep:i,once:u,scheduler:f,augmentJob:h,call:m}=s,y=_=>i?_:Ci(_)||i===!1||i===0?Rr(_,1):Rr(_);let v,w,x,P,O=!1,B=!1;if(Mt(e)?(w=()=>e.value,O=Ci(e)):Xo(e)?(w=()=>y(e),O=!0):Je(e)?(B=!0,O=e.some(_=>Xo(_)||Ci(_)),w=()=>e.map(_=>{if(Mt(_))return _.value;if(Xo(_))return y(_);if(rt(_))return m?m(_,2):_()})):rt(e)?t?w=m?()=>m(e,2):e:w=()=>{if(x){ks();try{x()}finally{Ls()}}const _=eo;eo=v;try{return m?m(e,3,[P]):e(P)}finally{eo=_}}:w=cr,t&&i){const _=w,T=i===!0?1/0:i;w=()=>Rr(_(),T)}const q=Gf(),A=()=>{v.stop(),q&&q.active&&zf(q.effects,v)};if(u&&t){const _=t;t=(...T)=>{_(...T),A()}}let z=B?new Array(e.length).fill(vl):vl;const H=_=>{if(!(!(v.flags&1)||!v.dirty&&!_))if(t){const T=v.run();if(i||O||(B?T.some((E,C)=>ei(E,z[C])):ei(T,z))){x&&x();const E=eo;eo=v;try{const C=[T,z===vl?void 0:B&&z[0]===vl?[]:z,P];m?m(t,3,C):t(...C),z=T}finally{eo=E}}}else v.run()};return h&&h(H),v=new zg(w),v.scheduler=f?()=>f(H,!1):H,P=_=>mb(_,!1,v),x=v.onStop=()=>{const _=tc.get(v);if(_){if(m)m(_,4);else for(const T of _)T();tc.delete(v)}},t?o?H(!0):z=v.run():f?f(H.bind(null,!0),!0):v.run(),A.pause=v.pause.bind(v),A.resume=v.resume.bind(v),A.stop=A,A}function Rr(e,t=1/0,s){if(t<=0||!Ft(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Mt(e))Rr(e.value,t,s);else if(Je(e))for(let o=0;o<e.length;o++)Rr(e[o],t,s);else if(ya(e)||Yo(e))e.forEach(o=>{Rr(o,t,s)});else if(Mg(e)){for(const o in e)Rr(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Rr(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hu(e,t,s,o){try{return o?e(...o):e()}catch(i){Bc(i,t,s)}}function Hi(e,t,s,o){if(rt(e)){const i=Hu(e,t,s,o);return i&&Ig(i)&&i.catch(u=>{Bc(u,t,s)}),i}if(Je(e)){const i=[];for(let u=0;u<e.length;u++)i.push(Hi(e[u],t,s,o));return i}}function Bc(e,t,s,o=!0){const i=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:f}=t&&t.appContext.config||kt;if(t){let h=t.parent;const m=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${s}`;for(;h;){const v=h.ec;if(v){for(let w=0;w<v.length;w++)if(v[w](e,m,y)===!1)return}h=h.parent}if(u){ks(),Hu(u,null,10,[e,m,y]),Ls();return}}_b(e,s,i,o,f)}function _b(e,t,s,o=!0,i=!1){if(i)throw e;console.error(e)}const Hn=[];let or=-1;const Ko=[];let ls=null,Vo=0;const s_=Promise.resolve();let nc=null;function qn(e){const t=nc||s_;return e?t.then(this?e.bind(this):e):t}function vb(e){let t=or+1,s=Hn.length;for(;t<s;){const o=t+s>>>1,i=Hn[o],u=Tu(i);u<e||u===e&&i.flags&2?t=o+1:s=o}return t}function Wf(e){if(!(e.flags&1)){const t=Tu(e),s=Hn[Hn.length-1];!s||!(e.flags&2)&&t>=Tu(s)?Hn.push(e):Hn.splice(vb(t),0,e),e.flags|=1,o_()}}function o_(){nc||(nc=s_.then(u_))}function yb(e){Je(e)?Ko.push(...e):ls&&e.id===-1?ls.splice(Vo+1,0,e):e.flags&1||(Ko.push(e),e.flags|=1),o_()}function Vh(e,t,s=or+1){for(;s<Hn.length;s++){const o=Hn[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Hn.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function a_(e){if(Ko.length){const t=[...new Set(Ko)].sort((s,o)=>Tu(s)-Tu(o));if(Ko.length=0,ls){ls.push(...t);return}for(ls=t,Vo=0;Vo<ls.length;Vo++){const s=ls[Vo];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ls=null,Vo=0}}const Tu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function u_(e){try{for(or=0;or<Hn.length;or++){const t=Hn[or];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Hu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;or<Hn.length;or++){const t=Hn[or];t&&(t.flags&=-2)}or=-1,Hn.length=0,a_(),nc=null,(Hn.length||Ko.length)&&u_()}}let yn=null,l_=null;function ic(e){const t=yn;return yn=e,l_=e&&e.type.__scopeId||null,t}function et(e,t=yn,s){if(!t||e._n)return e;const o=(...i)=>{o._d&&ip(-1);const u=ic(t);let f;try{f=e(...i)}finally{ic(u),o._d&&ip(1)}return f};return o._n=!0,o._c=!0,o._d=!0,o}function rn(e,t){if(yn===null)return e;const s=Hc(yn),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[u,f,h,m=kt]=t[i];u&&(rt(u)&&(u={mounted:u,updated:u}),u.deep&&Rr(f),o.push({dir:u,instance:s,value:f,oldValue:void 0,arg:h,modifiers:m}))}return e}function Ws(e,t,s,o){const i=e.dirs,u=t&&t.dirs;for(let f=0;f<i.length;f++){const h=i[f];u&&(h.oldValue=u[f].value);let m=h.dir[o];m&&(ks(),Hi(m,s,8,[e.el,h,e,t]),Ls())}}const c_=Symbol("_vte"),d_=e=>e.__isTeleport,hu=e=>e&&(e.disabled||e.disabled===""),qh=e=>e&&(e.defer||e.defer===""),jh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Wh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Kd=(e,t)=>{const s=e&&e.to;return jt(s)?t?t(s):null:s},f_={name:"Teleport",__isTeleport:!0,process(e,t,s,o,i,u,f,h,m,y){const{mc:v,pc:w,pbc:x,o:{insert:P,querySelector:O,createText:B,createComment:q}}=y,A=hu(t.props);let{shapeFlag:z,children:H,dynamicChildren:_}=t;if(e==null){const T=t.el=B(""),E=t.anchor=B("");P(T,s,o),P(E,s,o);const C=(D,R)=>{z&16&&(i&&i.isCE&&(i.ce._teleportTarget=D),v(H,D,R,i,u,f,h,m))},F=()=>{const D=t.target=Kd(t.props,O),R=h_(D,t,B,P);D&&(f!=="svg"&&jh(D)?f="svg":f!=="mathml"&&Wh(D)&&(f="mathml"),A||(C(D,R),Dl(t,!1)))};A&&(C(s,E),Dl(t,!0)),qh(t.props)?Un(()=>{F(),t.el.__isMounted=!0},u):F()}else{if(qh(t.props)&&!e.el.__isMounted){Un(()=>{f_.process(e,t,s,o,i,u,f,h,m,y),delete e.el.__isMounted},u);return}t.el=e.el,t.targetStart=e.targetStart;const T=t.anchor=e.anchor,E=t.target=e.target,C=t.targetAnchor=e.targetAnchor,F=hu(e.props),D=F?s:E,R=F?T:C;if(f==="svg"||jh(E)?f="svg":(f==="mathml"||Wh(E))&&(f="mathml"),_?(x(e.dynamicChildren,_,D,i,u,f,h),Xf(e,t,!0)):m||w(e,t,D,R,i,u,f,h,!1),A)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):yl(t,s,T,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const X=t.target=Kd(t.props,O);X&&yl(t,X,null,y,0)}else F&&yl(t,E,C,y,1);Dl(t,A)}},remove(e,t,s,{um:o,o:{remove:i}},u){const{shapeFlag:f,children:h,anchor:m,targetStart:y,targetAnchor:v,target:w,props:x}=e;if(w&&(i(y),i(v)),u&&i(m),f&16){const P=u||!hu(x);for(let O=0;O<h.length;O++){const B=h[O];o(B,t,s,P,!!B.dynamicChildren)}}},move:yl,hydrate:bb};function yl(e,t,s,{o:{insert:o},m:i},u=2){u===0&&o(e.targetAnchor,t,s);const{el:f,anchor:h,shapeFlag:m,children:y,props:v}=e,w=u===2;if(w&&o(f,t,s),(!w||hu(v))&&m&16)for(let x=0;x<y.length;x++)i(y[x],t,s,2);w&&o(h,t,s)}function bb(e,t,s,o,i,u,{o:{nextSibling:f,parentNode:h,querySelector:m,insert:y,createText:v}},w){const x=t.target=Kd(t.props,m);if(x){const P=hu(t.props),O=x._lpa||x.firstChild;if(t.shapeFlag&16)if(P)t.anchor=w(f(e),t,h(e),s,o,i,u),t.targetStart=O,t.targetAnchor=O&&f(O);else{t.anchor=f(e);let B=O;for(;B;){if(B&&B.nodeType===8){if(B.data==="teleport start anchor")t.targetStart=B;else if(B.data==="teleport anchor"){t.targetAnchor=B,x._lpa=t.targetAnchor&&f(t.targetAnchor);break}}B=f(B)}t.targetAnchor||h_(x,t,v,y),w(O&&f(O),t,x,s,o,i,u)}Dl(t,P)}return t.anchor&&f(t.anchor)}const wb=f_;function Dl(e,t){const s=e.ctx;if(s&&s.ut){let o,i;for(t?(o=e.el,i=e.anchor):(o=e.targetStart,i=e.targetAnchor);o&&o!==i;)o.nodeType===1&&o.setAttribute("data-v-owner",s.uid),o=o.nextSibling;s.ut()}}function h_(e,t,s,o){const i=t.targetStart=s(""),u=t.targetAnchor=s("");return i[c_]=u,e&&(o(i,e),o(u,e)),u}const cs=Symbol("_leaveCb"),bl=Symbol("_enterCb");function kb(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mi(()=>{e.isMounted=!0}),$c(()=>{e.isUnmounting=!0}),e}const Ei=[Function,Array],p_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ei,onEnter:Ei,onAfterEnter:Ei,onEnterCancelled:Ei,onBeforeLeave:Ei,onLeave:Ei,onAfterLeave:Ei,onLeaveCancelled:Ei,onBeforeAppear:Ei,onAppear:Ei,onAfterAppear:Ei,onAppearCancelled:Ei},m_=e=>{const t=e.subTree;return t.component?m_(t.component):t},Lb={name:"BaseTransition",props:p_,setup(e,{slots:t}){const s=ri(),o=kb();return()=>{const i=t.default&&v_(t.default(),!0);if(!i||!i.length)return;const u=g_(i),f=ut(e),{mode:h}=f;if(o.isLeaving)return Td(u);const m=Zh(u);if(!m)return Td(u);let y=Jd(m,f,o,s,w=>y=w);m.type!==Vn&&xu(m,y);let v=s.subTree&&Zh(s.subTree);if(v&&v.type!==Vn&&!to(m,v)&&m_(s).type!==Vn){let w=Jd(v,f,o,s);if(xu(v,w),h==="out-in"&&m.type!==Vn)return o.isLeaving=!0,w.afterLeave=()=>{o.isLeaving=!1,s.job.flags&8||s.update(),delete w.afterLeave,v=void 0},Td(u);h==="in-out"&&m.type!==Vn?w.delayLeave=(x,P,O)=>{const B=__(o,v);B[String(v.key)]=v,x[cs]=()=>{P(),x[cs]=void 0,delete y.delayedLeave,v=void 0},y.delayedLeave=()=>{O(),delete y.delayedLeave,v=void 0}}:v=void 0}else v&&(v=void 0);return u}}};function g_(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==Vn){t=s;break}}return t}const Eb=Lb;function __(e,t){const{leavingVNodes:s}=e;let o=s.get(t.type);return o||(o=Object.create(null),s.set(t.type,o)),o}function Jd(e,t,s,o,i){const{appear:u,mode:f,persisted:h=!1,onBeforeEnter:m,onEnter:y,onAfterEnter:v,onEnterCancelled:w,onBeforeLeave:x,onLeave:P,onAfterLeave:O,onLeaveCancelled:B,onBeforeAppear:q,onAppear:A,onAfterAppear:z,onAppearCancelled:H}=t,_=String(e.key),T=__(s,e),E=(D,R)=>{D&&Hi(D,o,9,R)},C=(D,R)=>{const X=R[1];E(D,R),Je(D)?D.every(ee=>ee.length<=1)&&X():D.length<=1&&X()},F={mode:f,persisted:h,beforeEnter(D){let R=m;if(!s.isMounted)if(u)R=q||m;else return;D[cs]&&D[cs](!0);const X=T[_];X&&to(e,X)&&X.el[cs]&&X.el[cs](),E(R,[D])},enter(D){let R=y,X=v,ee=w;if(!s.isMounted)if(u)R=A||y,X=z||v,ee=H||w;else return;let K=!1;const j=D[bl]=ie=>{K||(K=!0,ie?E(ee,[D]):E(X,[D]),F.delayedLeave&&F.delayedLeave(),D[bl]=void 0)};R?C(R,[D,j]):j()},leave(D,R){const X=String(e.key);if(D[bl]&&D[bl](!0),s.isUnmounting)return R();E(x,[D]);let ee=!1;const K=D[cs]=j=>{ee||(ee=!0,R(),j?E(B,[D]):E(O,[D]),D[cs]=void 0,T[X]===e&&delete T[X])};T[X]=e,P?C(P,[D,K]):K()},clone(D){const R=Jd(D,t,s,o,i);return i&&i(R),R}};return F}function Td(e){if(Fc(e))return e=Hr(e),e.children=null,e}function Zh(e){if(!Fc(e))return d_(e.type)&&e.children?g_(e.children):e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&rt(s.default))return s.default()}}function xu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function v_(e,t=!1,s){let o=[],i=0;for(let u=0;u<e.length;u++){let f=e[u];const h=s==null?f.key:String(s)+String(f.key!=null?f.key:u);f.type===ft?(f.patchFlag&128&&i++,o=o.concat(v_(f.children,t,h))):(t||f.type!==Vn)&&o.push(h!=null?Hr(f,{key:h}):f)}if(i>1)for(let u=0;u<o.length;u++)o[u].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function Et(e,t){return rt(e)?fn({name:e.name},t,{setup:e}):e}function y_(){const e=ri();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function b_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function an(e){const t=ri(),s=Mn(null);if(t){const i=t.refs===kt?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>s.value,set:u=>s.value=u})}return s}function rc(e,t,s,o,i=!1){if(Je(e)){e.forEach((O,B)=>rc(O,t&&(Je(t)?t[B]:t),s,o,i));return}if(Jo(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&rc(e,t,s,o.component.subTree);return}const u=o.shapeFlag&4?Hc(o.component):o.el,f=i?null:u,{i:h,r:m}=e,y=t&&t.r,v=h.refs===kt?h.refs={}:h.refs,w=h.setupState,x=ut(w),P=w===kt?()=>!1:O=>Pt(x,O);if(y!=null&&y!==m&&(jt(y)?(v[y]=null,P(y)&&(w[y]=null)):Mt(y)&&(y.value=null)),rt(m))Hu(m,h,12,[f,v]);else{const O=jt(m),B=Mt(m);if(O||B){const q=()=>{if(e.f){const A=O?P(m)?w[m]:v[m]:m.value;i?Je(A)&&zf(A,u):Je(A)?A.includes(u)||A.push(u):O?(v[m]=[u],P(m)&&(w[m]=v[m])):(m.value=[u],e.k&&(v[e.k]=m.value))}else O?(v[m]=f,P(m)&&(w[m]=f)):B&&(m.value=f,e.k&&(v[e.k]=f))};f?(q.id=-1,Un(q,s)):q()}}}Mc().requestIdleCallback;Mc().cancelIdleCallback;const Jo=e=>!!e.type.__asyncLoader,Fc=e=>e.type.__isKeepAlive;function w_(e,t){k_(e,"a",t)}function Tb(e,t){k_(e,"da",t)}function k_(e,t,s=xn){const o=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(zc(t,o,s),s){let i=s.parent;for(;i&&i.parent;)Fc(i.parent.vnode)&&xb(o,t,s,i),i=i.parent}}function xb(e,t,s,o){const i=zc(t,e,o,!0);ba(()=>{zf(o[t],i)},s)}function zc(e,t,s=xn,o=!1){if(s){const i=s[e]||(s[e]=[]),u=t.__weh||(t.__weh=(...f)=>{ks();const h=qu(s),m=Hi(t,s,e,f);return h(),Ls(),m});return o?i.unshift(u):i.push(u),u}}const Vr=e=>(t,s=xn)=>{(!Cu||e==="sp")&&zc(e,(...o)=>t(...o),s)},Sb=Vr("bm"),Mi=Vr("m"),Cb=Vr("bu"),Pb=Vr("u"),$c=Vr("bum"),ba=Vr("um"),Ib=Vr("sp"),Nb=Vr("rtg"),Mb=Vr("rtc");function Ob(e,t=xn){zc("ec",e,t)}const L_="components";function E_(e,t){return x_(L_,e,!0,t)||e}const T_=Symbol.for("v-ndc");function Es(e){return jt(e)?x_(L_,e,!1)||e:e||T_}function x_(e,t,s=!0,o=!1){const i=yn||xn;if(i){const u=i.type;{const h=_w(u,!1);if(h&&(h===t||h===hi(t)||h===Nc(hi(t))))return u}const f=Yh(i[e]||u[e],t)||Yh(i.appContext[e],t);return!f&&o?u:f}}function Yh(e,t){return e&&(e[t]||e[hi(t)]||e[Nc(hi(t))])}function dr(e,t,s,o){let i;const u=s,f=Je(e);if(f||jt(e)){const h=f&&Xo(e);let m=!1;h&&(m=!Ci(e),e=Ac(e)),i=new Array(e.length);for(let y=0,v=e.length;y<v;y++)i[y]=t(m?In(e[y]):e[y],y,void 0,u)}else if(typeof e=="number"){i=new Array(e);for(let h=0;h<e;h++)i[h]=t(h+1,h,void 0,u)}else if(Ft(e))if(e[Symbol.iterator])i=Array.from(e,(h,m)=>t(h,m,void 0,u));else{const h=Object.keys(e);i=new Array(h.length);for(let m=0,y=h.length;m<y;m++){const v=h[m];i[m]=t(e[v],v,m,u)}}else i=[];return i}function Ab(e,t){for(let s=0;s<t.length;s++){const o=t[s];if(Je(o))for(let i=0;i<o.length;i++)e[o[i].name]=o[i].fn;else o&&(e[o.name]=o.key?(...i)=>{const u=o.fn(...i);return u&&(u.key=o.key),u}:o.fn)}return e}function ct(e,t,s={},o,i){if(yn.ce||yn.parent&&Jo(yn.parent)&&yn.parent.ce)return t!=="default"&&(s.name=t),Ee(),dt(ft,null,[Ue("slot",s,o&&o())],64);let u=e[t];u&&u._c&&(u._d=!1),Ee();const f=u&&S_(u(s)),h=s.key||f&&f.key,m=dt(ft,{key:(h&&!Ui(h)?h:`_${t}`)+(!f&&o?"_fb":"")},f||(o?o():[]),f&&e._===1?64:-2);return!i&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),u&&u._c&&(u._d=!0),m}function S_(e){return e.some(t=>uo(t)?!(t.type===Vn||t.type===ft&&!S_(t.children)):!0)?e:null}const Qd=e=>e?Z_(e)?Hc(e):Qd(e.parent):null,pu=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qd(e.parent),$root:e=>Qd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>I_(e),$forceUpdate:e=>e.f||(e.f=()=>{Wf(e.update)}),$nextTick:e=>e.n||(e.n=qn.bind(e.proxy)),$watch:e=>nw.bind(e)}),xd=(e,t)=>e!==kt&&!e.__isScriptSetup&&Pt(e,t),Rb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:i,props:u,accessCache:f,type:h,appContext:m}=e;let y;if(t[0]!=="$"){const P=f[t];if(P!==void 0)switch(P){case 1:return o[t];case 2:return i[t];case 4:return s[t];case 3:return u[t]}else{if(xd(o,t))return f[t]=1,o[t];if(i!==kt&&Pt(i,t))return f[t]=2,i[t];if((y=e.propsOptions[0])&&Pt(y,t))return f[t]=3,u[t];if(s!==kt&&Pt(s,t))return f[t]=4,s[t];ef&&(f[t]=0)}}const v=pu[t];let w,x;if(v)return t==="$attrs"&&Pn(e.attrs,"get",""),v(e);if((w=h.__cssModules)&&(w=w[t]))return w;if(s!==kt&&Pt(s,t))return f[t]=4,s[t];if(x=m.config.globalProperties,Pt(x,t))return x[t]},set({_:e},t,s){const{data:o,setupState:i,ctx:u}=e;return xd(i,t)?(i[t]=s,!0):o!==kt&&Pt(o,t)?(o[t]=s,!0):Pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:i,propsOptions:u}},f){let h;return!!s[f]||e!==kt&&Pt(e,f)||xd(t,f)||(h=u[0])&&Pt(h,f)||Pt(o,f)||Pt(pu,f)||Pt(i.config.globalProperties,f)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Pt(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Vu(){return C_().slots}function Zf(){return C_().attrs}function C_(){const e=ri();return e.setupContext||(e.setupContext=X_(e))}function sc(e){return Je(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}function ii(e,t){return!e||!t?e||t:Je(e)&&Je(t)?e.concat(t):fn({},sc(e),sc(t))}let ef=!0;function Db(e){const t=I_(e),s=e.proxy,o=e.ctx;ef=!1,t.beforeCreate&&Xh(t.beforeCreate,e,"bc");const{data:i,computed:u,methods:f,watch:h,provide:m,inject:y,created:v,beforeMount:w,mounted:x,beforeUpdate:P,updated:O,activated:B,deactivated:q,beforeDestroy:A,beforeUnmount:z,destroyed:H,unmounted:_,render:T,renderTracked:E,renderTriggered:C,errorCaptured:F,serverPrefetch:D,expose:R,inheritAttrs:X,components:ee,directives:K,filters:j}=t;if(y&&Bb(y,o,null),f)for(const re in f){const oe=f[re];rt(oe)&&(o[re]=oe.bind(s))}if(i){const re=i.call(s,s);Ft(re)&&(e.data=ni(re))}if(ef=!0,u)for(const re in u){const oe=u[re],_e=rt(oe)?oe.bind(s,s):rt(oe.get)?oe.get.bind(s,s):cr,le=!rt(oe)&&rt(oe.set)?oe.set.bind(s):cr,we=de({get:_e,set:le});Object.defineProperty(o,re,{enumerable:!0,configurable:!0,get:()=>we.value,set:Re=>we.value=Re})}if(h)for(const re in h)P_(h[re],o,s,re);if(m){const re=rt(m)?m.call(s):m;Reflect.ownKeys(re).forEach(oe=>{ms(oe,re[oe])})}v&&Xh(v,e,"c");function V(re,oe){Je(oe)?oe.forEach(_e=>re(_e.bind(s))):oe&&re(oe.bind(s))}if(V(Sb,w),V(Mi,x),V(Cb,P),V(Pb,O),V(w_,B),V(Tb,q),V(Ob,F),V(Mb,E),V(Nb,C),V($c,z),V(ba,_),V(Ib,D),Je(R))if(R.length){const re=e.exposed||(e.exposed={});R.forEach(oe=>{Object.defineProperty(re,oe,{get:()=>s[oe],set:_e=>s[oe]=_e})})}else e.exposed||(e.exposed={});T&&e.render===cr&&(e.render=T),X!=null&&(e.inheritAttrs=X),ee&&(e.components=ee),K&&(e.directives=K),D&&b_(e)}function Bb(e,t,s=cr){Je(e)&&(e=tf(e));for(const o in e){const i=e[o];let u;Ft(i)?"default"in i?u=tn(i.from||o,i.default,!0):u=tn(i.from||o):u=tn(i),Mt(u)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:f=>u.value=f}):t[o]=u}}function Xh(e,t,s){Hi(Je(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function P_(e,t,s,o){let i=o.includes(".")?G_(s,o):()=>s[o];if(jt(e)){const u=t[e];rt(u)&&tt(i,u)}else if(rt(e))tt(i,e.bind(s));else if(Ft(e))if(Je(e))e.forEach(u=>P_(u,t,s,o));else{const u=rt(e.handler)?e.handler.bind(s):t[e.handler];rt(u)&&tt(i,u,e)}}function I_(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:i,optionsCache:u,config:{optionMergeStrategies:f}}=e.appContext,h=u.get(t);let m;return h?m=h:!i.length&&!s&&!o?m=t:(m={},i.length&&i.forEach(y=>oc(m,y,f,!0)),oc(m,t,f)),Ft(t)&&u.set(t,m),m}function oc(e,t,s,o=!1){const{mixins:i,extends:u}=t;u&&oc(e,u,s,!0),i&&i.forEach(f=>oc(e,f,s,!0));for(const f in t)if(!(o&&f==="expose")){const h=Fb[f]||s&&s[f];e[f]=h?h(e[f],t[f]):t[f]}return e}const Fb={data:Kh,props:Jh,emits:Jh,methods:su,computed:su,beforeCreate:zn,created:zn,beforeMount:zn,mounted:zn,beforeUpdate:zn,updated:zn,beforeDestroy:zn,beforeUnmount:zn,destroyed:zn,unmounted:zn,activated:zn,deactivated:zn,errorCaptured:zn,serverPrefetch:zn,components:su,directives:su,watch:$b,provide:Kh,inject:zb};function Kh(e,t){return t?e?function(){return fn(rt(e)?e.call(this,this):e,rt(t)?t.call(this,this):t)}:t:e}function zb(e,t){return su(tf(e),tf(t))}function tf(e){if(Je(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function zn(e,t){return e?[...new Set([].concat(e,t))]:t}function su(e,t){return e?fn(Object.create(null),e,t):t}function Jh(e,t){return e?Je(e)&&Je(t)?[...new Set([...e,...t])]:fn(Object.create(null),sc(e),sc(t??{})):t}function $b(e,t){if(!e)return t;if(!t)return e;const s=fn(Object.create(null),e);for(const o in t)s[o]=zn(e[o],t[o]);return s}function N_(){return{app:null,config:{isNativeTag:P0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ub=0;function Gb(e,t){return function(o,i=null){rt(o)||(o=fn({},o)),i!=null&&!Ft(i)&&(i=null);const u=N_(),f=new WeakSet,h=[];let m=!1;const y=u.app={_uid:Ub++,_component:o,_props:i,_container:null,_context:u,_instance:null,version:yw,get config(){return u.config},set config(v){},use(v,...w){return f.has(v)||(v&&rt(v.install)?(f.add(v),v.install(y,...w)):rt(v)&&(f.add(v),v(y,...w))),y},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),y},component(v,w){return w?(u.components[v]=w,y):u.components[v]},directive(v,w){return w?(u.directives[v]=w,y):u.directives[v]},mount(v,w,x){if(!m){const P=y._ceVNode||Ue(o,i);return P.appContext=u,x===!0?x="svg":x===!1&&(x=void 0),e(P,v,x),m=!0,y._container=v,v.__vue_app__=y,Hc(P.component)}},onUnmount(v){h.push(v)},unmount(){m&&(Hi(h,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(v,w){return u.provides[v]=w,y},runWithContext(v){const w=Qo;Qo=y;try{return v()}finally{Qo=w}}};return y}}let Qo=null;function ms(e,t){if(xn){let s=xn.provides;const o=xn.parent&&xn.parent.provides;o===s&&(s=xn.provides=Object.create(o)),s[e]=t}}function tn(e,t,s=!1){const o=xn||yn;if(o||Qo){const i=Qo?Qo._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&rt(t)?t.call(o&&o.proxy):t}}const M_={},O_=()=>Object.create(M_),A_=e=>Object.getPrototypeOf(e)===M_;function Hb(e,t,s,o=!1){const i={},u=O_();e.propsDefaults=Object.create(null),R_(e,t,i,u);for(const f in e.propsOptions[0])f in i||(i[f]=void 0);s?e.props=o?i:t_(i):e.type.props?e.props=i:e.props=u,e.attrs=u}function Vb(e,t,s,o){const{props:i,attrs:u,vnode:{patchFlag:f}}=e,h=ut(i),[m]=e.propsOptions;let y=!1;if((o||f>0)&&!(f&16)){if(f&8){const v=e.vnode.dynamicProps;for(let w=0;w<v.length;w++){let x=v[w];if(Gc(e.emitsOptions,x))continue;const P=t[x];if(m)if(Pt(u,x))P!==u[x]&&(u[x]=P,y=!0);else{const O=hi(x);i[O]=nf(m,h,O,P,e,!1)}else P!==u[x]&&(u[x]=P,y=!0)}}}else{R_(e,t,i,u)&&(y=!0);let v;for(const w in h)(!t||!Pt(t,w)&&((v=ws(w))===w||!Pt(t,v)))&&(m?s&&(s[w]!==void 0||s[v]!==void 0)&&(i[w]=nf(m,h,w,void 0,e,!0)):delete i[w]);if(u!==h)for(const w in u)(!t||!Pt(t,w))&&(delete u[w],y=!0)}y&&Ar(e.attrs,"set","")}function R_(e,t,s,o){const[i,u]=e.propsOptions;let f=!1,h;if(t)for(let m in t){if(cu(m))continue;const y=t[m];let v;i&&Pt(i,v=hi(m))?!u||!u.includes(v)?s[v]=y:(h||(h={}))[v]=y:Gc(e.emitsOptions,m)||(!(m in o)||y!==o[m])&&(o[m]=y,f=!0)}if(u){const m=ut(s),y=h||kt;for(let v=0;v<u.length;v++){const w=u[v];s[w]=nf(i,m,w,y[w],e,!Pt(y,w))}}return f}function nf(e,t,s,o,i,u){const f=e[s];if(f!=null){const h=Pt(f,"default");if(h&&o===void 0){const m=f.default;if(f.type!==Function&&!f.skipFactory&&rt(m)){const{propsDefaults:y}=i;if(s in y)o=y[s];else{const v=qu(i);o=y[s]=m.call(null,t),v()}}else o=m;i.ce&&i.ce._setProp(s,o)}f[0]&&(u&&!h?o=!1:f[1]&&(o===""||o===ws(s))&&(o=!0))}return o}const qb=new WeakMap;function D_(e,t,s=!1){const o=s?qb:t.propsCache,i=o.get(e);if(i)return i;const u=e.props,f={},h=[];let m=!1;if(!rt(e)){const v=w=>{m=!0;const[x,P]=D_(w,t,!0);fn(f,x),P&&h.push(...P)};!s&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!u&&!m)return Ft(e)&&o.set(e,Zo),Zo;if(Je(u))for(let v=0;v<u.length;v++){const w=hi(u[v]);Qh(w)&&(f[w]=kt)}else if(u)for(const v in u){const w=hi(v);if(Qh(w)){const x=u[v],P=f[w]=Je(x)||rt(x)?{type:x}:fn({},x),O=P.type;let B=!1,q=!0;if(Je(O))for(let A=0;A<O.length;++A){const z=O[A],H=rt(z)&&z.name;if(H==="Boolean"){B=!0;break}else H==="String"&&(q=!1)}else B=rt(O)&&O.name==="Boolean";P[0]=B,P[1]=q,(B||Pt(P,"default"))&&h.push(w)}}const y=[f,h];return Ft(e)&&o.set(e,y),y}function Qh(e){return e[0]!=="$"&&!cu(e)}const B_=e=>e[0]==="_"||e==="$stable",Yf=e=>Je(e)?e.map(ur):[ur(e)],jb=(e,t,s)=>{if(t._n)return t;const o=et((...i)=>Yf(t(...i)),s);return o._c=!1,o},F_=(e,t,s)=>{const o=e._ctx;for(const i in e){if(B_(i))continue;const u=e[i];if(rt(u))t[i]=jb(i,u,o);else if(u!=null){const f=Yf(u);t[i]=()=>f}}},z_=(e,t)=>{const s=Yf(t);e.slots.default=()=>s},$_=(e,t,s)=>{for(const o in t)(s||o!=="_")&&(e[o]=t[o])},Wb=(e,t,s)=>{const o=e.slots=O_();if(e.vnode.shapeFlag&32){const i=t._;i?($_(o,t,s),s&&Og(o,"_",i,!0)):F_(t,o)}else t&&z_(e,t)},Zb=(e,t,s)=>{const{vnode:o,slots:i}=e;let u=!0,f=kt;if(o.shapeFlag&32){const h=t._;h?s&&h===1?u=!1:$_(i,t,s):(u=!t.$stable,F_(t,i)),f=t}else t&&(z_(e,t),f={default:1});if(u)for(const h in i)!B_(h)&&f[h]==null&&delete i[h]},Un=uw;function Yb(e){return Xb(e)}function Xb(e,t){const s=Mc();s.__VUE__=!0;const{insert:o,remove:i,patchProp:u,createElement:f,createText:h,createComment:m,setText:y,setElementText:v,parentNode:w,nextSibling:x,setScopeId:P=cr,insertStaticContent:O}=e,B=(N,Q,se,ge=null,ke=null,be=null,Z=void 0,$=null,ae=!!Q.dynamicChildren)=>{if(N===Q)return;N&&!to(N,Q)&&(ge=ce(N),Re(N,ke,be,!0),N=null),Q.patchFlag===-2&&(ae=!1,Q.dynamicChildren=null);const{type:me,ref:Fe,shapeFlag:Se}=Q;switch(me){case wa:q(N,Q,se,ge);break;case Vn:A(N,Q,se,ge);break;case Cd:N==null&&z(Q,se,ge,Z);break;case ft:ee(N,Q,se,ge,ke,be,Z,$,ae);break;default:Se&1?T(N,Q,se,ge,ke,be,Z,$,ae):Se&6?K(N,Q,se,ge,ke,be,Z,$,ae):(Se&64||Se&128)&&me.process(N,Q,se,ge,ke,be,Z,$,ae,Ne)}Fe!=null&&ke&&rc(Fe,N&&N.ref,be,Q||N,!Q)},q=(N,Q,se,ge)=>{if(N==null)o(Q.el=h(Q.children),se,ge);else{const ke=Q.el=N.el;Q.children!==N.children&&y(ke,Q.children)}},A=(N,Q,se,ge)=>{N==null?o(Q.el=m(Q.children||""),se,ge):Q.el=N.el},z=(N,Q,se,ge)=>{[N.el,N.anchor]=O(N.children,Q,se,ge,N.el,N.anchor)},H=({el:N,anchor:Q},se,ge)=>{let ke;for(;N&&N!==Q;)ke=x(N),o(N,se,ge),N=ke;o(Q,se,ge)},_=({el:N,anchor:Q})=>{let se;for(;N&&N!==Q;)se=x(N),i(N),N=se;i(Q)},T=(N,Q,se,ge,ke,be,Z,$,ae)=>{Q.type==="svg"?Z="svg":Q.type==="math"&&(Z="mathml"),N==null?E(Q,se,ge,ke,be,Z,$,ae):D(N,Q,ke,be,Z,$,ae)},E=(N,Q,se,ge,ke,be,Z,$)=>{let ae,me;const{props:Fe,shapeFlag:Se,transition:ne,dirs:ye}=N;if(ae=N.el=f(N.type,be,Fe&&Fe.is,Fe),Se&8?v(ae,N.children):Se&16&&F(N.children,ae,null,ge,ke,Sd(N,be),Z,$),ye&&Ws(N,null,ge,"created"),C(ae,N,N.scopeId,Z,ge),Fe){for(const Qe in Fe)Qe!=="value"&&!cu(Qe)&&u(ae,Qe,null,Fe[Qe],be,ge);"value"in Fe&&u(ae,"value",null,Fe.value,be),(me=Fe.onVnodeBeforeMount)&&rr(me,ge,N)}ye&&Ws(N,null,ge,"beforeMount");const Ge=Kb(ke,ne);Ge&&ne.beforeEnter(ae),o(ae,Q,se),((me=Fe&&Fe.onVnodeMounted)||Ge||ye)&&Un(()=>{me&&rr(me,ge,N),Ge&&ne.enter(ae),ye&&Ws(N,null,ge,"mounted")},ke)},C=(N,Q,se,ge,ke)=>{if(se&&P(N,se),ge)for(let be=0;be<ge.length;be++)P(N,ge[be]);if(ke){let be=ke.subTree;if(Q===be||q_(be.type)&&(be.ssContent===Q||be.ssFallback===Q)){const Z=ke.vnode;C(N,Z,Z.scopeId,Z.slotScopeIds,ke.parent)}}},F=(N,Q,se,ge,ke,be,Z,$,ae=0)=>{for(let me=ae;me<N.length;me++){const Fe=N[me]=$?ds(N[me]):ur(N[me]);B(null,Fe,Q,se,ge,ke,be,Z,$)}},D=(N,Q,se,ge,ke,be,Z)=>{const $=Q.el=N.el;let{patchFlag:ae,dynamicChildren:me,dirs:Fe}=Q;ae|=N.patchFlag&16;const Se=N.props||kt,ne=Q.props||kt;let ye;if(se&&Zs(se,!1),(ye=ne.onVnodeBeforeUpdate)&&rr(ye,se,Q,N),Fe&&Ws(Q,N,se,"beforeUpdate"),se&&Zs(se,!0),(Se.innerHTML&&ne.innerHTML==null||Se.textContent&&ne.textContent==null)&&v($,""),me?R(N.dynamicChildren,me,$,se,ge,Sd(Q,ke),be):Z||oe(N,Q,$,null,se,ge,Sd(Q,ke),be,!1),ae>0){if(ae&16)X($,Se,ne,se,ke);else if(ae&2&&Se.class!==ne.class&&u($,"class",null,ne.class,ke),ae&4&&u($,"style",Se.style,ne.style,ke),ae&8){const Ge=Q.dynamicProps;for(let Qe=0;Qe<Ge.length;Qe++){const Ae=Ge[Qe],Vt=Se[Ae],Ye=ne[Ae];(Ye!==Vt||Ae==="value")&&u($,Ae,Vt,Ye,ke,se)}}ae&1&&N.children!==Q.children&&v($,Q.children)}else!Z&&me==null&&X($,Se,ne,se,ke);((ye=ne.onVnodeUpdated)||Fe)&&Un(()=>{ye&&rr(ye,se,Q,N),Fe&&Ws(Q,N,se,"updated")},ge)},R=(N,Q,se,ge,ke,be,Z)=>{for(let $=0;$<Q.length;$++){const ae=N[$],me=Q[$],Fe=ae.el&&(ae.type===ft||!to(ae,me)||ae.shapeFlag&70)?w(ae.el):se;B(ae,me,Fe,null,ge,ke,be,Z,!0)}},X=(N,Q,se,ge,ke)=>{if(Q!==se){if(Q!==kt)for(const be in Q)!cu(be)&&!(be in se)&&u(N,be,Q[be],null,ke,ge);for(const be in se){if(cu(be))continue;const Z=se[be],$=Q[be];Z!==$&&be!=="value"&&u(N,be,$,Z,ke,ge)}"value"in se&&u(N,"value",Q.value,se.value,ke)}},ee=(N,Q,se,ge,ke,be,Z,$,ae)=>{const me=Q.el=N?N.el:h(""),Fe=Q.anchor=N?N.anchor:h("");let{patchFlag:Se,dynamicChildren:ne,slotScopeIds:ye}=Q;ye&&($=$?$.concat(ye):ye),N==null?(o(me,se,ge),o(Fe,se,ge),F(Q.children||[],se,Fe,ke,be,Z,$,ae)):Se>0&&Se&64&&ne&&N.dynamicChildren?(R(N.dynamicChildren,ne,se,ke,be,Z,$),(Q.key!=null||ke&&Q===ke.subTree)&&Xf(N,Q,!0)):oe(N,Q,se,Fe,ke,be,Z,$,ae)},K=(N,Q,se,ge,ke,be,Z,$,ae)=>{Q.slotScopeIds=$,N==null?Q.shapeFlag&512?ke.ctx.activate(Q,se,ge,Z,ae):j(Q,se,ge,ke,be,Z,ae):ie(N,Q,ae)},j=(N,Q,se,ge,ke,be,Z)=>{const $=N.component=hw(N,ge,ke);if(Fc(N)&&($.ctx.renderer=Ne),pw($,!1,Z),$.asyncDep){if(ke&&ke.registerDep($,V,Z),!N.el){const ae=$.subTree=Ue(Vn);A(null,ae,Q,se)}}else V($,N,Q,se,ke,be,Z)},ie=(N,Q,se)=>{const ge=Q.component=N.component;if(ow(N,Q,se))if(ge.asyncDep&&!ge.asyncResolved){re(ge,Q,se);return}else ge.next=Q,ge.update();else Q.el=N.el,ge.vnode=Q},V=(N,Q,se,ge,ke,be,Z)=>{const $=()=>{if(N.isMounted){let{next:Se,bu:ne,u:ye,parent:Ge,vnode:Qe}=N;{const On=U_(N);if(On){Se&&(Se.el=Qe.el,re(N,Se,Z)),On.asyncDep.then(()=>{N.isUnmounted||$()});return}}let Ae=Se,Vt;Zs(N,!1),Se?(Se.el=Qe.el,re(N,Se,Z)):Se=Qe,ne&&Rl(ne),(Vt=Se.props&&Se.props.onVnodeBeforeUpdate)&&rr(Vt,Ge,Se,Qe),Zs(N,!0);const Ye=tp(N),Ze=N.subTree;N.subTree=Ye,B(Ze,Ye,w(Ze.el),ce(Ze),N,ke,be),Se.el=Ye.el,Ae===null&&aw(N,Ye.el),ye&&Un(ye,ke),(Vt=Se.props&&Se.props.onVnodeUpdated)&&Un(()=>rr(Vt,Ge,Se,Qe),ke)}else{let Se;const{el:ne,props:ye}=Q,{bm:Ge,m:Qe,parent:Ae,root:Vt,type:Ye}=N,Ze=Jo(Q);Zs(N,!1),Ge&&Rl(Ge),!Ze&&(Se=ye&&ye.onVnodeBeforeMount)&&rr(Se,Ae,Q),Zs(N,!0);{Vt.ce&&Vt.ce._injectChildStyle(Ye);const On=N.subTree=tp(N);B(null,On,se,ge,N,ke,be),Q.el=On.el}if(Qe&&Un(Qe,ke),!Ze&&(Se=ye&&ye.onVnodeMounted)){const On=Q;Un(()=>rr(Se,Ae,On),ke)}(Q.shapeFlag&256||Ae&&Jo(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&N.a&&Un(N.a,ke),N.isMounted=!0,Q=se=ge=null}};N.scope.on();const ae=N.effect=new zg($);N.scope.off();const me=N.update=ae.run.bind(ae),Fe=N.job=ae.runIfDirty.bind(ae);Fe.i=N,Fe.id=N.uid,ae.scheduler=()=>Wf(Fe),Zs(N,!0),me()},re=(N,Q,se)=>{Q.component=N;const ge=N.vnode.props;N.vnode=Q,N.next=null,Vb(N,Q.props,ge,se),Zb(N,Q.children,se),ks(),Vh(N),Ls()},oe=(N,Q,se,ge,ke,be,Z,$,ae=!1)=>{const me=N&&N.children,Fe=N?N.shapeFlag:0,Se=Q.children,{patchFlag:ne,shapeFlag:ye}=Q;if(ne>0){if(ne&128){le(me,Se,se,ge,ke,be,Z,$,ae);return}else if(ne&256){_e(me,Se,se,ge,ke,be,Z,$,ae);return}}ye&8?(Fe&16&&Te(me,ke,be),Se!==me&&v(se,Se)):Fe&16?ye&16?le(me,Se,se,ge,ke,be,Z,$,ae):Te(me,ke,be,!0):(Fe&8&&v(se,""),ye&16&&F(Se,se,ge,ke,be,Z,$,ae))},_e=(N,Q,se,ge,ke,be,Z,$,ae)=>{N=N||Zo,Q=Q||Zo;const me=N.length,Fe=Q.length,Se=Math.min(me,Fe);let ne;for(ne=0;ne<Se;ne++){const ye=Q[ne]=ae?ds(Q[ne]):ur(Q[ne]);B(N[ne],ye,se,null,ke,be,Z,$,ae)}me>Fe?Te(N,ke,be,!0,!1,Se):F(Q,se,ge,ke,be,Z,$,ae,Se)},le=(N,Q,se,ge,ke,be,Z,$,ae)=>{let me=0;const Fe=Q.length;let Se=N.length-1,ne=Fe-1;for(;me<=Se&&me<=ne;){const ye=N[me],Ge=Q[me]=ae?ds(Q[me]):ur(Q[me]);if(to(ye,Ge))B(ye,Ge,se,null,ke,be,Z,$,ae);else break;me++}for(;me<=Se&&me<=ne;){const ye=N[Se],Ge=Q[ne]=ae?ds(Q[ne]):ur(Q[ne]);if(to(ye,Ge))B(ye,Ge,se,null,ke,be,Z,$,ae);else break;Se--,ne--}if(me>Se){if(me<=ne){const ye=ne+1,Ge=ye<Fe?Q[ye].el:ge;for(;me<=ne;)B(null,Q[me]=ae?ds(Q[me]):ur(Q[me]),se,Ge,ke,be,Z,$,ae),me++}}else if(me>ne)for(;me<=Se;)Re(N[me],ke,be,!0),me++;else{const ye=me,Ge=me,Qe=new Map;for(me=Ge;me<=ne;me++){const je=Q[me]=ae?ds(Q[me]):ur(Q[me]);je.key!=null&&Qe.set(je.key,me)}let Ae,Vt=0;const Ye=ne-Ge+1;let Ze=!1,On=0;const hn=new Array(Ye);for(me=0;me<Ye;me++)hn[me]=0;for(me=ye;me<=Se;me++){const je=N[me];if(Vt>=Ye){Re(je,ke,be,!0);continue}let Yn;if(je.key!=null)Yn=Qe.get(je.key);else for(Ae=Ge;Ae<=ne;Ae++)if(hn[Ae-Ge]===0&&to(je,Q[Ae])){Yn=Ae;break}Yn===void 0?Re(je,ke,be,!0):(hn[Yn-Ge]=me+1,Yn>=On?On=Yn:Ze=!0,B(je,Q[Yn],se,null,ke,be,Z,$,ae),Vt++)}const jr=Ze?Jb(hn):Zo;for(Ae=jr.length-1,me=Ye-1;me>=0;me--){const je=Ge+me,Yn=Q[je],Yi=je+1<Fe?Q[je+1].el:ge;hn[me]===0?B(null,Yn,se,Yi,ke,be,Z,$,ae):Ze&&(Ae<0||me!==jr[Ae]?we(Yn,se,Yi,2):Ae--)}}},we=(N,Q,se,ge,ke=null)=>{const{el:be,type:Z,transition:$,children:ae,shapeFlag:me}=N;if(me&6){we(N.component.subTree,Q,se,ge);return}if(me&128){N.suspense.move(Q,se,ge);return}if(me&64){Z.move(N,Q,se,Ne);return}if(Z===ft){o(be,Q,se);for(let Se=0;Se<ae.length;Se++)we(ae[Se],Q,se,ge);o(N.anchor,Q,se);return}if(Z===Cd){H(N,Q,se);return}if(ge!==2&&me&1&&$)if(ge===0)$.beforeEnter(be),o(be,Q,se),Un(()=>$.enter(be),ke);else{const{leave:Se,delayLeave:ne,afterLeave:ye}=$,Ge=()=>o(be,Q,se),Qe=()=>{Se(be,()=>{Ge(),ye&&ye()})};ne?ne(be,Ge,Qe):Qe()}else o(be,Q,se)},Re=(N,Q,se,ge=!1,ke=!1)=>{const{type:be,props:Z,ref:$,children:ae,dynamicChildren:me,shapeFlag:Fe,patchFlag:Se,dirs:ne,cacheIndex:ye}=N;if(Se===-2&&(ke=!1),$!=null&&rc($,null,se,N,!0),ye!=null&&(Q.renderCache[ye]=void 0),Fe&256){Q.ctx.deactivate(N);return}const Ge=Fe&1&&ne,Qe=!Jo(N);let Ae;if(Qe&&(Ae=Z&&Z.onVnodeBeforeUnmount)&&rr(Ae,Q,N),Fe&6)Le(N.component,se,ge);else{if(Fe&128){N.suspense.unmount(se,ge);return}Ge&&Ws(N,null,Q,"beforeUnmount"),Fe&64?N.type.remove(N,Q,se,Ne,ge):me&&!me.hasOnce&&(be!==ft||Se>0&&Se&64)?Te(me,Q,se,!1,!0):(be===ft&&Se&384||!ke&&Fe&16)&&Te(ae,Q,se),ge&&Oe(N)}(Qe&&(Ae=Z&&Z.onVnodeUnmounted)||Ge)&&Un(()=>{Ae&&rr(Ae,Q,N),Ge&&Ws(N,null,Q,"unmounted")},se)},Oe=N=>{const{type:Q,el:se,anchor:ge,transition:ke}=N;if(Q===ft){Pe(se,ge);return}if(Q===Cd){_(N);return}const be=()=>{i(se),ke&&!ke.persisted&&ke.afterLeave&&ke.afterLeave()};if(N.shapeFlag&1&&ke&&!ke.persisted){const{leave:Z,delayLeave:$}=ke,ae=()=>Z(se,be);$?$(N.el,be,ae):ae()}else be()},Pe=(N,Q)=>{let se;for(;N!==Q;)se=x(N),i(N),N=se;i(Q)},Le=(N,Q,se)=>{const{bum:ge,scope:ke,job:be,subTree:Z,um:$,m:ae,a:me}=N;ep(ae),ep(me),ge&&Rl(ge),ke.stop(),be&&(be.flags|=8,Re(Z,N,Q,se)),$&&Un($,Q),Un(()=>{N.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},Te=(N,Q,se,ge=!1,ke=!1,be=0)=>{for(let Z=be;Z<N.length;Z++)Re(N[Z],Q,se,ge,ke)},ce=N=>{if(N.shapeFlag&6)return ce(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const Q=x(N.anchor||N.el),se=Q&&Q[c_];return se?x(se):Q};let Y=!1;const xe=(N,Q,se)=>{N==null?Q._vnode&&Re(Q._vnode,null,null,!0):B(Q._vnode||null,N,Q,null,null,null,se),Q._vnode=N,Y||(Y=!0,Vh(),a_(),Y=!1)},Ne={p:B,um:Re,m:we,r:Oe,mt:j,mc:F,pc:oe,pbc:R,n:ce,o:e};return{render:xe,hydrate:void 0,createApp:Gb(xe)}}function Sd({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Zs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Kb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xf(e,t,s=!1){const o=e.children,i=t.children;if(Je(o)&&Je(i))for(let u=0;u<o.length;u++){const f=o[u];let h=i[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=i[u]=ds(i[u]),h.el=f.el),!s&&h.patchFlag!==-2&&Xf(f,h)),h.type===wa&&(h.el=f.el)}}function Jb(e){const t=e.slice(),s=[0];let o,i,u,f,h;const m=e.length;for(o=0;o<m;o++){const y=e[o];if(y!==0){if(i=s[s.length-1],e[i]<y){t[o]=i,s.push(o);continue}for(u=0,f=s.length-1;u<f;)h=u+f>>1,e[s[h]]<y?u=h+1:f=h;y<e[s[u]]&&(u>0&&(t[o]=s[u-1]),s[u]=o)}}for(u=s.length,f=s[u-1];u-- >0;)s[u]=f,f=t[f];return s}function U_(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:U_(t)}function ep(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qb=Symbol.for("v-scx"),ew=()=>tn(Qb);function mu(e,t){return Uc(e,null,t)}function tw(e,t){return Uc(e,null,{flush:"sync"})}function tt(e,t,s){return Uc(e,t,s)}function Uc(e,t,s=kt){const{immediate:o,deep:i,flush:u,once:f}=s,h=fn({},s),m=t&&o||!t&&u!=="post";let y;if(Cu){if(u==="sync"){const P=ew();y=P.__watcherHandles||(P.__watcherHandles=[])}else if(!m){const P=()=>{};return P.stop=cr,P.resume=cr,P.pause=cr,P}}const v=xn;h.call=(P,O,B)=>Hi(P,v,O,B);let w=!1;u==="post"?h.scheduler=P=>{Un(P,v&&v.suspense)}:u!=="sync"&&(w=!0,h.scheduler=(P,O)=>{O?P():Wf(P)}),h.augmentJob=P=>{t&&(P.flags|=4),w&&(P.flags|=2,v&&(P.id=v.uid,P.i=v))};const x=gb(e,t,h);return Cu&&(y?y.push(x):m&&x()),x}function nw(e,t,s){const o=this.proxy,i=jt(e)?e.includes(".")?G_(o,e):()=>o[e]:e.bind(o,o);let u;rt(t)?u=t:(u=t.handler,s=t);const f=qu(this),h=Uc(i,u.bind(o),s);return f(),h}function G_(e,t){const s=t.split(".");return()=>{let o=e;for(let i=0;i<s.length&&o;i++)o=o[s[i]];return o}}function hr(e,t,s=kt){const o=ri(),i=hi(t),u=ws(t),f=H_(e,i),h=r_((m,y)=>{let v,w=kt,x;return tw(()=>{const P=e[i];ei(v,P)&&(v=P,y())}),{get(){return m(),s.get?s.get(v):v},set(P){const O=s.set?s.set(P):P;if(!ei(O,v)&&!(w!==kt&&ei(P,w)))return;const B=o.vnode.props;B&&(t in B||i in B||u in B)&&(`onUpdate:${t}`in B||`onUpdate:${i}`in B||`onUpdate:${u}`in B)||(v=P,y()),o.emit(`update:${t}`,O),ei(P,O)&&ei(P,w)&&!ei(O,x)&&y(),w=P,x=O}}});return h[Symbol.iterator]=()=>{let m=0;return{next(){return m<2?{value:m++?f||kt:h,done:!1}:{done:!0}}}},h}const H_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hi(t)}Modifiers`]||e[`${ws(t)}Modifiers`];function iw(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||kt;let i=s;const u=t.startsWith("update:"),f=u&&H_(o,t.slice(7));f&&(f.trim&&(i=s.map(v=>jt(v)?v.trim():v)),f.number&&(i=s.map(Jl)));let h,m=o[h=bd(t)]||o[h=bd(hi(t))];!m&&u&&(m=o[h=bd(ws(t))]),m&&Hi(m,e,6,i);const y=o[h+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Hi(y,e,6,i)}}function V_(e,t,s=!1){const o=t.emitsCache,i=o.get(e);if(i!==void 0)return i;const u=e.emits;let f={},h=!1;if(!rt(e)){const m=y=>{const v=V_(y,t,!0);v&&(h=!0,fn(f,v))};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!u&&!h?(Ft(e)&&o.set(e,null),null):(Je(u)?u.forEach(m=>f[m]=null):fn(f,u),Ft(e)&&o.set(e,f),f)}function Gc(e,t){return!e||!Pc(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pt(e,t[0].toLowerCase()+t.slice(1))||Pt(e,ws(t))||Pt(e,t))}function tp(e){const{type:t,vnode:s,proxy:o,withProxy:i,propsOptions:[u],slots:f,attrs:h,emit:m,render:y,renderCache:v,props:w,data:x,setupState:P,ctx:O,inheritAttrs:B}=e,q=ic(e);let A,z;try{if(s.shapeFlag&4){const _=i||o,T=_;A=ur(y.call(T,_,v,w,P,x,O)),z=h}else{const _=t;A=ur(_.length>1?_(w,{attrs:h,slots:f,emit:m}):_(w,null)),z=t.props?h:rw(h)}}catch(_){gu.length=0,Bc(_,e,1),A=Ue(Vn)}let H=A;if(z&&B!==!1){const _=Object.keys(z),{shapeFlag:T}=H;_.length&&T&7&&(u&&_.some(Ff)&&(z=sw(z,u)),H=Hr(H,z,!1,!0))}return s.dirs&&(H=Hr(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&xu(H,s.transition),A=H,ic(q),A}const rw=e=>{let t;for(const s in e)(s==="class"||s==="style"||Pc(s))&&((t||(t={}))[s]=e[s]);return t},sw=(e,t)=>{const s={};for(const o in e)(!Ff(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function ow(e,t,s){const{props:o,children:i,component:u}=e,{props:f,children:h,patchFlag:m}=t,y=u.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return o?np(o,f,y):!!f;if(m&8){const v=t.dynamicProps;for(let w=0;w<v.length;w++){const x=v[w];if(f[x]!==o[x]&&!Gc(y,x))return!0}}}else return(i||h)&&(!h||!h.$stable)?!0:o===f?!1:o?f?np(o,f,y):!0:!!f;return!1}function np(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const u=o[i];if(t[u]!==e[u]&&!Gc(s,u))return!0}return!1}function aw({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const q_=e=>e.__isSuspense;function uw(e,t){t&&t.pendingBranch?Je(e)?t.effects.push(...e):t.effects.push(e):yb(e)}const ft=Symbol.for("v-fgt"),wa=Symbol.for("v-txt"),Vn=Symbol.for("v-cmt"),Cd=Symbol.for("v-stc"),gu=[];let ci=null;function Ee(e=!1){gu.push(ci=e?null:[])}function lw(){gu.pop(),ci=gu[gu.length-1]||null}let Su=1;function ip(e,t=!1){Su+=e,e<0&&ci&&t&&(ci.hasOnce=!0)}function j_(e){return e.dynamicChildren=Su>0?ci||Zo:null,lw(),Su>0&&ci&&ci.push(e),e}function Be(e,t,s,o,i,u){return j_(pe(e,t,s,o,i,u,!0))}function dt(e,t,s,o,i){return j_(Ue(e,t,s,o,i,!0))}function uo(e){return e?e.__v_isVNode===!0:!1}function to(e,t){return e.type===t.type&&e.key===t.key}const W_=({key:e})=>e??null,Bl=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?jt(e)||Mt(e)||rt(e)?{i:yn,r:e,k:t,f:!!s}:e:null);function pe(e,t=null,s=null,o=0,i=null,u=e===ft?0:1,f=!1,h=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&W_(t),ref:t&&Bl(t),scopeId:l_,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:yn};return h?(Kf(m,s),u&128&&e.normalize(m)):s&&(m.shapeFlag|=jt(s)?8:16),Su>0&&!f&&ci&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&ci.push(m),m}const Ue=cw;function cw(e,t=null,s=null,o=0,i=null,u=!1){if((!e||e===T_)&&(e=Vn),uo(e)){const h=Hr(e,t,!0);return s&&Kf(h,s),Su>0&&!u&&ci&&(h.shapeFlag&6?ci[ci.indexOf(e)]=h:ci.push(h)),h.patchFlag=-2,h}if(vw(e)&&(e=e.__vccOpts),t){t=ar(t);let{class:h,style:m}=t;h&&!jt(h)&&(t.class=Nt(h)),Ft(m)&&(jf(m)&&!Je(m)&&(m=fn({},m)),t.style=Gi(m))}const f=jt(e)?1:q_(e)?128:d_(e)?64:Ft(e)?4:rt(e)?2:0;return pe(e,t,s,o,i,f,u,!0)}function ar(e){return e?jf(e)||A_(e)?fn({},e):e:null}function Hr(e,t,s=!1,o=!1){const{props:i,ref:u,patchFlag:f,children:h,transition:m}=e,y=t?bt(i||{},t):i,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&W_(y),ref:t&&t.ref?s&&u?Je(u)?u.concat(Bl(t)):[u,Bl(t)]:Bl(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ft?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:m,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hr(e.ssContent),ssFallback:e.ssFallback&&Hr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return m&&o&&xu(v,m.clone(v)),v}function it(e=" ",t=0){return Ue(wa,null,e,t)}function yt(e="",t=!1){return t?(Ee(),dt(Vn,null,e)):Ue(Vn,null,e)}function ur(e){return e==null||typeof e=="boolean"?Ue(Vn):Je(e)?Ue(ft,null,e.slice()):uo(e)?ds(e):Ue(wa,null,String(e))}function ds(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hr(e)}function Kf(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Je(t))s=16;else if(typeof t=="object")if(o&65){const i=t.default;i&&(i._c&&(i._d=!1),Kf(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!A_(t)?t._ctx=yn:i===3&&yn&&(yn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:yn},s=32):(t=String(t),o&64?(s=16,t=[it(t)]):s=8);e.children=t,e.shapeFlag|=s}function bt(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const i in o)if(i==="class")t.class!==o.class&&(t.class=Nt([t.class,o.class]));else if(i==="style")t.style=Gi([t.style,o.style]);else if(Pc(i)){const u=t[i],f=o[i];f&&u!==f&&!(Je(u)&&u.includes(f))&&(t[i]=u?[].concat(u,f):f)}else i!==""&&(t[i]=o[i])}return t}function rr(e,t,s,o=null){Hi(e,t,7,[s,o])}const dw=N_();let fw=0;function hw(e,t,s){const o=e.type,i=(t?t.appContext:e.appContext)||dw,u={uid:fw++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:D_(o,i),emitsOptions:V_(o,i),emit:null,emitted:null,propsDefaults:kt,inheritAttrs:o.inheritAttrs,ctx:kt,data:kt,props:kt,attrs:kt,slots:kt,refs:kt,setupState:kt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=iw.bind(null,u),e.ce&&e.ce(u),u}let xn=null;const ri=()=>xn||yn;let ac,rf;{const e=Mc(),t=(s,o)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(o),u=>{i.length>1?i.forEach(f=>f(u)):i[0](u)}};ac=t("__VUE_INSTANCE_SETTERS__",s=>xn=s),rf=t("__VUE_SSR_SETTERS__",s=>Cu=s)}const qu=e=>{const t=xn;return ac(e),e.scope.on(),()=>{e.scope.off(),ac(t)}},rp=()=>{xn&&xn.scope.off(),ac(null)};function Z_(e){return e.vnode.shapeFlag&4}let Cu=!1;function pw(e,t=!1,s=!1){t&&rf(t);const{props:o,children:i}=e.vnode,u=Z_(e);Hb(e,o,u,t),Wb(e,i,s);const f=u?mw(e,t):void 0;return t&&rf(!1),f}function mw(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Rb);const{setup:o}=s;if(o){ks();const i=e.setupContext=o.length>1?X_(e):null,u=qu(e),f=Hu(o,e,0,[e.props,i]),h=Ig(f);if(Ls(),u(),(h||e.sp)&&!Jo(e)&&b_(e),h){if(f.then(rp,rp),t)return f.then(m=>{sp(e,m)}).catch(m=>{Bc(m,e,0)});e.asyncDep=f}else sp(e,f)}else Y_(e)}function sp(e,t,s){rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ft(t)&&(e.setupState=i_(t)),Y_(e)}function Y_(e,t,s){const o=e.type;e.render||(e.render=o.render||cr);{const i=qu(e);ks();try{Db(e)}finally{Ls(),i()}}}const gw={get(e,t){return Pn(e,"get",""),e[t]}};function X_(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,gw),slots:e.slots,emit:e.emit,expose:t}}function Hc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(i_(ps(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in pu)return pu[s](e)},has(t,s){return s in t||s in pu}})):e.proxy}function _w(e,t=!0){return rt(e)?e.displayName||e.name:e.name||t&&e.__name}function vw(e){return rt(e)&&"__vccOpts"in e}const de=(e,t)=>pb(e,t,Cu);function di(e,t,s){const o=arguments.length;return o===2?Ft(t)&&!Je(t)?uo(t)?Ue(e,null,[t]):Ue(e,t):Ue(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&uo(s)&&(s=[s]),Ue(e,t,s))}const yw="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sf;const op=typeof window<"u"&&window.trustedTypes;if(op)try{sf=op.createPolicy("vue",{createHTML:e=>e})}catch{}const K_=sf?e=>sf.createHTML(e):e=>e,bw="http://www.w3.org/2000/svg",ww="http://www.w3.org/1998/Math/MathML",Or=typeof document<"u"?document:null,ap=Or&&Or.createElement("template"),kw={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const i=t==="svg"?Or.createElementNS(bw,e):t==="mathml"?Or.createElementNS(ww,e):s?Or.createElement(e,{is:s}):Or.createElement(e);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>Or.createTextNode(e),createComment:e=>Or.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Or.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,i,u){const f=s?s.previousSibling:t.lastChild;if(i&&(i===u||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===u||!(i=i.nextSibling)););else{ap.innerHTML=K_(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const h=ap.content;if(o==="svg"||o==="mathml"){const m=h.firstChild;for(;m.firstChild;)h.appendChild(m.firstChild);h.removeChild(m)}t.insertBefore(h,s)}return[f?f.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},rs="transition",Ja="animation",Pu=Symbol("_vtc"),J_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Lw=fn({},p_,J_),Ew=e=>(e.displayName="Transition",e.props=Lw,e),Iu=Ew((e,{slots:t})=>di(Eb,Tw(e),t)),Ys=(e,t=[])=>{Je(e)?e.forEach(s=>s(...t)):e&&e(...t)},up=e=>e?Je(e)?e.some(t=>t.length>1):e.length>1:!1;function Tw(e){const t={};for(const ee in e)ee in J_||(t[ee]=e[ee]);if(e.css===!1)return t;const{name:s="v",type:o,duration:i,enterFromClass:u=`${s}-enter-from`,enterActiveClass:f=`${s}-enter-active`,enterToClass:h=`${s}-enter-to`,appearFromClass:m=u,appearActiveClass:y=f,appearToClass:v=h,leaveFromClass:w=`${s}-leave-from`,leaveActiveClass:x=`${s}-leave-active`,leaveToClass:P=`${s}-leave-to`}=e,O=xw(i),B=O&&O[0],q=O&&O[1],{onBeforeEnter:A,onEnter:z,onEnterCancelled:H,onLeave:_,onLeaveCancelled:T,onBeforeAppear:E=A,onAppear:C=z,onAppearCancelled:F=H}=t,D=(ee,K,j,ie)=>{ee._enterCancelled=ie,Xs(ee,K?v:h),Xs(ee,K?y:f),j&&j()},R=(ee,K)=>{ee._isLeaving=!1,Xs(ee,w),Xs(ee,P),Xs(ee,x),K&&K()},X=ee=>(K,j)=>{const ie=ee?C:z,V=()=>D(K,ee,j);Ys(ie,[K,V]),lp(()=>{Xs(K,ee?m:u),Pr(K,ee?v:h),up(ie)||cp(K,o,B,V)})};return fn(t,{onBeforeEnter(ee){Ys(A,[ee]),Pr(ee,u),Pr(ee,f)},onBeforeAppear(ee){Ys(E,[ee]),Pr(ee,m),Pr(ee,y)},onEnter:X(!1),onAppear:X(!0),onLeave(ee,K){ee._isLeaving=!0;const j=()=>R(ee,K);Pr(ee,w),ee._enterCancelled?(Pr(ee,x),hp()):(hp(),Pr(ee,x)),lp(()=>{ee._isLeaving&&(Xs(ee,w),Pr(ee,P),up(_)||cp(ee,o,q,j))}),Ys(_,[ee,j])},onEnterCancelled(ee){D(ee,!1,void 0,!0),Ys(H,[ee])},onAppearCancelled(ee){D(ee,!0,void 0,!0),Ys(F,[ee])},onLeaveCancelled(ee){R(ee),Ys(T,[ee])}})}function xw(e){if(e==null)return null;if(Ft(e))return[Pd(e.enter),Pd(e.leave)];{const t=Pd(e);return[t,t]}}function Pd(e){return A0(e)}function Pr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Pu]||(e[Pu]=new Set)).add(t)}function Xs(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const s=e[Pu];s&&(s.delete(t),s.size||(e[Pu]=void 0))}function lp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Sw=0;function cp(e,t,s,o){const i=e._endId=++Sw,u=()=>{i===e._endId&&o()};if(s!=null)return setTimeout(u,s);const{type:f,timeout:h,propCount:m}=Cw(e,t);if(!f)return o();const y=f+"end";let v=0;const w=()=>{e.removeEventListener(y,x),u()},x=P=>{P.target===e&&++v>=m&&w()};setTimeout(()=>{v<m&&w()},h+1),e.addEventListener(y,x)}function Cw(e,t){const s=window.getComputedStyle(e),o=O=>(s[O]||"").split(", "),i=o(`${rs}Delay`),u=o(`${rs}Duration`),f=dp(i,u),h=o(`${Ja}Delay`),m=o(`${Ja}Duration`),y=dp(h,m);let v=null,w=0,x=0;t===rs?f>0&&(v=rs,w=f,x=u.length):t===Ja?y>0&&(v=Ja,w=y,x=m.length):(w=Math.max(f,y),v=w>0?f>y?rs:Ja:null,x=v?v===rs?u.length:m.length:0);const P=v===rs&&/\b(transform|all)(,|$)/.test(o(`${rs}Property`).toString());return{type:v,timeout:w,propCount:x,hasTransform:P}}function dp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,o)=>fp(s)+fp(e[o])))}function fp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function hp(){return document.body.offsetHeight}function Pw(e,t,s){const o=e[Pu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const uc=Symbol("_vod"),Q_=Symbol("_vsh"),Nu={beforeMount(e,{value:t},{transition:s}){e[uc]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Qa(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),Qa(e,!0),o.enter(e)):o.leave(e,()=>{Qa(e,!1)}):Qa(e,t))},beforeUnmount(e,{value:t}){Qa(e,t)}};function Qa(e,t){e.style.display=t?e[uc]:"none",e[Q_]=!t}const Iw=Symbol(""),Nw=/(^|;)\s*display\s*:/;function Mw(e,t,s){const o=e.style,i=jt(s);let u=!1;if(s&&!i){if(t)if(jt(t))for(const f of t.split(";")){const h=f.slice(0,f.indexOf(":")).trim();s[h]==null&&Fl(o,h,"")}else for(const f in t)s[f]==null&&Fl(o,f,"");for(const f in s)f==="display"&&(u=!0),Fl(o,f,s[f])}else if(i){if(t!==s){const f=o[Iw];f&&(s+=";"+f),o.cssText=s,u=Nw.test(s)}}else t&&e.removeAttribute("style");uc in e&&(e[uc]=u?o.display:"",e[Q_]&&(o.display="none"))}const pp=/\s*!important$/;function Fl(e,t,s){if(Je(s))s.forEach(o=>Fl(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Ow(e,t);pp.test(s)?e.setProperty(ws(o),s.replace(pp,""),"important"):e[o]=s}}const mp=["Webkit","Moz","ms"],Id={};function Ow(e,t){const s=Id[t];if(s)return s;let o=hi(t);if(o!=="filter"&&o in e)return Id[t]=o;o=Nc(o);for(let i=0;i<mp.length;i++){const u=mp[i]+o;if(u in e)return Id[t]=u}return t}const gp="http://www.w3.org/1999/xlink";function _p(e,t,s,o,i,u=$0(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(gp,t.slice(6,t.length)):e.setAttributeNS(gp,t,s):s==null||u&&!Ag(s)?e.removeAttribute(t):e.setAttribute(t,u?"":Ui(s)?String(s):s)}function vp(e,t,s,o,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?K_(s):s);return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const h=u==="OPTION"?e.getAttribute("value")||"":e.value,m=s==null?e.type==="checkbox"?"on":"":String(s);(h!==m||!("_value"in e))&&(e.value=m),s==null&&e.removeAttribute(t),e._value=s;return}let f=!1;if(s===""||s==null){const h=typeof e[t];h==="boolean"?s=Ag(s):s==null&&h==="string"?(s="",f=!0):h==="number"&&(s=0,f=!0)}try{e[t]=s}catch{}f&&e.removeAttribute(i||t)}function Dr(e,t,s,o){e.addEventListener(t,s,o)}function Aw(e,t,s,o){e.removeEventListener(t,s,o)}const yp=Symbol("_vei");function Rw(e,t,s,o,i=null){const u=e[yp]||(e[yp]={}),f=u[t];if(o&&f)f.value=o;else{const[h,m]=Dw(t);if(o){const y=u[t]=zw(o,i);Dr(e,h,y,m)}else f&&(Aw(e,h,f,m),u[t]=void 0)}}const bp=/(?:Once|Passive|Capture)$/;function Dw(e){let t;if(bp.test(e)){t={};let o;for(;o=e.match(bp);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ws(e.slice(2)),t]}let Nd=0;const Bw=Promise.resolve(),Fw=()=>Nd||(Bw.then(()=>Nd=0),Nd=Date.now());function zw(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Hi($w(o,s.value),t,5,[o])};return s.value=e,s.attached=Fw(),s}function $w(e,t){if(Je(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>i=>!i._stopped&&o&&o(i))}else return t}const wp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Uw=(e,t,s,o,i,u)=>{const f=i==="svg";t==="class"?Pw(e,o,f):t==="style"?Mw(e,s,o):Pc(t)?Ff(t)||Rw(e,t,s,o,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gw(e,t,o,f))?(vp(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_p(e,t,o,f,u,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!jt(o))?vp(e,hi(t),o,u,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),_p(e,t,o,f))};function Gw(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&wp(t)&&rt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return wp(t)&&jt(s)?!1:t in e}const _s=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Je(t)?s=>Rl(t,s):t};function Hw(e){e.target.composing=!0}function kp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pi=Symbol("_assign"),vs={created(e,{modifiers:{lazy:t,trim:s,number:o}},i){e[Pi]=_s(i);const u=o||i.props&&i.props.type==="number";Dr(e,t?"change":"input",f=>{if(f.target.composing)return;let h=e.value;s&&(h=h.trim()),u&&(h=Jl(h)),e[Pi](h)}),s&&Dr(e,"change",()=>{e.value=e.value.trim()}),t||(Dr(e,"compositionstart",Hw),Dr(e,"compositionend",kp),Dr(e,"change",kp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:i,number:u}},f){if(e[Pi]=_s(f),e.composing)return;const h=(u||e.type==="number")&&!/^0\d/.test(e.value)?Jl(e.value):e.value,m=t??"";h!==m&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||i&&e.value.trim()===m)||(e.value=m))}},ev={deep:!0,created(e,t,s){e[Pi]=_s(s),Dr(e,"change",()=>{const o=e._modelValue,i=ra(e),u=e.checked,f=e[Pi];if(Je(o)){const h=Uf(o,i),m=h!==-1;if(u&&!m)f(o.concat(i));else if(!u&&m){const y=[...o];y.splice(h,1),f(y)}}else if(ya(o)){const h=new Set(o);u?h.add(i):h.delete(i),f(h)}else f(tv(e,u))})},mounted:Lp,beforeUpdate(e,t,s){e[Pi]=_s(s),Lp(e,t,s)}};function Lp(e,{value:t,oldValue:s},o){e._modelValue=t;let i;if(Je(t))i=Uf(t,o.props.value)>-1;else if(ya(t))i=t.has(o.props.value);else{if(t===s)return;i=oo(t,tv(e,!0))}e.checked!==i&&(e.checked=i)}const Vw={created(e,{value:t},s){e.checked=oo(t,s.props.value),e[Pi]=_s(s),Dr(e,"change",()=>{e[Pi](ra(e))})},beforeUpdate(e,{value:t,oldValue:s},o){e[Pi]=_s(o),t!==s&&(e.checked=oo(t,o.props.value))}},ia={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const i=ya(t);Dr(e,"change",()=>{const u=Array.prototype.filter.call(e.options,f=>f.selected).map(f=>s?Jl(ra(f)):ra(f));e[Pi](e.multiple?i?new Set(u):u:u[0]),e._assigning=!0,qn(()=>{e._assigning=!1})}),e[Pi]=_s(o)},mounted(e,{value:t}){Ep(e,t)},beforeUpdate(e,t,s){e[Pi]=_s(s)},updated(e,{value:t}){e._assigning||Ep(e,t)}};function Ep(e,t){const s=e.multiple,o=Je(t);if(!(s&&!o&&!ya(t))){for(let i=0,u=e.options.length;i<u;i++){const f=e.options[i],h=ra(f);if(s)if(o){const m=typeof h;m==="string"||m==="number"?f.selected=t.some(y=>String(y)===String(h)):f.selected=Uf(t,h)>-1}else f.selected=t.has(h);else if(oo(ra(f),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ra(e){return"_value"in e?e._value:e.value}function tv(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const qw={created(e,t,s){wl(e,t,s,null,"created")},mounted(e,t,s){wl(e,t,s,null,"mounted")},beforeUpdate(e,t,s,o){wl(e,t,s,o,"beforeUpdate")},updated(e,t,s,o){wl(e,t,s,o,"updated")}};function jw(e,t){switch(e){case"SELECT":return ia;case"TEXTAREA":return vs;default:switch(t){case"checkbox":return ev;case"radio":return Vw;default:return vs}}}function wl(e,t,s,o,i){const f=jw(e.tagName,s.props&&s.props.type)[i];f&&f(e,t,s,o)}const Ww=["ctrl","shift","alt","meta"],Zw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ww.some(s=>e[`${s}Key`]&&!t.includes(s))},nv=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(i,...u)=>{for(let f=0;f<t.length;f++){const h=Zw[t[f]];if(h&&h(i,t))return}return e(i,...u)})},Yw=fn({patchProp:Uw},kw);let Tp;function Xw(){return Tp||(Tp=Yb(Yw))}const iv=(...e)=>{const t=Xw().createApp(...e),{mount:s}=t;return t.mount=o=>{const i=Jw(o);if(!i)return;const u=t._component;!rt(u)&&!u.render&&!u.template&&(u.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const f=s(i,!1,Kw(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),f},t};function Kw(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Jw(e){return jt(e)?document.querySelector(e):e}const rv="BootstrapVueNext__",Jf=(e,t="")=>{const s=`${t}___`;return`${rv}ID__${e}__${t?s:""}`},po=e=>Jf(e),Ts=e=>Jf(`${e}__plugin`),Qw=po("checkboxGroup"),sv=po("collapse"),Vc=Ts("globalShowHideStorage"),ek=po("dropdown"),ov=po("navbar"),tk=Ts("rtl"),xp=`${rv}global_breadcrumb`,nk=Ts("breadcrumbPlugin"),av=Ts("modalManager"),zl=Ts("defaults"),ik=po("inputGroup"),rk=po("buttonGroup"),sk=Ts("toast"),ok=Ts("modalController"),ak=Ts("popover"),uk=po("formGroupPlugin");function mo(e){return Gf()?(Ql(e),!0):!1}function uv(e){let t=0,s,o;const i=()=>{t-=1,o&&t<=0&&(o.stop(),s=void 0,o=void 0)};return(...u)=>(t+=1,o||(o=Fg(!0),s=o.run(()=>e(...u))),mo(i),s)}const lv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cv=e=>e!=null,lk=Object.prototype.toString,ck=e=>lk.call(e)==="[object Object]",Bi=()=>{},of=dk();function dk(){var e,t;return lv&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function fk(...e){if(e.length!==1)return en(...e);const t=e[0];return typeof t=="function"?jn(r_(()=>({get:t,set:Bi}))):ze(t)}function dv(e,t){function s(...o){return new Promise((i,u)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(u)})}return s}function hk(e,t={}){let s,o,i=Bi;const u=m=>{clearTimeout(m),i(),i=Bi};let f;return m=>{const y=pt(e),v=pt(t.maxWait);return s&&u(s),y<=0||v!==void 0&&v<=0?(o&&(u(o),o=null),Promise.resolve(m())):new Promise((w,x)=>{i=t.rejectOnCancel?x:w,f=m,v&&!o&&(o=setTimeout(()=>{s&&u(s),o=null,w(f())},v)),s=setTimeout(()=>{o&&u(o),o=null,w(m())},y)})}}function pk(...e){let t=0,s,o=!0,i=Bi,u,f,h,m,y;!Mt(e[0])&&typeof e[0]=="object"?{delay:f,trailing:h=!0,leading:m=!0,rejectOnCancel:y=!1}=e[0]:[f,h=!0,m=!0,y=!1]=e;const v=()=>{s&&(clearTimeout(s),s=void 0,i(),i=Bi)};return x=>{const P=pt(f),O=Date.now()-t,B=()=>u=x();return v(),P<=0?(t=Date.now(),B()):(O>P&&(m||!o)?(t=Date.now(),B()):h&&(u=new Promise((q,A)=>{i=y?A:q,s=setTimeout(()=>{t=Date.now(),o=!0,q(B()),v()},Math.max(0,P-O))})),!m&&!s&&(s=setTimeout(()=>o=!0,P)),o=!1,u)}}function _u(e){return Array.isArray(e)?e:[e]}function mk(e,t=200,s={}){return dv(hk(t,s),e)}function Sp(e,t=200,s=!1,o=!0,i=!1){return dv(pk(t,s,o,i),e)}function Mu(e,t={}){const{method:s="parseFloat",radix:o,nanToZero:i}=t;return de(()=>{let u=pt(e);return typeof s=="function"?u=s(u):typeof u=="string"&&(u=Number[s](u,o)),i&&Number.isNaN(u)&&(u=0),u})}function gk(e,t,s){return tt(e,t,{...s,immediate:!0})}const ju=lv?window:void 0;function Br(e){var t;const s=pt(e);return(t=s==null?void 0:s.$el)!=null?t:s}function ti(...e){const t=[],s=()=>{t.forEach(h=>h()),t.length=0},o=(h,m,y,v)=>(h.addEventListener(m,y,v),()=>h.removeEventListener(m,y,v)),i=de(()=>{const h=_u(pt(e[0])).filter(m=>m!=null);return h.every(m=>typeof m!="string")?h:void 0}),u=gk(()=>{var h,m;return[(m=(h=i.value)==null?void 0:h.map(y=>Br(y)))!=null?m:[ju].filter(y=>y!=null),_u(pt(i.value?e[1]:e[0])),_u(W(i.value?e[2]:e[1])),pt(i.value?e[3]:e[2])]},([h,m,y,v])=>{if(s(),!(h!=null&&h.length)||!(m!=null&&m.length)||!(y!=null&&y.length))return;const w=ck(v)?{...v}:v;t.push(...h.flatMap(x=>m.flatMap(P=>y.map(O=>o(x,P,O,w)))))},{flush:"post"}),f=()=>{u(),s()};return mo(s),f}let Cp=!1;function fv(e,t,s={}){const{window:o=ju,ignore:i=[],capture:u=!0,detectIframe:f=!1,controls:h=!1}=s;if(!o)return h?{stop:Bi,cancel:Bi,trigger:Bi}:Bi;if(of&&!Cp){Cp=!0;const q={passive:!0};Array.from(o.document.body.children).forEach(A=>ti(A,"click",Bi,q)),ti(o.document.documentElement,"click",Bi,q)}let m=!0;const y=q=>pt(i).some(A=>{if(typeof A=="string")return Array.from(o.document.querySelectorAll(A)).some(z=>z===q.target||q.composedPath().includes(z));{const z=Br(A);return z&&(q.target===z||q.composedPath().includes(z))}});function v(q){const A=pt(q);return A&&A.$.subTree.shapeFlag===16}function w(q,A){const z=pt(q),H=z.$.subTree&&z.$.subTree.children;return H==null||!Array.isArray(H)?!1:H.some(_=>_.el===A.target||A.composedPath().includes(_.el))}const x=q=>{const A=Br(e);if(q.target!=null&&!(!(A instanceof Element)&&v(e)&&w(e,q))&&!(!A||A===q.target||q.composedPath().includes(A))){if("detail"in q&&q.detail===0&&(m=!y(q)),!m){m=!0;return}t(q)}};let P=!1;const O=[ti(o,"click",q=>{P||(P=!0,setTimeout(()=>{P=!1},0),x(q))},{passive:!0,capture:u}),ti(o,"pointerdown",q=>{const A=Br(e);m=!y(q)&&!!(A&&!q.composedPath().includes(A))},{passive:!0}),f&&ti(o,"blur",q=>{setTimeout(()=>{var A;const z=Br(e);((A=o.document.activeElement)==null?void 0:A.tagName)==="IFRAME"&&!(z!=null&&z.contains(o.document.activeElement))&&t(q)},0)},{passive:!0})].filter(Boolean),B=()=>O.forEach(q=>q());return h?{stop:B,cancel:()=>{m=!1},trigger:q=>{m=!0,x(q),m=!1}}:B}function _k(){const e=Mn(!1),t=ri();return t&&Mi(()=>{e.value=!0},t),e}function vk(e){const t=_k();return de(()=>(t.value,!!e()))}function yk(e,t,s={}){const{window:o=ju,...i}=s;let u;const f=vk(()=>o&&"MutationObserver"in o),h=()=>{u&&(u.disconnect(),u=void 0)},m=de(()=>{const x=pt(e),P=_u(x).map(Br).filter(cv);return new Set(P)}),y=tt(()=>m.value,x=>{h(),f.value&&x.size&&(u=new MutationObserver(t),x.forEach(P=>u.observe(P,i)))},{immediate:!0,flush:"post"}),v=()=>u==null?void 0:u.takeRecords(),w=()=>{y(),h()};return mo(w),{isSupported:f,stop:w,takeRecords:v}}function bk(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function fs(...e){let t,s,o={};e.length===3?(t=e[0],s=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,s=e[0],o=e[1]):(t=e[0],s=e[1]):(t=!0,s=e[0]);const{target:i=ju,eventName:u="keydown",passive:f=!1,dedupe:h=!1}=o,m=bk(t);return ti(i,u,v=>{v.repeat&&pt(h)||m(v)&&s(v)},f)}const kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ll="__vueuse_ssr_handlers__",wk=kk();function kk(){return Ll in kl||(kl[Ll]=kl[Ll]||{}),kl[Ll]}function Lk(e,t){return wk[e]||t}function io(e,t={}){const{initialValue:s=!1,focusVisible:o=!1,preventScroll:i=!1}=t,u=Mn(!1),f=de(()=>Br(e)),h={passive:!0};ti(f,"focus",y=>{var v,w;(!o||(w=(v=y.target).matches)!=null&&w.call(v,":focus-visible"))&&(u.value=!0)},h),ti(f,"blur",()=>u.value=!1,h);const m=de({get:()=>u.value,set(y){var v,w;!y&&u.value?(v=f.value)==null||v.blur():y&&!u.value&&((w=f.value)==null||w.focus({preventScroll:i}))}});return tt(f,()=>{m.value=s},{immediate:!0,flush:"post"}),{focused:m}}function Md(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const Ek={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function Tk(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:o=!1,initialValue:i={x:0,y:0},window:u=ju,target:f=u,scroll:h=!0,eventFilter:m}=e;let y=null,v=0,w=0;const x=Mn(i.x),P=Mn(i.y),O=Mn(null),B=typeof t=="function"?t:Ek[t],q=C=>{const F=B(C);y=C,F&&([x.value,P.value]=F,O.value="mouse"),u&&(v=u.scrollX,w=u.scrollY)},A=C=>{if(C.touches.length>0){const F=B(C.touches[0]);F&&([x.value,P.value]=F,O.value="touch")}},z=()=>{if(!y||!u)return;const C=B(y);y instanceof MouseEvent&&C&&(x.value=C[0]+u.scrollX-v,P.value=C[1]+u.scrollY-w)},H=()=>{x.value=i.x,P.value=i.y},_=m?C=>m(()=>q(C),{}):C=>q(C),T=m?C=>m(()=>A(C),{}):C=>A(C),E=m?()=>m(()=>z(),{}):()=>z();if(f){const C={passive:!0};ti(f,["mousemove","dragover"],_,C),s&&t!=="movement"&&(ti(f,["touchstart","touchmove"],T,C),o&&ti(f,"touchend",H,C)),h&&t==="page"&&ti(u,"scroll",E,C)}return{x,y:P,sourceType:O}}function hv(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const s=e.parentNode;return!s||s.tagName==="BODY"?!1:hv(s)}}function xk(e){const t=e||window.event,s=t.target;return hv(s)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const Od=new WeakMap;function Sk(e,t=!1){const s=Mn(t);let o=null,i="";tt(fk(e),h=>{const m=Md(pt(h));if(m){const y=m;if(Od.get(y)||Od.set(y,y.style.overflow),y.style.overflow!=="hidden"&&(i=y.style.overflow),y.style.overflow==="hidden")return s.value=!0;if(s.value)return y.style.overflow="hidden"}},{immediate:!0});const u=()=>{const h=Md(pt(e));!h||s.value||(of&&(o=ti(h,"touchmove",m=>{xk(m)},{passive:!1})),h.style.overflow="hidden",s.value=!0)},f=()=>{const h=Md(pt(e));!h||!s.value||(of&&(o==null||o()),h.style.overflow=i,Od.delete(h),s.value=!1)};return mo(f),de({get(){return s.value},set(h){h?u():f()}})}const Ad="modal-open",Ck=()=>{const e=tn(av),t=o=>{e==null||e.removeStack(o),e==null||e.removeRegistry(o)},s=Lk("updateHTMLAttrs",(o,i,u)=>{const f=typeof o=="string"?window==null?void 0:window.document.querySelector(o):Br(o);f&&(i==="class"?f.classList.toggle(Ad,u===Ad):f.setAttribute(i,u))});return mo(()=>{s("body","class","")}),tt(()=>e==null?void 0:e.countStack.value,o=>{o!==void 0&&s("body","class",o>0?Ad:"")}),{...e,dispose:t}},Pk=(e,t)=>{const{pushRegistry:s,pushStack:o,removeStack:i,stack:u,dispose:f,countStack:h}=Ck(),m=ri();if(!m||m.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");s==null||s(m),mo(()=>{f(m)});const y=(v,w)=>{v?o==null||o(m):w&&!v&&(i==null||i(m))};return y(t,t),tt(e,y),{activePosition:de(()=>u==null?void 0:u.value.findIndex(v=>{var w,x;return pt((w=v.exposed)==null?void 0:w.id)===pt((x=m.exposed)==null?void 0:x.id)})),activeModalCount:h,stackWithoutSelf:de(()=>(u==null?void 0:u.value.filter(v=>{var w,x;return pt((w=v.exposed)==null?void 0:w.id)!==pt((x=m.exposed)==null?void 0:x.id)}))??[])}},lc=e=>{if(e)return typeof e=="string"?typeof document>"u"?void 0:document.getElementById(e)??document.querySelector(e)??void 0:e.$el??e},Pp=(e,t)=>e.setAttribute("data-bs-theme",t),Ik={mounted(e,t){Pp(e,t.value)},updated(e,t){Pp(e,t.value)}},Nk=/\s+/,Mk=/^#/,Ok=/^#[A-Za-z]+[\w\-:.]*$/;function Ak(e,t){var s,o;return(t.ctx===e.instance.$?(s=Rk(t,e.instance.$))==null?void 0:s.provides:(o=t.ctx)==null?void 0:o.provides)??e.instance.$.provides}function Rk(e,t){const s=new Set,o=u=>{var f,h;for(const m of u){if(!m)continue;if(m===e||m.el&&e.el&&m.el===e.el)return!0;s.add(m);let y;if(m.suspense?y=o([m.ssContent]):Array.isArray(m.children)?y=o(m.children):(f=m.component)!=null&&f.vnode&&(y=o([(h=m.component)==null?void 0:h.subTree])),y)return y;s.delete(m)}return!1};if(!o([t.subTree]))return console.error("Could not find original vnode,  will not inherit provides"),t;const i=Array.from(s).reverse();for(const u of i)if(u.component)return u.component;return t}const Dk=(e,t)=>{const{modifiers:s,arg:o,value:i}=e,u=Object.keys(s||{}),f=typeof i=="string"?i.split(Nk):i;if(t.tagName.toLowerCase()==="a"){const h=t.getAttribute("href")||"";Ok.test(h)&&u.push(h.replace(Mk,""))}return Array.prototype.concat.apply([],[o,f]).forEach(h=>typeof h=="string"&&u.push(h)),u.filter((h,m,y)=>h&&y.indexOf(h)===m)},Ip=(e,t,s,o)=>{var i;const f=(i=Ak(s,o)[Vc])==null?void 0:i.map;e.forEach(h=>{if(f!=null&&f[h]){f[h].toggle();return}const m=document.getElementById(h);m!==null&&m.dispatchEvent(new Event("bv-toggle"))}),setTimeout(()=>pv(e,t),50)},pv=(e,t)=>{let s=!1;e.forEach(o=>{const i=document.getElementById(o);i!=null&&i.classList.contains("show")&&(s=!0),i!=null&&i.classList.contains("closing")&&(s=!1)}),t.setAttribute("aria-expanded",s?"true":"false"),t.classList.remove(s?"collapsed":"not-collapsed"),t.classList.add(s?"not-collapsed":"collapsed")},Np=(e,t,s)=>{const o=Dk(t,e);o.length!==0&&(e.__toggle?setTimeout(()=>{e.removeEventListener("click",e.__toggle),e.__toggle=()=>Ip(o,e,t,s),e.addEventListener("click",e.__toggle)},0):(e.__toggle=()=>Ip(o,e,t,s),e.addEventListener("click",e.__toggle)),e.setAttribute("aria-controls",o.join(" ")),pv(o,e))},mv={mounted:Np,updated:Np,unmounted(e){e.removeEventListener("click",e.__toggle),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded")}};function Bk(e,t=gv("injectSelf")){const{provides:s}=t;if(s&&e in s)return s[e]}function gv(e,t){const s=ri();if(!s)throw new Error(`[Bvn] ${e} must be called from inside a setup function`);return s}const Fk=(e="")=>e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase(),Mp=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);function _v(e={},t={},s){const o={};for(const i in e)o[i]=e[i];for(const i in t){const u=e[i],f=t[i];if(Mp(u)&&Mp(f)){o[i]=_v(u,f);continue}o[i]=f}return o}const zk=(e,t)=>{var s,o;return typeof((s=e.props)==null?void 0:s[t])<"u"||typeof((o=e.props)==null?void 0:o[Fk(t)])<"u"};function $k(e={},t){const s=tn(zl,ze({})),o=gv("useDefaults");if(t=t??o.type.name??o.type.__name,!t)throw new Error("[Bvn] Could not determine component name");const i=de(()=>{var m;return(m=s.value)==null?void 0:m[e._as??t]}),u=new Proxy(e,{get(m,y){var v,w,x,P;const O=Reflect.get(m,y);return y==="class"||y==="style"?[(v=i.value)==null?void 0:v[y],O].filter(B=>B!=null):typeof y=="string"&&!zk(o.vnode,y)?((w=i.value)==null?void 0:w[y])??((P=(x=s.value)==null?void 0:x.global)==null?void 0:P[y])??O:O}}),f=Mn();mu(()=>{if(i.value){const m=Object.entries(i.value).filter(([y])=>y.startsWith(y[0].toUpperCase()));f.value=m.length?Object.fromEntries(m):void 0}else f.value=void 0});function h(){const m=Bk(zl,o);ms(zl,de(()=>f.value?_v((m==null?void 0:m.value)??{},f.value):m==null?void 0:m.value))}return{props:u,provideSubDefaults:h}}function un(e,t){const{props:s,provideSubDefaults:o}=$k(e,t);return o(),s}const go=(e,t)=>{const s=y_();return de(()=>pt(e)||Jf(s||"",t))},Qf=Et({name:"ConditionalTeleport",inheritAttrs:!1,props:{to:{type:[String,Object],default:null},disabled:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t}){return()=>{var s,o;return e.to?di(wb,{to:e.to,disabled:e.disabled||!e.to},[(o=t.default)==null?void 0:o.call(t,{})]):(s=t.default)==null?void 0:s.call(t,{})}}});var Uk=Object.defineProperty,Gk=(e,t,s)=>t in e?Uk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Mr=(e,t,s)=>Gk(e,typeof t!="symbol"?t+"":t,s);class cc{constructor(t,s={}){if(Mr(this,"cancelable",!0),Mr(this,"componentId",null),Mr(this,"_defaultPrevented",!1),Mr(this,"eventType",""),Mr(this,"nativeEvent",null),Mr(this,"_preventDefault"),Mr(this,"relatedTarget",null),Mr(this,"target",null),!t)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,cc.Defaults,s,{eventType:t}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(t){this._defaultPrevented=t}get preventDefault(){return this._preventDefault}set preventDefault(t){this._preventDefault=t}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class Hk extends cc{constructor(t,s={}){super(t,s),Mr(this,"trigger",null),Object.assign(this,cc.Defaults,s,{eventType:t})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Op={name:"fade",enterActiveClass:"",enterFromClass:"showing",enterToClass:"",leaveActiveClass:"",leaveFromClass:"",leaveToClass:"showing",css:!0},qc=(e,t,s,o,i,u={transitionProps:{},showFn:()=>{},hideFn:()=>{}})=>{var f;let h=!1;const m=!!e.value&&!t.initialAnimation||t.visible||!1,y=ze(m),v=ze(m),w=ze(m);let x=typeof e.value!="boolean";tt(e,()=>{if(x=typeof e.value!="boolean",h){h=!1;return}e.value?H():_()});const P=ze(m),O=ze(!1),B=de(()=>t.noAnimation||t.noFade||P.value||!1);Mi(()=>{var Le;if(!t.show&&m){const Te=q("show",{cancelable:!0});if(s("show",Te),Te.defaultPrevented){s("show-prevented",q("show-prevented"));return}P.value=!0,e.value||(h=!0,e.value=!0),v.value=!0,w.value=!0,K.value=!0,Re.value=!0,Oe.value=!0,y.value=!0,(Le=u.showFn)==null||Le.call(u)}else(t.show||e.value&&t.initialAnimation)&&H()}),tt(()=>t.visible,Le=>{P.value=!0,qn(()=>{Le&&(K.value=!0),Le?H():_()})}),tt(()=>t.show,Le=>{Le?H():_()}),ti(o,"bv-toggle",()=>{e.value=!e.value});const q=(Le,Te={})=>new Hk(Le,{cancelable:!1,target:(o==null?void 0:o.value)||null,relatedTarget:null,trigger:null,...Te,componentId:i==null?void 0:i.value});let A,z;const H=()=>{if(y.value&&!z)return;const Le=q("show",{cancelable:!0});if(s("show",Le),Le.defaultPrevented){s("show-prevented",q("show-prevented")),K.value&&(K.value=!1),e.value&&!x&&(h=!0,qn(()=>{e.value=!1}));return}z&&(clearTimeout(z),z=void 0),v.value=!0,w.value=!0,requestAnimationFrame(()=>{var Te;A=setTimeout(()=>{var ce;A=void 0,y.value=!0,(ce=u.showFn)==null||ce.call(u),e.value||(h=!0,qn(()=>{e.value=!0}))},P.value?0:typeof t.delay=="number"?t.delay:((Te=t.delay)==null?void 0:Te.show)||0)})},_=Le=>{var Te;if(!y.value&&!A)return;const ce=q("hide",{cancelable:!0,trigger:Le}),Y=q(Le||"ignore",{cancelable:!0,trigger:Le});if(Le==="backdrop"&&t.noCloseOnBackdrop||Le==="esc"&&t.noCloseOnEsc){s("hide-prevented",q("hide-prevented"));return}if(Le&&s(Le,Y),s("hide",ce),ce.defaultPrevented||Y.defaultPrevented){s("hide-prevented",q("hide-prevented")),e.value||qn(()=>{h=!0,e.value=!0});return}A&&(clearTimeout(A),A=void 0,O.value||(v.value=!1),w.value=!1),z=setTimeout(()=>{var xe;z=void 0,X.value=!0,y.value=!1,(xe=u.hideFn)==null||xe.call(u),e.value&&(h=!0,e.value=x?0:!1)},P.value?0:typeof t.delay=="number"?t.delay:((Te=t.delay)==null?void 0:Te.hide)||0)},T=Sp(Le=>_(Le),500),E=Sp(()=>H(),500),C=()=>{const Le=q("toggle",{cancelable:!0});if(s("toggle",Le),Le.defaultPrevented){s("toggle-prevented",q("toggle-prevented"));return}y.value?_():H()},F=(f=tn(Vc,void 0))==null?void 0:f({id:i.value,toggle:C,show:H,hide:_,value:jn(y)});$c(()=>{F==null||F.unregister()});const D=ze(!1),R=()=>{t.lazy===!0&&(D.value=!0)},X=ze(!1),ee=ze(m),K=ze(m),j=Le=>{var Te,ce,Y,xe;(ce=(Te=u.transitionProps)==null?void 0:Te.onBeforeEnter)==null||ce.call(Te,Le),(xe=(Y=t.transitionProps)==null?void 0:Y.onBeforeEnter)==null||xe.call(Y,Le),ee.value=!0},ie=Le=>{var Te,ce,Y,xe;requestAnimationFrame(()=>{requestAnimationFrame(()=>{K.value=!0})}),(ce=(Te=u.transitionProps)==null?void 0:Te.onEnter)==null||ce.call(Te,Le),(xe=(Y=t.transitionProps)==null?void 0:Y.onEnter)==null||xe.call(Y,Le)},V=Le=>{var Te,ce,Y,xe;s("shown",q("shown")),R(),(ce=(Te=u.transitionProps)==null?void 0:Te.onAfterEnter)==null||ce.call(Te,Le),(xe=(Y=t.transitionProps)==null?void 0:Y.onAfterEnter)==null||xe.call(Y,Le),P.value&&requestAnimationFrame(()=>{P.value=!1}),O.value&&(O.value=!1)},re=Le=>{var Te,ce,Y,xe;X.value||(X.value=!0),(ce=(Te=u.transitionProps)==null?void 0:Te.onBeforeLeave)==null||ce.call(Te,Le),(xe=(Y=t.transitionProps)==null?void 0:Y.onBeforeLeave)==null||xe.call(Y,Le)},oe=Le=>{var Te,ce,Y,xe;K.value=!1,(ce=(Te=u.transitionProps)==null?void 0:Te.onLeave)==null||ce.call(Te,Le),(xe=(Y=t.transitionProps)==null?void 0:Y.onLeave)==null||xe.call(Y,Le)},_e=Le=>{var Te,ce,Y,xe;s("hidden",q("hidden")),(ce=(Te=u.transitionProps)==null?void 0:Te.onAfterLeave)==null||ce.call(Te,Le),(xe=(Y=t.transitionProps)==null?void 0:Y.onAfterLeave)==null||xe.call(Y,Le),X.value=!1,ee.value=!1,P.value&&requestAnimationFrame(()=>{P.value=!1}),requestAnimationFrame(()=>{O.value||(v.value=!1)})},le=de(()=>O.value===!0||ee.value===!0||t.lazy===!1||t.lazy===!0&&D.value===!0&&t.unmountLazy===!1),we=ze(!1);tt(K,Le=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{we.value=Le},32)})})})})});const Re=ze(!1),Oe=ze(!1),Pe={...u.transitionProps,onBeforeEnter:j,onEnter:ie,onAfterEnter:V,onBeforeLeave:re,onLeave:oe,onAfterLeave:_e};return{showRef:y,renderRef:v,renderBackdropRef:w,isVisible:K,isActive:ee,trapActive:we,show:H,hide:_,toggle:C,throttleHide:T,throttleShow:E,buildTriggerableEvent:q,computedNoAnimation:B,localNoAnimation:P,localTemporaryHide:O,isLeaving:X,transitionProps:{...Op,...t.transitionProps,...Pe},lazyLoadCompleted:D,markLazyLoadCompleted:R,contentShowing:le,backdropReady:Oe,backdropVisible:Re,backdropTransitionProps:{...Op,onBeforeEnter:()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{Re.value=!0})}),Oe.value=!1},onAfterEnter:()=>{Oe.value=!0},onBeforeLeave:()=>{Re.value=!1},onAfterLeave:()=>{Oe.value=!1,requestAnimationFrame(()=>{w.value=!1})}}}},eh=(e,t)=>{const s=e.__vccOpts||e;for(const[o,i]of t)s[o]=i;return s},vv=["top","right","bottom","left"],Ap=["start","end"],Rp=vv.reduce((e,t)=>e.concat(t,t+"-"+Ap[0],t+"-"+Ap[1]),[]),Vi=Math.min,Nn=Math.max,dc=Math.round,El=Math.floor,fr=e=>({x:e,y:e}),Vk={left:"right",right:"left",bottom:"top",top:"bottom"},qk={start:"end",end:"start"};function af(e,t,s){return Nn(e,Vi(t,s))}function qr(e,t){return typeof e=="function"?e(t):e}function Ni(e){return e.split("-")[0]}function $i(e){return e.split("-")[1]}function yv(e){return e==="x"?"y":"x"}function th(e){return e==="y"?"height":"width"}function ys(e){return["top","bottom"].includes(Ni(e))?"y":"x"}function nh(e){return yv(ys(e))}function bv(e,t,s){s===void 0&&(s=!1);const o=$i(e),i=nh(e),u=th(i);let f=i==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(f=hc(f)),[f,hc(f)]}function jk(e){const t=hc(e);return[fc(e),t,fc(t)]}function fc(e){return e.replace(/start|end/g,t=>qk[t])}function Wk(e,t,s){const o=["left","right"],i=["right","left"],u=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:o:t?o:i;case"left":case"right":return t?u:f;default:return[]}}function Zk(e,t,s,o){const i=$i(e);let u=Wk(Ni(e),s==="start",o);return i&&(u=u.map(f=>f+"-"+i),t&&(u=u.concat(u.map(fc)))),u}function hc(e){return e.replace(/left|right|bottom|top/g,t=>Vk[t])}function Yk(e){return{top:0,right:0,bottom:0,left:0,...e}}function ih(e){return typeof e!="number"?Yk(e):{top:e,right:e,bottom:e,left:e}}function sa(e){const{x:t,y:s,width:o,height:i}=e;return{width:o,height:i,top:s,left:t,right:t+o,bottom:s+i,x:t,y:s}}function Dp(e,t,s){let{reference:o,floating:i}=e;const u=ys(t),f=nh(t),h=th(f),m=Ni(t),y=u==="y",v=o.x+o.width/2-i.width/2,w=o.y+o.height/2-i.height/2,x=o[h]/2-i[h]/2;let P;switch(m){case"top":P={x:v,y:o.y-i.height};break;case"bottom":P={x:v,y:o.y+o.height};break;case"right":P={x:o.x+o.width,y:w};break;case"left":P={x:o.x-i.width,y:w};break;default:P={x:o.x,y:o.y}}switch($i(t)){case"start":P[f]-=x*(s&&y?-1:1);break;case"end":P[f]+=x*(s&&y?-1:1);break}return P}const Xk=async(e,t,s)=>{const{placement:o="bottom",strategy:i="absolute",middleware:u=[],platform:f}=s,h=u.filter(Boolean),m=await(f.isRTL==null?void 0:f.isRTL(t));let y=await f.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y:w}=Dp(y,o,m),x=o,P={},O=0;for(let B=0;B<h.length;B++){const{name:q,fn:A}=h[B],{x:z,y:H,data:_,reset:T}=await A({x:v,y:w,initialPlacement:o,placement:x,strategy:i,middlewareData:P,rects:y,platform:f,elements:{reference:e,floating:t}});v=z??v,w=H??w,P={...P,[q]:{...P[q],..._}},T&&O<=50&&(O++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(y=T.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:v,y:w}=Dp(y,x,m)),B=-1)}return{x:v,y:w,placement:x,strategy:i,middlewareData:P}};async function oa(e,t){var s;t===void 0&&(t={});const{x:o,y:i,platform:u,rects:f,elements:h,strategy:m}=e,{boundary:y="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:x=!1,padding:P=0}=qr(t,e),O=ih(P),q=h[x?w==="floating"?"reference":"floating":w],A=sa(await u.getClippingRect({element:(s=await(u.isElement==null?void 0:u.isElement(q)))==null||s?q:q.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(h.floating)),boundary:y,rootBoundary:v,strategy:m})),z=w==="floating"?{x:o,y:i,width:f.floating.width,height:f.floating.height}:f.reference,H=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h.floating)),_=await(u.isElement==null?void 0:u.isElement(H))?await(u.getScale==null?void 0:u.getScale(H))||{x:1,y:1}:{x:1,y:1},T=sa(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:z,offsetParent:H,strategy:m}):z);return{top:(A.top-T.top+O.top)/_.y,bottom:(T.bottom-A.bottom+O.bottom)/_.y,left:(A.left-T.left+O.left)/_.x,right:(T.right-A.right+O.right)/_.x}}const Kk=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:o,placement:i,rects:u,platform:f,elements:h,middlewareData:m}=t,{element:y,padding:v=0}=qr(e,t)||{};if(y==null)return{};const w=ih(v),x={x:s,y:o},P=nh(i),O=th(P),B=await f.getDimensions(y),q=P==="y",A=q?"top":"left",z=q?"bottom":"right",H=q?"clientHeight":"clientWidth",_=u.reference[O]+u.reference[P]-x[P]-u.floating[O],T=x[P]-u.reference[P],E=await(f.getOffsetParent==null?void 0:f.getOffsetParent(y));let C=E?E[H]:0;(!C||!await(f.isElement==null?void 0:f.isElement(E)))&&(C=h.floating[H]||u.floating[O]);const F=_/2-T/2,D=C/2-B[O]/2-1,R=Vi(w[A],D),X=Vi(w[z],D),ee=R,K=C-B[O]-X,j=C/2-B[O]/2+F,ie=af(ee,j,K),V=!m.arrow&&$i(i)!=null&&j!==ie&&u.reference[O]/2-(j<ee?R:X)-B[O]/2<0,re=V?j<ee?j-ee:j-K:0;return{[P]:x[P]+re,data:{[P]:ie,centerOffset:j-ie-re,...V&&{alignmentOffset:re}},reset:V}}});function Jk(e,t,s){return(e?[...s.filter(i=>$i(i)===e),...s.filter(i=>$i(i)!==e)]:s.filter(i=>Ni(i)===i)).filter(i=>e?$i(i)===e||(t?fc(i)!==i:!1):!0)}const Qk=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var s,o,i;const{rects:u,middlewareData:f,placement:h,platform:m,elements:y}=t,{crossAxis:v=!1,alignment:w,allowedPlacements:x=Rp,autoAlignment:P=!0,...O}=qr(e,t),B=w!==void 0||x===Rp?Jk(w||null,P,x):x,q=await oa(t,O),A=((s=f.autoPlacement)==null?void 0:s.index)||0,z=B[A];if(z==null)return{};const H=bv(z,u,await(m.isRTL==null?void 0:m.isRTL(y.floating)));if(h!==z)return{reset:{placement:B[0]}};const _=[q[Ni(z)],q[H[0]],q[H[1]]],T=[...((o=f.autoPlacement)==null?void 0:o.overflows)||[],{placement:z,overflows:_}],E=B[A+1];if(E)return{data:{index:A+1,overflows:T},reset:{placement:E}};const C=T.map(R=>{const X=$i(R.placement);return[R.placement,X&&v?R.overflows.slice(0,2).reduce((ee,K)=>ee+K,0):R.overflows[0],R.overflows]}).sort((R,X)=>R[1]-X[1]),D=((i=C.filter(R=>R[2].slice(0,$i(R[0])?2:3).every(X=>X<=0))[0])==null?void 0:i[0])||C[0][0];return D!==h?{data:{index:A+1,overflows:T},reset:{placement:D}}:{}}}},e1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,o;const{placement:i,middlewareData:u,rects:f,initialPlacement:h,platform:m,elements:y}=t,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:x,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:B=!0,...q}=qr(e,t);if((s=u.arrow)!=null&&s.alignmentOffset)return{};const A=Ni(i),z=ys(h),H=Ni(h)===h,_=await(m.isRTL==null?void 0:m.isRTL(y.floating)),T=x||(H||!B?[hc(h)]:jk(h)),E=O!=="none";!x&&E&&T.push(...Zk(h,B,O,_));const C=[h,...T],F=await oa(t,q),D=[];let R=((o=u.flip)==null?void 0:o.overflows)||[];if(v&&D.push(F[A]),w){const j=bv(i,f,_);D.push(F[j[0]],F[j[1]])}if(R=[...R,{placement:i,overflows:D}],!D.every(j=>j<=0)){var X,ee;const j=(((X=u.flip)==null?void 0:X.index)||0)+1,ie=C[j];if(ie)return{data:{index:j,overflows:R},reset:{placement:ie}};let V=(ee=R.filter(re=>re.overflows[0]<=0).sort((re,oe)=>re.overflows[1]-oe.overflows[1])[0])==null?void 0:ee.placement;if(!V)switch(P){case"bestFit":{var K;const re=(K=R.filter(oe=>{if(E){const _e=ys(oe.placement);return _e===z||_e==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(_e=>_e>0).reduce((_e,le)=>_e+le,0)]).sort((oe,_e)=>oe[1]-_e[1])[0])==null?void 0:K[0];re&&(V=re);break}case"initialPlacement":V=h;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function Bp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fp(e){return vv.some(t=>e[t]>=0)}const t1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:o="referenceHidden",...i}=qr(e,t);switch(o){case"referenceHidden":{const u=await oa(t,{...i,elementContext:"reference"}),f=Bp(u,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:Fp(f)}}}case"escaped":{const u=await oa(t,{...i,altBoundary:!0}),f=Bp(u,s.floating);return{data:{escapedOffsets:f,escaped:Fp(f)}}}default:return{}}}}};function wv(e){const t=Vi(...e.map(u=>u.left)),s=Vi(...e.map(u=>u.top)),o=Nn(...e.map(u=>u.right)),i=Nn(...e.map(u=>u.bottom));return{x:t,y:s,width:o-t,height:i-s}}function n1(e){const t=e.slice().sort((i,u)=>i.y-u.y),s=[];let o=null;for(let i=0;i<t.length;i++){const u=t[i];!o||u.y-o.y>o.height/2?s.push([u]):s[s.length-1].push(u),o=u}return s.map(i=>sa(wv(i)))}const i1=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:s,elements:o,rects:i,platform:u,strategy:f}=t,{padding:h=2,x:m,y}=qr(e,t),v=Array.from(await(u.getClientRects==null?void 0:u.getClientRects(o.reference))||[]),w=n1(v),x=sa(wv(v)),P=ih(h);function O(){if(w.length===2&&w[0].left>w[1].right&&m!=null&&y!=null)return w.find(q=>m>q.left-P.left&&m<q.right+P.right&&y>q.top-P.top&&y<q.bottom+P.bottom)||x;if(w.length>=2){if(ys(s)==="y"){const R=w[0],X=w[w.length-1],ee=Ni(s)==="top",K=R.top,j=X.bottom,ie=ee?R.left:X.left,V=ee?R.right:X.right,re=V-ie,oe=j-K;return{top:K,bottom:j,left:ie,right:V,width:re,height:oe,x:ie,y:K}}const q=Ni(s)==="left",A=Nn(...w.map(R=>R.right)),z=Vi(...w.map(R=>R.left)),H=w.filter(R=>q?R.left===z:R.right===A),_=H[0].top,T=H[H.length-1].bottom,E=z,C=A,F=C-E,D=T-_;return{top:_,bottom:T,left:E,right:C,width:F,height:D,x:E,y:_}}return x}const B=await u.getElementRects({reference:{getBoundingClientRect:O},floating:o.floating,strategy:f});return i.reference.x!==B.reference.x||i.reference.y!==B.reference.y||i.reference.width!==B.reference.width||i.reference.height!==B.reference.height?{reset:{rects:B}}:{}}}};async function r1(e,t){const{placement:s,platform:o,elements:i}=e,u=await(o.isRTL==null?void 0:o.isRTL(i.floating)),f=Ni(s),h=$i(s),m=ys(s)==="y",y=["left","top"].includes(f)?-1:1,v=u&&m?-1:1,w=qr(t,e);let{mainAxis:x,crossAxis:P,alignmentAxis:O}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof O=="number"&&(P=h==="end"?O*-1:O),m?{x:P*v,y:x*y}:{x:x*y,y:P*v}}const s1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,o;const{x:i,y:u,placement:f,middlewareData:h}=t,m=await r1(t,e);return f===((s=h.offset)==null?void 0:s.placement)&&(o=h.arrow)!=null&&o.alignmentOffset?{}:{x:i+m.x,y:u+m.y,data:{...m,placement:f}}}}},o1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:o,placement:i}=t,{mainAxis:u=!0,crossAxis:f=!1,limiter:h={fn:q=>{let{x:A,y:z}=q;return{x:A,y:z}}},...m}=qr(e,t),y={x:s,y:o},v=await oa(t,m),w=ys(Ni(i)),x=yv(w);let P=y[x],O=y[w];if(u){const q=x==="y"?"top":"left",A=x==="y"?"bottom":"right",z=P+v[q],H=P-v[A];P=af(z,P,H)}if(f){const q=w==="y"?"top":"left",A=w==="y"?"bottom":"right",z=O+v[q],H=O-v[A];O=af(z,O,H)}const B=h.fn({...t,[x]:P,[w]:O});return{...B,data:{x:B.x-s,y:B.y-o,enabled:{[x]:u,[w]:f}}}}}},a1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,o;const{placement:i,rects:u,platform:f,elements:h}=t,{apply:m=()=>{},...y}=qr(e,t),v=await oa(t,y),w=Ni(i),x=$i(i),P=ys(i)==="y",{width:O,height:B}=u.floating;let q,A;w==="top"||w==="bottom"?(q=w,A=x===(await(f.isRTL==null?void 0:f.isRTL(h.floating))?"start":"end")?"left":"right"):(A=w,q=x==="end"?"top":"bottom");const z=B-v.top-v.bottom,H=O-v.left-v.right,_=Vi(B-v[q],z),T=Vi(O-v[A],H),E=!t.middlewareData.shift;let C=_,F=T;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(F=H),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(C=z),E&&!x){const R=Nn(v.left,0),X=Nn(v.right,0),ee=Nn(v.top,0),K=Nn(v.bottom,0);P?F=O-2*(R!==0||X!==0?R+X:Nn(v.left,v.right)):C=B-2*(ee!==0||K!==0?ee+K:Nn(v.top,v.bottom))}await m({...t,availableWidth:F,availableHeight:C});const D=await f.getDimensions(h.floating);return O!==D.width||B!==D.height?{reset:{rects:!0}}:{}}}};function jc(){return typeof window<"u"}function _o(e){return rh(e)?(e.nodeName||"").toLowerCase():"#document"}function fi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(rh(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rh(e){return jc()?e instanceof Node||e instanceof fi(e).Node:!1}function qi(e){return jc()?e instanceof Element||e instanceof fi(e).Element:!1}function pr(e){return jc()?e instanceof HTMLElement||e instanceof fi(e).HTMLElement:!1}function zp(e){return!jc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fi(e).ShadowRoot}function Wu(e){const{overflow:t,overflowX:s,overflowY:o,display:i}=ji(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+s)&&!["inline","contents"].includes(i)}function u1(e){return["table","td","th"].includes(_o(e))}function Wc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sh(e){const t=oh(),s=qi(e)?ji(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(s.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(s.contain||"").includes(o))}function l1(e){let t=bs(e);for(;pr(t)&&!aa(t);){if(sh(t))return t;if(Wc(t))return null;t=bs(t)}return null}function oh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aa(e){return["html","body","#document"].includes(_o(e))}function ji(e){return fi(e).getComputedStyle(e)}function Zc(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bs(e){if(_o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zp(e)&&e.host||vr(e);return zp(t)?t.host:t}function kv(e){const t=bs(e);return aa(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&Wu(t)?t:kv(t)}function Ou(e,t,s){var o;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=kv(e),u=i===((o=e.ownerDocument)==null?void 0:o.body),f=fi(i);if(u){const h=uf(f);return t.concat(f,f.visualViewport||[],Wu(i)?i:[],h&&s?Ou(h):[])}return t.concat(i,Ou(i,[],s))}function uf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Lv(e){const t=ji(e);let s=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=pr(e),u=i?e.offsetWidth:s,f=i?e.offsetHeight:o,h=dc(s)!==u||dc(o)!==f;return h&&(s=u,o=f),{width:s,height:o,$:h}}function ah(e){return qi(e)?e:e.contextElement}function ea(e){const t=ah(e);if(!pr(t))return fr(1);const s=t.getBoundingClientRect(),{width:o,height:i,$:u}=Lv(t);let f=(u?dc(s.width):s.width)/o,h=(u?dc(s.height):s.height)/i;return(!f||!Number.isFinite(f))&&(f=1),(!h||!Number.isFinite(h))&&(h=1),{x:f,y:h}}const c1=fr(0);function Ev(e){const t=fi(e);return!oh()||!t.visualViewport?c1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function d1(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==fi(e)?!1:t}function lo(e,t,s,o){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),u=ah(e);let f=fr(1);t&&(o?qi(o)&&(f=ea(o)):f=ea(e));const h=d1(u,s,o)?Ev(u):fr(0);let m=(i.left+h.x)/f.x,y=(i.top+h.y)/f.y,v=i.width/f.x,w=i.height/f.y;if(u){const x=fi(u),P=o&&qi(o)?fi(o):o;let O=x,B=uf(O);for(;B&&o&&P!==O;){const q=ea(B),A=B.getBoundingClientRect(),z=ji(B),H=A.left+(B.clientLeft+parseFloat(z.paddingLeft))*q.x,_=A.top+(B.clientTop+parseFloat(z.paddingTop))*q.y;m*=q.x,y*=q.y,v*=q.x,w*=q.y,m+=H,y+=_,O=fi(B),B=uf(O)}}return sa({width:v,height:w,x:m,y})}function uh(e,t){const s=Zc(e).scrollLeft;return t?t.left+s:lo(vr(e)).left+s}function Tv(e,t,s){s===void 0&&(s=!1);const o=e.getBoundingClientRect(),i=o.left+t.scrollLeft-(s?0:uh(e,o)),u=o.top+t.scrollTop;return{x:i,y:u}}function f1(e){let{elements:t,rect:s,offsetParent:o,strategy:i}=e;const u=i==="fixed",f=vr(o),h=t?Wc(t.floating):!1;if(o===f||h&&u)return s;let m={scrollLeft:0,scrollTop:0},y=fr(1);const v=fr(0),w=pr(o);if((w||!w&&!u)&&((_o(o)!=="body"||Wu(f))&&(m=Zc(o)),pr(o))){const P=lo(o);y=ea(o),v.x=P.x+o.clientLeft,v.y=P.y+o.clientTop}const x=f&&!w&&!u?Tv(f,m,!0):fr(0);return{width:s.width*y.x,height:s.height*y.y,x:s.x*y.x-m.scrollLeft*y.x+v.x+x.x,y:s.y*y.y-m.scrollTop*y.y+v.y+x.y}}function h1(e){return Array.from(e.getClientRects())}function p1(e){const t=vr(e),s=Zc(e),o=e.ownerDocument.body,i=Nn(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),u=Nn(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let f=-s.scrollLeft+uh(e);const h=-s.scrollTop;return ji(o).direction==="rtl"&&(f+=Nn(t.clientWidth,o.clientWidth)-i),{width:i,height:u,x:f,y:h}}function m1(e,t){const s=fi(e),o=vr(e),i=s.visualViewport;let u=o.clientWidth,f=o.clientHeight,h=0,m=0;if(i){u=i.width,f=i.height;const y=oh();(!y||y&&t==="fixed")&&(h=i.offsetLeft,m=i.offsetTop)}return{width:u,height:f,x:h,y:m}}function g1(e,t){const s=lo(e,!0,t==="fixed"),o=s.top+e.clientTop,i=s.left+e.clientLeft,u=pr(e)?ea(e):fr(1),f=e.clientWidth*u.x,h=e.clientHeight*u.y,m=i*u.x,y=o*u.y;return{width:f,height:h,x:m,y}}function $p(e,t,s){let o;if(t==="viewport")o=m1(e,s);else if(t==="document")o=p1(vr(e));else if(qi(t))o=g1(t,s);else{const i=Ev(e);o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return sa(o)}function xv(e,t){const s=bs(e);return s===t||!qi(s)||aa(s)?!1:ji(s).position==="fixed"||xv(s,t)}function _1(e,t){const s=t.get(e);if(s)return s;let o=Ou(e,[],!1).filter(h=>qi(h)&&_o(h)!=="body"),i=null;const u=ji(e).position==="fixed";let f=u?bs(e):e;for(;qi(f)&&!aa(f);){const h=ji(f),m=sh(f);!m&&h.position==="fixed"&&(i=null),(u?!m&&!i:!m&&h.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wu(f)&&!m&&xv(e,f))?o=o.filter(v=>v!==f):i=h,f=bs(f)}return t.set(e,o),o}function v1(e){let{element:t,boundary:s,rootBoundary:o,strategy:i}=e;const f=[...s==="clippingAncestors"?Wc(t)?[]:_1(t,this._c):[].concat(s),o],h=f[0],m=f.reduce((y,v)=>{const w=$p(t,v,i);return y.top=Nn(w.top,y.top),y.right=Vi(w.right,y.right),y.bottom=Vi(w.bottom,y.bottom),y.left=Nn(w.left,y.left),y},$p(t,h,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function y1(e){const{width:t,height:s}=Lv(e);return{width:t,height:s}}function b1(e,t,s){const o=pr(t),i=vr(t),u=s==="fixed",f=lo(e,!0,u,t);let h={scrollLeft:0,scrollTop:0};const m=fr(0);if(o||!o&&!u)if((_o(t)!=="body"||Wu(i))&&(h=Zc(t)),o){const x=lo(t,!0,u,t);m.x=x.x+t.clientLeft,m.y=x.y+t.clientTop}else i&&(m.x=uh(i));const y=i&&!o&&!u?Tv(i,h):fr(0),v=f.left+h.scrollLeft-m.x-y.x,w=f.top+h.scrollTop-m.y-y.y;return{x:v,y:w,width:f.width,height:f.height}}function Rd(e){return ji(e).position==="static"}function Up(e,t){if(!pr(e)||ji(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return vr(e)===s&&(s=s.ownerDocument.body),s}function Sv(e,t){const s=fi(e);if(Wc(e))return s;if(!pr(e)){let i=bs(e);for(;i&&!aa(i);){if(qi(i)&&!Rd(i))return i;i=bs(i)}return s}let o=Up(e,t);for(;o&&u1(o)&&Rd(o);)o=Up(o,t);return o&&aa(o)&&Rd(o)&&!sh(o)?s:o||l1(e)||s}const w1=async function(e){const t=this.getOffsetParent||Sv,s=this.getDimensions,o=await s(e.floating);return{reference:b1(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function k1(e){return ji(e).direction==="rtl"}const L1={convertOffsetParentRelativeRectToViewportRelativeRect:f1,getDocumentElement:vr,getClippingRect:v1,getOffsetParent:Sv,getElementRects:w1,getClientRects:h1,getDimensions:y1,getScale:ea,isElement:qi,isRTL:k1};function E1(e,t){let s=null,o;const i=vr(e);function u(){var h;clearTimeout(o),(h=s)==null||h.disconnect(),s=null}function f(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),u();const{left:y,top:v,width:w,height:x}=e.getBoundingClientRect();if(h||t(),!w||!x)return;const P=El(v),O=El(i.clientWidth-(y+w)),B=El(i.clientHeight-(v+x)),q=El(y),z={rootMargin:-P+"px "+-O+"px "+-B+"px "+-q+"px",threshold:Nn(0,Vi(1,m))||1};let H=!0;function _(T){const E=T[0].intersectionRatio;if(E!==m){if(!H)return f();E?f(!1,E):o=setTimeout(()=>{f(!1,1e-7)},1e3)}H=!1}try{s=new IntersectionObserver(_,{...z,root:i.ownerDocument})}catch{s=new IntersectionObserver(_,z)}s.observe(e)}return f(!0),u}function Cv(e,t,s,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,y=ah(e),v=i||u?[...y?Ou(y):[],...Ou(t)]:[];v.forEach(A=>{i&&A.addEventListener("scroll",s,{passive:!0}),u&&A.addEventListener("resize",s)});const w=y&&h?E1(y,s):null;let x=-1,P=null;f&&(P=new ResizeObserver(A=>{let[z]=A;z&&z.target===y&&P&&(P.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var H;(H=P)==null||H.observe(t)})),s()}),y&&!m&&P.observe(y),P.observe(t));let O,B=m?lo(e):null;m&&q();function q(){const A=lo(e);B&&(A.x!==B.x||A.y!==B.y||A.width!==B.width||A.height!==B.height)&&s(),B=A,O=requestAnimationFrame(q)}return s(),()=>{var A;v.forEach(z=>{i&&z.removeEventListener("scroll",s),u&&z.removeEventListener("resize",s)}),w==null||w(),(A=P)==null||A.disconnect(),P=null,m&&cancelAnimationFrame(O)}}const Pv=s1,T1=Qk,Iv=o1,Nv=e1,Mv=a1,x1=t1,S1=Kk,C1=i1,P1=(e,t,s)=>{const o=new Map,i={platform:L1,...s},u={...i.platform,_c:o};return Xk(e,t,{...i,platform:u})};function I1(e){return e!=null&&typeof e=="object"&&"$el"in e}function lf(e){if(I1(e)){const t=e.$el;return rh(t)&&_o(t)==="#comment"?null:t}return e}function qo(e){return typeof e=="function"?e():W(e)}function N1(e){return{name:"arrow",options:e,fn(t){const s=lf(qo(e.element));return s==null?{}:S1({element:s,padding:e.padding}).fn(t)}}}function Ov(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gp(e,t){const s=Ov(e);return Math.round(t*s)/s}function Av(e,t,s){s===void 0&&(s={});const o=s.whileElementsMounted,i=de(()=>{var C;return(C=qo(s.open))!=null?C:!0}),u=de(()=>qo(s.middleware)),f=de(()=>{var C;return(C=qo(s.placement))!=null?C:"bottom"}),h=de(()=>{var C;return(C=qo(s.strategy))!=null?C:"absolute"}),m=de(()=>{var C;return(C=qo(s.transform))!=null?C:!0}),y=de(()=>lf(e.value)),v=de(()=>lf(t.value)),w=ze(0),x=ze(0),P=ze(h.value),O=ze(f.value),B=Mn({}),q=ze(!1),A=de(()=>{const C={position:P.value,left:"0",top:"0"};if(!v.value)return C;const F=Gp(v.value,w.value),D=Gp(v.value,x.value);return m.value?{...C,transform:"translate("+F+"px, "+D+"px)",...Ov(v.value)>=1.5&&{willChange:"transform"}}:{position:P.value,left:F+"px",top:D+"px"}});let z;function H(){if(y.value==null||v.value==null)return;const C=i.value;P1(y.value,v.value,{middleware:u.value,placement:f.value,strategy:h.value}).then(F=>{w.value=F.x,x.value=F.y,P.value=F.strategy,O.value=F.placement,B.value=F.middlewareData,q.value=C!==!1})}function _(){typeof z=="function"&&(z(),z=void 0)}function T(){if(_(),o===void 0){H();return}if(y.value!=null&&v.value!=null){z=o(y.value,v.value,H);return}}function E(){i.value||(q.value=!1)}return tt([u,f,h,i],H,{flush:"sync"}),tt([y,v],T,{flush:"sync"}),tt(i,E,{flush:"sync"}),Gf()&&Ql(_),{x:Go(w),y:Go(x),strategy:Go(P),placement:Go(O),middlewareData:Go(B),isPositioned:Go(q),floatingStyles:A,update:H}}const M1=uv(Tk),O1=["id"],A1=["id"],R1=Et({inheritAttrs:!1,__name:"BPopover",props:ii({boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},click:{type:Boolean,default:!1},closeOnHide:{type:Boolean,default:!1},content:{default:void 0},customClass:{default:""},delay:{default:()=>({show:100,hide:300})},floatingMiddleware:{default:void 0},hideMargin:{default:2},id:{default:void 0},inline:{type:Boolean,default:!1},manual:{type:Boolean,default:!1},noAutoClose:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noHide:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},noninteractive:{type:Boolean,default:!1},offset:{default:null},placement:{default:"top"},realtime:{type:Boolean,default:!1},reference:{default:null},strategy:{default:"absolute"},target:{default:null},title:{default:void 0},tooltip:{type:Boolean,default:!1},variant:{default:null},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["pointerleave","blur","click-outside","close-on-hide","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=un(e,"BPopover"),u=s,f=Vu(),h=hr(e,"modelValue"),m=go(()=>i.id,"popover"),y=ze(!1),v=an("_element"),w=an("_content"),x=an("_arrow"),P=an("_placeholder"),O=ze(null),B=ze(null),q=de(()=>i.placement.startsWith("auto")),A=Mu(()=>i.offset??NaN),z=de(()=>lh(i.boundary)?i.boundary:void 0),H=de(()=>Dv(i.boundary)?i.boundary:void 0),_=ze({}),T=de(()=>{if(i.floatingMiddleware!==void 0)return i.floatingMiddleware;const Q=i.offset!==null?A.value:i.tooltip?6:8,se=[Pv(Q)];return i.noFlip===!1&&!q.value&&se.push(Nv({boundary:z.value,rootBoundary:H.value,padding:i.boundaryPadding})),q.value&&se.push(T1({alignment:i.placement.split("-")[1]||void 0,boundary:z.value,rootBoundary:H.value,padding:i.boundaryPadding})),i.noShift===!1&&se.push(Iv({boundary:z.value,rootBoundary:H.value,padding:i.boundaryPadding})),i.noHide===!1&&se.push(x1({boundary:z.value,rootBoundary:H.value,padding:i.boundaryPadding})),i.inline===!0&&se.push(C1()),se.push(N1({element:x,padding:10})),i.noSize===!1&&se.push(Mv({boundary:z.value,rootBoundary:H.value,padding:i.boundaryPadding,apply({availableWidth:ge,availableHeight:ke}){var be,Z;_.value={maxHeight:ke>=(((be=w.value)==null?void 0:be.scrollHeight)??0)?void 0:ke?`${Math.max(0,ke)}px`:void 0,maxWidth:ge>=(((Z=w.value)==null?void 0:Z.scrollWidth)??0)?void 0:ge?`${Math.max(0,ge)}px`:void 0}}})),se}),E=de(()=>q.value?void 0:i.placement),{floatingStyles:C,middlewareData:F,placement:D,update:R}=Av(O,v,{placement:E,middleware:T,strategy:en(()=>i.strategy)}),X=ze({position:"absolute"});tt(F,Q=>{var se,ge;if(i.noHide===!1&&((se=Q.hide)!=null&&se.referenceHidden&&!y.value&&K.value?i.closeOnHide&&!i.noAutoClose&&!i.manual?re("close-on-hide"):(Oe.value=!0,y.value=!0):Oe.value&&!((ge=Q.hide)!=null&&ge.referenceHidden)&&(Oe.value=!1,y.value=!1)),Q.arrow){const{x:ke,y:be}=Q.arrow;X.value={position:"absolute",top:be?`${be}px`:"",left:ke?`${ke}px`:""}}});let ee;const{showRef:K,hide:j,show:ie,toggle:V,throttleHide:re,computedNoAnimation:oe,transitionProps:_e,contentShowing:le,isVisible:we,renderRef:Re,localTemporaryHide:Oe}=qc(h,i,u,v,m,{showFn:()=>{R(),qn(()=>{ee=Cv(O.value,v.value,R,{animationFrame:i.realtime})})},hideFn:()=>{ee&&(ee(),ee=void 0)}}),Pe=de(()=>{const Q=i.tooltip?"tooltip":"popover";return[Q,`b-${Q}`,{[`b-${Q}-${i.variant}`]:i.variant!==null,show:we.value&&!y.value,fade:!oe.value,[`${i.customClass}`]:i.customClass!==void 0,[`bs-${Q}-${D1(D.value)}`]:D.value!==void 0}]}),{x:Le,y:Te}=M1(),ce=()=>{var Q,se;const ge=(Q=B.value)==null?void 0:Q.getBoundingClientRect(),ke=(se=v.value)==null?void 0:se.getBoundingClientRect(),be=parseInt(i.hideMargin,10)||0,Z=(window==null?void 0:window.scrollX)||0,$=(window==null?void 0:window.scrollY)||0,ae=!ge||Le.value<ge.left+Z-be||Le.value>ge.right+Z+be||Te.value<ge.top+$-be||Te.value>ge.bottom+$+be,me=!ke||Le.value<ke.left+Z-be||Le.value>ke.right+Z+be||Te.value<ke.top+$-be||Te.value>ke.bottom+$+be;return{triggerIsOutside:ae,isOutside:me}};let Y;const xe=Q=>{var se,ge;const{triggerIsOutside:ke,isOutside:be}=ce();!i.noninteractive&&be&&ke&&!((se=v.value)!=null&&se.contains(document==null?void 0:document.activeElement))&&!((ge=B.value)!=null&&ge.contains(document==null?void 0:document.activeElement))||i.noninteractive&&ke?j(Q==null?void 0:Q.type):(Y&&clearTimeout(Y),Y=setTimeout(()=>{xe(Q)},50))};tt(we,()=>{R()}),t({hide:j,show:ie,toggle:V});const Ne=Q=>{K.value?j(Q.type==="click"?"click":"toggle"):ie()},Me=()=>{var Q;if(i.target){const se=lc(pt(i.target));se?B.value=se:console.warn("Target element not found",i.target)}else B.value=(Q=P.value)==null?void 0:Q.nextElementSibling;if(i.reference){const se=lc(pt(i.reference));se?O.value=se:console.warn("Reference element not found",i.reference)}else O.value=B.value;if(!(!B.value||i.manual)){if(i.click){B.value.addEventListener("click",Ne);return}B.value.addEventListener("pointerenter",ie),B.value.addEventListener("pointerleave",xe),B.value.addEventListener("focus",ie),B.value.addEventListener("blur",xe)}},N=()=>{B.value&&(B.value.removeEventListener("click",Ne),B.value.removeEventListener("pointerenter",ie),B.value.removeEventListener("pointerleave",xe),B.value.removeEventListener("focus",ie),B.value.removeEventListener("blur",xe))};return fv(v,()=>{K.value&&i.click&&!i.noAutoClose&&!i.manual&&j("click-outside")},{ignore:[B]}),tt([()=>i.click,()=>i.target,()=>i.reference],()=>{N(),Me()}),Mi(()=>{Me(),qn(()=>{R()})}),$c(N),(Q,se)=>(Ee(),Be(ft,null,[pe("span",{id:W(m)+"_placeholder",ref:"_placeholder",style:{display:"none"}},null,8,O1),ct(Q.$slots,"target",{show:W(ie),hide:W(j),toggle:W(V),visible:W(K)},void 0,!0),Ue(Qf,{to:W(i).teleportTo,disabled:!W(i).teleportTo||W(i).teleportDisabled},{default:et(()=>[W(Re)||W(le)?(Ee(),dt(Iu,bt({key:0},W(_e),{appear:h.value||W(i).visible}),{default:et(()=>[rn(pe("div",bt({id:W(m)},Q.$attrs,{ref:"_element",class:Pe.value,role:"tooltip",tabindex:"-1",style:W(C)}),[pe("div",{ref:"_arrow",class:Nt(`${W(i).tooltip?"tooltip":"popover"}-arrow`),style:Gi(X.value),"data-popper-arrow":""},null,6),pe("div",{ref:"_content",class:"overflow-auto",style:Gi(_.value)},[W(i).title||f.title?(Ee(),Be("div",{key:0,class:Nt(["position-sticky top-0",W(i).tooltip?"tooltip-inner":"popover-header"])},[ct(Q.$slots,"title",{},()=>[it(qe(W(i).title),1)],!0)],2)):yt("",!0),W(i).tooltip&&!f.title&&!W(i).title||!W(i).tooltip?(Ee(),Be("div",{key:1,class:Nt(W(i).tooltip?"tooltip-inner":"popover-body")},[ct(Q.$slots,"default",{},()=>[it(qe(W(i).content),1)],!0)],2)):yt("",!0)],4)],16,A1),[[Nu,W(K)&&!y.value]])]),_:3},16,["appear"])):yt("",!0)]),_:3},8,["to","disabled"])],64))}}),Rv=eh(R1,[["__scopeId","data-v-d4670342"]]),D1=e=>{const[t]=e.split("-");switch(t){case"left":return"start";case"right":return"end";default:return t}},B1=e=>{const[t]=e.split("-");switch(t){case"left":return"start";case"right":return"end";case"top":return"up";case"bottom":return"down";default:return t}},lh=e=>e==="clippingAncestors"||e instanceof Element||Array.isArray(e),Dv=e=>!lh(e),F1=(e,t)=>[...t].reduce((s,o)=>(s[o]=e[o],s),{}),eu=(e,t,s)=>{const o=t.split(/[.[\]]/g);let i=e;for(const u of o){if(i===null||i===void 0)return s;u.trim()!==""&&(i=i[u])}return i===void 0?s:i},Bv=Et({inheritAttrs:!1,__name:"BCollapse",props:ii({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},tag:{default:"div"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noFade:{type:Boolean},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=un(e,"BCollapse"),u=s,f=hr(e,"modelValue"),h=go(()=>i.id,"collapse"),m=an("_element");let y=!1;const v=R=>{y=!0,requestAnimationFrame(()=>{i.horizontal?R.style.width=`${R.scrollWidth}px`:R.style.height=`${R.scrollHeight}px`})},w=R=>{y||(i.horizontal?R.style.width=`${R.scrollWidth}px`:R.style.height=`${R.scrollHeight}px`,R.offsetHeight)},x=R=>{requestAnimationFrame(()=>{i.horizontal?R.style.width="":R.style.height=""})},P=R=>{R.style.height="",R.style.width="",y=!1},O=R=>{R.style.height="",R.style.width="",y=!1},{showRef:B,renderRef:q,hide:A,show:z,toggle:H,isActive:_,computedNoAnimation:T,contentShowing:E,transitionProps:C}=qc(f,i,u,m,h,{transitionProps:{onBeforeLeave:w,onEnter:v,onLeave:x,onAfterEnter:P,onAfterLeave:O,enterToClass:"",leaveToClass:"",enterFromClass:"",leaveFromClass:"",enterActiveClass:"",leaveActiveClass:""}}),F=de(()=>({show:_.value,"navbar-collapse":i.isNav,"collapse-horizontal":i.horizontal})),D=de(()=>({toggle:H,show:z,hide:A,id:h.value,visible:B.value}));return t({hide:A,isNav:i.isNav,show:z,toggle:H,visible:jn(B)}),ms(sv,{id:h,hide:A,show:z,toggle:H,visible:jn(B),isNav:en(()=>i.isNav)}),(R,X)=>(Ee(),Be(ft,null,[ct(R.$slots,"header",xi(ar(D.value))),W(q)||W(E)?(Ee(),dt(Iu,bt({key:0},W(C),{"enter-active-class":W(T)?"":"collapsing","leave-active-class":W(T)?"":"collapsing",appear:f.value||W(i).visible}),{default:et(()=>[rn((Ee(),dt(Es(W(i).tag),bt({id:W(h),ref:"_element",class:["collapse",F.value],"is-nav":W(i).isNav},R.$attrs),{default:et(()=>[W(E)?ct(R.$slots,"default",xi(bt({key:0},D.value))):yt("",!0)]),_:3},16,["id","class","is-nav"])),[[Nu,W(B)]])]),_:3},16,["enter-active-class","leave-active-class","appear"])):yt("",!0),ct(R.$slots,"footer",xi(ar(D.value)))],64))}}),z1=["type","disabled","aria-label"],$1=Et({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const o=un(e,"BCloseButton"),i=t;return(u,f)=>(Ee(),Be("button",{type:W(o).type,class:"btn-close",disabled:W(o).disabled,"aria-label":W(o).ariaLabel,onClick:f[0]||(f[0]=h=>i("click",h))},null,8,z1))}}),ch=e=>((e==null?void 0:e())??[]).length===0,vu=e=>de(()=>{let t=pt(e);return t={variant:t.variant??null,bgVariant:t.bgVariant??null,textVariant:t.textVariant??null,borderVariant:t.borderVariant??null},{[`text-bg-${t.variant}`]:t.variant!==null,[`text-${t.textVariant}`]:t.textVariant!==null,[`bg-${t.bgVariant}`]:t.bgVariant!==null,[`border-${t.borderVariant}`]:t.borderVariant!==null}}),U1={key:0,class:"visually-hidden"},G1=Et({__name:"BSpinner",props:{label:{default:void 0},role:{default:"status"},small:{type:Boolean,default:!1},tag:{default:"span"},type:{default:"border"},variant:{default:null}},setup(e){const s=un(e,"BSpinner"),o=Vu(),i=vu(de(()=>({textVariant:s.variant}))),u=de(()=>[`spinner-${s.type}`,i.value,{[`spinner-${s.type}-sm`]:s.small}]),f=de(()=>!ch(o.label));return(h,m)=>(Ee(),dt(Es(W(s).tag),{class:Nt(u.value),role:W(s).label||f.value?W(s).role:null,"aria-hidden":W(s).label||f.value?null:!0},{default:et(()=>[W(s).label||f.value?(Ee(),Be("span",U1,[ct(h.$slots,"label",{},()=>[it(qe(W(s).label),1)])])):yt("",!0)]),_:3},8,["class","role","aria-hidden"]))}}),H1=e=>e.replace(/-./g,t=>t.charAt(1).toUpperCase()).replace(/\b\w/g,t=>t.toUpperCase()).replace(/\s+/g,""),V1=e=>!!(e.href||e.to),Fv=(e,t)=>{const s=jn(en(t)),o=jn(en(e)),i=de(()=>V1(o.value)),u=de(()=>i.value?F1(o.value,s.value??["active","activeClass","append","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover"]):{});return{computedLink:i,computedLinkProps:u}},q1=e=>{const t=ri(),s=t==null?void 0:t.appContext.app.config.globalProperties.$router,o=t==null?void 0:t.appContext.app.config.globalProperties.$route,i=Es("RouterLink"),u=typeof i=="string"?null:i.useLink,f=en(e),h=en(()=>f.value.to||""),m=en(()=>f.value.replace),y=de(()=>H1(f.value.routerComponentName)),v=de(()=>!((t==null?void 0:t.appContext.app.component(y.value))!==void 0)||f.value.disabled||!f.value.to?"a":y.value),w=de(()=>v.value==="RouterLink"),x=de(()=>w.value&&typeof(t==null?void 0:t.appContext.app.$nuxt)<"u"),P=de(()=>v.value!=="a"&&!w.value&&!x.value),O=de(()=>w.value||x.value),B=de(()=>({to:h.value,replace:m.value})),q=u==null?void 0:u({to:h,replace:m}),A=de(()=>O.value?q:null),z=de(()=>{var H;if((H=A.value)!=null&&H.href.value)return A.value.href.value;const _="#";if(f.value.href)return f.value.href;if(typeof f.value.to=="string")return f.value.to||_;const{to:T}=f.value;if(T!==void 0&&"path"in T){const E=T.path||"",C=T.query?`?${Object.keys(T.query).map(D=>{var R;return`${D}=${(R=T.query)==null?void 0:R[D]}`}).join("=")}`:"",F=!T.hash||T.hash.charAt(0)==="#"?T.hash||"":`#${T.hash}`;return`${E}${C}${F}`||_}return _});return{isNonStandardTag:P,tag:v,isRouterLink:w,isNuxtLink:x,computedHref:z,routerName:y,router:s,route:o,link:A,linkProps:B}},zv=e=>de(()=>{const t=pt(e);return{[`link-${t.variant}`]:t.variant!==null,[`link-opacity-${t.opacity}`]:t.opacity!==void 0,[`link-opacity-${t.opacityHover}-hover`]:t.opacityHover!==void 0,[`link-underline-${t.underlineVariant}`]:t.underlineVariant!==null,[`link-offset-${t.underlineOffset}`]:t.underlineOffset!==void 0,[`link-offset-${t.underlineOffsetHover}-hover`]:t.underlineOffsetHover!==void 0,"link-underline":t.underlineVariant===null&&(t.underlineOpacity!==void 0||t.underlineOpacityHover!==void 0),[`link-underline-opacity-${t.underlineOpacity}`]:t.underlineOpacity!==void 0,[`link-underline-opacity-${t.underlineOpacityHover}-hover`]:t.underlineOpacityHover!==void 0,"icon-link":t.icon===!0}}),Hp="active",$v=Et({__name:"BLink",props:{active:{type:Boolean,default:void 0},activeClass:{default:"router-link-active"},disabled:{type:Boolean,default:!1},exactActiveClass:{default:"router-link-exact-active"},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean,default:!1},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean,default:void 0},prefetchOn:{default:void 0},noPrefetch:{type:Boolean,default:void 0},prefetchedClass:{default:void 0},rel:{default:void 0},replace:{type:Boolean,default:!1},routerComponentName:{default:"router-link"},routerTag:{default:"a"},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null},variant:{default:null}},emits:["click"],setup(e,{emit:t}){const o=un(e,"BLink"),i=t,u=Zf(),{computedHref:f,tag:h,link:m,isNuxtLink:y,isRouterLink:v,linkProps:w,isNonStandardTag:x}=q1(de(()=>({routerComponentName:o.routerComponentName,disabled:o.disabled,to:o.to,replace:o.replace,href:o.href}))),P=tn(sv,null),O=tn(ov,null),B=zv(o),q=de(()=>{var C,F;return[B.value,u.class,A.value,{[Hp]:o.active,[o.activeClass]:((C=m.value)==null?void 0:C.isActive.value)||!1,[o.exactActiveClass]:((F=m.value)==null?void 0:F.isExactActive.value)||!1,"stretched-link":o.stretched===!0}]}),A=de(()=>({[Hp]:o.active,disabled:o.disabled})),z=C=>{var F,D,R;if(o.disabled){C.preventDefault(),C.stopImmediatePropagation();return}(((F=P==null?void 0:P.isNav)==null?void 0:F.value)===!0&&O===null||O!==null&&((D=O.autoClose)==null?void 0:D.value)===!0)&&((R=P==null?void 0:P.hide)==null||R.call(P)),i("click",C)},H=de(()=>o.target==="_blank"?!o.rel&&o.noRel?"noopener":o.rel:void 0),_=de(()=>o.disabled?"-1":typeof u.tabindex>"u"?null:u.tabindex),T=de(()=>({prefetch:o.prefetch,noPrefetch:o.noPrefetch,prefetchOn:o.prefetchOn,prefetchedClass:o.prefetchedClass,...w.value})),E=de(()=>({...v.value?w.value:void 0,...y.value||x.value?T.value:void 0}));return(C,F)=>(Ee(),dt(Es(W(h)),bt({class:q.value,target:W(o).target,href:W(f),rel:H.value,tabindex:_.value,"aria-disabled":W(o).disabled?!0:null},E.value,{onClick:F[0]||(F[0]=D=>{var R;z(D),(R=W(m))==null||R.navigate(D)})}),{default:et(()=>[ct(C.$slots,"default")]),_:3},16,["class","target","href","rel","tabindex","aria-disabled"]))}}),Ur=Et({__name:"BButton",props:ii({loading:{type:Boolean,default:!1},loadingFill:{type:Boolean,default:!1},loadingText:{default:"Loading..."},pill:{type:Boolean,default:!1},size:{default:"md"},squared:{type:Boolean,default:!1},tag:{default:"button"},type:{default:"button"},variant:{default:"secondary"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},routerTag:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null}},{pressed:{type:Boolean,default:void 0},pressedModifiers:{}}),emits:ii(["click"],["update:pressed"]),setup(e,{emit:t}){const o=un(e,"BButton"),i=t,u=an("_element"),f=hr(e,"pressed"),{computedLink:h,computedLinkProps:m}=Fv(o,["active-class","exact-active-class","replace","routerComponentName","routerTag"]),y=de(()=>typeof f.value=="boolean"),v=de(()=>o.tag==="button"&&o.href===void 0&&o.to===void 0),w=de(()=>o.to!==void 0),x=de(()=>o.href!==void 0?!1:!v.value),P=de(()=>w.value?m.value:[]),O=de(()=>o.href==="#"&&o.disabled?!0:x.value?o.disabled:null),B=de(()=>{var T;return((T=o.variant)==null?void 0:T.startsWith("link"))||!1}),q=de(()=>{var T;return((T=o.variant)==null?void 0:T.startsWith("link-"))||!1}),A=zv(de(()=>{var T;return{...B.value?{icon:o.icon,opacity:o.opacity,opacityHover:o.opacityHover,underlineOffset:o.underlineOffset,underlineOffsetHover:o.underlineOffsetHover,underlineOpacity:o.underlineOpacity,underlineOpacityHover:o.underlineOpacityHover,underlineVariant:o.underlineVariant,variant:q.value===!0?(T=o.variant)==null?void 0:T.slice(5):null}:void 0}})),z=de(()=>[B.value===!0&&h.value===!1?A.value:void 0,[`btn-${o.size}`],{[`btn-${o.variant}`]:o.variant!==null&&q.value===!1,active:o.active||f.value,"rounded-pill":o.pill,"rounded-0":o.squared,disabled:o.disabled}]),H=de(()=>w.value?$v:o.href?"a":o.tag),_=T=>{if(o.disabled){T.preventDefault(),T.stopPropagation();return}i("click",T),y.value&&(f.value=!f.value)};return fs([" ","enter"],T=>{var E;o.href==="#"&&(T.preventDefault(),(E=u.value)==null||E.click())},{target:u}),(T,E)=>(Ee(),dt(Es(H.value),bt({ref:"_element",class:"btn"},P.value,{class:z.value,"aria-disabled":O.value,"aria-pressed":y.value?f.value:null,autocomplete:y.value?"off":null,disabled:v.value?W(o).disabled:null,href:W(o).href,rel:W(h)?W(o).rel:null,role:x.value||W(h)?"button":null,target:W(h)?W(o).target:null,type:v.value?W(o).type:null,to:v.value?null:W(o).to,onClick:_}),{default:et(()=>[W(o).loading?ct(T.$slots,"loading",{key:0},()=>[W(o).loadingFill?yt("",!0):(Ee(),Be(ft,{key:0},[it(qe(W(o).loadingText),1)],64)),ct(T.$slots,"loading-spinner",{},()=>[Ue(G1,{small:W(o).size!=="lg",label:W(o).loadingFill?W(o).loadingText:void 0},null,8,["small","label"])])]):ct(T.$slots,"default",{key:1})]),_:3},16,["class","aria-disabled","aria-pressed","autocomplete","disabled","href","rel","role","target","type","to"]))}}),Uv=Et({name:"ConditionalWrapper",inheritAttrs:!1,props:{tag:{type:String,default:"div"},skip:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t,attrs:s}){return()=>{var o,i;return e.skip?(o=t.default)==null?void 0:o.call(t,{}):di(e.tag,{...s},[(i=t.default)==null?void 0:i.call(t,{})])}}}),j1=e=>de(()=>{const t=pt(e);return t?`justify-content-${t}`:""}),W1={class:"visually-hidden"},Z1=["id","aria-labelledby","role"],Y1=Et({__name:"BDropdown",props:ii({ariaLabel:{default:void 0},autoClose:{type:[Boolean,String],default:!0},boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},disabled:{type:Boolean,default:!1},floatingMiddleware:{default:void 0},id:{default:void 0},isNav:{type:Boolean,default:!1},menuClass:{default:void 0},noCaret:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},offset:{default:0},role:{default:"menu"},size:{default:"md"},noWrapper:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitButtonType:{default:"button"},splitClass:{default:void 0},splitDisabled:{type:Boolean,default:void 0},splitHref:{default:void 0},splitTo:{default:void 0},splitVariant:{default:void 0},strategy:{default:"absolute"},text:{default:void 0},toggleClass:{default:void 0},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"},wrapperClass:{default:void 0},placement:{default:"bottom-start"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["split-click","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=un(e,"BDropdown"),u=s,f=go(()=>i.id,"dropdown"),h=hr(e,"modelValue"),m=tn(ik,!1),y=tn(rk,!1),v=de(()=>typeof i.offset=="string"||typeof i.offset=="number"?i.offset:NaN),w=Mu(v),x=an("_floating"),P=an("_button"),O=an("_splitButton"),B=de(()=>lh(i.boundary)?i.boundary:void 0),q=de(()=>Dv(i.boundary)?i.boundary:void 0),A=de(()=>i.split?P.value:O.value),{showRef:z,renderRef:H,hide:_,show:T,toggle:E,computedNoAnimation:C,transitionProps:F,contentShowing:D,isVisible:R}=qc(h,i,u,A,f),X=de(()=>[{show:R.value,fade:!C.value}]);fs("Escape",()=>{var Oe;_(),(Oe=lc(A.value))==null||Oe.focus()},{target:A}),fs("Escape",()=>{var Oe;_(),(Oe=lc(A.value))==null||Oe.focus()},{target:x});const ee=(Oe,Pe)=>{var Le,Te,ce,Y,xe,Ne,Me;if((Te=x.value)!=null&&Te.contains((Le=Oe.target)==null?void 0:Le.closest("form"))||/input|select|option|textarea|form/i.test((ce=Oe.target)==null?void 0:ce.tagName))return;if(Oe.preventDefault(),!z.value){T();const Q=setInterval(()=>{R.value&&(clearInterval(Q),qn(()=>ee(Oe,Pe)))},16);return}const N=(Y=x.value)==null?void 0:Y.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)");if(N)if((xe=x.value)!=null&&xe.contains(document.activeElement)){const Q=x.value.querySelector(".dropdown-item:focus"),se=Array.prototype.indexOf.call(N,Q)+Pe;se>=0&&se<(N==null?void 0:N.length)&&((Ne=N[se])==null||Ne.focus())}else(Me=N[Pe===-1?N.length-1:0])==null||Me.focus()};fs("ArrowUp",Oe=>ee(Oe,-1),{target:A}),fs("ArrowDown",Oe=>ee(Oe,1),{target:A}),fs("ArrowUp",Oe=>ee(Oe,-1),{target:x}),fs("ArrowDown",Oe=>ee(Oe,1),{target:x});const K=ze({}),j=de(()=>{if(i.floatingMiddleware!==void 0)return i.floatingMiddleware;const Oe=typeof i.offset=="string"||typeof i.offset=="number"?w.value:i.offset,Pe=[Pv(Oe)];return i.noFlip===!1&&Pe.push(Nv({boundary:B.value,rootBoundary:q.value,padding:i.boundaryPadding})),i.noShift===!1&&Pe.push(Iv({boundary:B.value,rootBoundary:q.value,padding:i.boundaryPadding})),i.noSize===!1&&Pe.push(Mv({boundary:B.value,rootBoundary:q.value,padding:i.boundaryPadding,apply({availableWidth:Le,availableHeight:Te}){var ce,Y;K.value={maxHeight:Te>=(((ce=x.value)==null?void 0:ce.scrollHeight)??0)?void 0:Te?`${Math.max(0,Te)}px`:void 0,maxWidth:Le>=(((Y=x.value)==null?void 0:Y.scrollWidth)??0)?void 0:Le?`${Math.max(0,Le)}px`:void 0}}})),Pe}),{update:ie,floatingStyles:V}=Av(A,x,{placement:()=>i.placement,middleware:j,strategy:en(()=>i.strategy),whileElementsMounted:Cv}),re=y?{class:"btn-group",role:"group"}:void 0,oe=de(()=>[re==null?void 0:re.class,i.wrapperClass,{"btn-group":!i.wrapperClass&&i.split,[`drop${B1(i.placement)}`]:!i.wrapperClass,"position-static":i.boundary!=="clippingAncestors"&&!i.isNav}]),_e=de(()=>[i.split?i.splitClass:i.toggleClass,{"nav-link":i.isNav,"dropdown-toggle":!i.split,"dropdown-toggle-no-caret":i.noCaret&&!i.split,show:i.split?void 0:z.value}]),le=()=>{E()},we=Oe=>{if(i.split){u("split-click",Oe);return}le()};fv(x,()=>{z.value&&(i.autoClose===!0||i.autoClose==="outside")&&_()},{ignore:[P,O]});const Re=()=>{z.value&&(i.autoClose===!0||i.autoClose==="inside")&&_()};return tt(R,()=>{ie()}),t({hide:_,show:T,toggle:E}),ms(ek,{id:f,show:T,hide:_,toggle:E,visible:en(()=>z.value),isNav:en(()=>i.isNav)}),(Oe,Pe)=>{var Le;return Ee(),dt(Uv,{skip:W(m)||W(i).noWrapper,class:Nt(oe.value),role:(Le=W(re))==null?void 0:Le.role},{default:et(()=>[Ue(Ur,{id:W(f),ref:"_splitButton",variant:W(i).splitVariant||W(i).variant,size:W(i).size,class:Nt(_e.value),disabled:W(i).splitDisabled||W(i).disabled,type:W(i).splitButtonType,"aria-label":W(i).ariaLabel,"aria-expanded":W(i).split?void 0:W(z),"aria-haspopup":W(i).split?void 0:"menu",href:W(i).split?W(i).splitHref:void 0,to:W(i).split&&W(i).splitTo?W(i).splitTo:void 0,onClick:we},{default:et(()=>[ct(Oe.$slots,"button-content",{},()=>[it(qe(W(i).text),1)],!0)]),_:3},8,["id","variant","size","class","disabled","type","aria-label","aria-expanded","aria-haspopup","href","to"]),W(i).split?(Ee(),dt(Ur,{key:0,id:W(f)+"-split",ref:"_button",variant:W(i).variant,size:W(i).size,disabled:W(i).disabled,class:Nt([[W(i).toggleClass,{show:W(z)}],"dropdown-toggle-split dropdown-toggle"]),"aria-expanded":W(z),"aria-haspopup":"menu",onClick:le},{default:et(()=>[pe("span",W1,[ct(Oe.$slots,"toggle-text",{},()=>[it(qe(W(i).toggleText),1)],!0)])]),_:3},8,["id","variant","size","disabled","class","aria-expanded"])):yt("",!0),Ue(Qf,{to:W(i).teleportTo,disabled:!W(i).teleportTo||W(i).teleportDisabled},{default:et(()=>[W(H)||W(D)?(Ee(),dt(Iu,bt({key:0},W(F),{appear:h.value||W(i).visible}),{default:et(()=>[rn(pe("ul",{id:W(f)+"-menu",ref:"_floating",style:Gi([W(V),K.value]),class:Nt(["dropdown-menu overflow-auto",[W(i).menuClass,X.value]]),"aria-labelledby":W(f),role:W(i).role,onClick:Re},[W(D)?ct(Oe.$slots,"default",{key:0,hide:W(_),show:W(T),visible:W(z)},void 0,!0):yt("",!0)],14,Z1),[[Nu,W(z)]])]),_:3},16,["appear"])):yt("",!0)]),_:3},8,["to","disabled"])]),_:3},8,["skip","class","role"])}}}),X1=eh(Y1,[["__scopeId","data-v-8ac2524d"]]),K1=["id","novalidate"],J1=Et({__name:"BForm",props:{floating:{type:Boolean,default:!1},id:{default:void 0},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},setup(e,{expose:t}){const o=un(e,"BForm"),i=an("_element"),u=de(()=>({"form-floating":o.floating,"was-validated":o.validated}));return t({element:i}),(f,h)=>(Ee(),Be("form",{id:W(o).id,ref:"_element",novalidate:W(o).novalidate,class:Nt(u.value)},[ct(f.$slots,"default")],10,K1))}}),Q1=["value","disabled"],dh=Et({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(e){const s=un(e,"BFormSelectOption");return(o,i)=>(Ee(),Be("option",{value:W(s).value,disabled:W(s).disabled},[ct(o.$slots,"default")],8,Q1))}}),Gv=(e,t)=>{const s=f=>typeof f=="object"&&f!==null&&"label"in f,o=f=>{const h=pt(t);if(typeof f=="string")return{value:f,text:f};if(typeof f=="number")return{value:f,text:`${f}`};if(f instanceof Date)return{value:f,text:f.toLocaleString()};const m=eu(f,h.valueField),y=eu(f,h.textField),v=eu(f,h.disabledField),w=h.optionsField?eu(f,h.optionsField):void 0;return w!==void 0?{label:eu(f,h.labelField)||y,options:w}:{...typeof f=="object"?f:void 0,value:m,text:y,disabled:v}},i=f=>f.map(h=>o(h));return{normalizedOptions:de(()=>i(pt(e))),isComplex:s}},Hv=(e,t)=>de(()=>{const s=pt(e),o=pt(t);return s===!0?"true":typeof s=="string"?s:o===!1?"true":s===!1?"false":void 0}),fh=e=>de(()=>{const t=pt(e);return t===!0?"is-valid":t===!1?"is-invalid":null}),eL=e=>de(()=>{const t=pt(e);return{"form-check":t.plain===!1&&t.button===!1&&t.hasDefaultSlot,"form-check-reverse":t.reverse===!0,"form-check-inline":t.inline===!0,"form-switch":t.switch===!0,[`form-control-${t.size}`]:t.size!==void 0&&t.size!=="md"&&t.button===!1}}),tL=e=>{const t=jn(en(e)),s=fh(()=>t.value.state??null);return de(()=>[s.value,{"form-check-input":t.value.plain===!1&&t.value.button===!1,"btn-check":t.value.button===!0}])},nL=e=>de(()=>{const t=pt(e);return{"form-check-label":t.plain===!1&&t.button===!1,btn:t.button===!0,[`btn-${t.buttonVariant}`]:t.button===!0&&t.buttonVariant!==void 0&&t.buttonVariant!==null,[`btn-${t.size}`]:t.button&&t.size&&t.size!=="md"}}),iL=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","true-value","false-value","indeterminate"],rL=["for"],sL=Et({inheritAttrs:!1,__name:"BFormCheckbox",props:ii({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},autofocus:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonGroup:{type:Boolean,default:!1},buttonVariant:{default:null},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},inline:{type:Boolean,default:!1},name:{default:void 0},plain:{type:Boolean,default:!1},required:{type:Boolean,default:void 0},reverse:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null},switch:{type:Boolean,default:!1},uncheckedValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:!1},wrapperAttrs:{default:void 0},inputClass:{default:void 0},value:{type:[String,Boolean,Array,Set,Object,Number,null],default:!0}},{modelValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:void 0},modelModifiers:{},indeterminate:{type:Boolean,default:!1},indeterminateModifiers:{}}),emits:["update:modelValue","update:indeterminate"],setup(e,{expose:t}){const s=Zf(),o=de(()=>{const{class:C,...F}=s;return{wrapperClass:C,inputAttrs:F}}),u=un(e,"BFormCheckbox"),f=Vu(),h=hr(e,"modelValue"),m=hr(e,"indeterminate"),y=go(()=>u.id,"form-check"),v=tn(Qw,null),w=an("_input"),{focused:x}=io(w,{initialValue:u.autofocus}),P=de(()=>!ch(f.default)),O=de({get:()=>v?v.modelValue.value:h.value,set:C=>{if(C!==void 0){if(m.value=!1,v!==null&&Array.isArray(C)){v.modelValue.value=C;return}h.value=C}}}),B=de(()=>!!(u.name??(v==null?void 0:v.name.value))&&(u.required||(v==null?void 0:v.required.value))),q=de(()=>u.buttonGroup||((v==null?void 0:v.buttons.value)??!1)),A=de(()=>({plain:u.plain||((v==null?void 0:v.plain.value)??!1),button:u.button||((v==null?void 0:v.buttons.value)??!1),inline:u.inline||((v==null?void 0:v.inline.value)??!1),reverse:u.reverse||((v==null?void 0:v.reverse.value)??!1),switch:u.switch||((v==null?void 0:v.switch.value)??!1),state:u.state===!0||u.state===!1?u.state:(v==null?void 0:v.state.value)??null,size:u.size??(v==null?void 0:v.size.value)??"md",buttonVariant:u.buttonVariant??(v==null?void 0:v.buttonVariant.value)??"secondary",hasDefaultSlot:P.value})),z=eL(A),H=de(()=>[z.value,o.value.wrapperClass]),_=tL(A),T=de(()=>[_.value,u.inputClass]),E=nL(A);return t({blur:()=>{x.value=!1},element:w,focus:()=>{x.value=!0}}),(C,F)=>(Ee(),dt(Uv,bt({skip:q.value},W(u).wrapperAttrs,{class:H.value}),{default:et(()=>{var D,R,X;return[rn(pe("input",bt({id:W(y),ref:"_input","onUpdate:modelValue":F[0]||(F[0]=ee=>O.value=ee),class:T.value,type:"checkbox",disabled:W(u).disabled||((D=W(v))==null?void 0:D.disabled.value),required:B.value||void 0,name:W(u).name||((R=W(v))==null?void 0:R.name.value),form:W(u).form||((X=W(v))==null?void 0:X.form.value),"aria-label":W(u).ariaLabel,"aria-labelledby":W(u).ariaLabelledby,"aria-required":B.value||void 0,value:W(u).value,"true-value":W(u).value,"false-value":W(u).uncheckedValue,indeterminate:m.value||void 0},o.value.inputAttrs),null,16,iL),[[ev,O.value]]),P.value||W(u).plain===!1?(Ee(),Be("label",{key:0,for:W(y),class:Nt(W(E))},[ct(C.$slots,"default")],10,rL)):yt("",!0)]}),_:3},16,["skip","class"]))}}),oL=(e,t)=>{if(e===null)return;let s=e;if(t.number&&typeof s=="string"&&s!==""){const o=Number.parseFloat(s);s=Number.isNaN(o)?s:o}return s},aL=(e,t,s,o)=>{var i;const u=ze(0),f=go(()=>e.id,"input"),h=Mu(()=>e.debounce??0),m=Mu(()=>e.debounceMaxWait??NaN),y=(i=tn(uk,null))==null?void 0:i(f),v=de(()=>e.state!==void 0?e.state:(y==null?void 0:y.state.value)??null),w=Hv(()=>e.ariaInvalid,v),x=fh(v),P=mk(E=>{s.value=E},()=>o.lazy===!0?0:h.value,{maxWait:()=>o.lazy===!0?NaN:m.value}),O=(E,C=!1)=>{o.lazy===!0&&C===!1||P(E)},{focused:B}=io(t,{initialValue:e.autofocus}),q=(E,C,F=!1)=>e.formatter!==void 0&&(!e.lazyFormatter||F)?e.formatter(E,C):E;return Mi(()=>{var E;t.value&&(t.value.value=((E=s.value)==null?void 0:E.toString())??"")}),w_(()=>{qn(()=>{e.autofocus&&(B.value=!0)})}),{input:t,computedId:f,computedAriaInvalid:w,onInput:E=>{const{value:C}=E.target,F=q(C,E);if(E.defaultPrevented){E.preventDefault();return}O(F)},onChange:E=>{const{value:C}=E.target,F=q(C,E);if(E.defaultPrevented){E.preventDefault();return}const D=F;s.value!==D&&O(F,!0)},onBlur:E=>{if(!o.lazy&&!e.lazyFormatter&&!o.trim)return;const{value:C}=E.target,F=q(C,E,!0),D=o.trim?F.trim():F,R=D.length!==F.length;s.value!==D&&O(F,!0),o.trim&&R&&(u.value=u.value+1)},focus:()=>{e.disabled||(B.value=!0)},blur:()=>{e.disabled||(B.value=!1)},forceUpdateKey:u,stateClass:x}},uL=["id","value","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"],lL=Et({__name:"BFormInput",props:ii({max:{default:void 0},min:{default:void 0},step:{default:void 0},type:{default:"text"},ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},formatter:{type:Function,default:void 0},id:{default:void 0},lazyFormatter:{type:Boolean,default:!1},list:{default:void 0},name:{default:void 0},placeholder:{default:void 0},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:void 0},debounce:{default:0},debounceMaxWait:{default:NaN}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const o=un(e,"BFormInput"),[i,u]=hr(e,"modelValue",{set:A=>oL(A,u)}),f=an("_input"),{computedId:h,computedAriaInvalid:m,onInput:y,onChange:v,onBlur:w,stateClass:x,focus:P,blur:O,forceUpdateKey:B}=aL(o,f,i,u),q=de(()=>{const A=o.type==="range",z=o.type==="color";return[x.value,{"form-range":A,"form-control":z||!o.plaintext&&!A,"form-control-color":z,"form-control-plaintext":o.plaintext&&!A&&!z,[`form-control-${o.size}`]:!!o.size}]});return t({blur:O,element:f,focus:P}),(A,z)=>(Ee(),Be("input",{id:W(h),ref:"_input",key:W(B),value:W(i),class:Nt(q.value),name:W(o).name||void 0,form:W(o).form||void 0,type:W(o).type,disabled:W(o).disabled,placeholder:W(o).placeholder,required:W(o).required||void 0,autocomplete:W(o).autocomplete||void 0,readonly:W(o).readonly||W(o).plaintext,min:W(o).min,max:W(o).max,step:W(o).step,list:W(o).type!=="password"?W(o).list:void 0,"aria-required":W(o).required||void 0,"aria-invalid":W(m),onInput:z[0]||(z[0]=(...H)=>W(y)&&W(y)(...H)),onChange:z[1]||(z[1]=(...H)=>W(v)&&W(v)(...H)),onBlur:z[2]||(z[2]=(...H)=>W(w)&&W(w)(...H))},null,42,uL))}}),cL=["label"],dL=Et({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const s=un(e,"BFormSelectOptionGroup"),{normalizedOptions:o}=Gv(()=>s.options,s);return(i,u)=>(Ee(),Be("optgroup",{label:W(s).label},[ct(i.$slots,"first"),(Ee(!0),Be(ft,null,dr(W(o),(f,h)=>(Ee(),dt(dh,bt({key:h,disabled:f.disabled,value:f.value,ref_for:!0},i.$attrs),{default:et(()=>[ct(i.$slots,"option",bt({ref_for:!0},f),()=>[it(qe(f.text),1)])]),_:2},1040,["disabled","value"]))),128)),ct(i.$slots,"default")],8,cL))}}),fL=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],Vv=Et({__name:"BFormSelect",props:ii({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const o=un(e,"BFormSelect"),i=hr(e,"modelValue"),u=go(()=>o.id,"input"),f=Mu(()=>o.selectSize),h=fh(()=>o.state),m=an("_input"),{focused:y}=io(m,{initialValue:o.autofocus}),v=de(()=>[h.value,{"form-control":o.plain,[`form-control-${o.size}`]:o.size!=="md"&&o.plain,"form-select":!o.plain,[`form-select-${o.size}`]:o.size!=="md"&&!o.plain}]),w=de(()=>f.value||o.plain?f.value:void 0),x=Hv(()=>o.ariaInvalid,()=>o.state),{normalizedOptions:P,isComplex:O}=Gv(()=>o.options,o),B=de(()=>P.value),q=de({get:()=>i.value,set:A=>{i.value=A}});return t({blur:()=>{y.value=!1},element:m,focus:()=>{y.value=!0}}),(A,z)=>rn((Ee(),Be("select",{id:W(u),ref:"_input","onUpdate:modelValue":z[0]||(z[0]=H=>q.value=H),class:Nt(v.value),name:W(o).name,form:W(o).form||void 0,multiple:W(o).multiple||void 0,size:w.value,disabled:W(o).disabled,required:W(o).required||void 0,"aria-required":W(o).required||void 0,"aria-invalid":W(x)},[ct(A.$slots,"first"),(Ee(!0),Be(ft,null,dr(B.value,(H,_)=>(Ee(),Be(ft,{key:_},[W(O)(H)?(Ee(),dt(dL,{key:0,label:H.label,options:H.options,"value-field":W(o).valueField,"text-field":W(o).textField,"disabled-field":W(o).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(Ee(),dt(dh,{key:1,value:H.value,disabled:H.disabled},{default:et(()=>[ct(A.$slots,"option",bt({ref_for:!0},H),()=>[it(qe(H.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),ct(A.$slots,"default")],10,fL)),[[ia,q.value]])}});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var qv=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],pc=qv.join(","),jv=typeof Element>"u",co=jv?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mc=!jv&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},gc=function e(t,s){var o;s===void 0&&(s=!0);var i=t==null||(o=t.getAttribute)===null||o===void 0?void 0:o.call(t,"inert"),u=i===""||i==="true",f=u||s&&t&&e(t.parentNode);return f},hL=function(t){var s,o=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"contenteditable");return o===""||o==="true"},Wv=function(t,s,o){if(gc(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(pc));return s&&co.call(t,pc)&&i.unshift(t),i=i.filter(o),i},Zv=function e(t,s,o){for(var i=[],u=Array.from(t);u.length;){var f=u.shift();if(!gc(f,!1))if(f.tagName==="SLOT"){var h=f.assignedElements(),m=h.length?h:f.children,y=e(m,!0,o);o.flatten?i.push.apply(i,y):i.push({scopeParent:f,candidates:y})}else{var v=co.call(f,pc);v&&o.filter(f)&&(s||!t.includes(f))&&i.push(f);var w=f.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(f),x=!gc(w,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(f));if(w&&x){var P=e(w===!0?f.children:w.children,!0,o);o.flatten?i.push.apply(i,P):i.push({scopeParent:f,candidates:P})}else u.unshift.apply(u,f.children)}}return i},Yv=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},no=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||hL(t))&&!Yv(t)?0:t.tabIndex},pL=function(t,s){var o=no(t);return o<0&&s&&!Yv(t)?0:o},mL=function(t,s){return t.tabIndex===s.tabIndex?t.documentOrder-s.documentOrder:t.tabIndex-s.tabIndex},Xv=function(t){return t.tagName==="INPUT"},gL=function(t){return Xv(t)&&t.type==="hidden"},_L=function(t){var s=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(o){return o.tagName==="SUMMARY"});return s},vL=function(t,s){for(var o=0;o<t.length;o++)if(t[o].checked&&t[o].form===s)return t[o]},yL=function(t){if(!t.name)return!0;var s=t.form||mc(t),o=function(h){return s.querySelectorAll('input[type="radio"][name="'+h+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(t.name));else try{i=o(t.name)}catch(f){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",f.message),!1}var u=vL(i,t.form);return!u||u===t},bL=function(t){return Xv(t)&&t.type==="radio"},wL=function(t){return bL(t)&&!yL(t)},kL=function(t){var s,o=t&&mc(t),i=(s=o)===null||s===void 0?void 0:s.host,u=!1;if(o&&o!==t){var f,h,m;for(u=!!((f=i)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(i)||t!=null&&(m=t.ownerDocument)!==null&&m!==void 0&&m.contains(t));!u&&i;){var y,v,w;o=mc(i),i=(y=o)===null||y===void 0?void 0:y.host,u=!!((v=i)!==null&&v!==void 0&&(w=v.ownerDocument)!==null&&w!==void 0&&w.contains(i))}}return u},Vp=function(t){var s=t.getBoundingClientRect(),o=s.width,i=s.height;return o===0&&i===0},LL=function(t,s){var o=s.displayCheck,i=s.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=co.call(t,"details>summary:first-of-type"),f=u?t.parentElement:t;if(co.call(f,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var h=t;t;){var m=t.parentElement,y=mc(t);if(m&&!m.shadowRoot&&i(m)===!0)return Vp(t);t.assignedSlot?t=t.assignedSlot:!m&&y!==t.ownerDocument?t=y.host:t=m}t=h}if(kL(t))return!t.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Vp(t);return!1},EL=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var s=t.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var o=0;o<s.children.length;o++){var i=s.children.item(o);if(i.tagName==="LEGEND")return co.call(s,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}s=s.parentElement}return!1},_c=function(t,s){return!(s.disabled||gc(s)||gL(s)||LL(s,t)||_L(s)||EL(s))},cf=function(t,s){return!(wL(s)||no(s)<0||!_c(t,s))},TL=function(t){var s=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},xL=function e(t){var s=[],o=[];return t.forEach(function(i,u){var f=!!i.scopeParent,h=f?i.scopeParent:i,m=pL(h,f),y=f?e(i.candidates):h;m===0?f?s.push.apply(s,y):s.push(h):o.push({documentOrder:u,tabIndex:m,item:i,isScope:f,content:y})}),o.sort(mL).reduce(function(i,u){return u.isScope?i.push.apply(i,u.content):i.push(u.content),i},[]).concat(s)},SL=function(t,s){s=s||{};var o;return s.getShadowRoot?o=Zv([t],s.includeContainer,{filter:cf.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:TL}):o=Wv(t,s.includeContainer,cf.bind(null,s)),xL(o)},CL=function(t,s){s=s||{};var o;return s.getShadowRoot?o=Zv([t],s.includeContainer,{filter:_c.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):o=Wv(t,s.includeContainer,_c.bind(null,s)),o},Ho=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return co.call(t,pc)===!1?!1:cf(s,t)},PL=qv.concat("iframe").join(","),Dd=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return co.call(t,PL)===!1?!1:_c(s,t)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function df(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,o=Array(t);s<t;s++)o[s]=e[s];return o}function IL(e){if(Array.isArray(e))return df(e)}function NL(e,t,s){return(t=DL(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ML(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,o)}return s}function jp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?qp(Object(s),!0).forEach(function(o){NL(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qp(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function AL(e){return IL(e)||ML(e)||BL(e)||OL()}function RL(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var o=s.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DL(e){var t=RL(e,"string");return typeof t=="symbol"?t:t+""}function BL(e,t){if(e){if(typeof e=="string")return df(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?df(e,t):void 0}}var Wp={activateTrap:function(t,s){if(t.length>0){var o=t[t.length-1];o!==s&&o._setPausedState(!0)}var i=t.indexOf(s);i===-1||t.splice(i,1),t.push(s)},deactivateTrap:function(t,s){var o=t.indexOf(s);o!==-1&&t.splice(o,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},FL=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},zL=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},yu=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},$L=function(t){return yu(t)&&!t.shiftKey},UL=function(t){return yu(t)&&t.shiftKey},Zp=function(t){return setTimeout(t,0)},tu=function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,o):t},Tl=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},GL=[],HL=function(t,s){var o=(s==null?void 0:s.document)||document,i=(s==null?void 0:s.trapStack)||GL,u=jp({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:$L,isKeyBackward:UL},s),f={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},h,m=function(K,j,ie){return K&&K[j]!==void 0?K[j]:u[ie||j]},y=function(K,j){var ie=typeof(j==null?void 0:j.composedPath)=="function"?j.composedPath():void 0;return f.containerGroups.findIndex(function(V){var re=V.container,oe=V.tabbableNodes;return re.contains(K)||(ie==null?void 0:ie.includes(re))||oe.find(function(_e){return _e===K})})},v=function(K){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=j.hasFallback,V=ie===void 0?!1:ie,re=j.params,oe=re===void 0?[]:re,_e=u[K];if(typeof _e=="function"&&(_e=_e.apply(void 0,AL(oe))),_e===!0&&(_e=void 0),!_e){if(_e===void 0||_e===!1)return _e;throw new Error("`".concat(K,"` was specified but was not a node, or did not return a node"))}var le=_e;if(typeof _e=="string"){try{le=o.querySelector(_e)}catch(we){throw new Error("`".concat(K,'` appears to be an invalid selector; error="').concat(we.message,'"'))}if(!le&&!V)throw new Error("`".concat(K,"` as selector refers to no known node"))}return le},w=function(){var K=v("initialFocus",{hasFallback:!0});if(K===!1)return!1;if(K===void 0||K&&!Dd(K,u.tabbableOptions))if(y(o.activeElement)>=0)K=o.activeElement;else{var j=f.tabbableGroups[0],ie=j&&j.firstTabbableNode;K=ie||v("fallbackFocus")}else K===null&&(K=v("fallbackFocus"));if(!K)throw new Error("Your focus-trap needs to have at least one focusable element");return K},x=function(){if(f.containerGroups=f.containers.map(function(K){var j=SL(K,u.tabbableOptions),ie=CL(K,u.tabbableOptions),V=j.length>0?j[0]:void 0,re=j.length>0?j[j.length-1]:void 0,oe=ie.find(function(we){return Ho(we)}),_e=ie.slice().reverse().find(function(we){return Ho(we)}),le=!!j.find(function(we){return no(we)>0});return{container:K,tabbableNodes:j,focusableNodes:ie,posTabIndexesFound:le,firstTabbableNode:V,lastTabbableNode:re,firstDomTabbableNode:oe,lastDomTabbableNode:_e,nextTabbableNode:function(Re){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Pe=j.indexOf(Re);return Pe<0?Oe?ie.slice(ie.indexOf(Re)+1).find(function(Le){return Ho(Le)}):ie.slice(0,ie.indexOf(Re)).reverse().find(function(Le){return Ho(Le)}):j[Pe+(Oe?1:-1)]}}}),f.tabbableGroups=f.containerGroups.filter(function(K){return K.tabbableNodes.length>0}),f.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(f.containerGroups.find(function(K){return K.posTabIndexesFound})&&f.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},P=function(K){var j=K.activeElement;if(j)return j.shadowRoot&&j.shadowRoot.activeElement!==null?P(j.shadowRoot):j},O=function(K){if(K!==!1&&K!==P(document)){if(!K||!K.focus){O(w());return}K.focus({preventScroll:!!u.preventScroll}),f.mostRecentlyFocusedNode=K,FL(K)&&K.select()}},B=function(K){var j=v("setReturnFocus",{params:[K]});return j||(j===!1?!1:K)},q=function(K){var j=K.target,ie=K.event,V=K.isBackward,re=V===void 0?!1:V;j=j||Tl(ie),x();var oe=null;if(f.tabbableGroups.length>0){var _e=y(j,ie),le=_e>=0?f.containerGroups[_e]:void 0;if(_e<0)re?oe=f.tabbableGroups[f.tabbableGroups.length-1].lastTabbableNode:oe=f.tabbableGroups[0].firstTabbableNode;else if(re){var we=f.tabbableGroups.findIndex(function(ce){var Y=ce.firstTabbableNode;return j===Y});if(we<0&&(le.container===j||Dd(j,u.tabbableOptions)&&!Ho(j,u.tabbableOptions)&&!le.nextTabbableNode(j,!1))&&(we=_e),we>=0){var Re=we===0?f.tabbableGroups.length-1:we-1,Oe=f.tabbableGroups[Re];oe=no(j)>=0?Oe.lastTabbableNode:Oe.lastDomTabbableNode}else yu(ie)||(oe=le.nextTabbableNode(j,!1))}else{var Pe=f.tabbableGroups.findIndex(function(ce){var Y=ce.lastTabbableNode;return j===Y});if(Pe<0&&(le.container===j||Dd(j,u.tabbableOptions)&&!Ho(j,u.tabbableOptions)&&!le.nextTabbableNode(j))&&(Pe=_e),Pe>=0){var Le=Pe===f.tabbableGroups.length-1?0:Pe+1,Te=f.tabbableGroups[Le];oe=no(j)>=0?Te.firstTabbableNode:Te.firstDomTabbableNode}else yu(ie)||(oe=le.nextTabbableNode(j))}}else oe=v("fallbackFocus");return oe},A=function(K){var j=Tl(K);if(!(y(j,K)>=0)){if(tu(u.clickOutsideDeactivates,K)){h.deactivate({returnFocus:u.returnFocusOnDeactivate});return}tu(u.allowOutsideClick,K)||K.preventDefault()}},z=function(K){var j=Tl(K),ie=y(j,K)>=0;if(ie||j instanceof Document)ie&&(f.mostRecentlyFocusedNode=j);else{K.stopImmediatePropagation();var V,re=!0;if(f.mostRecentlyFocusedNode)if(no(f.mostRecentlyFocusedNode)>0){var oe=y(f.mostRecentlyFocusedNode),_e=f.containerGroups[oe].tabbableNodes;if(_e.length>0){var le=_e.findIndex(function(we){return we===f.mostRecentlyFocusedNode});le>=0&&(u.isKeyForward(f.recentNavEvent)?le+1<_e.length&&(V=_e[le+1],re=!1):le-1>=0&&(V=_e[le-1],re=!1))}}else f.containerGroups.some(function(we){return we.tabbableNodes.some(function(Re){return no(Re)>0})})||(re=!1);else re=!1;re&&(V=q({target:f.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(f.recentNavEvent)})),O(V||f.mostRecentlyFocusedNode||w())}f.recentNavEvent=void 0},H=function(K){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;f.recentNavEvent=K;var ie=q({event:K,isBackward:j});ie&&(yu(K)&&K.preventDefault(),O(ie))},_=function(K){(u.isKeyForward(K)||u.isKeyBackward(K))&&H(K,u.isKeyBackward(K))},T=function(K){zL(K)&&tu(u.escapeDeactivates,K)!==!1&&(K.preventDefault(),h.deactivate())},E=function(K){var j=Tl(K);y(j,K)>=0||tu(u.clickOutsideDeactivates,K)||tu(u.allowOutsideClick,K)||(K.preventDefault(),K.stopImmediatePropagation())},C=function(){if(f.active)return Wp.activateTrap(i,h),f.delayInitialFocusTimer=u.delayInitialFocus?Zp(function(){O(w())}):O(w()),o.addEventListener("focusin",z,!0),o.addEventListener("mousedown",A,{capture:!0,passive:!1}),o.addEventListener("touchstart",A,{capture:!0,passive:!1}),o.addEventListener("click",E,{capture:!0,passive:!1}),o.addEventListener("keydown",_,{capture:!0,passive:!1}),o.addEventListener("keydown",T),h},F=function(){if(f.active)return o.removeEventListener("focusin",z,!0),o.removeEventListener("mousedown",A,!0),o.removeEventListener("touchstart",A,!0),o.removeEventListener("click",E,!0),o.removeEventListener("keydown",_,!0),o.removeEventListener("keydown",T),h},D=function(K){var j=K.some(function(ie){var V=Array.from(ie.removedNodes);return V.some(function(re){return re===f.mostRecentlyFocusedNode})});j&&O(w())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,X=function(){R&&(R.disconnect(),f.active&&!f.paused&&f.containers.map(function(K){R.observe(K,{subtree:!0,childList:!0})}))};return h={get active(){return f.active},get paused(){return f.paused},activate:function(K){if(f.active)return this;var j=m(K,"onActivate"),ie=m(K,"onPostActivate"),V=m(K,"checkCanFocusTrap");V||x(),f.active=!0,f.paused=!1,f.nodeFocusedBeforeActivation=o.activeElement,j==null||j();var re=function(){V&&x(),C(),X(),ie==null||ie()};return V?(V(f.containers.concat()).then(re,re),this):(re(),this)},deactivate:function(K){if(!f.active)return this;var j=jp({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},K);clearTimeout(f.delayInitialFocusTimer),f.delayInitialFocusTimer=void 0,F(),f.active=!1,f.paused=!1,X(),Wp.deactivateTrap(i,h);var ie=m(j,"onDeactivate"),V=m(j,"onPostDeactivate"),re=m(j,"checkCanReturnFocus"),oe=m(j,"returnFocus","returnFocusOnDeactivate");ie==null||ie();var _e=function(){Zp(function(){oe&&O(B(f.nodeFocusedBeforeActivation)),V==null||V()})};return oe&&re?(re(B(f.nodeFocusedBeforeActivation)).then(_e,_e),this):(_e(),this)},pause:function(K){return f.active?(f.manuallyPaused=!0,this._setPausedState(!0,K)):this},unpause:function(K){return f.active?(f.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,K)):this},updateContainerElements:function(K){var j=[].concat(K).filter(Boolean);return f.containers=j.map(function(ie){return typeof ie=="string"?o.querySelector(ie):ie}),f.active&&x(),X(),this}},Object.defineProperties(h,{_isManuallyPaused:{value:function(){return f.manuallyPaused}},_setPausedState:{value:function(K,j){if(f.paused===K)return this;if(f.paused=K,K){var ie=m(j,"onPause"),V=m(j,"onPostPause");ie==null||ie(),F(),X(),V==null||V()}else{var re=m(j,"onUnpause"),oe=m(j,"onPostUnpause");re==null||re(),x(),C(),X(),oe==null||oe()}return this}}}),h.updateContainerElements(t),h};function VL(e,t={}){let s;const{immediate:o,...i}=t,u=Mn(!1),f=Mn(!1),h=x=>s&&s.activate(x),m=x=>s&&s.deactivate(x),y=()=>{s&&(s.pause(),f.value=!0)},v=()=>{s&&(s.unpause(),f.value=!1)},w=de(()=>{const x=pt(e);return _u(x).map(P=>{const O=pt(P);return typeof O=="string"?O:Br(O)}).filter(cv)});return tt(w,x=>{x.length&&(s=HL(x,{...i,onActivate(){u.value=!0,t.onActivate&&t.onActivate()},onDeactivate(){u.value=!1,t.onDeactivate&&t.onDeactivate()}}),o&&h())},{flush:"post"}),mo(()=>m()),{hasFocus:u,isPaused:f,activate:h,deactivate:m,pause:y,unpause:v}}const qL=({element:e,isActive:t,noTrap:s,fallbackFocus:o},i={allowOutsideClick:!0,fallbackFocus:o.ref.value??void 0,escapeDeactivates:!1})=>{const u=jn(en(t)),f=jn(en(s)),h=()=>{var v;const w=(v=e.value)==null?void 0:v.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${o.classSelector})`);return!(w!=null&&w.length)},m=ze(!1);Mi(()=>{m.value=h(),yk(e,()=>{m.value=h()},{childList:!0,subtree:!0})});const y=VL(e,i);return tt(u,async v=>{await qn(),v&&f.value===!1?y.activate():y.deactivate()}),tt(f,v=>{v===!0&&y.deactivate()}),{needsFallback:jn(m)}},jL=uv(Sk);let xl="";const Ks=new Map,WL=(e,t)=>{const s=jn(en(e)),o=y_(),i=de(()=>!pt(t)),u=jL(typeof document<"u"?document.body:null,s.value&&i.value);Mi(()=>{typeof document>"u"||(Ks.set(o,!1),tt([s,i],([f,h])=>{const m=window.innerWidth-document.documentElement.clientWidth,y=Array.from(Ks.values()).some(x=>x===!0),v=f&&h;Ks.set(o,v),v&&!y&&!u.value&&(u.value=!0,m>0&&(xl=document.body.style.paddingRight,document.body.style.paddingRight=`${m+xl}px`));const w=Array.from(Ks.values()).some(x=>x===!0);y&&!w&&(Ks.set(o,!1),u.value=!1,document.body.style.paddingRight=xl)},{immediate:!0}))}),ba(()=>{Ks.delete(o),Array.from(Ks.values()).some(h=>h===!0)||(document.body.style.paddingRight=xl,u.value=!1)})},ZL=["id","aria-labelledby","aria-describedby"],YL=["id"],Yp="modal-fallback-focus",Xp=1056,XL=Et({inheritAttrs:!1,__name:"BModal",props:ii({autofocus:{type:Boolean,default:!0},autofocusButton:{default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["backdrop","cancel","close","esc","ok","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=un(e,"BModal"),u=s,f=Vu(),h=go(()=>i.id,"modal"),m=hr(e,"modelValue"),y=an("_element"),v=an("_fallbackFocusElement"),w=an("_okButton"),x=an("_cancelButton"),P=an("_closeButton"),O=()=>{i.autofocus!==!1&&(i.autofocusButton==="ok"?re.value=!0:i.autofocusButton==="close"?_e.value=!0:i.autofocusButton==="cancel"?oe.value=!0:V.value=!0)},B=()=>{O()},{showRef:q,renderRef:A,renderBackdropRef:z,hide:H,show:_,toggle:T,computedNoAnimation:E,transitionProps:C,backdropTransitionProps:F,isLeaving:D,isVisible:R,trapActive:X,contentShowing:ee,backdropReady:K,backdropVisible:j}=qc(m,i,u,y,h,{transitionProps:{onAfterEnter:B}}),{needsFallback:ie}=qL({element:y,isActive:X,noTrap:()=>i.noTrap,fallbackFocus:{ref:v,classSelector:Yp}});fs("Escape",()=>{H("esc")},{target:y}),WL(q,()=>i.bodyScrolling);const{focused:V}=io(y,{initialValue:m.value&&i.autofocusButton===void 0&&i.autofocus===!0}),{focused:re}=io(w,{initialValue:m.value&&i.autofocusButton==="ok"&&i.autofocus===!0}),{focused:oe}=io(x,{initialValue:m.value&&i.autofocusButton==="cancel"&&i.autofocus===!0}),{focused:_e}=io(P,{initialValue:m.value&&i.autofocusButton==="close"&&i.autofocus===!0}),le=de(()=>!ch(f["header-close"])),we=de(()=>[i.dialogClass,{"modal-fullscreen":i.fullscreen===!0,[`modal-fullscreen-${i.fullscreen}-down`]:typeof i.fullscreen=="string",[`modal-${i.size}`]:i.size!=="md","modal-dialog-centered":i.centered,"modal-dialog-scrollable":i.scrollable}]),Re=vu(()=>({bgVariant:i.bodyBgVariant,textVariant:i.bodyTextVariant,variant:i.bodyVariant})),Oe=de(()=>[i.bodyClass,Re.value]),Pe=vu(()=>({bgVariant:i.headerBgVariant,textVariant:i.headerTextVariant,variant:i.headerVariant,borderVariant:i.headerBorderVariant})),Le=de(()=>[i.headerClass,Pe.value]),Te=de(()=>({variant:le.value?i.headerCloseVariant:void 0,class:i.headerCloseClass})),ce=vu(()=>({bgVariant:i.footerBgVariant,textVariant:i.footerTextVariant,variant:i.footerVariant,borderVariant:i.footerBorderVariant})),Y=de(()=>[i.footerClass,ce.value]),xe=de(()=>[i.titleClass,{"visually-hidden":i.titleVisuallyHidden}]),Ne=de(()=>i.cancelDisabled||i.busy),Me=de(()=>i.okDisabled||i.busy),{activePosition:N,activeModalCount:Q,stackWithoutSelf:se}=Pk(q,m.value);tt(se,($,ae)=>{$.length>ae.length&&q.value===!0&&i.noStacking===!0&&H()});const ge=de(()=>q.value||D.value?Xp-(((Q==null?void 0:Q.value)??0)*2-((N==null?void 0:N.value)??0)*2):Xp),ke=de(()=>({"z-index":ge.value})),be=de(()=>({"z-index":ge.value-1})),Z=de(()=>({cancel:()=>{H("cancel")},close:()=>{H("close")},hide:H,ok:()=>{H("ok")},active:q.value,visible:q.value}));return t({hide:H,id:h,show:_,toggle:T}),($,ae)=>(Ee(),dt(Qf,{to:W(i).teleportTo,disabled:W(i).teleportDisabled},{default:et(()=>[W(A)||W(ee)?(Ee(),dt(Iu,bt({key:0},W(C),{appear:m.value||W(i).visible,onAfterEnter:B}),{default:et(()=>[rn(pe("div",bt({id:W(h),ref:"_element",class:["modal",[W(i).modalClass,{fade:!W(E),show:W(R)}]],role:"dialog","aria-labelledby":W(i).noHeader?void 0:`${W(h)}-label`,"aria-describedby":`${W(h)}-body`,tabindex:"-1"},$.$attrs,{style:ke.value,onClick:ae[4]||(ae[4]=nv(me=>W(H)("backdrop"),["self"]))}),[pe("div",{class:Nt(["modal-dialog",we.value])},[W(ee)?(Ee(),Be("div",{key:0,class:Nt(["modal-content",W(i).contentClass])},[W(i).noHeader?yt("",!0):(Ee(),Be("div",{key:0,class:Nt(["modal-header",Le.value])},[ct($.$slots,"header",xi(ar(Z.value)),()=>[(Ee(),dt(Es(W(i).titleTag),{id:`${W(h)}-label`,class:Nt(["modal-title",xe.value])},{default:et(()=>[ct($.$slots,"title",xi(ar(Z.value)),()=>[it(qe(W(i).title),1)],!0)]),_:3},8,["id","class"])),W(i).noHeaderClose?yt("",!0):(Ee(),Be(ft,{key:0},[le.value?(Ee(),dt(Ur,bt({key:0},Te.value,{onClick:ae[0]||(ae[0]=me=>W(H)("close"))}),{default:et(()=>[ct($.$slots,"header-close",{},void 0,!0)]),_:3},16)):(Ee(),dt($1,bt({key:1,"aria-label":W(i).headerCloseLabel},Te.value,{onClick:ae[1]||(ae[1]=me=>W(H)("close"))}),null,16,["aria-label"]))],64))],!0)],2)),pe("div",bt({id:`${W(h)}-body`,class:["modal-body",Oe.value]},W(i).bodyAttrs),[ct($.$slots,"default",xi(ar(Z.value)),()=>[it(qe(W(i).body),1)],!0)],16,YL),W(i).noFooter?yt("",!0):(Ee(),Be("div",{key:1,class:Nt(["modal-footer",Y.value])},[ct($.$slots,"footer",xi(ar(Z.value)),()=>[ct($.$slots,"cancel",xi(ar(Z.value)),()=>[W(i).okOnly?yt("",!0):(Ee(),dt(Ur,{key:0,ref:"_cancelButton",disabled:Ne.value,size:W(i).buttonSize,variant:W(i).cancelVariant,onClick:ae[2]||(ae[2]=me=>W(H)("cancel"))},{default:et(()=>[it(qe(W(i).cancelTitle),1)]),_:1},8,["disabled","size","variant"]))],!0),ct($.$slots,"ok",xi(ar(Z.value)),()=>[Ue(Ur,{ref:"_okButton",disabled:Me.value,size:W(i).buttonSize,variant:W(i).okVariant,onClick:ae[3]||(ae[3]=me=>W(H)("ok"))},{default:et(()=>[it(qe(W(i).okTitle),1)]),_:1},8,["disabled","size","variant"])],!0)],!0)],2))],2)):yt("",!0)],2),W(ie)?(Ee(),Be("div",{key:0,ref:"_fallbackFocusElement",class:Nt(Yp),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):yt("",!0)],16,ZL),[[Nu,W(q)&&(W(K)&&W(i).backdropFirst||!W(i).backdropFirst)]])]),_:3},16,["appear"])):yt("",!0),W(i).noBackdrop?yt("",!0):ct($.$slots,"backdrop",xi(bt({key:1},Z.value)),()=>[W(z)?(Ee(),dt(Iu,xi(bt({key:0},W(F))),{default:et(()=>[rn(pe("div",{class:Nt(["modal-backdrop",{fade:!W(E),show:W(j)||W(E)}]),style:Gi(be.value),onClick:ae[5]||(ae[5]=me=>W(H)("backdrop"))},null,6),[[Nu,W(q)||W(D)&&W(i).backdropFirst&&!W(E)]])]),_:1},16)):yt("",!0)],!0)]),_:3},8,["to","disabled"]))}}),KL=eh(XL,[["__scopeId","data-v-93972863"]]),JL=Et({inheritAttrs:!1,__name:"BNavForm",props:{role:{default:void 0},wrapperAttrs:{default:void 0},formClass:{default:void 0},floating:{type:Boolean,default:void 0},id:{default:void 0},novalidate:{type:Boolean,default:void 0},validated:{type:Boolean,default:void 0}},emits:["submit"],setup(e,{emit:t}){const o=un(e,"BNavForm"),i=t,u=Zf(),f=de(()=>{const{class:y,...v}=u;return{wrapperClass:y,formAttrs:v}}),h=y=>{i("submit",y)},m=de(()=>["d-flex","flex-row","align-items-center","flex-wrap",f.value.wrapperClass]);return(y,v)=>(Ee(),Be("li",bt({class:m.value},y.wrapperAttrs),[Ue(J1,bt(f.value.formAttrs,{id:W(o).id,floating:W(o).floating,role:W(o).role,novalidate:W(o).novalidate,validated:W(o).validated,class:["d-flex",W(o).formClass],onSubmit:nv(h,["prevent"])}),{default:et(()=>[ct(y.$slots,"default")]),_:3},16,["id","floating","role","novalidate","validated","class"])],16))}}),QL=e=>de(()=>{const t=pt(e);return{container:t===!0,[`container-${t}`]:typeof t=="string"}}),eE=Et({__name:"BNavbar",props:{autoClose:{type:Boolean,default:!0},container:{type:[Boolean,String],default:"fluid"},fixed:{default:void 0},print:{type:Boolean,default:!1},sticky:{default:void 0},tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},variant:{default:null}},setup(e){const s=un(e,"BNavbar"),o=de(()=>s.tag==="nav"?void 0:"navigation"),i=QL(()=>s.container),u=vu(de(()=>({bgVariant:s.variant}))),f=de(()=>[u.value,{"d-print":s.print,[`sticky-${s.sticky}`]:s.sticky!==void 0,[`fixed-${s.fixed}`]:s.fixed!==void 0,"navbar-expand":s.toggleable===!1,[`navbar-expand-${s.toggleable}`]:typeof s.toggleable=="string"}]);return ms(ov,{tag:en(()=>s.tag),autoClose:en(()=>s.autoClose)}),(h,m)=>(Ee(),dt(Es(W(s).tag),{class:Nt(["navbar",f.value]),role:o.value},{default:et(()=>[W(s).container!==!1?(Ee(),Be("div",{key:0,class:Nt(W(i))},[ct(h.$slots,"default")],2)):ct(h.$slots,"default",{key:1})]),_:3},8,["class","role"]))}}),tE=Et({__name:"BNavbarBrand",props:{tag:{default:"div"},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(e){const s=un(e,"BNavbarBrand"),{computedLink:o,computedLinkProps:i}=Fv(s,["active","activeClass","append","disabled","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon"]),u=de(()=>o.value?$v:s.tag);return(f,h)=>(Ee(),dt(Es(u.value),bt({class:"navbar-brand"},W(i)),{default:et(()=>[ct(f.$slots,"default")]),_:3},16))}}),nE=Et({__name:"BNavbarNav",props:{align:{default:void 0},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tag:{default:"ul"}},setup(e){const s=un(e,"BNavbarNav"),o=j1(()=>s.align),i=de(()=>({"nav-fill":s.fill,"nav-justified":s.justified,[o.value]:s.align!==void 0,small:s.small}));return(u,f)=>(Ee(),Be("ul",{class:Nt(["navbar-nav",i.value])},[ct(u.$slots,"default")],2))}}),iE=["disabled","aria-label"],rE=Et({__name:"BNavbarToggle",props:{disabled:{type:Boolean,default:!1},label:{default:"Toggle navigation"},target:{default:void 0}},emits:["click"],setup(e,{emit:t}){const o=un(e,"BNavbarToggle"),i=t,u=de(()=>({disabled:o.disabled})),f=tn(Vc,void 0),h=de(()=>{var v;return!o.target||!f?!1:typeof o.target=="string"?((v=f.map[o.target])==null?void 0:v.value)||!1:o.target.some(w=>{var x;return(x=f.map[w])==null?void 0:x.value})}),m=()=>{var v;if(!(!o.target||!f)){if(typeof o.target=="string"){(v=f.map[o.target])==null||v.toggle();return}o.target.forEach(w=>{var x;return(x=f.map[w])==null?void 0:x.toggle()})}},y=v=>{o.disabled||(i("click",v),m())};return(v,w)=>(Ee(),Be("button",{class:Nt(["navbar-toggler",u.value]),type:"button",disabled:W(o).disabled,"aria-label":W(o).label,onClick:y},[ct(v.$slots,"default",{expanded:h.value},()=>[w[0]||(w[0]=pe("span",{class:"navbar-toggler-icon"},null,-1))])],10,iE))}}),sE=Et({__name:"BTooltip",props:ii({interactive:{type:Boolean,default:void 0},boundary:{},boundaryPadding:{},click:{type:Boolean,default:void 0},closeOnHide:{type:Boolean},content:{default:void 0},customClass:{default:void 0},delay:{default:void 0},floatingMiddleware:{default:void 0},hideMargin:{},id:{default:void 0},inline:{type:Boolean,default:void 0},manual:{type:Boolean,default:void 0},noAutoClose:{type:Boolean,default:void 0},noFlip:{type:Boolean,default:void 0},noHide:{type:Boolean,default:void 0},noShift:{type:Boolean,default:void 0},noSize:{type:Boolean},noninteractive:{type:Boolean,default:void 0},offset:{default:void 0},placement:{default:void 0},realtime:{type:Boolean,default:void 0},reference:{default:void 0},strategy:{default:void 0},target:{default:void 0},title:{default:void 0},variant:{default:void 0},teleportDisabled:{type:Boolean,default:void 0},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:void 0},lazy:{type:Boolean,default:void 0},unmountLazy:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},transProps:{},visible:{type:Boolean,default:void 0}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const o=un(e,"BTooltip"),i=Vu(),u=hr(e,"modelValue"),f=de(()=>{const{interactive:m,noninteractive:y,...v}=o;return{noninteractive:y!==void 0?y:!m,...v}}),h=an("_popover");return t({hide:()=>{var m;(m=h.value)==null||m.hide()},show:()=>{var m;(m=h.value)==null||m.show()},toggle:()=>{var m;(m=h.value)==null||m.toggle()}}),(m,y)=>(Ee(),dt(Rv,bt({ref:"_popover"},f.value,{modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=v=>u.value=v),tooltip:""}),Ab({_:2},[i.default?{name:"default",fn:et(()=>[ct(m.$slots,"default")]),key:"0"}:void 0,i.target?{name:"target",fn:et(v=>[ct(m.$slots,"target",xi(ar(v)))]),key:"1"}:void 0,i.title?{name:"title",fn:et(()=>[ct(m.$slots,"title")]),key:"2"}:void 0]),1040,["modelValue"]))}});Object.freeze(Object.keys({bordered:0,borderless:0,borderVariant:0,captionTop:0,dark:0,fixed:0,hover:0,id:0,noBorderCollapse:0,outlined:0,responsive:0,small:0,stacked:0,stickyHeader:0,striped:0,stripedColumns:0,variant:0,tableAttrs:0,tableClass:0}));Object.freeze(Object.keys({align:0,caption:0,detailsTdClass:0,fieldColumnClass:0,fields:0,footClone:0,footRowVariant:0,footVariant:0,headRowVariant:0,headVariant:0,items:0,labelStacked:0,modelValue:0,primaryKey:0,tbodyClass:0,tbodyTrAttrs:0,tbodyTrClass:0,tfootClass:0,tfootTrClass:0,theadClass:0,theadTrClass:0}));const Kv={BAccordion:"/components/BAccordion",BAccordionItem:"/components/BAccordion",BAlert:"/components/BAlert",BAvatar:"/components/BAvatar",BAvatarGroup:"/components/BAvatar",BBadge:"/components/BBadge",BBreadcrumb:"/components/BBreadcrumb",BBreadcrumbItem:"/components/BBreadcrumb",BButton:"/components/BButton",BButtonGroup:"/components/BButton",BButtonToolbar:"/components/BButton",BCloseButton:"/components/BButton",BCard:"/components/BCard",BCardBody:"/components/BCard",BCardFooter:"/components/BCard",BCardGroup:"/components/BCard",BCardHeader:"/components/BCard",BCardImg:"/components/BCard",BCardSubtitle:"/components/BCard",BCardText:"/components/BCard",BCardTitle:"/components/BCard",BCarousel:"/components/BCarousel",BCarouselSlide:"/components/BCarousel",BCol:"/components/BContainer",BCollapse:"/components/BCollapse",BContainer:"/components/BContainer",BDropdown:"/components/BDropdown",BDropdownDivider:"/components/BDropdown",BDropdownForm:"/components/BDropdown",BDropdownGroup:"/components/BDropdown",BDropdownHeader:"/components/BDropdown",BDropdownItem:"/components/BDropdown",BDropdownItemButton:"/components/BDropdown",BDropdownText:"/components/BDropdown",BForm:"/components/BForm",BFormCheckbox:"/components/BFormCheckbox",BFormCheckboxGroup:"/components/BFormCheckbox",BFormDatalist:"/components/BForm",BFormFile:"/components/BFormFile",BFormFloatingLabel:"/components/BForm",BFormGroup:"/components/BFormGroup",BFormInput:"/components/BFormInput",BFormInvalidFeedback:"/components/BForm",BFormRadio:"/components/BFormRadio",BFormRadioGroup:"/components/BFormRadio",BFormRow:"/components/BForm",BFormSelect:"/components/BFormSelect",BFormSelectOption:"/components/BFormSelect",BFormSelectOptionGroup:"/components/BFormSelect",BFormSpinbutton:"/components/BFormSpinbutton",BFormTag:"/components/BFormTags",BFormTags:"/components/BFormTags",BFormText:"/components/BForm",BFormTextarea:"/components/BFormTextarea",BFormValidFeedback:"/components/BForm",BImg:"/components/BImg",BInput:"/components/BFormInput",BInputGroup:"/components/BInputGroup",BInputGroupText:"/components/BInputGroup",BListGroup:"/components/BListGroup",BListGroupItem:"/components/BListGroup",BModal:"/components/BModal",BModalOrchestrator:"/components/BModal",BNav:"/components/BNav",BNavForm:"/components/BNav",BNavItem:"/components/BNav",BNavItemDropdown:"/components/BNav",BNavText:"/components/BNav",BNavbar:"/components/BNavbar",BNavbarBrand:"/components/BNavbar",BNavbarNav:"/components/BNavbar",BNavbarToggle:"/components/BNavbar",BOffcanvas:"/components/BOffcanvas",BOverlay:"/components/BOverlay",BPagination:"/components/BPagination",BPlaceholder:"/components/BPlaceholder",BPlaceholderButton:"/components/BPlaceholder",BPlaceholderCard:"/components/BPlaceholder",BPlaceholderTable:"/components/BPlaceholder",BPlaceholderWrapper:"/components/BPlaceholder",BPopover:"/components/BPopover",BProgress:"/components/BProgress",BRow:"/components/BContainer",BSpinner:"/components/BSpinner",BTab:"/components/BTabs",BTabs:"/components/BTabs",BToast:"/components/BToast",BToastOrchestrator:"/components/BToast",BTooltip:"/components/BTooltip",BLink:"/components/BLink",BProgressBar:"/components/BProgress",BTableSimple:"/components/BTable",BTableLite:"/components/BTable",BTable:"/components/BTable",BTbody:"/components/BTable",BTd:"/components/BTable",BTh:"/components/BTable",BThead:"/components/BTable",BTfoot:"/components/BTable",BTr:"/components/BTable",BPopoverOrchestrator:"/components/BPopover"},oE=Object.freeze(Object.keys(Kv)),Jv={vBColorMode:"/directives/BColorMode",vBModal:"/directives/BModal",vBPopover:"/directives/BPopover",vBScrollspy:"/directives/BScrollspy",vBToggle:"/directives/BToggle",vBTooltip:"/directives/BTooltip"},aE=Object.freeze(Object.keys(Jv)),uE={useBreadcrumb:"/composables/useBreadcrumb",useColorMode:"/composables/useColorMode",useModal:"/composables/useModal",useModalController:"/composables/useModalController",useScrollspy:"/composables/useScrollspy",useToastController:"/composables/useToastController",usePopoverController:"/composables/usePopoverController"};Object.freeze(Object.keys(uE));const Kp="bootstrap-vue-next",Jp=(e,t)=>{const{all:s,...o}=e,i={};s&&t.forEach(f=>{i[f]=s});const u={...i,...o};return Object.entries(u).filter(([f,h])=>!!h&&t.includes(f)).map(([f])=>f)},Bd=new Set,Qp=new Set;Object.assign(({aliases:e={},directives:t=!0,components:s=!0}={})=>{const i=Jp(typeof s=="boolean"?{all:s}:s,oE).reduce((m,y)=>(m.set(y,`${Kp}${Kv[y]}`),m),new Map),f=Jp(typeof t=="boolean"?{all:t}:t,aE).reduce((m,y)=>{const v=y.toLowerCase().startsWith("v")?y:`v${y}`;return m.set(v,`${Kp}${Jv[v]}`),m},new Map);return[{type:"component",resolve(m){const y=i.get(m),v=i.get(e[m]);if(v){const w=e[m];return Bd.add(w),{name:w,from:v}}if(y)return Bd.add(m),{name:m,from:y}}},{type:"directive",resolve(m){const y=`v${m}`,v=f.get(y);if(v)return Qp.add(y),{name:y,from:v}}}]},{__usedComponents:Bd,__usedDirectives:Qp});const lE={install(e,t){const s=(t==null?void 0:t.components)??{};e.provide(zl,ze(s))}},cE={install(e){const t=ze({[xp]:[]}),s=(o=xp)=>{t.value[o]=[]};e.provide(nk,{items:t,reset:s})}},dE={install(e){const t=ze(new Map),s=()=>{let m=()=>{};return{value:new Promise(v=>{m=v}),resolve:m}},o=m=>[s(),m||Symbol("Modals controller"),!0],i=(m={})=>{var y;const v=en(m.props),[w,x,P]=o((y=v.value)==null?void 0:y.id);return t.value.set(x,{component:m.component?ps(m.component):void 0,props:{...v.value,_isConfirm:!1,_promise:w,_modelValue:P}}),tt(v,O=>{const B=t.value.get(x);B&&t.value.set(x,{component:m.component?ps(m.component):void 0,props:{...B.props,...O}})}),w.value},u=(m={})=>{var y;const v=en(m.props),[w,x,P]=o((y=v.value)==null?void 0:y.id);return t.value.set(x,{component:m.component?ps(m.component):void 0,props:{...v.value,_isConfirm:!0,_promise:w,_modelValue:P}}),tt(v,O=>{const B=t.value.get(x);B&&t.value.set(x,{component:m.component?ps(m.component):void 0,props:{...B.props,...O}})}),w.value},f=m=>{const y=t.value.get(m);y!=null&&y.props&&(y.props={...y.props,_modelValue:!1})},h=m=>{t.value.delete(m)};e.provide(ok,{modals:t,remove:h,show:i,confirm:u,leave:f})}},fE={install(e){const t=ze(new Map),s=de(()=>t.value.size),o=de(()=>[...t.value.values()]),i=de(()=>o.value[o.value.length-1]),u=v=>{t.value.set(v.uid,v)},f=v=>{t.value.delete(v.uid)},h=ze(new Map),m=v=>{h.value.set(v.uid,v)},y=v=>{h.value.delete(v.uid)};e.provide(av,{countStack:s,lastStack:i,registry:jn(h),stack:o,pushStack:u,removeStack:f,pushRegistry:m,removeRegistry:y})}},hE={install(e){const t=ze(new Map),s=y=>{var v;const w=en(y),x=((v=w.value)==null?void 0:v.id)||Symbol("Popover controller");return tt(w,P=>{t.value.set(x,{...P,...typeof P.modelValue<"u"&&Mt(y)?{"onUpdate:modelValue":O=>{var B;(B=P["onUpdate:modelValue"])==null||B.call(P,O),y.value.modelValue=O}}:{}})},{immediate:!0,deep:!0}),Ql(()=>t.value.delete(x),!0),x},o=(y,v)=>{const w=t.value.get(y);w&&t.value.set(y,{...w,...pt(v)})},i=y=>t.value.delete(y),u=ze(new Map),f=y=>{var v;const w=en(y),x=((v=w.value)==null?void 0:v.id)||Symbol("Tooltip controller");return tt(w,P=>{t.value.set(x,{...P,...typeof P.modelValue<"u"&&Mt(y)?{"onUpdate:modelValue":O=>{var B;(B=P["onUpdate:modelValue"])==null||B.call(P,O),y.value.modelValue=O}}:{}})},{immediate:!0,deep:!0}),Ql(()=>u.value.delete(x),!0),x},h=(y,v)=>{const w=u.value.get(y);w&&u.value.set(y,{...w,...pt(v)})},m=y=>u.value.delete(y);e.provide(ak,{popovers:t,tooltips:u,tooltip:f,popover:s,setPopover:o,setTooltip:h,removePopover:i,removeTooltip:m})}},pE={install(e,t){var s,o;const f=typeof(t==null?void 0:t.rtl)=="boolean"?!1:((s=t==null?void 0:t.rtl)==null?void 0:s.rtlInitial)??!1,h=typeof(t==null?void 0:t.rtl)=="boolean"?void 0:((o=t==null?void 0:t.rtl)==null?void 0:o.localeInitial)??void 0,m=ze(f),y=ze(h);e.provide(tk,{isRtl:m,locale:y})}},mE="top-end",gE={install(e){const t=ze([]),s=ze(!1),o=h=>{s.value=h},i=(h={})=>{var m,y,v,w;const x=en(h.props),P=((m=x.value)==null?void 0:m.id)||Symbol("Toast controller"),O={component:h.component?ps(h.component):void 0,props:{...x.value,pos:((y=x.value)==null?void 0:y.pos)||mE,_modelValue:((v=x.value)==null?void 0:v.value)||5e3,_self:P}};return(((w=x.value)==null?void 0:w.appendToast)!==void 0?x.value.appendToast:s.value)?t.value.push(O):t.value.unshift(O),tt(x,B=>{const q=t.value.findIndex(A=>A.props._self===P);q!==-1&&t.value.splice(q,1,{component:h.component?ps(h.component):void 0,props:{...t.value[q].props,...B,_modelValue:(B==null?void 0:B.value)||t.value[q].props._modelValue||5e3}})}),P},u=h=>{t.value=t.value.filter(m=>m.props._self!==h)},f=h=>{const m=t.value.findIndex(y=>y.props._self===h);m!==-1&&t.value.splice(m,1,{component:t.value[m].component?ps(t.value[m].component):void 0,props:{...t.value[m].props,_modelValue:!1}})};e.provide(sk,{_setIsAppend:o,toasts:t,show:i,remove:u,leave:f})}},_E={install(e){const t=ni({}),s=({id:o,value:i,toggle:u,show:f,hide:h})=>(t[o]=de(()=>({value:i.value,toggle:u,show:f,hide:h})),{unregister(){delete t[o]}});s.map=jn(t),e.provide(Vc,s)}},vE=(e={})=>({install(t){(e.breadcrumb??!0)&&t.use(cE),(e.modalController??!0)&&t.use(dE),(e.modalManager??!0)&&t.use(fE),((e.rtl??!0)||typeof e.rtl=="object")&&t.use(pE,e),(e.toast??!0)&&t.use(gE),(e.popover??!0)&&t.use(hE),t.use(_E),t.use(lE,e)}});/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const vc=typeof window<"u",xs=(e,t=!1)=>t?Symbol.for(e):Symbol(e),yE=(e,t,s)=>bE({l:e,k:t,s}),bE=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),sn=e=>typeof e=="number"&&isFinite(e),wE=e=>hh(e)==="[object Date]",ua=e=>hh(e)==="[object RegExp]",Yc=e=>ht(e)&&Object.keys(e).length===0,dn=Object.assign,kE=Object.create,Bt=(e=null)=>kE(e);let em;const ro=()=>em||(em=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Bt());function tm(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const LE=Object.prototype.hasOwnProperty;function Fi(e,t){return LE.call(e,t)}const Qt=Array.isArray,Ht=e=>typeof e=="function",Ve=e=>typeof e=="string",Lt=e=>typeof e=="boolean",xt=e=>e!==null&&typeof e=="object",EE=e=>xt(e)&&Ht(e.then)&&Ht(e.catch),Qv=Object.prototype.toString,hh=e=>Qv.call(e),ht=e=>hh(e)==="[object Object]",TE=e=>e==null?"":Qt(e)||ht(e)&&e.toString===Qv?JSON.stringify(e,null,2):String(e);function ph(e,t=""){return e.reduce((s,o,i)=>i===0?s+o:s+t+o,"")}function xE(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Sl=e=>!xt(e)||Qt(e);function $l(e,t){if(Sl(e)||Sl(t))throw new Error("Invalid value");const s=[{src:e,des:t}];for(;s.length;){const{src:o,des:i}=s.pop();Object.keys(o).forEach(u=>{u!=="__proto__"&&(xt(o[u])&&!xt(i[u])&&(i[u]=Array.isArray(o[u])?[]:Bt()),Sl(i[u])||Sl(o[u])?i[u]=o[u]:s.push({src:o[u],des:i[u]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function SE(e,t,s){return{line:e,column:t,offset:s}}function ff(e,t,s){return{start:e,end:t}}const Dt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},CE=17;function Xc(e,t,s={}){const{domain:o,messages:i,args:u}=s,f=e,h=new SyntaxError(String(f));return h.code=e,t&&(h.location=t),h.domain=o,h}function PE(e){throw e}const Ir=" ",IE="\r",$n=`
`,NE="\u2028",ME="\u2029";function OE(e){const t=e;let s=0,o=1,i=1,u=0;const f=C=>t[C]===IE&&t[C+1]===$n,h=C=>t[C]===$n,m=C=>t[C]===ME,y=C=>t[C]===NE,v=C=>f(C)||h(C)||m(C)||y(C),w=()=>s,x=()=>o,P=()=>i,O=()=>u,B=C=>f(C)||m(C)||y(C)?$n:t[C],q=()=>B(s),A=()=>B(s+u);function z(){return u=0,v(s)&&(o++,i=0),f(s)&&s++,s++,i++,t[s]}function H(){return f(s+u)&&u++,u++,t[s+u]}function _(){s=0,o=1,i=1,u=0}function T(C=0){u=C}function E(){const C=s+u;for(;C!==s;)z();u=0}return{index:w,line:x,column:P,peekOffset:O,charAt:B,currentChar:q,currentPeek:A,next:z,peek:H,reset:_,resetPeek:T,skipToPeek:E}}const ss=void 0,AE=".",nm="'",RE="tokenizer";function DE(e,t={}){const s=t.location!==!1,o=OE(e),i=()=>o.index(),u=()=>SE(o.line(),o.column(),o.index()),f=u(),h=i(),m={currentType:13,offset:h,startLoc:f,endLoc:f,lastType:13,lastOffset:h,lastStartLoc:f,lastEndLoc:f,braceNest:0,inLinked:!1,text:""},y=()=>m,{onError:v}=t;function w(Z,$,ae,...me){const Fe=y();if($.column+=ae,$.offset+=ae,v){const Se=s?ff(Fe.startLoc,$):null,ne=Xc(Z,Se,{domain:RE,args:me});v(ne)}}function x(Z,$,ae){Z.endLoc=u(),Z.currentType=$;const me={type:$};return s&&(me.loc=ff(Z.startLoc,Z.endLoc)),ae!=null&&(me.value=ae),me}const P=Z=>x(Z,13);function O(Z,$){return Z.currentChar()===$?(Z.next(),$):(w(Dt.EXPECTED_TOKEN,u(),0,$),"")}function B(Z){let $="";for(;Z.currentPeek()===Ir||Z.currentPeek()===$n;)$+=Z.currentPeek(),Z.peek();return $}function q(Z){const $=B(Z);return Z.skipToPeek(),$}function A(Z){if(Z===ss)return!1;const $=Z.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}function z(Z){if(Z===ss)return!1;const $=Z.charCodeAt(0);return $>=48&&$<=57}function H(Z,$){const{currentType:ae}=$;if(ae!==2)return!1;B(Z);const me=A(Z.currentPeek());return Z.resetPeek(),me}function _(Z,$){const{currentType:ae}=$;if(ae!==2)return!1;B(Z);const me=Z.currentPeek()==="-"?Z.peek():Z.currentPeek(),Fe=z(me);return Z.resetPeek(),Fe}function T(Z,$){const{currentType:ae}=$;if(ae!==2)return!1;B(Z);const me=Z.currentPeek()===nm;return Z.resetPeek(),me}function E(Z,$){const{currentType:ae}=$;if(ae!==7)return!1;B(Z);const me=Z.currentPeek()===".";return Z.resetPeek(),me}function C(Z,$){const{currentType:ae}=$;if(ae!==8)return!1;B(Z);const me=A(Z.currentPeek());return Z.resetPeek(),me}function F(Z,$){const{currentType:ae}=$;if(!(ae===7||ae===11))return!1;B(Z);const me=Z.currentPeek()===":";return Z.resetPeek(),me}function D(Z,$){const{currentType:ae}=$;if(ae!==9)return!1;const me=()=>{const Se=Z.currentPeek();return Se==="{"?A(Z.peek()):Se==="@"||Se==="|"||Se===":"||Se==="."||Se===Ir||!Se?!1:Se===$n?(Z.peek(),me()):X(Z,!1)},Fe=me();return Z.resetPeek(),Fe}function R(Z){B(Z);const $=Z.currentPeek()==="|";return Z.resetPeek(),$}function X(Z,$=!0){const ae=(Fe=!1,Se="")=>{const ne=Z.currentPeek();return ne==="{"||ne==="@"||!ne?Fe:ne==="|"?!(Se===Ir||Se===$n):ne===Ir?(Z.peek(),ae(!0,Ir)):ne===$n?(Z.peek(),ae(!0,$n)):!0},me=ae();return $&&Z.resetPeek(),me}function ee(Z,$){const ae=Z.currentChar();return ae===ss?ss:$(ae)?(Z.next(),ae):null}function K(Z){const $=Z.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}function j(Z){return ee(Z,K)}function ie(Z){const $=Z.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}function V(Z){return ee(Z,ie)}function re(Z){const $=Z.charCodeAt(0);return $>=48&&$<=57}function oe(Z){return ee(Z,re)}function _e(Z){const $=Z.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}function le(Z){return ee(Z,_e)}function we(Z){let $="",ae="";for(;$=oe(Z);)ae+=$;return ae}function Re(Z){let $="";for(;;){const ae=Z.currentChar();if(ae==="{"||ae==="}"||ae==="@"||ae==="|"||!ae)break;if(ae===Ir||ae===$n)if(X(Z))$+=ae,Z.next();else{if(R(Z))break;$+=ae,Z.next()}else $+=ae,Z.next()}return $}function Oe(Z){q(Z);let $="",ae="";for(;$=V(Z);)ae+=$;return Z.currentChar()===ss&&w(Dt.UNTERMINATED_CLOSING_BRACE,u(),0),ae}function Pe(Z){q(Z);let $="";return Z.currentChar()==="-"?(Z.next(),$+=`-${we(Z)}`):$+=we(Z),Z.currentChar()===ss&&w(Dt.UNTERMINATED_CLOSING_BRACE,u(),0),$}function Le(Z){return Z!==nm&&Z!==$n}function Te(Z){q(Z),O(Z,"'");let $="",ae="";for(;$=ee(Z,Le);)$==="\\"?ae+=ce(Z):ae+=$;const me=Z.currentChar();return me===$n||me===ss?(w(Dt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,u(),0),me===$n&&(Z.next(),O(Z,"'")),ae):(O(Z,"'"),ae)}function ce(Z){const $=Z.currentChar();switch($){case"\\":case"'":return Z.next(),`\\${$}`;case"u":return Y(Z,$,4);case"U":return Y(Z,$,6);default:return w(Dt.UNKNOWN_ESCAPE_SEQUENCE,u(),0,$),""}}function Y(Z,$,ae){O(Z,$);let me="";for(let Fe=0;Fe<ae;Fe++){const Se=le(Z);if(!Se){w(Dt.INVALID_UNICODE_ESCAPE_SEQUENCE,u(),0,`\\${$}${me}${Z.currentChar()}`);break}me+=Se}return`\\${$}${me}`}function xe(Z){return Z!=="{"&&Z!=="}"&&Z!==Ir&&Z!==$n}function Ne(Z){q(Z);let $="",ae="";for(;$=ee(Z,xe);)ae+=$;return ae}function Me(Z){let $="",ae="";for(;$=j(Z);)ae+=$;return ae}function N(Z){const $=ae=>{const me=Z.currentChar();return me==="{"||me==="@"||me==="|"||me==="("||me===")"||!me||me===Ir?ae:(ae+=me,Z.next(),$(ae))};return $("")}function Q(Z){q(Z);const $=O(Z,"|");return q(Z),$}function se(Z,$){let ae=null;switch(Z.currentChar()){case"{":return $.braceNest>=1&&w(Dt.NOT_ALLOW_NEST_PLACEHOLDER,u(),0),Z.next(),ae=x($,2,"{"),q(Z),$.braceNest++,ae;case"}":return $.braceNest>0&&$.currentType===2&&w(Dt.EMPTY_PLACEHOLDER,u(),0),Z.next(),ae=x($,3,"}"),$.braceNest--,$.braceNest>0&&q(Z),$.inLinked&&$.braceNest===0&&($.inLinked=!1),ae;case"@":return $.braceNest>0&&w(Dt.UNTERMINATED_CLOSING_BRACE,u(),0),ae=ge(Z,$)||P($),$.braceNest=0,ae;default:{let Fe=!0,Se=!0,ne=!0;if(R(Z))return $.braceNest>0&&w(Dt.UNTERMINATED_CLOSING_BRACE,u(),0),ae=x($,1,Q(Z)),$.braceNest=0,$.inLinked=!1,ae;if($.braceNest>0&&($.currentType===4||$.currentType===5||$.currentType===6))return w(Dt.UNTERMINATED_CLOSING_BRACE,u(),0),$.braceNest=0,ke(Z,$);if(Fe=H(Z,$))return ae=x($,4,Oe(Z)),q(Z),ae;if(Se=_(Z,$))return ae=x($,5,Pe(Z)),q(Z),ae;if(ne=T(Z,$))return ae=x($,6,Te(Z)),q(Z),ae;if(!Fe&&!Se&&!ne)return ae=x($,12,Ne(Z)),w(Dt.INVALID_TOKEN_IN_PLACEHOLDER,u(),0,ae.value),q(Z),ae;break}}return ae}function ge(Z,$){const{currentType:ae}=$;let me=null;const Fe=Z.currentChar();switch((ae===7||ae===8||ae===11||ae===9)&&(Fe===$n||Fe===Ir)&&w(Dt.INVALID_LINKED_FORMAT,u(),0),Fe){case"@":return Z.next(),me=x($,7,"@"),$.inLinked=!0,me;case".":return q(Z),Z.next(),x($,8,".");case":":return q(Z),Z.next(),x($,9,":");default:return R(Z)?(me=x($,1,Q(Z)),$.braceNest=0,$.inLinked=!1,me):E(Z,$)||F(Z,$)?(q(Z),ge(Z,$)):C(Z,$)?(q(Z),x($,11,Me(Z))):D(Z,$)?(q(Z),Fe==="{"?se(Z,$)||me:x($,10,N(Z))):(ae===7&&w(Dt.INVALID_LINKED_FORMAT,u(),0),$.braceNest=0,$.inLinked=!1,ke(Z,$))}}function ke(Z,$){let ae={type:13};if($.braceNest>0)return se(Z,$)||P($);if($.inLinked)return ge(Z,$)||P($);switch(Z.currentChar()){case"{":return se(Z,$)||P($);case"}":return w(Dt.UNBALANCED_CLOSING_BRACE,u(),0),Z.next(),x($,3,"}");case"@":return ge(Z,$)||P($);default:{if(R(Z))return ae=x($,1,Q(Z)),$.braceNest=0,$.inLinked=!1,ae;if(X(Z))return x($,0,Re(Z));break}}return ae}function be(){const{currentType:Z,offset:$,startLoc:ae,endLoc:me}=m;return m.lastType=Z,m.lastOffset=$,m.lastStartLoc=ae,m.lastEndLoc=me,m.offset=i(),m.startLoc=u(),o.currentChar()===ss?x(m,13):ke(o,m)}return{nextToken:be,currentOffset:i,currentPosition:u,context:y}}const BE="parser",FE=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function zE(e,t,s){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const o=parseInt(t||s,16);return o<=55295||o>=57344?String.fromCodePoint(o):"�"}}}function $E(e={}){const t=e.location!==!1,{onError:s}=e;function o(A,z,H,_,...T){const E=A.currentPosition();if(E.offset+=_,E.column+=_,s){const C=t?ff(H,E):null,F=Xc(z,C,{domain:BE,args:T});s(F)}}function i(A,z,H){const _={type:A};return t&&(_.start=z,_.end=z,_.loc={start:H,end:H}),_}function u(A,z,H,_){t&&(A.end=z,A.loc&&(A.loc.end=H))}function f(A,z){const H=A.context(),_=i(3,H.offset,H.startLoc);return _.value=z,u(_,A.currentOffset(),A.currentPosition()),_}function h(A,z){const H=A.context(),{lastOffset:_,lastStartLoc:T}=H,E=i(5,_,T);return E.index=parseInt(z,10),A.nextToken(),u(E,A.currentOffset(),A.currentPosition()),E}function m(A,z){const H=A.context(),{lastOffset:_,lastStartLoc:T}=H,E=i(4,_,T);return E.key=z,A.nextToken(),u(E,A.currentOffset(),A.currentPosition()),E}function y(A,z){const H=A.context(),{lastOffset:_,lastStartLoc:T}=H,E=i(9,_,T);return E.value=z.replace(FE,zE),A.nextToken(),u(E,A.currentOffset(),A.currentPosition()),E}function v(A){const z=A.nextToken(),H=A.context(),{lastOffset:_,lastStartLoc:T}=H,E=i(8,_,T);return z.type!==11?(o(A,Dt.UNEXPECTED_EMPTY_LINKED_MODIFIER,H.lastStartLoc,0),E.value="",u(E,_,T),{nextConsumeToken:z,node:E}):(z.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,H.lastStartLoc,0,sr(z)),E.value=z.value||"",u(E,A.currentOffset(),A.currentPosition()),{node:E})}function w(A,z){const H=A.context(),_=i(7,H.offset,H.startLoc);return _.value=z,u(_,A.currentOffset(),A.currentPosition()),_}function x(A){const z=A.context(),H=i(6,z.offset,z.startLoc);let _=A.nextToken();if(_.type===8){const T=v(A);H.modifier=T.node,_=T.nextConsumeToken||A.nextToken()}switch(_.type!==9&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(_)),_=A.nextToken(),_.type===2&&(_=A.nextToken()),_.type){case 10:_.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(_)),H.key=w(A,_.value||"");break;case 4:_.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(_)),H.key=m(A,_.value||"");break;case 5:_.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(_)),H.key=h(A,_.value||"");break;case 6:_.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(_)),H.key=y(A,_.value||"");break;default:{o(A,Dt.UNEXPECTED_EMPTY_LINKED_KEY,z.lastStartLoc,0);const T=A.context(),E=i(7,T.offset,T.startLoc);return E.value="",u(E,T.offset,T.startLoc),H.key=E,u(H,T.offset,T.startLoc),{nextConsumeToken:_,node:H}}}return u(H,A.currentOffset(),A.currentPosition()),{node:H}}function P(A){const z=A.context(),H=z.currentType===1?A.currentOffset():z.offset,_=z.currentType===1?z.endLoc:z.startLoc,T=i(2,H,_);T.items=[];let E=null;do{const D=E||A.nextToken();switch(E=null,D.type){case 0:D.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(D)),T.items.push(f(A,D.value||""));break;case 5:D.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(D)),T.items.push(h(A,D.value||""));break;case 4:D.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(D)),T.items.push(m(A,D.value||""));break;case 6:D.value==null&&o(A,Dt.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,sr(D)),T.items.push(y(A,D.value||""));break;case 7:{const R=x(A);T.items.push(R.node),E=R.nextConsumeToken||null;break}}}while(z.currentType!==13&&z.currentType!==1);const C=z.currentType===1?z.lastOffset:A.currentOffset(),F=z.currentType===1?z.lastEndLoc:A.currentPosition();return u(T,C,F),T}function O(A,z,H,_){const T=A.context();let E=_.items.length===0;const C=i(1,z,H);C.cases=[],C.cases.push(_);do{const F=P(A);E||(E=F.items.length===0),C.cases.push(F)}while(T.currentType!==13);return E&&o(A,Dt.MUST_HAVE_MESSAGES_IN_PLURAL,H,0),u(C,A.currentOffset(),A.currentPosition()),C}function B(A){const z=A.context(),{offset:H,startLoc:_}=z,T=P(A);return z.currentType===13?T:O(A,H,_,T)}function q(A){const z=DE(A,dn({},e)),H=z.context(),_=i(0,H.offset,H.startLoc);return t&&_.loc&&(_.loc.source=A),_.body=B(z),e.onCacheKey&&(_.cacheKey=e.onCacheKey(A)),H.currentType!==13&&o(z,Dt.UNEXPECTED_LEXICAL_ANALYSIS,H.lastStartLoc,0,A[H.offset]||""),u(_,z.currentOffset(),z.currentPosition()),_}return{parse:q}}function sr(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function UE(e,t={}){const s={ast:e,helpers:new Set};return{context:()=>s,helper:u=>(s.helpers.add(u),u)}}function im(e,t){for(let s=0;s<e.length;s++)mh(e[s],t)}function mh(e,t){switch(e.type){case 1:im(e.cases,t),t.helper("plural");break;case 2:im(e.items,t);break;case 6:{mh(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function GE(e,t={}){const s=UE(e);s.helper("normalize"),e.body&&mh(e.body,s);const o=s.context();e.helpers=Array.from(o.helpers)}function HE(e){const t=e.body;return t.type===2?rm(t):t.cases.forEach(s=>rm(s)),e}function rm(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let s=0;s<e.items.length;s++){const o=e.items[s];if(!(o.type===3||o.type===9)||o.value==null)break;t.push(o.value)}if(t.length===e.items.length){e.static=ph(t);for(let s=0;s<e.items.length;s++){const o=e.items[s];(o.type===3||o.type===9)&&delete o.value}}}}function jo(e){switch(e.t=e.type,e.type){case 0:{const t=e;jo(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,s=t.cases;for(let o=0;o<s.length;o++)jo(s[o]);t.c=s,delete t.cases;break}case 2:{const t=e,s=t.items;for(let o=0;o<s.length;o++)jo(s[o]);t.i=s,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;jo(t.key),t.k=t.key,delete t.key,t.modifier&&(jo(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function VE(e,t){const{sourceMap:s,filename:o,breakLineCode:i,needIndent:u}=t,f=t.location!==!1,h={filename:o,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:u,indentLevel:0};f&&e.loc&&(h.source=e.loc.source);const m=()=>h;function y(q,A){h.code+=q}function v(q,A=!0){const z=A?i:"";y(u?z+"  ".repeat(q):z)}function w(q=!0){const A=++h.indentLevel;q&&v(A)}function x(q=!0){const A=--h.indentLevel;q&&v(A)}function P(){v(h.indentLevel)}return{context:m,push:y,indent:w,deindent:x,newline:P,helper:q=>`_${q}`,needIndent:()=>h.needIndent}}function qE(e,t){const{helper:s}=e;e.push(`${s("linked")}(`),la(e,t.key),t.modifier?(e.push(", "),la(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function jE(e,t){const{helper:s,needIndent:o}=e;e.push(`${s("normalize")}([`),e.indent(o());const i=t.items.length;for(let u=0;u<i&&(la(e,t.items[u]),u!==i-1);u++)e.push(", ");e.deindent(o()),e.push("])")}function WE(e,t){const{helper:s,needIndent:o}=e;if(t.cases.length>1){e.push(`${s("plural")}([`),e.indent(o());const i=t.cases.length;for(let u=0;u<i&&(la(e,t.cases[u]),u!==i-1);u++)e.push(", ");e.deindent(o()),e.push("])")}}function ZE(e,t){t.body?la(e,t.body):e.push("null")}function la(e,t){const{helper:s}=e;switch(t.type){case 0:ZE(e,t);break;case 1:WE(e,t);break;case 2:jE(e,t);break;case 6:qE(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${s("interpolate")}(${s("list")}(${t.index}))`,t);break;case 4:e.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const YE=(e,t={})=>{const s=Ve(t.mode)?t.mode:"normal",o=Ve(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,u=t.breakLineCode!=null?t.breakLineCode:s==="arrow"?";":`
`,f=t.needIndent?t.needIndent:s!=="arrow",h=e.helpers||[],m=VE(e,{mode:s,filename:o,sourceMap:i,breakLineCode:u,needIndent:f});m.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),m.indent(f),h.length>0&&(m.push(`const { ${ph(h.map(w=>`${w}: _${w}`),", ")} } = ctx`),m.newline()),m.push("return "),la(m,e),m.deindent(f),m.push("}"),delete e.helpers;const{code:y,map:v}=m.context();return{ast:e,code:y,map:v?v.toJSON():void 0}};function XE(e,t={}){const s=dn({},t),o=!!s.jit,i=!!s.minify,u=s.optimize==null?!0:s.optimize,h=$E(s).parse(e);return o?(u&&HE(h),i&&jo(h),{ast:h,code:""}):(GE(h,s),YE(h,s))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function KE(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ro().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ro().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Fd(e){return s=>JE(s,e)}function JE(e,t){const s=eT(t);if(s==null)throw Au(0);if(gh(s)===1){const u=nT(s);return e.plural(u.reduce((f,h)=>[...f,sm(e,h)],[]))}else return sm(e,s)}const QE=["b","body"];function eT(e){return Ss(e,QE)}const tT=["c","cases"];function nT(e){return Ss(e,tT,[])}function sm(e,t){const s=rT(t);if(s!=null)return e.type==="text"?s:e.normalize([s]);{const o=oT(t).reduce((i,u)=>[...i,hf(e,u)],[]);return e.normalize(o)}}const iT=["s","static"];function rT(e){return Ss(e,iT)}const sT=["i","items"];function oT(e){return Ss(e,sT,[])}function hf(e,t){const s=gh(t);switch(s){case 3:return Cl(t,s);case 9:return Cl(t,s);case 4:{const o=t;if(Fi(o,"k")&&o.k)return e.interpolate(e.named(o.k));if(Fi(o,"key")&&o.key)return e.interpolate(e.named(o.key));throw Au(s)}case 5:{const o=t;if(Fi(o,"i")&&sn(o.i))return e.interpolate(e.list(o.i));if(Fi(o,"index")&&sn(o.index))return e.interpolate(e.list(o.index));throw Au(s)}case 6:{const o=t,i=cT(o),u=fT(o);return e.linked(hf(e,u),i?hf(e,i):void 0,e.type)}case 7:return Cl(t,s);case 8:return Cl(t,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const aT=["t","type"];function gh(e){return Ss(e,aT)}const uT=["v","value"];function Cl(e,t){const s=Ss(e,uT);if(s)return s;throw Au(t)}const lT=["m","modifier"];function cT(e){return Ss(e,lT)}const dT=["k","key"];function fT(e){const t=Ss(e,dT);if(t)return t;throw Au(6)}function Ss(e,t,s){for(let o=0;o<t.length;o++){const i=t[o];if(Fi(e,i)&&e[i]!=null)return e[i]}return s}function Au(e){return new Error(`unhandled node type: ${e}`)}const hT=e=>e;let Pl=Bt();function ca(e){return xt(e)&&gh(e)===0&&(Fi(e,"b")||Fi(e,"body"))}function pT(e,t={}){let s=!1;const o=t.onError||PE;return t.onError=i=>{s=!0,o(i)},{...XE(e,t),detectError:s}}function mT(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ve(e)){Lt(t.warnHtmlMessage)&&t.warnHtmlMessage;const o=(t.onCacheKey||hT)(e),i=Pl[o];if(i)return i;const{ast:u,detectError:f}=pT(e,{...t,location:!1,jit:!0}),h=Fd(u);return f?h:Pl[o]=h}else{const s=e.cacheKey;if(s){const o=Pl[s];return o||(Pl[s]=Fd(e))}else return Fd(e)}}let Ru=null;function gT(e){Ru=e}function _T(e,t,s){Ru&&Ru.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:s})}const vT=yT("function:translate");function yT(e){return t=>Ru&&Ru.emit(e,t)}const Fr={INVALID_ARGUMENT:CE,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},bT=24;function zr(e){return Xc(e,null,void 0)}function _h(e,t){return t.locale!=null?om(t.locale):om(e.locale)}let zd;function om(e){if(Ve(e))return e;if(Ht(e)){if(e.resolvedOnce&&zd!=null)return zd;if(e.constructor.name==="Function"){const t=e();if(EE(t))throw zr(Fr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return zd=t}else throw zr(Fr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw zr(Fr.NOT_SUPPORT_LOCALE_TYPE)}function wT(e,t,s){return[...new Set([s,...Qt(t)?t:xt(t)?Object.keys(t):Ve(t)?[t]:[s]])]}function ey(e,t,s){const o=Ve(s)?s:Du,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let u=i.__localeChainCache.get(o);if(!u){u=[];let f=[s];for(;Qt(f);)f=am(u,f,t);const h=Qt(t)||!ht(t)?t:t.default?t.default:null;f=Ve(h)?[h]:h,Qt(f)&&am(u,f,!1),i.__localeChainCache.set(o,u)}return u}function am(e,t,s){let o=!0;for(let i=0;i<t.length&&Lt(o);i++){const u=t[i];Ve(u)&&(o=kT(e,t[i],s))}return o}function kT(e,t,s){let o;const i=t.split("-");do{const u=i.join("-");o=LT(e,u,s),i.splice(-1,1)}while(i.length&&o===!0);return o}function LT(e,t,s){let o=!1;if(!e.includes(t)&&(o=!0,t)){o=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(Qt(s)||ht(s))&&s[i]&&(o=s[i])}return o}const Cs=[];Cs[0]={w:[0],i:[3,0],"[":[4],o:[7]};Cs[1]={w:[1],".":[2],"[":[4],o:[7]};Cs[2]={w:[2],i:[3,0],0:[3,0]};Cs[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Cs[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Cs[5]={"'":[4,0],o:8,l:[5,0]};Cs[6]={'"':[4,0],o:8,l:[6,0]};const ET=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function TT(e){return ET.test(e)}function xT(e){const t=e.charCodeAt(0),s=e.charCodeAt(e.length-1);return t===s&&(t===34||t===39)?e.slice(1,-1):e}function ST(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function CT(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:TT(t)?xT(t):"*"+t}function PT(e){const t=[];let s=-1,o=0,i=0,u,f,h,m,y,v,w;const x=[];x[0]=()=>{f===void 0?f=h:f+=h},x[1]=()=>{f!==void 0&&(t.push(f),f=void 0)},x[2]=()=>{x[0](),i++},x[3]=()=>{if(i>0)i--,o=4,x[0]();else{if(i=0,f===void 0||(f=CT(f),f===!1))return!1;x[1]()}};function P(){const O=e[s+1];if(o===5&&O==="'"||o===6&&O==='"')return s++,h="\\"+O,x[0](),!0}for(;o!==null;)if(s++,u=e[s],!(u==="\\"&&P())){if(m=ST(u),w=Cs[o],y=w[m]||w.l||8,y===8||(o=y[0],y[1]!==void 0&&(v=x[y[1]],v&&(h=u,v()===!1))))return;if(o===7)return t}}const um=new Map;function IT(e,t){return xt(e)?e[t]:null}function NT(e,t){if(!xt(e))return null;let s=um.get(t);if(s||(s=PT(t),s&&um.set(t,s)),!s)return null;const o=s.length;let i=e,u=0;for(;u<o;){const f=i[s[u]];if(f===void 0||Ht(i))return null;i=f,u++}return i}const MT="10.0.5",Kc=-1,Du="en-US",lm="",cm=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function OT(){return{upper:(e,t)=>t==="text"&&Ve(e)?e.toUpperCase():t==="vnode"&&xt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Ve(e)?e.toLowerCase():t==="vnode"&&xt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Ve(e)?cm(e):t==="vnode"&&xt(e)&&"__v_isVNode"in e?cm(e.children):e}}let ty;function AT(e){ty=e}let ny;function RT(e){ny=e}let iy;function DT(e){iy=e}let ry=null;const BT=e=>{ry=e},FT=()=>ry;let sy=null;const dm=e=>{sy=e},zT=()=>sy;let fm=0;function $T(e={}){const t=Ht(e.onWarn)?e.onWarn:xE,s=Ve(e.version)?e.version:MT,o=Ve(e.locale)||Ht(e.locale)?e.locale:Du,i=Ht(o)?Du:o,u=Qt(e.fallbackLocale)||ht(e.fallbackLocale)||Ve(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,f=ht(e.messages)?e.messages:$d(i),h=ht(e.datetimeFormats)?e.datetimeFormats:$d(i),m=ht(e.numberFormats)?e.numberFormats:$d(i),y=dn(Bt(),e.modifiers,OT()),v=e.pluralRules||Bt(),w=Ht(e.missing)?e.missing:null,x=Lt(e.missingWarn)||ua(e.missingWarn)?e.missingWarn:!0,P=Lt(e.fallbackWarn)||ua(e.fallbackWarn)?e.fallbackWarn:!0,O=!!e.fallbackFormat,B=!!e.unresolving,q=Ht(e.postTranslation)?e.postTranslation:null,A=ht(e.processor)?e.processor:null,z=Lt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,H=!!e.escapeParameter,_=Ht(e.messageCompiler)?e.messageCompiler:ty,T=Ht(e.messageResolver)?e.messageResolver:ny||IT,E=Ht(e.localeFallbacker)?e.localeFallbacker:iy||wT,C=xt(e.fallbackContext)?e.fallbackContext:void 0,F=e,D=xt(F.__datetimeFormatters)?F.__datetimeFormatters:new Map,R=xt(F.__numberFormatters)?F.__numberFormatters:new Map,X=xt(F.__meta)?F.__meta:{};fm++;const ee={version:s,cid:fm,locale:o,fallbackLocale:u,messages:f,modifiers:y,pluralRules:v,missing:w,missingWarn:x,fallbackWarn:P,fallbackFormat:O,unresolving:B,postTranslation:q,processor:A,warnHtmlMessage:z,escapeParameter:H,messageCompiler:_,messageResolver:T,localeFallbacker:E,fallbackContext:C,onWarn:t,__meta:X};return ee.datetimeFormats=h,ee.numberFormats=m,ee.__datetimeFormatters=D,ee.__numberFormatters=R,__INTLIFY_PROD_DEVTOOLS__&&_T(ee,s,X),ee}const $d=e=>({[e]:Bt()});function vh(e,t,s,o,i){const{missing:u,onWarn:f}=e;if(u!==null){const h=u(e,s,t,i);return Ve(h)?h:t}else return t}function nu(e,t,s){const o=e;o.__localeChainCache=new Map,e.localeFallbacker(e,s,t)}function UT(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function GT(e,t){const s=t.indexOf(e);if(s===-1)return!1;for(let o=s+1;o<t.length;o++)if(UT(e,t[o]))return!0;return!1}function hm(e,...t){const{datetimeFormats:s,unresolving:o,fallbackLocale:i,onWarn:u,localeFallbacker:f}=e,{__datetimeFormatters:h}=e,[m,y,v,w]=pf(...t),x=Lt(v.missingWarn)?v.missingWarn:e.missingWarn;Lt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const P=!!v.part,O=_h(e,v),B=f(e,i,O);if(!Ve(m)||m==="")return new Intl.DateTimeFormat(O,w).format(y);let q={},A,z=null;const H="datetime format";for(let E=0;E<B.length&&(A=B[E],q=s[A]||{},z=q[m],!ht(z));E++)vh(e,m,A,x,H);if(!ht(z)||!Ve(A))return o?Kc:m;let _=`${A}__${m}`;Yc(w)||(_=`${_}__${JSON.stringify(w)}`);let T=h.get(_);return T||(T=new Intl.DateTimeFormat(A,dn({},z,w)),h.set(_,T)),P?T.formatToParts(y):T.format(y)}const oy=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function pf(...e){const[t,s,o,i]=e,u=Bt();let f=Bt(),h;if(Ve(t)){const m=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!m)throw zr(Fr.INVALID_ISO_DATE_ARGUMENT);const y=m[3]?m[3].trim().startsWith("T")?`${m[1].trim()}${m[3].trim()}`:`${m[1].trim()}T${m[3].trim()}`:m[1].trim();h=new Date(y);try{h.toISOString()}catch{throw zr(Fr.INVALID_ISO_DATE_ARGUMENT)}}else if(wE(t)){if(isNaN(t.getTime()))throw zr(Fr.INVALID_DATE_ARGUMENT);h=t}else if(sn(t))h=t;else throw zr(Fr.INVALID_ARGUMENT);return Ve(s)?u.key=s:ht(s)&&Object.keys(s).forEach(m=>{oy.includes(m)?f[m]=s[m]:u[m]=s[m]}),Ve(o)?u.locale=o:ht(o)&&(f=o),ht(i)&&(f=i),[u.key||"",h,u,f]}function pm(e,t,s){const o=e;for(const i in s){const u=`${t}__${i}`;o.__datetimeFormatters.has(u)&&o.__datetimeFormatters.delete(u)}}function mm(e,...t){const{numberFormats:s,unresolving:o,fallbackLocale:i,onWarn:u,localeFallbacker:f}=e,{__numberFormatters:h}=e,[m,y,v,w]=mf(...t),x=Lt(v.missingWarn)?v.missingWarn:e.missingWarn;Lt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const P=!!v.part,O=_h(e,v),B=f(e,i,O);if(!Ve(m)||m==="")return new Intl.NumberFormat(O,w).format(y);let q={},A,z=null;const H="number format";for(let E=0;E<B.length&&(A=B[E],q=s[A]||{},z=q[m],!ht(z));E++)vh(e,m,A,x,H);if(!ht(z)||!Ve(A))return o?Kc:m;let _=`${A}__${m}`;Yc(w)||(_=`${_}__${JSON.stringify(w)}`);let T=h.get(_);return T||(T=new Intl.NumberFormat(A,dn({},z,w)),h.set(_,T)),P?T.formatToParts(y):T.format(y)}const ay=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function mf(...e){const[t,s,o,i]=e,u=Bt();let f=Bt();if(!sn(t))throw zr(Fr.INVALID_ARGUMENT);const h=t;return Ve(s)?u.key=s:ht(s)&&Object.keys(s).forEach(m=>{ay.includes(m)?f[m]=s[m]:u[m]=s[m]}),Ve(o)?u.locale=o:ht(o)&&(f=o),ht(i)&&(f=i),[u.key||"",h,u,f]}function gm(e,t,s){const o=e;for(const i in s){const u=`${t}__${i}`;o.__numberFormatters.has(u)&&o.__numberFormatters.delete(u)}}const HT=e=>e,VT=e=>"",qT="text",jT=e=>e.length===0?"":ph(e),WT=TE;function _m(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function ZT(e){const t=sn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(sn(e.named.count)||sn(e.named.n))?sn(e.named.count)?e.named.count:sn(e.named.n)?e.named.n:t:t}function YT(e,t){t.count||(t.count=e),t.n||(t.n=e)}function XT(e={}){const t=e.locale,s=ZT(e),o=xt(e.pluralRules)&&Ve(t)&&Ht(e.pluralRules[t])?e.pluralRules[t]:_m,i=xt(e.pluralRules)&&Ve(t)&&Ht(e.pluralRules[t])?_m:void 0,u=A=>A[o(s,A.length,i)],f=e.list||[],h=A=>f[A],m=e.named||Bt();sn(e.pluralIndex)&&YT(s,m);const y=A=>m[A];function v(A,z){const H=Ht(e.messages)?e.messages(A,!!z):xt(e.messages)?e.messages[A]:!1;return H||(e.parent?e.parent.message(A):VT)}const w=A=>e.modifiers?e.modifiers[A]:HT,x=ht(e.processor)&&Ht(e.processor.normalize)?e.processor.normalize:jT,P=ht(e.processor)&&Ht(e.processor.interpolate)?e.processor.interpolate:WT,O=ht(e.processor)&&Ve(e.processor.type)?e.processor.type:qT,q={list:h,named:y,plural:u,linked:(A,...z)=>{const[H,_]=z;let T="text",E="";z.length===1?xt(H)?(E=H.modifier||E,T=H.type||T):Ve(H)&&(E=H||E):z.length===2&&(Ve(H)&&(E=H||E),Ve(_)&&(T=_||T));const C=v(A,!0)(q),F=T==="vnode"&&Qt(C)&&E?C[0]:C;return E?w(E)(F,T):F},message:v,type:O,interpolate:P,normalize:x,values:dn(Bt(),f,m)};return q}const vm=()=>"",Si=e=>Ht(e);function ym(e,...t){const{fallbackFormat:s,postTranslation:o,unresolving:i,messageCompiler:u,fallbackLocale:f,messages:h}=e,[m,y]=gf(...t),v=Lt(y.missingWarn)?y.missingWarn:e.missingWarn,w=Lt(y.fallbackWarn)?y.fallbackWarn:e.fallbackWarn,x=Lt(y.escapeParameter)?y.escapeParameter:e.escapeParameter,P=!!y.resolvedMessage,O=Ve(y.default)||Lt(y.default)?Lt(y.default)?u?m:()=>m:y.default:s?u?m:()=>m:null,B=s||O!=null&&(Ve(O)||Ht(O)),q=_h(e,y);x&&KT(y);let[A,z,H]=P?[m,q,h[q]||Bt()]:uy(e,m,q,f,w,v),_=A,T=m;if(!P&&!(Ve(_)||ca(_)||Si(_))&&B&&(_=O,T=_),!P&&(!(Ve(_)||ca(_)||Si(_))||!Ve(z)))return i?Kc:m;let E=!1;const C=()=>{E=!0},F=Si(_)?_:ly(e,m,z,_,T,C);if(E)return _;const D=ex(e,z,H,y),R=XT(D),X=JT(e,F,R),ee=o?o(X,m):X;if(__INTLIFY_PROD_DEVTOOLS__){const K={timestamp:Date.now(),key:Ve(m)?m:Si(_)?_.key:"",locale:z||(Si(_)?_.locale:""),format:Ve(_)?_:Si(_)?_.source:"",message:ee};K.meta=dn({},e.__meta,FT()||{}),vT(K)}return ee}function KT(e){Qt(e.list)?e.list=e.list.map(t=>Ve(t)?tm(t):t):xt(e.named)&&Object.keys(e.named).forEach(t=>{Ve(e.named[t])&&(e.named[t]=tm(e.named[t]))})}function uy(e,t,s,o,i,u){const{messages:f,onWarn:h,messageResolver:m,localeFallbacker:y}=e,v=y(e,o,s);let w=Bt(),x,P=null;const O="translate";for(let B=0;B<v.length&&(x=v[B],w=f[x]||Bt(),(P=m(w,t))===null&&(P=w[t]),!(Ve(P)||ca(P)||Si(P)));B++)if(!GT(x,v)){const q=vh(e,t,x,u,O);q!==t&&(P=q)}return[P,x,w]}function ly(e,t,s,o,i,u){const{messageCompiler:f,warnHtmlMessage:h}=e;if(Si(o)){const y=o;return y.locale=y.locale||s,y.key=y.key||t,y}if(f==null){const y=()=>o;return y.locale=s,y.key=t,y}const m=f(o,QT(e,s,i,o,h,u));return m.locale=s,m.key=t,m.source=o,m}function JT(e,t,s){return t(s)}function gf(...e){const[t,s,o]=e,i=Bt();if(!Ve(t)&&!sn(t)&&!Si(t)&&!ca(t))throw zr(Fr.INVALID_ARGUMENT);const u=sn(t)?String(t):(Si(t),t);return sn(s)?i.plural=s:Ve(s)?i.default=s:ht(s)&&!Yc(s)?i.named=s:Qt(s)&&(i.list=s),sn(o)?i.plural=o:Ve(o)?i.default=o:ht(o)&&dn(i,o),[u,i]}function QT(e,t,s,o,i,u){return{locale:t,key:s,warnHtmlMessage:i,onError:f=>{throw u&&u(f),f},onCacheKey:f=>yE(t,s,f)}}function ex(e,t,s,o){const{modifiers:i,pluralRules:u,messageResolver:f,fallbackLocale:h,fallbackWarn:m,missingWarn:y,fallbackContext:v}=e,x={locale:t,modifiers:i,pluralRules:u,messages:(P,O)=>{let B=f(s,P);if(B==null&&(v||O)){const[,,q]=uy(v||e,P,t,h,m,y);B=f(q,P)}if(Ve(B)||ca(B)){let q=!1;const z=ly(e,P,t,B,P,()=>{q=!0});return q?vm:z}else return Si(B)?B:vm}};return e.processor&&(x.processor=e.processor),o.list&&(x.list=o.list),o.named&&(x.named=o.named),sn(o.plural)&&(x.pluralIndex=o.plural),x}KE();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const tx="10.0.5";function nx(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ro().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ro().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ro().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ro().__INTLIFY_PROD_DEVTOOLS__=!1)}const Wn={UNEXPECTED_RETURN_TYPE:bT,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function si(e,...t){return Xc(e,null,void 0)}const _f=xs("__translateVNode"),vf=xs("__datetimeParts"),yf=xs("__numberParts"),cy=xs("__setPluralRules"),dy=xs("__injectWithOption"),bf=xs("__dispose");function Bu(e){if(!xt(e))return e;for(const t in e)if(Fi(e,t))if(!t.includes("."))xt(e[t])&&Bu(e[t]);else{const s=t.split("."),o=s.length-1;let i=e,u=!1;for(let f=0;f<o;f++){if(s[f]in i||(i[s[f]]=Bt()),!xt(i[s[f]])){u=!0;break}i=i[s[f]]}u||(i[s[o]]=e[t],delete e[t]),xt(i[s[o]])&&Bu(i[s[o]])}return e}function yh(e,t){const{messages:s,__i18n:o,messageResolver:i,flatJson:u}=t,f=ht(s)?s:Qt(o)?Bt():{[e]:Bt()};if(Qt(o)&&o.forEach(h=>{if("locale"in h&&"resource"in h){const{locale:m,resource:y}=h;m?(f[m]=f[m]||Bt(),$l(y,f[m])):$l(y,f)}else Ve(h)&&$l(JSON.parse(h),f)}),i==null&&u)for(const h in f)Fi(f,h)&&Bu(f[h]);return f}function fy(e){return e.type}function hy(e,t,s){let o=xt(t.messages)?t.messages:Bt();"__i18nGlobal"in s&&(o=yh(e.locale.value,{messages:o,__i18n:s.__i18nGlobal}));const i=Object.keys(o);i.length&&i.forEach(u=>{e.mergeLocaleMessage(u,o[u])});{if(xt(t.datetimeFormats)){const u=Object.keys(t.datetimeFormats);u.length&&u.forEach(f=>{e.mergeDateTimeFormat(f,t.datetimeFormats[f])})}if(xt(t.numberFormats)){const u=Object.keys(t.numberFormats);u.length&&u.forEach(f=>{e.mergeNumberFormat(f,t.numberFormats[f])})}}}function bm(e){return Ue(wa,null,e,0)}const wm="__INTLIFY_META__",km=()=>[],ix=()=>!1;let Lm=0;function Em(e){return(t,s,o,i)=>e(s,o,ri()||void 0,i)}const rx=()=>{const e=ri();let t=null;return e&&(t=fy(e)[wm])?{[wm]:t}:null};function bh(e={}){const{__root:t,__injectWithOption:s}=e,o=t===void 0,i=e.flatJson,u=vc?ze:Mn;let f=Lt(e.inheritLocale)?e.inheritLocale:!0;const h=u(t&&f?t.locale.value:Ve(e.locale)?e.locale:Du),m=u(t&&f?t.fallbackLocale.value:Ve(e.fallbackLocale)||Qt(e.fallbackLocale)||ht(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:h.value),y=u(yh(h.value,e)),v=u(ht(e.datetimeFormats)?e.datetimeFormats:{[h.value]:{}}),w=u(ht(e.numberFormats)?e.numberFormats:{[h.value]:{}});let x=t?t.missingWarn:Lt(e.missingWarn)||ua(e.missingWarn)?e.missingWarn:!0,P=t?t.fallbackWarn:Lt(e.fallbackWarn)||ua(e.fallbackWarn)?e.fallbackWarn:!0,O=t?t.fallbackRoot:Lt(e.fallbackRoot)?e.fallbackRoot:!0,B=!!e.fallbackFormat,q=Ht(e.missing)?e.missing:null,A=Ht(e.missing)?Em(e.missing):null,z=Ht(e.postTranslation)?e.postTranslation:null,H=t?t.warnHtmlMessage:Lt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const T=t?t.modifiers:ht(e.modifiers)?e.modifiers:{};let E=e.pluralRules||t&&t.pluralRules,C;C=(()=>{o&&dm(null);const ne={version:tx,locale:h.value,fallbackLocale:m.value,messages:y.value,modifiers:T,pluralRules:E,missing:A===null?void 0:A,missingWarn:x,fallbackWarn:P,fallbackFormat:B,unresolving:!0,postTranslation:z===null?void 0:z,warnHtmlMessage:H,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};ne.datetimeFormats=v.value,ne.numberFormats=w.value,ne.__datetimeFormatters=ht(C)?C.__datetimeFormatters:void 0,ne.__numberFormatters=ht(C)?C.__numberFormatters:void 0;const ye=$T(ne);return o&&dm(ye),ye})(),nu(C,h.value,m.value);function D(){return[h.value,m.value,y.value,v.value,w.value]}const R=de({get:()=>h.value,set:ne=>{h.value=ne,C.locale=h.value}}),X=de({get:()=>m.value,set:ne=>{m.value=ne,C.fallbackLocale=m.value,nu(C,h.value,ne)}}),ee=de(()=>y.value),K=de(()=>v.value),j=de(()=>w.value);function ie(){return Ht(z)?z:null}function V(ne){z=ne,C.postTranslation=ne}function re(){return q}function oe(ne){ne!==null&&(A=Em(ne)),q=ne,C.missing=A}const _e=(ne,ye,Ge,Qe,Ae,Vt)=>{D();let Ye;try{__INTLIFY_PROD_DEVTOOLS__,o||(C.fallbackContext=t?zT():void 0),Ye=ne(C)}finally{__INTLIFY_PROD_DEVTOOLS__,o||(C.fallbackContext=void 0)}if(Ge!=="translate exists"&&sn(Ye)&&Ye===Kc||Ge==="translate exists"&&!Ye){const[Ze,On]=ye();return t&&O?Qe(t):Ae(Ze)}else{if(Vt(Ye))return Ye;throw si(Wn.UNEXPECTED_RETURN_TYPE)}};function le(...ne){return _e(ye=>Reflect.apply(ym,null,[ye,...ne]),()=>gf(...ne),"translate",ye=>Reflect.apply(ye.t,ye,[...ne]),ye=>ye,ye=>Ve(ye))}function we(...ne){const[ye,Ge,Qe]=ne;if(Qe&&!xt(Qe))throw si(Wn.INVALID_ARGUMENT);return le(ye,Ge,dn({resolvedMessage:!0},Qe||{}))}function Re(...ne){return _e(ye=>Reflect.apply(hm,null,[ye,...ne]),()=>pf(...ne),"datetime format",ye=>Reflect.apply(ye.d,ye,[...ne]),()=>lm,ye=>Ve(ye))}function Oe(...ne){return _e(ye=>Reflect.apply(mm,null,[ye,...ne]),()=>mf(...ne),"number format",ye=>Reflect.apply(ye.n,ye,[...ne]),()=>lm,ye=>Ve(ye))}function Pe(ne){return ne.map(ye=>Ve(ye)||sn(ye)||Lt(ye)?bm(String(ye)):ye)}const Te={normalize:Pe,interpolate:ne=>ne,type:"vnode"};function ce(...ne){return _e(ye=>{let Ge;const Qe=ye;try{Qe.processor=Te,Ge=Reflect.apply(ym,null,[Qe,...ne])}finally{Qe.processor=null}return Ge},()=>gf(...ne),"translate",ye=>ye[_f](...ne),ye=>[bm(ye)],ye=>Qt(ye))}function Y(...ne){return _e(ye=>Reflect.apply(mm,null,[ye,...ne]),()=>mf(...ne),"number format",ye=>ye[yf](...ne),km,ye=>Ve(ye)||Qt(ye))}function xe(...ne){return _e(ye=>Reflect.apply(hm,null,[ye,...ne]),()=>pf(...ne),"datetime format",ye=>ye[vf](...ne),km,ye=>Ve(ye)||Qt(ye))}function Ne(ne){E=ne,C.pluralRules=E}function Me(ne,ye){return _e(()=>{if(!ne)return!1;const Ge=Ve(ye)?ye:h.value,Qe=se(Ge),Ae=C.messageResolver(Qe,ne);return ca(Ae)||Si(Ae)||Ve(Ae)},()=>[ne],"translate exists",Ge=>Reflect.apply(Ge.te,Ge,[ne,ye]),ix,Ge=>Lt(Ge))}function N(ne){let ye=null;const Ge=ey(C,m.value,h.value);for(let Qe=0;Qe<Ge.length;Qe++){const Ae=y.value[Ge[Qe]]||{},Vt=C.messageResolver(Ae,ne);if(Vt!=null){ye=Vt;break}}return ye}function Q(ne){const ye=N(ne);return ye??(t?t.tm(ne)||{}:{})}function se(ne){return y.value[ne]||{}}function ge(ne,ye){if(i){const Ge={[ne]:ye};for(const Qe in Ge)Fi(Ge,Qe)&&Bu(Ge[Qe]);ye=Ge[ne]}y.value[ne]=ye,C.messages=y.value}function ke(ne,ye){y.value[ne]=y.value[ne]||{};const Ge={[ne]:ye};if(i)for(const Qe in Ge)Fi(Ge,Qe)&&Bu(Ge[Qe]);ye=Ge[ne],$l(ye,y.value[ne]),C.messages=y.value}function be(ne){return v.value[ne]||{}}function Z(ne,ye){v.value[ne]=ye,C.datetimeFormats=v.value,pm(C,ne,ye)}function $(ne,ye){v.value[ne]=dn(v.value[ne]||{},ye),C.datetimeFormats=v.value,pm(C,ne,ye)}function ae(ne){return w.value[ne]||{}}function me(ne,ye){w.value[ne]=ye,C.numberFormats=w.value,gm(C,ne,ye)}function Fe(ne,ye){w.value[ne]=dn(w.value[ne]||{},ye),C.numberFormats=w.value,gm(C,ne,ye)}Lm++,t&&vc&&(tt(t.locale,ne=>{f&&(h.value=ne,C.locale=ne,nu(C,h.value,m.value))}),tt(t.fallbackLocale,ne=>{f&&(m.value=ne,C.fallbackLocale=ne,nu(C,h.value,m.value))}));const Se={id:Lm,locale:R,fallbackLocale:X,get inheritLocale(){return f},set inheritLocale(ne){f=ne,ne&&t&&(h.value=t.locale.value,m.value=t.fallbackLocale.value,nu(C,h.value,m.value))},get availableLocales(){return Object.keys(y.value).sort()},messages:ee,get modifiers(){return T},get pluralRules(){return E||{}},get isGlobal(){return o},get missingWarn(){return x},set missingWarn(ne){x=ne,C.missingWarn=x},get fallbackWarn(){return P},set fallbackWarn(ne){P=ne,C.fallbackWarn=P},get fallbackRoot(){return O},set fallbackRoot(ne){O=ne},get fallbackFormat(){return B},set fallbackFormat(ne){B=ne,C.fallbackFormat=B},get warnHtmlMessage(){return H},set warnHtmlMessage(ne){H=ne,C.warnHtmlMessage=ne},get escapeParameter(){return _},set escapeParameter(ne){_=ne,C.escapeParameter=ne},t:le,getLocaleMessage:se,setLocaleMessage:ge,mergeLocaleMessage:ke,getPostTranslationHandler:ie,setPostTranslationHandler:V,getMissingHandler:re,setMissingHandler:oe,[cy]:Ne};return Se.datetimeFormats=K,Se.numberFormats=j,Se.rt=we,Se.te=Me,Se.tm=Q,Se.d=Re,Se.n=Oe,Se.getDateTimeFormat=be,Se.setDateTimeFormat=Z,Se.mergeDateTimeFormat=$,Se.getNumberFormat=ae,Se.setNumberFormat=me,Se.mergeNumberFormat=Fe,Se[dy]=s,Se[_f]=ce,Se[vf]=xe,Se[yf]=Y,Se}function sx(e){const t=Ve(e.locale)?e.locale:Du,s=Ve(e.fallbackLocale)||Qt(e.fallbackLocale)||ht(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,o=Ht(e.missing)?e.missing:void 0,i=Lt(e.silentTranslationWarn)||ua(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,u=Lt(e.silentFallbackWarn)||ua(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,f=Lt(e.fallbackRoot)?e.fallbackRoot:!0,h=!!e.formatFallbackMessages,m=ht(e.modifiers)?e.modifiers:{},y=e.pluralizationRules,v=Ht(e.postTranslation)?e.postTranslation:void 0,w=Ve(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,x=!!e.escapeParameterHtml,P=Lt(e.sync)?e.sync:!0;let O=e.messages;if(ht(e.sharedMessages)){const T=e.sharedMessages;O=Object.keys(T).reduce((C,F)=>{const D=C[F]||(C[F]={});return dn(D,T[F]),C},O||{})}const{__i18n:B,__root:q,__injectWithOption:A}=e,z=e.datetimeFormats,H=e.numberFormats,_=e.flatJson;return{locale:t,fallbackLocale:s,messages:O,flatJson:_,datetimeFormats:z,numberFormats:H,missing:o,missingWarn:i,fallbackWarn:u,fallbackRoot:f,fallbackFormat:h,modifiers:m,pluralRules:y,postTranslation:v,warnHtmlMessage:w,escapeParameter:x,messageResolver:e.messageResolver,inheritLocale:P,__i18n:B,__root:q,__injectWithOption:A}}function wf(e={}){const t=bh(sx(e)),{__extender:s}=e,o={id:t.id,get locale(){return t.locale.value},set locale(i){t.locale.value=i},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(i){t.fallbackLocale.value=i},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(i){t.setMissingHandler(i)},get silentTranslationWarn(){return Lt(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(i){t.missingWarn=Lt(i)?!i:i},get silentFallbackWarn(){return Lt(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(i){t.fallbackWarn=Lt(i)?!i:i},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(i){t.fallbackFormat=i},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(i){t.setPostTranslationHandler(i)},get sync(){return t.inheritLocale},set sync(i){t.inheritLocale=i},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){t.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(i){t.escapeParameter=i},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...i){return Reflect.apply(t.t,t,[...i])},rt(...i){return Reflect.apply(t.rt,t,[...i])},tc(...i){const[u,f,h]=i,m={plural:1};let y=null,v=null;if(!Ve(u))throw si(Wn.INVALID_ARGUMENT);const w=u;return Ve(f)?m.locale=f:sn(f)?m.plural=f:Qt(f)?y=f:ht(f)&&(v=f),Ve(h)?m.locale=h:Qt(h)?y=h:ht(h)&&(v=h),Reflect.apply(t.t,t,[w,y||v||{},m])},te(i,u){return t.te(i,u)},tm(i){return t.tm(i)},getLocaleMessage(i){return t.getLocaleMessage(i)},setLocaleMessage(i,u){t.setLocaleMessage(i,u)},mergeLocaleMessage(i,u){t.mergeLocaleMessage(i,u)},d(...i){return Reflect.apply(t.d,t,[...i])},getDateTimeFormat(i){return t.getDateTimeFormat(i)},setDateTimeFormat(i,u){t.setDateTimeFormat(i,u)},mergeDateTimeFormat(i,u){t.mergeDateTimeFormat(i,u)},n(...i){return Reflect.apply(t.n,t,[...i])},getNumberFormat(i){return t.getNumberFormat(i)},setNumberFormat(i,u){t.setNumberFormat(i,u)},mergeNumberFormat(i,u){t.mergeNumberFormat(i,u)}};return o.__extender=s,o}function ox(e,t,s){return{beforeCreate(){const o=ri();if(!o)throw si(Wn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const u=i.i18n;if(i.__i18n&&(u.__i18n=i.__i18n),u.__root=t,this===this.$root)this.$i18n=Tm(e,u);else{u.__injectWithOption=!0,u.__extender=s.__vueI18nExtend,this.$i18n=wf(u);const f=this.$i18n;f.__extender&&(f.__disposer=f.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=Tm(e,i);else{this.$i18n=wf({__i18n:i.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:t});const u=this.$i18n;u.__extender&&(u.__disposer=u.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&hy(t,i,i),this.$t=(...u)=>this.$i18n.t(...u),this.$rt=(...u)=>this.$i18n.rt(...u),this.$tc=(...u)=>this.$i18n.tc(...u),this.$te=(u,f)=>this.$i18n.te(u,f),this.$d=(...u)=>this.$i18n.d(...u),this.$n=(...u)=>this.$i18n.n(...u),this.$tm=u=>this.$i18n.tm(u),s.__setInstance(o,this.$i18n)},mounted(){},unmounted(){const o=ri();if(!o)throw si(Wn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),s.__deleteInstance(o),delete this.$i18n}}}function Tm(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[cy](t.pluralizationRules||e.pluralizationRules);const s=yh(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(s).forEach(o=>e.mergeLocaleMessage(o,s[o])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(o=>e.mergeDateTimeFormat(o,t.datetimeFormats[o])),t.numberFormats&&Object.keys(t.numberFormats).forEach(o=>e.mergeNumberFormat(o,t.numberFormats[o])),e}const wh={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function ax({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((o,i)=>[...o,...i.type===ft?i.children:[i]],[]):t.reduce((s,o)=>{const i=e[o];return i&&(s[o]=i()),s},Bt())}function py(){return ft}const ux=Et({name:"i18n-t",props:dn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>sn(e)||!isNaN(e)}},wh),setup(e,t){const{slots:s,attrs:o}=t,i=e.i18n||mr({useScope:e.scope,__useComponent:!0});return()=>{const u=Object.keys(s).filter(w=>w!=="_"),f=Bt();e.locale&&(f.locale=e.locale),e.plural!==void 0&&(f.plural=Ve(e.plural)?+e.plural:e.plural);const h=ax(t,u),m=i[_f](e.keypath,h,f),y=dn(Bt(),o),v=Ve(e.tag)||xt(e.tag)?e.tag:py();return di(v,y,m)}}}),xm=ux;function lx(e){return Qt(e)&&!Ve(e[0])}function my(e,t,s,o){const{slots:i,attrs:u}=t;return()=>{const f={part:!0};let h=Bt();e.locale&&(f.locale=e.locale),Ve(e.format)?f.key=e.format:xt(e.format)&&(Ve(e.format.key)&&(f.key=e.format.key),h=Object.keys(e.format).reduce((x,P)=>s.includes(P)?dn(Bt(),x,{[P]:e.format[P]}):x,Bt()));const m=o(e.value,f,h);let y=[f.key];Qt(m)?y=m.map((x,P)=>{const O=i[x.type],B=O?O({[x.type]:x.value,index:P,parts:m}):[x.value];return lx(B)&&(B[0].key=`${x.type}-${P}`),B}):Ve(m)&&(y=[m]);const v=dn(Bt(),u),w=Ve(e.tag)||xt(e.tag)?e.tag:py();return di(w,v,y)}}const cx=Et({name:"i18n-n",props:dn({value:{type:Number,required:!0},format:{type:[String,Object]}},wh),setup(e,t){const s=e.i18n||mr({useScope:e.scope,__useComponent:!0});return my(e,t,ay,(...o)=>s[yf](...o))}}),Sm=cx,dx=Et({name:"i18n-d",props:dn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},wh),setup(e,t){const s=e.i18n||mr({useScope:e.scope,__useComponent:!0});return my(e,t,oy,(...o)=>s[vf](...o))}}),Cm=dx;function fx(e,t){const s=e;if(e.mode==="composition")return s.__getInstance(t)||e.global;{const o=s.__getInstance(t);return o!=null?o.__composer:e.global.__composer}}function hx(e){const t=f=>{const{instance:h,value:m}=f;if(!h||!h.$)throw si(Wn.UNEXPECTED_ERROR);const y=fx(e,h.$),v=Pm(m);return[Reflect.apply(y.t,y,[...Im(v)]),y]};return{created:(f,h)=>{const[m,y]=t(h);vc&&e.global===y&&(f.__i18nWatcher=tt(y.locale,()=>{h.instance&&h.instance.$forceUpdate()})),f.__composer=y,f.textContent=m},unmounted:f=>{vc&&f.__i18nWatcher&&(f.__i18nWatcher(),f.__i18nWatcher=void 0,delete f.__i18nWatcher),f.__composer&&(f.__composer=void 0,delete f.__composer)},beforeUpdate:(f,{value:h})=>{if(f.__composer){const m=f.__composer,y=Pm(h);f.textContent=Reflect.apply(m.t,m,[...Im(y)])}},getSSRProps:f=>{const[h]=t(f);return{textContent:h}}}}function Pm(e){if(Ve(e))return{path:e};if(ht(e)){if(!("path"in e))throw si(Wn.REQUIRED_VALUE,"path");return e}else throw si(Wn.INVALID_VALUE)}function Im(e){const{path:t,locale:s,args:o,choice:i,plural:u}=e,f={},h=o||{};return Ve(s)&&(f.locale=s),sn(i)&&(f.plural=i),sn(u)&&(f.plural=u),[t,h,f]}function px(e,t,...s){const o=ht(s[0])?s[0]:{};(Lt(o.globalInstall)?o.globalInstall:!0)&&([xm.name,"I18nT"].forEach(u=>e.component(u,xm)),[Sm.name,"I18nN"].forEach(u=>e.component(u,Sm)),[Cm.name,"I18nD"].forEach(u=>e.component(u,Cm))),e.directive("t",hx(t))}const mx=xs("global-vue-i18n");function gx(e={},t){const s=__VUE_I18N_LEGACY_API__&&Lt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,o=Lt(e.globalInjection)?e.globalInjection:!0,i=new Map,[u,f]=_x(e,s),h=xs("");function m(x){return i.get(x)||null}function y(x,P){i.set(x,P)}function v(x){i.delete(x)}const w={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},async install(x,...P){if(x.__VUE_I18N_SYMBOL__=h,x.provide(x.__VUE_I18N_SYMBOL__,w),ht(P[0])){const q=P[0];w.__composerExtend=q.__composerExtend,w.__vueI18nExtend=q.__vueI18nExtend}let O=null;!s&&o&&(O=Tx(x,w.global)),__VUE_I18N_FULL_INSTALL__&&px(x,w,...P),__VUE_I18N_LEGACY_API__&&s&&x.mixin(ox(f,f.__composer,w));const B=x.unmount;x.unmount=()=>{O&&O(),w.dispose(),B()}},get global(){return f},dispose(){u.stop()},__instances:i,__getInstance:m,__setInstance:y,__deleteInstance:v};return w}function mr(e={}){const t=ri();if(t==null)throw si(Wn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw si(Wn.NOT_INSTALLED);const s=vx(t),o=bx(s),i=fy(t),u=yx(e,i);if(u==="global")return hy(o,e,i),o;if(u==="parent"){let m=wx(s,t,e.__useComponent);return m==null&&(m=o),m}const f=s;let h=f.__getInstance(t);if(h==null){const m=dn({},e);"__i18n"in i&&(m.__i18n=i.__i18n),o&&(m.__root=o),h=bh(m),f.__composerExtend&&(h[bf]=f.__composerExtend(h)),Lx(f,t,h),f.__setInstance(t,h)}return h}function _x(e,t,s){const o=Fg(),i=__VUE_I18N_LEGACY_API__&&t?o.run(()=>wf(e)):o.run(()=>bh(e));if(i==null)throw si(Wn.UNEXPECTED_ERROR);return[o,i]}function vx(e){const t=tn(e.isCE?mx:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw si(e.isCE?Wn.NOT_INSTALLED_WITH_PROVIDE:Wn.UNEXPECTED_ERROR);return t}function yx(e,t){return Yc(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function bx(e){return e.mode==="composition"?e.global:e.global.__composer}function wx(e,t,s=!1){let o=null;const i=t.root;let u=kx(t,s);for(;u!=null;){const f=e;if(e.mode==="composition")o=f.__getInstance(u);else if(__VUE_I18N_LEGACY_API__){const h=f.__getInstance(u);h!=null&&(o=h.__composer,s&&o&&!o[dy]&&(o=null))}if(o!=null||i===u)break;u=u.parent}return o}function kx(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Lx(e,t,s){Mi(()=>{},t),ba(()=>{const o=s;e.__deleteInstance(t);const i=o[bf];i&&(i(),delete o[bf])},t)}const Ex=["locale","fallbackLocale","availableLocales"],Nm=["t","rt","d","n","tm","te"];function Tx(e,t){const s=Object.create(null);return Ex.forEach(i=>{const u=Object.getOwnPropertyDescriptor(t,i);if(!u)throw si(Wn.UNEXPECTED_ERROR);const f=Mt(u.value)?{get(){return u.value.value},set(h){u.value.value=h}}:{get(){return u.get&&u.get()}};Object.defineProperty(s,i,f)}),e.config.globalProperties.$i18n=s,Nm.forEach(i=>{const u=Object.getOwnPropertyDescriptor(t,i);if(!u||!u.value)throw si(Wn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,u)}),()=>{delete e.config.globalProperties.$i18n,Nm.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}nx();AT(mT);RT(NT);DT(ey);if(__INTLIFY_PROD_DEVTOOLS__){const e=ro();e.__INTLIFY__=!0,gT(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const xx={__name:"App",setup(e){const{t,locale:s}=mr();return document.title=t("title"),tt(s,()=>{document.title=t("title")}),(o,i)=>{const u=E_("RouterView");return Ee(),dt(u)}}},Sx={key:0},Cx={class:"d-flex justify-content-center"},Px={class:"d-flex justify-content-center"},Ix={class:"spinner-border",role:"status"},Nx={class:"visually-hidden"},Mx={__name:"Loading",props:{loadingStatus:Boolean},setup(e){const t=e;tt(t,()=>{s.value=t.loadingStatus});const s=ze(t.loadingStatus!=null?t.loadingStatus:!1);return(o,i)=>s.value?(Ee(),Be("div",Sx,[pe("div",Cx,[pe("h3",null,qe(o.$t("loading")),1)]),pe("div",Px,[pe("div",Ix,[pe("span",Nx,qe(o.$t("loading")),1)])])])):yt("",!0)}},Ox={class:"input-group"},Ax=["value"],Rx={key:0,class:"bi bi-sort-up"},Dx={key:1,class:"bi bi-sort-down"},Bx={__name:"SortBy",props:{sortByAvailable:{type:Array,required:!0},sortBy:{type:String,required:!0},orderBy:{type:String,default:"asc"}},emits:["update:sortBy","update:orderBy"],setup(e,{emit:t}){const s=e,o=s.sortByAvailable,i=ze(s.sortBy),u=ze(s.orderBy),f=t;function h(){u.value=u.value==="asc"?"desc":"asc",f("update:orderBy",u.value)}return tt(i,m=>{f("update:sortBy",m)}),(m,y)=>(Ee(),Be(ft,null,[pe("div",Ox,[rn(pe("select",{"onUpdate:modelValue":y[0]||(y[0]=v=>i.value=v),class:"form-select",id:"sortby"},[(Ee(!0),Be(ft,null,dr(W(o),v=>(Ee(),Be("option",{key:`sort-${v.field_name}`,value:v.field_name},qe(v.label),9,Ax))),128))],512),[[ia,i.value]]),pe("button",{class:"btn btn-outline-secondary",onClick:h},[u.value==="asc"?(Ee(),Be("i",Rx)):(Ee(),Be("i",Dx))])]),y[1]||(y[1]=pe("div",null,null,-1))],64))}},Fx={class:"input-group mb-2"},zx={__name:"SearchForm",emits:["update:searchString"],setup(e,{emit:t}){const s=ze(""),o=t;return tt(s,()=>{o("update:searchString",s.value)}),(i,u)=>(Ee(),Be("div",Fx,[rn(pe("input",{type:"text",class:"form-control",id:"search","onUpdate:modelValue":u[0]||(u[0]=f=>s.value=f)},null,512),[[vs,s.value]]),u[1]||(u[1]=pe("label",{for:"search",class:"input-group-text"},[pe("i",{class:"bi bi-search"})],-1))]))}};function $x(e){return typeof e=="object"&&e!==null}function Ux(e){return $x(e)&&typeof e.length=="number"}function Mm(e){return Array.isArray(e)?e:e===void 0?[]:Ux(e)||e instanceof Set?Array.from(e):[e]}function Gx(e){return!isNaN(parseFloat(e))}function Hx(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Vx(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function qx(e){return gy(e)&&typeof e.length=="number"}function gy(e){return typeof e=="object"&&e!==null}function Zu(e){return typeof e<"u"}function jx(e){return!Zu(e)}function _y(e){return e===null}function Wx(e){return Zu(e)&&!_y(e)&&!Number.isNaN(e)}function Zx(e){return typeof e=="function"?/^class /.test(Function.prototype.toString.call(e)):!1}function Yx(e){if(e===null)return!0;switch(typeof e){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function Xx(e){if(e){const t=Zu(Promise)&&e instanceof Promise,s=e.then&&typeof e.then=="function";return!!(t||s)}else return!1}function Kx(e){return e===null||!Zu(e)?!1:typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function"}function Jx(e){return typeof e=="string"}function Qx(e){return typeof e=="function"}function eS(e){return typeof e=="function"&&e.constructor.name==="AsyncFunction"}const Fn={isNumber:Gx,isFiniteNumber:Hx,isPlainObject:Vx,isArrayLike:qx,isObject:gy,isDefined:Zu,isUndefined:jx,isNull:_y,isDefinedValue:Wx,isClass:Zx,isPrimitive:Yx,isPromise:Xx,isIterable:Kx,isString:Jx,isFunction:Qx,isAsyncFunction:eS};function tS(e,t={}){return t=Object.assign({computed:{},customOrders:{},nullRank:1,undefinedRank:1},t),e.sort(nS(t)),e}function nS(e={}){const t=Mm(e.by),s=Mm(e.order),{customOrders:o,computed:i}=e;return function u(f,h,m=0){const y=s[m]||"asc";if(!(y==="asc"||y==="desc"||o[y]))return 0;let v,w,x;return t.length?(w=Fn.isDefined(f[t[m]])?f[t[m]]:i[t[m]]&&i[t[m]](f),x=Fn.isDefined(h[t[m]])?h[t[m]]:i[t[m]]&&i[t[m]](h)):(w=f,x=h),o&&o[y]?v=o[y].indexOf(w)-o[y].indexOf(x):w===x?v=0:Fn.isNull(w)&&Fn.isUndefined(x)?v=y==="asc"?1:y==="desc"?-1:0:Fn.isUndefined(w)&&Fn.isNull(x)?v=y==="asc"?-1:y==="desc"?1:0:Fn.isNull(w)&&Fn.isDefinedValue(x)?v=e.nullRank:Fn.isUndefined(w)&&Fn.isDefinedValue(x)?v=e.undefinedRank:Fn.isNull(x)&&Fn.isDefinedValue(w)?v=-e.nullRank:Fn.isUndefined(x)&&Fn.isDefinedValue(w)?v=-e.undefinedRank:(v=w<x?-1:w>x?1:0,y==="desc"&&(v=v*-1)),v===0&&Fn.isDefined(t[m+1])&&(v=u(f,h,m+1)),v}}class kh{constructor(t){this.taxonId=t.taxonId,this.acceptedScientificName=t.acceptedScientificName;const{vernacularName:s="",nbObservations:o=0,mediaUrl:i="",taxonRank:u="",description:f="",taxonSheetUrl:h="",lastSeenDate:m=null,kingdom:y="",class:v=""}=t;this.vernacularName=s,this.nbObservations=o,this.mediaUrl=i,this.taxonRank=u,this.description=f,this.taxonSheetUrl=h,this.lastSeenDate=m,this.kingdom=y,this.class=v}}class Wi{constructor(t){this.url=t.url,this.source=t.source,this.typeMedia=t.typeMedia;const{license:s="",author:o=""}=t;this.license=s,this.author=o}}class Lh{constructor(t,s){js(this,"name");if(this.name=t,!Object.values(Ii).includes(s))throw new Error("Source identifier is not declared in `mediaIdentifier.js`");this.id=s}fetchPicture(t,s){throw this.isCompatible(s)?new Error("Not implemented"):new Error("This media source is not available !")}fetchSound(t,s){if(!this.isCompatible(s))throw new Error("This media source is not available !");return new Promise(o=>null)}isCompatible(t){throw new Error("Not Implemented")}}const fo=Object.freeze({GBIF:"GBIF",TAXREF:"TAXREF"});class iS extends Lh{constructor(t){super("GBIFMediaSource",Ii.GBIF)}isCompatible(t){return t.referential==fo.GBIF}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const o=`${s.GBIF_ENDPOINT}/species/${t}/media`;return fetch(o).then(i=>i.json()).then(i=>{let u=this.processMedia(i.results);return u.length===0?this.fetchMediaOccurence(t,s.GBIF_ENDPOINT):u})}fetchSound(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const o=`${s.GBIF_ENDPOINT}/occurrence/search?limit=10&mediaType=Sound&speciesKey=${t}`;return fetch(o).then(i=>i.json()).then(i=>{if(i.results.length>0){i.results[0].media[0];for(let u of i.results)for(let f of u.media)if(!["png","jpg","jpeg","bmp","gif"].includes(f.identifier.split(".").pop()))return new Wi({url:f.identifier,typeMedia:"sound",license:f.license,source:`${f.rightsHolder} (${f.license})`})}})}processMedia(t){return Object.values(t).filter(s=>s.hasOwnProperty("license")&&s.hasOwnProperty("rightsHolder")).map(s=>new Wi({url:s.identifier,license:s.licence,source:`${s.rightsHolder} (${s.license})`,typeMedia:"image"}))}fetchMediaOccurence(t,s){const o=`${s}/occurrence/search?limit=10&mediaType=StillImage&speciesKey=${t}`;return fetch(o).then(i=>i.json()).then(i=>{const u=i.results.flatMap(f=>f.media);return this.processMedia(u)})}}class rS extends Lh{constructor(t){super("Taxref",Ii.TAXREF_ODATA)}fetchPicture(t,s){const o=`https://odata-inpn.mnhn.fr/photos/taxa?taxrefId=${t}&visibility=PUBLIC`;return fetch(o).then(i=>i.json()).then(function(i){var f;let u=[];try{return Object.values((f=i==null?void 0:i._embedded)==null?void 0:f.photos).forEach(h=>{u.push(new Wi({url:h._links.thumbnail.href,license:h.licence,source:h.copyright,typeMedia:"image"}))}),u}catch{return[]}})}isCompatible(t){return t.referential==fo.TAXREF}}const{GBIF:sS,TAXREF:oS}=fo;function aS(e){const t="https://query.wikidata.org/sparql",s=`
    SELECT ?item WHERE {
      ?item wdt:P3186 "${e}" .
    }`;return fetch(t+"?format=json&query="+encodeURIComponent(s)).then(o=>o.json()).then(o=>o.results.bindings.length?o.results.bindings[0].item.value.split("/").pop():null)}function uS(e){const t="https://query.wikidata.org/sparql",s=`
    SELECT ?item WHERE {
      ?item wdt:P846 "${e}" .
    }`;return fetch(t+"?format=json&query="+encodeURIComponent(s)).then(o=>o.json()).then(o=>o.results.bindings.length?o.results.bindings[0].item.value.split("/").pop():null)}function Om(e){if(!e)return;const t=`https://www.wikidata.org/wiki/Special:EntityData/${e}.json`;return fetch(t).then(s=>s.json()).then(s=>{const u=(s.entities[e].claims||{}).P18||[];if(!u.length)return"No image found for this entity.";const h=`https://commons.wikimedia.org/w/thumb.php?width=500&f=${u[0].mainsnak.datavalue.value}`;return[new Wi({url:h,source:"Wikidata",typeMedia:"image"})]})}function lS(e,t,s=null){if(!e)throw new Error("No taxonId given !");if(s)return Om(s);if(e){let o=null;switch(t.referential){case fo.GBIF:o=uS(e);break;case fo.TAXREF:o=aS(e);break}return o?o.then(i=>{if(i)return Om(i)}):void 0}}class cS extends Lh{constructor(){super("WikidataMediaSource",Ii.WIKIDATA)}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error("Wikidata Image source is only compatible with the GBIF and a TAXREF referential based connector ");return lS(t,s)}isCompatible(t){return!![sS,oS].includes(t.referential)}}const Ii=Object.freeze({GBIF:"gbif",TAXREF_ODATA:"taxref_odata",WIKIDATA:"wikidata"});function Gr(e,t={}){switch(e){case Ii.GBIF:return new iS(t);case Ii.TAXREF_ODATA:return new rS(t);case Ii.WIKIDATA:return new cS(t)}}const da=Object.freeze({GBIF:"GBIF",GeoNature:"GeoNature"}),Yu={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},fa={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Zn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},dS={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},vy={dangerouslyHTMLString:!1,multiple:!0,position:Yu.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},fS={rtl:!1,newestOnTop:!1,toastClassName:""},yy={...vy,...fS};({...vy,type:Zn.DEFAULT});var It=(e=>(e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e))(It||{}),kf=(e=>(e.ENTRANCE_ANIMATION_END="d",e))(kf||{});const hS={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},pS={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},mS={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},gS={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Am="Toastify--animate Toastify__none-enter";function by(e,t=!1){var s;let o=hS;if(!e||typeof e=="string")switch(e){case"flip":o=gS;break;case"zoom":o=mS;break;case"slide":o=pS;break}else o=e;if(t)o.enter=Am;else if(o.enter===Am){const i=(s=o.exit.split("__")[1])==null?void 0:s.split("-")[0];o.enter=`Toastify--animate Toastify__${i}-enter`}return o}function _S(e){return e.containerId||String(e.position)}const Jc="will-unmount";function vS(e=Yu.TOP_RIGHT){return!!document.querySelector(`.${It.CSS_NAMESPACE}__toast-container--${e}`)}function yS(e=Yu.TOP_RIGHT){return`${It.CSS_NAMESPACE}__toast-container--${e}`}function bS(e,t,s=!1){const o=[`${It.CSS_NAMESPACE}__toast-container`,`${It.CSS_NAMESPACE}__toast-container--${e}`,s?`${It.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return ta(t)?t({position:e,rtl:s,defaultClassName:o}):`${o} ${t||""}`}function wS(e){var t;const{position:s,containerClassName:o,rtl:i=!1,style:u={}}=e,f=It.CSS_NAMESPACE,h=yS(s),m=document.querySelector(`.${f}`),y=document.querySelector(`.${h}`),v=!!y&&!((t=y.className)!=null&&t.includes(Jc)),w=m||document.createElement("div"),x=document.createElement("div");x.className=bS(s,o,i),x.dataset.testid=`${It.CSS_NAMESPACE}__toast-container--${s}`,x.id=_S(e);for(const P in u)if(Object.prototype.hasOwnProperty.call(u,P)){const O=u[P];x.style[P]=O}return m||(w.className=It.CSS_NAMESPACE,document.body.appendChild(w)),v||w.appendChild(x),x}function Lf(e){var t,s,o;const i=typeof e=="string"?e:((t=e.currentTarget)==null?void 0:t.id)||((s=e.target)==null?void 0:s.id),u=document.getElementById(i);u&&u.removeEventListener("animationend",Lf,!1);try{Fu[i].unmount(),(o=document.getElementById(i))==null||o.remove(),delete Fu[i],delete Tn[i]}catch{}}const Fu=ni({});function kS(e,t){const s=document.getElementById(String(t));s&&(Fu[s.id]=e)}function Ef(e,t=!0){const s=String(e);if(!Fu[s])return;const o=document.getElementById(s);o&&o.classList.add(Jc),t?(ES(e),o&&o.addEventListener("animationend",Lf,!1)):Lf(s),gr.items=gr.items.filter(i=>i.containerId!==e)}function LS(e){for(const t in Fu)Ef(t,e);gr.items=[]}function wy(e,t){const s=document.getElementById(e.toastId);if(s){let o=e;o={...o,...by(o.transition)};const i=o.appendPosition?`${o.exit}--${o.position}`:o.exit;s.className+=` ${i}`,t&&t(s)}}function ES(e){for(const t in Tn)if(t===e)for(const s of Tn[t]||[])wy(s)}function TS(e){const t=ha().find(s=>s.toastId===e);return t==null?void 0:t.containerId}function Eh(e){return document.getElementById(e)}function xS(e){const t=Eh(e.containerId);return t&&t.classList.contains(Jc)}function Rm(e){var t;const s=uo(e.content)?ut(e.content.props):null;return s??ut((t=e.data)!=null?t:{})}function SS(e){return e?gr.items.filter(t=>t.containerId===e).length>0:gr.items.length>0}function CS(){if(gr.items.length>0){const e=gr.items.shift();Ul(e==null?void 0:e.toastContent,e==null?void 0:e.toastProps)}}const Tn=ni({}),gr=ni({items:[]});function ha(){const e=ut(Tn);return Object.values(e).reduce((t,s)=>[...t,...s],[])}function PS(e){return ha().find(t=>t.toastId===e)}function Ul(e,t={}){if(xS(t)){const s=Eh(t.containerId);s&&s.addEventListener("animationend",Tf.bind(null,e,t),!1)}else Tf(e,t)}function Tf(e,t={}){const s=Eh(t.containerId);s&&s.removeEventListener("animationend",Tf.bind(null,e,t),!1);const o=Tn[t.containerId]||[],i=o.length>0;if(!i&&!vS(t.position)){const u=wS(t),f=iv(YS,t);t.useHandler&&t.useHandler(f),f.mount(u),kS(f,u.id)}i&&!t.updateId&&(t.position=o[0].position),qn(()=>{t.updateId?li.update(t):li.add(e,t)})}const li={add(e,t){const{containerId:s=""}=t;s&&(Tn[s]=Tn[s]||[],Tn[s].find(o=>o.toastId===t.toastId)||setTimeout(()=>{var o,i;t.newestOnTop?(o=Tn[s])==null||o.unshift(t):(i=Tn[s])==null||i.push(t),t.onOpen&&t.onOpen(Rm(t))},t.delay||0))},remove(e){if(e){const t=TS(e);if(t){const s=Tn[t];let o=s.find(i=>i.toastId===e);Tn[t]=s.filter(i=>i.toastId!==e),!Tn[t].length&&!SS(t)&&Ef(t,!1),CS(),qn(()=>{o!=null&&o.onClose&&(o.onClose(Rm(o)),o=void 0)})}}},update(e={}){const{containerId:t=""}=e;if(t&&e.updateId){Tn[t]=Tn[t]||[];const s=Tn[t].find(u=>u.toastId===e.toastId),o=(s==null?void 0:s.position)!==e.position||(s==null?void 0:s.transition)!==e.transition,i={...e,disabledEnterTransition:!o,updateId:void 0};li.dismissForce(e==null?void 0:e.toastId),setTimeout(()=>{zt(i.content,i)},e.delay||0)}},clear(e,t=!0){e?Ef(e,t):LS(t)},dismissCallback(e){var t;const s=(t=e.currentTarget)==null?void 0:t.id,o=document.getElementById(s);o&&(o.removeEventListener("animationend",li.dismissCallback,!1),setTimeout(()=>{li.remove(s)}))},dismiss(e){if(e){const t=ha();for(const s of t)if(s.toastId===e){wy(s,o=>{o.addEventListener("animationend",li.dismissCallback,!1)});break}}},dismissForce(e){if(e){const t=ha();for(const s of t)if(s.toastId===e){const o=document.getElementById(e);o&&(o.remove(),o.removeEventListener("animationend",li.dismissCallback,!1),li.remove(e));break}}}},IS=ni({useHandler:void 0}),ky=ni({}),yc=ni({});function Ly(){return Math.random().toString(36).substring(2,9)}function NS(e){return typeof e=="number"&&!isNaN(e)}function xf(e){return typeof e=="string"}function ta(e){return typeof e=="function"}function Qc(...e){return bt(...e)}function Gl(e){return typeof e=="object"&&(!!(e!=null&&e.render)||!!(e!=null&&e.setup)||typeof(e==null?void 0:e.type)=="object")}function MS(e={}){ky[`${It.CSS_NAMESPACE}-default-options`]=e}function OS(){return ky[`${It.CSS_NAMESPACE}-default-options`]||yy}function AS(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||e?"dark":"light"}var Hl=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e))(Hl||{});const Ey={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Yu.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:fa.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Zn.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},RS={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Zn.DEFAULT},theme:{type:String,required:!1,default:fa.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},DS=Et({name:"ProgressBar",props:RS,setup(e,{attrs:t}){const s=ze(),o=de(()=>e.hide?"true":"false"),i=de(()=>({...t.style||{},animationDuration:`${e.autoClose===!0?5e3:e.autoClose}ms`,animationPlayState:e.isRunning?"running":"paused",opacity:e.hide||e.autoClose===!1?0:1,transform:e.controlledProgress?`scaleX(${e.progress})`:"none"})),u=de(()=>[`${It.CSS_NAMESPACE}__progress-bar`,e.controlledProgress?`${It.CSS_NAMESPACE}__progress-bar--controlled`:`${It.CSS_NAMESPACE}__progress-bar--animated`,`${It.CSS_NAMESPACE}__progress-bar-theme--${e.theme}`,`${It.CSS_NAMESPACE}__progress-bar--${e.type}`,e.rtl?`${It.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),f=de(()=>`${u.value} ${(t==null?void 0:t.class)||""}`),h=()=>{s.value&&(s.value.onanimationend=null,s.value.ontransitionend=null)},m=()=>{e.isIn&&e.closeToast&&e.autoClose!==!1&&(e.closeToast(),h())},y=de(()=>e.controlledProgress?null:m),v=de(()=>e.controlledProgress?m:null);return mu(()=>{s.value&&(h(),s.value.onanimationend=y.value,s.value.ontransitionend=v.value)}),()=>Ue("div",{ref:s,role:"progressbar","aria-hidden":o.value,"aria-label":"notification timer",class:f.value,style:i.value},null)}}),BS=Et({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:fa.AUTO},type:{type:String,required:!1,default:fa.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(e){return()=>Ue("button",{class:`${It.CSS_NAMESPACE}__close-button ${It.CSS_NAMESPACE}__close-button--${e.theme}`,type:"button",onClick:t=>{t.stopPropagation(),e.closeToast&&e.closeToast(t)},"aria-label":e.ariaLabel},[Ue("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Ue("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),ed=({theme:e,type:t,path:s,...o})=>Ue("svg",bt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},o),[Ue("path",{d:s},null)]);function FS(e){return Ue(ed,bt(e,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function zS(e){return Ue(ed,bt(e,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function $S(e){return Ue(ed,bt(e,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function US(e){return Ue(ed,bt(e,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function GS(){return Ue("div",{class:`${It.CSS_NAMESPACE}__spinner`},null)}const Vl={info:zS,warning:FS,success:$S,error:US,spinner:GS},HS=e=>e in Vl;function VS({theme:e,type:t,isLoading:s,icon:o}){let i;const u=!!s||t==="loading",f={theme:e,type:t};if(u&&(o===void 0||typeof o=="boolean"))return Vl.spinner();if(o!==!1){if(Gl(o))i=ut(o);else if(ta(o)){const h=o;f.type=u?"loading":t,i=h(f),i=!i&&u?Vl.spinner():i}else uo(o)?i=Hr(o,f):xf(o)||NS(o)?i=o:HS(t)&&(i=Vl[t](f));return i}}const qS=()=>{};function jS(e,t,s=It.COLLAPSE_DURATION){const{scrollHeight:o,style:i}=e,u=s;requestAnimationFrame(()=>{i.minHeight="initial",i.height=o+"px",i.transition=`all ${u}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,u)})})}function WS(e){const t=ze(!1),s=ze(!1),o=ze(!1),i=ze(Hl.Enter),u=ni({...e,appendPosition:e.appendPosition||!1,collapse:typeof e.collapse>"u"?!0:e.collapse,collapseDuration:e.collapseDuration||It.COLLAPSE_DURATION}),f=u.done||qS,h=de(()=>u.appendPosition?`${u.enter}--${u.position}`:u.enter),m=de(()=>u.appendPosition?`${u.exit}--${u.position}`:u.exit),y=de(()=>e.pauseOnHover?{onMouseenter:q,onMouseleave:B}:{});function v(){const z=h.value.split(" ");x().addEventListener(kf.ENTRANCE_ANIMATION_END,B,{once:!0});const H=T=>{const E=x();T.target===E&&(E.dispatchEvent(new Event(kf.ENTRANCE_ANIMATION_END)),E.removeEventListener("animationend",H),E.removeEventListener("animationcancel",H),i.value===Hl.Enter&&T.type!=="animationcancel"&&E.classList.remove(...z))},_=()=>{const T=x();T.classList.add(...z),T.addEventListener("animationend",H),T.addEventListener("animationcancel",H)};e.pauseOnFocusLoss&&P(),_()}function w(){if(!x())return;const z=()=>{const _=x();_.removeEventListener("animationend",z),u.collapse?jS(_,f,u.collapseDuration):f()},H=()=>{const _=x();i.value=Hl.Exit,_&&(_.className+=` ${m.value}`,_.addEventListener("animationend",z))};s.value||(o.value?z():setTimeout(H))}function x(){return e.toastRef.value}function P(){document.hasFocus()||q(),window.addEventListener("focus",B),window.addEventListener("blur",q)}function O(){window.removeEventListener("focus",B),window.removeEventListener("blur",q)}function B(){(!e.loading.value||e.isLoading===void 0)&&(t.value=!0)}function q(){t.value=!1}function A(z){z&&(z.stopPropagation(),z.preventDefault()),s.value=!1}return mu(w),mu(()=>{const z=ha();s.value=z.findIndex(H=>H.toastId===u.toastId)>-1}),mu(()=>{e.isLoading!==void 0&&(e.loading.value?q():B())}),Mi(v),ba(()=>{e.pauseOnFocusLoss&&O()}),{isIn:s,isRunning:t,hideToast:A,eventHandlers:y}}const ZS=Et({name:"ToastItem",inheritAttrs:!1,props:Ey,setup(e){const t=ze(),s=de(()=>!!e.isLoading),o=de(()=>e.progress!==void 0&&e.progress!==null),i=de(()=>VS(e)),u=de(()=>[`${It.CSS_NAMESPACE}__toast`,`${It.CSS_NAMESPACE}__toast-theme--${e.theme}`,`${It.CSS_NAMESPACE}__toast--${e.type}`,e.rtl?`${It.CSS_NAMESPACE}__toast--rtl`:void 0,e.toastClassName||""].filter(Boolean).join(" ")),{isRunning:f,isIn:h,hideToast:m,eventHandlers:y}=WS({toastRef:t,loading:s,done:()=>{li.remove(e.toastId)},...by(e.transition,e.disabledEnterTransition),...e});return()=>Ue("div",bt({id:e.toastId,class:u.value,style:e.toastStyle||{},ref:t,"data-testid":`toast-item-${e.toastId}`,onClick:v=>{e.closeOnClick&&m(),e.onClick&&e.onClick(v)}},y.value),[Ue("div",{role:e.role,"data-testid":"toast-body",class:`${It.CSS_NAMESPACE}__toast-body ${e.bodyClassName||""}`},[i.value!=null&&Ue("div",{"data-testid":`toast-icon-${e.type}`,class:[`${It.CSS_NAMESPACE}__toast-icon`,e.isLoading?"":`${It.CSS_NAMESPACE}--animate-icon ${It.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Gl(i.value)?di(ut(i.value),{theme:e.theme,type:e.type}):ta(i.value)?i.value({theme:e.theme,type:e.type}):i.value]),Ue("div",{"data-testid":"toast-content"},[Gl(e.content)?di(ut(e.content),{toastProps:ut(e),closeToast:m,data:e.data,...e.expandCustomProps?e.contentProps:{contentProps:e.contentProps||{}}}):ta(e.content)?e.content({toastProps:ut(e),closeToast:m,data:e.data}):e.dangerouslyHTMLString?di("div",{innerHTML:e.content}):e.content])]),(e.closeButton===void 0||e.closeButton===!0)&&Ue(BS,{theme:e.theme,closeToast:v=>{v.stopPropagation(),v.preventDefault(),m()}},null),Gl(e.closeButton)?di(ut(e.closeButton),{closeToast:m,type:e.type,theme:e.theme}):ta(e.closeButton)?e.closeButton({closeToast:m,type:e.type,theme:e.theme}):null,Ue(DS,{className:e.progressClassName,style:e.progressStyle,rtl:e.rtl,theme:e.theme,isIn:h.value,type:e.type,hide:e.hideProgressBar,isRunning:f.value,autoClose:e.autoClose,controlledProgress:o.value,progress:e.progress,closeToast:e.isLoading?void 0:m},null)])}});let bu=0;function Ty(){typeof window>"u"||(bu&&window.cancelAnimationFrame(bu),bu=window.requestAnimationFrame(Ty),yc.lastUrl!==window.location.href&&(yc.lastUrl=window.location.href,li.clear()))}const YS=Et({name:"ToastifyContainer",inheritAttrs:!1,props:Ey,setup(e){const t=de(()=>e.containerId),s=de(()=>Tn[t.value]||[]),o=de(()=>s.value.filter(i=>i.position===e.position));return Mi(()=>{typeof window<"u"&&e.clearOnUrlChange&&window.requestAnimationFrame(Ty)}),ba(()=>{typeof window<"u"&&bu&&(window.cancelAnimationFrame(bu),yc.lastUrl="")}),()=>Ue(ft,null,[o.value.map(i=>{const{toastId:u=""}=i;return Ue(ZS,bt({key:u},i),null)})])}});let Ud=!1;const xy={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Sy(){const e=[];return ha().forEach(t=>{const s=document.getElementById(t.containerId);s&&!s.classList.contains(Jc)&&e.push(t)}),e}function XS(e){const t=Sy().length,s=e??0;return s>0&&t+gr.items.length>=s}function KS(e){XS(e.limit)&&!e.updateId&&gr.items.push({toastId:e.toastId,containerId:e.containerId,toastContent:e.content,toastProps:e})}function Ps(e,t,s={}){if(Ud)return;s=Qc(OS(),{type:t},ut(s)),(!s.toastId||typeof s.toastId!="string"&&typeof s.toastId!="number")&&(s.toastId=Ly()),s={...s,...s.type==="loading"?xy:{},content:e,containerId:s.containerId||String(s.position)};const o=Number(s==null?void 0:s.progress);return!isNaN(o)&&o<0&&(s.progress=0),o>1&&(s.progress=1),s.theme==="auto"&&(s.theme=AS()),KS(s),yc.lastUrl=window.location.href,s.multiple?gr.items.length?s.updateId&&Ul(e,s):Ul(e,s):(Ud=!0,zt.clearAll(void 0,!1),setTimeout(()=>{Ul(e,s)},0),setTimeout(()=>{Ud=!1},390)),s.toastId}const zt=(e,t)=>Ps(e,Zn.DEFAULT,t);zt.info=(e,t)=>Ps(e,Zn.DEFAULT,{...t,type:Zn.INFO});zt.error=(e,t)=>Ps(e,Zn.DEFAULT,{...t,type:Zn.ERROR});zt.warning=(e,t)=>Ps(e,Zn.DEFAULT,{...t,type:Zn.WARNING});zt.warn=zt.warning;zt.success=(e,t)=>Ps(e,Zn.DEFAULT,{...t,type:Zn.SUCCESS});zt.loading=(e,t)=>Ps(e,Zn.DEFAULT,Qc(t,xy));zt.dark=(e,t)=>Ps(e,Zn.DEFAULT,Qc(t,{theme:fa.DARK}));zt.remove=e=>{e?li.dismiss(e):li.clear()};zt.clearAll=(e,t)=>{qn(()=>{li.clear(e,t)})};zt.isActive=e=>{let t=!1;return t=Sy().findIndex(s=>s.toastId===e)>-1,t};zt.update=(e,t={})=>{setTimeout(()=>{const s=PS(e);if(s){const o=ut(s),{content:i}=o,u={...o,...t,toastId:t.toastId||e,updateId:Ly()},f=u.render||i;delete u.render,Ps(f,u.type,u)}},0)};zt.done=e=>{zt.update(e,{isLoading:!1,progress:1})};zt.promise=JS;function JS(e,{pending:t,error:s,success:o},i){var u,f,h;let m;const y={...i||{},autoClose:!1};t&&(m=xf(t)?zt.loading(t,y):zt.loading(t.render,{...y,...t}));const v={autoClose:(u=i==null?void 0:i.autoClose)!=null?u:!0,closeOnClick:(f=i==null?void 0:i.closeOnClick)!=null?f:!0,closeButton:(h=i==null?void 0:i.autoClose)!=null?h:null,isLoading:void 0,draggable:null,delay:100},w=(P,O,B)=>{if(O==null){zt.remove(m);return}const q={type:P,...v,...i,data:B},A=xf(O)?{render:O}:O;return m?zt.update(m,{...q,...A,isLoading:!1}):zt(A.render,{...q,...A,isLoading:!1}),B},x=ta(e)?e():e;return x.then(P=>{w("success",o,P)}).catch(P=>{w("error",s,P)}),x}zt.POSITION=Yu;zt.THEME=fa;zt.TYPE=Zn;zt.TRANSITIONS=dS;const QS={install(e,t={}){IS.useHandler=t.useHandler||(()=>{}),eC(t)}};typeof window<"u"&&(window.Vue3Toastify=QS);function eC(e={}){const t=Qc(yy,e);MS(t)}class Cy{constructor(t){js(this,"name");js(this,"taxonClass2SourceID",{});js(this,"referential");this.options=t,this.imageSource=this.parseMediaSource(t==null?void 0:t.imageSource),this.soundSource=this.parseMediaSource(t==null?void 0:t.soundSource)}parseMediaSource(t){return typeof t=="string"?Gr(t):t}verifyOptions(t=[]){t.forEach(s=>{this.options.hasOwnProperty(s)||zt.error(`Please indicate the ${s} parameter`)})}getParamsSchema(){return{}}getParams(){const t={};return Object.entries(this).filter(([s,o])=>!["options","params","name","taxonClass2SourceID","referential","soundSource","imageSource"].includes(s)).filter(([s,o])=>typeof o!=typeof{}).forEach(([s,o])=>{t[s]=o}),this.soundSource&&(t.soundSource=this.soundSource.id),this.imageSource&&(t.imageSource=this.imageSource.id),t}fetchOccurrence(t){throw new Error("Not implemented")}fetchTaxonInfo(t){throw new Error("Not implemented")}fetchTaxonStatus(t){throw new Error("Not implemented")}searchTaxon(t="",s={}){}getTaxonDetailPage(t){throw new Error("Not implemented")}fetchVernacularName(t){throw new Error("Not implemented")}sourceDetailMessage(){return null}getCompatibleMediaSource(){const t=[];return Object.values(Ii).filter(s=>Gr(s).isCompatible(this)).forEach(s=>{t.push({value:s,text:Gr(s).name})}),t}}const bc="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg",Py="https://api.gbif.org/v1",Dm=300,Bm=10;function Fm(e={}){const t=new URL(`${Py}/occurrence/search`);return Object.entries(e).forEach(([s,o])=>{t.searchParams.append(s,o)}),fetch(t.toString()).then(s=>s.json())}class Sf extends Cy{constructor(t){var s,o,i;super(t),this.name=da.GBIF,this.GBIF_ENDPOINT=((s=this.options)==null?void 0:s.GBIF_ENDPOINT)||Py,this.LIMIT=((o=this.options)==null?void 0:o.LIMIT)||Dm,this.NB_PAGES=((i=this.options)==null?void 0:i.NB_PAGES)||Bm,this.referential=fo.GBIF,this.imageSource=this.imageSource||Gr(Ii.WIKIDATA),this.soundSource=this.soundSource||Gr(Ii.GBIF),this.taxonClass2SourceID={Aves:212,Mammalia:359,Reptilia:358,Amphibia:131,Insecta:216,Arachnida:367,Gastropoda:225,Bivalvia:137,Magnoliopsida:220,Liliopsida:196,Pinopsida:194}}getParamsSchema(){const{t}=mr();return[{name:"GBIF_ENDPOINT",label:"Adresse de l'API du GBIF",type:String,default:"https://api.gbif.org/v1"},{name:"LIMIT",label:t("limit"),type:Number,default:Dm},{name:"NB_PAGES",label:t("nbPages"),type:Number,default:Bm}]}countOccurrence(t={}){return Fm(t).then(s=>s.count)}fetchVernacularName(t){const s={en:"eng",fr:"fra"},o=Sn.getInstance().lang.value;return fetch(`${this.GBIF_ENDPOINT}/species/${t}/vernacularNames?limit=100`).then(i=>i.json()).then(i=>{const u=i.results.find(f=>f.language===s[o]);return u?u.vernacularName.capitalize():void 0})}fetchOccurrence(t){let s={limit:this.LIMIT,maxPage:this.NB_PAGES,...t};return s.dateMin&&s.dateMax&&(s.eventDate=`${s.dateMin},${s.dateMax}`),t!=null&&t.class&&(s={...s,classKey:this.taxonClass2SourceID[t==null?void 0:t.class]}),this.countOccurrence(s).then(o=>{const i=Math.min(Math.ceil(o/s.limit),s.maxPage),u={},f=h=>{if(h>=i)return Promise.resolve();const m=h*s.limit;return Fm({...s,offset:m}).then(y=>(y.results.forEach(v=>{u[v.taxonKey]||(u[v.taxonKey]=new kh({acceptedScientificName:v.acceptedScientificName,vernacularName:v.vernacularName,taxonId:v.taxonKey,mediaUrl:bc,taxonRank:v.taxonRank,kingdom:v.kingdom,class:v.class,nbObservations:0,description:"",lastSeenDate:new Date(v.eventDate).getTime()})),u[v.taxonKey].nbObservations+=1,u[v.taxonKey].lastSeenDate=new Date(Math.max(new Date(v.eventDate).getTime(),new Date(u[v.taxonKey].lastSeenDate).getTime()))}),f(h+1)))};return f(0).then(()=>u)})}fetchTaxonInfo(t){const s=`${this.GBIF_ENDPOINT}/species/${t}`;return fetch(s).then(o=>o.json()).then(o=>({scientificName:o.scientificName,vernacularName:o.vernacularName,rank:o.rank,taxonKey:o.key}))}fetchTaxonStatus(t){const s=`${this.GBIF_ENDPOINT}/species/${t}/iucnRedListCategory`;return fetch(s).then(o=>o.json()).then(o=>({iucnRedListCategory:o.category,code:o.code}))}searchTaxon(t="",s={}){const o=`${this.GBIF_ENDPOINT}/species/search?q=${t}&limit=20`;return fetch(o).then(i=>i.json()).then(i=>i.results.map(u=>({scientificName:u.scientificName,taxonKey:u.key})))}getTaxonDetailPage(t){return`https://www.gbif.org/species/${t}`}sourceDetailMessage(){return mr().t("source.gbifWarning")}}const zm="ALL";class Iy extends Cy{constructor(s){var o;super(s);js(this,"EXPORT_API_ENDPOINT");this.name=da.GeoNature,this.EXPORT_API_ENDPOINT=s==null?void 0:s.EXPORT_API_ENDPOINT,this.LIMIT=((o=this.options)==null?void 0:o.LIMIT)||zm,this.referential=fo.TAXREF,this.imageSource=this.imageSource??Gr(Ii.TAXREF_ODATA),this.soundSource=this.soundSource??Gr(Ii.TAXREF_ODATA)}getParamsSchema(){const{t:s}=mr();return[{name:"EXPORT_API_ENDPOINT",label:s("geonature.export_api_endpoint"),type:String,default:"http://localhost:8000/exports/api/20"},{name:"LIMIT",label:s("limit"),type:Number,default:zm}]}fetchOccurrence(s={}){let o=new URL(this.EXPORT_API_ENDPOINT);s={...s,limit:this.LIMIT};for(const[u,f]of Object.entries(s))o.searchParams.append(u,f);const i=o.toString();return fetch(i).then(u=>u.json()).then(u=>{let f={};return u.items.features.forEach(h=>{h=h.properties,f.hasOwnProperty(h.cd_ref)||(f[h.cd_ref]=new kh({acceptedScientificName:h.nom_scientifique,vernacularName:h.nom_vernaculaire,taxonId:h.cd_ref,taxonKey:h.cd_ref,mediaUrl:bc,taxonRank:"",nbObservations:0,description:"",lastSeenDate:new Date(h.date_max).getTime()})),f[h.cd_ref].nbObservations+=1,f[h.cd_ref].lastSeenDate=new Date(Math.max(new Date(h.date_max).getTime(),new Date(f[h.cd_ref].lastSeenDate).getTime()))}),f})}fetchTaxonInfo(s){const o=`https://odata-inpn.mnhn.fr/taxa/${s}`;return fetch(o).then(i=>i.json()).then(function(i){return{scientificName:i.names.scientific,vernacularName:i.names.vernacular.fr[0],rank:i.rank,taxonKey:i.taxrefId}})}fetchTaxonStatus(s){const o=`https://taxref.mnhn.fr/api/taxa/${s}/status/columns`;return fetch(o).then(i=>i.json()).then(i=>{var u;return(u=i._embedded)==null?void 0:u.status})}getTaxonDetailPage(s){return`https://inpn.mnhn.fr/espece/cd_nom/${s}`}fetchVernacularName(s){return Promise.resolve(null)}}function ql(e="GBIF",t={}){switch(e){case da.GBIF:return new Sf(t);case da.GeoNature:return new Iy(t);default:return new Sf(t)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Wo=typeof document<"u";function Ny(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function tC(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ny(e.default)}const Ct=Object.assign;function Gd(e,t){const s={};for(const o in t){const i=t[o];s[o]=Zi(i)?i.map(e):e(i)}return s}const wu=()=>{},Zi=Array.isArray,My=/#/g,nC=/&/g,iC=/\//g,rC=/=/g,sC=/\?/g,Oy=/\+/g,oC=/%5B/g,aC=/%5D/g,Ay=/%5E/g,uC=/%60/g,Ry=/%7B/g,lC=/%7C/g,Dy=/%7D/g,cC=/%20/g;function Th(e){return encodeURI(""+e).replace(lC,"|").replace(oC,"[").replace(aC,"]")}function dC(e){return Th(e).replace(Ry,"{").replace(Dy,"}").replace(Ay,"^")}function Cf(e){return Th(e).replace(Oy,"%2B").replace(cC,"+").replace(My,"%23").replace(nC,"%26").replace(uC,"`").replace(Ry,"{").replace(Dy,"}").replace(Ay,"^")}function fC(e){return Cf(e).replace(rC,"%3D")}function hC(e){return Th(e).replace(My,"%23").replace(sC,"%3F")}function pC(e){return e==null?"":hC(e).replace(iC,"%2F")}function zu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const mC=/\/$/,gC=e=>e.replace(mC,"");function Hd(e,t,s="/"){let o,i={},u="",f="";const h=t.indexOf("#");let m=t.indexOf("?");return h<m&&h>=0&&(m=-1),m>-1&&(o=t.slice(0,m),u=t.slice(m+1,h>-1?h:t.length),i=e(u)),h>-1&&(o=o||t.slice(0,h),f=t.slice(h,t.length)),o=bC(o??t,s),{fullPath:o+(u&&"?")+u+f,path:o,query:i,hash:zu(f)}}function _C(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function $m(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function vC(e,t,s){const o=t.matched.length-1,i=s.matched.length-1;return o>-1&&o===i&&pa(t.matched[o],s.matched[i])&&By(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function pa(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function By(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!yC(e[s],t[s]))return!1;return!0}function yC(e,t){return Zi(e)?Um(e,t):Zi(t)?Um(t,e):e===t}function Um(e,t){return Zi(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function bC(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),i=o[o.length-1];(i===".."||i===".")&&o.push("");let u=s.length-1,f,h;for(f=0;f<o.length;f++)if(h=o[f],h!==".")if(h==="..")u>1&&u--;else break;return s.slice(0,u).join("/")+"/"+o.slice(f).join("/")}const os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $u;(function(e){e.pop="pop",e.push="push"})($u||($u={}));var ku;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ku||(ku={}));function wC(e){if(!e)if(Wo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),gC(e)}const kC=/^[^#]+#/;function LC(e,t){return e.replace(kC,"#")+t}function EC(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const td=()=>({left:window.scrollX,top:window.scrollY});function TC(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=EC(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Gm(e,t){return(history.state?history.state.position-t:-1)+e}const Pf=new Map;function xC(e,t){Pf.set(e,t)}function SC(e){const t=Pf.get(e);return Pf.delete(e),t}let CC=()=>location.protocol+"//"+location.host;function Fy(e,t){const{pathname:s,search:o,hash:i}=t,u=e.indexOf("#");if(u>-1){let h=i.includes(e.slice(u))?e.slice(u).length:1,m=i.slice(h);return m[0]!=="/"&&(m="/"+m),$m(m,"")}return $m(s,e)+o+i}function PC(e,t,s,o){let i=[],u=[],f=null;const h=({state:x})=>{const P=Fy(e,location),O=s.value,B=t.value;let q=0;if(x){if(s.value=P,t.value=x,f&&f===O){f=null;return}q=B?x.position-B.position:0}else o(P);i.forEach(A=>{A(s.value,O,{delta:q,type:$u.pop,direction:q?q>0?ku.forward:ku.back:ku.unknown})})};function m(){f=s.value}function y(x){i.push(x);const P=()=>{const O=i.indexOf(x);O>-1&&i.splice(O,1)};return u.push(P),P}function v(){const{history:x}=window;x.state&&x.replaceState(Ct({},x.state,{scroll:td()}),"")}function w(){for(const x of u)x();u=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:m,listen:y,destroy:w}}function Hm(e,t,s,o=!1,i=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:i?td():null}}function IC(e){const{history:t,location:s}=window,o={value:Fy(e,s)},i={value:t.state};i.value||u(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(m,y,v){const w=e.indexOf("#"),x=w>-1?(s.host&&document.querySelector("base")?e:e.slice(w))+m:CC()+e+m;try{t[v?"replaceState":"pushState"](y,"",x),i.value=y}catch(P){console.error(P),s[v?"replace":"assign"](x)}}function f(m,y){const v=Ct({},t.state,Hm(i.value.back,m,i.value.forward,!0),y,{position:i.value.position});u(m,v,!0),o.value=m}function h(m,y){const v=Ct({},i.value,t.state,{forward:m,scroll:td()});u(v.current,v,!0);const w=Ct({},Hm(o.value,m,null),{position:v.position+1},y);u(m,w,!1),o.value=m}return{location:o,state:i,push:h,replace:f}}function NC(e){e=wC(e);const t=IC(e),s=PC(e,t.state,t.location,t.replace);function o(u,f=!0){f||s.pauseListeners(),history.go(u)}const i=Ct({location:"",base:e,go:o,createHref:LC.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function MC(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),NC(e)}function OC(e){return typeof e=="string"||e&&typeof e=="object"}function zy(e){return typeof e=="string"||typeof e=="symbol"}const $y=Symbol("");var Vm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Vm||(Vm={}));function ma(e,t){return Ct(new Error,{type:e,[$y]:!0},t)}function Nr(e,t){return e instanceof Error&&$y in e&&(t==null||!!(e.type&t))}const qm="[^/]+?",AC={sensitive:!1,strict:!1,start:!0,end:!0},RC=/[.+*?^${}()[\]/\\]/g;function DC(e,t){const s=Ct({},AC,t),o=[];let i=s.start?"^":"";const u=[];for(const y of e){const v=y.length?[]:[90];s.strict&&!y.length&&(i+="/");for(let w=0;w<y.length;w++){const x=y[w];let P=40+(s.sensitive?.25:0);if(x.type===0)w||(i+="/"),i+=x.value.replace(RC,"\\$&"),P+=40;else if(x.type===1){const{value:O,repeatable:B,optional:q,regexp:A}=x;u.push({name:O,repeatable:B,optional:q});const z=A||qm;if(z!==qm){P+=10;try{new RegExp(`(${z})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${O}" (${z}): `+_.message)}}let H=B?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;w||(H=q&&y.length<2?`(?:/${H})`:"/"+H),q&&(H+="?"),i+=H,P+=20,q&&(P+=-8),B&&(P+=-20),z===".*"&&(P+=-50)}v.push(P)}o.push(v)}if(s.strict&&s.end){const y=o.length-1;o[y][o[y].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const f=new RegExp(i,s.sensitive?"":"i");function h(y){const v=y.match(f),w={};if(!v)return null;for(let x=1;x<v.length;x++){const P=v[x]||"",O=u[x-1];w[O.name]=P&&O.repeatable?P.split("/"):P}return w}function m(y){let v="",w=!1;for(const x of e){(!w||!v.endsWith("/"))&&(v+="/"),w=!1;for(const P of x)if(P.type===0)v+=P.value;else if(P.type===1){const{value:O,repeatable:B,optional:q}=P,A=O in y?y[O]:"";if(Zi(A)&&!B)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const z=Zi(A)?A.join("/"):A;if(!z)if(q)x.length<2&&(v.endsWith("/")?v=v.slice(0,-1):w=!0);else throw new Error(`Missing required param "${O}"`);v+=z}}return v||"/"}return{re:f,score:o,keys:u,parse:h,stringify:m}}function BC(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Uy(e,t){let s=0;const o=e.score,i=t.score;for(;s<o.length&&s<i.length;){const u=BC(o[s],i[s]);if(u)return u;s++}if(Math.abs(i.length-o.length)===1){if(jm(o))return 1;if(jm(i))return-1}return i.length-o.length}function jm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const FC={type:0,value:""},zC=/[a-zA-Z0-9_]/;function $C(e){if(!e)return[[]];if(e==="/")return[[FC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(P){throw new Error(`ERR (${s})/"${y}": ${P}`)}let s=0,o=s;const i=[];let u;function f(){u&&i.push(u),u=[]}let h=0,m,y="",v="";function w(){y&&(s===0?u.push({type:0,value:y}):s===1||s===2||s===3?(u.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:y,regexp:v,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),y="")}function x(){y+=m}for(;h<e.length;){if(m=e[h++],m==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:m==="/"?(y&&w(),f()):m===":"?(w(),s=1):x();break;case 4:x(),s=o;break;case 1:m==="("?s=2:zC.test(m)?x():(w(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&h--);break;case 2:m===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+m:s=3:v+=m;break;case 3:w(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&h--,v="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${y}"`),w(),f(),i}function UC(e,t,s){const o=DC($C(e.path),s),i=Ct(o,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function GC(e,t){const s=[],o=new Map;t=Xm({strict:!1,end:!0,sensitive:!1},t);function i(w){return o.get(w)}function u(w,x,P){const O=!P,B=Zm(w);B.aliasOf=P&&P.record;const q=Xm(t,w),A=[B];if("alias"in w){const _=typeof w.alias=="string"?[w.alias]:w.alias;for(const T of _)A.push(Zm(Ct({},B,{components:P?P.record.components:B.components,path:T,aliasOf:P?P.record:B})))}let z,H;for(const _ of A){const{path:T}=_;if(x&&T[0]!=="/"){const E=x.record.path,C=E[E.length-1]==="/"?"":"/";_.path=x.record.path+(T&&C+T)}if(z=UC(_,x,q),P?P.alias.push(z):(H=H||z,H!==z&&H.alias.push(z),O&&w.name&&!Ym(z)&&f(w.name)),Gy(z)&&m(z),B.children){const E=B.children;for(let C=0;C<E.length;C++)u(E[C],z,P&&P.children[C])}P=P||z}return H?()=>{f(H)}:wu}function f(w){if(zy(w)){const x=o.get(w);x&&(o.delete(w),s.splice(s.indexOf(x),1),x.children.forEach(f),x.alias.forEach(f))}else{const x=s.indexOf(w);x>-1&&(s.splice(x,1),w.record.name&&o.delete(w.record.name),w.children.forEach(f),w.alias.forEach(f))}}function h(){return s}function m(w){const x=qC(w,s);s.splice(x,0,w),w.record.name&&!Ym(w)&&o.set(w.record.name,w)}function y(w,x){let P,O={},B,q;if("name"in w&&w.name){if(P=o.get(w.name),!P)throw ma(1,{location:w});q=P.record.name,O=Ct(Wm(x.params,P.keys.filter(H=>!H.optional).concat(P.parent?P.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),w.params&&Wm(w.params,P.keys.map(H=>H.name))),B=P.stringify(O)}else if(w.path!=null)B=w.path,P=s.find(H=>H.re.test(B)),P&&(O=P.parse(B),q=P.record.name);else{if(P=x.name?o.get(x.name):s.find(H=>H.re.test(x.path)),!P)throw ma(1,{location:w,currentLocation:x});q=P.record.name,O=Ct({},x.params,w.params),B=P.stringify(O)}const A=[];let z=P;for(;z;)A.unshift(z.record),z=z.parent;return{name:q,path:B,params:O,matched:A,meta:VC(A)}}e.forEach(w=>u(w));function v(){s.length=0,o.clear()}return{addRoute:u,resolve:y,removeRoute:f,clearRoutes:v,getRoutes:h,getRecordMatcher:i}}function Wm(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function Zm(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:HC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function HC(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function Ym(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function VC(e){return e.reduce((t,s)=>Ct(t,s.meta),{})}function Xm(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}function qC(e,t){let s=0,o=t.length;for(;s!==o;){const u=s+o>>1;Uy(e,t[u])<0?o=u:s=u+1}const i=jC(e);return i&&(o=t.lastIndexOf(i,o-1)),o}function jC(e){let t=e;for(;t=t.parent;)if(Gy(t)&&Uy(e,t)===0)return t}function Gy({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function WC(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<o.length;++i){const u=o[i].replace(Oy," "),f=u.indexOf("="),h=zu(f<0?u:u.slice(0,f)),m=f<0?null:zu(u.slice(f+1));if(h in t){let y=t[h];Zi(y)||(y=t[h]=[y]),y.push(m)}else t[h]=m}return t}function Km(e){let t="";for(let s in e){const o=e[s];if(s=fC(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(Zi(o)?o.map(u=>u&&Cf(u)):[o&&Cf(o)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+s,u!=null&&(t+="="+u))})}return t}function ZC(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=Zi(o)?o.map(i=>i==null?null:""+i):o==null?o:""+o)}return t}const YC=Symbol(""),Jm=Symbol(""),nd=Symbol(""),xh=Symbol(""),If=Symbol("");function iu(){let e=[];function t(o){return e.push(o),()=>{const i=e.indexOf(o);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function hs(e,t,s,o,i,u=f=>f()){const f=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise((h,m)=>{const y=x=>{x===!1?m(ma(4,{from:s,to:t})):x instanceof Error?m(x):OC(x)?m(ma(2,{from:t,to:x})):(f&&o.enterCallbacks[i]===f&&typeof x=="function"&&f.push(x),h())},v=u(()=>e.call(o&&o.instances[i],t,s,y));let w=Promise.resolve(v);e.length<3&&(w=w.then(y)),w.catch(x=>m(x))})}function Vd(e,t,s,o,i=u=>u()){const u=[];for(const f of e)for(const h in f.components){let m=f.components[h];if(!(t!=="beforeRouteEnter"&&!f.instances[h]))if(Ny(m)){const v=(m.__vccOpts||m)[t];v&&u.push(hs(v,s,o,f,h,i))}else{let y=m();u.push(()=>y.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${h}" at "${f.path}"`);const w=tC(v)?v.default:v;f.mods[h]=v,f.components[h]=w;const P=(w.__vccOpts||w)[t];return P&&hs(P,s,o,f,h,i)()}))}}return u}function Qm(e){const t=tn(nd),s=tn(xh),o=de(()=>{const m=W(e.to);return t.resolve(m)}),i=de(()=>{const{matched:m}=o.value,{length:y}=m,v=m[y-1],w=s.matched;if(!v||!w.length)return-1;const x=w.findIndex(pa.bind(null,v));if(x>-1)return x;const P=eg(m[y-2]);return y>1&&eg(v)===P&&w[w.length-1].path!==P?w.findIndex(pa.bind(null,m[y-2])):x}),u=de(()=>i.value>-1&&eP(s.params,o.value.params)),f=de(()=>i.value>-1&&i.value===s.matched.length-1&&By(s.params,o.value.params));function h(m={}){if(QC(m)){const y=t[W(e.replace)?"replace":"push"](W(e.to)).catch(wu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>y),y}return Promise.resolve()}return{route:o,href:de(()=>o.value.href),isActive:u,isExactActive:f,navigate:h}}function XC(e){return e.length===1?e[0]:e}const KC=Et({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qm,setup(e,{slots:t}){const s=ni(Qm(e)),{options:o}=tn(nd),i=de(()=>({[tg(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[tg(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const u=t.default&&XC(t.default(s));return e.custom?u:di("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},u)}}}),JC=KC;function QC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function eP(e,t){for(const s in t){const o=t[s],i=e[s];if(typeof o=="string"){if(o!==i)return!1}else if(!Zi(i)||i.length!==o.length||o.some((u,f)=>u!==i[f]))return!1}return!0}function eg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tg=(e,t,s)=>e??t??s,tP=Et({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=tn(If),i=de(()=>e.route||o.value),u=tn(Jm,0),f=de(()=>{let y=W(u);const{matched:v}=i.value;let w;for(;(w=v[y])&&!w.components;)y++;return y}),h=de(()=>i.value.matched[f.value]);ms(Jm,de(()=>f.value+1)),ms(YC,h),ms(If,i);const m=ze();return tt(()=>[m.value,h.value,e.name],([y,v,w],[x,P,O])=>{v&&(v.instances[w]=y,P&&P!==v&&y&&y===x&&(v.leaveGuards.size||(v.leaveGuards=P.leaveGuards),v.updateGuards.size||(v.updateGuards=P.updateGuards))),y&&v&&(!P||!pa(v,P)||!x)&&(v.enterCallbacks[w]||[]).forEach(B=>B(y))},{flush:"post"}),()=>{const y=i.value,v=e.name,w=h.value,x=w&&w.components[v];if(!x)return ng(s.default,{Component:x,route:y});const P=w.props[v],O=P?P===!0?y.params:typeof P=="function"?P(y):P:null,q=di(x,Ct({},O,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(w.instances[v]=null)},ref:m}));return ng(s.default,{Component:q,route:y})||q}}});function ng(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const nP=tP;function iP(e){const t=GC(e.routes,e),s=e.parseQuery||WC,o=e.stringifyQuery||Km,i=e.history,u=iu(),f=iu(),h=iu(),m=Mn(os);let y=os;Wo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=Gd.bind(null,ce=>""+ce),w=Gd.bind(null,pC),x=Gd.bind(null,zu);function P(ce,Y){let xe,Ne;return zy(ce)?(xe=t.getRecordMatcher(ce),Ne=Y):Ne=ce,t.addRoute(Ne,xe)}function O(ce){const Y=t.getRecordMatcher(ce);Y&&t.removeRoute(Y)}function B(){return t.getRoutes().map(ce=>ce.record)}function q(ce){return!!t.getRecordMatcher(ce)}function A(ce,Y){if(Y=Ct({},Y||m.value),typeof ce=="string"){const se=Hd(s,ce,Y.path),ge=t.resolve({path:se.path},Y),ke=i.createHref(se.fullPath);return Ct(se,ge,{params:x(ge.params),hash:zu(se.hash),redirectedFrom:void 0,href:ke})}let xe;if(ce.path!=null)xe=Ct({},ce,{path:Hd(s,ce.path,Y.path).path});else{const se=Ct({},ce.params);for(const ge in se)se[ge]==null&&delete se[ge];xe=Ct({},ce,{params:w(se)}),Y.params=w(Y.params)}const Ne=t.resolve(xe,Y),Me=ce.hash||"";Ne.params=v(x(Ne.params));const N=_C(o,Ct({},ce,{hash:dC(Me),path:Ne.path})),Q=i.createHref(N);return Ct({fullPath:N,hash:Me,query:o===Km?ZC(ce.query):ce.query||{}},Ne,{redirectedFrom:void 0,href:Q})}function z(ce){return typeof ce=="string"?Hd(s,ce,m.value.path):Ct({},ce)}function H(ce,Y){if(y!==ce)return ma(8,{from:Y,to:ce})}function _(ce){return C(ce)}function T(ce){return _(Ct(z(ce),{replace:!0}))}function E(ce){const Y=ce.matched[ce.matched.length-1];if(Y&&Y.redirect){const{redirect:xe}=Y;let Ne=typeof xe=="function"?xe(ce):xe;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=z(Ne):{path:Ne},Ne.params={}),Ct({query:ce.query,hash:ce.hash,params:Ne.path!=null?{}:ce.params},Ne)}}function C(ce,Y){const xe=y=A(ce),Ne=m.value,Me=ce.state,N=ce.force,Q=ce.replace===!0,se=E(xe);if(se)return C(Ct(z(se),{state:typeof se=="object"?Ct({},Me,se.state):Me,force:N,replace:Q}),Y||xe);const ge=xe;ge.redirectedFrom=Y;let ke;return!N&&vC(o,Ne,xe)&&(ke=ma(16,{to:ge,from:Ne}),we(Ne,Ne,!0,!1)),(ke?Promise.resolve(ke):R(ge,Ne)).catch(be=>Nr(be)?Nr(be,2)?be:le(be):oe(be,ge,Ne)).then(be=>{if(be){if(Nr(be,2))return C(Ct({replace:Q},z(be.to),{state:typeof be.to=="object"?Ct({},Me,be.to.state):Me,force:N}),Y||ge)}else be=ee(ge,Ne,!0,Q,Me);return X(ge,Ne,be),be})}function F(ce,Y){const xe=H(ce,Y);return xe?Promise.reject(xe):Promise.resolve()}function D(ce){const Y=Pe.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(ce):ce()}function R(ce,Y){let xe;const[Ne,Me,N]=rP(ce,Y);xe=Vd(Ne.reverse(),"beforeRouteLeave",ce,Y);for(const se of Ne)se.leaveGuards.forEach(ge=>{xe.push(hs(ge,ce,Y))});const Q=F.bind(null,ce,Y);return xe.push(Q),Te(xe).then(()=>{xe=[];for(const se of u.list())xe.push(hs(se,ce,Y));return xe.push(Q),Te(xe)}).then(()=>{xe=Vd(Me,"beforeRouteUpdate",ce,Y);for(const se of Me)se.updateGuards.forEach(ge=>{xe.push(hs(ge,ce,Y))});return xe.push(Q),Te(xe)}).then(()=>{xe=[];for(const se of N)if(se.beforeEnter)if(Zi(se.beforeEnter))for(const ge of se.beforeEnter)xe.push(hs(ge,ce,Y));else xe.push(hs(se.beforeEnter,ce,Y));return xe.push(Q),Te(xe)}).then(()=>(ce.matched.forEach(se=>se.enterCallbacks={}),xe=Vd(N,"beforeRouteEnter",ce,Y,D),xe.push(Q),Te(xe))).then(()=>{xe=[];for(const se of f.list())xe.push(hs(se,ce,Y));return xe.push(Q),Te(xe)}).catch(se=>Nr(se,8)?se:Promise.reject(se))}function X(ce,Y,xe){h.list().forEach(Ne=>D(()=>Ne(ce,Y,xe)))}function ee(ce,Y,xe,Ne,Me){const N=H(ce,Y);if(N)return N;const Q=Y===os,se=Wo?history.state:{};xe&&(Ne||Q?i.replace(ce.fullPath,Ct({scroll:Q&&se&&se.scroll},Me)):i.push(ce.fullPath,Me)),m.value=ce,we(ce,Y,xe,Q),le()}let K;function j(){K||(K=i.listen((ce,Y,xe)=>{if(!Le.listening)return;const Ne=A(ce),Me=E(Ne);if(Me){C(Ct(Me,{replace:!0,force:!0}),Ne).catch(wu);return}y=Ne;const N=m.value;Wo&&xC(Gm(N.fullPath,xe.delta),td()),R(Ne,N).catch(Q=>Nr(Q,12)?Q:Nr(Q,2)?(C(Ct(z(Q.to),{force:!0}),Ne).then(se=>{Nr(se,20)&&!xe.delta&&xe.type===$u.pop&&i.go(-1,!1)}).catch(wu),Promise.reject()):(xe.delta&&i.go(-xe.delta,!1),oe(Q,Ne,N))).then(Q=>{Q=Q||ee(Ne,N,!1),Q&&(xe.delta&&!Nr(Q,8)?i.go(-xe.delta,!1):xe.type===$u.pop&&Nr(Q,20)&&i.go(-1,!1)),X(Ne,N,Q)}).catch(wu)}))}let ie=iu(),V=iu(),re;function oe(ce,Y,xe){le(ce);const Ne=V.list();return Ne.length?Ne.forEach(Me=>Me(ce,Y,xe)):console.error(ce),Promise.reject(ce)}function _e(){return re&&m.value!==os?Promise.resolve():new Promise((ce,Y)=>{ie.add([ce,Y])})}function le(ce){return re||(re=!ce,j(),ie.list().forEach(([Y,xe])=>ce?xe(ce):Y()),ie.reset()),ce}function we(ce,Y,xe,Ne){const{scrollBehavior:Me}=e;if(!Wo||!Me)return Promise.resolve();const N=!xe&&SC(Gm(ce.fullPath,0))||(Ne||!xe)&&history.state&&history.state.scroll||null;return qn().then(()=>Me(ce,Y,N)).then(Q=>Q&&TC(Q)).catch(Q=>oe(Q,ce,Y))}const Re=ce=>i.go(ce);let Oe;const Pe=new Set,Le={currentRoute:m,listening:!0,addRoute:P,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:q,getRoutes:B,resolve:A,options:e,push:_,replace:T,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:u.add,beforeResolve:f.add,afterEach:h.add,onError:V.add,isReady:_e,install(ce){const Y=this;ce.component("RouterLink",JC),ce.component("RouterView",nP),ce.config.globalProperties.$router=Y,Object.defineProperty(ce.config.globalProperties,"$route",{enumerable:!0,get:()=>W(m)}),Wo&&!Oe&&m.value===os&&(Oe=!0,_(i.location).catch(Me=>{}));const xe={};for(const Me in os)Object.defineProperty(xe,Me,{get:()=>m.value[Me],enumerable:!0});ce.provide(nd,Y),ce.provide(xh,t_(xe)),ce.provide(If,m);const Ne=ce.unmount;Pe.add(ce),ce.unmount=function(){Pe.delete(ce),Pe.size<1&&(y=os,K&&K(),K=null,m.value=os,Oe=!1,re=!1),Ne()}}};function Te(ce){return ce.reduce((Y,xe)=>Y.then(()=>D(xe)),Promise.resolve())}return Le}function rP(e,t){const s=[],o=[],i=[],u=Math.max(t.matched.length,e.matched.length);for(let f=0;f<u;f++){const h=t.matched[f];h&&(e.matched.find(y=>pa(y,h))?o.push(h):s.push(h));const m=e.matched[f];m&&(t.matched.find(y=>pa(y,m))||i.push(m))}return[s,o,i]}function Hy(){return tn(nd)}function jl(e){return tn(xh)}function Sh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ru={exports:{}},ig;function sP(){if(ig)return ru.exports;ig=1,ru.exports=s,ru.exports.parse=s,ru.exports.stringify=o;var e=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,t=new RegExp("^"+e.source+"(\\s"+e.source+"){1,}");function s(i){var u=i.split(";"),f=u.pop(),h=(u.shift()||"").split("=").pop(),m=0;function y(E){var C=f.substring(m).match(E);return C?(m+=C[0].length,C[0]):null}function v(E){return E&&h.match(/\d+/)&&(E.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+h}}),E}function w(){y(/^\s*/)}function x(){w();for(var E=0,C=[],F=[C],D=C,R;R=y(/^(\()/)||y(/^(\))/)||y(/^(,)/)||y(t);){if(R==="(")F.push(D),D=[],F[F.length-1].push(D),E++;else if(R===")"){if(D.length===0||(D=F.pop(),!D))return null;if(E--,E===0)break}else if(R===",")D=[],F[F.length-1].push(D);else if(!R.split(/\s/g).some(isNaN))Array.prototype.push.apply(D,R.split(/\s/g).map(parseFloat));else return null;w()}return E!==0?null:C}function P(){for(var E=[],C,F;F=y(t)||y(/^(,)/);)F===","?(E.push(C),C=[]):F.split(/\s/g).some(isNaN)||(C||(C=[]),Array.prototype.push.apply(C,F.split(/\s/g).map(parseFloat))),w();if(C)E.push(C);else return null;return E.length?E:null}function O(){if(!y(/^(point(\sz)?)/i)||(w(),!y(/^(\()/)))return null;var E=P();return!E||(w(),!y(/^(\))/))?null:{type:"Point",coordinates:E[0]}}function B(){if(!y(/^(multipoint)/i))return null;w();var E=f.substring(f.indexOf("(")+1,f.length-1).replace(/\(/g,"").replace(/\)/g,"");f="MULTIPOINT ("+E+")";var C=x();return C?(w(),{type:"MultiPoint",coordinates:C}):null}function q(){if(!y(/^(multilinestring)/i))return null;w();var E=x();return E?(w(),{type:"MultiLineString",coordinates:E}):null}function A(){if(!y(/^(linestring(\sz)?)/i)||(w(),!y(/^(\()/)))return null;var E=P();return!E||!y(/^(\))/)?null:{type:"LineString",coordinates:E}}function z(){if(!y(/^(polygon(\sz)?)/i))return null;w();var E=x();return E?{type:"Polygon",coordinates:E}:null}function H(){if(!y(/^(multipolygon)/i))return null;w();var E=x();return E?{type:"MultiPolygon",coordinates:E}:null}function _(){var E=[],C;if(!y(/^(geometrycollection)/i)||(w(),!y(/^(\()/)))return null;for(;C=T();)E.push(C),w(),y(/^(,)/),w();return y(/^(\))/)?{type:"GeometryCollection",geometries:E}:null}function T(){return O()||A()||z()||B()||q()||H()||_()}return v(T())}function o(i){i.type==="Feature"&&(i=i.geometry);function u(v){return v.join(" ")}function f(v){return v.map(u).join(", ")}function h(v){return v.map(f).map(y).join(", ")}function m(v){return v.map(h).map(y).join(", ")}function y(v){return"("+v+")"}switch(i.type){case"Point":return"POINT ("+u(i.coordinates)+")";case"LineString":return"LINESTRING ("+f(i.coordinates)+")";case"Polygon":return"POLYGON ("+h(i.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+f(i.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+m(i.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+h(i.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+i.geometries.map(o).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return ru.exports}var gs=sP(),Qn=63710088e-1,Vy={centimeters:Qn*100,centimetres:Qn*100,degrees:360/(2*Math.PI),feet:Qn*3.28084,inches:Qn*39.37,kilometers:Qn/1e3,kilometres:Qn/1e3,meters:Qn,metres:Qn,miles:Qn/1609.344,millimeters:Qn*1e3,millimetres:Qn*1e3,nauticalmiles:Qn/1852,radians:1,yards:Qn*1.0936};function qy(e,t,s={}){const o={type:"Feature"};return(s.id===0||s.id)&&(o.id=s.id),s.bbox&&(o.bbox=s.bbox),o.properties=t||{},o.geometry=e,o}function oP(e,t,s={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!rg(e[0])||!rg(e[1]))throw new Error("coordinates must contain numbers");return qy({type:"Point",coordinates:e},t,s)}function wc(e,t={}){const s={type:"FeatureCollection"};return t.id&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.features=e,s}function aP(e,t="kilometers"){const s=Vy[t];if(!s)throw new Error(t+" units is invalid");return e*s}function uP(e,t="kilometers"){const s=Vy[t];if(!s)throw new Error(t+" units is invalid");return e/s}function rg(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function lP(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ou(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function jy(e,t,s){if(e!==null)for(var o,i,u,f,h,m,y,v=0,w=0,x,P=e.type,O=P==="FeatureCollection",B=P==="Feature",q=O?e.features.length:1,A=0;A<q;A++){y=O?e.features[A].geometry:B?e.geometry:e,x=y?y.type==="GeometryCollection":!1,h=x?y.geometries.length:1;for(var z=0;z<h;z++){var H=0,_=0;if(f=x?y.geometries[z]:y,f!==null){m=f.coordinates;var T=f.type;switch(v=0,T){case null:break;case"Point":if(t(m,w,A,H,_)===!1)return!1;w++,H++;break;case"LineString":case"MultiPoint":for(o=0;o<m.length;o++){if(t(m[o],w,A,H,_)===!1)return!1;w++,T==="MultiPoint"&&H++}T==="LineString"&&H++;break;case"Polygon":case"MultiLineString":for(o=0;o<m.length;o++){for(i=0;i<m[o].length-v;i++){if(t(m[o][i],w,A,H,_)===!1)return!1;w++}T==="MultiLineString"&&H++,T==="Polygon"&&_++}T==="Polygon"&&H++;break;case"MultiPolygon":for(o=0;o<m.length;o++){for(_=0,i=0;i<m[o].length;i++){for(u=0;u<m[o][i].length-v;u++){if(t(m[o][i][u],w,A,H,_)===!1)return!1;w++}_++}H++}break;case"GeometryCollection":for(o=0;o<f.geometries.length;o++)if(jy(f.geometries[o],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function kc(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&t(e.features[s],s)!==!1;s++);}function id(e,t){var s,o,i,u,f,h,m,y,v,w,x=0,P=e.type==="FeatureCollection",O=e.type==="Feature",B=P?e.features.length:1;for(s=0;s<B;s++){for(h=P?e.features[s].geometry:O?e.geometry:e,y=P?e.features[s].properties:O?e.properties:{},v=P?e.features[s].bbox:O?e.bbox:void 0,w=P?e.features[s].id:O?e.id:void 0,m=h?h.type==="GeometryCollection":!1,f=m?h.geometries.length:1,i=0;i<f;i++){if(u=m?h.geometries[i]:h,u===null){if(t(null,x,y,v,w)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(u,x,y,v,w)===!1)return!1;break}case"GeometryCollection":{for(o=0;o<u.geometries.length;o++)if(t(u.geometries[o],x,y,v,w)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}x++}}function cP(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const s=[1/0,1/0,-1/0,-1/0];return jy(e,o=>{s[0]>o[0]&&(s[0]=o[0]),s[1]>o[1]&&(s[1]=o[1]),s[2]<o[0]&&(s[2]=o[0]),s[3]<o[1]&&(s[3]=o[1])}),s}function Lc(e){const t=ou(e);let s=0,o=1,i,u;for(;o<t.length;)i=u||t[0],u=t[o],s+=(u[0]-i[0])*(u[1]+i[1]),o++;return s>0}function dP(e,t={}){const s=cP(e),o=(s[0]+s[2])/2,i=(s[1]+s[3])/2;return oP([o,i],t.properties,t)}var Wl={exports:{}},fP=Wl.exports,sg;function hP(){return sg||(sg=1,function(e,t){(function(s,o){e.exports=o()})(fP,function(){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var r=0,l=Array(n);r<n;r++)l[r]=c[r];return l}function o(c,n,r){return n=v(n),function(l,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(l)}(c,x()?Reflect.construct(n,r||[],v(c).constructor):n.apply(c,r))}function i(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function u(c,n,r){if(x())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,n);var p=new(c.bind.apply(c,l));return r&&P(p,r.prototype),p}function f(c,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,q(l.key),l)}}function h(c,n,r){return n&&f(c.prototype,n),r&&f(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c,n){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=A(c))||n){r&&(c=r);var l=0,p=function(){};return{s:p,n:function(){return l>=c.length?{done:!0}:{done:!1,value:c[l++]}},e:function(U){throw U},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,S=!0,M=!1;return{s:function(){r=r.call(c)},n:function(){var U=r.next();return S=U.done,U},e:function(U){M=!0,b=U},f:function(){try{S||r.return==null||r.return()}finally{if(M)throw b}}}}function y(){return y=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,n,r){var l=function(b,S){for(;!{}.hasOwnProperty.call(b,S)&&(b=v(b))!==null;);return b}(c,n);if(l){var p=Object.getOwnPropertyDescriptor(l,n);return p.get?p.get.call(arguments.length<3?c:r):p.value}},y.apply(null,arguments)}function v(c){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v(c)}function w(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),n&&P(c,n)}function x(){try{var c=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!c})()}function P(c,n){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,l){return r.__proto__=l,r},P(c,n)}function O(c,n,r,l){var p=y(v(1&l?c.prototype:c),n,r);return 2&l&&typeof p=="function"?function(b){return p.apply(r,b)}:p}function B(c){return function(n){if(Array.isArray(n))return s(n)}(c)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(c)||A(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(c){var n=function(r,l){if(typeof r!="object"||!r)return r;var p=r[Symbol.toPrimitive];if(p!==void 0){var b=p.call(r,l);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(c,"string");return typeof n=="symbol"?n:n+""}function A(c,n){if(c){if(typeof c=="string")return s(c,n);var r={}.toString.call(c).slice(8,-1);return r==="Object"&&c.constructor&&(r=c.constructor.name),r==="Map"||r==="Set"?Array.from(c):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(c,n):void 0}}function z(c){var n=typeof Map=="function"?new Map:void 0;return z=function(r){if(r===null||!function(p){try{return Function.toString.call(p).indexOf("[native code]")!==-1}catch{return typeof p=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,l)}function l(){return u(r,arguments,v(this).constructor)}return l.prototype=Object.create(r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),P(l,r)},z(c)}var H=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(n){this._quadrantSegments=n,this._quadrantSegments===0&&(this._joinStyle=c.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=c.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),n<=0&&(this._quadrantSegments=1),this._joinStyle!==c.JOIN_ROUND&&(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(n){this._joinStyle=n}},{key:"setSimplifyFactor",value:function(n){this._simplifyFactor=n<0?0:n}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(n){this._endCapStyle=n}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(n){this._mitreLimit=n}},{key:"setSingleSided",value:function(n){this._isSingleSided=n}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=c.CAP_ROUND,this._joinStyle=c.JOIN_ROUND,this._mitreLimit=c.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=c.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.setQuadrantSegments(r),this.setEndCapStyle(l)}else if(arguments.length===4){var p=arguments[0],b=arguments[1],S=arguments[2],M=arguments[3];this.setQuadrantSegments(p),this.setEndCapStyle(b),this.setJoinStyle(S),this.setMitreLimit(M)}}}},{key:"bufferDistanceError",value:function(n){var r=Math.PI/2/n;return 1-Math.cos(r/2)}}])}();H.CAP_ROUND=1,H.CAP_FLAT=2,H.CAP_SQUARE=3,H.JOIN_ROUND=1,H.JOIN_MITRE=2,H.JOIN_BEVEL=3,H.DEFAULT_QUADRANT_SEGMENTS=8,H.DEFAULT_MITRE_LIMIT=5,H.DEFAULT_SIMPLIFY_FACTOR=.01;var _=function(c){function n(r){var l;return i(this,n),(l=o(this,n,[r])).name=Object.keys({Exception:n})[0],l}return w(n,c),h(n,[{key:"toString",value:function(){return this.message}}])}(z(Error)),T=function(c){function n(r){var l;return i(this,n),(l=o(this,n,[r])).name=Object.keys({IllegalArgumentException:n})[0],l}return w(n,c),h(n)}(_),E=function(){return h(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}();function C(){}function F(){}function D(){}var R,X,ee,K,j,ie,V,re,oe=function(){return h(function c(){i(this,c)},null,[{key:"equalsWithTolerance",value:function(c,n,r){return Math.abs(c-n)<=r}}])}(),_e=function(){return h(function c(n,r){i(this,c),this.low=r||0,this.high=n||0},null,[{key:"toBinaryString",value:function(c){var n,r="";for(n=2147483648;n>0;n>>>=1)r+=(c.high&n)===n?"1":"0";for(n=2147483648;n>0;n>>>=1)r+=(c.low&n)===n?"1":"0";return r}}])}();function le(){}function we(){}le.NaN=NaN,le.isNaN=function(c){return Number.isNaN(c)},le.isInfinite=function(c){return!Number.isFinite(c)},le.MAX_VALUE=Number.MAX_VALUE,le.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,le.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(ie=2146435072,V=new Float64Array(1),re=new Int32Array(V.buffer),le.doubleToLongBits=function(c){V[0]=c;var n=0|re[0],r=0|re[1];return(r&ie)===ie&&1048575&r&&n!==0&&(n=0,r=2146959360),new _e(r,n)},le.longBitsToDouble=function(c){return re[0]=c.low,re[1]=c.high,V[0]}):(R=1023,X=Math.log2,ee=Math.floor,K=Math.pow,j=function(){for(var c=53;c>0;c--){var n=K(2,c)-1;if(ee(X(n))+1===c)return n}return 0}(),le.doubleToLongBits=function(c){var n,r,l,p,b,S,M,U,J;if(c<0||1/c===Number.NEGATIVE_INFINITY?(S=1<<31,c=-c):S=0,c===0)return new _e(U=S,J=0);if(c===1/0)return new _e(U=2146435072|S,J=0);if(c!=c)return new _e(U=2146959360,J=0);if(p=0,J=0,(n=ee(c))>1)if(n<=j)(p=ee(X(n)))<=20?(J=0,U=n<<20-p&1048575):(J=n%(r=K(2,l=p-20))<<32-l,U=n/r&1048575);else for(l=n,J=0;(l=ee(r=l/2))!==0;)p++,J>>>=1,J|=(1&U)<<31,U>>>=1,r!==l&&(U|=524288);if(M=p+R,b=n===0,n=c-n,p<52&&n!==0)for(l=0;;){if((r=2*n)>=1?(n=r-1,b?(M--,b=!1):(l<<=1,l|=1,p++)):(n=r,b?--M==0&&(p++,b=!1):(l<<=1,p++)),p===20)U|=l,l=0;else if(p===52){J|=l;break}if(r===1){p<20?U|=l<<20-p:p<52&&(J|=l<<52-p);break}}return U|=M<<20,new _e(U|=S,J)},le.longBitsToDouble=function(c){var n,r,l,p,b=c.high,S=c.low,M=b&1<<31?-1:1;for(l=((2146435072&b)>>20)-R,p=0,r=1<<19,n=1;n<=20;n++)b&r&&(p+=K(2,-n)),r>>>=1;for(r=1<<31,n=21;n<=52;n++)S&r&&(p+=K(2,-n)),r>>>=1;if(l===-1023){if(p===0)return 0*M;l=-1022}else{if(l===1024)return p===0?M/0:NaN;p+=1}return M*p*K(2,l)});var Re=function(c){function n(r){var l;return i(this,n),(l=o(this,n,[r])).name=Object.keys({RuntimeException:n})[0],l}return w(n,c),h(n)}(_),Oe=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,null,[{key:"constructor_",value:function(){if(arguments.length===0)Re.constructor_.call(this);else if(arguments.length===1){var r=arguments[0];Re.constructor_.call(this,r)}}}])}(Re),Pe=function(){function c(){i(this,c)}return h(c,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)c.shouldNeverReachHere(null);else if(arguments.length===1){var n=arguments[0];throw new Oe("Should never reach here"+(n!==null?": "+n:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var n=arguments[0];c.isTrue(n,null)}else if(arguments.length===2){var r=arguments[1];if(!arguments[0])throw r===null?new Oe:new Oe(r)}}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];c.equals(n,r,null)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2];if(!p.equals(l))throw new Oe("Expected "+l+" but encountered "+p+(b!==null?": "+b:""))}}}])}(),Le=new ArrayBuffer(8),Te=new Float64Array(Le),ce=new Int32Array(Le),Y=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getM",value:function(){return le.NaN}},{key:"setOrdinate",value:function(n,r){switch(n){case c.X:this.x=r;break;case c.Y:this.y=r;break;case c.Z:this.setZ(r);break;default:throw new T("Invalid ordinate index: "+n)}}},{key:"equals2D",value:function(){if(arguments.length===1){var n=arguments[0];return this.x===n.x&&this.y===n.y}if(arguments.length===2){var r=arguments[0],l=arguments[1];return!!oe.equalsWithTolerance(this.x,r.x,l)&&!!oe.equalsWithTolerance(this.y,r.y,l)}}},{key:"setM",value:function(n){throw new T("Invalid ordinate index: "+c.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(n){switch(n){case c.X:return this.x;case c.Y:return this.y;case c.Z:return this.getZ()}throw new T("Invalid ordinate index: "+n)}},{key:"equals3D",value:function(n){return this.x===n.x&&this.y===n.y&&(this.getZ()===n.getZ()||le.isNaN(this.getZ())&&le.isNaN(n.getZ()))}},{key:"equals",value:function(n){return n instanceof c&&this.equals2D(n)}},{key:"equalInZ",value:function(n,r){return oe.equalsWithTolerance(this.getZ(),n.getZ(),r)}},{key:"setX",value:function(n){this.x=n}},{key:"compareTo",value:function(n){var r=n;return this.x<r.x?-1:this.x>r.x?1:this.y<r.y?-1:this.y>r.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(n){this.z=n}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return Pe.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw n}}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(n){var r=this.x-n.x,l=this.y-n.y,p=this.getZ()-n.getZ();return Math.sqrt(r*r+l*l+p*p)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(n){this.y=n}},{key:"distance",value:function(n){var r=this.x-n.x,l=this.y-n.y;return Math.sqrt(r*r+l*l)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*n+c.hashCode(this.x))+c.hashCode(this.y)}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}},{key:"interfaces_",get:function(){return[C,F,D]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)c.constructor_.call(this,0,0);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.x,n.y,n.getZ())}else if(arguments.length===2){var r=arguments[0],l=arguments[1];c.constructor_.call(this,r,l,c.NULL_ORDINATE)}else if(arguments.length===3){var p=arguments[0],b=arguments[1],S=arguments[2];this.x=p,this.y=b,this.z=S}}},{key:"hashCode",value:function(n){return Te[0]=n,ce[0]^ce[1]}}])}(),xe=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compare",value:function(n,r){var l=c.compare(n.x,r.x);if(l!==0)return l;var p=c.compare(n.y,r.y);return p!==0?p:this._dimensionsToTest<=2?0:c.compare(n.getZ(),r.getZ())}},{key:"interfaces_",get:function(){return[we]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)c.constructor_.call(this,2);else if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new T("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}},{key:"compare",value:function(n,r){return n<r?-1:n>r?1:le.isNaN(n)?le.isNaN(r)?0:-1:le.isNaN(r)?1:0}}])}();Y.DimensionalComparator=xe,Y.NULL_ORDINATE=le.NaN,Y.X=0,Y.Y=1,Y.Z=2,Y.M=3;var Ne=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.isNull()?r.isNull():this._maxx===r.getMaxX()&&this._maxy===r.getMaxY()&&this._minx===r.getMinX()&&this._miny===r.getMinY()}},{key:"intersection",value:function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new c;var r=this._minx>n._minx?this._minx:n._minx,l=this._miny>n._miny?this._miny:n._miny;return new c(r,this._maxx<n._maxx?this._maxx:n._maxx,l,this._maxy<n._maxy?this._maxy:n._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof Y){var n=arguments[0];return this.covers(n.x,n.y)}if(arguments[0]instanceof c){var r=arguments[0];return!this.isNull()&&!r.isNull()&&r.getMinX()>=this._minx&&r.getMaxX()<=this._maxx&&r.getMinY()>=this._miny&&r.getMaxY()<=this._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return!this.isNull()&&l>=this._minx&&l<=this._maxx&&p>=this._miny&&p<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return!this.isNull()&&!n.isNull()&&!(n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny)}if(arguments[0]instanceof Y){var r=arguments[0];return this.intersects(r.x,r.y)}}else if(arguments.length===2){if(arguments[0]instanceof Y&&arguments[1]instanceof Y){var l=arguments[0],p=arguments[1];return!this.isNull()&&!((l.x<p.x?l.x:p.x)>this._maxx)&&!((l.x>p.x?l.x:p.x)<this._minx)&&!((l.y<p.y?l.y:p.y)>this._maxy)&&!((l.y>p.y?l.y:p.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var b=arguments[0],S=arguments[1];return!this.isNull()&&!(b>this._maxx||b<this._minx||S>this._maxy||S<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return Math.sqrt(n*n+r*r)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof Y){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];if(r.isNull())return null;this.isNull()?(this._minx=r.getMinX(),this._maxx=r.getMaxX(),this._miny=r.getMinY(),this._maxy=r.getMaxY()):(r._minx<this._minx&&(this._minx=r._minx),r._maxx>this._maxx&&(this._maxx=r._maxx),r._miny<this._miny&&(this._miny=r._miny),r._maxy>this._maxy&&(this._maxy=r._maxy))}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.isNull()?(this._minx=l,this._maxx=l,this._miny=p,this._maxy=p):(l<this._minx&&(this._minx=l),l>this._maxx&&(this._maxx=l),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n<r?n:r}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(n){var r=n;return this.isNull()?r.isNull()?0:-1:r.isNull()?1:this._minx<r._minx?-1:this._minx>r._minx?1:this._miny<r._miny?-1:this._miny>r._miny?1:this._maxx<r._maxx?-1:this._maxx>r._maxx?1:this._maxy<r._maxy?-1:this._maxy>r._maxy?1:0}},{key:"translate",value:function(n,r){if(this.isNull())return null;this.init(this.getMinX()+n,this.getMaxX()+n,this.getMinY()+r,this.getMaxY()+r)}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(n){return!(!this.isNull()&&!n.isNull())||n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n>r?n:r}},{key:"expandBy",value:function(){if(arguments.length===1){var n=arguments[0];this.expandBy(n,n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];if(this.isNull())return null;this._minx-=r,this._maxx+=r,this._miny-=l,this._maxy+=l,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.covers(n)}if(arguments[0]instanceof Y){var r=arguments[0];return this.covers(r)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return this.covers(l,p)}}},{key:"centre",value:function(){return this.isNull()?null:new Y((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Y){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this._minx=r._minx,this._maxx=r._maxx,this._miny=r._miny,this._maxy=r._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var b=arguments[0],S=arguments[1],M=arguments[2],U=arguments[3];b<S?(this._minx=b,this._maxx=S):(this._minx=S,this._maxx=b),M<U?(this._miny=M,this._maxy=U):(this._miny=U,this._maxy=M)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(n){if(this.intersects(n))return 0;var r=0;this._maxx<n._minx?r=n._minx-this._maxx:this._minx>n._maxx&&(r=this._minx-n._maxx);var l=0;return this._maxy<n._miny?l=n._miny-this._maxy:this._miny>n._maxy&&(l=this._miny-n._maxy),r===0?l:l===0?r:Math.sqrt(r*r+l*l)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*(n=37*(n=37*n+Y.hashCode(this._minx))+Y.hashCode(this._maxx))+Y.hashCode(this._miny))+Y.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[C,D]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Y){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var b=arguments[0],S=arguments[1],M=arguments[2],U=arguments[3];this.init(b,S,M,U)}}},{key:"intersects",value:function(){if(arguments.length===3){var n=arguments[0],r=arguments[1],l=arguments[2];return l.x>=(n.x<r.x?n.x:r.x)&&l.x<=(n.x>r.x?n.x:r.x)&&l.y>=(n.y<r.y?n.y:r.y)&&l.y<=(n.y>r.y?n.y:r.y)}if(arguments.length===4){var p=arguments[0],b=arguments[1],S=arguments[2],M=arguments[3],U=Math.min(S.x,M.x),J=Math.max(S.x,M.x),ue=Math.min(p.x,b.x),fe=Math.max(p.x,b.x);return!(ue>J)&&!(fe<U)&&(U=Math.min(S.y,M.y),J=Math.max(S.y,M.y),ue=Math.min(p.y,b.y),fe=Math.max(p.y,b.y),!(ue>J)&&!(fe<U))}}}])}(),Me=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(n){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(n){return this===n||this.equalsExact(n,0)}},{key:"geometryChanged",value:function(){this.apply(c.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(n){return n!==null&&this.norm().equalsExact(n.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var n;if(arguments.length===1){var r=arguments[0];return n=r,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(r)}if(arguments.length===2){var l=arguments[0],p=arguments[1];return n=l,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(l,p)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(n){if(n.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION)throw new T("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(n,r,l){return l===0?n.equals(r):n.distance(r)<=l}},{key:"norm",value:function(){var n=this.copy();return n.normalize(),n}},{key:"reverse",value:function(){var n=this.reverseInternal();return this.envelope!=null&&(n.envelope=this.envelope.copy()),n.setSRID(this.getSRID()),n}},{key:"copy",value:function(){var n=this.copyInternal();return n.envelope=this._envelope==null?null:this._envelope.copy(),n._SRID=this._SRID,n._userData=this._userData,n}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Ne(this._envelope)}},{key:"setSRID",value:function(n){this._SRID=n}},{key:"setUserData",value:function(n){this._userData=n}},{key:"compare",value:function(n,r){for(var l=n.iterator(),p=r.iterator();l.hasNext()&&p.hasNext();){var b=l.next(),S=p.next(),M=b.compareTo(S);if(M!==0)return M}return l.hasNext()?1:p.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(n){return this.getClass()===n.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===c.TYPECODE_MULTIPOINT||this.getTypeCode()===c.TYPECODE_MULTILINESTRING||this.getTypeCode()===c.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[F,C,D]}},{key:"getClass",value:function(){return c}}],[{key:"hasNonEmptyElements",value:function(n){for(var r=0;r<n.length;r++)if(!n[r].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(n){for(var r=0;r<n.length;r++)if(n[r]===null)return!0;return!1}}])}();Me.constructor_=function(c){c&&(this._envelope=null,this._userData=null,this._factory=c,this._SRID=c.getSRID())},Me.TYPECODE_POINT=0,Me.TYPECODE_MULTIPOINT=1,Me.TYPECODE_LINESTRING=2,Me.TYPECODE_LINEARRING=3,Me.TYPECODE_MULTILINESTRING=4,Me.TYPECODE_POLYGON=5,Me.TYPECODE_MULTIPOLYGON=6,Me.TYPECODE_GEOMETRYCOLLECTION=7,Me.TYPENAME_POINT="Point",Me.TYPENAME_MULTIPOINT="MultiPoint",Me.TYPENAME_LINESTRING="LineString",Me.TYPENAME_LINEARRING="LinearRing",Me.TYPENAME_MULTILINESTRING="MultiLineString",Me.TYPENAME_POLYGON="Polygon",Me.TYPENAME_MULTIPOLYGON="MultiPolygon",Me.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Me.geometryChangedFilter={get interfaces_(){return[E]},filter:function(c){c.geometryChangedAction()}};var N=function(){function c(){i(this,c)}return h(c,null,[{key:"toLocationSymbol",value:function(n){switch(n){case c.EXTERIOR:return"e";case c.BOUNDARY:return"b";case c.INTERIOR:return"i";case c.NONE:return"-"}throw new T("Unknown location value: "+n)}}])}();N.INTERIOR=0,N.BOUNDARY=1,N.EXTERIOR=2,N.NONE=-1;var Q=function(){return h(function c(){i(this,c)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),se=function(c){function n(r){var l;return i(this,n),(l=o(this,n,[r])).name=Object.keys({NoSuchElementException:n})[0],l}return w(n,c),h(n)}(_),ge=function(c){function n(r){var l;return i(this,n),(l=o(this,n,[r])).name=Object.keys({UnsupportedOperationException:n})[0],l}return w(n,c),h(n)}(_),ke=function(c){function n(){return i(this,n),o(this,n,arguments)}return w(n,c),h(n,[{key:"contains",value:function(){}}])}(Q),be=function(c){function n(r){var l;return i(this,n),(l=o(this,n)).map=new Map,r instanceof Q&&l.addAll(r),l}return w(n,c),h(n,[{key:"contains",value:function(r){var l=r.hashCode?r.hashCode():r;return!!this.map.has(l)}},{key:"add",value:function(r){var l=r.hashCode?r.hashCode():r;return!this.map.has(l)&&!!this.map.set(l,r)}},{key:"addAll",value:function(r){var l,p=m(r);try{for(p.s();!(l=p.n()).done;){var b=l.value;this.add(b)}}catch(S){p.e(S)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new ge}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Z(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(ke),Z=function(){return h(function c(n){i(this,c),this.iterator=n.values();var r=this.iterator.next(),l=r.done,p=r.value;this.done=l,this.value=p},[{key:"next",value:function(){if(this.done)throw new se;var c=this.value,n=this.iterator.next(),r=n.done,l=n.value;return this.done=r,this.value=l,c}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new ge}}])}(),$=function(){function c(){i(this,c)}return h(c,null,[{key:"opposite",value:function(n){return n===c.LEFT?c.RIGHT:n===c.RIGHT?c.LEFT:n}}])}();$.ON=0,$.LEFT=1,$.RIGHT=2;var ae=function(c){function n(r){var l;return i(this,n),(l=o(this,n,[r])).name=Object.keys({EmptyStackException:n})[0],l}return w(n,c),h(n)}(_),me=function(c){function n(r){var l;return i(this,n),(l=o(this,n,[r])).name=Object.keys({IndexOutOfBoundsException:n})[0],l}return w(n,c),h(n)}(_),Fe=function(c){function n(){return i(this,n),o(this,n,arguments)}return w(n,c),h(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(Q),Se=function(c){function n(){var r;return i(this,n),(r=o(this,n)).array=[],r}return w(n,c),h(n,[{key:"add",value:function(r){return this.array.push(r),!0}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new me;return this.array[r]}},{key:"push",value:function(r){return this.array.push(r),r}},{key:"pop",value:function(){if(this.array.length===0)throw new ae;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new ae;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(r){return this.array.indexOf(r)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(Fe);function ne(c,n){return c.interfaces_&&c.interfaces_.indexOf(n)>-1}var ye=function(){return h(function c(n){i(this,c),this.str=n},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),Ge=function(){function c(n){i(this,c),this.value=n}return h(c,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(n){return this.value<n?-1:this.value>n?1:0}}],[{key:"compare",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"isNan",value:function(n){return Number.isNaN(n)}},{key:"valueOf",value:function(n){return new c(n)}}])}(),Qe=function(){return h(function c(){i(this,c)},null,[{key:"isWhitespace",value:function(c){return c<=32&&c>=0||c===127}},{key:"toUpperCase",value:function(c){return c.toUpperCase()}}])}(),Ae=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"le",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<=n._lo}},{key:"extractSignificantDigits",value:function(n,r){var l=this.abs(),p=c.magnitude(l._hi),b=c.TEN.pow(p);(l=l.divide(b)).gt(c.TEN)?(l=l.divide(c.TEN),p+=1):l.lt(c.ONE)&&(l=l.multiply(c.TEN),p-=1);for(var S=p+1,M=new ye,U=c.MAX_PRINT_DIGITS-1,J=0;J<=U;J++){n&&J===S&&M.append(".");var ue=Math.trunc(l._hi);if(ue<0)break;var fe=!1,Ce=0;ue>9?(fe=!0,Ce="9"):Ce="0"+ue,M.append(Ce),l=l.subtract(c.valueOf(ue)).multiply(c.TEN),fe&&l.selfAdd(c.TEN);var $e=!0,We=c.magnitude(l._hi);if(We<0&&Math.abs(We)>=U-J&&($e=!1),!$e)break}return r[0]=p,M.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.add(n.negate())}if(typeof arguments[0]=="number"){var r=arguments[0];return this.add(-r)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof c){var n=arguments[0];return this._hi===n._hi&&this._lo===n._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n._hi,-n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.isNaN()?this:this.selfAdd(-r,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(n){return this.le(n)?this:n}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfDivide(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfDivide(r,0)}}else if(arguments.length===2){var l,p,b,S,M=arguments[0],U=arguments[1],J=null,ue=null,fe=null,Ce=null;return b=this._hi/M,Ce=(J=(fe=c.SPLIT*b)-(J=fe-b))*(ue=(Ce=c.SPLIT*M)-(ue=Ce-M))-(S=b*M)+J*(p=M-ue)+(l=b-J)*ue+l*p,Ce=b+(fe=(this._hi-S-Ce+this._lo-b*U)/M),this._hi=Ce,this._lo=b-Ce+fe,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof c){var n,r,l,p,b=arguments[0],S=null,M=null,U=null,J=null;return n=(l=this._hi/b._hi)-(S=(U=c.SPLIT*l)-(S=U-l)),J=S*(M=(J=c.SPLIT*b._hi)-(M=J-b._hi))-(p=l*b._hi)+S*(r=b._hi-M)+n*M+n*r,new c(J=l+(U=(this._hi-p-J+this._lo-l*b._lo)/b._hi),l-J+U)}if(typeof arguments[0]=="number"){var ue=arguments[0];return le.isNaN(ue)?c.createNaN():c.copy(this).selfDivide(ue,0)}}},{key:"ge",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>=n._lo}},{key:"pow",value:function(n){if(n===0)return c.valueOf(1);var r=new c(this),l=c.valueOf(1),p=Math.abs(n);if(p>1)for(;p>0;)p%2==1&&l.selfMultiply(r),(p/=2)>0&&(r=r.sqr());else l=r;return n<0?l.reciprocal():l}},{key:"ceil",value:function(){if(this.isNaN())return c.NaN;var n=Math.ceil(this._hi),r=0;return n===this._hi&&(r=Math.ceil(this._lo)),new c(n,r)}},{key:"compareTo",value:function(n){var r=n;return this._hi<r._hi?-1:this._hi>r._hi?1:this._lo<r._lo?-1:this._lo>r._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.init(n),this}if(typeof arguments[0]=="number"){var r=arguments[0];return this.init(r),this}}},{key:"max",value:function(n){return this.ge(n)?this:n}},{key:"sqrt",value:function(){if(this.isZero())return c.valueOf(0);if(this.isNegative())return c.NaN;var n=1/Math.sqrt(this._hi),r=this._hi*n,l=c.valueOf(r),p=this.subtract(l.sqr())._hi*(.5*n);return l.add(p)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfAdd(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r,l,p,b,S,M=arguments[0],U=null;return U=(p=this._hi+M)-(b=p-this._hi),l=(S=(U=M-b+(this._hi-U))+this._lo)+(p-(r=p+S)),this._hi=r+l,this._lo=l+(r-this._hi),this}}else if(arguments.length===2){var J,ue,fe,Ce,$e=arguments[0],We=arguments[1],Ke=null,_t=null,lt=null;fe=this._hi+$e,ue=this._lo+We,_t=fe-(lt=fe-this._hi),Ke=ue-(Ce=ue-this._lo);var Rt=(J=fe+(lt=(_t=$e-lt+(this._hi-_t))+ue))+(lt=(Ke=We-Ce+(this._lo-Ke))+(lt+(fe-J))),qt=lt+(J-Rt);return this._hi=Rt,this._lo=qt,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfMultiply(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfMultiply(r,0)}}else if(arguments.length===2){var l,p,b=arguments[0],S=arguments[1],M=null,U=null,J=null,ue=null;M=(J=c.SPLIT*this._hi)-this._hi,ue=c.SPLIT*b,M=J-M,l=this._hi-M,U=ue-b;var fe=(J=this._hi*b)+(ue=M*(U=ue-U)-J+M*(p=b-U)+l*U+l*p+(this._hi*S+this._lo*b)),Ce=ue+(M=J-fe);return this._hi=fe,this._lo=Ce,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return c.NaN;var n=Math.floor(this._hi),r=0;return n===this._hi&&(r=Math.floor(this._lo)),new c(n,r)}},{key:"negate",value:function(){return this.isNaN()?this:new c(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return null;throw n}}},{key:"multiply",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return n.isNaN()?c.createNaN():c.copy(this).selfMultiply(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return le.isNaN(r)?c.createNaN():c.copy(this).selfMultiply(r,0)}}},{key:"isNaN",value:function(){return le.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var n=c.magnitude(this._hi);return n>=-3&&n<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),l=this.extractSignificantDigits(!0,r),p=r[0]+1,b=l;if(l.charAt(0)===".")b="0"+l;else if(p<0)b="0."+c.stringOfChar("0",-p)+l;else if(l.indexOf(".")===-1){var S=p-l.length;b=l+c.stringOfChar("0",S)+".0"}return this.isNegative()?"-"+b:b}},{key:"reciprocal",value:function(){var n,r,l,p,b=null,S=null,M=null,U=null;n=(l=1/this._hi)-(b=(M=c.SPLIT*l)-(b=M-l)),S=(U=c.SPLIT*this._hi)-this._hi;var J=l+(M=(1-(p=l*this._hi)-(U=b*(S=U-S)-p+b*(r=this._hi-S)+n*S+n*r)-l*this._lo)/this._hi);return new c(J,l-J+M)}},{key:"toSciNotation",value:function(){if(this.isZero())return c.SCI_NOT_ZERO;var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),l=this.extractSignificantDigits(!1,r),p=c.SCI_NOT_EXPONENT_CHAR+r[0];if(l.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+l);var b="";l.length>1&&(b=l.substring(1));var S=l.charAt(0)+"."+b;return this.isNegative()?"-"+S+p:S+p}},{key:"abs",value:function(){return this.isNaN()?c.NaN:this.isNegative()?this.negate():new c(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<n._lo}},{key:"add",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return c.copy(this).selfAdd(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return c.copy(this).selfAdd(r)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this._hi=n,this._lo=0}else if(arguments[0]instanceof c){var r=arguments[0];this._hi=r._hi,this._lo=r._lo}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this._hi=l,this._lo=p}}},{key:"gt",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>n._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?c.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[D,C,F]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}else if(typeof arguments[0]=="string"){var l=arguments[0];c.constructor_.call(this,c.parse(l))}}else if(arguments.length===2){var p=arguments[0],b=arguments[1];this.init(p,b)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],l=arguments[2],p=arguments[3];return c.determinant(c.valueOf(n),c.valueOf(r),c.valueOf(l),c.valueOf(p))}if(arguments[3]instanceof c&&arguments[2]instanceof c&&arguments[0]instanceof c&&arguments[1]instanceof c){var b=arguments[1],S=arguments[2],M=arguments[3];return arguments[0].multiply(M).selfSubtract(b.multiply(S))}}},{key:"sqr",value:function(n){return c.valueOf(n).selfMultiply(n)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var n=arguments[0];return c.parse(n)}if(typeof arguments[0]=="number")return new c(arguments[0])}},{key:"sqrt",value:function(n){return c.valueOf(n).sqrt()}},{key:"parse",value:function(n){for(var r=0,l=n.length;Qe.isWhitespace(n.charAt(r));)r++;var p=!1;if(r<l){var b=n.charAt(r);b!=="-"&&b!=="+"||(r++,b==="-"&&(p=!0))}for(var S=new c,M=0,U=0,J=0,ue=!1;!(r>=l);){var fe=n.charAt(r);if(r++,Qe.isDigit(fe)){var Ce=fe-"0";S.selfMultiply(c.TEN),S.selfAdd(Ce),M++}else{if(fe!=="."){if(fe==="e"||fe==="E"){var $e=n.substring(r);try{J=Ge.parseInt($e)}catch(Rt){throw Rt instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+$e+" in string "+n):Rt}break}throw new NumberFormatException("Unexpected character '"+fe+"' at position "+r+" in string "+n)}U=M,ue=!0}}var We=S;ue||(U=M);var Ke=M-U-J;if(Ke===0)We=S;else if(Ke>0){var _t=c.TEN.pow(Ke);We=S.divide(_t)}else if(Ke<0){var lt=c.TEN.pow(-Ke);We=S.multiply(lt)}return p?We.negate():We}},{key:"createNaN",value:function(){return new c(le.NaN,le.NaN)}},{key:"copy",value:function(n){return new c(n)}},{key:"magnitude",value:function(n){var r=Math.abs(n),l=Math.log(r)/Math.log(10),p=Math.trunc(Math.floor(l));return 10*Math.pow(10,p)<=r&&(p+=1),p}},{key:"stringOfChar",value:function(n,r){for(var l=new ye,p=0;p<r;p++)l.append(n);return l.toString()}}])}();Ae.PI=new Ae(3.141592653589793,12246467991473532e-32),Ae.TWO_PI=new Ae(6.283185307179586,24492935982947064e-32),Ae.PI_2=new Ae(1.5707963267948966,6123233995736766e-32),Ae.E=new Ae(2.718281828459045,14456468917292502e-32),Ae.NaN=new Ae(le.NaN,le.NaN),Ae.EPS=123259516440783e-46,Ae.SPLIT=134217729,Ae.MAX_PRINT_DIGITS=32,Ae.TEN=Ae.valueOf(10),Ae.ONE=Ae.valueOf(1),Ae.SCI_NOT_EXPONENT_CHAR="E",Ae.SCI_NOT_ZERO="0.0E0";var Vt=function(){function c(){i(this,c)}return h(c,null,[{key:"orientationIndex",value:function(n,r,l){var p=c.orientationIndexFilter(n,r,l);if(p<=1)return p;var b=Ae.valueOf(r.x).selfAdd(-n.x),S=Ae.valueOf(r.y).selfAdd(-n.y),M=Ae.valueOf(l.x).selfAdd(-r.x),U=Ae.valueOf(l.y).selfAdd(-r.y);return b.selfMultiply(U).selfSubtract(S.selfMultiply(M)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Ae&&arguments[2]instanceof Ae&&arguments[0]instanceof Ae&&arguments[1]instanceof Ae){var n=arguments[1],r=arguments[2],l=arguments[3];return arguments[0].multiply(l).selfSubtract(n.multiply(r)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],b=arguments[1],S=arguments[2],M=arguments[3],U=Ae.valueOf(p),J=Ae.valueOf(b),ue=Ae.valueOf(S),fe=Ae.valueOf(M);return U.multiply(fe).selfSubtract(J.multiply(ue)).signum()}}},{key:"intersection",value:function(n,r,l,p){var b=new Ae(n.y).selfSubtract(r.y),S=new Ae(r.x).selfSubtract(n.x),M=new Ae(n.x).selfMultiply(r.y).selfSubtract(new Ae(r.x).selfMultiply(n.y)),U=new Ae(l.y).selfSubtract(p.y),J=new Ae(p.x).selfSubtract(l.x),ue=new Ae(l.x).selfMultiply(p.y).selfSubtract(new Ae(p.x).selfMultiply(l.y)),fe=S.multiply(ue).selfSubtract(J.multiply(M)),Ce=U.multiply(M).selfSubtract(b.multiply(ue)),$e=b.multiply(J).selfSubtract(U.multiply(S)),We=fe.selfDivide($e).doubleValue(),Ke=Ce.selfDivide($e).doubleValue();return le.isNaN(We)||le.isInfinite(We)||le.isNaN(Ke)||le.isInfinite(Ke)?null:new Y(We,Ke)}},{key:"orientationIndexFilter",value:function(n,r,l){var p=null,b=(n.x-l.x)*(r.y-l.y),S=(n.y-l.y)*(r.x-l.x),M=b-S;if(b>0){if(S<=0)return c.signum(M);p=b+S}else{if(!(b<0)||S>=0)return c.signum(M);p=-b-S}var U=c.DP_SAFE_EPSILON*p;return M>=U||-M>=U?c.signum(M):2}},{key:"signum",value:function(n){return n>0?1:n<0?-1:0}}])}();Vt.DP_SAFE_EPSILON=1e-15;var Ye=function(){return h(function c(){i(this,c)},[{key:"getM",value:function(c){if(this.hasM()){var n=this.getDimension()-this.getMeasures();return this.getOrdinate(c,n)}return le.NaN}},{key:"setOrdinate",value:function(c,n,r){}},{key:"getZ",value:function(c){return this.hasZ()?this.getOrdinate(c,2):le.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(c,n){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(c){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(c){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(c){}},{key:"copy",value:function(){}},{key:"getY",value:function(c){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[F]}}])}();Ye.X=0,Ye.Y=1,Ye.Z=2,Ye.M=3;var Ze=function(){function c(){i(this,c)}return h(c,null,[{key:"index",value:function(n,r,l){return Vt.orientationIndex(n,r,l)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var n=arguments[0],r=n.length-1;if(r<3)throw new T("Ring has fewer than 4 points, so orientation cannot be determined");for(var l=n[0],p=0,b=1;b<=r;b++){var S=n[b];S.y>l.y&&(l=S,p=b)}var M=p;do(M-=1)<0&&(M=r);while(n[M].equals2D(l)&&M!==p);var U=p;do U=(U+1)%r;while(n[U].equals2D(l)&&U!==p);var J=n[M],ue=n[U];if(J.equals2D(l)||ue.equals2D(l)||J.equals2D(ue))return!1;var fe=c.index(J,l,ue);return fe===0?J.x>ue.x:fe>0}if(ne(arguments[0],Ye)){var Ce=arguments[0],$e=Ce.size()-1;if($e<3)throw new T("Ring has fewer than 4 points, so orientation cannot be determined");for(var We=Ce.getCoordinate(0),Ke=0,_t=1;_t<=$e;_t++){var lt=Ce.getCoordinate(_t);lt.y>We.y&&(We=lt,Ke=_t)}var Rt=null,qt=Ke;do(qt-=1)<0&&(qt=$e),Rt=Ce.getCoordinate(qt);while(Rt.equals2D(We)&&qt!==Ke);var cn=null,ir=Ke;do ir=(ir+1)%$e,cn=Ce.getCoordinate(ir);while(cn.equals2D(We)&&ir!==Ke);if(Rt.equals2D(We)||cn.equals2D(We)||Rt.equals2D(cn))return!1;var Vs=c.index(Rt,We,cn);return Vs===0?Rt.x>cn.x:Vs>0}}}])}();Ze.CLOCKWISE=-1,Ze.RIGHT=Ze.CLOCKWISE,Ze.COUNTERCLOCKWISE=1,Ze.LEFT=Ze.COUNTERCLOCKWISE,Ze.COLLINEAR=0,Ze.STRAIGHT=Ze.COLLINEAR;var On=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(c,n){var r=this.getRightmostSideOfSegment(c,n);return r<0&&(r=this.getRightmostSideOfSegment(c,n-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(c)),r}},{key:"findRightmostEdgeAtVertex",value:function(){var c=this._minDe.getEdge().getCoordinates();Pe.isTrue(this._minIndex>0&&this._minIndex<c.length,"rightmost point expected to be interior vertex of edge");var n=c[this._minIndex-1],r=c[this._minIndex+1],l=Ze.index(this._minCoord,r,n),p=!1;(n.y<this._minCoord.y&&r.y<this._minCoord.y&&l===Ze.COUNTERCLOCKWISE||n.y>this._minCoord.y&&r.y>this._minCoord.y&&l===Ze.CLOCKWISE)&&(p=!0),p&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(c,n){var r=c.getEdge().getCoordinates();if(n<0||n+1>=r.length||r[n].y===r[n+1].y)return-1;var l=$.LEFT;return r[n].y<r[n+1].y&&(l=$.RIGHT),l}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(c){for(var n=c.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(this._minCoord===null||n[r].x>this._minCoord.x)&&(this._minDe=c,this._minIndex=r,this._minCoord=n[r])}},{key:"findRightmostEdgeAtNode",value:function(){var c=this._minDe.getNode().getEdges();this._minDe=c.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();r.isForward()&&this.checkForRightmostCoordinate(r)}Pe.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===$.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),hn=function(c){function n(r,l){var p;return i(this,n),(p=o(this,n,[l?r+" [ "+l+" ]":r])).pt=l?new Y(l):void 0,p.name=Object.keys({TopologyException:n})[0],p}return w(n,c),h(n,[{key:"getCoordinate",value:function(){return this.pt}}])}(Re),jr=function(){return h(function c(){i(this,c),this.array=[]},[{key:"addLast",value:function(c){this.array.push(c)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),je=function(c){function n(r){var l;return i(this,n),(l=o(this,n)).array=[],r instanceof Q&&l.addAll(r),l}return w(n,c),h(n,[{key:"interfaces_",get:function(){return[Fe,Q]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(r){return arguments.length===1?this.array.push(r):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(r){var l,p=m(r);try{for(p.s();!(l=p.n()).done;){var b=l.value;this.array.push(b)}}catch(S){p.e(S)}finally{p.f()}}},{key:"set",value:function(r,l){var p=this.array[r];return this.array[r]=l,p}},{key:"iterator",value:function(){return new Yn(this)}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new me;return this.array[r]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(r){r?this.array.sort(function(l,p){return r.compare(l,p)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(r){for(var l=0,p=this.array.length;l<p;l++)if(this.array[l]===r)return!!this.array.splice(l,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(Fe),Yn=function(){return h(function c(n){i(this,c),this.arrayList=n,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new se;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(c){return this.arrayList.set(this.position-1,c)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),Yi=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();)c.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(c){for(var n=null,r=c.getEdges().iterator();r.hasNext();){var l=r.next();if(l.isVisited()||l.getSym().isVisited()){n=l;break}}if(n===null)throw new hn("unable to find edge to compute depths at "+c.getCoordinate());c.getEdges().computeDepths(n);for(var p=c.getEdges().iterator();p.hasNext();){var b=p.next();b.setVisited(!0),this.copySymDepths(b)}}},{key:"computeDepth",value:function(c){this.clearVisitedEdges();var n=this._finder.getEdge();n.getNode(),n.getLabel(),n.setEdgeDepths($.RIGHT,c),this.copySymDepths(n),this.computeDepths(n)}},{key:"create",value:function(c){this.addReachable(c),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();){var n=c.next();n.getDepth($.RIGHT)>=1&&n.getDepth($.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}}},{key:"computeDepths",value:function(c){var n=new be,r=new jr,l=c.getNode();for(r.addLast(l),n.add(l),c.setVisited(!0);!r.isEmpty();){var p=r.removeFirst();n.add(p),this.computeNodeDepth(p);for(var b=p.getEdges().iterator();b.hasNext();){var S=b.next().getSym();if(!S.isVisited()){var M=S.getNode();n.contains(M)||(r.addLast(M),n.add(M))}}}}},{key:"compareTo",value:function(c){var n=c;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var c=new Ne,n=this._dirEdgeList.iterator();n.hasNext();)for(var r=n.next().getEdge().getCoordinates(),l=0;l<r.length-1;l++)c.expandToInclude(r[l]);this._env=c}return this._env}},{key:"addReachable",value:function(c){var n=new Se;for(n.add(c);!n.empty();){var r=n.pop();this.add(r,n)}}},{key:"copySymDepths",value:function(c){var n=c.getSym();n.setDepth($.LEFT,c.getDepth($.RIGHT)),n.setDepth($.RIGHT,c.getDepth($.LEFT))}},{key:"add",value:function(c,n){c.setVisited(!0),this._nodes.add(c);for(var r=c.getEdges().iterator();r.hasNext();){var l=r.next();this._dirEdgeList.add(l);var p=l.getSym().getNode();p.isVisited()||n.push(p)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new je,this._nodes=new je,this._rightMostCoord=null,this._env=null,this._finder=new On}}])}(),La=function(){return h(function c(){i(this,c)},null,[{key:"intersection",value:function(c,n,r,l){var p=c.x<n.x?c.x:n.x,b=c.y<n.y?c.y:n.y,S=c.x>n.x?c.x:n.x,M=c.y>n.y?c.y:n.y,U=r.x<l.x?r.x:l.x,J=r.y<l.y?r.y:l.y,ue=r.x>l.x?r.x:l.x,fe=r.y>l.y?r.y:l.y,Ce=((p>U?p:U)+(S<ue?S:ue))/2,$e=((b>J?b:J)+(M<fe?M:fe))/2,We=c.x-Ce,Ke=c.y-$e,_t=n.x-Ce,lt=n.y-$e,Rt=r.x-Ce,qt=r.y-$e,cn=l.x-Ce,ir=l.y-$e,Vs=Ke-lt,ki=_t-We,Ya=We*lt-_t*Ke,Xa=qt-ir,is=cn-Rt,pl=Rt*ir-cn*qt,qs=Vs*is-Xa*ki,Sr=(ki*pl-is*Ya)/qs,zo=(Xa*Ya-Vs*pl)/qs;return le.isNaN(Sr)||le.isInfinite(Sr)||le.isNaN(zo)||le.isInfinite(zo)?null:new Y(Sr+Ce,zo+$e)}}])}(),Xn=function(){return h(function c(){i(this,c)},null,[{key:"arraycopy",value:function(c,n,r,l,p){for(var b=0,S=n;S<n+p;S++)r[l+b]=c[S],b++}},{key:"getProperty",value:function(c){return{"line.separator":`
`}[c]}}])}(),Wr=function(){function c(){i(this,c)}return h(c,null,[{key:"log10",value:function(n){var r=Math.log(n);return le.isInfinite(r)||le.isNaN(r)?r:r/c.LOG_10}},{key:"min",value:function(n,r,l,p){var b=n;return r<b&&(b=r),l<b&&(b=l),p<b&&(b=p),b}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],l=arguments[2];return n<r?r:n>l?l:n}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],b=arguments[1],S=arguments[2];return p<b?b:p>S?S:p}}},{key:"wrap",value:function(n,r){return n<0?r- -n%r:n%r}},{key:"max",value:function(){if(arguments.length===3){var n=arguments[1],r=arguments[2],l=arguments[0];return n>l&&(l=n),r>l&&(l=r),l}if(arguments.length===4){var p=arguments[1],b=arguments[2],S=arguments[3],M=arguments[0];return p>M&&(M=p),b>M&&(M=b),S>M&&(M=S),M}}},{key:"average",value:function(n,r){return(n+r)/2}}])}();Wr.LOG_10=Math.log(10);var oi=function(){function c(){i(this,c)}return h(c,null,[{key:"segmentToSegment",value:function(n,r,l,p){if(n.equals(r))return c.pointToSegment(n,l,p);if(l.equals(p))return c.pointToSegment(p,n,r);var b=!1;if(Ne.intersects(n,r,l,p)){var S=(r.x-n.x)*(p.y-l.y)-(r.y-n.y)*(p.x-l.x);if(S===0)b=!0;else{var M=(n.y-l.y)*(p.x-l.x)-(n.x-l.x)*(p.y-l.y),U=((n.y-l.y)*(r.x-n.x)-(n.x-l.x)*(r.y-n.y))/S,J=M/S;(J<0||J>1||U<0||U>1)&&(b=!0)}}else b=!0;return b?Wr.min(c.pointToSegment(n,l,p),c.pointToSegment(r,l,p),c.pointToSegment(l,n,r),c.pointToSegment(p,n,r)):0}},{key:"pointToSegment",value:function(n,r,l){if(r.x===l.x&&r.y===l.y)return n.distance(r);var p=(l.x-r.x)*(l.x-r.x)+(l.y-r.y)*(l.y-r.y),b=((n.x-r.x)*(l.x-r.x)+(n.y-r.y)*(l.y-r.y))/p;if(b<=0)return n.distance(r);if(b>=1)return n.distance(l);var S=((r.y-n.y)*(l.x-r.x)-(r.x-n.x)*(l.y-r.y))/p;return Math.abs(S)*Math.sqrt(p)}},{key:"pointToLinePerpendicular",value:function(n,r,l){var p=(l.x-r.x)*(l.x-r.x)+(l.y-r.y)*(l.y-r.y),b=((r.y-n.y)*(l.x-r.x)-(r.x-n.x)*(l.y-r.y))/p;return Math.abs(b)*Math.sqrt(p)}},{key:"pointToSegmentString",value:function(n,r){if(r.length===0)throw new T("Line array must contain at least one vertex");for(var l=n.distance(r[0]),p=0;p<r.length-1;p++){var b=c.pointToSegment(n,r[p],r[p+1]);b<l&&(l=b)}return l}}])}(),Ea=function(){return h(function c(){i(this,c)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||ne(arguments[0],Ye);else if(arguments.length!==2){if(arguments.length===3){var c=arguments[0],n=arguments[1];return this.create(c,n)}}}}])}(),vo=function(){return h(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}(),rd=function(){return h(function c(){i(this,c)},null,[{key:"ofLine",value:function(c){var n=c.size();if(n<=1)return 0;var r=0,l=new Y;c.getCoordinate(0,l);for(var p=l.x,b=l.y,S=1;S<n;S++){c.getCoordinate(S,l);var M=l.x,U=l.y,J=M-p,ue=U-b;r+=Math.sqrt(J*J+ue*ue),p=M,b=U}return r}}])}(),Xu=h(function c(){i(this,c)}),br=function(){function c(){i(this,c)}return h(c,null,[{key:"copyCoord",value:function(n,r,l,p){for(var b=Math.min(n.getDimension(),l.getDimension()),S=0;S<b;S++)l.setOrdinate(p,S,n.getOrdinate(r,S))}},{key:"isRing",value:function(n){var r=n.size();return r===0||!(r<=3)&&n.getOrdinate(0,Ye.X)===n.getOrdinate(r-1,Ye.X)&&n.getOrdinate(0,Ye.Y)===n.getOrdinate(r-1,Ye.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(ne(arguments[0],Ye)&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1];c.scroll(n,r,c.isRing(n))}else if(ne(arguments[0],Ye)&&arguments[1]instanceof Y){var l=arguments[0],p=arguments[1],b=c.indexOf(p,l);if(b<=0)return null;c.scroll(l,b)}}else if(arguments.length===3){var S=arguments[0],M=arguments[1],U=arguments[2];if(M<=0)return null;for(var J=S.copy(),ue=U?S.size()-1:S.size(),fe=0;fe<ue;fe++)for(var Ce=0;Ce<S.getDimension();Ce++)S.setOrdinate(fe,Ce,J.getOrdinate((M+fe)%ue,Ce));if(U)for(var $e=0;$e<S.getDimension();$e++)S.setOrdinate(ue,$e,S.getOrdinate(0,$e))}}},{key:"isEqual",value:function(n,r){var l=n.size();if(l!==r.size())return!1;for(var p=Math.min(n.getDimension(),r.getDimension()),b=0;b<l;b++)for(var S=0;S<p;S++){var M=n.getOrdinate(b,S),U=r.getOrdinate(b,S);if(n.getOrdinate(b,S)!==r.getOrdinate(b,S)&&(!le.isNaN(M)||!le.isNaN(U)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var n=arguments[0];return c.minCoordinateIndex(n,0,n.size()-1)}if(arguments.length===3){for(var r=arguments[0],l=arguments[2],p=-1,b=null,S=arguments[1];S<=l;S++){var M=r.getCoordinate(S);(b===null||b.compareTo(M)>0)&&(b=M,p=S)}return p}}},{key:"extend",value:function(n,r,l){var p=n.create(l,r.getDimension()),b=r.size();if(c.copy(r,0,p,0,b),b>0)for(var S=b;S<l;S++)c.copy(r,b-1,p,S,1);return p}},{key:"reverse",value:function(n){for(var r=n.size()-1,l=Math.trunc(r/2),p=0;p<=l;p++)c.swap(n,p,r-p)}},{key:"swap",value:function(n,r,l){if(r===l)return null;for(var p=0;p<n.getDimension();p++){var b=n.getOrdinate(r,p);n.setOrdinate(r,p,n.getOrdinate(l,p)),n.setOrdinate(l,p,b)}}},{key:"copy",value:function(n,r,l,p,b){for(var S=0;S<b;S++)c.copyCoord(n,r+S,l,p+S)}},{key:"ensureValidRing",value:function(n,r){var l=r.size();return l===0?r:l<=3?c.createClosedRing(n,r,4):r.getOrdinate(0,Ye.X)===r.getOrdinate(l-1,Ye.X)&&r.getOrdinate(0,Ye.Y)===r.getOrdinate(l-1,Ye.Y)?r:c.createClosedRing(n,r,l+1)}},{key:"indexOf",value:function(n,r){for(var l=0;l<r.size();l++)if(n.x===r.getOrdinate(l,Ye.X)&&n.y===r.getOrdinate(l,Ye.Y))return l;return-1}},{key:"createClosedRing",value:function(n,r,l){var p=n.create(l,r.getDimension()),b=r.size();c.copy(r,0,p,0,b);for(var S=b;S<l;S++)c.copy(r,0,p,S,1);return p}},{key:"minCoordinate",value:function(n){for(var r=null,l=0;l<n.size();l++){var p=n.getCoordinate(l);(r===null||r.compareTo(p)>0)&&(r=p)}return r}}])}(),De=function(){function c(){i(this,c)}return h(c,null,[{key:"toDimensionSymbol",value:function(n){switch(n){case c.FALSE:return c.SYM_FALSE;case c.TRUE:return c.SYM_TRUE;case c.DONTCARE:return c.SYM_DONTCARE;case c.P:return c.SYM_P;case c.L:return c.SYM_L;case c.A:return c.SYM_A}throw new T("Unknown dimension value: "+n)}},{key:"toDimensionValue",value:function(n){switch(Qe.toUpperCase(n)){case c.SYM_FALSE:return c.FALSE;case c.SYM_TRUE:return c.TRUE;case c.SYM_DONTCARE:return c.DONTCARE;case c.SYM_P:return c.P;case c.SYM_L:return c.L;case c.SYM_A:return c.A}throw new T("Unknown dimension symbol: "+n)}}])}();De.P=0,De.L=1,De.A=2,De.FALSE=-1,De.TRUE=-2,De.DONTCARE=-3,De.SYM_FALSE="F",De.SYM_TRUE="T",De.SYM_DONTCARE="*",De.SYM_P="0",De.SYM_L="1",De.SYM_A="2";var yo=function(){return h(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}(),Zr=function(){return h(function c(){i(this,c)},[{key:"filter",value:function(c,n){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),Ns=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Ne:this._points.expandEnvelope(new Ne)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var r=arguments[0],l=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._points.size()!==p._points.size())return!1;for(var b=0;b<this._points.size();b++)if(!this.equal(this._points.getCoordinate(b),p._points.getCoordinate(b),l))return!1;return!0}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<Math.trunc(this._points.size()/2);r++){var l=this._points.size()-1-r;if(!this._points.getCoordinate(r).equals(this._points.getCoordinate(l))){if(this._points.getCoordinate(r).compareTo(this._points.getCoordinate(l))>0){var p=this._points.copy();br.reverse(p),this._points=p}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?De.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var r=this._points.copy();return br.reverse(r),this.getFactory().createLineString(r)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return rd.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var r=arguments[0],l=0,p=0;l<this._points.size()&&p<r._points.size();){var b=this._points.getCoordinate(l).compareTo(r._points.getCoordinate(p));if(b!==0)return b;l++,p++}return l<this._points.size()?1:p<r._points.size()?-1:0}if(arguments.length===2){var S=arguments[0];return arguments[1].compare(this._points,S._points)}}},{key:"apply",value:function(){if(ne(arguments[0],vo))for(var r=arguments[0],l=0;l<this._points.size();l++)r.filter(this._points.getCoordinate(l));else if(ne(arguments[0],Zr)){var p=arguments[0];if(this._points.size()===0)return null;for(var b=0;b<this._points.size()&&(p.filter(this._points,b),!p.isDone());b++);p.isGeometryChanged()&&this.geometryChanged()}else ne(arguments[0],yo)?arguments[0].filter(this):ne(arguments[0],E)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new ge}},{key:"isEquivalentClass",value:function(r){return r instanceof n}},{key:"getCoordinateN",value:function(r){return this._points.getCoordinate(r)}},{key:"getGeometryType",value:function(){return Me.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new T("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r}},{key:"isCoordinate",value:function(r){for(var l=0;l<this._points.size();l++)if(this._points.getCoordinate(l).equals(r))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))}},{key:"interfaces_",get:function(){return[Xu]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],l=arguments[1];Me.constructor_.call(this,l),this.init(r)}}}}])}(Me),Ku=h(function c(){i(this,c)}),Ta=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Ne;var r=new Ne;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&(!(!this.isEmpty()||!r.isEmpty())||this.isEmpty()===r.isEmpty()&&this.equal(r.getCoordinate(),this.getCoordinate(),l))}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return De.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Me.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0];return this.getCoordinate().compareTo(r.getCoordinate())}if(arguments.length===2){var l=arguments[0];return arguments[1].compare(this._coordinates,l._coordinates)}}},{key:"apply",value:function(){if(ne(arguments[0],vo)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(ne(arguments[0],Zr)){var l=arguments[0];if(this.isEmpty())return null;l.filter(this._coordinates,0),l.isGeometryChanged()&&this.geometryChanged()}else ne(arguments[0],yo)?arguments[0].filter(this):ne(arguments[0],E)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Me.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),Pe.isTrue(r.size()<=1),this._coordinates=r}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Ku]}}],[{key:"constructor_",value:function(){this._coordinates=null;var r=arguments[0],l=arguments[1];Me.constructor_.call(this,l),this.init(r)}}])}(Me),Ju=function(){function c(){i(this,c)}return h(c,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];return Math.abs(c.ofRingSigned(n))}if(ne(arguments[0],Ye)){var r=arguments[0];return Math.abs(c.ofRingSigned(r))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];if(n.length<3)return 0;for(var r=0,l=n[0].x,p=1;p<n.length-1;p++){var b=n[p].x-l,S=n[p+1].y;r+=b*(n[p-1].y-S)}return r/2}if(ne(arguments[0],Ye)){var M=arguments[0],U=M.size();if(U<3)return 0;var J=new Y,ue=new Y,fe=new Y;M.getCoordinate(0,ue),M.getCoordinate(1,fe);var Ce=ue.x;fe.x-=Ce;for(var $e=0,We=1;We<U-1;We++)J.y=ue.y,ue.x=fe.x,ue.y=fe.y,M.getCoordinate(We+1,fe),fe.x-=Ce,$e+=ue.x*(J.y-fe.y);return $e/2}}}])}(),pn=function(){return h(function c(){i(this,c)},null,[{key:"sort",value:function(){var c=arguments,n=arguments[0];if(arguments.length===1)n.sort(function(Ce,$e){return Ce.compareTo($e)});else if(arguments.length===2)n.sort(function(Ce,$e){return c[1].compare(Ce,$e)});else if(arguments.length===3){var r=n.slice(arguments[1],arguments[2]);r.sort();var l=n.slice(0,arguments[1]).concat(r,n.slice(arguments[2],n.length));n.splice(0,n.length);var p,b=m(l);try{for(b.s();!(p=b.n()).done;){var S=p.value;n.push(S)}}catch(Ce){b.e(Ce)}finally{b.f()}}else if(arguments.length===4){var M=n.slice(arguments[1],arguments[2]);M.sort(function(Ce,$e){return c[3].compare(Ce,$e)});var U=n.slice(0,arguments[1]).concat(M,n.slice(arguments[2],n.length));n.splice(0,n.length);var J,ue=m(U);try{for(ue.s();!(J=ue.n()).done;){var fe=J.value;n.push(fe)}}catch(Ce){ue.e(Ce)}finally{ue.f()}}}},{key:"asList",value:function(c){var n,r=new je,l=m(c);try{for(l.s();!(n=l.n()).done;){var p=n.value;r.add(p)}}catch(b){l.e(b)}finally{l.f()}return r}},{key:"copyOf",value:function(c,n){return c.slice(0,n)}}])}(),Xe=h(function c(){i(this,c)}),Ms=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var r=new Array(this.getNumPoints()).fill(null),l=-1,p=this._shell.getCoordinates(),b=0;b<p.length;b++)r[++l]=p[b];for(var S=0;S<this._holes.length;S++)for(var M=this._holes[S].getCoordinates(),U=0;U<M.length;U++)r[++l]=M[U];return r}},{key:"getArea",value:function(){var r=0;r+=Ju.ofRing(this._shell.getCoordinateSequence());for(var l=0;l<this._holes.length;l++)r-=Ju.ofRing(this._holes[l].getCoordinateSequence());return r}},{key:"copyInternal",value:function(){for(var r=this._shell.copy(),l=new Array(this._holes.length).fill(null),p=0;p<this._holes.length;p++)l[p]=this._holes[p].copy();return new n(r,l,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),l=this.getEnvelopeInternal(),p=0;p<5;p++){var b=r.getX(p);if(b!==l.getMinX()&&b!==l.getMaxX())return!1;var S=r.getY(p);if(S!==l.getMinY()&&S!==l.getMaxY())return!1}for(var M=r.getX(0),U=r.getY(0),J=1;J<=4;J++){var ue=r.getX(J),fe=r.getY(J);if(ue!==M==(fe!==U))return!1;M=ue,U=fe}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var r=arguments[0],l=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r,b=this._shell,S=p._shell;if(!b.equalsExact(S,l)||this._holes.length!==p._holes.length)return!1;for(var M=0;M<this._holes.length;M++)if(!this._holes[M].equalsExact(p._holes[M],l))return!1;return!0}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var r=0;r<this._holes.length;r++)this._holes[r]=this.normalized(this._holes[r],!1);pn.sort(this._holes)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];if(l.isEmpty())return null;var b=l.getCoordinateSequence(),S=br.minCoordinateIndex(b,0,b.size()-2);br.scroll(b,S,!0),Ze.isCCW(b)===p&&br.reverse(b)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var r=this.getExteriorRing().reverse(),l=new Array(this.getNumInteriorRing()).fill(null),p=0;p<l.length;p++)l[p]=this.getInteriorRingN(p).reverse();return this.getFactory().createPolygon(r,l)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var r=0;r+=this._shell.getLength();for(var l=0;l<this._holes.length;l++)r+=this._holes[l].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=this._shell.getNumPoints(),l=0;l<this._holes.length;l++)r+=this._holes[l].getNumPoints();return r}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(r,l){var p=r.copy();return this.normalize(p,l),p}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],l=this._shell,p=r._shell;return l.compareToSameClass(p)}if(arguments.length===2){var b=arguments[1],S=arguments[0],M=this._shell,U=S._shell,J=M.compareToSameClass(U,b);if(J!==0)return J;for(var ue=this.getNumInteriorRing(),fe=S.getNumInteriorRing(),Ce=0;Ce<ue&&Ce<fe;){var $e=this.getInteriorRingN(Ce),We=S.getInteriorRingN(Ce),Ke=$e.compareToSameClass(We,b);if(Ke!==0)return Ke;Ce++}return Ce<ue?1:Ce<fe?-1:0}}},{key:"apply",value:function(){if(ne(arguments[0],vo)){var r=arguments[0];this._shell.apply(r);for(var l=0;l<this._holes.length;l++)this._holes[l].apply(r)}else if(ne(arguments[0],Zr)){var p=arguments[0];if(this._shell.apply(p),!p.isDone())for(var b=0;b<this._holes.length&&(this._holes[b].apply(p),!p.isDone());b++);p.isGeometryChanged()&&this.geometryChanged()}else if(ne(arguments[0],yo))arguments[0].filter(this);else if(ne(arguments[0],E)){var S=arguments[0];S.filter(this),this._shell.apply(S);for(var M=0;M<this._holes.length;M++)this._holes[M].apply(S)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var r=new Array(this._holes.length+1).fill(null);r[0]=this._shell;for(var l=0;l<this._holes.length;l++)r[l+1]=this._holes[l];return r.length<=1?this.getFactory().createLinearRing(r[0].getCoordinateSequence()):this.getFactory().createMultiLineString(r)}},{key:"getGeometryType",value:function(){return Me.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(r){return this._holes[r]}},{key:"interfaces_",get:function(){return[Xe]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var r=arguments[0],l=arguments[1],p=arguments[2];if(Me.constructor_.call(this,p),r===null&&(r=this.getFactory().createLinearRing()),l===null&&(l=[]),Me.hasNullElements(l))throw new T("holes must not contain null elements");if(r.isEmpty()&&Me.hasNonEmptyElements(l))throw new T("shell is empty but holes are not");this._shell=r,this._holes=l}}])}(Me),Qu=function(c){function n(){return i(this,n),o(this,n,arguments)}return w(n,c),h(n)}(ke),xa=function(c){function n(r){var l;return i(this,n),(l=o(this,n)).array=[],r instanceof Q&&l.addAll(r),l}return w(n,c),h(n,[{key:"contains",value:function(r){var l,p=m(this.array);try{for(p.s();!(l=p.n()).done;)if(l.value.compareTo(r)===0)return!0}catch(b){p.e(b)}finally{p.f()}return!1}},{key:"add",value:function(r){if(this.contains(r))return!1;for(var l=0,p=this.array.length;l<p;l++)if(this.array[l].compareTo(r)===1)return!!this.array.splice(l,0,r);return this.array.push(r),!0}},{key:"addAll",value:function(r){var l,p=m(r);try{for(p.s();!(l=p.n()).done;){var b=l.value;this.add(b)}}catch(S){p.e(S)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new ge}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new el(this.array)}}])}(Qu),el=function(){return h(function c(n){i(this,c),this.array=n,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new se;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new ge}}])}(),wn=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){for(var r=new Ne,l=0;l<this._geometries.length;l++)r.expandToInclude(this._geometries[l].getEnvelopeInternal());return r}},{key:"getGeometryN",value:function(r){return this._geometries[r]}},{key:"getCoordinates",value:function(){for(var r=new Array(this.getNumPoints()).fill(null),l=-1,p=0;p<this._geometries.length;p++)for(var b=this._geometries[p].getCoordinates(),S=0;S<b.length;S++)r[++l]=b[S];return r}},{key:"getArea",value:function(){for(var r=0,l=0;l<this._geometries.length;l++)r+=this._geometries[l].getArea();return r}},{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var r=arguments[0],l=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._geometries.length!==p._geometries.length)return!1;for(var b=0;b<this._geometries.length;b++)if(!this._geometries[b].equalsExact(p._geometries[b],l))return!1;return!0}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<this._geometries.length;r++)this._geometries[r].normalize();pn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var r=De.FALSE,l=0;l<this._geometries.length;l++)r=Math.max(r,this._geometries[l].getBoundaryDimension());return r}},{key:"reverseInternal",value:function(){for(var r=this._geometries.length,l=new je(r),p=0;p<r;p++)l.add(this._geometries[p].reverse());return this.getFactory().buildGeometry(l)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var r=De.FALSE,l=0;l<this._geometries.length;l++)r=Math.max(r,this._geometries[l].getDimension());return r}},{key:"getLength",value:function(){for(var r=0,l=0;l<this._geometries.length;l++)r+=this._geometries[l].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=0,l=0;l<this._geometries.length;l++)r+=this._geometries[l].getNumPoints();return r}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],l=new xa(pn.asList(this._geometries)),p=new xa(pn.asList(r._geometries));return this.compare(l,p)}if(arguments.length===2){for(var b=arguments[1],S=arguments[0],M=this.getNumGeometries(),U=S.getNumGeometries(),J=0;J<M&&J<U;){var ue=this.getGeometryN(J),fe=S.getGeometryN(J),Ce=ue.compareToSameClass(fe,b);if(Ce!==0)return Ce;J++}return J<M?1:J<U?-1:0}}},{key:"apply",value:function(){if(ne(arguments[0],vo))for(var r=arguments[0],l=0;l<this._geometries.length;l++)this._geometries[l].apply(r);else if(ne(arguments[0],Zr)){var p=arguments[0];if(this._geometries.length===0)return null;for(var b=0;b<this._geometries.length&&(this._geometries[b].apply(p),!p.isDone());b++);p.isGeometryChanged()&&this.geometryChanged()}else if(ne(arguments[0],yo)){var S=arguments[0];S.filter(this);for(var M=0;M<this._geometries.length;M++)this._geometries[M].apply(S)}else if(ne(arguments[0],E)){var U=arguments[0];U.filter(this);for(var J=0;J<this._geometries.length;J++)this._geometries[J].apply(U)}}},{key:"getBoundary",value:function(){return Me.checkNotGeometryCollection(this),Pe.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Me.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],l=arguments[1];if(Me.constructor_.call(this,l),r===null&&(r=[]),Me.hasNullElements(r))throw new T("geometries must not contain null elements");this._geometries=r}}}}])}(Me),bo=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&O(n,"equalsExact",this,1).call(this,r,l)}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var r=arguments[0];return this._geometries[r].getCoordinate()}return O(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return De.FALSE}},{key:"getTypeCode",value:function(){return Me.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Me.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Ku]}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];wn.constructor_.call(this,r,l)}}])}(wn),pi=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return De.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||O(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var r=this._points.copy();return br.reverse(r),this.getFactory().createLinearRing(r)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!O(n,"isClosed",this,1).call(this))throw new T("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new T("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Me.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];Ns.constructor_.call(this,r,l),this.validateConstruction()}}])}(Ns);pi.MINIMUM_VALID_SIZE=4;var Xi=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"setOrdinate",value:function(r,l){switch(r){case n.X:this.x=l;break;case n.Y:this.y=l;break;default:throw new T("Invalid ordinate index: "+r)}}},{key:"getZ",value:function(){return Y.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y}throw new T("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new T("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)Y.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];Y.constructor_.call(this,r.x,r.y)}else if(arguments[0]instanceof Y){var l=arguments[0];Y.constructor_.call(this,l.x,l.y)}}else if(arguments.length===2){var p=arguments[0],b=arguments[1];Y.constructor_.call(this,p,b,Y.NULL_ORDINATE)}}}])}(Y);Xi.X=0,Xi.Y=1,Xi.Z=-1,Xi.M=-1;var wr=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,l){switch(r){case n.X:this.x=l;break;case n.Y:this.y=l;break;case n.M:this._m=l;break;default:throw new T("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getZ",value:function(){return Y.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new T("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new T("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Y.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];Y.constructor_.call(this,r.x,r.y),this._m=r._m}else if(arguments[0]instanceof Y){var l=arguments[0];Y.constructor_.call(this,l.x,l.y),this._m=this.getM()}}else if(arguments.length===3){var p=arguments[0],b=arguments[1],S=arguments[2];Y.constructor_.call(this,p,b,Y.NULL_ORDINATE),this._m=S}}}])}(Y);wr.X=0,wr.Y=1,wr.Z=-1,wr.M=2;var Sa=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,l){switch(r){case Y.X:this.x=l;break;case Y.Y:this.y=l;break;case Y.Z:this.z=l;break;case Y.M:this._m=l;break;default:throw new T("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getOrdinate",value:function(r){switch(r){case Y.X:return this.x;case Y.Y:return this.y;case Y.Z:return this.getZ();case Y.M:return this.getM()}throw new T("Invalid ordinate index: "+r)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Y.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];Y.constructor_.call(this,r),this._m=r._m}else if(arguments[0]instanceof Y){var l=arguments[0];Y.constructor_.call(this,l),this._m=this.getM()}}else if(arguments.length===4){var p=arguments[0],b=arguments[1],S=arguments[2],M=arguments[3];Y.constructor_.call(this,p,b,S),this._m=M}}}])}(Y),wo=function(){function c(){i(this,c)}return h(c,null,[{key:"measures",value:function(n){return n instanceof Xi?0:n instanceof wr||n instanceof Sa?1:0}},{key:"dimension",value:function(n){return n instanceof Xi?2:n instanceof wr?3:n instanceof Sa?4:3}},{key:"create",value:function(){if(arguments.length===1){var n=arguments[0];return c.create(n,0)}if(arguments.length===2){var r=arguments[0],l=arguments[1];return r===2?new Xi:r===3&&l===0?new Y:r===3&&l===1?new wr:r===4&&l===1?new Sa:new Y}}}])}(),Os=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"getCoordinate",value:function(r){return this.get(r)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&ne(arguments[0],Q)){for(var r=arguments[1],l=!1,p=arguments[0].iterator();p.hasNext();)this.add(p.next(),r),l=!0;return l}return O(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var r=O(n,"clone",this,1).call(this),l=0;l<this.size();l++)r.add(l,this.get(l).clone());return r}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(n.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(n.coordArrayType);for(var r=this.size(),l=new Array(r).fill(null),p=0;p<r;p++)l[p]=this.get(r-p-1);return l}}},{key:"add",value:function(){if(arguments.length===1){var r=arguments[0];return O(n,"add",this,1).call(this,r)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var l=arguments[0],p=arguments[1];return this.add(l,p,!0),!0}if(arguments[0]instanceof Y&&typeof arguments[1]=="boolean"){var b=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(b))return null;O(n,"add",this,1).call(this,b)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var S=arguments[0],M=arguments[1];return this.add(S,M),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var U=arguments[0],J=arguments[1];if(arguments[2])for(var ue=0;ue<U.length;ue++)this.add(U[ue],J);else for(var fe=U.length-1;fe>=0;fe--)this.add(U[fe],J);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Y){var Ce=arguments[0],$e=arguments[1];if(!arguments[2]){var We=this.size();if(We>0&&(Ce>0&&this.get(Ce-1).equals2D($e)||Ce<We&&this.get(Ce).equals2D($e)))return null}O(n,"add",this,1).call(this,Ce,$e)}}else if(arguments.length===4){var Ke=arguments[0],_t=arguments[1],lt=arguments[2],Rt=arguments[3],qt=1;lt>Rt&&(qt=-1);for(var cn=lt;cn!==Rt;cn+=qt)this.add(Ke[cn],_t);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var r=this.get(0).copy();this.add(r,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.ensureCapacity(l.length),this.add(l,p)}}}}])}(je);Os.coordArrayType=new Array(0).fill(null);var Xt=function(){function c(){i(this,c)}return h(c,null,[{key:"isRing",value:function(n){return!(n.length<4)&&!!n[0].equals2D(n[n.length-1])}},{key:"ptNotInList",value:function(n,r){for(var l=0;l<n.length;l++){var p=n[l];if(c.indexOf(p,r)<0)return p}return null}},{key:"scroll",value:function(n,r){var l=c.indexOf(r,n);if(l<0)return null;var p=new Array(n.length).fill(null);Xn.arraycopy(n,l,p,0,n.length-l),Xn.arraycopy(n,0,p,n.length-l,l),Xn.arraycopy(p,0,n,0,n.length)}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];if(n===r)return!0;if(n===null||r===null||n.length!==r.length)return!1;for(var l=0;l<n.length;l++)if(!n[l].equals(r[l]))return!1;return!0}if(arguments.length===3){var p=arguments[0],b=arguments[1],S=arguments[2];if(p===b)return!0;if(p===null||b===null||p.length!==b.length)return!1;for(var M=0;M<p.length;M++)if(S.compare(p[M],b[M])!==0)return!1;return!0}}},{key:"intersection",value:function(n,r){for(var l=new Os,p=0;p<n.length;p++)r.intersects(n[p])&&l.add(n[p],!0);return l.toCoordinateArray()}},{key:"measures",value:function(n){if(n===null||n.length===0)return 0;var r,l=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var b=r.value;l=Math.max(l,wo.measures(b))}}catch(S){p.e(S)}finally{p.f()}return l}},{key:"hasRepeatedPoints",value:function(n){for(var r=1;r<n.length;r++)if(n[r-1].equals(n[r]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(n){return c.hasRepeatedPoints(n)?new Os(n,!1).toCoordinateArray():n}},{key:"reverse",value:function(n){for(var r=n.length-1,l=Math.trunc(r/2),p=0;p<=l;p++){var b=n[p];n[p]=n[r-p],n[r-p]=b}}},{key:"removeNull",value:function(n){for(var r=0,l=0;l<n.length;l++)n[l]!==null&&r++;var p=new Array(r).fill(null);if(r===0)return p;for(var b=0,S=0;S<n.length;S++)n[S]!==null&&(p[b++]=n[S]);return p}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var n=arguments[0],r=new Array(n.length).fill(null),l=0;l<n.length;l++)r[l]=n[l].copy();return r}if(arguments.length===5)for(var p=arguments[0],b=arguments[1],S=arguments[2],M=arguments[3],U=arguments[4],J=0;J<U;J++)S[M+J]=p[b+J].copy()}},{key:"isEqualReversed",value:function(n,r){for(var l=0;l<n.length;l++){var p=n[l],b=r[n.length-l-1];if(p.compareTo(b)!==0)return!1}return!0}},{key:"envelope",value:function(n){for(var r=new Ne,l=0;l<n.length;l++)r.expandToInclude(n[l]);return r}},{key:"toCoordinateArray",value:function(n){return n.toArray(c.coordArrayType)}},{key:"dimension",value:function(n){if(n===null||n.length===0)return 3;var r,l=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var b=r.value;l=Math.max(l,wo.dimension(b))}}catch(S){p.e(S)}finally{p.f()}return l}},{key:"atLeastNCoordinatesOrNothing",value:function(n,r){return r.length>=n?r:[]}},{key:"indexOf",value:function(n,r){for(var l=0;l<r.length;l++)if(n.equals(r[l]))return l;return-1}},{key:"increasingDirection",value:function(n){for(var r=0;r<Math.trunc(n.length/2);r++){var l=n.length-1-r,p=n[r].compareTo(n[l]);if(p!==0)return p}return 1}},{key:"compare",value:function(n,r){for(var l=0;l<n.length&&l<r.length;){var p=n[l].compareTo(r[l]);if(p!==0)return p;l++}return l<r.length?-1:l<n.length?1:0}},{key:"minCoordinate",value:function(n){for(var r=null,l=0;l<n.length;l++)(r===null||r.compareTo(n[l])>0)&&(r=n[l]);return r}},{key:"extract",value:function(n,r,l){r=Wr.clamp(r,0,n.length);var p=(l=Wr.clamp(l,-1,n.length))-r+1;l<0&&(p=0),r>=n.length&&(p=0),l<r&&(p=0);var b=new Array(p).fill(null);if(p===0)return b;for(var S=0,M=r;M<=l;M++)b[S++]=n[M];return b}}])}(),sd=function(){return h(function c(){i(this,c)},[{key:"compare",value:function(c,n){var r=c,l=n;return Xt.compare(r,l)}},{key:"interfaces_",get:function(){return[we]}}])}(),ko=function(){return h(function c(){i(this,c)},[{key:"compare",value:function(c,n){var r=c,l=n;if(r.length<l.length)return-1;if(r.length>l.length)return 1;if(r.length===0)return 0;var p=Xt.compare(r,l);return Xt.isEqualReversed(r,l)?0:p}},{key:"OLDcompare",value:function(c,n){var r=c,l=n;if(r.length<l.length)return-1;if(r.length>l.length)return 1;if(r.length===0)return 0;for(var p=Xt.increasingDirection(r),b=Xt.increasingDirection(l),S=p>0?0:r.length-1,M=b>0?0:r.length-1,U=0;U<r.length;U++){var J=r[S].compareTo(l[M]);if(J!==0)return J;S+=p,M+=b}return 0}},{key:"interfaces_",get:function(){return[we]}}])}();Xt.ForwardComparator=sd,Xt.BidirectionalComparator=ko,Xt.coordArrayType=new Array(0).fill(null);var Lo=function(){return h(function c(n){i(this,c),this.str=n},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),As=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getM",value:function(n){return this.hasM()?this._coordinates[n].getM():le.NaN}},{key:"setOrdinate",value:function(n,r,l){switch(r){case Ye.X:this._coordinates[n].x=l;break;case Ye.Y:this._coordinates[n].y=l;break;default:this._coordinates[n].setOrdinate(r,l)}}},{key:"getZ",value:function(n){return this.hasZ()?this._coordinates[n].getZ():le.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(n,r){switch(r){case Ye.X:return this._coordinates[n].x;case Ye.Y:return this._coordinates[n].y;default:return this._coordinates[n].getOrdinate(r)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var n=arguments[0];return this._coordinates[n]}if(arguments.length===2){var r=arguments[0];arguments[1].setCoordinate(this._coordinates[r])}}},{key:"getCoordinateCopy",value:function(n){var r=this.createCoordinate();return r.setCoordinate(this._coordinates[n]),r}},{key:"createCoordinate",value:function(){return wo.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(n){return this._coordinates[n].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(n){for(var r=0;r<this._coordinates.length;r++)n.expandToInclude(this._coordinates[r]);return n}},{key:"copy",value:function(){for(var n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++){var l=this.createCoordinate();l.setCoordinate(this._coordinates[r]),n[r]=l}return new c(n,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var n=new Lo(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)n.append(", "),n.append(this._coordinates[r]);return n.append(")"),n.toString()}return"()"}},{key:"getY",value:function(n){return this._coordinates[n].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ye,D]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];c.constructor_.call(this,n,Xt.dimension(n),Xt.measures(n))}else if(Number.isInteger(arguments[0])){var r=arguments[0];this._coordinates=new Array(r).fill(null);for(var l=0;l<r;l++)this._coordinates[l]=new Y}else if(ne(arguments[0],Ye)){var p=arguments[0];if(p===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=p.getDimension(),this._measures=p.getMeasures(),this._coordinates=new Array(p.size()).fill(null);for(var b=0;b<this._coordinates.length;b++)this._coordinates[b]=p.getCoordinateCopy(b)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var S=arguments[0],M=arguments[1];c.constructor_.call(this,S,M,Xt.measures(S))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var U=arguments[0],J=arguments[1];this._coordinates=new Array(U).fill(null),this._dimension=J;for(var ue=0;ue<U;ue++)this._coordinates[ue]=wo.create(J)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var fe=arguments[0],Ce=arguments[1],$e=arguments[2];this._dimension=Ce,this._measures=$e,this._coordinates=fe===null?new Array(0).fill(null):fe}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var We=arguments[0],Ke=arguments[1],_t=arguments[2];this._coordinates=new Array(We).fill(null),this._dimension=Ke,this._measures=_t;for(var lt=0;lt<We;lt++)this._coordinates[lt]=this.createCoordinate()}}}}])}(),Ca=function(){function c(){i(this,c)}return h(c,[{key:"readResolve",value:function(){return c.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new As(arguments[0]);if(ne(arguments[0],Ye))return new As(arguments[0])}else{if(arguments.length===2){var n=arguments[1];return n>3&&(n=3),n<2&&(n=2),new As(arguments[0],n)}if(arguments.length===3){var r=arguments[2],l=arguments[1]-r;return r>1&&(r=1),l>3&&(l=3),l<2&&(l=2),new As(arguments[0],l+r,r)}}}},{key:"interfaces_",get:function(){return[Ea,D]}}],[{key:"instance",value:function(){return c.instanceObject}}])}();Ca.instanceObject=new Ca;var Pa=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&O(n,"equalsExact",this,1).call(this,r,l)}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Me.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var r=new je,l=0;l<this._geometries.length;l++)for(var p=this._geometries[l].getBoundary(),b=0;b<p.getNumGeometries();b++)r.add(p.getGeometryN(b));var S=new Array(r.size()).fill(null);return this.getFactory().createMultiLineString(r.toArray(S))}},{key:"getGeometryType",value:function(){return Me.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Xe]}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];wn.constructor_.call(this,r,l)}}])}(wn),tl=function(){return h(function c(){i(this,c)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),Ia=function(c){function n(){var r;return i(this,n),(r=o(this,n)).map=new Map,r}return w(n,c),h(n,[{key:"get",value:function(r){return this.map.get(r)||null}},{key:"put",value:function(r,l){return this.map.set(r,l),l}},{key:"values",value:function(){for(var r=new je,l=this.map.values(),p=l.next();!p.done;)r.add(p.value),p=l.next();return r}},{key:"entrySet",value:function(){var r=new be;return this.map.entries().forEach(function(l){return r.add(l)}),r}},{key:"size",value:function(){return this.map.size()}}])}(tl),kn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this._modelType===r._modelType&&this._scale===r._scale}},{key:"compareTo",value:function(n){var r=n,l=this.getMaximumSignificantDigits(),p=r.getMaximumSignificantDigits();return Ge.compare(l,p)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===c.FLOATING||this._modelType===c.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var n="UNKNOWN";return this._modelType===c.FLOATING?n="Floating":this._modelType===c.FLOATING_SINGLE?n="Floating-Single":this._modelType===c.FIXED&&(n="Fixed (Scale="+this.getScale()+")"),n}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var n=arguments[0];return le.isNaN(n)||this._modelType===c.FLOATING_SINGLE?n:this._modelType===c.FIXED?Math.round(n*this._scale)/this._scale:n}if(arguments[0]instanceof Y){var r=arguments[0];if(this._modelType===c.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}}},{key:"getMaximumSignificantDigits",value:function(){var n=16;return this._modelType===c.FLOATING?n=16:this._modelType===c.FLOATING_SINGLE?n=6:this._modelType===c.FIXED&&(n=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),n}},{key:"setScale",value:function(n){this._scale=Math.abs(n)}},{key:"interfaces_",get:function(){return[D,C]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=c.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof kr){var n=arguments[0];this._modelType=n,n===c.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var r=arguments[0];this._modelType=c.FIXED,this.setScale(r)}else if(arguments[0]instanceof c){var l=arguments[0];this._modelType=l._modelType,this._scale=l._scale}}}},{key:"mostPrecise",value:function(n,r){return n.compareTo(r)>=0?n:r}}])}(),kr=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"readResolve",value:function(){return c.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){this._name=null;var n=arguments[0];this._name=n,c.nameToTypeMap.put(n,this)}}])}();kr.nameToTypeMap=new Ia,kn.Type=kr,kn.FIXED=new kr("FIXED"),kn.FLOATING=new kr("FLOATING"),kn.FLOATING_SINGLE=new kr("FLOATING SINGLE"),kn.maximumPreciseValue=9007199254740992;var Eo=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&O(n,"equalsExact",this,1).call(this,r,l)}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?De.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Me.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new ge}},{key:"getGeometryType",value:function(){return Me.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Xu]}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];wn.constructor_.call(this,r,l)}}])}(wn),mi=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"createEmpty",value:function(n){switch(n){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new T("Invalid dimension: "+n)}}},{key:"toGeometry",value:function(n){return n.isNull()?this.createPoint():n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new Y(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new Y(n.getMinX(),n.getMinY()),new Y(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new Y(n.getMinX(),n.getMinY()),new Y(n.getMinX(),n.getMaxY()),new Y(n.getMaxX(),n.getMaxY()),new Y(n.getMaxX(),n.getMinY()),new Y(n.getMinX(),n.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLineString(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(ne(arguments[0],Ye))return new Ns(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Eo(null,this):arguments.length===1?new Eo(arguments[0],this):void 0}},{key:"buildGeometry",value:function(n){for(var r=null,l=!1,p=!1,b=n.iterator();b.hasNext();){var S=b.next(),M=S.getTypeCode();r===null&&(r=M),M!==r&&(l=!0),S instanceof wn&&(p=!0)}if(r===null)return this.createGeometryCollection();if(l||p)return this.createGeometryCollection(c.toGeometryArray(n));var U=n.iterator().next();if(n.size()>1){if(U instanceof Ms)return this.createMultiPolygon(c.toPolygonArray(n));if(U instanceof Ns)return this.createMultiLineString(c.toLineStringArray(n));if(U instanceof Ta)return this.createMultiPoint(c.toPointArray(n));Pe.shouldNeverReachHere("Unhandled geometry type: "+U.getGeometryType())}return U}},{key:"createMultiPointFromCoords",value:function(n){return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Y){var n=arguments[0];return this.createPoint(n!==null?this.getCoordinateSequenceFactory().create([n]):null)}if(ne(arguments[0],Ye))return new Ta(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(ne(arguments[0],Ye)){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Array){var r=arguments[0];return this.createPolygon(this.createLinearRing(r))}if(arguments[0]instanceof pi){var l=arguments[0];return this.createPolygon(l,null)}}else if(arguments.length===2)return new Ms(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new wn(null,this):arguments.length===1?new wn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLinearRing(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(ne(arguments[0],Ye))return new pi(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Pa(null,this):arguments.length===1?new Pa(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new bo(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new bo(arguments[0],this);if(ne(arguments[0],Ye)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),l=0;l<n.size();l++){var p=this.getCoordinateSequenceFactory().create(1,n.getDimension(),n.getMeasures());br.copy(n,l,p,0,1),r[l]=this.createPoint(p)}return this.createMultiPoint(r)}}}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)c.constructor_.call(this,new kn,0);else if(arguments.length===1){if(ne(arguments[0],Ea)){var n=arguments[0];c.constructor_.call(this,new kn,0,n)}else if(arguments[0]instanceof kn){var r=arguments[0];c.constructor_.call(this,r,0,c.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];c.constructor_.call(this,l,p,c.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var b=arguments[0],S=arguments[1],M=arguments[2];this._precisionModel=b,this._coordinateSequenceFactory=M,this._SRID=S}}},{key:"toMultiPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toGeometryArray",value:function(n){if(n===null)return null;var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Ca.instance()}},{key:"toMultiLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toMultiPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLinearRingArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"createPointFromInternalCoord",value:function(n,r){return r.getPrecisionModel().makePrecise(n),r.getFactory().createPoint(n)}}])}(),gt="XY",Gt="XYZ",To="XYM",Yr="XYZM",Lr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},xo="EMPTY",st=1,Tt=2,gi=3,Rs=4,ln=5,od=6;for(var So in Lr)Lr[So].toUpperCase();var Er=function(){return h(function c(n){i(this,c),this.wkt=n,this.index_=-1},[{key:"isAlpha_",value:function(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"}},{key:"isNumeric_",value:function(c,n){return c>="0"&&c<="9"||c=="."&&!(n!==void 0&&n)}},{key:"isWhiteSpace_",value:function(c){return c==" "||c=="	"||c=="\r"||c==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var c,n=this.nextChar_(),r=this.index_,l=n;if(n=="(")c=Tt;else if(n==",")c=ln;else if(n==")")c=gi;else if(this.isNumeric_(n)||n=="-")c=Rs,l=this.readNumber_();else if(this.isAlpha_(n))c=st,l=this.readText_();else{if(this.isWhiteSpace_(n))return this.nextToken();if(n!=="")throw new Error("Unexpected character: "+n);c=od}return{position:r,value:l,type:c}}},{key:"readNumber_",value:function(){var c,n=this.index_,r=!1,l=!1;do c=="."?r=!0:c!="e"&&c!="E"||(l=!0),c=this.nextChar_();while(this.isNumeric_(c,r)||!l&&(c=="e"||c=="E")||l&&(c=="-"||c=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}},{key:"readText_",value:function(){var c,n=this.index_;do c=this.nextChar_();while(this.isAlpha_(c));return this.wkt.substring(n,this.index_--).toUpperCase()}}])}(),Kt=function(){return h(function c(n,r){i(this,c),this.lexer_=n,this.token_,this.layout_=gt,this.factory=r},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(c){return this.token_.type==c}},{key:"match",value:function(c){var n=this.isTokenType(c);return n&&this.consume_(),n}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var c=gt,n=this.token_;if(this.isTokenType(st)){var r=n.value;r==="Z"?c=Gt:r==="M"?c=To:r==="ZM"&&(c=Yr),c!==gt&&this.consume_()}return c}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Tt)){var c=[];do c.push(this.parseGeometry_());while(this.match(ln));if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Tt)){var c=this.parsePoint_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Tt)){var c=this.parsePointList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Tt)){var c=this.parseLineStringTextList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var c;if(this.match(Tt)){if(c=this.token_.type==Tt?this.parsePointTextList_():this.parsePointList_(),this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Tt)){var c=this.parseLineStringTextList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Tt)){var c=this.parsePolygonTextList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var c=[],n=this.layout_.length,r=0;r<n;++r){var l=this.token_;if(!this.match(Rs))break;c.push(l.value)}if(c.length==n)return c;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var c=[this.parsePoint_()];this.match(ln);)c.push(this.parsePoint_());return c}},{key:"parsePointTextList_",value:function(){for(var c=[this.parsePointText_()];this.match(ln);)c.push(this.parsePointText_());return c}},{key:"parseLineStringTextList_",value:function(){for(var c=[this.parseLineStringText_()];this.match(ln);)c.push(this.parseLineStringText_());return c}},{key:"parsePolygonTextList_",value:function(){for(var c=[this.parsePolygonText_()];this.match(ln);)c.push(this.parsePolygonText_());return c}},{key:"isEmptyGeometry_",value:function(){var c=this.isTokenType(st)&&this.token_.value==xo;return c&&this.consume_(),c}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var c=this.factory,n=function(Ke){return u(Y,B(Ke))},r=function(Ke){var _t=Ke.map(function(lt){return c.createLinearRing(lt.map(n))});return _t.length>1?c.createPolygon(_t[0],_t.slice(1)):c.createPolygon(_t[0])},l=this.token_;if(this.match(st)){var p=l.value;if(this.layout_=this.parseGeometryLayout_(),p=="GEOMETRYCOLLECTION"){var b=this.parseGeometryCollectionText_();return c.createGeometryCollection(b)}switch(p){case"POINT":var S=this.parsePointText_();return S?c.createPoint(u(Y,B(S))):c.createPoint();case"LINESTRING":var M=this.parseLineStringText_().map(n);return c.createLineString(M);case"LINEARRING":var U=this.parseLineStringText_().map(n);return c.createLinearRing(U);case"POLYGON":var J=this.parsePolygonText_();return J&&J.length!==0?r(J):c.createPolygon();case"MULTIPOINT":var ue=this.parseMultiPointText_();if(!ue||ue.length===0)return c.createMultiPoint();var fe=ue.map(n).map(function(Ke){return c.createPoint(Ke)});return c.createMultiPoint(fe);case"MULTILINESTRING":var Ce=this.parseMultiLineStringText_().map(function(Ke){return c.createLineString(Ke.map(n))});return c.createMultiLineString(Ce);case"MULTIPOLYGON":var $e=this.parseMultiPolygonText_();if(!$e||$e.length===0)return c.createMultiPolygon();var We=$e.map(r);return c.createMultiPolygon(We);default:throw new Error("Invalid geometry type: "+p)}}throw new Error(this.formatErrorMessage_())}}])}();function Ki(c){if(c.isEmpty())return"";var n=c.getCoordinate(),r=[n.x,n.y];return n.z===void 0||Number.isNaN(n.z)||r.push(n.z),n.m===void 0||Number.isNaN(n.m)||r.push(n.m),r.join(" ")}function Oi(c){for(var n=c.getCoordinates().map(function(b){var S=[b.x,b.y];return b.z===void 0||Number.isNaN(b.z)||S.push(b.z),b.m===void 0||Number.isNaN(b.m)||S.push(b.m),S}),r=[],l=0,p=n.length;l<p;++l)r.push(n[l].join(" "));return r.join(", ")}function Xr(c){var n=[];n.push("("+Oi(c.getExteriorRing())+")");for(var r=0,l=c.getNumInteriorRing();r<l;++r)n.push("("+Oi(c.getInteriorRingN(r))+")");return n.join(", ")}var Na={Point:Ki,LineString:Oi,LinearRing:Oi,Polygon:Xr,MultiPoint:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push("("+Ki(c.getGeometryN(r))+")");return n.join(", ")},MultiLineString:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push("("+Oi(c.getGeometryN(r))+")");return n.join(", ")},MultiPolygon:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push("("+Xr(c.getGeometryN(r))+")");return n.join(", ")},GeometryCollection:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push(Kr(c.getGeometryN(r)));return n.join(", ")}};function Kr(c){var n=c.getGeometryType(),r=Na[n];n=n.toUpperCase();var l=function(p){var b="";if(p.isEmpty())return b;var S=p.getCoordinate();return S.z===void 0||Number.isNaN(S.z)||(b+="Z"),S.m===void 0||Number.isNaN(S.m)||(b+="M"),b}(c);return l.length>0&&(n+=" "+l),c.isEmpty()?n+" "+xo:n+" ("+r(c)+")"}var Ma=function(){return h(function c(n){i(this,c),this.geometryFactory=n||new mi,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(c){var n=new Er(c);return new Kt(n,this.geometryFactory).parse()}},{key:"write",value:function(c){return Kr(c)}}])}(),Ds=function(){return h(function c(n){i(this,c),this.parser=new Ma(n)},[{key:"write",value:function(c){return this.parser.write(c)}}],[{key:"toLineString",value:function(c,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+c.x+" "+c.y+", "+n.x+" "+n.y+" )"}}])}(),Ot=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getIndexAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intLineIndex[n][r]}},{key:"getTopologySummary",value:function(){var n=new Lo;return this.isEndPoint()&&n.append(" endpoint"),this._isProper&&n.append(" proper"),this.isCollinear()&&n.append(" collinear"),n.toString()}},{key:"computeIntersection",value:function(n,r,l,p){this._inputLines[0][0]=n,this._inputLines[0][1]=r,this._inputLines[1][0]=l,this._inputLines[1][1]=p,this._result=this.computeIntersect(n,r,l,p)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var n=arguments[0];this.getEdgeDistance(n,0)>this.getEdgeDistance(n,1)?(this._intLineIndex[n][0]=0,this._intLineIndex[n][1]=1):(this._intLineIndex[n][0]=1,this._intLineIndex[n][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],r=0;r<this._result;r++)if(!this._intPt[r].equals2D(this._inputLines[n][0])&&!this._intPt[r].equals2D(this._inputLines[n][1]))return!0;return!1}}},{key:"getIntersection",value:function(n){return this._intPt[n]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==c.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(n,r){return c.computeEdgeDistance(this._intPt[r],this._inputLines[n][0],this._inputLines[n][1])}},{key:"isCollinear",value:function(){return this._result===c.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Ds.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ds.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(n,r){return this._inputLines[n][r]}},{key:"isIntersection",value:function(n){for(var r=0;r<this._result;r++)if(this._intPt[r].equals2D(n))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[n][r]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Y,this._intPt[1]=new Y,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(n,r,l){var p=Math.abs(l.x-r.x),b=Math.abs(l.y-r.y),S=-1;if(n.equals(r))S=0;else if(n.equals(l))S=p>b?p:b;else{var M=Math.abs(n.x-r.x),U=Math.abs(n.y-r.y);(S=p>b?M:U)!==0||n.equals(r)||(S=Math.max(M,U))}return Pe.isTrue(!(S===0&&!n.equals(r)),"Bad distance calculation"),S}},{key:"nonRobustComputeEdgeDistance",value:function(n,r,l){var p=n.x-r.x,b=n.y-r.y,S=Math.sqrt(p*p+b*b);return Pe.isTrue(!(S===0&&!n.equals(r)),"Invalid distance calculation"),S}}])}();Ot.DONT_INTERSECT=0,Ot.DO_INTERSECT=1,Ot.COLLINEAR=2,Ot.NO_INTERSECTION=0,Ot.POINT_INTERSECTION=1,Ot.COLLINEAR_INTERSECTION=2;var Ai=function(c){function n(){return i(this,n),o(this,n)}return w(n,c),h(n,[{key:"isInSegmentEnvelopes",value:function(r){var l=new Ne(this._inputLines[0][0],this._inputLines[0][1]),p=new Ne(this._inputLines[1][0],this._inputLines[1][1]);return l.contains(r)&&p.contains(r)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return O(n,"computeIntersection",this,1).apply(this,arguments);var r=arguments[0],l=arguments[1],p=arguments[2];if(this._isProper=!1,Ne.intersects(l,p,r)&&Ze.index(l,p,r)===0&&Ze.index(p,l,r)===0)return this._isProper=!0,(r.equals(l)||r.equals(p))&&(this._isProper=!1),this._result=Ot.POINT_INTERSECTION,null;this._result=Ot.NO_INTERSECTION}},{key:"intersection",value:function(r,l,p,b){var S=this.intersectionSafe(r,l,p,b);return this.isInSegmentEnvelopes(S)||(S=new Y(n.nearestEndpoint(r,l,p,b))),this._precisionModel!==null&&this._precisionModel.makePrecise(S),S}},{key:"checkDD",value:function(r,l,p,b,S){var M=Vt.intersection(r,l,p,b),U=this.isInSegmentEnvelopes(M);Xn.out.println("DD in env = "+U+"  --------------------- "+M),S.distance(M)>1e-4&&Xn.out.println("Distance = "+S.distance(M))}},{key:"intersectionSafe",value:function(r,l,p,b){var S=La.intersection(r,l,p,b);return S===null&&(S=n.nearestEndpoint(r,l,p,b)),S}},{key:"computeCollinearIntersection",value:function(r,l,p,b){var S=Ne.intersects(r,l,p),M=Ne.intersects(r,l,b),U=Ne.intersects(p,b,r),J=Ne.intersects(p,b,l);return S&&M?(this._intPt[0]=p,this._intPt[1]=b,Ot.COLLINEAR_INTERSECTION):U&&J?(this._intPt[0]=r,this._intPt[1]=l,Ot.COLLINEAR_INTERSECTION):S&&U?(this._intPt[0]=p,this._intPt[1]=r,!p.equals(r)||M||J?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):S&&J?(this._intPt[0]=p,this._intPt[1]=l,!p.equals(l)||M||U?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):M&&U?(this._intPt[0]=b,this._intPt[1]=r,!b.equals(r)||S||J?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):M&&J?(this._intPt[0]=b,this._intPt[1]=l,!b.equals(l)||S||U?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):Ot.NO_INTERSECTION}},{key:"computeIntersect",value:function(r,l,p,b){if(this._isProper=!1,!Ne.intersects(r,l,p,b))return Ot.NO_INTERSECTION;var S=Ze.index(r,l,p),M=Ze.index(r,l,b);if(S>0&&M>0||S<0&&M<0)return Ot.NO_INTERSECTION;var U=Ze.index(p,b,r),J=Ze.index(p,b,l);return U>0&&J>0||U<0&&J<0?Ot.NO_INTERSECTION:S===0&&M===0&&U===0&&J===0?this.computeCollinearIntersection(r,l,p,b):(S===0||M===0||U===0||J===0?(this._isProper=!1,r.equals2D(p)||r.equals2D(b)?this._intPt[0]=r:l.equals2D(p)||l.equals2D(b)?this._intPt[0]=l:S===0?this._intPt[0]=new Y(p):M===0?this._intPt[0]=new Y(b):U===0?this._intPt[0]=new Y(r):J===0&&(this._intPt[0]=new Y(l))):(this._isProper=!0,this._intPt[0]=this.intersection(r,l,p,b)),Ot.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(r,l,p,b){var S=r,M=oi.pointToSegment(r,p,b),U=oi.pointToSegment(l,p,b);return U<M&&(M=U,S=l),(U=oi.pointToSegment(p,r,l))<M&&(M=U,S=p),(U=oi.pointToSegment(b,r,l))<M&&(M=U,S=b),S}}])}(Ot),Oa=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"countSegment",value:function(n,r){if(n.x<this._p.x&&r.x<this._p.x)return null;if(this._p.x===r.x&&this._p.y===r.y)return this._isPointOnSegment=!0,null;if(n.y===this._p.y&&r.y===this._p.y){var l=n.x,p=r.x;return l>p&&(l=r.x,p=n.x),this._p.x>=l&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(n.y>this._p.y&&r.y<=this._p.y||r.y>this._p.y&&n.y<=this._p.y){var b=Ze.index(n,r,this._p);if(b===Ze.COLLINEAR)return this._isPointOnSegment=!0,null;r.y<n.y&&(b=-b),b===Ze.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==N.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?N.BOUNDARY:this._crossingCount%2==1?N.INTERIOR:N.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var n=arguments[0];this._p=n}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof Y&&ne(arguments[1],Ye)){for(var n=arguments[1],r=new c(arguments[0]),l=new Y,p=new Y,b=1;b<n.size();b++)if(n.getCoordinate(b,l),n.getCoordinate(b-1,p),r.countSegment(l,p),r.isOnSegment())return r.getLocation();return r.getLocation()}if(arguments[0]instanceof Y&&arguments[1]instanceof Array){for(var S=arguments[1],M=new c(arguments[0]),U=1;U<S.length;U++){var J=S[U],ue=S[U-1];if(M.countSegment(J,ue),M.isOnSegment())return M.getLocation()}return M.getLocation()}}}])}(),Jr=function(){function c(){i(this,c)}return h(c,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof Y&&ne(arguments[1],Ye)){for(var n=arguments[0],r=arguments[1],l=new Ai,p=new Y,b=new Y,S=r.size(),M=1;M<S;M++)if(r.getCoordinate(M-1,p),r.getCoordinate(M,b),l.computeIntersection(n,p,b),l.hasIntersection())return!0;return!1}if(arguments[0]instanceof Y&&arguments[1]instanceof Array){for(var U=arguments[0],J=arguments[1],ue=new Ai,fe=1;fe<J.length;fe++){var Ce=J[fe-1],$e=J[fe];if(ue.computeIntersection(U,Ce,$e),ue.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(n,r){return Oa.locatePointInRing(n,r)}},{key:"isInRing",value:function(n,r){return c.locateInRing(n,r)!==N.EXTERIOR}}])}(),An=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"setAllLocations",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]=n}},{key:"isNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==N.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]===N.NONE&&(this.location[r]=n)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(n){if(n.location.length>this.location.length){var r=new Array(3).fill(null);r[$.ON]=this.location[$.ON],r[$.LEFT]=N.NONE,r[$.RIGHT]=N.NONE,this.location=r}for(var l=0;l<this.location.length;l++)this.location[l]===N.NONE&&l<n.location.length&&(this.location[l]=n.location[l])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var n=this.location[$.LEFT];this.location[$.LEFT]=this.location[$.RIGHT],this.location[$.RIGHT]=n}},{key:"toString",value:function(){var n=new ye;return this.location.length>1&&n.append(N.toLocationSymbol(this.location[$.LEFT])),n.append(N.toLocationSymbol(this.location[$.ON])),this.location.length>1&&n.append(N.toLocationSymbol(this.location[$.RIGHT])),n.toString()}},{key:"setLocations",value:function(n,r,l){this.location[$.ON]=n,this.location[$.LEFT]=r,this.location[$.RIGHT]=l}},{key:"get",value:function(n){return n<this.location.length?this.location[n]:N.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===N.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var n=arguments[0];this.setLocation($.ON,n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.location[r]=l}}},{key:"init",value:function(n){this.location=new Array(n).fill(null),this.setAllLocations(N.NONE)}},{key:"isEqualOnSide",value:function(n,r){return this.location[r]===n.location[r]}},{key:"allPositionsEqual",value:function(n){for(var r=0;r<this.location.length;r++)if(this.location[r]!==n)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[$.ON]=r}else if(arguments[0]instanceof c){var l=arguments[0];if(this.init(l.location.length),l!==null)for(var p=0;p<this.location.length;p++)this.location[p]=l.location[p]}}else if(arguments.length===3){var b=arguments[0],S=arguments[1],M=arguments[2];this.init(3),this.location[$.ON]=b,this.location[$.LEFT]=S,this.location[$.RIGHT]=M}}}])}(),Cn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getGeometryCount",value:function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n}},{key:"setAllLocations",value:function(n,r){this.elt[n].setAllLocations(r)}},{key:"isNull",value:function(n){return this.elt[n].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var n=arguments[0];this.setAllLocationsIfNull(0,n),this.setAllLocationsIfNull(1,n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.elt[r].setAllLocationsIfNull(l)}}},{key:"isLine",value:function(n){return this.elt[n].isLine()}},{key:"merge",value:function(n){for(var r=0;r<2;r++)this.elt[r]===null&&n.elt[r]!==null?this.elt[r]=new An(n.elt[r]):this.elt[r].merge(n.elt[r])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var n=arguments[0];return this.elt[n].get($.ON)}if(arguments.length===2){var r=arguments[0],l=arguments[1];return this.elt[r].get(l)}}},{key:"toString",value:function(){var n=new ye;return this.elt[0]!==null&&(n.append("A:"),n.append(this.elt[0].toString())),this.elt[1]!==null&&(n.append(" B:"),n.append(this.elt[1].toString())),n.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var n=arguments[0];return this.elt[n].isArea()}}},{key:"isAnyNull",value:function(n){return this.elt[n].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[n].setLocation($.ON,r)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2];this.elt[l].setLocation(p,b)}}},{key:"isEqualOnSide",value:function(n,r){return this.elt[0].isEqualOnSide(n.elt[0],r)&&this.elt[1].isEqualOnSide(n.elt[1],r)}},{key:"allPositionsEqual",value:function(n,r){return this.elt[n].allPositionsEqual(r)}},{key:"toLine",value:function(n){this.elt[n].isArea()&&(this.elt[n]=new An(this.elt[n].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new An(n),this.elt[1]=new An(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.elt[0]=new An(r.elt[0]),this.elt[1]=new An(r.elt[1])}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.elt[0]=new An(N.NONE),this.elt[1]=new An(N.NONE),this.elt[l].setLocation(p)}else if(arguments.length===3){var b=arguments[0],S=arguments[1],M=arguments[2];this.elt[0]=new An(b,S,M),this.elt[1]=new An(b,S,M)}else if(arguments.length===4){var U=arguments[0],J=arguments[1],ue=arguments[2],fe=arguments[3];this.elt[0]=new An(N.NONE,N.NONE,N.NONE),this.elt[1]=new An(N.NONE,N.NONE,N.NONE),this.elt[U].setLocations(J,ue,fe)}}},{key:"toLineLabel",value:function(n){for(var r=new c(N.NONE),l=0;l<2;l++)r.setLocation(l,n.getLocation(l));return r}}])}(),Co=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var c=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)c[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(c),this._isHole=Ze.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(c){this._startDe=c;var n=c,r=!0;do{if(n===null)throw new hn("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new hn("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var l=n.getLabel();Pe.isTrue(l.isArea()),this.mergeLabel(l),this.addPoints(n.getEdge(),n.isForward(),r),r=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(c){return this._pts.get(c)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var c=this._startDe;do{var n=c.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),c=this.getNext(c)}while(c!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(c,n,r){var l=c.getCoordinates();if(n){var p=1;r&&(p=0);for(var b=p;b<l.length;b++)this._pts.add(l[b])}else{var S=l.length-2;r&&(S=l.length-1);for(var M=S;M>=0;M--)this._pts.add(l[M])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var c=this._startDe;do c.getEdge().setInResult(!0),c=c.getNext();while(c!==this._startDe)}},{key:"containsPoint",value:function(c){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(c)||!Jr.isInRing(c,n.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();)if(r.next().containsPoint(c))return!1;return!0}},{key:"addHole",value:function(c){this._holes.add(c)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var c=arguments[0];this.mergeLabel(c,0),this.mergeLabel(c,1)}else if(arguments.length===2){var n=arguments[1],r=arguments[0].getLocation(n,$.RIGHT);if(r===N.NONE)return null;if(this._label.getLocation(n)===N.NONE)return this._label.setLocation(n,r),null}}},{key:"setShell",value:function(c){this._shell=c,c!==null&&c.addHole(this)}},{key:"toPolygon",value:function(c){for(var n=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)n[r]=this._holes.get(r).getLinearRing();return c.createPolygon(this.getLinearRing(),n)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new je,this._pts=new je,this._label=new Cn(N.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new je,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var c=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(c),this.computeRing()}}}}])}(),ot=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"setEdgeRing",value:function(r,l){r.setMinEdgeRing(l)}},{key:"getNext",value:function(r){return r.getNextMin()}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];Co.constructor_.call(this,r,l)}}])}(Co),_i=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"buildMinimalRings",value:function(){var r=new je,l=this._startDe;do{if(l.getMinEdgeRing()===null){var p=new ot(l,this._geometryFactory);r.add(p)}l=l.getNext()}while(l!==this._startDe);return r}},{key:"setEdgeRing",value:function(r,l){r.setEdgeRing(l)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var r=this._startDe;do r.getNode().getEdges().linkMinimalDirectedEdges(this),r=r.getNext();while(r!==this._startDe)}},{key:"getNext",value:function(r){return r.getNext()}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];Co.constructor_.call(this,r,l)}}])}(Co),At=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(c){this._isVisited=c}},{key:"setInResult",value:function(c){this._isInResult=c}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(c){this._label=c}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(c){this._isCovered=c,this._isCoveredSet=!0}},{key:"updateIM",value:function(c){Pe.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(c)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._label=c}}}}])}(),Bs=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"isIncidentEdgeInResult",value:function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();)if(r.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(r){r.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(r){}},{key:"computeMergedLocation",value:function(r,l){var p=N.NONE;if(p=this._label.getLocation(l),!r.isNull(l)){var b=r.getLocation(l);p!==N.BOUNDARY&&(p=b)}return p}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return O(n,"setLabel",this,1).apply(this,arguments);var r=arguments[0],l=arguments[1];this._label===null?this._label=new Cn(r,l):this._label.setLocation(r,l)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Cn)for(var l=arguments[0],p=0;p<2;p++){var b=this.computeMergedLocation(l,p);this._label.getLocation(p)===N.NONE&&this._label.setLocation(p,b)}}},{key:"add",value:function(r){this._edges.insert(r),r.setNode(this)}},{key:"setLabelBoundary",value:function(r){if(this._label===null)return null;var l=N.NONE;this._label!==null&&(l=this._label.getLocation(r));var p=null;switch(l){case N.BOUNDARY:p=N.INTERIOR;break;case N.INTERIOR:default:p=N.BOUNDARY}this._label.setLocation(r,p)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var r=arguments[0],l=arguments[1];this._coord=r,this._edges=l,this._label=new Cn(0,N.NONE)}}])}(At),Aa=function(c){function n(){return i(this,n),o(this,n,arguments)}return w(n,c),h(n)}(tl);function Po(c){return c==null?0:c.color}function vt(c){return c==null?null:c.parent}function mn(c,n){c!==null&&(c.color=n)}function Fs(c){return c==null?null:c.left}function Qr(c){return c==null?null:c.right}var Wt=function(c){function n(){var r;return i(this,n),(r=o(this,n)).root_=null,r.size_=0,r}return w(n,c),h(n,[{key:"get",value:function(r){for(var l=this.root_;l!==null;){var p=r.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return l.value;l=l.right}}return null}},{key:"put",value:function(r,l){if(this.root_===null)return this.root_={key:r,value:l,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var p,b,S=this.root_;do if(p=S,(b=r.compareTo(S.key))<0)S=S.left;else{if(!(b>0)){var M=S.value;return S.value=l,M}S=S.right}while(S!==null);var U={key:r,left:null,right:null,value:l,parent:p,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return b<0?p.left=U:p.right=U,this.fixAfterInsertion(U),this.size_++,null}},{key:"fixAfterInsertion",value:function(r){var l;for(r.color=1;r!=null&&r!==this.root_&&r.parent.color===1;)vt(r)===Fs(vt(vt(r)))?Po(l=Qr(vt(vt(r))))===1?(mn(vt(r),0),mn(l,0),mn(vt(vt(r)),1),r=vt(vt(r))):(r===Qr(vt(r))&&(r=vt(r),this.rotateLeft(r)),mn(vt(r),0),mn(vt(vt(r)),1),this.rotateRight(vt(vt(r)))):Po(l=Fs(vt(vt(r))))===1?(mn(vt(r),0),mn(l,0),mn(vt(vt(r)),1),r=vt(vt(r))):(r===Fs(vt(r))&&(r=vt(r),this.rotateRight(r)),mn(vt(r),0),mn(vt(vt(r)),1),this.rotateLeft(vt(vt(r))));this.root_.color=0}},{key:"values",value:function(){var r=new je,l=this.getFirstEntry();if(l!==null)for(r.add(l.value);(l=n.successor(l))!==null;)r.add(l.value);return r}},{key:"entrySet",value:function(){var r=new be,l=this.getFirstEntry();if(l!==null)for(r.add(l);(l=n.successor(l))!==null;)r.add(l);return r}},{key:"rotateLeft",value:function(r){if(r!=null){var l=r.right;r.right=l.left,l.left!=null&&(l.left.parent=r),l.parent=r.parent,r.parent==null?this.root_=l:r.parent.left===r?r.parent.left=l:r.parent.right=l,l.left=r,r.parent=l}}},{key:"rotateRight",value:function(r){if(r!=null){var l=r.left;r.left=l.right,l.right!=null&&(l.right.parent=r),l.parent=r.parent,r.parent==null?this.root_=l:r.parent.right===r?r.parent.right=l:r.parent.left=l,l.right=r,r.parent=l}}},{key:"getFirstEntry",value:function(){var r=this.root_;if(r!=null)for(;r.left!=null;)r=r.left;return r}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(r){for(var l=this.root_;l!==null;){var p=r.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return!0;l=l.right}}return!1}}],[{key:"successor",value:function(r){var l;if(r===null)return null;if(r.right!==null){for(l=r.right;l.left!==null;)l=l.left;return l}l=r.parent;for(var p=r;l!==null&&p===l.right;)p=l,l=l.parent;return l}}])}(Aa),Ji=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"find",value:function(c){return this.nodeMap.get(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof Y){var c=arguments[0],n=this.nodeMap.get(c);return n===null&&(n=this.nodeFact.createNode(c),this.nodeMap.put(c,n)),n}if(arguments[0]instanceof Bs){var r=arguments[0],l=this.nodeMap.get(r.getCoordinate());return l===null?(this.nodeMap.put(r.getCoordinate(),r),r):(l.mergeLabel(r),l)}}},{key:"print",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(c){for(var n=new je,r=this.iterator();r.hasNext();){var l=r.next();l.getLabel().getLocation(c)===N.BOUNDARY&&n.add(l)}return n}},{key:"add",value:function(c){var n=c.getCoordinate();this.addNode(n).add(c)}}],[{key:"constructor_",value:function(){this.nodeMap=new Wt,this.nodeFact=null;var c=arguments[0];this.nodeFact=c}}])}(),gn=function(){function c(){i(this,c)}return h(c,null,[{key:"isNorthern",value:function(n){return n===c.NE||n===c.NW}},{key:"isOpposite",value:function(n,r){return n!==r&&(n-r+4)%4===2}},{key:"commonHalfPlane",value:function(n,r){if(n===r)return n;if((n-r+4)%4===2)return-1;var l=n<r?n:r;return l===0&&(n>r?n:r)===3?3:l}},{key:"isInHalfPlane",value:function(n,r){return r===c.SE?n===c.SE||n===c.SW:n===r||n===r+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new T("Cannot compute the quadrant for point ( "+n+", "+r+" )");return n>=0?r>=0?c.NE:c.SE:r>=0?c.NW:c.SW}if(arguments[0]instanceof Y&&arguments[1]instanceof Y){var l=arguments[0],p=arguments[1];if(p.x===l.x&&p.y===l.y)throw new T("Cannot compute the quadrant for two identical points "+l);return p.x>=l.x?p.y>=l.y?c.NE:c.SE:p.y>=l.y?c.NW:c.SW}}}])}();gn.NE=0,gn.NW=1,gn.SW=2,gn.SE=3;var Ra=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compareDirection",value:function(n){return this._dx===n._dx&&this._dy===n._dy?0:this._quadrant>n._quadrant?1:this._quadrant<n._quadrant?-1:Ze.index(n._p0,n._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(n){this._node=n}},{key:"print",value:function(n){var r=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),p=l.lastIndexOf("."),b=l.substring(p+1);n.print("  "+b+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+r+"   "+this._label)}},{key:"compareTo",value:function(n){var r=n;return this.compareDirection(r)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var n=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),l=r.lastIndexOf(".");return"  "+r.substring(l+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label}},{key:"computeLabel",value:function(n){}},{key:"init",value:function(n,r){this._p0=n,this._p1=r,this._dx=r.x-n.x,this._dy=r.y-n.y,this._quadrant=gn.quadrant(this._dx,this._dy),Pe.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var n=arguments[0];this._edge=n}else if(arguments.length===3){var r=arguments[0],l=arguments[1],p=arguments[2];c.constructor_.call(this,r,l,p,null)}else if(arguments.length===4){var b=arguments[0],S=arguments[1],M=arguments[2],U=arguments[3];c.constructor_.call(this,b),this.init(S,M),this._label=U}}}])}(),Da=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(r){return this._depth[r]}},{key:"setVisited",value:function(r){this._isVisited=r}},{key:"computeDirectedLabel",value:function(){this._label=new Cn(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(r,l){if(this._depth[r]!==-999&&this._depth[r]!==l)throw new hn("assigned depths do not match",this.getCoordinate());this._depth[r]=l}},{key:"isInteriorAreaEdge",value:function(){for(var r=!0,l=0;l<2;l++)this._label.isArea(l)&&this._label.getLocation(l,$.LEFT)===N.INTERIOR&&this._label.getLocation(l,$.RIGHT)===N.INTERIOR||(r=!1);return r}},{key:"setNextMin",value:function(r){this._nextMin=r}},{key:"print",value:function(r){O(n,"print",this,1).call(this,r),r.print(" "+this._depth[$.LEFT]+"/"+this._depth[$.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")}},{key:"setMinEdgeRing",value:function(r){this._minEdgeRing=r}},{key:"isLineEdge",value:function(){var r=this._label.isLine(0)||this._label.isLine(1),l=!this._label.isArea(0)||this._label.allPositionsEqual(0,N.EXTERIOR),p=!this._label.isArea(1)||this._label.allPositionsEqual(1,N.EXTERIOR);return r&&l&&p}},{key:"setEdgeRing",value:function(r){this._edgeRing=r}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var r=this._edge.getDepthDelta();return this._isForward||(r=-r),r}},{key:"setInResult",value:function(r){this._isInResult=r}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(r){this.print(r),r.print(" "),this._isForward?this._edge.print(r):this._edge.printReverse(r)}},{key:"setSym",value:function(r){this._sym=r}},{key:"setVisitedEdge",value:function(r){this.setVisited(r),this._sym.setVisited(r)}},{key:"setEdgeDepths",value:function(r,l){var p=this.getEdge().getDepthDelta();this._isForward||(p=-p);var b=1;r===$.LEFT&&(b=-1);var S=$.opposite(r),M=l+p*b;this.setDepth(r,l),this.setDepth(S,M)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(r){this._next=r}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var r=arguments[0],l=arguments[1];if(Ra.constructor_.call(this,r),this._isForward=l,l)this.init(r.getCoordinate(0),r.getCoordinate(1));else{var p=r.getNumPoints()-1;this.init(r.getCoordinate(p),r.getCoordinate(p-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(r,l){return r===N.EXTERIOR&&l===N.INTERIOR?1:r===N.INTERIOR&&l===N.EXTERIOR?-1:0}}])}(Ra),Ba=function(){return h(function c(){i(this,c)},[{key:"createNode",value:function(c){return new Bs(c,null)}}])}(),Io=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(c){c.println("Edges:");for(var n=0;n<this._edges.size();n++){c.println("edge "+n+":");var r=this._edges.get(n);r.print(c),r.eiList.print(c)}}},{key:"find",value:function(c){return this._nodes.find(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof Bs){var c=arguments[0];return this._nodes.addNode(c)}if(arguments[0]instanceof Y){var n=arguments[0];return this._nodes.addNode(n)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(c){Xn.out.println(c)}},{key:"isBoundaryNode",value:function(c,n){var r=this._nodes.find(n);if(r===null)return!1;var l=r.getLabel();return l!==null&&l.getLocation(c)===N.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(c,n,r,l){return!!c.equals(r)&&Ze.index(c,n,l)===Ze.COLLINEAR&&gn.quadrant(c,n)===gn.quadrant(r,l)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(c){Xn.out.print(c)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(c,n){for(var r=0;r<this._edges.size();r++){var l=this._edges.get(r),p=l.getCoordinates();if(this.matchInSameDirection(c,n,p[0],p[1])||this.matchInSameDirection(c,n,p[p.length-1],p[p.length-2]))return l}return null}},{key:"insertEdge",value:function(c){this._edges.add(c)}},{key:"findEdgeEnd",value:function(c){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var r=n.next();if(r.getEdge()===c)return r}return null}},{key:"addEdges",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();this._edges.add(r);var l=new Da(r,!0),p=new Da(r,!1);l.setSym(p),p.setSym(l),this.add(l),this.add(p)}}},{key:"add",value:function(c){this._nodes.add(c),this._edgeEndList.add(c)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(c,n){for(var r=0;r<this._edges.size();r++){var l=this._edges.get(r),p=l.getCoordinates();if(c.equals(p[0])&&n.equals(p[1]))return l}return null}}],[{key:"constructor_",value:function(){if(this._edges=new je,this._nodes=null,this._edgeEndList=new je,arguments.length===0)this._nodes=new Ji(new Ba);else if(arguments.length===1){var c=arguments[0];this._nodes=new Ji(c)}}},{key:"linkResultDirectedEdges",value:function(c){for(var n=c.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()}}])}(),ad=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"sortShellsAndHoles",value:function(n,r,l){for(var p=n.iterator();p.hasNext();){var b=p.next();b.isHole()?l.add(b):r.add(b)}}},{key:"computePolygons",value:function(n){for(var r=new je,l=n.iterator();l.hasNext();){var p=l.next().toPolygon(this._geometryFactory);r.add(p)}return r}},{key:"placeFreeHoles",value:function(n,r){for(var l=r.iterator();l.hasNext();){var p=l.next();if(p.getShell()===null){var b=c.findEdgeRingContaining(p,n);if(b===null)throw new hn("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(b)}}}},{key:"buildMinimalEdgeRings",value:function(n,r,l){for(var p=new je,b=n.iterator();b.hasNext();){var S=b.next();if(S.getMaxNodeDegree()>2){S.linkDirectedEdgesForMinimalEdgeRings();var M=S.buildMinimalRings(),U=this.findShell(M);U!==null?(this.placePolygonHoles(U,M),r.add(U)):l.addAll(M)}else p.add(S)}return p}},{key:"buildMaximalEdgeRings",value:function(n){for(var r=new je,l=n.iterator();l.hasNext();){var p=l.next();if(p.isInResult()&&p.getLabel().isArea()&&p.getEdgeRing()===null){var b=new _i(p,this._geometryFactory);r.add(b),b.setInResult()}}return r}},{key:"placePolygonHoles",value:function(n,r){for(var l=r.iterator();l.hasNext();){var p=l.next();p.isHole()&&p.setShell(n)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(n){for(var r=0,l=null,p=n.iterator();p.hasNext();){var b=p.next();b.isHole()||(l=b,r++)}return Pe.isTrue(r<=1,"found two shells in MinimalEdgeRing list"),l}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];this.add(n.getEdgeEnds(),n.getNodes())}else if(arguments.length===2){var r=arguments[0],l=arguments[1];Io.linkResultDirectedEdges(l);var p=this.buildMaximalEdgeRings(r),b=new je,S=this.buildMinimalEdgeRings(p,this._shellList,b);this.sortShellsAndHoles(S,this._shellList,b),this.placeFreeHoles(this._shellList,b)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new je;var n=arguments[0];this._geometryFactory=n}},{key:"findEdgeRingContaining",value:function(n,r){for(var l=n.getLinearRing(),p=l.getEnvelopeInternal(),b=l.getCoordinateN(0),S=null,M=null,U=r.iterator();U.hasNext();){var J=U.next(),ue=J.getLinearRing(),fe=ue.getEnvelopeInternal();if(!fe.equals(p)&&fe.contains(p)){b=Xt.ptNotInList(l.getCoordinates(),ue.getCoordinates());var Ce=!1;Jr.isInRing(b,ue.getCoordinates())&&(Ce=!0),Ce&&(S===null||M.contains(fe))&&(M=(S=J).getLinearRing().getEnvelopeInternal())}}return S}}])}(),Fa=function(){return h(function c(){i(this,c)},[{key:"getBounds",value:function(){}}])}(),at=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Fa,D]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var c=arguments[0],n=arguments[1];this._bounds=c,this._item=n}}])}(),No=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var c=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),c}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(c){for(var n=null,r=this._items.get(c);2*c<=this._size&&((n=2*c)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(r)<0);c=n)this._items.set(c,this._items.get(n));this._items.set(c,r)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(c){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,c);c.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,c)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new je,this._items.add(null)}}])}(),ai=function(){return h(function c(){i(this,c)},[{key:"insert",value:function(c,n){}},{key:"remove",value:function(c,n){}},{key:"query",value:function(){}}])}(),_n=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(c){Pe.isTrue(this._bounds===null),this._childBoundables.add(c)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Fa,D]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new je,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._level=c}}}}])}(),Tr={reverseOrder:function(){return{compare:function(c,n){return n.compareTo(c)}}},min:function(c){return Tr.sort(c),c.get(0)},sort:function(c,n){var r=c.toArray();n?pn.sort(r,n):pn.sort(r);for(var l=c.iterator(),p=0,b=r.length;p<b;p++)l.next(),l.set(r[p])},singletonList:function(c){var n=new je;return n.add(c),n}},ud=function(){function c(){i(this,c)}return h(c,null,[{key:"maxDistance",value:function(n,r,l,p,b,S,M,U){var J=c.distance(n,r,b,S);return J=Math.max(J,c.distance(n,r,M,U)),J=Math.max(J,c.distance(l,p,b,S)),J=Math.max(J,c.distance(l,p,M,U))}},{key:"distance",value:function(n,r,l,p){var b=l-n,S=p-r;return Math.sqrt(b*b+S*S)}},{key:"maximumDistance",value:function(n,r){var l=Math.min(n.getMinX(),r.getMinX()),p=Math.min(n.getMinY(),r.getMinY()),b=Math.max(n.getMaxX(),r.getMaxX()),S=Math.max(n.getMaxY(),r.getMaxY());return c.distance(l,p,b,S)}},{key:"minMaxDistance",value:function(n,r){var l=n.getMinX(),p=n.getMinY(),b=n.getMaxX(),S=n.getMaxY(),M=r.getMinX(),U=r.getMinY(),J=r.getMaxX(),ue=r.getMaxY(),fe=c.maxDistance(l,p,l,S,M,U,M,ue);return fe=Math.min(fe,c.maxDistance(l,p,l,S,M,U,J,U)),fe=Math.min(fe,c.maxDistance(l,p,l,S,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(l,p,l,S,J,ue,J,U)),fe=Math.min(fe,c.maxDistance(l,p,b,p,M,U,M,ue)),fe=Math.min(fe,c.maxDistance(l,p,b,p,M,U,J,U)),fe=Math.min(fe,c.maxDistance(l,p,b,p,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(l,p,b,p,J,ue,J,U)),fe=Math.min(fe,c.maxDistance(b,S,l,S,M,U,M,ue)),fe=Math.min(fe,c.maxDistance(b,S,l,S,M,U,J,U)),fe=Math.min(fe,c.maxDistance(b,S,l,S,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(b,S,l,S,J,ue,J,U)),fe=Math.min(fe,c.maxDistance(b,S,b,p,M,U,M,ue)),fe=Math.min(fe,c.maxDistance(b,S,b,p,M,U,J,U)),fe=Math.min(fe,c.maxDistance(b,S,b,p,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(b,S,b,p,J,ue,J,U))}}])}(),Qi=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"maximumDistance",value:function(){return ud.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(n,r){var l=c.isComposite(this._boundable1),p=c.isComposite(this._boundable2);if(l&&p)return c.area(this._boundable1)>c.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,n,r),null):(this.expand(this._boundable2,this._boundable1,!0,n,r),null);if(l)return this.expand(this._boundable1,this._boundable2,!1,n,r),null;if(p)return this.expand(this._boundable2,this._boundable1,!0,n,r),null;throw new T("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(c.isComposite(this._boundable1)||c.isComposite(this._boundable2))}},{key:"compareTo",value:function(n){var r=n;return this._distance<r._distance?-1:this._distance>r._distance?1:0}},{key:"expand",value:function(n,r,l,p,b){for(var S=n.getChildBoundables().iterator();S.hasNext();){var M=S.next(),U=null;(U=l?new c(r,M,this._itemDistance):new c(M,r,this._itemDistance)).getDistance()<b&&p.add(U)}}},{key:"getBoundable",value:function(n){return n===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var n=arguments[0],r=arguments[1],l=arguments[2];this._boundable1=n,this._boundable2=r,this._itemDistance=l,this._distance=this.distance()}},{key:"area",value:function(n){return n.getBounds().getArea()}},{key:"isComposite",value:function(n){return n instanceof _n}}])}(),nl=function(){return h(function c(){i(this,c)},[{key:"visitItem",value:function(c){}}])}(),xr=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"queryInternal",value:function(){if(ne(arguments[2],nl)&&arguments[0]instanceof Object&&arguments[1]instanceof _n)for(var n=arguments[0],r=arguments[2],l=arguments[1].getChildBoundables(),p=0;p<l.size();p++){var b=l.get(p);this.getIntersectsOp().intersects(b.getBounds(),n)&&(b instanceof _n?this.queryInternal(n,b,r):b instanceof at?r.visitItem(b.getItem()):Pe.shouldNeverReachHere())}else if(ne(arguments[2],Fe)&&arguments[0]instanceof Object&&arguments[1]instanceof _n)for(var S=arguments[0],M=arguments[2],U=arguments[1].getChildBoundables(),J=0;J<U.size();J++){var ue=U.get(J);this.getIntersectsOp().intersects(ue.getBounds(),S)&&(ue instanceof _n?this.queryInternal(S,ue,M):ue instanceof at?M.add(ue.getItem()):Pe.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(n){return n.get(n.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var l=r.next();l instanceof _n?n+=this.size(l):l instanceof at&&(n+=1)}return n}}},{key:"removeItem",value:function(n,r){for(var l=null,p=n.getChildBoundables().iterator();p.hasNext();){var b=p.next();b instanceof at&&b.getItem()===r&&(l=b)}return l!==null&&(n.getChildBoundables().remove(l),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new je:n}if(arguments.length===1){for(var r=arguments[0],l=new je,p=r.getChildBoundables().iterator();p.hasNext();){var b=p.next();if(b instanceof _n){var S=this.itemsTree(b);S!==null&&l.add(S)}else b instanceof at?l.add(b.getItem()):Pe.shouldNeverReachHere()}return l.size()<=0?null:l}}},{key:"insert",value:function(n,r){Pe.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new at(n,r))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var n=arguments[0],r=new je;return this.boundablesAtLevel(n,this._root,r),r}if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2];if(Pe.isTrue(l>-2),p.getLevel()===l)return b.add(p),null;for(var S=p.getChildBoundables().iterator();S.hasNext();){var M=S.next();M instanceof _n?this.boundablesAtLevel(l,M,b):(Pe.isTrue(M instanceof at),l===-1&&b.add(M))}return null}}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];this.build();var r=new je;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,r),r}if(arguments.length===2){var l=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.queryInternal(l,this._root,p)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,r)}if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2],S=this.removeItem(p,b);if(S)return!0;for(var M=null,U=p.getChildBoundables().iterator();U.hasNext();){var J=U.next();if(this.getIntersectsOp().intersects(J.getBounds(),l)&&J instanceof _n&&(S=this.remove(l,J,b))){M=J;break}}return M!==null&&M.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(M),S}}},{key:"createHigherLevels",value:function(n,r){Pe.isTrue(!n.isEmpty());var l=this.createParentBoundables(n,r+1);return l.size()===1?l.get(0):this.createHigherLevels(l,r+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var l=r.next();if(l instanceof _n){var p=this.depth(l);p>n&&(n=p)}}return n+1}}},{key:"createParentBoundables",value:function(n,r){Pe.isTrue(!n.isEmpty());var l=new je;l.add(this.createNode(r));var p=new je(n);Tr.sort(p,this.getComparator());for(var b=p.iterator();b.hasNext();){var S=b.next();this.lastNode(l).getChildBoundables().size()===this.getNodeCapacity()&&l.add(this.createNode(r)),this.lastNode(l).addChildBoundable(S)}return l}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new je,this._nodeCapacity=null,arguments.length===0)c.constructor_.call(this,c.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];Pe.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}}},{key:"compareDoubles",value:function(n,r){return n>r?1:n<r?-1:0}}])}();xr.IntersectsOp=function(){},xr.DEFAULT_NODE_CAPACITY=10;var ld=function(){return h(function c(){i(this,c)},[{key:"distance",value:function(c,n){}}])}(),vi=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(r,l){Pe.isTrue(r.length>0);for(var p=new je,b=0;b<r.length;b++)p.addAll(this.createParentBoundablesFromVerticalSlice(r[b],l));return p}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var r=arguments[0],l=arguments[1];return this.nearestNeighbourK(r,le.POSITIVE_INFINITY,l)}if(arguments.length===3){var p=arguments[0],b=arguments[2],S=arguments[1],M=new No;M.add(p);for(var U=new No;!M.isEmpty()&&S>=0;){var J=M.poll(),ue=J.getDistance();if(ue>=S)break;J.isLeaves()?U.size()<b?U.add(J):(U.peek().getDistance()>ue&&(U.poll(),U.add(J)),S=U.peek().getDistance()):J.expandToQueue(M,S)}return n.getItems(U)}}},{key:"createNode",value:function(r){return new Mo(r)}},{key:"size",value:function(){return arguments.length===0?O(n,"size",this,1).call(this):O(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ne))return O(n,"insert",this,1).apply(this,arguments);var r=arguments[0],l=arguments[1];if(r.isNull())return null;O(n,"insert",this,1).call(this,r,l)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(r,l){for(var p=Math.trunc(Math.ceil(r.size()/l)),b=new Array(l).fill(null),S=r.iterator(),M=0;M<l;M++){b[M]=new je;for(var U=0;S.hasNext()&&U<p;){var J=S.next();b[M].add(J),U++}}return b}},{key:"query",value:function(){if(arguments.length===1){var r=arguments[0];return O(n,"query",this,1).call(this,r)}if(arguments.length===2){var l=arguments[0],p=arguments[1];O(n,"query",this,1).call(this,l,p)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(r,l){return O(n,"createParentBoundables",this,1).call(this,r,l)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];return O(n,"remove",this,1).call(this,r,l)}return O(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?O(n,"depth",this,1).call(this):O(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(r,l){Pe.isTrue(!r.isEmpty());var p=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),b=new je(r);Tr.sort(b,n.xComparator);var S=this.verticalSlices(b,Math.trunc(Math.ceil(Math.sqrt(p))));return this.createParentBoundablesFromVerticalSlices(S,l)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(ne(arguments[0],ld)){var r=arguments[0];if(this.isEmpty())return null;var l=new Qi(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(l)}if(arguments[0]instanceof Qi){var p=arguments[0],b=le.POSITIVE_INFINITY,S=null,M=new No;for(M.add(p);!M.isEmpty()&&b>0;){var U=M.poll(),J=U.getDistance();if(J>=b)break;U.isLeaves()?(b=J,S=U):U.expandToQueue(M,b)}return S===null?null:[S.getBoundable(0).getItem(),S.getBoundable(1).getItem()]}}else{if(arguments.length===2){var ue=arguments[0],fe=arguments[1];if(this.isEmpty()||ue.isEmpty())return null;var Ce=new Qi(this.getRoot(),ue.getRoot(),fe);return this.nearestNeighbour(Ce)}if(arguments.length===3){var $e=arguments[2],We=new at(arguments[0],arguments[1]),Ke=new Qi(this.getRoot(),We,$e);return this.nearestNeighbour(Ke)[0]}if(arguments.length===4){var _t=arguments[2],lt=arguments[3],Rt=new at(arguments[0],arguments[1]),qt=new Qi(this.getRoot(),Rt,_t);return this.nearestNeighbourK(qt,lt)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var r=arguments[0],l=arguments[1],p=le.POSITIVE_INFINITY,b=new No;for(b.add(r);!b.isEmpty();){var S=b.poll(),M=S.getDistance();if(M>l)return!1;if(S.maximumDistance()<=l)return!0;if(S.isLeaves()){if((p=M)<=l)return!0}else S.expandToQueue(b,p)}return!1}if(arguments.length===3){var U=arguments[0],J=arguments[1],ue=arguments[2],fe=new Qi(this.getRoot(),U.getRoot(),J);return this.isWithinDistance(fe,ue)}}},{key:"interfaces_",get:function(){return[ai,D]}}],[{key:"constructor_",value:function(){if(arguments.length===0)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var r=arguments[0];xr.constructor_.call(this,r)}}},{key:"centreX",value:function(r){return n.avg(r.getMinX(),r.getMaxX())}},{key:"avg",value:function(r,l){return(r+l)/2}},{key:"getItems",value:function(r){for(var l=new Array(r.size()).fill(null),p=0;!r.isEmpty();){var b=r.poll();l[p]=b.getBoundable(0).getItem(),p++}return l}},{key:"centreY",value:function(r){return n.avg(r.getMinY(),r.getMaxY())}}])}(xr),Mo=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"computeBounds",value:function(){for(var r=null,l=this.getChildBoundables().iterator();l.hasNext();){var p=l.next();r===null?r=new Ne(p.getBounds()):r.expandToInclude(p.getBounds())}return r}}],[{key:"constructor_",value:function(){var r=arguments[0];_n.constructor_.call(this,r)}}])}(_n);vi.STRtreeNode=Mo,vi.xComparator=new(function(){return h(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[we]}},{key:"compare",value:function(c,n){return xr.compareDoubles(vi.centreX(c.getBounds()),vi.centreX(n.getBounds()))}}])}()),vi.yComparator=new(function(){return h(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[we]}},{key:"compare",value:function(c,n){return xr.compareDoubles(vi.centreY(c.getBounds()),vi.centreY(n.getBounds()))}}])}()),vi.intersectsOp=new(function(){return h(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(c,n){return c.intersects(n)}}])}()),vi.DEFAULT_NODE_CAPACITY=10;var cd=function(){function c(){i(this,c)}return h(c,null,[{key:"relativeSign",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"compare",value:function(n,r,l){if(r.equals2D(l))return 0;var p=c.relativeSign(r.x,l.x),b=c.relativeSign(r.y,l.y);switch(n){case 0:return c.compareValue(p,b);case 1:return c.compareValue(b,p);case 2:return c.compareValue(b,-p);case 3:return c.compareValue(-p,b);case 4:return c.compareValue(-p,-b);case 5:return c.compareValue(-b,-p);case 6:return c.compareValue(-b,p);case 7:return c.compareValue(p,-b)}return Pe.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(n,r){return n<0?-1:n>0?1:r<0?-1:r>0?1:0}}])}(),yi=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(c){var n=c;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:this._isInterior?n._isInterior?cd.compare(this._segmentOctant,this.coord,n.coord):1:-1}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===c}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var c=arguments[0],n=arguments[1],r=arguments[2],l=arguments[3];this._segString=c,this.coord=new Y(n),this.segmentIndex=r,this._segmentOctant=l,this._isInterior=!n.equals2D(c.getCoordinate(r))}}])}(),dd=function(){return h(function c(){i(this,c)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),il=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var c=new Os;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var l=n.next();this.addEdgeCoordinates(r,l,c),r=l}return c.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var c=new je;this.findCollapsesFromInsertedNodes(c),this.findCollapsesFromExistingVertices(c);for(var n=c.iterator();n.hasNext();){var r=n.next().intValue();this.add(this._edge.getCoordinate(r),r)}}},{key:"createSplitEdgePts",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2;if(r===2)return[new Y(c.coord),new Y(n.coord)];var l=this._edge.getCoordinate(n.segmentIndex),p=n.isInterior()||!n.coord.equals2D(l);p||r--;var b=new Array(r).fill(null),S=0;b[S++]=new Y(c.coord);for(var M=c.segmentIndex+1;M<=n.segmentIndex;M++)b[S++]=this._edge.getCoordinate(M);return p&&(b[S]=new Y(n.coord)),b}},{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"findCollapsesFromExistingVertices",value:function(c){for(var n=0;n<this._edge.size()-2;n++){var r=this._edge.getCoordinate(n);this._edge.getCoordinate(n+1);var l=this._edge.getCoordinate(n+2);r.equals2D(l)&&c.add(Ge.valueOf(n+1))}}},{key:"addEdgeCoordinates",value:function(c,n,r){var l=this.createSplitEdgePts(c,n);r.add(l,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),r=n.next();n.hasNext();){var l=n.next(),p=this.createSplitEdge(r,l);c.add(p),r=l}}},{key:"findCollapseIndex",value:function(c,n,r){if(!c.coord.equals2D(n.coord))return!1;var l=n.segmentIndex-c.segmentIndex;return n.isInterior()||l--,l===1&&(r[0]=c.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(c){for(var n=new Array(1).fill(null),r=this.iterator(),l=r.next();r.hasNext();){var p=r.next();this.findCollapseIndex(l,p,n)&&c.add(Ge.valueOf(n[0])),l=p}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var c=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(c),c)}},{key:"createSplitEdge",value:function(c,n){var r=this.createSplitEdgePts(c,n);return new Ri(r,this._edge.getData())}},{key:"add",value:function(c,n){var r=new yi(this._edge,c,n,this._edge.getSegmentOctant(n)),l=this._nodeMap.get(r);return l!==null?(Pe.isTrue(l.coord.equals2D(c),"Found equal nodes with different coordinates"),l):(this._nodeMap.put(r,r),r)}},{key:"checkSplitEdgesCorrectness",value:function(c){var n=this._edge.getCoordinates(),r=c.get(0).getCoordinate(0);if(!r.equals2D(n[0]))throw new Re("bad split edge start point at "+r);var l=c.get(c.size()-1).getCoordinates(),p=l[l.length-1];if(!p.equals2D(n[n.length-1]))throw new Re("bad split edge end point at "+p)}}],[{key:"constructor_",value:function(){this._nodeMap=new Wt,this._edge=null;var c=arguments[0];this._edge=c}}])}(),er=function(){function c(){i(this,c)}return h(c,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new T("Cannot compute the octant for point ( "+n+", "+r+" )");var l=Math.abs(n),p=Math.abs(r);return n>=0?r>=0?l>=p?0:1:l>=p?7:6:r>=0?l>=p?3:2:l>=p?4:5}if(arguments[0]instanceof Y&&arguments[1]instanceof Y){var b=arguments[0],S=arguments[1],M=S.x-b.x,U=S.y-b.y;if(M===0&&U===0)throw new T("Cannot compute the octant for two identical points "+b);return c.octant(M,U)}}}])}(),rl=function(){return h(function c(){i(this,c)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(c){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(c){}},{key:"getData",value:function(){}}])}(),sl=function(){return h(function c(){i(this,c)},[{key:"addIntersection",value:function(c,n){}},{key:"interfaces_",get:function(){return[rl]}}])}(),Ri=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(n){return this._pts[n]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(n){return n===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))}},{key:"setData",value:function(n){this._data=n}},{key:"safeOctant",value:function(n,r){return n.equals2D(r)?0:er.octant(n,r)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.addIntersectionNode(n,r)}else if(arguments.length===4){var l=arguments[1],p=arguments[3],b=new Y(arguments[0].getIntersection(p));this.addIntersection(b,l)}}},{key:"toString",value:function(){return Ds.toLineString(new As(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(n,r){var l=r,p=l+1;if(p<this._pts.length){var b=this._pts[p];n.equals2D(b)&&(l=p)}return this._nodeList.add(n,l)}},{key:"addIntersections",value:function(n,r,l){for(var p=0;p<n.getIntersectionNum();p++)this.addIntersection(n,r,l,p)}},{key:"interfaces_",get:function(){return[sl]}}],[{key:"constructor_",value:function(){this._nodeList=new il(this),this._pts=null,this._data=null;var n=arguments[0],r=arguments[1];this._pts=n,this._data=r}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var n=arguments[0],r=new je;return c.getNodedSubstrings(n,r),r}if(arguments.length===2)for(var l=arguments[1],p=arguments[0].iterator();p.hasNext();)p.next().getNodeList().addSplitEdges(l)}}])}(),Rn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof c){var n=arguments[0],r=Ze.index(this.p0,this.p1,n.p0),l=Ze.index(this.p0,this.p1,n.p1);return r>=0&&l>=0||r<=0&&l<=0?Math.max(r,l):0}if(arguments[0]instanceof Y){var p=arguments[0];return Ze.index(this.p0,this.p1,p)}}},{key:"toGeometry",value:function(n){return n.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.p0.equals(r.p0)&&this.p1.equals(r.p1)}},{key:"intersection",value:function(n){var r=new Ai;return r.computeIntersection(this.p0,this.p1,n.p0,n.p1),r.hasIntersection()?r.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof Y){var n=arguments[0];if(n.equals(this.p0)||n.equals(this.p1))return new Y(n);var r=this.projectionFactor(n),l=new Y;return l.x=this.p0.x+r*(this.p1.x-this.p0.x),l.y=this.p0.y+r*(this.p1.y-this.p0.y),l}if(arguments[0]instanceof c){var p=arguments[0],b=this.projectionFactor(p.p0),S=this.projectionFactor(p.p1);if(b>=1&&S>=1||b<=0&&S<=0)return null;var M=this.project(p.p0);b<0&&(M=this.p0),b>1&&(M=this.p1);var U=this.project(p.p1);return S<0&&(U=this.p0),S>1&&(U=this.p1),new c(M,U)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(n){return n===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(n){return oi.pointToLinePerpendicular(n,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return c.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var r=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,p=r*r+l*l;return p<=0?le.NaN:((n.x-this.p0.x)*r+(n.y-this.p0.y)*l)/p}},{key:"closestPoints",value:function(n){var r=this.intersection(n);if(r!==null)return[r,r];var l=new Array(2).fill(null),p=le.MAX_VALUE,b=null,S=this.closestPoint(n.p0);p=S.distance(n.p0),l[0]=S,l[1]=n.p0;var M=this.closestPoint(n.p1);(b=M.distance(n.p1))<p&&(p=b,l[0]=M,l[1]=n.p1);var U=n.closestPoint(this.p0);(b=U.distance(this.p0))<p&&(p=b,l[0]=this.p0,l[1]=U);var J=n.closestPoint(this.p1);return(b=J.distance(this.p1))<p&&(p=b,l[0]=this.p1,l[1]=J),l}},{key:"closestPoint",value:function(n){var r=this.projectionFactor(n);return r>0&&r<1?this.project(n):this.p0.distance(n)<this.p1.distance(n)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(n){var r=n,l=this.p0.compareTo(r.p0);return l!==0?l:this.p1.compareTo(r.p1)}},{key:"reverse",value:function(){var n=this.p0;this.p0=this.p1,this.p1=n}},{key:"equalsTopo",value:function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)}},{key:"lineIntersection",value:function(n){return La.intersection(this.p0,this.p1,n.p0,n.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(n,r){var l=this.p0.x+n*(this.p1.x-this.p0.x),p=this.p0.y+n*(this.p1.y-this.p0.y),b=this.p1.x-this.p0.x,S=this.p1.y-this.p0.y,M=Math.sqrt(b*b+S*S),U=0,J=0;if(r!==0){if(M<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");U=r*b/M,J=r*S/M}return new Y(l-J,p+U)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var n=arguments[0];this.setCoordinates(n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.p0.x=r.x,this.p0.y=r.y,this.p1.x=l.x,this.p1.y=l.y}}},{key:"segmentFraction",value:function(n){var r=this.projectionFactor(n);return r<0?r=0:(r>1||le.isNaN(r))&&(r=1),r}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(n){var r=this.p1.getY()-this.p0.getY(),l=this.p0.getX()-this.p1.getX(),p=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),b=r*r+l*l,S=r*r-l*l,M=n.getX(),U=n.getY();return new Y((-S*M-2*r*l*U-2*r*p)/b,(S*U-2*r*l*M-2*l*p)/b)}},{key:"distance",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return oi.segmentToSegment(this.p0,this.p1,n.p0,n.p1)}if(arguments[0]instanceof Y){var r=arguments[0];return oi.pointToSegment(r,this.p0,this.p1)}}},{key:"pointAlong",value:function(n){var r=new Y;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}},{key:"hashCode",value:function(){var n=le.doubleToLongBits(this.p0.x);n^=31*le.doubleToLongBits(this.p0.y);var r=Math.trunc(n)^Math.trunc(n>>32),l=le.doubleToLongBits(this.p1.x);return l^=31*le.doubleToLongBits(this.p1.y),r^(Math.trunc(l)^Math.trunc(l>>32))}},{key:"interfaces_",get:function(){return[C,D]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)c.constructor_.call(this,new Y,new Y);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.p0=r,this.p1=l}else if(arguments.length===4){var p=arguments[0],b=arguments[1],S=arguments[2],M=arguments[3];c.constructor_.call(this,new Y(p,b),new Y(S,M))}}},{key:"midPoint",value:function(n,r){return new Y((n.x+r.x)/2,(n.y+r.y)/2)}}])}(),ol=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var c=arguments[1],n=arguments[2],r=arguments[3];arguments[0].getLineSegment(c,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Rn,this._overlapSeg2=new Rn}}])}(),za=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(c,n){n.p0=this._pts[c],n.p1=this._pts[c+1]}},{key:"computeSelect",value:function(c,n,r,l){var p=this._pts[n],b=this._pts[r];if(r-n==1)return l.select(this,n),null;if(!c.intersects(p,b))return null;var S=Math.trunc((n+r)/2);n<S&&this.computeSelect(c,n,S,l),S<r&&this.computeSelect(c,S,r,l)}},{key:"getCoordinates",value:function(){for(var c=new Array(this._end-this._start+1).fill(null),n=0,r=this._start;r<=this._end;r++)c[n++]=this._pts[r];return c}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var c=arguments[0],n=arguments[1];this.computeOverlaps(this._start,this._end,c,c._start,c._end,n)}else if(arguments.length===6){var r=arguments[0],l=arguments[1],p=arguments[2],b=arguments[3],S=arguments[4],M=arguments[5];if(l-r==1&&S-b==1)return M.overlap(this,r,p,b),null;if(!this.overlaps(r,l,p,b,S))return null;var U=Math.trunc((r+l)/2),J=Math.trunc((b+S)/2);r<U&&(b<J&&this.computeOverlaps(r,U,p,b,J,M),J<S&&this.computeOverlaps(r,U,p,J,S,M)),U<l&&(b<J&&this.computeOverlaps(U,l,p,b,J,M),J<S&&this.computeOverlaps(U,l,p,J,S,M))}}},{key:"setId",value:function(c){this._id=c}},{key:"select",value:function(c,n){this.computeSelect(c,this._start,this._end,n)}},{key:"getEnvelope",value:function(){if(this._env===null){var c=this._pts[this._start],n=this._pts[this._end];this._env=new Ne(c,n)}return this._env}},{key:"overlaps",value:function(c,n,r,l,p){return Ne.intersects(this._pts[c],this._pts[n],r._pts[l],r._pts[p])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var c=arguments[0],n=arguments[1],r=arguments[2],l=arguments[3];this._pts=c,this._start=n,this._end=r,this._context=l}}])}(),fd=function(){function c(){i(this,c)}return h(c,null,[{key:"findChainEnd",value:function(n,r){for(var l=r;l<n.length-1&&n[l].equals2D(n[l+1]);)l++;if(l>=n.length-1)return n.length-1;for(var p=gn.quadrant(n[l],n[l+1]),b=r+1;b<n.length&&!(!n[b-1].equals2D(n[b])&&gn.quadrant(n[b-1],n[b])!==p);)b++;return b-1}},{key:"getChains",value:function(){if(arguments.length===1){var n=arguments[0];return c.getChains(n,null)}if(arguments.length===2){var r=arguments[0],l=arguments[1],p=new je,b=0;do{var S=c.findChainEnd(r,b),M=new za(r,b,S,l);p.add(M),b=S}while(b<r.length-1);return p}}}])}(),$a=function(){return h(function c(){i(this,c)},[{key:"computeNodes",value:function(c){}},{key:"getNodedSubstrings",value:function(){}}])}(),Oo=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(c){this._segInt=c}},{key:"interfaces_",get:function(){return[$a]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this.setSegmentIntersector(c)}}}}])}(),Ua=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Ri.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(r){for(var l=fd.getChains(r.getCoordinates(),r).iterator();l.hasNext();){var p=l.next();p.setId(this._idCounter++),this._index.insert(p.getEnvelope(),p),this._monoChains.add(p)}}},{key:"computeNodes",value:function(r){this._nodedSegStrings=r;for(var l=r.iterator();l.hasNext();)this.add(l.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var r=new Ga(this._segInt),l=this._monoChains.iterator();l.hasNext();)for(var p=l.next(),b=this._index.query(p.getEnvelope()).iterator();b.hasNext();){var S=b.next();if(S.getId()>p.getId()&&(p.computeOverlaps(S,r),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new je,this._index=new vi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var r=arguments[0];Oo.constructor_.call(this,r)}}}}])}(Oo),Ga=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"overlap",value:function(){if(arguments.length!==4)return O(n,"overlap",this,1).apply(this,arguments);var r=arguments[1],l=arguments[2],p=arguments[3],b=arguments[0].getContext(),S=l.getContext();this._si.processIntersections(b,r,S,p)}}],[{key:"constructor_",value:function(){this._si=null;var r=arguments[0];this._si=r}}])}(ol);Ua.SegmentOverlapAction=Ga;var Kn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isDeletable",value:function(n,r,l,p){var b=this._inputLine[n],S=this._inputLine[r],M=this._inputLine[l];return!!this.isConcave(b,S,M)&&!!this.isShallow(b,S,M,p)&&this.isShallowSampled(b,S,n,l,p)}},{key:"deleteShallowConcavities",value:function(){for(var n=1,r=this.findNextNonDeletedIndex(n),l=this.findNextNonDeletedIndex(r),p=!1;l<this._inputLine.length;){var b=!1;this.isDeletable(n,r,l,this._distanceTol)&&(this._isDeleted[r]=c.DELETE,b=!0,p=!0),n=b?l:r,r=this.findNextNonDeletedIndex(n),l=this.findNextNonDeletedIndex(r)}return p}},{key:"isShallowConcavity",value:function(n,r,l,p){return Ze.index(n,r,l)===this._angleOrientation&&oi.pointToSegment(r,n,l)<p}},{key:"isShallowSampled",value:function(n,r,l,p,b){var S=Math.trunc((p-l)/c.NUM_PTS_TO_CHECK);S<=0&&(S=1);for(var M=l;M<p;M+=S)if(!this.isShallow(n,r,this._inputLine[M],b))return!1;return!0}},{key:"isConcave",value:function(n,r,l){var p=Ze.index(n,r,l)===this._angleOrientation;return p}},{key:"simplify",value:function(n){this._distanceTol=Math.abs(n),n<0&&(this._angleOrientation=Ze.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=this.deleteShallowConcavities();while(r);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(n){for(var r=n+1;r<this._inputLine.length&&this._isDeleted[r]===c.DELETE;)r++;return r}},{key:"isShallow",value:function(n,r,l,p){return oi.pointToSegment(r,n,l)<p}},{key:"collapseLine",value:function(){for(var n=new Os,r=0;r<this._inputLine.length;r++)this._isDeleted[r]!==c.DELETE&&n.add(this._inputLine[r]);return n.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ze.COUNTERCLOCKWISE;var n=arguments[0];this._inputLine=n}},{key:"simplify",value:function(n,r){return new c(n).simplify(r)}}])}();Kn.INIT=0,Kn.DELETE=1,Kn.KEEP=1,Kn.NUM_PTS_TO_CHECK=10;var zs=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getCoordinates",value:function(){return this._ptList.toArray(c.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"addPt",value:function(n){var r=new Y(n);if(this._precisionModel.makePrecise(r),this.isRedundant(r))return null;this._ptList.add(r)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(n,r){if(r)for(var l=0;l<n.length;l++)this.addPt(n[l]);else for(var p=n.length-1;p>=0;p--)this.addPt(n[p])}},{key:"isRedundant",value:function(n){if(this._ptList.size()<1)return!1;var r=this._ptList.get(this._ptList.size()-1);return n.distance(r)<this._minimimVertexDistance}},{key:"toString",value:function(){return new mi().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var n=new Y(this._ptList.get(0)),r=this._ptList.get(this._ptList.size()-1);if(n.equals(r))return null;this._ptList.add(n)}},{key:"setMinimumVertexDistance",value:function(n){this._minimimVertexDistance=n}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new je}}])}();zs.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var nn=function(){function c(){i(this,c)}return h(c,null,[{key:"toDegrees",value:function(n){return 180*n/Math.PI}},{key:"normalize",value:function(n){for(;n>Math.PI;)n-=c.PI_TIMES_2;for(;n<=-Math.PI;)n+=c.PI_TIMES_2;return n}},{key:"angle",value:function(){if(arguments.length===1){var n=arguments[0];return Math.atan2(n.y,n.x)}if(arguments.length===2){var r=arguments[0],l=arguments[1],p=l.x-r.x,b=l.y-r.y;return Math.atan2(b,p)}}},{key:"isAcute",value:function(n,r,l){var p=n.x-r.x,b=n.y-r.y;return p*(l.x-r.x)+b*(l.y-r.y)>0}},{key:"isObtuse",value:function(n,r,l){var p=n.x-r.x,b=n.y-r.y;return p*(l.x-r.x)+b*(l.y-r.y)<0}},{key:"interiorAngle",value:function(n,r,l){var p=c.angle(r,n),b=c.angle(r,l);return Math.abs(b-p)}},{key:"normalizePositive",value:function(n){if(n<0){for(;n<0;)n+=c.PI_TIMES_2;n>=c.PI_TIMES_2&&(n=0)}else{for(;n>=c.PI_TIMES_2;)n-=c.PI_TIMES_2;n<0&&(n=0)}return n}},{key:"angleBetween",value:function(n,r,l){var p=c.angle(r,n),b=c.angle(r,l);return c.diff(p,b)}},{key:"diff",value:function(n,r){var l=null;return(l=n<r?r-n:n-r)>Math.PI&&(l=2*Math.PI-l),l}},{key:"toRadians",value:function(n){return n*Math.PI/180}},{key:"getTurn",value:function(n,r){var l=Math.sin(r-n);return l>0?c.COUNTERCLOCKWISE:l<0?c.CLOCKWISE:c.NONE}},{key:"angleBetweenOriented",value:function(n,r,l){var p=c.angle(r,n),b=c.angle(r,l)-p;return b<=-Math.PI?b+c.PI_TIMES_2:b>Math.PI?b-c.PI_TIMES_2:b}}])}();nn.PI_TIMES_2=2*Math.PI,nn.PI_OVER_2=Math.PI/2,nn.PI_OVER_4=Math.PI/4,nn.COUNTERCLOCKWISE=Ze.COUNTERCLOCKWISE,nn.CLOCKWISE=Ze.CLOCKWISE,nn.NONE=Ze.COLLINEAR;var $s=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"addNextSegment",value:function(n,r){if(this._s0=this._s1,this._s1=this._s2,this._s2=n,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var l=Ze.index(this._s0,this._s1,this._s2),p=l===Ze.CLOCKWISE&&this._side===$.LEFT||l===Ze.COUNTERCLOCKWISE&&this._side===$.RIGHT;l===0?this.addCollinear(r):p?this.addOutsideTurn(l,r):this.addInsideTurn(l,r)}},{key:"addLineEndCap",value:function(n,r){var l=new Rn(n,r),p=new Rn;this.computeOffsetSegment(l,$.LEFT,this._distance,p);var b=new Rn;this.computeOffsetSegment(l,$.RIGHT,this._distance,b);var S=r.x-n.x,M=r.y-n.y,U=Math.atan2(M,S);switch(this._bufParams.getEndCapStyle()){case H.CAP_ROUND:this._segList.addPt(p.p1),this.addDirectedFillet(r,U+Math.PI/2,U-Math.PI/2,Ze.CLOCKWISE,this._distance),this._segList.addPt(b.p1);break;case H.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(b.p1);break;case H.CAP_SQUARE:var J=new Y;J.x=Math.abs(this._distance)*Math.cos(U),J.y=Math.abs(this._distance)*Math.sin(U);var ue=new Y(p.p1.x+J.x,p.p1.y+J.y),fe=new Y(b.p1.x+J.x,b.p1.y+J.y);this._segList.addPt(ue),this._segList.addPt(fe)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(n,r,l,p){var b=La.intersection(r.p0,r.p1,l.p0,l.p1);if(b!==null&&(p<=0?1:b.distance(n)/Math.abs(p))<=this._bufParams.getMitreLimit())return this._segList.addPt(b),null;this.addLimitedMitreJoin(r,l,p,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(n,r){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*c.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===H.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===H.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(r&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,n,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(n){this._segList.addPt(new Y(n.x+this._distance,n.y+this._distance)),this._segList.addPt(new Y(n.x+this._distance,n.y-this._distance)),this._segList.addPt(new Y(n.x-this._distance,n.y-this._distance)),this._segList.addPt(new Y(n.x-this._distance,n.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(n,r){this._segList.addPts(n,r)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(n,r,l,p,b){var S=r.x-n.x,M=r.y-n.y,U=Math.atan2(M,S),J=l.x-n.x,ue=l.y-n.y,fe=Math.atan2(ue,J);p===Ze.CLOCKWISE?U<=fe&&(U+=2*Math.PI):U>=fe&&(U-=2*Math.PI),this._segList.addPt(r),this.addDirectedFillet(n,U,fe,p,b),this._segList.addPt(l)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(n,r,l){this._s1=n,this._s2=r,this._side=l,this._seg1.setCoordinates(n,r),this.computeOffsetSegment(this._seg1,l,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(n,r,l,p){var b=this._seg0.p1,S=nn.angle(b,this._seg0.p0),M=nn.angleBetweenOriented(this._seg0.p0,b,this._seg1.p1)/2,U=nn.normalize(S+M),J=nn.normalize(U+Math.PI),ue=p*l,fe=l-ue*Math.abs(Math.sin(M)),Ce=b.x+ue*Math.cos(J),$e=b.y+ue*Math.sin(J),We=new Y(Ce,$e),Ke=new Rn(b,We),_t=Ke.pointAlongOffset(1,fe),lt=Ke.pointAlongOffset(1,-fe);this._side===$.LEFT?(this._segList.addPt(_t),this._segList.addPt(lt)):(this._segList.addPt(lt),this._segList.addPt(_t))}},{key:"addDirectedFillet",value:function(n,r,l,p,b){var S=p===Ze.CLOCKWISE?-1:1,M=Math.abs(r-l),U=Math.trunc(M/this._filletAngleQuantum+.5);if(U<1)return null;for(var J=M/U,ue=new Y,fe=0;fe<U;fe++){var Ce=r+S*fe*J;ue.x=n.x+b*Math.cos(Ce),ue.y=n.y+b*Math.sin(Ce),this._segList.addPt(ue)}}},{key:"computeOffsetSegment",value:function(n,r,l,p){var b=r===$.LEFT?1:-1,S=n.p1.x-n.p0.x,M=n.p1.y-n.p0.y,U=Math.sqrt(S*S+M*M),J=b*l*S/U,ue=b*l*M/U;p.p0.x=n.p0.x-ue,p.p0.y=n.p0.y+J,p.p1.x=n.p1.x-ue,p.p1.y=n.p1.y+J}},{key:"addInsideTurn",value:function(n,r){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*c.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var l=new Y((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(l);var p=new Y((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(n){var r=new Y(n.x+this._distance,n.y);this._segList.addPt(r),this.addDirectedFillet(n,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(n,r){this._segList.addPt(n.p1),this._segList.addPt(r.p0)}},{key:"init",value:function(n){this._distance=n,this._maxCurveSegmentError=n*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new zs,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(n*c.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(n){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===H.JOIN_BEVEL||this._bufParams.getJoinStyle()===H.JOIN_MITRE?(n&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Ze.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Rn,this._seg1=new Rn,this._offset0=new Rn,this._offset1=new Rn,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],r=arguments[1],l=arguments[2];this._precisionModel=n,this._bufParams=r,this._li=new Ai,this._filletAngleQuantum=Math.PI/2/r.getQuadrantSegments(),r.getQuadrantSegments()>=8&&r.getJoinStyle()===H.JOIN_ROUND&&(this._closingSegLengthFactor=c.MAX_CLOSING_SEG_LEN_FACTOR),this.init(l)}}])}();$s.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,$s.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,$s.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,$s.MAX_CLOSING_SEG_LEN_FACTOR=80;var Us=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getOffsetCurve",value:function(n,r){if(this._distance=r,r===0)return null;var l=r<0,p=Math.abs(r),b=this.getSegGen(p);n.length<=1?this.computePointCurve(n[0],b):this.computeOffsetCurve(n,l,b);var S=b.getCoordinates();return l&&Xt.reverse(S),S}},{key:"computeSingleSidedBufferCurve",value:function(n,r,l){var p=this.simplifyTolerance(this._distance);if(r){l.addSegments(n,!0);var b=Kn.simplify(n,-p),S=b.length-1;l.initSideSegments(b[S],b[S-1],$.LEFT),l.addFirstSegment();for(var M=S-2;M>=0;M--)l.addNextSegment(b[M],!0)}else{l.addSegments(n,!1);var U=Kn.simplify(n,p),J=U.length-1;l.initSideSegments(U[0],U[1],$.LEFT),l.addFirstSegment();for(var ue=2;ue<=J;ue++)l.addNextSegment(U[ue],!0)}l.addLastSegment(),l.closeRing()}},{key:"computeRingBufferCurve",value:function(n,r,l){var p=this.simplifyTolerance(this._distance);r===$.RIGHT&&(p=-p);var b=Kn.simplify(n,p),S=b.length-1;l.initSideSegments(b[S-1],b[0],r);for(var M=1;M<=S;M++){var U=M!==1;l.addNextSegment(b[M],U)}l.closeRing()}},{key:"computeLineBufferCurve",value:function(n,r){var l=this.simplifyTolerance(this._distance),p=Kn.simplify(n,l),b=p.length-1;r.initSideSegments(p[0],p[1],$.LEFT);for(var S=2;S<=b;S++)r.addNextSegment(p[S],!0);r.addLastSegment(),r.addLineEndCap(p[b-1],p[b]);var M=Kn.simplify(n,-l),U=M.length-1;r.initSideSegments(M[U],M[U-1],$.LEFT);for(var J=U-2;J>=0;J--)r.addNextSegment(M[J],!0);r.addLastSegment(),r.addLineEndCap(M[1],M[0]),r.closeRing()}},{key:"computePointCurve",value:function(n,r){switch(this._bufParams.getEndCapStyle()){case H.CAP_ROUND:r.createCircle(n);break;case H.CAP_SQUARE:r.createSquare(n)}}},{key:"getLineCurve",value:function(n,r){if(this._distance=r,this.isLineOffsetEmpty(r))return null;var l=Math.abs(r),p=this.getSegGen(l);if(n.length<=1)this.computePointCurve(n[0],p);else if(this._bufParams.isSingleSided()){var b=r<0;this.computeSingleSidedBufferCurve(n,b,p)}else this.computeLineBufferCurve(n,p);return p.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(n){return n*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(n,r,l){if(this._distance=l,n.length<=2)return this.getLineCurve(n,l);if(l===0)return c.copyCoordinates(n);var p=this.getSegGen(l);return this.computeRingBufferCurve(n,r,p),p.getCoordinates()}},{key:"computeOffsetCurve",value:function(n,r,l){var p=this.simplifyTolerance(this._distance);if(r){var b=Kn.simplify(n,-p),S=b.length-1;l.initSideSegments(b[S],b[S-1],$.LEFT),l.addFirstSegment();for(var M=S-2;M>=0;M--)l.addNextSegment(b[M],!0)}else{var U=Kn.simplify(n,p),J=U.length-1;l.initSideSegments(U[0],U[1],$.LEFT),l.addFirstSegment();for(var ue=2;ue<=J;ue++)l.addNextSegment(U[ue],!0)}l.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(n){return n===0||n<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(n){return new $s(this._precisionModel,this._bufParams,n)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var n=arguments[0],r=arguments[1];this._precisionModel=n,this._bufParams=r}},{key:"copyCoordinates",value:function(n){for(var r=new Array(n.length).fill(null),l=0;l<r.length;l++)r[l]=new Y(n[l]);return r}}])}(),Dn=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var c=arguments[0],n=new je,r=this._subgraphs.iterator();r.hasNext();){var l=r.next(),p=l.getEnvelope();c.y<p.getMinY()||c.y>p.getMaxY()||this.findStabbedSegments(c,l.getDirectedEdges(),n)}return n}if(arguments.length===3){if(ne(arguments[2],Fe)&&arguments[0]instanceof Y&&arguments[1]instanceof Da){for(var b=arguments[0],S=arguments[1],M=arguments[2],U=S.getEdge().getCoordinates(),J=0;J<U.length-1;J++)if(this._seg.p0=U[J],this._seg.p1=U[J+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<b.x||this._seg.isHorizontal()||b.y<this._seg.p0.y||b.y>this._seg.p1.y||Ze.index(this._seg.p0,this._seg.p1,b)===Ze.RIGHT)){var ue=S.getDepth($.LEFT);this._seg.p0.equals(U[J])||(ue=S.getDepth($.RIGHT));var fe=new Ha(this._seg,ue);M.add(fe)}}else if(ne(arguments[2],Fe)&&arguments[0]instanceof Y&&ne(arguments[1],Fe))for(var Ce=arguments[0],$e=arguments[2],We=arguments[1].iterator();We.hasNext();){var Ke=We.next();Ke.isForward()&&this.findStabbedSegments(Ce,Ke,$e)}}}},{key:"getDepth",value:function(c){var n=this.findStabbedSegments(c);return n.size()===0?0:Tr.min(n)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Rn;var c=arguments[0];this._subgraphs=c}}])}(),Ha=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(c){var n=c;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(n._upwardSeg);return r!==0||(r=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?r:this._upwardSeg.compareTo(n._upwardSeg)}},{key:"compareX",value:function(c,n){var r=c.p0.compareTo(n.p0);return r!==0?r:c.p1.compareTo(n.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var c=arguments[0],n=arguments[1];this._upwardSeg=new Rn(c),this._leftDepth=n}}])}();Dn.DepthSegment=Ha;var Va=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,null,[{key:"constructor_",value:function(){_.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(_),qa=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getY",value:function(){var n=this.y/this.w;if(le.isNaN(n)||le.isInfinite(n))throw new Va;return n}},{key:"getX",value:function(){var n=this.x/this.w;if(le.isNaN(n)||le.isInfinite(n))throw new Va;return n}},{key:"getCoordinate",value:function(){var n=new Y;return n.x=this.getX(),n.y=this.getY(),n}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var r=arguments[0],l=arguments[1];this.x=r,this.y=l,this.w=1}else if(arguments[0]instanceof c&&arguments[1]instanceof c){var p=arguments[0],b=arguments[1];this.x=p.y*b.w-b.y*p.w,this.y=b.x*p.w-p.x*b.w,this.w=p.x*b.y-b.x*p.y}else if(arguments[0]instanceof Y&&arguments[1]instanceof Y){var S=arguments[0],M=arguments[1];this.x=S.y-M.y,this.y=M.x-S.x,this.w=S.x*M.y-M.x*S.y}}else if(arguments.length===3){var U=arguments[0],J=arguments[1],ue=arguments[2];this.x=U,this.y=J,this.w=ue}else if(arguments.length===4){var fe=arguments[0],Ce=arguments[1],$e=arguments[2],We=arguments[3],Ke=fe.y-Ce.y,_t=Ce.x-fe.x,lt=fe.x*Ce.y-Ce.x*fe.y,Rt=$e.y-We.y,qt=We.x-$e.x,cn=$e.x*We.y-We.x*$e.y;this.x=_t*cn-qt*lt,this.y=Rt*lt-Ke*cn,this.w=Ke*qt-Rt*_t}}}])}(),ja=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"area",value:function(){return c.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return c.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(n){if(n===null)throw new T("Supplied point is null.");return c.interpolateZ(n,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return c.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return c.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return c.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return c.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return c.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return c.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var n=arguments[0],r=arguments[1],l=arguments[2];this.p0=n,this.p1=r,this.p2=l}},{key:"area",value:function(n,r,l){return Math.abs(((l.x-n.x)*(r.y-n.y)-(r.x-n.x)*(l.y-n.y))/2)}},{key:"signedArea",value:function(n,r,l){return((l.x-n.x)*(r.y-n.y)-(r.x-n.x)*(l.y-n.y))/2}},{key:"det",value:function(n,r,l,p){return n*p-r*l}},{key:"interpolateZ",value:function(n,r,l,p){var b=r.x,S=r.y,M=l.x-b,U=p.x-b,J=l.y-S,ue=p.y-S,fe=M*ue-U*J,Ce=n.x-b,$e=n.y-S,We=(ue*Ce-U*$e)/fe,Ke=(-J*Ce+M*$e)/fe;return r.getZ()+We*(l.getZ()-r.getZ())+Ke*(p.getZ()-r.getZ())}},{key:"longestSideLength",value:function(n,r,l){var p=n.distance(r),b=r.distance(l),S=l.distance(n),M=p;return b>M&&(M=b),S>M&&(M=S),M}},{key:"circumcentreDD",value:function(n,r,l){var p=Ae.valueOf(n.x).subtract(l.x),b=Ae.valueOf(n.y).subtract(l.y),S=Ae.valueOf(r.x).subtract(l.x),M=Ae.valueOf(r.y).subtract(l.y),U=Ae.determinant(p,b,S,M).multiply(2),J=p.sqr().add(b.sqr()),ue=S.sqr().add(M.sqr()),fe=Ae.determinant(b,J,M,ue),Ce=Ae.determinant(p,J,S,ue),$e=Ae.valueOf(l.x).subtract(fe.divide(U)).doubleValue(),We=Ae.valueOf(l.y).add(Ce.divide(U)).doubleValue();return new Y($e,We)}},{key:"isAcute",value:function(n,r,l){return!!nn.isAcute(n,r,l)&&!!nn.isAcute(r,l,n)&&!!nn.isAcute(l,n,r)}},{key:"circumcentre",value:function(n,r,l){var p=l.x,b=l.y,S=n.x-p,M=n.y-b,U=r.x-p,J=r.y-b,ue=2*c.det(S,M,U,J),fe=c.det(M,S*S+M*M,J,U*U+J*J),Ce=c.det(S,S*S+M*M,U,U*U+J*J);return new Y(p-fe/ue,b+Ce/ue)}},{key:"perpendicularBisector",value:function(n,r){var l=r.x-n.x,p=r.y-n.y,b=new qa(n.x+l/2,n.y+p/2,1),S=new qa(n.x-p+l/2,n.y+l+p/2,1);return new qa(b,S)}},{key:"angleBisector",value:function(n,r,l){var p=r.distance(n),b=p/(p+r.distance(l)),S=l.x-n.x,M=l.y-n.y;return new Y(n.x+b*S,n.y+b*M)}},{key:"area3D",value:function(n,r,l){var p=r.x-n.x,b=r.y-n.y,S=r.getZ()-n.getZ(),M=l.x-n.x,U=l.y-n.y,J=l.getZ()-n.getZ(),ue=b*J-S*U,fe=S*M-p*J,Ce=p*U-b*M,$e=ue*ue+fe*fe+Ce*Ce,We=Math.sqrt($e)/2;return We}},{key:"centroid",value:function(n,r,l){var p=(n.x+r.x+l.x)/3,b=(n.y+r.y+l.y)/3;return new Y(p,b)}},{key:"inCentre",value:function(n,r,l){var p=r.distance(l),b=n.distance(l),S=n.distance(r),M=p+b+S,U=(p*n.x+b*r.x+S*l.x)/M,J=(p*n.y+b*r.y+S*l.y)/M;return new Y(U,J)}}])}(),Wa=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(c,n,r,l,p){if(n===0&&c.length<pi.MINIMUM_VALID_SIZE)return null;var b=l,S=p;c.length>=pi.MINIMUM_VALID_SIZE&&Ze.isCCW(c)&&(b=p,S=l,r=$.opposite(r));var M=this._curveBuilder.getRingCurve(c,r,n);this.addCurve(M,b,S)}},{key:"addRingBothSides",value:function(c,n){this.addRingSide(c,n,$.LEFT,N.EXTERIOR,N.INTERIOR),this.addRingSide(c,n,$.RIGHT,N.INTERIOR,N.EXTERIOR)}},{key:"addPoint",value:function(c){if(this._distance<=0)return null;var n=c.getCoordinates(),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,N.EXTERIOR,N.INTERIOR)}},{key:"addPolygon",value:function(c){var n=this._distance,r=$.LEFT;this._distance<0&&(n=-this._distance,r=$.RIGHT);var l=c.getExteriorRing(),p=Xt.removeRepeatedPoints(l.getCoordinates());if(this._distance<0&&this.isErodedCompletely(l,this._distance)||this._distance<=0&&p.length<3)return null;this.addRingSide(p,n,r,N.EXTERIOR,N.INTERIOR);for(var b=0;b<c.getNumInteriorRing();b++){var S=c.getInteriorRingN(b),M=Xt.removeRepeatedPoints(S.getCoordinates());this._distance>0&&this.isErodedCompletely(S,-this._distance)||this.addRingSide(M,n,$.opposite(r),N.INTERIOR,N.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(c,n){var r=new ja(c[0],c[1],c[2]),l=r.inCentre();return oi.pointToSegment(l,r.p0,r.p1)<Math.abs(n)}},{key:"addLineString",value:function(c){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var n=Xt.removeRepeatedPoints(c.getCoordinates());if(Xt.isRing(n)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(n,this._distance);else{var r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,N.EXTERIOR,N.INTERIOR)}}},{key:"addCurve",value:function(c,n,r){if(c===null||c.length<2)return null;var l=new Ri(c,new Cn(0,N.BOUNDARY,n,r));this._curveList.add(l)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(c){if(c.isEmpty())return null;if(c instanceof Ms)this.addPolygon(c);else if(c instanceof Ns)this.addLineString(c);else if(c instanceof Ta)this.addPoint(c);else if(c instanceof bo)this.addCollection(c);else if(c instanceof Eo)this.addCollection(c);else if(c instanceof Pa)this.addCollection(c);else{if(!(c instanceof wn))throw new ge(c.getGeometryType());this.addCollection(c)}}},{key:"isErodedCompletely",value:function(c,n){var r=c.getCoordinates();if(r.length<4)return n<0;if(r.length===4)return this.isTriangleErodedCompletely(r,n);var l=c.getEnvelopeInternal(),p=Math.min(l.getHeight(),l.getWidth());return n<0&&2*Math.abs(n)>p}},{key:"addCollection",value:function(c){for(var n=0;n<c.getNumGeometries();n++){var r=c.getGeometryN(n);this.add(r)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new je;var c=arguments[0],n=arguments[1],r=arguments[2];this._inputGeom=c,this._distance=n,this._curveBuilder=r}}])}(),hd=function(){return h(function c(){i(this,c)},[{key:"locate",value:function(c){}}])}(),pd=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,c.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new se;var n=this._parent.getGeometryN(this._index++);return n instanceof wn?(this._subcollectionIterator=new c(n),this._subcollectionIterator.next()):n}},{key:"remove",value:function(){throw new ge(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[dd]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var n=arguments[0];this._parent=n,this._atStart=!0,this._index=0,this._max=n.getNumGeometries()}},{key:"isAtomic",value:function(n){return!(n instanceof wn)}}])}(),al=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"locate",value:function(n){return c.locate(n,this._geom)}},{key:"interfaces_",get:function(){return[hd]}}],[{key:"constructor_",value:function(){this._geom=null;var n=arguments[0];this._geom=n}},{key:"locatePointInPolygon",value:function(n,r){if(r.isEmpty())return N.EXTERIOR;var l=r.getExteriorRing(),p=c.locatePointInRing(n,l);if(p!==N.INTERIOR)return p;for(var b=0;b<r.getNumInteriorRing();b++){var S=r.getInteriorRingN(b),M=c.locatePointInRing(n,S);if(M===N.BOUNDARY)return N.BOUNDARY;if(M===N.INTERIOR)return N.EXTERIOR}return N.INTERIOR}},{key:"locatePointInRing",value:function(n,r){return r.getEnvelopeInternal().intersects(n)?Jr.locateInRing(n,r.getCoordinates()):N.EXTERIOR}},{key:"containsPointInPolygon",value:function(n,r){return N.EXTERIOR!==c.locatePointInPolygon(n,r)}},{key:"locateInGeometry",value:function(n,r){if(r instanceof Ms)return c.locatePointInPolygon(n,r);if(r instanceof wn)for(var l=new pd(r);l.hasNext();){var p=l.next();if(p!==r){var b=c.locateInGeometry(n,p);if(b!==N.EXTERIOR)return b}}return N.EXTERIOR}},{key:"isContained",value:function(n,r){return N.EXTERIOR!==c.locate(n,r)}},{key:"locate",value:function(n,r){return r.isEmpty()?N.EXTERIOR:r.getEnvelopeInternal().intersects(n)?c.locateInGeometry(n,r):N.EXTERIOR}}])}(),md=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(c){this.getEdges();var n=this._edgeList.indexOf(c),r=n-1;return n===0&&(r=this._edgeList.size()-1),this._edgeList.get(r)}},{key:"propagateSideLabels",value:function(c){for(var n=N.NONE,r=this.iterator();r.hasNext();){var l=r.next().getLabel();l.isArea(c)&&l.getLocation(c,$.LEFT)!==N.NONE&&(n=l.getLocation(c,$.LEFT))}if(n===N.NONE)return null;for(var p=n,b=this.iterator();b.hasNext();){var S=b.next(),M=S.getLabel();if(M.getLocation(c,$.ON)===N.NONE&&M.setLocation(c,$.ON,p),M.isArea(c)){var U=M.getLocation(c,$.LEFT),J=M.getLocation(c,$.RIGHT);if(J!==N.NONE){if(J!==p)throw new hn("side location conflict",S.getCoordinate());U===N.NONE&&Pe.shouldNeverReachHere("found single null side (at "+S.getCoordinate()+")"),p=U}else Pe.isTrue(M.getLocation(c,$.LEFT)===N.NONE,"found single null side"),M.setLocation(c,$.RIGHT,p),M.setLocation(c,$.LEFT,p)}}}},{key:"getCoordinate",value:function(){var c=this.iterator();return c.hasNext()?c.next().getCoordinate():null}},{key:"print",value:function(c){Xn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"isAreaLabelsConsistent",value:function(c){return this.computeEdgeEndLabels(c.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(c){var n=this.getEdges();if(n.size()<=0)return!0;var r=n.size()-1,l=n.get(r).getLabel().getLocation(c,$.LEFT);Pe.isTrue(l!==N.NONE,"Found unlabelled area edge");for(var p=l,b=this.iterator();b.hasNext();){var S=b.next().getLabel();Pe.isTrue(S.isArea(c),"Found non-area edge");var M=S.getLocation(c,$.LEFT),U=S.getLocation(c,$.RIGHT);if(M===U||U!==p)return!1;p=M}return!0}},{key:"findIndex",value:function(c){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===c)return n;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new je(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(c,n,r){return this._ptInAreaLocation[c]===N.NONE&&(this._ptInAreaLocation[c]=al.locate(n,r[c].getGeometry())),this._ptInAreaLocation[c]}},{key:"toString",value:function(){var c=new ye;c.append("EdgeEndStar:   "+this.getCoordinate()),c.append(`
`);for(var n=this.iterator();n.hasNext();){var r=n.next();c.append(r),c.append(`
`)}return c.toString()}},{key:"computeEdgeEndLabels",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(c)}},{key:"computeLabelling",value:function(c){this.computeEdgeEndLabels(c[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],r=this.iterator();r.hasNext();)for(var l=r.next().getLabel(),p=0;p<2;p++)l.isLine(p)&&l.getLocation(p)===N.BOUNDARY&&(n[p]=!0);for(var b=this.iterator();b.hasNext();)for(var S=b.next(),M=S.getLabel(),U=0;U<2;U++)if(M.isAnyNull(U)){var J=N.NONE;if(n[U])J=N.EXTERIOR;else{var ue=S.getCoordinate();J=this.getLocation(U,ue,c)}M.setAllLocationsIfNull(U,J)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(c,n){this._edgeMap.put(c,n),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Wt,this._edgeList=null,this._ptInAreaLocation=[N.NONE,N.NONE]}}])}(),ui=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var r=null,l=null,p=this._SCANNING_FOR_INCOMING,b=0;b<this._resultAreaEdgeList.size();b++){var S=this._resultAreaEdgeList.get(b),M=S.getSym();if(S.getLabel().isArea())switch(r===null&&S.isInResult()&&(r=S),p){case this._SCANNING_FOR_INCOMING:if(!M.isInResult())continue;l=M,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!S.isInResult())continue;l.setNext(S),p=this._SCANNING_FOR_INCOMING}}if(p===this._LINKING_TO_OUTGOING){if(r===null)throw new hn("no outgoing dirEdge found",this.getCoordinate());Pe.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),l.setNext(r)}}},{key:"insert",value:function(r){var l=r;this.insertEdgeEnd(l,l)}},{key:"getRightmostEdge",value:function(){var r=this.getEdges(),l=r.size();if(l<1)return null;var p=r.get(0);if(l===1)return p;var b=r.get(l-1),S=p.getQuadrant(),M=b.getQuadrant();return gn.isNorthern(S)&&gn.isNorthern(M)?p:gn.isNorthern(S)||gn.isNorthern(M)?p.getDy()!==0?p:b.getDy()!==0?b:(Pe.shouldNeverReachHere("found two horizontal edges incident on node"),null):b}},{key:"print",value:function(r){Xn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var l=this.iterator();l.hasNext();){var p=l.next();r.print("out "),p.print(r),r.println(),r.print("in "),p.getSym().print(r),r.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new je;for(var r=this.iterator();r.hasNext();){var l=r.next();(l.isInResult()||l.getSym().isInResult())&&this._resultAreaEdgeList.add(l)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(r){for(var l=this.iterator();l.hasNext();){var p=l.next().getLabel();p.setAllLocationsIfNull(0,r.getLocation(0)),p.setAllLocationsIfNull(1,r.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var r=null,l=null,p=this._edgeList.size()-1;p>=0;p--){var b=this._edgeList.get(p),S=b.getSym();l===null&&(l=S),r!==null&&S.setNext(r),r=b}l.setNext(r)}},{key:"computeDepths",value:function(){if(arguments.length===1){var r=arguments[0],l=this.findIndex(r),p=r.getDepth($.LEFT),b=r.getDepth($.RIGHT),S=this.computeDepths(l+1,this._edgeList.size(),p);if(this.computeDepths(0,l,S)!==b)throw new hn("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var M=arguments[1],U=arguments[2],J=arguments[0];J<M;J++){var ue=this._edgeList.get(J);ue.setEdgeDepths($.RIGHT,U),U=ue.getDepth($.LEFT)}return U}}},{key:"mergeSymLabels",value:function(){for(var r=this.iterator();r.hasNext();){var l=r.next();l.getLabel().merge(l.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(r){for(var l=null,p=null,b=this._SCANNING_FOR_INCOMING,S=this._resultAreaEdgeList.size()-1;S>=0;S--){var M=this._resultAreaEdgeList.get(S),U=M.getSym();switch(l===null&&M.getEdgeRing()===r&&(l=M),b){case this._SCANNING_FOR_INCOMING:if(U.getEdgeRing()!==r)continue;p=U,b=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(M.getEdgeRing()!==r)continue;p.setNextMin(M),b=this._SCANNING_FOR_INCOMING}}b===this._LINKING_TO_OUTGOING&&(Pe.isTrue(l!==null,"found null for first outgoing dirEdge"),Pe.isTrue(l.getEdgeRing()===r,"unable to link last incoming dirEdge"),p.setNextMin(l))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var r=0,l=this.iterator();l.hasNext();)l.next().isInResult()&&r++;return r}if(arguments.length===1){for(var p=arguments[0],b=0,S=this.iterator();S.hasNext();)S.next().getEdgeRing()===p&&b++;return b}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var r=N.NONE,l=this.iterator();l.hasNext();){var p=l.next(),b=p.getSym();if(!p.isLineEdge()){if(p.isInResult()){r=N.INTERIOR;break}if(b.isInResult()){r=N.EXTERIOR;break}}}if(r===N.NONE)return null;for(var S=r,M=this.iterator();M.hasNext();){var U=M.next(),J=U.getSym();U.isLineEdge()?U.getEdge().setCovered(S===N.INTERIOR):(U.isInResult()&&(S=N.EXTERIOR),J.isInResult()&&(S=N.INTERIOR))}}},{key:"computeLabelling",value:function(r){O(n,"computeLabelling",this,1).call(this,r),this._label=new Cn(N.NONE);for(var l=this.iterator();l.hasNext();)for(var p=l.next().getEdge().getLabel(),b=0;b<2;b++){var S=p.getLocation(b);S!==N.INTERIOR&&S!==N.BOUNDARY||this._label.setLocation(b,N.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(md),es=function(c){function n(){return i(this,n),o(this,n)}return w(n,c),h(n,[{key:"createNode",value:function(r){return new Bs(r,new ui)}}])}(Ba),ul=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compareTo",value:function(n){var r=n;return c.compareOriented(this._pts,this._orientation,r._pts,r._orientation)}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=c.orientation(n)}},{key:"orientation",value:function(n){return Xt.increasingDirection(n)===1}},{key:"compareOriented",value:function(n,r,l,p){for(var b=r?1:-1,S=p?1:-1,M=r?n.length:-1,U=p?l.length:-1,J=r?0:n.length-1,ue=p?0:l.length-1;;){var fe=n[J].compareTo(l[ue]);if(fe!==0)return fe;var Ce=(J+=b)===M,$e=(ue+=S)===U;if(Ce&&!$e)return-1;if(!Ce&&$e)return 1;if(Ce&&$e)return 0}}}])}(),Di=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n);n>0&&c.print(","),c.print("(");for(var l=r.getCoordinates(),p=0;p<l.length;p++)p>0&&c.print(","),c.print(l[p].x+" "+l[p].y);c.println(")")}c.print(")  ")}},{key:"addAll",value:function(c){for(var n=c.iterator();n.hasNext();)this.add(n.next())}},{key:"findEdgeIndex",value:function(c){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(c))return n;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(c){return this._edges.get(c)}},{key:"findEqualEdge",value:function(c){var n=new ul(c.getCoordinates());return this._ocaMap.get(n)}},{key:"add",value:function(c){this._edges.add(c);var n=new ul(c.getCoordinates());this._ocaMap.put(n,c)}}],[{key:"constructor_",value:function(){this._edges=new je,this._ocaMap=new Wt}}])}(),ll=function(){return h(function c(){i(this,c)},[{key:"processIntersections",value:function(c,n,r,l){}},{key:"isDone",value:function(){}}])}(),ts=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isTrivialIntersection",value:function(n,r,l,p){if(n===l&&this._li.getIntersectionNum()===1){if(c.isAdjacentSegments(r,p))return!0;if(n.isClosed()){var b=n.size()-1;if(r===0&&p===b||p===0&&r===b)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(n,r,l,p){if(n===l&&r===p)return null;this.numTests++;var b=n.getCoordinates()[r],S=n.getCoordinates()[r+1],M=l.getCoordinates()[p],U=l.getCoordinates()[p+1];this._li.computeIntersection(b,S,M,U),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(n,r,l,p)||(this._hasIntersection=!0,n.addIntersections(this._li,r,0),l.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[ll]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var n=arguments[0];this._li=n}},{key:"isAdjacentSegments",value:function(n,r){return Math.abs(n-r)===1}}])}(),gd=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex),c.println(" dist = "+this.dist)}},{key:"compareTo",value:function(c){var n=c;return this.compare(n.segmentIndex,n.dist)}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===c}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(c,n){return this.segmentIndex<c?-1:this.segmentIndex>c?1:this.dist<n?-1:this.dist>n?1:0}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var c=arguments[0],n=arguments[1],r=arguments[2];this.coord=new Y(c),this.segmentIndex=n,this.dist=r}}])}(),Gs=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var l=n.next(),p=this.createSplitEdge(r,l);c.add(p),r=l}}},{key:"addEndpoints",value:function(){var c=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[c],c,0)}},{key:"createSplitEdge",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2,l=this.edge.pts[n.segmentIndex],p=n.dist>0||!n.coord.equals2D(l);p||r--;var b=new Array(r).fill(null),S=0;b[S++]=new Y(c.coord);for(var M=c.segmentIndex+1;M<=n.segmentIndex;M++)b[S++]=this.edge.pts[M];return p&&(b[S]=n.coord),new dl(b,new Cn(this.edge._label))}},{key:"add",value:function(c,n,r){var l=new gd(c,n,r),p=this._nodeMap.get(l);return p!==null?p:(this._nodeMap.put(l,l),l)}},{key:"isIntersection",value:function(c){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(c))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Wt,this.edge=null;var c=arguments[0];this.edge=c}}])}(),cl=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])||c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))&&this._matrix[N.EXTERIOR][N.INTERIOR]===De.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===De.FALSE}},{key:"isCoveredBy",value:function(){return(c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])||c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))&&this._matrix[N.INTERIOR][N.EXTERIOR]===De.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===De.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var l=Math.trunc(r/3),p=r%3;this._matrix[l][p]=De.toDimensionValue(n.charAt(r))}else if(arguments.length===3){var b=arguments[0],S=arguments[1],M=arguments[2];this._matrix[b][S]=M}}},{key:"isContains",value:function(){return c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.EXTERIOR][N.INTERIOR]===De.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===De.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var l=Math.trunc(r/3),p=r%3;this.setAtLeast(l,p,De.toDimensionValue(n.charAt(r)))}else if(arguments.length===3){var b=arguments[0],S=arguments[1],M=arguments[2];this._matrix[b][S]<M&&(this._matrix[b][S]=M)}}},{key:"setAtLeastIfValid",value:function(n,r,l){n>=0&&r>=0&&this.setAtLeast(n,r,l)}},{key:"isWithin",value:function(){return c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.INTERIOR][N.EXTERIOR]===De.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===De.FALSE}},{key:"isTouches",value:function(n,r){return n>r?this.isTouches(r,n):(n===De.A&&r===De.A||n===De.L&&r===De.L||n===De.L&&r===De.A||n===De.P&&r===De.A||n===De.P&&r===De.L)&&this._matrix[N.INTERIOR][N.INTERIOR]===De.FALSE&&(c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))}},{key:"isOverlaps",value:function(n,r){return n===De.P&&r===De.P||n===De.A&&r===De.A?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR]):n===De.L&&r===De.L&&this._matrix[N.INTERIOR][N.INTERIOR]===1&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR])}},{key:"isEquals",value:function(n,r){return n===r&&c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.INTERIOR][N.EXTERIOR]===De.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===De.FALSE&&this._matrix[N.EXTERIOR][N.INTERIOR]===De.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===De.FALSE}},{key:"toString",value:function(){for(var n=new Lo("123456789"),r=0;r<3;r++)for(var l=0;l<3;l++)n.setCharAt(3*r+l,De.toDimensionSymbol(this._matrix[r][l]));return n.toString()}},{key:"setAll",value:function(n){for(var r=0;r<3;r++)for(var l=0;l<3;l++)this._matrix[r][l]=n}},{key:"get",value:function(n,r){return this._matrix[n][r]}},{key:"transpose",value:function(){var n=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=n,n=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=n,n=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=n,this}},{key:"matches",value:function(n){if(n.length!==9)throw new T("Should be length 9: "+n);for(var r=0;r<3;r++)for(var l=0;l<3;l++)if(!c.matches(this._matrix[r][l],n.charAt(3*r+l)))return!1;return!0}},{key:"add",value:function(n){for(var r=0;r<3;r++)for(var l=0;l<3;l++)this.setAtLeast(r,l,n.get(r,l))}},{key:"isDisjoint",value:function(){return this._matrix[N.INTERIOR][N.INTERIOR]===De.FALSE&&this._matrix[N.INTERIOR][N.BOUNDARY]===De.FALSE&&this._matrix[N.BOUNDARY][N.INTERIOR]===De.FALSE&&this._matrix[N.BOUNDARY][N.BOUNDARY]===De.FALSE}},{key:"isCrosses",value:function(n,r){return n===De.P&&r===De.L||n===De.P&&r===De.A||n===De.L&&r===De.A?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR]):n===De.L&&r===De.P||n===De.A&&r===De.P||n===De.A&&r===De.L?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR]):n===De.L&&r===De.L&&this._matrix[N.INTERIOR][N.INTERIOR]===0}},{key:"interfaces_",get:function(){return[F]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(De.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var n=arguments[0];c.constructor_.call(this),this.set(n)}else if(arguments[0]instanceof c){var r=arguments[0];c.constructor_.call(this),this._matrix[N.INTERIOR][N.INTERIOR]=r._matrix[N.INTERIOR][N.INTERIOR],this._matrix[N.INTERIOR][N.BOUNDARY]=r._matrix[N.INTERIOR][N.BOUNDARY],this._matrix[N.INTERIOR][N.EXTERIOR]=r._matrix[N.INTERIOR][N.EXTERIOR],this._matrix[N.BOUNDARY][N.INTERIOR]=r._matrix[N.BOUNDARY][N.INTERIOR],this._matrix[N.BOUNDARY][N.BOUNDARY]=r._matrix[N.BOUNDARY][N.BOUNDARY],this._matrix[N.BOUNDARY][N.EXTERIOR]=r._matrix[N.BOUNDARY][N.EXTERIOR],this._matrix[N.EXTERIOR][N.INTERIOR]=r._matrix[N.EXTERIOR][N.INTERIOR],this._matrix[N.EXTERIOR][N.BOUNDARY]=r._matrix[N.EXTERIOR][N.BOUNDARY],this._matrix[N.EXTERIOR][N.EXTERIOR]=r._matrix[N.EXTERIOR][N.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var n=arguments[0],r=arguments[1];return r===De.SYM_DONTCARE||r===De.SYM_TRUE&&(n>=0||n===De.TRUE)||r===De.SYM_FALSE&&n===De.FALSE||r===De.SYM_P&&n===De.P||r===De.SYM_L&&n===De.L||r===De.SYM_A&&n===De.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var l=arguments[1];return new c(arguments[0]).matches(l)}}},{key:"isTrue",value:function(n){return n>=0||n===De.TRUE}}])}(),Ao=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(n){return n===null||n.length===0?null:(this.ensureCapacity(this._size+n.length),Xn.arraycopy(n,0,this._data,this._size,n.length),void(this._size+=n.length))}},{key:"ensureCapacity",value:function(n){if(n<=this._data.length)return null;var r=Math.max(n,2*this._data.length);this._data=pn.copyOf(this._data,r)}},{key:"toArray",value:function(){var n=new Array(this._size).fill(null);return Xn.arraycopy(this._data,0,n,0,this._size),n}},{key:"add",value:function(n){this.ensureCapacity(this._size+1),this._data[this._size]=n,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)c.constructor_.call(this,10);else if(arguments.length===1){var n=arguments[0];this._data=new Array(n).fill(null)}}}])}(),_d=function(){function c(){i(this,c)}return h(c,[{key:"getChainStartIndices",value:function(n){var r=0,l=new Ao(Math.trunc(n.length/2));l.add(r);do{var p=this.findChainEnd(n,r);l.add(p),r=p}while(r<n.length-1);return l.toArray()}},{key:"findChainEnd",value:function(n,r){for(var l=gn.quadrant(n[r],n[r+1]),p=r+1;p<n.length&&gn.quadrant(n[p-1],n[p])===l;)p++;return p-1}},{key:"OLDgetChainStartIndices",value:function(n){var r=0,l=new je;l.add(r);do{var p=this.findChainEnd(n,r);l.add(p),r=p}while(r<n.length-1);return c.toIntArray(l)}}],[{key:"toIntArray",value:function(n){for(var r=new Array(n.size()).fill(null),l=0;l<r.length;l++)r[l]=n.get(l).intValue();return r}}])}(),tr=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n>r?n:r}},{key:"getMinX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n<r?n:r}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var c=arguments[0],n=arguments[1],r=arguments[2],l=arguments[3];this.computeIntersectsForChain(this.startIndex[c],this.startIndex[c+1],n,n.startIndex[r],n.startIndex[r+1],l)}else if(arguments.length===6){var p=arguments[0],b=arguments[1],S=arguments[2],M=arguments[3],U=arguments[4],J=arguments[5];if(b-p==1&&U-M==1)return J.addIntersections(this.e,p,S.e,M),null;if(!this.overlaps(p,b,S,M,U))return null;var ue=Math.trunc((p+b)/2),fe=Math.trunc((M+U)/2);p<ue&&(M<fe&&this.computeIntersectsForChain(p,ue,S,M,fe,J),fe<U&&this.computeIntersectsForChain(p,ue,S,fe,U,J)),ue<b&&(M<fe&&this.computeIntersectsForChain(ue,b,S,M,fe,J),fe<U&&this.computeIntersectsForChain(ue,b,S,fe,U,J))}}},{key:"overlaps",value:function(c,n,r,l,p){return Ne.intersects(this.pts[c],this.pts[n],r.pts[l],r.pts[p])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(c,n){for(var r=0;r<this.startIndex.length-1;r++)for(var l=0;l<c.startIndex.length-1;l++)this.computeIntersectsForChain(r,c,l,n)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var c=arguments[0];this.e=c,this.pts=c.getCoordinates();var n=new _d;this.startIndex=n.getChainStartIndices(this.pts)}}])}(),Hs=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getDepth",value:function(n,r){return this._depth[n][r]}},{key:"setDepth",value:function(n,r,l){this._depth[n][r]=l}},{key:"isNull",value:function(){if(arguments.length===0){for(var n=0;n<2;n++)for(var r=0;r<3;r++)if(this._depth[n][r]!==c.NULL_VALUE)return!1;return!0}if(arguments.length===1){var l=arguments[0];return this._depth[l][1]===c.NULL_VALUE}if(arguments.length===2){var p=arguments[0],b=arguments[1];return this._depth[p][b]===c.NULL_VALUE}}},{key:"normalize",value:function(){for(var n=0;n<2;n++)if(!this.isNull(n)){var r=this._depth[n][1];this._depth[n][2]<r&&(r=this._depth[n][2]),r<0&&(r=0);for(var l=1;l<3;l++){var p=0;this._depth[n][l]>r&&(p=1),this._depth[n][l]=p}}}},{key:"getDelta",value:function(n){return this._depth[n][$.RIGHT]-this._depth[n][$.LEFT]}},{key:"getLocation",value:function(n,r){return this._depth[n][r]<=0?N.EXTERIOR:N.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<2;r++)for(var l=1;l<3;l++){var p=n.getLocation(r,l);p!==N.EXTERIOR&&p!==N.INTERIOR||(this.isNull(r,l)?this._depth[r][l]=c.depthAtLocation(p):this._depth[r][l]+=c.depthAtLocation(p))}else if(arguments.length===3){var b=arguments[0],S=arguments[1];arguments[2]===N.INTERIOR&&this._depth[b][S]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var r=0;r<3;r++)this._depth[n][r]=c.NULL_VALUE}},{key:"depthAtLocation",value:function(n){return n===N.EXTERIOR?0:n===N.INTERIOR?1:c.NULL_VALUE}}])}();Hs.NULL_VALUE=-1;var dl=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var r=new Array(2).fill(null);return r[0]=this.pts[0],r[1]=this.pts[1],new n(r,Cn.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(r){this._isIsolated=r}},{key:"setName",value:function(r){this._name=r}},{key:"equals",value:function(r){if(!(r instanceof n))return!1;var l=r;if(this.pts.length!==l.pts.length)return!1;for(var p=!0,b=!0,S=this.pts.length,M=0;M<this.pts.length;M++)if(this.pts[M].equals2D(l.pts[M])||(p=!1),this.pts[M].equals2D(l.pts[--S])||(b=!1),!p&&!b)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}}},{key:"print",value:function(r){r.print("edge "+this._name+": "),r.print("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&r.print(","),r.print(this.pts[l].x+" "+this.pts[l].y);r.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(r){n.updateIM(this._label,r)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(r){r.print("edge "+this._name+": ");for(var l=this.pts.length-1;l>=0;l--)r.print(this.pts[l]+" ");r.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new tr(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Ne;for(var r=0;r<this.pts.length;r++)this._env.expandToInclude(this.pts[r])}return this._env}},{key:"addIntersection",value:function(r,l,p,b){var S=new Y(r.getIntersection(b)),M=l,U=r.getEdgeDistance(p,b),J=M+1;if(J<this.pts.length){var ue=this.pts[J];S.equals2D(ue)&&(M=J,U=0)}this.eiList.add(S,M,U)}},{key:"toString",value:function(){var r=new Lo;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&r.append(","),r.append(this.pts[l].x+" "+this.pts[l].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()}},{key:"isPointwiseEqual",value:function(r){if(this.pts.length!==r.pts.length)return!1;for(var l=0;l<this.pts.length;l++)if(!this.pts[l].equals2D(r.pts[l]))return!1;return!0}},{key:"setDepthDelta",value:function(r){this._depthDelta=r}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(r,l,p){for(var b=0;b<r.getIntersectionNum();b++)this.addIntersection(r,l,p,b)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Gs(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Hs,this._depthDelta=0,arguments.length===1){var r=arguments[0];n.constructor_.call(this,r,null)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.pts=l,this._label=p}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof cl&&arguments[0]instanceof Cn))return O(n,"updateIM",this).apply(this,arguments);var r=arguments[0],l=arguments[1];l.setAtLeastIfValid(r.getLocation(0,$.ON),r.getLocation(1,$.ON),1),r.isArea()&&(l.setAtLeastIfValid(r.getLocation(0,$.LEFT),r.getLocation(1,$.LEFT),2),l.setAtLeastIfValid(r.getLocation(0,$.RIGHT),r.getLocation(1,$.RIGHT),2))}}])}(At),Ro=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"setWorkingPrecisionModel",value:function(n){this._workingPrecisionModel=n}},{key:"insertUniqueEdge",value:function(n){var r=this._edgeList.findEqualEdge(n);if(r!==null){var l=r.getLabel(),p=n.getLabel();r.isPointwiseEqual(n)||(p=new Cn(n.getLabel())).flip(),l.merge(p);var b=c.depthDelta(p),S=r.getDepthDelta()+b;r.setDepthDelta(S)}else this._edgeList.add(n),n.setDepthDelta(c.depthDelta(n.getLabel()))}},{key:"buildSubgraphs",value:function(n,r){for(var l=new je,p=n.iterator();p.hasNext();){var b=p.next(),S=b.getRightmostCoordinate(),M=new Dn(l).getDepth(S);b.computeDepth(M),b.findResultEdges(),l.add(b),r.add(b.getDirectedEdges(),b.getNodes())}}},{key:"createSubgraphs",value:function(n){for(var r=new je,l=n.getNodes().iterator();l.hasNext();){var p=l.next();if(!p.isVisited()){var b=new Yi;b.create(p),r.add(b)}}return Tr.sort(r,Tr.reverseOrder()),r}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(n){if(this._workingNoder!==null)return this._workingNoder;var r=new Ua,l=new Ai;return l.setPrecisionModel(n),r.setSegmentIntersector(new ts(l)),r}},{key:"buffer",value:function(n,r){var l=this._workingPrecisionModel;l===null&&(l=n.getPrecisionModel()),this._geomFact=n.getFactory();var p=new Us(l,this._bufParams),b=new Wa(n,r,p).getCurves();if(b.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(b,l),this._graph=new Io(new es),this._graph.addEdges(this._edgeList.getEdges());var S=this.createSubgraphs(this._graph),M=new ad(this._geomFact);this.buildSubgraphs(S,M);var U=M.getPolygons();return U.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(U)}},{key:"computeNodedEdges",value:function(n,r){var l=this.getNoder(r);l.computeNodes(n);for(var p=l.getNodedSubstrings().iterator();p.hasNext();){var b=p.next(),S=b.getCoordinates();if(S.length!==2||!S[0].equals2D(S[1])){var M=b.getData(),U=new dl(b.getCoordinates(),new Cn(M));this.insertUniqueEdge(U)}}}},{key:"setNoder",value:function(n){this._workingNoder=n}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Di;var n=arguments[0];this._bufParams=n}},{key:"depthDelta",value:function(n){var r=n.getLocation(0,$.LEFT),l=n.getLocation(0,$.RIGHT);return r===N.INTERIOR&&l===N.EXTERIOR?1:r===N.EXTERIOR&&l===N.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(n){for(var r=new mi,l=new je;n.hasNext();){var p=n.next(),b=r.createLineString(p.getCoordinates());l.add(b)}return r.buildGeometry(l)}}])}(),vd=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"rescale",value:function(){if(ne(arguments[0],Q))for(var n=arguments[0].iterator();n.hasNext();){var r=n.next();this.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var l=arguments[0],p=0;p<l.length;p++)l[p].x=l[p].x/this._scaleFactor+this._offsetX,l[p].y=l[p].y/this._scaleFactor+this._offsetY;l.length===2&&l[0].equals2D(l[1])&&Xn.out.println(l)}}},{key:"scale",value:function(){if(ne(arguments[0],Q)){for(var n=arguments[0],r=new je(n.size()),l=n.iterator();l.hasNext();){var p=l.next();r.add(new Ri(this.scale(p.getCoordinates()),p.getData()))}return r}if(arguments[0]instanceof Array){for(var b=arguments[0],S=new Array(b.length).fill(null),M=0;M<b.length;M++)S[M]=new Y(Math.round((b[M].x-this._offsetX)*this._scaleFactor),Math.round((b[M].y-this._offsetY)*this._scaleFactor),b[M].getZ());return Xt.removeRepeatedPoints(S)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var n=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(n),n}},{key:"computeNodes",value:function(n){var r=n;this._isScaled&&(r=this.scale(n)),this._noder.computeNodes(r)}},{key:"interfaces_",get:function(){return[$a]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var n=arguments[0],r=arguments[1];c.constructor_.call(this,n,r,0,0)}else if(arguments.length===4){var l=arguments[0],p=arguments[1];this._noder=l,this._scaleFactor=p,this._isScaled=!this.isIntegerPrecision()}}}])}(),bi=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next().getCoordinates();this.checkEndPtVertexIntersections(r[0],this._segStrings),this.checkEndPtVertexIntersections(r[r.length-1],this._segStrings)}else if(arguments.length===2){for(var l=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var b=p.next().getCoordinates(),S=1;S<b.length-1;S++)if(b[S].equals(l))throw new Re("found endpt/interior pt intersection at index "+S+" :pt "+l)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var r=n.next(),l=this._segStrings.iterator();l.hasNext();){var p=l.next();this.checkInteriorIntersections(r,p)}else if(arguments.length===2)for(var b=arguments[0],S=arguments[1],M=b.getCoordinates(),U=S.getCoordinates(),J=0;J<M.length-1;J++)for(var ue=0;ue<U.length-1;ue++)this.checkInteriorIntersections(b,J,S,ue);else if(arguments.length===4){var fe=arguments[0],Ce=arguments[1],$e=arguments[2],We=arguments[3];if(fe===$e&&Ce===We)return null;var Ke=fe.getCoordinates()[Ce],_t=fe.getCoordinates()[Ce+1],lt=$e.getCoordinates()[We],Rt=$e.getCoordinates()[We+1];if(this._li.computeIntersection(Ke,_t,lt,Rt),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Ke,_t)||this.hasInteriorIntersection(this._li,lt,Rt)))throw new Re("found non-noded intersection at "+Ke+"-"+_t+" and "+lt+"-"+Rt)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkCollapses(r)}else if(arguments.length===1)for(var l=arguments[0].getCoordinates(),p=0;p<l.length-2;p++)this.checkCollapse(l[p],l[p+1],l[p+2])}},{key:"hasInteriorIntersection",value:function(n,r,l){for(var p=0;p<n.getIntersectionNum();p++){var b=n.getIntersection(p);if(!b.equals(r)&&!b.equals(l))return!0}return!1}},{key:"checkCollapse",value:function(n,r,l){if(n.equals(l))throw new Re("found non-noded collapse at "+c.fact.createLineString([n,r,l]))}}],[{key:"constructor_",value:function(){this._li=new Ai,this._segStrings=null;var n=arguments[0];this._segStrings=n}}])}();bi.fact=new mi;var Za=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"intersectsScaled",value:function(n,r){var l=Math.min(n.x,r.x),p=Math.max(n.x,r.x),b=Math.min(n.y,r.y),S=Math.max(n.y,r.y),M=this._maxx<l||this._minx>p||this._maxy<b||this._miny>S;if(M)return!1;var U=this.intersectsToleranceSquare(n,r);return Pe.isTrue(!(M&&U),"Found bad envelope test"),U}},{key:"initCorners",value:function(n){var r=.5;this._minx=n.x-r,this._maxx=n.x+r,this._miny=n.y-r,this._maxy=n.y+r,this._corner[0]=new Y(this._maxx,this._maxy),this._corner[1]=new Y(this._minx,this._maxy),this._corner[2]=new Y(this._minx,this._miny),this._corner[3]=new Y(this._maxx,this._miny)}},{key:"intersects",value:function(n,r){return this._scaleFactor===1?this.intersectsScaled(n,r):(this.copyScaled(n,this._p0Scaled),this.copyScaled(r,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(n){return Math.round(n*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(n,r){r.x=this.scale(n.x),r.y=this.scale(n.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var n=c.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ne(this._originalPt.x-n,this._originalPt.x+n,this._originalPt.y-n,this._originalPt.y+n)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(n,r){return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(n,r){var l=!1,p=!1;return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(l=!0),this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!l||!p)||!!n.equals(this._pt)||!!r.equals(this._pt))))}},{key:"addSnappedNode",value:function(n,r){var l=n.getCoordinate(r),p=n.getCoordinate(r+1);return!!this.intersects(l,p)&&(n.addIntersection(this.getCoordinate(),r),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var n=arguments[0],r=arguments[1],l=arguments[2];if(this._originalPt=n,this._pt=n,this._scaleFactor=r,this._li=l,r<=0)throw new T("Scale factor must be non-zero");r!==1&&(this._pt=new Y(this.scale(n.x),this.scale(n.y)),this._p0Scaled=new Y,this._p1Scaled=new Y),this.initCorners(this._pt)}}])}();Za.SAFE_ENV_EXPANSION_FACTOR=.75;var ns=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var c=arguments[1];arguments[0].getLineSegment(c,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Rn}}])}(),fl=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var c=arguments[0];return this.snap(c,null,-1)}if(arguments.length===3){var n=arguments[0],r=arguments[1],l=arguments[2],p=n.getSafeEnvelope(),b=new wi(n,r,l);return this._index.query(p,new(function(){return h(function S(){i(this,S)},[{key:"interfaces_",get:function(){return[nl]}},{key:"visitItem",value:function(S){S.select(p,b)}}])}())),b.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var c=arguments[0];this._index=c}}])}(),wi=function(c){function n(){var r;return i(this,n),r=o(this,n),n.constructor_.apply(r,arguments),r}return w(n,c),h(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof za))return O(n,"select",this,1).apply(this,arguments);var r=arguments[1],l=arguments[0].getContext();if(this._parentEdge===l&&(r===this._hotPixelVertexIndex||r+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(l,r)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var r=arguments[0],l=arguments[1],p=arguments[2];this._hotPixel=r,this._parentEdge=l,this._hotPixelVertexIndex=p}}])}(ns);fl.HotPixelSnapAction=wi;var Do=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(c,n,r,l){if(c===r&&n===l)return null;var p=c.getCoordinates()[n],b=c.getCoordinates()[n+1],S=r.getCoordinates()[l],M=r.getCoordinates()[l+1];if(this._li.computeIntersection(p,b,S,M),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var U=0;U<this._li.getIntersectionNum();U++)this._interiorIntersections.add(this._li.getIntersection(U));c.addIntersections(this._li,n,0),r.addIntersections(this._li,l,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[ll]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var c=arguments[0];this._li=c,this._interiorIntersections=new je}}])}(),hl=function(){return h(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(c){var n=Ri.getNodedSubstrings(c),r=new bi(n);try{r.checkValid()}catch(l){if(!(l instanceof _))throw l;l.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Ri.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(c,n){var r=this.findInteriorIntersections(c,n);this.computeIntersectionSnaps(r),this.computeVertexSnaps(c)}},{key:"findInteriorIntersections",value:function(c,n){var r=new Do(n);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(c),r.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(ne(arguments[0],Q))for(var c=arguments[0].iterator();c.hasNext();){var n=c.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Ri)for(var r=arguments[0],l=r.getCoordinates(),p=0;p<l.length;p++){var b=new Za(l[p],this._scaleFactor,this._li);this._pointSnapper.snap(b,r,p)&&r.addIntersection(l[p],p)}}},{key:"computeNodes",value:function(c){this._nodedSegStrings=c,this._noder=new Ua,this._pointSnapper=new fl(this._noder.getIndex()),this.snapRound(c,this._li)}},{key:"computeIntersectionSnaps",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next(),l=new Za(r,this._scaleFactor,this._li);this._pointSnapper.snap(l)}}},{key:"interfaces_",get:function(){return[$a]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var c=arguments[0];this._pm=c,this._li=new Ai,this._li.setPrecisionModel(c),this._scaleFactor=c.getScale()}}])}(),nr=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"bufferFixedPrecision",value:function(n){var r=new vd(new hl(new kn(1)),n.getScale()),l=new Ro(this._bufParams);l.setWorkingPrecisionModel(n),l.setNoder(r),this._resultGeometry=l.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var n=c.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision(n)}catch(b){if(!(b instanceof hn))throw b;this._saveException=b}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var r=arguments[0],l=c.precisionScaleFactor(this._argGeom,this._distance,r),p=new kn(l);this.bufferFixedPrecision(p)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var n=this._argGeom.getFactory().getPrecisionModel();n.getType()===kn.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(n){this._bufParams.setQuadrantSegments(n)}},{key:"bufferOriginalPrecision",value:function(){try{var n=new Ro(this._bufParams);this._resultGeometry=n.buffer(this._argGeom,this._distance)}catch(r){if(!(r instanceof Re))throw r;this._saveException=r}}},{key:"getResultGeometry",value:function(n){return this._distance=n,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(n){this._bufParams.setEndCapStyle(n)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new H,this._resultGeometry=null,this._saveException=null,arguments.length===1){var n=arguments[0];this._argGeom=n}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this._argGeom=r,this._bufParams=l}}},{key:"bufferOp",value:function(){if(arguments.length===2){var n=arguments[1];return new c(arguments[0]).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Me&&typeof arguments[1]=="number"){var r=arguments[1],l=arguments[2],p=new c(arguments[0]);return p.setQuadrantSegments(l),p.getResultGeometry(r)}if(arguments[2]instanceof H&&arguments[0]instanceof Me&&typeof arguments[1]=="number"){var b=arguments[1];return new c(arguments[0],arguments[2]).getResultGeometry(b)}}else if(arguments.length===4){var S=arguments[1],M=arguments[2],U=arguments[3],J=new c(arguments[0]);return J.setQuadrantSegments(M),J.setEndCapStyle(U),J.getResultGeometry(S)}}},{key:"precisionScaleFactor",value:function(n,r,l){var p=n.getEnvelopeInternal(),b=Wr.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(r>0?r:0),S=l-Math.trunc(Math.log(b)/Math.log(10)+1);return Math.pow(10,S)}}])}();nr.CAP_ROUND=H.CAP_ROUND,nr.CAP_BUTT=H.CAP_FLAT,nr.CAP_FLAT=H.CAP_FLAT,nr.CAP_SQUARE=H.CAP_SQUARE,nr.MAX_PRECISION_DIGITS=12;var Bo=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Fo=function(){return h(function c(n){i(this,c),this.geometryFactory=n||new mi},[{key:"read",value:function(c){var n,r=(n=typeof c=="string"?JSON.parse(c):c).type;if(!Ln[r])throw new Error("Unknown GeoJSON type: "+n.type);return Bo.indexOf(r)!==-1?Ln[r].call(this,n.coordinates):r==="GeometryCollection"?Ln[r].call(this,n.geometries):Ln[r].call(this,n)}},{key:"write",value:function(c){var n=c.getGeometryType();if(!En[n])throw new Error("Geometry is not supported");return En[n].call(this,c)}}])}(),Ln={Feature:function(c){var n={};for(var r in c)n[r]=c[r];if(c.geometry){var l=c.geometry.type;if(!Ln[l])throw new Error("Unknown GeoJSON type: "+c.type);n.geometry=this.read(c.geometry)}return c.bbox&&(n.bbox=Ln.bbox.call(this,c.bbox)),n},FeatureCollection:function(c){var n={};if(c.features){n.features=[];for(var r=0;r<c.features.length;++r)n.features.push(this.read(c.features[r]))}return c.bbox&&(n.bbox=this.parse.bbox.call(this,c.bbox)),n},coordinates:function(c){for(var n=[],r=0;r<c.length;++r){var l=c[r];n.push(u(Y,B(l)))}return n},bbox:function(c){return this.geometryFactory.createLinearRing([new Y(c[0],c[1]),new Y(c[2],c[1]),new Y(c[2],c[3]),new Y(c[0],c[3]),new Y(c[0],c[1])])},Point:function(c){var n=u(Y,B(c));return this.geometryFactory.createPoint(n)},MultiPoint:function(c){for(var n=[],r=0;r<c.length;++r)n.push(Ln.Point.call(this,c[r]));return this.geometryFactory.createMultiPoint(n)},LineString:function(c){var n=Ln.coordinates.call(this,c);return this.geometryFactory.createLineString(n)},MultiLineString:function(c){for(var n=[],r=0;r<c.length;++r)n.push(Ln.LineString.call(this,c[r]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(c){for(var n=Ln.coordinates.call(this,c[0]),r=this.geometryFactory.createLinearRing(n),l=[],p=1;p<c.length;++p){var b=c[p],S=Ln.coordinates.call(this,b),M=this.geometryFactory.createLinearRing(S);l.push(M)}return this.geometryFactory.createPolygon(r,l)},MultiPolygon:function(c){for(var n=[],r=0;r<c.length;++r){var l=c[r];n.push(Ln.Polygon.call(this,l))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(c){for(var n=[],r=0;r<c.length;++r){var l=c[r];n.push(this.read(l))}return this.geometryFactory.createGeometryCollection(n)}},En={coordinate:function(c){var n=[c.x,c.y];return c.z&&n.push(c.z),c.m&&n.push(c.m),n},Point:function(c){return{type:"Point",coordinates:En.coordinate.call(this,c.getCoordinate())}},MultiPoint:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=En.Point.call(this,l);n.push(p.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(c){for(var n=[],r=c.getCoordinates(),l=0;l<r.length;++l){var p=r[l];n.push(En.coordinate.call(this,p))}return{type:"LineString",coordinates:n}},MultiLineString:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=En.LineString.call(this,l);n.push(p.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(c){var n=[],r=En.LineString.call(this,c._shell);n.push(r.coordinates);for(var l=0;l<c._holes.length;++l){var p=c._holes[l],b=En.LineString.call(this,p);n.push(b.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=En.Polygon.call(this,l);n.push(p.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=l.getGeometryType();n.push(En[p].call(this,l))}return{type:"GeometryCollection",geometries:n}}};return{BufferOp:nr,GeoJSONReader:function(){return h(function c(n){i(this,c),this.parser=new Fo(n||new mi)},[{key:"read",value:function(c){return this.parser.read(c)}}])}(),GeoJSONWriter:function(){return h(function c(){i(this,c),this.parser=new Fo(this.geometryFactory)},[{key:"write",value:function(c){return this.parser.write(c)}}])}()}})}(Wl)),Wl.exports}var pP=hP();const mP=Sh(pP);function Is(){return new Ec}function Ec(){this.reset()}Ec.prototype={constructor:Ec,reset:function(){this.s=this.t=0},add:function(e){og(Il,e,this.t),og(this,Il.s,this.s),this.s?this.t+=Il.t:this.s=Il.t},valueOf:function(){return this.s}};var Il=new Ec;function og(e,t,s){var o=e.s=t+s,i=o-t,u=o-i;e.t=t-u+(s-i)}var Ut=1e-6,wt=Math.PI,lr=wt/2,ag=wt/4,_r=wt*2,as=180/wt,Ti=wt/180,bn=Math.abs,gP=Math.atan,ga=Math.atan2,Zt=Math.cos,Yt=Math.sin,ka=Math.sqrt;function Wy(e){return e>1?0:e<-1?wt:Math.acos(e)}function ho(e){return e>1?lr:e<-1?-lr:Math.asin(e)}function au(){}function Tc(e,t){e&&lg.hasOwnProperty(e.type)&&lg[e.type](e,t)}var ug={Feature:function(e,t){Tc(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,o=-1,i=s.length;++o<i;)Tc(s[o].geometry,t)}},lg={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,o=-1,i=s.length;++o<i;)e=s[o],t.point(e[0],e[1],e[2])},LineString:function(e,t){Nf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,o=-1,i=s.length;++o<i;)Nf(s[o],t,0)},Polygon:function(e,t){cg(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,o=-1,i=s.length;++o<i;)cg(s[o],t)},GeometryCollection:function(e,t){for(var s=e.geometries,o=-1,i=s.length;++o<i;)Tc(s[o],t)}};function Nf(e,t,s){var o=-1,i=e.length-s,u;for(t.lineStart();++o<i;)u=e[o],t.point(u[0],u[1],u[2]);t.lineEnd()}function cg(e,t){var s=-1,o=e.length;for(t.polygonStart();++s<o;)Nf(e[s],t,1);t.polygonEnd()}function _P(e,t){e&&ug.hasOwnProperty(e.type)?ug[e.type](e,t):Tc(e,t)}Is();Is();function Mf(e){return[ga(e[1],e[0]),ho(e[2])]}function _a(e){var t=e[0],s=e[1],o=Zt(s);return[o*Zt(t),o*Yt(t),Yt(s)]}function Nl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function xc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function qd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ml(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Of(e){var t=ka(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Is();function Zy(e,t){function s(o,i){return o=e(o,i),t(o[0],o[1])}return e.invert&&t.invert&&(s.invert=function(o,i){return o=t.invert(o,i),o&&e.invert(o[0],o[1])}),s}function Af(e,t){return[e>wt?e-_r:e<-wt?e+_r:e,t]}Af.invert=Af;function vP(e,t,s){return(e%=_r)?t||s?Zy(fg(e),hg(t,s)):fg(e):t||s?hg(t,s):Af}function dg(e){return function(t,s){return t+=e,[t>wt?t-_r:t<-wt?t+_r:t,s]}}function fg(e){var t=dg(e);return t.invert=dg(-e),t}function hg(e,t){var s=Zt(e),o=Yt(e),i=Zt(t),u=Yt(t);function f(h,m){var y=Zt(m),v=Zt(h)*y,w=Yt(h)*y,x=Yt(m),P=x*s+v*o;return[ga(w*i-P*u,v*s-x*o),ho(P*i+w*u)]}return f.invert=function(h,m){var y=Zt(m),v=Zt(h)*y,w=Yt(h)*y,x=Yt(m),P=x*i-w*u;return[ga(w*i+x*u,v*s+P*o),ho(P*s-v*o)]},f}function yP(e,t,s,o,i,u){if(s){var f=Zt(t),h=Yt(t),m=o*s;i==null?(i=t+o*_r,u=t-m/2):(i=pg(f,i),u=pg(f,u),(o>0?i<u:i>u)&&(i+=o*_r));for(var y,v=i;o>0?v>u:v<u;v-=m)y=Mf([f,-h*Zt(v),-h*Yt(v)]),e.point(y[0],y[1])}}function pg(e,t){t=_a(t),t[0]-=e,Of(t);var s=Wy(-t[1]);return((-t[2]<0?-s:s)+_r-Ut)%_r}function Yy(){var e=[],t;return{point:function(s,o){t.push([s,o])},lineStart:function(){e.push(t=[])},lineEnd:au,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function bP(e,t,s,o,i,u){var f=e[0],h=e[1],m=t[0],y=t[1],v=0,w=1,x=m-f,P=y-h,O;if(O=s-f,!(!x&&O>0)){if(O/=x,x<0){if(O<v)return;O<w&&(w=O)}else if(x>0){if(O>w)return;O>v&&(v=O)}if(O=i-f,!(!x&&O<0)){if(O/=x,x<0){if(O>w)return;O>v&&(v=O)}else if(x>0){if(O<v)return;O<w&&(w=O)}if(O=o-h,!(!P&&O>0)){if(O/=P,P<0){if(O<v)return;O<w&&(w=O)}else if(P>0){if(O>w)return;O>v&&(v=O)}if(O=u-h,!(!P&&O<0)){if(O/=P,P<0){if(O>w)return;O>v&&(v=O)}else if(P>0){if(O<v)return;O<w&&(w=O)}return v>0&&(e[0]=f+v*x,e[1]=h+v*P),w<1&&(t[0]=f+w*x,t[1]=h+w*P),!0}}}}}function Zl(e,t){return bn(e[0]-t[0])<Ut&&bn(e[1]-t[1])<Ut}function Ol(e,t,s,o){this.x=e,this.z=t,this.o=s,this.e=o,this.v=!1,this.n=this.p=null}function Xy(e,t,s,o,i){var u=[],f=[],h,m;if(e.forEach(function(O){if(!((B=O.length-1)<=0)){var B,q=O[0],A=O[B],z;if(Zl(q,A)){for(i.lineStart(),h=0;h<B;++h)i.point((q=O[h])[0],q[1]);i.lineEnd();return}u.push(z=new Ol(q,O,null,!0)),f.push(z.o=new Ol(q,null,z,!1)),u.push(z=new Ol(A,O,null,!1)),f.push(z.o=new Ol(A,null,z,!0))}}),!!u.length){for(f.sort(t),mg(u),mg(f),h=0,m=f.length;h<m;++h)f[h].e=s=!s;for(var y=u[0],v,w;;){for(var x=y,P=!0;x.v;)if((x=x.n)===y)return;v=x.z,i.lineStart();do{if(x.v=x.o.v=!0,x.e){if(P)for(h=0,m=v.length;h<m;++h)i.point((w=v[h])[0],w[1]);else o(x.x,x.n.x,1,i);x=x.n}else{if(P)for(v=x.p.z,h=v.length-1;h>=0;--h)i.point((w=v[h])[0],w[1]);else o(x.x,x.p.x,-1,i);x=x.p}x=x.o,v=x.z,P=!P}while(!x.v);i.lineEnd()}}}function mg(e){if(t=e.length){for(var t,s=0,o=e[0],i;++s<t;)o.n=i=e[s],i.p=o,o=i;o.n=i=e[0],i.p=o}}function Ky(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wP(e){return e.length===1&&(e=kP(e)),{left:function(t,s,o,i){for(o==null&&(o=0),i==null&&(i=t.length);o<i;){var u=o+i>>>1;e(t[u],s)<0?o=u+1:i=u}return o},right:function(t,s,o,i){for(o==null&&(o=0),i==null&&(i=t.length);o<i;){var u=o+i>>>1;e(t[u],s)>0?i=u:o=u+1}return o}}}function kP(e){return function(t,s){return Ky(e(t),s)}}wP(Ky);function Jy(e){for(var t=e.length,s,o=-1,i=0,u,f;++o<t;)i+=e[o].length;for(u=new Array(i);--t>=0;)for(f=e[t],s=f.length;--s>=0;)u[--i]=f[s];return u}var uu=1e9,Al=-uu;function LP(e,t,s,o){function i(y,v){return e<=y&&y<=s&&t<=v&&v<=o}function u(y,v,w,x){var P=0,O=0;if(y==null||(P=f(y,w))!==(O=f(v,w))||m(y,v)<0^w>0)do x.point(P===0||P===3?e:s,P>1?o:t);while((P=(P+w+4)%4)!==O);else x.point(v[0],v[1])}function f(y,v){return bn(y[0]-e)<Ut?v>0?0:3:bn(y[0]-s)<Ut?v>0?2:1:bn(y[1]-t)<Ut?v>0?1:0:v>0?3:2}function h(y,v){return m(y.x,v.x)}function m(y,v){var w=f(y,1),x=f(v,1);return w!==x?w-x:w===0?v[1]-y[1]:w===1?y[0]-v[0]:w===2?y[1]-v[1]:v[0]-y[0]}return function(y){var v=y,w=Yy(),x,P,O,B,q,A,z,H,_,T,E,C={point:F,lineStart:ee,lineEnd:K,polygonStart:R,polygonEnd:X};function F(ie,V){i(ie,V)&&v.point(ie,V)}function D(){for(var ie=0,V=0,re=P.length;V<re;++V)for(var oe=P[V],_e=1,le=oe.length,we=oe[0],Re,Oe,Pe=we[0],Le=we[1];_e<le;++_e)Re=Pe,Oe=Le,we=oe[_e],Pe=we[0],Le=we[1],Oe<=o?Le>o&&(Pe-Re)*(o-Oe)>(Le-Oe)*(e-Re)&&++ie:Le<=o&&(Pe-Re)*(o-Oe)<(Le-Oe)*(e-Re)&&--ie;return ie}function R(){v=w,x=[],P=[],E=!0}function X(){var ie=D(),V=E&&ie,re=(x=Jy(x)).length;(V||re)&&(y.polygonStart(),V&&(y.lineStart(),u(null,null,1,y),y.lineEnd()),re&&Xy(x,h,ie,u,y),y.polygonEnd()),v=y,x=P=O=null}function ee(){C.point=j,P&&P.push(O=[]),T=!0,_=!1,z=H=NaN}function K(){x&&(j(B,q),A&&_&&w.rejoin(),x.push(w.result())),C.point=F,_&&v.lineEnd()}function j(ie,V){var re=i(ie,V);if(P&&O.push([ie,V]),T)B=ie,q=V,A=re,T=!1,re&&(v.lineStart(),v.point(ie,V));else if(re&&_)v.point(ie,V);else{var oe=[z=Math.max(Al,Math.min(uu,z)),H=Math.max(Al,Math.min(uu,H))],_e=[ie=Math.max(Al,Math.min(uu,ie)),V=Math.max(Al,Math.min(uu,V))];bP(oe,_e,e,t,s,o)?(_||(v.lineStart(),v.point(oe[0],oe[1])),v.point(_e[0],_e[1]),re||v.lineEnd(),E=!1):re&&(v.lineStart(),v.point(ie,V),E=!1)}z=ie,H=V,_=re}return C}}var jd=Is();function EP(e,t){var s=t[0],o=t[1],i=[Yt(s),-Zt(s),0],u=0,f=0;jd.reset();for(var h=0,m=e.length;h<m;++h)if(v=(y=e[h]).length)for(var y,v,w=y[v-1],x=w[0],P=w[1]/2+ag,O=Yt(P),B=Zt(P),q=0;q<v;++q,x=z,O=_,B=T,w=A){var A=y[q],z=A[0],H=A[1]/2+ag,_=Yt(H),T=Zt(H),E=z-x,C=E>=0?1:-1,F=C*E,D=F>wt,R=O*_;if(jd.add(ga(R*C*Yt(F),B*T+R*Zt(F))),u+=D?E+C*_r:E,D^x>=s^z>=s){var X=xc(_a(w),_a(A));Of(X);var ee=xc(i,X);Of(ee);var K=(D^E>=0?-1:1)*ho(ee[2]);(o>K||o===K&&(X[0]||X[1]))&&(f+=D^E>=0?1:-1)}}return(u<-Ut||u<Ut&&jd<-Ut)^f&1}Is();function gg(e){return e}Is();Is();var va=1/0,Sc=va,Uu=-va,Cc=Uu,_g={point:TP,lineStart:au,lineEnd:au,polygonStart:au,polygonEnd:au,result:function(){var e=[[va,Sc],[Uu,Cc]];return Uu=Cc=-(Sc=va=1/0),e}};function TP(e,t){e<va&&(va=e),e>Uu&&(Uu=e),t<Sc&&(Sc=t),t>Cc&&(Cc=t)}Is();function Qy(e,t,s,o){return function(i,u){var f=t(u),h=i.invert(o[0],o[1]),m=Yy(),y=t(m),v=!1,w,x,P,O={point:B,lineStart:A,lineEnd:z,polygonStart:function(){O.point=H,O.lineStart=_,O.lineEnd=T,x=[],w=[]},polygonEnd:function(){O.point=B,O.lineStart=A,O.lineEnd=z,x=Jy(x);var E=EP(w,h);x.length?(v||(u.polygonStart(),v=!0),Xy(x,SP,E,s,u)):E&&(v||(u.polygonStart(),v=!0),u.lineStart(),s(null,null,1,u),u.lineEnd()),v&&(u.polygonEnd(),v=!1),x=w=null},sphere:function(){u.polygonStart(),u.lineStart(),s(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function B(E,C){var F=i(E,C);e(E=F[0],C=F[1])&&u.point(E,C)}function q(E,C){var F=i(E,C);f.point(F[0],F[1])}function A(){O.point=q,f.lineStart()}function z(){O.point=B,f.lineEnd()}function H(E,C){P.push([E,C]);var F=i(E,C);y.point(F[0],F[1])}function _(){y.lineStart(),P=[]}function T(){H(P[0][0],P[0][1]),y.lineEnd();var E=y.clean(),C=m.result(),F,D=C.length,R,X,ee;if(P.pop(),w.push(P),P=null,!!D){if(E&1){if(X=C[0],(R=X.length-1)>0){for(v||(u.polygonStart(),v=!0),u.lineStart(),F=0;F<R;++F)u.point((ee=X[F])[0],ee[1]);u.lineEnd()}return}D>1&&E&2&&C.push(C.pop().concat(C.shift())),x.push(C.filter(xP))}}return O}}function xP(e){return e.length>1}function SP(e,t){return((e=e.x)[0]<0?e[1]-lr-Ut:lr-e[1])-((t=t.x)[0]<0?t[1]-lr-Ut:lr-t[1])}const vg=Qy(function(){return!0},CP,IP,[-wt,-lr]);function CP(e){var t=NaN,s=NaN,o=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(u,f){var h=u>0?wt:-wt,m=bn(u-t);bn(m-wt)<Ut?(e.point(t,s=(s+f)/2>0?lr:-lr),e.point(o,s),e.lineEnd(),e.lineStart(),e.point(h,s),e.point(u,s),i=0):o!==h&&m>=wt&&(bn(t-o)<Ut&&(t-=o*Ut),bn(u-h)<Ut&&(u-=h*Ut),s=PP(t,s,u,f),e.point(o,s),e.lineEnd(),e.lineStart(),e.point(h,s),i=0),e.point(t=u,s=f),o=h},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-i}}}function PP(e,t,s,o){var i,u,f=Yt(e-s);return bn(f)>Ut?gP((Yt(t)*(u=Zt(o))*Yt(s)-Yt(o)*(i=Zt(t))*Yt(e))/(i*u*f)):(t+o)/2}function IP(e,t,s,o){var i;if(e==null)i=s*lr,o.point(-wt,i),o.point(0,i),o.point(wt,i),o.point(wt,0),o.point(wt,-i),o.point(0,-i),o.point(-wt,-i),o.point(-wt,0),o.point(-wt,i);else if(bn(e[0]-t[0])>Ut){var u=e[0]<t[0]?wt:-wt;i=s*u/2,o.point(-u,i),o.point(0,i),o.point(u,i)}else o.point(t[0],t[1])}function NP(e,t){var s=Zt(e),o=s>0,i=bn(s)>Ut;function u(v,w,x,P){yP(P,e,t,x,v,w)}function f(v,w){return Zt(v)*Zt(w)>s}function h(v){var w,x,P,O,B;return{lineStart:function(){O=P=!1,B=1},point:function(q,A){var z=[q,A],H,_=f(q,A),T=o?_?0:y(q,A):_?y(q+(q<0?wt:-wt),A):0;if(!w&&(O=P=_)&&v.lineStart(),_!==P&&(H=m(w,z),(!H||Zl(w,H)||Zl(z,H))&&(z[0]+=Ut,z[1]+=Ut,_=f(z[0],z[1]))),_!==P)B=0,_?(v.lineStart(),H=m(z,w),v.point(H[0],H[1])):(H=m(w,z),v.point(H[0],H[1]),v.lineEnd()),w=H;else if(i&&w&&o^_){var E;!(T&x)&&(E=m(z,w,!0))&&(B=0,o?(v.lineStart(),v.point(E[0][0],E[0][1]),v.point(E[1][0],E[1][1]),v.lineEnd()):(v.point(E[1][0],E[1][1]),v.lineEnd(),v.lineStart(),v.point(E[0][0],E[0][1])))}_&&(!w||!Zl(w,z))&&v.point(z[0],z[1]),w=z,P=_,x=T},lineEnd:function(){P&&v.lineEnd(),w=null},clean:function(){return B|(O&&P)<<1}}}function m(v,w,x){var P=_a(v),O=_a(w),B=[1,0,0],q=xc(P,O),A=Nl(q,q),z=q[0],H=A-z*z;if(!H)return!x&&v;var _=s*A/H,T=-s*z/H,E=xc(B,q),C=Ml(B,_),F=Ml(q,T);qd(C,F);var D=E,R=Nl(C,D),X=Nl(D,D),ee=R*R-X*(Nl(C,C)-1);if(!(ee<0)){var K=ka(ee),j=Ml(D,(-R-K)/X);if(qd(j,C),j=Mf(j),!x)return j;var ie=v[0],V=w[0],re=v[1],oe=w[1],_e;V<ie&&(_e=ie,ie=V,V=_e);var le=V-ie,we=bn(le-wt)<Ut,Re=we||le<Ut;if(!we&&oe<re&&(_e=re,re=oe,oe=_e),Re?we?re+oe>0^j[1]<(bn(j[0]-ie)<Ut?re:oe):re<=j[1]&&j[1]<=oe:le>wt^(ie<=j[0]&&j[0]<=V)){var Oe=Ml(D,(-R+K)/X);return qd(Oe,C),[j,Mf(Oe)]}}}function y(v,w){var x=o?e:wt-e,P=0;return v<-x?P|=1:v>x&&(P|=2),w<-x?P|=4:w>x&&(P|=8),P}return Qy(f,h,u,o?[0,-e]:[-wt,e-wt])}function e0(e){return function(t){var s=new Rf;for(var o in e)s[o]=e[o];return s.stream=t,s}}function Rf(){}Rf.prototype={constructor:Rf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function t0(e,t,s){var o=t[1][0]-t[0][0],i=t[1][1]-t[0][1],u=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),u!=null&&e.clipExtent(null),_P(s,e.stream(_g));var f=_g.result(),h=Math.min(o/(f[1][0]-f[0][0]),i/(f[1][1]-f[0][1])),m=+t[0][0]+(o-h*(f[1][0]+f[0][0]))/2,y=+t[0][1]+(i-h*(f[1][1]+f[0][1]))/2;return u!=null&&e.clipExtent(u),e.scale(h*150).translate([m,y])}function MP(e,t,s){return t0(e,[[0,0],t],s)}var yg=16,OP=Zt(30*Ti);function bg(e,t){return+t?RP(e,t):AP(e)}function AP(e){return e0({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function RP(e,t){function s(o,i,u,f,h,m,y,v,w,x,P,O,B,q){var A=y-o,z=v-i,H=A*A+z*z;if(H>4*t&&B--){var _=f+x,T=h+P,E=m+O,C=ka(_*_+T*T+E*E),F=ho(E/=C),D=bn(bn(E)-1)<Ut||bn(u-w)<Ut?(u+w)/2:ga(T,_),R=e(D,F),X=R[0],ee=R[1],K=X-o,j=ee-i,ie=z*K-A*j;(ie*ie/H>t||bn((A*K+z*j)/H-.5)>.3||f*x+h*P+m*O<OP)&&(s(o,i,u,f,h,m,X,ee,D,_/=C,T/=C,E,B,q),q.point(X,ee),s(X,ee,D,_,T,E,y,v,w,x,P,O,B,q))}}return function(o){var i,u,f,h,m,y,v,w,x,P,O,B,q={point:A,lineStart:z,lineEnd:_,polygonStart:function(){o.polygonStart(),q.lineStart=T},polygonEnd:function(){o.polygonEnd(),q.lineStart=z}};function A(F,D){F=e(F,D),o.point(F[0],F[1])}function z(){w=NaN,q.point=H,o.lineStart()}function H(F,D){var R=_a([F,D]),X=e(F,D);s(w,x,v,P,O,B,w=X[0],x=X[1],v=F,P=R[0],O=R[1],B=R[2],yg,o),o.point(w,x)}function _(){q.point=A,o.lineEnd()}function T(){z(),q.point=E,q.lineEnd=C}function E(F,D){H(i=F,D),u=w,f=x,h=P,m=O,y=B,q.point=H}function C(){s(w,x,v,P,O,B,u,f,i,h,m,y,yg,o),q.lineEnd=_,_()}return q}}var DP=e0({point:function(e,t){this.stream.point(e*Ti,t*Ti)}});function BP(e){return FP(function(){return e})()}function FP(e){var t,s=150,o=480,i=250,u,f,h=0,m=0,y=0,v=0,w=0,x,P,O=null,B=vg,q=null,A,z,H,_=gg,T=.5,E=bg(X,T),C,F;function D(j){return j=P(j[0]*Ti,j[1]*Ti),[j[0]*s+u,f-j[1]*s]}function R(j){return j=P.invert((j[0]-u)/s,(f-j[1])/s),j&&[j[0]*as,j[1]*as]}function X(j,ie){return j=t(j,ie),[j[0]*s+u,f-j[1]*s]}D.stream=function(j){return C&&F===j?C:C=DP(B(x,E(_(F=j))))},D.clipAngle=function(j){return arguments.length?(B=+j?NP(O=j*Ti,6*Ti):(O=null,vg),K()):O*as},D.clipExtent=function(j){return arguments.length?(_=j==null?(q=A=z=H=null,gg):LP(q=+j[0][0],A=+j[0][1],z=+j[1][0],H=+j[1][1]),K()):q==null?null:[[q,A],[z,H]]},D.scale=function(j){return arguments.length?(s=+j,ee()):s},D.translate=function(j){return arguments.length?(o=+j[0],i=+j[1],ee()):[o,i]},D.center=function(j){return arguments.length?(h=j[0]%360*Ti,m=j[1]%360*Ti,ee()):[h*as,m*as]},D.rotate=function(j){return arguments.length?(y=j[0]%360*Ti,v=j[1]%360*Ti,w=j.length>2?j[2]%360*Ti:0,ee()):[y*as,v*as,w*as]},D.precision=function(j){return arguments.length?(E=bg(X,T=j*j),K()):ka(T)},D.fitExtent=function(j,ie){return t0(D,j,ie)},D.fitSize=function(j,ie){return MP(D,j,ie)};function ee(){P=Zy(x=vP(y,v,w),t);var j=t(h,m);return u=o-j[0]*s,f=i+j[1]*s,K()}function K(){return C=F=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&R,ee()}}function n0(e){return function(t,s){var o=Zt(t),i=Zt(s),u=e(o*i);return[u*i*Yt(t),u*Yt(s)]}}function i0(e){return function(t,s){var o=ka(t*t+s*s),i=e(o),u=Yt(i),f=Zt(i);return[ga(t*u,o*f),ho(o&&s*u/o)]}}var zP=n0(function(e){return ka(2/(1+e))});zP.invert=i0(function(e){return 2*ho(e/2)});var r0=n0(function(e){return(e=Wy(e))&&e/Yt(e)});r0.invert=i0(function(e){return e});function $P(){return BP(r0).scale(79.4188).clipAngle(180-.001)}function wg(e,t){return[e,t]}wg.invert=wg;var{BufferOp:UP,GeoJSONReader:GP,GeoJSONWriter:HP}=mP;function Df(e,t,s){s=s||{};var o=s.units||"kilometers",i=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var u=[];switch(e.type){case"GeometryCollection":return id(e,function(f){var h=Yl(f,t,o,i);h&&u.push(h)}),wc(u);case"FeatureCollection":return kc(e,function(f){var h=Yl(f,t,o,i);h&&kc(h,function(m){m&&u.push(m)})}),wc(u)}return Yl(e,t,o,i)}function Yl(e,t,s,o){var i=e.properties||{},u=e.type==="Feature"?e.geometry:e;if(u.type==="GeometryCollection"){var f=[];return id(e,function(B){var q=Yl(B,t,s,o);q&&f.push(q)}),wc(f)}var h=VP(u),m={type:u.type,coordinates:o0(u.coordinates,h)},y=new GP,v=y.read(m),w=aP(uP(t,s),"meters"),x=UP.bufferOp(v,w,o),P=new HP;if(x=P.write(x),!s0(x.coordinates)){var O={type:x.type,coordinates:a0(x.coordinates,h)};return qy(O,i)}}function s0(e){return Array.isArray(e[0])?s0(e[0]):isNaN(e[0])}function o0(e,t){return typeof e[0]!="object"?t(e):e.map(function(s){return o0(s,t)})}function a0(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(s){return a0(s,t)})}function VP(e){var t=dP(e).geometry.coordinates,s=[-t[0],-t[1]];return $P().rotate(s).scale(Qn)}function qP(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return u0(e);case"FeatureCollection":return jP(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ch(e);default:throw new Error("unknown GeoJSON type")}}function u0(e){const t={type:"Feature"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"properties":case"geometry":return;default:t[s]=e[s]}}),t.properties=l0(e.properties),e.geometry==null?t.geometry=null:t.geometry=Ch(e.geometry),t}function l0(e){const t={};return e&&Object.keys(e).forEach(s=>{const o=e[s];typeof o=="object"?o===null?t[s]=null:Array.isArray(o)?t[s]=o.map(i=>i):t[s]=l0(o):t[s]=o}),t}function jP(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"features":return;default:t[s]=e[s]}}),t.features=e.features.map(s=>u0(s)),t}function Ch(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(s=>Ch(s)),t):(t.coordinates=c0(e.coordinates),t)}function c0(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(s=>c0(s))}function WP(e,t={}){var s,o;if(t=t||{},!lP(t))throw new Error("options is invalid");const i=(s=t.mutate)!=null?s:!1,u=(o=t.reverse)!=null?o:!1;if(!e)throw new Error("<geojson> is required");if(typeof u!="boolean")throw new Error("<reverse> must be a boolean");if(typeof i!="boolean")throw new Error("<mutate> must be a boolean");!i&&e.type!=="Point"&&e.type!=="MultiPoint"&&(e=qP(e));const f=[];switch(e.type){case"GeometryCollection":return id(e,function(h){Xl(h,u)}),e;case"FeatureCollection":return kc(e,function(h){const m=Xl(h,u);kc(m,function(y){f.push(y)})}),wc(f)}return Xl(e,u)}function Xl(e,t){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return id(e,function(o){Xl(o,t)}),e;case"LineString":return kg(ou(e),t),e;case"Polygon":return Lg(ou(e),t),e;case"MultiLineString":return ou(e).forEach(function(o){kg(o,t)}),e;case"MultiPolygon":return ou(e).forEach(function(o){Lg(o,t)}),e;case"Point":case"MultiPoint":return e}}function kg(e,t){Lc(e)===t&&e.reverse()}function Lg(e,t){Lc(e[0])!==t&&e[0].reverse();for(let s=1;s<e.length;s++)Lc(e[s])===t&&e[s].reverse()}const $r=Object.freeze({detailedList:"detailedList",gallery:"gallery",hybrid:"hybrid"}),na=Object.freeze({default:"default",list:"list"}),Jt=class Jt{constructor(){if(Jt.instance)return Jt.instance;const{locale:t,availableLocales:s}=mr(),o=jl(),i=Hy(),u=o==null?void 0:o.query;this.radius=ze(1),this.wkt=ze(""),this.dateMin=ze(null),this.dateMax=ze(null),this.connector=Mn(ql(null,u)),this.nbTaxonPerLine=ze(null),this.showFilters=ze(!0),this.mapEditable=ze(!0),this.lang=t,this.mode=ze($r.detailedList),this.sourceGeometry=ze(null),this.class=ze(null),this.widgetType=ze(na.default),this.hybridTaxonList=ze(!0),this.initializeFromUrl(u,t,s),Jt.instance=this,"radius wkt dateMin dateMax nbTaxonPerLine showFilters lang mode class connector mapEditable sourceGeometry widgetType hybridTaxonList".split(" ").forEach(f=>{tt(this[f],()=>{i.replace({path:o.path,query:this.getParams()})})})}initializeFromUrl(t,s,o){t&&(this.setParameterFromUrl("radius",i=>parseInt(i)),this.setParameterFromUrl("wkt",i=>Eg(i,this.radius.value)),this.setParameterFromUrl("sourceGeometry",async i=>{this.sourceGeometry.value=i;try{const f=await(await fetch(i)).json();this.wkt.value=Eg(gs.stringify(f.geometry),this.radius.value)}catch(u){console.error(u)}},!0),this.setParameterFromUrl("dateMin",i=>i),this.setParameterFromUrl("dateMax",i=>i),this.setParameterFromUrl("connector",i=>ql(i,{...t})),this.setParameterFromUrl("class",i=>{var u;return(u=Object.keys(this.connector.value.taxonClass2SourceID))!=null&&u.includes(i)?i:null}),this.setParameterFromUrl("nbTaxonPerLine",i=>parseInt(i)),this.setParameterFromUrl("showFilters",i=>i==="true"),this.setParameterFromUrl("mapEditable",i=>i==="true"),this.setParameterFromUrl("hybridTaxonList",i=>i==="true"),this.setParameterFromUrl("lang",i=>{if(o.includes(i))return i}),this.setParameterFromUrl("mode",i=>Object.keys($r).includes(i)?i:$r.detailedList),this.setParameterFromUrl("widgetType",i=>Object.keys(na).includes(i)?i:"default"))}setParameterFromUrl(t,s,o=!1){if(t in jl().query){const i=jl().query[t];o?s(i):this[t].value=s(i)}}getParams(){let t={};return Object.entries(this).filter(([s,o])=>o.value!==void 0&&o.value!==null&&o.value!=="").forEach(([s,o])=>{t[s]=o.value}),t.connector=this.connector.value.name,t={...t,...this.connector.value.getParams()},(t==null?void 0:t.sourceGeometry)!=null&&(t!=null&&t.wkt)&&delete t.wkt,t}static clearParameters(t,s){s.replace({path:t.path,query:{}}),Jt.instance.radius.value=1,Jt.instance.wkt.value="",Jt.instance.dateMin.value=null,Jt.instance.dateMax.value=null,Jt.instance.connector.value=ql(null,{}),Jt.instance.nbTaxonPerLine.value=null,Jt.instance.showFilters.value=!0,Jt.instance.mapEditable.value=!0,Jt.instance.mode.value="detailedList",Jt.instance.sourceGeometry.value=null,Jt.instance.class.value=null,Jt.instance.initializeFromUrl()}static getInstance(){return Jt.instance||(Jt.instance=new Jt),Jt.instance}};js(Jt,"instance",null);let Sn=Jt;const Eg=(e,t)=>{if(e&&(e.includes("POINT")||e.includes("LINESTRING"))){const s=Df(gs.parse(e),t);return gs.stringify(s)}return e};var lu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ZP=lu.exports,Tg;function YP(){return Tg||(Tg=1,function(e,t){(function(s,o){o(t)})(ZP,function(s){var o="1.9.4";function i(a){var d,g,k,I;for(g=1,k=arguments.length;g<k;g++){I=arguments[g];for(d in I)a[d]=I[d]}return a}var u=Object.create||function(){function a(){}return function(d){return a.prototype=d,new a}}();function f(a,d){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var k=g.call(arguments,2);return function(){return a.apply(d,k.length?k.concat(g.call(arguments)):arguments)}}var h=0;function m(a){return"_leaflet_id"in a||(a._leaflet_id=++h),a._leaflet_id}function y(a,d,g){var k,I,G,te;return te=function(){k=!1,I&&(G.apply(g,I),I=!1)},G=function(){k?I=arguments:(a.apply(g,arguments),setTimeout(te,d),k=!0)},G}function v(a,d,g){var k=d[1],I=d[0],G=k-I;return a===k&&g?a:((a-I)%G+G)%G+I}function w(){return!1}function x(a,d){if(d===!1)return a;var g=Math.pow(10,d===void 0?6:d);return Math.round(a*g)/g}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function O(a){return P(a).split(/\s+/)}function B(a,d){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var g in d)a.options[g]=d[g];return a.options}function q(a,d,g){var k=[];for(var I in a)k.push(encodeURIComponent(g?I.toUpperCase():I)+"="+encodeURIComponent(a[I]));return(!d||d.indexOf("?")===-1?"?":"&")+k.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function z(a,d){return a.replace(A,function(g,k){var I=d[k];if(I===void 0)throw new Error("No value provided for variable "+g);return typeof I=="function"&&(I=I(d)),I})}var H=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function _(a,d){for(var g=0;g<a.length;g++)if(a[g]===d)return g;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var C=0;function F(a){var d=+new Date,g=Math.max(0,16-(d-C));return C=d+g,window.setTimeout(a,g)}var D=window.requestAnimationFrame||E("RequestAnimationFrame")||F,R=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function X(a,d,g){if(g&&D===F)a.call(d);else return D.call(window,f(a,d))}function ee(a){a&&R.call(window,a)}var K={__proto__:null,extend:i,create:u,bind:f,get lastId(){return h},stamp:m,throttle:y,wrapNum:v,falseFn:w,formatNum:x,trim:P,splitWords:O,setOptions:B,getParamString:q,template:z,isArray:H,indexOf:_,emptyImageUrl:T,requestFn:D,cancelFn:R,requestAnimFrame:X,cancelAnimFrame:ee};function j(){}j.extend=function(a){var d=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,k=u(g);k.constructor=d,d.prototype=k;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(d[I]=this[I]);return a.statics&&i(d,a.statics),a.includes&&(ie(a.includes),i.apply(null,[k].concat(a.includes))),i(k,a),delete k.statics,delete k.includes,k.options&&(k.options=g.options?u(g.options):{},i(k.options,a.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var G=0,te=k._initHooks.length;G<te;G++)k._initHooks[G].call(this)}},d},j.include=function(a){var d=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=d,this.mergeOptions(a.options)),this},j.mergeOptions=function(a){return i(this.prototype.options,a),this},j.addInitHook=function(a){var d=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function ie(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=H(a)?a:[a];for(var d=0;d<a.length;d++)a[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(a,d,g){if(typeof a=="object")for(var k in a)this._on(k,a[k],d);else{a=O(a);for(var I=0,G=a.length;I<G;I++)this._on(a[I],d,g)}return this},off:function(a,d,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var k in a)this._off(k,a[k],d);else{a=O(a);for(var I=arguments.length===1,G=0,te=a.length;G<te;G++)I?this._off(a[G]):this._off(a[G],d,g)}return this},_on:function(a,d,g,k){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(a,d,g)===!1){g===this&&(g=void 0);var I={fn:d,ctx:g};k&&(I.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(I)}},_off:function(a,d,g){var k,I,G;if(this._events&&(k=this._events[a],!!k)){if(arguments.length===1){if(this._firingCount)for(I=0,G=k.length;I<G;I++)k[I].fn=w;delete this._events[a];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var te=this._listens(a,d,g);if(te!==!1){var he=k[te];this._firingCount&&(he.fn=w,this._events[a]=k=k.slice()),k.splice(te,1)}}},fire:function(a,d,g){if(!this.listens(a,g))return this;var k=i({},d,{type:a,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var I=this._events[a];if(I){this._firingCount=this._firingCount+1||1;for(var G=0,te=I.length;G<te;G++){var he=I[G],ve=he.fn;he.once&&this.off(a,ve,he.ctx),ve.call(he.ctx||this,k)}this._firingCount--}}return g&&this._propagateEvent(k),this},listens:function(a,d,g,k){typeof a!="string"&&console.warn('"string" type argument expected');var I=d;typeof d!="function"&&(k=!!d,I=void 0,g=void 0);var G=this._events&&this._events[a];if(G&&G.length&&this._listens(a,I,g)!==!1)return!0;if(k){for(var te in this._eventParents)if(this._eventParents[te].listens(a,d,g,k))return!0}return!1},_listens:function(a,d,g){if(!this._events)return!1;var k=this._events[a]||[];if(!d)return!!k.length;g===this&&(g=void 0);for(var I=0,G=k.length;I<G;I++)if(k[I].fn===d&&k[I].ctx===g)return I;return!1},once:function(a,d,g){if(typeof a=="object")for(var k in a)this._on(k,a[k],d,!0);else{a=O(a);for(var I=0,G=a.length;I<G;I++)this._on(a[I],d,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[m(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[m(a)],this},_propagateEvent:function(a){for(var d in this._eventParents)this._eventParents[d].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var re=j.extend(V);function oe(a,d,g){this.x=g?Math.round(a):a,this.y=g?Math.round(d):d}var _e=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(a){return this.clone()._add(le(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(le(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new oe(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new oe(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_e(this.x),this.y=_e(this.y),this},distanceTo:function(a){a=le(a);var d=a.x-this.x,g=a.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(a){return a=le(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=le(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function le(a,d,g){return a instanceof oe?a:H(a)?new oe(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new oe(a.x,a.y):new oe(a,d,g)}function we(a,d){if(a)for(var g=d?[a,d]:a,k=0,I=g.length;k<I;k++)this.extend(g[k])}we.prototype={extend:function(a){var d,g;if(!a)return this;if(a instanceof oe||typeof a[0]=="number"||"x"in a)d=g=le(a);else if(a=Re(a),d=a.min,g=a.max,!d||!g)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=g.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d,g;return typeof a[0]=="number"||a instanceof oe?a=le(a):a=Re(a),a instanceof we?(d=a.min,g=a.max):d=g=a,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=Re(a);var d=this.min,g=this.max,k=a.min,I=a.max,G=I.x>=d.x&&k.x<=g.x,te=I.y>=d.y&&k.y<=g.y;return G&&te},overlaps:function(a){a=Re(a);var d=this.min,g=this.max,k=a.min,I=a.max,G=I.x>d.x&&k.x<g.x,te=I.y>d.y&&k.y<g.y;return G&&te},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var d=this.min,g=this.max,k=Math.abs(d.x-g.x)*a,I=Math.abs(d.y-g.y)*a;return Re(le(d.x-k,d.y-I),le(g.x+k,g.y+I))},equals:function(a){return a?(a=Re(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Re(a,d){return!a||a instanceof we?a:new we(a,d)}function Oe(a,d){if(a)for(var g=d?[a,d]:a,k=0,I=g.length;k<I;k++)this.extend(g[k])}Oe.prototype={extend:function(a){var d=this._southWest,g=this._northEast,k,I;if(a instanceof Le)k=a,I=a;else if(a instanceof Oe){if(k=a._southWest,I=a._northEast,!k||!I)return this}else return a?this.extend(Te(a)||Pe(a)):this;return!d&&!g?(this._southWest=new Le(k.lat,k.lng),this._northEast=new Le(I.lat,I.lng)):(d.lat=Math.min(k.lat,d.lat),d.lng=Math.min(k.lng,d.lng),g.lat=Math.max(I.lat,g.lat),g.lng=Math.max(I.lng,g.lng)),this},pad:function(a){var d=this._southWest,g=this._northEast,k=Math.abs(d.lat-g.lat)*a,I=Math.abs(d.lng-g.lng)*a;return new Oe(new Le(d.lat-k,d.lng-I),new Le(g.lat+k,g.lng+I))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Le||"lat"in a?a=Te(a):a=Pe(a);var d=this._southWest,g=this._northEast,k,I;return a instanceof Oe?(k=a.getSouthWest(),I=a.getNorthEast()):k=I=a,k.lat>=d.lat&&I.lat<=g.lat&&k.lng>=d.lng&&I.lng<=g.lng},intersects:function(a){a=Pe(a);var d=this._southWest,g=this._northEast,k=a.getSouthWest(),I=a.getNorthEast(),G=I.lat>=d.lat&&k.lat<=g.lat,te=I.lng>=d.lng&&k.lng<=g.lng;return G&&te},overlaps:function(a){a=Pe(a);var d=this._southWest,g=this._northEast,k=a.getSouthWest(),I=a.getNorthEast(),G=I.lat>d.lat&&k.lat<g.lat,te=I.lng>d.lng&&k.lng<g.lng;return G&&te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,d){return a?(a=Pe(a),this._southWest.equals(a.getSouthWest(),d)&&this._northEast.equals(a.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(a,d){return a instanceof Oe?a:new Oe(a,d)}function Le(a,d,g){if(isNaN(a)||isNaN(d))throw new Error("Invalid LatLng object: ("+a+", "+d+")");this.lat=+a,this.lng=+d,g!==void 0&&(this.alt=+g)}Le.prototype={equals:function(a,d){if(!a)return!1;a=Te(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(d===void 0?1e-9:d)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return Y.distance(this,Te(a))},wrap:function(){return Y.wrapLatLng(this)},toBounds:function(a){var d=180*a/40075017,g=d/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function Te(a,d,g){return a instanceof Le?a:H(a)&&typeof a[0]!="object"?a.length===3?new Le(a[0],a[1],a[2]):a.length===2?new Le(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Le(a.lat,"lng"in a?a.lng:a.lon,a.alt):d===void 0?null:new Le(a,d,g)}var ce={latLngToPoint:function(a,d){var g=this.projection.project(a),k=this.scale(d);return this.transformation._transform(g,k)},pointToLatLng:function(a,d){var g=this.scale(d),k=this.transformation.untransform(a,g);return this.projection.unproject(k)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(a),k=this.transformation.transform(d.min,g),I=this.transformation.transform(d.max,g);return new we(k,I)},infinite:!1,wrapLatLng:function(a){var d=this.wrapLng?v(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?v(a.lat,this.wrapLat,!0):a.lat,k=a.alt;return new Le(g,d,k)},wrapLatLngBounds:function(a){var d=a.getCenter(),g=this.wrapLatLng(d),k=d.lat-g.lat,I=d.lng-g.lng;if(k===0&&I===0)return a;var G=a.getSouthWest(),te=a.getNorthEast(),he=new Le(G.lat-k,G.lng-I),ve=new Le(te.lat-k,te.lng-I);return new Oe(he,ve)}},Y=i({},ce,{wrapLng:[-180,180],R:6371e3,distance:function(a,d){var g=Math.PI/180,k=a.lat*g,I=d.lat*g,G=Math.sin((d.lat-a.lat)*g/2),te=Math.sin((d.lng-a.lng)*g/2),he=G*G+Math.cos(k)*Math.cos(I)*te*te,ve=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*ve}}),xe=6378137,Ne={R:xe,MAX_LATITUDE:85.0511287798,project:function(a){var d=Math.PI/180,g=this.MAX_LATITUDE,k=Math.max(Math.min(g,a.lat),-g),I=Math.sin(k*d);return new oe(this.R*a.lng*d,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(a){var d=180/Math.PI;return new Le((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*d,a.x*d/this.R)},bounds:function(){var a=xe*Math.PI;return new we([-a,-a],[a,a])}()};function Me(a,d,g,k){if(H(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=d,this._c=g,this._d=k}Me.prototype={transform:function(a,d){return this._transform(a.clone(),d)},_transform:function(a,d){return d=d||1,a.x=d*(this._a*a.x+this._b),a.y=d*(this._c*a.y+this._d),a},untransform:function(a,d){return d=d||1,new oe((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};function N(a,d,g,k){return new Me(a,d,g,k)}var Q=i({},Y,{code:"EPSG:3857",projection:Ne,transformation:function(){var a=.5/(Math.PI*Ne.R);return N(a,.5,-a,.5)}()}),se=i({},Q,{code:"EPSG:900913"});function ge(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ke(a,d){var g="",k,I,G,te,he,ve;for(k=0,G=a.length;k<G;k++){for(he=a[k],I=0,te=he.length;I<te;I++)ve=he[I],g+=(I?"L":"M")+ve.x+" "+ve.y;g+=d?Xe.svg?"z":"x":""}return g||"M0 0"}var be=document.documentElement.style,Z="ActiveXObject"in window,$=Z&&!document.addEventListener,ae="msLaunchUri"in navigator&&!("documentMode"in document),me=pn("webkit"),Fe=pn("android"),Se=pn("android 2")||pn("android 3"),ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ye=Fe&&pn("Google")&&ne<537&&!("AudioNode"in window),Ge=!!window.opera,Qe=!ae&&pn("chrome"),Ae=pn("gecko")&&!me&&!Ge&&!Z,Vt=!Qe&&pn("safari"),Ye=pn("phantom"),Ze="OTransition"in be,On=navigator.platform.indexOf("Win")===0,hn=Z&&"transition"in be,jr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,je="MozPerspective"in be,Yn=!window.L_DISABLE_3D&&(hn||jr||je)&&!Ze&&!Ye,Yi=typeof orientation<"u"||pn("mobile"),La=Yi&&me,Xn=Yi&&jr,Wr=!window.PointerEvent&&window.MSPointerEvent,oi=!!(window.PointerEvent||Wr),Ea="ontouchstart"in window||!!window.TouchEvent,vo=!window.L_NO_TOUCH&&(Ea||oi),rd=Yi&&Ge,Xu=Yi&&Ae,br=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,De=function(){var a=!1;try{var d=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,d),window.removeEventListener("testPassiveEventSupport",w,d)}catch{}return a}(),yo=function(){return!!document.createElement("canvas").getContext}(),Zr=!!(document.createElementNS&&ge("svg").createSVGRect),Ns=!!Zr&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ku=!Zr&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var d=a.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),Ta=navigator.platform.indexOf("Mac")===0,Ju=navigator.platform.indexOf("Linux")===0;function pn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Xe={ie:Z,ielt9:$,edge:ae,webkit:me,android:Fe,android23:Se,androidStock:ye,opera:Ge,chrome:Qe,gecko:Ae,safari:Vt,phantom:Ye,opera12:Ze,win:On,ie3d:hn,webkit3d:jr,gecko3d:je,any3d:Yn,mobile:Yi,mobileWebkit:La,mobileWebkit3d:Xn,msPointer:Wr,pointer:oi,touch:vo,touchNative:Ea,mobileOpera:rd,mobileGecko:Xu,retina:br,passiveEvents:De,canvas:yo,svg:Zr,vml:Ku,inlineSvg:Ns,mac:Ta,linux:Ju},Ms=Xe.msPointer?"MSPointerDown":"pointerdown",Qu=Xe.msPointer?"MSPointerMove":"pointermove",xa=Xe.msPointer?"MSPointerUp":"pointerup",el=Xe.msPointer?"MSPointerCancel":"pointercancel",wn={touchstart:Ms,touchmove:Qu,touchend:xa,touchcancel:el},bo={touchstart:Lo,touchmove:ko,touchend:ko,touchcancel:ko},pi={},Xi=!1;function wr(a,d,g){return d==="touchstart"&&sd(),bo[d]?(g=bo[d].bind(this,g),a.addEventListener(wn[d],g,!1),g):(console.warn("wrong event specified:",d),w)}function Sa(a,d,g){if(!wn[d]){console.warn("wrong event specified:",d);return}a.removeEventListener(wn[d],g,!1)}function wo(a){pi[a.pointerId]=a}function Os(a){pi[a.pointerId]&&(pi[a.pointerId]=a)}function Xt(a){delete pi[a.pointerId]}function sd(){Xi||(document.addEventListener(Ms,wo,!0),document.addEventListener(Qu,Os,!0),document.addEventListener(xa,Xt,!0),document.addEventListener(el,Xt,!0),Xi=!0)}function ko(a,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var g in pi)d.touches.push(pi[g]);d.changedTouches=[d],a(d)}}function Lo(a,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Wt(d),ko(a,d)}function As(a){var d={},g,k;for(k in a)g=a[k],d[k]=g&&g.bind?g.bind(a):g;return a=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Ca=200;function Pa(a,d){a.addEventListener("dblclick",d);var g=0,k;function I(G){if(G.detail!==1){k=G.detail;return}if(!(G.pointerType==="mouse"||G.sourceCapabilities&&!G.sourceCapabilities.firesTouchEvents)){var te=gn(G);if(!(te.some(function(ve){return ve instanceof HTMLLabelElement&&ve.attributes.for})&&!te.some(function(ve){return ve instanceof HTMLInputElement||ve instanceof HTMLSelectElement}))){var he=Date.now();he-g<=Ca?(k++,k===2&&d(As(G))):k=1,g=he}}}return a.addEventListener("click",I),{dblclick:d,simDblclick:I}}function tl(a,d){a.removeEventListener("dblclick",d.dblclick),a.removeEventListener("click",d.simDblclick)}var Ia=So(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kn=So(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),kr=kn==="webkitTransition"||kn==="OTransition"?kn+"End":"transitionend";function Eo(a){return typeof a=="string"?document.getElementById(a):a}function mi(a,d){var g=a.style[d]||a.currentStyle&&a.currentStyle[d];if((!g||g==="auto")&&document.defaultView){var k=document.defaultView.getComputedStyle(a,null);g=k?k[d]:null}return g==="auto"?null:g}function gt(a,d,g){var k=document.createElement(a);return k.className=d||"",g&&g.appendChild(k),k}function Gt(a){var d=a.parentNode;d&&d.removeChild(a)}function To(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Yr(a){var d=a.parentNode;d&&d.lastChild!==a&&d.appendChild(a)}function Lr(a){var d=a.parentNode;d&&d.firstChild!==a&&d.insertBefore(a,d.firstChild)}function xo(a,d){if(a.classList!==void 0)return a.classList.contains(d);var g=Rs(a);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function st(a,d){if(a.classList!==void 0)for(var g=O(d),k=0,I=g.length;k<I;k++)a.classList.add(g[k]);else if(!xo(a,d)){var G=Rs(a);gi(a,(G?G+" ":"")+d)}}function Tt(a,d){a.classList!==void 0?a.classList.remove(d):gi(a,P((" "+Rs(a)+" ").replace(" "+d+" "," ")))}function gi(a,d){a.className.baseVal===void 0?a.className=d:a.className.baseVal=d}function Rs(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ln(a,d){"opacity"in a.style?a.style.opacity=d:"filter"in a.style&&od(a,d)}function od(a,d){var g=!1,k="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(k)}catch{if(d===1)return}d=Math.round(d*100),g?(g.Enabled=d!==100,g.Opacity=d):a.style.filter+=" progid:"+k+"(opacity="+d+")"}function So(a){for(var d=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in d)return a[g];return!1}function Er(a,d,g){var k=d||new oe(0,0);a.style[Ia]=(Xe.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(g?" scale("+g+")":"")}function Kt(a,d){a._leaflet_pos=d,Xe.any3d?Er(a,d):(a.style.left=d.x+"px",a.style.top=d.y+"px")}function Ki(a){return a._leaflet_pos||new oe(0,0)}var Oi,Xr,Na;if("onselectstart"in document)Oi=function(){ot(window,"selectstart",Wt)},Xr=function(){At(window,"selectstart",Wt)};else{var Kr=So(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oi=function(){if(Kr){var a=document.documentElement.style;Na=a[Kr],a[Kr]="none"}},Xr=function(){Kr&&(document.documentElement.style[Kr]=Na,Na=void 0)}}function Ma(){ot(window,"dragstart",Wt)}function Ds(){At(window,"dragstart",Wt)}var Ot,Ai;function Oa(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Jr(),Ot=a,Ai=a.style.outlineStyle,a.style.outlineStyle="none",ot(window,"keydown",Jr))}function Jr(){Ot&&(Ot.style.outlineStyle=Ai,Ot=void 0,Ai=void 0,At(window,"keydown",Jr))}function An(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Cn(a){var d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}var Co={__proto__:null,TRANSFORM:Ia,TRANSITION:kn,TRANSITION_END:kr,get:Eo,getStyle:mi,create:gt,remove:Gt,empty:To,toFront:Yr,toBack:Lr,hasClass:xo,addClass:st,removeClass:Tt,setClass:gi,getClass:Rs,setOpacity:ln,testProp:So,setTransform:Er,setPosition:Kt,getPosition:Ki,get disableTextSelection(){return Oi},get enableTextSelection(){return Xr},disableImageDrag:Ma,enableImageDrag:Ds,preventOutline:Oa,restoreOutline:Jr,getSizedParentNode:An,getScale:Cn};function ot(a,d,g,k){if(d&&typeof d=="object")for(var I in d)Po(a,I,d[I],g);else{d=O(d);for(var G=0,te=d.length;G<te;G++)Po(a,d[G],g,k)}return this}var _i="_leaflet_events";function At(a,d,g,k){if(arguments.length===1)Bs(a),delete a[_i];else if(d&&typeof d=="object")for(var I in d)vt(a,I,d[I],g);else if(d=O(d),arguments.length===2)Bs(a,function(he){return _(d,he)!==-1});else for(var G=0,te=d.length;G<te;G++)vt(a,d[G],g,k);return this}function Bs(a,d){for(var g in a[_i]){var k=g.split(/\d/)[0];(!d||d(k))&&vt(a,k,null,null,g)}}var Aa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Po(a,d,g,k){var I=d+m(g)+(k?"_"+m(k):"");if(a[_i]&&a[_i][I])return this;var G=function(he){return g.call(k||a,he||window.event)},te=G;!Xe.touchNative&&Xe.pointer&&d.indexOf("touch")===0?G=wr(a,d,G):Xe.touch&&d==="dblclick"?G=Pa(a,G):"addEventListener"in a?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?a.addEventListener(Aa[d]||d,G,Xe.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(G=function(he){he=he||window.event,Io(a,he)&&te(he)},a.addEventListener(Aa[d],G,!1)):a.addEventListener(d,te,!1):a.attachEvent("on"+d,G),a[_i]=a[_i]||{},a[_i][I]=G}function vt(a,d,g,k,I){I=I||d+m(g)+(k?"_"+m(k):"");var G=a[_i]&&a[_i][I];if(!G)return this;!Xe.touchNative&&Xe.pointer&&d.indexOf("touch")===0?Sa(a,d,G):Xe.touch&&d==="dblclick"?tl(a,G):"removeEventListener"in a?a.removeEventListener(Aa[d]||d,G,!1):a.detachEvent("on"+d,G),a[_i][I]=null}function mn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Fs(a){return Po(a,"wheel",mn),this}function Qr(a){return ot(a,"mousedown touchstart dblclick contextmenu",mn),a._leaflet_disable_click=!0,this}function Wt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ji(a){return Wt(a),mn(a),this}function gn(a){if(a.composedPath)return a.composedPath();for(var d=[],g=a.target;g;)d.push(g),g=g.parentNode;return d}function Ra(a,d){if(!d)return new oe(a.clientX,a.clientY);var g=Cn(d),k=g.boundingClientRect;return new oe((a.clientX-k.left)/g.x-d.clientLeft,(a.clientY-k.top)/g.y-d.clientTop)}var Da=Xe.linux&&Xe.chrome?window.devicePixelRatio:Xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ba(a){return Xe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Da:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Io(a,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var ad={__proto__:null,on:ot,off:At,stopPropagation:mn,disableScrollPropagation:Fs,disableClickPropagation:Qr,preventDefault:Wt,stop:Ji,getPropagationPath:gn,getMousePosition:Ra,getWheelDelta:Ba,isExternalTarget:Io,addListener:ot,removeListener:At},Fa=re.extend({run:function(a,d,g,k){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=Ki(a),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(a){var d=+new Date-this._startTime,g=this._duration*1e3;d<g?this._runFrame(this._easeOut(d/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,d){var g=this._startPos.add(this._offset.multiplyBy(a));d&&g._round(),Kt(this._el,g),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),at=re.extend({options:{crs:Q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,d){d=B(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Te(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kn&&Xe.any3d&&!Xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,kr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,d,g){if(d=d===void 0?this._zoom:this._limitZoom(d),a=this._limitCenter(Te(a),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var k=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,d,g.zoom):this._tryAnimatedPan(a,g.pan);if(k)return clearTimeout(this._sizeTimer),this}return this._resetView(a,d,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,d){return this._loaded?this.setView(this.getCenter(),a,{zoom:d}):(this._zoom=a,this)},zoomIn:function(a,d){return a=a||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,d)},zoomOut:function(a,d){return a=a||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,d)},setZoomAround:function(a,d,g){var k=this.getZoomScale(d),I=this.getSize().divideBy(2),G=a instanceof oe?a:this.latLngToContainerPoint(a),te=G.subtract(I).multiplyBy(1-1/k),he=this.containerPointToLatLng(I.add(te));return this.setView(he,d,{zoom:g})},_getBoundsCenterZoom:function(a,d){d=d||{},a=a.getBounds?a.getBounds():Pe(a);var g=le(d.paddingTopLeft||d.padding||[0,0]),k=le(d.paddingBottomRight||d.padding||[0,0]),I=this.getBoundsZoom(a,!1,g.add(k));if(I=typeof d.maxZoom=="number"?Math.min(d.maxZoom,I):I,I===1/0)return{center:a.getCenter(),zoom:I};var G=k.subtract(g).divideBy(2),te=this.project(a.getSouthWest(),I),he=this.project(a.getNorthEast(),I),ve=this.unproject(te.add(he).divideBy(2).add(G),I);return{center:ve,zoom:I}},fitBounds:function(a,d){if(a=Pe(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,d){return this.setView(a,this._zoom,{pan:d})},panBy:function(a,d){if(a=le(a).round(),d=d||{},!a.x&&!a.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){st(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,d,g){if(g=g||{},g.animate===!1||!Xe.any3d)return this.setView(a,d,g);this._stop();var k=this.project(this.getCenter()),I=this.project(a),G=this.getSize(),te=this._zoom;a=Te(a),d=d===void 0?te:d;var he=Math.max(G.x,G.y),ve=he*this.getZoomScale(te,d),Ie=I.distanceTo(k)||1,He=1.42,nt=He*He;function mt(on){var ml=on?-1:1,L0=on?ve:he,E0=ve*ve-he*he+ml*nt*nt*Ie*Ie,T0=2*L0*nt*Ie,yd=E0/T0,zh=Math.sqrt(yd*yd+1)-yd,x0=zh<1e-9?-18:Math.log(zh);return x0}function Bn(on){return(Math.exp(on)-Math.exp(-on))/2}function vn(on){return(Math.exp(on)+Math.exp(-on))/2}function Li(on){return Bn(on)/vn(on)}var Jn=mt(0);function $o(on){return he*(vn(Jn)/vn(Jn+He*on))}function y0(on){return he*(vn(Jn)*Li(Jn+He*on)-Bn(Jn))/nt}function b0(on){return 1-Math.pow(1-on,1.5)}var w0=Date.now(),Bh=(mt(1)-Jn)/He,k0=g.duration?1e3*g.duration:1e3*Bh*.8;function Fh(){var on=(Date.now()-w0)/k0,ml=b0(on)*Bh;on<=1?(this._flyToFrame=X(Fh,this),this._move(this.unproject(k.add(I.subtract(k).multiplyBy(y0(ml)/Ie)),te),this.getScaleZoom(he/$o(ml),te),{flyTo:!0})):this._move(a,d)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Fh.call(this),this},flyToBounds:function(a,d){var g=this._getBoundsCenterZoom(a,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(a){return a=Pe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var d=this.options.minZoom;return this.options.minZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var d=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,d){this._enforcingBounds=!0;var g=this.getCenter(),k=this._limitCenter(g,this._zoom,Pe(a));return g.equals(k)||this.panTo(k,d),this._enforcingBounds=!1,this},panInside:function(a,d){d=d||{};var g=le(d.paddingTopLeft||d.padding||[0,0]),k=le(d.paddingBottomRight||d.padding||[0,0]),I=this.project(this.getCenter()),G=this.project(a),te=this.getPixelBounds(),he=Re([te.min.add(g),te.max.subtract(k)]),ve=he.getSize();if(!he.contains(G)){this._enforcingBounds=!0;var Ie=G.subtract(he.getCenter()),He=he.extend(G).getSize().subtract(ve);I.x+=Ie.x<0?-He.x:He.x,I.y+=Ie.y<0?-He.y:He.y,this.panTo(this.unproject(I),d),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),k=d.divideBy(2).round(),I=g.divideBy(2).round(),G=k.subtract(I);return!G.x&&!G.y?this:(a.animate&&a.pan?this.panBy(G):(a.pan&&this._rawPanBy(G),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=f(this._handleGeolocationResponse,this),g=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,a):navigator.geolocation.getCurrentPosition(d,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var d=a.code,g=a.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var d=a.coords.latitude,g=a.coords.longitude,k=new Le(d,g),I=k.toBounds(a.coords.accuracy*2),G=this._locateOptions;if(G.setView){var te=this.getBoundsZoom(I);this.setView(k,G.maxZoom?Math.min(te,G.maxZoom):te)}var he={latlng:k,bounds:I,timestamp:a.timestamp};for(var ve in a.coords)typeof a.coords[ve]=="number"&&(he[ve]=a.coords[ve]);this.fire("locationfound",he)}},addHandler:function(a,d){if(!d)return this;var g=this[a]=new d(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Gt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,d){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),k=gt("div",g,d||this._mapPane);return a&&(this._panes[a]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new Oe(d,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,g){a=Pe(a),g=le(g||[0,0]);var k=this.getZoom()||0,I=this.getMinZoom(),G=this.getMaxZoom(),te=a.getNorthWest(),he=a.getSouthEast(),ve=this.getSize().subtract(g),Ie=Re(this.project(he,k),this.project(te,k)).getSize(),He=Xe.any3d?this.options.zoomSnap:1,nt=ve.x/Ie.x,mt=ve.y/Ie.y,Bn=d?Math.max(nt,mt):Math.min(nt,mt);return k=this.getScaleZoom(Bn,k),He&&(k=Math.round(k/(He/100))*(He/100),k=d?Math.ceil(k/He)*He:Math.floor(k/He)*He),Math.max(I,Math.min(G,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new oe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,d){var g=this._getTopLeftPoint(a,d);return new we(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,d){var g=this.options.crs;return d=d===void 0?this._zoom:d,g.scale(a)/g.scale(d)},getScaleZoom:function(a,d){var g=this.options.crs;d=d===void 0?this._zoom:d;var k=g.zoom(a*g.scale(d));return isNaN(k)?1/0:k},project:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Te(a),d)},unproject:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(le(a),d)},layerPointToLatLng:function(a){var d=le(a).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(a){var d=this.project(Te(a))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Te(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Pe(a))},distance:function(a,d){return this.options.crs.distance(Te(a),Te(d))},containerPointToLayerPoint:function(a){return le(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return le(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var d=this.containerPointToLayerPoint(le(a));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(a)))},mouseEventToContainerPoint:function(a){return Ra(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var d=this._container=Eo(a);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(d,"scroll",this._onScroll,this),this._containerId=m(d)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xe.any3d,st(a,"leaflet-container"+(Xe.touch?" leaflet-touch":"")+(Xe.retina?" leaflet-retina":"")+(Xe.ielt9?" leaflet-oldie":"")+(Xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=mi(a,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kt(this._mapPane,new oe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(st(a.markerPane,"leaflet-zoom-hide"),st(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,d,g){Kt(this._mapPane,new oe(0,0));var k=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var I=this._zoom!==d;this._moveStart(I,g)._move(a,d)._moveEnd(I),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(a,d){return a&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(a,d,g,k){d===void 0&&(d=this._zoom);var I=this._zoom!==d;return this._zoom=d,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),k?g&&g.pinch&&this.fire("zoom",g):((I||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Kt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[m(this._container)]=this;var d=a?At:ot;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Xe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,d){for(var g=[],k,I=d==="mouseout"||d==="mouseover",G=a.target||a.srcElement,te=!1;G;){if(k=this._targets[m(G)],k&&(d==="click"||d==="preclick")&&this._draggableMoved(k)){te=!0;break}if(k&&k.listens(d,!0)&&(I&&!Io(G,a)||(g.push(k),I))||G===this._container)break;G=G.parentNode}return!g.length&&!te&&!I&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var d=a.target||a.srcElement;if(!(!this._loaded||d._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(d))){var g=a.type;g==="mousedown"&&Oa(d),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,d,g){if(a.type==="click"){var k=i({},a);k.type="preclick",this._fireDOMEvent(k,k.type,g)}var I=this._findEventTargets(a,d);if(g){for(var G=[],te=0;te<g.length;te++)g[te].listens(d,!0)&&G.push(g[te]);I=G.concat(I)}if(I.length){d==="contextmenu"&&Wt(a);var he=I[0],ve={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Ie=he.getLatLng&&(!he._radius||he._radius<=10);ve.containerPoint=Ie?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(a),ve.layerPoint=this.containerPointToLayerPoint(ve.containerPoint),ve.latlng=Ie?he.getLatLng():this.layerPointToLatLng(ve.layerPoint)}for(te=0;te<I.length;te++)if(I[te].fire(d,ve,!0),ve.originalEvent._stopped||I[te].options.bubblingMouseEvents===!1&&_(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,d=this._handlers.length;a<d;a++)this._handlers[a].disable()},whenReady:function(a,d){return this._loaded?a.call(d||this,{target:this}):this.on("load",a,d),this},_getMapPanePos:function(){return Ki(this._mapPane)||new oe(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,d){var g=a&&d!==void 0?this._getNewPixelOrigin(a,d):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,d){var g=this.getSize()._divideBy(2);return this.project(a,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,d,g){var k=this._getNewPixelOrigin(g,d);return this.project(a,d)._subtract(k)},_latLngBoundsToNewLayerBounds:function(a,d,g){var k=this._getNewPixelOrigin(g,d);return Re([this.project(a.getSouthWest(),d)._subtract(k),this.project(a.getNorthWest(),d)._subtract(k),this.project(a.getSouthEast(),d)._subtract(k),this.project(a.getNorthEast(),d)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,g){if(!g)return a;var k=this.project(a,d),I=this.getSize().divideBy(2),G=new we(k.subtract(I),k.add(I)),te=this._getBoundsOffset(G,g,d);return Math.abs(te.x)<=1&&Math.abs(te.y)<=1?a:this.unproject(k.add(te),d)},_limitOffset:function(a,d){if(!d)return a;var g=this.getPixelBounds(),k=new we(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(k,d))},_getBoundsOffset:function(a,d,g){var k=Re(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),I=k.min.subtract(a.min),G=k.max.subtract(a.max),te=this._rebound(I.x,-G.x),he=this._rebound(I.y,-G.y);return new oe(te,he)},_rebound:function(a,d){return a+d>0?Math.round(a-d)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(d))},_limitZoom:function(a){var d=this.getMinZoom(),g=this.getMaxZoom(),k=Xe.any3d?this.options.zoomSnap:1;return k&&(a=Math.round(a/k)*k),Math.max(d,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,d){var g=this._getCenterOffset(a)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,d),!0)},_createAnimProxy:function(){var a=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(d){var g=Ia,k=this._proxy.style[g];Er(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),k===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),d=this.getZoom();Er(this._proxy,this.project(a,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(d),I=this._getCenterOffset(a)._divideBy(1-1/k);return g.animate!==!0&&!this.getSize().contains(I)?!1:(X(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,d,!0)},this),!0)},_animateZoom:function(a,d,g,k){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=d,st(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:d,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function No(a,d){return new at(a,d)}var ai=j.extend({options:{position:"topright"},initialize:function(a){B(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var d=this._map;return d&&d.removeControl(this),this.options.position=a,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var d=this._container=this.onAdd(a),g=this.getPosition(),k=a._controlCorners[g];return st(d,"leaflet-control"),g.indexOf("bottom")!==-1?k.insertBefore(d,k.firstChild):k.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),_n=function(a){return new ai(a)};at.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},d="leaflet-",g=this._controlContainer=gt("div",d+"control-container",this._container);function k(I,G){var te=d+I+" "+d+G;a[I+G]=gt("div",te,g)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Gt(this._controlCorners[a]);Gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tr=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,d,g,k){return g<k?-1:k<g?1:0}},initialize:function(a,d,g){B(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var k in a)this._addLayer(a[k],k);for(k in d)this._addLayer(d[k],k,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ai.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,d){return this._addLayer(a,d),this._map?this._update():this},addOverlay:function(a,d){return this._addLayer(a,d,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var d=this._getLayer(m(a));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){st(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(st(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",d=this._container=gt("div",a),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Qr(d),Fs(d);var k=this._section=gt("section",a+"-list");g&&(this._map.on("click",this.collapse,this),ot(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=gt("a",a+"-toggle",d);I.href="#",I.title="Layers",I.setAttribute("role","button"),ot(I,{keydown:function(G){G.keyCode===13&&this._expandSafely()},click:function(G){Wt(G),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=gt("div",a+"-base",k),this._separator=gt("div",a+"-separator",k),this._overlaysList=gt("div",a+"-overlays",k),d.appendChild(k)},_getLayer:function(a){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&m(this._layers[d].layer)===a)return this._layers[d]},_addLayer:function(a,d,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(f(function(k,I){return this.options.sortFunction(k.layer,I.layer,k.name,I.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;To(this._baseLayersList),To(this._overlaysList),this._layerControlInputs=[];var a,d,g,k,I=0;for(g=0;g<this._layers.length;g++)k=this._layers[g],this._addItem(k),d=d||k.overlay,a=a||!k.overlay,I+=k.overlay?0:1;return this.options.hideSingleBase&&(a=a&&I>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=d&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var d=this._getLayer(m(a.target)),g=d.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(a,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(d?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=g,k.firstChild},_addItem:function(a){var d=document.createElement("label"),g=this._map.hasLayer(a.layer),k;a.overlay?(k=document.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=g):k=this._createRadioElement("leaflet-base-layers_"+m(this),g),this._layerControlInputs.push(k),k.layerId=m(a.layer),ot(k,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+a.name;var G=document.createElement("span");d.appendChild(G),G.appendChild(k),G.appendChild(I);var te=a.overlay?this._overlaysList:this._baseLayersList;return te.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,d,g,k=[],I=[];this._handlingClick=!0;for(var G=a.length-1;G>=0;G--)d=a[G],g=this._getLayer(d.layerId).layer,d.checked?k.push(g):d.checked||I.push(g);for(G=0;G<I.length;G++)this._map.hasLayer(I[G])&&this._map.removeLayer(I[G]);for(G=0;G<k.length;G++)this._map.hasLayer(k[G])||this._map.addLayer(k[G]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,d,g,k=this._map.getZoom(),I=a.length-1;I>=0;I--)d=a[I],g=this._getLayer(d.layerId).layer,d.disabled=g.options.minZoom!==void 0&&k<g.options.minZoom||g.options.maxZoom!==void 0&&k>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ot(a,"click",Wt),this.expand();var d=this;setTimeout(function(){At(a,"click",Wt),d._preventClick=!1})}}),ud=function(a,d,g){return new Tr(a,d,g)},Qi=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var d="leaflet-control-zoom",g=gt("div",d+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,d,g,k,I){var G=gt("a",g,k);return G.innerHTML=a,G.href="#",G.title=d,G.setAttribute("role","button"),G.setAttribute("aria-label",d),Qr(G),ot(G,"click",Ji),ot(G,"click",I,this),ot(G,"click",this._refocusOnMap,this),G},_updateDisabled:function(){var a=this._map,d="leaflet-disabled";Tt(this._zoomInButton,d),Tt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(st(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(st(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qi,this.addControl(this.zoomControl))});var nl=function(a){return new Qi(a)},xr=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var d="leaflet-control-scale",g=gt("div",d),k=this.options;return this._addScales(k,d+"-line",g),a.on(k.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,d,g){a.metric&&(this._mScale=gt("div",d,g)),a.imperial&&(this._iScale=gt("div",d,g))},_update:function(){var a=this._map,d=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,d]),a.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var d=this._getRoundNum(a),g=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,g,d/a)},_updateImperial:function(a){var d=a*3.2808399,g,k,I;d>5280?(g=d/5280,k=this._getRoundNum(g),this._updateScale(this._iScale,k+" mi",k/g)):(I=this._getRoundNum(d),this._updateScale(this._iScale,I+" ft",I/d))},_updateScale:function(a,d,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=d},_getRoundNum:function(a){var d=Math.pow(10,(Math.floor(a)+"").length-1),g=a/d;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,d*g}}),ld=function(a){return new xr(a)},vi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Mo=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xe.inlineSvg?vi+" ":"")+"Leaflet</a>"},initialize:function(a){B(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Qr(this._container);for(var d in a._layers)a._layers[d].getAttribution&&this.addAttribution(a._layers[d].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var d in this._attributions)this._attributions[d]&&a.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&new Mo().addTo(this)});var cd=function(a){return new Mo(a)};ai.Layers=Tr,ai.Zoom=Qi,ai.Scale=xr,ai.Attribution=Mo,_n.layers=ud,_n.zoom=nl,_n.scale=ld,_n.attribution=cd;var yi=j.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yi.addTo=function(a,d){return a.addHandler(d,this),this};var dd={Events:V},il=Xe.touch?"touchstart mousedown":"mousedown",er=re.extend({options:{clickTolerance:3},initialize:function(a,d,g,k){B(this,k),this._element=a,this._dragStartTarget=d||a,this._preventOutline=g},enable:function(){this._enabled||(ot(this._dragStartTarget,il,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(er._dragging===this&&this.finishDrag(!0),At(this._dragStartTarget,il,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!xo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){er._dragging===this&&this.finishDrag();return}if(!(er._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(er._dragging=this,this._preventOutline&&Oa(this._element),Ma(),Oi(),!this._moving)){this.fire("down");var d=a.touches?a.touches[0]:a,g=An(this._element);this._startPoint=new oe(d.clientX,d.clientY),this._startPos=Ki(this._element),this._parentScale=Cn(g);var k=a.type==="mousedown";ot(document,k?"mousemove":"touchmove",this._onMove,this),ot(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var d=a.touches&&a.touches.length===1?a.touches[0]:a,g=new oe(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Wt(a),this._moved||(this.fire("dragstart"),this._moved=!0,st(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),st(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Kt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),At(document,"mousemove touchmove",this._onMove,this),At(document,"mouseup touchend touchcancel",this._onUp,this),Ds(),Xr();var d=this._moved&&this._moving;this._moving=!1,er._dragging=!1,d&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function rl(a,d,g){var k,I=[1,4,2,8],G,te,he,ve,Ie,He,nt,mt;for(G=0,He=a.length;G<He;G++)a[G]._code=nn(a[G],d);for(he=0;he<4;he++){for(nt=I[he],k=[],G=0,He=a.length,te=He-1;G<He;te=G++)ve=a[G],Ie=a[te],ve._code&nt?Ie._code&nt||(mt=zs(Ie,ve,nt,d,g),mt._code=nn(mt,d),k.push(mt)):(Ie._code&nt&&(mt=zs(Ie,ve,nt,d,g),mt._code=nn(mt,d),k.push(mt)),k.push(ve));a=k}return a}function sl(a,d){var g,k,I,G,te,he,ve,Ie,He;if(!a||a.length===0)throw new Error("latlngs not passed");Dn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var nt=Te([0,0]),mt=Pe(a),Bn=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Bn<1700&&(nt=Ri(a));var vn=a.length,Li=[];for(g=0;g<vn;g++){var Jn=Te(a[g]);Li.push(d.project(Te([Jn.lat-nt.lat,Jn.lng-nt.lng])))}for(he=ve=Ie=0,g=0,k=vn-1;g<vn;k=g++)I=Li[g],G=Li[k],te=I.y*G.x-G.y*I.x,ve+=(I.x+G.x)*te,Ie+=(I.y+G.y)*te,he+=te*3;he===0?He=Li[0]:He=[ve/he,Ie/he];var $o=d.unproject(le(He));return Te([$o.lat+nt.lat,$o.lng+nt.lng])}function Ri(a){for(var d=0,g=0,k=0,I=0;I<a.length;I++){var G=Te(a[I]);d+=G.lat,g+=G.lng,k++}return Te([d/k,g/k])}var Rn={__proto__:null,clipPolygon:rl,polygonCenter:sl,centroid:Ri};function ol(a,d){if(!d||!a.length)return a.slice();var g=d*d;return a=Ua(a,g),a=$a(a,g),a}function za(a,d,g){return Math.sqrt(Us(a,d,g,!0))}function fd(a,d,g){return Us(a,d,g)}function $a(a,d){var g=a.length,k=typeof Uint8Array<"u"?Uint8Array:Array,I=new k(g);I[0]=I[g-1]=1,Oo(a,I,d,0,g-1);var G,te=[];for(G=0;G<g;G++)I[G]&&te.push(a[G]);return te}function Oo(a,d,g,k,I){var G=0,te,he,ve;for(he=k+1;he<=I-1;he++)ve=Us(a[he],a[k],a[I],!0),ve>G&&(te=he,G=ve);G>g&&(d[te]=1,Oo(a,d,g,k,te),Oo(a,d,g,te,I))}function Ua(a,d){for(var g=[a[0]],k=1,I=0,G=a.length;k<G;k++)$s(a[k],a[I])>d&&(g.push(a[k]),I=k);return I<G-1&&g.push(a[G-1]),g}var Ga;function Kn(a,d,g,k,I){var G=k?Ga:nn(a,g),te=nn(d,g),he,ve,Ie;for(Ga=te;;){if(!(G|te))return[a,d];if(G&te)return!1;he=G||te,ve=zs(a,d,he,g,I),Ie=nn(ve,g),he===G?(a=ve,G=Ie):(d=ve,te=Ie)}}function zs(a,d,g,k,I){var G=d.x-a.x,te=d.y-a.y,he=k.min,ve=k.max,Ie,He;return g&8?(Ie=a.x+G*(ve.y-a.y)/te,He=ve.y):g&4?(Ie=a.x+G*(he.y-a.y)/te,He=he.y):g&2?(Ie=ve.x,He=a.y+te*(ve.x-a.x)/G):g&1&&(Ie=he.x,He=a.y+te*(he.x-a.x)/G),new oe(Ie,He,I)}function nn(a,d){var g=0;return a.x<d.min.x?g|=1:a.x>d.max.x&&(g|=2),a.y<d.min.y?g|=4:a.y>d.max.y&&(g|=8),g}function $s(a,d){var g=d.x-a.x,k=d.y-a.y;return g*g+k*k}function Us(a,d,g,k){var I=d.x,G=d.y,te=g.x-I,he=g.y-G,ve=te*te+he*he,Ie;return ve>0&&(Ie=((a.x-I)*te+(a.y-G)*he)/ve,Ie>1?(I=g.x,G=g.y):Ie>0&&(I+=te*Ie,G+=he*Ie)),te=a.x-I,he=a.y-G,k?te*te+he*he:new oe(I,G)}function Dn(a){return!H(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Ha(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(a)}function Va(a,d){var g,k,I,G,te,he,ve,Ie;if(!a||a.length===0)throw new Error("latlngs not passed");Dn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var He=Te([0,0]),nt=Pe(a),mt=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());mt<1700&&(He=Ri(a));var Bn=a.length,vn=[];for(g=0;g<Bn;g++){var Li=Te(a[g]);vn.push(d.project(Te([Li.lat-He.lat,Li.lng-He.lng])))}for(g=0,k=0;g<Bn-1;g++)k+=vn[g].distanceTo(vn[g+1])/2;if(k===0)Ie=vn[0];else for(g=0,G=0;g<Bn-1;g++)if(te=vn[g],he=vn[g+1],I=te.distanceTo(he),G+=I,G>k){ve=(G-k)/I,Ie=[he.x-ve*(he.x-te.x),he.y-ve*(he.y-te.y)];break}var Jn=d.unproject(le(Ie));return Te([Jn.lat+He.lat,Jn.lng+He.lng])}var qa={__proto__:null,simplify:ol,pointToSegmentDistance:za,closestPointOnSegment:fd,clipSegment:Kn,_getEdgeIntersection:zs,_getBitCode:nn,_sqClosestPointOnSegment:Us,isFlat:Dn,_flat:Ha,polylineCenter:Va},ja={project:function(a){return new oe(a.lng,a.lat)},unproject:function(a){return new Le(a.y,a.x)},bounds:new we([-180,-90],[180,90])},Wa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new we([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var d=Math.PI/180,g=this.R,k=a.lat*d,I=this.R_MINOR/g,G=Math.sqrt(1-I*I),te=G*Math.sin(k),he=Math.tan(Math.PI/4-k/2)/Math.pow((1-te)/(1+te),G/2);return k=-g*Math.log(Math.max(he,1e-10)),new oe(a.lng*d*g,k)},unproject:function(a){for(var d=180/Math.PI,g=this.R,k=this.R_MINOR/g,I=Math.sqrt(1-k*k),G=Math.exp(-a.y/g),te=Math.PI/2-2*Math.atan(G),he=0,ve=.1,Ie;he<15&&Math.abs(ve)>1e-7;he++)Ie=I*Math.sin(te),Ie=Math.pow((1-Ie)/(1+Ie),I/2),ve=Math.PI/2-2*Math.atan(G*Ie)-te,te+=ve;return new Le(te*d,a.x*d/g)}},hd={__proto__:null,LonLat:ja,Mercator:Wa,SphericalMercator:Ne},pd=i({},Y,{code:"EPSG:3395",projection:Wa,transformation:function(){var a=.5/(Math.PI*Wa.R);return N(a,.5,-a,.5)}()}),al=i({},Y,{code:"EPSG:4326",projection:ja,transformation:N(1/180,1,-1/180,.5)}),md=i({},ce,{projection:ja,transformation:N(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,d){var g=d.lng-a.lng,k=d.lat-a.lat;return Math.sqrt(g*g+k*k)},infinite:!0});ce.Earth=Y,ce.EPSG3395=pd,ce.EPSG3857=Q,ce.EPSG900913=se,ce.EPSG4326=al,ce.Simple=md;var ui=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[m(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[m(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var d=a.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});at.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var d=m(a);return this._layers[d]?this:(this._layers[d]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var d=m(a);return this._layers[d]?(this._loaded&&a.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return m(a)in this._layers},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},_addLayers:function(a){a=a?H(a)?a:[a]:[];for(var d=0,g=a.length;d<g;d++)this.addLayer(a[d])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[m(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var d=m(a);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,d=-1/0,g=this._getZoomSpan();for(var k in this._zoomBoundLayers){var I=this._zoomBoundLayers[k].options;a=I.minZoom===void 0?a:Math.min(a,I.minZoom),d=I.maxZoom===void 0?d:Math.max(d,I.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var es=ui.extend({initialize:function(a,d){B(this,d),this._layers={};var g,k;if(a)for(g=0,k=a.length;g<k;g++)this.addLayer(a[g])},addLayer:function(a){var d=this.getLayerId(a);return this._layers[d]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var d=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(a){var d=typeof a=="number"?a:this.getLayerId(a);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var d=Array.prototype.slice.call(arguments,1),g,k;for(g in this._layers)k=this._layers[g],k[a]&&k[a].apply(k,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return m(a)}}),ul=function(a,d){return new es(a,d)},Di=es.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),es.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),es.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Oe;for(var d in this._layers){var g=this._layers[d];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),ll=function(a,d){return new Di(a,d)},ts=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){B(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,d){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(g,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(k,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),k},_setIconStyles:function(a,d){var g=this.options,k=g[d+"Size"];typeof k=="number"&&(k=[k,k]);var I=le(k),G=le(d==="shadow"&&g.shadowAnchor||g.iconAnchor||I&&I.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+(g.className||""),G&&(a.style.marginLeft=-G.x+"px",a.style.marginTop=-G.y+"px"),I&&(a.style.width=I.x+"px",a.style.height=I.y+"px")},_createImg:function(a,d){return d=d||document.createElement("img"),d.src=a,d},_getIconUrl:function(a){return Xe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function gd(a){return new ts(a)}var Gs=ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Gs.imagePath!="string"&&(Gs.imagePath=this._detectIconPath()),(this.options.imagePath||Gs.imagePath)+ts.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var d=function(g,k,I){var G=k.exec(g);return G&&G[I]};return a=d(a,/^url\((['"])?(.+)\1\)$/,2),a&&d(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=gt("div","leaflet-default-icon-path",document.body),d=mi(a,"background-image")||mi(a,"backgroundImage");if(document.body.removeChild(a),d=this._stripUrl(d),d)return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),cl=yi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new er(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),st(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var d=this._marker,g=d._map,k=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,G=Ki(d._icon),te=g.getPixelBounds(),he=g.getPixelOrigin(),ve=Re(te.min._subtract(he).add(I),te.max._subtract(he).subtract(I));if(!ve.contains(G)){var Ie=le((Math.max(ve.max.x,G.x)-ve.max.x)/(te.max.x-ve.max.x)-(Math.min(ve.min.x,G.x)-ve.min.x)/(te.min.x-ve.min.x),(Math.max(ve.max.y,G.y)-ve.max.y)/(te.max.y-ve.max.y)-(Math.min(ve.min.y,G.y)-ve.min.y)/(te.min.y-ve.min.y)).multiplyBy(k);g.panBy(Ie,{animate:!1}),this._draggable._newPos._add(Ie),this._draggable._startPos._add(Ie),Kt(d._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=X(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,a)))},_onDrag:function(a){var d=this._marker,g=d._shadow,k=Ki(d._icon),I=d._map.layerPointToLatLng(k);g&&Kt(g,k),d._latlng=I,a.latlng=I,a.oldLatLng=this._oldLatLng,d.fire("move",a).fire("drag",a)},_onDragEnd:function(a){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ao=ui.extend({options:{icon:new Gs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,d){B(this,d),this._latlng=Te(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var d=this._latlng;return this._latlng=Te(a),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),k=!1;g!==this._icon&&(this._icon&&this._removeIcon(),k=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),st(g,d),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(g,"focus",this._panOnFocus,this);var I=a.icon.createShadow(this._shadow),G=!1;I!==this._shadow&&(this._removeShadow(),G=!0),I&&(st(I,d),I.alt=""),this._shadow=I,a.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&G&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(this._icon,"focus",this._panOnFocus,this),Gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Kt(this._icon,a),this._shadow&&Kt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(st(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ln(this._icon,a),this._shadow&&ln(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var d=this.options.icon.options,g=d.iconSize?le(d.iconSize):le(0,0),k=d.iconAnchor?le(d.iconAnchor):le(0,0);a.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:g.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _d(a,d){return new Ao(a,d)}var tr=ui.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return B(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hs=tr.extend({options:{fill:!0,radius:10},initialize:function(a,d){B(this,d),this._latlng=Te(a),this._radius=this.options.radius},setLatLng:function(a){var d=this._latlng;return this._latlng=Te(a),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var d=a&&a.radius||this._radius;return tr.prototype.setStyle.call(this,a),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,g=this._clickTolerance(),k=[a+g,d+g];this._pxBounds=new we(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dl(a,d){return new Hs(a,d)}var Ro=Hs.extend({initialize:function(a,d,g){if(typeof d=="number"&&(d=i({},g,{radius:d})),B(this,d),this._latlng=Te(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Oe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:tr.prototype.setStyle,_project:function(){var a=this._latlng.lng,d=this._latlng.lat,g=this._map,k=g.options.crs;if(k.distance===Y.distance){var I=Math.PI/180,G=this._mRadius/Y.R/I,te=g.project([d+G,a]),he=g.project([d-G,a]),ve=te.add(he).divideBy(2),Ie=g.unproject(ve).lat,He=Math.acos((Math.cos(G*I)-Math.sin(d*I)*Math.sin(Ie*I))/(Math.cos(d*I)*Math.cos(Ie*I)))/I;(isNaN(He)||He===0)&&(He=G/Math.cos(Math.PI/180*d)),this._point=ve.subtract(g.getPixelOrigin()),this._radius=isNaN(He)?0:ve.x-g.project([Ie,a-He]).x,this._radiusY=ve.y-te.y}else{var nt=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(nt).x}this._updateBounds()}});function vd(a,d,g){return new Ro(a,d,g)}var bi=tr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,d){B(this,d),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var d=1/0,g=null,k=Us,I,G,te=0,he=this._parts.length;te<he;te++)for(var ve=this._parts[te],Ie=1,He=ve.length;Ie<He;Ie++){I=ve[Ie-1],G=ve[Ie];var nt=k(a,I,G,!0);nt<d&&(d=nt,g=k(a,I,G))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Va(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,d){return d=d||this._defaultShape(),a=Te(a),d.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Oe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var d=[],g=Dn(a),k=0,I=a.length;k<I;k++)g?(d[k]=Te(a[k]),this._bounds.extend(d[k])):d[k]=this._convertLatLngs(a[k]);return d},_project:function(){var a=new we;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),d=new oe(a,a);this._rawPxBounds&&(this._pxBounds=new we([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(a,d,g){var k=a[0]instanceof Le,I=a.length,G,te;if(k){for(te=[],G=0;G<I;G++)te[G]=this._map.latLngToLayerPoint(a[G]),g.extend(te[G]);d.push(te)}else for(G=0;G<I;G++)this._projectLatlngs(a[G],d,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,g,k,I,G,te,he,ve;for(g=0,I=0,G=this._rings.length;g<G;g++)for(ve=this._rings[g],k=0,te=ve.length;k<te-1;k++)he=Kn(ve[k],ve[k+1],a,k,!0),he&&(d[I]=d[I]||[],d[I].push(he[0]),(he[1]!==ve[k+1]||k===te-2)&&(d[I].push(he[1]),I++))}},_simplifyPoints:function(){for(var a=this._parts,d=this.options.smoothFactor,g=0,k=a.length;g<k;g++)a[g]=ol(a[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,d){var g,k,I,G,te,he,ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,G=this._parts.length;g<G;g++)for(he=this._parts[g],k=0,te=he.length,I=te-1;k<te;I=k++)if(!(!d&&k===0)&&za(a,he[I],he[k])<=ve)return!0;return!1}});function Za(a,d){return new bi(a,d)}bi._flat=Ha;var ns=bi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var d=bi.prototype._convertLatLngs.call(this,a),g=d.length;return g>=2&&d[0]instanceof Le&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(a){bi.prototype._setLatLngs.call(this,a),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,d=this.options.weight,g=new oe(d,d);if(a=new we(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var k=0,I=this._rings.length,G;k<I;k++)G=rl(this._rings[k],a,!0),G.length&&this._parts.push(G)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var d=!1,g,k,I,G,te,he,ve,Ie;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(G=0,ve=this._parts.length;G<ve;G++)for(g=this._parts[G],te=0,Ie=g.length,he=Ie-1;te<Ie;he=te++)k=g[te],I=g[he],k.y>a.y!=I.y>a.y&&a.x<(I.x-k.x)*(a.y-k.y)/(I.y-k.y)+k.x&&(d=!d);return d||bi.prototype._containsPoint.call(this,a,!0)}});function fl(a,d){return new ns(a,d)}var wi=Di.extend({initialize:function(a,d){B(this,d),this._layers={},a&&this.addData(a)},addData:function(a){var d=H(a)?a:a.features,g,k,I;if(d){for(g=0,k=d.length;g<k;g++)I=d[g],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var G=this.options;if(G.filter&&!G.filter(a))return this;var te=Do(a,G);return te?(te.feature=c(a),te.defaultOptions=te.options,this.resetStyle(te),G.onEachFeature&&G.onEachFeature(a,te),this.addLayer(te)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(d){this._setLayerStyle(d,a)},this)},_setLayerStyle:function(a,d){a.setStyle&&(typeof d=="function"&&(d=d(a.feature)),a.setStyle(d))}});function Do(a,d){var g=a.type==="Feature"?a.geometry:a,k=g?g.coordinates:null,I=[],G=d&&d.pointToLayer,te=d&&d.coordsToLatLng||nr,he,ve,Ie,He;if(!k&&!g)return null;switch(g.type){case"Point":return he=te(k),hl(G,a,he,d);case"MultiPoint":for(Ie=0,He=k.length;Ie<He;Ie++)he=te(k[Ie]),I.push(hl(G,a,he,d));return new Di(I);case"LineString":case"MultiLineString":return ve=Bo(k,g.type==="LineString"?0:1,te),new bi(ve,d);case"Polygon":case"MultiPolygon":return ve=Bo(k,g.type==="Polygon"?1:2,te),new ns(ve,d);case"GeometryCollection":for(Ie=0,He=g.geometries.length;Ie<He;Ie++){var nt=Do({geometry:g.geometries[Ie],type:"Feature",properties:a.properties},d);nt&&I.push(nt)}return new Di(I);case"FeatureCollection":for(Ie=0,He=g.features.length;Ie<He;Ie++){var mt=Do(g.features[Ie],d);mt&&I.push(mt)}return new Di(I);default:throw new Error("Invalid GeoJSON object.")}}function hl(a,d,g,k){return a?a(d,g):new Ao(g,k&&k.markersInheritOptions&&k)}function nr(a){return new Le(a[1],a[0],a[2])}function Bo(a,d,g){for(var k=[],I=0,G=a.length,te;I<G;I++)te=d?Bo(a[I],d-1,g):(g||nr)(a[I]),k.push(te);return k}function Fo(a,d){return a=Te(a),a.alt!==void 0?[x(a.lng,d),x(a.lat,d),x(a.alt,d)]:[x(a.lng,d),x(a.lat,d)]}function Ln(a,d,g,k){for(var I=[],G=0,te=a.length;G<te;G++)I.push(d?Ln(a[G],Dn(a[G])?0:d-1,g,k):Fo(a[G],k));return!d&&g&&I.length>0&&I.push(I[0].slice()),I}function En(a,d){return a.feature?i({},a.feature,{geometry:d}):c(d)}function c(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var n={toGeoJSON:function(a){return En(this,{type:"Point",coordinates:Fo(this.getLatLng(),a)})}};Ao.include(n),Ro.include(n),Hs.include(n),bi.include({toGeoJSON:function(a){var d=!Dn(this._latlngs),g=Ln(this._latlngs,d?1:0,!1,a);return En(this,{type:(d?"Multi":"")+"LineString",coordinates:g})}}),ns.include({toGeoJSON:function(a){var d=!Dn(this._latlngs),g=d&&!Dn(this._latlngs[0]),k=Ln(this._latlngs,g?2:d?1:0,!0,a);return d||(k=[k]),En(this,{type:(g?"Multi":"")+"Polygon",coordinates:k})}}),es.include({toMultiPoint:function(a){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(a).geometry.coordinates)}),En(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(a){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(a);var g=d==="GeometryCollection",k=[];return this.eachLayer(function(I){if(I.toGeoJSON){var G=I.toGeoJSON(a);if(g)k.push(G.geometry);else{var te=c(G);te.type==="FeatureCollection"?k.push.apply(k,te.features):k.push(te)}}}),g?En(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});function r(a,d){return new wi(a,d)}var l=r,p=ui.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,d,g){this._url=a,this._bounds=Pe(d),B(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(st(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Yr(this._image),this},bringToBack:function(){return this._map&&Lr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Pe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",d=this._image=a?this._url:gt("img");if(st(d,"leaflet-image-layer"),this._zoomAnimated&&st(d,"leaflet-zoom-animated"),this.options.className&&st(d,this.options.className),d.onselectstart=w,d.onmousemove=w,d.onload=f(this.fire,this,"load"),d.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(a){var d=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Er(this._image,g,d)},_reset:function(){var a=this._image,d=new we(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();Kt(a,d.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),b=function(a,d,g){return new p(a,d,g)},S=p.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",d=this._image=a?this._url:gt("video");if(st(d,"leaflet-image-layer"),this._zoomAnimated&&st(d,"leaflet-zoom-animated"),this.options.className&&st(d,this.options.className),d.onselectstart=w,d.onmousemove=w,d.onloadeddata=f(this.fire,this,"load"),a){for(var g=d.getElementsByTagName("source"),k=[],I=0;I<g.length;I++)k.push(g[I].src);this._url=g.length>0?k:[d.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var G=0;G<this._url.length;G++){var te=gt("source");te.src=this._url[G],d.appendChild(te)}}});function M(a,d,g){return new S(a,d,g)}var U=p.extend({_initImage:function(){var a=this._image=this._url;st(a,"leaflet-image-layer"),this._zoomAnimated&&st(a,"leaflet-zoom-animated"),this.options.className&&st(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function J(a,d,g){return new U(a,d,g)}var ue=ui.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,d){a&&(a instanceof Le||H(a))?(this._latlng=Te(a),B(this,d)):(B(this,a),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ln(this._container,1),this.bringToFront(),this.options.interactive&&(st(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ln(this._container,0),this._removeTimeout=setTimeout(f(Gt,void 0,this._container),200)):Gt(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Te(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yr(this._container),this},bringToBack:function(){return this._map&&Lr(this._container),this},_prepareOpen:function(a){var d=this._source;if(!d._map)return!1;if(d instanceof Di){d=null;var g=this._source._layers;for(var k in g)if(g[k]._map){d=g[k];break}if(!d)return!1;this._source=d}if(!a)if(d.getCenter)a=d.getCenter();else if(d.getLatLng)a=d.getLatLng();else if(d.getBounds)a=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")a.innerHTML=d;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=le(this.options.offset),g=this._getAnchor();this._zoomAnimated?Kt(this._container,a.add(g)):d=d.add(a).add(g);var k=this._containerBottom=-d.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=k+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(a,d,g,k){var I=d;return I instanceof a||(I=new a(k).setContent(d)),g&&I.setLatLng(g),I}}),ui.include({_initOverlay:function(a,d,g,k){var I=g;return I instanceof a?(B(I,k),I._source=this):(I=d&&!k?d:new a(k,this),I.setContent(g)),I}});var fe=ue.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ue.prototype.openOn.call(this,a)},onAdd:function(a){ue.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof tr||this._source.on("preclick",mn))},onRemove:function(a){ue.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof tr||this._source.off("preclick",mn))},getEvents:function(){var a=ue.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",d=this._container=gt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=gt("div",a+"-content-wrapper",d);if(this._contentNode=gt("div",a+"-content",g),Qr(d),Fs(this._contentNode),ot(d,"contextmenu",mn),this._tipContainer=gt("div",a+"-tip-container",d),this._tip=gt("div",a+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=gt("a",a+"-close-button",d);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',ot(k,"click",function(I){Wt(I),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="",d.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var k=a.offsetHeight,I=this.options.maxHeight,G="leaflet-popup-scrolled";I&&k>I?(d.height=I+"px",st(a,G)):Tt(a,G),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Kt(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,d=parseInt(mi(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,k=this._containerWidth,I=new oe(this._containerLeft,-g-this._containerBottom);I._add(Ki(this._container));var G=a.layerPointToContainerPoint(I),te=le(this.options.autoPanPadding),he=le(this.options.autoPanPaddingTopLeft||te),ve=le(this.options.autoPanPaddingBottomRight||te),Ie=a.getSize(),He=0,nt=0;G.x+k+ve.x>Ie.x&&(He=G.x+k-Ie.x+ve.x),G.x-He-he.x<0&&(He=G.x-he.x),G.y+g+ve.y>Ie.y&&(nt=G.y+g-Ie.y+ve.y),G.y-nt-he.y<0&&(nt=G.y-he.y),(He||nt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([He,nt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ce=function(a,d){return new fe(a,d)};at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(a,d,g){return this._initOverlay(fe,a,d,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ui.include({bindPopup:function(a,d){return this._popup=this._initOverlay(fe,this._popup,a,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Di||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ji(a);var d=a.layer||a.target;if(this._popup._source===d&&!(d instanceof tr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=d,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var $e=ue.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ue.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ue.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ue.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",d=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var d,g,k=this._map,I=this._container,G=k.latLngToContainerPoint(k.getCenter()),te=k.layerPointToContainerPoint(a),he=this.options.direction,ve=I.offsetWidth,Ie=I.offsetHeight,He=le(this.options.offset),nt=this._getAnchor();he==="top"?(d=ve/2,g=Ie):he==="bottom"?(d=ve/2,g=0):he==="center"?(d=ve/2,g=Ie/2):he==="right"?(d=0,g=Ie/2):he==="left"?(d=ve,g=Ie/2):te.x<G.x?(he="right",d=0,g=Ie/2):(he="left",d=ve+(He.x+nt.x)*2,g=Ie/2),a=a.subtract(le(d,g,!0)).add(He).add(nt),Tt(I,"leaflet-tooltip-right"),Tt(I,"leaflet-tooltip-left"),Tt(I,"leaflet-tooltip-top"),Tt(I,"leaflet-tooltip-bottom"),st(I,"leaflet-tooltip-"+he),Kt(I,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ln(this._container,a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(d)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),We=function(a,d){return new $e(a,d)};at.include({openTooltip:function(a,d,g){return this._initOverlay($e,a,d,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ui.include({bindTooltip:function(a,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($e,this._tooltip,a,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var d=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Di||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&(ot(d,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ot(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var d=a.latlng,g,k;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),k=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(d)}});var Ke=ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var d=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(To(d),d.appendChild(g.html)):d.innerHTML=g.html!==!1?g.html:"",g.bgPos){var k=le(g.bgPos);d.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function _t(a){return new Ke(a)}ts.Default=Gs;var lt=ui.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){B(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Gt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof oe?a:new oe(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var d=this.getPane().children,g=-a(-1/0,1/0),k=0,I=d.length,G;k<I;k++)G=d[k].style.zIndex,d[k]!==this._container&&G&&(g=a(g,+G));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xe.ielt9){ln(this._container,this.options.opacity);var a=+new Date,d=!1,g=!1;for(var k in this._tiles){var I=this._tiles[k];if(!(!I.current||!I.loaded)){var G=Math.min(1,(a-I.loaded)/200);ln(I.el,G),G<1?d=!0:(I.active?g=!0:this._onOpaqueTile(I),I.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(ee(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,d=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=d-Math.abs(a-g),this._onUpdateLevel(g)):(Gt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var k=this._levels[a],I=this._map;return k||(k=this._levels[a]={},k.el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=d,k.origin=I.project(I.unproject(I.getPixelOrigin()),a).round(),k.zoom=a,this._setZoomTransform(k,I.getCenter(),I.getZoom()),w(k.el.offsetWidth),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)d=this._tiles[a],d.retain=d.current;for(a in this._tiles)if(d=this._tiles[a],d.current&&!d.active){var k=d.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var d in this._tiles)this._tiles[d].coords.z===a&&this._removeTile(d)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Gt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,d,g,k){var I=Math.floor(a/2),G=Math.floor(d/2),te=g-1,he=new oe(+I,+G);he.z=+te;var ve=this._tileCoordsToKey(he),Ie=this._tiles[ve];return Ie&&Ie.active?(Ie.retain=!0,!0):(Ie&&Ie.loaded&&(Ie.retain=!0),te>k?this._retainParent(I,G,te,k):!1)},_retainChildren:function(a,d,g,k){for(var I=2*a;I<2*a+2;I++)for(var G=2*d;G<2*d+2;G++){var te=new oe(I,G);te.z=g+1;var he=this._tileCoordsToKey(te),ve=this._tiles[he];if(ve&&ve.active){ve.retain=!0;continue}else ve&&ve.loaded&&(ve.retain=!0);g+1<k&&this._retainChildren(I,G,g+1,k)}},_resetView:function(a){var d=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var d=this.options;return d.minNativeZoom!==void 0&&a<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<a?d.maxNativeZoom:a},_setView:function(a,d,g,k){var I=Math.round(d);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var G=this.options.updateWhenZooming&&I!==this._tileZoom;(!k||G)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,d)},_setZoomTransforms:function(a,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,d)},_setZoomTransform:function(a,d,g){var k=this._map.getZoomScale(g,a.zoom),I=a.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(d,g)).round();Xe.any3d?Er(a.el,I,k):Kt(a.el,I)},_resetGrid:function(){var a=this._map,d=a.options.crs,g=this._tileSize=this.getTileSize(),k=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,d.wrapLng[0]],k).x/g.x),Math.ceil(a.project([0,d.wrapLng[1]],k).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([d.wrapLat[0],0],k).y/g.x),Math.ceil(a.project([d.wrapLat[1],0],k).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),k=d.getZoomScale(g,this._tileZoom),I=d.project(a,this._tileZoom).floor(),G=d.getSize().divideBy(k*2);return new we(I.subtract(G),I.add(G))},_update:function(a){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(a===void 0&&(a=d.getCenter()),this._tileZoom!==void 0){var k=this._getTiledPixelBounds(a),I=this._pxBoundsToTileRange(k),G=I.getCenter(),te=[],he=this.options.keepBuffer,ve=new we(I.getBottomLeft().subtract([he,-he]),I.getTopRight().add([he,-he]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ie in this._tiles){var He=this._tiles[Ie].coords;(He.z!==this._tileZoom||!ve.contains(new oe(He.x,He.y)))&&(this._tiles[Ie].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var nt=I.min.y;nt<=I.max.y;nt++)for(var mt=I.min.x;mt<=I.max.x;mt++){var Bn=new oe(mt,nt);if(Bn.z=this._tileZoom,!!this._isValidTile(Bn)){var vn=this._tiles[this._tileCoordsToKey(Bn)];vn?vn.current=!0:te.push(Bn)}}if(te.sort(function(Jn,$o){return Jn.distanceTo(G)-$o.distanceTo(G)}),te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Li=document.createDocumentFragment();for(mt=0;mt<te.length;mt++)this._addTile(te[mt],Li);this._level.el.appendChild(Li)}}}},_isValidTile:function(a){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!d.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(a);return Pe(this.options.bounds).overlaps(k)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var d=this._map,g=this.getTileSize(),k=a.scaleBy(g),I=k.add(g),G=d.unproject(k,a.z),te=d.unproject(I,a.z);return[G,te]},_tileCoordsToBounds:function(a){var d=this._tileCoordsToNwSe(a),g=new Oe(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var d=a.split(":"),g=new oe(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(a){var d=this._tiles[a];d&&(Gt(d.el),delete this._tiles[a],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){st(a,"leaflet-tile");var d=this.getTileSize();a.style.width=d.x+"px",a.style.height=d.y+"px",a.onselectstart=w,a.onmousemove=w,Xe.ielt9&&this.options.opacity<1&&ln(a,this.options.opacity)},_addTile:function(a,d){var g=this._getTilePos(a),k=this._tileCoordsToKey(a),I=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(I),this.createTile.length<2&&X(f(this._tileReady,this,a,null,I)),Kt(I,g),this._tiles[k]={el:I,coords:a,current:!0},d.appendChild(I),this.fire("tileloadstart",{tile:I,coords:a})},_tileReady:function(a,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:a});var k=this._tileCoordsToKey(a);g=this._tiles[k],g&&(g.loaded=+new Date,this._map._fadeAnimated?(ln(g.el,0),ee(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(st(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xe.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var d=new oe(this._wrapX?v(a.x,this._wrapX):a.x,this._wrapY?v(a.y,this._wrapY):a.y);return d.z=a.z,d},_pxBoundsToTileRange:function(a){var d=this.getTileSize();return new we(a.min.unscaleBy(d).floor(),a.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Rt(a){return new lt(a)}var qt=lt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,d){this._url=a,d=B(this,d),d.detectRetina&&Xe.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,d){return this._url===a&&d===void 0&&(d=!0),this._url=a,d||this.redraw(),this},createTile:function(a,d){var g=document.createElement("img");return ot(g,"load",f(this._tileOnLoad,this,d,g)),ot(g,"error",f(this._tileOnError,this,d,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var d={r:Xe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(d.y=g),d["-y"]=g}return z(this._url,i(d,this.options))},_tileOnLoad:function(a,d){Xe.ielt9?setTimeout(f(a,this,null,d),0):a(null,d)},_tileOnError:function(a,d,g){var k=this.options.errorTileUrl;k&&d.getAttribute("src")!==k&&(d.src=k),a(g,d)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,d=this.options.maxZoom,g=this.options.zoomReverse,k=this.options.zoomOffset;return g&&(a=d-a),a+k},_getSubdomain:function(a){var d=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var a,d;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(d=this._tiles[a].el,d.onload=w,d.onerror=w,!d.complete)){d.src=T;var g=this._tiles[a].coords;Gt(d),delete this._tiles[a],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(a){var d=this._tiles[a];if(d)return d.el.setAttribute("src",T),lt.prototype._removeTile.call(this,a)},_tileReady:function(a,d,g){if(!(!this._map||g&&g.getAttribute("src")===T))return lt.prototype._tileReady.call(this,a,d,g)}});function cn(a,d){return new qt(a,d)}var ir=qt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,d){this._url=a;var g=i({},this.defaultWmsParams);for(var k in d)k in this.options||(g[k]=d[k]);d=B(this,d);var I=d.detectRetina&&Xe.retina?2:1,G=this.getTileSize();g.width=G.x*I,g.height=G.y*I,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,qt.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._tileCoordsToNwSe(a),g=this._crs,k=Re(g.project(d[0]),g.project(d[1])),I=k.min,G=k.max,te=(this._wmsVersion>=1.3&&this._crs===al?[I.y,I.x,G.y,G.x]:[I.x,I.y,G.x,G.y]).join(","),he=qt.prototype.getTileUrl.call(this,a);return he+q(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+te},setParams:function(a,d){return i(this.wmsParams,a),d||this.redraw(),this}});function Vs(a,d){return new ir(a,d)}qt.WMS=ir,cn.wms=Vs;var ki=ui.extend({options:{padding:.1},initialize:function(a){B(this,a),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),st(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,d){var g=this._map.getZoomScale(d,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,d),G=k.multiplyBy(-g).add(I).subtract(this._map._getNewPixelOrigin(a,d));Xe.any3d?Er(this._container,G,g):Kt(this._container,G)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-a)).round();this._bounds=new we(g,g.add(d.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ya=ki.extend({options:{tolerance:0},getEvents:function(){var a=ki.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ot(a,"mousemove",this._onMouseMove,this),ot(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,Gt(this._container),At(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var d in this._layers)a=this._layers[d],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var a=this._bounds,d=this._container,g=a.getSize(),k=Xe.retina?2:1;Kt(d,a.min),d.width=k*g.x,d.height=k*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",Xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[m(a)]=a;var d=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,g=d.next,k=d.prev;g?g.prev=k:this._drawLast=k,k?k.next=g:this._drawFirst=g,delete a._order,delete this._layers[m(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var d=a.options.dashArray.split(/[, ]+/),g=[],k,I;for(I=0;I<d.length;I++){if(k=Number(d[I]),isNaN(k))return;g.push(k)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var d=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new we,this._redrawBounds.extend(a._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(a._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var d=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)a=k.layer,(!d||a._pxBounds&&a._pxBounds.intersects(d))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,d){if(this._drawing){var g,k,I,G,te=a._parts,he=te.length,ve=this._ctx;if(he){for(ve.beginPath(),g=0;g<he;g++){for(k=0,I=te[g].length;k<I;k++)G=te[g][k],ve[k?"lineTo":"moveTo"](G.x,G.y);d&&ve.closePath()}this._fillStroke(ve,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var d=a._point,g=this._ctx,k=Math.max(Math.round(a._radius),1),I=(Math.max(Math.round(a._radiusY),1)||k)/k;I!==1&&(g.save(),g.scale(1,I)),g.beginPath(),g.arc(d.x,d.y/I,k,0,Math.PI*2,!1),I!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,d){var g=d.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(d.options&&d.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var d=this._map.mouseEventToLayerPoint(a),g,k,I=this._drawFirst;I;I=I.next)g=I.layer,g.options.interactive&&g._containsPoint(d)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(k=g);this._fireEvent(k?[k]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,d)}},_handleMouseOut:function(a){var d=this._hoveredLayer;d&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,d){if(!this._mouseHoverThrottled){for(var g,k,I=this._drawFirst;I;I=I.next)g=I.layer,g.options.interactive&&g._containsPoint(d)&&(k=g);k!==this._hoveredLayer&&(this._handleMouseOut(a),k&&(st(this._container,"leaflet-interactive"),this._fireEvent([k],a,"mouseover"),this._hoveredLayer=k)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,d,g){this._map._fireDOMEvent(d,g||d.type,a)},_bringToFront:function(a){var d=a._order;if(d){var g=d.next,k=d.prev;if(g)g.prev=k;else return;k?k.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(a)}},_bringToBack:function(a){var d=a._order;if(d){var g=d.next,k=d.prev;if(k)k.next=g;else return;g?g.prev=k:k&&(this._drawLast=k),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(a)}}});function Xa(a){return Xe.canvas?new Ya(a):null}var is=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pl={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var d=a._container=is("shape");st(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",a._path=is("path"),d.appendChild(a._path),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){var d=a._container;this._container.appendChild(d),a.options.interactive&&a.addInteractiveTarget(d)},_removePath:function(a){var d=a._container;Gt(d),a.removeInteractiveTarget(d),delete this._layers[m(a)]},_updateStyle:function(a){var d=a._stroke,g=a._fill,k=a.options,I=a._container;I.stroked=!!k.stroke,I.filled=!!k.fill,k.stroke?(d||(d=a._stroke=is("stroke")),I.appendChild(d),d.weight=k.weight+"px",d.color=k.color,d.opacity=k.opacity,k.dashArray?d.dashStyle=H(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=k.lineCap.replace("butt","flat"),d.joinstyle=k.lineJoin):d&&(I.removeChild(d),a._stroke=null),k.fill?(g||(g=a._fill=is("fill")),I.appendChild(g),g.color=k.fillColor||k.color,g.opacity=k.fillOpacity):g&&(I.removeChild(g),a._fill=null)},_updateCircle:function(a){var d=a._point.round(),g=Math.round(a._radius),k=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+k+" 0,"+65535*360)},_setPath:function(a,d){a._path.v=d},_bringToFront:function(a){Yr(a._container)},_bringToBack:function(a){Lr(a._container)}},qs=Xe.vml?is:ge,Sr=ki.extend({_initContainer:function(){this._container=qs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gt(this._container),At(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var a=this._bounds,d=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),Kt(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(a){var d=a._path=qs("path");a.options.className&&st(d,a.options.className),a.options.interactive&&st(d,"leaflet-interactive"),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Gt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[m(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var d=a._path,g=a.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(a,d){this._setPath(a,ke(a._parts,d))},_updateCircle:function(a){var d=a._point,g=Math.max(Math.round(a._radius),1),k=Math.max(Math.round(a._radiusY),1)||g,I="a"+g+","+k+" 0 1,0 ",G=a._empty()?"M0 0":"M"+(d.x-g)+","+d.y+I+g*2+",0 "+I+-g*2+",0 ";this._setPath(a,G)},_setPath:function(a,d){a._path.setAttribute("d",d)},_bringToFront:function(a){Yr(a._path)},_bringToBack:function(a){Lr(a._path)}});Xe.vml&&Sr.include(pl);function zo(a){return Xe.svg||Xe.vml?new Sr(a):null}at.include({getRenderer:function(a){var d=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var d=this._paneRenderers[a];return d===void 0&&(d=this._createRenderer({pane:a}),this._paneRenderers[a]=d),d},_createRenderer:function(a){return this.options.preferCanvas&&Xa(a)||zo(a)}});var Ph=ns.extend({initialize:function(a,d){ns.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Pe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function g0(a,d){return new Ph(a,d)}Sr.create=qs,Sr.pointsToPath=ke,wi.geometryToLayer=Do,wi.coordsToLatLng=nr,wi.coordsToLatLngs=Bo,wi.latLngToCoords=Fo,wi.latLngsToCoords=Ln,wi.getFeature=En,wi.asFeature=c,at.mergeOptions({boxZoom:!0});var Ih=yi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Oi(),Ma(),this._startPoint=this._map.mouseEventToContainerPoint(a),ot(document,{contextmenu:Ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),st(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var d=new we(this._point,this._startPoint),g=d.getSize();Kt(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Gt(this._box),Tt(this._container,"leaflet-crosshair")),Xr(),Ds(),At(document,{contextmenu:Ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var d=new Oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",Ih),at.mergeOptions({doubleClickZoom:!0});var Nh=yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var d=this._map,g=d.getZoom(),k=d.options.zoomDelta,I=a.originalEvent.shiftKey?g-k:g+k;d.options.doubleClickZoom==="center"?d.setZoom(I):d.setZoomAround(a.containerPoint,I)}});at.addInitHook("addHandler","doubleClickZoom",Nh),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mh=yi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new er(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}st(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Pe(this._map.options.maxBounds);this._offsetLimit=Re(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,d){return a-(a-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;a.x<d.min.x&&(a.x=this._viscousLimit(a.x,d.min.x)),a.y<d.min.y&&(a.y=this._viscousLimit(a.y,d.min.y)),a.x>d.max.x&&(a.x=this._viscousLimit(a.x,d.max.x)),a.y>d.max.y&&(a.y=this._viscousLimit(a.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,d=Math.round(a/2),g=this._initialWorldOffset,k=this._draggable._newPos.x,I=(k-d+g)%a+d-g,G=(k+d+g)%a-d-g,te=Math.abs(I+g)<Math.abs(G+g)?I:G;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=te},_onDragEnd:function(a){var d=this._map,g=d.options,k=!g.inertia||a.noInertia||this._times.length<2;if(d.fire("dragend",a),k)d.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),G=(this._lastTime-this._times[0])/1e3,te=g.easeLinearity,he=I.multiplyBy(te/G),ve=he.distanceTo([0,0]),Ie=Math.min(g.inertiaMaxSpeed,ve),He=he.multiplyBy(Ie/ve),nt=Ie/(g.inertiaDeceleration*te),mt=He.multiplyBy(-nt/2).round();!mt.x&&!mt.y?d.fire("moveend"):(mt=d._limitOffset(mt,d.options.maxBounds),X(function(){d.panBy(mt,{duration:nt,easeLinearity:te,noMoveStart:!0,animate:!0})}))}}});at.addInitHook("addHandler","dragging",Mh),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Oh=yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ot(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),At(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,d=document.documentElement,g=a.scrollTop||d.scrollTop,k=a.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(k,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var d=this._panKeys={},g=this.keyCodes,k,I;for(k=0,I=g.left.length;k<I;k++)d[g.left[k]]=[-1*a,0];for(k=0,I=g.right.length;k<I;k++)d[g.right[k]]=[a,0];for(k=0,I=g.down.length;k<I;k++)d[g.down[k]]=[0,a];for(k=0,I=g.up.length;k<I;k++)d[g.up[k]]=[0,-1*a]},_setZoomDelta:function(a){var d=this._zoomKeys={},g=this.keyCodes,k,I;for(k=0,I=g.zoomIn.length;k<I;k++)d[g.zoomIn[k]]=a;for(k=0,I=g.zoomOut.length;k<I;k++)d[g.zoomOut[k]]=-a},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){At(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var d=a.keyCode,g=this._map,k;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(k=this._panKeys[d],a.shiftKey&&(k=le(k).multiplyBy(3)),g.options.maxBounds&&(k=g._limitOffset(le(k),g.options.maxBounds)),g.options.worldCopyJump){var I=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(k)));g.panTo(I)}else g.panBy(k)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Ji(a)}}});at.addInitHook("addHandler","keyboard",Oh),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ah=yi.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var d=Ba(a),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var k=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),k),Ji(a)},_performZoom:function(){var a=this._map,d=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var k=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(k))))/Math.LN2,G=g?Math.ceil(I/g)*g:I,te=a._limitZoom(d+(this._delta>0?G:-G))-d;this._delta=0,this._startTime=null,te&&(a.options.scrollWheelZoom==="center"?a.setZoom(d+te):a.setZoomAround(this._lastMousePos,d+te))}});at.addInitHook("addHandler","scrollWheelZoom",Ah);var _0=600;at.mergeOptions({tapHold:Xe.touchNative&&Xe.safari&&Xe.mobile,tapTolerance:15});var Rh=yi.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var d=a.touches[0];this._startPos=this._newPos=new oe(d.clientX,d.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",Wt),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),_0),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){At(document,"touchend",Wt),At(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)},_onMove:function(a){var d=a.touches[0];this._newPos=new oe(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,d){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});at.addInitHook("addHandler","tapHold",Rh),at.mergeOptions({touchZoom:Xe.touch,bounceAtZoomLimits:!0});var Dh=yi.extend({addHooks:function(){st(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(!(!a.touches||a.touches.length!==2||d._animatingZoom||this._zooming)){var g=d.mouseEventToContainerPoint(a.touches[0]),k=d.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(k)._divideBy(2))),this._startDist=g.distanceTo(k),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),Wt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var d=this._map,g=d.mouseEventToContainerPoint(a.touches[0]),k=d.mouseEventToContainerPoint(a.touches[1]),I=g.distanceTo(k)/this._startDist;if(this._zoom=d.getScaleZoom(I,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&I<1||this._zoom>d.getMaxZoom()&&I>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var G=g._add(k)._divideBy(2)._subtract(this._centerPoint);if(I===1&&G.x===0&&G.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(G),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var te=f(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(te,this,!0),Wt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});at.addInitHook("addHandler","touchZoom",Dh),at.BoxZoom=Ih,at.DoubleClickZoom=Nh,at.Drag=Mh,at.Keyboard=Oh,at.ScrollWheelZoom=Ah,at.TapHold=Rh,at.TouchZoom=Dh,s.Bounds=we,s.Browser=Xe,s.CRS=ce,s.Canvas=Ya,s.Circle=Ro,s.CircleMarker=Hs,s.Class=j,s.Control=ai,s.DivIcon=Ke,s.DivOverlay=ue,s.DomEvent=ad,s.DomUtil=Co,s.Draggable=er,s.Evented=re,s.FeatureGroup=Di,s.GeoJSON=wi,s.GridLayer=lt,s.Handler=yi,s.Icon=ts,s.ImageOverlay=p,s.LatLng=Le,s.LatLngBounds=Oe,s.Layer=ui,s.LayerGroup=es,s.LineUtil=qa,s.Map=at,s.Marker=Ao,s.Mixin=dd,s.Path=tr,s.Point=oe,s.PolyUtil=Rn,s.Polygon=ns,s.Polyline=bi,s.Popup=fe,s.PosAnimation=Fa,s.Projection=hd,s.Rectangle=Ph,s.Renderer=ki,s.SVG=Sr,s.SVGOverlay=U,s.TileLayer=qt,s.Tooltip=$e,s.Transformation=Me,s.Util=K,s.VideoOverlay=S,s.bind=f,s.bounds=Re,s.canvas=Xa,s.circle=vd,s.circleMarker=dl,s.control=_n,s.divIcon=_t,s.extend=i,s.featureGroup=ll,s.geoJSON=r,s.geoJson=l,s.gridLayer=Rt,s.icon=gd,s.imageOverlay=b,s.latLng=Te,s.latLngBounds=Pe,s.layerGroup=ul,s.map=No,s.marker=_d,s.point=le,s.polygon=fl,s.polyline=Za,s.popup=Ce,s.rectangle=g0,s.setOptions=B,s.stamp=m,s.svg=zo,s.svgOverlay=J,s.tileLayer=cn,s.tooltip=We,s.transformation=N,s.version=o,s.videoOverlay=M;var v0=window.L;s.noConflict=function(){return window.L=v0,this},window.L=s})}(lu,lu.exports)),lu.exports}var St=YP();const us=Sh(St);function XP(e){var t=Math.floor(Math.random()*e.length);return e[t]}function KP(e,t,s,o){let i=gs.stringify(e);if(s=="marker"||s=="polyline"){var u=Df(e,o);i=gs.stringify(u)}if(s=="circle"){var u=Df(e,t/1e3);i=gs.stringify(u)}return i}function JP(e){const t=localStorage.getItem("mapState");if(t){const s=JSON.parse(t);e.setView([s.center.lat,s.center.lng],s.zoom)}else e.setView([48.8566,2.3522],13)}const QP={__name:"SingleButtonAudioPlayer",props:{audio:{type:Wi,required:!0}},setup(e){const t=e,s=new Audio(t.audio.url),o=ze(!1);s.addEventListener("ended",u=>{s.currentTime=0,o.value=!1});function i(){o.value?(s.pause(),s.currentTime=0,o.value=!1):(s.play(),o.value=!0)}return(u,f)=>(Ee(),Be("i",{onClick:f[0]||(f[0]=h=>i()),class:Nt(o.value?"bi bi-pause-circle":"bi bi-play-circle")},null,2))}},yr=(e,t)=>{const s=e.__vccOpts||e;for(const[o,i]of t)s[o]=i;return s},eI={class:"col card thumbnail"},tI=["src","alt","title"],nI={class:"card-img-overlay"},iI={class:"card-title h6"},rI=["href"],sI={class:"player"},oI={__name:"TaxonThumbnail",props:{picture:{type:Wi},audio:{type:Wi},vernacularName:{type:String},acceptedScientificName:{type:String},urlDetailPage:{type:String}},setup(e){const t=e;return an("audio"),(s,o)=>{var f,h,m;const i=QP,u=Rv;return Ee(),Be("div",eI,[pe("img",{class:"card-img",src:(f=t.picture)==null?void 0:f.url,alt:(h=t.picture)==null?void 0:h.url,title:"Source: "+((m=t.picture)==null?void 0:m.source)},null,8,tI),pe("div",nI,[pe("div",iI,[pe("a",{style:{color:"inherit","text-decoration":"inherit"},href:t.urlDetailPage,target:"_blank"},[pe("span",null,qe(t.vernacularName),1)],8,rI),pe("div",sI,[t.audio?(Ee(),dt(i,{key:0,audio:t.audio},null,8,["audio"])):yt("",!0)]),t.picture.source?(Ee(),dt(u,{key:0,click:!0,"close-on-hide":!0,delay:{show:0,hide:0}},{target:et(()=>o[0]||(o[0]=[pe("i",{class:"bi bi-c-square-fill copyright-icon"},null,-1)])),default:et(()=>[it(" "+qe(t.picture.source),1)]),_:1})):yt("",!0)])])])}}},aI=yr(oI,[["__scopeId","data-v-cce99c75"]]),uI={class:"col"},lI={class:"card h-100 mb-2"},cI=["src","alt","title"],dI={key:0,class:"caption"},fI={class:"card-body"},hI={class:"card-text"},pI={class:"card-title text-wrap"},mI={class:"text-body-secondary"},gI={key:0,class:"text-body-secondary"},_I={class:"text-body-secondary"},vI=["href"],yI=["src"],bI={class:"card-footer"},wI={class:"text-body-secondary"},kI={__name:"TaxonDetailed",props:{picture:{type:Wi},audio:{type:Wi},vernacularName:{type:String},acceptedScientificName:{type:String},urlDetailPage:{type:String},nbObservations:{type:Number},lastSeenDate:{type:Object}},setup(e){const t=e;return(s,o)=>{var i,u,f;return Ee(),Be("div",uI,[pe("div",lI,[pe("div",{class:Nt(["taxon-photo",t.picture.url?"":"placeholder"])},[pe("img",{src:(i=t.picture)==null?void 0:i.url,alt:(u=t.picture)==null?void 0:u.url,title:"Source: "+((f=t.picture)==null?void 0:f.source)},null,8,cI),t.picture.source?(Ee(),Be("span",dI,qe(t.picture.source),1)):yt("",!0)],2),pe("div",fI,[pe("div",hI,[pe("h5",pI,qe(t.vernacularName),1),pe("small",mI,[pe("strong",null,qe(s.$t("taxon.scientificName"))+" :",1),it(" "+qe(t.acceptedScientificName),1)]),o[1]||(o[1]=pe("br",null,null,-1)),t.nbObservations?(Ee(),Be("small",gI,[pe("strong",null,qe(s.$t("taxon.nbObservations"))+" : ",1),it(qe(t.nbObservations),1)])):yt("",!0),o[2]||(o[2]=pe("br",null,null,-1)),pe("small",_I,[pe("a",{href:t.urlDetailPage,target:"_blank",class:"badge bg-light text-primary border border-primary text-decoration-none"},[pe("strong",null,[it(qe(s.$t("taxon.seeMore"))+" ",1),o[0]||(o[0]=pe("i",{class:"bi bi-arrow-right"},null,-1))])],8,vI)]),o[3]||(o[3]=pe("br",null,null,-1)),t.audio?(Ee(),Be("audio",{key:1,class:"audio",controls:"",src:t.audio.url,ref:"audio"},null,8,yI)):yt("",!0)])]),pe("div",bI,[pe("small",wI,qe(s.$t("taxon.lastSeenDate"))+" : "+qe(t==null?void 0:t.lastSeenDate.toLocaleDateString()),1)])])])}}},LI=yr(kI,[["__scopeId","data-v-af8df209"]]),EI={__name:"TaxonView",props:{taxon:kh},setup(e){const{mode:t,connector:s,lang:o}=Sn.getInstance(),u=e.taxon,f=ze([]),h=ze(null),m=ze(u.vernacularName);function y(){f.value=[],u.taxonId&&s.value.imageSource.fetchPicture(u.taxonId,s.value).then(P=>{f.value=P})}function v(){h.value=null,u.taxonId&&s.value.soundSource.fetchSound(u.taxonId,s.value).then(P=>{h.value=P})}const w=de(()=>f.value?f.value.length==0?new Wi({url:bc,typeMedia:"image"}):XP(f.value):new Wi({url:bc,typeMedia:"image"}));function x(){s.value.fetchVernacularName(u.taxonId).then(P=>{P&&(m.value=P.split(",")[0])})}return y(),v(),x(),tt(o,()=>{x()}),(P,O)=>{var B,q;return W(t)=="gallery"?(Ee(),dt(aI,{key:0,picture:w.value,audio:h.value,"vernacular-name":m.value||W(u).acceptedScientificName,"url-detail-page":W(s).getTaxonDetailPage(W(u).taxonId),"accepted-scientific-name":W(u).acceptedScientificName},null,8,["picture","audio","vernacular-name","url-detail-page","accepted-scientific-name"])):(Ee(),dt(LI,{key:1,picture:w.value,audio:h.value,"accepted-scientific-name":W(u).acceptedScientificName,"vernacular-name":m.value||W(u).acceptedScientificName,"url-detail-page":W(s).getTaxonDetailPage(W(u).taxonId),"nb-observations":(B=W(u))==null?void 0:B.nbObservations,"last-seen-date":(q=W(u))==null?void 0:q.lastSeenDate},null,8,["picture","audio","accepted-scientific-name","vernacular-name","url-detail-page","nb-observations","last-seen-date"]))}}},TI={id:"taxon-list",class:"card"},xI={key:0,class:"card-header"},SI={class:"card-body"},CI={key:0,id:"no-geometry-message",class:"col-6"},PI={key:1,id:"no-observations-message"},II={key:2,id:"loading-error",class:"col-6 bg-danger"},NI={key:0,class:"justify-content-center toggleMode"},MI={key:0,class:"fa-solid fa-list"},OI={key:1,class:"fa-solid fa-grip-vertical"},AI={id:"data-source-credits"},RI={__name:"TaxonList",props:{nbTaxonPerLine:{type:Number,default:1},showFilters:{type:Boolean,default:!0},sortBy:{type:String,default:"nbObservations",validator:e=>["vernacularName","acceptedScientificName","nbObservations","lastSeenDate"].includes(e)},order:{type:String,default:"desc",validator:e=>["asc","desc"].includes(e)},mode:{type:String,validator:e=>Object.keys($r).includes(e)}},setup(e){const{t}=mr(),{hybridTaxonList:s,wkt:o,dateMin:i,dateMax:u,nbTaxonPerLine:f,showFilters:h,connector:m,mode:y}=Sn.getInstance(),v=Sn.getInstance().class,w=e,x=ze([]);f.value=w.nbTaxonPerLine??f;let P=!1,O=!1;const B=ze(0),q=ze(w.sortBy||"lastSeenDate"),A=ze(w.order||"desc"),z=ze(""),H=[{field_name:"vernacularName",label:t("taxon.vernacularName")},{field_name:"acceptedScientificName",label:t("taxon.scientificName")},{field_name:"nbObservations",label:t("taxon.nbObservations")},{field_name:"lastSeenDate",label:t("taxon.lastSeenDate")}];y.value=w.mode??y.value;function _(){y.value=y.value==$r.gallery?$r.detailedList:$r.gallery}const T=de(()=>{const D=y.value==="gallery"?2:1,R=f.value*D,X=f.value===1?1:R/2;return`row row-cols-${D} row-cols-lg-${R} row-cols-md-${X} g-4`}),E=de(()=>{let D=x.value;return z.value&&(D=x.value.filter(R=>(R!=null&&R.vernacularName?`${R.vernacularName} ${R.acceptedScientificName}`:R.acceptedScientificName||"incertae sedis").toLowerCase().includes(z.value.toLowerCase()))),tS(D,{by:q.value,order:A.value}).slice(0,(B.value+1)*20)}),C=D=>{D.length&&(P=!0,O=!1,x.value=[],m.value.fetchOccurrence({geometry:D,dateMin:i.value,dateMax:u.value,class:v.value}).then(R=>{x.value=Object.values(R),x.value.length,P=!1,B.value=0}).catch(()=>{P=!1,O=!0}))};tt(z,()=>{B.value=0});function F(D){const R=D.target;R.scrollTop+R.clientHeight>=R.scrollHeight-50&&B.value++}return tt([o,v,i,u,m],()=>{x.value=[],o.value&&C(o.value)}),o.value&&C(o.value),(D,R)=>{const X=sE;return Ee(),Be("div",TI,[W(h)?(Ee(),Be("div",xI,[Ue(zx,{"onUpdate:searchString":R[0]||(R[0]=ee=>z.value=ee)}),Ue(Bx,{"sort-by-available":H,"onUpdate:sortBy":R[1]||(R[1]=ee=>q.value=ee),"onUpdate:orderBy":R[2]||(R[2]=ee=>A.value=ee),sortBy:q.value,orderBy:A.value},null,8,["sortBy","orderBy"])])):yt("",!0),pe("div",SI,[Ue(Mx,{id:"loadingObs",loadingStatus:W(P)},null,8,["loadingStatus"]),!W(o).length&&!W(P)&&!W(O)?(Ee(),Be("div",CI,[pe("h5",null,qe(D.$t("drawGeometry")),1),R[4]||(R[4]=pe("h5",null,[pe("i",{class:"bi bi-square-fill"}),it(),pe("i",{class:"bi bi-hexagon-fill"}),pe("i",{class:"bi bi-circle-fill"}),it(),pe("i",{class:"bi bi-geo-fill"})],-1))])):yt("",!0),W(o).length&&!W(P)&&!W(O)&&!x.value.length?(Ee(),Be("div",PI,qe(D.$t("noSpeciesObserved")),1)):yt("",!0),W(O)?(Ee(),Be("div",II,R[5]||(R[5]=[pe("h5",null,[pe("i",{class:"bi bi-bug"}),it(" Erreur de chargement des données")],-1)]))):yt("",!0),pe("div",{id:"taxon-list-content",class:Nt(T.value),onScroll:F},[W(s)?(Ee(),Be("div",NI,[pe("button",{class:"btn btn-secondary",onClick:R[3]||(R[3]=ee=>_())},[W(y)==="gallery"?(Ee(),Be("i",MI)):(Ee(),Be("i",OI))])])):yt("",!0),(Ee(!0),Be(ft,null,dr(E.value,ee=>(Ee(),dt(EI,{key:ee.taxonId,taxon:ee},null,8,["taxon"]))),128))],34)]),pe("div",AI,[it(qe(D.$t("source.title"))+" "+qe(W(m).name)+" ",1),W(m).sourceDetailMessage()?(Ee(),dt(X,{key:0},{target:et(()=>R[6]||(R[6]=[pe("a",{style:{color:"white","text-decoration":"underline"}},[pe("i",{class:"bi bi-info-circle"})],-1)])),default:et(()=>[it(" "+qe(W(m).sourceDetailMessage()),1)]),_:1})):yt("",!0)])])}}},d0=yr(RI,[["__scopeId","data-v-3849e287"]]);(function(e,t,s){function o(i,u){for(;(i=i.parentElement)&&!i.classList.contains(u););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,u){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,u&&u.shapeOptions&&(u.shapeOptions=L.Util.extend({},this.options.shapeOptions,u.shapeOptions)),L.setOptions(this,u);var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),u=this._poly,f=u.getLatLngs(),h=f.splice(-1,1)[0];this._poly.setLatLngs(f),this._markerGroup.removeLayer(i),u.getLatLngs().length<2&&this._map.removeLayer(u),this._vertexChanged(h,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),u=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&u||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var u=this._map.mouseEventToLayerPoint(i.originalEvent),f=this._map.layerPointToLatLng(u);this._currentLatLng=f,this._updateTooltip(f),this._updateGuide(u),this._mouseMarker.setLatLng(f),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,u){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,u),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var u=i.originalEvent,f=u.clientX,h=u.clientY;this._startPoint.call(this,f,h)}},_startPoint:function(i,u){this._mouseDownOrigin=L.point(i,u)},_onMouseUp:function(i){var u=i.originalEvent,f=u.clientX,h=u.clientY;this._endPoint.call(this,f,h,i),this._clickHandled=null},_endPoint:function(i,u,f){if(this._mouseDownOrigin){var h=L.point(i,u).distanceTo(this._mouseDownOrigin),m=this._calculateFinishDistance(f.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(f.latlng),this._finishShape()):m<10&&L.Browser.touch?this._finishShape():Math.abs(h)<9*(e.devicePixelRatio||1)&&this.addVertex(f.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var u,f,h=i.originalEvent;!h.touches||!h.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(u=h.touches[0].clientX,f=h.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,u,f),this._endPoint.call(this,u,f,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var u;if(this._markers.length>0){var f;if(this.type===L.Draw.Polyline.TYPE)f=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;f=this._markers[0]}var h=this._map.latLngToContainerPoint(f.getLatLng()),m=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),y=this._map.latLngToContainerPoint(m.getLatLng());u=h.distanceTo(y)}else u=1/0;return u},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var u=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(u),u},_updateGuide:function(i){var u=this._markers?this._markers.length:0;u>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[u-1].getLatLng()),i))},_updateTooltip:function(i){var u=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(u)},_drawGuide:function(i,u){var f,h,m,y=Math.floor(Math.sqrt(Math.pow(u.x-i.x,2)+Math.pow(u.y-i.y,2))),v=this.options.guidelineDistance,w=this.options.maxGuideLineLength,x=y>w?y-w:v;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));x<y;x+=this.options.guidelineDistance)f=x/y,h={x:Math.floor(i.x*(1-f)+f*u.x),y:Math.floor(i.y*(1-f)+f*u.y)},m=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),m.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(m,h)},_updateGuideColor:function(i){if(this._guidesContainer)for(var u=0,f=this._guidesContainer.childNodes.length;u<f;u++)this._guidesContainer.childNodes[u].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,u,f=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(u=f?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:u}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:u}),i},_updateRunningMeasure:function(i,u){var f,h,m=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(f=m-(u?2:1),h=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[f].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[f].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=h*(u?1:-1))},_getMeasurementString:function(){var i,u=this._currentLatLng,f=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?f&&u&&u.distanceTo?this._measurementRunningTotal+u.distanceTo(f)*(this.options.factor||1):this._measurementRunningTotal||0:f&&u?this._measurementRunningTotal+this._map.distance(u,f)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,u){L.Draw.Polyline.prototype.initialize.call(this,i,u),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,u;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,u=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,u=this._getMeasurementString()),{text:i,subtext:u}},_getMeasurementString:function(){var i=this._area,u="";return i||this.options.showLength?(this.options.showLength&&(u=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(u+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),u):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,u){var f;!this.options.allowIntersection&&this.options.showArea&&(f=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(f)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,u)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,u){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var u=i.latlng;this._tooltip.updatePosition(u),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(u))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,u){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,u)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!o(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,u,f,h=L.Draw.SimpleShape.prototype._getTooltipText.call(this),m=this._shape,y=this.options.showArea;return m&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),u=L.GeometryUtil.geodesicArea(i),f=y?L.GeometryUtil.readableArea(u,this.options.metric):""),{text:h.text,subtext:f}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,u){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var u=i.latlng;this._tooltip.updatePosition(u),this._mouseMarker.setLatLng(u),this._marker?(u=this._mouseMarker.getLatLng(),this._marker.setLatLng(u)):(this._marker=this._createMarker(u),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,u){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,u)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,u){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,u)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var u=this._startLatLng.distanceTo(i);else var u=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(u):(this._shape=new L.Circle(this._startLatLng,u,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var u,f=i.latlng,h=this.options.showRadius,m=this.options.metric;if(this._tooltip.updatePosition(f),this._isDrawing){this._drawShape(f),u=this._shape.getRadius().toFixed(1);var y="";h&&(y=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(u,m,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:y})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,u){this._marker=i,L.setOptions(this,u)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var u=i.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,u){var f=parseInt(i.style.marginTop,10)-u,h=parseInt(i.style.marginLeft,10)-u;i.style.marginTop=f+"px",i.style.marginLeft=h+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var u=0;u<this._verticesHandlers.length;u++)i(this._verticesHandlers[u])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,u,f){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,f&&f.drawError&&(f.drawError=L.Util.extend({},this.options.drawError,f.drawError)),this._latlngs=u,L.setOptions(this,f)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,u=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),u&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(f){L.DomUtil.removeClass(u,f)}),i.options.editing.className.split(" ").forEach(function(f){L.DomUtil.addClass(u,f)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,u=i._path;u&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(f){L.DomUtil.removeClass(u,f)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(f){L.DomUtil.addClass(u,f)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,u,f,h,m=this._defaultShape();for(i=0,f=m.length;i<f;i++)h=this._createMarker(m[i],i),h.on("click",this._onMarkerClick,this),h.on("contextmenu",this._onContextMenu,this),this._markers.push(h);var y,v;for(i=0,u=f-1;i<f;u=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(y=this._markers[u],v=this._markers[i],this._createMiddleMarker(y,v),this._updatePrevNext(y,v))},_createMarker:function(i,u){var f=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return f._origLatLng=i,f._index=u,f.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(f),f},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),u=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),u},_removeMarker:function(i){var u=i._index;this._markerGroup.removeLayer(i),this._markers.splice(u,1),this._spliceLatLngs(u,1),this._updateIndexes(u,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var u=i.target,f=this._poly,h=L.LatLngUtil.cloneLatLng(u._origLatLng);if(L.extend(u._origLatLng,u._latlng),f.options.poly){var m=f._map._editTooltip;if(!f.options.poly.allowIntersection&&f.intersects()){L.extend(u._origLatLng,h),u.setLatLng(h);var y=f.options.color;f.setStyle({color:this.options.drawError.color}),m&&m.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){f.setStyle({color:y}),m&&m.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}u._middleLeft&&u._middleLeft.setLatLng(this._getMiddleLatLng(u._prev,u)),u._middleRight&&u._middleRight.setLatLng(this._getMiddleLatLng(u,u._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var v=this._poly.getLatLngs();this._poly._convertLatLngs(v,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var u=L.Polygon&&this._poly instanceof L.Polygon?4:3,f=i.target;this._defaultShape().length<u||(this._removeMarker(f),this._updatePrevNext(f._prev,f._next),f._middleLeft&&this._markerGroup.removeLayer(f._middleLeft),f._middleRight&&this._markerGroup.removeLayer(f._middleRight),f._prev&&f._next?this._createMiddleMarker(f._prev,f._next):f._prev?f._next||(f._prev._middleRight=null):f._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var u=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:u,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var u=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),f=this._map.layerPointToLatLng(u),h=i.target;L.extend(h._origLatLng,f),h._middleLeft&&h._middleLeft.setLatLng(this._getMiddleLatLng(h._prev,h)),h._middleRight&&h._middleRight.setLatLng(this._getMiddleLatLng(h,h._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,u){this._markerGroup.eachLayer(function(f){f._index>i&&(f._index+=u)})},_createMiddleMarker:function(i,u){var f,h,m,y=this._getMiddleLatLng(i,u),v=this._createMarker(y);v.setOpacity(.6),i._middleRight=u._middleLeft=v,h=function(){v.off("touchmove",h,this);var w=u._index;v._index=w,v.off("click",f,this).on("click",this._onMarkerClick,this),y.lat=v.getLatLng().lat,y.lng=v.getLatLng().lng,this._spliceLatLngs(w,0,y),this._markers.splice(w,0,v),v.setOpacity(1),this._updateIndexes(w,1),u._index++,this._updatePrevNext(i,v),this._updatePrevNext(v,u),this._poly.fire("editstart")},m=function(){v.off("dragstart",h,this),v.off("dragend",m,this),v.off("touchmove",h,this),this._createMiddleMarker(i,v),this._createMiddleMarker(v,u)},f=function(){h.call(this),m.call(this),this._fireEdit()},v.on("click",f,this).on("dragstart",h,this).on("dragend",m,this).on("touchmove",h,this),this._markerGroup.addLayer(v)},_updatePrevNext:function(i,u){i&&(i._next=u),u&&(u._prev=i)},_getMiddleLatLng:function(i,u){var f=this._poly._map,h=f.project(i.getLatLng()),m=f.project(u.getLatLng());return f.unproject(h._add(m)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,u){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,u)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var u=0,f=this._resizeMarkers.length;u<f;u++)this._unbindMarker(this._resizeMarkers[u]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,u){var f=new L.Marker.Touch(i,{draggable:!0,icon:u,zIndexOffset:10});return this._bindMarker(f),this._markerGroup.addLayer(f),f},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var u=i.target,f=u.getLatLng();u===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var u=this._getCorners(),f=i.target,h=f._cornerIndex;f.setOpacity(0),this._oppositeCorner=u[(h+2)%4],this._toggleCornerMarkers(0,h)}this._shape.fire("editstart")},_onTouchMove:function(i){var u=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),f=this._map.layerPointToLatLng(u);return i.target===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),u=i.getCenter();this._moveMarker=this._createMarker(u,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var u=0,f=i.length;u<f;u++)this._resizeMarkers.push(this._createMarker(i[u],this.options.resizeIcon)),this._resizeMarkers[u]._cornerIndex=u},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var u=this._getCorners(),f=i.target,h=f._cornerIndex;this._oppositeCorner=u[(h+2)%4],this._toggleCornerMarkers(0,h)},_onMarkerDragEnd:function(i){var u,f,h=i.target;h===this._moveMarker&&(u=this._shape.getBounds(),f=u.getCenter(),h.setLatLng(f)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var u,f=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),h=this._shape.getBounds(),m=h.getCenter(),y=[],v=0,w=f.length;v<w;v++)u=[f[v].lat-m.lat,f[v].lng-m.lng],y.push([i.lat+u[0],i.lng+u[1]]);this._shape.setLatLngs(y),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var u;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),u=this._shape.getBounds(),this._moveMarker.setLatLng(u.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var u=0,f=this._resizeMarkers.length;u<f;u++)this._resizeMarkers[u].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),u=0,f=this._resizeMarkers.length;u<f;u++)this._resizeMarkers[u].setLatLng(i[u])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var u=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(u)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),u=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(u,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var u=this._shape._radius*Math.cos(Math.PI/4),f=this._map.project(i);return this._map.unproject([f.x+u,f.y-u])},_resize:function(i){var u=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=u.distanceTo(i):radius=this._map.distance(u,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,u){var f={};if(i.touches!==void 0){if(!i.touches.length)return;f=i.touches[0]}else if(i.pointerType!=="touch"||(f=i,!this._filterClick(i)))return;var h=this._map.mouseEventToContainerPoint(f),m=this._map.mouseEventToLayerPoint(f),y=this._map.layerPointToLatLng(m);this._map.fire(u,{latlng:y,layerPoint:m,containerPoint:h,pageX:f.pageX,pageY:f.pageY,originalEvent:i})},_filterClick:function(i){var u=i.timeStamp||i.originalEvent.timeStamp,f=L.DomEvent._lastClick&&u-L.DomEvent._lastClick;return f&&f>100&&f<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=u,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var u="touchcancel";this._detectIE()&&(u="pointercancel"),this._touchEvent(i,u)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=e.navigator.userAgent,u=i.indexOf("MSIE ");if(u>0)return parseInt(i.substring(u+5,i.indexOf(".",u)),10);if(i.indexOf("Trident/")>0){var f=i.indexOf("rv:");return parseInt(i.substring(f+3,i.indexOf(".",f)),10)}var h=i.indexOf("Edge/");return h>0&&parseInt(i.substring(h+5,i.indexOf(".",h)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,u=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?u.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):u.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var f=0;f<u.length;f++)L.DomEvent.on(i,u[f],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=e.navigator.userAgent,u=i.indexOf("MSIE ");if(u>0)return parseInt(i.substring(u+5,i.indexOf(".",u)),10);if(i.indexOf("Trident/")>0){var f=i.indexOf("rv:");return parseInt(i.substring(f+3,i.indexOf(".",f)),10)}var h=i.indexOf("Edge/");return h>0&&parseInt(i.substring(h+5,i.indexOf(".",h)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var u=[],f=0,h=i.length;f<h;f++)Array.isArray(i[f])?u.push(L.LatLngUtil.cloneLatLngs(i[f])):u.push(this.cloneLatLng(i[f]));return u},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(u){var f,h,m=u.length,y=0,v=Math.PI/180;if(m>2){for(var w=0;w<m;w++)f=u[w],h=u[(w+1)%m],y+=(h.lng-f.lng)*v*(2+Math.sin(f.lat*v)+Math.sin(h.lat*v));y=6378137*y*6378137/2}return Math.abs(y)},formattedNumber:function(u,f){var h=parseFloat(u).toFixed(f),m=L.drawLocal.format&&L.drawLocal.format.numeric,y=m&&m.delimiters,v=y&&y.thousands,w=y&&y.decimal;if(v||w){var x=h.split(".");h=v?x[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v):x[0],w=w||".",x.length>1&&(h=h+w+x[1])}return h},readableArea:function(u,f,v){var m,y,v=L.Util.extend({},i,v);return f?(y=["ha","m"],type=typeof f,type==="string"?y=[f]:type!=="boolean"&&(y=f),m=u>=1e6&&y.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*u,v.km)+" km²":u>=1e4&&y.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*u,v.ha)+" ha":L.GeometryUtil.formattedNumber(u,v.m)+" m²"):(u/=.836127,m=u>=3097600?L.GeometryUtil.formattedNumber(u/3097600,v.mi)+" mi²":u>=4840?L.GeometryUtil.formattedNumber(u/4840,v.ac)+" acres":L.GeometryUtil.formattedNumber(u,v.yd)+" yd²"),m},readableDistance:function(u,f,h,m,w){var v,w=L.Util.extend({},i,w);switch(f?typeof f=="string"?f:"metric":h?"feet":m?"nauticalMile":"yards"){case"metric":v=u>1e3?L.GeometryUtil.formattedNumber(u/1e3,w.km)+" km":L.GeometryUtil.formattedNumber(u,w.m)+" m";break;case"feet":u*=3.28083,v=L.GeometryUtil.formattedNumber(u,w.ft)+" ft";break;case"nauticalMile":u*=.53996,v=L.GeometryUtil.formattedNumber(u/1e3,w.nm)+" nm";break;case"yards":default:u*=1.09361,v=u>1760?L.GeometryUtil.formattedNumber(u/1760,w.mi)+" miles":L.GeometryUtil.formattedNumber(u,w.yd)+" yd"}return v},isVersion07x:function(){var u=L.version.split(".");return parseInt(u[0],10)===0&&parseInt(u[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,u,f,h){return this._checkCounterclockwise(i,f,h)!==this._checkCounterclockwise(u,f,h)&&this._checkCounterclockwise(i,u,f)!==this._checkCounterclockwise(i,u,h)},_checkCounterclockwise:function(i,u,f){return(f.y-i.y)*(u.x-i.x)>(u.y-i.y)*(f.x-i.x)}}),L.Polyline.include({intersects:function(){var i,u,f,h=this._getProjectedPoints(),m=h?h.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=m-1;i>=3;i--)if(u=h[i-1],f=h[i],this._lineSegmentsIntersectsRange(u,f,i-2))return!0;return!1},newLatLngIntersects:function(i,u){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),u)},newPointIntersects:function(i,u){var f=this._getProjectedPoints(),h=f?f.length:0,m=f?f[h-1]:null,y=h-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(m,i,y,u?1:0)},_tooFewPointsForIntersection:function(i){var u=this._getProjectedPoints(),f=u?u.length:0;return f+=i||0,!u||f<=3},_lineSegmentsIntersectsRange:function(i,u,f,h){var m,y,v=this._getProjectedPoints();h=h||0;for(var w=f;w>h;w--)if(m=v[w-1],y=v[w],L.LineUtil.segmentsIntersect(i,u,m,y))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],u=this._defaultShape(),f=0;f<u.length;f++)i.push(this._map.latLngToLayerPoint(u[f]));return i}}),L.Polygon.include({intersects:function(){var i,u,f,h,m=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=m.length,u=m[0],f=m[i-1],h=i-2,this._lineSegmentsIntersectsRange(f,u,h,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var u;this._toolbars={},L.DrawToolbar&&this.options.draw&&(u=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=u,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(u=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=u,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var u,f=L.DomUtil.create("div","leaflet-draw"),h=!1;for(var m in this._toolbars)this._toolbars.hasOwnProperty(m)&&(u=this._toolbars[m].addToolbar(i))&&(h||(L.DomUtil.hasClass(u,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(u.childNodes[0],"leaflet-draw-toolbar-top"),h=!0),f.appendChild(u));return f},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var u in this._toolbars)this._toolbars[u]instanceof L.DrawToolbar&&this._toolbars[u].setOptions(i)},_toolbarEnabled:function(i){var u=i.target;for(var f in this._toolbars)this._toolbars[f]!==u&&this._toolbars[f].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var u,f=L.DomUtil.create("div","leaflet-draw-section"),h=0,m=this._toolbarClass||"",y=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,u=0;u<y.length;u++)y[u].enabled&&this._initModeHandler(y[u].handler,this._toolbarContainer,h++,m,y[u].title);if(h)return this._lastButtonIndex=--h,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),f.appendChild(this._toolbarContainer),f.appendChild(this._actionsContainer),f},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var u=0,f=this._actionButtons.length;u<f;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,u,f,h,m){var y=i.type;this._modes[y]={},this._modes[y].handler=i,this._modes[y].button=this._createButton({type:y,title:m,className:h+"-"+y,container:u,callback:this._modes[y].handler.enable,context:this._modes[y].handler}),this._modes[y].buttonIndex=f,this._modes[y].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(i){var u=L.DomUtil.create("a",i.className||"",i.container),f=L.DomUtil.create("span","sr-only",i.container);u.href="#",u.appendChild(f),i.title&&(u.title=i.title,f.innerHTML=i.title),i.text&&(u.innerHTML=i.text,f.innerHTML=i.text);var h=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(u,"click",L.DomEvent.stopPropagation).on(u,"mousedown",L.DomEvent.stopPropagation).on(u,"dblclick",L.DomEvent.stopPropagation).on(u,"touchstart",L.DomEvent.stopPropagation).on(u,"click",L.DomEvent.preventDefault).on(u,h,i.callback,i.context),u},_disposeButton:function(i,u){var f=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,f,u)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var u,f,h,m,y=this._actionsContainer,v=this.getActions(i),w=v.length;for(f=0,h=this._actionButtons.length;f<h;f++)this._disposeButton(this._actionButtons[f].button,this._actionButtons[f].callback);for(this._actionButtons=[];y.firstChild;)y.removeChild(y.firstChild);for(var x=0;x<w;x++)"enabled"in v[x]&&!v[x].enabled||(u=L.DomUtil.create("li","",y),m=this._createButton({title:v[x].title,text:v[x].text,container:u,callback:v[x].callback,context:v[x].context}),this._actionButtons.push({button:m,callback:v[x].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,u=this._lastButtonIndex,f=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=f+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===u&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var u=this._map.latLngToLayerPoint(i),f=this._container;return this._container&&(this._visible&&(f.style.visibility="inherit"),L.DomUtil.setPosition(f,u)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var u in this.options)this.options.hasOwnProperty(u)&&i[u]&&(i[u]=L.extend({},this.options[u],i[u]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var u in this._modes)this._modes.hasOwnProperty(u)&&i.hasOwnProperty(u)&&this._modes[u].handler.setOptions(i[u])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var u=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:u,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:u}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var u=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&u.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),u},addToolbar:function(i){var u=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),u},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,u=this.options.featureGroup,f=u.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,f?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,f?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,u){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,u),this._featureGroup=u.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(u){u.edited&&(i.addLayer(u),u.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var u=L.Util.stamp(i);this._uneditedLayerProps[u]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[u]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var u=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(u)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[u].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[u].latlng),i.setRadius(this._uneditedLayerProps[u].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[u].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var u,f,h=i.layer||i.target||i;this._backupLayer(h),this.options.poly&&(f=L.Util.extend({},this.options.poly),h.options.poly=f),this.options.selectedPathOptions&&(u=L.Util.extend({},this.options.selectedPathOptions),u.maintainColor&&(u.color=h.options.color,u.fillColor=h.options.fillColor),h.options.original=L.extend({},h.options),h.options.editing=u),h instanceof L.Marker?(h.editing&&h.editing.enable(),h.dragging.enable(),h.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):h.editing.enable()},_disableLayerEdit:function(i){var u=i.layer||i.target||i;u.edited=!1,u.editing&&u.editing.disable(),delete u.options.editing,delete u.options.original,this._selectedPathOptions&&(u instanceof L.Marker?this._toggleMarkerHighlight(u):(u.setStyle(u.options.previousOptions),delete u.options.previousOptions)),u instanceof L.Marker?(u.dragging.disable(),u.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):u.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var u=i.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_onTouchMove:function(i){var u=i.originalEvent.changedTouches[0],f=this._map.mouseEventToLayerPoint(u),h=this._map.layerPointToLatLng(f);i.target.setLatLng(h)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,u){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,u),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var u=i.layer||i.target||i;u.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(u)},_removeLayer:function(i){var u=i.layer||i.target||i;this._deletableLayers.removeLayer(u),this._deletedLayers.addLayer(u),u.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Js=(e,t)=>{t.split(" ").forEach(s=>{e.classList.add(s)})},Qs=(e,t)=>{t.split(" ").forEach(s=>{e.classList.remove(s)})},f0=St.Marker.extend({initialize(e,t){St.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const s=this._getIconSVG(e,t);this._locationIcon=St.divIcon({className:s.className,html:s.svg,iconSize:[s.w,s.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const s=e.radius,o=e.weight,i=s+o,u=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${u}" height="${u}" version="1.1" viewBox="-${i} -${i} ${u} ${u}"><circle r="`+s+'" style="'+t+'" /></svg>',w:u,h:u}},setStyle(e){St.setOptions(this,e),this.createIcon()}}),DI=f0.extend({initialize(e,t,s){St.setOptions(this,s),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const s=e.radius,o=e.width+e.weight,i=(s+e.depth+e.weight)*2,u=`M0,0 l${e.width/2},${e.depth} l-${o},0 z`,f=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${o}" height="${i}" version="1.1" viewBox="-${o/2} 0 ${o} ${i}" style="${f}"><path d="`+u+'" style="'+t+'" /></svg>',w:o,h:i}}}),BI=St.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:f0,compassClass:DI,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const s=St.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);s.title=t.strings.title,s.href="#",s.setAttribute("role","button");const o=St.DomUtil.create(t.iconElementTag,t.icon,s);if(t.strings.text!==void 0){const i=St.DomUtil.create(t.textElementTag,"leaflet-locate-text",s);i.textContent=t.strings.text,s.classList.add("leaflet-locate-text-active"),s.parentNode.style.display="flex",t.icon.length>0&&o.classList.add("leaflet-locate-icon")}return{link:s,icon:o}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?St.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=St.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=St.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=St.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=St.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new St.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const s=this.options.createButtonCallback(t,this.options);return this._link=s.link,this._icon=s.icon,St.DomEvent.on(this._link,"click",function(o){St.DomEvent.stopPropagation(o),St.DomEvent.preventDefault(o),this._onClick()},this).on(this._link,"dblclick",St.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let s=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(s=e?t.inView:t.inViewNotFollowing),t[s]&&(s=t[s]),s){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,s=function(){St.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(o){o==="granted"&&s()}):s()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?St.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&St.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),St.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const f=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(f):this._circle=St.circle(t,e,f).addTo(this._layer)}let s,o;if(this.options.metric?(s=e.toFixed(0),o=this.options.strings.metersUnit):(s=(e*3.2808399).toFixed(0),o=this.options.strings.feetUnit),this.options.drawMarker){const f=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(f)):this._marker=new this.options.markerClass(t,f).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function u(){return typeof i=="string"?St.Util.template(i,{distance:s,unit:o}):typeof i=="function"?i({distance:s,unit:o}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(u())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(u())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,St.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(Qs(this._container,"active following"),Js(this._container,"requesting"),Qs(this._icon,this.options.icon),Js(this._icon,this.options.iconLoading)):e=="active"?(Qs(this._container,"requesting following"),Js(this._container,"active"),Qs(this._icon,this.options.iconLoading),Js(this._icon,this.options.icon)):e=="following"&&(Qs(this._container,"requesting"),Js(this._container,"active following"),Qs(this._icon,this.options.iconLoading),Js(this._icon,this.options.icon))},_cleanClasses(){St.DomUtil.removeClass(this._container,"requesting"),St.DomUtil.removeClass(this._container,"active"),St.DomUtil.removeClass(this._container,"following"),Qs(this._icon,this.options.iconLoading),Js(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function FI(e){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},marker:!0,circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:e,remove:!1}}}L.GeometryUtil=L.extend(L.GeometryUtil||{},{readableArea:function(e,t,h){var o={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},i,u,f,h=L.Util.extend({},o,h);return t?(u=["ha","m"],f=typeof t,f==="string"?u=[t]:f!=="boolean"&&(u=t),e>=1e6&&u.indexOf("km")!==-1?i=L.GeometryUtil.formattedNumber(e*1e-6,h.km)+" km²":e>=1e4&&u.indexOf("ha")!==-1?i=L.GeometryUtil.formattedNumber(e*1e-4,h.ha)+" ha":i=L.GeometryUtil.formattedNumber(e,h.m)+" m²"):(e/=.836127,e>=3097600?i=L.GeometryUtil.formattedNumber(e/3097600,h.mi)+" mi²":e>=4840?i=L.GeometryUtil.formattedNumber(e/4840,h.ac)+" acres":i=L.GeometryUtil.formattedNumber(e,h.yd)+" yd²"),i}});const zI=["id"],$I="100vh",UI="https://tile.openstreetmap.org/{z}/{x}/{y}.png",GI='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',HI={__name:"Map",props:{height:{type:String,default:$I},editable:{type:Boolean,default:!0},forceEditable:{type:Boolean,default:!1}},setup(e){const t=e,{radius:s,wkt:o,sourceGeometry:i,mapEditable:u}=Sn.getInstance(),f=Mn(),h=Mn(new us.FeatureGroup);let m=null;const y=(Math.random()+1).toString(36).substring(7),v=de(()=>!!o.value),w=de(()=>`height: ${t.height};`);tt(o,x),tt([s,h],O),t.forceEditable||tt(u,()=>{f.value.off(),f.value.remove(),B()});function x(){o.value&&(h.value.clearLayers(),us.geoJSON().addTo(h.value).addData(gs.parse(o.value)),P())}function P(){f.value&&f.value.fitBounds(h.value.getBounds())}x();function O(){if(!m)return;h.value.clearLayers();let z=m.layer,H=z.toGeoJSON();Lc(H)||(H=WP(H));const _=KP(H,m.layerType==="circle"?z.getRadius():null,m.layerType,s.value);(m.layerType==="marker"||m.layerType==="polyline")&&us.geoJSON().addTo(h.value).addData(gs.parse(_)),o.value=_,i.value=null}function B(){f.value=us.map(`map-${y}`),JP(f.value),us.tileLayer(UI,{maxZoom:19,attribution:GI}).addTo(f.value),f.value.addLayer(h.value),v.value&&P(),u.value&&(f.value.addControl(new us.Control.Draw(FI(h.value))),new BI({}).addTo(f.value)),f.value.on(us.Draw.Event.CREATED,q),f.value.on("locationfound",z=>{h.value.clearLayers();const H=us.marker(z.latlng);m={layer:H,layerType:"marker"},h.value.addLayer(H),O()})}function q(z){let H=z.layer;m=z,h.value.clearLayers(),h.value.addLayer(H),O()}function A(){const z={center:f.value.getCenter(),zoom:f.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(z))}return Mi(()=>{B(),window.addEventListener("beforeunload",A)}),(z,H)=>(Ee(),Be("div",{class:"mapC",id:`map-${W(y)}`,style:Gi(w.value)},null,12,zI))}},h0=yr(HI,[["__scopeId","data-v-a4d1ad8e"]]),VI={class:"container-fluid"},qI={class:"row"},jI={class:"col-12 col-lg-6 col-md-6"},WI={class:"col-12 col-lg-6 col-md-6"},p0={__name:"MapListWidget",props:{height:{type:String,default:"100vh"}},setup(e){const t=e;return(s,o)=>(Ee(),Be("div",VI,[pe("div",qI,[pe("div",jI,[Ue(h0,{height:t.height},null,8,["height"])]),pe("div",WI,[Ue(d0,{nbTaxonPerLine:2,style:Gi("height:"+t.height)},null,8,["style"])])])]))}},ZI={key:0},YI={key:1},m0={__name:"ListWidget",props:{height:{type:String,default:"100vh"}},setup(e){const t=Sn.getInstance(),s=e;return(o,i)=>(Ee(),Be("div",null,[W(t).wkt.value.length>0?(Ee(),Be("div",ZI,[Ue(d0,{nbTaxonPerLine:4,style:Gi("height:"+s.height)},null,8,["style"])])):(Ee(),Be("div",YI,i[0]||(i[0]=[pe("h2",{class:"col-12 text-center m-3"},"Aucune géométrie fournie !",-1)])))]))}},xg={Animalia:{Mammalia:{Icon:"fas fa-paw"},Aves:{Icon:"fas fa-dove"},Reptilia:{Icon:"fas fa-dragon"},Amphibia:{Icon:"fas fa-frog"},Insecta:{Icon:"fas fa-bug"},Arachnida:{Icon:"fas fa-spider"},Gastropoda:{Icon:"fas fa-paw"},Bivalvia:{Icon:"fas fa-shrimp"}},Plantae:{Magnoliopsida:{Icon:"fas fa-leaf"},Liliopsida:{Icon:"fas fa-leaf"},Pinopsida:{Icon:"fas fa-tree"}}},XI={class:"row g-1 mt-1",id:"classTaxonFilters"},KI={__name:"TaxonClassFilter",setup(e){const t=Sn.getInstance().class;function s(o){t.value=t.value==o?null:o}return(o,i)=>{const u=Ur;return Ee(),Be(ft,null,[pe("label",null,[pe("strong",null,[it(qe(o.$t("taxon.class"))+" ",1),i[0]||(i[0]=pe("i",{class:"fa-solid fa-leaf"},null,-1)),i[1]||(i[1]=pe("i",{class:"fa-solid fa-paw"},null,-1))])]),pe("div",null,[pe("div",XI,[(Ee(!0),Be(ft,null,dr(Object.keys(W(xg).Animalia),f=>(Ee(),Be("div",{key:f,class:"col"},[Ue(u,{pill:"",variant:"outline-primary",pressed:W(t)==f,onClick:h=>s(f)},{default:et(()=>[it(qe(f),1)]),_:2},1032,["pressed","onClick"])]))),128)),(Ee(!0),Be(ft,null,dr(Object.keys(W(xg).Plantae),f=>(Ee(),Be("div",{key:f,class:"col"},[Ue(u,{pill:"",variant:"outline-success",pressed:W(t)==f,onClick:h=>s(f)},{default:et(()=>[it(qe(f),1)]),_:2},1032,["pressed","onClick"])]))),128))])])],64)}}},JI=yr(KI,[["__scopeId","data-v-85041928"]]),QI=["for"],eN=["id"],Sg={__name:"DateFilter",props:{label:{type:String,required:!0},id:String,currentDate:Date},emits:["update:date"],setup(e,{emit:t}){const s=e,o=ze(null),i=t;return tt(o,()=>{i("update:date",o.value)}),(u,f)=>(Ee(),Be(ft,null,[pe("label",{for:s.id},[pe("strong",null,[it(qe(s.label)+" ",1),f[1]||(f[1]=pe("i",{class:"fa-solid fa-calendar-days"},null,-1))])],8,QI),rn(pe("input",{id:s.id,class:"form-control",type:"date","onUpdate:modelValue":f[0]||(f[0]=h=>o.value=h)},null,8,eN),[[vs,o.value]])],64))}},tN={class:"row"},nN={for:"radius",class:"form-label col-8"},iN={__name:"BufferSizeFilter",setup(e){const{radius:t}=Sn.getInstance();return(s,o)=>(Ee(),Be("div",tN,[pe("label",nN,[pe("strong",null,[it(qe(s.$t("bufferSize"))+" ",1),o[1]||(o[1]=pe("i",{class:"fa-solid fa-up-right-and-down-left-from-center"},null,-1))]),it(" "+qe(W(t))+" km",1)]),rn(pe("input",{type:"range",class:"form-range",min:"1",max:"100","onUpdate:modelValue":o[0]||(o[0]=i=>Mt(t)?t.value=i:null),id:"radius"},null,512),[[vs,W(t)]])]))}},rN=yr(iN,[["__scopeId","data-v-96065927"]]),sN={class:"text-center col-12"},oN={class:"sourceParam"},aN={for:"sourceName"},uN=["value"],lN={class:"parameters"},cN=["for"],dN=["placeholder","onUpdate:modelValue"],fN=["type","placeholder","onUpdate:modelValue"],hN=["onUpdate:modelValue"],pN=["value"],mN={key:3,class:"text-danger"},gN={__name:"SourceFilter",setup(e){const{connector:t}=Sn.getInstance(),s={[da.GBIF]:new Sf().getParamsSchema(),[da.GeoNature]:new Iy().getParamsSchema()},o=ze(t.value.name);let i=ni(Object.fromEntries(s[o.value].map(f=>[f.name,t.value[f.name]||f.default])));tt([o],()=>{i=ni(Object.fromEntries(s[o.value].map(f=>[f.name,f.default])))});function u(f){t.value=ql(o.value,i)}return(f,h)=>{const m=Ur,y=KL,v=mv;return Ee(),Be(ft,null,[pe("div",sN,[rn((Ee(),dt(m,{variant:"primary",size:"lg",class:"col-12 mb-3"},{default:et(()=>[h[1]||(h[1]=pe("i",{class:"fa fa-leaf"},null,-1)),h[2]||(h[2]=it()),h[3]||(h[3]=pe("br",null,null,-1)),it(" "+qe(f.$t("source.modify")),1)]),_:1})),[[v,void 0,void 0,{"modal-center":!0}]])]),Ue(y,{id:"modal-center",centered:"",title:f.$t("source.title"),onOk:u},{default:et(()=>[pe("div",oN,[pe("label",aN,qe(f.$t("source.select")),1),rn(pe("select",{"onUpdate:modelValue":h[0]||(h[0]=w=>o.value=w),class:"form-select"},[(Ee(),Be(ft,null,dr(s,(w,x)=>pe("option",{value:x},qe(x),9,uN)),64))],512),[[ia,o.value]]),(Ee(!0),Be(ft,null,dr(s[o.value],w=>(Ee(),Be("div",lN,[pe("label",{for:w.name},qe(w.label),9,cN),w.type===String?rn((Ee(),Be("input",{key:0,class:"form-control",placeholder:w.default,"onUpdate:modelValue":x=>W(i)[w.name]=x},null,8,dN)),[[vs,W(i)[w.name]]]):w.type===Number?rn((Ee(),Be("input",{key:1,type:w.type,class:"form-control",placeholder:w.default,"onUpdate:modelValue":x=>W(i)[w.name]=x},null,8,fN)),[[qw,W(i)[w.name]]]):Array.isArray(w.type)?rn((Ee(),Be("select",{key:2,class:"form-select","onUpdate:modelValue":x=>W(i)[w.name]=x},[(Ee(!0),Be(ft,null,dr(w.values,x=>(Ee(),Be("option",{key:x,value:x},qe(x),9,pN))),128))],8,hN)),[[ia,W(i)[w.name]]]):(Ee(),Be("div",mN,"Unsupported input type"))]))),256))])]),_:1},8,["title"])],64)}}},_N={for:"mediaSourceSelect"},Cg={__name:"MediaSourceSelector",props:{mediaSourceID:{type:String,required:!0},typeMedia:{type:String,required:!0,validator(e,t){return["image","sound"].includes(e)}}},setup(e){const{connector:t}=Sn.getInstance(),s=e,o=ze(s.mediaSourceID);return tt(t,()=>{o.value=s.mediaSourceID},{deep:!1}),tt(o,()=>{const i=`${s.typeMedia=="image"?"sound":"image"}Source`,u={[s.typeMedia+"Source"]:Gr(o.value),[i]:Gr(t.value[i].id)};t.value=new t.value.constructor(Object.assign({},t.value.getParams(),u)),console.log("after",t.value)}),(i,u)=>{const f=dh,h=Vv;return Ee(),Be(ft,null,[pe("label",_N,[pe("strong",null,[it(qe(i.$t(`media.${e.typeMedia}`))+" ",1),u[1]||(u[1]=pe("i",{class:"fa-solid fa-photo-film"},null,-1))])]),Ue(h,{id:"mediaSourceSelect",options:W(t).getCompatibleMediaSource(),modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=m=>o.value=m)},{first:et(()=>[Ue(f,{value:null,disabled:""},{default:et(()=>[it(qe(i.$t("media.select")),1)]),_:1})]),_:1},8,["options","modelValue"])],64)}}},vN={class:"card"},yN={class:"card-header"},bN={class:"card-body"},wN={id:"parameters"},kN={class:"col text-center"},LN={class:"parameter-section"},EN={key:0,class:"parameter-section"},TN={class:"parameter-section"},xN={class:"row"},SN={class:"col-6"},CN={class:"col-6"},PN={class:"parameter-section"},IN={class:"parameter-section"},NN={class:"parameter-section"},MN={class:"parameter-section"},ON={class:"parameter-section"},AN={class:"parameter-section"},RN={class:"parameter-section"},DN={class:"parameter-section"},BN={class:"d-flex justify-content-center parameter-section"},FN={class:"parameter-section"},zN={__name:"Parameters",setup(e){const{t}=mr(),{dateMin:s,dateMax:o,showFilters:i,mapEditable:u,sourceGeometry:f,mode:h,widgetType:m,nbTaxonPerLine:y,hybridTaxonList:v,connector:w}=Sn.getInstance(),x=Hy(),P=jl(),O=de(()=>[{value:$r.gallery,text:t("mode.galleryMode")},{value:$r.detailedList,text:t("mode.detailedList")}]),B=de(()=>[{value:na.default,text:t("widgetType.default")},{value:na.list,text:t("widgetType.list")}]);return(q,A)=>{const z=h0,H=sL,_=lL,T=Vv,E=Ur;return Ee(),Be(ft,null,[pe("div",vN,[pe("h4",yN,qe(q.$t("parameters")),1),pe("div",bN,[pe("div",wN,[pe("div",kN,[pe("label",null,[it(qe(q.$t("drawGeometry"))+" ",1),A[10]||(A[10]=pe("i",{class:"fa-solid fa-location-dot"},null,-1))]),Ue(z,{forceEditable:!0,editable:!0,height:"40vh",class:"mt-2"})]),pe("div",LN,[Ue(H,{switch:"",modelValue:W(i),"onUpdate:modelValue":A[0]||(A[0]=C=>Mt(i)?i.value=C:null)},{default:et(()=>[pe("strong",null,[it(qe(q.$t("showFilters"))+" ",1),A[11]||(A[11]=pe("i",{class:"bi bi-sort-down"},null,-1))])]),_:1},8,["modelValue"])]),W(m)===W(na).default?(Ee(),Be("div",EN,[Ue(H,{switch:"",modelValue:W(u),"onUpdate:modelValue":A[1]||(A[1]=C=>Mt(u)?u.value=C:null)},{default:et(()=>[pe("strong",null,[it(qe(q.$t("mapEditable"))+" ",1),A[12]||(A[12]=pe("i",{class:"fa-solid fa-map"},null,-1))])]),_:1},8,["modelValue"])])):yt("",!0),pe("div",TN,[Ue(rN)]),pe("div",xN,[pe("div",SN,[Ue(Sg,{id:"startDate",label:"Date min.",currentDate:W(s),"onUpdate:date":A[2]||(A[2]=C=>s.value=C)},null,8,["currentDate"])]),pe("div",CN,[Ue(Sg,{id:"endDate",label:"Date max.",currentDate:W(o),"onUpdate:date":A[3]||(A[3]=C=>o.value=C)},null,8,["currentDate"])])]),pe("div",PN,[Ue(JI)]),pe("div",IN,[pe("label",null,[it(qe(q.$t("UseGeoJSONSource"))+" ",1),A[13]||(A[13]=pe("i",{class:"fa-solid fa-link"},null,-1))]),Ue(_,{modelValue:W(f),"onUpdate:modelValue":A[4]||(A[4]=C=>Mt(f)?f.value=C:null),placeholder:q.$t("IndicateGeoJSONUrl")},null,8,["modelValue","placeholder"])]),pe("div",NN,[pe("label",null,[it(qe(q.$t("TaxonListModeSelection"))+" ",1),A[14]||(A[14]=pe("span",null,[pe("i",{class:"fa-solid fa-list"}),it(" | "),pe("i",{class:"fa-solid fa-grip-vertical"})],-1))]),Ue(T,{modelValue:W(h),"onUpdate:modelValue":A[5]||(A[5]=C=>Mt(h)?h.value=C:null),options:O.value,class:"mt-1"},null,8,["modelValue","options"])]),pe("div",MN,[Ue(H,{switch:"",modelValue:W(v),"onUpdate:modelValue":A[6]||(A[6]=C=>Mt(v)?v.value=C:null)},{default:et(()=>[pe("strong",null,qe(q.$t("mode.isTaxonListHybrid")),1)]),_:1},8,["modelValue"])]),pe("div",ON,[pe("label",null,[it(qe(q.$t("widgetTypeSelection"))+" ",1),A[15]||(A[15]=pe("i",{class:"fa-solid fa-display"},null,-1))]),Ue(T,{modelValue:W(m),"onUpdate:modelValue":A[7]||(A[7]=C=>Mt(m)?m.value=C:null),options:B.value,class:"mt-1"},null,8,["modelValue","options"])]),pe("div",AN,[pe("label",null,[it(qe(q.$t("numberOfTaxonPerLine"))+" ",1),A[16]||(A[16]=pe("i",{class:"bi bi-123"},null,-1))]),Ue(_,{type:"number",modelValue:W(y),"onUpdate:modelValue":A[8]||(A[8]=C=>Mt(y)?y.value=C:null)},null,8,["modelValue"])]),pe("div",RN,[Ue(Cg,{mediaSourceID:W(w).imageSource.id,typeMedia:"image"},null,8,["mediaSourceID"])]),pe("div",DN,[Ue(Cg,{mediaSourceID:W(w).soundSource.id,typeMedia:"sound"},null,8,["mediaSourceID"])]),pe("div",BN,[Ue(E,{variant:"danger",onClick:A[9]||(A[9]=C=>W(Sn).clearParameters(W(P),W(x)))},{default:et(()=>[A[17]||(A[17]=pe("i",{class:"bi bi-arrow-clockwise"},null,-1)),it(" "+qe(q.$t("RefreshFilters")),1)]),_:1})])])])]),pe("div",FN,[Ue(gN)])],64)}}},$N=yr(zN,[["__scopeId","data-v-01367651"]]),UN={class:"input-group-text"},GN=["value"],HN={class:"input-group mb-3"},VN={class:"input-group-text"},qN={class:"input-group-text"},jN={__name:"HTMLBuilder",props:{link:String,required:!0},emits:["update:width","update:height"],setup(e,{emit:t}){const s=ze("100wv"),o=ze("100vh"),i=e,u=t;tt([s,o],()=>{u("update:width",s.value),u("update:height",o.value)});const f=de(()=>`<embed src="${i.link}" type="" style="width: ${s.value}; height: ${o.value}" />`);return(h,m)=>(Ee(),Be(ft,null,[pe("span",UN,[m[2]||(m[2]=pe("i",{class:"bi bi-code-slash"},null,-1)),it(" "+qe(h.$t("browserIntegration")),1)]),pe("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:f.value},null,8,GN),pe("div",HN,[pe("span",VN,qe(h.$t("size.width")),1),rn(pe("input",{class:"form-control form-control-lg",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":m[0]||(m[0]=y=>s.value=y)},null,512),[[vs,s.value]]),pe("span",qN,qe(h.$t("size.height")),1),rn(pe("input",{class:"form-control form-control-lg",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":m[1]||(m[1]=y=>o.value=y)},null,512),[[vs,o.value]])])],64))}},WN={class:"row justify-content-center p-3"},ZN={class:"col-12 col-lg-12 col-md-6 text-center"},YN={for:"shareButton"},XN={key:0},KN={key:1},JN={__name:"Share",setup(e){const t=Sn.getInstance(),{widgetType:s}=Sn.getInstance(),o=ze("100wv"),i=ze("100vh"),u=ze(""),f=window.location.origin,h=window.location.pathname,m=de(()=>({list:"/list"})[s.value]||"/"),y=de(()=>{const x=Object.entries(t.getParams()).map(([O,B])=>`${O}=${B}`),P=x.length?`?${x.join("&")}`:"";return`${f}${h}#${m.value}${P}`}),v=ze(!1);function w(){navigator.clipboard.writeText(y.value),v.value=!0,setTimeout(()=>{v.value=!1},3e3)}return(x,P)=>{const O=X1;return Ee(),dt(O,{text:x.$t("share"),variant:"primary",class:"me-2","auto-close":"outside","menu-class":"share_modal"},{"button-content":et(()=>[P[3]||(P[3]=pe("i",{class:"bi bi-share"},null,-1)),it(" "+qe(x.$t("share")),1)]),default:et(()=>[pe("div",WN,[pe("div",ZN,[pe("label",YN,qe(x.$t("shareLink")),1),pe("button",{class:"btn btn-outline-secondary mb-3",id:"shareButton",onClick:w},[v.value?(Ee(),Be("div",XN,[P[4]||(P[4]=pe("i",{class:"bi bi-check2-circle"},null,-1)),it(" "+qe(x.$t("copied"))+"! ",1)])):(Ee(),Be("div",KN,[P[5]||(P[5]=pe("i",{class:"bi bi-link-45deg"},null,-1)),it(" "+qe(x.$t("copy")),1)]))]),Ue(jN,{link:y.value,"onUpdate:typeWidget":P[0]||(P[0]=B=>u.value=B),"onUpdate:width":P[1]||(P[1]=B=>o.value=B),"onUpdate:height":P[2]||(P[2]=B=>i.value=B)},null,8,["link"])])])]),_:1},8,["text"])}}},QN={class:"card small"},eM={class:"card-header"},tM={key:0,class:"bi bi-chevron-down"},nM={key:1,class:"bi bi-chevron-up"},iM={class:"card-body",style:{"overflow-y":"scroll",height:"30vh"}},rM={__name:"Intro",setup(e){const t=ze(!1);return(s,o)=>{const i=Ur,u=E_("VueShowdown"),f=Bv,h=mv;return Ee(),Be("div",QN,[pe("div",eM,[pe("h4",null,[it(qe(s.$t("howto"))+" ",1),rn((Ee(),dt(i,{variant:"light"},{default:et(()=>[t.value?(Ee(),Be("i",nM)):(Ee(),Be("i",tM))]),_:1})),[[h,void 0,void 0,{"collapse-howto":!0}]])])]),Ue(f,{id:"collapse-howto",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=m=>t.value=m)},{default:et(()=>[pe("div",iM,[Ue(u,{markdown:s.$t("intro"),flavor:"github",options:{emoji:!0}},null,8,["markdown"])])]),_:1},8,["modelValue"])])}}},sM={},oM={class:"locale-changer input-group"},aM=["value"];function uM(e,t){return Ee(),Be("div",oM,[t[1]||(t[1]=pe("label",{for:"languageSelect",class:"input-group-text"},[pe("i",{class:"bi bi-translate"})],-1)),rn(pe("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.$i18n.locale=s),class:"form-select",id:"languageSelect"},[(Ee(!0),Be(ft,null,dr(e.$i18n.availableLocales,s=>(Ee(),Be("option",{key:`locale-${s}`,value:s},qe(s),9,aM))),128))],512),[[ia,e.$i18n.locale]])])}const lM=yr(sM,[["render",uM],["__scopeId","data-v-dffd1d5b"]]),cM={__name:"HeaderNav",setup(e){return(t,s)=>{const o=tE,i=rE,u=JL,f=nE,h=Bv,m=eE,y=Ik;return Ee(),Be("header",null,[rn((Ee(),dt(m,{toggleable:"lg",variant:"light",class:"mb-3"},{default:et(()=>[Ue(o,{href:"#/config"},{default:et(()=>[it("🐛 🐦 🌱 "+qe(t.$t("title")),1)]),_:1}),Ue(i,{target:"nav-collapse"}),Ue(h,{id:"nav-collapse","is-nav":""},{default:et(()=>[Ue(f,{class:"ms-auto mb-2 mb-lg-0"},{default:et(()=>[Ue(u,{class:"d-flex",right:""},{default:et(()=>[Ue(lM)]),_:1})]),_:1})]),_:1})]),_:1})),[[y,"light"]])])}}},dM={class:"container-fluid"},fM={class:"row"},hM={class:"col-12 col-lg-4 col-md-2",style:{height:"80vh"}},pM={class:"col",id:"preview"},mM={class:"d-flex justify-content-start align-items-center"},gM={__name:"ConfiguratorWidget",setup(e){const{widgetType:t}=Sn.getInstance();return(s,o)=>{const i=m0,u=p0;return Ee(),Be(ft,null,[Ue(cM),pe("main",dM,[pe("div",fM,[pe("div",hM,[Ue(rM,{class:"mb-2"}),Ue($N)]),pe("div",pM,[pe("div",mM,[pe("h3",null,qe(s.$t("widgetPreview")),1),Ue(JN)]),W(t)==W(na).list?(Ee(),dt(i,{key:0,height:"70vh"})):(Ee(),dt(u,{key:1,height:"70vh"}))])])])],64)}}},_M=yr(gM,[["__scopeId","data-v-331bec74"]]),vM={},yM={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},bM={class:"text-center"},wM={class:"lead"};function kM(e,t){return Ee(),Be("div",yM,[pe("div",bM,[t[0]||(t[0]=pe("h1",{class:"display-1"},"404",-1)),pe("p",wM,qe(e.$t("error404.title")),1),pe("p",null,qe(e.$t("error404.subtitle")),1)])])}const LM=yr(vM,[["render",kM]]);var Kl={exports:{}},EM=Kl.exports,Pg;function TM(){return Pg||(Pg=1,function(e){(function(){function t(_){var T={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(_===!1)return JSON.parse(JSON.stringify(T));var E={};for(var C in T)T.hasOwnProperty(C)&&(E[C]=T[C].defaultValue);return E}function s(){var _=t(!0),T={};for(var E in _)_.hasOwnProperty(E)&&(T[E]=!0);return T}var o={},i={},u={},f=t(!0),h="vanilla",m={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:s()};o.helper={},o.extensions={},o.setOption=function(_,T){return f[_]=T,this},o.getOption=function(_){return f[_]},o.getOptions=function(){return f},o.resetOptions=function(){f=t(!0)},o.setFlavor=function(_){if(!m.hasOwnProperty(_))throw Error(_+" flavor was not found");o.resetOptions();var T=m[_];h=_;for(var E in T)T.hasOwnProperty(E)&&(f[E]=T[E])},o.getFlavor=function(){return h},o.getFlavorOptions=function(_){if(m.hasOwnProperty(_))return m[_]},o.getDefaultOptions=function(_){return t(_)},o.subParser=function(_,T){if(o.helper.isString(_))if(typeof T<"u")i[_]=T;else{if(i.hasOwnProperty(_))return i[_];throw Error("SubParser named "+_+" not registered!")}},o.extension=function(_,T){if(!o.helper.isString(_))throw Error("Extension 'name' must be a string");if(_=o.helper.stdExtName(_),o.helper.isUndefined(T)){if(!u.hasOwnProperty(_))throw Error("Extension named "+_+" is not registered!");return u[_]}else{typeof T=="function"&&(T=T()),o.helper.isArray(T)||(T=[T]);var E=y(T,_);if(E.valid)u[_]=T;else throw Error(E.error)}},o.getAllExtensions=function(){return u},o.removeExtension=function(_){delete u[_]},o.resetExtensions=function(){u={}};function y(_,T){var E=T?"Error in "+T+" extension->":"Error in unnamed extension",C={valid:!0,error:""};o.helper.isArray(_)||(_=[_]);for(var F=0;F<_.length;++F){var D=E+" sub-extension "+F+": ",R=_[F];if(typeof R!="object")return C.valid=!1,C.error=D+"must be an object, but "+typeof R+" given",C;if(!o.helper.isString(R.type))return C.valid=!1,C.error=D+'property "type" must be a string, but '+typeof R.type+" given",C;var X=R.type=R.type.toLowerCase();if(X==="language"&&(X=R.type="lang"),X==="html"&&(X=R.type="output"),X!=="lang"&&X!=="output"&&X!=="listener")return C.valid=!1,C.error=D+"type "+X+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',C;if(X==="listener"){if(o.helper.isUndefined(R.listeners))return C.valid=!1,C.error=D+'. Extensions of type "listener" must have a property called "listeners"',C}else if(o.helper.isUndefined(R.filter)&&o.helper.isUndefined(R.regex))return C.valid=!1,C.error=D+X+' extensions must define either a "regex" property or a "filter" method',C;if(R.listeners){if(typeof R.listeners!="object")return C.valid=!1,C.error=D+'"listeners" property must be an object but '+typeof R.listeners+" given",C;for(var ee in R.listeners)if(R.listeners.hasOwnProperty(ee)&&typeof R.listeners[ee]!="function")return C.valid=!1,C.error=D+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+ee+" must be a function but "+typeof R.listeners[ee]+" given",C}if(R.filter){if(typeof R.filter!="function")return C.valid=!1,C.error=D+'"filter" must be a function, but '+typeof R.filter+" given",C}else if(R.regex){if(o.helper.isString(R.regex)&&(R.regex=new RegExp(R.regex,"g")),!(R.regex instanceof RegExp))return C.valid=!1,C.error=D+'"regex" property must either be a string or a RegExp object, but '+typeof R.regex+" given",C;if(o.helper.isUndefined(R.replace))return C.valid=!1,C.error=D+'"regex" extensions must implement a replace string or function',C}}return C}o.validateExtension=function(_){var T=y(_,null);return T.valid?!0:(console.warn(T.error),!1)},o.hasOwnProperty("helper")||(o.helper={}),o.helper.isString=function(_){return typeof _=="string"||_ instanceof String},o.helper.isFunction=function(_){var T={};return _&&T.toString.call(_)==="[object Function]"},o.helper.isArray=function(_){return Array.isArray(_)},o.helper.isUndefined=function(_){return typeof _>"u"},o.helper.forEach=function(_,T){if(o.helper.isUndefined(_))throw new Error("obj param is required");if(o.helper.isUndefined(T))throw new Error("callback param is required");if(!o.helper.isFunction(T))throw new Error("callback param must be a function/closure");if(typeof _.forEach=="function")_.forEach(T);else if(o.helper.isArray(_))for(var E=0;E<_.length;E++)T(_[E],E,_);else if(typeof _=="object")for(var C in _)_.hasOwnProperty(C)&&T(_[C],C,_);else throw new Error("obj does not seem to be an array or an iterable object")},o.helper.stdExtName=function(_){return _.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function v(_,T){var E=T.charCodeAt(0);return"¨E"+E+"E"}o.helper.escapeCharactersCallback=v,o.helper.escapeCharacters=function(_,T,E){var C="(["+T.replace(/([\[\]\\])/g,"\\$1")+"])";E&&(C="\\\\"+C);var F=new RegExp(C,"g");return _=_.replace(F,v),_},o.helper.unescapeHTMLEntities=function(_){return _.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var w=function(_,T,E,C){var F=C||"",D=F.indexOf("g")>-1,R=new RegExp(T+"|"+E,"g"+F.replace(/g/g,"")),X=new RegExp(T,F.replace(/g/g,"")),ee=[],K,j,ie,V,re;do for(K=0;ie=R.exec(_);)if(X.test(ie[0]))K++||(j=R.lastIndex,V=j-ie[0].length);else if(K&&!--K){re=ie.index+ie[0].length;var oe={left:{start:V,end:j},match:{start:j,end:ie.index},right:{start:ie.index,end:re},wholeMatch:{start:V,end:re}};if(ee.push(oe),!D)return ee}while(K&&(R.lastIndex=j));return ee};o.helper.matchRecursiveRegExp=function(_,T,E,C){for(var F=w(_,T,E,C),D=[],R=0;R<F.length;++R)D.push([_.slice(F[R].wholeMatch.start,F[R].wholeMatch.end),_.slice(F[R].match.start,F[R].match.end),_.slice(F[R].left.start,F[R].left.end),_.slice(F[R].right.start,F[R].right.end)]);return D},o.helper.replaceRecursiveRegExp=function(_,T,E,C,F){if(!o.helper.isFunction(T)){var D=T;T=function(){return D}}var R=w(_,E,C,F),X=_,ee=R.length;if(ee>0){var K=[];R[0].wholeMatch.start!==0&&K.push(_.slice(0,R[0].wholeMatch.start));for(var j=0;j<ee;++j)K.push(T(_.slice(R[j].wholeMatch.start,R[j].wholeMatch.end),_.slice(R[j].match.start,R[j].match.end),_.slice(R[j].left.start,R[j].left.end),_.slice(R[j].right.start,R[j].right.end))),j<ee-1&&K.push(_.slice(R[j].wholeMatch.end,R[j+1].wholeMatch.start));R[ee-1].wholeMatch.end<_.length&&K.push(_.slice(R[ee-1].wholeMatch.end)),X=K.join("")}return X},o.helper.regexIndexOf=function(_,T,E){if(!o.helper.isString(_))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(T instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var C=_.substring(E||0).search(T);return C>=0?C+(E||0):C},o.helper.splitAtIndex=function(_,T){if(!o.helper.isString(_))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[_.substring(0,T),_.substring(T)]},o.helper.encodeEmailAddress=function(_){var T=[function(E){return"&#"+E.charCodeAt(0)+";"},function(E){return"&#x"+E.charCodeAt(0).toString(16)+";"},function(E){return E}];return _=_.replace(/./g,function(E){if(E==="@")E=T[Math.floor(Math.random()*2)](E);else{var C=Math.random();E=C>.9?T[2](E):C>.45?T[1](E):T[0](E)}return E}),_},o.helper.padEnd=function(T,E,C){return E=E>>0,C=String(C||" "),T.length>E?String(T):(E=E-T.length,E>C.length&&(C+=C.repeat(E/C.length)),String(T)+C.slice(0,E))},typeof console>"u"&&(console={warn:function(_){alert(_)},log:function(_){alert(_)},error:function(_){throw _}}),o.helper.regexes={asteriskDashAndColon:/([*_:~])/g},o.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},o.Converter=function(_){var T={},E=[],C=[],F={},D=h,R={parsed:{},raw:"",format:""};X();function X(){_=_||{};for(var V in f)f.hasOwnProperty(V)&&(T[V]=f[V]);if(typeof _=="object")for(var re in _)_.hasOwnProperty(re)&&(T[re]=_[re]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof _+" was passed instead.");T.extensions&&o.helper.forEach(T.extensions,ee)}function ee(V,re){if(re=re||null,o.helper.isString(V))if(V=o.helper.stdExtName(V),re=V,o.extensions[V]){console.warn("DEPRECATION WARNING: "+V+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),K(o.extensions[V],V);return}else if(!o.helper.isUndefined(u[V]))V=u[V];else throw Error('Extension "'+V+'" could not be loaded. It was either not found or is not a valid extension.');typeof V=="function"&&(V=V()),o.helper.isArray(V)||(V=[V]);var oe=y(V,re);if(!oe.valid)throw Error(oe.error);for(var _e=0;_e<V.length;++_e){switch(V[_e].type){case"lang":E.push(V[_e]);break;case"output":C.push(V[_e]);break}if(V[_e].hasOwnProperty("listeners"))for(var le in V[_e].listeners)V[_e].listeners.hasOwnProperty(le)&&j(le,V[_e].listeners[le])}}function K(V,re){typeof V=="function"&&(V=V(new o.Converter)),o.helper.isArray(V)||(V=[V]);var oe=y(V,re);if(!oe.valid)throw Error(oe.error);for(var _e=0;_e<V.length;++_e)switch(V[_e].type){case"lang":E.push(V[_e]);break;case"output":C.push(V[_e]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(V,re){if(!o.helper.isString(V))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof V+" given");if(typeof re!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof re+" given");F.hasOwnProperty(V)||(F[V]=[]),F[V].push(re)}function ie(V){var re=V.match(/^\s*/)[0].length,oe=new RegExp("^\\s{0,"+re+"}","gm");return V.replace(oe,"")}this._dispatch=function(re,oe,_e,le){if(F.hasOwnProperty(re))for(var we=0;we<F[re].length;++we){var Re=F[re][we](re,oe,this,_e,le);Re&&typeof Re<"u"&&(oe=Re)}return oe},this.listen=function(V,re){return j(V,re),this},this.makeHtml=function(V){if(!V)return V;var re={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:E,outputModifiers:C,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return V=V.replace(/¨/g,"¨T"),V=V.replace(/\$/g,"¨D"),V=V.replace(/\r\n/g,`
`),V=V.replace(/\r/g,`
`),V=V.replace(/\u00A0/g,"&nbsp;"),T.smartIndentationFix&&(V=ie(V)),V=`

`+V+`

`,V=o.subParser("detab")(V,T,re),V=V.replace(/^[ \t]+$/mg,""),o.helper.forEach(E,function(oe){V=o.subParser("runExtension")(oe,V,T,re)}),V=o.subParser("metadata")(V,T,re),V=o.subParser("hashPreCodeTags")(V,T,re),V=o.subParser("githubCodeBlocks")(V,T,re),V=o.subParser("hashHTMLBlocks")(V,T,re),V=o.subParser("hashCodeTags")(V,T,re),V=o.subParser("stripLinkDefinitions")(V,T,re),V=o.subParser("blockGamut")(V,T,re),V=o.subParser("unhashHTMLSpans")(V,T,re),V=o.subParser("unescapeSpecialChars")(V,T,re),V=V.replace(/¨D/g,"$$"),V=V.replace(/¨T/g,"¨"),V=o.subParser("completeHTMLDocument")(V,T,re),o.helper.forEach(C,function(oe){V=o.subParser("runExtension")(oe,V,T,re)}),R=re.metadata,V},this.makeMarkdown=this.makeMd=function(V,re){if(V=V.replace(/\r\n/g,`
`),V=V.replace(/\r/g,`
`),V=V.replace(/>[ \t]+</,">¨NBSP;<"),!re)if(window&&window.document)re=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var oe=re.createElement("div");oe.innerHTML=V;var _e={preList:Pe(oe)};Oe(oe);for(var le=oe.childNodes,we="",Re=0;Re<le.length;Re++)we+=o.subParser("makeMarkdown.node")(le[Re],_e);function Oe(Le){for(var Te=0;Te<Le.childNodes.length;++Te){var ce=Le.childNodes[Te];ce.nodeType===3?!/\S/.test(ce.nodeValue)&&!/^[ ]+$/.test(ce.nodeValue)?(Le.removeChild(ce),--Te):(ce.nodeValue=ce.nodeValue.split(`
`).join(" "),ce.nodeValue=ce.nodeValue.replace(/(\s)+/g,"$1")):ce.nodeType===1&&Oe(ce)}}function Pe(Le){for(var Te=Le.querySelectorAll("pre"),ce=[],Y=0;Y<Te.length;++Y)if(Te[Y].childElementCount===1&&Te[Y].firstChild.tagName.toLowerCase()==="code"){var xe=Te[Y].firstChild.innerHTML.trim(),Ne=Te[Y].firstChild.getAttribute("data-language")||"";if(Ne==="")for(var Me=Te[Y].firstChild.className.split(" "),N=0;N<Me.length;++N){var Q=Me[N].match(/^language-(.+)$/);if(Q!==null){Ne=Q[1];break}}xe=o.helper.unescapeHTMLEntities(xe),ce.push(xe),Te[Y].outerHTML='<precode language="'+Ne+'" precodenum="'+Y.toString()+'"></precode>'}else ce.push(Te[Y].innerHTML),Te[Y].innerHTML="",Te[Y].setAttribute("prenum",Y.toString());return ce}return we},this.setOption=function(V,re){T[V]=re},this.getOption=function(V){return T[V]},this.getOptions=function(){return T},this.addExtension=function(V,re){re=re||null,ee(V,re)},this.useExtension=function(V){ee(V)},this.setFlavor=function(V){if(!m.hasOwnProperty(V))throw Error(V+" flavor was not found");var re=m[V];D=V;for(var oe in re)re.hasOwnProperty(oe)&&(T[oe]=re[oe])},this.getFlavor=function(){return D},this.removeExtension=function(V){o.helper.isArray(V)||(V=[V]);for(var re=0;re<V.length;++re){for(var oe=V[re],_e=0;_e<E.length;++_e)E[_e]===oe&&E.splice(_e,1);for(var le=0;le<C.length;++le)C[le]===oe&&C.splice(le,1)}},this.getAllExtensions=function(){return{language:E,output:C}},this.getMetadata=function(V){return V?R.raw:R.parsed},this.getMetadataFormat=function(){return R.format},this._setMetadataPair=function(V,re){R.parsed[V]=re},this._setMetadataFormat=function(V){R.format=V},this._setMetadataRaw=function(V){R.raw=V}},o.subParser("anchors",function(_,T,E){_=E.converter._dispatch("anchors.before",_,T,E);var C=function(F,D,R,X,ee,K,j){if(o.helper.isUndefined(j)&&(j=""),R=R.toLowerCase(),F.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)X="";else if(!X)if(R||(R=D.toLowerCase().replace(/ ?\n/g," ")),X="#"+R,!o.helper.isUndefined(E.gUrls[R]))X=E.gUrls[R],o.helper.isUndefined(E.gTitles[R])||(j=E.gTitles[R]);else return F;X=X.replace(o.helper.regexes.asteriskDashAndColon,o.helper.escapeCharactersCallback);var ie='<a href="'+X+'"';return j!==""&&j!==null&&(j=j.replace(/"/g,"&quot;"),j=j.replace(o.helper.regexes.asteriskDashAndColon,o.helper.escapeCharactersCallback),ie+=' title="'+j+'"'),T.openLinksInNewWindow&&!/^#/.test(X)&&(ie+=' rel="noopener noreferrer" target="¨E95Eblank"'),ie+=">"+D+"</a>",ie};return _=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,C),_=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,C),_=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,C),_=_.replace(/\[([^\[\]]+)]()()()()()/g,C),T.ghMentions&&(_=_.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(F,D,R,X,ee){if(R==="\\")return D+X;if(!o.helper.isString(T.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var K=T.ghMentionsLink.replace(/\{u}/g,ee),j="";return T.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="¨E95Eblank"'),D+'<a href="'+K+'"'+j+">"+X+"</a>"})),_=E.converter._dispatch("anchors.after",_,T,E),_});var x=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,P=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,O=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,B=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,q=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,A=function(_){return function(T,E,C,F,D,R,X){C=C.replace(o.helper.regexes.asteriskDashAndColon,o.helper.escapeCharactersCallback);var ee=C,K="",j="",ie=E||"",V=X||"";return/^www\./i.test(C)&&(C=C.replace(/^www\./i,"http://www.")),_.excludeTrailingPunctuationFromURLs&&R&&(K=R),_.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="¨E95Eblank"'),ie+'<a href="'+C+'"'+j+">"+ee+"</a>"+K+V}},z=function(_,T){return function(E,C,F){var D="mailto:";return C=C||"",F=o.subParser("unescapeSpecialChars")(F,_,T),_.encodeEmails?(D=o.helper.encodeEmailAddress(D+F),F=o.helper.encodeEmailAddress(F)):D=D+F,C+'<a href="'+D+'">'+F+"</a>"}};o.subParser("autoLinks",function(_,T,E){return _=E.converter._dispatch("autoLinks.before",_,T,E),_=_.replace(O,A(T)),_=_.replace(q,z(T,E)),_=E.converter._dispatch("autoLinks.after",_,T,E),_}),o.subParser("simplifiedAutoLinks",function(_,T,E){return T.simplifiedAutoLink&&(_=E.converter._dispatch("simplifiedAutoLinks.before",_,T,E),T.excludeTrailingPunctuationFromURLs?_=_.replace(P,A(T)):_=_.replace(x,A(T)),_=_.replace(B,z(T,E)),_=E.converter._dispatch("simplifiedAutoLinks.after",_,T,E)),_}),o.subParser("blockGamut",function(_,T,E){return _=E.converter._dispatch("blockGamut.before",_,T,E),_=o.subParser("blockQuotes")(_,T,E),_=o.subParser("headers")(_,T,E),_=o.subParser("horizontalRule")(_,T,E),_=o.subParser("lists")(_,T,E),_=o.subParser("codeBlocks")(_,T,E),_=o.subParser("tables")(_,T,E),_=o.subParser("hashHTMLBlocks")(_,T,E),_=o.subParser("paragraphs")(_,T,E),_=E.converter._dispatch("blockGamut.after",_,T,E),_}),o.subParser("blockQuotes",function(_,T,E){_=E.converter._dispatch("blockQuotes.before",_,T,E),_=_+`

`;var C=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return T.splitAdjacentBlockquotes&&(C=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),_=_.replace(C,function(F){return F=F.replace(/^[ \t]*>[ \t]?/gm,""),F=F.replace(/¨0/g,""),F=F.replace(/^[ \t]+$/gm,""),F=o.subParser("githubCodeBlocks")(F,T,E),F=o.subParser("blockGamut")(F,T,E),F=F.replace(/(^|\n)/g,"$1  "),F=F.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(D,R){var X=R;return X=X.replace(/^  /mg,"¨0"),X=X.replace(/¨0/g,""),X}),o.subParser("hashBlock")(`<blockquote>
`+F+`
</blockquote>`,T,E)}),_=E.converter._dispatch("blockQuotes.after",_,T,E),_}),o.subParser("codeBlocks",function(_,T,E){_=E.converter._dispatch("codeBlocks.before",_,T,E),_+="¨0";var C=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return _=_.replace(C,function(F,D,R){var X=D,ee=R,K=`
`;return X=o.subParser("outdent")(X,T,E),X=o.subParser("encodeCode")(X,T,E),X=o.subParser("detab")(X,T,E),X=X.replace(/^\n+/g,""),X=X.replace(/\n+$/g,""),T.omitExtraWLInCodeBlocks&&(K=""),X="<pre><code>"+X+K+"</code></pre>",o.subParser("hashBlock")(X,T,E)+ee}),_=_.replace(/¨0/,""),_=E.converter._dispatch("codeBlocks.after",_,T,E),_}),o.subParser("codeSpans",function(_,T,E){return _=E.converter._dispatch("codeSpans.before",_,T,E),typeof _>"u"&&(_=""),_=_.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(C,F,D,R){var X=R;return X=X.replace(/^([ \t]*)/g,""),X=X.replace(/[ \t]*$/g,""),X=o.subParser("encodeCode")(X,T,E),X=F+"<code>"+X+"</code>",X=o.subParser("hashHTMLSpans")(X,T,E),X}),_=E.converter._dispatch("codeSpans.after",_,T,E),_}),o.subParser("completeHTMLDocument",function(_,T,E){if(!T.completeHTMLDocument)return _;_=E.converter._dispatch("completeHTMLDocument.before",_,T,E);var C="html",F=`<!DOCTYPE HTML>
`,D="",R=`<meta charset="utf-8">
`,X="",ee="";typeof E.metadata.parsed.doctype<"u"&&(F="<!DOCTYPE "+E.metadata.parsed.doctype+`>
`,C=E.metadata.parsed.doctype.toString().toLowerCase(),(C==="html"||C==="html5")&&(R='<meta charset="utf-8">'));for(var K in E.metadata.parsed)if(E.metadata.parsed.hasOwnProperty(K))switch(K.toLowerCase()){case"doctype":break;case"title":D="<title>"+E.metadata.parsed.title+`</title>
`;break;case"charset":C==="html"||C==="html5"?R='<meta charset="'+E.metadata.parsed.charset+`">
`:R='<meta name="charset" content="'+E.metadata.parsed.charset+`">
`;break;case"language":case"lang":X=' lang="'+E.metadata.parsed[K]+'"',ee+='<meta name="'+K+'" content="'+E.metadata.parsed[K]+`">
`;break;default:ee+='<meta name="'+K+'" content="'+E.metadata.parsed[K]+`">
`}return _=F+"<html"+X+`>
<head>
`+D+R+ee+`</head>
<body>
`+_.trim()+`
</body>
</html>`,_=E.converter._dispatch("completeHTMLDocument.after",_,T,E),_}),o.subParser("detab",function(_,T,E){return _=E.converter._dispatch("detab.before",_,T,E),_=_.replace(/\t(?=\t)/g,"    "),_=_.replace(/\t/g,"¨A¨B"),_=_.replace(/¨B(.+?)¨A/g,function(C,F){for(var D=F,R=4-D.length%4,X=0;X<R;X++)D+=" ";return D}),_=_.replace(/¨A/g,"    "),_=_.replace(/¨B/g,""),_=E.converter._dispatch("detab.after",_,T,E),_}),o.subParser("ellipsis",function(_,T,E){return T.ellipsis&&(_=E.converter._dispatch("ellipsis.before",_,T,E),_=_.replace(/\.\.\./g,"…"),_=E.converter._dispatch("ellipsis.after",_,T,E)),_}),o.subParser("emoji",function(_,T,E){if(!T.emoji)return _;_=E.converter._dispatch("emoji.before",_,T,E);var C=/:([\S]+?):/g;return _=_.replace(C,function(F,D){return o.helper.emojis.hasOwnProperty(D)?o.helper.emojis[D]:F}),_=E.converter._dispatch("emoji.after",_,T,E),_}),o.subParser("encodeAmpsAndAngles",function(_,T,E){return _=E.converter._dispatch("encodeAmpsAndAngles.before",_,T,E),_=_.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),_=_.replace(/<(?![a-z\/?$!])/gi,"&lt;"),_=_.replace(/</g,"&lt;"),_=_.replace(/>/g,"&gt;"),_=E.converter._dispatch("encodeAmpsAndAngles.after",_,T,E),_}),o.subParser("encodeBackslashEscapes",function(_,T,E){return _=E.converter._dispatch("encodeBackslashEscapes.before",_,T,E),_=_.replace(/\\(\\)/g,o.helper.escapeCharactersCallback),_=_.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,o.helper.escapeCharactersCallback),_=E.converter._dispatch("encodeBackslashEscapes.after",_,T,E),_}),o.subParser("encodeCode",function(_,T,E){return _=E.converter._dispatch("encodeCode.before",_,T,E),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,o.helper.escapeCharactersCallback),_=E.converter._dispatch("encodeCode.after",_,T,E),_}),o.subParser("escapeSpecialCharsWithinTagAttributes",function(_,T,E){_=E.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",_,T,E);var C=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,F=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return _=_.replace(C,function(D){return D.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,o.helper.escapeCharactersCallback)}),_=_.replace(F,function(D){return D.replace(/([\\`*_~=|])/g,o.helper.escapeCharactersCallback)}),_=E.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",_,T,E),_}),o.subParser("githubCodeBlocks",function(_,T,E){return T.ghCodeBlocks?(_=E.converter._dispatch("githubCodeBlocks.before",_,T,E),_+="¨0",_=_.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(C,F,D,R){var X=T.omitExtraWLInCodeBlocks?"":`
`;return R=o.subParser("encodeCode")(R,T,E),R=o.subParser("detab")(R,T,E),R=R.replace(/^\n+/g,""),R=R.replace(/\n+$/g,""),R="<pre><code"+(D?' class="'+D+" language-"+D+'"':"")+">"+R+X+"</code></pre>",R=o.subParser("hashBlock")(R,T,E),`

¨G`+(E.ghCodeBlocks.push({text:C,codeblock:R})-1)+`G

`}),_=_.replace(/¨0/,""),E.converter._dispatch("githubCodeBlocks.after",_,T,E)):_}),o.subParser("hashBlock",function(_,T,E){return _=E.converter._dispatch("hashBlock.before",_,T,E),_=_.replace(/(^\n+|\n+$)/g,""),_=`

¨K`+(E.gHtmlBlocks.push(_)-1)+`K

`,_=E.converter._dispatch("hashBlock.after",_,T,E),_}),o.subParser("hashCodeTags",function(_,T,E){_=E.converter._dispatch("hashCodeTags.before",_,T,E);var C=function(F,D,R,X){var ee=R+o.subParser("encodeCode")(D,T,E)+X;return"¨C"+(E.gHtmlSpans.push(ee)-1)+"C"};return _=o.helper.replaceRecursiveRegExp(_,C,"<code\\b[^>]*>","</code>","gim"),_=E.converter._dispatch("hashCodeTags.after",_,T,E),_}),o.subParser("hashElement",function(_,T,E){return function(C,F){var D=F;return D=D.replace(/\n\n/g,`
`),D=D.replace(/^\n/,""),D=D.replace(/\n+$/g,""),D=`

¨K`+(E.gHtmlBlocks.push(D)-1)+`K

`,D}}),o.subParser("hashHTMLBlocks",function(_,T,E){_=E.converter._dispatch("hashHTMLBlocks.before",_,T,E);var C=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],F=function(V,re,oe,_e){var le=V;return oe.search(/\bmarkdown\b/)!==-1&&(le=oe+E.converter.makeHtml(re)+_e),`

¨K`+(E.gHtmlBlocks.push(le)-1)+`K

`};T.backslashEscapesHTMLTags&&(_=_.replace(/\\<(\/?[^>]+?)>/g,function(V,re){return"&lt;"+re+"&gt;"}));for(var D=0;D<C.length;++D)for(var R,X=new RegExp("^ {0,3}(<"+C[D]+"\\b[^>]*>)","im"),ee="<"+C[D]+"\\b[^>]*>",K="</"+C[D]+">";(R=o.helper.regexIndexOf(_,X))!==-1;){var j=o.helper.splitAtIndex(_,R),ie=o.helper.replaceRecursiveRegExp(j[1],F,ee,K,"im");if(ie===j[1])break;_=j[0].concat(ie)}return _=_.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o.subParser("hashElement")(_,T,E)),_=o.helper.replaceRecursiveRegExp(_,function(V){return`

¨K`+(E.gHtmlBlocks.push(V)-1)+`K

`},"^ {0,3}<!--","-->","gm"),_=_.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o.subParser("hashElement")(_,T,E)),_=E.converter._dispatch("hashHTMLBlocks.after",_,T,E),_}),o.subParser("hashHTMLSpans",function(_,T,E){_=E.converter._dispatch("hashHTMLSpans.before",_,T,E);function C(F){return"¨C"+(E.gHtmlSpans.push(F)-1)+"C"}return _=_.replace(/<[^>]+?\/>/gi,function(F){return C(F)}),_=_.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(F){return C(F)}),_=_.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(F){return C(F)}),_=_.replace(/<[^>]+?>/gi,function(F){return C(F)}),_=E.converter._dispatch("hashHTMLSpans.after",_,T,E),_}),o.subParser("unhashHTMLSpans",function(_,T,E){_=E.converter._dispatch("unhashHTMLSpans.before",_,T,E);for(var C=0;C<E.gHtmlSpans.length;++C){for(var F=E.gHtmlSpans[C],D=0;/¨C(\d+)C/.test(F);){var R=RegExp.$1;if(F=F.replace("¨C"+R+"C",E.gHtmlSpans[R]),D===10){console.error("maximum nesting of 10 spans reached!!!");break}++D}_=_.replace("¨C"+C+"C",F)}return _=E.converter._dispatch("unhashHTMLSpans.after",_,T,E),_}),o.subParser("hashPreCodeTags",function(_,T,E){_=E.converter._dispatch("hashPreCodeTags.before",_,T,E);var C=function(F,D,R,X){var ee=R+o.subParser("encodeCode")(D,T,E)+X;return`

¨G`+(E.ghCodeBlocks.push({text:F,codeblock:ee})-1)+`G

`};return _=o.helper.replaceRecursiveRegExp(_,C,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),_=E.converter._dispatch("hashPreCodeTags.after",_,T,E),_}),o.subParser("headers",function(_,T,E){_=E.converter._dispatch("headers.before",_,T,E);var C=isNaN(parseInt(T.headerLevelStart))?1:parseInt(T.headerLevelStart),F=T.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,D=T.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;_=_.replace(F,function(ee,K){var j=o.subParser("spanGamut")(K,T,E),ie=T.noHeaderId?"":' id="'+X(K)+'"',V=C,re="<h"+V+ie+">"+j+"</h"+V+">";return o.subParser("hashBlock")(re,T,E)}),_=_.replace(D,function(ee,K){var j=o.subParser("spanGamut")(K,T,E),ie=T.noHeaderId?"":' id="'+X(K)+'"',V=C+1,re="<h"+V+ie+">"+j+"</h"+V+">";return o.subParser("hashBlock")(re,T,E)});var R=T.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;_=_.replace(R,function(ee,K,j){var ie=j;T.customizedHeaderId&&(ie=j.replace(/\s?\{([^{]+?)}\s*$/,""));var V=o.subParser("spanGamut")(ie,T,E),re=T.noHeaderId?"":' id="'+X(j)+'"',oe=C-1+K.length,_e="<h"+oe+re+">"+V+"</h"+oe+">";return o.subParser("hashBlock")(_e,T,E)});function X(ee){var K,j;if(T.customizedHeaderId){var ie=ee.match(/\{([^{]+?)}\s*$/);ie&&ie[1]&&(ee=ie[1])}return K=ee,o.helper.isString(T.prefixHeaderId)?j=T.prefixHeaderId:T.prefixHeaderId===!0?j="section-":j="",T.rawPrefixHeaderId||(K=j+K),T.ghCompatibleHeaderId?K=K.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():T.rawHeaderId?K=K.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():K=K.replace(/[^\w]/g,"").toLowerCase(),T.rawPrefixHeaderId&&(K=j+K),E.hashLinkCounts[K]?K=K+"-"+E.hashLinkCounts[K]++:E.hashLinkCounts[K]=1,K}return _=E.converter._dispatch("headers.after",_,T,E),_}),o.subParser("horizontalRule",function(_,T,E){_=E.converter._dispatch("horizontalRule.before",_,T,E);var C=o.subParser("hashBlock")("<hr />",T,E);return _=_.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,C),_=_.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,C),_=_.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,C),_=E.converter._dispatch("horizontalRule.after",_,T,E),_}),o.subParser("images",function(_,T,E){_=E.converter._dispatch("images.before",_,T,E);var C=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,F=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,D=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,R=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,X=/!\[([^\[\]]+)]()()()()()/g;function ee(j,ie,V,re,oe,_e,le,we){return re=re.replace(/\s/g,""),K(j,ie,V,re,oe,_e,le,we)}function K(j,ie,V,re,oe,_e,le,we){var Re=E.gUrls,Oe=E.gTitles,Pe=E.gDimensions;if(V=V.toLowerCase(),we||(we=""),j.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)re="";else if(re===""||re===null)if((V===""||V===null)&&(V=ie.toLowerCase().replace(/ ?\n/g," ")),re="#"+V,!o.helper.isUndefined(Re[V]))re=Re[V],o.helper.isUndefined(Oe[V])||(we=Oe[V]),o.helper.isUndefined(Pe[V])||(oe=Pe[V].width,_e=Pe[V].height);else return j;ie=ie.replace(/"/g,"&quot;").replace(o.helper.regexes.asteriskDashAndColon,o.helper.escapeCharactersCallback),re=re.replace(o.helper.regexes.asteriskDashAndColon,o.helper.escapeCharactersCallback);var Le='<img src="'+re+'" alt="'+ie+'"';return we&&o.helper.isString(we)&&(we=we.replace(/"/g,"&quot;").replace(o.helper.regexes.asteriskDashAndColon,o.helper.escapeCharactersCallback),Le+=' title="'+we+'"'),oe&&_e&&(oe=oe==="*"?"auto":oe,_e=_e==="*"?"auto":_e,Le+=' width="'+oe+'"',Le+=' height="'+_e+'"'),Le+=" />",Le}return _=_.replace(R,K),_=_.replace(D,ee),_=_.replace(F,K),_=_.replace(C,K),_=_.replace(X,K),_=E.converter._dispatch("images.after",_,T,E),_}),o.subParser("italicsAndBold",function(_,T,E){_=E.converter._dispatch("italicsAndBold.before",_,T,E);function C(F,D,R){return D+F+R}return T.literalMidWordUnderscores?(_=_.replace(/\b___(\S[\s\S]*?)___\b/g,function(F,D){return C(D,"<strong><em>","</em></strong>")}),_=_.replace(/\b__(\S[\s\S]*?)__\b/g,function(F,D){return C(D,"<strong>","</strong>")}),_=_.replace(/\b_(\S[\s\S]*?)_\b/g,function(F,D){return C(D,"<em>","</em>")})):(_=_.replace(/___(\S[\s\S]*?)___/g,function(F,D){return/\S$/.test(D)?C(D,"<strong><em>","</em></strong>"):F}),_=_.replace(/__(\S[\s\S]*?)__/g,function(F,D){return/\S$/.test(D)?C(D,"<strong>","</strong>"):F}),_=_.replace(/_([^\s_][\s\S]*?)_/g,function(F,D){return/\S$/.test(D)?C(D,"<em>","</em>"):F})),T.literalMidWordAsterisks?(_=_.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(F,D,R){return C(R,D+"<strong><em>","</em></strong>")}),_=_.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(F,D,R){return C(R,D+"<strong>","</strong>")}),_=_.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(F,D,R){return C(R,D+"<em>","</em>")})):(_=_.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(F,D){return/\S$/.test(D)?C(D,"<strong><em>","</em></strong>"):F}),_=_.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(F,D){return/\S$/.test(D)?C(D,"<strong>","</strong>"):F}),_=_.replace(/\*([^\s*][\s\S]*?)\*/g,function(F,D){return/\S$/.test(D)?C(D,"<em>","</em>"):F})),_=E.converter._dispatch("italicsAndBold.after",_,T,E),_}),o.subParser("lists",function(_,T,E){function C(R,X){E.gListLevel++,R=R.replace(/\n{2,}$/,`
`),R+="¨0";var ee=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,K=/\n[ \t]*\n(?!¨0)/.test(R);return T.disableForced4SpacesIndentedSublists&&(ee=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),R=R.replace(ee,function(j,ie,V,re,oe,_e,le){le=le&&le.trim()!=="";var we=o.subParser("outdent")(oe,T,E),Re="";return _e&&T.tasklists&&(Re=' class="task-list-item" style="list-style-type: none;"',we=we.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Oe='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return le&&(Oe+=" checked"),Oe+=">",Oe})),we=we.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Oe){return"¨A"+Oe}),ie||we.search(/\n{2,}/)>-1?(we=o.subParser("githubCodeBlocks")(we,T,E),we=o.subParser("blockGamut")(we,T,E)):(we=o.subParser("lists")(we,T,E),we=we.replace(/\n$/,""),we=o.subParser("hashHTMLBlocks")(we,T,E),we=we.replace(/\n\n+/g,`

`),K?we=o.subParser("paragraphs")(we,T,E):we=o.subParser("spanGamut")(we,T,E)),we=we.replace("¨A",""),we="<li"+Re+">"+we+`</li>
`,we}),R=R.replace(/¨0/g,""),E.gListLevel--,X&&(R=R.replace(/\s+$/,"")),R}function F(R,X){if(X==="ol"){var ee=R.match(/^ *(\d+)\./);if(ee&&ee[1]!=="1")return' start="'+ee[1]+'"'}return""}function D(R,X,ee){var K=T.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,j=T.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,ie=X==="ul"?K:j,V="";if(R.search(ie)!==-1)(function oe(_e){var le=_e.search(ie),we=F(R,X);le!==-1?(V+=`

<`+X+we+`>
`+C(_e.slice(0,le),!!ee)+"</"+X+`>
`,X=X==="ul"?"ol":"ul",ie=X==="ul"?K:j,oe(_e.slice(le))):V+=`

<`+X+we+`>
`+C(_e,!!ee)+"</"+X+`>
`})(R);else{var re=F(R,X);V=`

<`+X+re+`>
`+C(R,!!ee)+"</"+X+`>
`}return V}return _=E.converter._dispatch("lists.before",_,T,E),_+="¨0",E.gListLevel?_=_.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(R,X,ee){var K=ee.search(/[*+-]/g)>-1?"ul":"ol";return D(X,K,!0)}):_=_.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(R,X,ee,K){var j=K.search(/[*+-]/g)>-1?"ul":"ol";return D(ee,j,!1)}),_=_.replace(/¨0/,""),_=E.converter._dispatch("lists.after",_,T,E),_}),o.subParser("metadata",function(_,T,E){if(!T.metadata)return _;_=E.converter._dispatch("metadata.before",_,T,E);function C(F){E.metadata.raw=F,F=F.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),F=F.replace(/\n {4}/g," "),F.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(D,R,X){return E.metadata.parsed[R]=X,""})}return _=_.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(F,D,R){return C(R),"¨M"}),_=_.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(F,D,R){return D&&(E.metadata.format=D),C(R),"¨M"}),_=_.replace(/¨M/g,""),_=E.converter._dispatch("metadata.after",_,T,E),_}),o.subParser("outdent",function(_,T,E){return _=E.converter._dispatch("outdent.before",_,T,E),_=_.replace(/^(\t|[ ]{1,4})/gm,"¨0"),_=_.replace(/¨0/g,""),_=E.converter._dispatch("outdent.after",_,T,E),_}),o.subParser("paragraphs",function(_,T,E){_=E.converter._dispatch("paragraphs.before",_,T,E),_=_.replace(/^\n+/g,""),_=_.replace(/\n+$/g,"");for(var C=_.split(/\n{2,}/g),F=[],D=C.length,R=0;R<D;R++){var X=C[R];X.search(/¨(K|G)(\d+)\1/g)>=0?F.push(X):X.search(/\S/)>=0&&(X=o.subParser("spanGamut")(X,T,E),X=X.replace(/^([ \t]*)/g,"<p>"),X+="</p>",F.push(X))}for(D=F.length,R=0;R<D;R++){for(var ee="",K=F[R],j=!1;/¨(K|G)(\d+)\1/.test(K);){var ie=RegExp.$1,V=RegExp.$2;ie==="K"?ee=E.gHtmlBlocks[V]:j?ee=o.subParser("encodeCode")(E.ghCodeBlocks[V].text,T,E):ee=E.ghCodeBlocks[V].codeblock,ee=ee.replace(/\$/g,"$$$$"),K=K.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,ee),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(K)&&(j=!0)}F[R]=K}return _=F.join(`
`),_=_.replace(/^\n+/g,""),_=_.replace(/\n+$/g,""),E.converter._dispatch("paragraphs.after",_,T,E)}),o.subParser("runExtension",function(_,T,E,C){if(_.filter)T=_.filter(T,C.converter,E);else if(_.regex){var F=_.regex;F instanceof RegExp||(F=new RegExp(F,"g")),T=T.replace(F,_.replace)}return T}),o.subParser("spanGamut",function(_,T,E){return _=E.converter._dispatch("spanGamut.before",_,T,E),_=o.subParser("codeSpans")(_,T,E),_=o.subParser("escapeSpecialCharsWithinTagAttributes")(_,T,E),_=o.subParser("encodeBackslashEscapes")(_,T,E),_=o.subParser("images")(_,T,E),_=o.subParser("anchors")(_,T,E),_=o.subParser("autoLinks")(_,T,E),_=o.subParser("simplifiedAutoLinks")(_,T,E),_=o.subParser("emoji")(_,T,E),_=o.subParser("underline")(_,T,E),_=o.subParser("italicsAndBold")(_,T,E),_=o.subParser("strikethrough")(_,T,E),_=o.subParser("ellipsis")(_,T,E),_=o.subParser("hashHTMLSpans")(_,T,E),_=o.subParser("encodeAmpsAndAngles")(_,T,E),T.simpleLineBreaks?/\n\n¨K/.test(_)||(_=_.replace(/\n+/g,`<br />
`)):_=_.replace(/  +\n/g,`<br />
`),_=E.converter._dispatch("spanGamut.after",_,T,E),_}),o.subParser("strikethrough",function(_,T,E){function C(F){return T.simplifiedAutoLink&&(F=o.subParser("simplifiedAutoLinks")(F,T,E)),"<del>"+F+"</del>"}return T.strikethrough&&(_=E.converter._dispatch("strikethrough.before",_,T,E),_=_.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(F,D){return C(D)}),_=E.converter._dispatch("strikethrough.after",_,T,E)),_}),o.subParser("stripLinkDefinitions",function(_,T,E){var C=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,F=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;_+="¨0";var D=function(R,X,ee,K,j,ie,V){return X=X.toLowerCase(),_.toLowerCase().split(X).length-1<2?R:(ee.match(/^data:.+?\/.+?;base64,/)?E.gUrls[X]=ee.replace(/\s/g,""):E.gUrls[X]=o.subParser("encodeAmpsAndAngles")(ee,T,E),ie?ie+V:(V&&(E.gTitles[X]=V.replace(/"|'/g,"&quot;")),T.parseImgDimensions&&K&&j&&(E.gDimensions[X]={width:K,height:j}),""))};return _=_.replace(F,D),_=_.replace(C,D),_=_.replace(/¨0/,""),_}),o.subParser("tables",function(_,T,E){if(!T.tables)return _;var C=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,F=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function D(j){return/^:[ \t]*--*$/.test(j)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(j)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(j)?' style="text-align:center;"':""}function R(j,ie){var V="";return j=j.trim(),(T.tablesHeaderId||T.tableHeaderId)&&(V=' id="'+j.replace(/ /g,"_").toLowerCase()+'"'),j=o.subParser("spanGamut")(j,T,E),"<th"+V+ie+">"+j+`</th>
`}function X(j,ie){var V=o.subParser("spanGamut")(j,T,E);return"<td"+ie+">"+V+`</td>
`}function ee(j,ie){for(var V=`<table>
<thead>
<tr>
`,re=j.length,oe=0;oe<re;++oe)V+=j[oe];for(V+=`</tr>
</thead>
<tbody>
`,oe=0;oe<ie.length;++oe){V+=`<tr>
`;for(var _e=0;_e<re;++_e)V+=ie[oe][_e];V+=`</tr>
`}return V+=`</tbody>
</table>
`,V}function K(j){var ie,V=j.split(`
`);for(ie=0;ie<V.length;++ie)/^ {0,3}\|/.test(V[ie])&&(V[ie]=V[ie].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(V[ie])&&(V[ie]=V[ie].replace(/\|[ \t]*$/,"")),V[ie]=o.subParser("codeSpans")(V[ie],T,E);var re=V[0].split("|").map(function(Le){return Le.trim()}),oe=V[1].split("|").map(function(Le){return Le.trim()}),_e=[],le=[],we=[],Re=[];for(V.shift(),V.shift(),ie=0;ie<V.length;++ie)V[ie].trim()!==""&&_e.push(V[ie].split("|").map(function(Le){return Le.trim()}));if(re.length<oe.length)return j;for(ie=0;ie<oe.length;++ie)we.push(D(oe[ie]));for(ie=0;ie<re.length;++ie)o.helper.isUndefined(we[ie])&&(we[ie]=""),le.push(R(re[ie],we[ie]));for(ie=0;ie<_e.length;++ie){for(var Oe=[],Pe=0;Pe<le.length;++Pe)o.helper.isUndefined(_e[ie][Pe]),Oe.push(X(_e[ie][Pe],we[Pe]));Re.push(Oe)}return ee(le,Re)}return _=E.converter._dispatch("tables.before",_,T,E),_=_.replace(/\\(\|)/g,o.helper.escapeCharactersCallback),_=_.replace(C,K),_=_.replace(F,K),_=E.converter._dispatch("tables.after",_,T,E),_}),o.subParser("underline",function(_,T,E){return T.underline&&(_=E.converter._dispatch("underline.before",_,T,E),T.literalMidWordUnderscores?(_=_.replace(/\b___(\S[\s\S]*?)___\b/g,function(C,F){return"<u>"+F+"</u>"}),_=_.replace(/\b__(\S[\s\S]*?)__\b/g,function(C,F){return"<u>"+F+"</u>"})):(_=_.replace(/___(\S[\s\S]*?)___/g,function(C,F){return/\S$/.test(F)?"<u>"+F+"</u>":C}),_=_.replace(/__(\S[\s\S]*?)__/g,function(C,F){return/\S$/.test(F)?"<u>"+F+"</u>":C})),_=_.replace(/(_)/g,o.helper.escapeCharactersCallback),_=E.converter._dispatch("underline.after",_,T,E)),_}),o.subParser("unescapeSpecialChars",function(_,T,E){return _=E.converter._dispatch("unescapeSpecialChars.before",_,T,E),_=_.replace(/¨E(\d+)E/g,function(C,F){var D=parseInt(F);return String.fromCharCode(D)}),_=E.converter._dispatch("unescapeSpecialChars.after",_,T,E),_}),o.subParser("makeMarkdown.blockquote",function(_,T){var E="";if(_.hasChildNodes())for(var C=_.childNodes,F=C.length,D=0;D<F;++D){var R=o.subParser("makeMarkdown.node")(C[D],T);R!==""&&(E+=R)}return E=E.trim(),E="> "+E.split(`
`).join(`
> `),E}),o.subParser("makeMarkdown.codeBlock",function(_,T){var E=_.getAttribute("language"),C=_.getAttribute("precodenum");return"```"+E+`
`+T.preList[C]+"\n```"}),o.subParser("makeMarkdown.codeSpan",function(_){return"`"+_.innerHTML+"`"}),o.subParser("makeMarkdown.emphasis",function(_,T){var E="";if(_.hasChildNodes()){E+="*";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)E+=o.subParser("makeMarkdown.node")(C[D],T);E+="*"}return E}),o.subParser("makeMarkdown.header",function(_,T,E){var C=new Array(E+1).join("#"),F="";if(_.hasChildNodes()){F=C+" ";for(var D=_.childNodes,R=D.length,X=0;X<R;++X)F+=o.subParser("makeMarkdown.node")(D[X],T)}return F}),o.subParser("makeMarkdown.hr",function(){return"---"}),o.subParser("makeMarkdown.image",function(_){var T="";return _.hasAttribute("src")&&(T+="!["+_.getAttribute("alt")+"](",T+="<"+_.getAttribute("src")+">",_.hasAttribute("width")&&_.hasAttribute("height")&&(T+=" ="+_.getAttribute("width")+"x"+_.getAttribute("height")),_.hasAttribute("title")&&(T+=' "'+_.getAttribute("title")+'"'),T+=")"),T}),o.subParser("makeMarkdown.links",function(_,T){var E="";if(_.hasChildNodes()&&_.hasAttribute("href")){var C=_.childNodes,F=C.length;E="[";for(var D=0;D<F;++D)E+=o.subParser("makeMarkdown.node")(C[D],T);E+="](",E+="<"+_.getAttribute("href")+">",_.hasAttribute("title")&&(E+=' "'+_.getAttribute("title")+'"'),E+=")"}return E}),o.subParser("makeMarkdown.list",function(_,T,E){var C="";if(!_.hasChildNodes())return"";for(var F=_.childNodes,D=F.length,R=_.getAttribute("start")||1,X=0;X<D;++X)if(!(typeof F[X].tagName>"u"||F[X].tagName.toLowerCase()!=="li")){var ee="";E==="ol"?ee=R.toString()+". ":ee="- ",C+=ee+o.subParser("makeMarkdown.listItem")(F[X],T),++R}return C+=`
<!-- -->
`,C.trim()}),o.subParser("makeMarkdown.listItem",function(_,T){for(var E="",C=_.childNodes,F=C.length,D=0;D<F;++D)E+=o.subParser("makeMarkdown.node")(C[D],T);return/\n$/.test(E)?E=E.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):E+=`
`,E}),o.subParser("makeMarkdown.node",function(_,T,E){E=E||!1;var C="";if(_.nodeType===3)return o.subParser("makeMarkdown.txt")(_,T);if(_.nodeType===8)return"<!--"+_.data+`-->

`;if(_.nodeType!==1)return"";var F=_.tagName.toLowerCase();switch(F){case"h1":E||(C=o.subParser("makeMarkdown.header")(_,T,1)+`

`);break;case"h2":E||(C=o.subParser("makeMarkdown.header")(_,T,2)+`

`);break;case"h3":E||(C=o.subParser("makeMarkdown.header")(_,T,3)+`

`);break;case"h4":E||(C=o.subParser("makeMarkdown.header")(_,T,4)+`

`);break;case"h5":E||(C=o.subParser("makeMarkdown.header")(_,T,5)+`

`);break;case"h6":E||(C=o.subParser("makeMarkdown.header")(_,T,6)+`

`);break;case"p":E||(C=o.subParser("makeMarkdown.paragraph")(_,T)+`

`);break;case"blockquote":E||(C=o.subParser("makeMarkdown.blockquote")(_,T)+`

`);break;case"hr":E||(C=o.subParser("makeMarkdown.hr")(_,T)+`

`);break;case"ol":E||(C=o.subParser("makeMarkdown.list")(_,T,"ol")+`

`);break;case"ul":E||(C=o.subParser("makeMarkdown.list")(_,T,"ul")+`

`);break;case"precode":E||(C=o.subParser("makeMarkdown.codeBlock")(_,T)+`

`);break;case"pre":E||(C=o.subParser("makeMarkdown.pre")(_,T)+`

`);break;case"table":E||(C=o.subParser("makeMarkdown.table")(_,T)+`

`);break;case"code":C=o.subParser("makeMarkdown.codeSpan")(_,T);break;case"em":case"i":C=o.subParser("makeMarkdown.emphasis")(_,T);break;case"strong":case"b":C=o.subParser("makeMarkdown.strong")(_,T);break;case"del":C=o.subParser("makeMarkdown.strikethrough")(_,T);break;case"a":C=o.subParser("makeMarkdown.links")(_,T);break;case"img":C=o.subParser("makeMarkdown.image")(_,T);break;default:C=_.outerHTML+`

`}return C}),o.subParser("makeMarkdown.paragraph",function(_,T){var E="";if(_.hasChildNodes())for(var C=_.childNodes,F=C.length,D=0;D<F;++D)E+=o.subParser("makeMarkdown.node")(C[D],T);return E=E.trim(),E}),o.subParser("makeMarkdown.pre",function(_,T){var E=_.getAttribute("prenum");return"<pre>"+T.preList[E]+"</pre>"}),o.subParser("makeMarkdown.strikethrough",function(_,T){var E="";if(_.hasChildNodes()){E+="~~";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)E+=o.subParser("makeMarkdown.node")(C[D],T);E+="~~"}return E}),o.subParser("makeMarkdown.strong",function(_,T){var E="";if(_.hasChildNodes()){E+="**";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)E+=o.subParser("makeMarkdown.node")(C[D],T);E+="**"}return E}),o.subParser("makeMarkdown.table",function(_,T){var E="",C=[[],[]],F=_.querySelectorAll("thead>tr>th"),D=_.querySelectorAll("tbody>tr"),R,X;for(R=0;R<F.length;++R){var ee=o.subParser("makeMarkdown.tableCell")(F[R],T),K="---";if(F[R].hasAttribute("style")){var j=F[R].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(j){case"text-align:left;":K=":---";break;case"text-align:right;":K="---:";break;case"text-align:center;":K=":---:";break}}C[0][R]=ee.trim(),C[1][R]=K}for(R=0;R<D.length;++R){var ie=C.push([])-1,V=D[R].getElementsByTagName("td");for(X=0;X<F.length;++X){var re=" ";typeof V[X]<"u"&&(re=o.subParser("makeMarkdown.tableCell")(V[X],T)),C[ie].push(re)}}var oe=3;for(R=0;R<C.length;++R)for(X=0;X<C[R].length;++X){var _e=C[R][X].length;_e>oe&&(oe=_e)}for(R=0;R<C.length;++R){for(X=0;X<C[R].length;++X)R===1?C[R][X].slice(-1)===":"?C[R][X]=o.helper.padEnd(C[R][X].slice(-1),oe-1,"-")+":":C[R][X]=o.helper.padEnd(C[R][X],oe,"-"):C[R][X]=o.helper.padEnd(C[R][X],oe);E+="| "+C[R].join(" | ")+` |
`}return E.trim()}),o.subParser("makeMarkdown.tableCell",function(_,T){var E="";if(!_.hasChildNodes())return"";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)E+=o.subParser("makeMarkdown.node")(C[D],T,!0);return E.trim()}),o.subParser("makeMarkdown.txt",function(_){var T=_.nodeValue;return T=T.replace(/ +/g," "),T=T.replace(/¨NBSP;/g," "),T=o.helper.unescapeHTMLEntities(T),T=T.replace(/([*_~|`])/g,"\\$1"),T=T.replace(/^(\s*)>/g,"\\$1>"),T=T.replace(/^#/gm,"\\#"),T=T.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),T=T.replace(/^( {0,3}\d+)\./gm,"$1\\."),T=T.replace(/^( {0,3})([+-])/gm,"$1\\$2"),T=T.replace(/]([\s]*)\(/g,"\\]$1\\("),T=T.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),T});var H=this;e.exports?e.exports=o:H.showdown=o}).call(EM)}(Kl)),Kl.exports}var xM=TM();const SM=Sh(xM);/*!
 * vue-showdown - Use showdown as a vue component
 *
 * @version v4.2.0
 * @link https://vue-showdown.js.org
 * @license MIT
 * @copyright 2018-2023 meteorlxy
 */const CM=Et({name:"VueShowdown",props:{markdown:{type:String,required:!1,default:null},tag:{type:String,required:!1,default:"div"},flavor:{type:String,required:!1,default:null},options:{type:Object,required:!1,default:()=>({})},extensions:{type:Array,required:!1,default:null},vueTemplate:{type:Boolean,required:!1,default:!1},vueTemplateComponents:{type:Object,required:!1,default:()=>({})},vueTemplateData:{type:Object,required:!1,default:()=>({})}},setup(e,{slots:t}){const s=de(()=>{const u=new SM.Converter({extensions:e.extensions??void 0});return e.flavor!==null&&u.setFlavor(e.flavor),Object.entries(e.options).forEach(([f,h])=>{u.setOption(f,h)}),u}),o=de(()=>{var f;if(e.markdown!==null)return e.markdown;const u=(f=t.default)==null?void 0:f.call(t)[0];return(u==null?void 0:u.type)===wa?u.children:""}),i=de(()=>s.value.makeHtml(o.value));return()=>e.vueTemplate?di({components:e.vueTemplateComponents,setup:()=>e.vueTemplateData,template:`<${e.tag}>${i.value}</${e.tag}>`}):di(e.tag,{innerHTML:i.value})}}),PM={fr:{title:"Biodiversité autour de moi",subtitle:"Rechercher des espèces autour de moi",howto:"Comment ça marche ?",intro:`*Biodiversité autour de moi* est un widget dédié à **l'exploration des espèces 🔍** !

Cette interface vous permet de **rechercher les espèces observées dans une zone géographique spécifique 🌍**.

**Utilisez la carte interactive 🗺️** pour sélectionner la zone où vous souhaitez effectuer votre recherche.

La **liste des espèces 🥝🍃** trouvées dans la zone sélectionnée s'affichera à côté de la carte 📋.

Vous pouvez également **partager vos résultats 📤** pour collaborer avec d'autres utilisateurs.
`,parameters:"Paramètres",filters:"Filtres",showFilters:"Afficher les filtres",RefreshFilters:"Rafraichir les paramétres",IndicateGeoJSONUrl:"Indiquer une URL vers un GeoJSON",TaxonListModeSelection:"Mode d'affichage des taxons",widgetTypeSelection:"Mode d'affichage du widget",UseGeoJSONSource:"Utiliser une source GeoJSON",filtersTitle:"Filtres",mapEditable:" Zone de recherche éditable",radius:"Rayon",bufferSize:"Taille du buffer",dateMin:"Date min",dateMax:"Date max",search:"Rechercher",reset:"Réinitialiser",limit:"Limite",nbPages:"Nombre de pages",searchResults:"Résultats de la recherche",noResults:"Aucun résultat",previousPage:"Précedent",nextPage:"Suivant",loading:"Chargement en cours ...",noObservations:"Aucune observation trouvée",noSpeciesObserved:"Aucune espèces observées dans cette zone !",noGeometry:"Aucune géometrie trouvée",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},browserIntegration:"Intégrer le widget dans votre site",drawGeometry:"Dessiner une zone pour afficher les espèces",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type de widget",default:"Carte et liste",list:"Liste d'espèces",config:"Configurateur"},copy:"Copier",copied:"Copié",share:"Partager",shareLink:"Partager un lien",source:{title:"Source de données",select:"Sélectionner une source",modify:"Modifier la source de données",gbifWarning:"Le nombre d'observations et leurs dates sont basés sur une agrégation des 30 000 dernières observations effectuées dans la zone sélectionnée."},gbif:{apiEndpoint:"Adresse de l'API du GBIF"},geonature:{export_api_endpoint:"Adresse de l'API d'un export GeoNature"},desc:"Décroissant",asc:"Croissant",media:{source:"Source de médias",image:"Source d'image",sound:"Source de son",select:"Sélectionner une source de média"},taxon:{scientificName:"Nom scientifique",vernacularName:"Nom vernaculaire",nbObservations:"Nombre d'observations",lastSeenDate:"Date de la dernière observation",taxonFilter:"Filtre par taxon",seeMore:"En savoir plus",class:"Classe du Taxon"},mode:{galleryMode:"Galerie",detailedList:"Détaillé",hybrid:"Hybride",isTaxonListHybrid:"Mode de la liste de taxon modifiable"},widgetType:{list:"Liste",default:"Défaut"},numberOfTaxonPerLine:"Nombre de taxons par ligne",widgetPreview:"Prévisualisation du widget"}},IM={en:{title:"Biodiversity around me",subtitle:"Search for species around me",howto:"How does it work?",intro:`*Biodiversity Around Me* is a widget dedicated to **exploring species 🔍**!

This interface allows you to **search for species observed in a specific geographic area 🌍**.

**Use the interactive map 🗺️** to select the area where you want to conduct your search.

The **list of species 🥝🍃** found in the selected area will be displayed next to the map 📋.

You can also **share your results 📤** to collaborate with other users.

    `,parameters:"Parameters",filters:"Filters",showFilters:"Show Filters",RefreshFilters:"Refresh parameters",IndicateGeoJSONUrl:"Indicate a URL towards a GeoJSON",TaxonListModeSelection:"Taxon display mode",widgetTypeSelection:"Widget display mode",UseGeoJSONSource:"Use a GeoJSON from the web",filtersTitle:"Filters",mapEditable:"Editable research zone",radius:"Radius",bufferSize:"Buffer Size:",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",limit:"Limite",nbPages:"Number of pages",searchResults:"Search results",noResults:"No results",noSpeciesObserved:"No species observed in this area !",previousPage:"Previous",nextPage:"Next",loading:"Loading...",noObservations:"No observation found",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},browserIntegration:"Integrate the widget into your site",drawGeometry:"Draw an area to display species",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type of widget",default:"Map and List",list:"List of species",config:"Configuration"},copy:"Copy",copied:"Copied",share:"Share",shareLink:"Share a link",source:{title:"Data Source",select:"Select a data source",modify:"Change the data source",gbifWarning:"The number of observations and the dates of the latest sightings are based on an aggregation of the latest 30,000 observations made within the selected area."},gbif:{apiEndpoint:"API endpoint of the GBIF"},geonature:{export_api_endpoint:"GeoNature export's API endpoint"},desc:"Décroissant",asc:"Croissant",media:{source:"Media source",image:"Image Source",sound:"Sound Source",select:"Select a media source"},taxon:{scientificName:"Scientific Name",vernacularName:"Vernacular name",nbObservations:"Number of observations",lastSeenDate:"Last observation date",taxonFilter:"Filter by taxon",seeMore:"See more",class:"Taxon's class"},mode:{galleryMode:"Gallery",detailedList:"Detailed",hybrid:"Hybrid",isTaxonListHybrid:"Mode de la liste de taxon modifiable"},widgetType:{list:"Liste",default:"Défaut"},numberOfTaxonPerLine:"Number of taxons per line",widgetPreview:"Widget preview"}},NM=gx({locale:"fr",fallbackLocale:"en",messages:{...PM,...IM}}),MM=[{path:"/",component:p0},{path:"/list",component:m0},{path:"/config",component:_M},{path:"/:pathMatch(.*)*",name:"NotFound",component:LM}],OM=iP({history:MC(),routes:MM});Object.defineProperty(String.prototype,"capitalize",{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1});iv(xx).use(OM).use(NM).use(vE()).component("VueShowdown",CM).mount("#app");
