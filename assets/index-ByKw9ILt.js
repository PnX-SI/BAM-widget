var g_=Object.defineProperty;var __=(t,r,u)=>r in t?g_(t,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[r]=u;var Pa=(t,r,u)=>__(t,typeof r!="symbol"?r+"":r,u);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function u(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(s){if(s.ep)return;s.ep=!0;const h=u(s);fetch(s.href,h)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ql(t){const r=Object.create(null);for(const u of t.split(","))r[u]=1;return u=>u in r}const we={},bs=[],ki=()=>{},m_=()=>!1,yu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),tc=t=>t.startsWith("onUpdate:"),fn=Object.assign,ec=(t,r)=>{const u=t.indexOf(r);u>-1&&t.splice(u,1)},p_=Object.prototype.hasOwnProperty,pe=(t,r)=>p_.call(t,r),Ht=Array.isArray,Ts=t=>ra(t)==="[object Map]",Zs=t=>ra(t)==="[object Set]",qc=t=>ra(t)==="[object Date]",Xt=t=>typeof t=="function",qe=t=>typeof t=="string",xi=t=>typeof t=="symbol",Se=t=>t!==null&&typeof t=="object",$f=t=>(Se(t)||Xt(t))&&Xt(t.then)&&Xt(t.catch),Zf=Object.prototype.toString,ra=t=>Zf.call(t),v_=t=>ra(t).slice(8,-1),Vf=t=>ra(t)==="[object Object]",nc=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Oo=Ql(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lu=t=>{const r=Object.create(null);return u=>r[u]||(r[u]=t(u))},y_=/-(\w)/g,Jn=Lu(t=>t.replace(y_,(r,u)=>u?u.toUpperCase():"")),L_=/\B([A-Z])/g,Kr=Lu(t=>t.replace(L_,"-$1").toLowerCase()),Eu=Lu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ku=Lu(t=>t?`on${Eu(t)}`:""),mr=(t,r)=>!Object.is(t,r),$a=(t,...r)=>{for(let u=0;u<t.length;u++)t[u](...r)},Yf=(t,r,u,c=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:c,value:u})},nu=t=>{const r=parseFloat(t);return isNaN(r)?t:r};let $c;const ku=()=>$c||($c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ms(t){if(Ht(t)){const r={};for(let u=0;u<t.length;u++){const c=t[u],s=qe(c)?w_(c):Ms(c);if(s)for(const h in s)r[h]=s[h]}return r}else if(qe(t)||Se(t))return t}const E_=/;(?![^(]*\))/g,k_=/:([^]+)/,x_=/\/\*[^]*?\*\//g;function w_(t){const r={};return t.replace(x_,"").split(E_).forEach(u=>{if(u){const c=u.split(k_);c.length>1&&(r[c[0].trim()]=c[1].trim())}}),r}function Is(t){let r="";if(qe(t))r=t;else if(Ht(t))for(let u=0;u<t.length;u++){const c=Is(t[u]);c&&(r+=c+" ")}else if(Se(t))for(const u in t)t[u]&&(r+=u+" ");return r.trim()}const b_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",T_=Ql(b_);function Wf(t){return!!t||t===""}function I_(t,r){if(t.length!==r.length)return!1;let u=!0;for(let c=0;u&&c<t.length;c++)u=Zr(t[c],r[c]);return u}function Zr(t,r){if(t===r)return!0;let u=qc(t),c=qc(r);if(u||c)return u&&c?t.getTime()===r.getTime():!1;if(u=xi(t),c=xi(r),u||c)return t===r;if(u=Ht(t),c=Ht(r),u||c)return u&&c?I_(t,r):!1;if(u=Se(t),c=Se(r),u||c){if(!u||!c)return!1;const s=Object.keys(t).length,h=Object.keys(r).length;if(s!==h)return!1;for(const g in t){const _=t.hasOwnProperty(g),v=r.hasOwnProperty(g);if(_&&!v||!_&&v||!Zr(t[g],r[g]))return!1}}return String(t)===String(r)}function ic(t,r){return t.findIndex(u=>Zr(u,r))}const Xf=t=>!!(t&&t.__v_isRef===!0),ce=t=>qe(t)?t:t==null?"":Ht(t)||Se(t)&&(t.toString===Zf||!Xt(t.toString))?Xf(t)?ce(t.value):JSON.stringify(t,jf,2):String(t),jf=(t,r)=>Xf(r)?jf(t,r.value):Ts(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((u,[c,s],h)=>(u[Ju(c,h)+" =>"]=s,u),{})}:Zs(r)?{[`Set(${r.size})`]:[...r.values()].map(u=>Ju(u))}:xi(r)?Ju(r):Se(r)&&!Ht(r)&&!Vf(r)?String(r):r,Ju=(t,r="")=>{var u;return xi(t)?`Symbol(${(u=t.description)!=null?u:r})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let An;class Kf{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=An,!r&&An&&(this.index=(An.scopes||(An.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,u;if(this.scopes)for(r=0,u=this.scopes.length;r<u;r++)this.scopes[r].pause();for(r=0,u=this.effects.length;r<u;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,u;if(this.scopes)for(r=0,u=this.scopes.length;r<u;r++)this.scopes[r].resume();for(r=0,u=this.effects.length;r<u;r++)this.effects[r].resume()}}run(r){if(this._active){const u=An;try{return An=this,r()}finally{An=u}}}on(){An=this}off(){An=this.parent}stop(r){if(this._active){this._active=!1;let u,c;for(u=0,c=this.effects.length;u<c;u++)this.effects[u].stop();for(this.effects.length=0,u=0,c=this.cleanups.length;u<c;u++)this.cleanups[u]();if(this.cleanups.length=0,this.scopes){for(u=0,c=this.scopes.length;u<c;u++)this.scopes[u].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function S_(t){return new Kf(t)}function N_(){return An}let Te;const Qu=new WeakSet;class Jf{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,An&&An.active&&An.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Qu.has(this)&&(Qu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||td(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zc(this),ed(this);const r=Te,u=si;Te=this,si=!0;try{return this.fn()}finally{nd(this),Te=r,si=u,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)oc(r);this.deps=this.depsTail=void 0,Zc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Qu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ml(this)&&this.run()}get dirty(){return ml(this)}}let Qf=0,Ro,Ao;function td(t,r=!1){if(t.flags|=8,r){t.next=Ao,Ao=t;return}t.next=Ro,Ro=t}function rc(){Qf++}function sc(){if(--Qf>0)return;if(Ao){let r=Ao;for(Ao=void 0;r;){const u=r.next;r.next=void 0,r.flags&=-9,r=u}}let t;for(;Ro;){let r=Ro;for(Ro=void 0;r;){const u=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(c){t||(t=c)}r=u}}if(t)throw t}function ed(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function nd(t){let r,u=t.depsTail,c=u;for(;c;){const s=c.prevDep;c.version===-1?(c===u&&(u=s),oc(c),C_(c)):r=c,c.dep.activeLink=c.prevActiveLink,c.prevActiveLink=void 0,c=s}t.deps=r,t.depsTail=u}function ml(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(id(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function id(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===qo))return;t.globalVersion=qo;const r=t.dep;if(t.flags|=2,r.version>0&&!t.isSSR&&t.deps&&!ml(t)){t.flags&=-3;return}const u=Te,c=si;Te=t,si=!0;try{ed(t);const s=t.fn(t._value);(r.version===0||mr(s,t._value))&&(t._value=s,r.version++)}catch(s){throw r.version++,s}finally{Te=u,si=c,nd(t),t.flags&=-3}}function oc(t,r=!1){const{dep:u,prevSub:c,nextSub:s}=t;if(c&&(c.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=c,t.nextSub=void 0),u.subs===t&&(u.subs=c,!c&&u.computed)){u.computed.flags&=-5;for(let h=u.computed.deps;h;h=h.nextDep)oc(h,!0)}!r&&!--u.sc&&u.map&&u.map.delete(u.key)}function C_(t){const{prevDep:r,nextDep:u}=t;r&&(r.nextDep=u,t.prevDep=void 0),u&&(u.prevDep=r,t.nextDep=void 0)}let si=!0;const rd=[];function vr(){rd.push(si),si=!1}function yr(){const t=rd.pop();si=t===void 0?!0:t}function Zc(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const u=Te;Te=void 0;try{r()}finally{Te=u}}}let qo=0;class P_{constructor(r,u){this.sub=r,this.dep=u,this.version=u.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ac{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!Te||!si||Te===this.computed)return;let u=this.activeLink;if(u===void 0||u.sub!==Te)u=this.activeLink=new P_(Te,this),Te.deps?(u.prevDep=Te.depsTail,Te.depsTail.nextDep=u,Te.depsTail=u):Te.deps=Te.depsTail=u,sd(u);else if(u.version===-1&&(u.version=this.version,u.nextDep)){const c=u.nextDep;c.prevDep=u.prevDep,u.prevDep&&(u.prevDep.nextDep=c),u.prevDep=Te.depsTail,u.nextDep=void 0,Te.depsTail.nextDep=u,Te.depsTail=u,Te.deps===u&&(Te.deps=c)}return u}trigger(r){this.version++,qo++,this.notify(r)}notify(r){rc();try{for(let u=this.subs;u;u=u.prevSub)u.sub.notify()&&u.sub.dep.notify()}finally{sc()}}}function sd(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let c=r.deps;c;c=c.nextDep)sd(c)}const u=t.dep.subs;u!==t&&(t.prevSub=u,u&&(u.nextSub=t)),t.dep.subs=t}}const pl=new WeakMap,$r=Symbol(""),vl=Symbol(""),$o=Symbol("");function cn(t,r,u){if(si&&Te){let c=pl.get(t);c||pl.set(t,c=new Map);let s=c.get(u);s||(c.set(u,s=new ac),s.map=c,s.key=u),s.track()}}function Bi(t,r,u,c,s,h){const g=pl.get(t);if(!g){qo++;return}const _=v=>{v&&v.trigger()};if(rc(),r==="clear")g.forEach(_);else{const v=Ht(t),x=v&&nc(u);if(v&&u==="length"){const E=Number(c);g.forEach((k,I)=>{(I==="length"||I===$o||!xi(I)&&I>=E)&&_(k)})}else switch((u!==void 0||g.has(void 0))&&_(g.get(u)),x&&_(g.get($o)),r){case"add":v?x&&_(g.get("length")):(_(g.get($r)),Ts(t)&&_(g.get(vl)));break;case"delete":v||(_(g.get($r)),Ts(t)&&_(g.get(vl)));break;case"set":Ts(t)&&_(g.get($r));break}}sc()}function Es(t){const r=ee(t);return r===t?r:(cn(r,"iterate",$o),jn(t)?r:r.map(hn))}function xu(t){return cn(t=ee(t),"iterate",$o),t}const M_={__proto__:null,[Symbol.iterator](){return tl(this,Symbol.iterator,hn)},concat(...t){return Es(this).concat(...t.map(r=>Ht(r)?Es(r):r))},entries(){return tl(this,"entries",t=>(t[1]=hn(t[1]),t))},every(t,r){return Ai(this,"every",t,r,void 0,arguments)},filter(t,r){return Ai(this,"filter",t,r,u=>u.map(hn),arguments)},find(t,r){return Ai(this,"find",t,r,hn,arguments)},findIndex(t,r){return Ai(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return Ai(this,"findLast",t,r,hn,arguments)},findLastIndex(t,r){return Ai(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return Ai(this,"forEach",t,r,void 0,arguments)},includes(...t){return el(this,"includes",t)},indexOf(...t){return el(this,"indexOf",t)},join(t){return Es(this).join(t)},lastIndexOf(...t){return el(this,"lastIndexOf",t)},map(t,r){return Ai(this,"map",t,r,void 0,arguments)},pop(){return wo(this,"pop")},push(...t){return wo(this,"push",t)},reduce(t,...r){return Vc(this,"reduce",t,r)},reduceRight(t,...r){return Vc(this,"reduceRight",t,r)},shift(){return wo(this,"shift")},some(t,r){return Ai(this,"some",t,r,void 0,arguments)},splice(...t){return wo(this,"splice",t)},toReversed(){return Es(this).toReversed()},toSorted(t){return Es(this).toSorted(t)},toSpliced(...t){return Es(this).toSpliced(...t)},unshift(...t){return wo(this,"unshift",t)},values(){return tl(this,"values",hn)}};function tl(t,r,u){const c=xu(t),s=c[r]();return c!==t&&!jn(t)&&(s._next=s.next,s.next=()=>{const h=s._next();return h.value&&(h.value=u(h.value)),h}),s}const O_=Array.prototype;function Ai(t,r,u,c,s,h){const g=xu(t),_=g!==t&&!jn(t),v=g[r];if(v!==O_[r]){const k=v.apply(t,h);return _?hn(k):k}let x=u;g!==t&&(_?x=function(k,I){return u.call(this,hn(k),I,t)}:u.length>2&&(x=function(k,I){return u.call(this,k,I,t)}));const E=v.call(g,x,c);return _&&s?s(E):E}function Vc(t,r,u,c){const s=xu(t);let h=u;return s!==t&&(jn(t)?u.length>3&&(h=function(g,_,v){return u.call(this,g,_,v,t)}):h=function(g,_,v){return u.call(this,g,hn(_),v,t)}),s[r](h,...c)}function el(t,r,u){const c=ee(t);cn(c,"iterate",$o);const s=c[r](...u);return(s===-1||s===!1)&&cc(u[0])?(u[0]=ee(u[0]),c[r](...u)):s}function wo(t,r,u=[]){vr(),rc();const c=ee(t)[r].apply(t,u);return sc(),yr(),c}const R_=Ql("__proto__,__v_isRef,__isVue"),od=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xi));function A_(t){xi(t)||(t=String(t));const r=ee(this);return cn(r,"has",t),r.hasOwnProperty(t)}class ad{constructor(r=!1,u=!1){this._isReadonly=r,this._isShallow=u}get(r,u,c){if(u==="__v_skip")return r.__v_skip;const s=this._isReadonly,h=this._isShallow;if(u==="__v_isReactive")return!s;if(u==="__v_isReadonly")return s;if(u==="__v_isShallow")return h;if(u==="__v_raw")return c===(s?h?Z_:hd:h?cd:ld).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(c)?r:void 0;const g=Ht(r);if(!s){let v;if(g&&(v=M_[u]))return v;if(u==="hasOwnProperty")return A_}const _=Reflect.get(r,u,an(r)?r:c);return(xi(u)?od.has(u):R_(u))||(s||cn(r,"get",u),h)?_:an(_)?g&&nc(u)?_:_.value:Se(_)?s?dd(_):Nn(_):_}}class ud extends ad{constructor(r=!1){super(!1,r)}set(r,u,c,s){let h=r[u];if(!this._isShallow){const v=Vr(h);if(!jn(c)&&!Vr(c)&&(h=ee(h),c=ee(c)),!Ht(r)&&an(h)&&!an(c))return v?!1:(h.value=c,!0)}const g=Ht(r)&&nc(u)?Number(u)<r.length:pe(r,u),_=Reflect.set(r,u,c,an(r)?r:s);return r===ee(s)&&(g?mr(c,h)&&Bi(r,"set",u,c):Bi(r,"add",u,c)),_}deleteProperty(r,u){const c=pe(r,u);r[u];const s=Reflect.deleteProperty(r,u);return s&&c&&Bi(r,"delete",u,void 0),s}has(r,u){const c=Reflect.has(r,u);return(!xi(u)||!od.has(u))&&cn(r,"has",u),c}ownKeys(r){return cn(r,"iterate",Ht(r)?"length":$r),Reflect.ownKeys(r)}}class D_ extends ad{constructor(r=!1){super(!0,r)}set(r,u){return!0}deleteProperty(r,u){return!0}}const F_=new ud,z_=new D_,B_=new ud(!0);const yl=t=>t,Ma=t=>Reflect.getPrototypeOf(t);function U_(t,r,u){return function(...c){const s=this.__v_raw,h=ee(s),g=Ts(h),_=t==="entries"||t===Symbol.iterator&&g,v=t==="keys"&&g,x=s[t](...c),E=u?yl:r?Ll:hn;return!r&&cn(h,"iterate",v?vl:$r),{next(){const{value:k,done:I}=x.next();return I?{value:k,done:I}:{value:_?[E(k[0]),E(k[1])]:E(k),done:I}},[Symbol.iterator](){return this}}}}function Oa(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function G_(t,r){const u={get(s){const h=this.__v_raw,g=ee(h),_=ee(s);t||(mr(s,_)&&cn(g,"get",s),cn(g,"get",_));const{has:v}=Ma(g),x=r?yl:t?Ll:hn;if(v.call(g,s))return x(h.get(s));if(v.call(g,_))return x(h.get(_));h!==g&&h.get(s)},get size(){const s=this.__v_raw;return!t&&cn(ee(s),"iterate",$r),Reflect.get(s,"size",s)},has(s){const h=this.__v_raw,g=ee(h),_=ee(s);return t||(mr(s,_)&&cn(g,"has",s),cn(g,"has",_)),s===_?h.has(s):h.has(s)||h.has(_)},forEach(s,h){const g=this,_=g.__v_raw,v=ee(_),x=r?yl:t?Ll:hn;return!t&&cn(v,"iterate",$r),_.forEach((E,k)=>s.call(h,x(E),x(k),g))}};return fn(u,t?{add:Oa("add"),set:Oa("set"),delete:Oa("delete"),clear:Oa("clear")}:{add(s){!r&&!jn(s)&&!Vr(s)&&(s=ee(s));const h=ee(this);return Ma(h).has.call(h,s)||(h.add(s),Bi(h,"add",s,s)),this},set(s,h){!r&&!jn(h)&&!Vr(h)&&(h=ee(h));const g=ee(this),{has:_,get:v}=Ma(g);let x=_.call(g,s);x||(s=ee(s),x=_.call(g,s));const E=v.call(g,s);return g.set(s,h),x?mr(h,E)&&Bi(g,"set",s,h):Bi(g,"add",s,h),this},delete(s){const h=ee(this),{has:g,get:_}=Ma(h);let v=g.call(h,s);v||(s=ee(s),v=g.call(h,s)),_&&_.call(h,s);const x=h.delete(s);return v&&Bi(h,"delete",s,void 0),x},clear(){const s=ee(this),h=s.size!==0,g=s.clear();return h&&Bi(s,"clear",void 0,void 0),g}}),["keys","values","entries",Symbol.iterator].forEach(s=>{u[s]=U_(s,t,r)}),u}function uc(t,r){const u=G_(t,r);return(c,s,h)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?c:Reflect.get(pe(u,s)&&s in c?u:c,s,h)}const H_={get:uc(!1,!1)},q_={get:uc(!1,!0)},$_={get:uc(!0,!1)};const ld=new WeakMap,cd=new WeakMap,hd=new WeakMap,Z_=new WeakMap;function V_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Y_(t){return t.__v_skip||!Object.isExtensible(t)?0:V_(v_(t))}function Nn(t){return Vr(t)?t:lc(t,!1,F_,H_,ld)}function fd(t){return lc(t,!1,B_,q_,cd)}function dd(t){return lc(t,!0,z_,$_,hd)}function lc(t,r,u,c,s){if(!Se(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const h=s.get(t);if(h)return h;const g=Y_(t);if(g===0)return t;const _=new Proxy(t,g===2?c:u);return s.set(t,_),_}function Ss(t){return Vr(t)?Ss(t.__v_raw):!!(t&&t.__v_isReactive)}function Vr(t){return!!(t&&t.__v_isReadonly)}function jn(t){return!!(t&&t.__v_isShallow)}function cc(t){return t?!!t.__v_raw:!1}function ee(t){const r=t&&t.__v_raw;return r?ee(r):t}function W_(t){return!pe(t,"__v_skip")&&Object.isExtensible(t)&&Yf(t,"__v_skip",!0),t}const hn=t=>Se(t)?Nn(t):t,Ll=t=>Se(t)?dd(t):t;function an(t){return t?t.__v_isRef===!0:!1}function Jt(t){return gd(t,!1)}function iu(t){return gd(t,!0)}function gd(t,r){return an(t)?t:new X_(t,r)}class X_{constructor(r,u){this.dep=new ac,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=u?r:ee(r),this._value=u?r:hn(r),this.__v_isShallow=u}get value(){return this.dep.track(),this._value}set value(r){const u=this._rawValue,c=this.__v_isShallow||jn(r)||Vr(r);r=c?r:ee(r),mr(r,u)&&(this._rawValue=r,this._value=c?r:hn(r),this.dep.trigger())}}function se(t){return an(t)?t.value:t}const j_={get:(t,r,u)=>r==="__v_raw"?t:se(Reflect.get(t,r,u)),set:(t,r,u,c)=>{const s=t[r];return an(s)&&!an(u)?(s.value=u,!0):Reflect.set(t,r,u,c)}};function _d(t){return Ss(t)?t:new Proxy(t,j_)}class K_{constructor(r,u,c){this.fn=r,this.setter=u,this._value=void 0,this.dep=new ac(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!u,this.isSSR=c}notify(){if(this.flags|=16,!(this.flags&8)&&Te!==this)return td(this,!0),!0}get value(){const r=this.dep.track();return id(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function J_(t,r,u=!1){let c,s;return Xt(t)?c=t:(c=t.get,s=t.set),new K_(c,s,u)}const Ra={},ru=new WeakMap;let Hr;function Q_(t,r=!1,u=Hr){if(u){let c=ru.get(u);c||ru.set(u,c=[]),c.push(t)}}function tm(t,r,u=we){const{immediate:c,deep:s,once:h,scheduler:g,augmentJob:_,call:v}=u,x=z=>s?z:jn(z)||s===!1||s===0?Ui(z,1):Ui(z);let E,k,I,P,M=!1,U=!1;if(an(t)?(k=()=>t.value,M=jn(t)):Ss(t)?(k=()=>x(t),M=!0):Ht(t)?(U=!0,M=t.some(z=>Ss(z)||jn(z)),k=()=>t.map(z=>{if(an(z))return z.value;if(Ss(z))return x(z);if(Xt(z))return v?v(z,2):z()})):Xt(t)?r?k=v?()=>v(t,2):t:k=()=>{if(I){vr();try{I()}finally{yr()}}const z=Hr;Hr=E;try{return v?v(t,3,[P]):t(P)}finally{Hr=z}}:k=ki,r&&s){const z=k,X=s===!0?1/0:s;k=()=>Ui(z(),X)}const W=N_(),A=()=>{E.stop(),W&&W.active&&ec(W.effects,E)};if(h&&r){const z=r;r=(...X)=>{z(...X),A()}}let B=U?new Array(t.length).fill(Ra):Ra;const G=z=>{if(!(!(E.flags&1)||!E.dirty&&!z))if(r){const X=E.run();if(s||M||(U?X.some((V,Z)=>mr(V,B[Z])):mr(X,B))){I&&I();const V=Hr;Hr=E;try{const Z=[X,B===Ra?void 0:U&&B[0]===Ra?[]:B,P];v?v(r,3,Z):r(...Z),B=X}finally{Hr=V}}}else E.run()};return _&&_(G),E=new Jf(k),E.scheduler=g?()=>g(G,!1):G,P=z=>Q_(z,!1,E),I=E.onStop=()=>{const z=ru.get(E);if(z){if(v)v(z,4);else for(const X of z)X();ru.delete(E)}},r?c?G(!0):B=E.run():g?g(G.bind(null,!0),!0):E.run(),A.pause=E.pause.bind(E),A.resume=E.resume.bind(E),A.stop=A,A}function Ui(t,r=1/0,u){if(r<=0||!Se(t)||t.__v_skip||(u=u||new Set,u.has(t)))return t;if(u.add(t),r--,an(t))Ui(t.value,r,u);else if(Ht(t))for(let c=0;c<t.length;c++)Ui(t[c],r,u);else if(Zs(t)||Ts(t))t.forEach(c=>{Ui(c,r,u)});else if(Vf(t)){for(const c in t)Ui(t[c],r,u);for(const c of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,c)&&Ui(t[c],r,u)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function sa(t,r,u,c){try{return c?t(...c):t()}catch(s){wu(s,r,u)}}function wi(t,r,u,c){if(Xt(t)){const s=sa(t,r,u,c);return s&&$f(s)&&s.catch(h=>{wu(h,r,u)}),s}if(Ht(t)){const s=[];for(let h=0;h<t.length;h++)s.push(wi(t[h],r,u,c));return s}}function wu(t,r,u,c=!0){const s=r?r.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:g}=r&&r.appContext.config||we;if(r){let _=r.parent;const v=r.proxy,x=`https://vuejs.org/error-reference/#runtime-${u}`;for(;_;){const E=_.ec;if(E){for(let k=0;k<E.length;k++)if(E[k](t,v,x)===!1)return}_=_.parent}if(h){vr(),sa(h,null,10,[t,v,x]),yr();return}}em(t,u,s,c,g)}function em(t,r,u,c=!0,s=!1){if(s)throw t;console.error(t)}const Ln=[];let yi=-1;const Ns=[];let fr=null,ks=0;const md=Promise.resolve();let su=null;function Vs(t){const r=su||md;return t?r.then(this?t.bind(this):t):r}function nm(t){let r=yi+1,u=Ln.length;for(;r<u;){const c=r+u>>>1,s=Ln[c],h=Zo(s);h<t||h===t&&s.flags&2?r=c+1:u=c}return r}function hc(t){if(!(t.flags&1)){const r=Zo(t),u=Ln[Ln.length-1];!u||!(t.flags&2)&&r>=Zo(u)?Ln.push(t):Ln.splice(nm(r),0,t),t.flags|=1,pd()}}function pd(){su||(su=md.then(yd))}function im(t){Ht(t)?Ns.push(...t):fr&&t.id===-1?fr.splice(ks+1,0,t):t.flags&1||(Ns.push(t),t.flags|=1),pd()}function Yc(t,r,u=yi+1){for(;u<Ln.length;u++){const c=Ln[u];if(c&&c.flags&2){if(t&&c.id!==t.uid)continue;Ln.splice(u,1),u--,c.flags&4&&(c.flags&=-2),c(),c.flags&4||(c.flags&=-2)}}}function vd(t){if(Ns.length){const r=[...new Set(Ns)].sort((u,c)=>Zo(u)-Zo(c));if(Ns.length=0,fr){fr.push(...r);return}for(fr=r,ks=0;ks<fr.length;ks++){const u=fr[ks];u.flags&4&&(u.flags&=-2),u.flags&8||u(),u.flags&=-2}fr=null,ks=0}}const Zo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yd(t){try{for(yi=0;yi<Ln.length;yi++){const r=Ln[yi];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),sa(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;yi<Ln.length;yi++){const r=Ln[yi];r&&(r.flags&=-2)}yi=-1,Ln.length=0,vd(),su=null,(Ln.length||Ns.length)&&yd()}}let Sn=null,Ld=null;function ou(t){const r=Sn;return Sn=t,Ld=t&&t.type.__scopeId||null,r}function rm(t,r=Sn,u){if(!r||t._n)return t;const c=(...s)=>{c._d&&ih(-1);const h=ou(r);let g;try{g=t(...s)}finally{ou(h),c._d&&ih(1)}return g};return c._n=!0,c._c=!0,c._d=!0,c}function Hi(t,r){if(Sn===null)return t;const u=Iu(Sn),c=t.dirs||(t.dirs=[]);for(let s=0;s<r.length;s++){let[h,g,_,v=we]=r[s];h&&(Xt(h)&&(h={mounted:h,updated:h}),h.deep&&Ui(g),c.push({dir:h,instance:u,value:g,oldValue:void 0,arg:_,modifiers:v}))}return t}function Ur(t,r,u,c){const s=t.dirs,h=r&&r.dirs;for(let g=0;g<s.length;g++){const _=s[g];h&&(_.oldValue=h[g].value);let v=_.dir[c];v&&(vr(),wi(v,u,8,[t.el,_,t,r]),yr())}}const sm=Symbol("_vte"),om=t=>t.__isTeleport;function fc(t,r){t.shapeFlag&6&&t.component?(t.transition=r,fc(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}/*! #__NO_SIDE_EFFECTS__ */function Yi(t,r){return Xt(t)?fn({name:t.name},r,{setup:t}):t}function Ed(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function au(t,r,u,c,s=!1){if(Ht(t)){t.forEach((M,U)=>au(M,r&&(Ht(r)?r[U]:r),u,c,s));return}if(Do(c)&&!s){c.shapeFlag&512&&c.type.__asyncResolved&&c.component.subTree.component&&au(t,r,u,c.component.subTree);return}const h=c.shapeFlag&4?Iu(c.component):c.el,g=s?null:h,{i:_,r:v}=t,x=r&&r.r,E=_.refs===we?_.refs={}:_.refs,k=_.setupState,I=ee(k),P=k===we?()=>!1:M=>pe(I,M);if(x!=null&&x!==v&&(qe(x)?(E[x]=null,P(x)&&(k[x]=null)):an(x)&&(x.value=null)),Xt(v))sa(v,_,12,[g,E]);else{const M=qe(v),U=an(v);if(M||U){const W=()=>{if(t.f){const A=M?P(v)?k[v]:E[v]:v.value;s?Ht(A)&&ec(A,h):Ht(A)?A.includes(h)||A.push(h):M?(E[v]=[h],P(v)&&(k[v]=E[v])):(v.value=[h],t.k&&(E[t.k]=v.value))}else M?(E[v]=g,P(v)&&(k[v]=g)):U&&(v.value=g,t.k&&(E[t.k]=g))};g?(W.id=-1,Rn(W,u)):W()}}}ku().requestIdleCallback;ku().cancelIdleCallback;const Do=t=>!!t.type.__asyncLoader,kd=t=>t.type.__isKeepAlive;function am(t,r){xd(t,"a",r)}function um(t,r){xd(t,"da",r)}function xd(t,r,u=on){const c=t.__wdc||(t.__wdc=()=>{let s=u;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(bu(r,c,u),u){let s=u.parent;for(;s&&s.parent;)kd(s.parent.vnode)&&lm(c,r,u,s),s=s.parent}}function lm(t,r,u,c){const s=bu(r,t,c,!0);oa(()=>{ec(c[r],s)},u)}function bu(t,r,u=on,c=!1){if(u){const s=u[t]||(u[t]=[]),h=r.__weh||(r.__weh=(...g)=>{vr();const _=ua(u),v=wi(r,u,t,g);return _(),yr(),v});return c?s.unshift(h):s.push(h),h}}const Wi=t=>(r,u=on)=>{(!Wo||t==="sp")&&bu(t,(...c)=>r(...c),u)},cm=Wi("bm"),Ys=Wi("m"),hm=Wi("bu"),fm=Wi("u"),dm=Wi("bum"),oa=Wi("um"),gm=Wi("sp"),_m=Wi("rtg"),mm=Wi("rtc");function pm(t,r=on){bu("ec",t,r)}const vm="components";function ym(t,r){return Em(vm,t,!0,r)||t}const Lm=Symbol.for("v-ndc");function Em(t,r,u=!0,c=!1){const s=Sn||on;if(s){const h=s.type;{const _=op(h,!1);if(_&&(_===r||_===Jn(r)||_===Eu(Jn(r))))return h}const g=Wc(s[t]||h[t],r)||Wc(s.appContext[t],r);return!g&&c?h:g}}function Wc(t,r){return t&&(t[r]||t[Jn(r)]||t[Eu(Jn(r))])}function Fo(t,r,u,c){let s;const h=u,g=Ht(t);if(g||qe(t)){const _=g&&Ss(t);let v=!1;_&&(v=!jn(t),t=xu(t)),s=new Array(t.length);for(let x=0,E=t.length;x<E;x++)s[x]=r(v?hn(t[x]):t[x],x,void 0,h)}else if(typeof t=="number"){s=new Array(t);for(let _=0;_<t;_++)s[_]=r(_+1,_,void 0,h)}else if(Se(t))if(t[Symbol.iterator])s=Array.from(t,(_,v)=>r(_,v,void 0,h));else{const _=Object.keys(t);s=new Array(_.length);for(let v=0,x=_.length;v<x;v++){const E=_[v];s[v]=r(t[E],E,v,h)}}else s=[];return s}const El=t=>t?qd(t)?Iu(t):El(t.parent):null,zo=fn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>El(t.parent),$root:t=>El(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bd(t),$forceUpdate:t=>t.f||(t.f=()=>{hc(t.update)}),$nextTick:t=>t.n||(t.n=Vs.bind(t.proxy)),$watch:t=>Hm.bind(t)}),nl=(t,r)=>t!==we&&!t.__isScriptSetup&&pe(t,r),km={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:u,setupState:c,data:s,props:h,accessCache:g,type:_,appContext:v}=t;let x;if(r[0]!=="$"){const P=g[r];if(P!==void 0)switch(P){case 1:return c[r];case 2:return s[r];case 4:return u[r];case 3:return h[r]}else{if(nl(c,r))return g[r]=1,c[r];if(s!==we&&pe(s,r))return g[r]=2,s[r];if((x=t.propsOptions[0])&&pe(x,r))return g[r]=3,h[r];if(u!==we&&pe(u,r))return g[r]=4,u[r];kl&&(g[r]=0)}}const E=zo[r];let k,I;if(E)return r==="$attrs"&&cn(t.attrs,"get",""),E(t);if((k=_.__cssModules)&&(k=k[r]))return k;if(u!==we&&pe(u,r))return g[r]=4,u[r];if(I=v.config.globalProperties,pe(I,r))return I[r]},set({_:t},r,u){const{data:c,setupState:s,ctx:h}=t;return nl(s,r)?(s[r]=u,!0):c!==we&&pe(c,r)?(c[r]=u,!0):pe(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(h[r]=u,!0)},has({_:{data:t,setupState:r,accessCache:u,ctx:c,appContext:s,propsOptions:h}},g){let _;return!!u[g]||t!==we&&pe(t,g)||nl(r,g)||(_=h[0])&&pe(_,g)||pe(c,g)||pe(zo,g)||pe(s.config.globalProperties,g)},defineProperty(t,r,u){return u.get!=null?t._.accessCache[r]=0:pe(u,"value")&&this.set(t,r,u.value,null),Reflect.defineProperty(t,r,u)}};function Xc(t){return Ht(t)?t.reduce((r,u)=>(r[u]=null,r),{}):t}let kl=!0;function xm(t){const r=bd(t),u=t.proxy,c=t.ctx;kl=!1,r.beforeCreate&&jc(r.beforeCreate,t,"bc");const{data:s,computed:h,methods:g,watch:_,provide:v,inject:x,created:E,beforeMount:k,mounted:I,beforeUpdate:P,updated:M,activated:U,deactivated:W,beforeDestroy:A,beforeUnmount:B,destroyed:G,unmounted:z,render:X,renderTracked:V,renderTriggered:Z,errorCaptured:ht,serverPrefetch:ct,expose:Ot,inheritAttrs:Nt,components:Tt,directives:Kt,filters:dt}=r;if(x&&wm(x,c,null),g)for(const Pt in g){const ft=g[Pt];Xt(ft)&&(c[Pt]=ft.bind(u))}if(s){const Pt=s.call(u,u);Se(Pt)&&(t.data=Nn(Pt))}if(kl=!0,h)for(const Pt in h){const ft=h[Pt],Qt=Xt(ft)?ft.bind(u,u):Xt(ft.get)?ft.get.bind(u,u):ki,st=!Xt(ft)&&Xt(ft.set)?ft.set.bind(u):ki,Ft=jt({get:Qt,set:st});Object.defineProperty(c,Pt,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:Gt=>Ft.value=Gt})}if(_)for(const Pt in _)wd(_[Pt],c,u,Pt);if(v){const Pt=Xt(v)?v.call(u):v;Reflect.ownKeys(Pt).forEach(ft=>{Za(ft,Pt[ft])})}E&&jc(E,t,"c");function It(Pt,ft){Ht(ft)?ft.forEach(Qt=>Pt(Qt.bind(u))):ft&&Pt(ft.bind(u))}if(It(cm,k),It(Ys,I),It(hm,P),It(fm,M),It(am,U),It(um,W),It(pm,ht),It(mm,V),It(_m,Z),It(dm,B),It(oa,z),It(gm,ct),Ht(Ot))if(Ot.length){const Pt=t.exposed||(t.exposed={});Ot.forEach(ft=>{Object.defineProperty(Pt,ft,{get:()=>u[ft],set:Qt=>u[ft]=Qt})})}else t.exposed||(t.exposed={});X&&t.render===ki&&(t.render=X),Nt!=null&&(t.inheritAttrs=Nt),Tt&&(t.components=Tt),Kt&&(t.directives=Kt),ct&&Ed(t)}function wm(t,r,u=ki){Ht(t)&&(t=xl(t));for(const c in t){const s=t[c];let h;Se(s)?"default"in s?h=oi(s.from||c,s.default,!0):h=oi(s.from||c):h=oi(s),an(h)?Object.defineProperty(r,c,{enumerable:!0,configurable:!0,get:()=>h.value,set:g=>h.value=g}):r[c]=h}}function jc(t,r,u){wi(Ht(t)?t.map(c=>c.bind(r.proxy)):t.bind(r.proxy),r,u)}function wd(t,r,u,c){let s=c.includes(".")?zd(u,c):()=>u[c];if(qe(t)){const h=r[t];Xt(h)&&un(s,h)}else if(Xt(t))un(s,t.bind(u));else if(Se(t))if(Ht(t))t.forEach(h=>wd(h,r,u,c));else{const h=Xt(t.handler)?t.handler.bind(u):r[t.handler];Xt(h)&&un(s,h,t)}}function bd(t){const r=t.type,{mixins:u,extends:c}=r,{mixins:s,optionsCache:h,config:{optionMergeStrategies:g}}=t.appContext,_=h.get(r);let v;return _?v=_:!s.length&&!u&&!c?v=r:(v={},s.length&&s.forEach(x=>uu(v,x,g,!0)),uu(v,r,g)),Se(r)&&h.set(r,v),v}function uu(t,r,u,c=!1){const{mixins:s,extends:h}=r;h&&uu(t,h,u,!0),s&&s.forEach(g=>uu(t,g,u,!0));for(const g in r)if(!(c&&g==="expose")){const _=bm[g]||u&&u[g];t[g]=_?_(t[g],r[g]):r[g]}return t}const bm={data:Kc,props:Jc,emits:Jc,methods:No,computed:No,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:No,directives:No,watch:Im,provide:Kc,inject:Tm};function Kc(t,r){return r?t?function(){return fn(Xt(t)?t.call(this,this):t,Xt(r)?r.call(this,this):r)}:r:t}function Tm(t,r){return No(xl(t),xl(r))}function xl(t){if(Ht(t)){const r={};for(let u=0;u<t.length;u++)r[t[u]]=t[u];return r}return t}function vn(t,r){return t?[...new Set([].concat(t,r))]:r}function No(t,r){return t?fn(Object.create(null),t,r):r}function Jc(t,r){return t?Ht(t)&&Ht(r)?[...new Set([...t,...r])]:fn(Object.create(null),Xc(t),Xc(r??{})):r}function Im(t,r){if(!t)return r;if(!r)return t;const u=fn(Object.create(null),t);for(const c in r)u[c]=vn(t[c],r[c]);return u}function Td(){return{app:null,config:{isNativeTag:m_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sm=0;function Nm(t,r){return function(c,s=null){Xt(c)||(c=fn({},c)),s!=null&&!Se(s)&&(s=null);const h=Td(),g=new WeakSet,_=[];let v=!1;const x=h.app={_uid:Sm++,_component:c,_props:s,_container:null,_context:h,_instance:null,version:up,get config(){return h.config},set config(E){},use(E,...k){return g.has(E)||(E&&Xt(E.install)?(g.add(E),E.install(x,...k)):Xt(E)&&(g.add(E),E(x,...k))),x},mixin(E){return h.mixins.includes(E)||h.mixins.push(E),x},component(E,k){return k?(h.components[E]=k,x):h.components[E]},directive(E,k){return k?(h.directives[E]=k,x):h.directives[E]},mount(E,k,I){if(!v){const P=x._ceVNode||Zt(c,s);return P.appContext=h,I===!0?I="svg":I===!1&&(I=void 0),t(P,E,I),v=!0,x._container=E,E.__vue_app__=x,Iu(P.component)}},onUnmount(E){_.push(E)},unmount(){v&&(wi(_,x._instance,16),t(null,x._container),delete x._container.__vue_app__)},provide(E,k){return h.provides[E]=k,x},runWithContext(E){const k=Cs;Cs=x;try{return E()}finally{Cs=k}}};return x}}let Cs=null;function Za(t,r){if(on){let u=on.provides;const c=on.parent&&on.parent.provides;c===u&&(u=on.provides=Object.create(c)),u[t]=r}}function oi(t,r,u=!1){const c=on||Sn;if(c||Cs){const s=Cs?Cs._context.provides:c?c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return u&&Xt(r)?r.call(c&&c.proxy):r}}const Id={},Sd=()=>Object.create(Id),Nd=t=>Object.getPrototypeOf(t)===Id;function Cm(t,r,u,c=!1){const s={},h=Sd();t.propsDefaults=Object.create(null),Cd(t,r,s,h);for(const g in t.propsOptions[0])g in s||(s[g]=void 0);u?t.props=c?s:fd(s):t.type.props?t.props=s:t.props=h,t.attrs=h}function Pm(t,r,u,c){const{props:s,attrs:h,vnode:{patchFlag:g}}=t,_=ee(s),[v]=t.propsOptions;let x=!1;if((c||g>0)&&!(g&16)){if(g&8){const E=t.vnode.dynamicProps;for(let k=0;k<E.length;k++){let I=E[k];if(Tu(t.emitsOptions,I))continue;const P=r[I];if(v)if(pe(h,I))P!==h[I]&&(h[I]=P,x=!0);else{const M=Jn(I);s[M]=wl(v,_,M,P,t,!1)}else P!==h[I]&&(h[I]=P,x=!0)}}}else{Cd(t,r,s,h)&&(x=!0);let E;for(const k in _)(!r||!pe(r,k)&&((E=Kr(k))===k||!pe(r,E)))&&(v?u&&(u[k]!==void 0||u[E]!==void 0)&&(s[k]=wl(v,_,k,void 0,t,!0)):delete s[k]);if(h!==_)for(const k in h)(!r||!pe(r,k))&&(delete h[k],x=!0)}x&&Bi(t.attrs,"set","")}function Cd(t,r,u,c){const[s,h]=t.propsOptions;let g=!1,_;if(r)for(let v in r){if(Oo(v))continue;const x=r[v];let E;s&&pe(s,E=Jn(v))?!h||!h.includes(E)?u[E]=x:(_||(_={}))[E]=x:Tu(t.emitsOptions,v)||(!(v in c)||x!==c[v])&&(c[v]=x,g=!0)}if(h){const v=ee(u),x=_||we;for(let E=0;E<h.length;E++){const k=h[E];u[k]=wl(s,v,k,x[k],t,!pe(x,k))}}return g}function wl(t,r,u,c,s,h){const g=t[u];if(g!=null){const _=pe(g,"default");if(_&&c===void 0){const v=g.default;if(g.type!==Function&&!g.skipFactory&&Xt(v)){const{propsDefaults:x}=s;if(u in x)c=x[u];else{const E=ua(s);c=x[u]=v.call(null,r),E()}}else c=v;s.ce&&s.ce._setProp(u,c)}g[0]&&(h&&!_?c=!1:g[1]&&(c===""||c===Kr(u))&&(c=!0))}return c}const Mm=new WeakMap;function Pd(t,r,u=!1){const c=u?Mm:r.propsCache,s=c.get(t);if(s)return s;const h=t.props,g={},_=[];let v=!1;if(!Xt(t)){const E=k=>{v=!0;const[I,P]=Pd(k,r,!0);fn(g,I),P&&_.push(...P)};!u&&r.mixins.length&&r.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}if(!h&&!v)return Se(t)&&c.set(t,bs),bs;if(Ht(h))for(let E=0;E<h.length;E++){const k=Jn(h[E]);Qc(k)&&(g[k]=we)}else if(h)for(const E in h){const k=Jn(E);if(Qc(k)){const I=h[E],P=g[k]=Ht(I)||Xt(I)?{type:I}:fn({},I),M=P.type;let U=!1,W=!0;if(Ht(M))for(let A=0;A<M.length;++A){const B=M[A],G=Xt(B)&&B.name;if(G==="Boolean"){U=!0;break}else G==="String"&&(W=!1)}else U=Xt(M)&&M.name==="Boolean";P[0]=U,P[1]=W,(U||pe(P,"default"))&&_.push(k)}}const x=[g,_];return Se(t)&&c.set(t,x),x}function Qc(t){return t[0]!=="$"&&!Oo(t)}const Md=t=>t[0]==="_"||t==="$stable",dc=t=>Ht(t)?t.map(Li):[Li(t)],Om=(t,r,u)=>{if(r._n)return r;const c=rm((...s)=>dc(r(...s)),u);return c._c=!1,c},Od=(t,r,u)=>{const c=t._ctx;for(const s in t){if(Md(s))continue;const h=t[s];if(Xt(h))r[s]=Om(s,h,c);else if(h!=null){const g=dc(h);r[s]=()=>g}}},Rd=(t,r)=>{const u=dc(r);t.slots.default=()=>u},Ad=(t,r,u)=>{for(const c in r)(u||c!=="_")&&(t[c]=r[c])},Rm=(t,r,u)=>{const c=t.slots=Sd();if(t.vnode.shapeFlag&32){const s=r._;s?(Ad(c,r,u),u&&Yf(c,"_",s,!0)):Od(r,c)}else r&&Rd(t,r)},Am=(t,r,u)=>{const{vnode:c,slots:s}=t;let h=!0,g=we;if(c.shapeFlag&32){const _=r._;_?u&&_===1?h=!1:Ad(s,r,u):(h=!r.$stable,Od(r,s)),g=r}else r&&(Rd(t,r),g={default:1});if(h)for(const _ in s)!Md(_)&&g[_]==null&&delete s[_]},Rn=Xm;function Dm(t){return Fm(t)}function Fm(t,r){const u=ku();u.__VUE__=!0;const{insert:c,remove:s,patchProp:h,createElement:g,createText:_,createComment:v,setText:x,setElementText:E,parentNode:k,nextSibling:I,setScopeId:P=ki,insertStaticContent:M}=t,U=(T,D,j,nt=null,ot=null,rt=null,R=void 0,C=null,Y=!!D.dynamicChildren)=>{if(T===D)return;T&&!bo(T,D)&&(nt=it(T),Gt(T,ot,rt,!0),T=null),D.patchFlag===-2&&(Y=!1,D.dynamicChildren=null);const{type:Q,ref:yt,shapeFlag:at}=D;switch(Q){case aa:W(T,D,j,nt);break;case Yr:A(T,D,j,nt);break;case rl:T==null&&B(D,j,nt,R);break;case He:Tt(T,D,j,nt,ot,rt,R,C,Y);break;default:at&1?X(T,D,j,nt,ot,rt,R,C,Y):at&6?Kt(T,D,j,nt,ot,rt,R,C,Y):(at&64||at&128)&&Q.process(T,D,j,nt,ot,rt,R,C,Y,gt)}yt!=null&&ot&&au(yt,T&&T.ref,rt,D||T,!D)},W=(T,D,j,nt)=>{if(T==null)c(D.el=_(D.children),j,nt);else{const ot=D.el=T.el;D.children!==T.children&&x(ot,D.children)}},A=(T,D,j,nt)=>{T==null?c(D.el=v(D.children||""),j,nt):D.el=T.el},B=(T,D,j,nt)=>{[T.el,T.anchor]=M(T.children,D,j,nt,T.el,T.anchor)},G=({el:T,anchor:D},j,nt)=>{let ot;for(;T&&T!==D;)ot=I(T),c(T,j,nt),T=ot;c(D,j,nt)},z=({el:T,anchor:D})=>{let j;for(;T&&T!==D;)j=I(T),s(T),T=j;s(D)},X=(T,D,j,nt,ot,rt,R,C,Y)=>{D.type==="svg"?R="svg":D.type==="math"&&(R="mathml"),T==null?V(D,j,nt,ot,rt,R,C,Y):ct(T,D,ot,rt,R,C,Y)},V=(T,D,j,nt,ot,rt,R,C)=>{let Y,Q;const{props:yt,shapeFlag:at,transition:q,dirs:et}=T;if(Y=T.el=g(T.type,rt,yt&&yt.is,yt),at&8?E(Y,T.children):at&16&&ht(T.children,Y,null,nt,ot,il(T,rt),R,C),et&&Ur(T,null,nt,"created"),Z(Y,T,T.scopeId,R,nt),yt){for(const zt in yt)zt!=="value"&&!Oo(zt)&&h(Y,zt,null,yt[zt],rt,nt);"value"in yt&&h(Y,"value",null,yt.value,rt),(Q=yt.onVnodeBeforeMount)&&pi(Q,nt,T)}et&&Ur(T,null,nt,"beforeMount");const xt=zm(ot,q);xt&&q.beforeEnter(Y),c(Y,D,j),((Q=yt&&yt.onVnodeMounted)||xt||et)&&Rn(()=>{Q&&pi(Q,nt,T),xt&&q.enter(Y),et&&Ur(T,null,nt,"mounted")},ot)},Z=(T,D,j,nt,ot)=>{if(j&&P(T,j),nt)for(let rt=0;rt<nt.length;rt++)P(T,nt[rt]);if(ot){let rt=ot.subTree;if(D===rt||Ud(rt.type)&&(rt.ssContent===D||rt.ssFallback===D)){const R=ot.vnode;Z(T,R,R.scopeId,R.slotScopeIds,ot.parent)}}},ht=(T,D,j,nt,ot,rt,R,C,Y=0)=>{for(let Q=Y;Q<T.length;Q++){const yt=T[Q]=C?dr(T[Q]):Li(T[Q]);U(null,yt,D,j,nt,ot,rt,R,C)}},ct=(T,D,j,nt,ot,rt,R)=>{const C=D.el=T.el;let{patchFlag:Y,dynamicChildren:Q,dirs:yt}=D;Y|=T.patchFlag&16;const at=T.props||we,q=D.props||we;let et;if(j&&Gr(j,!1),(et=q.onVnodeBeforeUpdate)&&pi(et,j,D,T),yt&&Ur(D,T,j,"beforeUpdate"),j&&Gr(j,!0),(at.innerHTML&&q.innerHTML==null||at.textContent&&q.textContent==null)&&E(C,""),Q?Ot(T.dynamicChildren,Q,C,j,nt,il(D,ot),rt):R||ft(T,D,C,null,j,nt,il(D,ot),rt,!1),Y>0){if(Y&16)Nt(C,at,q,j,ot);else if(Y&2&&at.class!==q.class&&h(C,"class",null,q.class,ot),Y&4&&h(C,"style",at.style,q.style,ot),Y&8){const xt=D.dynamicProps;for(let zt=0;zt<xt.length;zt++){const pt=xt[zt],Pe=at[pt],Rt=q[pt];(Rt!==Pe||pt==="value")&&h(C,pt,Pe,Rt,ot,j)}}Y&1&&T.children!==D.children&&E(C,D.children)}else!R&&Q==null&&Nt(C,at,q,j,ot);((et=q.onVnodeUpdated)||yt)&&Rn(()=>{et&&pi(et,j,D,T),yt&&Ur(D,T,j,"updated")},nt)},Ot=(T,D,j,nt,ot,rt,R)=>{for(let C=0;C<D.length;C++){const Y=T[C],Q=D[C],yt=Y.el&&(Y.type===He||!bo(Y,Q)||Y.shapeFlag&70)?k(Y.el):j;U(Y,Q,yt,null,nt,ot,rt,R,!0)}},Nt=(T,D,j,nt,ot)=>{if(D!==j){if(D!==we)for(const rt in D)!Oo(rt)&&!(rt in j)&&h(T,rt,D[rt],null,ot,nt);for(const rt in j){if(Oo(rt))continue;const R=j[rt],C=D[rt];R!==C&&rt!=="value"&&h(T,rt,C,R,ot,nt)}"value"in j&&h(T,"value",D.value,j.value,ot)}},Tt=(T,D,j,nt,ot,rt,R,C,Y)=>{const Q=D.el=T?T.el:_(""),yt=D.anchor=T?T.anchor:_("");let{patchFlag:at,dynamicChildren:q,slotScopeIds:et}=D;et&&(C=C?C.concat(et):et),T==null?(c(Q,j,nt),c(yt,j,nt),ht(D.children||[],j,yt,ot,rt,R,C,Y)):at>0&&at&64&&q&&T.dynamicChildren?(Ot(T.dynamicChildren,q,j,ot,rt,R,C),(D.key!=null||ot&&D===ot.subTree)&&Dd(T,D,!0)):ft(T,D,j,yt,ot,rt,R,C,Y)},Kt=(T,D,j,nt,ot,rt,R,C,Y)=>{D.slotScopeIds=C,T==null?D.shapeFlag&512?ot.ctx.activate(D,j,nt,R,Y):dt(D,j,nt,ot,rt,R,Y):Ut(T,D,Y)},dt=(T,D,j,nt,ot,rt,R)=>{const C=T.component=ep(T,nt,ot);if(kd(T)&&(C.ctx.renderer=gt),np(C,!1,R),C.asyncDep){if(ot&&ot.registerDep(C,It,R),!T.el){const Y=C.subTree=Zt(Yr);A(null,Y,D,j)}}else It(C,T,D,j,ot,rt,R)},Ut=(T,D,j)=>{const nt=D.component=T.component;if(Ym(T,D,j))if(nt.asyncDep&&!nt.asyncResolved){Pt(nt,D,j);return}else nt.next=D,nt.update();else D.el=T.el,nt.vnode=D},It=(T,D,j,nt,ot,rt,R)=>{const C=()=>{if(T.isMounted){let{next:at,bu:q,u:et,parent:xt,vnode:zt}=T;{const dn=Fd(T);if(dn){at&&(at.el=zt.el,Pt(T,at,R)),dn.asyncDep.then(()=>{T.isUnmounted||C()});return}}let pt=at,Pe;Gr(T,!1),at?(at.el=zt.el,Pt(T,at,R)):at=zt,q&&$a(q),(Pe=at.props&&at.props.onVnodeBeforeUpdate)&&pi(Pe,xt,at,zt),Gr(T,!0);const Rt=eh(T),Mt=T.subTree;T.subTree=Rt,U(Mt,Rt,k(Mt.el),it(Mt),T,ot,rt),at.el=Rt.el,pt===null&&Wm(T,Rt.el),et&&Rn(et,ot),(Pe=at.props&&at.props.onVnodeUpdated)&&Rn(()=>pi(Pe,xt,at,zt),ot)}else{let at;const{el:q,props:et}=D,{bm:xt,m:zt,parent:pt,root:Pe,type:Rt}=T,Mt=Do(D);Gr(T,!1),xt&&$a(xt),!Mt&&(at=et&&et.onVnodeBeforeMount)&&pi(at,pt,D),Gr(T,!0);{Pe.ce&&Pe.ce._injectChildStyle(Rt);const dn=T.subTree=eh(T);U(null,dn,j,nt,T,ot,rt),D.el=dn.el}if(zt&&Rn(zt,ot),!Mt&&(at=et&&et.onVnodeMounted)){const dn=D;Rn(()=>pi(at,pt,dn),ot)}(D.shapeFlag&256||pt&&Do(pt.vnode)&&pt.vnode.shapeFlag&256)&&T.a&&Rn(T.a,ot),T.isMounted=!0,D=j=nt=null}};T.scope.on();const Y=T.effect=new Jf(C);T.scope.off();const Q=T.update=Y.run.bind(Y),yt=T.job=Y.runIfDirty.bind(Y);yt.i=T,yt.id=T.uid,Y.scheduler=()=>hc(yt),Gr(T,!0),Q()},Pt=(T,D,j)=>{D.component=T;const nt=T.vnode.props;T.vnode=D,T.next=null,Pm(T,D.props,nt,j),Am(T,D.children,j),vr(),Yc(T),yr()},ft=(T,D,j,nt,ot,rt,R,C,Y=!1)=>{const Q=T&&T.children,yt=T?T.shapeFlag:0,at=D.children,{patchFlag:q,shapeFlag:et}=D;if(q>0){if(q&128){st(Q,at,j,nt,ot,rt,R,C,Y);return}else if(q&256){Qt(Q,at,j,nt,ot,rt,R,C,Y);return}}et&8?(yt&16&&Bt(Q,ot,rt),at!==Q&&E(j,at)):yt&16?et&16?st(Q,at,j,nt,ot,rt,R,C,Y):Bt(Q,ot,rt,!0):(yt&8&&E(j,""),et&16&&ht(at,j,nt,ot,rt,R,C,Y))},Qt=(T,D,j,nt,ot,rt,R,C,Y)=>{T=T||bs,D=D||bs;const Q=T.length,yt=D.length,at=Math.min(Q,yt);let q;for(q=0;q<at;q++){const et=D[q]=Y?dr(D[q]):Li(D[q]);U(T[q],et,j,null,ot,rt,R,C,Y)}Q>yt?Bt(T,ot,rt,!0,!1,at):ht(D,j,nt,ot,rt,R,C,Y,at)},st=(T,D,j,nt,ot,rt,R,C,Y)=>{let Q=0;const yt=D.length;let at=T.length-1,q=yt-1;for(;Q<=at&&Q<=q;){const et=T[Q],xt=D[Q]=Y?dr(D[Q]):Li(D[Q]);if(bo(et,xt))U(et,xt,j,null,ot,rt,R,C,Y);else break;Q++}for(;Q<=at&&Q<=q;){const et=T[at],xt=D[q]=Y?dr(D[q]):Li(D[q]);if(bo(et,xt))U(et,xt,j,null,ot,rt,R,C,Y);else break;at--,q--}if(Q>at){if(Q<=q){const et=q+1,xt=et<yt?D[et].el:nt;for(;Q<=q;)U(null,D[Q]=Y?dr(D[Q]):Li(D[Q]),j,xt,ot,rt,R,C,Y),Q++}}else if(Q>q)for(;Q<=at;)Gt(T[Q],ot,rt,!0),Q++;else{const et=Q,xt=Q,zt=new Map;for(Q=xt;Q<=q;Q++){const St=D[Q]=Y?dr(D[Q]):Li(D[Q]);St.key!=null&&zt.set(St.key,Q)}let pt,Pe=0;const Rt=q-xt+1;let Mt=!1,dn=0;const Ye=new Array(Rt);for(Q=0;Q<Rt;Q++)Ye[Q]=0;for(Q=et;Q<=at;Q++){const St=T[Q];if(Pe>=Rt){Gt(St,ot,rt,!0);continue}let xn;if(St.key!=null)xn=zt.get(St.key);else for(pt=xt;pt<=q;pt++)if(Ye[pt-xt]===0&&bo(St,D[pt])){xn=pt;break}xn===void 0?Gt(St,ot,rt,!0):(Ye[xn-xt]=Q+1,xn>=dn?dn=xn:Mt=!0,U(St,D[xn],j,null,ot,rt,R,C,Y),Pe++)}const ji=Mt?Bm(Ye):bs;for(pt=ji.length-1,Q=Rt-1;Q>=0;Q--){const St=xt+Q,xn=D[St],ui=St+1<yt?D[St+1].el:nt;Ye[Q]===0?U(null,xn,j,ui,ot,rt,R,C,Y):Mt&&(pt<0||Q!==ji[pt]?Ft(xn,j,ui,2):pt--)}}},Ft=(T,D,j,nt,ot=null)=>{const{el:rt,type:R,transition:C,children:Y,shapeFlag:Q}=T;if(Q&6){Ft(T.component.subTree,D,j,nt);return}if(Q&128){T.suspense.move(D,j,nt);return}if(Q&64){R.move(T,D,j,gt);return}if(R===He){c(rt,D,j);for(let at=0;at<Y.length;at++)Ft(Y[at],D,j,nt);c(T.anchor,D,j);return}if(R===rl){G(T,D,j);return}if(nt!==2&&Q&1&&C)if(nt===0)C.beforeEnter(rt),c(rt,D,j),Rn(()=>C.enter(rt),ot);else{const{leave:at,delayLeave:q,afterLeave:et}=C,xt=()=>c(rt,D,j),zt=()=>{at(rt,()=>{xt(),et&&et()})};q?q(rt,xt,zt):zt()}else c(rt,D,j)},Gt=(T,D,j,nt=!1,ot=!1)=>{const{type:rt,props:R,ref:C,children:Y,dynamicChildren:Q,shapeFlag:yt,patchFlag:at,dirs:q,cacheIndex:et}=T;if(at===-2&&(ot=!1),C!=null&&au(C,null,j,T,!0),et!=null&&(D.renderCache[et]=void 0),yt&256){D.ctx.deactivate(T);return}const xt=yt&1&&q,zt=!Do(T);let pt;if(zt&&(pt=R&&R.onVnodeBeforeUnmount)&&pi(pt,D,T),yt&6)$t(T.component,j,nt);else{if(yt&128){T.suspense.unmount(j,nt);return}xt&&Ur(T,null,D,"beforeUnmount"),yt&64?T.type.remove(T,D,j,gt,nt):Q&&!Q.hasOnce&&(rt!==He||at>0&&at&64)?Bt(Q,D,j,!1,!0):(rt===He&&at&384||!ot&&yt&16)&&Bt(Y,D,j),nt&&ne(T)}(zt&&(pt=R&&R.onVnodeUnmounted)||xt)&&Rn(()=>{pt&&pi(pt,D,T),xt&&Ur(T,null,D,"unmounted")},j)},ne=T=>{const{type:D,el:j,anchor:nt,transition:ot}=T;if(D===He){kt(j,nt);return}if(D===rl){z(T);return}const rt=()=>{s(j),ot&&!ot.persisted&&ot.afterLeave&&ot.afterLeave()};if(T.shapeFlag&1&&ot&&!ot.persisted){const{leave:R,delayLeave:C}=ot,Y=()=>R(j,rt);C?C(T.el,rt,Y):Y()}else rt()},kt=(T,D)=>{let j;for(;T!==D;)j=I(T),s(T),T=j;s(D)},$t=(T,D,j)=>{const{bum:nt,scope:ot,job:rt,subTree:R,um:C,m:Y,a:Q}=T;th(Y),th(Q),nt&&$a(nt),ot.stop(),rt&&(rt.flags|=8,Gt(R,T,D,j)),C&&Rn(C,D),Rn(()=>{T.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Bt=(T,D,j,nt=!1,ot=!1,rt=0)=>{for(let R=rt;R<T.length;R++)Gt(T[R],D,j,nt,ot)},it=T=>{if(T.shapeFlag&6)return it(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const D=I(T.anchor||T.el),j=D&&D[sm];return j?I(j):D};let F=!1;const Lt=(T,D,j)=>{T==null?D._vnode&&Gt(D._vnode,null,null,!0):U(D._vnode||null,T,D,null,null,null,j),D._vnode=T,F||(F=!0,Yc(),vd(),F=!1)},gt={p:U,um:Gt,m:Ft,r:ne,mt:dt,mc:ht,pc:ft,pbc:Ot,n:it,o:t};return{render:Lt,hydrate:void 0,createApp:Nm(Lt)}}function il({type:t,props:r},u){return u==="svg"&&t==="foreignObject"||u==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:u}function Gr({effect:t,job:r},u){u?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function zm(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function Dd(t,r,u=!1){const c=t.children,s=r.children;if(Ht(c)&&Ht(s))for(let h=0;h<c.length;h++){const g=c[h];let _=s[h];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=s[h]=dr(s[h]),_.el=g.el),!u&&_.patchFlag!==-2&&Dd(g,_)),_.type===aa&&(_.el=g.el)}}function Bm(t){const r=t.slice(),u=[0];let c,s,h,g,_;const v=t.length;for(c=0;c<v;c++){const x=t[c];if(x!==0){if(s=u[u.length-1],t[s]<x){r[c]=s,u.push(c);continue}for(h=0,g=u.length-1;h<g;)_=h+g>>1,t[u[_]]<x?h=_+1:g=_;x<t[u[h]]&&(h>0&&(r[c]=u[h-1]),u[h]=c)}}for(h=u.length,g=u[h-1];h-- >0;)u[h]=g,g=r[g];return u}function Fd(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:Fd(r)}function th(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const Um=Symbol.for("v-scx"),Gm=()=>oi(Um);function Zi(t,r){return gc(t,null,r)}function un(t,r,u){return gc(t,r,u)}function gc(t,r,u=we){const{immediate:c,deep:s,flush:h,once:g}=u,_=fn({},u),v=r&&c||!r&&h!=="post";let x;if(Wo){if(h==="sync"){const P=Gm();x=P.__watcherHandles||(P.__watcherHandles=[])}else if(!v){const P=()=>{};return P.stop=ki,P.resume=ki,P.pause=ki,P}}const E=on;_.call=(P,M,U)=>wi(P,E,M,U);let k=!1;h==="post"?_.scheduler=P=>{Rn(P,E&&E.suspense)}:h!=="sync"&&(k=!0,_.scheduler=(P,M)=>{M?P():hc(P)}),_.augmentJob=P=>{r&&(P.flags|=4),k&&(P.flags|=2,E&&(P.id=E.uid,P.i=E))};const I=tm(t,r,_);return Wo&&(x?x.push(I):v&&I()),I}function Hm(t,r,u){const c=this.proxy,s=qe(t)?t.includes(".")?zd(c,t):()=>c[t]:t.bind(c,c);let h;Xt(r)?h=r:(h=r.handler,u=r);const g=ua(this),_=gc(s,h.bind(c),u);return g(),_}function zd(t,r){const u=r.split(".");return()=>{let c=t;for(let s=0;s<u.length&&c;s++)c=c[u[s]];return c}}const qm=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${Jn(r)}Modifiers`]||t[`${Kr(r)}Modifiers`];function $m(t,r,...u){if(t.isUnmounted)return;const c=t.vnode.props||we;let s=u;const h=r.startsWith("update:"),g=h&&qm(c,r.slice(7));g&&(g.trim&&(s=u.map(E=>qe(E)?E.trim():E)),g.number&&(s=u.map(nu)));let _,v=c[_=Ku(r)]||c[_=Ku(Jn(r))];!v&&h&&(v=c[_=Ku(Kr(r))]),v&&wi(v,t,6,s);const x=c[_+"Once"];if(x){if(!t.emitted)t.emitted={};else if(t.emitted[_])return;t.emitted[_]=!0,wi(x,t,6,s)}}function Bd(t,r,u=!1){const c=r.emitsCache,s=c.get(t);if(s!==void 0)return s;const h=t.emits;let g={},_=!1;if(!Xt(t)){const v=x=>{const E=Bd(x,r,!0);E&&(_=!0,fn(g,E))};!u&&r.mixins.length&&r.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}return!h&&!_?(Se(t)&&c.set(t,null),null):(Ht(h)?h.forEach(v=>g[v]=null):fn(g,h),Se(t)&&c.set(t,g),g)}function Tu(t,r){return!t||!yu(r)?!1:(r=r.slice(2).replace(/Once$/,""),pe(t,r[0].toLowerCase()+r.slice(1))||pe(t,Kr(r))||pe(t,r))}function eh(t){const{type:r,vnode:u,proxy:c,withProxy:s,propsOptions:[h],slots:g,attrs:_,emit:v,render:x,renderCache:E,props:k,data:I,setupState:P,ctx:M,inheritAttrs:U}=t,W=ou(t);let A,B;try{if(u.shapeFlag&4){const z=s||c,X=z;A=Li(x.call(X,z,E,k,P,I,M)),B=_}else{const z=r;A=Li(z.length>1?z(k,{attrs:_,slots:g,emit:v}):z(k,null)),B=r.props?_:Zm(_)}}catch(z){Bo.length=0,wu(z,t,1),A=Zt(Yr)}let G=A;if(B&&U!==!1){const z=Object.keys(B),{shapeFlag:X}=G;z.length&&X&7&&(h&&z.some(tc)&&(B=Vm(B,h)),G=Wr(G,B,!1,!0))}return u.dirs&&(G=Wr(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(u.dirs):u.dirs),u.transition&&fc(G,u.transition),A=G,ou(W),A}const Zm=t=>{let r;for(const u in t)(u==="class"||u==="style"||yu(u))&&((r||(r={}))[u]=t[u]);return r},Vm=(t,r)=>{const u={};for(const c in t)(!tc(c)||!(c.slice(9)in r))&&(u[c]=t[c]);return u};function Ym(t,r,u){const{props:c,children:s,component:h}=t,{props:g,children:_,patchFlag:v}=r,x=h.emitsOptions;if(r.dirs||r.transition)return!0;if(u&&v>=0){if(v&1024)return!0;if(v&16)return c?nh(c,g,x):!!g;if(v&8){const E=r.dynamicProps;for(let k=0;k<E.length;k++){const I=E[k];if(g[I]!==c[I]&&!Tu(x,I))return!0}}}else return(s||_)&&(!_||!_.$stable)?!0:c===g?!1:c?g?nh(c,g,x):!0:!!g;return!1}function nh(t,r,u){const c=Object.keys(r);if(c.length!==Object.keys(t).length)return!0;for(let s=0;s<c.length;s++){const h=c[s];if(r[h]!==t[h]&&!Tu(u,h))return!0}return!1}function Wm({vnode:t,parent:r},u){for(;r;){const c=r.subTree;if(c.suspense&&c.suspense.activeBranch===t&&(c.el=t.el),c===t)(t=r.vnode).el=u,r=r.parent;else break}}const Ud=t=>t.__isSuspense;function Xm(t,r){r&&r.pendingBranch?Ht(t)?r.effects.push(...t):r.effects.push(t):im(t)}const He=Symbol.for("v-fgt"),aa=Symbol.for("v-txt"),Yr=Symbol.for("v-cmt"),rl=Symbol.for("v-stc"),Bo=[];let Fn=null;function ue(t=!1){Bo.push(Fn=t?null:[])}function jm(){Bo.pop(),Fn=Bo[Bo.length-1]||null}let Vo=1;function ih(t,r=!1){Vo+=t,t<0&&Fn&&r&&(Fn.hasOnce=!0)}function Gd(t){return t.dynamicChildren=Vo>0?Fn||bs:null,jm(),Vo>0&&Fn&&Fn.push(t),t}function he(t,r,u,c,s,h){return Gd(mt(t,r,u,c,s,h,!0))}function lu(t,r,u,c,s){return Gd(Zt(t,r,u,c,s,!0))}function Os(t){return t?t.__v_isVNode===!0:!1}function bo(t,r){return t.type===r.type&&t.key===r.key}const Hd=({key:t})=>t??null,Va=({ref:t,ref_key:r,ref_for:u})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||an(t)||Xt(t)?{i:Sn,r:t,k:r,f:!!u}:t:null);function mt(t,r=null,u=null,c=0,s=null,h=t===He?0:1,g=!1,_=!1){const v={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&Hd(r),ref:r&&Va(r),scopeId:Ld,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:c,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Sn};return _?(_c(v,u),h&128&&t.normalize(v)):u&&(v.shapeFlag|=qe(u)?8:16),Vo>0&&!g&&Fn&&(v.patchFlag>0||h&6)&&v.patchFlag!==32&&Fn.push(v),v}const Zt=Km;function Km(t,r=null,u=null,c=0,s=null,h=!1){if((!t||t===Lm)&&(t=Yr),Os(t)){const _=Wr(t,r,!0);return u&&_c(_,u),Vo>0&&!h&&Fn&&(_.shapeFlag&6?Fn[Fn.indexOf(t)]=_:Fn.push(_)),_.patchFlag=-2,_}if(ap(t)&&(t=t.__vccOpts),r){r=Jm(r);let{class:_,style:v}=r;_&&!qe(_)&&(r.class=Is(_)),Se(v)&&(cc(v)&&!Ht(v)&&(v=fn({},v)),r.style=Ms(v))}const g=qe(t)?1:Ud(t)?128:om(t)?64:Se(t)?4:Xt(t)?2:0;return mt(t,r,u,c,s,g,h,!0)}function Jm(t){return t?cc(t)||Nd(t)?fn({},t):t:null}function Wr(t,r,u=!1,c=!1){const{props:s,ref:h,patchFlag:g,children:_,transition:v}=t,x=r?Xi(s||{},r):s,E={__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&Hd(x),ref:r&&r.ref?u&&h?Ht(h)?h.concat(Va(r)):[h,Va(r)]:Va(r):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==He?g===-1?16:g|16:g,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:v,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wr(t.ssContent),ssFallback:t.ssFallback&&Wr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return v&&c&&fc(E,v.clone(E)),E}function ii(t=" ",r=0){return Zt(aa,null,t,r)}function bl(t="",r=!1){return r?(ue(),lu(Yr,null,t)):Zt(Yr,null,t)}function Li(t){return t==null||typeof t=="boolean"?Zt(Yr):Ht(t)?Zt(He,null,t.slice()):Os(t)?dr(t):Zt(aa,null,String(t))}function dr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wr(t)}function _c(t,r){let u=0;const{shapeFlag:c}=t;if(r==null)r=null;else if(Ht(r))u=16;else if(typeof r=="object")if(c&65){const s=r.default;s&&(s._c&&(s._d=!1),_c(t,s()),s._c&&(s._d=!0));return}else{u=32;const s=r._;!s&&!Nd(r)?r._ctx=Sn:s===3&&Sn&&(Sn.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Xt(r)?(r={default:r,_ctx:Sn},u=32):(r=String(r),c&64?(u=16,r=[ii(r)]):u=8);t.children=r,t.shapeFlag|=u}function Xi(...t){const r={};for(let u=0;u<t.length;u++){const c=t[u];for(const s in c)if(s==="class")r.class!==c.class&&(r.class=Is([r.class,c.class]));else if(s==="style")r.style=Ms([r.style,c.style]);else if(yu(s)){const h=r[s],g=c[s];g&&h!==g&&!(Ht(h)&&h.includes(g))&&(r[s]=h?[].concat(h,g):g)}else s!==""&&(r[s]=c[s])}return r}function pi(t,r,u,c=null){wi(t,r,7,[u,c])}const Qm=Td();let tp=0;function ep(t,r,u){const c=t.type,s=(r?r.appContext:t.appContext)||Qm,h={uid:tp++,vnode:t,type:c,parent:r,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Kf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(s.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pd(c,s),emitsOptions:Bd(c,s),emit:null,emitted:null,propsDefaults:we,inheritAttrs:c.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=$m.bind(null,h),t.ce&&t.ce(h),h}let on=null;const Yo=()=>on||Sn;let cu,Tl;{const t=ku(),r=(u,c)=>{let s;return(s=t[u])||(s=t[u]=[]),s.push(c),h=>{s.length>1?s.forEach(g=>g(h)):s[0](h)}};cu=r("__VUE_INSTANCE_SETTERS__",u=>on=u),Tl=r("__VUE_SSR_SETTERS__",u=>Wo=u)}const ua=t=>{const r=on;return cu(t),t.scope.on(),()=>{t.scope.off(),cu(r)}},rh=()=>{on&&on.scope.off(),cu(null)};function qd(t){return t.vnode.shapeFlag&4}let Wo=!1;function np(t,r=!1,u=!1){r&&Tl(r);const{props:c,children:s}=t.vnode,h=qd(t);Cm(t,c,h,r),Rm(t,s,u);const g=h?ip(t,r):void 0;return r&&Tl(!1),g}function ip(t,r){const u=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,km);const{setup:c}=u;if(c){vr();const s=t.setupContext=c.length>1?sp(t):null,h=ua(t),g=sa(c,t,0,[t.props,s]),_=$f(g);if(yr(),h(),(_||t.sp)&&!Do(t)&&Ed(t),_){if(g.then(rh,rh),r)return g.then(v=>{sh(t,v)}).catch(v=>{wu(v,t,0)});t.asyncDep=g}else sh(t,g)}else $d(t)}function sh(t,r,u){Xt(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:Se(r)&&(t.setupState=_d(r)),$d(t)}function $d(t,r,u){const c=t.type;t.render||(t.render=c.render||ki);{const s=ua(t);vr();try{xm(t)}finally{yr(),s()}}}const rp={get(t,r){return cn(t,"get",""),t[r]}};function sp(t){const r=u=>{t.exposed=u||{}};return{attrs:new Proxy(t.attrs,rp),slots:t.slots,emit:t.emit,expose:r}}function Iu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(_d(W_(t.exposed)),{get(r,u){if(u in r)return r[u];if(u in zo)return zo[u](t)},has(r,u){return u in r||u in zo}})):t.proxy}function op(t,r=!0){return Xt(t)?t.displayName||t.name:t.name||r&&t.__name}function ap(t){return Xt(t)&&"__vccOpts"in t}const jt=(t,r)=>J_(t,r,Wo);function _r(t,r,u){const c=arguments.length;return c===2?Se(r)&&!Ht(r)?Os(r)?Zt(t,null,[r]):Zt(t,r):Zt(t,null,r):(c>3?u=Array.prototype.slice.call(arguments,2):c===3&&Os(u)&&(u=[u]),Zt(t,r,u))}const up="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Il;const oh=typeof window<"u"&&window.trustedTypes;if(oh)try{Il=oh.createPolicy("vue",{createHTML:t=>t})}catch{}const Zd=Il?t=>Il.createHTML(t):t=>t,lp="http://www.w3.org/2000/svg",cp="http://www.w3.org/1998/Math/MathML",zi=typeof document<"u"?document:null,ah=zi&&zi.createElement("template"),hp={insert:(t,r,u)=>{r.insertBefore(t,u||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,u,c)=>{const s=r==="svg"?zi.createElementNS(lp,t):r==="mathml"?zi.createElementNS(cp,t):u?zi.createElement(t,{is:u}):zi.createElement(t);return t==="select"&&c&&c.multiple!=null&&s.setAttribute("multiple",c.multiple),s},createText:t=>zi.createTextNode(t),createComment:t=>zi.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zi.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,u,c,s,h){const g=u?u.previousSibling:r.lastChild;if(s&&(s===h||s.nextSibling))for(;r.insertBefore(s.cloneNode(!0),u),!(s===h||!(s=s.nextSibling)););else{ah.innerHTML=Zd(c==="svg"?`<svg>${t}</svg>`:c==="mathml"?`<math>${t}</math>`:t);const _=ah.content;if(c==="svg"||c==="mathml"){const v=_.firstChild;for(;v.firstChild;)_.appendChild(v.firstChild);_.removeChild(v)}r.insertBefore(_,u)}return[g?g.nextSibling:r.firstChild,u?u.previousSibling:r.lastChild]}},fp=Symbol("_vtc");function dp(t,r,u){const c=t[fp];c&&(r=(r?[r,...c]:[...c]).join(" ")),r==null?t.removeAttribute("class"):u?t.setAttribute("class",r):t.className=r}const uh=Symbol("_vod"),gp=Symbol("_vsh"),_p=Symbol(""),mp=/(^|;)\s*display\s*:/;function pp(t,r,u){const c=t.style,s=qe(u);let h=!1;if(u&&!s){if(r)if(qe(r))for(const g of r.split(";")){const _=g.slice(0,g.indexOf(":")).trim();u[_]==null&&Ya(c,_,"")}else for(const g in r)u[g]==null&&Ya(c,g,"");for(const g in u)g==="display"&&(h=!0),Ya(c,g,u[g])}else if(s){if(r!==u){const g=c[_p];g&&(u+=";"+g),c.cssText=u,h=mp.test(u)}}else r&&t.removeAttribute("style");uh in t&&(t[uh]=h?c.display:"",t[gp]&&(c.display="none"))}const lh=/\s*!important$/;function Ya(t,r,u){if(Ht(u))u.forEach(c=>Ya(t,r,c));else if(u==null&&(u=""),r.startsWith("--"))t.setProperty(r,u);else{const c=vp(t,r);lh.test(u)?t.setProperty(Kr(c),u.replace(lh,""),"important"):t[c]=u}}const ch=["Webkit","Moz","ms"],sl={};function vp(t,r){const u=sl[r];if(u)return u;let c=Jn(r);if(c!=="filter"&&c in t)return sl[r]=c;c=Eu(c);for(let s=0;s<ch.length;s++){const h=ch[s]+c;if(h in t)return sl[r]=h}return r}const hh="http://www.w3.org/1999/xlink";function fh(t,r,u,c,s,h=T_(r)){c&&r.startsWith("xlink:")?u==null?t.removeAttributeNS(hh,r.slice(6,r.length)):t.setAttributeNS(hh,r,u):u==null||h&&!Wf(u)?t.removeAttribute(r):t.setAttribute(r,h?"":xi(u)?String(u):u)}function dh(t,r,u,c,s){if(r==="innerHTML"||r==="textContent"){u!=null&&(t[r]=r==="innerHTML"?Zd(u):u);return}const h=t.tagName;if(r==="value"&&h!=="PROGRESS"&&!h.includes("-")){const _=h==="OPTION"?t.getAttribute("value")||"":t.value,v=u==null?t.type==="checkbox"?"on":"":String(u);(_!==v||!("_value"in t))&&(t.value=v),u==null&&t.removeAttribute(r),t._value=u;return}let g=!1;if(u===""||u==null){const _=typeof t[r];_==="boolean"?u=Wf(u):u==null&&_==="string"?(u="",g=!0):_==="number"&&(u=0,g=!0)}try{t[r]=u}catch{}g&&t.removeAttribute(s||r)}function Gi(t,r,u,c){t.addEventListener(r,u,c)}function yp(t,r,u,c){t.removeEventListener(r,u,c)}const gh=Symbol("_vei");function Lp(t,r,u,c,s=null){const h=t[gh]||(t[gh]={}),g=h[r];if(c&&g)g.value=c;else{const[_,v]=Ep(r);if(c){const x=h[r]=wp(c,s);Gi(t,_,x,v)}else g&&(yp(t,_,g,v),h[r]=void 0)}}const _h=/(?:Once|Passive|Capture)$/;function Ep(t){let r;if(_h.test(t)){r={};let c;for(;c=t.match(_h);)t=t.slice(0,t.length-c[0].length),r[c[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kr(t.slice(2)),r]}let ol=0;const kp=Promise.resolve(),xp=()=>ol||(kp.then(()=>ol=0),ol=Date.now());function wp(t,r){const u=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=u.attached)return;wi(bp(c,u.value),r,5,[c])};return u.value=t,u.attached=xp(),u}function bp(t,r){if(Ht(r)){const u=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{u.call(t),t._stopped=!0},r.map(c=>s=>!s._stopped&&c&&c(s))}else return r}const mh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Tp=(t,r,u,c,s,h)=>{const g=s==="svg";r==="class"?dp(t,c,g):r==="style"?pp(t,u,c):yu(r)?tc(r)||Lp(t,r,u,c,h):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Ip(t,r,c,g))?(dh(t,r,c),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&fh(t,r,c,g,h,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!qe(c))?dh(t,Jn(r),c,h,r):(r==="true-value"?t._trueValue=c:r==="false-value"&&(t._falseValue=c),fh(t,r,c,g))};function Ip(t,r,u,c){if(c)return!!(r==="innerHTML"||r==="textContent"||r in t&&mh(r)&&Xt(u));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return mh(r)&&qe(u)?!1:r in t}const pr=t=>{const r=t.props["onUpdate:modelValue"]||!1;return Ht(r)?u=>$a(r,u):r};function Sp(t){t.target.composing=!0}function ph(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const Kn=Symbol("_assign"),Xr={created(t,{modifiers:{lazy:r,trim:u,number:c}},s){t[Kn]=pr(s);const h=c||s.props&&s.props.type==="number";Gi(t,r?"change":"input",g=>{if(g.target.composing)return;let _=t.value;u&&(_=_.trim()),h&&(_=nu(_)),t[Kn](_)}),u&&Gi(t,"change",()=>{t.value=t.value.trim()}),r||(Gi(t,"compositionstart",Sp),Gi(t,"compositionend",ph),Gi(t,"change",ph))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:u,modifiers:{lazy:c,trim:s,number:h}},g){if(t[Kn]=pr(g),t.composing)return;const _=(h||t.type==="number")&&!/^0\d/.test(t.value)?nu(t.value):t.value,v=r??"";_!==v&&(document.activeElement===t&&t.type!=="range"&&(c&&r===u||s&&t.value.trim()===v)||(t.value=v))}},Np={deep:!0,created(t,r,u){t[Kn]=pr(u),Gi(t,"change",()=>{const c=t._modelValue,s=Rs(t),h=t.checked,g=t[Kn];if(Ht(c)){const _=ic(c,s),v=_!==-1;if(h&&!v)g(c.concat(s));else if(!h&&v){const x=[...c];x.splice(_,1),g(x)}}else if(Zs(c)){const _=new Set(c);h?_.add(s):_.delete(s),g(_)}else g(Vd(t,h))})},mounted:vh,beforeUpdate(t,r,u){t[Kn]=pr(u),vh(t,r,u)}};function vh(t,{value:r,oldValue:u},c){t._modelValue=r;let s;if(Ht(r))s=ic(r,c.props.value)>-1;else if(Zs(r))s=r.has(c.props.value);else{if(r===u)return;s=Zr(r,Vd(t,!0))}t.checked!==s&&(t.checked=s)}const Cp={created(t,{value:r},u){t.checked=Zr(r,u.props.value),t[Kn]=pr(u),Gi(t,"change",()=>{t[Kn](Rs(t))})},beforeUpdate(t,{value:r,oldValue:u},c){t[Kn]=pr(c),r!==u&&(t.checked=Zr(r,c.props.value))}},hu={deep:!0,created(t,{value:r,modifiers:{number:u}},c){const s=Zs(r);Gi(t,"change",()=>{const h=Array.prototype.filter.call(t.options,g=>g.selected).map(g=>u?nu(Rs(g)):Rs(g));t[Kn](t.multiple?s?new Set(h):h:h[0]),t._assigning=!0,Vs(()=>{t._assigning=!1})}),t[Kn]=pr(c)},mounted(t,{value:r}){yh(t,r)},beforeUpdate(t,r,u){t[Kn]=pr(u)},updated(t,{value:r}){t._assigning||yh(t,r)}};function yh(t,r){const u=t.multiple,c=Ht(r);if(!(u&&!c&&!Zs(r))){for(let s=0,h=t.options.length;s<h;s++){const g=t.options[s],_=Rs(g);if(u)if(c){const v=typeof _;v==="string"||v==="number"?g.selected=r.some(x=>String(x)===String(_)):g.selected=ic(r,_)>-1}else g.selected=r.has(_);else if(Zr(Rs(g),r)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!u&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Rs(t){return"_value"in t?t._value:t.value}function Vd(t,r){const u=r?"_trueValue":"_falseValue";return u in t?t[u]:r}const Pp={created(t,r,u){Aa(t,r,u,null,"created")},mounted(t,r,u){Aa(t,r,u,null,"mounted")},beforeUpdate(t,r,u,c){Aa(t,r,u,c,"beforeUpdate")},updated(t,r,u,c){Aa(t,r,u,c,"updated")}};function Mp(t,r){switch(t){case"SELECT":return hu;case"TEXTAREA":return Xr;default:switch(r){case"checkbox":return Np;case"radio":return Cp;default:return Xr}}}function Aa(t,r,u,c,s){const g=Mp(t.tagName,u.props&&u.props.type)[s];g&&g(t,r,u,c)}const Op=fn({patchProp:Tp},hp);let Lh;function Rp(){return Lh||(Lh=Dm(Op))}const Yd=(...t)=>{const r=Rp().createApp(...t),{mount:u}=r;return r.mount=c=>{const s=Dp(c);if(!s)return;const h=r._component;!Xt(h)&&!h.render&&!h.template&&(h.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const g=u(s,!1,Ap(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),g},r};function Ap(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Dp(t){return qe(t)?document.querySelector(t):t}const la=(t,r)=>{const u=t.__vccOpts||t;for(const[c,s]of r)u[c]=s;return u},Fp={};function zp(t,r){const u=ym("RouterView");return ue(),lu(u)}const Bp=la(Fp,[["render",zp]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const xs=typeof document<"u";function Wd(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Up(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Wd(t.default)}const me=Object.assign;function al(t,r){const u={};for(const c in r){const s=r[c];u[c]=ai(s)?s.map(t):t(s)}return u}const Uo=()=>{},ai=Array.isArray,Xd=/#/g,Gp=/&/g,Hp=/\//g,qp=/=/g,$p=/\?/g,jd=/\+/g,Zp=/%5B/g,Vp=/%5D/g,Kd=/%5E/g,Yp=/%60/g,Jd=/%7B/g,Wp=/%7C/g,Qd=/%7D/g,Xp=/%20/g;function mc(t){return encodeURI(""+t).replace(Wp,"|").replace(Zp,"[").replace(Vp,"]")}function jp(t){return mc(t).replace(Jd,"{").replace(Qd,"}").replace(Kd,"^")}function Sl(t){return mc(t).replace(jd,"%2B").replace(Xp,"+").replace(Xd,"%23").replace(Gp,"%26").replace(Yp,"`").replace(Jd,"{").replace(Qd,"}").replace(Kd,"^")}function Kp(t){return Sl(t).replace(qp,"%3D")}function Jp(t){return mc(t).replace(Xd,"%23").replace($p,"%3F")}function Qp(t){return t==null?"":Jp(t).replace(Hp,"%2F")}function Xo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const tv=/\/$/,ev=t=>t.replace(tv,"");function ul(t,r,u="/"){let c,s={},h="",g="";const _=r.indexOf("#");let v=r.indexOf("?");return _<v&&_>=0&&(v=-1),v>-1&&(c=r.slice(0,v),h=r.slice(v+1,_>-1?_:r.length),s=t(h)),_>-1&&(c=c||r.slice(0,_),g=r.slice(_,r.length)),c=sv(c??r,u),{fullPath:c+(h&&"?")+h+g,path:c,query:s,hash:Xo(g)}}function nv(t,r){const u=r.query?t(r.query):"";return r.path+(u&&"?")+u+(r.hash||"")}function Eh(t,r){return!r||!t.toLowerCase().startsWith(r.toLowerCase())?t:t.slice(r.length)||"/"}function iv(t,r,u){const c=r.matched.length-1,s=u.matched.length-1;return c>-1&&c===s&&As(r.matched[c],u.matched[s])&&tg(r.params,u.params)&&t(r.query)===t(u.query)&&r.hash===u.hash}function As(t,r){return(t.aliasOf||t)===(r.aliasOf||r)}function tg(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const u in t)if(!rv(t[u],r[u]))return!1;return!0}function rv(t,r){return ai(t)?kh(t,r):ai(r)?kh(r,t):t===r}function kh(t,r){return ai(r)?t.length===r.length&&t.every((u,c)=>u===r[c]):t.length===1&&t[0]===r}function sv(t,r){if(t.startsWith("/"))return t;if(!t)return r;const u=r.split("/"),c=t.split("/"),s=c[c.length-1];(s===".."||s===".")&&c.push("");let h=u.length-1,g,_;for(g=0;g<c.length;g++)if(_=c[g],_!==".")if(_==="..")h>1&&h--;else break;return u.slice(0,h).join("/")+"/"+c.slice(g).join("/")}const ur={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var jo;(function(t){t.pop="pop",t.push="push"})(jo||(jo={}));var Go;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Go||(Go={}));function ov(t){if(!t)if(xs){const r=document.querySelector("base");t=r&&r.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ev(t)}const av=/^[^#]+#/;function uv(t,r){return t.replace(av,"#")+r}function lv(t,r){const u=document.documentElement.getBoundingClientRect(),c=t.getBoundingClientRect();return{behavior:r.behavior,left:c.left-u.left-(r.left||0),top:c.top-u.top-(r.top||0)}}const Su=()=>({left:window.scrollX,top:window.scrollY});function cv(t){let r;if("el"in t){const u=t.el,c=typeof u=="string"&&u.startsWith("#"),s=typeof u=="string"?c?document.getElementById(u.slice(1)):document.querySelector(u):u;if(!s)return;r=lv(s,t)}else r=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.scrollX,r.top!=null?r.top:window.scrollY)}function xh(t,r){return(history.state?history.state.position-r:-1)+t}const Nl=new Map;function hv(t,r){Nl.set(t,r)}function fv(t){const r=Nl.get(t);return Nl.delete(t),r}let dv=()=>location.protocol+"//"+location.host;function eg(t,r){const{pathname:u,search:c,hash:s}=r,h=t.indexOf("#");if(h>-1){let _=s.includes(t.slice(h))?t.slice(h).length:1,v=s.slice(_);return v[0]!=="/"&&(v="/"+v),Eh(v,"")}return Eh(u,t)+c+s}function gv(t,r,u,c){let s=[],h=[],g=null;const _=({state:I})=>{const P=eg(t,location),M=u.value,U=r.value;let W=0;if(I){if(u.value=P,r.value=I,g&&g===M){g=null;return}W=U?I.position-U.position:0}else c(P);s.forEach(A=>{A(u.value,M,{delta:W,type:jo.pop,direction:W?W>0?Go.forward:Go.back:Go.unknown})})};function v(){g=u.value}function x(I){s.push(I);const P=()=>{const M=s.indexOf(I);M>-1&&s.splice(M,1)};return h.push(P),P}function E(){const{history:I}=window;I.state&&I.replaceState(me({},I.state,{scroll:Su()}),"")}function k(){for(const I of h)I();h=[],window.removeEventListener("popstate",_),window.removeEventListener("beforeunload",E)}return window.addEventListener("popstate",_),window.addEventListener("beforeunload",E,{passive:!0}),{pauseListeners:v,listen:x,destroy:k}}function wh(t,r,u,c=!1,s=!1){return{back:t,current:r,forward:u,replaced:c,position:window.history.length,scroll:s?Su():null}}function _v(t){const{history:r,location:u}=window,c={value:eg(t,u)},s={value:r.state};s.value||h(c.value,{back:null,current:c.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function h(v,x,E){const k=t.indexOf("#"),I=k>-1?(u.host&&document.querySelector("base")?t:t.slice(k))+v:dv()+t+v;try{r[E?"replaceState":"pushState"](x,"",I),s.value=x}catch(P){console.error(P),u[E?"replace":"assign"](I)}}function g(v,x){const E=me({},r.state,wh(s.value.back,v,s.value.forward,!0),x,{position:s.value.position});h(v,E,!0),c.value=v}function _(v,x){const E=me({},s.value,r.state,{forward:v,scroll:Su()});h(E.current,E,!0);const k=me({},wh(c.value,v,null),{position:E.position+1},x);h(v,k,!1),c.value=v}return{location:c,state:s,push:_,replace:g}}function mv(t){t=ov(t);const r=_v(t),u=gv(t,r.state,r.location,r.replace);function c(h,g=!0){g||u.pauseListeners(),history.go(h)}const s=me({location:"",base:t,go:c,createHref:uv.bind(null,t)},r,u);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>r.state.value}),s}function pv(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),mv(t)}function vv(t){return typeof t=="string"||t&&typeof t=="object"}function ng(t){return typeof t=="string"||typeof t=="symbol"}const ig=Symbol("");var bh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bh||(bh={}));function Ds(t,r){return me(new Error,{type:t,[ig]:!0},r)}function Di(t,r){return t instanceof Error&&ig in t&&(r==null||!!(t.type&r))}const Th="[^/]+?",yv={sensitive:!1,strict:!1,start:!0,end:!0},Lv=/[.+*?^${}()[\]/\\]/g;function Ev(t,r){const u=me({},yv,r),c=[];let s=u.start?"^":"";const h=[];for(const x of t){const E=x.length?[]:[90];u.strict&&!x.length&&(s+="/");for(let k=0;k<x.length;k++){const I=x[k];let P=40+(u.sensitive?.25:0);if(I.type===0)k||(s+="/"),s+=I.value.replace(Lv,"\\$&"),P+=40;else if(I.type===1){const{value:M,repeatable:U,optional:W,regexp:A}=I;h.push({name:M,repeatable:U,optional:W});const B=A||Th;if(B!==Th){P+=10;try{new RegExp(`(${B})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${M}" (${B}): `+z.message)}}let G=U?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;k||(G=W&&x.length<2?`(?:/${G})`:"/"+G),W&&(G+="?"),s+=G,P+=20,W&&(P+=-8),U&&(P+=-20),B===".*"&&(P+=-50)}E.push(P)}c.push(E)}if(u.strict&&u.end){const x=c.length-1;c[x][c[x].length-1]+=.7000000000000001}u.strict||(s+="/?"),u.end?s+="$":u.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const g=new RegExp(s,u.sensitive?"":"i");function _(x){const E=x.match(g),k={};if(!E)return null;for(let I=1;I<E.length;I++){const P=E[I]||"",M=h[I-1];k[M.name]=P&&M.repeatable?P.split("/"):P}return k}function v(x){let E="",k=!1;for(const I of t){(!k||!E.endsWith("/"))&&(E+="/"),k=!1;for(const P of I)if(P.type===0)E+=P.value;else if(P.type===1){const{value:M,repeatable:U,optional:W}=P,A=M in x?x[M]:"";if(ai(A)&&!U)throw new Error(`Provided param "${M}" is an array but it is not repeatable (* or + modifiers)`);const B=ai(A)?A.join("/"):A;if(!B)if(W)I.length<2&&(E.endsWith("/")?E=E.slice(0,-1):k=!0);else throw new Error(`Missing required param "${M}"`);E+=B}}return E||"/"}return{re:g,score:c,keys:h,parse:_,stringify:v}}function kv(t,r){let u=0;for(;u<t.length&&u<r.length;){const c=r[u]-t[u];if(c)return c;u++}return t.length<r.length?t.length===1&&t[0]===80?-1:1:t.length>r.length?r.length===1&&r[0]===80?1:-1:0}function rg(t,r){let u=0;const c=t.score,s=r.score;for(;u<c.length&&u<s.length;){const h=kv(c[u],s[u]);if(h)return h;u++}if(Math.abs(s.length-c.length)===1){if(Ih(c))return 1;if(Ih(s))return-1}return s.length-c.length}function Ih(t){const r=t[t.length-1];return t.length>0&&r[r.length-1]<0}const xv={type:0,value:""},wv=/[a-zA-Z0-9_]/;function bv(t){if(!t)return[[]];if(t==="/")return[[xv]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function r(P){throw new Error(`ERR (${u})/"${x}": ${P}`)}let u=0,c=u;const s=[];let h;function g(){h&&s.push(h),h=[]}let _=0,v,x="",E="";function k(){x&&(u===0?h.push({type:0,value:x}):u===1||u===2||u===3?(h.length>1&&(v==="*"||v==="+")&&r(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:x,regexp:E,repeatable:v==="*"||v==="+",optional:v==="*"||v==="?"})):r("Invalid state to consume buffer"),x="")}function I(){x+=v}for(;_<t.length;){if(v=t[_++],v==="\\"&&u!==2){c=u,u=4;continue}switch(u){case 0:v==="/"?(x&&k(),g()):v===":"?(k(),u=1):I();break;case 4:I(),u=c;break;case 1:v==="("?u=2:wv.test(v)?I():(k(),u=0,v!=="*"&&v!=="?"&&v!=="+"&&_--);break;case 2:v===")"?E[E.length-1]=="\\"?E=E.slice(0,-1)+v:u=3:E+=v;break;case 3:k(),u=0,v!=="*"&&v!=="?"&&v!=="+"&&_--,E="";break;default:r("Unknown state");break}}return u===2&&r(`Unfinished custom RegExp for param "${x}"`),k(),g(),s}function Tv(t,r,u){const c=Ev(bv(t.path),u),s=me(c,{record:t,parent:r,children:[],alias:[]});return r&&!s.record.aliasOf==!r.record.aliasOf&&r.children.push(s),s}function Iv(t,r){const u=[],c=new Map;r=Ph({strict:!1,end:!0,sensitive:!1},r);function s(k){return c.get(k)}function h(k,I,P){const M=!P,U=Nh(k);U.aliasOf=P&&P.record;const W=Ph(r,k),A=[U];if("alias"in k){const z=typeof k.alias=="string"?[k.alias]:k.alias;for(const X of z)A.push(Nh(me({},U,{components:P?P.record.components:U.components,path:X,aliasOf:P?P.record:U})))}let B,G;for(const z of A){const{path:X}=z;if(I&&X[0]!=="/"){const V=I.record.path,Z=V[V.length-1]==="/"?"":"/";z.path=I.record.path+(X&&Z+X)}if(B=Tv(z,I,W),P?P.alias.push(B):(G=G||B,G!==B&&G.alias.push(B),M&&k.name&&!Ch(B)&&g(k.name)),sg(B)&&v(B),U.children){const V=U.children;for(let Z=0;Z<V.length;Z++)h(V[Z],B,P&&P.children[Z])}P=P||B}return G?()=>{g(G)}:Uo}function g(k){if(ng(k)){const I=c.get(k);I&&(c.delete(k),u.splice(u.indexOf(I),1),I.children.forEach(g),I.alias.forEach(g))}else{const I=u.indexOf(k);I>-1&&(u.splice(I,1),k.record.name&&c.delete(k.record.name),k.children.forEach(g),k.alias.forEach(g))}}function _(){return u}function v(k){const I=Cv(k,u);u.splice(I,0,k),k.record.name&&!Ch(k)&&c.set(k.record.name,k)}function x(k,I){let P,M={},U,W;if("name"in k&&k.name){if(P=c.get(k.name),!P)throw Ds(1,{location:k});W=P.record.name,M=me(Sh(I.params,P.keys.filter(G=>!G.optional).concat(P.parent?P.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),k.params&&Sh(k.params,P.keys.map(G=>G.name))),U=P.stringify(M)}else if(k.path!=null)U=k.path,P=u.find(G=>G.re.test(U)),P&&(M=P.parse(U),W=P.record.name);else{if(P=I.name?c.get(I.name):u.find(G=>G.re.test(I.path)),!P)throw Ds(1,{location:k,currentLocation:I});W=P.record.name,M=me({},I.params,k.params),U=P.stringify(M)}const A=[];let B=P;for(;B;)A.unshift(B.record),B=B.parent;return{name:W,path:U,params:M,matched:A,meta:Nv(A)}}t.forEach(k=>h(k));function E(){u.length=0,c.clear()}return{addRoute:h,resolve:x,removeRoute:g,clearRoutes:E,getRoutes:_,getRecordMatcher:s}}function Sh(t,r){const u={};for(const c of r)c in t&&(u[c]=t[c]);return u}function Nh(t){const r={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Sv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(r,"mods",{value:{}}),r}function Sv(t){const r={},u=t.props||!1;if("component"in t)r.default=u;else for(const c in t.components)r[c]=typeof u=="object"?u[c]:u;return r}function Ch(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Nv(t){return t.reduce((r,u)=>me(r,u.meta),{})}function Ph(t,r){const u={};for(const c in t)u[c]=c in r?r[c]:t[c];return u}function Cv(t,r){let u=0,c=r.length;for(;u!==c;){const h=u+c>>1;rg(t,r[h])<0?c=h:u=h+1}const s=Pv(t);return s&&(c=r.lastIndexOf(s,c-1)),c}function Pv(t){let r=t;for(;r=r.parent;)if(sg(r)&&rg(t,r)===0)return r}function sg({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Mv(t){const r={};if(t===""||t==="?")return r;const c=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<c.length;++s){const h=c[s].replace(jd," "),g=h.indexOf("="),_=Xo(g<0?h:h.slice(0,g)),v=g<0?null:Xo(h.slice(g+1));if(_ in r){let x=r[_];ai(x)||(x=r[_]=[x]),x.push(v)}else r[_]=v}return r}function Mh(t){let r="";for(let u in t){const c=t[u];if(u=Kp(u),c==null){c!==void 0&&(r+=(r.length?"&":"")+u);continue}(ai(c)?c.map(h=>h&&Sl(h)):[c&&Sl(c)]).forEach(h=>{h!==void 0&&(r+=(r.length?"&":"")+u,h!=null&&(r+="="+h))})}return r}function Ov(t){const r={};for(const u in t){const c=t[u];c!==void 0&&(r[u]=ai(c)?c.map(s=>s==null?null:""+s):c==null?c:""+c)}return r}const Rv=Symbol(""),Oh=Symbol(""),pc=Symbol(""),vc=Symbol(""),Cl=Symbol("");function To(){let t=[];function r(c){return t.push(c),()=>{const s=t.indexOf(c);s>-1&&t.splice(s,1)}}function u(){t=[]}return{add:r,list:()=>t.slice(),reset:u}}function gr(t,r,u,c,s,h=g=>g()){const g=c&&(c.enterCallbacks[s]=c.enterCallbacks[s]||[]);return()=>new Promise((_,v)=>{const x=I=>{I===!1?v(Ds(4,{from:u,to:r})):I instanceof Error?v(I):vv(I)?v(Ds(2,{from:r,to:I})):(g&&c.enterCallbacks[s]===g&&typeof I=="function"&&g.push(I),_())},E=h(()=>t.call(c&&c.instances[s],r,u,x));let k=Promise.resolve(E);t.length<3&&(k=k.then(x)),k.catch(I=>v(I))})}function ll(t,r,u,c,s=h=>h()){const h=[];for(const g of t)for(const _ in g.components){let v=g.components[_];if(!(r!=="beforeRouteEnter"&&!g.instances[_]))if(Wd(v)){const E=(v.__vccOpts||v)[r];E&&h.push(gr(E,u,c,g,_,s))}else{let x=v();h.push(()=>x.then(E=>{if(!E)throw new Error(`Couldn't resolve component "${_}" at "${g.path}"`);const k=Up(E)?E.default:E;g.mods[_]=E,g.components[_]=k;const P=(k.__vccOpts||k)[r];return P&&gr(P,u,c,g,_,s)()}))}}return h}function Rh(t){const r=oi(pc),u=oi(vc),c=jt(()=>{const v=se(t.to);return r.resolve(v)}),s=jt(()=>{const{matched:v}=c.value,{length:x}=v,E=v[x-1],k=u.matched;if(!E||!k.length)return-1;const I=k.findIndex(As.bind(null,E));if(I>-1)return I;const P=Ah(v[x-2]);return x>1&&Ah(E)===P&&k[k.length-1].path!==P?k.findIndex(As.bind(null,v[x-2])):I}),h=jt(()=>s.value>-1&&Bv(u.params,c.value.params)),g=jt(()=>s.value>-1&&s.value===u.matched.length-1&&tg(u.params,c.value.params));function _(v={}){if(zv(v)){const x=r[se(t.replace)?"replace":"push"](se(t.to)).catch(Uo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>x),x}return Promise.resolve()}return{route:c,href:jt(()=>c.value.href),isActive:h,isExactActive:g,navigate:_}}function Av(t){return t.length===1?t[0]:t}const Dv=Yi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Rh,setup(t,{slots:r}){const u=Nn(Rh(t)),{options:c}=oi(pc),s=jt(()=>({[Dh(t.activeClass,c.linkActiveClass,"router-link-active")]:u.isActive,[Dh(t.exactActiveClass,c.linkExactActiveClass,"router-link-exact-active")]:u.isExactActive}));return()=>{const h=r.default&&Av(r.default(u));return t.custom?h:_r("a",{"aria-current":u.isExactActive?t.ariaCurrentValue:null,href:u.href,onClick:u.navigate,class:s.value},h)}}}),Fv=Dv;function zv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const r=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return t.preventDefault&&t.preventDefault(),!0}}function Bv(t,r){for(const u in r){const c=r[u],s=t[u];if(typeof c=="string"){if(c!==s)return!1}else if(!ai(s)||s.length!==c.length||c.some((h,g)=>h!==s[g]))return!1}return!0}function Ah(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Dh=(t,r,u)=>t??r??u,Uv=Yi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:r,slots:u}){const c=oi(Cl),s=jt(()=>t.route||c.value),h=oi(Oh,0),g=jt(()=>{let x=se(h);const{matched:E}=s.value;let k;for(;(k=E[x])&&!k.components;)x++;return x}),_=jt(()=>s.value.matched[g.value]);Za(Oh,jt(()=>g.value+1)),Za(Rv,_),Za(Cl,s);const v=Jt();return un(()=>[v.value,_.value,t.name],([x,E,k],[I,P,M])=>{E&&(E.instances[k]=x,P&&P!==E&&x&&x===I&&(E.leaveGuards.size||(E.leaveGuards=P.leaveGuards),E.updateGuards.size||(E.updateGuards=P.updateGuards))),x&&E&&(!P||!As(E,P)||!I)&&(E.enterCallbacks[k]||[]).forEach(U=>U(x))},{flush:"post"}),()=>{const x=s.value,E=t.name,k=_.value,I=k&&k.components[E];if(!I)return Fh(u.default,{Component:I,route:x});const P=k.props[E],M=P?P===!0?x.params:typeof P=="function"?P(x):P:null,W=_r(I,me({},M,r,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(k.instances[E]=null)},ref:v}));return Fh(u.default,{Component:W,route:x})||W}}});function Fh(t,r){if(!t)return null;const u=t(r);return u.length===1?u[0]:u}const Gv=Uv;function Hv(t){const r=Iv(t.routes,t),u=t.parseQuery||Mv,c=t.stringifyQuery||Mh,s=t.history,h=To(),g=To(),_=To(),v=iu(ur);let x=ur;xs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=al.bind(null,it=>""+it),k=al.bind(null,Qp),I=al.bind(null,Xo);function P(it,F){let Lt,gt;return ng(it)?(Lt=r.getRecordMatcher(it),gt=F):gt=it,r.addRoute(gt,Lt)}function M(it){const F=r.getRecordMatcher(it);F&&r.removeRoute(F)}function U(){return r.getRoutes().map(it=>it.record)}function W(it){return!!r.getRecordMatcher(it)}function A(it,F){if(F=me({},F||v.value),typeof it=="string"){const j=ul(u,it,F.path),nt=r.resolve({path:j.path},F),ot=s.createHref(j.fullPath);return me(j,nt,{params:I(nt.params),hash:Xo(j.hash),redirectedFrom:void 0,href:ot})}let Lt;if(it.path!=null)Lt=me({},it,{path:ul(u,it.path,F.path).path});else{const j=me({},it.params);for(const nt in j)j[nt]==null&&delete j[nt];Lt=me({},it,{params:k(j)}),F.params=k(F.params)}const gt=r.resolve(Lt,F),_t=it.hash||"";gt.params=E(I(gt.params));const T=nv(c,me({},it,{hash:jp(_t),path:gt.path})),D=s.createHref(T);return me({fullPath:T,hash:_t,query:c===Mh?Ov(it.query):it.query||{}},gt,{redirectedFrom:void 0,href:D})}function B(it){return typeof it=="string"?ul(u,it,v.value.path):me({},it)}function G(it,F){if(x!==it)return Ds(8,{from:F,to:it})}function z(it){return Z(it)}function X(it){return z(me(B(it),{replace:!0}))}function V(it){const F=it.matched[it.matched.length-1];if(F&&F.redirect){const{redirect:Lt}=F;let gt=typeof Lt=="function"?Lt(it):Lt;return typeof gt=="string"&&(gt=gt.includes("?")||gt.includes("#")?gt=B(gt):{path:gt},gt.params={}),me({query:it.query,hash:it.hash,params:gt.path!=null?{}:it.params},gt)}}function Z(it,F){const Lt=x=A(it),gt=v.value,_t=it.state,T=it.force,D=it.replace===!0,j=V(Lt);if(j)return Z(me(B(j),{state:typeof j=="object"?me({},_t,j.state):_t,force:T,replace:D}),F||Lt);const nt=Lt;nt.redirectedFrom=F;let ot;return!T&&iv(c,gt,Lt)&&(ot=Ds(16,{to:nt,from:gt}),Ft(gt,gt,!0,!1)),(ot?Promise.resolve(ot):Ot(nt,gt)).catch(rt=>Di(rt)?Di(rt,2)?rt:st(rt):ft(rt,nt,gt)).then(rt=>{if(rt){if(Di(rt,2))return Z(me({replace:D},B(rt.to),{state:typeof rt.to=="object"?me({},_t,rt.to.state):_t,force:T}),F||nt)}else rt=Tt(nt,gt,!0,D,_t);return Nt(nt,gt,rt),rt})}function ht(it,F){const Lt=G(it,F);return Lt?Promise.reject(Lt):Promise.resolve()}function ct(it){const F=kt.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(it):it()}function Ot(it,F){let Lt;const[gt,_t,T]=qv(it,F);Lt=ll(gt.reverse(),"beforeRouteLeave",it,F);for(const j of gt)j.leaveGuards.forEach(nt=>{Lt.push(gr(nt,it,F))});const D=ht.bind(null,it,F);return Lt.push(D),Bt(Lt).then(()=>{Lt=[];for(const j of h.list())Lt.push(gr(j,it,F));return Lt.push(D),Bt(Lt)}).then(()=>{Lt=ll(_t,"beforeRouteUpdate",it,F);for(const j of _t)j.updateGuards.forEach(nt=>{Lt.push(gr(nt,it,F))});return Lt.push(D),Bt(Lt)}).then(()=>{Lt=[];for(const j of T)if(j.beforeEnter)if(ai(j.beforeEnter))for(const nt of j.beforeEnter)Lt.push(gr(nt,it,F));else Lt.push(gr(j.beforeEnter,it,F));return Lt.push(D),Bt(Lt)}).then(()=>(it.matched.forEach(j=>j.enterCallbacks={}),Lt=ll(T,"beforeRouteEnter",it,F,ct),Lt.push(D),Bt(Lt))).then(()=>{Lt=[];for(const j of g.list())Lt.push(gr(j,it,F));return Lt.push(D),Bt(Lt)}).catch(j=>Di(j,8)?j:Promise.reject(j))}function Nt(it,F,Lt){_.list().forEach(gt=>ct(()=>gt(it,F,Lt)))}function Tt(it,F,Lt,gt,_t){const T=G(it,F);if(T)return T;const D=F===ur,j=xs?history.state:{};Lt&&(gt||D?s.replace(it.fullPath,me({scroll:D&&j&&j.scroll},_t)):s.push(it.fullPath,_t)),v.value=it,Ft(it,F,Lt,D),st()}let Kt;function dt(){Kt||(Kt=s.listen((it,F,Lt)=>{if(!$t.listening)return;const gt=A(it),_t=V(gt);if(_t){Z(me(_t,{replace:!0,force:!0}),gt).catch(Uo);return}x=gt;const T=v.value;xs&&hv(xh(T.fullPath,Lt.delta),Su()),Ot(gt,T).catch(D=>Di(D,12)?D:Di(D,2)?(Z(me(B(D.to),{force:!0}),gt).then(j=>{Di(j,20)&&!Lt.delta&&Lt.type===jo.pop&&s.go(-1,!1)}).catch(Uo),Promise.reject()):(Lt.delta&&s.go(-Lt.delta,!1),ft(D,gt,T))).then(D=>{D=D||Tt(gt,T,!1),D&&(Lt.delta&&!Di(D,8)?s.go(-Lt.delta,!1):Lt.type===jo.pop&&Di(D,20)&&s.go(-1,!1)),Nt(gt,T,D)}).catch(Uo)}))}let Ut=To(),It=To(),Pt;function ft(it,F,Lt){st(it);const gt=It.list();return gt.length?gt.forEach(_t=>_t(it,F,Lt)):console.error(it),Promise.reject(it)}function Qt(){return Pt&&v.value!==ur?Promise.resolve():new Promise((it,F)=>{Ut.add([it,F])})}function st(it){return Pt||(Pt=!it,dt(),Ut.list().forEach(([F,Lt])=>it?Lt(it):F()),Ut.reset()),it}function Ft(it,F,Lt,gt){const{scrollBehavior:_t}=t;if(!xs||!_t)return Promise.resolve();const T=!Lt&&fv(xh(it.fullPath,0))||(gt||!Lt)&&history.state&&history.state.scroll||null;return Vs().then(()=>_t(it,F,T)).then(D=>D&&cv(D)).catch(D=>ft(D,it,F))}const Gt=it=>s.go(it);let ne;const kt=new Set,$t={currentRoute:v,listening:!0,addRoute:P,removeRoute:M,clearRoutes:r.clearRoutes,hasRoute:W,getRoutes:U,resolve:A,options:t,push:z,replace:X,go:Gt,back:()=>Gt(-1),forward:()=>Gt(1),beforeEach:h.add,beforeResolve:g.add,afterEach:_.add,onError:It.add,isReady:Qt,install(it){const F=this;it.component("RouterLink",Fv),it.component("RouterView",Gv),it.config.globalProperties.$router=F,Object.defineProperty(it.config.globalProperties,"$route",{enumerable:!0,get:()=>se(v)}),xs&&!ne&&v.value===ur&&(ne=!0,z(s.location).catch(_t=>{}));const Lt={};for(const _t in ur)Object.defineProperty(Lt,_t,{get:()=>v.value[_t],enumerable:!0});it.provide(pc,F),it.provide(vc,fd(Lt)),it.provide(Cl,v);const gt=it.unmount;kt.add(it),it.unmount=function(){kt.delete(it),kt.size<1&&(x=ur,Kt&&Kt(),Kt=null,v.value=ur,ne=!1,Pt=!1),gt()}}};function Bt(it){return it.reduce((F,Lt)=>F.then(()=>ct(Lt)),Promise.resolve())}return $t}function qv(t,r){const u=[],c=[],s=[],h=Math.max(r.matched.length,t.matched.length);for(let g=0;g<h;g++){const _=r.matched[g];_&&(t.matched.find(x=>As(x,_))?c.push(_):u.push(_));const v=t.matched[g];v&&(r.matched.find(x=>As(x,v))||s.push(v))}return[u,c,s]}function $v(t){return oi(vc)}const Zv={key:0},Vv={class:"d-flex justify-content-center"},Yv={class:"d-flex justify-content-center"},Wv={class:"spinner-border",role:"status"},Xv={class:"visually-hidden"},jv={__name:"Loading",props:{loadingStatus:Boolean},setup(t){const r=t;un(r,()=>{u.value=r.loadingStatus});const u=Jt(r.loadingStatus!=null?r.loadingStatus:!1);return(c,s)=>u.value?(ue(),he("div",Zv,[mt("div",Vv,[mt("h3",null,ce(c.$t("loading")),1)]),mt("div",Yv,[mt("div",Wv,[mt("span",Xv,ce(c.$t("loading")),1)])])])):bl("",!0)}},ca={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Fs={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},En={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Kv={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},og={dangerouslyHTMLString:!1,multiple:!0,position:ca.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},Jv={rtl:!1,newestOnTop:!1,toastClassName:""},ag={...og,...Jv};({...og,type:En.DEFAULT});var ve=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(ve||{}),Pl=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Pl||{});const Qv={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},ty={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},ey={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},ny={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},zh="Toastify--animate Toastify__none-enter";function ug(t,r=!1){var u;let c=Qv;if(!t||typeof t=="string")switch(t){case"flip":c=ny;break;case"zoom":c=ey;break;case"slide":c=ty;break}else c=t;if(r)c.enter=zh;else if(c.enter===zh){const s=(u=c.exit.split("__")[1])==null?void 0:u.split("-")[0];c.enter=`Toastify--animate Toastify__${s}-enter`}return c}function iy(t){return t.containerId||String(t.position)}const Nu="will-unmount";function ry(t=ca.TOP_RIGHT){return!!document.querySelector(`.${ve.CSS_NAMESPACE}__toast-container--${t}`)}function sy(t=ca.TOP_RIGHT){return`${ve.CSS_NAMESPACE}__toast-container--${t}`}function oy(t,r,u=!1){const c=[`${ve.CSS_NAMESPACE}__toast-container`,`${ve.CSS_NAMESPACE}__toast-container--${t}`,u?`${ve.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Ps(r)?r({position:t,rtl:u,defaultClassName:c}):`${c} ${r||""}`}function ay(t){var r;const{position:u,containerClassName:c,rtl:s=!1,style:h={}}=t,g=ve.CSS_NAMESPACE,_=sy(u),v=document.querySelector(`.${g}`),x=document.querySelector(`.${_}`),E=!!x&&!((r=x.className)!=null&&r.includes(Nu)),k=v||document.createElement("div"),I=document.createElement("div");I.className=oy(u,c,s),I.dataset.testid=`${ve.CSS_NAMESPACE}__toast-container--${u}`,I.id=iy(t);for(const P in h)if(Object.prototype.hasOwnProperty.call(h,P)){const M=h[P];I.style[P]=M}return v||(k.className=ve.CSS_NAMESPACE,document.body.appendChild(k)),E||k.appendChild(I),I}function Ml(t){var r,u,c;const s=typeof t=="string"?t:((r=t.currentTarget)==null?void 0:r.id)||((u=t.target)==null?void 0:u.id),h=document.getElementById(s);h&&h.removeEventListener("animationend",Ml,!1);try{Ko[s].unmount(),(c=document.getElementById(s))==null||c.remove(),delete Ko[s],delete sn[s]}catch{}}const Ko=Nn({});function uy(t,r){const u=document.getElementById(String(r));u&&(Ko[u.id]=t)}function Ol(t,r=!0){const u=String(t);if(!Ko[u])return;const c=document.getElementById(u);c&&c.classList.add(Nu),r?(cy(t),c&&c.addEventListener("animationend",Ml,!1)):Ml(u),bi.items=bi.items.filter(s=>s.containerId!==t)}function ly(t){for(const r in Ko)Ol(r,t);bi.items=[]}function lg(t,r){const u=document.getElementById(t.toastId);if(u){let c=t;c={...c,...ug(c.transition)};const s=c.appendPosition?`${c.exit}--${c.position}`:c.exit;u.className+=` ${s}`,r&&r(u)}}function cy(t){for(const r in sn)if(r===t)for(const u of sn[r]||[])lg(u)}function hy(t){const r=zs().find(u=>u.toastId===t);return r==null?void 0:r.containerId}function yc(t){return document.getElementById(t)}function fy(t){const r=yc(t.containerId);return r&&r.classList.contains(Nu)}function Bh(t){var r;const u=Os(t.content)?ee(t.content.props):null;return u??ee((r=t.data)!=null?r:{})}function dy(t){return t?bi.items.filter(r=>r.containerId===t).length>0:bi.items.length>0}function gy(){if(bi.items.length>0){const t=bi.items.shift();Wa(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const sn=Nn({}),bi=Nn({items:[]});function zs(){const t=ee(sn);return Object.values(t).reduce((r,u)=>[...r,...u],[])}function _y(t){return zs().find(r=>r.toastId===t)}function Wa(t,r={}){if(fy(r)){const u=yc(r.containerId);u&&u.addEventListener("animationend",Rl.bind(null,t,r),!1)}else Rl(t,r)}function Rl(t,r={}){const u=yc(r.containerId);u&&u.removeEventListener("animationend",Rl.bind(null,t,r),!1);const c=sn[r.containerId]||[],s=c.length>0;if(!s&&!ry(r.position)){const h=ay(r),g=Yd(Ay,r);r.useHandler&&r.useHandler(g),g.mount(h),uy(g,h.id)}s&&!r.updateId&&(r.position=c[0].position),Vs(()=>{r.updateId?Dn.update(r):Dn.add(t,r)})}const Dn={add(t,r){const{containerId:u=""}=r;u&&(sn[u]=sn[u]||[],sn[u].find(c=>c.toastId===r.toastId)||setTimeout(()=>{var c,s;r.newestOnTop?(c=sn[u])==null||c.unshift(r):(s=sn[u])==null||s.push(r),r.onOpen&&r.onOpen(Bh(r))},r.delay||0))},remove(t){if(t){const r=hy(t);if(r){const u=sn[r];let c=u.find(s=>s.toastId===t);sn[r]=u.filter(s=>s.toastId!==t),!sn[r].length&&!dy(r)&&Ol(r,!1),gy(),Vs(()=>{c!=null&&c.onClose&&(c.onClose(Bh(c)),c=void 0)})}}},update(t={}){const{containerId:r=""}=t;if(r&&t.updateId){sn[r]=sn[r]||[];const u=sn[r].find(h=>h.toastId===t.toastId),c=(u==null?void 0:u.position)!==t.position||(u==null?void 0:u.transition)!==t.transition,s={...t,disabledEnterTransition:!c,updateId:void 0};Dn.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{be(s.content,s)},t.delay||0)}},clear(t,r=!0){t?Ol(t,r):ly(r)},dismissCallback(t){var r;const u=(r=t.currentTarget)==null?void 0:r.id,c=document.getElementById(u);c&&(c.removeEventListener("animationend",Dn.dismissCallback,!1),setTimeout(()=>{Dn.remove(u)}))},dismiss(t){if(t){const r=zs();for(const u of r)if(u.toastId===t){lg(u,c=>{c.addEventListener("animationend",Dn.dismissCallback,!1)});break}}},dismissForce(t){if(t){const r=zs();for(const u of r)if(u.toastId===t){const c=document.getElementById(t);c&&(c.remove(),c.removeEventListener("animationend",Dn.dismissCallback,!1),Dn.remove(t));break}}}},my=Nn({useHandler:void 0}),cg=Nn({}),fu=Nn({});function hg(){return Math.random().toString(36).substring(2,9)}function py(t){return typeof t=="number"&&!isNaN(t)}function Al(t){return typeof t=="string"}function Ps(t){return typeof t=="function"}function Cu(...t){return Xi(...t)}function Xa(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function vy(t={}){cg[`${ve.CSS_NAMESPACE}-default-options`]=t}function yy(){return cg[`${ve.CSS_NAMESPACE}-default-options`]||ag}function Ly(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var ja=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(ja||{});const fg={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:ca.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Fs.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:En.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},Ey={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:En.DEFAULT},theme:{type:String,required:!1,default:Fs.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},ky=Yi({name:"ProgressBar",props:Ey,setup(t,{attrs:r}){const u=Jt(),c=jt(()=>t.hide?"true":"false"),s=jt(()=>({...r.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),h=jt(()=>[`${ve.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${ve.CSS_NAMESPACE}__progress-bar--controlled`:`${ve.CSS_NAMESPACE}__progress-bar--animated`,`${ve.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${ve.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${ve.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),g=jt(()=>`${h.value} ${(r==null?void 0:r.class)||""}`),_=()=>{u.value&&(u.value.onanimationend=null,u.value.ontransitionend=null)},v=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),_())},x=jt(()=>t.controlledProgress?null:v),E=jt(()=>t.controlledProgress?v:null);return Zi(()=>{u.value&&(_(),u.value.onanimationend=x.value,u.value.ontransitionend=E.value)}),()=>Zt("div",{ref:u,role:"progressbar","aria-hidden":c.value,"aria-label":"notification timer",class:g.value,style:s.value},null)}}),xy=Yi({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Fs.AUTO},type:{type:String,required:!1,default:Fs.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>Zt("button",{class:`${ve.CSS_NAMESPACE}__close-button ${ve.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:r=>{r.stopPropagation(),t.closeToast&&t.closeToast(r)},"aria-label":t.ariaLabel},[Zt("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Zt("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Pu=({theme:t,type:r,path:u,...c})=>Zt("svg",Xi({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`},c),[Zt("path",{d:u},null)]);function wy(t){return Zt(Pu,Xi(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function by(t){return Zt(Pu,Xi(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function Ty(t){return Zt(Pu,Xi(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function Iy(t){return Zt(Pu,Xi(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function Sy(){return Zt("div",{class:`${ve.CSS_NAMESPACE}__spinner`},null)}const Ka={info:by,warning:wy,success:Ty,error:Iy,spinner:Sy},Ny=t=>t in Ka;function Cy({theme:t,type:r,isLoading:u,icon:c}){let s;const h=!!u||r==="loading",g={theme:t,type:r};if(h&&(c===void 0||typeof c=="boolean"))return Ka.spinner();if(c!==!1){if(Xa(c))s=ee(c);else if(Ps(c)){const _=c;g.type=h?"loading":r,s=_(g),s=!s&&h?Ka.spinner():s}else Os(c)?s=Wr(c,g):Al(c)||py(c)?s=c:Ny(r)&&(s=Ka[r](g));return s}}const Py=()=>{};function My(t,r,u=ve.COLLAPSE_DURATION){const{scrollHeight:c,style:s}=t,h=u;requestAnimationFrame(()=>{s.minHeight="initial",s.height=c+"px",s.transition=`all ${h}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(r,h)})})}function Oy(t){const r=Jt(!1),u=Jt(!1),c=Jt(!1),s=Jt(ja.Enter),h=Nn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||ve.COLLAPSE_DURATION}),g=h.done||Py,_=jt(()=>h.appendPosition?`${h.enter}--${h.position}`:h.enter),v=jt(()=>h.appendPosition?`${h.exit}--${h.position}`:h.exit),x=jt(()=>t.pauseOnHover?{onMouseenter:W,onMouseleave:U}:{});function E(){const B=_.value.split(" ");I().addEventListener(Pl.ENTRANCE_ANIMATION_END,U,{once:!0});const G=X=>{const V=I();X.target===V&&(V.dispatchEvent(new Event(Pl.ENTRANCE_ANIMATION_END)),V.removeEventListener("animationend",G),V.removeEventListener("animationcancel",G),s.value===ja.Enter&&X.type!=="animationcancel"&&V.classList.remove(...B))},z=()=>{const X=I();X.classList.add(...B),X.addEventListener("animationend",G),X.addEventListener("animationcancel",G)};t.pauseOnFocusLoss&&P(),z()}function k(){if(!I())return;const B=()=>{const z=I();z.removeEventListener("animationend",B),h.collapse?My(z,g,h.collapseDuration):g()},G=()=>{const z=I();s.value=ja.Exit,z&&(z.className+=` ${v.value}`,z.addEventListener("animationend",B))};u.value||(c.value?B():setTimeout(G))}function I(){return t.toastRef.value}function P(){document.hasFocus()||W(),window.addEventListener("focus",U),window.addEventListener("blur",W)}function M(){window.removeEventListener("focus",U),window.removeEventListener("blur",W)}function U(){(!t.loading.value||t.isLoading===void 0)&&(r.value=!0)}function W(){r.value=!1}function A(B){B&&(B.stopPropagation(),B.preventDefault()),u.value=!1}return Zi(k),Zi(()=>{const B=zs();u.value=B.findIndex(G=>G.toastId===h.toastId)>-1}),Zi(()=>{t.isLoading!==void 0&&(t.loading.value?W():U())}),Ys(E),oa(()=>{t.pauseOnFocusLoss&&M()}),{isIn:u,isRunning:r,hideToast:A,eventHandlers:x}}const Ry=Yi({name:"ToastItem",inheritAttrs:!1,props:fg,setup(t){const r=Jt(),u=jt(()=>!!t.isLoading),c=jt(()=>t.progress!==void 0&&t.progress!==null),s=jt(()=>Cy(t)),h=jt(()=>[`${ve.CSS_NAMESPACE}__toast`,`${ve.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${ve.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${ve.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:g,isIn:_,hideToast:v,eventHandlers:x}=Oy({toastRef:r,loading:u,done:()=>{Dn.remove(t.toastId)},...ug(t.transition,t.disabledEnterTransition),...t});return()=>Zt("div",Xi({id:t.toastId,class:h.value,style:t.toastStyle||{},ref:r,"data-testid":`toast-item-${t.toastId}`,onClick:E=>{t.closeOnClick&&v(),t.onClick&&t.onClick(E)}},x.value),[Zt("div",{role:t.role,"data-testid":"toast-body",class:`${ve.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&Zt("div",{"data-testid":`toast-icon-${t.type}`,class:[`${ve.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${ve.CSS_NAMESPACE}--animate-icon ${ve.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Xa(s.value)?_r(ee(s.value),{theme:t.theme,type:t.type}):Ps(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),Zt("div",{"data-testid":"toast-content"},[Xa(t.content)?_r(ee(t.content),{toastProps:ee(t),closeToast:v,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Ps(t.content)?t.content({toastProps:ee(t),closeToast:v,data:t.data}):t.dangerouslyHTMLString?_r("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&Zt(xy,{theme:t.theme,closeToast:E=>{E.stopPropagation(),E.preventDefault(),v()}},null),Xa(t.closeButton)?_r(ee(t.closeButton),{closeToast:v,type:t.type,theme:t.theme}):Ps(t.closeButton)?t.closeButton({closeToast:v,type:t.type,theme:t.theme}):null,Zt(ky,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:_.value,type:t.type,hide:t.hideProgressBar,isRunning:g.value,autoClose:t.autoClose,controlledProgress:c.value,progress:t.progress,closeToast:t.isLoading?void 0:v},null)])}});let Ho=0;function dg(){typeof window>"u"||(Ho&&window.cancelAnimationFrame(Ho),Ho=window.requestAnimationFrame(dg),fu.lastUrl!==window.location.href&&(fu.lastUrl=window.location.href,Dn.clear()))}const Ay=Yi({name:"ToastifyContainer",inheritAttrs:!1,props:fg,setup(t){const r=jt(()=>t.containerId),u=jt(()=>sn[r.value]||[]),c=jt(()=>u.value.filter(s=>s.position===t.position));return Ys(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(dg)}),oa(()=>{typeof window<"u"&&Ho&&(window.cancelAnimationFrame(Ho),fu.lastUrl="")}),()=>Zt(He,null,[c.value.map(s=>{const{toastId:h=""}=s;return Zt(Ry,Xi({key:h},s),null)})])}});let cl=!1;const gg={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function _g(){const t=[];return zs().forEach(r=>{const u=document.getElementById(r.containerId);u&&!u.classList.contains(Nu)&&t.push(r)}),t}function Dy(t){const r=_g().length,u=t??0;return u>0&&r+bi.items.length>=u}function Fy(t){Dy(t.limit)&&!t.updateId&&bi.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Lr(t,r,u={}){if(cl)return;u=Cu(yy(),{type:r},ee(u)),(!u.toastId||typeof u.toastId!="string"&&typeof u.toastId!="number")&&(u.toastId=hg()),u={...u,...u.type==="loading"?gg:{},content:t,containerId:u.containerId||String(u.position)};const c=Number(u==null?void 0:u.progress);return!isNaN(c)&&c<0&&(u.progress=0),c>1&&(u.progress=1),u.theme==="auto"&&(u.theme=Ly()),Fy(u),fu.lastUrl=window.location.href,u.multiple?bi.items.length?u.updateId&&Wa(t,u):Wa(t,u):(cl=!0,be.clearAll(void 0,!1),setTimeout(()=>{Wa(t,u)},0),setTimeout(()=>{cl=!1},390)),u.toastId}const be=(t,r)=>Lr(t,En.DEFAULT,r);be.info=(t,r)=>Lr(t,En.DEFAULT,{...r,type:En.INFO});be.error=(t,r)=>Lr(t,En.DEFAULT,{...r,type:En.ERROR});be.warning=(t,r)=>Lr(t,En.DEFAULT,{...r,type:En.WARNING});be.warn=be.warning;be.success=(t,r)=>Lr(t,En.DEFAULT,{...r,type:En.SUCCESS});be.loading=(t,r)=>Lr(t,En.DEFAULT,Cu(r,gg));be.dark=(t,r)=>Lr(t,En.DEFAULT,Cu(r,{theme:Fs.DARK}));be.remove=t=>{t?Dn.dismiss(t):Dn.clear()};be.clearAll=(t,r)=>{Vs(()=>{Dn.clear(t,r)})};be.isActive=t=>{let r=!1;return r=_g().findIndex(u=>u.toastId===t)>-1,r};be.update=(t,r={})=>{setTimeout(()=>{const u=_y(t);if(u){const c=ee(u),{content:s}=c,h={...c,...r,toastId:r.toastId||t,updateId:hg()},g=h.render||s;delete h.render,Lr(g,h.type,h)}},0)};be.done=t=>{be.update(t,{isLoading:!1,progress:1})};be.promise=zy;function zy(t,{pending:r,error:u,success:c},s){var h,g,_;let v;const x={...s||{},autoClose:!1};r&&(v=Al(r)?be.loading(r,x):be.loading(r.render,{...x,...r}));const E={autoClose:(h=s==null?void 0:s.autoClose)!=null?h:!0,closeOnClick:(g=s==null?void 0:s.closeOnClick)!=null?g:!0,closeButton:(_=s==null?void 0:s.autoClose)!=null?_:null,isLoading:void 0,draggable:null,delay:100},k=(P,M,U)=>{if(M==null){be.remove(v);return}const W={type:P,...E,...s,data:U},A=Al(M)?{render:M}:M;return v?be.update(v,{...W,...A,isLoading:!1}):be(A.render,{...W,...A,isLoading:!1}),U},I=Ps(t)?t():t;return I.then(P=>{k("success",c,P)}).catch(P=>{k("error",u,P)}),I}be.POSITION=ca;be.THEME=Fs;be.TYPE=En;be.TRANSITIONS=Kv;const By={install(t,r={}){my.useHandler=r.useHandler||(()=>{}),Uy(r)}};typeof window<"u"&&(window.Vue3Toastify=By);function Uy(t={}){const r=Cu(ag,t);vy(r)}class mg{constructor(r){Pa(this,"name");this.options=r,this.params=this.options}verifyOptions(r=[]){r.forEach(u=>{this.options.hasOwnProperty(u)||be.error(`Please indicate the ${u} parameter`)})}fetchOccurrence(r){throw new Error("Not implemented")}fetchMedia(r){throw new Error("Not implemented")}fetchTaxonInfo(r){throw new Error("Not implemented")}fetchTaxonStatus(r){throw new Error("Not implemented")}}class pg{constructor(r){this.acceptedScientificName=r.acceptedScientificName,this.vernacularName=r==null?void 0:r.vernacularName,this.nbObservations=r==null?void 0:r.nbObservations,this.mediaUrl=r==null?void 0:r.mediaUrl,this.taxonId=r==null?void 0:r.taxonId,this.taxonRank=r==null?void 0:r.taxonRank,this.description=r==null?void 0:r.description,this.taxonSheetUrl=r==null?void 0:r.taxonSheetUrl,this.lastSeenDate=r==null?void 0:r.lastSeenDate}}const Gy="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg",vg="https://api.gbif.org/v1";function Uh(t={}){let r=new URL(`${vg}/occurrence/search`);for(const[c,s]of Object.entries(t))r.searchParams.append(c,s);const u=r.toString();return fetch(u).then(c=>c.json())}class Gh extends mg{constructor(u){super(u);Pa(this,"GBIF_ENDPOINT");this.name="gbif",this.GBIF_ENDPOINT=this.options.GBIF_ENDPOINT||vg}countOccurrence(u={}){return Uh({params:u}).then(c=>c.count)}fetchOccurrence(u){return u.limit||(u.limit=300),u.maxPage||(u.maxPage=10),this.countOccurrence(u).then(async function(c){let s=Math.ceil(c/u.limit);s>u.maxPage&&(s=u.maxPage);let h=[];for(let _=0;_<s;_++){const v=_*u.limit;h.push(Uh({...u,offset:v}))}let g={};return await Promise.all(h).then(_=>{_.map(v=>v.results).forEach(v=>{v.forEach(x=>{g.hasOwnProperty(x.taxonKey)||(g[x.taxonKey]=new pg({acceptedScientificName:x.acceptedScientificName,vernacularName:x.vernacularName,taxonId:x.taxonKey,mediaUrl:Gy,taxonRank:x.taxonRank,nbObservations:0,description:"",lastSeenDate:new Date(x.eventDate).getTime()})),g[x.taxonKey].nbObservations+=1,g[x.taxonKey].lastSeenDate=new Date(Math.max(new Date(x.eventDate).getTime(),new Date(g[x.taxonKey].lastSeenDate).getTime()))})})}),g})}fetchMedia(u){const c=`https://api.gbif.org/v1/species/${u}/media`;return fetch(c).then(s=>s.json()).then(function(s){let h=[];return Object.values(s.results).forEach(g=>{g.audience!=="biologists"&&h.push({url:g.identifier,licence:g.licence,source:g.source})}),h})}fetchTaxonInfo(u){const c=`https://api.gbif.org/v1/species/${u}`;return fetch(c).then(s=>s.json()).then(function(s){return{scientificName:s.scientificName,vernacularName:s.vernacularName,rank:s.rank,taxonKey:s.key}})}fetchTaxonStatus(u){const c=`https://api.gbif.org/v1/species/${u}/iucnRedListCategory`;return fetch(c).then(s=>s.json()).then(function(s){return{iucnRedListCategory:s.category,code:s.code}})}}var In=63710088e-1,yg={centimeters:In*100,centimetres:In*100,degrees:360/(2*Math.PI),feet:In*3.28084,inches:In*39.37,kilometers:In/1e3,kilometres:In/1e3,meters:In,metres:In,miles:In/1609.344,millimeters:In*1e3,millimetres:In*1e3,nauticalmiles:In/1852,radians:1,yards:In*1.0936};function Lg(t,r,u={}){const c={type:"Feature"};return(u.id===0||u.id)&&(c.id=u.id),u.bbox&&(c.bbox=u.bbox),c.properties=r||{},c.geometry=t,c}function Hy(t,r,u={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Hh(t[0])||!Hh(t[1]))throw new Error("coordinates must contain numbers");return Lg({type:"Point",coordinates:t},r,u)}function Dl(t,r={}){const u={type:"FeatureCollection"};return r.id&&(u.id=r.id),r.bbox&&(u.bbox=r.bbox),u.features=t,u}function qy(t,r="kilometers"){const u=yg[r];if(!u)throw new Error(r+" units is invalid");return t*u}function $y(t,r="kilometers"){const u=yg[r];if(!u)throw new Error(r+" units is invalid");return t/u}function Hh(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Eg(t,r,u){if(t!==null)for(var c,s,h,g,_,v,x,E=0,k=0,I,P=t.type,M=P==="FeatureCollection",U=P==="Feature",W=M?t.features.length:1,A=0;A<W;A++){x=M?t.features[A].geometry:U?t.geometry:t,I=x?x.type==="GeometryCollection":!1,_=I?x.geometries.length:1;for(var B=0;B<_;B++){var G=0,z=0;if(g=I?x.geometries[B]:x,g!==null){v=g.coordinates;var X=g.type;switch(E=0,X){case null:break;case"Point":if(r(v,k,A,G,z)===!1)return!1;k++,G++;break;case"LineString":case"MultiPoint":for(c=0;c<v.length;c++){if(r(v[c],k,A,G,z)===!1)return!1;k++,X==="MultiPoint"&&G++}X==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(c=0;c<v.length;c++){for(s=0;s<v[c].length-E;s++){if(r(v[c][s],k,A,G,z)===!1)return!1;k++}X==="MultiLineString"&&G++,X==="Polygon"&&z++}X==="Polygon"&&G++;break;case"MultiPolygon":for(c=0;c<v.length;c++){for(z=0,s=0;s<v[c].length;s++){for(h=0;h<v[c][s].length-E;h++){if(r(v[c][s][h],k,A,G,z)===!1)return!1;k++}z++}G++}break;case"GeometryCollection":for(c=0;c<g.geometries.length;c++)if(Eg(g.geometries[c],r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function qh(t,r){if(t.type==="Feature")r(t,0);else if(t.type==="FeatureCollection")for(var u=0;u<t.features.length&&r(t.features[u],u)!==!1;u++);}function kg(t,r){var u,c,s,h,g,_,v,x,E,k,I=0,P=t.type==="FeatureCollection",M=t.type==="Feature",U=P?t.features.length:1;for(u=0;u<U;u++){for(_=P?t.features[u].geometry:M?t.geometry:t,x=P?t.features[u].properties:M?t.properties:{},E=P?t.features[u].bbox:M?t.bbox:void 0,k=P?t.features[u].id:M?t.id:void 0,v=_?_.type==="GeometryCollection":!1,g=v?_.geometries.length:1,s=0;s<g;s++){if(h=v?_.geometries[s]:_,h===null){if(r(null,I,x,E,k)===!1)return!1;continue}switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(h,I,x,E,k)===!1)return!1;break}case"GeometryCollection":{for(c=0;c<h.geometries.length;c++)if(r(h.geometries[c],I,x,E,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function Zy(t,r={}){if(t.bbox!=null&&r.recompute!==!0)return t.bbox;const u=[1/0,1/0,-1/0,-1/0];return Eg(t,c=>{u[0]>c[0]&&(u[0]=c[0]),u[1]>c[1]&&(u[1]=c[1]),u[2]<c[0]&&(u[2]=c[0]),u[3]<c[1]&&(u[3]=c[1])}),u}function xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vy(t,r={}){const u=Zy(t),c=(u[0]+u[2])/2,s=(u[1]+u[3])/2;return Hy([c,s],r.properties,r)}var Ja={exports:{}},Yy=Ja.exports,$h;function Wy(){return $h||($h=1,function(t,r){(function(u,c){t.exports=c()})(Yy,function(){function u(a,e){(e==null||e>a.length)&&(e=a.length);for(var n=0,o=Array(e);n<e;n++)o[n]=a[n];return o}function c(a,e,n){return e=E(e),function(o,f){if(f&&(typeof f=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(o)}(a,I()?Reflect.construct(e,n||[],E(a).constructor):e.apply(a,n))}function s(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function h(a,e,n){if(I())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var f=new(a.bind.apply(a,o));return n&&P(f,n.prototype),f}function g(a,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,W(o.key),o)}}function _(a,e,n){return e&&g(a.prototype,e),n&&g(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function v(a,e){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=A(a))||e){n&&(a=n);var o=0,f=function(){};return{s:f,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(S){throw S},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,y=!0,b=!1;return{s:function(){n=n.call(a)},n:function(){var S=n.next();return y=S.done,S},e:function(S){b=!0,m=S},f:function(){try{y||n.return==null||n.return()}finally{if(b)throw m}}}}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,e,n){var o=function(m,y){for(;!{}.hasOwnProperty.call(m,y)&&(m=E(m))!==null;);return m}(a,e);if(o){var f=Object.getOwnPropertyDescriptor(o,e);return f.get?f.get.call(arguments.length<3?a:n):f.value}},x.apply(null,arguments)}function E(a){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(a)}function k(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&P(a,e)}function I(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!a})()}function P(a,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},P(a,e)}function M(a,e,n,o){var f=x(E(1&o?a.prototype:a),e,n);return 2&o&&typeof f=="function"?function(m){return f.apply(n,m)}:f}function U(a){return function(e){if(Array.isArray(e))return u(e)}(a)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(a)||A(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function W(a){var e=function(n,o){if(typeof n!="object"||!n)return n;var f=n[Symbol.toPrimitive];if(f!==void 0){var m=f.call(n,o);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(a,"string");return typeof e=="symbol"?e:e+""}function A(a,e){if(a){if(typeof a=="string")return u(a,e);var n={}.toString.call(a).slice(8,-1);return n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set"?Array.from(a):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(a,e):void 0}}function B(a){var e=typeof Map=="function"?new Map:void 0;return B=function(n){if(n===null||!function(f){try{return Function.toString.call(f).indexOf("[native code]")!==-1}catch{return typeof f=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return h(n,arguments,E(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),P(o,n)},B(a)}var G=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=a.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=a.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==a.JOIN_ROUND&&(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=a.CAP_ROUND,this._joinStyle=a.JOIN_ROUND,this._mitreLimit=a.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=a.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setQuadrantSegments(e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(o)}else if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3];this.setQuadrantSegments(f),this.setEndCapStyle(m),this.setJoinStyle(y),this.setMitreLimit(b)}}}},{key:"bufferDistanceError",value:function(e){var n=Math.PI/2/e;return 1-Math.cos(n/2)}}])}();G.CAP_ROUND=1,G.CAP_FLAT=2,G.CAP_SQUARE=3,G.JOIN_ROUND=1,G.JOIN_MITRE=2,G.JOIN_BEVEL=3,G.DEFAULT_QUADRANT_SEGMENTS=8,G.DEFAULT_MITRE_LIMIT=5,G.DEFAULT_SIMPLIFY_FACTOR=.01;var z=function(a){function e(n){var o;return s(this,e),(o=c(this,e,[n])).name=Object.keys({Exception:e})[0],o}return k(e,a),_(e,[{key:"toString",value:function(){return this.message}}])}(B(Error)),X=function(a){function e(n){var o;return s(this,e),(o=c(this,e,[n])).name=Object.keys({IllegalArgumentException:e})[0],o}return k(e,a),_(e)}(z),V=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a){}}])}();function Z(){}function ht(){}function ct(){}var Ot,Nt,Tt,Kt,dt,Ut,It,Pt,ft=function(){return _(function a(){s(this,a)},null,[{key:"equalsWithTolerance",value:function(a,e,n){return Math.abs(a-e)<=n}}])}(),Qt=function(){return _(function a(e,n){s(this,a),this.low=n||0,this.high=e||0},null,[{key:"toBinaryString",value:function(a){var e,n="";for(e=2147483648;e>0;e>>>=1)n+=(a.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)n+=(a.low&e)===e?"1":"0";return n}}])}();function st(){}function Ft(){}st.NaN=NaN,st.isNaN=function(a){return Number.isNaN(a)},st.isInfinite=function(a){return!Number.isFinite(a)},st.MAX_VALUE=Number.MAX_VALUE,st.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,st.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(Ut=2146435072,It=new Float64Array(1),Pt=new Int32Array(It.buffer),st.doubleToLongBits=function(a){It[0]=a;var e=0|Pt[0],n=0|Pt[1];return(n&Ut)===Ut&&1048575&n&&e!==0&&(e=0,n=2146959360),new Qt(n,e)},st.longBitsToDouble=function(a){return Pt[0]=a.low,Pt[1]=a.high,It[0]}):(Ot=1023,Nt=Math.log2,Tt=Math.floor,Kt=Math.pow,dt=function(){for(var a=53;a>0;a--){var e=Kt(2,a)-1;if(Tt(Nt(e))+1===a)return e}return 0}(),st.doubleToLongBits=function(a){var e,n,o,f,m,y,b,S,O;if(a<0||1/a===Number.NEGATIVE_INFINITY?(y=1<<31,a=-a):y=0,a===0)return new Qt(S=y,O=0);if(a===1/0)return new Qt(S=2146435072|y,O=0);if(a!=a)return new Qt(S=2146959360,O=0);if(f=0,O=0,(e=Tt(a))>1)if(e<=dt)(f=Tt(Nt(e)))<=20?(O=0,S=e<<20-f&1048575):(O=e%(n=Kt(2,o=f-20))<<32-o,S=e/n&1048575);else for(o=e,O=0;(o=Tt(n=o/2))!==0;)f++,O>>>=1,O|=(1&S)<<31,S>>>=1,n!==o&&(S|=524288);if(b=f+Ot,m=e===0,e=a-e,f<52&&e!==0)for(o=0;;){if((n=2*e)>=1?(e=n-1,m?(b--,m=!1):(o<<=1,o|=1,f++)):(e=n,m?--b==0&&(f++,m=!1):(o<<=1,f++)),f===20)S|=o,o=0;else if(f===52){O|=o;break}if(n===1){f<20?S|=o<<20-f:f<52&&(O|=o<<52-f);break}}return S|=b<<20,new Qt(S|=y,O)},st.longBitsToDouble=function(a){var e,n,o,f,m=a.high,y=a.low,b=m&1<<31?-1:1;for(o=((2146435072&m)>>20)-Ot,f=0,n=1<<19,e=1;e<=20;e++)m&n&&(f+=Kt(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)y&n&&(f+=Kt(2,-e)),n>>>=1;if(o===-1023){if(f===0)return 0*b;o=-1022}else{if(o===1024)return f===0?b/0:NaN;f+=1}return b*f*Kt(2,o)});var Gt=function(a){function e(n){var o;return s(this,e),(o=c(this,e,[n])).name=Object.keys({RuntimeException:e})[0],o}return k(e,a),_(e)}(z),ne=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,null,[{key:"constructor_",value:function(){if(arguments.length===0)Gt.constructor_.call(this);else if(arguments.length===1){var n=arguments[0];Gt.constructor_.call(this,n)}}}])}(Gt),kt=function(){function a(){s(this,a)}return _(a,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)a.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new ne("Should never reach here"+(e!==null?": "+e:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var e=arguments[0];a.isTrue(e,null)}else if(arguments.length===2){var n=arguments[1];if(!arguments[0])throw n===null?new ne:new ne(n)}}},{key:"equals",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];a.equals(e,n,null)}else if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2];if(!f.equals(o))throw new ne("Expected "+o+" but encountered "+f+(m!==null?": "+m:""))}}}])}(),$t=new ArrayBuffer(8),Bt=new Float64Array($t),it=new Int32Array($t),F=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getM",value:function(){return st.NaN}},{key:"setOrdinate",value:function(e,n){switch(e){case a.X:this.x=n;break;case a.Y:this.y=n;break;case a.Z:this.setZ(n);break;default:throw new X("Invalid ordinate index: "+e)}}},{key:"equals2D",value:function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var n=arguments[0],o=arguments[1];return!!ft.equalsWithTolerance(this.x,n.x,o)&&!!ft.equalsWithTolerance(this.y,n.y,o)}}},{key:"setM",value:function(e){throw new X("Invalid ordinate index: "+a.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(e){switch(e){case a.X:return this.x;case a.Y:return this.y;case a.Z:return this.getZ()}throw new X("Invalid ordinate index: "+e)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||st.isNaN(this.getZ())&&st.isNaN(e.getZ()))}},{key:"equals",value:function(e){return e instanceof a&&this.equals2D(e)}},{key:"equalInZ",value:function(e,n){return ft.equalsWithTolerance(this.getZ(),e.getZ(),n)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var n=e;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return kt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var n=this.x-e.x,o=this.y-e.y,f=this.getZ()-e.getZ();return Math.sqrt(n*n+o*o+f*f)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var n=this.x-e.x,o=this.y-e.y;return Math.sqrt(n*n+o*o)}},{key:"hashCode",value:function(){var e=17;return e=37*(e=37*e+a.hashCode(this.x))+a.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[Z,ht,ct]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)a.constructor_.call(this,0,0);else if(arguments.length===1){var e=arguments[0];a.constructor_.call(this,e.x,e.y,e.getZ())}else if(arguments.length===2){var n=arguments[0],o=arguments[1];a.constructor_.call(this,n,o,a.NULL_ORDINATE)}else if(arguments.length===3){var f=arguments[0],m=arguments[1],y=arguments[2];this.x=f,this.y=m,this.z=y}}},{key:"hashCode",value:function(e){return Bt[0]=e,it[0]^it[1]}}])}(),Lt=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"compare",value:function(e,n){var o=a.compare(e.x,n.x);if(o!==0)return o;var f=a.compare(e.y,n.y);return f!==0?f:this._dimensionsToTest<=2?0:a.compare(e.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[Ft]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)a.constructor_.call(this,2);else if(arguments.length===1){var e=arguments[0];if(e!==2&&e!==3)throw new X("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}},{key:"compare",value:function(e,n){return e<n?-1:e>n?1:st.isNaN(e)?st.isNaN(n)?0:-1:st.isNaN(n)?1:0}}])}();F.DimensionalComparator=Lt,F.NULL_ORDINATE=st.NaN,F.X=0,F.Y=1,F.Z=2,F.M=3;var gt=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(e){if(!(e instanceof a))return!1;var n=e;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new a;var n=this._minx>e._minx?this._minx:e._minx,o=this._miny>e._miny?this._miny:e._miny;return new a(n,this._maxx<e._maxx?this._maxx:e._maxx,o,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof a){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&f>=this._miny&&f<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof F){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){if(arguments[0]instanceof F&&arguments[1]instanceof F){var o=arguments[0],f=arguments[1];return!this.isNull()&&!((o.x<f.x?o.x:f.x)>this._maxx)&&!((o.x>f.x?o.x:f.x)<this._minx)&&!((o.y<f.y?o.y:f.y)>this._maxy)&&!((o.y>f.y?o.y:f.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1];return!this.isNull()&&!(m>this._maxx||m<this._minx||y>this._maxy||y<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return Math.sqrt(e*e+n*n)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof a){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=f,this._maxy=f):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),f<this._miny&&(this._miny=f),f>this._maxy&&(this._maxy=f))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return e<n?e:n}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var n=e;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0}},{key:"translate",value:function(e,n){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+n,this.getMaxY()+n)}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return e>n?e:n}},{key:"expandBy",value:function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof F){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];return this.covers(o,f)}}},{key:"centre",value:function(){return this.isNull()?null:new F((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof a){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.init(o.x,f.x,o.y,f.y)}else if(arguments.length===4){var m=arguments[0],y=arguments[1],b=arguments[2],S=arguments[3];m<y?(this._minx=m,this._maxx=y):(this._minx=y,this._maxx=m),b<S?(this._miny=b,this._maxy=S):(this._miny=S,this._maxy=b)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var n=0;this._maxx<e._minx?n=e._minx-this._maxx:this._minx>e._maxx&&(n=this._minx-e._maxx);var o=0;return this._maxy<e._miny?o=e._miny-this._maxy:this._miny>e._maxy&&(o=this._miny-e._maxy),n===0?o:o===0?n:Math.sqrt(n*n+o*o)}},{key:"hashCode",value:function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+F.hashCode(this._minx))+F.hashCode(this._maxx))+F.hashCode(this._miny))+F.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[Z,ct]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof a){var n=arguments[0];this.init(n)}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.init(o.x,f.x,o.y,f.y)}else if(arguments.length===4){var m=arguments[0],y=arguments[1],b=arguments[2],S=arguments[3];this.init(m,y,b,S)}}},{key:"intersects",value:function(){if(arguments.length===3){var e=arguments[0],n=arguments[1],o=arguments[2];return o.x>=(e.x<n.x?e.x:n.x)&&o.x<=(e.x>n.x?e.x:n.x)&&o.y>=(e.y<n.y?e.y:n.y)&&o.y<=(e.y>n.y?e.y:n.y)}if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=Math.min(y.x,b.x),O=Math.max(y.x,b.x),$=Math.min(f.x,m.x),K=Math.max(f.x,m.x);return!($>O)&&!(K<S)&&(S=Math.min(y.y,b.y),O=Math.max(y.y,b.y),$=Math.min(f.y,m.y),K=Math.max(f.y,m.y),!($>O)&&!(K<S))}}}])}(),_t=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(a.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return e!==null&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(arguments.length===1){var n=arguments[0];return e=n,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n)}if(arguments.length===2){var o=arguments[0],f=arguments[1];return e=o,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(o,f)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(e){if(e.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION)throw new X("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,n,o){return o===0?e.equals(n):e.distance(n)<=o}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return this.envelope!=null&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=this._envelope==null?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new gt(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,n){for(var o=e.iterator(),f=n.iterator();o.hasNext()&&f.hasNext();){var m=o.next(),y=f.next(),b=m.compareTo(y);if(b!==0)return b}return o.hasNext()?1:f.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===a.TYPECODE_MULTIPOINT||this.getTypeCode()===a.TYPECODE_MULTILINESTRING||this.getTypeCode()===a.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[ht,Z,ct]}},{key:"getClass",value:function(){return a}}],[{key:"hasNonEmptyElements",value:function(e){for(var n=0;n<e.length;n++)if(!e[n].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var n=0;n<e.length;n++)if(e[n]===null)return!0;return!1}}])}();_t.constructor_=function(a){a&&(this._envelope=null,this._userData=null,this._factory=a,this._SRID=a.getSRID())},_t.TYPECODE_POINT=0,_t.TYPECODE_MULTIPOINT=1,_t.TYPECODE_LINESTRING=2,_t.TYPECODE_LINEARRING=3,_t.TYPECODE_MULTILINESTRING=4,_t.TYPECODE_POLYGON=5,_t.TYPECODE_MULTIPOLYGON=6,_t.TYPECODE_GEOMETRYCOLLECTION=7,_t.TYPENAME_POINT="Point",_t.TYPENAME_MULTIPOINT="MultiPoint",_t.TYPENAME_LINESTRING="LineString",_t.TYPENAME_LINEARRING="LinearRing",_t.TYPENAME_MULTILINESTRING="MultiLineString",_t.TYPENAME_POLYGON="Polygon",_t.TYPENAME_MULTIPOLYGON="MultiPolygon",_t.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",_t.geometryChangedFilter={get interfaces_(){return[V]},filter:function(a){a.geometryChangedAction()}};var T=function(){function a(){s(this,a)}return _(a,null,[{key:"toLocationSymbol",value:function(e){switch(e){case a.EXTERIOR:return"e";case a.BOUNDARY:return"b";case a.INTERIOR:return"i";case a.NONE:return"-"}throw new X("Unknown location value: "+e)}}])}();T.INTERIOR=0,T.BOUNDARY=1,T.EXTERIOR=2,T.NONE=-1;var D=function(){return _(function a(){s(this,a)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),j=function(a){function e(n){var o;return s(this,e),(o=c(this,e,[n])).name=Object.keys({NoSuchElementException:e})[0],o}return k(e,a),_(e)}(z),nt=function(a){function e(n){var o;return s(this,e),(o=c(this,e,[n])).name=Object.keys({UnsupportedOperationException:e})[0],o}return k(e,a),_(e)}(z),ot=function(a){function e(){return s(this,e),c(this,e,arguments)}return k(e,a),_(e,[{key:"contains",value:function(){}}])}(D),rt=function(a){function e(n){var o;return s(this,e),(o=c(this,e)).map=new Map,n instanceof D&&o.addAll(n),o}return k(e,a),_(e,[{key:"contains",value:function(n){var o=n.hashCode?n.hashCode():n;return!!this.map.has(o)}},{key:"add",value:function(n){var o=n.hashCode?n.hashCode():n;return!this.map.has(o)&&!!this.map.set(o,n)}},{key:"addAll",value:function(n){var o,f=v(n);try{for(f.s();!(o=f.n()).done;){var m=o.value;this.add(m)}}catch(y){f.e(y)}finally{f.f()}return!0}},{key:"remove",value:function(){throw new nt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new R(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(ot),R=function(){return _(function a(e){s(this,a),this.iterator=e.values();var n=this.iterator.next(),o=n.done,f=n.value;this.done=o,this.value=f},[{key:"next",value:function(){if(this.done)throw new j;var a=this.value,e=this.iterator.next(),n=e.done,o=e.value;return this.done=n,this.value=o,a}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new nt}}])}(),C=function(){function a(){s(this,a)}return _(a,null,[{key:"opposite",value:function(e){return e===a.LEFT?a.RIGHT:e===a.RIGHT?a.LEFT:e}}])}();C.ON=0,C.LEFT=1,C.RIGHT=2;var Y=function(a){function e(n){var o;return s(this,e),(o=c(this,e,[n])).name=Object.keys({EmptyStackException:e})[0],o}return k(e,a),_(e)}(z),Q=function(a){function e(n){var o;return s(this,e),(o=c(this,e,[n])).name=Object.keys({IndexOutOfBoundsException:e})[0],o}return k(e,a),_(e)}(z),yt=function(a){function e(){return s(this,e),c(this,e,arguments)}return k(e,a),_(e,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(D),at=function(a){function e(){var n;return s(this,e),(n=c(this,e)).array=[],n}return k(e,a),_(e,[{key:"add",value:function(n){return this.array.push(n),!0}},{key:"get",value:function(n){if(n<0||n>=this.size())throw new Q;return this.array[n]}},{key:"push",value:function(n){return this.array.push(n),n}},{key:"pop",value:function(){if(this.array.length===0)throw new Y;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Y;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(n){return this.array.indexOf(n)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(yt);function q(a,e){return a.interfaces_&&a.interfaces_.indexOf(e)>-1}var et=function(){return _(function a(e){s(this,a),this.str=e},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,e){this.str=this.str.substr(0,a)+e+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),xt=function(){function a(e){s(this,a),this.value=e}return _(a,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,n){return e<n?-1:e>n?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(e){return new a(e)}}])}(),zt=function(){return _(function a(){s(this,a)},null,[{key:"isWhitespace",value:function(a){return a<=32&&a>=0||a===127}},{key:"toUpperCase",value:function(a){return a.toUpperCase()}}])}(),pt=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(e,n){var o=this.abs(),f=a.magnitude(o._hi),m=a.TEN.pow(f);(o=o.divide(m)).gt(a.TEN)?(o=o.divide(a.TEN),f+=1):o.lt(a.ONE)&&(o=o.multiply(a.TEN),f-=1);for(var y=f+1,b=new et,S=a.MAX_PRINT_DIGITS-1,O=0;O<=S;O++){e&&O===y&&b.append(".");var $=Math.trunc(o._hi);if($<0)break;var K=!1,ut=0;$>9?(K=!0,ut="9"):ut="0"+$,b.append(ut),o=o.subtract(a.valueOf($)).multiply(a.TEN),K&&o.selfAdd(a.TEN);var Et=!0,Ct=a.magnitude(o._hi);if(Ct<0&&Math.abs(Ct)>=S-O&&(Et=!1),!Et)break}return n[0]=f,b.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof a){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var o,f,m,y,b=arguments[0],S=arguments[1],O=null,$=null,K=null,ut=null;return m=this._hi/b,ut=(O=(K=a.SPLIT*m)-(O=K-m))*($=(ut=a.SPLIT*b)-($=ut-b))-(y=m*b)+O*(f=b-$)+(o=m-O)*$+o*f,ut=m+(K=(this._hi-y-ut+this._lo-m*S)/b),this._hi=ut,this._lo=m-ut+K,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof a){var e,n,o,f,m=arguments[0],y=null,b=null,S=null,O=null;return e=(o=this._hi/m._hi)-(y=(S=a.SPLIT*o)-(y=S-o)),O=y*(b=(O=a.SPLIT*m._hi)-(b=O-m._hi))-(f=o*m._hi)+y*(n=m._hi-b)+e*b+e*n,new a(O=o+(S=(this._hi-f-O+this._lo-o*m._lo)/m._hi),o-O+S)}if(typeof arguments[0]=="number"){var $=arguments[0];return st.isNaN($)?a.createNaN():a.copy(this).selfDivide($,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(e){if(e===0)return a.valueOf(1);var n=new a(this),o=a.valueOf(1),f=Math.abs(e);if(f>1)for(;f>0;)f%2==1&&o.selfMultiply(n),(f/=2)>0&&(n=n.sqr());else o=n;return e<0?o.reciprocal():o}},{key:"ceil",value:function(){if(this.isNaN())return a.NaN;var e=Math.ceil(this._hi),n=0;return e===this._hi&&(n=Math.ceil(this._lo)),new a(e,n)}},{key:"compareTo",value:function(e){var n=e;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return a.valueOf(0);if(this.isNegative())return a.NaN;var e=1/Math.sqrt(this._hi),n=this._hi*e,o=a.valueOf(n),f=this.subtract(o.sqr())._hi*(.5*e);return o.add(f)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n,o,f,m,y,b=arguments[0],S=null;return S=(f=this._hi+b)-(m=f-this._hi),o=(y=(S=b-m+(this._hi-S))+this._lo)+(f-(n=f+y)),this._hi=n+o,this._lo=o+(n-this._hi),this}}else if(arguments.length===2){var O,$,K,ut,Et=arguments[0],Ct=arguments[1],Dt=null,ae=null,te=null;K=this._hi+Et,$=this._lo+Ct,ae=K-(te=K-this._hi),Dt=$-(ut=$-this._lo);var Ee=(O=K+(te=(ae=Et-te+(this._hi-ae))+$))+(te=(Dt=Ct-ut+(this._lo-Dt))+(te+(K-O))),Me=te+(O-Ee);return this._hi=Ee,this._lo=Me,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var o,f,m=arguments[0],y=arguments[1],b=null,S=null,O=null,$=null;b=(O=a.SPLIT*this._hi)-this._hi,$=a.SPLIT*m,b=O-b,o=this._hi-b,S=$-m;var K=(O=this._hi*m)+($=b*(S=$-S)-O+b*(f=m-S)+o*S+o*f+(this._hi*y+this._lo*m)),ut=$+(b=O-K);return this._hi=K,this._lo=ut,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return a.NaN;var e=Math.floor(this._hi),n=0;return e===this._hi&&(n=Math.floor(this._lo)),new a(e,n)}},{key:"negate",value:function(){return this.isNaN()?this:new a(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}}},{key:"multiply",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return e.isNaN()?a.createNaN():a.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var n=arguments[0];return st.isNaN(n)?a.createNaN():a.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return st.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var e=a.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var e=this.getSpecialNumberString();if(e!==null)return e;var n=new Array(1).fill(null),o=this.extractSignificantDigits(!0,n),f=n[0]+1,m=o;if(o.charAt(0)===".")m="0"+o;else if(f<0)m="0."+a.stringOfChar("0",-f)+o;else if(o.indexOf(".")===-1){var y=f-o.length;m=o+a.stringOfChar("0",y)+".0"}return this.isNegative()?"-"+m:m}},{key:"reciprocal",value:function(){var e,n,o,f,m=null,y=null,b=null,S=null;e=(o=1/this._hi)-(m=(b=a.SPLIT*o)-(m=b-o)),y=(S=a.SPLIT*this._hi)-this._hi;var O=o+(b=(1-(f=o*this._hi)-(S=m*(y=S-y)-f+m*(n=this._hi-y)+e*y+e*n)-o*this._lo)/this._hi);return new a(O,o-O+b)}},{key:"toSciNotation",value:function(){if(this.isZero())return a.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var n=new Array(1).fill(null),o=this.extractSignificantDigits(!1,n),f=a.SCI_NOT_EXPONENT_CHAR+n[0];if(o.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+o);var m="";o.length>1&&(m=o.substring(1));var y=o.charAt(0)+"."+m;return this.isNegative()?"-"+y+f:y+f}},{key:"abs",value:function(){return this.isNaN()?a.NaN:this.isNegative()?this.negate():new a(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return a.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var n=arguments[0];return a.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof a){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this._hi=o,this._lo=f}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?a.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[ct,Z,ht]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof a){var n=arguments[0];this.init(n)}else if(typeof arguments[0]=="string"){var o=arguments[0];a.constructor_.call(this,a.parse(o))}}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this.init(f,m)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1],o=arguments[2],f=arguments[3];return a.determinant(a.valueOf(e),a.valueOf(n),a.valueOf(o),a.valueOf(f))}if(arguments[3]instanceof a&&arguments[2]instanceof a&&arguments[0]instanceof a&&arguments[1]instanceof a){var m=arguments[1],y=arguments[2],b=arguments[3];return arguments[0].multiply(b).selfSubtract(m.multiply(y))}}},{key:"sqr",value:function(e){return a.valueOf(e).selfMultiply(e)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var e=arguments[0];return a.parse(e)}if(typeof arguments[0]=="number")return new a(arguments[0])}},{key:"sqrt",value:function(e){return a.valueOf(e).sqrt()}},{key:"parse",value:function(e){for(var n=0,o=e.length;zt.isWhitespace(e.charAt(n));)n++;var f=!1;if(n<o){var m=e.charAt(n);m!=="-"&&m!=="+"||(n++,m==="-"&&(f=!0))}for(var y=new a,b=0,S=0,O=0,$=!1;!(n>=o);){var K=e.charAt(n);if(n++,zt.isDigit(K)){var ut=K-"0";y.selfMultiply(a.TEN),y.selfAdd(ut),b++}else{if(K!=="."){if(K==="e"||K==="E"){var Et=e.substring(n);try{O=xt.parseInt(Et)}catch(Ee){throw Ee instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Et+" in string "+e):Ee}break}throw new NumberFormatException("Unexpected character '"+K+"' at position "+n+" in string "+e)}S=b,$=!0}}var Ct=y;$||(S=b);var Dt=b-S-O;if(Dt===0)Ct=y;else if(Dt>0){var ae=a.TEN.pow(Dt);Ct=y.divide(ae)}else if(Dt<0){var te=a.TEN.pow(-Dt);Ct=y.multiply(te)}return f?Ct.negate():Ct}},{key:"createNaN",value:function(){return new a(st.NaN,st.NaN)}},{key:"copy",value:function(e){return new a(e)}},{key:"magnitude",value:function(e){var n=Math.abs(e),o=Math.log(n)/Math.log(10),f=Math.trunc(Math.floor(o));return 10*Math.pow(10,f)<=n&&(f+=1),f}},{key:"stringOfChar",value:function(e,n){for(var o=new et,f=0;f<n;f++)o.append(e);return o.toString()}}])}();pt.PI=new pt(3.141592653589793,12246467991473532e-32),pt.TWO_PI=new pt(6.283185307179586,24492935982947064e-32),pt.PI_2=new pt(1.5707963267948966,6123233995736766e-32),pt.E=new pt(2.718281828459045,14456468917292502e-32),pt.NaN=new pt(st.NaN,st.NaN),pt.EPS=123259516440783e-46,pt.SPLIT=134217729,pt.MAX_PRINT_DIGITS=32,pt.TEN=pt.valueOf(10),pt.ONE=pt.valueOf(1),pt.SCI_NOT_EXPONENT_CHAR="E",pt.SCI_NOT_ZERO="0.0E0";var Pe=function(){function a(){s(this,a)}return _(a,null,[{key:"orientationIndex",value:function(e,n,o){var f=a.orientationIndexFilter(e,n,o);if(f<=1)return f;var m=pt.valueOf(n.x).selfAdd(-e.x),y=pt.valueOf(n.y).selfAdd(-e.y),b=pt.valueOf(o.x).selfAdd(-n.x),S=pt.valueOf(o.y).selfAdd(-n.y);return m.selfMultiply(S).selfSubtract(y.selfMultiply(b)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof pt&&arguments[2]instanceof pt&&arguments[0]instanceof pt&&arguments[1]instanceof pt){var e=arguments[1],n=arguments[2],o=arguments[3];return arguments[0].multiply(o).selfSubtract(e.multiply(n)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=pt.valueOf(f),O=pt.valueOf(m),$=pt.valueOf(y),K=pt.valueOf(b);return S.multiply(K).selfSubtract(O.multiply($)).signum()}}},{key:"intersection",value:function(e,n,o,f){var m=new pt(e.y).selfSubtract(n.y),y=new pt(n.x).selfSubtract(e.x),b=new pt(e.x).selfMultiply(n.y).selfSubtract(new pt(n.x).selfMultiply(e.y)),S=new pt(o.y).selfSubtract(f.y),O=new pt(f.x).selfSubtract(o.x),$=new pt(o.x).selfMultiply(f.y).selfSubtract(new pt(f.x).selfMultiply(o.y)),K=y.multiply($).selfSubtract(O.multiply(b)),ut=S.multiply(b).selfSubtract(m.multiply($)),Et=m.multiply(O).selfSubtract(S.multiply(y)),Ct=K.selfDivide(Et).doubleValue(),Dt=ut.selfDivide(Et).doubleValue();return st.isNaN(Ct)||st.isInfinite(Ct)||st.isNaN(Dt)||st.isInfinite(Dt)?null:new F(Ct,Dt)}},{key:"orientationIndexFilter",value:function(e,n,o){var f=null,m=(e.x-o.x)*(n.y-o.y),y=(e.y-o.y)*(n.x-o.x),b=m-y;if(m>0){if(y<=0)return a.signum(b);f=m+y}else{if(!(m<0)||y>=0)return a.signum(b);f=-m-y}var S=a.DP_SAFE_EPSILON*f;return b>=S||-b>=S?a.signum(b):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}])}();Pe.DP_SAFE_EPSILON=1e-15;var Rt=function(){return _(function a(){s(this,a)},[{key:"getM",value:function(a){if(this.hasM()){var e=this.getDimension()-this.getMeasures();return this.getOrdinate(a,e)}return st.NaN}},{key:"setOrdinate",value:function(a,e,n){}},{key:"getZ",value:function(a){return this.hasZ()?this.getOrdinate(a,2):st.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(a,e){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(a){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(a){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(a){}},{key:"copy",value:function(){}},{key:"getY",value:function(a){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[ht]}}])}();Rt.X=0,Rt.Y=1,Rt.Z=2,Rt.M=3;var Mt=function(){function a(){s(this,a)}return _(a,null,[{key:"index",value:function(e,n,o){return Pe.orientationIndex(e,n,o)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],n=e.length-1;if(n<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=e[0],f=0,m=1;m<=n;m++){var y=e[m];y.y>o.y&&(o=y,f=m)}var b=f;do(b-=1)<0&&(b=n);while(e[b].equals2D(o)&&b!==f);var S=f;do S=(S+1)%n;while(e[S].equals2D(o)&&S!==f);var O=e[b],$=e[S];if(O.equals2D(o)||$.equals2D(o)||O.equals2D($))return!1;var K=a.index(O,o,$);return K===0?O.x>$.x:K>0}if(q(arguments[0],Rt)){var ut=arguments[0],Et=ut.size()-1;if(Et<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var Ct=ut.getCoordinate(0),Dt=0,ae=1;ae<=Et;ae++){var te=ut.getCoordinate(ae);te.y>Ct.y&&(Ct=te,Dt=ae)}var Ee=null,Me=Dt;do(Me-=1)<0&&(Me=Et),Ee=ut.getCoordinate(Me);while(Ee.equals2D(Ct)&&Me!==Dt);var Ze=null,mi=Dt;do mi=(mi+1)%Et,Ze=ut.getCoordinate(mi);while(Ze.equals2D(Ct)&&mi!==Dt);if(Ee.equals2D(Ct)||Ze.equals2D(Ct)||Ee.equals2D(Ze))return!1;var zr=a.index(Ee,Ct,Ze);return zr===0?Ee.x>Ze.x:zr>0}}}])}();Mt.CLOCKWISE=-1,Mt.RIGHT=Mt.CLOCKWISE,Mt.COUNTERCLOCKWISE=1,Mt.LEFT=Mt.COUNTERCLOCKWISE,Mt.COLLINEAR=0,Mt.STRAIGHT=Mt.COLLINEAR;var dn=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(a,e){var n=this.getRightmostSideOfSegment(a,e);return n<0&&(n=this.getRightmostSideOfSegment(a,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var a=this._minDe.getEdge().getCoordinates();kt.isTrue(this._minIndex>0&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var e=a[this._minIndex-1],n=a[this._minIndex+1],o=Mt.index(this._minCoord,n,e),f=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&o===Mt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&o===Mt.CLOCKWISE)&&(f=!0),f&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(a,e){var n=a.getEdge().getCoordinates();if(e<0||e+1>=n.length||n[e].y===n[e+1].y)return-1;var o=C.LEFT;return n[e].y<n[e+1].y&&(o=C.RIGHT),o}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(a){for(var e=a.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(this._minCoord===null||e[n].x>this._minCoord.x)&&(this._minDe=a,this._minIndex=n,this._minCoord=e[n])}},{key:"findRightmostEdgeAtNode",value:function(){var a=this._minDe.getNode().getEdges();this._minDe=a.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(a){for(var e=a.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}kt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===C.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),Ye=function(a){function e(n,o){var f;return s(this,e),(f=c(this,e,[o?n+" [ "+o+" ]":n])).pt=o?new F(o):void 0,f.name=Object.keys({TopologyException:e})[0],f}return k(e,a),_(e,[{key:"getCoordinate",value:function(){return this.pt}}])}(Gt),ji=function(){return _(function a(){s(this,a),this.array=[]},[{key:"addLast",value:function(a){this.array.push(a)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),St=function(a){function e(n){var o;return s(this,e),(o=c(this,e)).array=[],n instanceof D&&o.addAll(n),o}return k(e,a),_(e,[{key:"interfaces_",get:function(){return[yt,D]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(n){return arguments.length===1?this.array.push(n):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(n){var o,f=v(n);try{for(f.s();!(o=f.n()).done;){var m=o.value;this.array.push(m)}}catch(y){f.e(y)}finally{f.f()}}},{key:"set",value:function(n,o){var f=this.array[n];return this.array[n]=o,f}},{key:"iterator",value:function(){return new xn(this)}},{key:"get",value:function(n){if(n<0||n>=this.size())throw new Q;return this.array[n]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(n){n?this.array.sort(function(o,f){return n.compare(o,f)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(n){for(var o=0,f=this.array.length;o<f;o++)if(this.array[o]===n)return!!this.array.splice(o,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(yt),xn=function(){return _(function a(e){s(this,a),this.arrayList=e,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new j;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(a){return this.arrayList.set(this.position-1,a)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),ui=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(a){for(var e=null,n=a.getEdges().iterator();n.hasNext();){var o=n.next();if(o.isVisited()||o.getSym().isVisited()){e=o;break}}if(e===null)throw new Ye("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(e);for(var f=a.getEdges().iterator();f.hasNext();){var m=f.next();m.setVisited(!0),this.copySymDepths(m)}}},{key:"computeDepth",value:function(a){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(C.RIGHT,a),this.copySymDepths(e),this.computeDepths(e)}},{key:"create",value:function(a){this.addReachable(a),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var e=a.next();e.getDepth(C.RIGHT)>=1&&e.getDepth(C.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}},{key:"computeDepths",value:function(a){var e=new rt,n=new ji,o=a.getNode();for(n.addLast(o),e.add(o),a.setVisited(!0);!n.isEmpty();){var f=n.removeFirst();e.add(f),this.computeNodeDepth(f);for(var m=f.getEdges().iterator();m.hasNext();){var y=m.next().getSym();if(!y.isVisited()){var b=y.getNode();e.contains(b)||(n.addLast(b),e.add(b))}}}}},{key:"compareTo",value:function(a){var e=a;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var a=new gt,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),o=0;o<n.length-1;o++)a.expandToInclude(n[o]);this._env=a}return this._env}},{key:"addReachable",value:function(a){var e=new at;for(e.add(a);!e.empty();){var n=e.pop();this.add(n,e)}}},{key:"copySymDepths",value:function(a){var e=a.getSym();e.setDepth(C.LEFT,a.getDepth(C.RIGHT)),e.setDepth(C.RIGHT,a.getDepth(C.LEFT))}},{key:"add",value:function(a,e){a.setVisited(!0),this._nodes.add(a);for(var n=a.getEdges().iterator();n.hasNext();){var o=n.next();this._dirEdgeList.add(o);var f=o.getSym().getNode();f.isVisited()||e.push(f)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new St,this._nodes=new St,this._rightMostCoord=null,this._env=null,this._finder=new dn}}])}(),Xs=function(){return _(function a(){s(this,a)},null,[{key:"intersection",value:function(a,e,n,o){var f=a.x<e.x?a.x:e.x,m=a.y<e.y?a.y:e.y,y=a.x>e.x?a.x:e.x,b=a.y>e.y?a.y:e.y,S=n.x<o.x?n.x:o.x,O=n.y<o.y?n.y:o.y,$=n.x>o.x?n.x:o.x,K=n.y>o.y?n.y:o.y,ut=((f>S?f:S)+(y<$?y:$))/2,Et=((m>O?m:O)+(b<K?b:K))/2,Ct=a.x-ut,Dt=a.y-Et,ae=e.x-ut,te=e.y-Et,Ee=n.x-ut,Me=n.y-Et,Ze=o.x-ut,mi=o.y-Et,zr=Dt-te,Vn=ae-Ct,ko=Ct*te-ae*Dt,xo=Me-mi,ar=Ze-Ee,Na=Ee*mi-Ze*Me,Br=zr*ar-xo*Vn,Ri=(Vn*Na-ar*ko)/Br,ys=(xo*ko-zr*Na)/Br;return st.isNaN(Ri)||st.isInfinite(Ri)||st.isNaN(ys)||st.isInfinite(ys)?null:new F(Ri+ut,ys+Et)}}])}(),wn=function(){return _(function a(){s(this,a)},null,[{key:"arraycopy",value:function(a,e,n,o,f){for(var m=0,y=e;y<e+f;y++)n[o+m]=a[y],m++}},{key:"getProperty",value:function(a){return{"line.separator":`
`}[a]}}])}(),Ki=function(){function a(){s(this,a)}return _(a,null,[{key:"log10",value:function(e){var n=Math.log(e);return st.isInfinite(n)||st.isNaN(n)?n:n/a.LOG_10}},{key:"min",value:function(e,n,o,f){var m=e;return n<m&&(m=n),o<m&&(m=o),f<m&&(m=f),m}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1],o=arguments[2];return e<n?n:e>o?o:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var f=arguments[0],m=arguments[1],y=arguments[2];return f<m?m:f>y?y:f}}},{key:"wrap",value:function(e,n){return e<0?n- -e%n:e%n}},{key:"max",value:function(){if(arguments.length===3){var e=arguments[1],n=arguments[2],o=arguments[0];return e>o&&(o=e),n>o&&(o=n),o}if(arguments.length===4){var f=arguments[1],m=arguments[2],y=arguments[3],b=arguments[0];return f>b&&(b=f),m>b&&(b=m),y>b&&(b=y),b}}},{key:"average",value:function(e,n){return(e+n)/2}}])}();Ki.LOG_10=Math.log(10);var Pn=function(){function a(){s(this,a)}return _(a,null,[{key:"segmentToSegment",value:function(e,n,o,f){if(e.equals(n))return a.pointToSegment(e,o,f);if(o.equals(f))return a.pointToSegment(f,e,n);var m=!1;if(gt.intersects(e,n,o,f)){var y=(n.x-e.x)*(f.y-o.y)-(n.y-e.y)*(f.x-o.x);if(y===0)m=!0;else{var b=(e.y-o.y)*(f.x-o.x)-(e.x-o.x)*(f.y-o.y),S=((e.y-o.y)*(n.x-e.x)-(e.x-o.x)*(n.y-e.y))/y,O=b/y;(O<0||O>1||S<0||S>1)&&(m=!0)}}else m=!0;return m?Ki.min(a.pointToSegment(e,o,f),a.pointToSegment(n,o,f),a.pointToSegment(o,e,n),a.pointToSegment(f,e,n)):0}},{key:"pointToSegment",value:function(e,n,o){if(n.x===o.x&&n.y===o.y)return e.distance(n);var f=(o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y),m=((e.x-n.x)*(o.x-n.x)+(e.y-n.y)*(o.y-n.y))/f;if(m<=0)return e.distance(n);if(m>=1)return e.distance(o);var y=((n.y-e.y)*(o.x-n.x)-(n.x-e.x)*(o.y-n.y))/f;return Math.abs(y)*Math.sqrt(f)}},{key:"pointToLinePerpendicular",value:function(e,n,o){var f=(o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y),m=((n.y-e.y)*(o.x-n.x)-(n.x-e.x)*(o.y-n.y))/f;return Math.abs(m)*Math.sqrt(f)}},{key:"pointToSegmentString",value:function(e,n){if(n.length===0)throw new X("Line array must contain at least one vertex");for(var o=e.distance(n[0]),f=0;f<n.length-1;f++){var m=a.pointToSegment(e,n[f],n[f+1]);m<o&&(o=m)}return o}}])}(),js=function(){return _(function a(){s(this,a)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||q(arguments[0],Rt);else if(arguments.length!==2){if(arguments.length===3){var a=arguments[0],e=arguments[1];return this.create(a,e)}}}}])}(),Jr=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a){}}])}(),Au=function(){return _(function a(){s(this,a)},null,[{key:"ofLine",value:function(a){var e=a.size();if(e<=1)return 0;var n=0,o=new F;a.getCoordinate(0,o);for(var f=o.x,m=o.y,y=1;y<e;y++){a.getCoordinate(y,o);var b=o.x,S=o.y,O=b-f,$=S-m;n+=Math.sqrt(O*O+$*$),f=b,m=S}return n}}])}(),ha=_(function a(){s(this,a)}),Ii=function(){function a(){s(this,a)}return _(a,null,[{key:"copyCoord",value:function(e,n,o,f){for(var m=Math.min(e.getDimension(),o.getDimension()),y=0;y<m;y++)o.setOrdinate(f,y,e.getOrdinate(n,y))}},{key:"isRing",value:function(e){var n=e.size();return n===0||!(n<=3)&&e.getOrdinate(0,Rt.X)===e.getOrdinate(n-1,Rt.X)&&e.getOrdinate(0,Rt.Y)===e.getOrdinate(n-1,Rt.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(q(arguments[0],Rt)&&Number.isInteger(arguments[1])){var e=arguments[0],n=arguments[1];a.scroll(e,n,a.isRing(e))}else if(q(arguments[0],Rt)&&arguments[1]instanceof F){var o=arguments[0],f=arguments[1],m=a.indexOf(f,o);if(m<=0)return null;a.scroll(o,m)}}else if(arguments.length===3){var y=arguments[0],b=arguments[1],S=arguments[2];if(b<=0)return null;for(var O=y.copy(),$=S?y.size()-1:y.size(),K=0;K<$;K++)for(var ut=0;ut<y.getDimension();ut++)y.setOrdinate(K,ut,O.getOrdinate((b+K)%$,ut));if(S)for(var Et=0;Et<y.getDimension();Et++)y.setOrdinate($,Et,y.getOrdinate(0,Et))}}},{key:"isEqual",value:function(e,n){var o=e.size();if(o!==n.size())return!1;for(var f=Math.min(e.getDimension(),n.getDimension()),m=0;m<o;m++)for(var y=0;y<f;y++){var b=e.getOrdinate(m,y),S=n.getOrdinate(m,y);if(e.getOrdinate(m,y)!==n.getOrdinate(m,y)&&(!st.isNaN(b)||!st.isNaN(S)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var e=arguments[0];return a.minCoordinateIndex(e,0,e.size()-1)}if(arguments.length===3){for(var n=arguments[0],o=arguments[2],f=-1,m=null,y=arguments[1];y<=o;y++){var b=n.getCoordinate(y);(m===null||m.compareTo(b)>0)&&(m=b,f=y)}return f}}},{key:"extend",value:function(e,n,o){var f=e.create(o,n.getDimension()),m=n.size();if(a.copy(n,0,f,0,m),m>0)for(var y=m;y<o;y++)a.copy(n,m-1,f,y,1);return f}},{key:"reverse",value:function(e){for(var n=e.size()-1,o=Math.trunc(n/2),f=0;f<=o;f++)a.swap(e,f,n-f)}},{key:"swap",value:function(e,n,o){if(n===o)return null;for(var f=0;f<e.getDimension();f++){var m=e.getOrdinate(n,f);e.setOrdinate(n,f,e.getOrdinate(o,f)),e.setOrdinate(o,f,m)}}},{key:"copy",value:function(e,n,o,f,m){for(var y=0;y<m;y++)a.copyCoord(e,n+y,o,f+y)}},{key:"ensureValidRing",value:function(e,n){var o=n.size();return o===0?n:o<=3?a.createClosedRing(e,n,4):n.getOrdinate(0,Rt.X)===n.getOrdinate(o-1,Rt.X)&&n.getOrdinate(0,Rt.Y)===n.getOrdinate(o-1,Rt.Y)?n:a.createClosedRing(e,n,o+1)}},{key:"indexOf",value:function(e,n){for(var o=0;o<n.size();o++)if(e.x===n.getOrdinate(o,Rt.X)&&e.y===n.getOrdinate(o,Rt.Y))return o;return-1}},{key:"createClosedRing",value:function(e,n,o){var f=e.create(o,n.getDimension()),m=n.size();a.copy(n,0,f,0,m);for(var y=m;y<o;y++)a.copy(n,0,f,y,1);return f}},{key:"minCoordinate",value:function(e){for(var n=null,o=0;o<e.size();o++){var f=e.getCoordinate(o);(n===null||n.compareTo(f)>0)&&(n=f)}return n}}])}(),vt=function(){function a(){s(this,a)}return _(a,null,[{key:"toDimensionSymbol",value:function(e){switch(e){case a.FALSE:return a.SYM_FALSE;case a.TRUE:return a.SYM_TRUE;case a.DONTCARE:return a.SYM_DONTCARE;case a.P:return a.SYM_P;case a.L:return a.SYM_L;case a.A:return a.SYM_A}throw new X("Unknown dimension value: "+e)}},{key:"toDimensionValue",value:function(e){switch(zt.toUpperCase(e)){case a.SYM_FALSE:return a.FALSE;case a.SYM_TRUE:return a.TRUE;case a.SYM_DONTCARE:return a.DONTCARE;case a.SYM_P:return a.P;case a.SYM_L:return a.L;case a.SYM_A:return a.A}throw new X("Unknown dimension symbol: "+e)}}])}();vt.P=0,vt.L=1,vt.A=2,vt.FALSE=-1,vt.TRUE=-2,vt.DONTCARE=-3,vt.SYM_FALSE="F",vt.SYM_TRUE="T",vt.SYM_DONTCARE="*",vt.SYM_P="0",vt.SYM_L="1",vt.SYM_A="2";var Qr=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a){}}])}(),Ji=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a,e){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),br=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new gt:this._points.expandEnvelope(new gt)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new e(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];if(!this.isEquivalentClass(n))return!1;var f=n;if(this._points.size()!==f._points.size())return!1;for(var m=0;m<this._points.size();m++)if(!this.equal(this._points.getCoordinate(m),f._points.getCoordinate(m),o))return!1;return!0}return M(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var n=0;n<Math.trunc(this._points.size()/2);n++){var o=this._points.size()-1-n;if(!this._points.getCoordinate(n).equals(this._points.getCoordinate(o))){if(this._points.getCoordinate(n).compareTo(this._points.getCoordinate(o))>0){var f=this._points.copy();Ii.reverse(f),this._points=f}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?vt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var n=this._points.copy();return Ii.reverse(n),this.getFactory().createLineString(n)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Au.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var n=arguments[0],o=0,f=0;o<this._points.size()&&f<n._points.size();){var m=this._points.getCoordinate(o).compareTo(n._points.getCoordinate(f));if(m!==0)return m;o++,f++}return o<this._points.size()?1:f<n._points.size()?-1:0}if(arguments.length===2){var y=arguments[0];return arguments[1].compare(this._points,y._points)}}},{key:"apply",value:function(){if(q(arguments[0],Jr))for(var n=arguments[0],o=0;o<this._points.size();o++)n.filter(this._points.getCoordinate(o));else if(q(arguments[0],Ji)){var f=arguments[0];if(this._points.size()===0)return null;for(var m=0;m<this._points.size()&&(f.filter(this._points,m),!f.isDone());m++);f.isGeometryChanged()&&this.geometryChanged()}else q(arguments[0],Qr)?arguments[0].filter(this):q(arguments[0],V)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new nt}},{key:"isEquivalentClass",value:function(n){return n instanceof e}},{key:"getCoordinateN",value:function(n){return this._points.getCoordinate(n)}},{key:"getGeometryType",value:function(){return _t.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(n){if(n===null&&(n=this.getFactory().getCoordinateSequenceFactory().create([])),n.size()===1)throw new X("Invalid number of points in LineString (found "+n.size()+" - must be 0 or >= 2)");this._points=n}},{key:"isCoordinate",value:function(n){for(var o=0;o<this._points.size();o++)if(this._points.getCoordinate(o).equals(n))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(n){return this.getFactory().createPoint(this._points.getCoordinate(n))}},{key:"interfaces_",get:function(){return[ha]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var n=arguments[0],o=arguments[1];_t.constructor_.call(this,o),this.init(n)}}}}])}(_t),fa=_(function a(){s(this,a)}),Ks=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new gt;var n=new gt;return n.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),n}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new e(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&(!(!this.isEmpty()||!n.isEmpty())||this.isEmpty()===n.isEmpty()&&this.equal(n.getCoordinate(),this.getCoordinate(),o))}return M(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return vt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return _t.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var n=arguments[0];return this.getCoordinate().compareTo(n.getCoordinate())}if(arguments.length===2){var o=arguments[0];return arguments[1].compare(this._coordinates,o._coordinates)}}},{key:"apply",value:function(){if(q(arguments[0],Jr)){var n=arguments[0];if(this.isEmpty())return null;n.filter(this.getCoordinate())}else if(q(arguments[0],Ji)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this._coordinates,0),o.isGeometryChanged()&&this.geometryChanged()}else q(arguments[0],Qr)?arguments[0].filter(this):q(arguments[0],V)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return _t.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(n){n===null&&(n=this.getFactory().getCoordinateSequenceFactory().create([])),kt.isTrue(n.size()<=1),this._coordinates=n}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[fa]}}],[{key:"constructor_",value:function(){this._coordinates=null;var n=arguments[0],o=arguments[1];_t.constructor_.call(this,o),this.init(n)}}])}(_t),da=function(){function a(){s(this,a)}return _(a,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(a.ofRingSigned(e))}if(q(arguments[0],Rt)){var n=arguments[0];return Math.abs(a.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var n=0,o=e[0].x,f=1;f<e.length-1;f++){var m=e[f].x-o,y=e[f+1].y;n+=m*(e[f-1].y-y)}return n/2}if(q(arguments[0],Rt)){var b=arguments[0],S=b.size();if(S<3)return 0;var O=new F,$=new F,K=new F;b.getCoordinate(0,$),b.getCoordinate(1,K);var ut=$.x;K.x-=ut;for(var Et=0,Ct=1;Ct<S-1;Ct++)O.y=$.y,$.x=K.x,$.y=K.y,b.getCoordinate(Ct+1,K),K.x-=ut,Et+=$.x*(O.y-K.y);return Et/2}}}])}(),We=function(){return _(function a(){s(this,a)},null,[{key:"sort",value:function(){var a=arguments,e=arguments[0];if(arguments.length===1)e.sort(function(ut,Et){return ut.compareTo(Et)});else if(arguments.length===2)e.sort(function(ut,Et){return a[1].compare(ut,Et)});else if(arguments.length===3){var n=e.slice(arguments[1],arguments[2]);n.sort();var o=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));e.splice(0,e.length);var f,m=v(o);try{for(m.s();!(f=m.n()).done;){var y=f.value;e.push(y)}}catch(ut){m.e(ut)}finally{m.f()}}else if(arguments.length===4){var b=e.slice(arguments[1],arguments[2]);b.sort(function(ut,Et){return a[3].compare(ut,Et)});var S=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length));e.splice(0,e.length);var O,$=v(S);try{for($.s();!(O=$.n()).done;){var K=O.value;e.push(K)}}catch(ut){$.e(ut)}finally{$.f()}}}},{key:"asList",value:function(a){var e,n=new St,o=v(a);try{for(o.s();!(e=o.n()).done;){var f=e.value;n.add(f)}}catch(m){o.e(m)}finally{o.f()}return n}},{key:"copyOf",value:function(a,e){return a.slice(0,e)}}])}(),At=_(function a(){s(this,a)}),Tr=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var n=new Array(this.getNumPoints()).fill(null),o=-1,f=this._shell.getCoordinates(),m=0;m<f.length;m++)n[++o]=f[m];for(var y=0;y<this._holes.length;y++)for(var b=this._holes[y].getCoordinates(),S=0;S<b.length;S++)n[++o]=b[S];return n}},{key:"getArea",value:function(){var n=0;n+=da.ofRing(this._shell.getCoordinateSequence());for(var o=0;o<this._holes.length;o++)n-=da.ofRing(this._holes[o].getCoordinateSequence());return n}},{key:"copyInternal",value:function(){for(var n=this._shell.copy(),o=new Array(this._holes.length).fill(null),f=0;f<this._holes.length;f++)o[f]=this._holes[f].copy();return new e(n,o,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var n=this._shell.getCoordinateSequence(),o=this.getEnvelopeInternal(),f=0;f<5;f++){var m=n.getX(f);if(m!==o.getMinX()&&m!==o.getMaxX())return!1;var y=n.getY(f);if(y!==o.getMinY()&&y!==o.getMaxY())return!1}for(var b=n.getX(0),S=n.getY(0),O=1;O<=4;O++){var $=n.getX(O),K=n.getY(O);if($!==b==(K!==S))return!1;b=$,S=K}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];if(!this.isEquivalentClass(n))return!1;var f=n,m=this._shell,y=f._shell;if(!m.equalsExact(y,o)||this._holes.length!==f._holes.length)return!1;for(var b=0;b<this._holes.length;b++)if(!this._holes[b].equalsExact(f._holes[b],o))return!1;return!0}return M(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var n=0;n<this._holes.length;n++)this._holes[n]=this.normalized(this._holes[n],!1);We.sort(this._holes)}else if(arguments.length===2){var o=arguments[0],f=arguments[1];if(o.isEmpty())return null;var m=o.getCoordinateSequence(),y=Ii.minCoordinateIndex(m,0,m.size()-2);Ii.scroll(m,y,!0),Mt.isCCW(m)===f&&Ii.reverse(m)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var n=this.getExteriorRing().reverse(),o=new Array(this.getNumInteriorRing()).fill(null),f=0;f<o.length;f++)o[f]=this.getInteriorRingN(f).reverse();return this.getFactory().createPolygon(n,o)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var n=0;n+=this._shell.getLength();for(var o=0;o<this._holes.length;o++)n+=this._holes[o].getLength();return n}},{key:"getNumPoints",value:function(){for(var n=this._shell.getNumPoints(),o=0;o<this._holes.length;o++)n+=this._holes[o].getNumPoints();return n}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(n,o){var f=n.copy();return this.normalize(f,o),f}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var n=arguments[0],o=this._shell,f=n._shell;return o.compareToSameClass(f)}if(arguments.length===2){var m=arguments[1],y=arguments[0],b=this._shell,S=y._shell,O=b.compareToSameClass(S,m);if(O!==0)return O;for(var $=this.getNumInteriorRing(),K=y.getNumInteriorRing(),ut=0;ut<$&&ut<K;){var Et=this.getInteriorRingN(ut),Ct=y.getInteriorRingN(ut),Dt=Et.compareToSameClass(Ct,m);if(Dt!==0)return Dt;ut++}return ut<$?1:ut<K?-1:0}}},{key:"apply",value:function(){if(q(arguments[0],Jr)){var n=arguments[0];this._shell.apply(n);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(n)}else if(q(arguments[0],Ji)){var f=arguments[0];if(this._shell.apply(f),!f.isDone())for(var m=0;m<this._holes.length&&(this._holes[m].apply(f),!f.isDone());m++);f.isGeometryChanged()&&this.geometryChanged()}else if(q(arguments[0],Qr))arguments[0].filter(this);else if(q(arguments[0],V)){var y=arguments[0];y.filter(this),this._shell.apply(y);for(var b=0;b<this._holes.length;b++)this._holes[b].apply(y)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var n=new Array(this._holes.length+1).fill(null);n[0]=this._shell;for(var o=0;o<this._holes.length;o++)n[o+1]=this._holes[o];return n.length<=1?this.getFactory().createLinearRing(n[0].getCoordinateSequence()):this.getFactory().createMultiLineString(n)}},{key:"getGeometryType",value:function(){return _t.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(n){return this._holes[n]}},{key:"interfaces_",get:function(){return[At]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var n=arguments[0],o=arguments[1],f=arguments[2];if(_t.constructor_.call(this,f),n===null&&(n=this.getFactory().createLinearRing()),o===null&&(o=[]),_t.hasNullElements(o))throw new X("holes must not contain null elements");if(n.isEmpty()&&_t.hasNonEmptyElements(o))throw new X("shell is empty but holes are not");this._shell=n,this._holes=o}}])}(_t),ga=function(a){function e(){return s(this,e),c(this,e,arguments)}return k(e,a),_(e)}(ot),Js=function(a){function e(n){var o;return s(this,e),(o=c(this,e)).array=[],n instanceof D&&o.addAll(n),o}return k(e,a),_(e,[{key:"contains",value:function(n){var o,f=v(this.array);try{for(f.s();!(o=f.n()).done;)if(o.value.compareTo(n)===0)return!0}catch(m){f.e(m)}finally{f.f()}return!1}},{key:"add",value:function(n){if(this.contains(n))return!1;for(var o=0,f=this.array.length;o<f;o++)if(this.array[o].compareTo(n)===1)return!!this.array.splice(o,0,n);return this.array.push(n),!0}},{key:"addAll",value:function(n){var o,f=v(n);try{for(f.s();!(o=f.n()).done;){var m=o.value;this.add(m)}}catch(y){f.e(y)}finally{f.f()}return!0}},{key:"remove",value:function(){throw new nt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new _a(this.array)}}])}(ga),_a=function(){return _(function a(e){s(this,a),this.array=e,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new j;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new nt}}])}(),tn=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){for(var n=new gt,o=0;o<this._geometries.length;o++)n.expandToInclude(this._geometries[o].getEnvelopeInternal());return n}},{key:"getGeometryN",value:function(n){return this._geometries[n]}},{key:"getCoordinates",value:function(){for(var n=new Array(this.getNumPoints()).fill(null),o=-1,f=0;f<this._geometries.length;f++)for(var m=this._geometries[f].getCoordinates(),y=0;y<m.length;y++)n[++o]=m[y];return n}},{key:"getArea",value:function(){for(var n=0,o=0;o<this._geometries.length;o++)n+=this._geometries[o].getArea();return n}},{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];if(!this.isEquivalentClass(n))return!1;var f=n;if(this._geometries.length!==f._geometries.length)return!1;for(var m=0;m<this._geometries.length;m++)if(!this._geometries[m].equalsExact(f._geometries[m],o))return!1;return!0}return M(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var n=0;n<this._geometries.length;n++)this._geometries[n].normalize();We.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var n=vt.FALSE,o=0;o<this._geometries.length;o++)n=Math.max(n,this._geometries[o].getBoundaryDimension());return n}},{key:"reverseInternal",value:function(){for(var n=this._geometries.length,o=new St(n),f=0;f<n;f++)o.add(this._geometries[f].reverse());return this.getFactory().buildGeometry(o)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var n=vt.FALSE,o=0;o<this._geometries.length;o++)n=Math.max(n,this._geometries[o].getDimension());return n}},{key:"getLength",value:function(){for(var n=0,o=0;o<this._geometries.length;o++)n+=this._geometries[o].getLength();return n}},{key:"getNumPoints",value:function(){for(var n=0,o=0;o<this._geometries.length;o++)n+=this._geometries[o].getNumPoints();return n}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var n=arguments[0],o=new Js(We.asList(this._geometries)),f=new Js(We.asList(n._geometries));return this.compare(o,f)}if(arguments.length===2){for(var m=arguments[1],y=arguments[0],b=this.getNumGeometries(),S=y.getNumGeometries(),O=0;O<b&&O<S;){var $=this.getGeometryN(O),K=y.getGeometryN(O),ut=$.compareToSameClass(K,m);if(ut!==0)return ut;O++}return O<b?1:O<S?-1:0}}},{key:"apply",value:function(){if(q(arguments[0],Jr))for(var n=arguments[0],o=0;o<this._geometries.length;o++)this._geometries[o].apply(n);else if(q(arguments[0],Ji)){var f=arguments[0];if(this._geometries.length===0)return null;for(var m=0;m<this._geometries.length&&(this._geometries[m].apply(f),!f.isDone());m++);f.isGeometryChanged()&&this.geometryChanged()}else if(q(arguments[0],Qr)){var y=arguments[0];y.filter(this);for(var b=0;b<this._geometries.length;b++)this._geometries[b].apply(y)}else if(q(arguments[0],V)){var S=arguments[0];S.filter(this);for(var O=0;O<this._geometries.length;O++)this._geometries[O].apply(S)}}},{key:"getBoundary",value:function(){return _t.checkNotGeometryCollection(this),kt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return _t.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var n=0;n<this._geometries.length;n++)if(!this._geometries[n].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var n=arguments[0],o=arguments[1];if(_t.constructor_.call(this,o),n===null&&(n=[]),_t.hasNullElements(n))throw new X("geometries must not contain null elements");this._geometries=n}}}}])}(_t),ts=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&M(e,"equalsExact",this,1).call(this,n,o)}return M(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var n=arguments[0];return this._geometries[n].getCoordinate()}return M(e,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return vt.FALSE}},{key:"getTypeCode",value:function(){return _t.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return _t.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[fa]}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];tn.constructor_.call(this,n,o)}}])}(tn),zn=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){return new e(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return vt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||M(e,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var n=this._points.copy();return Ii.reverse(n),this.getFactory().createLinearRing(n)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!M(e,"isClosed",this,1).call(this))throw new X("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new X("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return _t.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];br.constructor_.call(this,n,o),this.validateConstruction()}}])}(br);zn.MINIMUM_VALID_SIZE=4;var li=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"setOrdinate",value:function(n,o){switch(n){case e.X:this.x=o;break;case e.Y:this.y=o;break;default:throw new X("Invalid ordinate index: "+n)}}},{key:"getZ",value:function(){return F.NULL_ORDINATE}},{key:"getOrdinate",value:function(n){switch(n){case e.X:return this.x;case e.Y:return this.y}throw new X("Invalid ordinate index: "+n)}},{key:"setZ",value:function(n){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)F.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof e){var n=arguments[0];F.constructor_.call(this,n.x,n.y)}else if(arguments[0]instanceof F){var o=arguments[0];F.constructor_.call(this,o.x,o.y)}}else if(arguments.length===2){var f=arguments[0],m=arguments[1];F.constructor_.call(this,f,m,F.NULL_ORDINATE)}}}])}(F);li.X=0,li.Y=1,li.Z=-1,li.M=-1;var Si=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(n,o){switch(n){case e.X:this.x=o;break;case e.Y:this.y=o;break;case e.M:this._m=o;break;default:throw new X("Invalid ordinate index: "+n)}}},{key:"setM",value:function(n){this._m=n}},{key:"getZ",value:function(){return F.NULL_ORDINATE}},{key:"getOrdinate",value:function(n){switch(n){case e.X:return this.x;case e.Y:return this.y;case e.M:return this._m}throw new X("Invalid ordinate index: "+n)}},{key:"setZ",value:function(n){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ(),this._m=n.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)F.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof e){var n=arguments[0];F.constructor_.call(this,n.x,n.y),this._m=n._m}else if(arguments[0]instanceof F){var o=arguments[0];F.constructor_.call(this,o.x,o.y),this._m=this.getM()}}else if(arguments.length===3){var f=arguments[0],m=arguments[1],y=arguments[2];F.constructor_.call(this,f,m,F.NULL_ORDINATE),this._m=y}}}])}(F);Si.X=0,Si.Y=1,Si.Z=-1,Si.M=2;var Qs=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(n,o){switch(n){case F.X:this.x=o;break;case F.Y:this.y=o;break;case F.Z:this.z=o;break;case F.M:this._m=o;break;default:throw new X("Invalid ordinate index: "+n)}}},{key:"setM",value:function(n){this._m=n}},{key:"getOrdinate",value:function(n){switch(n){case F.X:return this.x;case F.Y:return this.y;case F.Z:return this.getZ();case F.M:return this.getM()}throw new X("Invalid ordinate index: "+n)}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ(),this._m=n.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)F.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof e){var n=arguments[0];F.constructor_.call(this,n),this._m=n._m}else if(arguments[0]instanceof F){var o=arguments[0];F.constructor_.call(this,o),this._m=this.getM()}}else if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3];F.constructor_.call(this,f,m,y),this._m=b}}}])}(F),es=function(){function a(){s(this,a)}return _(a,null,[{key:"measures",value:function(e){return e instanceof li?0:e instanceof Si||e instanceof Qs?1:0}},{key:"dimension",value:function(e){return e instanceof li?2:e instanceof Si?3:e instanceof Qs?4:3}},{key:"create",value:function(){if(arguments.length===1){var e=arguments[0];return a.create(e,0)}if(arguments.length===2){var n=arguments[0],o=arguments[1];return n===2?new li:n===3&&o===0?new F:n===3&&o===1?new Si:n===4&&o===1?new Qs:new F}}}])}(),Ir=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getCoordinate",value:function(n){return this.get(n)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&q(arguments[0],D)){for(var n=arguments[1],o=!1,f=arguments[0].iterator();f.hasNext();)this.add(f.next(),n),o=!0;return o}return M(e,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var n=M(e,"clone",this,1).call(this),o=0;o<this.size();o++)n.add(o,this.get(o).clone());return n}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(e.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(e.coordArrayType);for(var n=this.size(),o=new Array(n).fill(null),f=0;f<n;f++)o[f]=this.get(n-f-1);return o}}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];return M(e,"add",this,1).call(this,n)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var o=arguments[0],f=arguments[1];return this.add(o,f,!0),!0}if(arguments[0]instanceof F&&typeof arguments[1]=="boolean"){var m=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(m))return null;M(e,"add",this,1).call(this,m)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var y=arguments[0],b=arguments[1];return this.add(y,b),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var S=arguments[0],O=arguments[1];if(arguments[2])for(var $=0;$<S.length;$++)this.add(S[$],O);else for(var K=S.length-1;K>=0;K--)this.add(S[K],O);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof F){var ut=arguments[0],Et=arguments[1];if(!arguments[2]){var Ct=this.size();if(Ct>0&&(ut>0&&this.get(ut-1).equals2D(Et)||ut<Ct&&this.get(ut).equals2D(Et)))return null}M(e,"add",this,1).call(this,ut,Et)}}else if(arguments.length===4){var Dt=arguments[0],ae=arguments[1],te=arguments[2],Ee=arguments[3],Me=1;te>Ee&&(Me=-1);for(var Ze=te;Ze!==Ee;Ze+=Me)this.add(Dt[Ze],ae);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var n=this.get(0).copy();this.add(n,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.ensureCapacity(n.length),this.add(n,!0)}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.ensureCapacity(o.length),this.add(o,f)}}}}])}(St);Ir.coordArrayType=new Array(0).fill(null);var De=function(){function a(){s(this,a)}return _(a,null,[{key:"isRing",value:function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])}},{key:"ptNotInList",value:function(e,n){for(var o=0;o<e.length;o++){var f=e[o];if(a.indexOf(f,n)<0)return f}return null}},{key:"scroll",value:function(e,n){var o=a.indexOf(n,e);if(o<0)return null;var f=new Array(e.length).fill(null);wn.arraycopy(e,o,f,0,e.length-o),wn.arraycopy(e,0,f,e.length-o,o),wn.arraycopy(f,0,e,0,e.length)}},{key:"equals",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];if(e===n)return!0;if(e===null||n===null||e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(!e[o].equals(n[o]))return!1;return!0}if(arguments.length===3){var f=arguments[0],m=arguments[1],y=arguments[2];if(f===m)return!0;if(f===null||m===null||f.length!==m.length)return!1;for(var b=0;b<f.length;b++)if(y.compare(f[b],m[b])!==0)return!1;return!0}}},{key:"intersection",value:function(e,n){for(var o=new Ir,f=0;f<e.length;f++)n.intersects(e[f])&&o.add(e[f],!0);return o.toCoordinateArray()}},{key:"measures",value:function(e){if(e===null||e.length===0)return 0;var n,o=0,f=v(e);try{for(f.s();!(n=f.n()).done;){var m=n.value;o=Math.max(o,es.measures(m))}}catch(y){f.e(y)}finally{f.f()}return o}},{key:"hasRepeatedPoints",value:function(e){for(var n=1;n<e.length;n++)if(e[n-1].equals(e[n]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(e){return a.hasRepeatedPoints(e)?new Ir(e,!1).toCoordinateArray():e}},{key:"reverse",value:function(e){for(var n=e.length-1,o=Math.trunc(n/2),f=0;f<=o;f++){var m=e[f];e[f]=e[n-f],e[n-f]=m}}},{key:"removeNull",value:function(e){for(var n=0,o=0;o<e.length;o++)e[o]!==null&&n++;var f=new Array(n).fill(null);if(n===0)return f;for(var m=0,y=0;y<e.length;y++)e[y]!==null&&(f[m++]=e[y]);return f}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var e=arguments[0],n=new Array(e.length).fill(null),o=0;o<e.length;o++)n[o]=e[o].copy();return n}if(arguments.length===5)for(var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=arguments[4],O=0;O<S;O++)y[b+O]=f[m+O].copy()}},{key:"isEqualReversed",value:function(e,n){for(var o=0;o<e.length;o++){var f=e[o],m=n[e.length-o-1];if(f.compareTo(m)!==0)return!1}return!0}},{key:"envelope",value:function(e){for(var n=new gt,o=0;o<e.length;o++)n.expandToInclude(e[o]);return n}},{key:"toCoordinateArray",value:function(e){return e.toArray(a.coordArrayType)}},{key:"dimension",value:function(e){if(e===null||e.length===0)return 3;var n,o=0,f=v(e);try{for(f.s();!(n=f.n()).done;){var m=n.value;o=Math.max(o,es.dimension(m))}}catch(y){f.e(y)}finally{f.f()}return o}},{key:"atLeastNCoordinatesOrNothing",value:function(e,n){return n.length>=e?n:[]}},{key:"indexOf",value:function(e,n){for(var o=0;o<n.length;o++)if(e.equals(n[o]))return o;return-1}},{key:"increasingDirection",value:function(e){for(var n=0;n<Math.trunc(e.length/2);n++){var o=e.length-1-n,f=e[n].compareTo(e[o]);if(f!==0)return f}return 1}},{key:"compare",value:function(e,n){for(var o=0;o<e.length&&o<n.length;){var f=e[o].compareTo(n[o]);if(f!==0)return f;o++}return o<n.length?-1:o<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var n=null,o=0;o<e.length;o++)(n===null||n.compareTo(e[o])>0)&&(n=e[o]);return n}},{key:"extract",value:function(e,n,o){n=Ki.clamp(n,0,e.length);var f=(o=Ki.clamp(o,-1,e.length))-n+1;o<0&&(f=0),n>=e.length&&(f=0),o<n&&(f=0);var m=new Array(f).fill(null);if(f===0)return m;for(var y=0,b=n;b<=o;b++)m[y++]=e[b];return m}}])}(),Du=function(){return _(function a(){s(this,a)},[{key:"compare",value:function(a,e){var n=a,o=e;return De.compare(n,o)}},{key:"interfaces_",get:function(){return[Ft]}}])}(),ns=function(){return _(function a(){s(this,a)},[{key:"compare",value:function(a,e){var n=a,o=e;if(n.length<o.length)return-1;if(n.length>o.length)return 1;if(n.length===0)return 0;var f=De.compare(n,o);return De.isEqualReversed(n,o)?0:f}},{key:"OLDcompare",value:function(a,e){var n=a,o=e;if(n.length<o.length)return-1;if(n.length>o.length)return 1;if(n.length===0)return 0;for(var f=De.increasingDirection(n),m=De.increasingDirection(o),y=f>0?0:n.length-1,b=m>0?0:n.length-1,S=0;S<n.length;S++){var O=n[y].compareTo(o[b]);if(O!==0)return O;y+=f,b+=m}return 0}},{key:"interfaces_",get:function(){return[Ft]}}])}();De.ForwardComparator=Du,De.BidirectionalComparator=ns,De.coordArrayType=new Array(0).fill(null);var is=function(){return _(function a(e){s(this,a),this.str=e},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,e){this.str=this.str.substr(0,a)+e+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),Sr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():st.NaN}},{key:"setOrdinate",value:function(e,n,o){switch(n){case Rt.X:this._coordinates[e].x=o;break;case Rt.Y:this._coordinates[e].y=o;break;default:this._coordinates[e].setOrdinate(n,o)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():st.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,n){switch(n){case Rt.X:return this._coordinates[e].x;case Rt.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(n)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var n=arguments[0];arguments[1].setCoordinate(this._coordinates[n])}}},{key:"getCoordinateCopy",value:function(e){var n=this.createCoordinate();return n.setCoordinate(this._coordinates[e]),n}},{key:"createCoordinate",value:function(){return es.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var n=0;n<this._coordinates.length;n++)e.expandToInclude(this._coordinates[n]);return e}},{key:"copy",value:function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var o=this.createCoordinate();o.setCoordinate(this._coordinates[n]),e[n]=o}return new a(e,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new is(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)e.append(", "),e.append(this._coordinates[n]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Rt,ct]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];a.constructor_.call(this,e,De.dimension(e),De.measures(e))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var o=0;o<n;o++)this._coordinates[o]=new F}else if(q(arguments[0],Rt)){var f=arguments[0];if(f===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=f.getDimension(),this._measures=f.getMeasures(),this._coordinates=new Array(f.size()).fill(null);for(var m=0;m<this._coordinates.length;m++)this._coordinates[m]=f.getCoordinateCopy(m)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var y=arguments[0],b=arguments[1];a.constructor_.call(this,y,b,De.measures(y))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],O=arguments[1];this._coordinates=new Array(S).fill(null),this._dimension=O;for(var $=0;$<S;$++)this._coordinates[$]=es.create(O)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var K=arguments[0],ut=arguments[1],Et=arguments[2];this._dimension=ut,this._measures=Et,this._coordinates=K===null?new Array(0).fill(null):K}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Ct=arguments[0],Dt=arguments[1],ae=arguments[2];this._coordinates=new Array(Ct).fill(null),this._dimension=Dt,this._measures=ae;for(var te=0;te<Ct;te++)this._coordinates[te]=this.createCoordinate()}}}}])}(),to=function(){function a(){s(this,a)}return _(a,[{key:"readResolve",value:function(){return a.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Sr(arguments[0]);if(q(arguments[0],Rt))return new Sr(arguments[0])}else{if(arguments.length===2){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new Sr(arguments[0],e)}if(arguments.length===3){var n=arguments[2],o=arguments[1]-n;return n>1&&(n=1),o>3&&(o=3),o<2&&(o=2),new Sr(arguments[0],o+n,n)}}}},{key:"interfaces_",get:function(){return[js,ct]}}],[{key:"instance",value:function(){return a.instanceObject}}])}();to.instanceObject=new to;var eo=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&M(e,"equalsExact",this,1).call(this,n,o)}return M(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return _t.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var n=new St,o=0;o<this._geometries.length;o++)for(var f=this._geometries[o].getBoundary(),m=0;m<f.getNumGeometries();m++)n.add(f.getGeometryN(m));var y=new Array(n.size()).fill(null);return this.getFactory().createMultiLineString(n.toArray(y))}},{key:"getGeometryType",value:function(){return _t.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[At]}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];tn.constructor_.call(this,n,o)}}])}(tn),ma=function(){return _(function a(){s(this,a)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),no=function(a){function e(){var n;return s(this,e),(n=c(this,e)).map=new Map,n}return k(e,a),_(e,[{key:"get",value:function(n){return this.map.get(n)||null}},{key:"put",value:function(n,o){return this.map.set(n,o),o}},{key:"values",value:function(){for(var n=new St,o=this.map.values(),f=o.next();!f.done;)n.add(f.value),f=o.next();return n}},{key:"entrySet",value:function(){var n=new rt;return this.map.entries().forEach(function(o){return n.add(o)}),n}},{key:"size",value:function(){return this.map.size()}}])}(ma),en=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"equals",value:function(e){if(!(e instanceof a))return!1;var n=e;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(e){var n=e,o=this.getMaximumSignificantDigits(),f=n.getMaximumSignificantDigits();return xt.compare(o,f)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===a.FLOATING||this._modelType===a.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var e="UNKNOWN";return this._modelType===a.FLOATING?e="Floating":this._modelType===a.FLOATING_SINGLE?e="Floating-Single":this._modelType===a.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var e=arguments[0];return st.isNaN(e)||this._modelType===a.FLOATING_SINGLE?e:this._modelType===a.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof F){var n=arguments[0];if(this._modelType===a.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var e=16;return this._modelType===a.FLOATING?e=16:this._modelType===a.FLOATING_SINGLE?e=6:this._modelType===a.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[ct,Z]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=a.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ni){var e=arguments[0];this._modelType=e,e===a.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var n=arguments[0];this._modelType=a.FIXED,this.setScale(n)}else if(arguments[0]instanceof a){var o=arguments[0];this._modelType=o._modelType,this._scale=o._scale}}}},{key:"mostPrecise",value:function(e,n){return e.compareTo(n)>=0?e:n}}])}(),Ni=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"readResolve",value:function(){return a.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[ct]}}],[{key:"constructor_",value:function(){this._name=null;var e=arguments[0];this._name=e,a.nameToTypeMap.put(e,this)}}])}();Ni.nameToTypeMap=new no,en.Type=Ni,en.FIXED=new Ni("FIXED"),en.FLOATING=new Ni("FLOATING"),en.FLOATING_SINGLE=new Ni("FLOATING SINGLE"),en.maximumPreciseValue=9007199254740992;var rs=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&M(e,"equalsExact",this,1).call(this,n,o)}return M(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?vt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var n=0;n<this._geometries.length;n++)if(!this._geometries[n].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return _t.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new nt}},{key:"getGeometryType",value:function(){return _t.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[ha]}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];tn.constructor_.call(this,n,o)}}])}(tn),Bn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new X("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new F(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new F(e.getMinX(),e.getMinY()),new F(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new F(e.getMinX(),e.getMinY()),new F(e.getMinX(),e.getMaxY()),new F(e.getMaxX(),e.getMaxY()),new F(e.getMaxX(),e.getMinY()),new F(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(q(arguments[0],Rt))return new br(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new rs(null,this):arguments.length===1?new rs(arguments[0],this):void 0}},{key:"buildGeometry",value:function(e){for(var n=null,o=!1,f=!1,m=e.iterator();m.hasNext();){var y=m.next(),b=y.getTypeCode();n===null&&(n=b),b!==n&&(o=!0),y instanceof tn&&(f=!0)}if(n===null)return this.createGeometryCollection();if(o||f)return this.createGeometryCollection(a.toGeometryArray(e));var S=e.iterator().next();if(e.size()>1){if(S instanceof Tr)return this.createMultiPolygon(a.toPolygonArray(e));if(S instanceof br)return this.createMultiLineString(a.toLineStringArray(e));if(S instanceof Ks)return this.createMultiPoint(a.toPointArray(e));kt.shouldNeverReachHere("Unhandled geometry type: "+S.getGeometryType())}return S}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(q(arguments[0],Rt))return new Ks(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(q(arguments[0],Rt)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof zn){var o=arguments[0];return this.createPolygon(o,null)}}else if(arguments.length===2)return new Tr(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new tn(null,this):arguments.length===1?new tn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(q(arguments[0],Rt))return new zn(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new eo(null,this):arguments.length===1?new eo(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new ts(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new ts(arguments[0],this);if(q(arguments[0],Rt)){var e=arguments[0];if(e===null)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),o=0;o<e.size();o++){var f=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());Ii.copy(e,o,f,0,1),n[o]=this.createPoint(f)}return this.createMultiPoint(n)}}}},{key:"interfaces_",get:function(){return[ct]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)a.constructor_.call(this,new en,0);else if(arguments.length===1){if(q(arguments[0],js)){var e=arguments[0];a.constructor_.call(this,new en,0,e)}else if(arguments[0]instanceof en){var n=arguments[0];a.constructor_.call(this,n,0,a.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];a.constructor_.call(this,o,f,a.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this._precisionModel=m,this._coordinateSequenceFactory=b,this._SRID=y}}},{key:"toMultiPolygonArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toGeometryArray",value:function(e){if(e===null)return null;var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return to.instance()}},{key:"toMultiLineStringArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toLineStringArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toMultiPointArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toLinearRingArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toPointArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toPolygonArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"createPointFromInternalCoord",value:function(e,n){return n.getPrecisionModel().makePrecise(e),n.getFactory().createPoint(e)}}])}(),oe="XY",Ne="XYZ",ss="XYM",Qi="XYZM",Ci={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},os="EMPTY",Vt=1,ge=2,Un=3,Nr=4,$e=5,Fu=6;for(var as in Ci)Ci[as].toUpperCase();var Pi=function(){return _(function a(e){s(this,a),this.wkt=e,this.index_=-1},[{key:"isAlpha_",value:function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"}},{key:"isNumeric_",value:function(a,e){return a>="0"&&a<="9"||a=="."&&!(e!==void 0&&e)}},{key:"isWhiteSpace_",value:function(a){return a==" "||a=="	"||a=="\r"||a==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var a,e=this.nextChar_(),n=this.index_,o=e;if(e=="(")a=ge;else if(e==",")a=$e;else if(e==")")a=Un;else if(this.isNumeric_(e)||e=="-")a=Nr,o=this.readNumber_();else if(this.isAlpha_(e))a=Vt,o=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e!=="")throw new Error("Unexpected character: "+e);a=Fu}return{position:n,value:o,type:a}}},{key:"readNumber_",value:function(){var a,e=this.index_,n=!1,o=!1;do a=="."?n=!0:a!="e"&&a!="E"||(o=!0),a=this.nextChar_();while(this.isNumeric_(a,n)||!o&&(a=="e"||a=="E")||o&&(a=="-"||a=="+"));return parseFloat(this.wkt.substring(e,this.index_--))}},{key:"readText_",value:function(){var a,e=this.index_;do a=this.nextChar_();while(this.isAlpha_(a));return this.wkt.substring(e,this.index_--).toUpperCase()}}])}(),Fe=function(){return _(function a(e,n){s(this,a),this.lexer_=e,this.token_,this.layout_=oe,this.factory=n},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(a){return this.token_.type==a}},{key:"match",value:function(a){var e=this.isTokenType(a);return e&&this.consume_(),e}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var a=oe,e=this.token_;if(this.isTokenType(Vt)){var n=e.value;n==="Z"?a=Ne:n==="M"?a=ss:n==="ZM"&&(a=Qi),a!==oe&&this.consume_()}return a}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(ge)){var a=[];do a.push(this.parseGeometry_());while(this.match($e));if(this.match(Un))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(ge)){var a=this.parsePoint_();if(this.match(Un))return a}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(ge)){var a=this.parsePointList_();if(this.match(Un))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(ge)){var a=this.parseLineStringTextList_();if(this.match(Un))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var a;if(this.match(ge)){if(a=this.token_.type==ge?this.parsePointTextList_():this.parsePointList_(),this.match(Un))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(ge)){var a=this.parseLineStringTextList_();if(this.match(Un))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(ge)){var a=this.parsePolygonTextList_();if(this.match(Un))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var a=[],e=this.layout_.length,n=0;n<e;++n){var o=this.token_;if(!this.match(Nr))break;a.push(o.value)}if(a.length==e)return a;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var a=[this.parsePoint_()];this.match($e);)a.push(this.parsePoint_());return a}},{key:"parsePointTextList_",value:function(){for(var a=[this.parsePointText_()];this.match($e);)a.push(this.parsePointText_());return a}},{key:"parseLineStringTextList_",value:function(){for(var a=[this.parseLineStringText_()];this.match($e);)a.push(this.parseLineStringText_());return a}},{key:"parsePolygonTextList_",value:function(){for(var a=[this.parsePolygonText_()];this.match($e);)a.push(this.parsePolygonText_());return a}},{key:"isEmptyGeometry_",value:function(){var a=this.isTokenType(Vt)&&this.token_.value==os;return a&&this.consume_(),a}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var a=this.factory,e=function(Dt){return h(F,U(Dt))},n=function(Dt){var ae=Dt.map(function(te){return a.createLinearRing(te.map(e))});return ae.length>1?a.createPolygon(ae[0],ae.slice(1)):a.createPolygon(ae[0])},o=this.token_;if(this.match(Vt)){var f=o.value;if(this.layout_=this.parseGeometryLayout_(),f=="GEOMETRYCOLLECTION"){var m=this.parseGeometryCollectionText_();return a.createGeometryCollection(m)}switch(f){case"POINT":var y=this.parsePointText_();return y?a.createPoint(h(F,U(y))):a.createPoint();case"LINESTRING":var b=this.parseLineStringText_().map(e);return a.createLineString(b);case"LINEARRING":var S=this.parseLineStringText_().map(e);return a.createLinearRing(S);case"POLYGON":var O=this.parsePolygonText_();return O&&O.length!==0?n(O):a.createPolygon();case"MULTIPOINT":var $=this.parseMultiPointText_();if(!$||$.length===0)return a.createMultiPoint();var K=$.map(e).map(function(Dt){return a.createPoint(Dt)});return a.createMultiPoint(K);case"MULTILINESTRING":var ut=this.parseMultiLineStringText_().map(function(Dt){return a.createLineString(Dt.map(e))});return a.createMultiLineString(ut);case"MULTIPOLYGON":var Et=this.parseMultiPolygonText_();if(!Et||Et.length===0)return a.createMultiPolygon();var Ct=Et.map(n);return a.createMultiPolygon(Ct);default:throw new Error("Invalid geometry type: "+f)}}throw new Error(this.formatErrorMessage_())}}])}();function ci(a){if(a.isEmpty())return"";var e=a.getCoordinate(),n=[e.x,e.y];return e.z===void 0||Number.isNaN(e.z)||n.push(e.z),e.m===void 0||Number.isNaN(e.m)||n.push(e.m),n.join(" ")}function Qn(a){for(var e=a.getCoordinates().map(function(m){var y=[m.x,m.y];return m.z===void 0||Number.isNaN(m.z)||y.push(m.z),m.m===void 0||Number.isNaN(m.m)||y.push(m.m),y}),n=[],o=0,f=e.length;o<f;++o)n.push(e[o].join(" "));return n.join(", ")}function tr(a){var e=[];e.push("("+Qn(a.getExteriorRing())+")");for(var n=0,o=a.getNumInteriorRing();n<o;++n)e.push("("+Qn(a.getInteriorRingN(n))+")");return e.join(", ")}var io={Point:ci,LineString:Qn,LinearRing:Qn,Polygon:tr,MultiPoint:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push("("+ci(a.getGeometryN(n))+")");return e.join(", ")},MultiLineString:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push("("+Qn(a.getGeometryN(n))+")");return e.join(", ")},MultiPolygon:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push("("+tr(a.getGeometryN(n))+")");return e.join(", ")},GeometryCollection:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push(er(a.getGeometryN(n)));return e.join(", ")}};function er(a){var e=a.getGeometryType(),n=io[e];e=e.toUpperCase();var o=function(f){var m="";if(f.isEmpty())return m;var y=f.getCoordinate();return y.z===void 0||Number.isNaN(y.z)||(m+="Z"),y.m===void 0||Number.isNaN(y.m)||(m+="M"),m}(a);return o.length>0&&(e+=" "+o),a.isEmpty()?e+" "+os:e+" ("+n(a)+")"}var ro=function(){return _(function a(e){s(this,a),this.geometryFactory=e||new Bn,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(a){var e=new Pi(a);return new Fe(e,this.geometryFactory).parse()}},{key:"write",value:function(a){return er(a)}}])}(),Cr=function(){return _(function a(e){s(this,a),this.parser=new ro(e)},[{key:"write",value:function(a){return this.parser.write(a)}}],[{key:"toLineString",value:function(a,e){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+e.x+" "+e.y+" )"}}])}(),ye=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getIndexAlongSegment",value:function(e,n){return this.computeIntLineIndex(),this._intLineIndex[e][n]}},{key:"getTopologySummary",value:function(){var e=new is;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,n,o,f){this._inputLines[0][0]=e,this._inputLines[0][1]=n,this._inputLines[1][0]=o,this._inputLines[1][1]=f,this._result=this.computeIntersect(e,n,o,f)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var e=arguments[0],n=0;n<this._result;n++)if(!this._intPt[n].equals2D(this._inputLines[e][0])&&!this._intPt[n].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==a.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(e,n){return a.computeEdgeDistance(this._intPt[n],this._inputLines[e][0],this._inputLines[e][1])}},{key:"isCollinear",value:function(){return this._result===a.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Cr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Cr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,n){return this._inputLines[e][n]}},{key:"isIntersection",value:function(e){for(var n=0;n<this._result;n++)if(this._intPt[n].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][n]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new F,this._intPt[1]=new F,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,n,o){var f=Math.abs(o.x-n.x),m=Math.abs(o.y-n.y),y=-1;if(e.equals(n))y=0;else if(e.equals(o))y=f>m?f:m;else{var b=Math.abs(e.x-n.x),S=Math.abs(e.y-n.y);(y=f>m?b:S)!==0||e.equals(n)||(y=Math.max(b,S))}return kt.isTrue(!(y===0&&!e.equals(n)),"Bad distance calculation"),y}},{key:"nonRobustComputeEdgeDistance",value:function(e,n,o){var f=e.x-n.x,m=e.y-n.y,y=Math.sqrt(f*f+m*m);return kt.isTrue(!(y===0&&!e.equals(n)),"Invalid distance calculation"),y}}])}();ye.DONT_INTERSECT=0,ye.DO_INTERSECT=1,ye.COLLINEAR=2,ye.NO_INTERSECTION=0,ye.POINT_INTERSECTION=1,ye.COLLINEAR_INTERSECTION=2;var ti=function(a){function e(){return s(this,e),c(this,e)}return k(e,a),_(e,[{key:"isInSegmentEnvelopes",value:function(n){var o=new gt(this._inputLines[0][0],this._inputLines[0][1]),f=new gt(this._inputLines[1][0],this._inputLines[1][1]);return o.contains(n)&&f.contains(n)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return M(e,"computeIntersection",this,1).apply(this,arguments);var n=arguments[0],o=arguments[1],f=arguments[2];if(this._isProper=!1,gt.intersects(o,f,n)&&Mt.index(o,f,n)===0&&Mt.index(f,o,n)===0)return this._isProper=!0,(n.equals(o)||n.equals(f))&&(this._isProper=!1),this._result=ye.POINT_INTERSECTION,null;this._result=ye.NO_INTERSECTION}},{key:"intersection",value:function(n,o,f,m){var y=this.intersectionSafe(n,o,f,m);return this.isInSegmentEnvelopes(y)||(y=new F(e.nearestEndpoint(n,o,f,m))),this._precisionModel!==null&&this._precisionModel.makePrecise(y),y}},{key:"checkDD",value:function(n,o,f,m,y){var b=Pe.intersection(n,o,f,m),S=this.isInSegmentEnvelopes(b);wn.out.println("DD in env = "+S+"  --------------------- "+b),y.distance(b)>1e-4&&wn.out.println("Distance = "+y.distance(b))}},{key:"intersectionSafe",value:function(n,o,f,m){var y=Xs.intersection(n,o,f,m);return y===null&&(y=e.nearestEndpoint(n,o,f,m)),y}},{key:"computeCollinearIntersection",value:function(n,o,f,m){var y=gt.intersects(n,o,f),b=gt.intersects(n,o,m),S=gt.intersects(f,m,n),O=gt.intersects(f,m,o);return y&&b?(this._intPt[0]=f,this._intPt[1]=m,ye.COLLINEAR_INTERSECTION):S&&O?(this._intPt[0]=n,this._intPt[1]=o,ye.COLLINEAR_INTERSECTION):y&&S?(this._intPt[0]=f,this._intPt[1]=n,!f.equals(n)||b||O?ye.COLLINEAR_INTERSECTION:ye.POINT_INTERSECTION):y&&O?(this._intPt[0]=f,this._intPt[1]=o,!f.equals(o)||b||S?ye.COLLINEAR_INTERSECTION:ye.POINT_INTERSECTION):b&&S?(this._intPt[0]=m,this._intPt[1]=n,!m.equals(n)||y||O?ye.COLLINEAR_INTERSECTION:ye.POINT_INTERSECTION):b&&O?(this._intPt[0]=m,this._intPt[1]=o,!m.equals(o)||y||S?ye.COLLINEAR_INTERSECTION:ye.POINT_INTERSECTION):ye.NO_INTERSECTION}},{key:"computeIntersect",value:function(n,o,f,m){if(this._isProper=!1,!gt.intersects(n,o,f,m))return ye.NO_INTERSECTION;var y=Mt.index(n,o,f),b=Mt.index(n,o,m);if(y>0&&b>0||y<0&&b<0)return ye.NO_INTERSECTION;var S=Mt.index(f,m,n),O=Mt.index(f,m,o);return S>0&&O>0||S<0&&O<0?ye.NO_INTERSECTION:y===0&&b===0&&S===0&&O===0?this.computeCollinearIntersection(n,o,f,m):(y===0||b===0||S===0||O===0?(this._isProper=!1,n.equals2D(f)||n.equals2D(m)?this._intPt[0]=n:o.equals2D(f)||o.equals2D(m)?this._intPt[0]=o:y===0?this._intPt[0]=new F(f):b===0?this._intPt[0]=new F(m):S===0?this._intPt[0]=new F(n):O===0&&(this._intPt[0]=new F(o))):(this._isProper=!0,this._intPt[0]=this.intersection(n,o,f,m)),ye.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(n,o,f,m){var y=n,b=Pn.pointToSegment(n,f,m),S=Pn.pointToSegment(o,f,m);return S<b&&(b=S,y=o),(S=Pn.pointToSegment(f,n,o))<b&&(b=S,y=f),(S=Pn.pointToSegment(m,n,o))<b&&(b=S,y=m),y}}])}(ye),so=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"countSegment",value:function(e,n){if(e.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&n.y===this._p.y){var o=e.x,f=n.x;return o>f&&(o=n.x,f=e.x),this._p.x>=o&&this._p.x<=f&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&e.y<=this._p.y){var m=Mt.index(e,n,this._p);if(m===Mt.COLLINEAR)return this._isPointOnSegment=!0,null;n.y<e.y&&(m=-m),m===Mt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==T.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?T.BOUNDARY:this._crossingCount%2==1?T.INTERIOR:T.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof F&&q(arguments[1],Rt)){for(var e=arguments[1],n=new a(arguments[0]),o=new F,f=new F,m=1;m<e.size();m++)if(e.getCoordinate(m,o),e.getCoordinate(m-1,f),n.countSegment(o,f),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof F&&arguments[1]instanceof Array){for(var y=arguments[1],b=new a(arguments[0]),S=1;S<y.length;S++){var O=y[S],$=y[S-1];if(b.countSegment(O,$),b.isOnSegment())return b.getLocation()}return b.getLocation()}}}])}(),nr=function(){function a(){s(this,a)}return _(a,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof F&&q(arguments[1],Rt)){for(var e=arguments[0],n=arguments[1],o=new ti,f=new F,m=new F,y=n.size(),b=1;b<y;b++)if(n.getCoordinate(b-1,f),n.getCoordinate(b,m),o.computeIntersection(e,f,m),o.hasIntersection())return!0;return!1}if(arguments[0]instanceof F&&arguments[1]instanceof Array){for(var S=arguments[0],O=arguments[1],$=new ti,K=1;K<O.length;K++){var ut=O[K-1],Et=O[K];if($.computeIntersection(S,ut,Et),$.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,n){return so.locatePointInRing(e,n)}},{key:"isInRing",value:function(e,n){return a.locateInRing(e,n)!==T.EXTERIOR}}])}(),gn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"setAllLocations",value:function(e){for(var n=0;n<this.location.length;n++)this.location[n]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==T.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var n=0;n<this.location.length;n++)this.location[n]===T.NONE&&(this.location[n]=e)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var n=new Array(3).fill(null);n[C.ON]=this.location[C.ON],n[C.LEFT]=T.NONE,n[C.RIGHT]=T.NONE,this.location=n}for(var o=0;o<this.location.length;o++)this.location[o]===T.NONE&&o<e.location.length&&(this.location[o]=e.location[o])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[C.LEFT];this.location[C.LEFT]=this.location[C.RIGHT],this.location[C.RIGHT]=e}},{key:"toString",value:function(){var e=new et;return this.location.length>1&&e.append(T.toLocationSymbol(this.location[C.LEFT])),e.append(T.toLocationSymbol(this.location[C.ON])),this.location.length>1&&e.append(T.toLocationSymbol(this.location[C.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,n,o){this.location[C.ON]=e,this.location[C.LEFT]=n,this.location[C.RIGHT]=o}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:T.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===T.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var e=arguments[0];this.setLocation(C.ON,e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.location[n]=o}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(T.NONE)}},{key:"isEqualOnSide",value:function(e,n){return this.location[n]===e.location[n]}},{key:"allPositionsEqual",value:function(e){for(var n=0;n<this.location.length;n++)if(this.location[n]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[C.ON]=n}else if(arguments[0]instanceof a){var o=arguments[0];if(this.init(o.location.length),o!==null)for(var f=0;f<this.location.length;f++)this.location[f]=o.location[f]}}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this.init(3),this.location[C.ON]=m,this.location[C.LEFT]=y,this.location[C.RIGHT]=b}}}])}(),ln=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,n){this.elt[e].setAllLocations(n)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.elt[n].setAllLocationsIfNull(o)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var n=0;n<2;n++)this.elt[n]===null&&e.elt[n]!==null?this.elt[n]=new gn(e.elt[n]):this.elt[n].merge(e.elt[n])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(C.ON)}if(arguments.length===2){var n=arguments[0],o=arguments[1];return this.elt[n].get(o)}}},{key:"toString",value:function(){var e=new et;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];this.elt[e].setLocation(C.ON,n)}else if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2];this.elt[o].setLocation(f,m)}}},{key:"isEqualOnSide",value:function(e,n){return this.elt[0].isEqualOnSide(e.elt[0],n)&&this.elt[1].isEqualOnSide(e.elt[1],n)}},{key:"allPositionsEqual",value:function(e,n){return this.elt[e].allPositionsEqual(n)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new gn(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new gn(e),this.elt[1]=new gn(e)}else if(arguments[0]instanceof a){var n=arguments[0];this.elt[0]=new gn(n.elt[0]),this.elt[1]=new gn(n.elt[1])}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.elt[0]=new gn(T.NONE),this.elt[1]=new gn(T.NONE),this.elt[o].setLocation(f)}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this.elt[0]=new gn(m,y,b),this.elt[1]=new gn(m,y,b)}else if(arguments.length===4){var S=arguments[0],O=arguments[1],$=arguments[2],K=arguments[3];this.elt[0]=new gn(T.NONE,T.NONE,T.NONE),this.elt[1]=new gn(T.NONE,T.NONE,T.NONE),this.elt[S].setLocations(O,$,K)}}},{key:"toLineLabel",value:function(e){for(var n=new a(T.NONE),o=0;o<2;o++)n.setLocation(o,e.getLocation(o));return n}}])}(),us=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var a=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)a[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(a),this._isHole=Mt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(a){this._startDe=a;var e=a,n=!0;do{if(e===null)throw new Ye("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Ye("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var o=e.getLabel();kt.isTrue(o.isArea()),this.mergeLabel(o),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(a){return this._pts.get(a)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var a=this._startDe;do{var e=a.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(a,e,n){var o=a.getCoordinates();if(e){var f=1;n&&(f=0);for(var m=f;m<o.length;m++)this._pts.add(o[m])}else{var y=o.length-2;n&&(y=o.length-1);for(var b=y;b>=0;b--)this._pts.add(o[b])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var a=this._startDe;do a.getEdge().setInResult(!0),a=a.getNext();while(a!==this._startDe)}},{key:"containsPoint",value:function(a){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(a)||!nr.isInRing(a,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(a))return!1;return!0}},{key:"addHole",value:function(a){this._holes.add(a)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(arguments.length===2){var e=arguments[1],n=arguments[0].getLocation(e,C.RIGHT);if(n===T.NONE)return null;if(this._label.getLocation(e)===T.NONE)return this._label.setLocation(e,n),null}}},{key:"setShell",value:function(a){this._shell=a,a!==null&&a.addHole(this)}},{key:"toPolygon",value:function(a){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return a.createPolygon(this.getLinearRing(),e)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new St,this._pts=new St,this._label=new ln(T.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new St,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var a=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(a),this.computeRing()}}}}])}(),Yt=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"setEdgeRing",value:function(n,o){n.setMinEdgeRing(o)}},{key:"getNext",value:function(n){return n.getNextMin()}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];us.constructor_.call(this,n,o)}}])}(us),Gn=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"buildMinimalRings",value:function(){var n=new St,o=this._startDe;do{if(o.getMinEdgeRing()===null){var f=new Yt(o,this._geometryFactory);n.add(f)}o=o.getNext()}while(o!==this._startDe);return n}},{key:"setEdgeRing",value:function(n,o){n.setEdgeRing(o)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var n=this._startDe;do n.getNode().getEdges().linkMinimalDirectedEdges(this),n=n.getNext();while(n!==this._startDe)}},{key:"getNext",value:function(n){return n.getNext()}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];us.constructor_.call(this,n,o)}}])}(us),Le=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(a){this._isVisited=a}},{key:"setInResult",value:function(a){this._isInResult=a}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(a){this._label=a}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(a){this._isCovered=a,this._isCoveredSet=!0}},{key:"updateIM",value:function(a){kt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._label=a}}}}])}(),Pr=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"isIncidentEdgeInResult",value:function(){for(var n=this.getEdges().getEdges().iterator();n.hasNext();)if(n.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(n){n.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(n){}},{key:"computeMergedLocation",value:function(n,o){var f=T.NONE;if(f=this._label.getLocation(o),!n.isNull(o)){var m=n.getLocation(o);f!==T.BOUNDARY&&(f=m)}return f}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return M(e,"setLabel",this,1).apply(this,arguments);var n=arguments[0],o=arguments[1];this._label===null?this._label=new ln(n,o):this._label.setLocation(n,o)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof e){var n=arguments[0];this.mergeLabel(n._label)}else if(arguments[0]instanceof ln)for(var o=arguments[0],f=0;f<2;f++){var m=this.computeMergedLocation(o,f);this._label.getLocation(f)===T.NONE&&this._label.setLocation(f,m)}}},{key:"add",value:function(n){this._edges.insert(n),n.setNode(this)}},{key:"setLabelBoundary",value:function(n){if(this._label===null)return null;var o=T.NONE;this._label!==null&&(o=this._label.getLocation(n));var f=null;switch(o){case T.BOUNDARY:f=T.INTERIOR;break;case T.INTERIOR:default:f=T.BOUNDARY}this._label.setLocation(n,f)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var n=arguments[0],o=arguments[1];this._coord=n,this._edges=o,this._label=new ln(0,T.NONE)}}])}(Le),oo=function(a){function e(){return s(this,e),c(this,e,arguments)}return k(e,a),_(e)}(ma);function ls(a){return a==null?0:a.color}function le(a){return a==null?null:a.parent}function Xe(a,e){a!==null&&(a.color=e)}function Mr(a){return a==null?null:a.left}function ir(a){return a==null?null:a.right}var Oe=function(a){function e(){var n;return s(this,e),(n=c(this,e)).root_=null,n.size_=0,n}return k(e,a),_(e,[{key:"get",value:function(n){for(var o=this.root_;o!==null;){var f=n.compareTo(o.key);if(f<0)o=o.left;else{if(!(f>0))return o.value;o=o.right}}return null}},{key:"put",value:function(n,o){if(this.root_===null)return this.root_={key:n,value:o,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var f,m,y=this.root_;do if(f=y,(m=n.compareTo(y.key))<0)y=y.left;else{if(!(m>0)){var b=y.value;return y.value=o,b}y=y.right}while(y!==null);var S={key:n,left:null,right:null,value:o,parent:f,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return m<0?f.left=S:f.right=S,this.fixAfterInsertion(S),this.size_++,null}},{key:"fixAfterInsertion",value:function(n){var o;for(n.color=1;n!=null&&n!==this.root_&&n.parent.color===1;)le(n)===Mr(le(le(n)))?ls(o=ir(le(le(n))))===1?(Xe(le(n),0),Xe(o,0),Xe(le(le(n)),1),n=le(le(n))):(n===ir(le(n))&&(n=le(n),this.rotateLeft(n)),Xe(le(n),0),Xe(le(le(n)),1),this.rotateRight(le(le(n)))):ls(o=Mr(le(le(n))))===1?(Xe(le(n),0),Xe(o,0),Xe(le(le(n)),1),n=le(le(n))):(n===Mr(le(n))&&(n=le(n),this.rotateRight(n)),Xe(le(n),0),Xe(le(le(n)),1),this.rotateLeft(le(le(n))));this.root_.color=0}},{key:"values",value:function(){var n=new St,o=this.getFirstEntry();if(o!==null)for(n.add(o.value);(o=e.successor(o))!==null;)n.add(o.value);return n}},{key:"entrySet",value:function(){var n=new rt,o=this.getFirstEntry();if(o!==null)for(n.add(o);(o=e.successor(o))!==null;)n.add(o);return n}},{key:"rotateLeft",value:function(n){if(n!=null){var o=n.right;n.right=o.left,o.left!=null&&(o.left.parent=n),o.parent=n.parent,n.parent==null?this.root_=o:n.parent.left===n?n.parent.left=o:n.parent.right=o,o.left=n,n.parent=o}}},{key:"rotateRight",value:function(n){if(n!=null){var o=n.left;n.left=o.right,o.right!=null&&(o.right.parent=n),o.parent=n.parent,n.parent==null?this.root_=o:n.parent.right===n?n.parent.right=o:n.parent.left=o,o.right=n,n.parent=o}}},{key:"getFirstEntry",value:function(){var n=this.root_;if(n!=null)for(;n.left!=null;)n=n.left;return n}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(n){for(var o=this.root_;o!==null;){var f=n.compareTo(o.key);if(f<0)o=o.left;else{if(!(f>0))return!0;o=o.right}}return!1}}],[{key:"successor",value:function(n){var o;if(n===null)return null;if(n.right!==null){for(o=n.right;o.left!==null;)o=o.left;return o}o=n.parent;for(var f=n;o!==null&&f===o.right;)f=o,o=o.parent;return o}}])}(oo),hi=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"find",value:function(a){return this.nodeMap.get(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof F){var a=arguments[0],e=this.nodeMap.get(a);return e===null&&(e=this.nodeFact.createNode(a),this.nodeMap.put(a,e)),e}if(arguments[0]instanceof Pr){var n=arguments[0],o=this.nodeMap.get(n.getCoordinate());return o===null?(this.nodeMap.put(n.getCoordinate(),n),n):(o.mergeLabel(n),o)}}},{key:"print",value:function(a){for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(a){for(var e=new St,n=this.iterator();n.hasNext();){var o=n.next();o.getLabel().getLocation(a)===T.BOUNDARY&&e.add(o)}return e}},{key:"add",value:function(a){var e=a.getCoordinate();this.addNode(e).add(a)}}],[{key:"constructor_",value:function(){this.nodeMap=new Oe,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}}])}(),je=function(){function a(){s(this,a)}return _(a,null,[{key:"isNorthern",value:function(e){return e===a.NE||e===a.NW}},{key:"isOpposite",value:function(e,n){return e!==n&&(e-n+4)%4===2}},{key:"commonHalfPlane",value:function(e,n){if(e===n)return e;if((e-n+4)%4===2)return-1;var o=e<n?e:n;return o===0&&(e>n?e:n)===3?3:o}},{key:"isInHalfPlane",value:function(e,n){return n===a.SE?e===a.SE||e===a.SW:e===n||e===n+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];if(e===0&&n===0)throw new X("Cannot compute the quadrant for point ( "+e+", "+n+" )");return e>=0?n>=0?a.NE:a.SE:n>=0?a.NW:a.SW}if(arguments[0]instanceof F&&arguments[1]instanceof F){var o=arguments[0],f=arguments[1];if(f.x===o.x&&f.y===o.y)throw new X("Cannot compute the quadrant for two identical points "+o);return f.x>=o.x?f.y>=o.y?a.NE:a.SE:f.y>=o.y?a.NW:a.SW}}}])}();je.NE=0,je.NW=1,je.SW=2,je.SE=3;var ao=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:Mt.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var n=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),f=o.lastIndexOf("."),m=o.substring(f+1);e.print("  "+m+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)}},{key:"compareTo",value:function(e){var n=e;return this.compareDirection(n)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),o=n.lastIndexOf(".");return"  "+n.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,n){this._p0=e,this._p1=n,this._dx=n.x-e.x,this._dy=n.y-e.y,this._quadrant=je.quadrant(this._dx,this._dy),kt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var n=arguments[0],o=arguments[1],f=arguments[2];a.constructor_.call(this,n,o,f,null)}else if(arguments.length===4){var m=arguments[0],y=arguments[1],b=arguments[2],S=arguments[3];a.constructor_.call(this,m),this.init(y,b),this._label=S}}}])}(),uo=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(n){return this._depth[n]}},{key:"setVisited",value:function(n){this._isVisited=n}},{key:"computeDirectedLabel",value:function(){this._label=new ln(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(n,o){if(this._depth[n]!==-999&&this._depth[n]!==o)throw new Ye("assigned depths do not match",this.getCoordinate());this._depth[n]=o}},{key:"isInteriorAreaEdge",value:function(){for(var n=!0,o=0;o<2;o++)this._label.isArea(o)&&this._label.getLocation(o,C.LEFT)===T.INTERIOR&&this._label.getLocation(o,C.RIGHT)===T.INTERIOR||(n=!1);return n}},{key:"setNextMin",value:function(n){this._nextMin=n}},{key:"print",value:function(n){M(e,"print",this,1).call(this,n),n.print(" "+this._depth[C.LEFT]+"/"+this._depth[C.RIGHT]),n.print(" ("+this.getDepthDelta()+")"),this._isInResult&&n.print(" inResult")}},{key:"setMinEdgeRing",value:function(n){this._minEdgeRing=n}},{key:"isLineEdge",value:function(){var n=this._label.isLine(0)||this._label.isLine(1),o=!this._label.isArea(0)||this._label.allPositionsEqual(0,T.EXTERIOR),f=!this._label.isArea(1)||this._label.allPositionsEqual(1,T.EXTERIOR);return n&&o&&f}},{key:"setEdgeRing",value:function(n){this._edgeRing=n}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var n=this._edge.getDepthDelta();return this._isForward||(n=-n),n}},{key:"setInResult",value:function(n){this._isInResult=n}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(n){this.print(n),n.print(" "),this._isForward?this._edge.print(n):this._edge.printReverse(n)}},{key:"setSym",value:function(n){this._sym=n}},{key:"setVisitedEdge",value:function(n){this.setVisited(n),this._sym.setVisited(n)}},{key:"setEdgeDepths",value:function(n,o){var f=this.getEdge().getDepthDelta();this._isForward||(f=-f);var m=1;n===C.LEFT&&(m=-1);var y=C.opposite(n),b=o+f*m;this.setDepth(n,o),this.setDepth(y,b)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(n){this._next=n}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var n=arguments[0],o=arguments[1];if(ao.constructor_.call(this,n),this._isForward=o,o)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var f=n.getNumPoints()-1;this.init(n.getCoordinate(f),n.getCoordinate(f-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(n,o){return n===T.EXTERIOR&&o===T.INTERIOR?1:n===T.INTERIOR&&o===T.EXTERIOR?-1:0}}])}(ao),lo=function(){return _(function a(){s(this,a)},[{key:"createNode",value:function(a){return new Pr(a,null)}}])}(),cs=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(a){a.println("Edges:");for(var e=0;e<this._edges.size();e++){a.println("edge "+e+":");var n=this._edges.get(e);n.print(a),n.eiList.print(a)}}},{key:"find",value:function(a){return this._nodes.find(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof Pr){var a=arguments[0];return this._nodes.addNode(a)}if(arguments[0]instanceof F){var e=arguments[0];return this._nodes.addNode(e)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(a){wn.out.println(a)}},{key:"isBoundaryNode",value:function(a,e){var n=this._nodes.find(e);if(n===null)return!1;var o=n.getLabel();return o!==null&&o.getLocation(a)===T.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(a,e,n,o){return!!a.equals(n)&&Mt.index(a,e,o)===Mt.COLLINEAR&&je.quadrant(a,e)===je.quadrant(n,o)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(a){wn.out.print(a)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(a,e){for(var n=0;n<this._edges.size();n++){var o=this._edges.get(n),f=o.getCoordinates();if(this.matchInSameDirection(a,e,f[0],f[1])||this.matchInSameDirection(a,e,f[f.length-1],f[f.length-2]))return o}return null}},{key:"insertEdge",value:function(a){this._edges.add(a)}},{key:"findEdgeEnd",value:function(a){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===a)return n}return null}},{key:"addEdges",value:function(a){for(var e=a.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var o=new uo(n,!0),f=new uo(n,!1);o.setSym(f),f.setSym(o),this.add(o),this.add(f)}}},{key:"add",value:function(a){this._nodes.add(a),this._edgeEndList.add(a)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(a,e){for(var n=0;n<this._edges.size();n++){var o=this._edges.get(n),f=o.getCoordinates();if(a.equals(f[0])&&e.equals(f[1]))return o}return null}}],[{key:"constructor_",value:function(){if(this._edges=new St,this._nodes=null,this._edgeEndList=new St,arguments.length===0)this._nodes=new hi(new lo);else if(arguments.length===1){var a=arguments[0];this._nodes=new hi(a)}}},{key:"linkResultDirectedEdges",value:function(a){for(var e=a.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}}])}(),zu=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"sortShellsAndHoles",value:function(e,n,o){for(var f=e.iterator();f.hasNext();){var m=f.next();m.isHole()?o.add(m):n.add(m)}}},{key:"computePolygons",value:function(e){for(var n=new St,o=e.iterator();o.hasNext();){var f=o.next().toPolygon(this._geometryFactory);n.add(f)}return n}},{key:"placeFreeHoles",value:function(e,n){for(var o=n.iterator();o.hasNext();){var f=o.next();if(f.getShell()===null){var m=a.findEdgeRingContaining(f,e);if(m===null)throw new Ye("unable to assign hole to a shell",f.getCoordinate(0));f.setShell(m)}}}},{key:"buildMinimalEdgeRings",value:function(e,n,o){for(var f=new St,m=e.iterator();m.hasNext();){var y=m.next();if(y.getMaxNodeDegree()>2){y.linkDirectedEdgesForMinimalEdgeRings();var b=y.buildMinimalRings(),S=this.findShell(b);S!==null?(this.placePolygonHoles(S,b),n.add(S)):o.addAll(b)}else f.add(y)}return f}},{key:"buildMaximalEdgeRings",value:function(e){for(var n=new St,o=e.iterator();o.hasNext();){var f=o.next();if(f.isInResult()&&f.getLabel().isArea()&&f.getEdgeRing()===null){var m=new Gn(f,this._geometryFactory);n.add(m),m.setInResult()}}return n}},{key:"placePolygonHoles",value:function(e,n){for(var o=n.iterator();o.hasNext();){var f=o.next();f.isHole()&&f.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var n=0,o=null,f=e.iterator();f.hasNext();){var m=f.next();m.isHole()||(o=m,n++)}return kt.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),o}},{key:"add",value:function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var n=arguments[0],o=arguments[1];cs.linkResultDirectedEdges(o);var f=this.buildMaximalEdgeRings(n),m=new St,y=this.buildMinimalEdgeRings(f,this._shellList,m);this.sortShellsAndHoles(y,this._shellList,m),this.placeFreeHoles(this._shellList,m)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new St;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,n){for(var o=e.getLinearRing(),f=o.getEnvelopeInternal(),m=o.getCoordinateN(0),y=null,b=null,S=n.iterator();S.hasNext();){var O=S.next(),$=O.getLinearRing(),K=$.getEnvelopeInternal();if(!K.equals(f)&&K.contains(f)){m=De.ptNotInList(o.getCoordinates(),$.getCoordinates());var ut=!1;nr.isInRing(m,$.getCoordinates())&&(ut=!0),ut&&(y===null||b.contains(K))&&(b=(y=O).getLinearRing().getEnvelopeInternal())}}return y}}])}(),co=function(){return _(function a(){s(this,a)},[{key:"getBounds",value:function(){}}])}(),Wt=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[co,ct]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var a=arguments[0],e=arguments[1];this._bounds=a,this._item=e}}])}(),hs=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var a=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),a}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(a){for(var e=null,n=this._items.get(a);2*a<=this._size&&((e=2*a)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);a=e)this._items.set(a,this._items.get(e));this._items.set(a,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(a){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,a);a.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,a)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new St,this._items.add(null)}}])}(),Mn=function(){return _(function a(){s(this,a)},[{key:"insert",value:function(a,e){}},{key:"remove",value:function(a,e){}},{key:"query",value:function(){}}])}(),Ke=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(a){kt.isTrue(this._bounds===null),this._childBoundables.add(a)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[co,ct]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new St,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._level=a}}}}])}(),Mi={reverseOrder:function(){return{compare:function(a,e){return e.compareTo(a)}}},min:function(a){return Mi.sort(a),a.get(0)},sort:function(a,e){var n=a.toArray();e?We.sort(n,e):We.sort(n);for(var o=a.iterator(),f=0,m=n.length;f<m;f++)o.next(),o.set(n[f])},singletonList:function(a){var e=new St;return e.add(a),e}},Bu=function(){function a(){s(this,a)}return _(a,null,[{key:"maxDistance",value:function(e,n,o,f,m,y,b,S){var O=a.distance(e,n,m,y);return O=Math.max(O,a.distance(e,n,b,S)),O=Math.max(O,a.distance(o,f,m,y)),O=Math.max(O,a.distance(o,f,b,S))}},{key:"distance",value:function(e,n,o,f){var m=o-e,y=f-n;return Math.sqrt(m*m+y*y)}},{key:"maximumDistance",value:function(e,n){var o=Math.min(e.getMinX(),n.getMinX()),f=Math.min(e.getMinY(),n.getMinY()),m=Math.max(e.getMaxX(),n.getMaxX()),y=Math.max(e.getMaxY(),n.getMaxY());return a.distance(o,f,m,y)}},{key:"minMaxDistance",value:function(e,n){var o=e.getMinX(),f=e.getMinY(),m=e.getMaxX(),y=e.getMaxY(),b=n.getMinX(),S=n.getMinY(),O=n.getMaxX(),$=n.getMaxY(),K=a.maxDistance(o,f,o,y,b,S,b,$);return K=Math.min(K,a.maxDistance(o,f,o,y,b,S,O,S)),K=Math.min(K,a.maxDistance(o,f,o,y,O,$,b,$)),K=Math.min(K,a.maxDistance(o,f,o,y,O,$,O,S)),K=Math.min(K,a.maxDistance(o,f,m,f,b,S,b,$)),K=Math.min(K,a.maxDistance(o,f,m,f,b,S,O,S)),K=Math.min(K,a.maxDistance(o,f,m,f,O,$,b,$)),K=Math.min(K,a.maxDistance(o,f,m,f,O,$,O,S)),K=Math.min(K,a.maxDistance(m,y,o,y,b,S,b,$)),K=Math.min(K,a.maxDistance(m,y,o,y,b,S,O,S)),K=Math.min(K,a.maxDistance(m,y,o,y,O,$,b,$)),K=Math.min(K,a.maxDistance(m,y,o,y,O,$,O,S)),K=Math.min(K,a.maxDistance(m,y,m,f,b,S,b,$)),K=Math.min(K,a.maxDistance(m,y,m,f,b,S,O,S)),K=Math.min(K,a.maxDistance(m,y,m,f,O,$,b,$)),K=Math.min(K,a.maxDistance(m,y,m,f,O,$,O,S))}}])}(),fi=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"maximumDistance",value:function(){return Bu.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(e,n){var o=a.isComposite(this._boundable1),f=a.isComposite(this._boundable2);if(o&&f)return a.area(this._boundable1)>a.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,n),null):(this.expand(this._boundable2,this._boundable1,!0,e,n),null);if(o)return this.expand(this._boundable1,this._boundable2,!1,e,n),null;if(f)return this.expand(this._boundable2,this._boundable1,!0,e,n),null;throw new X("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(a.isComposite(this._boundable1)||a.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var n=e;return this._distance<n._distance?-1:this._distance>n._distance?1:0}},{key:"expand",value:function(e,n,o,f,m){for(var y=e.getChildBoundables().iterator();y.hasNext();){var b=y.next(),S=null;(S=o?new a(n,b,this._itemDistance):new a(b,n,this._itemDistance)).getDistance()<m&&f.add(S)}}},{key:"getBoundable",value:function(e){return e===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],n=arguments[1],o=arguments[2];this._boundable1=e,this._boundable2=n,this._itemDistance=o,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof Ke}}])}(),pa=function(){return _(function a(){s(this,a)},[{key:"visitItem",value:function(a){}}])}(),Oi=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"queryInternal",value:function(){if(q(arguments[2],pa)&&arguments[0]instanceof Object&&arguments[1]instanceof Ke)for(var e=arguments[0],n=arguments[2],o=arguments[1].getChildBoundables(),f=0;f<o.size();f++){var m=o.get(f);this.getIntersectsOp().intersects(m.getBounds(),e)&&(m instanceof Ke?this.queryInternal(e,m,n):m instanceof Wt?n.visitItem(m.getItem()):kt.shouldNeverReachHere())}else if(q(arguments[2],yt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ke)for(var y=arguments[0],b=arguments[2],S=arguments[1].getChildBoundables(),O=0;O<S.size();O++){var $=S.get(O);this.getIntersectsOp().intersects($.getBounds(),y)&&($ instanceof Ke?this.queryInternal(y,$,b):$ instanceof Wt?b.add($.getItem()):kt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var o=n.next();o instanceof Ke?e+=this.size(o):o instanceof Wt&&(e+=1)}return e}}},{key:"removeItem",value:function(e,n){for(var o=null,f=e.getChildBoundables().iterator();f.hasNext();){var m=f.next();m instanceof Wt&&m.getItem()===n&&(o=m)}return o!==null&&(e.getChildBoundables().remove(o),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var e=this.itemsTree(this._root);return e===null?new St:e}if(arguments.length===1){for(var n=arguments[0],o=new St,f=n.getChildBoundables().iterator();f.hasNext();){var m=f.next();if(m instanceof Ke){var y=this.itemsTree(m);y!==null&&o.add(y)}else m instanceof Wt?o.add(m.getItem()):kt.shouldNeverReachHere()}return o.size()<=0?null:o}}},{key:"insert",value:function(e,n){kt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Wt(e,n))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var e=arguments[0],n=new St;return this.boundablesAtLevel(e,this._root,n),n}if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2];if(kt.isTrue(o>-2),f.getLevel()===o)return m.add(f),null;for(var y=f.getChildBoundables().iterator();y.hasNext();){var b=y.next();b instanceof Ke?this.boundablesAtLevel(o,b,m):(kt.isTrue(b instanceof Wt),o===-1&&m.add(b))}return null}}},{key:"query",value:function(){if(arguments.length===1){var e=arguments[0];this.build();var n=new St;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,n),n}if(arguments.length===2){var o=arguments[0],f=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.queryInternal(o,this._root,f)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,n)}if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2],y=this.removeItem(f,m);if(y)return!0;for(var b=null,S=f.getChildBoundables().iterator();S.hasNext();){var O=S.next();if(this.getIntersectsOp().intersects(O.getBounds(),o)&&O instanceof Ke&&(y=this.remove(o,O,m))){b=O;break}}return b!==null&&b.getChildBoundables().isEmpty()&&f.getChildBoundables().remove(b),y}}},{key:"createHigherLevels",value:function(e,n){kt.isTrue(!e.isEmpty());var o=this.createParentBoundables(e,n+1);return o.size()===1?o.get(0):this.createHigherLevels(o,n+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var o=n.next();if(o instanceof Ke){var f=this.depth(o);f>e&&(e=f)}}return e+1}}},{key:"createParentBoundables",value:function(e,n){kt.isTrue(!e.isEmpty());var o=new St;o.add(this.createNode(n));var f=new St(e);Mi.sort(f,this.getComparator());for(var m=f.iterator();m.hasNext();){var y=m.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(n)),this.lastNode(o).addChildBoundable(y)}return o}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[ct]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new St,this._nodeCapacity=null,arguments.length===0)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var e=arguments[0];kt.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}}},{key:"compareDoubles",value:function(e,n){return e>n?1:e<n?-1:0}}])}();Oi.IntersectsOp=function(){},Oi.DEFAULT_NODE_CAPACITY=10;var Uu=function(){return _(function a(){s(this,a)},[{key:"distance",value:function(a,e){}}])}(),Hn=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"createParentBoundablesFromVerticalSlices",value:function(n,o){kt.isTrue(n.length>0);for(var f=new St,m=0;m<n.length;m++)f.addAll(this.createParentBoundablesFromVerticalSlice(n[m],o));return f}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var n=arguments[0],o=arguments[1];return this.nearestNeighbourK(n,st.POSITIVE_INFINITY,o)}if(arguments.length===3){var f=arguments[0],m=arguments[2],y=arguments[1],b=new hs;b.add(f);for(var S=new hs;!b.isEmpty()&&y>=0;){var O=b.poll(),$=O.getDistance();if($>=y)break;O.isLeaves()?S.size()<m?S.add(O):(S.peek().getDistance()>$&&(S.poll(),S.add(O)),y=S.peek().getDistance()):O.expandToQueue(b,y)}return e.getItems(S)}}},{key:"createNode",value:function(n){return new fs(n)}},{key:"size",value:function(){return arguments.length===0?M(e,"size",this,1).call(this):M(e,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof gt))return M(e,"insert",this,1).apply(this,arguments);var n=arguments[0],o=arguments[1];if(n.isNull())return null;M(e,"insert",this,1).call(this,n,o)}},{key:"getIntersectsOp",value:function(){return e.intersectsOp}},{key:"verticalSlices",value:function(n,o){for(var f=Math.trunc(Math.ceil(n.size()/o)),m=new Array(o).fill(null),y=n.iterator(),b=0;b<o;b++){m[b]=new St;for(var S=0;y.hasNext()&&S<f;){var O=y.next();m[b].add(O),S++}}return m}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];return M(e,"query",this,1).call(this,n)}if(arguments.length===2){var o=arguments[0],f=arguments[1];M(e,"query",this,1).call(this,o,f)}}},{key:"getComparator",value:function(){return e.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(n,o){return M(e,"createParentBoundables",this,1).call(this,n,o)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof gt){var n=arguments[0],o=arguments[1];return M(e,"remove",this,1).call(this,n,o)}return M(e,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?M(e,"depth",this,1).call(this):M(e,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(n,o){kt.isTrue(!n.isEmpty());var f=Math.trunc(Math.ceil(n.size()/this.getNodeCapacity())),m=new St(n);Mi.sort(m,e.xComparator);var y=this.verticalSlices(m,Math.trunc(Math.ceil(Math.sqrt(f))));return this.createParentBoundablesFromVerticalSlices(y,o)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(q(arguments[0],Uu)){var n=arguments[0];if(this.isEmpty())return null;var o=new fi(this.getRoot(),this.getRoot(),n);return this.nearestNeighbour(o)}if(arguments[0]instanceof fi){var f=arguments[0],m=st.POSITIVE_INFINITY,y=null,b=new hs;for(b.add(f);!b.isEmpty()&&m>0;){var S=b.poll(),O=S.getDistance();if(O>=m)break;S.isLeaves()?(m=O,y=S):S.expandToQueue(b,m)}return y===null?null:[y.getBoundable(0).getItem(),y.getBoundable(1).getItem()]}}else{if(arguments.length===2){var $=arguments[0],K=arguments[1];if(this.isEmpty()||$.isEmpty())return null;var ut=new fi(this.getRoot(),$.getRoot(),K);return this.nearestNeighbour(ut)}if(arguments.length===3){var Et=arguments[2],Ct=new Wt(arguments[0],arguments[1]),Dt=new fi(this.getRoot(),Ct,Et);return this.nearestNeighbour(Dt)[0]}if(arguments.length===4){var ae=arguments[2],te=arguments[3],Ee=new Wt(arguments[0],arguments[1]),Me=new fi(this.getRoot(),Ee,ae);return this.nearestNeighbourK(Me,te)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var n=arguments[0],o=arguments[1],f=st.POSITIVE_INFINITY,m=new hs;for(m.add(n);!m.isEmpty();){var y=m.poll(),b=y.getDistance();if(b>o)return!1;if(y.maximumDistance()<=o)return!0;if(y.isLeaves()){if((f=b)<=o)return!0}else y.expandToQueue(m,f)}return!1}if(arguments.length===3){var S=arguments[0],O=arguments[1],$=arguments[2],K=new fi(this.getRoot(),S.getRoot(),O);return this.isWithinDistance(K,$)}}},{key:"interfaces_",get:function(){return[Mn,ct]}}],[{key:"constructor_",value:function(){if(arguments.length===0)e.constructor_.call(this,e.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];Oi.constructor_.call(this,n)}}},{key:"centreX",value:function(n){return e.avg(n.getMinX(),n.getMaxX())}},{key:"avg",value:function(n,o){return(n+o)/2}},{key:"getItems",value:function(n){for(var o=new Array(n.size()).fill(null),f=0;!n.isEmpty();){var m=n.poll();o[f]=m.getBoundable(0).getItem(),f++}return o}},{key:"centreY",value:function(n){return e.avg(n.getMinY(),n.getMaxY())}}])}(Oi),fs=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeBounds",value:function(){for(var n=null,o=this.getChildBoundables().iterator();o.hasNext();){var f=o.next();n===null?n=new gt(f.getBounds()):n.expandToInclude(f.getBounds())}return n}}],[{key:"constructor_",value:function(){var n=arguments[0];Ke.constructor_.call(this,n)}}])}(Ke);Hn.STRtreeNode=fs,Hn.xComparator=new(function(){return _(function a(){s(this,a)},[{key:"interfaces_",get:function(){return[Ft]}},{key:"compare",value:function(a,e){return Oi.compareDoubles(Hn.centreX(a.getBounds()),Hn.centreX(e.getBounds()))}}])}()),Hn.yComparator=new(function(){return _(function a(){s(this,a)},[{key:"interfaces_",get:function(){return[Ft]}},{key:"compare",value:function(a,e){return Oi.compareDoubles(Hn.centreY(a.getBounds()),Hn.centreY(e.getBounds()))}}])}()),Hn.intersectsOp=new(function(){return _(function a(){s(this,a)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(a,e){return a.intersects(e)}}])}()),Hn.DEFAULT_NODE_CAPACITY=10;var Gu=function(){function a(){s(this,a)}return _(a,null,[{key:"relativeSign",value:function(e,n){return e<n?-1:e>n?1:0}},{key:"compare",value:function(e,n,o){if(n.equals2D(o))return 0;var f=a.relativeSign(n.x,o.x),m=a.relativeSign(n.y,o.y);switch(e){case 0:return a.compareValue(f,m);case 1:return a.compareValue(m,f);case 2:return a.compareValue(m,-f);case 3:return a.compareValue(-f,m);case 4:return a.compareValue(-f,-m);case 5:return a.compareValue(-m,-f);case 6:return a.compareValue(-m,f);case 7:return a.compareValue(f,-m)}return kt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,n){return e<0?-1:e>0?1:n<0?-1:n>0?1:0}}])}(),qn=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(a){var e=a;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:this._isInterior?e._isInterior?Gu.compare(this._segmentOctant,this.coord,e.coord):1:-1}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===a}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var a=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3];this._segString=a,this.coord=new F(e),this.segmentIndex=n,this._segmentOctant=o,this._isInterior=!e.equals2D(a.getCoordinate(n))}}])}(),Hu=function(){return _(function a(){s(this,a)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),va=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var a=new Ir;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var o=e.next();this.addEdgeCoordinates(n,o,a),n=o}return a.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var a=new St;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var e=a.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(a,e){var n=e.segmentIndex-a.segmentIndex+2;if(n===2)return[new F(a.coord),new F(e.coord)];var o=this._edge.getCoordinate(e.segmentIndex),f=e.isInterior()||!e.coord.equals2D(o);f||n--;var m=new Array(n).fill(null),y=0;m[y++]=new F(a.coord);for(var b=a.segmentIndex+1;b<=e.segmentIndex;b++)m[y++]=this._edge.getCoordinate(b);return f&&(m[y]=new F(e.coord)),m}},{key:"print",value:function(a){a.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"findCollapsesFromExistingVertices",value:function(a){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e);this._edge.getCoordinate(e+1);var o=this._edge.getCoordinate(e+2);n.equals2D(o)&&a.add(xt.valueOf(e+1))}}},{key:"addEdgeCoordinates",value:function(a,e,n){var o=this.createSplitEdgePts(a,e);n.add(o,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var o=e.next(),f=this.createSplitEdge(n,o);a.add(f),n=o}}},{key:"findCollapseIndex",value:function(a,e,n){if(!a.coord.equals2D(e.coord))return!1;var o=e.segmentIndex-a.segmentIndex;return e.isInterior()||o--,o===1&&(n[0]=a.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(a){for(var e=new Array(1).fill(null),n=this.iterator(),o=n.next();n.hasNext();){var f=n.next();this.findCollapseIndex(o,f,e)&&a.add(xt.valueOf(e[0])),o=f}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(a),a)}},{key:"createSplitEdge",value:function(a,e){var n=this.createSplitEdgePts(a,e);return new ei(n,this._edge.getData())}},{key:"add",value:function(a,e){var n=new qn(this._edge,a,e,this._edge.getSegmentOctant(e)),o=this._nodeMap.get(n);return o!==null?(kt.isTrue(o.coord.equals2D(a),"Found equal nodes with different coordinates"),o):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(a){var e=this._edge.getCoordinates(),n=a.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Gt("bad split edge start point at "+n);var o=a.get(a.size()-1).getCoordinates(),f=o[o.length-1];if(!f.equals2D(e[e.length-1]))throw new Gt("bad split edge end point at "+f)}}],[{key:"constructor_",value:function(){this._nodeMap=new Oe,this._edge=null;var a=arguments[0];this._edge=a}}])}(),di=function(){function a(){s(this,a)}return _(a,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];if(e===0&&n===0)throw new X("Cannot compute the octant for point ( "+e+", "+n+" )");var o=Math.abs(e),f=Math.abs(n);return e>=0?n>=0?o>=f?0:1:o>=f?7:6:n>=0?o>=f?3:2:o>=f?4:5}if(arguments[0]instanceof F&&arguments[1]instanceof F){var m=arguments[0],y=arguments[1],b=y.x-m.x,S=y.y-m.y;if(b===0&&S===0)throw new X("Cannot compute the octant for two identical points "+m);return a.octant(b,S)}}}])}(),ya=function(){return _(function a(){s(this,a)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(a){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(a){}},{key:"getData",value:function(){}}])}(),La=function(){return _(function a(){s(this,a)},[{key:"addIntersection",value:function(a,e){}},{key:"interfaces_",get:function(){return[ya]}}])}(),ei=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,n){return e.equals2D(n)?0:di.octant(e,n)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];this.addIntersectionNode(e,n)}else if(arguments.length===4){var o=arguments[1],f=arguments[3],m=new F(arguments[0].getIntersection(f));this.addIntersection(m,o)}}},{key:"toString",value:function(){return Cr.toLineString(new Sr(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,n){var o=n,f=o+1;if(f<this._pts.length){var m=this._pts[f];e.equals2D(m)&&(o=f)}return this._nodeList.add(e,o)}},{key:"addIntersections",value:function(e,n,o){for(var f=0;f<e.getIntersectionNum();f++)this.addIntersection(e,n,o,f)}},{key:"interfaces_",get:function(){return[La]}}],[{key:"constructor_",value:function(){this._nodeList=new va(this),this._pts=null,this._data=null;var e=arguments[0],n=arguments[1];this._pts=e,this._data=n}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var e=arguments[0],n=new St;return a.getNodedSubstrings(e,n),n}if(arguments.length===2)for(var o=arguments[1],f=arguments[0].iterator();f.hasNext();)f.next().getNodeList().addSplitEdges(o)}}])}(),_n=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof a){var e=arguments[0],n=Mt.index(this.p0,this.p1,e.p0),o=Mt.index(this.p0,this.p1,e.p1);return n>=0&&o>=0||n<=0&&o<=0?Math.max(n,o):0}if(arguments[0]instanceof F){var f=arguments[0];return Mt.index(this.p0,this.p1,f)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(e){if(!(e instanceof a))return!1;var n=e;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(e){var n=new ti;return n.computeIntersection(this.p0,this.p1,e.p0,e.p1),n.hasIntersection()?n.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof F){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new F(e);var n=this.projectionFactor(e),o=new F;return o.x=this.p0.x+n*(this.p1.x-this.p0.x),o.y=this.p0.y+n*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof a){var f=arguments[0],m=this.projectionFactor(f.p0),y=this.projectionFactor(f.p1);if(m>=1&&y>=1||m<=0&&y<=0)return null;var b=this.project(f.p0);m<0&&(b=this.p0),m>1&&(b=this.p1);var S=this.project(f.p1);return y<0&&(S=this.p0),y>1&&(S=this.p1),new a(b,S)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return e===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return Pn.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return a.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,f=n*n+o*o;return f<=0?st.NaN:((e.x-this.p0.x)*n+(e.y-this.p0.y)*o)/f}},{key:"closestPoints",value:function(e){var n=this.intersection(e);if(n!==null)return[n,n];var o=new Array(2).fill(null),f=st.MAX_VALUE,m=null,y=this.closestPoint(e.p0);f=y.distance(e.p0),o[0]=y,o[1]=e.p0;var b=this.closestPoint(e.p1);(m=b.distance(e.p1))<f&&(f=m,o[0]=b,o[1]=e.p1);var S=e.closestPoint(this.p0);(m=S.distance(this.p0))<f&&(f=m,o[0]=this.p0,o[1]=S);var O=e.closestPoint(this.p1);return(m=O.distance(this.p1))<f&&(f=m,o[0]=this.p1,o[1]=O),o}},{key:"closestPoint",value:function(e){var n=this.projectionFactor(e);return n>0&&n<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var n=e,o=this.p0.compareTo(n.p0);return o!==0?o:this.p1.compareTo(n.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return Xs.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,n){var o=this.p0.x+e*(this.p1.x-this.p0.x),f=this.p0.y+e*(this.p1.y-this.p0.y),m=this.p1.x-this.p0.x,y=this.p1.y-this.p0.y,b=Math.sqrt(m*m+y*y),S=0,O=0;if(n!==0){if(b<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");S=n*m/b,O=n*y/b}return new F(o-O,f+S)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=o.x,this.p1.y=o.y}}},{key:"segmentFraction",value:function(e){var n=this.projectionFactor(e);return n<0?n=0:(n>1||st.isNaN(n))&&(n=1),n}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var n=this.p1.getY()-this.p0.getY(),o=this.p0.getX()-this.p1.getX(),f=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),m=n*n+o*o,y=n*n-o*o,b=e.getX(),S=e.getY();return new F((-y*b-2*n*o*S-2*n*f)/m,(y*S-2*n*o*b-2*o*f)/m)}},{key:"distance",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return Pn.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof F){var n=arguments[0];return Pn.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var n=new F;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}},{key:"hashCode",value:function(){var e=st.doubleToLongBits(this.p0.x);e^=31*st.doubleToLongBits(this.p0.y);var n=Math.trunc(e)^Math.trunc(e>>32),o=st.doubleToLongBits(this.p1.x);return o^=31*st.doubleToLongBits(this.p1.y),n^(Math.trunc(o)^Math.trunc(o>>32))}},{key:"interfaces_",get:function(){return[Z,ct]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)a.constructor_.call(this,new F,new F);else if(arguments.length===1){var e=arguments[0];a.constructor_.call(this,e.p0,e.p1)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.p0=n,this.p1=o}else if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3];a.constructor_.call(this,new F(f,m),new F(y,b))}}},{key:"midPoint",value:function(e,n){return new F((e.x+n.x)/2,(e.y+n.y)/2)}}])}(),Ea=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var a=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(a,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new _n,this._overlapSeg2=new _n}}])}(),ho=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(a,e){e.p0=this._pts[a],e.p1=this._pts[a+1]}},{key:"computeSelect",value:function(a,e,n,o){var f=this._pts[e],m=this._pts[n];if(n-e==1)return o.select(this,e),null;if(!a.intersects(f,m))return null;var y=Math.trunc((e+n)/2);e<y&&this.computeSelect(a,e,y,o),y<n&&this.computeSelect(a,y,n,o)}},{key:"getCoordinates",value:function(){for(var a=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)a[e++]=this._pts[n];return a}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var a=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,a,a._start,a._end,e)}else if(arguments.length===6){var n=arguments[0],o=arguments[1],f=arguments[2],m=arguments[3],y=arguments[4],b=arguments[5];if(o-n==1&&y-m==1)return b.overlap(this,n,f,m),null;if(!this.overlaps(n,o,f,m,y))return null;var S=Math.trunc((n+o)/2),O=Math.trunc((m+y)/2);n<S&&(m<O&&this.computeOverlaps(n,S,f,m,O,b),O<y&&this.computeOverlaps(n,S,f,O,y,b)),S<o&&(m<O&&this.computeOverlaps(S,o,f,m,O,b),O<y&&this.computeOverlaps(S,o,f,O,y,b))}}},{key:"setId",value:function(a){this._id=a}},{key:"select",value:function(a,e){this.computeSelect(a,this._start,this._end,e)}},{key:"getEnvelope",value:function(){if(this._env===null){var a=this._pts[this._start],e=this._pts[this._end];this._env=new gt(a,e)}return this._env}},{key:"overlaps",value:function(a,e,n,o,f){return gt.intersects(this._pts[a],this._pts[e],n._pts[o],n._pts[f])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3];this._pts=a,this._start=e,this._end=n,this._context=o}}])}(),qu=function(){function a(){s(this,a)}return _(a,null,[{key:"findChainEnd",value:function(e,n){for(var o=n;o<e.length-1&&e[o].equals2D(e[o+1]);)o++;if(o>=e.length-1)return e.length-1;for(var f=je.quadrant(e[o],e[o+1]),m=n+1;m<e.length&&!(!e[m-1].equals2D(e[m])&&je.quadrant(e[m-1],e[m])!==f);)m++;return m-1}},{key:"getChains",value:function(){if(arguments.length===1){var e=arguments[0];return a.getChains(e,null)}if(arguments.length===2){var n=arguments[0],o=arguments[1],f=new St,m=0;do{var y=a.findChainEnd(n,m),b=new ho(n,m,y,o);f.add(b),m=y}while(m<n.length-1);return f}}}])}(),fo=function(){return _(function a(){s(this,a)},[{key:"computeNodes",value:function(a){}},{key:"getNodedSubstrings",value:function(){}}])}(),ds=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(a){this._segInt=a}},{key:"interfaces_",get:function(){return[fo]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.setSegmentIntersector(a)}}}}])}(),go=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return ei.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(n){for(var o=qu.getChains(n.getCoordinates(),n).iterator();o.hasNext();){var f=o.next();f.setId(this._idCounter++),this._index.insert(f.getEnvelope(),f),this._monoChains.add(f)}}},{key:"computeNodes",value:function(n){this._nodedSegStrings=n;for(var o=n.iterator();o.hasNext();)this.add(o.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var n=new _o(this._segInt),o=this._monoChains.iterator();o.hasNext();)for(var f=o.next(),m=this._index.query(f.getEnvelope()).iterator();m.hasNext();){var y=m.next();if(y.getId()>f.getId()&&(f.computeOverlaps(y,n),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new St,this._index=new Hn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var n=arguments[0];ds.constructor_.call(this,n)}}}}])}(ds),_o=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"overlap",value:function(){if(arguments.length!==4)return M(e,"overlap",this,1).apply(this,arguments);var n=arguments[1],o=arguments[2],f=arguments[3],m=arguments[0].getContext(),y=o.getContext();this._si.processIntersections(m,n,y,f)}}],[{key:"constructor_",value:function(){this._si=null;var n=arguments[0];this._si=n}}])}(Ea);go.SegmentOverlapAction=_o;var bn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isDeletable",value:function(e,n,o,f){var m=this._inputLine[e],y=this._inputLine[n],b=this._inputLine[o];return!!this.isConcave(m,y,b)&&!!this.isShallow(m,y,b,f)&&this.isShallowSampled(m,y,e,o,f)}},{key:"deleteShallowConcavities",value:function(){for(var e=1,n=this.findNextNonDeletedIndex(e),o=this.findNextNonDeletedIndex(n),f=!1;o<this._inputLine.length;){var m=!1;this.isDeletable(e,n,o,this._distanceTol)&&(this._isDeleted[n]=a.DELETE,m=!0,f=!0),e=m?o:n,n=this.findNextNonDeletedIndex(e),o=this.findNextNonDeletedIndex(n)}return f}},{key:"isShallowConcavity",value:function(e,n,o,f){return Mt.index(e,n,o)===this._angleOrientation&&Pn.pointToSegment(n,e,o)<f}},{key:"isShallowSampled",value:function(e,n,o,f,m){var y=Math.trunc((f-o)/a.NUM_PTS_TO_CHECK);y<=0&&(y=1);for(var b=o;b<f;b+=y)if(!this.isShallow(e,n,this._inputLine[b],m))return!1;return!0}},{key:"isConcave",value:function(e,n,o){var f=Mt.index(e,n,o)===this._angleOrientation;return f}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=Mt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=this.deleteShallowConcavities();while(n);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(e){for(var n=e+1;n<this._inputLine.length&&this._isDeleted[n]===a.DELETE;)n++;return n}},{key:"isShallow",value:function(e,n,o,f){return Pn.pointToSegment(n,e,o)<f}},{key:"collapseLine",value:function(){for(var e=new Ir,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==a.DELETE&&e.add(this._inputLine[n]);return e.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Mt.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(e,n){return new a(e).simplify(n)}}])}();bn.INIT=0,bn.DELETE=1,bn.KEEP=1,bn.NUM_PTS_TO_CHECK=10;var Or=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getCoordinates",value:function(){return this._ptList.toArray(a.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var n=new F(e);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,n){if(n)for(var o=0;o<e.length;o++)this.addPt(e[o]);else for(var f=e.length-1;f>=0;f--)this.addPt(e[f])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1);return e.distance(n)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Bn().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new F(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(e.equals(n))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new St}}])}();Or.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Be=function(){function a(){s(this,a)}return _(a,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(e){for(;e>Math.PI;)e-=a.PI_TIMES_2;for(;e<=-Math.PI;)e+=a.PI_TIMES_2;return e}},{key:"angle",value:function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var n=arguments[0],o=arguments[1],f=o.x-n.x,m=o.y-n.y;return Math.atan2(m,f)}}},{key:"isAcute",value:function(e,n,o){var f=e.x-n.x,m=e.y-n.y;return f*(o.x-n.x)+m*(o.y-n.y)>0}},{key:"isObtuse",value:function(e,n,o){var f=e.x-n.x,m=e.y-n.y;return f*(o.x-n.x)+m*(o.y-n.y)<0}},{key:"interiorAngle",value:function(e,n,o){var f=a.angle(n,e),m=a.angle(n,o);return Math.abs(m-f)}},{key:"normalizePositive",value:function(e){if(e<0){for(;e<0;)e+=a.PI_TIMES_2;e>=a.PI_TIMES_2&&(e=0)}else{for(;e>=a.PI_TIMES_2;)e-=a.PI_TIMES_2;e<0&&(e=0)}return e}},{key:"angleBetween",value:function(e,n,o){var f=a.angle(n,e),m=a.angle(n,o);return a.diff(f,m)}},{key:"diff",value:function(e,n){var o=null;return(o=e<n?n-e:e-n)>Math.PI&&(o=2*Math.PI-o),o}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(e,n){var o=Math.sin(n-e);return o>0?a.COUNTERCLOCKWISE:o<0?a.CLOCKWISE:a.NONE}},{key:"angleBetweenOriented",value:function(e,n,o){var f=a.angle(n,e),m=a.angle(n,o)-f;return m<=-Math.PI?m+a.PI_TIMES_2:m>Math.PI?m-a.PI_TIMES_2:m}}])}();Be.PI_TIMES_2=2*Math.PI,Be.PI_OVER_2=Math.PI/2,Be.PI_OVER_4=Math.PI/4,Be.COUNTERCLOCKWISE=Mt.COUNTERCLOCKWISE,Be.CLOCKWISE=Mt.CLOCKWISE,Be.NONE=Mt.COLLINEAR;var Rr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"addNextSegment",value:function(e,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=Mt.index(this._s0,this._s1,this._s2),f=o===Mt.CLOCKWISE&&this._side===C.LEFT||o===Mt.COUNTERCLOCKWISE&&this._side===C.RIGHT;o===0?this.addCollinear(n):f?this.addOutsideTurn(o,n):this.addInsideTurn(o,n)}},{key:"addLineEndCap",value:function(e,n){var o=new _n(e,n),f=new _n;this.computeOffsetSegment(o,C.LEFT,this._distance,f);var m=new _n;this.computeOffsetSegment(o,C.RIGHT,this._distance,m);var y=n.x-e.x,b=n.y-e.y,S=Math.atan2(b,y);switch(this._bufParams.getEndCapStyle()){case G.CAP_ROUND:this._segList.addPt(f.p1),this.addDirectedFillet(n,S+Math.PI/2,S-Math.PI/2,Mt.CLOCKWISE,this._distance),this._segList.addPt(m.p1);break;case G.CAP_FLAT:this._segList.addPt(f.p1),this._segList.addPt(m.p1);break;case G.CAP_SQUARE:var O=new F;O.x=Math.abs(this._distance)*Math.cos(S),O.y=Math.abs(this._distance)*Math.sin(S);var $=new F(f.p1.x+O.x,f.p1.y+O.y),K=new F(m.p1.x+O.x,m.p1.y+O.y);this._segList.addPt($),this._segList.addPt(K)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,n,o,f){var m=Xs.intersection(n.p0,n.p1,o.p0,o.p1);if(m!==null&&(f<=0?1:m.distance(e)/Math.abs(f))<=this._bufParams.getMitreLimit())return this._segList.addPt(m),null;this.addLimitedMitreJoin(n,o,f,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(e,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*a.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===G.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===G.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new F(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new F(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new F(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new F(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,n){this._segList.addPts(e,n)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,n,o,f,m){var y=n.x-e.x,b=n.y-e.y,S=Math.atan2(b,y),O=o.x-e.x,$=o.y-e.y,K=Math.atan2($,O);f===Mt.CLOCKWISE?S<=K&&(S+=2*Math.PI):S>=K&&(S-=2*Math.PI),this._segList.addPt(n),this.addDirectedFillet(e,S,K,f,m),this._segList.addPt(o)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,n,o){this._s1=e,this._s2=n,this._side=o,this._seg1.setCoordinates(e,n),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,n,o,f){var m=this._seg0.p1,y=Be.angle(m,this._seg0.p0),b=Be.angleBetweenOriented(this._seg0.p0,m,this._seg1.p1)/2,S=Be.normalize(y+b),O=Be.normalize(S+Math.PI),$=f*o,K=o-$*Math.abs(Math.sin(b)),ut=m.x+$*Math.cos(O),Et=m.y+$*Math.sin(O),Ct=new F(ut,Et),Dt=new _n(m,Ct),ae=Dt.pointAlongOffset(1,K),te=Dt.pointAlongOffset(1,-K);this._side===C.LEFT?(this._segList.addPt(ae),this._segList.addPt(te)):(this._segList.addPt(te),this._segList.addPt(ae))}},{key:"addDirectedFillet",value:function(e,n,o,f,m){var y=f===Mt.CLOCKWISE?-1:1,b=Math.abs(n-o),S=Math.trunc(b/this._filletAngleQuantum+.5);if(S<1)return null;for(var O=b/S,$=new F,K=0;K<S;K++){var ut=n+y*K*O;$.x=e.x+m*Math.cos(ut),$.y=e.y+m*Math.sin(ut),this._segList.addPt($)}}},{key:"computeOffsetSegment",value:function(e,n,o,f){var m=n===C.LEFT?1:-1,y=e.p1.x-e.p0.x,b=e.p1.y-e.p0.y,S=Math.sqrt(y*y+b*b),O=m*o*y/S,$=m*o*b/S;f.p0.x=e.p0.x-$,f.p0.y=e.p0.y+O,f.p1.x=e.p1.x-$,f.p1.y=e.p1.y+O}},{key:"addInsideTurn",value:function(e,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*a.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new F((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var f=new F((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(f)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var n=new F(e.x+this._distance,e.y);this._segList.addPt(n),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,n){this._segList.addPt(e.p1),this._segList.addPt(n.p0)}},{key:"init",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Or,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*a.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===G.JOIN_BEVEL||this._bufParams.getJoinStyle()===G.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Mt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new _n,this._seg1=new _n,this._offset0=new _n,this._offset1=new _n,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],o=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new ti,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===G.JOIN_ROUND&&(this._closingSegLengthFactor=a.MAX_CLOSING_SEG_LEN_FACTOR),this.init(o)}}])}();Rr.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Rr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Rr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Rr.MAX_CLOSING_SEG_LEN_FACTOR=80;var Ar=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getOffsetCurve",value:function(e,n){if(this._distance=n,n===0)return null;var o=n<0,f=Math.abs(n),m=this.getSegGen(f);e.length<=1?this.computePointCurve(e[0],m):this.computeOffsetCurve(e,o,m);var y=m.getCoordinates();return o&&De.reverse(y),y}},{key:"computeSingleSidedBufferCurve",value:function(e,n,o){var f=this.simplifyTolerance(this._distance);if(n){o.addSegments(e,!0);var m=bn.simplify(e,-f),y=m.length-1;o.initSideSegments(m[y],m[y-1],C.LEFT),o.addFirstSegment();for(var b=y-2;b>=0;b--)o.addNextSegment(m[b],!0)}else{o.addSegments(e,!1);var S=bn.simplify(e,f),O=S.length-1;o.initSideSegments(S[0],S[1],C.LEFT),o.addFirstSegment();for(var $=2;$<=O;$++)o.addNextSegment(S[$],!0)}o.addLastSegment(),o.closeRing()}},{key:"computeRingBufferCurve",value:function(e,n,o){var f=this.simplifyTolerance(this._distance);n===C.RIGHT&&(f=-f);var m=bn.simplify(e,f),y=m.length-1;o.initSideSegments(m[y-1],m[0],n);for(var b=1;b<=y;b++){var S=b!==1;o.addNextSegment(m[b],S)}o.closeRing()}},{key:"computeLineBufferCurve",value:function(e,n){var o=this.simplifyTolerance(this._distance),f=bn.simplify(e,o),m=f.length-1;n.initSideSegments(f[0],f[1],C.LEFT);for(var y=2;y<=m;y++)n.addNextSegment(f[y],!0);n.addLastSegment(),n.addLineEndCap(f[m-1],f[m]);var b=bn.simplify(e,-o),S=b.length-1;n.initSideSegments(b[S],b[S-1],C.LEFT);for(var O=S-2;O>=0;O--)n.addNextSegment(b[O],!0);n.addLastSegment(),n.addLineEndCap(b[1],b[0]),n.closeRing()}},{key:"computePointCurve",value:function(e,n){switch(this._bufParams.getEndCapStyle()){case G.CAP_ROUND:n.createCircle(e);break;case G.CAP_SQUARE:n.createSquare(e)}}},{key:"getLineCurve",value:function(e,n){if(this._distance=n,this.isLineOffsetEmpty(n))return null;var o=Math.abs(n),f=this.getSegGen(o);if(e.length<=1)this.computePointCurve(e[0],f);else if(this._bufParams.isSingleSided()){var m=n<0;this.computeSingleSidedBufferCurve(e,m,f)}else this.computeLineBufferCurve(e,f);return f.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(e,n,o){if(this._distance=o,e.length<=2)return this.getLineCurve(e,o);if(o===0)return a.copyCoordinates(e);var f=this.getSegGen(o);return this.computeRingBufferCurve(e,n,f),f.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,n,o){var f=this.simplifyTolerance(this._distance);if(n){var m=bn.simplify(e,-f),y=m.length-1;o.initSideSegments(m[y],m[y-1],C.LEFT),o.addFirstSegment();for(var b=y-2;b>=0;b--)o.addNextSegment(m[b],!0)}else{var S=bn.simplify(e,f),O=S.length-1;o.initSideSegments(S[0],S[1],C.LEFT),o.addFirstSegment();for(var $=2;$<=O;$++)o.addNextSegment(S[$],!0)}o.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return e===0||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new Rr(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],n=arguments[1];this._precisionModel=e,this._bufParams=n}},{key:"copyCoordinates",value:function(e){for(var n=new Array(e.length).fill(null),o=0;o<n.length;o++)n[o]=new F(e[o]);return n}}])}(),mn=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var a=arguments[0],e=new St,n=this._subgraphs.iterator();n.hasNext();){var o=n.next(),f=o.getEnvelope();a.y<f.getMinY()||a.y>f.getMaxY()||this.findStabbedSegments(a,o.getDirectedEdges(),e)}return e}if(arguments.length===3){if(q(arguments[2],yt)&&arguments[0]instanceof F&&arguments[1]instanceof uo){for(var m=arguments[0],y=arguments[1],b=arguments[2],S=y.getEdge().getCoordinates(),O=0;O<S.length-1;O++)if(this._seg.p0=S[O],this._seg.p1=S[O+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<m.x||this._seg.isHorizontal()||m.y<this._seg.p0.y||m.y>this._seg.p1.y||Mt.index(this._seg.p0,this._seg.p1,m)===Mt.RIGHT)){var $=y.getDepth(C.LEFT);this._seg.p0.equals(S[O])||($=y.getDepth(C.RIGHT));var K=new mo(this._seg,$);b.add(K)}}else if(q(arguments[2],yt)&&arguments[0]instanceof F&&q(arguments[1],yt))for(var ut=arguments[0],Et=arguments[2],Ct=arguments[1].iterator();Ct.hasNext();){var Dt=Ct.next();Dt.isForward()&&this.findStabbedSegments(ut,Dt,Et)}}}},{key:"getDepth",value:function(a){var e=this.findStabbedSegments(a);return e.size()===0?0:Mi.min(e)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new _n;var a=arguments[0];this._subgraphs=a}}])}(),mo=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(a){var e=a;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return n!==0||(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))!==0?n:this._upwardSeg.compareTo(e._upwardSeg)}},{key:"compareX",value:function(a,e){var n=a.p0.compareTo(e.p0);return n!==0?n:a.p1.compareTo(e.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[0],e=arguments[1];this._upwardSeg=new _n(a),this._leftDepth=e}}])}();mn.DepthSegment=mo;var po=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,null,[{key:"constructor_",value:function(){z.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(z),vo=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getY",value:function(){var e=this.y/this.w;if(st.isNaN(e)||st.isInfinite(e))throw new po;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(st.isNaN(e)||st.isInfinite(e))throw new po;return e}},{key:"getCoordinate",value:function(){var e=new F;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],o=arguments[1];this.x=n,this.y=o,this.w=1}else if(arguments[0]instanceof a&&arguments[1]instanceof a){var f=arguments[0],m=arguments[1];this.x=f.y*m.w-m.y*f.w,this.y=m.x*f.w-f.x*m.w,this.w=f.x*m.y-m.x*f.y}else if(arguments[0]instanceof F&&arguments[1]instanceof F){var y=arguments[0],b=arguments[1];this.x=y.y-b.y,this.y=b.x-y.x,this.w=y.x*b.y-b.x*y.y}}else if(arguments.length===3){var S=arguments[0],O=arguments[1],$=arguments[2];this.x=S,this.y=O,this.w=$}else if(arguments.length===4){var K=arguments[0],ut=arguments[1],Et=arguments[2],Ct=arguments[3],Dt=K.y-ut.y,ae=ut.x-K.x,te=K.x*ut.y-ut.x*K.y,Ee=Et.y-Ct.y,Me=Ct.x-Et.x,Ze=Et.x*Ct.y-Ct.x*Et.y;this.x=ae*Ze-Me*te,this.y=Ee*te-Dt*Ze,this.w=Dt*Me-Ee*ae}}}])}(),yo=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"area",value:function(){return a.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return a.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(e){if(e===null)throw new X("Supplied point is null.");return a.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return a.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return a.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return a.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return a.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return a.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return a.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],n=arguments[1],o=arguments[2];this.p0=e,this.p1=n,this.p2=o}},{key:"area",value:function(e,n,o){return Math.abs(((o.x-e.x)*(n.y-e.y)-(n.x-e.x)*(o.y-e.y))/2)}},{key:"signedArea",value:function(e,n,o){return((o.x-e.x)*(n.y-e.y)-(n.x-e.x)*(o.y-e.y))/2}},{key:"det",value:function(e,n,o,f){return e*f-n*o}},{key:"interpolateZ",value:function(e,n,o,f){var m=n.x,y=n.y,b=o.x-m,S=f.x-m,O=o.y-y,$=f.y-y,K=b*$-S*O,ut=e.x-m,Et=e.y-y,Ct=($*ut-S*Et)/K,Dt=(-O*ut+b*Et)/K;return n.getZ()+Ct*(o.getZ()-n.getZ())+Dt*(f.getZ()-n.getZ())}},{key:"longestSideLength",value:function(e,n,o){var f=e.distance(n),m=n.distance(o),y=o.distance(e),b=f;return m>b&&(b=m),y>b&&(b=y),b}},{key:"circumcentreDD",value:function(e,n,o){var f=pt.valueOf(e.x).subtract(o.x),m=pt.valueOf(e.y).subtract(o.y),y=pt.valueOf(n.x).subtract(o.x),b=pt.valueOf(n.y).subtract(o.y),S=pt.determinant(f,m,y,b).multiply(2),O=f.sqr().add(m.sqr()),$=y.sqr().add(b.sqr()),K=pt.determinant(m,O,b,$),ut=pt.determinant(f,O,y,$),Et=pt.valueOf(o.x).subtract(K.divide(S)).doubleValue(),Ct=pt.valueOf(o.y).add(ut.divide(S)).doubleValue();return new F(Et,Ct)}},{key:"isAcute",value:function(e,n,o){return!!Be.isAcute(e,n,o)&&!!Be.isAcute(n,o,e)&&!!Be.isAcute(o,e,n)}},{key:"circumcentre",value:function(e,n,o){var f=o.x,m=o.y,y=e.x-f,b=e.y-m,S=n.x-f,O=n.y-m,$=2*a.det(y,b,S,O),K=a.det(b,y*y+b*b,O,S*S+O*O),ut=a.det(y,y*y+b*b,S,S*S+O*O);return new F(f-K/$,m+ut/$)}},{key:"perpendicularBisector",value:function(e,n){var o=n.x-e.x,f=n.y-e.y,m=new vo(e.x+o/2,e.y+f/2,1),y=new vo(e.x-f+o/2,e.y+o+f/2,1);return new vo(m,y)}},{key:"angleBisector",value:function(e,n,o){var f=n.distance(e),m=f/(f+n.distance(o)),y=o.x-e.x,b=o.y-e.y;return new F(e.x+m*y,e.y+m*b)}},{key:"area3D",value:function(e,n,o){var f=n.x-e.x,m=n.y-e.y,y=n.getZ()-e.getZ(),b=o.x-e.x,S=o.y-e.y,O=o.getZ()-e.getZ(),$=m*O-y*S,K=y*b-f*O,ut=f*S-m*b,Et=$*$+K*K+ut*ut,Ct=Math.sqrt(Et)/2;return Ct}},{key:"centroid",value:function(e,n,o){var f=(e.x+n.x+o.x)/3,m=(e.y+n.y+o.y)/3;return new F(f,m)}},{key:"inCentre",value:function(e,n,o){var f=n.distance(o),m=e.distance(o),y=e.distance(n),b=f+m+y,S=(f*e.x+m*n.x+y*o.x)/b,O=(f*e.y+m*n.y+y*o.y)/b;return new F(S,O)}}])}(),Lo=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(a,e,n,o,f){if(e===0&&a.length<zn.MINIMUM_VALID_SIZE)return null;var m=o,y=f;a.length>=zn.MINIMUM_VALID_SIZE&&Mt.isCCW(a)&&(m=f,y=o,n=C.opposite(n));var b=this._curveBuilder.getRingCurve(a,n,e);this.addCurve(b,m,y)}},{key:"addRingBothSides",value:function(a,e){this.addRingSide(a,e,C.LEFT,T.EXTERIOR,T.INTERIOR),this.addRingSide(a,e,C.RIGHT,T.INTERIOR,T.EXTERIOR)}},{key:"addPoint",value:function(a){if(this._distance<=0)return null;var e=a.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)}},{key:"addPolygon",value:function(a){var e=this._distance,n=C.LEFT;this._distance<0&&(e=-this._distance,n=C.RIGHT);var o=a.getExteriorRing(),f=De.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance)||this._distance<=0&&f.length<3)return null;this.addRingSide(f,e,n,T.EXTERIOR,T.INTERIOR);for(var m=0;m<a.getNumInteriorRing();m++){var y=a.getInteriorRingN(m),b=De.removeRepeatedPoints(y.getCoordinates());this._distance>0&&this.isErodedCompletely(y,-this._distance)||this.addRingSide(b,e,C.opposite(n),T.INTERIOR,T.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(a,e){var n=new yo(a[0],a[1],a[2]),o=n.inCentre();return Pn.pointToSegment(o,n.p0,n.p1)<Math.abs(e)}},{key:"addLineString",value:function(a){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var e=De.removeRepeatedPoints(a.getCoordinates());if(De.isRing(e)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(e,this._distance);else{var n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)}}},{key:"addCurve",value:function(a,e,n){if(a===null||a.length<2)return null;var o=new ei(a,new ln(0,T.BOUNDARY,e,n));this._curveList.add(o)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(a){if(a.isEmpty())return null;if(a instanceof Tr)this.addPolygon(a);else if(a instanceof br)this.addLineString(a);else if(a instanceof Ks)this.addPoint(a);else if(a instanceof ts)this.addCollection(a);else if(a instanceof rs)this.addCollection(a);else if(a instanceof eo)this.addCollection(a);else{if(!(a instanceof tn))throw new nt(a.getGeometryType());this.addCollection(a)}}},{key:"isErodedCompletely",value:function(a,e){var n=a.getCoordinates();if(n.length<4)return e<0;if(n.length===4)return this.isTriangleErodedCompletely(n,e);var o=a.getEnvelopeInternal(),f=Math.min(o.getHeight(),o.getWidth());return e<0&&2*Math.abs(e)>f}},{key:"addCollection",value:function(a){for(var e=0;e<a.getNumGeometries();e++){var n=a.getGeometryN(e);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new St;var a=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=a,this._distance=e,this._curveBuilder=n}}])}(),$u=function(){return _(function a(){s(this,a)},[{key:"locate",value:function(a){}}])}(),Zu=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,a.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new j;var e=this._parent.getGeometryN(this._index++);return e instanceof tn?(this._subcollectionIterator=new a(e),this._subcollectionIterator.next()):e}},{key:"remove",value:function(){throw new nt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Hu]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof tn)}}])}(),ka=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"locate",value:function(e){return a.locate(e,this._geom)}},{key:"interfaces_",get:function(){return[$u]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(e,n){if(n.isEmpty())return T.EXTERIOR;var o=n.getExteriorRing(),f=a.locatePointInRing(e,o);if(f!==T.INTERIOR)return f;for(var m=0;m<n.getNumInteriorRing();m++){var y=n.getInteriorRingN(m),b=a.locatePointInRing(e,y);if(b===T.BOUNDARY)return T.BOUNDARY;if(b===T.INTERIOR)return T.EXTERIOR}return T.INTERIOR}},{key:"locatePointInRing",value:function(e,n){return n.getEnvelopeInternal().intersects(e)?nr.locateInRing(e,n.getCoordinates()):T.EXTERIOR}},{key:"containsPointInPolygon",value:function(e,n){return T.EXTERIOR!==a.locatePointInPolygon(e,n)}},{key:"locateInGeometry",value:function(e,n){if(n instanceof Tr)return a.locatePointInPolygon(e,n);if(n instanceof tn)for(var o=new Zu(n);o.hasNext();){var f=o.next();if(f!==n){var m=a.locateInGeometry(e,f);if(m!==T.EXTERIOR)return m}}return T.EXTERIOR}},{key:"isContained",value:function(e,n){return T.EXTERIOR!==a.locate(e,n)}},{key:"locate",value:function(e,n){return n.isEmpty()?T.EXTERIOR:n.getEnvelopeInternal().intersects(e)?a.locateInGeometry(e,n):T.EXTERIOR}}])}(),Vu=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(a){this.getEdges();var e=this._edgeList.indexOf(a),n=e-1;return e===0&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(a){for(var e=T.NONE,n=this.iterator();n.hasNext();){var o=n.next().getLabel();o.isArea(a)&&o.getLocation(a,C.LEFT)!==T.NONE&&(e=o.getLocation(a,C.LEFT))}if(e===T.NONE)return null;for(var f=e,m=this.iterator();m.hasNext();){var y=m.next(),b=y.getLabel();if(b.getLocation(a,C.ON)===T.NONE&&b.setLocation(a,C.ON,f),b.isArea(a)){var S=b.getLocation(a,C.LEFT),O=b.getLocation(a,C.RIGHT);if(O!==T.NONE){if(O!==f)throw new Ye("side location conflict",y.getCoordinate());S===T.NONE&&kt.shouldNeverReachHere("found single null side (at "+y.getCoordinate()+")"),f=S}else kt.isTrue(b.getLocation(a,C.LEFT)===T.NONE,"found single null side"),b.setLocation(a,C.RIGHT,f),b.setLocation(a,C.LEFT,f)}}}},{key:"getCoordinate",value:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null}},{key:"print",value:function(a){wn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"isAreaLabelsConsistent",value:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(a){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,o=e.get(n).getLabel().getLocation(a,C.LEFT);kt.isTrue(o!==T.NONE,"Found unlabelled area edge");for(var f=o,m=this.iterator();m.hasNext();){var y=m.next().getLabel();kt.isTrue(y.isArea(a),"Found non-area edge");var b=y.getLocation(a,C.LEFT),S=y.getLocation(a,C.RIGHT);if(b===S||S!==f)return!1;f=b}return!0}},{key:"findIndex",value:function(a){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===a)return e;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new St(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(a,e,n){return this._ptInAreaLocation[a]===T.NONE&&(this._ptInAreaLocation[a]=ka.locate(e,n[a].getGeometry())),this._ptInAreaLocation[a]}},{key:"toString",value:function(){var a=new et;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append(`
`);for(var e=this.iterator();e.hasNext();){var n=e.next();a.append(n),a.append(`
`)}return a.toString()}},{key:"computeEdgeEndLabels",value:function(a){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(a)}},{key:"computeLabelling",value:function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var o=n.next().getLabel(),f=0;f<2;f++)o.isLine(f)&&o.getLocation(f)===T.BOUNDARY&&(e[f]=!0);for(var m=this.iterator();m.hasNext();)for(var y=m.next(),b=y.getLabel(),S=0;S<2;S++)if(b.isAnyNull(S)){var O=T.NONE;if(e[S])O=T.EXTERIOR;else{var $=y.getCoordinate();O=this.getLocation(S,$,a)}b.setAllLocationsIfNull(S,O)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(a,e){this._edgeMap.put(a,e),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Oe,this._edgeList=null,this._ptInAreaLocation=[T.NONE,T.NONE]}}])}(),On=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var n=null,o=null,f=this._SCANNING_FOR_INCOMING,m=0;m<this._resultAreaEdgeList.size();m++){var y=this._resultAreaEdgeList.get(m),b=y.getSym();if(y.getLabel().isArea())switch(n===null&&y.isInResult()&&(n=y),f){case this._SCANNING_FOR_INCOMING:if(!b.isInResult())continue;o=b,f=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!y.isInResult())continue;o.setNext(y),f=this._SCANNING_FOR_INCOMING}}if(f===this._LINKING_TO_OUTGOING){if(n===null)throw new Ye("no outgoing dirEdge found",this.getCoordinate());kt.isTrue(n.isInResult(),"unable to link last incoming dirEdge"),o.setNext(n)}}},{key:"insert",value:function(n){var o=n;this.insertEdgeEnd(o,o)}},{key:"getRightmostEdge",value:function(){var n=this.getEdges(),o=n.size();if(o<1)return null;var f=n.get(0);if(o===1)return f;var m=n.get(o-1),y=f.getQuadrant(),b=m.getQuadrant();return je.isNorthern(y)&&je.isNorthern(b)?f:je.isNorthern(y)||je.isNorthern(b)?f.getDy()!==0?f:m.getDy()!==0?m:(kt.shouldNeverReachHere("found two horizontal edges incident on node"),null):m}},{key:"print",value:function(n){wn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var o=this.iterator();o.hasNext();){var f=o.next();n.print("out "),f.print(n),n.println(),n.print("in "),f.getSym().print(n),n.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new St;for(var n=this.iterator();n.hasNext();){var o=n.next();(o.isInResult()||o.getSym().isInResult())&&this._resultAreaEdgeList.add(o)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(n){for(var o=this.iterator();o.hasNext();){var f=o.next().getLabel();f.setAllLocationsIfNull(0,n.getLocation(0)),f.setAllLocationsIfNull(1,n.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var n=null,o=null,f=this._edgeList.size()-1;f>=0;f--){var m=this._edgeList.get(f),y=m.getSym();o===null&&(o=y),n!==null&&y.setNext(n),n=m}o.setNext(n)}},{key:"computeDepths",value:function(){if(arguments.length===1){var n=arguments[0],o=this.findIndex(n),f=n.getDepth(C.LEFT),m=n.getDepth(C.RIGHT),y=this.computeDepths(o+1,this._edgeList.size(),f);if(this.computeDepths(0,o,y)!==m)throw new Ye("depth mismatch at "+n.getCoordinate())}else if(arguments.length===3){for(var b=arguments[1],S=arguments[2],O=arguments[0];O<b;O++){var $=this._edgeList.get(O);$.setEdgeDepths(C.RIGHT,S),S=$.getDepth(C.LEFT)}return S}}},{key:"mergeSymLabels",value:function(){for(var n=this.iterator();n.hasNext();){var o=n.next();o.getLabel().merge(o.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(n){for(var o=null,f=null,m=this._SCANNING_FOR_INCOMING,y=this._resultAreaEdgeList.size()-1;y>=0;y--){var b=this._resultAreaEdgeList.get(y),S=b.getSym();switch(o===null&&b.getEdgeRing()===n&&(o=b),m){case this._SCANNING_FOR_INCOMING:if(S.getEdgeRing()!==n)continue;f=S,m=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(b.getEdgeRing()!==n)continue;f.setNextMin(b),m=this._SCANNING_FOR_INCOMING}}m===this._LINKING_TO_OUTGOING&&(kt.isTrue(o!==null,"found null for first outgoing dirEdge"),kt.isTrue(o.getEdgeRing()===n,"unable to link last incoming dirEdge"),f.setNextMin(o))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var n=0,o=this.iterator();o.hasNext();)o.next().isInResult()&&n++;return n}if(arguments.length===1){for(var f=arguments[0],m=0,y=this.iterator();y.hasNext();)y.next().getEdgeRing()===f&&m++;return m}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var n=T.NONE,o=this.iterator();o.hasNext();){var f=o.next(),m=f.getSym();if(!f.isLineEdge()){if(f.isInResult()){n=T.INTERIOR;break}if(m.isInResult()){n=T.EXTERIOR;break}}}if(n===T.NONE)return null;for(var y=n,b=this.iterator();b.hasNext();){var S=b.next(),O=S.getSym();S.isLineEdge()?S.getEdge().setCovered(y===T.INTERIOR):(S.isInResult()&&(y=T.EXTERIOR),O.isInResult()&&(y=T.INTERIOR))}}},{key:"computeLabelling",value:function(n){M(e,"computeLabelling",this,1).call(this,n),this._label=new ln(T.NONE);for(var o=this.iterator();o.hasNext();)for(var f=o.next().getEdge().getLabel(),m=0;m<2;m++){var y=f.getLocation(m);y!==T.INTERIOR&&y!==T.BOUNDARY||this._label.setLocation(m,T.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Vu),rr=function(a){function e(){return s(this,e),c(this,e)}return k(e,a),_(e,[{key:"createNode",value:function(n){return new Pr(n,new On)}}])}(lo),xa=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"compareTo",value:function(e){var n=e;return a.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=a.orientation(e)}},{key:"orientation",value:function(e){return De.increasingDirection(e)===1}},{key:"compareOriented",value:function(e,n,o,f){for(var m=n?1:-1,y=f?1:-1,b=n?e.length:-1,S=f?o.length:-1,O=n?0:e.length-1,$=f?0:o.length-1;;){var K=e[O].compareTo(o[$]);if(K!==0)return K;var ut=(O+=m)===b,Et=($+=y)===S;if(ut&&!Et)return-1;if(!ut&&Et)return 1;if(ut&&Et)return 0}}}])}(),ni=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&a.print(","),a.print("(");for(var o=n.getCoordinates(),f=0;f<o.length;f++)f>0&&a.print(","),a.print(o[f].x+" "+o[f].y);a.println(")")}a.print(")  ")}},{key:"addAll",value:function(a){for(var e=a.iterator();e.hasNext();)this.add(e.next())}},{key:"findEdgeIndex",value:function(a){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(a))return e;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(a){return this._edges.get(a)}},{key:"findEqualEdge",value:function(a){var e=new xa(a.getCoordinates());return this._ocaMap.get(e)}},{key:"add",value:function(a){this._edges.add(a);var e=new xa(a.getCoordinates());this._ocaMap.put(e,a)}}],[{key:"constructor_",value:function(){this._edges=new St,this._ocaMap=new Oe}}])}(),wa=function(){return _(function a(){s(this,a)},[{key:"processIntersections",value:function(a,e,n,o){}},{key:"isDone",value:function(){}}])}(),sr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isTrivialIntersection",value:function(e,n,o,f){if(e===o&&this._li.getIntersectionNum()===1){if(a.isAdjacentSegments(n,f))return!0;if(e.isClosed()){var m=e.size()-1;if(n===0&&f===m||f===0&&n===m)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,n,o,f){if(e===o&&n===f)return null;this.numTests++;var m=e.getCoordinates()[n],y=e.getCoordinates()[n+1],b=o.getCoordinates()[f],S=o.getCoordinates()[f+1];this._li.computeIntersection(m,y,b,S),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,n,o,f)||(this._hasIntersection=!0,e.addIntersections(this._li,n,0),o.addIntersections(this._li,f,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[wa]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,n){return Math.abs(e-n)===1}}])}(),Yu=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)}},{key:"compareTo",value:function(a){var e=a;return this.compare(e.segmentIndex,e.dist)}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===a}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(a,e){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<e?-1:this.dist>e?1:0}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],e=arguments[1],n=arguments[2];this.coord=new F(a),this.segmentIndex=e,this.dist=n}}])}(),Dr=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var o=e.next(),f=this.createSplitEdge(n,o);a.add(f),n=o}}},{key:"addEndpoints",value:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)}},{key:"createSplitEdge",value:function(a,e){var n=e.segmentIndex-a.segmentIndex+2,o=this.edge.pts[e.segmentIndex],f=e.dist>0||!e.coord.equals2D(o);f||n--;var m=new Array(n).fill(null),y=0;m[y++]=new F(a.coord);for(var b=a.segmentIndex+1;b<=e.segmentIndex;b++)m[y++]=this.edge.pts[b];return f&&(m[y]=e.coord),new Ta(m,new ln(this.edge._label))}},{key:"add",value:function(a,e,n){var o=new Yu(a,e,n),f=this._nodeMap.get(o);return f!==null?f:(this._nodeMap.put(o,o),o)}},{key:"isIntersection",value:function(a){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(a))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Oe,this.edge=null;var a=arguments[0];this.edge=a}}])}(),ba=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])||a.isTrue(this._matrix[T.INTERIOR][T.BOUNDARY])||a.isTrue(this._matrix[T.BOUNDARY][T.INTERIOR])||a.isTrue(this._matrix[T.BOUNDARY][T.BOUNDARY]))&&this._matrix[T.EXTERIOR][T.INTERIOR]===vt.FALSE&&this._matrix[T.EXTERIOR][T.BOUNDARY]===vt.FALSE}},{key:"isCoveredBy",value:function(){return(a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])||a.isTrue(this._matrix[T.INTERIOR][T.BOUNDARY])||a.isTrue(this._matrix[T.BOUNDARY][T.INTERIOR])||a.isTrue(this._matrix[T.BOUNDARY][T.BOUNDARY]))&&this._matrix[T.INTERIOR][T.EXTERIOR]===vt.FALSE&&this._matrix[T.BOUNDARY][T.EXTERIOR]===vt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var e=arguments[0],n=0;n<e.length;n++){var o=Math.trunc(n/3),f=n%3;this._matrix[o][f]=vt.toDimensionValue(e.charAt(n))}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this._matrix[m][y]=b}}},{key:"isContains",value:function(){return a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&this._matrix[T.EXTERIOR][T.INTERIOR]===vt.FALSE&&this._matrix[T.EXTERIOR][T.BOUNDARY]===vt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var e=arguments[0],n=0;n<e.length;n++){var o=Math.trunc(n/3),f=n%3;this.setAtLeast(o,f,vt.toDimensionValue(e.charAt(n)))}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this._matrix[m][y]<b&&(this._matrix[m][y]=b)}}},{key:"setAtLeastIfValid",value:function(e,n,o){e>=0&&n>=0&&this.setAtLeast(e,n,o)}},{key:"isWithin",value:function(){return a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&this._matrix[T.INTERIOR][T.EXTERIOR]===vt.FALSE&&this._matrix[T.BOUNDARY][T.EXTERIOR]===vt.FALSE}},{key:"isTouches",value:function(e,n){return e>n?this.isTouches(n,e):(e===vt.A&&n===vt.A||e===vt.L&&n===vt.L||e===vt.L&&n===vt.A||e===vt.P&&n===vt.A||e===vt.P&&n===vt.L)&&this._matrix[T.INTERIOR][T.INTERIOR]===vt.FALSE&&(a.isTrue(this._matrix[T.INTERIOR][T.BOUNDARY])||a.isTrue(this._matrix[T.BOUNDARY][T.INTERIOR])||a.isTrue(this._matrix[T.BOUNDARY][T.BOUNDARY]))}},{key:"isOverlaps",value:function(e,n){return e===vt.P&&n===vt.P||e===vt.A&&n===vt.A?a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&a.isTrue(this._matrix[T.INTERIOR][T.EXTERIOR])&&a.isTrue(this._matrix[T.EXTERIOR][T.INTERIOR]):e===vt.L&&n===vt.L&&this._matrix[T.INTERIOR][T.INTERIOR]===1&&a.isTrue(this._matrix[T.INTERIOR][T.EXTERIOR])&&a.isTrue(this._matrix[T.EXTERIOR][T.INTERIOR])}},{key:"isEquals",value:function(e,n){return e===n&&a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&this._matrix[T.INTERIOR][T.EXTERIOR]===vt.FALSE&&this._matrix[T.BOUNDARY][T.EXTERIOR]===vt.FALSE&&this._matrix[T.EXTERIOR][T.INTERIOR]===vt.FALSE&&this._matrix[T.EXTERIOR][T.BOUNDARY]===vt.FALSE}},{key:"toString",value:function(){for(var e=new is("123456789"),n=0;n<3;n++)for(var o=0;o<3;o++)e.setCharAt(3*n+o,vt.toDimensionSymbol(this._matrix[n][o]));return e.toString()}},{key:"setAll",value:function(e){for(var n=0;n<3;n++)for(var o=0;o<3;o++)this._matrix[n][o]=e}},{key:"get",value:function(e,n){return this._matrix[e][n]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(e){if(e.length!==9)throw new X("Should be length 9: "+e);for(var n=0;n<3;n++)for(var o=0;o<3;o++)if(!a.matches(this._matrix[n][o],e.charAt(3*n+o)))return!1;return!0}},{key:"add",value:function(e){for(var n=0;n<3;n++)for(var o=0;o<3;o++)this.setAtLeast(n,o,e.get(n,o))}},{key:"isDisjoint",value:function(){return this._matrix[T.INTERIOR][T.INTERIOR]===vt.FALSE&&this._matrix[T.INTERIOR][T.BOUNDARY]===vt.FALSE&&this._matrix[T.BOUNDARY][T.INTERIOR]===vt.FALSE&&this._matrix[T.BOUNDARY][T.BOUNDARY]===vt.FALSE}},{key:"isCrosses",value:function(e,n){return e===vt.P&&n===vt.L||e===vt.P&&n===vt.A||e===vt.L&&n===vt.A?a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&a.isTrue(this._matrix[T.INTERIOR][T.EXTERIOR]):e===vt.L&&n===vt.P||e===vt.A&&n===vt.P||e===vt.A&&n===vt.L?a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&a.isTrue(this._matrix[T.EXTERIOR][T.INTERIOR]):e===vt.L&&n===vt.L&&this._matrix[T.INTERIOR][T.INTERIOR]===0}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(vt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var e=arguments[0];a.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof a){var n=arguments[0];a.constructor_.call(this),this._matrix[T.INTERIOR][T.INTERIOR]=n._matrix[T.INTERIOR][T.INTERIOR],this._matrix[T.INTERIOR][T.BOUNDARY]=n._matrix[T.INTERIOR][T.BOUNDARY],this._matrix[T.INTERIOR][T.EXTERIOR]=n._matrix[T.INTERIOR][T.EXTERIOR],this._matrix[T.BOUNDARY][T.INTERIOR]=n._matrix[T.BOUNDARY][T.INTERIOR],this._matrix[T.BOUNDARY][T.BOUNDARY]=n._matrix[T.BOUNDARY][T.BOUNDARY],this._matrix[T.BOUNDARY][T.EXTERIOR]=n._matrix[T.BOUNDARY][T.EXTERIOR],this._matrix[T.EXTERIOR][T.INTERIOR]=n._matrix[T.EXTERIOR][T.INTERIOR],this._matrix[T.EXTERIOR][T.BOUNDARY]=n._matrix[T.EXTERIOR][T.BOUNDARY],this._matrix[T.EXTERIOR][T.EXTERIOR]=n._matrix[T.EXTERIOR][T.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var e=arguments[0],n=arguments[1];return n===vt.SYM_DONTCARE||n===vt.SYM_TRUE&&(e>=0||e===vt.TRUE)||n===vt.SYM_FALSE&&e===vt.FALSE||n===vt.SYM_P&&e===vt.P||n===vt.SYM_L&&e===vt.L||n===vt.SYM_A&&e===vt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var o=arguments[1];return new a(arguments[0]).matches(o)}}},{key:"isTrue",value:function(e){return e>=0||e===vt.TRUE}}])}(),gs=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return e===null||e.length===0?null:(this.ensureCapacity(this._size+e.length),wn.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var n=Math.max(e,2*this._data.length);this._data=We.copyOf(this._data,n)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return wn.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)a.constructor_.call(this,10);else if(arguments.length===1){var e=arguments[0];this._data=new Array(e).fill(null)}}}])}(),Wu=function(){function a(){s(this,a)}return _(a,[{key:"getChainStartIndices",value:function(e){var n=0,o=new gs(Math.trunc(e.length/2));o.add(n);do{var f=this.findChainEnd(e,n);o.add(f),n=f}while(n<e.length-1);return o.toArray()}},{key:"findChainEnd",value:function(e,n){for(var o=je.quadrant(e[n],e[n+1]),f=n+1;f<e.length&&je.quadrant(e[f-1],e[f])===o;)f++;return f-1}},{key:"OLDgetChainStartIndices",value:function(e){var n=0,o=new St;o.add(n);do{var f=this.findChainEnd(e,n);o.add(f),n=f}while(n<e.length-1);return a.toIntArray(o)}}],[{key:"toIntArray",value:function(e){for(var n=new Array(e.size()).fill(null),o=0;o<n.length;o++)n[o]=e.get(o).intValue();return n}}])}(),gi=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(a){var e=this.pts[this.startIndex[a]].x,n=this.pts[this.startIndex[a+1]].x;return e>n?e:n}},{key:"getMinX",value:function(a){var e=this.pts[this.startIndex[a]].x,n=this.pts[this.startIndex[a+1]].x;return e<n?e:n}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var a=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],e,e.startIndex[n],e.startIndex[n+1],o)}else if(arguments.length===6){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=arguments[4],O=arguments[5];if(m-f==1&&S-b==1)return O.addIntersections(this.e,f,y.e,b),null;if(!this.overlaps(f,m,y,b,S))return null;var $=Math.trunc((f+m)/2),K=Math.trunc((b+S)/2);f<$&&(b<K&&this.computeIntersectsForChain(f,$,y,b,K,O),K<S&&this.computeIntersectsForChain(f,$,y,K,S,O)),$<m&&(b<K&&this.computeIntersectsForChain($,m,y,b,K,O),K<S&&this.computeIntersectsForChain($,m,y,K,S,O))}}},{key:"overlaps",value:function(a,e,n,o,f){return gt.intersects(this.pts[a],this.pts[e],n.pts[o],n.pts[f])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(a,e){for(var n=0;n<this.startIndex.length-1;n++)for(var o=0;o<a.startIndex.length-1;o++)this.computeIntersectsForChain(n,a,o,e)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var e=new Wu;this.startIndex=e.getChainStartIndices(this.pts)}}])}(),Fr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getDepth",value:function(e,n){return this._depth[e][n]}},{key:"setDepth",value:function(e,n,o){this._depth[e][n]=o}},{key:"isNull",value:function(){if(arguments.length===0){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(this._depth[e][n]!==a.NULL_VALUE)return!1;return!0}if(arguments.length===1){var o=arguments[0];return this._depth[o][1]===a.NULL_VALUE}if(arguments.length===2){var f=arguments[0],m=arguments[1];return this._depth[f][m]===a.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var n=this._depth[e][1];this._depth[e][2]<n&&(n=this._depth[e][2]),n<0&&(n=0);for(var o=1;o<3;o++){var f=0;this._depth[e][o]>n&&(f=1),this._depth[e][o]=f}}}},{key:"getDelta",value:function(e){return this._depth[e][C.RIGHT]-this._depth[e][C.LEFT]}},{key:"getLocation",value:function(e,n){return this._depth[e][n]<=0?T.EXTERIOR:T.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var e=arguments[0],n=0;n<2;n++)for(var o=1;o<3;o++){var f=e.getLocation(n,o);f!==T.EXTERIOR&&f!==T.INTERIOR||(this.isNull(n,o)?this._depth[n][o]=a.depthAtLocation(f):this._depth[n][o]+=a.depthAtLocation(f))}else if(arguments.length===3){var m=arguments[0],y=arguments[1];arguments[2]===T.INTERIOR&&this._depth[m][y]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=a.NULL_VALUE}},{key:"depthAtLocation",value:function(e){return e===T.EXTERIOR?0:e===T.INTERIOR?1:a.NULL_VALUE}}])}();Fr.NULL_VALUE=-1;var Ta=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var n=new Array(2).fill(null);return n[0]=this.pts[0],n[1]=this.pts[1],new e(n,ln.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(n){this._isIsolated=n}},{key:"setName",value:function(n){this._name=n}},{key:"equals",value:function(n){if(!(n instanceof e))return!1;var o=n;if(this.pts.length!==o.pts.length)return!1;for(var f=!0,m=!0,y=this.pts.length,b=0;b<this.pts.length;b++)if(this.pts[b].equals2D(o.pts[b])||(f=!1),this.pts[b].equals2D(o.pts[--y])||(m=!1),!f&&!m)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var n=arguments[0];return this.pts[n]}}},{key:"print",value:function(n){n.print("edge "+this._name+": "),n.print("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&n.print(","),n.print(this.pts[o].x+" "+this.pts[o].y);n.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(n){e.updateIM(this._label,n)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(n){n.print("edge "+this._name+": ");for(var o=this.pts.length-1;o>=0;o--)n.print(this.pts[o]+" ");n.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new gi(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new gt;for(var n=0;n<this.pts.length;n++)this._env.expandToInclude(this.pts[n])}return this._env}},{key:"addIntersection",value:function(n,o,f,m){var y=new F(n.getIntersection(m)),b=o,S=n.getEdgeDistance(f,m),O=b+1;if(O<this.pts.length){var $=this.pts[O];y.equals2D($)&&(b=O,S=0)}this.eiList.add(y,b,S)}},{key:"toString",value:function(){var n=new is;n.append("edge "+this._name+": "),n.append("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&n.append(","),n.append(this.pts[o].x+" "+this.pts[o].y);return n.append(")  "+this._label+" "+this._depthDelta),n.toString()}},{key:"isPointwiseEqual",value:function(n){if(this.pts.length!==n.pts.length)return!1;for(var o=0;o<this.pts.length;o++)if(!this.pts[o].equals2D(n.pts[o]))return!1;return!0}},{key:"setDepthDelta",value:function(n){this._depthDelta=n}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(n,o,f){for(var m=0;m<n.getIntersectionNum();m++)this.addIntersection(n,o,f,m)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Dr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Fr,this._depthDelta=0,arguments.length===1){var n=arguments[0];e.constructor_.call(this,n,null)}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.pts=o,this._label=f}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof ba&&arguments[0]instanceof ln))return M(e,"updateIM",this).apply(this,arguments);var n=arguments[0],o=arguments[1];o.setAtLeastIfValid(n.getLocation(0,C.ON),n.getLocation(1,C.ON),1),n.isArea()&&(o.setAtLeastIfValid(n.getLocation(0,C.LEFT),n.getLocation(1,C.LEFT),2),o.setAtLeastIfValid(n.getLocation(0,C.RIGHT),n.getLocation(1,C.RIGHT),2))}}])}(Le),_s=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(e){var n=this._edgeList.findEqualEdge(e);if(n!==null){var o=n.getLabel(),f=e.getLabel();n.isPointwiseEqual(e)||(f=new ln(e.getLabel())).flip(),o.merge(f);var m=a.depthDelta(f),y=n.getDepthDelta()+m;n.setDepthDelta(y)}else this._edgeList.add(e),e.setDepthDelta(a.depthDelta(e.getLabel()))}},{key:"buildSubgraphs",value:function(e,n){for(var o=new St,f=e.iterator();f.hasNext();){var m=f.next(),y=m.getRightmostCoordinate(),b=new mn(o).getDepth(y);m.computeDepth(b),m.findResultEdges(),o.add(m),n.add(m.getDirectedEdges(),m.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var n=new St,o=e.getNodes().iterator();o.hasNext();){var f=o.next();if(!f.isVisited()){var m=new ui;m.create(f),n.add(m)}}return Mi.sort(n,Mi.reverseOrder()),n}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(this._workingNoder!==null)return this._workingNoder;var n=new go,o=new ti;return o.setPrecisionModel(e),n.setSegmentIntersector(new sr(o)),n}},{key:"buffer",value:function(e,n){var o=this._workingPrecisionModel;o===null&&(o=e.getPrecisionModel()),this._geomFact=e.getFactory();var f=new Ar(o,this._bufParams),m=new Lo(e,n,f).getCurves();if(m.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(m,o),this._graph=new cs(new rr),this._graph.addEdges(this._edgeList.getEdges());var y=this.createSubgraphs(this._graph),b=new zu(this._geomFact);this.buildSubgraphs(y,b);var S=b.getPolygons();return S.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(S)}},{key:"computeNodedEdges",value:function(e,n){var o=this.getNoder(n);o.computeNodes(e);for(var f=o.getNodedSubstrings().iterator();f.hasNext();){var m=f.next(),y=m.getCoordinates();if(y.length!==2||!y[0].equals2D(y[1])){var b=m.getData(),S=new Ta(m.getCoordinates(),new ln(b));this.insertUniqueEdge(S)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ni;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var n=e.getLocation(0,C.LEFT),o=e.getLocation(0,C.RIGHT);return n===T.INTERIOR&&o===T.EXTERIOR?1:n===T.EXTERIOR&&o===T.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var n=new Bn,o=new St;e.hasNext();){var f=e.next(),m=n.createLineString(f.getCoordinates());o.add(m)}return n.buildGeometry(o)}}])}(),Xu=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"rescale",value:function(){if(q(arguments[0],D))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],f=0;f<o.length;f++)o[f].x=o[f].x/this._scaleFactor+this._offsetX,o[f].y=o[f].y/this._scaleFactor+this._offsetY;o.length===2&&o[0].equals2D(o[1])&&wn.out.println(o)}}},{key:"scale",value:function(){if(q(arguments[0],D)){for(var e=arguments[0],n=new St(e.size()),o=e.iterator();o.hasNext();){var f=o.next();n.add(new ei(this.scale(f.getCoordinates()),f.getData()))}return n}if(arguments[0]instanceof Array){for(var m=arguments[0],y=new Array(m.length).fill(null),b=0;b<m.length;b++)y[b]=new F(Math.round((m[b].x-this._offsetX)*this._scaleFactor),Math.round((m[b].y-this._offsetY)*this._scaleFactor),m[b].getZ());return De.removeRepeatedPoints(y)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var n=e;this._isScaled&&(n=this.scale(e)),this._noder.computeNodes(n)}},{key:"interfaces_",get:function(){return[fo]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],n=arguments[1];a.constructor_.call(this,e,n,0,0)}else if(arguments.length===4){var o=arguments[0],f=arguments[1];this._noder=o,this._scaleFactor=f,this._isScaled=!this.isIntegerPrecision()}}}])}(),$n=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next().getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(arguments.length===2){for(var o=arguments[0],f=arguments[1].iterator();f.hasNext();)for(var m=f.next().getCoordinates(),y=1;y<m.length-1;y++)if(m[y].equals(o))throw new Gt("found endpt/interior pt intersection at index "+y+" :pt "+o)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();)for(var n=e.next(),o=this._segStrings.iterator();o.hasNext();){var f=o.next();this.checkInteriorIntersections(n,f)}else if(arguments.length===2)for(var m=arguments[0],y=arguments[1],b=m.getCoordinates(),S=y.getCoordinates(),O=0;O<b.length-1;O++)for(var $=0;$<S.length-1;$++)this.checkInteriorIntersections(m,O,y,$);else if(arguments.length===4){var K=arguments[0],ut=arguments[1],Et=arguments[2],Ct=arguments[3];if(K===Et&&ut===Ct)return null;var Dt=K.getCoordinates()[ut],ae=K.getCoordinates()[ut+1],te=Et.getCoordinates()[Ct],Ee=Et.getCoordinates()[Ct+1];if(this._li.computeIntersection(Dt,ae,te,Ee),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Dt,ae)||this.hasInteriorIntersection(this._li,te,Ee)))throw new Gt("found non-noded intersection at "+Dt+"-"+ae+" and "+te+"-"+Ee)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next();this.checkCollapses(n)}else if(arguments.length===1)for(var o=arguments[0].getCoordinates(),f=0;f<o.length-2;f++)this.checkCollapse(o[f],o[f+1],o[f+2])}},{key:"hasInteriorIntersection",value:function(e,n,o){for(var f=0;f<e.getIntersectionNum();f++){var m=e.getIntersection(f);if(!m.equals(n)&&!m.equals(o))return!0}return!1}},{key:"checkCollapse",value:function(e,n,o){if(e.equals(o))throw new Gt("found non-noded collapse at "+a.fact.createLineString([e,n,o]))}}],[{key:"constructor_",value:function(){this._li=new ti,this._segStrings=null;var e=arguments[0];this._segStrings=e}}])}();$n.fact=new Bn;var Eo=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"intersectsScaled",value:function(e,n){var o=Math.min(e.x,n.x),f=Math.max(e.x,n.x),m=Math.min(e.y,n.y),y=Math.max(e.y,n.y),b=this._maxx<o||this._minx>f||this._maxy<m||this._miny>y;if(b)return!1;var S=this.intersectsToleranceSquare(e,n);return kt.isTrue(!(b&&S),"Found bad envelope test"),S}},{key:"initCorners",value:function(e){var n=.5;this._minx=e.x-n,this._maxx=e.x+n,this._miny=e.y-n,this._maxy=e.y+n,this._corner[0]=new F(this._maxx,this._maxy),this._corner[1]=new F(this._minx,this._maxy),this._corner[2]=new F(this._minx,this._miny),this._corner[3]=new F(this._maxx,this._miny)}},{key:"intersects",value:function(e,n){return this._scaleFactor===1?this.intersectsScaled(e,n):(this.copyScaled(e,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,n){n.x=this.scale(e.x),n.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var e=a.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new gt(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,n){return this._li.computeIntersection(e,n,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(e,n){var o=!1,f=!1;return this._li.computeIntersection(e,n,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,n,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(e,n,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(f=!0),this._li.computeIntersection(e,n,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!o||!f)||!!e.equals(this._pt)||!!n.equals(this._pt))))}},{key:"addSnappedNode",value:function(e,n){var o=e.getCoordinate(n),f=e.getCoordinate(n+1);return!!this.intersects(o,f)&&(e.addIntersection(this.getCoordinate(),n),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],n=arguments[1],o=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=n,this._li=o,n<=0)throw new X("Scale factor must be non-zero");n!==1&&(this._pt=new F(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new F,this._p1Scaled=new F),this.initCorners(this._pt)}}])}();Eo.SAFE_ENV_EXPANSION_FACTOR=.75;var or=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var a=arguments[1];arguments[0].getLineSegment(a,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new _n}}])}(),Ia=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var a=arguments[0];return this.snap(a,null,-1)}if(arguments.length===3){var e=arguments[0],n=arguments[1],o=arguments[2],f=e.getSafeEnvelope(),m=new Zn(e,n,o);return this._index.query(f,new(function(){return _(function y(){s(this,y)},[{key:"interfaces_",get:function(){return[pa]}},{key:"visitItem",value:function(y){y.select(f,m)}}])}())),m.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var a=arguments[0];this._index=a}}])}(),Zn=function(a){function e(){var n;return s(this,e),n=c(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof ho))return M(e,"select",this,1).apply(this,arguments);var n=arguments[1],o=arguments[0].getContext();if(this._parentEdge===o&&(n===this._hotPixelVertexIndex||n+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(o,n)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],o=arguments[1],f=arguments[2];this._hotPixel=n,this._parentEdge=o,this._hotPixelVertexIndex=f}}])}(or);Ia.HotPixelSnapAction=Zn;var ms=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(a,e,n,o){if(a===n&&e===o)return null;var f=a.getCoordinates()[e],m=a.getCoordinates()[e+1],y=n.getCoordinates()[o],b=n.getCoordinates()[o+1];if(this._li.computeIntersection(f,m,y,b),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var S=0;S<this._li.getIntersectionNum();S++)this._interiorIntersections.add(this._li.getIntersection(S));a.addIntersections(this._li,e,0),n.addIntersections(this._li,o,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[wa]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var a=arguments[0];this._li=a,this._interiorIntersections=new St}}])}(),Sa=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(a){var e=ei.getNodedSubstrings(a),n=new $n(e);try{n.checkValid()}catch(o){if(!(o instanceof z))throw o;o.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return ei.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(a,e){var n=this.findInteriorIntersections(a,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(a)}},{key:"findInteriorIntersections",value:function(a,e){var n=new ms(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(a),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(q(arguments[0],D))for(var a=arguments[0].iterator();a.hasNext();){var e=a.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof ei)for(var n=arguments[0],o=n.getCoordinates(),f=0;f<o.length;f++){var m=new Eo(o[f],this._scaleFactor,this._li);this._pointSnapper.snap(m,n,f)&&n.addIntersection(o[f],f)}}},{key:"computeNodes",value:function(a){this._nodedSegStrings=a,this._noder=new go,this._pointSnapper=new Ia(this._noder.getIndex()),this.snapRound(a,this._li)}},{key:"computeIntersectionSnaps",value:function(a){for(var e=a.iterator();e.hasNext();){var n=e.next(),o=new Eo(n,this._scaleFactor,this._li);this._pointSnapper.snap(o)}}},{key:"interfaces_",get:function(){return[fo]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var a=arguments[0];this._pm=a,this._li=new ti,this._li.setPrecisionModel(a),this._scaleFactor=a.getScale()}}])}(),_i=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"bufferFixedPrecision",value:function(e){var n=new Xu(new Sa(new en(1)),e.getScale()),o=new _s(this._bufParams);o.setWorkingPrecisionModel(e),o.setNoder(n),this._resultGeometry=o.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var e=a.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(m){if(!(m instanceof Ye))throw m;this._saveException=m}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var n=arguments[0],o=a.precisionScaleFactor(this._argGeom,this._distance,n),f=new en(o);this.bufferFixedPrecision(f)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===en.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new _s(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(n){if(!(n instanceof Gt))throw n;this._saveException=n}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new G,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this._argGeom=n,this._bufParams=o}}},{key:"bufferOp",value:function(){if(arguments.length===2){var e=arguments[1];return new a(arguments[0]).getResultGeometry(e)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof _t&&typeof arguments[1]=="number"){var n=arguments[1],o=arguments[2],f=new a(arguments[0]);return f.setQuadrantSegments(o),f.getResultGeometry(n)}if(arguments[2]instanceof G&&arguments[0]instanceof _t&&typeof arguments[1]=="number"){var m=arguments[1];return new a(arguments[0],arguments[2]).getResultGeometry(m)}}else if(arguments.length===4){var y=arguments[1],b=arguments[2],S=arguments[3],O=new a(arguments[0]);return O.setQuadrantSegments(b),O.setEndCapStyle(S),O.getResultGeometry(y)}}},{key:"precisionScaleFactor",value:function(e,n,o){var f=e.getEnvelopeInternal(),m=Ki.max(Math.abs(f.getMaxX()),Math.abs(f.getMaxY()),Math.abs(f.getMinX()),Math.abs(f.getMinY()))+2*(n>0?n:0),y=o-Math.trunc(Math.log(m)/Math.log(10)+1);return Math.pow(10,y)}}])}();_i.CAP_ROUND=G.CAP_ROUND,_i.CAP_BUTT=G.CAP_FLAT,_i.CAP_FLAT=G.CAP_FLAT,_i.CAP_SQUARE=G.CAP_SQUARE,_i.MAX_PRECISION_DIGITS=12;var ps=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],vs=function(){return _(function a(e){s(this,a),this.geometryFactory=e||new Bn},[{key:"read",value:function(a){var e,n=(e=typeof a=="string"?JSON.parse(a):a).type;if(!nn[n])throw new Error("Unknown GeoJSON type: "+e.type);return ps.indexOf(n)!==-1?nn[n].call(this,e.coordinates):n==="GeometryCollection"?nn[n].call(this,e.geometries):nn[n].call(this,e)}},{key:"write",value:function(a){var e=a.getGeometryType();if(!rn[e])throw new Error("Geometry is not supported");return rn[e].call(this,a)}}])}(),nn={Feature:function(a){var e={};for(var n in a)e[n]=a[n];if(a.geometry){var o=a.geometry.type;if(!nn[o])throw new Error("Unknown GeoJSON type: "+a.type);e.geometry=this.read(a.geometry)}return a.bbox&&(e.bbox=nn.bbox.call(this,a.bbox)),e},FeatureCollection:function(a){var e={};if(a.features){e.features=[];for(var n=0;n<a.features.length;++n)e.features.push(this.read(a.features[n]))}return a.bbox&&(e.bbox=this.parse.bbox.call(this,a.bbox)),e},coordinates:function(a){for(var e=[],n=0;n<a.length;++n){var o=a[n];e.push(h(F,U(o)))}return e},bbox:function(a){return this.geometryFactory.createLinearRing([new F(a[0],a[1]),new F(a[2],a[1]),new F(a[2],a[3]),new F(a[0],a[3]),new F(a[0],a[1])])},Point:function(a){var e=h(F,U(a));return this.geometryFactory.createPoint(e)},MultiPoint:function(a){for(var e=[],n=0;n<a.length;++n)e.push(nn.Point.call(this,a[n]));return this.geometryFactory.createMultiPoint(e)},LineString:function(a){var e=nn.coordinates.call(this,a);return this.geometryFactory.createLineString(e)},MultiLineString:function(a){for(var e=[],n=0;n<a.length;++n)e.push(nn.LineString.call(this,a[n]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(a){for(var e=nn.coordinates.call(this,a[0]),n=this.geometryFactory.createLinearRing(e),o=[],f=1;f<a.length;++f){var m=a[f],y=nn.coordinates.call(this,m),b=this.geometryFactory.createLinearRing(y);o.push(b)}return this.geometryFactory.createPolygon(n,o)},MultiPolygon:function(a){for(var e=[],n=0;n<a.length;++n){var o=a[n];e.push(nn.Polygon.call(this,o))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(a){for(var e=[],n=0;n<a.length;++n){var o=a[n];e.push(this.read(o))}return this.geometryFactory.createGeometryCollection(e)}},rn={coordinate:function(a){var e=[a.x,a.y];return a.z&&e.push(a.z),a.m&&e.push(a.m),e},Point:function(a){return{type:"Point",coordinates:rn.coordinate.call(this,a.getCoordinate())}},MultiPoint:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=rn.Point.call(this,o);e.push(f.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(a){for(var e=[],n=a.getCoordinates(),o=0;o<n.length;++o){var f=n[o];e.push(rn.coordinate.call(this,f))}return{type:"LineString",coordinates:e}},MultiLineString:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=rn.LineString.call(this,o);e.push(f.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(a){var e=[],n=rn.LineString.call(this,a._shell);e.push(n.coordinates);for(var o=0;o<a._holes.length;++o){var f=a._holes[o],m=rn.LineString.call(this,f);e.push(m.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=rn.Polygon.call(this,o);e.push(f.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=o.getGeometryType();e.push(rn[f].call(this,o))}return{type:"GeometryCollection",geometries:e}}};return{BufferOp:_i,GeoJSONReader:function(){return _(function a(e){s(this,a),this.parser=new vs(e||new Bn)},[{key:"read",value:function(a){return this.parser.read(a)}}])}(),GeoJSONWriter:function(){return _(function a(){s(this,a),this.parser=new vs(this.geometryFactory)},[{key:"write",value:function(a){return this.parser.write(a)}}])}()}})}(Ja)),Ja.exports}var Xy=Wy();const jy=xg(Xy);function Er(){return new du}function du(){this.reset()}du.prototype={constructor:du,reset:function(){this.s=this.t=0},add:function(t){Zh(Da,t,this.t),Zh(this,Da.s,this.s),this.s?this.t+=Da.t:this.s=Da.t},valueOf:function(){return this.s}};var Da=new du;function Zh(t,r,u){var c=t.s=r+u,s=c-r,h=c-s;t.t=r-h+(u-s)}var Ie=1e-6,fe=Math.PI,Ei=fe/2,Vh=fe/4,Ti=fe*2,lr=180/fe,Wn=fe/180,Qe=Math.abs,Ky=Math.atan,Bs=Math.atan2,Re=Math.cos,Ae=Math.sin,Ws=Math.sqrt;function wg(t){return t>1?0:t<-1?fe:Math.acos(t)}function jr(t){return t>1?Ei:t<-1?-Ei:Math.asin(t)}function Co(){}function gu(t,r){t&&Wh.hasOwnProperty(t.type)&&Wh[t.type](t,r)}var Yh={Feature:function(t,r){gu(t.geometry,r)},FeatureCollection:function(t,r){for(var u=t.features,c=-1,s=u.length;++c<s;)gu(u[c].geometry,r)}},Wh={Sphere:function(t,r){r.sphere()},Point:function(t,r){t=t.coordinates,r.point(t[0],t[1],t[2])},MultiPoint:function(t,r){for(var u=t.coordinates,c=-1,s=u.length;++c<s;)t=u[c],r.point(t[0],t[1],t[2])},LineString:function(t,r){Fl(t.coordinates,r,0)},MultiLineString:function(t,r){for(var u=t.coordinates,c=-1,s=u.length;++c<s;)Fl(u[c],r,0)},Polygon:function(t,r){Xh(t.coordinates,r)},MultiPolygon:function(t,r){for(var u=t.coordinates,c=-1,s=u.length;++c<s;)Xh(u[c],r)},GeometryCollection:function(t,r){for(var u=t.geometries,c=-1,s=u.length;++c<s;)gu(u[c],r)}};function Fl(t,r,u){var c=-1,s=t.length-u,h;for(r.lineStart();++c<s;)h=t[c],r.point(h[0],h[1],h[2]);r.lineEnd()}function Xh(t,r){var u=-1,c=t.length;for(r.polygonStart();++u<c;)Fl(t[u],r,1);r.polygonEnd()}function Jy(t,r){t&&Yh.hasOwnProperty(t.type)?Yh[t.type](t,r):gu(t,r)}Er();Er();function zl(t){return[Bs(t[1],t[0]),jr(t[2])]}function Us(t){var r=t[0],u=t[1],c=Re(u);return[c*Re(r),c*Ae(r),Ae(u)]}function Fa(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function _u(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]}function hl(t,r){t[0]+=r[0],t[1]+=r[1],t[2]+=r[2]}function za(t,r){return[t[0]*r,t[1]*r,t[2]*r]}function Bl(t){var r=Ws(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=r,t[1]/=r,t[2]/=r}Er();function bg(t,r){function u(c,s){return c=t(c,s),r(c[0],c[1])}return t.invert&&r.invert&&(u.invert=function(c,s){return c=r.invert(c,s),c&&t.invert(c[0],c[1])}),u}function Ul(t,r){return[t>fe?t-Ti:t<-fe?t+Ti:t,r]}Ul.invert=Ul;function Qy(t,r,u){return(t%=Ti)?r||u?bg(Kh(t),Jh(r,u)):Kh(t):r||u?Jh(r,u):Ul}function jh(t){return function(r,u){return r+=t,[r>fe?r-Ti:r<-fe?r+Ti:r,u]}}function Kh(t){var r=jh(t);return r.invert=jh(-t),r}function Jh(t,r){var u=Re(t),c=Ae(t),s=Re(r),h=Ae(r);function g(_,v){var x=Re(v),E=Re(_)*x,k=Ae(_)*x,I=Ae(v),P=I*u+E*c;return[Bs(k*s-P*h,E*u-I*c),jr(P*s+k*h)]}return g.invert=function(_,v){var x=Re(v),E=Re(_)*x,k=Ae(_)*x,I=Ae(v),P=I*s-k*h;return[Bs(k*s+I*h,E*u+P*c),jr(P*u-E*c)]},g}function t0(t,r,u,c,s,h){if(u){var g=Re(r),_=Ae(r),v=c*u;s==null?(s=r+c*Ti,h=r-v/2):(s=Qh(g,s),h=Qh(g,h),(c>0?s<h:s>h)&&(s+=c*Ti));for(var x,E=s;c>0?E>h:E<h;E-=v)x=zl([g,-_*Re(E),-_*Ae(E)]),t.point(x[0],x[1])}}function Qh(t,r){r=Us(r),r[0]-=t,Bl(r);var u=wg(-r[1]);return((-r[2]<0?-u:u)+Ti-Ie)%Ti}function Tg(){var t=[],r;return{point:function(u,c){r.push([u,c])},lineStart:function(){t.push(r=[])},lineEnd:Co,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var u=t;return t=[],r=null,u}}}function e0(t,r,u,c,s,h){var g=t[0],_=t[1],v=r[0],x=r[1],E=0,k=1,I=v-g,P=x-_,M;if(M=u-g,!(!I&&M>0)){if(M/=I,I<0){if(M<E)return;M<k&&(k=M)}else if(I>0){if(M>k)return;M>E&&(E=M)}if(M=s-g,!(!I&&M<0)){if(M/=I,I<0){if(M>k)return;M>E&&(E=M)}else if(I>0){if(M<E)return;M<k&&(k=M)}if(M=c-_,!(!P&&M>0)){if(M/=P,P<0){if(M<E)return;M<k&&(k=M)}else if(P>0){if(M>k)return;M>E&&(E=M)}if(M=h-_,!(!P&&M<0)){if(M/=P,P<0){if(M>k)return;M>E&&(E=M)}else if(P>0){if(M<E)return;M<k&&(k=M)}return E>0&&(t[0]=g+E*I,t[1]=_+E*P),k<1&&(r[0]=g+k*I,r[1]=_+k*P),!0}}}}}function Qa(t,r){return Qe(t[0]-r[0])<Ie&&Qe(t[1]-r[1])<Ie}function Ba(t,r,u,c){this.x=t,this.z=r,this.o=u,this.e=c,this.v=!1,this.n=this.p=null}function Ig(t,r,u,c,s){var h=[],g=[],_,v;if(t.forEach(function(M){if(!((U=M.length-1)<=0)){var U,W=M[0],A=M[U],B;if(Qa(W,A)){for(s.lineStart(),_=0;_<U;++_)s.point((W=M[_])[0],W[1]);s.lineEnd();return}h.push(B=new Ba(W,M,null,!0)),g.push(B.o=new Ba(W,null,B,!1)),h.push(B=new Ba(A,M,null,!1)),g.push(B.o=new Ba(A,null,B,!0))}}),!!h.length){for(g.sort(r),tf(h),tf(g),_=0,v=g.length;_<v;++_)g[_].e=u=!u;for(var x=h[0],E,k;;){for(var I=x,P=!0;I.v;)if((I=I.n)===x)return;E=I.z,s.lineStart();do{if(I.v=I.o.v=!0,I.e){if(P)for(_=0,v=E.length;_<v;++_)s.point((k=E[_])[0],k[1]);else c(I.x,I.n.x,1,s);I=I.n}else{if(P)for(E=I.p.z,_=E.length-1;_>=0;--_)s.point((k=E[_])[0],k[1]);else c(I.x,I.p.x,-1,s);I=I.p}I=I.o,E=I.z,P=!P}while(!I.v);s.lineEnd()}}}function tf(t){if(r=t.length){for(var r,u=0,c=t[0],s;++u<r;)c.n=s=t[u],s.p=c,c=s;c.n=s=t[0],s.p=c}}function Sg(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function n0(t){return t.length===1&&(t=i0(t)),{left:function(r,u,c,s){for(c==null&&(c=0),s==null&&(s=r.length);c<s;){var h=c+s>>>1;t(r[h],u)<0?c=h+1:s=h}return c},right:function(r,u,c,s){for(c==null&&(c=0),s==null&&(s=r.length);c<s;){var h=c+s>>>1;t(r[h],u)>0?s=h:c=h+1}return c}}}function i0(t){return function(r,u){return Sg(t(r),u)}}n0(Sg);function Ng(t){for(var r=t.length,u,c=-1,s=0,h,g;++c<r;)s+=t[c].length;for(h=new Array(s);--r>=0;)for(g=t[r],u=g.length;--u>=0;)h[--s]=g[u];return h}var Po=1e9,Ua=-Po;function r0(t,r,u,c){function s(x,E){return t<=x&&x<=u&&r<=E&&E<=c}function h(x,E,k,I){var P=0,M=0;if(x==null||(P=g(x,k))!==(M=g(E,k))||v(x,E)<0^k>0)do I.point(P===0||P===3?t:u,P>1?c:r);while((P=(P+k+4)%4)!==M);else I.point(E[0],E[1])}function g(x,E){return Qe(x[0]-t)<Ie?E>0?0:3:Qe(x[0]-u)<Ie?E>0?2:1:Qe(x[1]-r)<Ie?E>0?1:0:E>0?3:2}function _(x,E){return v(x.x,E.x)}function v(x,E){var k=g(x,1),I=g(E,1);return k!==I?k-I:k===0?E[1]-x[1]:k===1?x[0]-E[0]:k===2?x[1]-E[1]:E[0]-x[0]}return function(x){var E=x,k=Tg(),I,P,M,U,W,A,B,G,z,X,V,Z={point:ht,lineStart:Tt,lineEnd:Kt,polygonStart:Ot,polygonEnd:Nt};function ht(Ut,It){s(Ut,It)&&E.point(Ut,It)}function ct(){for(var Ut=0,It=0,Pt=P.length;It<Pt;++It)for(var ft=P[It],Qt=1,st=ft.length,Ft=ft[0],Gt,ne,kt=Ft[0],$t=Ft[1];Qt<st;++Qt)Gt=kt,ne=$t,Ft=ft[Qt],kt=Ft[0],$t=Ft[1],ne<=c?$t>c&&(kt-Gt)*(c-ne)>($t-ne)*(t-Gt)&&++Ut:$t<=c&&(kt-Gt)*(c-ne)<($t-ne)*(t-Gt)&&--Ut;return Ut}function Ot(){E=k,I=[],P=[],V=!0}function Nt(){var Ut=ct(),It=V&&Ut,Pt=(I=Ng(I)).length;(It||Pt)&&(x.polygonStart(),It&&(x.lineStart(),h(null,null,1,x),x.lineEnd()),Pt&&Ig(I,_,Ut,h,x),x.polygonEnd()),E=x,I=P=M=null}function Tt(){Z.point=dt,P&&P.push(M=[]),X=!0,z=!1,B=G=NaN}function Kt(){I&&(dt(U,W),A&&z&&k.rejoin(),I.push(k.result())),Z.point=ht,z&&E.lineEnd()}function dt(Ut,It){var Pt=s(Ut,It);if(P&&M.push([Ut,It]),X)U=Ut,W=It,A=Pt,X=!1,Pt&&(E.lineStart(),E.point(Ut,It));else if(Pt&&z)E.point(Ut,It);else{var ft=[B=Math.max(Ua,Math.min(Po,B)),G=Math.max(Ua,Math.min(Po,G))],Qt=[Ut=Math.max(Ua,Math.min(Po,Ut)),It=Math.max(Ua,Math.min(Po,It))];e0(ft,Qt,t,r,u,c)?(z||(E.lineStart(),E.point(ft[0],ft[1])),E.point(Qt[0],Qt[1]),Pt||E.lineEnd(),V=!1):Pt&&(E.lineStart(),E.point(Ut,It),V=!1)}B=Ut,G=It,z=Pt}return Z}}var fl=Er();function s0(t,r){var u=r[0],c=r[1],s=[Ae(u),-Re(u),0],h=0,g=0;fl.reset();for(var _=0,v=t.length;_<v;++_)if(E=(x=t[_]).length)for(var x,E,k=x[E-1],I=k[0],P=k[1]/2+Vh,M=Ae(P),U=Re(P),W=0;W<E;++W,I=B,M=z,U=X,k=A){var A=x[W],B=A[0],G=A[1]/2+Vh,z=Ae(G),X=Re(G),V=B-I,Z=V>=0?1:-1,ht=Z*V,ct=ht>fe,Ot=M*z;if(fl.add(Bs(Ot*Z*Ae(ht),U*X+Ot*Re(ht))),h+=ct?V+Z*Ti:V,ct^I>=u^B>=u){var Nt=_u(Us(k),Us(A));Bl(Nt);var Tt=_u(s,Nt);Bl(Tt);var Kt=(ct^V>=0?-1:1)*jr(Tt[2]);(c>Kt||c===Kt&&(Nt[0]||Nt[1]))&&(g+=ct^V>=0?1:-1)}}return(h<-Ie||h<Ie&&fl<-Ie)^g&1}Er();function ef(t){return t}Er();Er();var Gs=1/0,mu=Gs,Jo=-Gs,pu=Jo,nf={point:o0,lineStart:Co,lineEnd:Co,polygonStart:Co,polygonEnd:Co,result:function(){var t=[[Gs,mu],[Jo,pu]];return Jo=pu=-(mu=Gs=1/0),t}};function o0(t,r){t<Gs&&(Gs=t),t>Jo&&(Jo=t),r<mu&&(mu=r),r>pu&&(pu=r)}Er();function Cg(t,r,u,c){return function(s,h){var g=r(h),_=s.invert(c[0],c[1]),v=Tg(),x=r(v),E=!1,k,I,P,M={point:U,lineStart:A,lineEnd:B,polygonStart:function(){M.point=G,M.lineStart=z,M.lineEnd=X,I=[],k=[]},polygonEnd:function(){M.point=U,M.lineStart=A,M.lineEnd=B,I=Ng(I);var V=s0(k,_);I.length?(E||(h.polygonStart(),E=!0),Ig(I,u0,V,u,h)):V&&(E||(h.polygonStart(),E=!0),h.lineStart(),u(null,null,1,h),h.lineEnd()),E&&(h.polygonEnd(),E=!1),I=k=null},sphere:function(){h.polygonStart(),h.lineStart(),u(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function U(V,Z){var ht=s(V,Z);t(V=ht[0],Z=ht[1])&&h.point(V,Z)}function W(V,Z){var ht=s(V,Z);g.point(ht[0],ht[1])}function A(){M.point=W,g.lineStart()}function B(){M.point=U,g.lineEnd()}function G(V,Z){P.push([V,Z]);var ht=s(V,Z);x.point(ht[0],ht[1])}function z(){x.lineStart(),P=[]}function X(){G(P[0][0],P[0][1]),x.lineEnd();var V=x.clean(),Z=v.result(),ht,ct=Z.length,Ot,Nt,Tt;if(P.pop(),k.push(P),P=null,!!ct){if(V&1){if(Nt=Z[0],(Ot=Nt.length-1)>0){for(E||(h.polygonStart(),E=!0),h.lineStart(),ht=0;ht<Ot;++ht)h.point((Tt=Nt[ht])[0],Tt[1]);h.lineEnd()}return}ct>1&&V&2&&Z.push(Z.pop().concat(Z.shift())),I.push(Z.filter(a0))}}return M}}function a0(t){return t.length>1}function u0(t,r){return((t=t.x)[0]<0?t[1]-Ei-Ie:Ei-t[1])-((r=r.x)[0]<0?r[1]-Ei-Ie:Ei-r[1])}const rf=Cg(function(){return!0},l0,h0,[-fe,-Ei]);function l0(t){var r=NaN,u=NaN,c=NaN,s;return{lineStart:function(){t.lineStart(),s=1},point:function(h,g){var _=h>0?fe:-fe,v=Qe(h-r);Qe(v-fe)<Ie?(t.point(r,u=(u+g)/2>0?Ei:-Ei),t.point(c,u),t.lineEnd(),t.lineStart(),t.point(_,u),t.point(h,u),s=0):c!==_&&v>=fe&&(Qe(r-c)<Ie&&(r-=c*Ie),Qe(h-_)<Ie&&(h-=_*Ie),u=c0(r,u,h,g),t.point(c,u),t.lineEnd(),t.lineStart(),t.point(_,u),s=0),t.point(r=h,u=g),c=_},lineEnd:function(){t.lineEnd(),r=u=NaN},clean:function(){return 2-s}}}function c0(t,r,u,c){var s,h,g=Ae(t-u);return Qe(g)>Ie?Ky((Ae(r)*(h=Re(c))*Ae(u)-Ae(c)*(s=Re(r))*Ae(t))/(s*h*g)):(r+c)/2}function h0(t,r,u,c){var s;if(t==null)s=u*Ei,c.point(-fe,s),c.point(0,s),c.point(fe,s),c.point(fe,0),c.point(fe,-s),c.point(0,-s),c.point(-fe,-s),c.point(-fe,0),c.point(-fe,s);else if(Qe(t[0]-r[0])>Ie){var h=t[0]<r[0]?fe:-fe;s=u*h/2,c.point(-h,s),c.point(0,s),c.point(h,s)}else c.point(r[0],r[1])}function f0(t,r){var u=Re(t),c=u>0,s=Qe(u)>Ie;function h(E,k,I,P){t0(P,t,r,I,E,k)}function g(E,k){return Re(E)*Re(k)>u}function _(E){var k,I,P,M,U;return{lineStart:function(){M=P=!1,U=1},point:function(W,A){var B=[W,A],G,z=g(W,A),X=c?z?0:x(W,A):z?x(W+(W<0?fe:-fe),A):0;if(!k&&(M=P=z)&&E.lineStart(),z!==P&&(G=v(k,B),(!G||Qa(k,G)||Qa(B,G))&&(B[0]+=Ie,B[1]+=Ie,z=g(B[0],B[1]))),z!==P)U=0,z?(E.lineStart(),G=v(B,k),E.point(G[0],G[1])):(G=v(k,B),E.point(G[0],G[1]),E.lineEnd()),k=G;else if(s&&k&&c^z){var V;!(X&I)&&(V=v(B,k,!0))&&(U=0,c?(E.lineStart(),E.point(V[0][0],V[0][1]),E.point(V[1][0],V[1][1]),E.lineEnd()):(E.point(V[1][0],V[1][1]),E.lineEnd(),E.lineStart(),E.point(V[0][0],V[0][1])))}z&&(!k||!Qa(k,B))&&E.point(B[0],B[1]),k=B,P=z,I=X},lineEnd:function(){P&&E.lineEnd(),k=null},clean:function(){return U|(M&&P)<<1}}}function v(E,k,I){var P=Us(E),M=Us(k),U=[1,0,0],W=_u(P,M),A=Fa(W,W),B=W[0],G=A-B*B;if(!G)return!I&&E;var z=u*A/G,X=-u*B/G,V=_u(U,W),Z=za(U,z),ht=za(W,X);hl(Z,ht);var ct=V,Ot=Fa(Z,ct),Nt=Fa(ct,ct),Tt=Ot*Ot-Nt*(Fa(Z,Z)-1);if(!(Tt<0)){var Kt=Ws(Tt),dt=za(ct,(-Ot-Kt)/Nt);if(hl(dt,Z),dt=zl(dt),!I)return dt;var Ut=E[0],It=k[0],Pt=E[1],ft=k[1],Qt;It<Ut&&(Qt=Ut,Ut=It,It=Qt);var st=It-Ut,Ft=Qe(st-fe)<Ie,Gt=Ft||st<Ie;if(!Ft&&ft<Pt&&(Qt=Pt,Pt=ft,ft=Qt),Gt?Ft?Pt+ft>0^dt[1]<(Qe(dt[0]-Ut)<Ie?Pt:ft):Pt<=dt[1]&&dt[1]<=ft:st>fe^(Ut<=dt[0]&&dt[0]<=It)){var ne=za(ct,(-Ot+Kt)/Nt);return hl(ne,Z),[dt,zl(ne)]}}}function x(E,k){var I=c?t:fe-t,P=0;return E<-I?P|=1:E>I&&(P|=2),k<-I?P|=4:k>I&&(P|=8),P}return Cg(g,_,h,c?[0,-t]:[-fe,t-fe])}function Pg(t){return function(r){var u=new Gl;for(var c in t)u[c]=t[c];return u.stream=r,u}}function Gl(){}Gl.prototype={constructor:Gl,point:function(t,r){this.stream.point(t,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Mg(t,r,u){var c=r[1][0]-r[0][0],s=r[1][1]-r[0][1],h=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),h!=null&&t.clipExtent(null),Jy(u,t.stream(nf));var g=nf.result(),_=Math.min(c/(g[1][0]-g[0][0]),s/(g[1][1]-g[0][1])),v=+r[0][0]+(c-_*(g[1][0]+g[0][0]))/2,x=+r[0][1]+(s-_*(g[1][1]+g[0][1]))/2;return h!=null&&t.clipExtent(h),t.scale(_*150).translate([v,x])}function d0(t,r,u){return Mg(t,[[0,0],r],u)}var sf=16,g0=Re(30*Wn);function of(t,r){return+r?m0(t,r):_0(t)}function _0(t){return Pg({point:function(r,u){r=t(r,u),this.stream.point(r[0],r[1])}})}function m0(t,r){function u(c,s,h,g,_,v,x,E,k,I,P,M,U,W){var A=x-c,B=E-s,G=A*A+B*B;if(G>4*r&&U--){var z=g+I,X=_+P,V=v+M,Z=Ws(z*z+X*X+V*V),ht=jr(V/=Z),ct=Qe(Qe(V)-1)<Ie||Qe(h-k)<Ie?(h+k)/2:Bs(X,z),Ot=t(ct,ht),Nt=Ot[0],Tt=Ot[1],Kt=Nt-c,dt=Tt-s,Ut=B*Kt-A*dt;(Ut*Ut/G>r||Qe((A*Kt+B*dt)/G-.5)>.3||g*I+_*P+v*M<g0)&&(u(c,s,h,g,_,v,Nt,Tt,ct,z/=Z,X/=Z,V,U,W),W.point(Nt,Tt),u(Nt,Tt,ct,z,X,V,x,E,k,I,P,M,U,W))}}return function(c){var s,h,g,_,v,x,E,k,I,P,M,U,W={point:A,lineStart:B,lineEnd:z,polygonStart:function(){c.polygonStart(),W.lineStart=X},polygonEnd:function(){c.polygonEnd(),W.lineStart=B}};function A(ht,ct){ht=t(ht,ct),c.point(ht[0],ht[1])}function B(){k=NaN,W.point=G,c.lineStart()}function G(ht,ct){var Ot=Us([ht,ct]),Nt=t(ht,ct);u(k,I,E,P,M,U,k=Nt[0],I=Nt[1],E=ht,P=Ot[0],M=Ot[1],U=Ot[2],sf,c),c.point(k,I)}function z(){W.point=A,c.lineEnd()}function X(){B(),W.point=V,W.lineEnd=Z}function V(ht,ct){G(s=ht,ct),h=k,g=I,_=P,v=M,x=U,W.point=G}function Z(){u(k,I,E,P,M,U,h,g,s,_,v,x,sf,c),W.lineEnd=z,z()}return W}}var p0=Pg({point:function(t,r){this.stream.point(t*Wn,r*Wn)}});function v0(t){return y0(function(){return t})()}function y0(t){var r,u=150,c=480,s=250,h,g,_=0,v=0,x=0,E=0,k=0,I,P,M=null,U=rf,W=null,A,B,G,z=ef,X=.5,V=of(Nt,X),Z,ht;function ct(dt){return dt=P(dt[0]*Wn,dt[1]*Wn),[dt[0]*u+h,g-dt[1]*u]}function Ot(dt){return dt=P.invert((dt[0]-h)/u,(g-dt[1])/u),dt&&[dt[0]*lr,dt[1]*lr]}function Nt(dt,Ut){return dt=r(dt,Ut),[dt[0]*u+h,g-dt[1]*u]}ct.stream=function(dt){return Z&&ht===dt?Z:Z=p0(U(I,V(z(ht=dt))))},ct.clipAngle=function(dt){return arguments.length?(U=+dt?f0(M=dt*Wn,6*Wn):(M=null,rf),Kt()):M*lr},ct.clipExtent=function(dt){return arguments.length?(z=dt==null?(W=A=B=G=null,ef):r0(W=+dt[0][0],A=+dt[0][1],B=+dt[1][0],G=+dt[1][1]),Kt()):W==null?null:[[W,A],[B,G]]},ct.scale=function(dt){return arguments.length?(u=+dt,Tt()):u},ct.translate=function(dt){return arguments.length?(c=+dt[0],s=+dt[1],Tt()):[c,s]},ct.center=function(dt){return arguments.length?(_=dt[0]%360*Wn,v=dt[1]%360*Wn,Tt()):[_*lr,v*lr]},ct.rotate=function(dt){return arguments.length?(x=dt[0]%360*Wn,E=dt[1]%360*Wn,k=dt.length>2?dt[2]%360*Wn:0,Tt()):[x*lr,E*lr,k*lr]},ct.precision=function(dt){return arguments.length?(V=of(Nt,X=dt*dt),Kt()):Ws(X)},ct.fitExtent=function(dt,Ut){return Mg(ct,dt,Ut)},ct.fitSize=function(dt,Ut){return d0(ct,dt,Ut)};function Tt(){P=bg(I=Qy(x,E,k),r);var dt=r(_,v);return h=c-dt[0]*u,g=s+dt[1]*u,Kt()}function Kt(){return Z=ht=null,ct}return function(){return r=t.apply(this,arguments),ct.invert=r.invert&&Ot,Tt()}}function Og(t){return function(r,u){var c=Re(r),s=Re(u),h=t(c*s);return[h*s*Ae(r),h*Ae(u)]}}function Rg(t){return function(r,u){var c=Ws(r*r+u*u),s=t(c),h=Ae(s),g=Re(s);return[Bs(r*h,c*g),jr(c&&u*h/c)]}}var L0=Og(function(t){return Ws(2/(1+t))});L0.invert=Rg(function(t){return 2*jr(t/2)});var Ag=Og(function(t){return(t=wg(t))&&t/Ae(t)});Ag.invert=Rg(function(t){return t});function E0(){return v0(Ag).scale(79.4188).clipAngle(180-.001)}function af(t,r){return[t,r]}af.invert=af;var{BufferOp:k0,GeoJSONReader:x0,GeoJSONWriter:w0}=jy;function Hl(t,r,u){u=u||{};var c=u.units||"kilometers",s=u.steps||8;if(!t)throw new Error("geojson is required");if(typeof u!="object")throw new Error("options must be an object");if(typeof s!="number")throw new Error("steps must be an number");if(r===void 0)throw new Error("radius is required");if(s<=0)throw new Error("steps must be greater than 0");var h=[];switch(t.type){case"GeometryCollection":return kg(t,function(g){var _=tu(g,r,c,s);_&&h.push(_)}),Dl(h);case"FeatureCollection":return qh(t,function(g){var _=tu(g,r,c,s);_&&qh(_,function(v){v&&h.push(v)})}),Dl(h)}return tu(t,r,c,s)}function tu(t,r,u,c){var s=t.properties||{},h=t.type==="Feature"?t.geometry:t;if(h.type==="GeometryCollection"){var g=[];return kg(t,function(U){var W=tu(U,r,u,c);W&&g.push(W)}),Dl(g)}var _=b0(h),v={type:h.type,coordinates:Fg(h.coordinates,_)},x=new x0,E=x.read(v),k=qy($y(r,u),"meters"),I=k0.bufferOp(E,k,c),P=new w0;if(I=P.write(I),!Dg(I.coordinates)){var M={type:I.type,coordinates:zg(I.coordinates,_)};return Lg(M,s)}}function Dg(t){return Array.isArray(t[0])?Dg(t[0]):isNaN(t[0])}function Fg(t,r){return typeof t[0]!="object"?r(t):t.map(function(u){return Fg(u,r)})}function zg(t,r){return typeof t[0]!="object"?r.invert(t):t.map(function(u){return zg(u,r)})}function b0(t){var r=Vy(t).geometry.coordinates,u=[-r[0],-r[1]];return E0().rotate(u).scale(In)}const T0="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg";class I0 extends mg{constructor(u){super(u);Pa(this,"EXPORT_API_ENDPOINT");this.name="geonature",this.EXPORT_API_ENDPOINT=u==null?void 0:u.EXPORT_API_ENDPOINT}fetchOccurrence(u={}){let c=new URL(this.EXPORT_API_ENDPOINT);u={...u,limit:"ALL"};for(const[h,g]of Object.entries(u))c.searchParams.append(h,g);const s=c.toString();return fetch(s).then(h=>h.json()).then(h=>{let g={};return h.items.features.forEach(_=>{_=_.properties,g.hasOwnProperty(_.cd_ref)||(g[_.cd_ref]=new pg({acceptedScientificName:_.nom_scientifique,vernacularName:_.nom_vernaculaire,taxonId:_.cd_ref,taxonKey:_.cd_ref,mediaUrl:T0,taxonRank:"",nbObservations:0,description:"",lastSeenDate:new Date(_.date_max).getTime()})),g[_.cd_ref].nbObservations+=1,g[_.cd_ref].lastSeenDate=new Date(Math.max(new Date(_.date_max).getTime(),new Date(g[_.cd_ref].lastSeenDate).getTime()))}),console.log(g),g})}fetchMedia(u){const c=`https://odata-inpn.mnhn.fr/photos/taxa?taxrefId=${u}&visibility=PUBLIC`;return fetch(c).then(s=>s.json()).then(function(s){var g;let h=[];try{return Object.values((g=s==null?void 0:s._embedded)==null?void 0:g.photos).forEach(_=>{h.push({url:_._links.thumbnail.href,licence:_.licence,source:_.copyright})}),h}catch{return[]}})}fetchTaxonInfo(u){const c=`https://odata-inpn.mnhn.fr/taxa/${u}`;return fetch(c).then(s=>s.json()).then(function(s){return{scientificName:s.names.scientific,vernacularName:s.names.vernacular.fr[0],rank:s.rank,taxonKey:s.taxrefId}})}fetchTaxonStatus(u){const c=`https://taxref.mnhn.fr/api/taxa/${u}/status/columns`;return fetch(c).then(s=>s.json()).then(s=>{var h;return(h=s._embedded)==null?void 0:h.status})}}const S0={class:"card mb-3"},N0={class:"row p-2",style:{"padding-left":"1.3em !important"}},C0={class:"col-md-4 p-0"},P0=["href"],M0=["src","alt","title"],O0={class:"col-md-8"},R0={class:"card-body"},A0={class:"card-title",style:{"justify-content":"left"}},D0={class:"card-text"},F0={class:"text-body-secondary"},z0={class:"text-body-secondary"},B0={class:"text-body-secondary"},U0={class:"text-body-secondary"},G0={__name:"Taxon",props:{taxonId:Number,scientificName:String,vernacularName:String,rank:String,description:String,observationDate:Date,count:Number,connector:{type:Object,required:!0}},setup(t){const r=t,u=Jt([]),c=jt(()=>u.value.length==0?{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg"}:u.value[0]);function s(){u.value=[],r.taxonId&&r.connector.fetchMedia(r.taxonId).then(h=>{u.value=h})}return Zi(()=>{s()}),(h,g)=>{var _,v,x,E;return ue(),he("div",S0,[mt("div",N0,[mt("div",C0,[mt("a",{href:(_=c.value)==null?void 0:_.url,target:"_blank"},[mt("img",{src:(v=c.value)==null?void 0:v.url,class:"card-img-top",alt:(x=c.value)==null?void 0:x.url,title:"Source: "+((E=c.value)==null?void 0:E.source)},null,8,M0)],8,P0)]),mt("div",O0,[mt("div",R0,[mt("h5",A0,ce(r.vernacularName||r.scientificName),1),mt("p",D0,[mt("small",F0,[g[0]||(g[0]=mt("strong",null,"Nom scientifique :",-1)),ii(" "+ce(r.scientificName),1)]),g[4]||(g[4]=mt("br",null,null,-1)),mt("small",z0,[g[1]||(g[1]=mt("strong",null,"Date de la dernière observation :",-1)),ii(" "+ce(r==null?void 0:r.observationDate.toLocaleDateString()),1)]),g[5]||(g[5]=mt("br",null,null,-1)),mt("small",B0,[g[2]||(g[2]=mt("strong",null,"Nombre d'observations : ",-1)),ii(ce(r.count),1)]),g[6]||(g[6]=mt("br",null,null,-1)),mt("small",U0,[g[3]||(g[3]=mt("strong",null,"Rang Taxonomique : ",-1)),ii(ce(r.rank),1)]),g[7]||(g[7]=mt("p",null,null,-1))])])])])])}}},H0={"aria-label":"..."},q0={class:"pagination"},$0={class:"page-link"},Z0=["onClick"],V0={class:"page-link"},Y0={class:"page-link"},W0={__name:"Pagination",props:{itemPerPage:Number,pageIndex:Number,totalItems:Number},emits:["page"],setup(t,{emit:r}){const u=t,c=Jt(u.pageIndex),s=Jt(u.itemPerPage),h=Jt(u.totalItems);un(u,()=>{s.value=u.itemPerPage,c.value=u.pageIndex,h.value=u.totalItems});const g=r;un(c,()=>{g("page",c.value)});function _(P){return P==c.value?"page-item active":"page-item"}function v(P,M=False){return M?P==0?"page-item disabled":"page-item":P==k.value-1?"page-item disabled":"page-item"}function x(){c.value<=k.value-1&&c.value++}function E(){c.value>0&&c.value--}const k=jt(()=>Math.ceil(h.value/s.value)),I=jt(()=>{if(k.value>5){const P=c.value>0?0:1;let M=[];for(let U=P;U<5;U++)M.push(c.value+U);return M}return k.value});return(P,M)=>(ue(),he("nav",H0,[mt("ul",q0,[mt("li",{onClick:M[0]||(M[0]=U=>c.value!=0?E():""),id:"previous",class:Is(v(c.value,!0))},[mt("a",$0,ce(P.$t("previousPage")),1)],2),(ue(!0),he(He,null,Fo(I.value,U=>(ue(),he("li",{key:U,class:Is(_(U-1)),onClick:W=>c.value=U-1},[mt("a",V0,ce(U),1)],10,Z0))),128)),mt("li",{id:"next",onClick:M[1]||(M[1]=U=>c.value<k.value-1?x():""),class:Is(v(c.value,!1))},[mt("a",Y0,ce(P.$t("nextPage")),1)],2)])]))}};function Qo(t="gbif",r={}){switch(t){case"gbif":return new Gh(r);case"geonature":return new I0(r);default:return new Gh(r)}}const X0={key:0,id:"no-observation-message",class:"col-6 offset-3"},j0={class:"col-12 text-center mb-3 mt-0 p-3"},K0={class:"d-flex justify-content-center m-3"},Lc={__name:"TaxonList",props:{wkt:String,itemPerPage:Number,dateMin:String,dateMax:{type:String,default:"2025-01-01"},width:{type:String,default:"400px"},height:{type:String,default:"100vh"},connector:{type:Object,required:!0}},setup(t){const r=Jt(null),u=Jt(null),c=Jt(null),s=Jt(Qo()),h=Jt([]),g=Jt(!1),_=Jt(0),v=Jt(10),x=t,E=jt(()=>`height : ${x.height}`),k=jt(()=>{const M=parseFloat(x.height.match(/\d+(?:\.\d+)?/)[0]),U=x.height.replace(/\d+(?:\.\d+)?/,"");return`height : ${M*.9+U}`});x.wkt&&(r.value=x.wkt),Zi(()=>{s.value=x.connector,r.value=x.wkt;const M=u.value!=x.dateMin||c.value!=x.dateMax;u.value=x.dateMin,c.value=x.dateMax,(r.value||M&&s.value)&&P(r.value),v.value=x.itemPerPage});const I=jt(()=>h.value.sort((M,U)=>U.nbObservations-M.nbObservations).slice(_.value*v.value,(_.value+1)*v.value));function P(M){g.value=!0,h.value=[],u.value&&c.value&&`${u.value}${c.value}`,s.value.fetchOccurrence({geometry:M}).then(U=>{Object.values(U).forEach(W=>{h.value.push(W)}),g.value=!1})}return un(r,()=>{r.value&&P(r.value)}),(M,U)=>(ue(),he("div",{id:"liste-taxons",class:"mb-3",style:Ms(E.value)},[Zt(jv,{loadingStatus:g.value},null,8,["loadingStatus"]),I.value.length==0&&!g.value?(ue(),he("div",X0,[mt("h5",j0,[U[1]||(U[1]=mt("i",{class:"bi bi-pin-map"},null,-1)),ii(ce(M.$t("drawGeometry")),1)])])):bl("",!0),mt("div",{id:"species-listing",style:Ms(k.value)},[(ue(!0),he(He,null,Fo(I.value,W=>(ue(),lu(G0,{taxonId:W.taxonId,"scientific-name":W.acceptedScientificName,"vernacular-name":W.vernacularName,description:W.acceptedScientificName,observationDate:W.lastSeenDate,count:W.nbObservations,rank:W.taxonRank,connector:s.value},null,8,["taxonId","scientific-name","vernacular-name","description","observationDate","count","rank","connector"]))),256))],4),mt("div",K0,[I.value.length>0?(ue(),lu(W0,{key:0,pageIndex:_.value,"total-items":h.value.length,itemPerPage:v.value,onPage:U[0]||(U[0]=W=>_.value=W)},null,8,["pageIndex","total-items","itemPerPage"])):bl("",!0)])],4))}};var Mo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var J0=Mo.exports,uf;function Q0(){return uf||(uf=1,function(t,r){(function(u,c){c(r)})(J0,function(u){var c="1.9.4";function s(i){var l,d,p,w;for(d=1,p=arguments.length;d<p;d++){w=arguments[d];for(l in w)i[l]=w[l]}return i}var h=Object.create||function(){function i(){}return function(l){return i.prototype=l,new i}}();function g(i,l){var d=Array.prototype.slice;if(i.bind)return i.bind.apply(i,d.call(arguments,1));var p=d.call(arguments,2);return function(){return i.apply(l,p.length?p.concat(d.call(arguments)):arguments)}}var _=0;function v(i){return"_leaflet_id"in i||(i._leaflet_id=++_),i._leaflet_id}function x(i,l,d){var p,w,N,H;return H=function(){p=!1,w&&(N.apply(d,w),w=!1)},N=function(){p?w=arguments:(i.apply(d,arguments),setTimeout(H,l),p=!0)},N}function E(i,l,d){var p=l[1],w=l[0],N=p-w;return i===p&&d?i:((i-w)%N+N)%N+w}function k(){return!1}function I(i,l){if(l===!1)return i;var d=Math.pow(10,l===void 0?6:l);return Math.round(i*d)/d}function P(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function M(i){return P(i).split(/\s+/)}function U(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?h(i.options):{});for(var d in l)i.options[d]=l[d];return i.options}function W(i,l,d){var p=[];for(var w in i)p.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(i[w]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function B(i,l){return i.replace(A,function(d,p){var w=l[p];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(l)),w})}var G=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function z(i,l){for(var d=0;d<i.length;d++)if(i[d]===l)return d;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Z=0;function ht(i){var l=+new Date,d=Math.max(0,16-(l-Z));return Z=l+d,window.setTimeout(i,d)}var ct=window.requestAnimationFrame||V("RequestAnimationFrame")||ht,Ot=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Nt(i,l,d){if(d&&ct===ht)i.call(l);else return ct.call(window,g(i,l))}function Tt(i){i&&Ot.call(window,i)}var Kt={__proto__:null,extend:s,create:h,bind:g,get lastId(){return _},stamp:v,throttle:x,wrapNum:E,falseFn:k,formatNum:I,trim:P,splitWords:M,setOptions:U,getParamString:W,template:B,isArray:G,indexOf:z,emptyImageUrl:X,requestFn:ct,cancelFn:Ot,requestAnimFrame:Nt,cancelAnimFrame:Tt};function dt(){}dt.extend=function(i){var l=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,p=h(d);p.constructor=l,l.prototype=p;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(l[w]=this[w]);return i.statics&&s(l,i.statics),i.includes&&(Ut(i.includes),s.apply(null,[p].concat(i.includes))),s(p,i),delete p.statics,delete p.includes,p.options&&(p.options=d.options?h(d.options):{},s(p.options,i.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,H=p._initHooks.length;N<H;N++)p._initHooks[N].call(this)}},l},dt.include=function(i){var l=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},dt.mergeOptions=function(i){return s(this.prototype.options,i),this},dt.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),d=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ut(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=G(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var It={on:function(i,l,d){if(typeof i=="object")for(var p in i)this._on(p,i[p],l);else{i=M(i);for(var w=0,N=i.length;w<N;w++)this._on(i[w],l,d)}return this},off:function(i,l,d){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var p in i)this._off(p,i[p],l);else{i=M(i);for(var w=arguments.length===1,N=0,H=i.length;N<H;N++)w?this._off(i[N]):this._off(i[N],l,d)}return this},_on:function(i,l,d,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,d)===!1){d===this&&(d=void 0);var w={fn:l,ctx:d};p&&(w.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(w)}},_off:function(i,l,d){var p,w,N;if(this._events&&(p=this._events[i],!!p)){if(arguments.length===1){if(this._firingCount)for(w=0,N=p.length;w<N;w++)p[w].fn=k;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var H=this._listens(i,l,d);if(H!==!1){var J=p[H];this._firingCount&&(J.fn=k,this._events[i]=p=p.slice()),p.splice(H,1)}}},fire:function(i,l,d){if(!this.listens(i,d))return this;var p=s({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var w=this._events[i];if(w){this._firingCount=this._firingCount+1||1;for(var N=0,H=w.length;N<H;N++){var J=w[N],tt=J.fn;J.once&&this.off(i,tt,J.ctx),tt.call(J.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(i,l,d,p){typeof i!="string"&&console.warn('"string" type argument expected');var w=l;typeof l!="function"&&(p=!!l,w=void 0,d=void 0);var N=this._events&&this._events[i];if(N&&N.length&&this._listens(i,w,d)!==!1)return!0;if(p){for(var H in this._eventParents)if(this._eventParents[H].listens(i,l,d,p))return!0}return!1},_listens:function(i,l,d){if(!this._events)return!1;var p=this._events[i]||[];if(!l)return!!p.length;d===this&&(d=void 0);for(var w=0,N=p.length;w<N;w++)if(p[w].fn===l&&p[w].ctx===d)return w;return!1},once:function(i,l,d){if(typeof i=="object")for(var p in i)this._on(p,i[p],l,!0);else{i=M(i);for(var w=0,N=i.length;w<N;w++)this._on(i[w],l,d,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[v(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[v(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};It.addEventListener=It.on,It.removeEventListener=It.clearAllEventListeners=It.off,It.addOneTimeEventListener=It.once,It.fireEvent=It.fire,It.hasEventListeners=It.listens;var Pt=dt.extend(It);function ft(i,l,d){this.x=d?Math.round(i):i,this.y=d?Math.round(l):l}var Qt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(i){return this.clone()._add(st(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(st(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ft(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ft(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qt(this.x),this.y=Qt(this.y),this},distanceTo:function(i){i=st(i);var l=i.x-this.x,d=i.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(i){return i=st(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=st(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function st(i,l,d){return i instanceof ft?i:G(i)?new ft(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ft(i.x,i.y):new ft(i,l,d)}function Ft(i,l){if(i)for(var d=l?[i,l]:i,p=0,w=d.length;p<w;p++)this.extend(d[p])}Ft.prototype={extend:function(i){var l,d;if(!i)return this;if(i instanceof ft||typeof i[0]=="number"||"x"in i)l=d=st(i);else if(i=Gt(i),l=i.min,d=i.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(i){return st((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return st(this.min.x,this.max.y)},getTopRight:function(){return st(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,d;return typeof i[0]=="number"||i instanceof ft?i=st(i):i=Gt(i),i instanceof Ft?(l=i.min,d=i.max):l=d=i,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(i){i=Gt(i);var l=this.min,d=this.max,p=i.min,w=i.max,N=w.x>=l.x&&p.x<=d.x,H=w.y>=l.y&&p.y<=d.y;return N&&H},overlaps:function(i){i=Gt(i);var l=this.min,d=this.max,p=i.min,w=i.max,N=w.x>l.x&&p.x<d.x,H=w.y>l.y&&p.y<d.y;return N&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,d=this.max,p=Math.abs(l.x-d.x)*i,w=Math.abs(l.y-d.y)*i;return Gt(st(l.x-p,l.y-w),st(d.x+p,d.y+w))},equals:function(i){return i?(i=Gt(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function Gt(i,l){return!i||i instanceof Ft?i:new Ft(i,l)}function ne(i,l){if(i)for(var d=l?[i,l]:i,p=0,w=d.length;p<w;p++)this.extend(d[p])}ne.prototype={extend:function(i){var l=this._southWest,d=this._northEast,p,w;if(i instanceof $t)p=i,w=i;else if(i instanceof ne){if(p=i._southWest,w=i._northEast,!p||!w)return this}else return i?this.extend(Bt(i)||kt(i)):this;return!l&&!d?(this._southWest=new $t(p.lat,p.lng),this._northEast=new $t(w.lat,w.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(i){var l=this._southWest,d=this._northEast,p=Math.abs(l.lat-d.lat)*i,w=Math.abs(l.lng-d.lng)*i;return new ne(new $t(l.lat-p,l.lng-w),new $t(d.lat+p,d.lng+w))},getCenter:function(){return new $t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $t(this.getNorth(),this.getWest())},getSouthEast:function(){return new $t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof $t||"lat"in i?i=Bt(i):i=kt(i);var l=this._southWest,d=this._northEast,p,w;return i instanceof ne?(p=i.getSouthWest(),w=i.getNorthEast()):p=w=i,p.lat>=l.lat&&w.lat<=d.lat&&p.lng>=l.lng&&w.lng<=d.lng},intersects:function(i){i=kt(i);var l=this._southWest,d=this._northEast,p=i.getSouthWest(),w=i.getNorthEast(),N=w.lat>=l.lat&&p.lat<=d.lat,H=w.lng>=l.lng&&p.lng<=d.lng;return N&&H},overlaps:function(i){i=kt(i);var l=this._southWest,d=this._northEast,p=i.getSouthWest(),w=i.getNorthEast(),N=w.lat>l.lat&&p.lat<d.lat,H=w.lng>l.lng&&p.lng<d.lng;return N&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=kt(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function kt(i,l){return i instanceof ne?i:new ne(i,l)}function $t(i,l,d){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,d!==void 0&&(this.alt=+d)}$t.prototype={equals:function(i,l){if(!i)return!1;i=Bt(i);var d=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return d<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+I(this.lat,i)+", "+I(this.lng,i)+")"},distanceTo:function(i){return F.distance(this,Bt(i))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,d=l/Math.cos(Math.PI/180*this.lat);return kt([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new $t(this.lat,this.lng,this.alt)}};function Bt(i,l,d){return i instanceof $t?i:G(i)&&typeof i[0]!="object"?i.length===3?new $t(i[0],i[1],i[2]):i.length===2?new $t(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new $t(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new $t(i,l,d)}var it={latLngToPoint:function(i,l){var d=this.projection.project(i),p=this.scale(l);return this.transformation._transform(d,p)},pointToLatLng:function(i,l){var d=this.scale(l),p=this.transformation.untransform(i,d);return this.projection.unproject(p)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(i),p=this.transformation.transform(l.min,d),w=this.transformation.transform(l.max,d);return new Ft(p,w)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?E(i.lng,this.wrapLng,!0):i.lng,d=this.wrapLat?E(i.lat,this.wrapLat,!0):i.lat,p=i.alt;return new $t(d,l,p)},wrapLatLngBounds:function(i){var l=i.getCenter(),d=this.wrapLatLng(l),p=l.lat-d.lat,w=l.lng-d.lng;if(p===0&&w===0)return i;var N=i.getSouthWest(),H=i.getNorthEast(),J=new $t(N.lat-p,N.lng-w),tt=new $t(H.lat-p,H.lng-w);return new ne(J,tt)}},F=s({},it,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var d=Math.PI/180,p=i.lat*d,w=l.lat*d,N=Math.sin((l.lat-i.lat)*d/2),H=Math.sin((l.lng-i.lng)*d/2),J=N*N+Math.cos(p)*Math.cos(w)*H*H,tt=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*tt}}),Lt=6378137,gt={R:Lt,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,i.lat),-d),w=Math.sin(p*l);return new ft(this.R*i.lng*l,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(i){var l=180/Math.PI;return new $t((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:function(){var i=Lt*Math.PI;return new Ft([-i,-i],[i,i])}()};function _t(i,l,d,p){if(G(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=d,this._d=p}_t.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new ft((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function T(i,l,d,p){return new _t(i,l,d,p)}var D=s({},F,{code:"EPSG:3857",projection:gt,transformation:function(){var i=.5/(Math.PI*gt.R);return T(i,.5,-i,.5)}()}),j=s({},D,{code:"EPSG:900913"});function nt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ot(i,l){var d="",p,w,N,H,J,tt;for(p=0,N=i.length;p<N;p++){for(J=i[p],w=0,H=J.length;w<H;w++)tt=J[w],d+=(w?"L":"M")+tt.x+" "+tt.y;d+=l?At.svg?"z":"x":""}return d||"M0 0"}var rt=document.documentElement.style,R="ActiveXObject"in window,C=R&&!document.addEventListener,Y="msLaunchUri"in navigator&&!("documentMode"in document),Q=We("webkit"),yt=We("android"),at=We("android 2")||We("android 3"),q=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),et=yt&&We("Google")&&q<537&&!("AudioNode"in window),xt=!!window.opera,zt=!Y&&We("chrome"),pt=We("gecko")&&!Q&&!xt&&!R,Pe=!zt&&We("safari"),Rt=We("phantom"),Mt="OTransition"in rt,dn=navigator.platform.indexOf("Win")===0,Ye=R&&"transition"in rt,ji="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,St="MozPerspective"in rt,xn=!window.L_DISABLE_3D&&(Ye||ji||St)&&!Mt&&!Rt,ui=typeof orientation<"u"||We("mobile"),Xs=ui&&Q,wn=ui&&ji,Ki=!window.PointerEvent&&window.MSPointerEvent,Pn=!!(window.PointerEvent||Ki),js="ontouchstart"in window||!!window.TouchEvent,Jr=!window.L_NO_TOUCH&&(js||Pn),Au=ui&&xt,ha=ui&&pt,Ii=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vt=function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",k,l),window.removeEventListener("testPassiveEventSupport",k,l)}catch{}return i}(),Qr=function(){return!!document.createElement("canvas").getContext}(),Ji=!!(document.createElementNS&&nt("svg").createSVGRect),br=!!Ji&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fa=!Ji&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Ks=navigator.platform.indexOf("Mac")===0,da=navigator.platform.indexOf("Linux")===0;function We(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var At={ie:R,ielt9:C,edge:Y,webkit:Q,android:yt,android23:at,androidStock:et,opera:xt,chrome:zt,gecko:pt,safari:Pe,phantom:Rt,opera12:Mt,win:dn,ie3d:Ye,webkit3d:ji,gecko3d:St,any3d:xn,mobile:ui,mobileWebkit:Xs,mobileWebkit3d:wn,msPointer:Ki,pointer:Pn,touch:Jr,touchNative:js,mobileOpera:Au,mobileGecko:ha,retina:Ii,passiveEvents:vt,canvas:Qr,svg:Ji,vml:fa,inlineSvg:br,mac:Ks,linux:da},Tr=At.msPointer?"MSPointerDown":"pointerdown",ga=At.msPointer?"MSPointerMove":"pointermove",Js=At.msPointer?"MSPointerUp":"pointerup",_a=At.msPointer?"MSPointerCancel":"pointercancel",tn={touchstart:Tr,touchmove:ga,touchend:Js,touchcancel:_a},ts={touchstart:is,touchmove:ns,touchend:ns,touchcancel:ns},zn={},li=!1;function Si(i,l,d){return l==="touchstart"&&Du(),ts[l]?(d=ts[l].bind(this,d),i.addEventListener(tn[l],d,!1),d):(console.warn("wrong event specified:",l),k)}function Qs(i,l,d){if(!tn[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(tn[l],d,!1)}function es(i){zn[i.pointerId]=i}function Ir(i){zn[i.pointerId]&&(zn[i.pointerId]=i)}function De(i){delete zn[i.pointerId]}function Du(){li||(document.addEventListener(Tr,es,!0),document.addEventListener(ga,Ir,!0),document.addEventListener(Js,De,!0),document.addEventListener(_a,De,!0),li=!0)}function ns(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in zn)l.touches.push(zn[d]);l.changedTouches=[l],i(l)}}function is(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Oe(l),ns(i,l)}function Sr(i){var l={},d,p;for(p in i)d=i[p],l[p]=d&&d.bind?d.bind(i):d;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var to=200;function eo(i,l){i.addEventListener("dblclick",l);var d=0,p;function w(N){if(N.detail!==1){p=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var H=je(N);if(!(H.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!H.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var J=Date.now();J-d<=to?(p++,p===2&&l(Sr(N))):p=1,d=J}}}return i.addEventListener("click",w),{dblclick:l,simDblclick:w}}function ma(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var no=as(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),en=as(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ni=en==="webkitTransition"||en==="OTransition"?en+"End":"transitionend";function rs(i){return typeof i=="string"?document.getElementById(i):i}function Bn(i,l){var d=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(i,null);d=p?p[l]:null}return d==="auto"?null:d}function oe(i,l,d){var p=document.createElement(i);return p.className=l||"",d&&d.appendChild(p),p}function Ne(i){var l=i.parentNode;l&&l.removeChild(i)}function ss(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Qi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function Ci(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function os(i,l){if(i.classList!==void 0)return i.classList.contains(l);var d=Nr(i);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Vt(i,l){if(i.classList!==void 0)for(var d=M(l),p=0,w=d.length;p<w;p++)i.classList.add(d[p]);else if(!os(i,l)){var N=Nr(i);Un(i,(N?N+" ":"")+l)}}function ge(i,l){i.classList!==void 0?i.classList.remove(l):Un(i,P((" "+Nr(i)+" ").replace(" "+l+" "," ")))}function Un(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function Nr(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function $e(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&Fu(i,l)}function Fu(i,l){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=i.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):i.style.filter+=" progid:"+p+"(opacity="+l+")"}function as(i){for(var l=document.documentElement.style,d=0;d<i.length;d++)if(i[d]in l)return i[d];return!1}function Pi(i,l,d){var p=l||new ft(0,0);i.style[no]=(At.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function Fe(i,l){i._leaflet_pos=l,At.any3d?Pi(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function ci(i){return i._leaflet_pos||new ft(0,0)}var Qn,tr,io;if("onselectstart"in document)Qn=function(){Yt(window,"selectstart",Oe)},tr=function(){Le(window,"selectstart",Oe)};else{var er=as(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qn=function(){if(er){var i=document.documentElement.style;io=i[er],i[er]="none"}},tr=function(){er&&(document.documentElement.style[er]=io,io=void 0)}}function ro(){Yt(window,"dragstart",Oe)}function Cr(){Le(window,"dragstart",Oe)}var ye,ti;function so(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(nr(),ye=i,ti=i.style.outlineStyle,i.style.outlineStyle="none",Yt(window,"keydown",nr))}function nr(){ye&&(ye.style.outlineStyle=ti,ye=void 0,ti=void 0,Le(window,"keydown",nr))}function gn(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function ln(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var us={__proto__:null,TRANSFORM:no,TRANSITION:en,TRANSITION_END:Ni,get:rs,getStyle:Bn,create:oe,remove:Ne,empty:ss,toFront:Qi,toBack:Ci,hasClass:os,addClass:Vt,removeClass:ge,setClass:Un,getClass:Nr,setOpacity:$e,testProp:as,setTransform:Pi,setPosition:Fe,getPosition:ci,get disableTextSelection(){return Qn},get enableTextSelection(){return tr},disableImageDrag:ro,enableImageDrag:Cr,preventOutline:so,restoreOutline:nr,getSizedParentNode:gn,getScale:ln};function Yt(i,l,d,p){if(l&&typeof l=="object")for(var w in l)ls(i,w,l[w],d);else{l=M(l);for(var N=0,H=l.length;N<H;N++)ls(i,l[N],d,p)}return this}var Gn="_leaflet_events";function Le(i,l,d,p){if(arguments.length===1)Pr(i),delete i[Gn];else if(l&&typeof l=="object")for(var w in l)le(i,w,l[w],d);else if(l=M(l),arguments.length===2)Pr(i,function(J){return z(l,J)!==-1});else for(var N=0,H=l.length;N<H;N++)le(i,l[N],d,p);return this}function Pr(i,l){for(var d in i[Gn]){var p=d.split(/\d/)[0];(!l||l(p))&&le(i,p,null,null,d)}}var oo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ls(i,l,d,p){var w=l+v(d)+(p?"_"+v(p):"");if(i[Gn]&&i[Gn][w])return this;var N=function(J){return d.call(p||i,J||window.event)},H=N;!At.touchNative&&At.pointer&&l.indexOf("touch")===0?N=Si(i,l,N):At.touch&&l==="dblclick"?N=eo(i,N):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(oo[l]||l,N,At.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(N=function(J){J=J||window.event,cs(i,J)&&H(J)},i.addEventListener(oo[l],N,!1)):i.addEventListener(l,H,!1):i.attachEvent("on"+l,N),i[Gn]=i[Gn]||{},i[Gn][w]=N}function le(i,l,d,p,w){w=w||l+v(d)+(p?"_"+v(p):"");var N=i[Gn]&&i[Gn][w];if(!N)return this;!At.touchNative&&At.pointer&&l.indexOf("touch")===0?Qs(i,l,N):At.touch&&l==="dblclick"?ma(i,N):"removeEventListener"in i?i.removeEventListener(oo[l]||l,N,!1):i.detachEvent("on"+l,N),i[Gn][w]=null}function Xe(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Mr(i){return ls(i,"wheel",Xe),this}function ir(i){return Yt(i,"mousedown touchstart dblclick contextmenu",Xe),i._leaflet_disable_click=!0,this}function Oe(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function hi(i){return Oe(i),Xe(i),this}function je(i){if(i.composedPath)return i.composedPath();for(var l=[],d=i.target;d;)l.push(d),d=d.parentNode;return l}function ao(i,l){if(!l)return new ft(i.clientX,i.clientY);var d=ln(l),p=d.boundingClientRect;return new ft((i.clientX-p.left)/d.x-l.clientLeft,(i.clientY-p.top)/d.y-l.clientTop)}var uo=At.linux&&At.chrome?window.devicePixelRatio:At.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lo(i){return At.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/uo:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function cs(i,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==i;)d=d.parentNode}catch{return!1}return d!==i}var zu={__proto__:null,on:Yt,off:Le,stopPropagation:Xe,disableScrollPropagation:Mr,disableClickPropagation:ir,preventDefault:Oe,stop:hi,getPropagationPath:je,getMousePosition:ao,getWheelDelta:lo,isExternalTarget:cs,addListener:Yt,removeListener:Le},co=Pt.extend({run:function(i,l,d,p){this.stop(),this._el=i,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=ci(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Nt(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var d=this._startPos.add(this._offset.multiplyBy(i));l&&d._round(),Fe(this._el,d),this.fire("step")},_complete:function(){Tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Wt=Pt.extend({options:{crs:D,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=U(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Bt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=en&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Yt(this._proxy,Ni,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(Bt(i),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=s({animate:d.animate},d.zoom),d.pan=s({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,d.zoom):this._tryAnimatedPan(i,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,d){var p=this.getZoomScale(l),w=this.getSize().divideBy(2),N=i instanceof ft?i:this.latLngToContainerPoint(i),H=N.subtract(w).multiplyBy(1-1/p),J=this.containerPointToLatLng(w.add(H));return this.setView(J,l,{zoom:d})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():kt(i);var d=st(l.paddingTopLeft||l.padding||[0,0]),p=st(l.paddingBottomRight||l.padding||[0,0]),w=this.getBoundsZoom(i,!1,d.add(p));if(w=typeof l.maxZoom=="number"?Math.min(l.maxZoom,w):w,w===1/0)return{center:i.getCenter(),zoom:w};var N=p.subtract(d).divideBy(2),H=this.project(i.getSouthWest(),w),J=this.project(i.getNorthEast(),w),tt=this.unproject(H.add(J).divideBy(2).add(N),w);return{center:tt,zoom:w}},fitBounds:function(i,l){if(i=kt(i),!i.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(i,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=st(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new co,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Vt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,d){if(d=d||{},d.animate===!1||!At.any3d)return this.setView(i,l,d);this._stop();var p=this.project(this.getCenter()),w=this.project(i),N=this.getSize(),H=this._zoom;i=Bt(i),l=l===void 0?H:l;var J=Math.max(N.x,N.y),tt=J*this.getZoomScale(H,l),lt=w.distanceTo(p)||1,wt=1.42,qt=wt*wt;function re(Ge){var Ca=Ge?-1:1,c_=Ge?tt:J,h_=tt*tt-J*J+Ca*qt*qt*lt*lt,f_=2*c_*qt*lt,ju=h_/f_,Hc=Math.sqrt(ju*ju+1)-ju,d_=Hc<1e-9?-18:Math.log(Hc);return d_}function pn(Ge){return(Math.exp(Ge)-Math.exp(-Ge))/2}function Je(Ge){return(Math.exp(Ge)+Math.exp(-Ge))/2}function Yn(Ge){return pn(Ge)/Je(Ge)}var Tn=re(0);function Ls(Ge){return J*(Je(Tn)/Je(Tn+wt*Ge))}function o_(Ge){return J*(Je(Tn)*Yn(Tn+wt*Ge)-pn(Tn))/qt}function a_(Ge){return 1-Math.pow(1-Ge,1.5)}var u_=Date.now(),Uc=(re(1)-Tn)/wt,l_=d.duration?1e3*d.duration:1e3*Uc*.8;function Gc(){var Ge=(Date.now()-u_)/l_,Ca=a_(Ge)*Uc;Ge<=1?(this._flyToFrame=Nt(Gc,this),this._move(this.unproject(p.add(w.subtract(p).multiplyBy(o_(Ca)/lt)),H),this.getScaleZoom(J/Ls(Ca),H),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Gc.call(this),this},flyToBounds:function(i,l){var d=this._getBoundsCenterZoom(i,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(i){return i=kt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,kt(i));return d.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var d=st(l.paddingTopLeft||l.padding||[0,0]),p=st(l.paddingBottomRight||l.padding||[0,0]),w=this.project(this.getCenter()),N=this.project(i),H=this.getPixelBounds(),J=Gt([H.min.add(d),H.max.subtract(p)]),tt=J.getSize();if(!J.contains(N)){this._enforcingBounds=!0;var lt=N.subtract(J.getCenter()),wt=J.extend(N).getSize().subtract(tt);w.x+=lt.x<0?-wt.x:wt.x,w.y+=lt.y<0?-wt.y:wt.y,this.panTo(this.unproject(w),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=l.divideBy(2).round(),w=d.divideBy(2).round(),N=p.subtract(w);return!N.x&&!N.y?this:(i.animate&&i.pan?this.panBy(N):(i.pan&&this._rawPanBy(N),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=g(this._handleGeolocationResponse,this),d=g(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,i):navigator.geolocation.getCurrentPosition(l,d,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,d=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,d=i.coords.longitude,p=new $t(l,d),w=p.toBounds(i.coords.accuracy*2),N=this._locateOptions;if(N.setView){var H=this.getBoundsZoom(w);this.setView(p,N.maxZoom?Math.min(H,N.maxZoom):H)}var J={latlng:p,bounds:w,timestamp:i.timestamp};for(var tt in i.coords)typeof i.coords[tt]=="number"&&(J[tt]=i.coords[tt]);this.fire("locationfound",J)}},addHandler:function(i,l){if(!l)return this;var d=this[i]=new l(this);return this._handlers.push(d),this.options[i]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ne(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var d="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),p=oe("div",d,l||this._mapPane);return i&&(this._panes[i]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),d=this.unproject(i.getTopRight());return new ne(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,d){i=kt(i),d=st(d||[0,0]);var p=this.getZoom()||0,w=this.getMinZoom(),N=this.getMaxZoom(),H=i.getNorthWest(),J=i.getSouthEast(),tt=this.getSize().subtract(d),lt=Gt(this.project(J,p),this.project(H,p)).getSize(),wt=At.any3d?this.options.zoomSnap:1,qt=tt.x/lt.x,re=tt.y/lt.y,pn=l?Math.max(qt,re):Math.min(qt,re);return p=this.getScaleZoom(pn,p),wt&&(p=Math.round(p/(wt/100))*(wt/100),p=l?Math.ceil(p/wt)*wt:Math.floor(p/wt)*wt),Math.max(w,Math.min(N,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var d=this._getTopLeftPoint(i,l);return new Ft(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(i)/d.scale(l)},getScaleZoom:function(i,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var p=d.zoom(i*d.scale(l));return isNaN(p)?1/0:p},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Bt(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(st(i),l)},layerPointToLatLng:function(i){var l=st(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(Bt(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Bt(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(kt(i))},distance:function(i,l){return this.options.crs.distance(Bt(i),Bt(l))},containerPointToLayerPoint:function(i){return st(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return st(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(st(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Bt(i)))},mouseEventToContainerPoint:function(i){return ao(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=rs(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Yt(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,Vt(i,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Bn(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Vt(i.markerPane,"leaflet-zoom-hide"),Vt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,d){Fe(this._mapPane,new ft(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var w=this._zoom!==l;this._moveStart(w,d)._move(i,l)._moveEnd(w),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,d,p){l===void 0&&(l=this._zoom);var w=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),p?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Fe(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[v(this._container)]=this;var l=i?Le:Yt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Tt(this._resizeRequest),this._resizeRequest=Nt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var d=[],p,w=l==="mouseout"||l==="mouseover",N=i.target||i.srcElement,H=!1;N;){if(p=this._targets[v(N)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){H=!0;break}if(p&&p.listens(l,!0)&&(w&&!cs(N,i)||(d.push(p),w))||N===this._container)break;N=N.parentNode}return!d.length&&!H&&!w&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var d=i.type;d==="mousedown"&&so(l),this._fireDOMEvent(i,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,d){if(i.type==="click"){var p=s({},i);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var w=this._findEventTargets(i,l);if(d){for(var N=[],H=0;H<d.length;H++)d[H].listens(l,!0)&&N.push(d[H]);w=N.concat(w)}if(w.length){l==="contextmenu"&&Oe(i);var J=w[0],tt={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var lt=J.getLatLng&&(!J._radius||J._radius<=10);tt.containerPoint=lt?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(i),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=lt?J.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(H=0;H<w.length;H++)if(w[H].fire(l,tt,!0),tt.originalEvent._stopped||w[H].options.bubblingMouseEvents===!1&&z(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return ci(this._mapPane)||new ft(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var d=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var d=this.getSize()._divideBy(2);return this.project(i,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,d){var p=this._getNewPixelOrigin(d,l);return this.project(i,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(i,l,d){var p=this._getNewPixelOrigin(d,l);return Gt([this.project(i.getSouthWest(),l)._subtract(p),this.project(i.getNorthWest(),l)._subtract(p),this.project(i.getSouthEast(),l)._subtract(p),this.project(i.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,d){if(!d)return i;var p=this.project(i,l),w=this.getSize().divideBy(2),N=new Ft(p.subtract(w),p.add(w)),H=this._getBoundsOffset(N,d,l);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?i:this.unproject(p.add(H),l)},_limitOffset:function(i,l){if(!l)return i;var d=this.getPixelBounds(),p=new Ft(d.min.add(i),d.max.add(i));return i.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(i,l,d){var p=Gt(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),w=p.min.subtract(i.min),N=p.max.subtract(i.max),H=this._rebound(w.x,-N.x),J=this._rebound(w.y,-N.y);return new ft(H,J)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),d=this.getMaxZoom(),p=At.any3d?this.options.zoomSnap:1;return p&&(i=Math.round(i/p)*p),Math.max(l,Math.min(d,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var d=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var i=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var d=no,p=this._proxy.style[d];Pi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();Pi(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),w=this._getCenterOffset(i)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(w)?!1:(Nt(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hs(i,l){return new Wt(i,l)}var Mn=dt.extend({options:{position:"topright"},initialize:function(i){U(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),d=this.getPosition(),p=i._controlCorners[d];return Vt(l,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Ke=function(i){return new Mn(i)};Wt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",d=this._controlContainer=oe("div",l+"control-container",this._container);function p(w,N){var H=l+w+" "+l+N;i[w+N]=oe("div",H,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ne(this._controlCorners[i]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mi=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,d,p){return d<p?-1:p<d?1:0}},initialize:function(i,l,d){U(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in i)this._addLayer(i[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Mn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=oe("div",i),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ir(l),Mr(l);var p=this._section=oe("section",i+"-list");d&&(this._map.on("click",this.collapse,this),Yt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=oe("a",i+"-toggle",l);w.href="#",w.title="Layers",w.setAttribute("role","button"),Yt(w,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Oe(N),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=oe("div",i+"-base",p),this._separator=oe("div",i+"-separator",p),this._overlaysList=oe("div",i+"-overlays",p),l.appendChild(p)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,d){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(g(function(p,w){return this.options.sortFunction(p.layer,w.layer,p.name,w.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ss(this._baseLayersList),ss(this._overlaysList),this._layerControlInputs=[];var i,l,d,p,w=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),l=l||p.overlay,i=i||!p.overlay,w+=p.overlay?0:1;return this.options.hideSingleBase&&(i=i&&w>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(v(i.target)),d=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(i,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(i){var l=document.createElement("label"),d=this._map.hasLayer(i.layer),p;i.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(p),p.layerId=v(i.layer),Yt(p,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+i.name;var N=document.createElement("span");l.appendChild(N),N.appendChild(p),N.appendChild(w);var H=i.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,d,p=[],w=[];this._handlingClick=!0;for(var N=i.length-1;N>=0;N--)l=i[N],d=this._getLayer(l.layerId).layer,l.checked?p.push(d):l.checked||w.push(d);for(N=0;N<w.length;N++)this._map.hasLayer(w[N])&&this._map.removeLayer(w[N]);for(N=0;N<p.length;N++)this._map.hasLayer(p[N])||this._map.addLayer(p[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,d,p=this._map.getZoom(),w=i.length-1;w>=0;w--)l=i[w],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Yt(i,"click",Oe),this.expand();var l=this;setTimeout(function(){Le(i,"click",Oe),l._preventClick=!1})}}),Bu=function(i,l,d){return new Mi(i,l,d)},fi=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",d=oe("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,d,p,w){var N=oe("a",d,p);return N.innerHTML=i,N.href="#",N.title=l,N.setAttribute("role","button"),N.setAttribute("aria-label",l),ir(N),Yt(N,"click",hi),Yt(N,"click",w,this),Yt(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";ge(this._zoomInButton,l),ge(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Vt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Vt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fi,this.addControl(this.zoomControl))});var pa=function(i){return new fi(i)},Oi=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",d=oe("div",l),p=this.options;return this._addScales(p,l+"-line",d),i.on(p.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),d},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,d){i.metric&&(this._mScale=oe("div",l,d)),i.imperial&&(this._iScale=oe("div",l,d))},_update:function(){var i=this._map,l=i.getSize().y/2,d=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/i)},_updateImperial:function(i){var l=i*3.2808399,d,p,w;l>5280?(d=l/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(w=this._getRoundNum(l),this._updateScale(this._iScale,w+" ft",w/l))},_updateScale:function(i,l,d){i.style.width=Math.round(this.options.maxWidth*d)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),d=i/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),Uu=function(i){return new Oi(i)},Hn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fs=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?Hn+" ":"")+"Leaflet</a>"},initialize:function(i){U(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),ir(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),i.length&&d.push(i.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new fs().addTo(this)});var Gu=function(i){return new fs(i)};Mn.Layers=Mi,Mn.Zoom=fi,Mn.Scale=Oi,Mn.Attribution=fs,Ke.layers=Bu,Ke.zoom=pa,Ke.scale=Uu,Ke.attribution=Gu;var qn=dt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(i,l){return i.addHandler(l,this),this};var Hu={Events:It},va=At.touch?"touchstart mousedown":"mousedown",di=Pt.extend({options:{clickTolerance:3},initialize:function(i,l,d,p){U(this,p),this._element=i,this._dragStartTarget=l||i,this._preventOutline=d},enable:function(){this._enabled||(Yt(this._dragStartTarget,va,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(di._dragging===this&&this.finishDrag(!0),Le(this._dragStartTarget,va,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!os(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){di._dragging===this&&this.finishDrag();return}if(!(di._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(di._dragging=this,this._preventOutline&&so(this._element),ro(),Qn(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,d=gn(this._element);this._startPoint=new ft(l.clientX,l.clientY),this._startPos=ci(this._element),this._parentScale=ln(d);var p=i.type==="mousedown";Yt(document,p?"mousemove":"touchmove",this._onMove,this),Yt(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,d=new ft(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Oe(i),this._moved||(this.fire("dragstart"),this._moved=!0,Vt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Fe(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Le(document,"mousemove touchmove",this._onMove,this),Le(document,"mouseup touchend touchcancel",this._onUp,this),Cr(),tr();var l=this._moved&&this._moving;this._moving=!1,di._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function ya(i,l,d){var p,w=[1,4,2,8],N,H,J,tt,lt,wt,qt,re;for(N=0,wt=i.length;N<wt;N++)i[N]._code=Be(i[N],l);for(J=0;J<4;J++){for(qt=w[J],p=[],N=0,wt=i.length,H=wt-1;N<wt;H=N++)tt=i[N],lt=i[H],tt._code&qt?lt._code&qt||(re=Or(lt,tt,qt,l,d),re._code=Be(re,l),p.push(re)):(lt._code&qt&&(re=Or(lt,tt,qt,l,d),re._code=Be(re,l),p.push(re)),p.push(tt));i=p}return i}function La(i,l){var d,p,w,N,H,J,tt,lt,wt;if(!i||i.length===0)throw new Error("latlngs not passed");mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var qt=Bt([0,0]),re=kt(i),pn=re.getNorthWest().distanceTo(re.getSouthWest())*re.getNorthEast().distanceTo(re.getNorthWest());pn<1700&&(qt=ei(i));var Je=i.length,Yn=[];for(d=0;d<Je;d++){var Tn=Bt(i[d]);Yn.push(l.project(Bt([Tn.lat-qt.lat,Tn.lng-qt.lng])))}for(J=tt=lt=0,d=0,p=Je-1;d<Je;p=d++)w=Yn[d],N=Yn[p],H=w.y*N.x-N.y*w.x,tt+=(w.x+N.x)*H,lt+=(w.y+N.y)*H,J+=H*3;J===0?wt=Yn[0]:wt=[tt/J,lt/J];var Ls=l.unproject(st(wt));return Bt([Ls.lat+qt.lat,Ls.lng+qt.lng])}function ei(i){for(var l=0,d=0,p=0,w=0;w<i.length;w++){var N=Bt(i[w]);l+=N.lat,d+=N.lng,p++}return Bt([l/p,d/p])}var _n={__proto__:null,clipPolygon:ya,polygonCenter:La,centroid:ei};function Ea(i,l){if(!l||!i.length)return i.slice();var d=l*l;return i=go(i,d),i=fo(i,d),i}function ho(i,l,d){return Math.sqrt(Ar(i,l,d,!0))}function qu(i,l,d){return Ar(i,l,d)}function fo(i,l){var d=i.length,p=typeof Uint8Array<"u"?Uint8Array:Array,w=new p(d);w[0]=w[d-1]=1,ds(i,w,l,0,d-1);var N,H=[];for(N=0;N<d;N++)w[N]&&H.push(i[N]);return H}function ds(i,l,d,p,w){var N=0,H,J,tt;for(J=p+1;J<=w-1;J++)tt=Ar(i[J],i[p],i[w],!0),tt>N&&(H=J,N=tt);N>d&&(l[H]=1,ds(i,l,d,p,H),ds(i,l,d,H,w))}function go(i,l){for(var d=[i[0]],p=1,w=0,N=i.length;p<N;p++)Rr(i[p],i[w])>l&&(d.push(i[p]),w=p);return w<N-1&&d.push(i[N-1]),d}var _o;function bn(i,l,d,p,w){var N=p?_o:Be(i,d),H=Be(l,d),J,tt,lt;for(_o=H;;){if(!(N|H))return[i,l];if(N&H)return!1;J=N||H,tt=Or(i,l,J,d,w),lt=Be(tt,d),J===N?(i=tt,N=lt):(l=tt,H=lt)}}function Or(i,l,d,p,w){var N=l.x-i.x,H=l.y-i.y,J=p.min,tt=p.max,lt,wt;return d&8?(lt=i.x+N*(tt.y-i.y)/H,wt=tt.y):d&4?(lt=i.x+N*(J.y-i.y)/H,wt=J.y):d&2?(lt=tt.x,wt=i.y+H*(tt.x-i.x)/N):d&1&&(lt=J.x,wt=i.y+H*(J.x-i.x)/N),new ft(lt,wt,w)}function Be(i,l){var d=0;return i.x<l.min.x?d|=1:i.x>l.max.x&&(d|=2),i.y<l.min.y?d|=4:i.y>l.max.y&&(d|=8),d}function Rr(i,l){var d=l.x-i.x,p=l.y-i.y;return d*d+p*p}function Ar(i,l,d,p){var w=l.x,N=l.y,H=d.x-w,J=d.y-N,tt=H*H+J*J,lt;return tt>0&&(lt=((i.x-w)*H+(i.y-N)*J)/tt,lt>1?(w=d.x,N=d.y):lt>0&&(w+=H*lt,N+=J*lt)),H=i.x-w,J=i.y-N,p?H*H+J*J:new ft(w,N)}function mn(i){return!G(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function mo(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(i)}function po(i,l){var d,p,w,N,H,J,tt,lt;if(!i||i.length===0)throw new Error("latlngs not passed");mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var wt=Bt([0,0]),qt=kt(i),re=qt.getNorthWest().distanceTo(qt.getSouthWest())*qt.getNorthEast().distanceTo(qt.getNorthWest());re<1700&&(wt=ei(i));var pn=i.length,Je=[];for(d=0;d<pn;d++){var Yn=Bt(i[d]);Je.push(l.project(Bt([Yn.lat-wt.lat,Yn.lng-wt.lng])))}for(d=0,p=0;d<pn-1;d++)p+=Je[d].distanceTo(Je[d+1])/2;if(p===0)lt=Je[0];else for(d=0,N=0;d<pn-1;d++)if(H=Je[d],J=Je[d+1],w=H.distanceTo(J),N+=w,N>p){tt=(N-p)/w,lt=[J.x-tt*(J.x-H.x),J.y-tt*(J.y-H.y)];break}var Tn=l.unproject(st(lt));return Bt([Tn.lat+wt.lat,Tn.lng+wt.lng])}var vo={__proto__:null,simplify:Ea,pointToSegmentDistance:ho,closestPointOnSegment:qu,clipSegment:bn,_getEdgeIntersection:Or,_getBitCode:Be,_sqClosestPointOnSegment:Ar,isFlat:mn,_flat:mo,polylineCenter:po},yo={project:function(i){return new ft(i.lng,i.lat)},unproject:function(i){return new $t(i.y,i.x)},bounds:new Ft([-180,-90],[180,90])},Lo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ft([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,d=this.R,p=i.lat*l,w=this.R_MINOR/d,N=Math.sqrt(1-w*w),H=N*Math.sin(p),J=Math.tan(Math.PI/4-p/2)/Math.pow((1-H)/(1+H),N/2);return p=-d*Math.log(Math.max(J,1e-10)),new ft(i.lng*l*d,p)},unproject:function(i){for(var l=180/Math.PI,d=this.R,p=this.R_MINOR/d,w=Math.sqrt(1-p*p),N=Math.exp(-i.y/d),H=Math.PI/2-2*Math.atan(N),J=0,tt=.1,lt;J<15&&Math.abs(tt)>1e-7;J++)lt=w*Math.sin(H),lt=Math.pow((1-lt)/(1+lt),w/2),tt=Math.PI/2-2*Math.atan(N*lt)-H,H+=tt;return new $t(H*l,i.x*l/d)}},$u={__proto__:null,LonLat:yo,Mercator:Lo,SphericalMercator:gt},Zu=s({},F,{code:"EPSG:3395",projection:Lo,transformation:function(){var i=.5/(Math.PI*Lo.R);return T(i,.5,-i,.5)}()}),ka=s({},F,{code:"EPSG:4326",projection:yo,transformation:T(1/180,1,-1/180,.5)}),Vu=s({},it,{projection:yo,transformation:T(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var d=l.lng-i.lng,p=l.lat-i.lat;return Math.sqrt(d*d+p*p)},infinite:!0});it.Earth=F,it.EPSG3395=Zu,it.EPSG3857=D,it.EPSG900913=j,it.EPSG4326=ka,it.Simple=Vu;var On=Pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[v(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[v(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=v(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return v(i)in this._layers},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},_addLayers:function(i){i=i?G(i)?i:[i]:[];for(var l=0,d=i.length;l<d;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[v(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=v(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var w=this._zoomBoundLayers[p].options;i=w.minZoom===void 0?i:Math.min(i,w.minZoom),l=w.maxZoom===void 0?l:Math.max(l,w.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var rr=On.extend({initialize:function(i,l){U(this,l),this._layers={};var d,p;if(i)for(d=0,p=i.length;d<p;d++)this.addLayer(i[d])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[i]&&p[i].apply(p,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return v(i)}}),xa=function(i,l){return new rr(i,l)},ni=rr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),rr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),rr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ne;for(var l in this._layers){var d=this._layers[l];i.extend(d.getBounds?d.getBounds():d.getLatLng())}return i}}),wa=function(i,l){return new ni(i,l)},sr=dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){U(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var d=this._getIconUrl(i);if(!d){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(i,l){var d=this.options,p=d[l+"Size"];typeof p=="number"&&(p=[p,p]);var w=st(p),N=st(l==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(d.className||""),N&&(i.style.marginLeft=-N.x+"px",i.style.marginTop=-N.y+"px"),w&&(i.style.width=w.x+"px",i.style.height=w.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return At.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Yu(i){return new sr(i)}var Dr=sr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Dr.imagePath!="string"&&(Dr.imagePath=this._detectIconPath()),(this.options.imagePath||Dr.imagePath)+sr.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(d,p,w){var N=p.exec(d);return N&&N[w]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=oe("div","leaflet-default-icon-path",document.body),l=Bn(i,"background-image")||Bn(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),ba=qn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new di(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Vt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,d=l._map,p=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,N=ci(l._icon),H=d.getPixelBounds(),J=d.getPixelOrigin(),tt=Gt(H.min._subtract(J).add(w),H.max._subtract(J).subtract(w));if(!tt.contains(N)){var lt=st((Math.max(tt.max.x,N.x)-tt.max.x)/(H.max.x-tt.max.x)-(Math.min(tt.min.x,N.x)-tt.min.x)/(H.min.x-tt.min.x),(Math.max(tt.max.y,N.y)-tt.max.y)/(H.max.y-tt.max.y)-(Math.min(tt.min.y,N.y)-tt.min.y)/(H.min.y-tt.min.y)).multiplyBy(p);d.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),Fe(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Nt(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Tt(this._panRequest),this._panRequest=Nt(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,d=l._shadow,p=ci(l._icon),w=l._map.layerPointToLatLng(p);d&&Fe(d,p),l._latlng=w,i.latlng=w,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),gs=On.extend({options:{icon:new Dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){U(this,l),this._latlng=Bt(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=Bt(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=i.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,i.title&&(d.title=i.title),d.tagName==="IMG"&&(d.alt=i.alt||"")),Vt(d,l),i.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(d,"focus",this._panOnFocus,this);var w=i.icon.createShadow(this._shadow),N=!1;w!==this._shadow&&(this._removeShadow(),N=!0),w&&(Vt(w,l),w.alt=""),this._shadow=w,i.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&N&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Fe(this._icon,i),this._shadow&&Fe(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ba)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ba(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&$e(this._icon,i),this._shadow&&$e(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,d=l.iconSize?st(l.iconSize):st(0,0),p=l.iconAnchor?st(l.iconAnchor):st(0,0);i.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wu(i,l){return new gs(i,l)}var gi=On.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return U(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fr=gi.extend({options:{fill:!0,radius:10},initialize:function(i,l){U(this,l),this._latlng=Bt(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=Bt(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return gi.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,d=this._clickTolerance(),p=[i+d,l+d];this._pxBounds=new Ft(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ta(i,l){return new Fr(i,l)}var _s=Fr.extend({initialize:function(i,l,d){if(typeof l=="number"&&(l=s({},d,{radius:l})),U(this,l),this._latlng=Bt(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:gi.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===F.distance){var w=Math.PI/180,N=this._mRadius/F.R/w,H=d.project([l+N,i]),J=d.project([l-N,i]),tt=H.add(J).divideBy(2),lt=d.unproject(tt).lat,wt=Math.acos((Math.cos(N*w)-Math.sin(l*w)*Math.sin(lt*w))/(Math.cos(l*w)*Math.cos(lt*w)))/w;(isNaN(wt)||wt===0)&&(wt=N/Math.cos(Math.PI/180*l)),this._point=tt.subtract(d.getPixelOrigin()),this._radius=isNaN(wt)?0:tt.x-d.project([lt,i-wt]).x,this._radiusY=tt.y-H.y}else{var qt=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(qt).x}this._updateBounds()}});function Xu(i,l,d){return new _s(i,l,d)}var $n=gi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){U(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,d=null,p=Ar,w,N,H=0,J=this._parts.length;H<J;H++)for(var tt=this._parts[H],lt=1,wt=tt.length;lt<wt;lt++){w=tt[lt-1],N=tt[lt];var qt=p(i,w,N,!0);qt<l&&(l=qt,d=p(i,w,N))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return po(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=Bt(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ne,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],d=mn(i),p=0,w=i.length;p<w;p++)d?(l[p]=Bt(i[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(i[p]);return l},_project:function(){var i=new Ft;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new ft(i,i);this._rawPxBounds&&(this._pxBounds=new Ft([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,d){var p=i[0]instanceof $t,w=i.length,N,H;if(p){for(H=[],N=0;N<w;N++)H[N]=this._map.latLngToLayerPoint(i[N]),d.extend(H[N]);l.push(H)}else for(N=0;N<w;N++)this._projectLatlngs(i[N],l,d)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,p,w,N,H,J,tt;for(d=0,w=0,N=this._rings.length;d<N;d++)for(tt=this._rings[d],p=0,H=tt.length;p<H-1;p++)J=bn(tt[p],tt[p+1],i,p,!0),J&&(l[w]=l[w]||[],l[w].push(J[0]),(J[1]!==tt[p+1]||p===H-2)&&(l[w].push(J[1]),w++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,d=0,p=i.length;d<p;d++)i[d]=Ea(i[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var d,p,w,N,H,J,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(d=0,N=this._parts.length;d<N;d++)for(J=this._parts[d],p=0,H=J.length,w=H-1;p<H;w=p++)if(!(!l&&p===0)&&ho(i,J[w],J[p])<=tt)return!0;return!1}});function Eo(i,l){return new $n(i,l)}$n._flat=mo;var or=$n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return La(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=$n.prototype._convertLatLngs.call(this,i),d=l.length;return d>=2&&l[0]instanceof $t&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(i){$n.prototype._setLatLngs.call(this,i),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,d=new ft(l,l);if(i=new Ft(i.min.subtract(d),i.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,w=this._rings.length,N;p<w;p++)N=ya(this._rings[p],i,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,d,p,w,N,H,J,tt,lt;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(N=0,tt=this._parts.length;N<tt;N++)for(d=this._parts[N],H=0,lt=d.length,J=lt-1;H<lt;J=H++)p=d[H],w=d[J],p.y>i.y!=w.y>i.y&&i.x<(w.x-p.x)*(i.y-p.y)/(w.y-p.y)+p.x&&(l=!l);return l||$n.prototype._containsPoint.call(this,i,!0)}});function Ia(i,l){return new or(i,l)}var Zn=ni.extend({initialize:function(i,l){U(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=G(i)?i:i.features,d,p,w;if(l){for(d=0,p=l.length;d<p;d++)w=l[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var N=this.options;if(N.filter&&!N.filter(i))return this;var H=ms(i,N);return H?(H.feature=a(i),H.defaultOptions=H.options,this.resetStyle(H),N.onEachFeature&&N.onEachFeature(i,H),this.addLayer(H)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function ms(i,l){var d=i.type==="Feature"?i.geometry:i,p=d?d.coordinates:null,w=[],N=l&&l.pointToLayer,H=l&&l.coordsToLatLng||_i,J,tt,lt,wt;if(!p&&!d)return null;switch(d.type){case"Point":return J=H(p),Sa(N,i,J,l);case"MultiPoint":for(lt=0,wt=p.length;lt<wt;lt++)J=H(p[lt]),w.push(Sa(N,i,J,l));return new ni(w);case"LineString":case"MultiLineString":return tt=ps(p,d.type==="LineString"?0:1,H),new $n(tt,l);case"Polygon":case"MultiPolygon":return tt=ps(p,d.type==="Polygon"?1:2,H),new or(tt,l);case"GeometryCollection":for(lt=0,wt=d.geometries.length;lt<wt;lt++){var qt=ms({geometry:d.geometries[lt],type:"Feature",properties:i.properties},l);qt&&w.push(qt)}return new ni(w);case"FeatureCollection":for(lt=0,wt=d.features.length;lt<wt;lt++){var re=ms(d.features[lt],l);re&&w.push(re)}return new ni(w);default:throw new Error("Invalid GeoJSON object.")}}function Sa(i,l,d,p){return i?i(l,d):new gs(d,p&&p.markersInheritOptions&&p)}function _i(i){return new $t(i[1],i[0],i[2])}function ps(i,l,d){for(var p=[],w=0,N=i.length,H;w<N;w++)H=l?ps(i[w],l-1,d):(d||_i)(i[w]),p.push(H);return p}function vs(i,l){return i=Bt(i),i.alt!==void 0?[I(i.lng,l),I(i.lat,l),I(i.alt,l)]:[I(i.lng,l),I(i.lat,l)]}function nn(i,l,d,p){for(var w=[],N=0,H=i.length;N<H;N++)w.push(l?nn(i[N],mn(i[N])?0:l-1,d,p):vs(i[N],p));return!l&&d&&w.length>0&&w.push(w[0].slice()),w}function rn(i,l){return i.feature?s({},i.feature,{geometry:l}):a(l)}function a(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var e={toGeoJSON:function(i){return rn(this,{type:"Point",coordinates:vs(this.getLatLng(),i)})}};gs.include(e),_s.include(e),Fr.include(e),$n.include({toGeoJSON:function(i){var l=!mn(this._latlngs),d=nn(this._latlngs,l?1:0,!1,i);return rn(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),or.include({toGeoJSON:function(i){var l=!mn(this._latlngs),d=l&&!mn(this._latlngs[0]),p=nn(this._latlngs,d?2:l?1:0,!0,i);return l||(p=[p]),rn(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),rr.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(i).geometry.coordinates)}),rn(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var d=l==="GeometryCollection",p=[];return this.eachLayer(function(w){if(w.toGeoJSON){var N=w.toGeoJSON(i);if(d)p.push(N.geometry);else{var H=a(N);H.type==="FeatureCollection"?p.push.apply(p,H.features):p.push(H)}}}),d?rn(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function n(i,l){return new Zn(i,l)}var o=n,f=On.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,d){this._url=i,this._bounds=kt(l),U(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Qi(this._image),this},bringToBack:function(){return this._map&&Ci(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=kt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:oe("img");if(Vt(l,"leaflet-image-layer"),this._zoomAnimated&&Vt(l,"leaflet-zoom-animated"),this.options.className&&Vt(l,this.options.className),l.onselectstart=k,l.onmousemove=k,l.onload=g(this.fire,this,"load"),l.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Pi(this._image,d,l)},_reset:function(){var i=this._image,l=new Ft(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();Fe(i,l.min),i.style.width=d.x+"px",i.style.height=d.y+"px"},_updateOpacity:function(){$e(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),m=function(i,l,d){return new f(i,l,d)},y=f.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:oe("video");if(Vt(l,"leaflet-image-layer"),this._zoomAnimated&&Vt(l,"leaflet-zoom-animated"),this.options.className&&Vt(l,this.options.className),l.onselectstart=k,l.onmousemove=k,l.onloadeddata=g(this.fire,this,"load"),i){for(var d=l.getElementsByTagName("source"),p=[],w=0;w<d.length;w++)p.push(d[w].src);this._url=d.length>0?p:[l.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var H=oe("source");H.src=this._url[N],l.appendChild(H)}}});function b(i,l,d){return new y(i,l,d)}var S=f.extend({_initImage:function(){var i=this._image=this._url;Vt(i,"leaflet-image-layer"),this._zoomAnimated&&Vt(i,"leaflet-zoom-animated"),this.options.className&&Vt(i,this.options.className),i.onselectstart=k,i.onmousemove=k}});function O(i,l,d){return new S(i,l,d)}var $=On.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof $t||G(i))?(this._latlng=Bt(i),U(this,l)):(U(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&$e(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&$e(this._container,1),this.bringToFront(),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?($e(this._container,0),this._removeTimeout=setTimeout(g(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Bt(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qi(this._container),this},bringToBack:function(){return this._map&&Ci(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof ni){l=null;var d=this._source._layers;for(var p in d)if(d[p]._map){l=d[p];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=st(this.options.offset),d=this._getAnchor();this._zoomAnimated?Fe(this._container,i.add(d)):l=l.add(i).add(d);var p=this._containerBottom=-l.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(i,l,d,p){var w=l;return w instanceof i||(w=new i(p).setContent(l)),d&&w.setLatLng(d),w}}),On.include({_initOverlay:function(i,l,d,p){var w=d;return w instanceof i?(U(w,p),w._source=this):(w=l&&!p?l:new i(p,this),w.setContent(d)),w}});var K=$.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,$.prototype.openOn.call(this,i)},onAdd:function(i){$.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gi||this._source.on("preclick",Xe))},onRemove:function(i){$.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gi||this._source.off("preclick",Xe))},getEvents:function(){var i=$.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=oe("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=oe("div",i+"-content-wrapper",l);if(this._contentNode=oe("div",i+"-content",d),ir(l),Mr(this._contentNode),Yt(l,"contextmenu",Xe),this._tipContainer=oe("div",i+"-tip-container",l),this._tip=oe("div",i+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=oe("a",i+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Yt(p,"click",function(w){Oe(w),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var d=i.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var p=i.offsetHeight,w=this.options.maxHeight,N="leaflet-popup-scrolled";w&&p>w?(l.height=w+"px",Vt(i,N)):ge(i,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),d=this._getAnchor();Fe(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Bn(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,p=this._containerWidth,w=new ft(this._containerLeft,-d-this._containerBottom);w._add(ci(this._container));var N=i.layerPointToContainerPoint(w),H=st(this.options.autoPanPadding),J=st(this.options.autoPanPaddingTopLeft||H),tt=st(this.options.autoPanPaddingBottomRight||H),lt=i.getSize(),wt=0,qt=0;N.x+p+tt.x>lt.x&&(wt=N.x+p-lt.x+tt.x),N.x-wt-J.x<0&&(wt=N.x-J.x),N.y+d+tt.y>lt.y&&(qt=N.y+d-lt.y+tt.y),N.y-qt-J.y<0&&(qt=N.y-J.y),(wt||qt)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([wt,qt]))}},_getAnchor:function(){return st(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ut=function(i,l){return new K(i,l)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(i,l,d){return this._initOverlay(K,i,l,d).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),On.include({bindPopup:function(i,l){return this._popup=this._initOverlay(K,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof ni||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){hi(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof gi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Et=$.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){$.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){$.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=$.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,d,p=this._map,w=this._container,N=p.latLngToContainerPoint(p.getCenter()),H=p.layerPointToContainerPoint(i),J=this.options.direction,tt=w.offsetWidth,lt=w.offsetHeight,wt=st(this.options.offset),qt=this._getAnchor();J==="top"?(l=tt/2,d=lt):J==="bottom"?(l=tt/2,d=0):J==="center"?(l=tt/2,d=lt/2):J==="right"?(l=0,d=lt/2):J==="left"?(l=tt,d=lt/2):H.x<N.x?(J="right",l=0,d=lt/2):(J="left",l=tt+(wt.x+qt.x)*2,d=lt/2),i=i.subtract(st(l,d,!0)).add(wt).add(qt),ge(w,"leaflet-tooltip-right"),ge(w,"leaflet-tooltip-left"),ge(w,"leaflet-tooltip-top"),ge(w,"leaflet-tooltip-bottom"),Vt(w,"leaflet-tooltip-"+J),Fe(w,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&$e(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return st(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ct=function(i,l){return new Et(i,l)};Wt.include({openTooltip:function(i,l,d){return this._initOverlay(Et,i,l,d).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),On.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Et,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof ni||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(Yt(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Yt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,d,p;this._tooltip.options.sticky&&i.originalEvent&&(d=this._map.mouseEventToContainerPoint(i.originalEvent),p=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var Dt=sr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),d=this.options;if(d.html instanceof Element?(ss(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=st(d.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function ae(i){return new Dt(i)}sr.Default=Dr;var te=On.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){U(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ne(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ci(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ft?i:new ft(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,d=-i(-1/0,1/0),p=0,w=l.length,N;p<w;p++)N=l[p].style.zIndex,l[p]!==this._container&&N&&(d=i(d,+N));isFinite(d)&&(this.options.zIndex=d+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){$e(this._container,this.options.opacity);var i=+new Date,l=!1,d=!1;for(var p in this._tiles){var w=this._tiles[p];if(!(!w.current||!w.loaded)){var N=Math.min(1,(i-w.loaded)/200);$e(w.el,N),N<1?l=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(Tt(this._fadeFrame),this._fadeFrame=Nt(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===i?(this._levels[d].el.style.zIndex=l-Math.abs(i-d),this._onUpdateLevel(d)):(Ne(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[i],w=this._map;return p||(p=this._levels[i]={},p.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=w.project(w.unproject(w.getPixelOrigin()),i).round(),p.zoom=i,this._setZoomTransform(p,w.getCenter(),w.getZoom()),k(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var i,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ne(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,d,p){var w=Math.floor(i/2),N=Math.floor(l/2),H=d-1,J=new ft(+w,+N);J.z=+H;var tt=this._tileCoordsToKey(J),lt=this._tiles[tt];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),H>p?this._retainParent(w,N,H,p):!1)},_retainChildren:function(i,l,d,p){for(var w=2*i;w<2*i+2;w++)for(var N=2*l;N<2*l+2;N++){var H=new ft(w,N);H.z=d+1;var J=this._tileCoordsToKey(H),tt=this._tiles[J];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);d+1<p&&this._retainChildren(w,N,d+1,p)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,d,p){var w=Math.round(l);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var N=this.options.updateWhenZooming&&w!==this._tileZoom;(!p||N)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(i),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],i,l)},_setZoomTransform:function(i,l,d){var p=this._map.getZoomScale(d,i.zoom),w=i.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,d)).round();At.any3d?Pi(i.el,w,p):Fe(i.el,w)},_resetGrid:function(){var i=this._map,l=i.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],p).x/d.x),Math.ceil(i.project([0,l.wrapLng[1]],p).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],p).y/d.x),Math.ceil(i.project([l.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(d,this._tileZoom),w=l.project(i,this._tileZoom).floor(),N=l.getSize().divideBy(p*2);return new Ft(w.subtract(N),w.add(N))},_update:function(i){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(i),w=this._pxBoundsToTileRange(p),N=w.getCenter(),H=[],J=this.options.keepBuffer,tt=new Ft(w.getBottomLeft().subtract([J,-J]),w.getTopRight().add([J,-J]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var wt=this._tiles[lt].coords;(wt.z!==this._tileZoom||!tt.contains(new ft(wt.x,wt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(i,d);return}for(var qt=w.min.y;qt<=w.max.y;qt++)for(var re=w.min.x;re<=w.max.x;re++){var pn=new ft(re,qt);if(pn.z=this._tileZoom,!!this._isValidTile(pn)){var Je=this._tiles[this._tileCoordsToKey(pn)];Je?Je.current=!0:H.push(pn)}}if(H.sort(function(Tn,Ls){return Tn.distanceTo(N)-Ls.distanceTo(N)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yn=document.createDocumentFragment();for(re=0;re<H.length;re++)this._addTile(H[re],Yn);this._level.el.appendChild(Yn)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(i.x<d.min.x||i.x>d.max.x)||!l.wrapLat&&(i.y<d.min.y||i.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(i);return kt(this.options.bounds).overlaps(p)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,d=this.getTileSize(),p=i.scaleBy(d),w=p.add(d),N=l.unproject(p,i.z),H=l.unproject(w,i.z);return[N,H]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),d=new ne(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),d=new ft(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(i){var l=this._tiles[i];l&&(Ne(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Vt(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=k,i.onmousemove=k,At.ielt9&&this.options.opacity<1&&$e(i,this.options.opacity)},_addTile:function(i,l){var d=this._getTilePos(i),p=this._tileCoordsToKey(i),w=this.createTile(this._wrapCoords(i),g(this._tileReady,this,i));this._initTile(w),this.createTile.length<2&&Nt(g(this._tileReady,this,i,null,w)),Fe(w,d),this._tiles[p]={el:w,coords:i,current:!0},l.appendChild(w),this.fire("tileloadstart",{tile:w,coords:i})},_tileReady:function(i,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:i});var p=this._tileCoordsToKey(i);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?($e(d.el,0),Tt(this._fadeFrame),this._fadeFrame=Nt(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Vt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?Nt(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new ft(this._wrapX?E(i.x,this._wrapX):i.x,this._wrapY?E(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new Ft(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Ee(i){return new te(i)}var Me=te.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=U(this,l),l.detectRetina&&At.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var d=document.createElement("img");return Yt(d,"load",g(this._tileOnLoad,this,l,d)),Yt(d,"error",g(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(i),d},getTileUrl:function(i){var l={r:At.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=d),l["-y"]=d}return B(this._url,s(l,this.options))},_tileOnLoad:function(i,l){At.ielt9?setTimeout(g(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,d){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),i(d,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(i=l-i),i+p},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=k,l.onerror=k,!l.complete)){l.src=X;var d=this._tiles[i].coords;Ne(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",X),te.prototype._removeTile.call(this,i)},_tileReady:function(i,l,d){if(!(!this._map||d&&d.getAttribute("src")===X))return te.prototype._tileReady.call(this,i,l,d)}});function Ze(i,l){return new Me(i,l)}var mi=Me.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var d=s({},this.defaultWmsParams);for(var p in l)p in this.options||(d[p]=l[p]);l=U(this,l);var w=l.detectRetina&&At.retina?2:1,N=this.getTileSize();d.width=N.x*w,d.height=N.y*w,this.wmsParams=d},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Me.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),d=this._crs,p=Gt(d.project(l[0]),d.project(l[1])),w=p.min,N=p.max,H=(this._wmsVersion>=1.3&&this._crs===ka?[w.y,w.x,N.y,N.x]:[w.x,w.y,N.x,N.y]).join(","),J=Me.prototype.getTileUrl.call(this,i);return J+W(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(i,l){return s(this.wmsParams,i),l||this.redraw(),this}});function zr(i,l){return new mi(i,l)}Me.WMS=mi,Ze.wms=zr;var Vn=On.extend({options:{padding:.1},initialize:function(i){U(this,i),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var d=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,l),N=p.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(i,l));At.any3d?Pi(this._container,N,d):Fe(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new Ft(d,d.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ko=Vn.extend({options:{tolerance:0},getEvents:function(){var i=Vn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Yt(i,"mousemove",this._onMouseMove,this),Yt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Yt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Tt(this._redrawRequest),delete this._ctx,Ne(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var i=this._bounds,l=this._container,d=i.getSize(),p=At.retina?2:1;Fe(l,i.min),l.width=p*d.x,l.height=p*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[v(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,d=l.next,p=l.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete i._order,delete this._layers[v(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),d=[],p,w;for(w=0;w<l.length;w++){if(p=Number(l[w]),isNaN(p))return;d.push(p)}i.options._dashArray=d}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Nt(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ft,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)i=p.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var d,p,w,N,H=i._parts,J=H.length,tt=this._ctx;if(J){for(tt.beginPath(),d=0;d<J;d++){for(p=0,w=H[d].length;p<w;p++)N=H[d][p],tt[p?"lineTo":"moveTo"](N.x,N.y);l&&tt.closePath()}this._fillStroke(tt,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,d=this._ctx,p=Math.max(Math.round(i._radius),1),w=(Math.max(Math.round(i._radiusY),1)||p)/p;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(l.x,l.y/w,p,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,i)}},_fillStroke:function(i,l){var d=l.options;d.fill&&(i.globalAlpha=d.fillOpacity,i.fillStyle=d.fillColor||d.color,i.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=d.opacity,i.lineWidth=d.weight,i.strokeStyle=d.color,i.lineCap=d.lineCap,i.lineJoin=d.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),d,p,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(ge(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var d,p,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(i),p&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([p],i,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,d){this._map._fireDOMEvent(l,d||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var d=l.next,p=l.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var d=l.next,p=l.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function xo(i){return At.canvas?new ko(i):null}var ar=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Na={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=ar("shape");Vt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=ar("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Ne(l),i.removeInteractiveTarget(l),delete this._layers[v(i)]},_updateStyle:function(i){var l=i._stroke,d=i._fill,p=i.options,w=i._container;w.stroked=!!p.stroke,w.filled=!!p.fill,p.stroke?(l||(l=i._stroke=ar("stroke")),w.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=G(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(w.removeChild(l),i._stroke=null),p.fill?(d||(d=i._fill=ar("fill")),w.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(w.removeChild(d),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),d=Math.round(i._radius),p=Math.round(i._radiusY||d);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Qi(i._container)},_bringToBack:function(i){Ci(i._container)}},Br=At.vml?ar:nt,Ri=Vn.extend({_initContainer:function(){this._container=Br("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Br("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var i=this._bounds,l=i.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),Fe(d,i.min),d.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Br("path");i.options.className&&Vt(l,i.options.className),i.options.interactive&&Vt(l,"leaflet-interactive"),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ne(i._path),i.removeInteractiveTarget(i._path),delete this._layers[v(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,d=i.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,ot(i._parts,l))},_updateCircle:function(i){var l=i._point,d=Math.max(Math.round(i._radius),1),p=Math.max(Math.round(i._radiusY),1)||d,w="a"+d+","+p+" 0 1,0 ",N=i._empty()?"M0 0":"M"+(l.x-d)+","+l.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(i,N)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Qi(i._path)},_bringToBack:function(i){Ci(i._path)}});At.vml&&Ri.include(Na);function ys(i){return At.svg||At.vml?new Ri(i):null}Wt.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&xo(i)||ys(i)}});var Mc=or.extend({initialize:function(i,l){or.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=kt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function i_(i,l){return new Mc(i,l)}Ri.create=Br,Ri.pointsToPath=ot,Zn.geometryToLayer=ms,Zn.coordsToLatLng=_i,Zn.coordsToLatLngs=ps,Zn.latLngToCoords=vs,Zn.latLngsToCoords=nn,Zn.getFeature=rn,Zn.asFeature=a,Wt.mergeOptions({boxZoom:!0});var Oc=qn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qn(),ro(),this._startPoint=this._map.mouseEventToContainerPoint(i),Yt(document,{contextmenu:hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new Ft(this._point,this._startPoint),d=l.getSize();Fe(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ne(this._box),ge(this._container,"leaflet-crosshair")),tr(),Cr(),Le(document,{contextmenu:hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var l=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",Oc),Wt.mergeOptions({doubleClickZoom:!0});var Rc=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,d=l.getZoom(),p=l.options.zoomDelta,w=i.originalEvent.shiftKey?d-p:d+p;l.options.doubleClickZoom==="center"?l.setZoom(w):l.setZoomAround(i.containerPoint,w)}});Wt.addInitHook("addHandler","doubleClickZoom",Rc),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ac=qn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new di(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=kt(this._map.options.maxBounds);this._offsetLimit=Gt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,w=(p-l+d)%i+l-d,N=(p+l+d)%i-l-d,H=Math.abs(w+d)<Math.abs(N+d)?w:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(i){var l=this._map,d=l.options,p=!d.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),p)l.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,H=d.easeLinearity,J=w.multiplyBy(H/N),tt=J.distanceTo([0,0]),lt=Math.min(d.inertiaMaxSpeed,tt),wt=J.multiplyBy(lt/tt),qt=lt/(d.inertiaDeceleration*H),re=wt.multiplyBy(-qt/2).round();!re.x&&!re.y?l.fire("moveend"):(re=l._limitOffset(re,l.options.maxBounds),Nt(function(){l.panBy(re,{duration:qt,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",Ac),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dc=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Yt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,d=i.scrollTop||l.scrollTop,p=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},d=this.keyCodes,p,w;for(p=0,w=d.left.length;p<w;p++)l[d.left[p]]=[-1*i,0];for(p=0,w=d.right.length;p<w;p++)l[d.right[p]]=[i,0];for(p=0,w=d.down.length;p<w;p++)l[d.down[p]]=[0,i];for(p=0,w=d.up.length;p<w;p++)l[d.up[p]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},d=this.keyCodes,p,w;for(p=0,w=d.zoomIn.length;p<w;p++)l[d.zoomIn[p]]=i;for(p=0,w=d.zoomOut.length;p<w;p++)l[d.zoomOut[p]]=-i},_addHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,d=this._map,p;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[l],i.shiftKey&&(p=st(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(st(p),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(w)}else d.panBy(p)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;hi(i)}}});Wt.addInitHook("addHandler","keyboard",Dc),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fc=qn.extend({addHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=lo(i),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),p),hi(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),d=this._map.options.zoomSnap||0;i._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,N=d?Math.ceil(w/d)*d:w,H=i._limitZoom(l+(this._delta>0?N:-N))-l;this._delta=0,this._startTime=null,H&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+H):i.setZoomAround(this._lastMousePos,l+H))}});Wt.addInitHook("addHandler","scrollWheelZoom",Fc);var r_=600;Wt.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var zc=qn.extend({addHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new ft(l.clientX,l.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Yt(document,"touchend",Oe),Yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),r_),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Le(document,"touchend",Oe),Le(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new ft(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var d=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Wt.addInitHook("addHandler","tapHold",zc),Wt.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var Bc=qn.extend({addHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),Oe(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]),w=d.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(w,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&w<1||this._zoom>l.getMaxZoom()&&w>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var N=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(w===1&&N.x===0&&N.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Tt(this._animRequest);var H=g(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Nt(H,this,!0),Oe(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Tt(this._animRequest),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",Bc),Wt.BoxZoom=Oc,Wt.DoubleClickZoom=Rc,Wt.Drag=Ac,Wt.Keyboard=Dc,Wt.ScrollWheelZoom=Fc,Wt.TapHold=zc,Wt.TouchZoom=Bc,u.Bounds=Ft,u.Browser=At,u.CRS=it,u.Canvas=ko,u.Circle=_s,u.CircleMarker=Fr,u.Class=dt,u.Control=Mn,u.DivIcon=Dt,u.DivOverlay=$,u.DomEvent=zu,u.DomUtil=us,u.Draggable=di,u.Evented=Pt,u.FeatureGroup=ni,u.GeoJSON=Zn,u.GridLayer=te,u.Handler=qn,u.Icon=sr,u.ImageOverlay=f,u.LatLng=$t,u.LatLngBounds=ne,u.Layer=On,u.LayerGroup=rr,u.LineUtil=vo,u.Map=Wt,u.Marker=gs,u.Mixin=Hu,u.Path=gi,u.Point=ft,u.PolyUtil=_n,u.Polygon=or,u.Polyline=$n,u.Popup=K,u.PosAnimation=co,u.Projection=$u,u.Rectangle=Mc,u.Renderer=Vn,u.SVG=Ri,u.SVGOverlay=S,u.TileLayer=Me,u.Tooltip=Et,u.Transformation=_t,u.Util=Kt,u.VideoOverlay=y,u.bind=g,u.bounds=Gt,u.canvas=xo,u.circle=Xu,u.circleMarker=Ta,u.control=Ke,u.divIcon=ae,u.extend=s,u.featureGroup=wa,u.geoJSON=n,u.geoJson=o,u.gridLayer=Ee,u.icon=Yu,u.imageOverlay=m,u.latLng=Bt,u.latLngBounds=kt,u.layerGroup=xa,u.map=hs,u.marker=Wu,u.point=st,u.polygon=Ia,u.polyline=Eo,u.popup=ut,u.rectangle=i_,u.setOptions=U,u.stamp=v,u.svg=ys,u.svgOverlay=O,u.tileLayer=Ze,u.tooltip=Ct,u.transformation=T,u.version=c,u.videoOverlay=b;var s_=window.L;u.noConflict=function(){return window.L=s_,this},window.L=u})}(Mo,Mo.exports)),Mo.exports}var tL=Q0();const cr=xg(tL);(function(t,r,u){function c(s,h){for(;(s=s.parentElement)&&!s.classList.contains(h););return s}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(s,h){this._map=s,this._container=s._container,this._overlayPane=s._panes.overlayPane,this._popupPane=s._panes.popupPane,h&&h.shapeOptions&&(h.shapeOptions=L.Util.extend({},this.options.shapeOptions,h.shapeOptions)),L.setOptions(this,h);var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var s=this._map;s&&(L.DomUtil.disableTextSelection(),s.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(s){L.setOptions(this,s)},_fireCreatedEvent:function(s){this._map.fire(L.Draw.Event.CREATED,{layer:s,layerType:this.type})},_cancelDrawing:function(s){s.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(s,h){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,h&&h.drawError&&(h.drawError=L.Util.extend({},this.options.drawError,h.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,s,h)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var s=this._markers.pop(),h=this._poly,g=h.getLatLngs(),_=g.splice(-1,1)[0];this._poly.setLatLngs(g),this._markerGroup.removeLayer(s),h.getLatLngs().length<2&&this._map.removeLayer(h),this._vertexChanged(_,!1)}},addVertex:function(s){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(s))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(s)),this._poly.addLatLng(s),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(s,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var s=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),h=this._poly.newLatLngIntersects(s[s.length-1]);if(!this.options.allowIntersection&&h||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(s){var h=this._map.mouseEventToLayerPoint(s.originalEvent),g=this._map.layerPointToLatLng(h);this._currentLatLng=g,this._updateTooltip(g),this._updateGuide(h),this._mouseMarker.setLatLng(g),L.DomEvent.preventDefault(s.originalEvent)},_vertexChanged:function(s,h){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(s,h),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(s){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(s),this._clickHandled=!0,this._disableNewMarkers();var h=s.originalEvent,g=h.clientX,_=h.clientY;this._startPoint.call(this,g,_)}},_startPoint:function(s,h){this._mouseDownOrigin=L.point(s,h)},_onMouseUp:function(s){var h=s.originalEvent,g=h.clientX,_=h.clientY;this._endPoint.call(this,g,_,s),this._clickHandled=null},_endPoint:function(s,h,g){if(this._mouseDownOrigin){var _=L.point(s,h).distanceTo(this._mouseDownOrigin),v=this._calculateFinishDistance(g.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(g.latlng),this._finishShape()):v<10&&L.Browser.touch?this._finishShape():Math.abs(_)<9*(t.devicePixelRatio||1)&&this.addVertex(g.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(s){var h,g,_=s.originalEvent;!_.touches||!_.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(h=_.touches[0].clientX,g=_.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,h,g),this._endPoint.call(this,h,g,s),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(s){var h;if(this._markers.length>0){var g;if(this.type===L.Draw.Polyline.TYPE)g=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;g=this._markers[0]}var _=this._map.latLngToContainerPoint(g.getLatLng()),v=new L.Marker(s,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),x=this._map.latLngToContainerPoint(v.getLatLng());h=_.distanceTo(x)}else h=1/0;return h},_updateFinishHandler:function(){var s=this._markers.length;s>1&&this._markers[s-1].on("click",this._finishShape,this),s>2&&this._markers[s-2].off("click",this._finishShape,this)},_createMarker:function(s){var h=new L.Marker(s,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(h),h},_updateGuide:function(s){var h=this._markers?this._markers.length:0;h>0&&(s=s||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[h-1].getLatLng()),s))},_updateTooltip:function(s){var h=this._getTooltipText();s&&this._tooltip.updatePosition(s),this._errorShown||this._tooltip.updateContent(h)},_drawGuide:function(s,h){var g,_,v,x=Math.floor(Math.sqrt(Math.pow(h.x-s.x,2)+Math.pow(h.y-s.y,2))),E=this.options.guidelineDistance,k=this.options.maxGuideLineLength,I=x>k?x-k:E;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));I<x;I+=this.options.guidelineDistance)g=I/x,_={x:Math.floor(s.x*(1-g)+g*h.x),y:Math.floor(s.y*(1-g)+g*h.y)},v=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),v.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(v,_)},_updateGuideColor:function(s){if(this._guidesContainer)for(var h=0,g=this._guidesContainer.childNodes.length;h<g;h++)this._guidesContainer.childNodes[h].style.backgroundColor=s},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var s,h,g=this.options.showLength;return this._markers.length===0?s={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(h=g?this._getMeasurementString():"",s=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:h}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:h}),s},_updateRunningMeasure:function(s,h){var g,_,v=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(g=v-(h?2:1),_=L.GeometryUtil.isVersion07x()?s.distanceTo(this._markers[g].getLatLng())*(this.options.factor||1):this._map.distance(s,this._markers[g].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=_*(h?1:-1))},_getMeasurementString:function(){var s,h=this._currentLatLng,g=this._markers[this._markers.length-1].getLatLng();return s=L.GeometryUtil.isVersion07x()?g&&h&&h.distanceTo?this._measurementRunningTotal+h.distanceTo(g)*(this.options.factor||1):this._measurementRunningTotal||0:g&&h?this._measurementRunningTotal+this._map.distance(h,g)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(s,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var s=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,s)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(s,h){L.Draw.Polyline.prototype.initialize.call(this,s,h),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var s=this._markers.length;s===1&&this._markers[0].on("click",this._finishShape,this),s>2&&(this._markers[s-1].on("dblclick",this._finishShape,this),s>3&&this._markers[s-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var s,h;return this._markers.length===0?s=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(s=L.drawLocal.draw.handlers.polygon.tooltip.cont,h=this._getMeasurementString()):(s=L.drawLocal.draw.handlers.polygon.tooltip.end,h=this._getMeasurementString()),{text:s,subtext:h}},_getMeasurementString:function(){var s=this._area,h="";return s||this.options.showLength?(this.options.showLength&&(h=L.Draw.Polyline.prototype._getMeasurementString.call(this)),s&&(h+="<br>"+L.GeometryUtil.readableArea(s,this.options.metric,this.options.precision)),h):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(s,h){var g;!this.options.allowIntersection&&this.options.showArea&&(g=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(g)),L.Draw.Polyline.prototype._vertexChanged.call(this,s,h)},_cleanUpShape:function(){var s=this._markers.length;s>0&&(this._markers[0].off("click",this._finishShape,this),s>2&&this._markers[s-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(s,h){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,s,h)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),r.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(r,"mouseup",this._onMouseUp,this),L.DomEvent.off(r,"touchend",this._onMouseUp,this),r.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(s){this._isDrawing=!0,this._startLatLng=s.latlng,L.DomEvent.on(r,"mouseup",this._onMouseUp,this).on(r,"touchend",this._onMouseUp,this).preventDefault(s.originalEvent)},_onMouseMove:function(s){var h=s.latlng;this._tooltip.updatePosition(h),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(h))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(s,h){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,s,h)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(s){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!c(s.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(s){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,s)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,s),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var s=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,s)},_getTooltipText:function(){var s,h,g,_=L.Draw.SimpleShape.prototype._getTooltipText.call(this),v=this._shape,x=this.options.showArea;return v&&(s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),h=L.GeometryUtil.geodesicArea(s),g=x?L.GeometryUtil.readableArea(h,this.options.metric):""),{text:_.text,subtext:g}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(s,h){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,s,h)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(s){var h=s.latlng;this._tooltip.updatePosition(h),this._mouseMarker.setLatLng(h),this._marker?(h=this._mouseMarker.getLatLng(),this._marker.setLatLng(h)):(this._marker=this._createMarker(h),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(s){return new L.Marker(s,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(s){this._onMouseMove(s),this._onClick()},_fireCreatedEvent:function(){var s=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,s)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(s,h){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,s,h)},_fireCreatedEvent:function(){var s=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,s)},_createMarker:function(s){return new L.CircleMarker(s,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(s,h){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,s,h)},_drawShape:function(s){if(L.GeometryUtil.isVersion07x())var h=this._startLatLng.distanceTo(s);else var h=this._map.distance(this._startLatLng,s);this._shape?this._shape.setRadius(h):(this._shape=new L.Circle(this._startLatLng,h,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var s=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,s)},_onMouseMove:function(s){var h,g=s.latlng,_=this.options.showRadius,v=this.options.metric;if(this._tooltip.updatePosition(g),this._isDrawing){this._drawShape(g),h=this._shape.getRadius().toFixed(1);var x="";_&&(x=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(h,v,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:x})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(s,h){this._marker=s,L.setOptions(this,h)},addHooks:function(){var s=this._marker;s.dragging.enable(),s.on("dragend",this._onDragEnd,s),this._toggleMarkerHighlight()},removeHooks:function(){var s=this._marker;s.dragging.disable(),s.off("dragend",this._onDragEnd,s),this._toggleMarkerHighlight()},_onDragEnd:function(s){var h=s.target;h.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:h})},_toggleMarkerHighlight:function(){var s=this._marker._icon;s&&(s.style.display="none",L.DomUtil.hasClass(s,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(s,"leaflet-edit-marker-selected"),this._offsetMarker(s,-4)):(L.DomUtil.addClass(s,"leaflet-edit-marker-selected"),this._offsetMarker(s,4)),s.style.display="")},_offsetMarker:function(s,h){var g=parseInt(s.style.marginTop,10)-h,_=parseInt(s.style.marginLeft,10)-h;s.style.marginTop=g+"px",s.style.marginLeft=_+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(s){this.latlngs=[s._latlngs],s._holes&&(this.latlngs=this.latlngs.concat(s._holes)),this._poly=s,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(s){for(var h=0;h<this._verticesHandlers.length;h++)s(this._verticesHandlers[h])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(s){s.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(s){s.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(s){s.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var s=0;s<this.latlngs.length;s++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[s],this._poly.options.poly))},_updateLatLngs:function(s){this.latlngs=[s.layer._latlngs],s.layer._holes&&(this.latlngs=this.latlngs.concat(s.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(s,h,g){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=s,g&&g.drawError&&(g.drawError=L.Util.extend({},this.options.drawError,g.drawError)),this._latlngs=h,L.setOptions(this,g)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var s=this._poly,h=s._path;s instanceof L.Polygon||(s.options.fill=!1,s.options.editing&&(s.options.editing.fill=!1)),h&&s.options.editing&&s.options.editing.className&&(s.options.original.className&&s.options.original.className.split(" ").forEach(function(g){L.DomUtil.removeClass(h,g)}),s.options.editing.className.split(" ").forEach(function(g){L.DomUtil.addClass(h,g)})),s.setStyle(s.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var s=this._poly,h=s._path;h&&s.options.editing&&s.options.editing.className&&(s.options.editing.className.split(" ").forEach(function(g){L.DomUtil.removeClass(h,g)}),s.options.original.className&&s.options.original.className.split(" ").forEach(function(g){L.DomUtil.addClass(h,g)})),s.setStyle(s.options.original),s._map&&(s._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var s,h,g,_,v=this._defaultShape();for(s=0,g=v.length;s<g;s++)_=this._createMarker(v[s],s),_.on("click",this._onMarkerClick,this),_.on("contextmenu",this._onContextMenu,this),this._markers.push(_);var x,E;for(s=0,h=g-1;s<g;h=s++)(s!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(x=this._markers[h],E=this._markers[s],this._createMiddleMarker(x,E),this._updatePrevNext(x,E))},_createMarker:function(s,h){var g=new L.Marker.Touch(s,{draggable:!0,icon:this.options.icon});return g._origLatLng=s,g._index=h,g.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(g),g},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var s=this._defaultShape(),h=[].splice.apply(s,arguments);return this._poly._convertLatLngs(s,!0),this._poly.redraw(),h},_removeMarker:function(s){var h=s._index;this._markerGroup.removeLayer(s),this._markers.splice(h,1),this._spliceLatLngs(h,1),this._updateIndexes(h,-1),s.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(s){var h=s.target,g=this._poly,_=L.LatLngUtil.cloneLatLng(h._origLatLng);if(L.extend(h._origLatLng,h._latlng),g.options.poly){var v=g._map._editTooltip;if(!g.options.poly.allowIntersection&&g.intersects()){L.extend(h._origLatLng,_),h.setLatLng(_);var x=g.options.color;g.setStyle({color:this.options.drawError.color}),v&&v.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){g.setStyle({color:x}),v&&v.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}h._middleLeft&&h._middleLeft.setLatLng(this._getMiddleLatLng(h._prev,h)),h._middleRight&&h._middleRight.setLatLng(this._getMiddleLatLng(h,h._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var E=this._poly.getLatLngs();this._poly._convertLatLngs(E,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(s){var h=L.Polygon&&this._poly instanceof L.Polygon?4:3,g=s.target;this._defaultShape().length<h||(this._removeMarker(g),this._updatePrevNext(g._prev,g._next),g._middleLeft&&this._markerGroup.removeLayer(g._middleLeft),g._middleRight&&this._markerGroup.removeLayer(g._middleRight),g._prev&&g._next?this._createMiddleMarker(g._prev,g._next):g._prev?g._next||(g._prev._middleRight=null):g._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(s){var h=s.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:h,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(s){var h=this._map.mouseEventToLayerPoint(s.originalEvent.touches[0]),g=this._map.layerPointToLatLng(h),_=s.target;L.extend(_._origLatLng,g),_._middleLeft&&_._middleLeft.setLatLng(this._getMiddleLatLng(_._prev,_)),_._middleRight&&_._middleRight.setLatLng(this._getMiddleLatLng(_,_._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(s,h){this._markerGroup.eachLayer(function(g){g._index>s&&(g._index+=h)})},_createMiddleMarker:function(s,h){var g,_,v,x=this._getMiddleLatLng(s,h),E=this._createMarker(x);E.setOpacity(.6),s._middleRight=h._middleLeft=E,_=function(){E.off("touchmove",_,this);var k=h._index;E._index=k,E.off("click",g,this).on("click",this._onMarkerClick,this),x.lat=E.getLatLng().lat,x.lng=E.getLatLng().lng,this._spliceLatLngs(k,0,x),this._markers.splice(k,0,E),E.setOpacity(1),this._updateIndexes(k,1),h._index++,this._updatePrevNext(s,E),this._updatePrevNext(E,h),this._poly.fire("editstart")},v=function(){E.off("dragstart",_,this),E.off("dragend",v,this),E.off("touchmove",_,this),this._createMiddleMarker(s,E),this._createMiddleMarker(E,h)},g=function(){_.call(this),v.call(this),this._fireEdit()},E.on("click",g,this).on("dragstart",_,this).on("dragend",v,this).on("touchmove",_,this),this._markerGroup.addLayer(E)},_updatePrevNext:function(s,h){s&&(s._next=h),h&&(h._prev=s)},_getMiddleLatLng:function(s,h){var g=this._poly._map,_=g.project(s.getLatLng()),v=g.project(h.getLatLng());return g.unproject(_._add(v)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(s,h){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=s,L.Util.setOptions(this,h)},addHooks:function(){var s=this._shape;this._shape._map&&(this._map=this._shape._map,s.setStyle(s.options.editing),s._map&&(this._map=s._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var s=this._shape;if(s.setStyle(s.options.original),s._map){this._unbindMarker(this._moveMarker);for(var h=0,g=this._resizeMarkers.length;h<g;h++)this._unbindMarker(this._resizeMarkers[h]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(s,h){var g=new L.Marker.Touch(s,{draggable:!0,icon:h,zIndexOffset:10});return this._bindMarker(g),this._markerGroup.addLayer(g),g},_bindMarker:function(s){s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(s){s.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(s){s.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(s){var h=s.target,g=h.getLatLng();h===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(s){s.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(s){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,s),typeof this._getCorners=="function"){var h=this._getCorners(),g=s.target,_=g._cornerIndex;g.setOpacity(0),this._oppositeCorner=h[(_+2)%4],this._toggleCornerMarkers(0,_)}this._shape.fire("editstart")},_onTouchMove:function(s){var h=this._map.mouseEventToLayerPoint(s.originalEvent.touches[0]),g=this._map.layerPointToLatLng(h);return s.target===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),!1},_onTouchEnd:function(s){s.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var s=this._shape.getBounds(),h=s.getCenter();this._moveMarker=this._createMarker(h,this.options.moveIcon)},_createResizeMarker:function(){var s=this._getCorners();this._resizeMarkers=[];for(var h=0,g=s.length;h<g;h++)this._resizeMarkers.push(this._createMarker(s[h],this.options.resizeIcon)),this._resizeMarkers[h]._cornerIndex=h},_onMarkerDragStart:function(s){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,s);var h=this._getCorners(),g=s.target,_=g._cornerIndex;this._oppositeCorner=h[(_+2)%4],this._toggleCornerMarkers(0,_)},_onMarkerDragEnd:function(s){var h,g,_=s.target;_===this._moveMarker&&(h=this._shape.getBounds(),g=h.getCenter(),_.setLatLng(g)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,s)},_move:function(s){for(var h,g=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),_=this._shape.getBounds(),v=_.getCenter(),x=[],E=0,k=g.length;E<k;E++)h=[g[E].lat-v.lat,g[E].lng-v.lng],x.push([s.lat+h[0],s.lng+h[1]]);this._shape.setLatLngs(x),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(s){var h;this._shape.setBounds(L.latLngBounds(s,this._oppositeCorner)),h=this._shape.getBounds(),this._moveMarker.setLatLng(h.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var s=this._shape.getBounds();return[s.getNorthWest(),s.getNorthEast(),s.getSouthEast(),s.getSouthWest()]},_toggleCornerMarkers:function(s){for(var h=0,g=this._resizeMarkers.length;h<g;h++)this._resizeMarkers[h].setOpacity(s)},_repositionCornerMarkers:function(){for(var s=this._getCorners(),h=0,g=this._resizeMarkers.length;h<g;h++)this._resizeMarkers[h].setLatLng(s[h])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var s=this._shape.getLatLng();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(s){if(this._resizeMarkers.length){var h=this._getResizeMarkerPoint(s);this._resizeMarkers[0].setLatLng(h)}this._shape.setLatLng(s),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var s=this._shape.getLatLng(),h=this._getResizeMarkerPoint(s);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(h,this.options.resizeIcon))},_getResizeMarkerPoint:function(s){var h=this._shape._radius*Math.cos(Math.PI/4),g=this._map.project(s);return this._map.unproject([g.x+h,g.y-h])},_resize:function(s){var h=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=h.distanceTo(s):radius=this._map.distance(h,s),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(s,h){var g={};if(s.touches!==void 0){if(!s.touches.length)return;g=s.touches[0]}else if(s.pointerType!=="touch"||(g=s,!this._filterClick(s)))return;var _=this._map.mouseEventToContainerPoint(g),v=this._map.mouseEventToLayerPoint(g),x=this._map.layerPointToLatLng(v);this._map.fire(h,{latlng:x,layerPoint:v,containerPoint:_,pageX:g.pageX,pageY:g.pageY,originalEvent:s})},_filterClick:function(s){var h=s.timeStamp||s.originalEvent.timeStamp,g=L.DomEvent._lastClick&&h-L.DomEvent._lastClick;return g&&g>100&&g<500||s.target._simulatedClick&&!s._simulated?(L.DomEvent.stop(s),!1):(L.DomEvent._lastClick=h,!0)},_onTouchStart:function(s){this._map._loaded&&this._touchEvent(s,"touchstart")},_onTouchEnd:function(s){this._map._loaded&&this._touchEvent(s,"touchend")},_onTouchCancel:function(s){if(this._map._loaded){var h="touchcancel";this._detectIE()&&(h="pointercancel"),this._touchEvent(s,h)}},_onTouchLeave:function(s){this._map._loaded&&this._touchEvent(s,"touchleave")},_onTouchMove:function(s){this._map._loaded&&this._touchEvent(s,"touchmove")},_detectIE:function(){var s=t.navigator.userAgent,h=s.indexOf("MSIE ");if(h>0)return parseInt(s.substring(h+5,s.indexOf(".",h)),10);if(s.indexOf("Trident/")>0){var g=s.indexOf("rv:");return parseInt(s.substring(g+3,s.indexOf(".",g)),10)}var _=s.indexOf("Edge/");return _>0&&parseInt(s.substring(_+5,s.indexOf(".",_)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var s=this._icon,h=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?h.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):h.concat(["touchcancel"]),L.DomUtil.addClass(s,"leaflet-clickable"),L.DomEvent.on(s,"click",this._onMouseClick,this),L.DomEvent.on(s,"keypress",this._onKeyPress,this);for(var g=0;g<h.length;g++)L.DomEvent.on(s,h[g],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var s=t.navigator.userAgent,h=s.indexOf("MSIE ");if(h>0)return parseInt(s.substring(h+5,s.indexOf(".",h)),10);if(s.indexOf("Trident/")>0){var g=s.indexOf("rv:");return parseInt(s.substring(g+3,s.indexOf(".",g)),10)}var _=s.indexOf("Edge/");return _>0&&parseInt(s.substring(_+5,s.indexOf(".",_)),10)}}),L.LatLngUtil={cloneLatLngs:function(s){for(var h=[],g=0,_=s.length;g<_;g++)Array.isArray(s[g])?h.push(L.LatLngUtil.cloneLatLngs(s[g])):h.push(this.cloneLatLng(s[g]));return h},cloneLatLng:function(s){return L.latLng(s.lat,s.lng)}},function(){var s={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(h){var g,_,v=h.length,x=0,E=Math.PI/180;if(v>2){for(var k=0;k<v;k++)g=h[k],_=h[(k+1)%v],x+=(_.lng-g.lng)*E*(2+Math.sin(g.lat*E)+Math.sin(_.lat*E));x=6378137*x*6378137/2}return Math.abs(x)},formattedNumber:function(h,g){var _=parseFloat(h).toFixed(g),v=L.drawLocal.format&&L.drawLocal.format.numeric,x=v&&v.delimiters,E=x&&x.thousands,k=x&&x.decimal;if(E||k){var I=_.split(".");_=E?I[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+E):I[0],k=k||".",I.length>1&&(_=_+k+I[1])}return _},readableArea:function(h,g,E){var v,x,E=L.Util.extend({},s,E);return g?(x=["ha","m"],type=typeof g,type==="string"?x=[g]:type!=="boolean"&&(x=g),v=h>=1e6&&x.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*h,E.km)+" km²":h>=1e4&&x.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*h,E.ha)+" ha":L.GeometryUtil.formattedNumber(h,E.m)+" m²"):(h/=.836127,v=h>=3097600?L.GeometryUtil.formattedNumber(h/3097600,E.mi)+" mi²":h>=4840?L.GeometryUtil.formattedNumber(h/4840,E.ac)+" acres":L.GeometryUtil.formattedNumber(h,E.yd)+" yd²"),v},readableDistance:function(h,g,_,v,k){var E,k=L.Util.extend({},s,k);switch(g?typeof g=="string"?g:"metric":_?"feet":v?"nauticalMile":"yards"){case"metric":E=h>1e3?L.GeometryUtil.formattedNumber(h/1e3,k.km)+" km":L.GeometryUtil.formattedNumber(h,k.m)+" m";break;case"feet":h*=3.28083,E=L.GeometryUtil.formattedNumber(h,k.ft)+" ft";break;case"nauticalMile":h*=.53996,E=L.GeometryUtil.formattedNumber(h/1e3,k.nm)+" nm";break;case"yards":default:h*=1.09361,E=h>1760?L.GeometryUtil.formattedNumber(h/1760,k.mi)+" miles":L.GeometryUtil.formattedNumber(h,k.yd)+" yd"}return E},isVersion07x:function(){var h=L.version.split(".");return parseInt(h[0],10)===0&&parseInt(h[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(s,h,g,_){return this._checkCounterclockwise(s,g,_)!==this._checkCounterclockwise(h,g,_)&&this._checkCounterclockwise(s,h,g)!==this._checkCounterclockwise(s,h,_)},_checkCounterclockwise:function(s,h,g){return(g.y-s.y)*(h.x-s.x)>(h.y-s.y)*(g.x-s.x)}}),L.Polyline.include({intersects:function(){var s,h,g,_=this._getProjectedPoints(),v=_?_.length:0;if(this._tooFewPointsForIntersection())return!1;for(s=v-1;s>=3;s--)if(h=_[s-1],g=_[s],this._lineSegmentsIntersectsRange(h,g,s-2))return!0;return!1},newLatLngIntersects:function(s,h){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(s),h)},newPointIntersects:function(s,h){var g=this._getProjectedPoints(),_=g?g.length:0,v=g?g[_-1]:null,x=_-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(v,s,x,h?1:0)},_tooFewPointsForIntersection:function(s){var h=this._getProjectedPoints(),g=h?h.length:0;return g+=s||0,!h||g<=3},_lineSegmentsIntersectsRange:function(s,h,g,_){var v,x,E=this._getProjectedPoints();_=_||0;for(var k=g;k>_;k--)if(v=E[k-1],x=E[k],L.LineUtil.segmentsIntersect(s,h,v,x))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var s=[],h=this._defaultShape(),g=0;g<h.length;g++)s.push(this._map.latLngToLayerPoint(h[g]));return s}}),L.Polygon.include({intersects:function(){var s,h,g,_,v=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(s=v.length,h=v[0],g=v[s-1],_=s-2,this._lineSegmentsIntersectsRange(g,h,_,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(s){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,s);var h;this._toolbars={},L.DrawToolbar&&this.options.draw&&(h=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=h,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(h=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=h,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(s){var h,g=L.DomUtil.create("div","leaflet-draw"),_=!1;for(var v in this._toolbars)this._toolbars.hasOwnProperty(v)&&(h=this._toolbars[v].addToolbar(s))&&(_||(L.DomUtil.hasClass(h,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(h.childNodes[0],"leaflet-draw-toolbar-top"),_=!0),g.appendChild(h));return g},onRemove:function(){for(var s in this._toolbars)this._toolbars.hasOwnProperty(s)&&this._toolbars[s].removeToolbar()},setDrawingOptions:function(s){for(var h in this._toolbars)this._toolbars[h]instanceof L.DrawToolbar&&this._toolbars[h].setOptions(s)},_toolbarEnabled:function(s){var h=s.target;for(var g in this._toolbars)this._toolbars[g]!==h&&this._toolbars[g].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(s){L.setOptions(this,s),this._modes={},this._actionButtons=[],this._activeMode=null;var h=L.version.split(".");parseInt(h[0],10)===1&&parseInt(h[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(s){var h,g=L.DomUtil.create("div","leaflet-draw-section"),_=0,v=this._toolbarClass||"",x=this.getModeHandlers(s);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=s,h=0;h<x.length;h++)x[h].enabled&&this._initModeHandler(x[h].handler,this._toolbarContainer,_++,v,x[h].title);if(_)return this._lastButtonIndex=--_,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),g.appendChild(this._toolbarContainer),g.appendChild(this._actionsContainer),g},removeToolbar:function(){for(var s in this._modes)this._modes.hasOwnProperty(s)&&(this._disposeButton(this._modes[s].button,this._modes[s].handler.enable,this._modes[s].handler),this._modes[s].handler.disable(),this._modes[s].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var h=0,g=this._actionButtons.length;h<g;h++)this._disposeButton(this._actionButtons[h].button,this._actionButtons[h].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(s,h,g,_,v){var x=s.type;this._modes[x]={},this._modes[x].handler=s,this._modes[x].button=this._createButton({type:x,title:v,className:_+"-"+x,container:h,callback:this._modes[x].handler.enable,context:this._modes[x].handler}),this._modes[x].buttonIndex=g,this._modes[x].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(s){var h=L.DomUtil.create("a",s.className||"",s.container),g=L.DomUtil.create("span","sr-only",s.container);h.href="#",h.appendChild(g),s.title&&(h.title=s.title,g.innerHTML=s.title),s.text&&(h.innerHTML=s.text,g.innerHTML=s.text);var _=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(h,"click",L.DomEvent.stopPropagation).on(h,"mousedown",L.DomEvent.stopPropagation).on(h,"dblclick",L.DomEvent.stopPropagation).on(h,"touchstart",L.DomEvent.stopPropagation).on(h,"click",L.DomEvent.preventDefault).on(h,_,s.callback,s.context),h},_disposeButton:function(s,h){var g=this._detectIOS()?"touchstart":"click";L.DomEvent.off(s,"click",L.DomEvent.stopPropagation).off(s,"mousedown",L.DomEvent.stopPropagation).off(s,"dblclick",L.DomEvent.stopPropagation).off(s,"touchstart",L.DomEvent.stopPropagation).off(s,"click",L.DomEvent.preventDefault).off(s,g,h)},_handlerActivated:function(s){this.disable(),this._activeMode=this._modes[s.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(s){var h,g,_,v,x=this._actionsContainer,E=this.getActions(s),k=E.length;for(g=0,_=this._actionButtons.length;g<_;g++)this._disposeButton(this._actionButtons[g].button,this._actionButtons[g].callback);for(this._actionButtons=[];x.firstChild;)x.removeChild(x.firstChild);for(var I=0;I<k;I++)"enabled"in E[I]&&!E[I].enabled||(h=L.DomUtil.create("li","",x),v=this._createButton({title:E[I].title,text:E[I].text,container:h,callback:E[I].callback,context:E[I].context}),this._actionButtons.push({button:v,callback:E[I].callback}))},_showActionsToolbar:function(){var s=this._activeMode.buttonIndex,h=this._lastButtonIndex,g=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=g+"px",s===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),s===h&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(s){this._map=s,this._popupPane=s._panes.popupPane,this._visible=!1,this._container=s.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(s){return this._container?(s.subtext=s.subtext||"",s.subtext.length!==0||this._singleLineLabel?s.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(s.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+s.subtext+"</span><br />":"")+"<span>"+s.text+"</span>",s.text||s.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(s){var h=this._map.latLngToLayerPoint(s),g=this._container;return this._container&&(this._visible&&(g.style.visibility="inherit"),L.DomUtil.setPosition(g,h)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(s){for(var h in this.options)this.options.hasOwnProperty(h)&&s[h]&&(s[h]=L.extend({},this.options[h],s[h]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,s)},getModeHandlers:function(s){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(s,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(s,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(s,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(s,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(s,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(s,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(s){return[{enabled:s.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:s.completeShape,context:s},{enabled:s.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:s.deleteLastVertex,context:s},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(s){L.setOptions(this,s);for(var h in this._modes)this._modes.hasOwnProperty(h)&&s.hasOwnProperty(h)&&this._modes[h].handler.setOptions(s[h])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(s){s.edit&&(s.edit.selectedPathOptions===void 0&&(s.edit.selectedPathOptions=this.options.edit.selectedPathOptions),s.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,s.edit.selectedPathOptions)),s.remove&&(s.remove=L.extend({},this.options.remove,s.remove)),s.poly&&(s.poly=L.extend({},this.options.poly,s.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,s),this._selectedFeatureCount=0},getModeHandlers:function(s){var h=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(s,{featureGroup:h,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(s,{featureGroup:h}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(s){var h=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return s.removeAllLayers&&h.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),h},addToolbar:function(s){var h=L.Toolbar.prototype.addToolbar.call(this,s);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),h},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var s,h=this.options.featureGroup,g=h.getLayers().length!==0;this.options.edit&&(s=this._modes[L.EditToolbar.Edit.TYPE].button,g?L.DomUtil.removeClass(s,"leaflet-disabled"):L.DomUtil.addClass(s,"leaflet-disabled"),s.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(s=this._modes[L.EditToolbar.Delete.TYPE].button,g?L.DomUtil.removeClass(s,"leaflet-disabled"):L.DomUtil.addClass(s,"leaflet-disabled"),s.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(s,h){if(L.Handler.prototype.initialize.call(this,s),L.setOptions(this,h),this._featureGroup=h.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var s=this._map;s&&(s.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),s._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(s){this._revertLayer(s)},this)},save:function(){var s=new L.LayerGroup;this._featureGroup.eachLayer(function(h){h.edited&&(s.addLayer(h),h.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:s})},_backupLayer:function(s){var h=L.Util.stamp(s);this._uneditedLayerProps[h]||(s instanceof L.Polyline||s instanceof L.Polygon||s instanceof L.Rectangle?this._uneditedLayerProps[h]={latlngs:L.LatLngUtil.cloneLatLngs(s.getLatLngs())}:s instanceof L.Circle?this._uneditedLayerProps[h]={latlng:L.LatLngUtil.cloneLatLng(s.getLatLng()),radius:s.getRadius()}:(s instanceof L.Marker||s instanceof L.CircleMarker)&&(this._uneditedLayerProps[h]={latlng:L.LatLngUtil.cloneLatLng(s.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(s){var h=L.Util.stamp(s);s.edited=!1,this._uneditedLayerProps.hasOwnProperty(h)&&(s instanceof L.Polyline||s instanceof L.Polygon||s instanceof L.Rectangle?s.setLatLngs(this._uneditedLayerProps[h].latlngs):s instanceof L.Circle?(s.setLatLng(this._uneditedLayerProps[h].latlng),s.setRadius(this._uneditedLayerProps[h].radius)):(s instanceof L.Marker||s instanceof L.CircleMarker)&&s.setLatLng(this._uneditedLayerProps[h].latlng),s.fire("revert-edited",{layer:s}))},_enableLayerEdit:function(s){var h,g,_=s.layer||s.target||s;this._backupLayer(_),this.options.poly&&(g=L.Util.extend({},this.options.poly),_.options.poly=g),this.options.selectedPathOptions&&(h=L.Util.extend({},this.options.selectedPathOptions),h.maintainColor&&(h.color=_.options.color,h.fillColor=_.options.fillColor),_.options.original=L.extend({},_.options),_.options.editing=h),_ instanceof L.Marker?(_.editing&&_.editing.enable(),_.dragging.enable(),_.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):_.editing.enable()},_disableLayerEdit:function(s){var h=s.layer||s.target||s;h.edited=!1,h.editing&&h.editing.disable(),delete h.options.editing,delete h.options.original,this._selectedPathOptions&&(h instanceof L.Marker?this._toggleMarkerHighlight(h):(h.setStyle(h.options.previousOptions),delete h.options.previousOptions)),h instanceof L.Marker?(h.dragging.disable(),h.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):h.editing.disable()},_onMouseMove:function(s){this._tooltip.updatePosition(s.latlng)},_onMarkerDragEnd:function(s){var h=s.target;h.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:h})},_onTouchMove:function(s){var h=s.originalEvent.changedTouches[0],g=this._map.mouseEventToLayerPoint(h),_=this._map.layerPointToLatLng(g);s.target.setLatLng(_)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(s,h){if(L.Handler.prototype.initialize.call(this,s),L.Util.setOptions(this,h),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var s=this._map;s&&(s.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(s){this._deletableLayers.addLayer(s),s.fire("revert-deleted",{layer:s})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(s){this._removeLayer({layer:s})},this),this.save()},_enableLayerDelete:function(s){(s.layer||s.target||s).on("click",this._removeLayer,this)},_disableLayerDelete:function(s){var h=s.layer||s.target||s;h.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(h)},_removeLayer:function(s){var h=s.layer||s.target||s;this._deletableLayers.removeLayer(h),this._deletedLayers.addLayer(h),h.fire("deleted")},_onMouseMove:function(s){this._tooltip.updatePosition(s.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var Io={exports:{}},lf;function eL(){if(lf)return Io.exports;lf=1,Io.exports=u,Io.exports.parse=u,Io.exports.stringify=c;var t=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,r=new RegExp("^"+t.source+"(\\s"+t.source+"){1,}");function u(s){var h=s.split(";"),g=h.pop(),_=(h.shift()||"").split("=").pop(),v=0;function x(V){var Z=g.substring(v).match(V);return Z?(v+=Z[0].length,Z[0]):null}function E(V){return V&&_.match(/\d+/)&&(V.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+_}}),V}function k(){x(/^\s*/)}function I(){k();for(var V=0,Z=[],ht=[Z],ct=Z,Ot;Ot=x(/^(\()/)||x(/^(\))/)||x(/^(,)/)||x(r);){if(Ot==="(")ht.push(ct),ct=[],ht[ht.length-1].push(ct),V++;else if(Ot===")"){if(ct.length===0||(ct=ht.pop(),!ct))return null;if(V--,V===0)break}else if(Ot===",")ct=[],ht[ht.length-1].push(ct);else if(!Ot.split(/\s/g).some(isNaN))Array.prototype.push.apply(ct,Ot.split(/\s/g).map(parseFloat));else return null;k()}return V!==0?null:Z}function P(){for(var V=[],Z,ht;ht=x(r)||x(/^(,)/);)ht===","?(V.push(Z),Z=[]):ht.split(/\s/g).some(isNaN)||(Z||(Z=[]),Array.prototype.push.apply(Z,ht.split(/\s/g).map(parseFloat))),k();if(Z)V.push(Z);else return null;return V.length?V:null}function M(){if(!x(/^(point(\sz)?)/i)||(k(),!x(/^(\()/)))return null;var V=P();return!V||(k(),!x(/^(\))/))?null:{type:"Point",coordinates:V[0]}}function U(){if(!x(/^(multipoint)/i))return null;k();var V=g.substring(g.indexOf("(")+1,g.length-1).replace(/\(/g,"").replace(/\)/g,"");g="MULTIPOINT ("+V+")";var Z=I();return Z?(k(),{type:"MultiPoint",coordinates:Z}):null}function W(){if(!x(/^(multilinestring)/i))return null;k();var V=I();return V?(k(),{type:"MultiLineString",coordinates:V}):null}function A(){if(!x(/^(linestring(\sz)?)/i)||(k(),!x(/^(\()/)))return null;var V=P();return!V||!x(/^(\))/)?null:{type:"LineString",coordinates:V}}function B(){if(!x(/^(polygon(\sz)?)/i))return null;k();var V=I();return V?{type:"Polygon",coordinates:V}:null}function G(){if(!x(/^(multipolygon)/i))return null;k();var V=I();return V?{type:"MultiPolygon",coordinates:V}:null}function z(){var V=[],Z;if(!x(/^(geometrycollection)/i)||(k(),!x(/^(\()/)))return null;for(;Z=X();)V.push(Z),k(),x(/^(,)/),k();return x(/^(\))/)?{type:"GeometryCollection",geometries:V}:null}function X(){return M()||A()||B()||U()||W()||G()||z()}return E(X())}function c(s){s.type==="Feature"&&(s=s.geometry);function h(E){return E.join(" ")}function g(E){return E.map(h).join(", ")}function _(E){return E.map(g).map(x).join(", ")}function v(E){return E.map(_).map(x).join(", ")}function x(E){return"("+E+")"}switch(s.type){case"Point":return"POINT ("+h(s.coordinates)+")";case"LineString":return"LINESTRING ("+g(s.coordinates)+")";case"Polygon":return"POLYGON ("+_(s.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+g(s.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+v(s.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+_(s.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+s.geometries.map(c).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return Io.exports}var Vi=eL();function nL(t,r,u){let c=Vi.stringify(t.toGeoJSON());if(r=="marker"||r=="polyline"){var s=Hl(t.toGeoJSON(),u);c=Vi.stringify(s)}if(r=="circle"){var s=Hl(t.toGeoJSON(),t.getRadius()/1e3);c=Vi.stringify(s)}return c}function iL(t){const r=localStorage.getItem("mapState");if(r){const u=JSON.parse(r);t.setView([u.center.lat,u.center.lng],u.zoom)}else t.setView([48.8566,2.3522],13)}function rL(t){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:t,remove:!1}}}const sL={__name:"Map",props:{radius:{type:Number,default:1},wkt:String,height:{type:String,default:"100vh"},editable:{type:Boolean,default:!0}},emits:["wkt","geojson"],setup(t,{emit:r}){const u=t,c=iu(),s=iu(new cr.FeatureGroup),h=Jt(1),g=Jt(null),_=jt(()=>!!u.wkt),v=jt(()=>"height: "+u.height+";");u.wkt&&(g.value=u.wkt,cr.geoJSON().addTo(s.value).addData(Vi.parse(g.value))),h.value=u.radius,Zi(()=>{h.value=u.radius,g.value=u.wkt,cr.geoJSON().addTo(s.value).addData(Vi.parse(g.value))});const x=r;return Ys(()=>{c.value=cr.map("map"),iL(c.value),cr.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(c.value),c.value.addLayer(s.value),_.value&&c.value.fitBounds(s.value.getBounds()),u.editable&&c.value.addControl(new cr.Control.Draw(rL(s.value))),c.value.on(cr.Draw.Event.CREATED,E=>{let k=E.layer;s.value.clearLayers(),s.value.addLayer(k);const I=nL(k,E.layerType,h.value);(E.layerType=="marker"||E.layerType=="polyline")&&cr.geoJSON().addTo(s.value).addData(Vi.parse(I)),x("wkt",I)}),window.addEventListener("beforeunload",function(E){const k={center:c.value.getCenter(),zoom:c.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(k))})}),(E,k)=>(ue(),he("div",{id:"map",style:Ms(v.value)},null,4))}},Bg=la(sL,[["__scopeId","data-v-f8c52b77"]]);function cf(t,r){if(t&&(t.includes("POINT")||t.includes("LINESTRING"))){const u=Hl(Vi.parse(t),r);return Vi.stringify(u)}return t}function Ec(t={}){const r=Nn({radius:1,wktSelected:"",dateMin:null,dateMax:null,connector:Qo(null,{})}),u=$v().query;return"radius"in u&&(r.radius=parseInt(u.radius)),"wkt"in u&&(r.wktSelected=cf(u.wkt,r.radius)),"sourceGeometry"in u&&fetch(u.sourceGeometry).then(c=>c.json()).then(c=>{r.wktSelected=cf(Vi.stringify(c),r.radius)}).catch(c=>console.error(c)),"dateMin"in u&&(r.dateMin=u.dateMin),"dateMax"in u&&(r.dateMax=u.dateMax),"connector"in u&&(r.connector=Qo(u.connector,{...u,params_:t})),r}const oL={class:"container-fluid"},aL={class:"row"},uL={class:"col-12 col-lg-6 col-md-6"},lL={class:"col-12 col-lg-6 col-md-6"},cL={__name:"MapListWidget",setup(t){const r=Ec();return un(r,()=>{console.log(r)}),(u,c)=>(ue(),he("div",oL,[mt("div",aL,[mt("div",uL,[Zt(Bg,{radius:se(r).radius,height:"80vh",wkt:se(r).wktSelected,editable:!1},null,8,["radius","wkt"])]),mt("div",lL,[Zt(Lc,{connector:se(r).connector,wkt:se(r).wktSelected,height:"80vh",dateMin:se(r).dateMin,dateMax:se(r).dateMax,itemPerPage:10},null,8,["connector","wkt","dateMin","dateMax"])])])]))}},hL=la(cL,[["__scopeId","data-v-27c4de98"]]),fL={key:0},dL={key:1},gL={__name:"ListWidget",setup(t){const r=Ec();return(u,c)=>(ue(),he("div",null,[se(r).wktSelected?(ue(),he("div",fL,[Zt(Lc,{connector:se(r).connector,wkt:se(r).wktSelected,dateMin:se(r).dateMin,dateMax:se(r).dateMax,itemPerPage:10},null,8,["connector","wkt","dateMin","dateMax"])])):(ue(),he("div",dL,c[0]||(c[0]=[mt("h2",{class:"col-12 text-center m-3"},"Aucune géométrie fournie !",-1)])))]))}},_L=["for"],mL=["id"],hf={__name:"DateFilter",props:{label:{type:String,required:!0},id:String,currentDate:Date},emits:["update:date"],setup(t,{emit:r}){const u=t,c=Jt(null),s=r;return un(c,()=>{s("update:date",c.value)}),(h,g)=>(ue(),he(He,null,[mt("label",{for:u.id},ce(u.label),9,_L),Hi(mt("input",{id:u.id,class:"form-control",type:"date","onUpdate:modelValue":g[0]||(g[0]=_=>c.value=_)},null,8,mL),[[Xr,c.value]])],64))}},pL={for:"radius",class:"form-label"},vL={__name:"BufferSizeFilter",props:{radius:{type:Number,required:!0}},emits:["update:radius"],setup(t,{emit:r}){const u=t,c=Jt(u==null?void 0:u.radius),s=r;return un(c,()=>{s("update:radius",c.value)}),(h,g)=>(ue(),he(He,null,[mt("label",pL,ce(h.$t("bufferSize"))+" "+ce(c.value)+" km",1),Hi(mt("input",{type:"range",class:"form-range",min:"1",max:"100","onUpdate:modelValue":g[0]||(g[0]=_=>c.value=_),id:"radius"},null,512),[[Xr,c.value]])],64))}},yL={class:"sourceParam"},LL={for:"sourceName"},EL=["value"],kL={class:"parameters"},xL=["for"],wL=["placeholder","onUpdate:modelValue"],bL=["type","placeholder","onUpdate:modelValue"],TL=["onUpdate:modelValue"],IL=["value"],SL={key:3,class:"text-danger"},NL={__name:"SourceFilter",props:{sourceName:{type:String,required:!0}},emits:["sourceName","params"],setup(t,{emit:r}){const u={gbif:[{name:"API_ENPOINT",label:"Adresse de l'API du GBIF utilisée",type:String,default:"https://api.gbif.org/v1"}],geonature:[{name:"EXPORT_API_ENDPOINT",label:"Adresse de l'API d'un export GN",type:String,default:"http://localhost:8000/exports/api/20"}]},s=Jt(t.sourceName);let h=Nn(Object.fromEntries(u[s.value].map(v=>[v.name,v.default])));un([s],()=>{h=Nn(Object.fromEntries(u[s.value].map(v=>[v.name,v.default])))});const g=r;function _(){g("sourceName",s.value),g("params",h)}return Ys(()=>{g("sourceName",s.value),g("params",h)}),(v,x)=>(ue(),he("div",yL,[mt("h5",null,ce(v.$t("source.title")),1),mt("label",LL,ce(v.$t("source.select")),1),Hi(mt("select",{"onUpdate:modelValue":x[0]||(x[0]=E=>s.value=E),class:"form-select"},[(ue(),he(He,null,Fo(u,(E,k)=>mt("option",{value:k},ce(k),9,EL)),64))],512),[[hu,s.value]]),(ue(!0),he(He,null,Fo(u[s.value],E=>(ue(),he("div",kL,[mt("label",{for:E.name},ce(E.label),9,xL),E.type===String?Hi((ue(),he("input",{key:0,class:"form-control",placeholder:E.default,"onUpdate:modelValue":k=>se(h)[E.name]=k},null,8,wL)),[[Xr,se(h)[E.name]]]):E.type===Number?Hi((ue(),he("input",{key:1,type:E.type,class:"form-control",placeholder:E.default,"onUpdate:modelValue":k=>se(h)[E.name]=k},null,8,bL)),[[Pp,se(h)[E.name]]]):Array.isArray(E.type)?Hi((ue(),he("select",{key:2,class:"form-select","onUpdate:modelValue":k=>se(h)[E.name]=k},[(ue(!0),he(He,null,Fo(E.type,k=>(ue(),he("option",{key:k,value:k},ce(k),9,IL))),128))],8,TL)),[[hu,se(h)[E.name]]]):(ue(),he("div",SL,"Unsupported input type"))]))),256)),mt("div",{class:"d-flex justify-content-center mt-3"},[mt("button",{class:"btn btn-primary",onClick:_}," Mettre à jour les paramètres ")])]))}},CL={id:"filters"},PL={class:"col-12 col-md-12 col-lg-12 text-center",id:"filtersTitle"},ML={class:"col-12 col-md-4 col-lg-12"},OL={class:"col-12 col-md-4 col-lg-12"},RL={class:"col-12 col-md-4 col-lg-12"},AL={class:"col-12 col-md-4 col-lg-12"},DL={__name:"Filters",props:{radius:Number,dateMin:Date,dateMax:Date,sourceName:String},emits:["radius","dateMin","dateMax","connectorData"],setup(t,{emit:r}){const u=Jt(10),c=Jt(null),s=Jt(null),h=Jt("geonature"),g=Jt({});Jt(300),Jt(10);const _=t;Zi(()=>{u.value=_.radius,c.value=_.dateMin,s.value=_.dateMax,h.value=_.sourceName});const v=r;return un([u,c,s,h,g],()=>{v("radius",u.value),v("dateMin",c.value),v("dateMax",s.value),v("connectorData",{name:h.value,params:g.value})}),(x,E)=>(ue(),he("div",CL,[mt("div",PL,[mt("h3",null,[E[5]||(E[5]=mt("i",{class:"bi bi-filter"},null,-1)),ii(" "+ce(x.$t("filtersTitle")),1)])]),mt("div",ML,[Zt(vL,{radius:u.value,"onUpdate:radius":E[0]||(E[0]=k=>u.value=k)},null,8,["radius"])]),mt("div",OL,[Zt(hf,{id:"startDate",label:"Date minimum",currentDate:c.value,"onUpdate:date":E[1]||(E[1]=k=>c.value=k)},null,8,["currentDate"])]),mt("div",RL,[Zt(hf,{id:"endDate",label:"Date maximum",currentDate:s.value,"onUpdate:date":E[2]||(E[2]=k=>s.value=k)},null,8,["currentDate"])]),mt("div",AL,[Zt(NL,{sourceName:_.sourceName,onParams:E[3]||(E[3]=k=>g.value=k),onSourceName:E[4]||(E[4]=k=>h.value=k)},null,8,["sourceName"])])]))}},FL={class:"input-group-text"},zL=["value"],BL={class:"input-group mb-3"},UL={class:"input-group-text"},GL={class:"input-group-text"},HL={class:"input-group-text"},qL={value:""},$L={value:"list"},ZL={value:"config"},VL={__name:"HTMLBuilder",props:{link:String},emits:["width","height","typeWidget"],setup(t,{emit:r}){const u=Jt("100wv"),c=Jt("100vh"),s=Jt(""),h=t,g=r;un([s,u,c],()=>{g("width",u.value),g("height",c.value),g("typeWidget",s.value)});const _=jt(()=>`<embed src="${h.link}" type="" style="width: ${u.value}; height: ${c.value}" />`);return(v,x)=>(ue(),he(He,null,[mt("span",FL,ce(v.$t("embed")),1),mt("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:_.value},null,8,zL),mt("div",BL,[mt("span",UL,ce(v.$t("size.width")),1),Hi(mt("input",{class:"form-control form-control-lg",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":x[0]||(x[0]=E=>u.value=E)},null,512),[[Xr,u.value]]),mt("span",GL,ce(v.$t("size.height")),1),Hi(mt("input",{class:"form-control form-control-lg",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":x[1]||(x[1]=E=>c.value=E)},null,512),[[Xr,c.value]]),mt("span",HL,ce(v.$t("typeWidget.title")),1),Hi(mt("select",{class:"form-select","onUpdate:modelValue":x[2]||(x[2]=E=>s.value=E)},[mt("option",qL,ce(v.$t("typeWidget.default")),1),mt("option",$L,ce(v.$t("typeWidget.list")),1),mt("option",ZL,ce(v.$t("typeWidget.config")),1)],512),[[hu,s.value]])])],64))}},YL={class:"row justify-content-center"},WL={class:"col-12 col-lg-12 col-md-6 text-center"},XL={class:"input-group"},jL=["value"],KL={key:0},JL={key:1},QL={class:"mt-3 text-center"},tE={__name:"Share",props:{wkt:String,dateMin:String,dateMax:String,radius:Number,connector:Object},setup(t){const r=t,u=Jt("100wv"),c=Jt("100vh"),s=Jt(""),h=Jt(""),g=window.location.origin,_=window.location.pathname,v=jt(()=>{switch(s.value){case"list":return"/list";case"config":return"/config";default:return"/"}});Zi(()=>{h.value=r.wkt});const x=jt(()=>{const I=Object.entries(r).filter(([M,U])=>U!=null&&M!=="connector").map(([M,U])=>`${M}=${U}`);r.connector.params&&(Object.entries(r.connector.params).forEach(([M,U])=>{U!=null&&I.push(`${M}=${U}`)}),I.push(`connector=${r.connector.name}`));const P=I.length?`?${I.join("&")}`:"";return`${g}${_}#${v.value}${P}`}),E=Jt(!1);function k(){navigator.clipboard.writeText(x.value),E.value=!0,setTimeout(()=>{E.value=!1},3e3)}return(I,P)=>(ue(),he("div",YL,[mt("div",WL,[mt("h4",null,[P[4]||(P[4]=mt("i",{class:"bi bi-share"},null,-1)),ii(" "+ce(I.$t("shareLink")),1)]),mt("div",XL,[mt("input",{class:"form-control",type:"text",value:x.value},null,8,jL),mt("button",{class:"btn btn-outline-secondary",onClick:P[0]||(P[0]=M=>k())},[E.value?(ue(),he("div",KL,[P[5]||(P[5]=mt("i",{class:"bi bi-check2-circle"},null,-1)),ii(" "+ce(I.$t("copied"))+" ! ",1)])):(ue(),he("div",JL,[P[6]||(P[6]=mt("i",{class:"bi bi-copy"},null,-1)),ii(" "+ce(I.$t("copy")),1)]))])]),mt("h4",QL,[P[7]||(P[7]=mt("i",{class:"bi bi-code-slash"},null,-1)),ii(" "+ce(I.$t("browserIntegration")),1)]),Zt(VL,{link:x.value,onTypeWidget:P[1]||(P[1]=M=>s.value=M),onWidth:P[2]||(P[2]=M=>u.value=M),onHeight:P[3]||(P[3]=M=>c.value=M)},null,8,["link"])])]))}},eE={class:"container-fluid"},nE={id:"title",class:"col-12 text-center m-3"},iE={class:"row"},rE={class:"col-12 col-lg-3 col-md-2"},sE={class:"col-12 col-lg-5 col-md-6"},oE={class:"col-12 col-lg-4 col-md-4"},aE={__name:"ConfiguratorWidget",setup(t){const r=Ec(),u=Jt(Qo(null,{}));return(c,s)=>(ue(),he("div",eE,[mt("h1",nE,"🐦 "+ce(c.$t("title"))+" 🐛",1),mt("div",iE,[mt("div",rE,[Zt(DL,{sourceName:u.value.name,radius:se(r).radius,onDateMin:s[0]||(s[0]=h=>se(r).dateMin=h),onDateMax:s[1]||(s[1]=h=>se(r).dateMax=h),onRadius:s[2]||(s[2]=h=>se(r).radius=parseInt(h)),onConnectorData:s[3]||(s[3]=h=>u.value=se(Qo)(h.name,h.params))},null,8,["sourceName","radius"]),s[5]||(s[5]=mt("br",null,null,-1)),Zt(tE,{wkt:se(r).wktSelected,dateMin:se(r).dateMin,dateMax:se(r).dateMax,radius:se(r).radius,connector:u.value},null,8,["wkt","dateMin","dateMax","radius","connector"])]),mt("div",sE,[Zt(Bg,{radius:se(r).radius,height:"80vh",wkt:se(r).wktSelected,onWkt:s[4]||(s[4]=h=>se(r).wktSelected=h)},null,8,["radius","wkt"])]),mt("div",oE,[Zt(Lc,{connector:u.value,wkt:se(r).wktSelected,dateMin:se(r).dateMin,dateMax:se(r).dateMax,itemPerPage:10,height:"80vh"},null,8,["connector","wkt","dateMin","dateMax"])])])]))}},uE=la(aE,[["__scopeId","data-v-719e4301"]]),lE={},cE={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},hE={class:"text-center"},fE={class:"lead"};function dE(t,r){return ue(),he("div",cE,[mt("div",hE,[r[0]||(r[0]=mt("h1",{class:"display-1"},"404",-1)),mt("p",fE,ce(t.$t("error404.title")),1),mt("p",null,ce(t.$t("error404.subtitle")),1)])])}const gE=la(lE,[["render",dE]]);/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const vu=typeof window<"u",kr=(t,r=!1)=>r?Symbol.for(t):Symbol(t),_E=(t,r,u)=>mE({l:t,k:r,s:u}),mE=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ue=t=>typeof t=="number"&&isFinite(t),pE=t=>kc(t)==="[object Date]",Hs=t=>kc(t)==="[object RegExp]",Mu=t=>ie(t)&&Object.keys(t).length===0,Ve=Object.assign,vE=Object.create,xe=(t=null)=>vE(t);let ff;const qr=()=>ff||(ff=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:xe());function df(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const yE=Object.prototype.hasOwnProperty;function ri(t,r){return yE.call(t,r)}const ze=Array.isArray,Ce=t=>typeof t=="function",bt=t=>typeof t=="string",de=t=>typeof t=="boolean",_e=t=>t!==null&&typeof t=="object",LE=t=>_e(t)&&Ce(t.then)&&Ce(t.catch),Ug=Object.prototype.toString,kc=t=>Ug.call(t),ie=t=>kc(t)==="[object Object]",EE=t=>t==null?"":ze(t)||ie(t)&&t.toString===Ug?JSON.stringify(t,null,2):String(t);function xc(t,r=""){return t.reduce((u,c,s)=>s===0?u+c:u+r+c,"")}function kE(t,r){typeof console<"u"&&(console.warn("[intlify] "+t),r&&console.warn(r.stack))}const Ga=t=>!_e(t)||ze(t);function eu(t,r){if(Ga(t)||Ga(r))throw new Error("Invalid value");const u=[{src:t,des:r}];for(;u.length;){const{src:c,des:s}=u.pop();Object.keys(c).forEach(h=>{h!=="__proto__"&&(_e(c[h])&&!_e(s[h])&&(s[h]=Array.isArray(c[h])?[]:xe()),Ga(s[h])||Ga(c[h])?s[h]=c[h]:u.push({src:c[h],des:s[h]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function xE(t,r,u){return{line:t,column:r,offset:u}}function ql(t,r,u){return{start:t,end:r}}const ke={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},wE=17;function Ou(t,r,u={}){const{domain:c,messages:s,args:h}=u,g=t,_=new SyntaxError(String(g));return _.code=t,r&&(_.location=r),_.domain=c,_}function bE(t){throw t}const Fi=" ",TE="\r",yn=`
`,IE="\u2028",SE="\u2029";function NE(t){const r=t;let u=0,c=1,s=1,h=0;const g=Z=>r[Z]===TE&&r[Z+1]===yn,_=Z=>r[Z]===yn,v=Z=>r[Z]===SE,x=Z=>r[Z]===IE,E=Z=>g(Z)||_(Z)||v(Z)||x(Z),k=()=>u,I=()=>c,P=()=>s,M=()=>h,U=Z=>g(Z)||v(Z)||x(Z)?yn:r[Z],W=()=>U(u),A=()=>U(u+h);function B(){return h=0,E(u)&&(c++,s=0),g(u)&&u++,u++,s++,r[u]}function G(){return g(u+h)&&h++,h++,r[u+h]}function z(){u=0,c=1,s=1,h=0}function X(Z=0){h=Z}function V(){const Z=u+h;for(;Z!==u;)B();h=0}return{index:k,line:I,column:P,peekOffset:M,charAt:U,currentChar:W,currentPeek:A,next:B,peek:G,reset:z,resetPeek:X,skipToPeek:V}}const hr=void 0,CE=".",gf="'",PE="tokenizer";function ME(t,r={}){const u=r.location!==!1,c=NE(t),s=()=>c.index(),h=()=>xE(c.line(),c.column(),c.index()),g=h(),_=s(),v={currentType:13,offset:_,startLoc:g,endLoc:g,lastType:13,lastOffset:_,lastStartLoc:g,lastEndLoc:g,braceNest:0,inLinked:!1,text:""},x=()=>v,{onError:E}=r;function k(R,C,Y,...Q){const yt=x();if(C.column+=Y,C.offset+=Y,E){const at=u?ql(yt.startLoc,C):null,q=Ou(R,at,{domain:PE,args:Q});E(q)}}function I(R,C,Y){R.endLoc=h(),R.currentType=C;const Q={type:C};return u&&(Q.loc=ql(R.startLoc,R.endLoc)),Y!=null&&(Q.value=Y),Q}const P=R=>I(R,13);function M(R,C){return R.currentChar()===C?(R.next(),C):(k(ke.EXPECTED_TOKEN,h(),0,C),"")}function U(R){let C="";for(;R.currentPeek()===Fi||R.currentPeek()===yn;)C+=R.currentPeek(),R.peek();return C}function W(R){const C=U(R);return R.skipToPeek(),C}function A(R){if(R===hr)return!1;const C=R.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C===95}function B(R){if(R===hr)return!1;const C=R.charCodeAt(0);return C>=48&&C<=57}function G(R,C){const{currentType:Y}=C;if(Y!==2)return!1;U(R);const Q=A(R.currentPeek());return R.resetPeek(),Q}function z(R,C){const{currentType:Y}=C;if(Y!==2)return!1;U(R);const Q=R.currentPeek()==="-"?R.peek():R.currentPeek(),yt=B(Q);return R.resetPeek(),yt}function X(R,C){const{currentType:Y}=C;if(Y!==2)return!1;U(R);const Q=R.currentPeek()===gf;return R.resetPeek(),Q}function V(R,C){const{currentType:Y}=C;if(Y!==7)return!1;U(R);const Q=R.currentPeek()===".";return R.resetPeek(),Q}function Z(R,C){const{currentType:Y}=C;if(Y!==8)return!1;U(R);const Q=A(R.currentPeek());return R.resetPeek(),Q}function ht(R,C){const{currentType:Y}=C;if(!(Y===7||Y===11))return!1;U(R);const Q=R.currentPeek()===":";return R.resetPeek(),Q}function ct(R,C){const{currentType:Y}=C;if(Y!==9)return!1;const Q=()=>{const at=R.currentPeek();return at==="{"?A(R.peek()):at==="@"||at==="|"||at===":"||at==="."||at===Fi||!at?!1:at===yn?(R.peek(),Q()):Nt(R,!1)},yt=Q();return R.resetPeek(),yt}function Ot(R){U(R);const C=R.currentPeek()==="|";return R.resetPeek(),C}function Nt(R,C=!0){const Y=(yt=!1,at="")=>{const q=R.currentPeek();return q==="{"||q==="@"||!q?yt:q==="|"?!(at===Fi||at===yn):q===Fi?(R.peek(),Y(!0,Fi)):q===yn?(R.peek(),Y(!0,yn)):!0},Q=Y();return C&&R.resetPeek(),Q}function Tt(R,C){const Y=R.currentChar();return Y===hr?hr:C(Y)?(R.next(),Y):null}function Kt(R){const C=R.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36}function dt(R){return Tt(R,Kt)}function Ut(R){const C=R.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36||C===45}function It(R){return Tt(R,Ut)}function Pt(R){const C=R.charCodeAt(0);return C>=48&&C<=57}function ft(R){return Tt(R,Pt)}function Qt(R){const C=R.charCodeAt(0);return C>=48&&C<=57||C>=65&&C<=70||C>=97&&C<=102}function st(R){return Tt(R,Qt)}function Ft(R){let C="",Y="";for(;C=ft(R);)Y+=C;return Y}function Gt(R){let C="";for(;;){const Y=R.currentChar();if(Y==="{"||Y==="}"||Y==="@"||Y==="|"||!Y)break;if(Y===Fi||Y===yn)if(Nt(R))C+=Y,R.next();else{if(Ot(R))break;C+=Y,R.next()}else C+=Y,R.next()}return C}function ne(R){W(R);let C="",Y="";for(;C=It(R);)Y+=C;return R.currentChar()===hr&&k(ke.UNTERMINATED_CLOSING_BRACE,h(),0),Y}function kt(R){W(R);let C="";return R.currentChar()==="-"?(R.next(),C+=`-${Ft(R)}`):C+=Ft(R),R.currentChar()===hr&&k(ke.UNTERMINATED_CLOSING_BRACE,h(),0),C}function $t(R){return R!==gf&&R!==yn}function Bt(R){W(R),M(R,"'");let C="",Y="";for(;C=Tt(R,$t);)C==="\\"?Y+=it(R):Y+=C;const Q=R.currentChar();return Q===yn||Q===hr?(k(ke.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),Q===yn&&(R.next(),M(R,"'")),Y):(M(R,"'"),Y)}function it(R){const C=R.currentChar();switch(C){case"\\":case"'":return R.next(),`\\${C}`;case"u":return F(R,C,4);case"U":return F(R,C,6);default:return k(ke.UNKNOWN_ESCAPE_SEQUENCE,h(),0,C),""}}function F(R,C,Y){M(R,C);let Q="";for(let yt=0;yt<Y;yt++){const at=st(R);if(!at){k(ke.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${C}${Q}${R.currentChar()}`);break}Q+=at}return`\\${C}${Q}`}function Lt(R){return R!=="{"&&R!=="}"&&R!==Fi&&R!==yn}function gt(R){W(R);let C="",Y="";for(;C=Tt(R,Lt);)Y+=C;return Y}function _t(R){let C="",Y="";for(;C=dt(R);)Y+=C;return Y}function T(R){const C=Y=>{const Q=R.currentChar();return Q==="{"||Q==="@"||Q==="|"||Q==="("||Q===")"||!Q||Q===Fi?Y:(Y+=Q,R.next(),C(Y))};return C("")}function D(R){W(R);const C=M(R,"|");return W(R),C}function j(R,C){let Y=null;switch(R.currentChar()){case"{":return C.braceNest>=1&&k(ke.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),R.next(),Y=I(C,2,"{"),W(R),C.braceNest++,Y;case"}":return C.braceNest>0&&C.currentType===2&&k(ke.EMPTY_PLACEHOLDER,h(),0),R.next(),Y=I(C,3,"}"),C.braceNest--,C.braceNest>0&&W(R),C.inLinked&&C.braceNest===0&&(C.inLinked=!1),Y;case"@":return C.braceNest>0&&k(ke.UNTERMINATED_CLOSING_BRACE,h(),0),Y=nt(R,C)||P(C),C.braceNest=0,Y;default:{let yt=!0,at=!0,q=!0;if(Ot(R))return C.braceNest>0&&k(ke.UNTERMINATED_CLOSING_BRACE,h(),0),Y=I(C,1,D(R)),C.braceNest=0,C.inLinked=!1,Y;if(C.braceNest>0&&(C.currentType===4||C.currentType===5||C.currentType===6))return k(ke.UNTERMINATED_CLOSING_BRACE,h(),0),C.braceNest=0,ot(R,C);if(yt=G(R,C))return Y=I(C,4,ne(R)),W(R),Y;if(at=z(R,C))return Y=I(C,5,kt(R)),W(R),Y;if(q=X(R,C))return Y=I(C,6,Bt(R)),W(R),Y;if(!yt&&!at&&!q)return Y=I(C,12,gt(R)),k(ke.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,Y.value),W(R),Y;break}}return Y}function nt(R,C){const{currentType:Y}=C;let Q=null;const yt=R.currentChar();switch((Y===7||Y===8||Y===11||Y===9)&&(yt===yn||yt===Fi)&&k(ke.INVALID_LINKED_FORMAT,h(),0),yt){case"@":return R.next(),Q=I(C,7,"@"),C.inLinked=!0,Q;case".":return W(R),R.next(),I(C,8,".");case":":return W(R),R.next(),I(C,9,":");default:return Ot(R)?(Q=I(C,1,D(R)),C.braceNest=0,C.inLinked=!1,Q):V(R,C)||ht(R,C)?(W(R),nt(R,C)):Z(R,C)?(W(R),I(C,11,_t(R))):ct(R,C)?(W(R),yt==="{"?j(R,C)||Q:I(C,10,T(R))):(Y===7&&k(ke.INVALID_LINKED_FORMAT,h(),0),C.braceNest=0,C.inLinked=!1,ot(R,C))}}function ot(R,C){let Y={type:13};if(C.braceNest>0)return j(R,C)||P(C);if(C.inLinked)return nt(R,C)||P(C);switch(R.currentChar()){case"{":return j(R,C)||P(C);case"}":return k(ke.UNBALANCED_CLOSING_BRACE,h(),0),R.next(),I(C,3,"}");case"@":return nt(R,C)||P(C);default:{if(Ot(R))return Y=I(C,1,D(R)),C.braceNest=0,C.inLinked=!1,Y;if(Nt(R))return I(C,0,Gt(R));break}}return Y}function rt(){const{currentType:R,offset:C,startLoc:Y,endLoc:Q}=v;return v.lastType=R,v.lastOffset=C,v.lastStartLoc=Y,v.lastEndLoc=Q,v.offset=s(),v.startLoc=h(),c.currentChar()===hr?I(v,13):ot(c,v)}return{nextToken:rt,currentOffset:s,currentPosition:h,context:x}}const OE="parser",RE=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function AE(t,r,u){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const c=parseInt(r||u,16);return c<=55295||c>=57344?String.fromCodePoint(c):"�"}}}function DE(t={}){const r=t.location!==!1,{onError:u}=t;function c(A,B,G,z,...X){const V=A.currentPosition();if(V.offset+=z,V.column+=z,u){const Z=r?ql(G,V):null,ht=Ou(B,Z,{domain:OE,args:X});u(ht)}}function s(A,B,G){const z={type:A};return r&&(z.start=B,z.end=B,z.loc={start:G,end:G}),z}function h(A,B,G,z){r&&(A.end=B,A.loc&&(A.loc.end=G))}function g(A,B){const G=A.context(),z=s(3,G.offset,G.startLoc);return z.value=B,h(z,A.currentOffset(),A.currentPosition()),z}function _(A,B){const G=A.context(),{lastOffset:z,lastStartLoc:X}=G,V=s(5,z,X);return V.index=parseInt(B,10),A.nextToken(),h(V,A.currentOffset(),A.currentPosition()),V}function v(A,B){const G=A.context(),{lastOffset:z,lastStartLoc:X}=G,V=s(4,z,X);return V.key=B,A.nextToken(),h(V,A.currentOffset(),A.currentPosition()),V}function x(A,B){const G=A.context(),{lastOffset:z,lastStartLoc:X}=G,V=s(9,z,X);return V.value=B.replace(RE,AE),A.nextToken(),h(V,A.currentOffset(),A.currentPosition()),V}function E(A){const B=A.nextToken(),G=A.context(),{lastOffset:z,lastStartLoc:X}=G,V=s(8,z,X);return B.type!==11?(c(A,ke.UNEXPECTED_EMPTY_LINKED_MODIFIER,G.lastStartLoc,0),V.value="",h(V,z,X),{nextConsumeToken:B,node:V}):(B.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,G.lastStartLoc,0,vi(B)),V.value=B.value||"",h(V,A.currentOffset(),A.currentPosition()),{node:V})}function k(A,B){const G=A.context(),z=s(7,G.offset,G.startLoc);return z.value=B,h(z,A.currentOffset(),A.currentPosition()),z}function I(A){const B=A.context(),G=s(6,B.offset,B.startLoc);let z=A.nextToken();if(z.type===8){const X=E(A);G.modifier=X.node,z=X.nextConsumeToken||A.nextToken()}switch(z.type!==9&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(z)),z=A.nextToken(),z.type===2&&(z=A.nextToken()),z.type){case 10:z.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(z)),G.key=k(A,z.value||"");break;case 4:z.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(z)),G.key=v(A,z.value||"");break;case 5:z.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(z)),G.key=_(A,z.value||"");break;case 6:z.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(z)),G.key=x(A,z.value||"");break;default:{c(A,ke.UNEXPECTED_EMPTY_LINKED_KEY,B.lastStartLoc,0);const X=A.context(),V=s(7,X.offset,X.startLoc);return V.value="",h(V,X.offset,X.startLoc),G.key=V,h(G,X.offset,X.startLoc),{nextConsumeToken:z,node:G}}}return h(G,A.currentOffset(),A.currentPosition()),{node:G}}function P(A){const B=A.context(),G=B.currentType===1?A.currentOffset():B.offset,z=B.currentType===1?B.endLoc:B.startLoc,X=s(2,G,z);X.items=[];let V=null;do{const ct=V||A.nextToken();switch(V=null,ct.type){case 0:ct.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(ct)),X.items.push(g(A,ct.value||""));break;case 5:ct.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(ct)),X.items.push(_(A,ct.value||""));break;case 4:ct.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(ct)),X.items.push(v(A,ct.value||""));break;case 6:ct.value==null&&c(A,ke.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,vi(ct)),X.items.push(x(A,ct.value||""));break;case 7:{const Ot=I(A);X.items.push(Ot.node),V=Ot.nextConsumeToken||null;break}}}while(B.currentType!==13&&B.currentType!==1);const Z=B.currentType===1?B.lastOffset:A.currentOffset(),ht=B.currentType===1?B.lastEndLoc:A.currentPosition();return h(X,Z,ht),X}function M(A,B,G,z){const X=A.context();let V=z.items.length===0;const Z=s(1,B,G);Z.cases=[],Z.cases.push(z);do{const ht=P(A);V||(V=ht.items.length===0),Z.cases.push(ht)}while(X.currentType!==13);return V&&c(A,ke.MUST_HAVE_MESSAGES_IN_PLURAL,G,0),h(Z,A.currentOffset(),A.currentPosition()),Z}function U(A){const B=A.context(),{offset:G,startLoc:z}=B,X=P(A);return B.currentType===13?X:M(A,G,z,X)}function W(A){const B=ME(A,Ve({},t)),G=B.context(),z=s(0,G.offset,G.startLoc);return r&&z.loc&&(z.loc.source=A),z.body=U(B),t.onCacheKey&&(z.cacheKey=t.onCacheKey(A)),G.currentType!==13&&c(B,ke.UNEXPECTED_LEXICAL_ANALYSIS,G.lastStartLoc,0,A[G.offset]||""),h(z,B.currentOffset(),B.currentPosition()),z}return{parse:W}}function vi(t){if(t.type===13)return"EOF";const r=(t.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"…":r}function FE(t,r={}){const u={ast:t,helpers:new Set};return{context:()=>u,helper:h=>(u.helpers.add(h),h)}}function _f(t,r){for(let u=0;u<t.length;u++)wc(t[u],r)}function wc(t,r){switch(t.type){case 1:_f(t.cases,r),r.helper("plural");break;case 2:_f(t.items,r);break;case 6:{wc(t.key,r),r.helper("linked"),r.helper("type");break}case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function zE(t,r={}){const u=FE(t);u.helper("normalize"),t.body&&wc(t.body,u);const c=u.context();t.helpers=Array.from(c.helpers)}function BE(t){const r=t.body;return r.type===2?mf(r):r.cases.forEach(u=>mf(u)),t}function mf(t){if(t.items.length===1){const r=t.items[0];(r.type===3||r.type===9)&&(t.static=r.value,delete r.value)}else{const r=[];for(let u=0;u<t.items.length;u++){const c=t.items[u];if(!(c.type===3||c.type===9)||c.value==null)break;r.push(c.value)}if(r.length===t.items.length){t.static=xc(r);for(let u=0;u<t.items.length;u++){const c=t.items[u];(c.type===3||c.type===9)&&delete c.value}}}}function ws(t){switch(t.t=t.type,t.type){case 0:{const r=t;ws(r.body),r.b=r.body,delete r.body;break}case 1:{const r=t,u=r.cases;for(let c=0;c<u.length;c++)ws(u[c]);r.c=u,delete r.cases;break}case 2:{const r=t,u=r.items;for(let c=0;c<u.length;c++)ws(u[c]);r.i=u,delete r.items,r.static&&(r.s=r.static,delete r.static);break}case 3:case 9:case 8:case 7:{const r=t;r.value&&(r.v=r.value,delete r.value);break}case 6:{const r=t;ws(r.key),r.k=r.key,delete r.key,r.modifier&&(ws(r.modifier),r.m=r.modifier,delete r.modifier);break}case 5:{const r=t;r.i=r.index,delete r.index;break}case 4:{const r=t;r.k=r.key,delete r.key;break}}delete t.type}function UE(t,r){const{sourceMap:u,filename:c,breakLineCode:s,needIndent:h}=r,g=r.location!==!1,_={filename:c,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:h,indentLevel:0};g&&t.loc&&(_.source=t.loc.source);const v=()=>_;function x(W,A){_.code+=W}function E(W,A=!0){const B=A?s:"";x(h?B+"  ".repeat(W):B)}function k(W=!0){const A=++_.indentLevel;W&&E(A)}function I(W=!0){const A=--_.indentLevel;W&&E(A)}function P(){E(_.indentLevel)}return{context:v,push:x,indent:k,deindent:I,newline:P,helper:W=>`_${W}`,needIndent:()=>_.needIndent}}function GE(t,r){const{helper:u}=t;t.push(`${u("linked")}(`),qs(t,r.key),r.modifier?(t.push(", "),qs(t,r.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function HE(t,r){const{helper:u,needIndent:c}=t;t.push(`${u("normalize")}([`),t.indent(c());const s=r.items.length;for(let h=0;h<s&&(qs(t,r.items[h]),h!==s-1);h++)t.push(", ");t.deindent(c()),t.push("])")}function qE(t,r){const{helper:u,needIndent:c}=t;if(r.cases.length>1){t.push(`${u("plural")}([`),t.indent(c());const s=r.cases.length;for(let h=0;h<s&&(qs(t,r.cases[h]),h!==s-1);h++)t.push(", ");t.deindent(c()),t.push("])")}}function $E(t,r){r.body?qs(t,r.body):t.push("null")}function qs(t,r){const{helper:u}=t;switch(r.type){case 0:$E(t,r);break;case 1:qE(t,r);break;case 2:HE(t,r);break;case 6:GE(t,r);break;case 8:t.push(JSON.stringify(r.value),r);break;case 7:t.push(JSON.stringify(r.value),r);break;case 5:t.push(`${u("interpolate")}(${u("list")}(${r.index}))`,r);break;case 4:t.push(`${u("interpolate")}(${u("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:t.push(JSON.stringify(r.value),r);break;case 3:t.push(JSON.stringify(r.value),r);break}}const ZE=(t,r={})=>{const u=bt(r.mode)?r.mode:"normal",c=bt(r.filename)?r.filename:"message.intl",s=!!r.sourceMap,h=r.breakLineCode!=null?r.breakLineCode:u==="arrow"?";":`
`,g=r.needIndent?r.needIndent:u!=="arrow",_=t.helpers||[],v=UE(t,{mode:u,filename:c,sourceMap:s,breakLineCode:h,needIndent:g});v.push(u==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),v.indent(g),_.length>0&&(v.push(`const { ${xc(_.map(k=>`${k}: _${k}`),", ")} } = ctx`),v.newline()),v.push("return "),qs(v,t),v.deindent(g),v.push("}"),delete t.helpers;const{code:x,map:E}=v.context();return{ast:t,code:x,map:E?E.toJSON():void 0}};function VE(t,r={}){const u=Ve({},r),c=!!u.jit,s=!!u.minify,h=u.optimize==null?!0:u.optimize,_=DE(u).parse(t);return c?(h&&BE(_),s&&ws(_),{ast:_,code:""}):(zE(_,u),ZE(_,u))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function YE(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qr().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(qr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function dl(t){return u=>WE(u,t)}function WE(t,r){const u=jE(r);if(u==null)throw ta(0);if(bc(u)===1){const h=JE(u);return t.plural(h.reduce((g,_)=>[...g,pf(t,_)],[]))}else return pf(t,u)}const XE=["b","body"];function jE(t){return xr(t,XE)}const KE=["c","cases"];function JE(t){return xr(t,KE,[])}function pf(t,r){const u=t1(r);if(u!=null)return t.type==="text"?u:t.normalize([u]);{const c=n1(r).reduce((s,h)=>[...s,$l(t,h)],[]);return t.normalize(c)}}const QE=["s","static"];function t1(t){return xr(t,QE)}const e1=["i","items"];function n1(t){return xr(t,e1,[])}function $l(t,r){const u=bc(r);switch(u){case 3:return Ha(r,u);case 9:return Ha(r,u);case 4:{const c=r;if(ri(c,"k")&&c.k)return t.interpolate(t.named(c.k));if(ri(c,"key")&&c.key)return t.interpolate(t.named(c.key));throw ta(u)}case 5:{const c=r;if(ri(c,"i")&&Ue(c.i))return t.interpolate(t.list(c.i));if(ri(c,"index")&&Ue(c.index))return t.interpolate(t.list(c.index));throw ta(u)}case 6:{const c=r,s=o1(c),h=u1(c);return t.linked($l(t,h),s?$l(t,s):void 0,t.type)}case 7:return Ha(r,u);case 8:return Ha(r,u);default:throw new Error(`unhandled node on format message part: ${u}`)}}const i1=["t","type"];function bc(t){return xr(t,i1)}const r1=["v","value"];function Ha(t,r){const u=xr(t,r1);if(u)return u;throw ta(r)}const s1=["m","modifier"];function o1(t){return xr(t,s1)}const a1=["k","key"];function u1(t){const r=xr(t,a1);if(r)return r;throw ta(6)}function xr(t,r,u){for(let c=0;c<r.length;c++){const s=r[c];if(ri(t,s)&&t[s]!=null)return t[s]}return u}function ta(t){return new Error(`unhandled node type: ${t}`)}const l1=t=>t;let qa=xe();function $s(t){return _e(t)&&bc(t)===0&&(ri(t,"b")||ri(t,"body"))}function c1(t,r={}){let u=!1;const c=r.onError||bE;return r.onError=s=>{u=!0,c(s)},{...VE(t,r),detectError:u}}function h1(t,r){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&bt(t)){de(r.warnHtmlMessage)&&r.warnHtmlMessage;const c=(r.onCacheKey||l1)(t),s=qa[c];if(s)return s;const{ast:h,detectError:g}=c1(t,{...r,location:!1,jit:!0}),_=dl(h);return g?_:qa[c]=_}else{const u=t.cacheKey;if(u){const c=qa[u];return c||(qa[u]=dl(t))}else return dl(t)}}let ea=null;function f1(t){ea=t}function d1(t,r,u){ea&&ea.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:r,meta:u})}const g1=_1("function:translate");function _1(t){return r=>ea&&ea.emit(t,r)}const qi={INVALID_ARGUMENT:wE,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},m1=24;function $i(t){return Ou(t,null,void 0)}function Tc(t,r){return r.locale!=null?vf(r.locale):vf(t.locale)}let gl;function vf(t){if(bt(t))return t;if(Ce(t)){if(t.resolvedOnce&&gl!=null)return gl;if(t.constructor.name==="Function"){const r=t();if(LE(r))throw $i(qi.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return gl=r}else throw $i(qi.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw $i(qi.NOT_SUPPORT_LOCALE_TYPE)}function p1(t,r,u){return[...new Set([u,...ze(r)?r:_e(r)?Object.keys(r):bt(r)?[r]:[u]])]}function Gg(t,r,u){const c=bt(u)?u:na,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let h=s.__localeChainCache.get(c);if(!h){h=[];let g=[u];for(;ze(g);)g=yf(h,g,r);const _=ze(r)||!ie(r)?r:r.default?r.default:null;g=bt(_)?[_]:_,ze(g)&&yf(h,g,!1),s.__localeChainCache.set(c,h)}return h}function yf(t,r,u){let c=!0;for(let s=0;s<r.length&&de(c);s++){const h=r[s];bt(h)&&(c=v1(t,r[s],u))}return c}function v1(t,r,u){let c;const s=r.split("-");do{const h=s.join("-");c=y1(t,h,u),s.splice(-1,1)}while(s.length&&c===!0);return c}function y1(t,r,u){let c=!1;if(!t.includes(r)&&(c=!0,r)){c=r[r.length-1]!=="!";const s=r.replace(/!/g,"");t.push(s),(ze(u)||ie(u))&&u[s]&&(c=u[s])}return c}const wr=[];wr[0]={w:[0],i:[3,0],"[":[4],o:[7]};wr[1]={w:[1],".":[2],"[":[4],o:[7]};wr[2]={w:[2],i:[3,0],0:[3,0]};wr[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};wr[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};wr[5]={"'":[4,0],o:8,l:[5,0]};wr[6]={'"':[4,0],o:8,l:[6,0]};const L1=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function E1(t){return L1.test(t)}function k1(t){const r=t.charCodeAt(0),u=t.charCodeAt(t.length-1);return r===u&&(r===34||r===39)?t.slice(1,-1):t}function x1(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function w1(t){const r=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:E1(r)?k1(r):"*"+r}function b1(t){const r=[];let u=-1,c=0,s=0,h,g,_,v,x,E,k;const I=[];I[0]=()=>{g===void 0?g=_:g+=_},I[1]=()=>{g!==void 0&&(r.push(g),g=void 0)},I[2]=()=>{I[0](),s++},I[3]=()=>{if(s>0)s--,c=4,I[0]();else{if(s=0,g===void 0||(g=w1(g),g===!1))return!1;I[1]()}};function P(){const M=t[u+1];if(c===5&&M==="'"||c===6&&M==='"')return u++,_="\\"+M,I[0](),!0}for(;c!==null;)if(u++,h=t[u],!(h==="\\"&&P())){if(v=x1(h),k=wr[c],x=k[v]||k.l||8,x===8||(c=x[0],x[1]!==void 0&&(E=I[x[1]],E&&(_=h,E()===!1))))return;if(c===7)return r}}const Lf=new Map;function T1(t,r){return _e(t)?t[r]:null}function I1(t,r){if(!_e(t))return null;let u=Lf.get(r);if(u||(u=b1(r),u&&Lf.set(r,u)),!u)return null;const c=u.length;let s=t,h=0;for(;h<c;){const g=s[u[h]];if(g===void 0||Ce(s))return null;s=g,h++}return s}const S1="10.0.5",Ru=-1,na="en-US",Ef="",kf=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function N1(){return{upper:(t,r)=>r==="text"&&bt(t)?t.toUpperCase():r==="vnode"&&_e(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,r)=>r==="text"&&bt(t)?t.toLowerCase():r==="vnode"&&_e(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,r)=>r==="text"&&bt(t)?kf(t):r==="vnode"&&_e(t)&&"__v_isVNode"in t?kf(t.children):t}}let Hg;function C1(t){Hg=t}let qg;function P1(t){qg=t}let $g;function M1(t){$g=t}let Zg=null;const O1=t=>{Zg=t},R1=()=>Zg;let Vg=null;const xf=t=>{Vg=t},A1=()=>Vg;let wf=0;function D1(t={}){const r=Ce(t.onWarn)?t.onWarn:kE,u=bt(t.version)?t.version:S1,c=bt(t.locale)||Ce(t.locale)?t.locale:na,s=Ce(c)?na:c,h=ze(t.fallbackLocale)||ie(t.fallbackLocale)||bt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,g=ie(t.messages)?t.messages:_l(s),_=ie(t.datetimeFormats)?t.datetimeFormats:_l(s),v=ie(t.numberFormats)?t.numberFormats:_l(s),x=Ve(xe(),t.modifiers,N1()),E=t.pluralRules||xe(),k=Ce(t.missing)?t.missing:null,I=de(t.missingWarn)||Hs(t.missingWarn)?t.missingWarn:!0,P=de(t.fallbackWarn)||Hs(t.fallbackWarn)?t.fallbackWarn:!0,M=!!t.fallbackFormat,U=!!t.unresolving,W=Ce(t.postTranslation)?t.postTranslation:null,A=ie(t.processor)?t.processor:null,B=de(t.warnHtmlMessage)?t.warnHtmlMessage:!0,G=!!t.escapeParameter,z=Ce(t.messageCompiler)?t.messageCompiler:Hg,X=Ce(t.messageResolver)?t.messageResolver:qg||T1,V=Ce(t.localeFallbacker)?t.localeFallbacker:$g||p1,Z=_e(t.fallbackContext)?t.fallbackContext:void 0,ht=t,ct=_e(ht.__datetimeFormatters)?ht.__datetimeFormatters:new Map,Ot=_e(ht.__numberFormatters)?ht.__numberFormatters:new Map,Nt=_e(ht.__meta)?ht.__meta:{};wf++;const Tt={version:u,cid:wf,locale:c,fallbackLocale:h,messages:g,modifiers:x,pluralRules:E,missing:k,missingWarn:I,fallbackWarn:P,fallbackFormat:M,unresolving:U,postTranslation:W,processor:A,warnHtmlMessage:B,escapeParameter:G,messageCompiler:z,messageResolver:X,localeFallbacker:V,fallbackContext:Z,onWarn:r,__meta:Nt};return Tt.datetimeFormats=_,Tt.numberFormats=v,Tt.__datetimeFormatters=ct,Tt.__numberFormatters=Ot,__INTLIFY_PROD_DEVTOOLS__&&d1(Tt,u,Nt),Tt}const _l=t=>({[t]:xe()});function Ic(t,r,u,c,s){const{missing:h,onWarn:g}=t;if(h!==null){const _=h(t,u,r,s);return bt(_)?_:r}else return r}function So(t,r,u){const c=t;c.__localeChainCache=new Map,t.localeFallbacker(t,u,r)}function F1(t,r){return t===r?!1:t.split("-")[0]===r.split("-")[0]}function z1(t,r){const u=r.indexOf(t);if(u===-1)return!1;for(let c=u+1;c<r.length;c++)if(F1(t,r[c]))return!0;return!1}function bf(t,...r){const{datetimeFormats:u,unresolving:c,fallbackLocale:s,onWarn:h,localeFallbacker:g}=t,{__datetimeFormatters:_}=t,[v,x,E,k]=Zl(...r),I=de(E.missingWarn)?E.missingWarn:t.missingWarn;de(E.fallbackWarn)?E.fallbackWarn:t.fallbackWarn;const P=!!E.part,M=Tc(t,E),U=g(t,s,M);if(!bt(v)||v==="")return new Intl.DateTimeFormat(M,k).format(x);let W={},A,B=null;const G="datetime format";for(let V=0;V<U.length&&(A=U[V],W=u[A]||{},B=W[v],!ie(B));V++)Ic(t,v,A,I,G);if(!ie(B)||!bt(A))return c?Ru:v;let z=`${A}__${v}`;Mu(k)||(z=`${z}__${JSON.stringify(k)}`);let X=_.get(z);return X||(X=new Intl.DateTimeFormat(A,Ve({},B,k)),_.set(z,X)),P?X.formatToParts(x):X.format(x)}const Yg=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Zl(...t){const[r,u,c,s]=t,h=xe();let g=xe(),_;if(bt(r)){const v=r.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!v)throw $i(qi.INVALID_ISO_DATE_ARGUMENT);const x=v[3]?v[3].trim().startsWith("T")?`${v[1].trim()}${v[3].trim()}`:`${v[1].trim()}T${v[3].trim()}`:v[1].trim();_=new Date(x);try{_.toISOString()}catch{throw $i(qi.INVALID_ISO_DATE_ARGUMENT)}}else if(pE(r)){if(isNaN(r.getTime()))throw $i(qi.INVALID_DATE_ARGUMENT);_=r}else if(Ue(r))_=r;else throw $i(qi.INVALID_ARGUMENT);return bt(u)?h.key=u:ie(u)&&Object.keys(u).forEach(v=>{Yg.includes(v)?g[v]=u[v]:h[v]=u[v]}),bt(c)?h.locale=c:ie(c)&&(g=c),ie(s)&&(g=s),[h.key||"",_,h,g]}function Tf(t,r,u){const c=t;for(const s in u){const h=`${r}__${s}`;c.__datetimeFormatters.has(h)&&c.__datetimeFormatters.delete(h)}}function If(t,...r){const{numberFormats:u,unresolving:c,fallbackLocale:s,onWarn:h,localeFallbacker:g}=t,{__numberFormatters:_}=t,[v,x,E,k]=Vl(...r),I=de(E.missingWarn)?E.missingWarn:t.missingWarn;de(E.fallbackWarn)?E.fallbackWarn:t.fallbackWarn;const P=!!E.part,M=Tc(t,E),U=g(t,s,M);if(!bt(v)||v==="")return new Intl.NumberFormat(M,k).format(x);let W={},A,B=null;const G="number format";for(let V=0;V<U.length&&(A=U[V],W=u[A]||{},B=W[v],!ie(B));V++)Ic(t,v,A,I,G);if(!ie(B)||!bt(A))return c?Ru:v;let z=`${A}__${v}`;Mu(k)||(z=`${z}__${JSON.stringify(k)}`);let X=_.get(z);return X||(X=new Intl.NumberFormat(A,Ve({},B,k)),_.set(z,X)),P?X.formatToParts(x):X.format(x)}const Wg=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Vl(...t){const[r,u,c,s]=t,h=xe();let g=xe();if(!Ue(r))throw $i(qi.INVALID_ARGUMENT);const _=r;return bt(u)?h.key=u:ie(u)&&Object.keys(u).forEach(v=>{Wg.includes(v)?g[v]=u[v]:h[v]=u[v]}),bt(c)?h.locale=c:ie(c)&&(g=c),ie(s)&&(g=s),[h.key||"",_,h,g]}function Sf(t,r,u){const c=t;for(const s in u){const h=`${r}__${s}`;c.__numberFormatters.has(h)&&c.__numberFormatters.delete(h)}}const B1=t=>t,U1=t=>"",G1="text",H1=t=>t.length===0?"":xc(t),q1=EE;function Nf(t,r){return t=Math.abs(t),r===2?t?t>1?1:0:1:t?Math.min(t,2):0}function $1(t){const r=Ue(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Ue(t.named.count)||Ue(t.named.n))?Ue(t.named.count)?t.named.count:Ue(t.named.n)?t.named.n:r:r}function Z1(t,r){r.count||(r.count=t),r.n||(r.n=t)}function V1(t={}){const r=t.locale,u=$1(t),c=_e(t.pluralRules)&&bt(r)&&Ce(t.pluralRules[r])?t.pluralRules[r]:Nf,s=_e(t.pluralRules)&&bt(r)&&Ce(t.pluralRules[r])?Nf:void 0,h=A=>A[c(u,A.length,s)],g=t.list||[],_=A=>g[A],v=t.named||xe();Ue(t.pluralIndex)&&Z1(u,v);const x=A=>v[A];function E(A,B){const G=Ce(t.messages)?t.messages(A,!!B):_e(t.messages)?t.messages[A]:!1;return G||(t.parent?t.parent.message(A):U1)}const k=A=>t.modifiers?t.modifiers[A]:B1,I=ie(t.processor)&&Ce(t.processor.normalize)?t.processor.normalize:H1,P=ie(t.processor)&&Ce(t.processor.interpolate)?t.processor.interpolate:q1,M=ie(t.processor)&&bt(t.processor.type)?t.processor.type:G1,W={list:_,named:x,plural:h,linked:(A,...B)=>{const[G,z]=B;let X="text",V="";B.length===1?_e(G)?(V=G.modifier||V,X=G.type||X):bt(G)&&(V=G||V):B.length===2&&(bt(G)&&(V=G||V),bt(z)&&(X=z||X));const Z=E(A,!0)(W),ht=X==="vnode"&&ze(Z)&&V?Z[0]:Z;return V?k(V)(ht,X):ht},message:E,type:M,interpolate:P,normalize:I,values:Ve(xe(),g,v)};return W}const Cf=()=>"",Xn=t=>Ce(t);function Pf(t,...r){const{fallbackFormat:u,postTranslation:c,unresolving:s,messageCompiler:h,fallbackLocale:g,messages:_}=t,[v,x]=Yl(...r),E=de(x.missingWarn)?x.missingWarn:t.missingWarn,k=de(x.fallbackWarn)?x.fallbackWarn:t.fallbackWarn,I=de(x.escapeParameter)?x.escapeParameter:t.escapeParameter,P=!!x.resolvedMessage,M=bt(x.default)||de(x.default)?de(x.default)?h?v:()=>v:x.default:u?h?v:()=>v:null,U=u||M!=null&&(bt(M)||Ce(M)),W=Tc(t,x);I&&Y1(x);let[A,B,G]=P?[v,W,_[W]||xe()]:Xg(t,v,W,g,k,E),z=A,X=v;if(!P&&!(bt(z)||$s(z)||Xn(z))&&U&&(z=M,X=z),!P&&(!(bt(z)||$s(z)||Xn(z))||!bt(B)))return s?Ru:v;let V=!1;const Z=()=>{V=!0},ht=Xn(z)?z:jg(t,v,B,z,X,Z);if(V)return z;const ct=j1(t,B,G,x),Ot=V1(ct),Nt=W1(t,ht,Ot),Tt=c?c(Nt,v):Nt;if(__INTLIFY_PROD_DEVTOOLS__){const Kt={timestamp:Date.now(),key:bt(v)?v:Xn(z)?z.key:"",locale:B||(Xn(z)?z.locale:""),format:bt(z)?z:Xn(z)?z.source:"",message:Tt};Kt.meta=Ve({},t.__meta,R1()||{}),g1(Kt)}return Tt}function Y1(t){ze(t.list)?t.list=t.list.map(r=>bt(r)?df(r):r):_e(t.named)&&Object.keys(t.named).forEach(r=>{bt(t.named[r])&&(t.named[r]=df(t.named[r]))})}function Xg(t,r,u,c,s,h){const{messages:g,onWarn:_,messageResolver:v,localeFallbacker:x}=t,E=x(t,c,u);let k=xe(),I,P=null;const M="translate";for(let U=0;U<E.length&&(I=E[U],k=g[I]||xe(),(P=v(k,r))===null&&(P=k[r]),!(bt(P)||$s(P)||Xn(P)));U++)if(!z1(I,E)){const W=Ic(t,r,I,h,M);W!==r&&(P=W)}return[P,I,k]}function jg(t,r,u,c,s,h){const{messageCompiler:g,warnHtmlMessage:_}=t;if(Xn(c)){const x=c;return x.locale=x.locale||u,x.key=x.key||r,x}if(g==null){const x=()=>c;return x.locale=u,x.key=r,x}const v=g(c,X1(t,u,s,c,_,h));return v.locale=u,v.key=r,v.source=c,v}function W1(t,r,u){return r(u)}function Yl(...t){const[r,u,c]=t,s=xe();if(!bt(r)&&!Ue(r)&&!Xn(r)&&!$s(r))throw $i(qi.INVALID_ARGUMENT);const h=Ue(r)?String(r):(Xn(r),r);return Ue(u)?s.plural=u:bt(u)?s.default=u:ie(u)&&!Mu(u)?s.named=u:ze(u)&&(s.list=u),Ue(c)?s.plural=c:bt(c)?s.default=c:ie(c)&&Ve(s,c),[h,s]}function X1(t,r,u,c,s,h){return{locale:r,key:u,warnHtmlMessage:s,onError:g=>{throw h&&h(g),g},onCacheKey:g=>_E(r,u,g)}}function j1(t,r,u,c){const{modifiers:s,pluralRules:h,messageResolver:g,fallbackLocale:_,fallbackWarn:v,missingWarn:x,fallbackContext:E}=t,I={locale:r,modifiers:s,pluralRules:h,messages:(P,M)=>{let U=g(u,P);if(U==null&&(E||M)){const[,,W]=Xg(E||t,P,r,_,v,x);U=g(W,P)}if(bt(U)||$s(U)){let W=!1;const B=jg(t,P,r,U,P,()=>{W=!0});return W?Cf:B}else return Xn(U)?U:Cf}};return t.processor&&(I.processor=t.processor),c.list&&(I.list=c.list),c.named&&(I.named=c.named),Ue(c.plural)&&(I.pluralIndex=c.plural),I}YE();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const K1="10.0.5";function J1(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(qr().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(qr().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(qr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qr().__INTLIFY_PROD_DEVTOOLS__=!1)}const kn={UNEXPECTED_RETURN_TYPE:m1,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function Cn(t,...r){return Ou(t,null,void 0)}const Wl=kr("__translateVNode"),Xl=kr("__datetimeParts"),jl=kr("__numberParts"),Kg=kr("__setPluralRules"),Jg=kr("__injectWithOption"),Kl=kr("__dispose");function ia(t){if(!_e(t))return t;for(const r in t)if(ri(t,r))if(!r.includes("."))_e(t[r])&&ia(t[r]);else{const u=r.split("."),c=u.length-1;let s=t,h=!1;for(let g=0;g<c;g++){if(u[g]in s||(s[u[g]]=xe()),!_e(s[u[g]])){h=!0;break}s=s[u[g]]}h||(s[u[c]]=t[r],delete t[r]),_e(s[u[c]])&&ia(s[u[c]])}return t}function Sc(t,r){const{messages:u,__i18n:c,messageResolver:s,flatJson:h}=r,g=ie(u)?u:ze(c)?xe():{[t]:xe()};if(ze(c)&&c.forEach(_=>{if("locale"in _&&"resource"in _){const{locale:v,resource:x}=_;v?(g[v]=g[v]||xe(),eu(x,g[v])):eu(x,g)}else bt(_)&&eu(JSON.parse(_),g)}),s==null&&h)for(const _ in g)ri(g,_)&&ia(g[_]);return g}function Qg(t){return t.type}function t_(t,r,u){let c=_e(r.messages)?r.messages:xe();"__i18nGlobal"in u&&(c=Sc(t.locale.value,{messages:c,__i18n:u.__i18nGlobal}));const s=Object.keys(c);s.length&&s.forEach(h=>{t.mergeLocaleMessage(h,c[h])});{if(_e(r.datetimeFormats)){const h=Object.keys(r.datetimeFormats);h.length&&h.forEach(g=>{t.mergeDateTimeFormat(g,r.datetimeFormats[g])})}if(_e(r.numberFormats)){const h=Object.keys(r.numberFormats);h.length&&h.forEach(g=>{t.mergeNumberFormat(g,r.numberFormats[g])})}}}function Mf(t){return Zt(aa,null,t,0)}const Of="__INTLIFY_META__",Rf=()=>[],Q1=()=>!1;let Af=0;function Df(t){return(r,u,c,s)=>t(u,c,Yo()||void 0,s)}const tk=()=>{const t=Yo();let r=null;return t&&(r=Qg(t)[Of])?{[Of]:r}:null};function Nc(t={}){const{__root:r,__injectWithOption:u}=t,c=r===void 0,s=t.flatJson,h=vu?Jt:iu;let g=de(t.inheritLocale)?t.inheritLocale:!0;const _=h(r&&g?r.locale.value:bt(t.locale)?t.locale:na),v=h(r&&g?r.fallbackLocale.value:bt(t.fallbackLocale)||ze(t.fallbackLocale)||ie(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:_.value),x=h(Sc(_.value,t)),E=h(ie(t.datetimeFormats)?t.datetimeFormats:{[_.value]:{}}),k=h(ie(t.numberFormats)?t.numberFormats:{[_.value]:{}});let I=r?r.missingWarn:de(t.missingWarn)||Hs(t.missingWarn)?t.missingWarn:!0,P=r?r.fallbackWarn:de(t.fallbackWarn)||Hs(t.fallbackWarn)?t.fallbackWarn:!0,M=r?r.fallbackRoot:de(t.fallbackRoot)?t.fallbackRoot:!0,U=!!t.fallbackFormat,W=Ce(t.missing)?t.missing:null,A=Ce(t.missing)?Df(t.missing):null,B=Ce(t.postTranslation)?t.postTranslation:null,G=r?r.warnHtmlMessage:de(t.warnHtmlMessage)?t.warnHtmlMessage:!0,z=!!t.escapeParameter;const X=r?r.modifiers:ie(t.modifiers)?t.modifiers:{};let V=t.pluralRules||r&&r.pluralRules,Z;Z=(()=>{c&&xf(null);const q={version:K1,locale:_.value,fallbackLocale:v.value,messages:x.value,modifiers:X,pluralRules:V,missing:A===null?void 0:A,missingWarn:I,fallbackWarn:P,fallbackFormat:U,unresolving:!0,postTranslation:B===null?void 0:B,warnHtmlMessage:G,escapeParameter:z,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};q.datetimeFormats=E.value,q.numberFormats=k.value,q.__datetimeFormatters=ie(Z)?Z.__datetimeFormatters:void 0,q.__numberFormatters=ie(Z)?Z.__numberFormatters:void 0;const et=D1(q);return c&&xf(et),et})(),So(Z,_.value,v.value);function ct(){return[_.value,v.value,x.value,E.value,k.value]}const Ot=jt({get:()=>_.value,set:q=>{_.value=q,Z.locale=_.value}}),Nt=jt({get:()=>v.value,set:q=>{v.value=q,Z.fallbackLocale=v.value,So(Z,_.value,q)}}),Tt=jt(()=>x.value),Kt=jt(()=>E.value),dt=jt(()=>k.value);function Ut(){return Ce(B)?B:null}function It(q){B=q,Z.postTranslation=q}function Pt(){return W}function ft(q){q!==null&&(A=Df(q)),W=q,Z.missing=A}const Qt=(q,et,xt,zt,pt,Pe)=>{ct();let Rt;try{__INTLIFY_PROD_DEVTOOLS__,c||(Z.fallbackContext=r?A1():void 0),Rt=q(Z)}finally{__INTLIFY_PROD_DEVTOOLS__,c||(Z.fallbackContext=void 0)}if(xt!=="translate exists"&&Ue(Rt)&&Rt===Ru||xt==="translate exists"&&!Rt){const[Mt,dn]=et();return r&&M?zt(r):pt(Mt)}else{if(Pe(Rt))return Rt;throw Cn(kn.UNEXPECTED_RETURN_TYPE)}};function st(...q){return Qt(et=>Reflect.apply(Pf,null,[et,...q]),()=>Yl(...q),"translate",et=>Reflect.apply(et.t,et,[...q]),et=>et,et=>bt(et))}function Ft(...q){const[et,xt,zt]=q;if(zt&&!_e(zt))throw Cn(kn.INVALID_ARGUMENT);return st(et,xt,Ve({resolvedMessage:!0},zt||{}))}function Gt(...q){return Qt(et=>Reflect.apply(bf,null,[et,...q]),()=>Zl(...q),"datetime format",et=>Reflect.apply(et.d,et,[...q]),()=>Ef,et=>bt(et))}function ne(...q){return Qt(et=>Reflect.apply(If,null,[et,...q]),()=>Vl(...q),"number format",et=>Reflect.apply(et.n,et,[...q]),()=>Ef,et=>bt(et))}function kt(q){return q.map(et=>bt(et)||Ue(et)||de(et)?Mf(String(et)):et)}const Bt={normalize:kt,interpolate:q=>q,type:"vnode"};function it(...q){return Qt(et=>{let xt;const zt=et;try{zt.processor=Bt,xt=Reflect.apply(Pf,null,[zt,...q])}finally{zt.processor=null}return xt},()=>Yl(...q),"translate",et=>et[Wl](...q),et=>[Mf(et)],et=>ze(et))}function F(...q){return Qt(et=>Reflect.apply(If,null,[et,...q]),()=>Vl(...q),"number format",et=>et[jl](...q),Rf,et=>bt(et)||ze(et))}function Lt(...q){return Qt(et=>Reflect.apply(bf,null,[et,...q]),()=>Zl(...q),"datetime format",et=>et[Xl](...q),Rf,et=>bt(et)||ze(et))}function gt(q){V=q,Z.pluralRules=V}function _t(q,et){return Qt(()=>{if(!q)return!1;const xt=bt(et)?et:_.value,zt=j(xt),pt=Z.messageResolver(zt,q);return $s(pt)||Xn(pt)||bt(pt)},()=>[q],"translate exists",xt=>Reflect.apply(xt.te,xt,[q,et]),Q1,xt=>de(xt))}function T(q){let et=null;const xt=Gg(Z,v.value,_.value);for(let zt=0;zt<xt.length;zt++){const pt=x.value[xt[zt]]||{},Pe=Z.messageResolver(pt,q);if(Pe!=null){et=Pe;break}}return et}function D(q){const et=T(q);return et??(r?r.tm(q)||{}:{})}function j(q){return x.value[q]||{}}function nt(q,et){if(s){const xt={[q]:et};for(const zt in xt)ri(xt,zt)&&ia(xt[zt]);et=xt[q]}x.value[q]=et,Z.messages=x.value}function ot(q,et){x.value[q]=x.value[q]||{};const xt={[q]:et};if(s)for(const zt in xt)ri(xt,zt)&&ia(xt[zt]);et=xt[q],eu(et,x.value[q]),Z.messages=x.value}function rt(q){return E.value[q]||{}}function R(q,et){E.value[q]=et,Z.datetimeFormats=E.value,Tf(Z,q,et)}function C(q,et){E.value[q]=Ve(E.value[q]||{},et),Z.datetimeFormats=E.value,Tf(Z,q,et)}function Y(q){return k.value[q]||{}}function Q(q,et){k.value[q]=et,Z.numberFormats=k.value,Sf(Z,q,et)}function yt(q,et){k.value[q]=Ve(k.value[q]||{},et),Z.numberFormats=k.value,Sf(Z,q,et)}Af++,r&&vu&&(un(r.locale,q=>{g&&(_.value=q,Z.locale=q,So(Z,_.value,v.value))}),un(r.fallbackLocale,q=>{g&&(v.value=q,Z.fallbackLocale=q,So(Z,_.value,v.value))}));const at={id:Af,locale:Ot,fallbackLocale:Nt,get inheritLocale(){return g},set inheritLocale(q){g=q,q&&r&&(_.value=r.locale.value,v.value=r.fallbackLocale.value,So(Z,_.value,v.value))},get availableLocales(){return Object.keys(x.value).sort()},messages:Tt,get modifiers(){return X},get pluralRules(){return V||{}},get isGlobal(){return c},get missingWarn(){return I},set missingWarn(q){I=q,Z.missingWarn=I},get fallbackWarn(){return P},set fallbackWarn(q){P=q,Z.fallbackWarn=P},get fallbackRoot(){return M},set fallbackRoot(q){M=q},get fallbackFormat(){return U},set fallbackFormat(q){U=q,Z.fallbackFormat=U},get warnHtmlMessage(){return G},set warnHtmlMessage(q){G=q,Z.warnHtmlMessage=q},get escapeParameter(){return z},set escapeParameter(q){z=q,Z.escapeParameter=q},t:st,getLocaleMessage:j,setLocaleMessage:nt,mergeLocaleMessage:ot,getPostTranslationHandler:Ut,setPostTranslationHandler:It,getMissingHandler:Pt,setMissingHandler:ft,[Kg]:gt};return at.datetimeFormats=Kt,at.numberFormats=dt,at.rt=Ft,at.te=_t,at.tm=D,at.d=Gt,at.n=ne,at.getDateTimeFormat=rt,at.setDateTimeFormat=R,at.mergeDateTimeFormat=C,at.getNumberFormat=Y,at.setNumberFormat=Q,at.mergeNumberFormat=yt,at[Jg]=u,at[Wl]=it,at[Xl]=Lt,at[jl]=F,at}function ek(t){const r=bt(t.locale)?t.locale:na,u=bt(t.fallbackLocale)||ze(t.fallbackLocale)||ie(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,c=Ce(t.missing)?t.missing:void 0,s=de(t.silentTranslationWarn)||Hs(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,h=de(t.silentFallbackWarn)||Hs(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,g=de(t.fallbackRoot)?t.fallbackRoot:!0,_=!!t.formatFallbackMessages,v=ie(t.modifiers)?t.modifiers:{},x=t.pluralizationRules,E=Ce(t.postTranslation)?t.postTranslation:void 0,k=bt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,I=!!t.escapeParameterHtml,P=de(t.sync)?t.sync:!0;let M=t.messages;if(ie(t.sharedMessages)){const X=t.sharedMessages;M=Object.keys(X).reduce((Z,ht)=>{const ct=Z[ht]||(Z[ht]={});return Ve(ct,X[ht]),Z},M||{})}const{__i18n:U,__root:W,__injectWithOption:A}=t,B=t.datetimeFormats,G=t.numberFormats,z=t.flatJson;return{locale:r,fallbackLocale:u,messages:M,flatJson:z,datetimeFormats:B,numberFormats:G,missing:c,missingWarn:s,fallbackWarn:h,fallbackRoot:g,fallbackFormat:_,modifiers:v,pluralRules:x,postTranslation:E,warnHtmlMessage:k,escapeParameter:I,messageResolver:t.messageResolver,inheritLocale:P,__i18n:U,__root:W,__injectWithOption:A}}function Jl(t={}){const r=Nc(ek(t)),{__extender:u}=t,c={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return de(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=de(s)?!s:s},get silentFallbackWarn(){return de(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=de(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){return Reflect.apply(r.t,r,[...s])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[h,g,_]=s,v={plural:1};let x=null,E=null;if(!bt(h))throw Cn(kn.INVALID_ARGUMENT);const k=h;return bt(g)?v.locale=g:Ue(g)?v.plural=g:ze(g)?x=g:ie(g)&&(E=g),bt(_)?v.locale=_:ze(_)?x=_:ie(_)&&(E=_),Reflect.apply(r.t,r,[k,x||E||{},v])},te(s,h){return r.te(s,h)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,h){r.setLocaleMessage(s,h)},mergeLocaleMessage(s,h){r.mergeLocaleMessage(s,h)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,h){r.setDateTimeFormat(s,h)},mergeDateTimeFormat(s,h){r.mergeDateTimeFormat(s,h)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,h){r.setNumberFormat(s,h)},mergeNumberFormat(s,h){r.mergeNumberFormat(s,h)}};return c.__extender=u,c}function nk(t,r,u){return{beforeCreate(){const c=Yo();if(!c)throw Cn(kn.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const h=s.i18n;if(s.__i18n&&(h.__i18n=s.__i18n),h.__root=r,this===this.$root)this.$i18n=Ff(t,h);else{h.__injectWithOption=!0,h.__extender=u.__vueI18nExtend,this.$i18n=Jl(h);const g=this.$i18n;g.__extender&&(g.__disposer=g.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=Ff(t,s);else{this.$i18n=Jl({__i18n:s.__i18n,__injectWithOption:!0,__extender:u.__vueI18nExtend,__root:r});const h=this.$i18n;h.__extender&&(h.__disposer=h.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&t_(r,s,s),this.$t=(...h)=>this.$i18n.t(...h),this.$rt=(...h)=>this.$i18n.rt(...h),this.$tc=(...h)=>this.$i18n.tc(...h),this.$te=(h,g)=>this.$i18n.te(h,g),this.$d=(...h)=>this.$i18n.d(...h),this.$n=(...h)=>this.$i18n.n(...h),this.$tm=h=>this.$i18n.tm(h),u.__setInstance(c,this.$i18n)},mounted(){},unmounted(){const c=Yo();if(!c)throw Cn(kn.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),u.__deleteInstance(c),delete this.$i18n}}}function Ff(t,r){t.locale=r.locale||t.locale,t.fallbackLocale=r.fallbackLocale||t.fallbackLocale,t.missing=r.missing||t.missing,t.silentTranslationWarn=r.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=r.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=r.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=r.postTranslation||t.postTranslation,t.warnHtmlInMessage=r.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=r.escapeParameterHtml||t.escapeParameterHtml,t.sync=r.sync||t.sync,t.__composer[Kg](r.pluralizationRules||t.pluralizationRules);const u=Sc(t.locale,{messages:r.messages,__i18n:r.__i18n});return Object.keys(u).forEach(c=>t.mergeLocaleMessage(c,u[c])),r.datetimeFormats&&Object.keys(r.datetimeFormats).forEach(c=>t.mergeDateTimeFormat(c,r.datetimeFormats[c])),r.numberFormats&&Object.keys(r.numberFormats).forEach(c=>t.mergeNumberFormat(c,r.numberFormats[c])),t}const Cc={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function ik({slots:t},r){return r.length===1&&r[0]==="default"?(t.default?t.default():[]).reduce((c,s)=>[...c,...s.type===He?s.children:[s]],[]):r.reduce((u,c)=>{const s=t[c];return s&&(u[c]=s()),u},xe())}function e_(){return He}const rk=Yi({name:"i18n-t",props:Ve({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Ue(t)||!isNaN(t)}},Cc),setup(t,r){const{slots:u,attrs:c}=r,s=t.i18n||Pc({useScope:t.scope,__useComponent:!0});return()=>{const h=Object.keys(u).filter(k=>k!=="_"),g=xe();t.locale&&(g.locale=t.locale),t.plural!==void 0&&(g.plural=bt(t.plural)?+t.plural:t.plural);const _=ik(r,h),v=s[Wl](t.keypath,_,g),x=Ve(xe(),c),E=bt(t.tag)||_e(t.tag)?t.tag:e_();return _r(E,x,v)}}}),zf=rk;function sk(t){return ze(t)&&!bt(t[0])}function n_(t,r,u,c){const{slots:s,attrs:h}=r;return()=>{const g={part:!0};let _=xe();t.locale&&(g.locale=t.locale),bt(t.format)?g.key=t.format:_e(t.format)&&(bt(t.format.key)&&(g.key=t.format.key),_=Object.keys(t.format).reduce((I,P)=>u.includes(P)?Ve(xe(),I,{[P]:t.format[P]}):I,xe()));const v=c(t.value,g,_);let x=[g.key];ze(v)?x=v.map((I,P)=>{const M=s[I.type],U=M?M({[I.type]:I.value,index:P,parts:v}):[I.value];return sk(U)&&(U[0].key=`${I.type}-${P}`),U}):bt(v)&&(x=[v]);const E=Ve(xe(),h),k=bt(t.tag)||_e(t.tag)?t.tag:e_();return _r(k,E,x)}}const ok=Yi({name:"i18n-n",props:Ve({value:{type:Number,required:!0},format:{type:[String,Object]}},Cc),setup(t,r){const u=t.i18n||Pc({useScope:t.scope,__useComponent:!0});return n_(t,r,Wg,(...c)=>u[jl](...c))}}),Bf=ok,ak=Yi({name:"i18n-d",props:Ve({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Cc),setup(t,r){const u=t.i18n||Pc({useScope:t.scope,__useComponent:!0});return n_(t,r,Yg,(...c)=>u[Xl](...c))}}),Uf=ak;function uk(t,r){const u=t;if(t.mode==="composition")return u.__getInstance(r)||t.global;{const c=u.__getInstance(r);return c!=null?c.__composer:t.global.__composer}}function lk(t){const r=g=>{const{instance:_,value:v}=g;if(!_||!_.$)throw Cn(kn.UNEXPECTED_ERROR);const x=uk(t,_.$),E=Gf(v);return[Reflect.apply(x.t,x,[...Hf(E)]),x]};return{created:(g,_)=>{const[v,x]=r(_);vu&&t.global===x&&(g.__i18nWatcher=un(x.locale,()=>{_.instance&&_.instance.$forceUpdate()})),g.__composer=x,g.textContent=v},unmounted:g=>{vu&&g.__i18nWatcher&&(g.__i18nWatcher(),g.__i18nWatcher=void 0,delete g.__i18nWatcher),g.__composer&&(g.__composer=void 0,delete g.__composer)},beforeUpdate:(g,{value:_})=>{if(g.__composer){const v=g.__composer,x=Gf(_);g.textContent=Reflect.apply(v.t,v,[...Hf(x)])}},getSSRProps:g=>{const[_]=r(g);return{textContent:_}}}}function Gf(t){if(bt(t))return{path:t};if(ie(t)){if(!("path"in t))throw Cn(kn.REQUIRED_VALUE,"path");return t}else throw Cn(kn.INVALID_VALUE)}function Hf(t){const{path:r,locale:u,args:c,choice:s,plural:h}=t,g={},_=c||{};return bt(u)&&(g.locale=u),Ue(s)&&(g.plural=s),Ue(h)&&(g.plural=h),[r,_,g]}function ck(t,r,...u){const c=ie(u[0])?u[0]:{};(de(c.globalInstall)?c.globalInstall:!0)&&([zf.name,"I18nT"].forEach(h=>t.component(h,zf)),[Bf.name,"I18nN"].forEach(h=>t.component(h,Bf)),[Uf.name,"I18nD"].forEach(h=>t.component(h,Uf))),t.directive("t",lk(r))}const hk=kr("global-vue-i18n");function fk(t={},r){const u=__VUE_I18N_LEGACY_API__&&de(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,c=de(t.globalInjection)?t.globalInjection:!0,s=new Map,[h,g]=dk(t,u),_=kr("");function v(I){return s.get(I)||null}function x(I,P){s.set(I,P)}function E(I){s.delete(I)}const k={get mode(){return __VUE_I18N_LEGACY_API__&&u?"legacy":"composition"},async install(I,...P){if(I.__VUE_I18N_SYMBOL__=_,I.provide(I.__VUE_I18N_SYMBOL__,k),ie(P[0])){const W=P[0];k.__composerExtend=W.__composerExtend,k.__vueI18nExtend=W.__vueI18nExtend}let M=null;!u&&c&&(M=Ek(I,k.global)),__VUE_I18N_FULL_INSTALL__&&ck(I,k,...P),__VUE_I18N_LEGACY_API__&&u&&I.mixin(nk(g,g.__composer,k));const U=I.unmount;I.unmount=()=>{M&&M(),k.dispose(),U()}},get global(){return g},dispose(){h.stop()},__instances:s,__getInstance:v,__setInstance:x,__deleteInstance:E};return k}function Pc(t={}){const r=Yo();if(r==null)throw Cn(kn.MUST_BE_CALL_SETUP_TOP);if(!r.isCE&&r.appContext.app!=null&&!r.appContext.app.__VUE_I18N_SYMBOL__)throw Cn(kn.NOT_INSTALLED);const u=gk(r),c=mk(u),s=Qg(r),h=_k(t,s);if(h==="global")return t_(c,t,s),c;if(h==="parent"){let v=pk(u,r,t.__useComponent);return v==null&&(v=c),v}const g=u;let _=g.__getInstance(r);if(_==null){const v=Ve({},t);"__i18n"in s&&(v.__i18n=s.__i18n),c&&(v.__root=c),_=Nc(v),g.__composerExtend&&(_[Kl]=g.__composerExtend(_)),yk(g,r,_),g.__setInstance(r,_)}return _}function dk(t,r,u){const c=S_(),s=__VUE_I18N_LEGACY_API__&&r?c.run(()=>Jl(t)):c.run(()=>Nc(t));if(s==null)throw Cn(kn.UNEXPECTED_ERROR);return[c,s]}function gk(t){const r=oi(t.isCE?hk:t.appContext.app.__VUE_I18N_SYMBOL__);if(!r)throw Cn(t.isCE?kn.NOT_INSTALLED_WITH_PROVIDE:kn.UNEXPECTED_ERROR);return r}function _k(t,r){return Mu(t)?"__i18n"in r?"local":"global":t.useScope?t.useScope:"local"}function mk(t){return t.mode==="composition"?t.global:t.global.__composer}function pk(t,r,u=!1){let c=null;const s=r.root;let h=vk(r,u);for(;h!=null;){const g=t;if(t.mode==="composition")c=g.__getInstance(h);else if(__VUE_I18N_LEGACY_API__){const _=g.__getInstance(h);_!=null&&(c=_.__composer,u&&c&&!c[Jg]&&(c=null))}if(c!=null||s===h)break;h=h.parent}return c}function vk(t,r=!1){return t==null?null:r&&t.vnode.ctx||t.parent}function yk(t,r,u){Ys(()=>{},r),oa(()=>{const c=u;t.__deleteInstance(r);const s=c[Kl];s&&(s(),delete c[Kl])},r)}const Lk=["locale","fallbackLocale","availableLocales"],qf=["t","rt","d","n","tm","te"];function Ek(t,r){const u=Object.create(null);return Lk.forEach(s=>{const h=Object.getOwnPropertyDescriptor(r,s);if(!h)throw Cn(kn.UNEXPECTED_ERROR);const g=an(h.value)?{get(){return h.value.value},set(_){h.value.value=_}}:{get(){return h.get&&h.get()}};Object.defineProperty(u,s,g)}),t.config.globalProperties.$i18n=u,qf.forEach(s=>{const h=Object.getOwnPropertyDescriptor(r,s);if(!h||!h.value)throw Cn(kn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,h)}),()=>{delete t.config.globalProperties.$i18n,qf.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}J1();C1(h1);P1(I1);M1(Gg);if(__INTLIFY_PROD_DEVTOOLS__){const t=qr();t.__INTLIFY__=!0,f1(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const kk={fr:{title:"Biodiversité autour de moi",subtitle:"Rechercher des taxons autour de moi",filters:"Filtres",filtersTitle:"Filtres",radius:"Rayon",bufferSize:"Taille du buffer :",dateMin:"Date Min",dateMax:"Date Max",search:"Rechercher",reset:"Reinitialiser",searchResults:"Résultats de la recherche",noResults:"Aucun résultat",previousPage:"Page précédente",nextPage:"Page suivante",loading:"Chargement en cours ...",noObservations:"Aucune observation trouvable",noGeometry:"Aucune geometrie trouvable",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},browserIntegration:"Intégrer le widget dans votre site",drawGeometry:"Dessiner une zone pour afficher les espèces",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type",default:"Par défaut",list:"Liste de taxons",config:"Configurateur"},copy:"Copier",copied:"Copié",shareLink:"Partager le lien",source:{title:"Source de données",select:"Sélectionner une source :"}}},xk={en:{title:"Biodiversity around me",subtitle:"Search for taxons around me",filters:"Filters",filtersTitle:"Filters",radius:"Radius",bufferSize:"Buffer Size:",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",searchResults:"Search results",noResults:"No results",previousPage:"Previous page",nextPage:"Next page",loading:"Loading...",noObservations:"No observations found",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},browserIntegration:"Integrate the widget into your site",drawGeometry:"Select a zone to display species",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type",default:"Default",list:"List of species",config:"Configuration"},copy:"Copy",copied:"Copied",shareLink:"Share link",source:{title:"Data Source",select:"Select a data source:"}}},wk=fk({locale:"fr",fallbackLocale:"en",messages:{...kk,...xk}}),bk=[{path:"/",component:hL},{path:"/list",component:gL},{path:"/config",component:uE},{path:"/:pathMatch(.*)*",name:"NotFound",component:gE}],Tk=Hv({history:pv(),routes:bk});Yd(Bp).use(Tk).use(wk).mount("#app");
