(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(i){if(i.ep)return;i.ep=!0;const u=s(i);fetch(i.href,u)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ff(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Et={},Ya=[],hr=()=>{},Wg=()=>!1,kc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zf=e=>e.startsWith("onUpdate:"),fn=Object.assign,Gf=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Y0=Object.prototype.hasOwnProperty,It=(e,t)=>Y0.call(e,t),Qe=Array.isArray,Xa=e=>zu(e)==="[object Map]",_o=e=>zu(e)==="[object Set]",Vh=e=>zu(e)==="[object Date]",at=e=>typeof e=="function",qt=e=>typeof e=="string",$i=e=>typeof e=="symbol",Rt=e=>e!==null&&typeof e=="object",Zg=e=>(Rt(e)||at(e))&&at(e.then)&&at(e.catch),Yg=Object.prototype.toString,zu=e=>Yg.call(e),X0=e=>zu(e).slice(8,-1),Xg=e=>zu(e)==="[object Object]",Lc=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,lu=Ff(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ec=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},K0=/-\w/g,hi=Ec(e=>e.replace(K0,t=>t.slice(1).toUpperCase())),J0=/\B([A-Z])/g,Kr=Ec(e=>e.replace(J0,"-$1").toLowerCase()),xc=Ec(e=>e.charAt(0).toUpperCase()+e.slice(1)),pd=Ec(e=>e?`on${xc(e)}`:""),ni=(e,t)=>!Object.is(e,t),Dl=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Kg=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},Tc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Q0=e=>{const t=qt(e)?Number(e):NaN;return isNaN(t)?e:t};let Hh;const Sc=()=>Hh||(Hh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tn(e){if(Qe(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],i=qt(a)?ib(a):Tn(a);if(i)for(const u in i)t[u]=i[u]}return t}else if(qt(e)||Rt(e))return e}const eb=/;(?![^(]*\))/g,tb=/:([^]+)/,nb=/\/\*[^]*?\*\//g;function ib(e){const t={};return e.replace(nb,"").split(eb).forEach(s=>{if(s){const a=s.split(tb);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function ht(e){let t="";if(qt(e))t=e;else if(Qe(e))for(let s=0;s<e.length;s++){const a=ht(e[s]);a&&(t+=a+" ")}else if(Rt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function Ti(e){if(!e)return null;let{class:t,style:s}=e;return t&&!qt(t)&&(e.class=ht(t)),s&&(e.style=Tn(s)),e}const rb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sb=Ff(rb);function Jg(e){return!!e||e===""}function ab(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=ca(e[a],t[a]);return s}function ca(e,t){if(e===t)return!0;let s=Vh(e),a=Vh(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=$i(e),a=$i(t),s||a)return e===t;if(s=Qe(e),a=Qe(t),s||a)return s&&a?ab(e,t):!1;if(s=Rt(e),a=Rt(t),s||a){if(!s||!a)return!1;const i=Object.keys(e).length,u=Object.keys(t).length;if(i!==u)return!1;for(const d in e){const h=e.hasOwnProperty(d),m=t.hasOwnProperty(d);if(h&&!m||!h&&m||!ca(e[d],t[d]))return!1}}return String(e)===String(t)}function Uf(e,t){return e.findIndex(s=>ca(s,t))}const Qg=e=>!!(e&&e.__v_isRef===!0),Re=e=>qt(e)?e:e==null?"":Qe(e)||Rt(e)&&(e.toString===Yg||!at(e.toString))?Qg(e)?Re(e.value):JSON.stringify(e,e_,2):String(e),e_=(e,t)=>Qg(t)?e_(e,t.value):Xa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,i],u)=>(s[md(a,u)+" =>"]=i,s),{})}:_o(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>md(s))}:$i(t)?md(t):Rt(t)&&!Qe(t)&&!Xg(t)?String(t):t,md=(e,t="")=>{var s;return $i(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pn;class t_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pn,!t&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Pn;try{return Pn=this,t()}finally{Pn=s}}}on(){++this._on===1&&(this.prevScope=Pn,Pn=this)}off(){this._on>0&&--this._on===0&&(Pn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function n_(e){return new t_(e)}function Cc(){return Pn}function bu(e,t=!1){Pn&&Pn.cleanups.push(e)}let Bt;const gd=new WeakSet;class i_{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pn&&Pn.active&&Pn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gd.has(this)&&(gd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||s_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qh(this),a_(this);const t=Bt,s=zi;Bt=this,zi=!0;try{return this.fn()}finally{o_(this),Bt=t,zi=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hf(t);this.deps=this.depsTail=void 0,qh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jd(this)&&this.run()}get dirty(){return jd(this)}}let r_=0,cu,du;function s_(e,t=!1){if(e.flags|=8,t){e.next=du,du=e;return}e.next=cu,cu=e}function $f(){r_++}function Vf(){if(--r_>0)return;if(du){let t=du;for(du=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;cu;){let t=cu;for(cu=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function a_(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function o_(e){let t,s=e.depsTail,a=s;for(;a;){const i=a.prevDep;a.version===-1?(a===s&&(s=i),Hf(a),ob(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=i}e.deps=t,e.depsTail=s}function jd(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(u_(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function u_(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===wu)||(e.globalVersion=wu,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!jd(e))))return;e.flags|=2;const t=e.dep,s=Bt,a=zi;Bt=e,zi=!0;try{a_(e);const i=e.fn(e._value);(t.version===0||ni(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Bt=s,zi=a,o_(e),e.flags&=-3}}function Hf(e,t=!1){const{dep:s,prevSub:a,nextSub:i}=e;if(a&&(a.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let u=s.computed.deps;u;u=u.nextDep)Hf(u,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ob(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let zi=!0;const l_=[];function Hr(){l_.push(zi),zi=!1}function qr(){const e=l_.pop();zi=e===void 0?!0:e}function qh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Bt;Bt=void 0;try{t()}finally{Bt=s}}}let wu=0;class ub{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Bt||!zi||Bt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Bt)s=this.activeLink=new ub(Bt,this),Bt.deps?(s.prevDep=Bt.depsTail,Bt.depsTail.nextDep=s,Bt.depsTail=s):Bt.deps=Bt.depsTail=s,c_(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=Bt.depsTail,s.nextDep=void 0,Bt.depsTail.nextDep=s,Bt.depsTail=s,Bt.deps===s&&(Bt.deps=a)}return s}trigger(t){this.version++,wu++,this.notify(t)}notify(t){$f();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Vf()}}}function c_(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)c_(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Wl=new WeakMap,oa=Symbol(""),Wd=Symbol(""),ku=Symbol("");function In(e,t,s){if(zi&&Bt){let a=Wl.get(e);a||Wl.set(e,a=new Map);let i=a.get(s);i||(a.set(s,i=new Pc),i.map=a,i.key=s),i.track()}}function Fr(e,t,s,a,i,u){const d=Wl.get(e);if(!d){wu++;return}const h=m=>{m&&m.trigger()};if($f(),t==="clear")d.forEach(h);else{const m=Qe(e),y=m&&Lc(s);if(m&&s==="length"){const v=Number(a);d.forEach((b,T)=>{(T==="length"||T===ku||!$i(T)&&T>=v)&&h(b)})}else switch((s!==void 0||d.has(void 0))&&h(d.get(s)),y&&h(d.get(ku)),t){case"add":m?y&&h(d.get("length")):(h(d.get(oa)),Xa(e)&&h(d.get(Wd)));break;case"delete":m||(h(d.get(oa)),Xa(e)&&h(d.get(Wd)));break;case"set":Xa(e)&&h(d.get(oa));break}}Vf()}function lb(e,t){const s=Wl.get(e);return s&&s.get(t)}function Ua(e){const t=kt(e);return t===e?t:(In(t,"iterate",ku),di(e)?t:t.map(Vi))}function Ic(e){return In(e=kt(e),"iterate",ku),e}function _s(e,t){return jr(e)?ua(e)?no(Vi(t)):no(t):Vi(t)}const cb={__proto__:null,[Symbol.iterator](){return _d(this,Symbol.iterator,e=>_s(this,e))},concat(...e){return Ua(this).concat(...e.map(t=>Qe(t)?Ua(t):t))},entries(){return _d(this,"entries",e=>(e[1]=_s(this,e[1]),e))},every(e,t){return Pr(this,"every",e,t,void 0,arguments)},filter(e,t){return Pr(this,"filter",e,t,s=>s.map(a=>_s(this,a)),arguments)},find(e,t){return Pr(this,"find",e,t,s=>_s(this,s),arguments)},findIndex(e,t){return Pr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pr(this,"findLast",e,t,s=>_s(this,s),arguments)},findLastIndex(e,t){return Pr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pr(this,"forEach",e,t,void 0,arguments)},includes(...e){return vd(this,"includes",e)},indexOf(...e){return vd(this,"indexOf",e)},join(e){return Ua(this).join(e)},lastIndexOf(...e){return vd(this,"lastIndexOf",e)},map(e,t){return Pr(this,"map",e,t,void 0,arguments)},pop(){return Yo(this,"pop")},push(...e){return Yo(this,"push",e)},reduce(e,...t){return jh(this,"reduce",e,t)},reduceRight(e,...t){return jh(this,"reduceRight",e,t)},shift(){return Yo(this,"shift")},some(e,t){return Pr(this,"some",e,t,void 0,arguments)},splice(...e){return Yo(this,"splice",e)},toReversed(){return Ua(this).toReversed()},toSorted(e){return Ua(this).toSorted(e)},toSpliced(...e){return Ua(this).toSpliced(...e)},unshift(...e){return Yo(this,"unshift",e)},values(){return _d(this,"values",e=>_s(this,e))}};function _d(e,t,s){const a=Ic(e),i=a[t]();return a!==e&&!di(e)&&(i._next=i.next,i.next=()=>{const u=i._next();return u.done||(u.value=s(u.value)),u}),i}const db=Array.prototype;function Pr(e,t,s,a,i,u){const d=Ic(e),h=d!==e&&!di(e),m=d[t];if(m!==db[t]){const b=m.apply(e,u);return h?Vi(b):b}let y=s;d!==e&&(h?y=function(b,T){return s.call(this,_s(e,b),T,e)}:s.length>2&&(y=function(b,T){return s.call(this,b,T,e)}));const v=m.call(d,y,a);return h&&i?i(v):v}function jh(e,t,s,a){const i=Ic(e);let u=s;return i!==e&&(di(e)?s.length>3&&(u=function(d,h,m){return s.call(this,d,h,m,e)}):u=function(d,h,m){return s.call(this,d,_s(e,h),m,e)}),i[t](u,...a)}function vd(e,t,s){const a=kt(e);In(a,"iterate",ku);const i=a[t](...s);return(i===-1||i===!1)&&Oc(s[0])?(s[0]=kt(s[0]),a[t](...s)):i}function Yo(e,t,s=[]){Hr(),$f();const a=kt(e)[t].apply(e,s);return Vf(),qr(),a}const fb=Ff("__proto__,__v_isRef,__isVue"),d_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($i));function hb(e){$i(e)||(e=String(e));const t=kt(this);return In(t,"has",e),t.hasOwnProperty(e)}class f_{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,u=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return u;if(s==="__v_raw")return a===(i?u?v_:__:u?g_:m_).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const d=Qe(t);if(!i){let m;if(d&&(m=cb[s]))return m;if(s==="hasOwnProperty")return hb}const h=Reflect.get(t,s,wt(t)?t:a);if(($i(s)?d_.has(s):fb(s))||(i||In(t,"get",s),u))return h;if(wt(h)){const m=d&&Lc(s)?h:h.value;return i&&Rt(m)?Rn(m):m}return Rt(h)?i?Rn(h):da(h):h}}class h_ extends f_{constructor(t=!1){super(!1,t)}set(t,s,a,i){let u=t[s];const d=Qe(t)&&Lc(s);if(!this._isShallow){const y=jr(u);if(!di(a)&&!jr(a)&&(u=kt(u),a=kt(a)),!d&&wt(u)&&!wt(a))return y||(u.value=a),!0}const h=d?Number(s)<t.length:It(t,s),m=Reflect.set(t,s,a,wt(t)?t:i);return t===kt(i)&&(h?ni(a,u)&&Fr(t,"set",s,a):Fr(t,"add",s,a)),m}deleteProperty(t,s){const a=It(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&a&&Fr(t,"delete",s,void 0),i}has(t,s){const a=Reflect.has(t,s);return(!$i(s)||!d_.has(s))&&In(t,"has",s),a}ownKeys(t){return In(t,"iterate",Qe(t)?"length":oa),Reflect.ownKeys(t)}}class p_ extends f_{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const pb=new h_,mb=new p_,gb=new h_(!0),_b=new p_(!0),Zd=e=>e,ml=e=>Reflect.getPrototypeOf(e);function vb(e,t,s){return function(...a){const i=this.__v_raw,u=kt(i),d=Xa(u),h=e==="entries"||e===Symbol.iterator&&d,m=e==="keys"&&d,y=i[e](...a),v=s?Zd:t?no:Vi;return!t&&In(u,"iterate",m?Wd:oa),{next(){const{value:b,done:T}=y.next();return T?{value:b,done:T}:{value:h?[v(b[0]),v(b[1])]:v(b),done:T}},[Symbol.iterator](){return this}}}}function gl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yb(e,t){const s={get(i){const u=this.__v_raw,d=kt(u),h=kt(i);e||(ni(i,h)&&In(d,"get",i),In(d,"get",h));const{has:m}=ml(d),y=t?Zd:e?no:Vi;if(m.call(d,i))return y(u.get(i));if(m.call(d,h))return y(u.get(h));u!==d&&u.get(i)},get size(){const i=this.__v_raw;return!e&&In(kt(i),"iterate",oa),i.size},has(i){const u=this.__v_raw,d=kt(u),h=kt(i);return e||(ni(i,h)&&In(d,"has",i),In(d,"has",h)),i===h?u.has(i):u.has(i)||u.has(h)},forEach(i,u){const d=this,h=d.__v_raw,m=kt(h),y=t?Zd:e?no:Vi;return!e&&In(m,"iterate",oa),h.forEach((v,b)=>i.call(u,y(v),y(b),d))}};return fn(s,e?{add:gl("add"),set:gl("set"),delete:gl("delete"),clear:gl("clear")}:{add(i){!t&&!di(i)&&!jr(i)&&(i=kt(i));const u=kt(this);return ml(u).has.call(u,i)||(u.add(i),Fr(u,"add",i,i)),this},set(i,u){!t&&!di(u)&&!jr(u)&&(u=kt(u));const d=kt(this),{has:h,get:m}=ml(d);let y=h.call(d,i);y||(i=kt(i),y=h.call(d,i));const v=m.call(d,i);return d.set(i,u),y?ni(u,v)&&Fr(d,"set",i,u):Fr(d,"add",i,u),this},delete(i){const u=kt(this),{has:d,get:h}=ml(u);let m=d.call(u,i);m||(i=kt(i),m=d.call(u,i)),h&&h.call(u,i);const y=u.delete(i);return m&&Fr(u,"delete",i,void 0),y},clear(){const i=kt(this),u=i.size!==0,d=i.clear();return u&&Fr(i,"clear",void 0,void 0),d}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=vb(i,e,t)}),s}function Nc(e,t){const s=yb(e,t);return(a,i,u)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?a:Reflect.get(It(s,i)&&i in a?s:a,i,u)}const bb={get:Nc(!1,!1)},wb={get:Nc(!1,!0)},kb={get:Nc(!0,!1)},Lb={get:Nc(!0,!0)},m_=new WeakMap,g_=new WeakMap,__=new WeakMap,v_=new WeakMap;function Eb(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xb(e){return e.__v_skip||!Object.isExtensible(e)?0:Eb(X0(e))}function da(e){return jr(e)?e:Mc(e,!1,pb,bb,m_)}function y_(e){return Mc(e,!1,gb,wb,g_)}function Rn(e){return Mc(e,!0,mb,kb,__)}function $a(e){return Mc(e,!0,_b,Lb,v_)}function Mc(e,t,s,a,i){if(!Rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=xb(e);if(u===0)return e;const d=i.get(e);if(d)return d;const h=new Proxy(e,u===2?a:s);return i.set(e,h),h}function ua(e){return jr(e)?ua(e.__v_raw):!!(e&&e.__v_isReactive)}function jr(e){return!!(e&&e.__v_isReadonly)}function di(e){return!!(e&&e.__v_isShallow)}function Oc(e){return e?!!e.__v_raw:!1}function kt(e){const t=e&&e.__v_raw;return t?kt(t):e}function ws(e){return!It(e,"__v_skip")&&Object.isExtensible(e)&&Kg(e,"__v_skip",!0),e}const Vi=e=>Rt(e)?da(e):e,no=e=>Rt(e)?Rn(e):e;function wt(e){return e?e.__v_isRef===!0:!1}function Ie(e){return b_(e,!1)}function Dn(e){return b_(e,!0)}function b_(e,t){return wt(e)?e:new Tb(e,t)}class Tb{constructor(t,s){this.dep=new Pc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:kt(t),this._value=s?t:Vi(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||di(t)||jr(t);t=a?t:kt(t),ni(t,s)&&(this._rawValue=t,this._value=a?t:Vi(t),this.dep.trigger())}}function J(e){return wt(e)?e.value:e}function ot(e){return at(e)?e():J(e)}const Sb={get:(e,t,s)=>t==="__v_raw"?e:J(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const i=e[t];return wt(i)&&!wt(s)?(i.value=s,!0):Reflect.set(e,t,s,a)}};function w_(e){return ua(e)?e:new Proxy(e,Sb)}class Cb{constructor(t){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Pc,{get:a,set:i}=t(s.track.bind(s),s.trigger.bind(s));this._get=a,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function k_(e){return new Cb(e)}class Pb{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0,this._raw=kt(t);let i=!0,u=t;if(!Qe(t)||!Lc(String(s)))do i=!Oc(u)||di(u);while(i&&(u=u.__v_raw));this._shallow=i}get value(){let t=this._object[this._key];return this._shallow&&(t=J(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&wt(this._raw[this._key])){const s=this._object[this._key];if(wt(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return lb(this._raw,this._key)}}class Ib{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function cn(e,t,s){return wt(e)?e:at(e)?new Ib(e):Rt(e)&&arguments.length>1?Nb(e,t,s):Ie(e)}function Nb(e,t,s){return new Pb(e,t,s)}class Mb{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Pc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&Bt!==this)return s_(this,!0),!0}get value(){const t=this.dep.track();return u_(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ob(e,t,s=!1){let a,i;return at(e)?a=e:(a=e.get,i=e.set),new Mb(a,i,s)}const _l={},Zl=new WeakMap;let ta;function Ab(e,t=!1,s=ta){if(s){let a=Zl.get(s);a||Zl.set(s,a=[]),a.push(e)}}function Rb(e,t,s=Et){const{immediate:a,deep:i,once:u,scheduler:d,augmentJob:h,call:m}=s,y=_=>i?_:di(_)||i===!1||i===0?zr(_,1):zr(_);let v,b,T,P,O=!1,B=!1;if(wt(e)?(b=()=>e.value,O=di(e)):ua(e)?(b=()=>y(e),O=!0):Qe(e)?(B=!0,O=e.some(_=>ua(_)||di(_)),b=()=>e.map(_=>{if(wt(_))return _.value;if(ua(_))return y(_);if(at(_))return m?m(_,2):_()})):at(e)?t?b=m?()=>m(e,2):e:b=()=>{if(T){Hr();try{T()}finally{qr()}}const _=ta;ta=v;try{return m?m(e,3,[P]):e(P)}finally{ta=_}}:b=hr,t&&i){const _=b,x=i===!0?1/0:i;b=()=>zr(_(),x)}const z=Cc(),R=()=>{v.stop(),z&&z.active&&Gf(z.effects,v)};if(u&&t){const _=t;t=(...x)=>{_(...x),R()}}let $=B?new Array(e.length).fill(_l):_l;const q=_=>{if(!(!(v.flags&1)||!v.dirty&&!_))if(t){const x=v.run();if(i||O||(B?x.some((k,C)=>ni(k,$[C])):ni(x,$))){T&&T();const k=ta;ta=v;try{const C=[x,$===_l?void 0:B&&$[0]===_l?[]:$,P];$=x,m?m(t,3,C):t(...C)}finally{ta=k}}}else v.run()};return h&&h(q),v=new i_(b),v.scheduler=d?()=>d(q,!1):q,P=_=>Ab(_,!1,v),T=v.onStop=()=>{const _=Zl.get(v);if(_){if(m)m(_,4);else for(const x of _)x();Zl.delete(v)}},t?a?q(!0):$=v.run():d?d(q.bind(null,!0),!0):v.run(),R.pause=v.pause.bind(v),R.resume=v.resume.bind(v),R.stop=R,R}function zr(e,t=1/0,s){if(t<=0||!Rt(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,wt(e))zr(e.value,t,s);else if(Qe(e))for(let a=0;a<e.length;a++)zr(e[a],t,s);else if(_o(e)||Xa(e))e.forEach(a=>{zr(a,t,s)});else if(Xg(e)){for(const a in e)zr(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&zr(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gu(e,t,s,a){try{return a?e(...a):e()}catch(i){Ac(i,t,s)}}function Hi(e,t,s,a){if(at(e)){const i=Gu(e,t,s,a);return i&&Zg(i)&&i.catch(u=>{Ac(u,t,s)}),i}if(Qe(e)){const i=[];for(let u=0;u<e.length;u++)i.push(Hi(e[u],t,s,a));return i}}function Ac(e,t,s,a=!0){const i=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:d}=t&&t.appContext.config||Et;if(t){let h=t.parent;const m=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${s}`;for(;h;){const v=h.ec;if(v){for(let b=0;b<v.length;b++)if(v[b](e,m,y)===!1)return}h=h.parent}if(u){Hr(),Gu(u,null,10,[e,m,y]),qr();return}}Db(e,s,i,a,d)}function Db(e,t,s,a=!0,i=!1){if(i)throw e;console.error(e)}const jn=[];let ur=-1;const Ka=[];let vs=null,Ha=0;const L_=Promise.resolve();let Yl=null;function li(e){const t=Yl||L_;return e?t.then(this?e.bind(this):e):t}function Bb(e){let t=ur+1,s=jn.length;for(;t<s;){const a=t+s>>>1,i=jn[a],u=Lu(i);u<e||u===e&&i.flags&2?t=a+1:s=a}return t}function qf(e){if(!(e.flags&1)){const t=Lu(e),s=jn[jn.length-1];!s||!(e.flags&2)&&t>=Lu(s)?jn.push(e):jn.splice(Bb(t),0,e),e.flags|=1,E_()}}function E_(){Yl||(Yl=L_.then(T_))}function Fb(e){Qe(e)?Ka.push(...e):vs&&e.id===-1?vs.splice(Ha+1,0,e):e.flags&1||(Ka.push(e),e.flags|=1),E_()}function Wh(e,t,s=ur+1){for(;s<jn.length;s++){const a=jn[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;jn.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function x_(e){if(Ka.length){const t=[...new Set(Ka)].sort((s,a)=>Lu(s)-Lu(a));if(Ka.length=0,vs){vs.push(...t);return}for(vs=t,Ha=0;Ha<vs.length;Ha++){const s=vs[Ha];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}vs=null,Ha=0}}const Lu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function T_(e){try{for(ur=0;ur<jn.length;ur++){const t=jn[ur];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Gu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ur<jn.length;ur++){const t=jn[ur];t&&(t.flags&=-2)}ur=-1,jn.length=0,x_(),Yl=null,(jn.length||Ka.length)&&T_()}}let Sn=null,S_=null;function Xl(e){const t=Sn;return Sn=e,S_=e&&e.type.__scopeId||null,t}function Ze(e,t=Sn,s){if(!t||e._n)return e;const a=(...i)=>{a._d&&ec(-1);const u=Xl(t);let d;try{d=e(...i)}finally{Xl(u),a._d&&ec(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function Xt(e,t){if(Sn===null)return e;const s=zc(Sn),a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[u,d,h,m=Et]=t[i];u&&(at(u)&&(u={mounted:u,updated:u}),u.deep&&zr(d),a.push({dir:u,instance:s,value:d,oldValue:void 0,arg:h,modifiers:m}))}return e}function Zs(e,t,s,a){const i=e.dirs,u=t&&t.dirs;for(let d=0;d<i.length;d++){const h=i[d];u&&(h.oldValue=u[d].value);let m=h.dir[a];m&&(Hr(),Hi(m,s,8,[e.el,h,e,t]),qr())}}const C_=Symbol("_vte"),P_=e=>e.__isTeleport,fu=e=>e&&(e.disabled||e.disabled===""),Zh=e=>e&&(e.defer||e.defer===""),Yh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Xh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Yd=(e,t)=>{const s=e&&e.to;return qt(s)?t?t(s):null:s},I_={name:"Teleport",__isTeleport:!0,process(e,t,s,a,i,u,d,h,m,y){const{mc:v,pc:b,pbc:T,o:{insert:P,querySelector:O,createText:B,createComment:z}}=y,R=fu(t.props);let{shapeFlag:$,children:q,dynamicChildren:_}=t;if(e==null){const x=t.el=B(""),k=t.anchor=B("");P(x,s,a),P(k,s,a);const C=(D,A)=>{$&16&&v(q,D,A,i,u,d,h,m)},F=()=>{const D=t.target=Yd(t.props,O),A=N_(D,t,B,P);D&&(d!=="svg"&&Yh(D)?d="svg":d!=="mathml"&&Xh(D)&&(d="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(D),R||(C(D,A),Bl(t,!1)))};R&&(C(s,k),Bl(t,!0)),Zh(t.props)?(t.el.__isMounted=!1,Hn(()=>{F(),delete t.el.__isMounted},u)):F()}else{if(Zh(t.props)&&e.el.__isMounted===!1){Hn(()=>{I_.process(e,t,s,a,i,u,d,h,m,y)},u);return}t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,k=t.target=e.target,C=t.targetAnchor=e.targetAnchor,F=fu(e.props),D=F?s:k,A=F?x:C;if(d==="svg"||Yh(k)?d="svg":(d==="mathml"||Xh(k))&&(d="mathml"),_?(T(e.dynamicChildren,_,D,i,u,d,h),Jf(e,t,!0)):m||b(e,t,D,A,i,u,d,h,!1),R)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):vl(t,s,x,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Y=t.target=Yd(t.props,O);Y&&vl(t,Y,null,y,0)}else F&&vl(t,k,C,y,1);Bl(t,R)}},remove(e,t,s,{um:a,o:{remove:i}},u){const{shapeFlag:d,children:h,anchor:m,targetStart:y,targetAnchor:v,target:b,props:T}=e;if(b&&(i(y),i(v)),u&&i(m),d&16){const P=u||!fu(T);for(let O=0;O<h.length;O++){const B=h[O];a(B,t,s,P,!!B.dynamicChildren)}}},move:vl,hydrate:zb};function vl(e,t,s,{o:{insert:a},m:i},u=2){u===0&&a(e.targetAnchor,t,s);const{el:d,anchor:h,shapeFlag:m,children:y,props:v}=e,b=u===2;if(b&&a(d,t,s),(!b||fu(v))&&m&16)for(let T=0;T<y.length;T++)i(y[T],t,s,2);b&&a(h,t,s)}function zb(e,t,s,a,i,u,{o:{nextSibling:d,parentNode:h,querySelector:m,insert:y,createText:v}},b){function T(B,z,R,$){z.anchor=b(d(B),z,h(B),s,a,i,u),z.targetStart=R,z.targetAnchor=$}const P=t.target=Yd(t.props,m),O=fu(t.props);if(P){const B=P._lpa||P.firstChild;if(t.shapeFlag&16)if(O)T(e,t,B,B&&d(B));else{t.anchor=d(e);let z=B;for(;z;){if(z&&z.nodeType===8){if(z.data==="teleport start anchor")t.targetStart=z;else if(z.data==="teleport anchor"){t.targetAnchor=z,P._lpa=t.targetAnchor&&d(t.targetAnchor);break}}z=d(z)}t.targetAnchor||N_(P,t,v,y),b(B&&d(B),t,P,s,a,i,u)}Bl(t,O)}else O&&t.shapeFlag&16&&T(e,t,e,d(e));return t.anchor&&d(t.anchor)}const Gb=I_;function Bl(e,t){const s=e.ctx;if(s&&s.ut){let a,i;for(t?(a=e.el,i=e.anchor):(a=e.targetStart,i=e.targetAnchor);a&&a!==i;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function N_(e,t,s,a){const i=t.targetStart=s(""),u=t.targetAnchor=s("");return i[C_]=u,e&&(a(i,e),a(u,e)),u}const Br=Symbol("_leaveCb"),yl=Symbol("_enterCb");function Ub(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mi(()=>{e.isMounted=!0}),Uu(()=>{e.isUnmounting=!0}),e}const Ei=[Function,Array],M_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ei,onEnter:Ei,onAfterEnter:Ei,onEnterCancelled:Ei,onBeforeLeave:Ei,onLeave:Ei,onAfterLeave:Ei,onLeaveCancelled:Ei,onBeforeAppear:Ei,onAppear:Ei,onAfterAppear:Ei,onAppearCancelled:Ei},O_=e=>{const t=e.subTree;return t.component?O_(t.component):t},$b={name:"BaseTransition",props:M_,setup(e,{slots:t}){const s=Yn(),a=Ub();return()=>{const i=t.default&&D_(t.default(),!0);if(!i||!i.length)return;const u=A_(i),d=kt(e),{mode:h}=d;if(a.isLeaving)return yd(u);const m=Kh(u);if(!m)return yd(u);let y=Xd(m,d,a,s,b=>y=b);m.type!==On&&Eu(m,y);let v=s.subTree&&Kh(s.subTree);if(v&&v.type!==On&&!na(v,m)&&O_(s).type!==On){let b=Xd(v,d,a,s);if(Eu(v,b),h==="out-in"&&m.type!==On)return a.isLeaving=!0,b.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete b.afterLeave,v=void 0},yd(u);h==="in-out"&&m.type!==On?b.delayLeave=(T,P,O)=>{const B=R_(a,v);B[String(v.key)]=v,T[Br]=()=>{P(),T[Br]=void 0,delete y.delayedLeave,v=void 0},y.delayedLeave=()=>{O(),delete y.delayedLeave,v=void 0}}:v=void 0}else v&&(v=void 0);return u}}};function A_(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==On){t=s;break}}return t}const Vb=$b;function R_(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function Xd(e,t,s,a,i){const{appear:u,mode:d,persisted:h=!1,onBeforeEnter:m,onEnter:y,onAfterEnter:v,onEnterCancelled:b,onBeforeLeave:T,onLeave:P,onAfterLeave:O,onLeaveCancelled:B,onBeforeAppear:z,onAppear:R,onAfterAppear:$,onAppearCancelled:q}=t,_=String(e.key),x=R_(s,e),k=(D,A)=>{D&&Hi(D,a,9,A)},C=(D,A)=>{const Y=A[1];k(D,A),Qe(D)?D.every(X=>X.length<=1)&&Y():D.length<=1&&Y()},F={mode:d,persisted:h,beforeEnter(D){let A=m;if(!s.isMounted)if(u)A=z||m;else return;D[Br]&&D[Br](!0);const Y=x[_];Y&&na(e,Y)&&Y.el[Br]&&Y.el[Br](),k(A,[D])},enter(D){let A=y,Y=v,X=b;if(!s.isMounted)if(u)A=R||y,Y=$||v,X=q||b;else return;let W=!1;const j=D[yl]=te=>{W||(W=!0,te?k(X,[D]):k(Y,[D]),F.delayedLeave&&F.delayedLeave(),D[yl]=void 0)};A?C(A,[D,j]):j()},leave(D,A){const Y=String(e.key);if(D[yl]&&D[yl](!0),s.isUnmounting)return A();k(T,[D]);let X=!1;const W=D[Br]=j=>{X||(X=!0,A(),j?k(B,[D]):k(O,[D]),D[Br]=void 0,x[Y]===e&&delete x[Y])};x[Y]=e,P?C(P,[D,W]):W()},clone(D){const A=Xd(D,t,s,a,i);return i&&i(A),A}};return F}function yd(e){if(Rc(e))return e=ks(e),e.children=null,e}function Kh(e){if(!Rc(e))return P_(e.type)&&e.children?A_(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&at(s.default))return s.default()}}function Eu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Eu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function D_(e,t=!1,s){let a=[],i=0;for(let u=0;u<e.length;u++){let d=e[u];const h=s==null?d.key:String(s)+String(d.key!=null?d.key:u);d.type===pt?(d.patchFlag&128&&i++,a=a.concat(D_(d.children,t,h))):(t||d.type!==On)&&a.push(h!=null?ks(d,{key:h}):d)}if(i>1)for(let u=0;u<a.length;u++)a[u].patchFlag=-2;return a}function yt(e,t){return at(e)?fn({name:e.name},t,{setup:e}):e}function B_(){const e=Yn();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function F_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Mn(e){const t=Yn(),s=Dn(null);if(t){const i=t.refs===Et?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>s.value,set:u=>s.value=u})}return s}const Kl=new WeakMap;function hu(e,t,s,a,i=!1){if(Qe(e)){e.forEach((O,B)=>hu(O,t&&(Qe(t)?t[B]:t),s,a,i));return}if(Ja(a)&&!i){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&hu(e,t,s,a.component.subTree);return}const u=a.shapeFlag&4?zc(a.component):a.el,d=i?null:u,{i:h,r:m}=e,y=t&&t.r,v=h.refs===Et?h.refs={}:h.refs,b=h.setupState,T=kt(b),P=b===Et?Wg:O=>It(T,O);if(y!=null&&y!==m){if(Jh(t),qt(y))v[y]=null,P(y)&&(b[y]=null);else if(wt(y)){y.value=null;const O=t;O.k&&(v[O.k]=null)}}if(at(m))Gu(m,h,12,[d,v]);else{const O=qt(m),B=wt(m);if(O||B){const z=()=>{if(e.f){const R=O?P(m)?b[m]:v[m]:m.value;if(i)Qe(R)&&Gf(R,u);else if(Qe(R))R.includes(u)||R.push(u);else if(O)v[m]=[u],P(m)&&(b[m]=v[m]);else{const $=[u];m.value=$,e.k&&(v[e.k]=$)}}else O?(v[m]=d,P(m)&&(b[m]=d)):B&&(m.value=d,e.k&&(v[e.k]=d))};if(d){const R=()=>{z(),Kl.delete(e)};R.id=-1,Kl.set(e,R),Hn(R,s)}else Jh(e),z()}}}function Jh(e){const t=Kl.get(e);t&&(t.flags|=8,Kl.delete(e))}Sc().requestIdleCallback;Sc().cancelIdleCallback;const Ja=e=>!!e.type.__asyncLoader,Rc=e=>e.type.__isKeepAlive;function z_(e,t){G_(e,"a",t)}function Hb(e,t){G_(e,"da",t)}function G_(e,t,s=An){const a=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Dc(t,a,s),s){let i=s.parent;for(;i&&i.parent;)Rc(i.parent.vnode)&&qb(a,t,s,i),i=i.parent}}function qb(e,t,s,a){const i=Dc(t,e,a,!0);$u(()=>{Gf(a[t],i)},s)}function Dc(e,t,s=An,a=!1){if(s){const i=s[e]||(s[e]=[]),u=t.__weh||(t.__weh=(...d)=>{Hr();const h=Hu(s),m=Hi(t,s,e,d);return h(),qr(),m});return a?i.unshift(u):i.push(u),u}}const Jr=e=>(t,s=An)=>{(!Su||e==="sp")&&Dc(e,(...a)=>t(...a),s)},jb=Jr("bm"),Mi=Jr("m"),Wb=Jr("bu"),Zb=Jr("u"),Uu=Jr("bum"),$u=Jr("um"),Yb=Jr("sp"),Xb=Jr("rtg"),Kb=Jr("rtc");function Jb(e,t=An){Dc("ec",e,t)}const jf="components",Qb="directives";function U_(e,t){return Zf(jf,e,!0,t)||e}const $_=Symbol.for("v-ndc");function Ss(e){return qt(e)?Zf(jf,e,!1)||e:e||$_}function Wf(e){return Zf(Qb,e)}function Zf(e,t,s=!0,a=!1){const i=Sn||An;if(i){const u=i.type;if(e===jf){const h=zw(u,!1);if(h&&(h===t||h===hi(t)||h===xc(hi(t))))return u}const d=Qh(i[e]||u[e],t)||Qh(i.appContext[e],t);return!d&&a?u:d}}function Qh(e,t){return e&&(e[t]||e[hi(t)]||e[xc(hi(t))])}function ri(e,t,s,a){let i;const u=s,d=Qe(e);if(d||qt(e)){const h=d&&ua(e);let m=!1,y=!1;h&&(m=!di(e),y=jr(e),e=Ic(e)),i=new Array(e.length);for(let v=0,b=e.length;v<b;v++)i[v]=t(m?y?no(Vi(e[v])):Vi(e[v]):e[v],v,void 0,u)}else if(typeof e=="number"){i=new Array(e);for(let h=0;h<e;h++)i[h]=t(h+1,h,void 0,u)}else if(Rt(e))if(e[Symbol.iterator])i=Array.from(e,(h,m)=>t(h,m,void 0,u));else{const h=Object.keys(e);i=new Array(h.length);for(let m=0,y=h.length;m<y;m++){const v=h[m];i[m]=t(e[v],v,m,u)}}else i=[];return i}function ew(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(Qe(a))for(let i=0;i<a.length;i++)e[a[i].name]=a[i].fn;else a&&(e[a.name]=a.key?(...i)=>{const u=a.fn(...i);return u&&(u.key=a.key),u}:a.fn)}return e}function dt(e,t,s={},a,i){if(Sn.ce||Sn.parent&&Ja(Sn.parent)&&Sn.parent.ce){const y=Object.keys(s).length>0;return t!=="default"&&(s.name=t),fe(),st(pt,null,[Be("slot",s,a&&a())],y?-2:64)}let u=e[t];u&&u._c&&(u._d=!1),fe();const d=u&&V_(u(s)),h=s.key||d&&d.key,m=st(pt,{key:(h&&!$i(h)?h:`_${t}`)+(!d&&a?"_fb":"")},d||(a?a():[]),d&&e._===1?64:-2);return!i&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),u&&u._c&&(u._d=!0),m}function V_(e){return e.some(t=>Tu(t)?!(t.type===On||t.type===pt&&!V_(t.children)):!0)?e:null}const Kd=e=>e?lv(e)?zc(e):Kd(e.parent):null,pu=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kd(e.parent),$root:e=>Kd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>j_(e),$forceUpdate:e=>e.f||(e.f=()=>{qf(e.update)}),$nextTick:e=>e.n||(e.n=li.bind(e.proxy)),$watch:e=>hw.bind(e)}),bd=(e,t)=>e!==Et&&!e.__isScriptSetup&&It(e,t),tw={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:i,props:u,accessCache:d,type:h,appContext:m}=e;if(t[0]!=="$"){const T=d[t];if(T!==void 0)switch(T){case 1:return a[t];case 2:return i[t];case 4:return s[t];case 3:return u[t]}else{if(bd(a,t))return d[t]=1,a[t];if(i!==Et&&It(i,t))return d[t]=2,i[t];if(It(u,t))return d[t]=3,u[t];if(s!==Et&&It(s,t))return d[t]=4,s[t];Jd&&(d[t]=0)}}const y=pu[t];let v,b;if(y)return t==="$attrs"&&In(e.attrs,"get",""),y(e);if((v=h.__cssModules)&&(v=v[t]))return v;if(s!==Et&&It(s,t))return d[t]=4,s[t];if(b=m.config.globalProperties,It(b,t))return b[t]},set({_:e},t,s){const{data:a,setupState:i,ctx:u}=e;return bd(i,t)?(i[t]=s,!0):a!==Et&&It(a,t)?(a[t]=s,!0):It(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:i,props:u,type:d}},h){let m;return!!(s[h]||e!==Et&&h[0]!=="$"&&It(e,h)||bd(t,h)||It(u,h)||It(a,h)||It(pu,h)||It(i.config.globalProperties,h)||(m=d.__cssModules)&&m[h])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:It(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Vu(){return H_().slots}function Yf(){return H_().attrs}function H_(e){const t=Yn();return t.setupContext||(t.setupContext=dv(t))}function Jl(e){return Qe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}function Pi(e,t){return!e||!t?e||t:Qe(e)&&Qe(t)?e.concat(t):fn({},Jl(e),Jl(t))}let Jd=!0;function nw(e){const t=j_(e),s=e.proxy,a=e.ctx;Jd=!1,t.beforeCreate&&ep(t.beforeCreate,e,"bc");const{data:i,computed:u,methods:d,watch:h,provide:m,inject:y,created:v,beforeMount:b,mounted:T,beforeUpdate:P,updated:O,activated:B,deactivated:z,beforeDestroy:R,beforeUnmount:$,destroyed:q,unmounted:_,render:x,renderTracked:k,renderTriggered:C,errorCaptured:F,serverPrefetch:D,expose:A,inheritAttrs:Y,components:X,directives:W,filters:j}=t;if(y&&iw(y,a,null),d)for(const ae in d){const se=d[ae];at(se)&&(a[ae]=se.bind(s))}if(i){const ae=i.call(s,s);Rt(ae)&&(e.data=da(ae))}if(Jd=!0,u)for(const ae in u){const se=u[ae],ve=at(se)?se.bind(s,s):at(se.get)?se.get.bind(s,s):hr,ce=!at(se)&&at(se.set)?se.set.bind(s):hr,ke=ge({get:ve,set:ce});Object.defineProperty(a,ae,{enumerable:!0,configurable:!0,get:()=>ke.value,set:Fe=>ke.value=Fe})}if(h)for(const ae in h)q_(h[ae],a,s,ae);if(m){const ae=at(m)?m.call(s):m;Reflect.ownKeys(ae).forEach(se=>{la(se,ae[se])})}v&&ep(v,e,"c");function G(ae,se){Qe(se)?se.forEach(ve=>ae(ve.bind(s))):se&&ae(se.bind(s))}if(G(jb,b),G(Mi,T),G(Wb,P),G(Zb,O),G(z_,B),G(Hb,z),G(Jb,F),G(Kb,k),G(Xb,C),G(Uu,$),G($u,_),G(Yb,D),Qe(A))if(A.length){const ae=e.exposed||(e.exposed={});A.forEach(se=>{Object.defineProperty(ae,se,{get:()=>s[se],set:ve=>s[se]=ve,enumerable:!0})})}else e.exposed||(e.exposed={});x&&e.render===hr&&(e.render=x),Y!=null&&(e.inheritAttrs=Y),X&&(e.components=X),W&&(e.directives=W),D&&F_(e)}function iw(e,t,s=hr){Qe(e)&&(e=Qd(e));for(const a in e){const i=e[a];let u;Rt(i)?"default"in i?u=sn(i.from||a,i.default,!0):u=sn(i.from||a):u=sn(i),wt(u)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):t[a]=u}}function ep(e,t,s){Hi(Qe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function q_(e,t,s,a){let i=a.includes(".")?Z_(s,a):()=>s[a];if(qt(e)){const u=t[e];at(u)&&tt(i,u)}else if(at(e))tt(i,e.bind(s));else if(Rt(e))if(Qe(e))e.forEach(u=>q_(u,t,s,a));else{const u=at(e.handler)?e.handler.bind(s):t[e.handler];at(u)&&tt(i,u,e)}}function j_(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:i,optionsCache:u,config:{optionMergeStrategies:d}}=e.appContext,h=u.get(t);let m;return h?m=h:!i.length&&!s&&!a?m=t:(m={},i.length&&i.forEach(y=>Ql(m,y,d,!0)),Ql(m,t,d)),Rt(t)&&u.set(t,m),m}function Ql(e,t,s,a=!1){const{mixins:i,extends:u}=t;u&&Ql(e,u,s,!0),i&&i.forEach(d=>Ql(e,d,s,!0));for(const d in t)if(!(a&&d==="expose")){const h=rw[d]||s&&s[d];e[d]=h?h(e[d],t[d]):t[d]}return e}const rw={data:tp,props:np,emits:np,methods:ru,computed:ru,beforeCreate:$n,created:$n,beforeMount:$n,mounted:$n,beforeUpdate:$n,updated:$n,beforeDestroy:$n,beforeUnmount:$n,destroyed:$n,unmounted:$n,activated:$n,deactivated:$n,errorCaptured:$n,serverPrefetch:$n,components:ru,directives:ru,watch:aw,provide:tp,inject:sw};function tp(e,t){return t?e?function(){return fn(at(e)?e.call(this,this):e,at(t)?t.call(this,this):t)}:t:e}function sw(e,t){return ru(Qd(e),Qd(t))}function Qd(e){if(Qe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function $n(e,t){return e?[...new Set([].concat(e,t))]:t}function ru(e,t){return e?fn(Object.create(null),e,t):t}function np(e,t){return e?Qe(e)&&Qe(t)?[...new Set([...e,...t])]:fn(Object.create(null),Jl(e),Jl(t??{})):t}function aw(e,t){if(!e)return t;if(!t)return e;const s=fn(Object.create(null),e);for(const a in t)s[a]=$n(e[a],t[a]);return s}function W_(){return{app:null,config:{isNativeTag:Wg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ow=0;function uw(e,t){return function(a,i=null){at(a)||(a=fn({},a)),i!=null&&!Rt(i)&&(i=null);const u=W_(),d=new WeakSet,h=[];let m=!1;const y=u.app={_uid:ow++,_component:a,_props:i,_container:null,_context:u,_instance:null,version:Uw,get config(){return u.config},set config(v){},use(v,...b){return d.has(v)||(v&&at(v.install)?(d.add(v),v.install(y,...b)):at(v)&&(d.add(v),v(y,...b))),y},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),y},component(v,b){return b?(u.components[v]=b,y):u.components[v]},directive(v,b){return b?(u.directives[v]=b,y):u.directives[v]},mount(v,b,T){if(!m){const P=y._ceVNode||Be(a,i);return P.appContext=u,T===!0?T="svg":T===!1&&(T=void 0),e(P,v,T),m=!0,y._container=v,v.__vue_app__=y,zc(P.component)}},onUnmount(v){h.push(v)},unmount(){m&&(Hi(h,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(v,b){return u.provides[v]=b,y},runWithContext(v){const b=Qa;Qa=y;try{return v()}finally{Qa=b}}};return y}}let Qa=null;function la(e,t){if(An){let s=An.provides;const a=An.parent&&An.parent.provides;a===s&&(s=An.provides=Object.create(a)),s[e]=t}}function sn(e,t,s=!1){const a=Yn();if(a||Qa){let i=Qa?Qa._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&at(t)?t.call(a&&a.proxy):t}}const lw=Symbol.for("v-scx"),cw=()=>sn(lw);function dw(e,t){return Bc(e,null,t)}function fw(e,t){return Bc(e,null,{flush:"sync"})}function tt(e,t,s){return Bc(e,t,s)}function Bc(e,t,s=Et){const{immediate:a,deep:i,flush:u,once:d}=s,h=fn({},s),m=t&&a||!t&&u!=="post";let y;if(Su){if(u==="sync"){const P=cw();y=P.__watcherHandles||(P.__watcherHandles=[])}else if(!m){const P=()=>{};return P.stop=hr,P.resume=hr,P.pause=hr,P}}const v=An;h.call=(P,O,B)=>Hi(P,v,O,B);let b=!1;u==="post"?h.scheduler=P=>{Hn(P,v&&v.suspense)}:u!=="sync"&&(b=!0,h.scheduler=(P,O)=>{O?P():qf(P)}),h.augmentJob=P=>{t&&(P.flags|=4),b&&(P.flags|=2,v&&(P.id=v.uid,P.i=v))};const T=Rb(e,t,h);return Su&&(y?y.push(T):m&&T()),T}function hw(e,t,s){const a=this.proxy,i=qt(e)?e.includes(".")?Z_(a,e):()=>a[e]:e.bind(a,a);let u;at(t)?u=t:(u=t.handler,s=t);const d=Hu(this),h=Bc(i,u.bind(a),s);return d(),h}function Z_(e,t){const s=t.split(".");return()=>{let a=e;for(let i=0;i<s.length&&a;i++)a=a[s[i]];return a}}function Wr(e,t,s=Et){const a=Yn(),i=hi(t),u=Kr(t),d=Y_(e,i),h=k_((m,y)=>{let v,b=Et,T;return fw(()=>{const P=e[i];ni(v,P)&&(v=P,y())}),{get(){return m(),s.get?s.get(v):v},set(P){const O=s.set?s.set(P):P;if(!ni(O,v)&&!(b!==Et&&ni(P,b)))return;const B=a.vnode.props;B&&(t in B||i in B||u in B)&&(`onUpdate:${t}`in B||`onUpdate:${i}`in B||`onUpdate:${u}`in B)||(v=P,y()),a.emit(`update:${t}`,O),ni(P,O)&&ni(P,b)&&!ni(O,T)&&y(),b=P,T=O}}});return h[Symbol.iterator]=()=>{let m=0;return{next(){return m<2?{value:m++?d||Et:h,done:!1}:{done:!0}}}},h}const Y_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hi(t)}Modifiers`]||e[`${Kr(t)}Modifiers`];function pw(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Et;let i=s;const u=t.startsWith("update:"),d=u&&Y_(a,t.slice(7));d&&(d.trim&&(i=s.map(v=>qt(v)?v.trim():v)),d.number&&(i=s.map(Tc)));let h,m=a[h=pd(t)]||a[h=pd(hi(t))];!m&&u&&(m=a[h=pd(Kr(t))]),m&&Hi(m,e,6,i);const y=a[h+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Hi(y,e,6,i)}}const mw=new WeakMap;function X_(e,t,s=!1){const a=s?mw:t.emitsCache,i=a.get(e);if(i!==void 0)return i;const u=e.emits;let d={},h=!1;if(!at(e)){const m=y=>{const v=X_(y,t,!0);v&&(h=!0,fn(d,v))};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!u&&!h?(Rt(e)&&a.set(e,null),null):(Qe(u)?u.forEach(m=>d[m]=null):fn(d,u),Rt(e)&&a.set(e,d),d)}function Fc(e,t){return!e||!kc(t)?!1:(t=t.slice(2).replace(/Once$/,""),It(e,t[0].toLowerCase()+t.slice(1))||It(e,Kr(t))||It(e,t))}function ip(e){const{type:t,vnode:s,proxy:a,withProxy:i,propsOptions:[u],slots:d,attrs:h,emit:m,render:y,renderCache:v,props:b,data:T,setupState:P,ctx:O,inheritAttrs:B}=e,z=Xl(e);let R,$;try{if(s.shapeFlag&4){const _=i||a,x=_;R=cr(y.call(x,_,v,b,P,T,O)),$=h}else{const _=t;R=cr(_.length>1?_(b,{attrs:h,slots:d,emit:m}):_(b,null)),$=t.props?h:gw(h)}}catch(_){mu.length=0,Ac(_,e,1),R=Be(On)}let q=R;if($&&B!==!1){const _=Object.keys($),{shapeFlag:x}=q;_.length&&x&7&&(u&&_.some(zf)&&($=_w($,u)),q=ks(q,$,!1,!0))}return s.dirs&&(q=ks(q,null,!1,!0),q.dirs=q.dirs?q.dirs.concat(s.dirs):s.dirs),s.transition&&Eu(q,s.transition),R=q,Xl(z),R}const gw=e=>{let t;for(const s in e)(s==="class"||s==="style"||kc(s))&&((t||(t={}))[s]=e[s]);return t},_w=(e,t)=>{const s={};for(const a in e)(!zf(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function vw(e,t,s){const{props:a,children:i,component:u}=e,{props:d,children:h,patchFlag:m}=t,y=u.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return a?rp(a,d,y):!!d;if(m&8){const v=t.dynamicProps;for(let b=0;b<v.length;b++){const T=v[b];if(d[T]!==a[T]&&!Fc(y,T))return!0}}}else return(i||h)&&(!h||!h.$stable)?!0:a===d?!1:a?d?rp(a,d,y):!0:!!d;return!1}function rp(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let i=0;i<a.length;i++){const u=a[i];if(t[u]!==e[u]&&!Fc(s,u))return!0}return!1}function yw({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const K_={},J_=()=>Object.create(K_),Q_=e=>Object.getPrototypeOf(e)===K_;function bw(e,t,s,a=!1){const i={},u=J_();e.propsDefaults=Object.create(null),ev(e,t,i,u);for(const d in e.propsOptions[0])d in i||(i[d]=void 0);s?e.props=a?i:y_(i):e.type.props?e.props=i:e.props=u,e.attrs=u}function ww(e,t,s,a){const{props:i,attrs:u,vnode:{patchFlag:d}}=e,h=kt(i),[m]=e.propsOptions;let y=!1;if((a||d>0)&&!(d&16)){if(d&8){const v=e.vnode.dynamicProps;for(let b=0;b<v.length;b++){let T=v[b];if(Fc(e.emitsOptions,T))continue;const P=t[T];if(m)if(It(u,T))P!==u[T]&&(u[T]=P,y=!0);else{const O=hi(T);i[O]=ef(m,h,O,P,e,!1)}else P!==u[T]&&(u[T]=P,y=!0)}}}else{ev(e,t,i,u)&&(y=!0);let v;for(const b in h)(!t||!It(t,b)&&((v=Kr(b))===b||!It(t,v)))&&(m?s&&(s[b]!==void 0||s[v]!==void 0)&&(i[b]=ef(m,h,b,void 0,e,!0)):delete i[b]);if(u!==h)for(const b in u)(!t||!It(t,b))&&(delete u[b],y=!0)}y&&Fr(e.attrs,"set","")}function ev(e,t,s,a){const[i,u]=e.propsOptions;let d=!1,h;if(t)for(let m in t){if(lu(m))continue;const y=t[m];let v;i&&It(i,v=hi(m))?!u||!u.includes(v)?s[v]=y:(h||(h={}))[v]=y:Fc(e.emitsOptions,m)||(!(m in a)||y!==a[m])&&(a[m]=y,d=!0)}if(u){const m=kt(s),y=h||Et;for(let v=0;v<u.length;v++){const b=u[v];s[b]=ef(i,m,b,y[b],e,!It(y,b))}}return d}function ef(e,t,s,a,i,u){const d=e[s];if(d!=null){const h=It(d,"default");if(h&&a===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&at(m)){const{propsDefaults:y}=i;if(s in y)a=y[s];else{const v=Hu(i);a=y[s]=m.call(null,t),v()}}else a=m;i.ce&&i.ce._setProp(s,a)}d[0]&&(u&&!h?a=!1:d[1]&&(a===""||a===Kr(s))&&(a=!0))}return a}const kw=new WeakMap;function tv(e,t,s=!1){const a=s?kw:t.propsCache,i=a.get(e);if(i)return i;const u=e.props,d={},h=[];let m=!1;if(!at(e)){const v=b=>{m=!0;const[T,P]=tv(b,t,!0);fn(d,T),P&&h.push(...P)};!s&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!u&&!m)return Rt(e)&&a.set(e,Ya),Ya;if(Qe(u))for(let v=0;v<u.length;v++){const b=hi(u[v]);sp(b)&&(d[b]=Et)}else if(u)for(const v in u){const b=hi(v);if(sp(b)){const T=u[v],P=d[b]=Qe(T)||at(T)?{type:T}:fn({},T),O=P.type;let B=!1,z=!0;if(Qe(O))for(let R=0;R<O.length;++R){const $=O[R],q=at($)&&$.name;if(q==="Boolean"){B=!0;break}else q==="String"&&(z=!1)}else B=at(O)&&O.name==="Boolean";P[0]=B,P[1]=z,(B||It(P,"default"))&&h.push(b)}}const y=[d,h];return Rt(e)&&a.set(e,y),y}function sp(e){return e[0]!=="$"&&!lu(e)}const Xf=e=>e==="_"||e==="_ctx"||e==="$stable",Kf=e=>Qe(e)?e.map(cr):[cr(e)],Lw=(e,t,s)=>{if(t._n)return t;const a=Ze((...i)=>Kf(t(...i)),s);return a._c=!1,a},nv=(e,t,s)=>{const a=e._ctx;for(const i in e){if(Xf(i))continue;const u=e[i];if(at(u))t[i]=Lw(i,u,a);else if(u!=null){const d=Kf(u);t[i]=()=>d}}},iv=(e,t)=>{const s=Kf(t);e.slots.default=()=>s},rv=(e,t,s)=>{for(const a in t)(s||!Xf(a))&&(e[a]=t[a])},Ew=(e,t,s)=>{const a=e.slots=J_();if(e.vnode.shapeFlag&32){const i=t._;i?(rv(a,t,s),s&&Kg(a,"_",i,!0)):nv(t,a)}else t&&iv(e,t)},xw=(e,t,s)=>{const{vnode:a,slots:i}=e;let u=!0,d=Et;if(a.shapeFlag&32){const h=t._;h?s&&h===1?u=!1:rv(i,t,s):(u=!t.$stable,nv(t,i)),d=t}else t&&(iv(e,t),d={default:1});if(u)for(const h in i)!Xf(h)&&d[h]==null&&delete i[h]},Hn=Iw;function Tw(e){return Sw(e)}function Sw(e,t){const s=Sc();s.__VUE__=!0;const{insert:a,remove:i,patchProp:u,createElement:d,createText:h,createComment:m,setText:y,setElementText:v,parentNode:b,nextSibling:T,setScopeId:P=hr,insertStaticContent:O}=e,B=(N,ee,oe,_e=null,Le=null,ye=null,Z=void 0,U=null,ue=!!ee.dynamicChildren)=>{if(N===ee)return;N&&!na(N,ee)&&(_e=de(N),Fe(N,Le,ye,!0),N=null),ee.patchFlag===-2&&(ue=!1,ee.dynamicChildren=null);const{type:he,ref:Ge,shapeFlag:Ce}=ee;switch(he){case vo:z(N,ee,oe,_e);break;case On:R(N,ee,oe,_e);break;case kd:N==null&&$(ee,oe,_e,Z);break;case pt:X(N,ee,oe,_e,Le,ye,Z,U,ue);break;default:Ce&1?x(N,ee,oe,_e,Le,ye,Z,U,ue):Ce&6?W(N,ee,oe,_e,Le,ye,Z,U,ue):(Ce&64||Ce&128)&&he.process(N,ee,oe,_e,Le,ye,Z,U,ue,Ae)}Ge!=null&&Le?hu(Ge,N&&N.ref,ye,ee||N,!ee):Ge==null&&N&&N.ref!=null&&hu(N.ref,null,ye,N,!0)},z=(N,ee,oe,_e)=>{if(N==null)a(ee.el=h(ee.children),oe,_e);else{const Le=ee.el=N.el;ee.children!==N.children&&y(Le,ee.children)}},R=(N,ee,oe,_e)=>{N==null?a(ee.el=m(ee.children||""),oe,_e):ee.el=N.el},$=(N,ee,oe,_e)=>{[N.el,N.anchor]=O(N.children,ee,oe,_e,N.el,N.anchor)},q=({el:N,anchor:ee},oe,_e)=>{let Le;for(;N&&N!==ee;)Le=T(N),a(N,oe,_e),N=Le;a(ee,oe,_e)},_=({el:N,anchor:ee})=>{let oe;for(;N&&N!==ee;)oe=T(N),i(N),N=oe;i(ee)},x=(N,ee,oe,_e,Le,ye,Z,U,ue)=>{if(ee.type==="svg"?Z="svg":ee.type==="math"&&(Z="mathml"),N==null)k(ee,oe,_e,Le,ye,Z,U,ue);else{const he=N.el&&N.el._isVueCE?N.el:null;try{he&&he._beginPatch(),D(N,ee,Le,ye,Z,U,ue)}finally{he&&he._endPatch()}}},k=(N,ee,oe,_e,Le,ye,Z,U)=>{let ue,he;const{props:Ge,shapeFlag:Ce,transition:re,dirs:we}=N;if(ue=N.el=d(N.type,ye,Ge&&Ge.is,Ge),Ce&8?v(ue,N.children):Ce&16&&F(N.children,ue,null,_e,Le,wd(N,ye),Z,U),we&&Zs(N,null,_e,"created"),C(ue,N,N.scopeId,Z,_e),Ge){for(const et in Ge)et!=="value"&&!lu(et)&&u(ue,et,null,Ge[et],ye,_e);"value"in Ge&&u(ue,"value",null,Ge.value,ye),(he=Ge.onVnodeBeforeMount)&&ar(he,_e,N)}we&&Zs(N,null,_e,"beforeMount");const Ve=Cw(Le,re);Ve&&re.beforeEnter(ue),a(ue,ee,oe),((he=Ge&&Ge.onVnodeMounted)||Ve||we)&&Hn(()=>{he&&ar(he,_e,N),Ve&&re.enter(ue),we&&Zs(N,null,_e,"mounted")},Le)},C=(N,ee,oe,_e,Le)=>{if(oe&&P(N,oe),_e)for(let ye=0;ye<_e.length;ye++)P(N,_e[ye]);if(Le){let ye=Le.subTree;if(ee===ye||av(ye.type)&&(ye.ssContent===ee||ye.ssFallback===ee)){const Z=Le.vnode;C(N,Z,Z.scopeId,Z.slotScopeIds,Le.parent)}}},F=(N,ee,oe,_e,Le,ye,Z,U,ue=0)=>{for(let he=ue;he<N.length;he++){const Ge=N[he]=U?ys(N[he]):cr(N[he]);B(null,Ge,ee,oe,_e,Le,ye,Z,U)}},D=(N,ee,oe,_e,Le,ye,Z)=>{const U=ee.el=N.el;let{patchFlag:ue,dynamicChildren:he,dirs:Ge}=ee;ue|=N.patchFlag&16;const Ce=N.props||Et,re=ee.props||Et;let we;if(oe&&Ys(oe,!1),(we=re.onVnodeBeforeUpdate)&&ar(we,oe,ee,N),Ge&&Zs(ee,N,oe,"beforeUpdate"),oe&&Ys(oe,!0),(Ce.innerHTML&&re.innerHTML==null||Ce.textContent&&re.textContent==null)&&v(U,""),he?A(N.dynamicChildren,he,U,oe,_e,wd(ee,Le),ye):Z||se(N,ee,U,null,oe,_e,wd(ee,Le),ye,!1),ue>0){if(ue&16)Y(U,Ce,re,oe,Le);else if(ue&2&&Ce.class!==re.class&&u(U,"class",null,re.class,Le),ue&4&&u(U,"style",Ce.style,re.style,Le),ue&8){const Ve=ee.dynamicProps;for(let et=0;et<Ve.length;et++){const De=Ve[et],Gt=Ce[De],Xe=re[De];(Xe!==Gt||De==="value")&&u(U,De,Gt,Xe,Le,oe)}}ue&1&&N.children!==ee.children&&v(U,ee.children)}else!Z&&he==null&&Y(U,Ce,re,oe,Le);((we=re.onVnodeUpdated)||Ge)&&Hn(()=>{we&&ar(we,oe,ee,N),Ge&&Zs(ee,N,oe,"updated")},_e)},A=(N,ee,oe,_e,Le,ye,Z)=>{for(let U=0;U<ee.length;U++){const ue=N[U],he=ee[U],Ge=ue.el&&(ue.type===pt||!na(ue,he)||ue.shapeFlag&198)?b(ue.el):oe;B(ue,he,Ge,null,_e,Le,ye,Z,!0)}},Y=(N,ee,oe,_e,Le)=>{if(ee!==oe){if(ee!==Et)for(const ye in ee)!lu(ye)&&!(ye in oe)&&u(N,ye,ee[ye],null,Le,_e);for(const ye in oe){if(lu(ye))continue;const Z=oe[ye],U=ee[ye];Z!==U&&ye!=="value"&&u(N,ye,U,Z,Le,_e)}"value"in oe&&u(N,"value",ee.value,oe.value,Le)}},X=(N,ee,oe,_e,Le,ye,Z,U,ue)=>{const he=ee.el=N?N.el:h(""),Ge=ee.anchor=N?N.anchor:h("");let{patchFlag:Ce,dynamicChildren:re,slotScopeIds:we}=ee;we&&(U=U?U.concat(we):we),N==null?(a(he,oe,_e),a(Ge,oe,_e),F(ee.children||[],oe,Ge,Le,ye,Z,U,ue)):Ce>0&&Ce&64&&re&&N.dynamicChildren?(A(N.dynamicChildren,re,oe,Le,ye,Z,U),(ee.key!=null||Le&&ee===Le.subTree)&&Jf(N,ee,!0)):se(N,ee,oe,Ge,Le,ye,Z,U,ue)},W=(N,ee,oe,_e,Le,ye,Z,U,ue)=>{ee.slotScopeIds=U,N==null?ee.shapeFlag&512?Le.ctx.activate(ee,oe,_e,Z,ue):j(ee,oe,_e,Le,ye,Z,ue):te(N,ee,ue)},j=(N,ee,oe,_e,Le,ye,Z)=>{const U=N.component=Rw(N,_e,Le);if(Rc(N)&&(U.ctx.renderer=Ae),Dw(U,!1,Z),U.asyncDep){if(Le&&Le.registerDep(U,G,Z),!N.el){const ue=U.subTree=Be(On);R(null,ue,ee,oe),N.placeholder=ue.el}}else G(U,N,ee,oe,Le,ye,Z)},te=(N,ee,oe)=>{const _e=ee.component=N.component;if(vw(N,ee,oe))if(_e.asyncDep&&!_e.asyncResolved){ae(_e,ee,oe);return}else _e.next=ee,_e.update();else ee.el=N.el,_e.vnode=ee},G=(N,ee,oe,_e,Le,ye,Z)=>{const U=()=>{if(N.isMounted){let{next:Ce,bu:re,u:we,parent:Ve,vnode:et}=N;{const Bn=sv(N);if(Bn){Ce&&(Ce.el=et.el,ae(N,Ce,Z)),Bn.asyncDep.then(()=>{N.isUnmounted||U()});return}}let De=Ce,Gt;Ys(N,!1),Ce?(Ce.el=et.el,ae(N,Ce,Z)):Ce=et,re&&Dl(re),(Gt=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&ar(Gt,Ve,Ce,et),Ys(N,!0);const Xe=ip(N),Ye=N.subTree;N.subTree=Xe,B(Ye,Xe,b(Ye.el),de(Ye),N,Le,ye),Ce.el=Xe.el,De===null&&yw(N,Xe.el),we&&Hn(we,Le),(Gt=Ce.props&&Ce.props.onVnodeUpdated)&&Hn(()=>ar(Gt,Ve,Ce,et),Le)}else{let Ce;const{el:re,props:we}=ee,{bm:Ve,m:et,parent:De,root:Gt,type:Xe}=N,Ye=Ja(ee);Ys(N,!1),Ve&&Dl(Ve),!Ye&&(Ce=we&&we.onVnodeBeforeMount)&&ar(Ce,De,ee),Ys(N,!0);{Gt.ce&&Gt.ce._def.shadowRoot!==!1&&Gt.ce._injectChildStyle(Xe);const Bn=N.subTree=ip(N);B(null,Bn,oe,_e,N,Le,ye),ee.el=Bn.el}if(et&&Hn(et,Le),!Ye&&(Ce=we&&we.onVnodeMounted)){const Bn=ee;Hn(()=>ar(Ce,De,Bn),Le)}(ee.shapeFlag&256||De&&Ja(De.vnode)&&De.vnode.shapeFlag&256)&&N.a&&Hn(N.a,Le),N.isMounted=!0,ee=oe=_e=null}};N.scope.on();const ue=N.effect=new i_(U);N.scope.off();const he=N.update=ue.run.bind(ue),Ge=N.job=ue.runIfDirty.bind(ue);Ge.i=N,Ge.id=N.uid,ue.scheduler=()=>qf(Ge),Ys(N,!0),he()},ae=(N,ee,oe)=>{ee.component=N;const _e=N.vnode.props;N.vnode=ee,N.next=null,ww(N,ee.props,_e,oe),xw(N,ee.children,oe),Hr(),Wh(N),qr()},se=(N,ee,oe,_e,Le,ye,Z,U,ue=!1)=>{const he=N&&N.children,Ge=N?N.shapeFlag:0,Ce=ee.children,{patchFlag:re,shapeFlag:we}=ee;if(re>0){if(re&128){ce(he,Ce,oe,_e,Le,ye,Z,U,ue);return}else if(re&256){ve(he,Ce,oe,_e,Le,ye,Z,U,ue);return}}we&8?(Ge&16&&Te(he,Le,ye),Ce!==he&&v(oe,Ce)):Ge&16?we&16?ce(he,Ce,oe,_e,Le,ye,Z,U,ue):Te(he,Le,ye,!0):(Ge&8&&v(oe,""),we&16&&F(Ce,oe,_e,Le,ye,Z,U,ue))},ve=(N,ee,oe,_e,Le,ye,Z,U,ue)=>{N=N||Ya,ee=ee||Ya;const he=N.length,Ge=ee.length,Ce=Math.min(he,Ge);let re;for(re=0;re<Ce;re++){const we=ee[re]=ue?ys(ee[re]):cr(ee[re]);B(N[re],we,oe,null,Le,ye,Z,U,ue)}he>Ge?Te(N,Le,ye,!0,!1,Ce):F(ee,oe,_e,Le,ye,Z,U,ue,Ce)},ce=(N,ee,oe,_e,Le,ye,Z,U,ue)=>{let he=0;const Ge=ee.length;let Ce=N.length-1,re=Ge-1;for(;he<=Ce&&he<=re;){const we=N[he],Ve=ee[he]=ue?ys(ee[he]):cr(ee[he]);if(na(we,Ve))B(we,Ve,oe,null,Le,ye,Z,U,ue);else break;he++}for(;he<=Ce&&he<=re;){const we=N[Ce],Ve=ee[re]=ue?ys(ee[re]):cr(ee[re]);if(na(we,Ve))B(we,Ve,oe,null,Le,ye,Z,U,ue);else break;Ce--,re--}if(he>Ce){if(he<=re){const we=re+1,Ve=we<Ge?ee[we].el:_e;for(;he<=re;)B(null,ee[he]=ue?ys(ee[he]):cr(ee[he]),oe,Ve,Le,ye,Z,U,ue),he++}}else if(he>re)for(;he<=Ce;)Fe(N[he],Le,ye,!0),he++;else{const we=he,Ve=he,et=new Map;for(he=Ve;he<=re;he++){const je=ee[he]=ue?ys(ee[he]):cr(ee[he]);je.key!=null&&et.set(je.key,he)}let De,Gt=0;const Xe=re-Ve+1;let Ye=!1,Bn=0;const hn=new Array(Xe);for(he=0;he<Xe;he++)hn[he]=0;for(he=we;he<=Ce;he++){const je=N[he];if(Gt>=Xe){Fe(je,Le,ye,!0);continue}let Kn;if(je.key!=null)Kn=et.get(je.key);else for(De=Ve;De<=re;De++)if(hn[De-Ve]===0&&na(je,ee[De])){Kn=De;break}Kn===void 0?Fe(je,Le,ye,!0):(hn[Kn-Ve]=he+1,Kn>=Bn?Bn=Kn:Ye=!0,B(je,ee[Kn],oe,null,Le,ye,Z,U,ue),Gt++)}const es=Ye?Pw(hn):Ya;for(De=es.length-1,he=Xe-1;he>=0;he--){const je=Ve+he,Kn=ee[je],Ki=ee[je+1],ts=je+1<Ge?Ki.el||Ki.placeholder:_e;hn[he]===0?B(null,Kn,oe,ts,Le,ye,Z,U,ue):Ye&&(De<0||he!==es[De]?ke(Kn,oe,ts,2):De--)}}},ke=(N,ee,oe,_e,Le=null)=>{const{el:ye,type:Z,transition:U,children:ue,shapeFlag:he}=N;if(he&6){ke(N.component.subTree,ee,oe,_e);return}if(he&128){N.suspense.move(ee,oe,_e);return}if(he&64){Z.move(N,ee,oe,Ae);return}if(Z===pt){a(ye,ee,oe);for(let Ce=0;Ce<ue.length;Ce++)ke(ue[Ce],ee,oe,_e);a(N.anchor,ee,oe);return}if(Z===kd){q(N,ee,oe);return}if(_e!==2&&he&1&&U)if(_e===0)U.beforeEnter(ye),a(ye,ee,oe),Hn(()=>U.enter(ye),Le);else{const{leave:Ce,delayLeave:re,afterLeave:we}=U,Ve=()=>{N.ctx.isUnmounted?i(ye):a(ye,ee,oe)},et=()=>{ye._isLeaving&&ye[Br](!0),Ce(ye,()=>{Ve(),we&&we()})};re?re(ye,Ve,et):et()}else a(ye,ee,oe)},Fe=(N,ee,oe,_e=!1,Le=!1)=>{const{type:ye,props:Z,ref:U,children:ue,dynamicChildren:he,shapeFlag:Ge,patchFlag:Ce,dirs:re,cacheIndex:we}=N;if(Ce===-2&&(Le=!1),U!=null&&(Hr(),hu(U,null,oe,N,!0),qr()),we!=null&&(ee.renderCache[we]=void 0),Ge&256){ee.ctx.deactivate(N);return}const Ve=Ge&1&&re,et=!Ja(N);let De;if(et&&(De=Z&&Z.onVnodeBeforeUnmount)&&ar(De,ee,N),Ge&6)Ee(N.component,oe,_e);else{if(Ge&128){N.suspense.unmount(oe,_e);return}Ve&&Zs(N,null,ee,"beforeUnmount"),Ge&64?N.type.remove(N,ee,oe,Ae,_e):he&&!he.hasOnce&&(ye!==pt||Ce>0&&Ce&64)?Te(he,ee,oe,!1,!0):(ye===pt&&Ce&384||!Le&&Ge&16)&&Te(ue,ee,oe),_e&&$e(N)}(et&&(De=Z&&Z.onVnodeUnmounted)||Ve)&&Hn(()=>{De&&ar(De,ee,N),Ve&&Zs(N,null,ee,"unmounted")},oe)},$e=N=>{const{type:ee,el:oe,anchor:_e,transition:Le}=N;if(ee===pt){Oe(oe,_e);return}if(ee===kd){_(N);return}const ye=()=>{i(oe),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(N.shapeFlag&1&&Le&&!Le.persisted){const{leave:Z,delayLeave:U}=Le,ue=()=>Z(oe,ye);U?U(N.el,ye,ue):ue()}else ye()},Oe=(N,ee)=>{let oe;for(;N!==ee;)oe=T(N),i(N),N=oe;i(ee)},Ee=(N,ee,oe)=>{const{bum:_e,scope:Le,job:ye,subTree:Z,um:U,m:ue,a:he}=N;ap(ue),ap(he),_e&&Dl(_e),Le.stop(),ye&&(ye.flags|=8,Fe(Z,N,ee,oe)),U&&Hn(U,ee),Hn(()=>{N.isUnmounted=!0},ee)},Te=(N,ee,oe,_e=!1,Le=!1,ye=0)=>{for(let Z=ye;Z<N.length;Z++)Fe(N[Z],ee,oe,_e,Le)},de=N=>{if(N.shapeFlag&6)return de(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const ee=T(N.anchor||N.el),oe=ee&&ee[C_];return oe?T(oe):ee};let K=!1;const Se=(N,ee,oe)=>{N==null?ee._vnode&&Fe(ee._vnode,null,null,!0):B(ee._vnode||null,N,ee,null,null,null,oe),ee._vnode=N,K||(K=!0,Wh(),x_(),K=!1)},Ae={p:B,um:Fe,m:ke,r:$e,mt:j,mc:F,pc:se,pbc:A,n:de,o:e};return{render:Se,hydrate:void 0,createApp:uw(Se)}}function wd({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ys({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Cw(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jf(e,t,s=!1){const a=e.children,i=t.children;if(Qe(a)&&Qe(i))for(let u=0;u<a.length;u++){const d=a[u];let h=i[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=i[u]=ys(i[u]),h.el=d.el),!s&&h.patchFlag!==-2&&Jf(d,h)),h.type===vo&&h.patchFlag!==-1&&(h.el=d.el),h.type===On&&!h.el&&(h.el=d.el)}}function Pw(e){const t=e.slice(),s=[0];let a,i,u,d,h;const m=e.length;for(a=0;a<m;a++){const y=e[a];if(y!==0){if(i=s[s.length-1],e[i]<y){t[a]=i,s.push(a);continue}for(u=0,d=s.length-1;u<d;)h=u+d>>1,e[s[h]]<y?u=h+1:d=h;y<e[s[u]]&&(u>0&&(t[a]=s[u-1]),s[u]=a)}}for(u=s.length,d=s[u-1];u-- >0;)s[u]=d,d=t[d];return s}function sv(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sv(t)}function ap(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const av=e=>e.__isSuspense;function Iw(e,t){t&&t.pendingBranch?Qe(e)?t.effects.push(...e):t.effects.push(e):Fb(e)}const pt=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),kd=Symbol.for("v-stc"),mu=[];let ci=null;function fe(e=!1){mu.push(ci=e?null:[])}function Nw(){mu.pop(),ci=mu[mu.length-1]||null}let xu=1;function ec(e,t=!1){xu+=e,e<0&&ci&&t&&(ci.hasOnce=!0)}function ov(e){return e.dynamicChildren=xu>0?ci||Ya:null,Nw(),xu>0&&ci&&ci.push(e),e}function xe(e,t,s,a,i,u){return ov(ne(e,t,s,a,i,u,!0))}function st(e,t,s,a,i){return ov(Be(e,t,s,a,i,!0))}function Tu(e){return e?e.__v_isVNode===!0:!1}function na(e,t){return e.type===t.type&&e.key===t.key}const uv=({key:e})=>e??null,Fl=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||wt(e)||at(e)?{i:Sn,r:e,k:t,f:!!s}:e:null);function ne(e,t=null,s=null,a=0,i=null,u=e===pt?0:1,d=!1,h=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uv(t),ref:t&&Fl(t),scopeId:S_,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Sn};return h?(Qf(m,s),u&128&&e.normalize(m)):s&&(m.shapeFlag|=qt(s)?8:16),xu>0&&!d&&ci&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&ci.push(m),m}const Be=Mw;function Mw(e,t=null,s=null,a=0,i=null,u=!1){if((!e||e===$_)&&(e=On),Tu(e)){const h=ks(e,t,!0);return s&&Qf(h,s),xu>0&&!u&&ci&&(h.shapeFlag&6?ci[ci.indexOf(e)]=h:ci.push(h)),h.patchFlag=-2,h}if(Gw(e)&&(e=e.__vccOpts),t){t=lr(t);let{class:h,style:m}=t;h&&!qt(h)&&(t.class=ht(h)),Rt(m)&&(Oc(m)&&!Qe(m)&&(m=fn({},m)),t.style=Tn(m))}const d=qt(e)?1:av(e)?128:P_(e)?64:Rt(e)?4:at(e)?2:0;return ne(e,t,s,a,i,d,u,!0)}function lr(e){return e?Oc(e)||Q_(e)?fn({},e):e:null}function ks(e,t,s=!1,a=!1){const{props:i,ref:u,patchFlag:d,children:h,transition:m}=e,y=t?Vt(i||{},t):i,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&uv(y),ref:t&&t.ref?s&&u?Qe(u)?u.concat(Fl(t)):[u,Fl(t)]:Fl(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pt?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:m,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ks(e.ssContent),ssFallback:e.ssFallback&&ks(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return m&&a&&Eu(v,m.clone(v)),v}function it(e=" ",t=0){return Be(vo,null,e,t)}function nt(e="",t=!1){return t?(fe(),st(On,null,e)):Be(On,null,e)}function cr(e){return e==null||typeof e=="boolean"?Be(On):Qe(e)?Be(pt,null,e.slice()):Tu(e)?ys(e):Be(vo,null,String(e))}function ys(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ks(e)}function Qf(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Qe(t))s=16;else if(typeof t=="object")if(a&65){const i=t.default;i&&(i._c&&(i._d=!1),Qf(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!Q_(t)?t._ctx=Sn:i===3&&Sn&&(Sn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else at(t)?(t={default:t,_ctx:Sn},s=32):(t=String(t),a&64?(s=16,t=[it(t)]):s=8);e.children=t,e.shapeFlag|=s}function Vt(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const i in a)if(i==="class")t.class!==a.class&&(t.class=ht([t.class,a.class]));else if(i==="style")t.style=Tn([t.style,a.style]);else if(kc(i)){const u=t[i],d=a[i];d&&u!==d&&!(Qe(u)&&u.includes(d))&&(t[i]=u?[].concat(u,d):d)}else i!==""&&(t[i]=a[i])}return t}function ar(e,t,s,a=null){Hi(e,t,7,[s,a])}const Ow=W_();let Aw=0;function Rw(e,t,s){const a=e.type,i=(t?t.appContext:e.appContext)||Ow,u={uid:Aw++,vnode:e,type:a,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new t_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tv(a,i),emitsOptions:X_(a,i),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:a.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=pw.bind(null,u),e.ce&&e.ce(u),u}let An=null;const Yn=()=>An||Sn;let tc,tf;{const e=Sc(),t=(s,a)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(a),u=>{i.length>1?i.forEach(d=>d(u)):i[0](u)}};tc=t("__VUE_INSTANCE_SETTERS__",s=>An=s),tf=t("__VUE_SSR_SETTERS__",s=>Su=s)}const Hu=e=>{const t=An;return tc(e),e.scope.on(),()=>{e.scope.off(),tc(t)}},op=()=>{An&&An.scope.off(),tc(null)};function lv(e){return e.vnode.shapeFlag&4}let Su=!1;function Dw(e,t=!1,s=!1){t&&tf(t);const{props:a,children:i}=e.vnode,u=lv(e);bw(e,a,u,t),Ew(e,i,s||t);const d=u?Bw(e,t):void 0;return t&&tf(!1),d}function Bw(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tw);const{setup:a}=s;if(a){Hr();const i=e.setupContext=a.length>1?dv(e):null,u=Hu(e),d=Gu(a,e,0,[e.props,i]),h=Zg(d);if(qr(),u(),(h||e.sp)&&!Ja(e)&&F_(e),h){if(d.then(op,op),t)return d.then(m=>{up(e,m)}).catch(m=>{Ac(m,e,0)});e.asyncDep=d}else up(e,d)}else cv(e)}function up(e,t,s){at(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Rt(t)&&(e.setupState=w_(t)),cv(e)}function cv(e,t,s){const a=e.type;e.render||(e.render=a.render||hr);{const i=Hu(e);Hr();try{nw(e)}finally{qr(),i()}}}const Fw={get(e,t){return In(e,"get",""),e[t]}};function dv(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Fw),slots:e.slots,emit:e.emit,expose:t}}function zc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(w_(ws(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in pu)return pu[s](e)},has(t,s){return s in t||s in pu}})):e.proxy}function zw(e,t=!0){return at(e)?e.displayName||e.name:e.name||t&&e.__name}function Gw(e){return at(e)&&"__vccOpts"in e}const ge=(e,t)=>Ob(e,t,Su);function Zr(e,t,s){try{ec(-1);const a=arguments.length;return a===2?Rt(t)&&!Qe(t)?Tu(t)?Be(e,null,[t]):Be(e,t):Be(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&Tu(s)&&(s=[s]),Be(e,t,s))}finally{ec(1)}}const Uw="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nf;const lp=typeof window<"u"&&window.trustedTypes;if(lp)try{nf=lp.createPolicy("vue",{createHTML:e=>e})}catch{}const fv=nf?e=>nf.createHTML(e):e=>e,$w="http://www.w3.org/2000/svg",Vw="http://www.w3.org/1998/Math/MathML",Rr=typeof document<"u"?document:null,cp=Rr&&Rr.createElement("template"),Hw={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const i=t==="svg"?Rr.createElementNS($w,e):t==="mathml"?Rr.createElementNS(Vw,e):s?Rr.createElement(e,{is:s}):Rr.createElement(e);return e==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:e=>Rr.createTextNode(e),createComment:e=>Rr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,i,u){const d=s?s.previousSibling:t.lastChild;if(i&&(i===u||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===u||!(i=i.nextSibling)););else{cp.innerHTML=fv(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const h=cp.content;if(a==="svg"||a==="mathml"){const m=h.firstChild;for(;m.firstChild;)h.appendChild(m.firstChild);h.removeChild(m)}t.insertBefore(h,s)}return[d?d.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},hs="transition",Xo="animation",Cu=Symbol("_vtc"),hv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qw=fn({},M_,hv),jw=e=>(e.displayName="Transition",e.props=qw,e),qi=jw((e,{slots:t})=>Zr(Vb,Ww(e),t)),Xs=(e,t=[])=>{Qe(e)?e.forEach(s=>s(...t)):e&&e(...t)},dp=e=>e?Qe(e)?e.some(t=>t.length>1):e.length>1:!1;function Ww(e){const t={};for(const X in e)X in hv||(t[X]=e[X]);if(e.css===!1)return t;const{name:s="v",type:a,duration:i,enterFromClass:u=`${s}-enter-from`,enterActiveClass:d=`${s}-enter-active`,enterToClass:h=`${s}-enter-to`,appearFromClass:m=u,appearActiveClass:y=d,appearToClass:v=h,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:T=`${s}-leave-active`,leaveToClass:P=`${s}-leave-to`}=e,O=Zw(i),B=O&&O[0],z=O&&O[1],{onBeforeEnter:R,onEnter:$,onEnterCancelled:q,onLeave:_,onLeaveCancelled:x,onBeforeAppear:k=R,onAppear:C=$,onAppearCancelled:F=q}=t,D=(X,W,j,te)=>{X._enterCancelled=te,Ks(X,W?v:h),Ks(X,W?y:d),j&&j()},A=(X,W)=>{X._isLeaving=!1,Ks(X,b),Ks(X,P),Ks(X,T),W&&W()},Y=X=>(W,j)=>{const te=X?C:$,G=()=>D(W,X,j);Xs(te,[W,G]),fp(()=>{Ks(W,X?m:u),Ir(W,X?v:h),dp(te)||hp(W,a,B,G)})};return fn(t,{onBeforeEnter(X){Xs(R,[X]),Ir(X,u),Ir(X,d)},onBeforeAppear(X){Xs(k,[X]),Ir(X,m),Ir(X,y)},onEnter:Y(!1),onAppear:Y(!0),onLeave(X,W){X._isLeaving=!0;const j=()=>A(X,W);Ir(X,b),X._enterCancelled?(Ir(X,T),gp(X)):(gp(X),Ir(X,T)),fp(()=>{X._isLeaving&&(Ks(X,b),Ir(X,P),dp(_)||hp(X,a,z,j))}),Xs(_,[X,j])},onEnterCancelled(X){D(X,!1,void 0,!0),Xs(q,[X])},onAppearCancelled(X){D(X,!0,void 0,!0),Xs(F,[X])},onLeaveCancelled(X){A(X),Xs(x,[X])}})}function Zw(e){if(e==null)return null;if(Rt(e))return[Ld(e.enter),Ld(e.leave)];{const t=Ld(e);return[t,t]}}function Ld(e){return Q0(e)}function Ir(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Cu]||(e[Cu]=new Set)).add(t)}function Ks(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const s=e[Cu];s&&(s.delete(t),s.size||(e[Cu]=void 0))}function fp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Yw=0;function hp(e,t,s,a){const i=e._endId=++Yw,u=()=>{i===e._endId&&a()};if(s!=null)return setTimeout(u,s);const{type:d,timeout:h,propCount:m}=Xw(e,t);if(!d)return a();const y=d+"end";let v=0;const b=()=>{e.removeEventListener(y,T),u()},T=P=>{P.target===e&&++v>=m&&b()};setTimeout(()=>{v<m&&b()},h+1),e.addEventListener(y,T)}function Xw(e,t){const s=window.getComputedStyle(e),a=O=>(s[O]||"").split(", "),i=a(`${hs}Delay`),u=a(`${hs}Duration`),d=pp(i,u),h=a(`${Xo}Delay`),m=a(`${Xo}Duration`),y=pp(h,m);let v=null,b=0,T=0;t===hs?d>0&&(v=hs,b=d,T=u.length):t===Xo?y>0&&(v=Xo,b=y,T=m.length):(b=Math.max(d,y),v=b>0?d>y?hs:Xo:null,T=v?v===hs?u.length:m.length:0);const P=v===hs&&/\b(?:transform|all)(?:,|$)/.test(a(`${hs}Property`).toString());return{type:v,timeout:b,propCount:T,hasTransform:P}}function pp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>mp(s)+mp(e[a])))}function mp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function gp(e){return(e?e.ownerDocument:document).body.offsetHeight}function Kw(e,t,s){const a=e[Cu];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const nc=Symbol("_vod"),pv=Symbol("_vsh"),io={name:"show",beforeMount(e,{value:t},{transition:s}){e[nc]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ko(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Ko(e,!0),a.enter(e)):a.leave(e,()=>{Ko(e,!1)}):Ko(e,t))},beforeUnmount(e,{value:t}){Ko(e,t)}};function Ko(e,t){e.style.display=t?e[nc]:"none",e[pv]=!t}const Jw=Symbol(""),Qw=/(?:^|;)\s*display\s*:/;function ek(e,t,s){const a=e.style,i=qt(s);let u=!1;if(s&&!i){if(t)if(qt(t))for(const d of t.split(";")){const h=d.slice(0,d.indexOf(":")).trim();s[h]==null&&zl(a,h,"")}else for(const d in t)s[d]==null&&zl(a,d,"");for(const d in s)d==="display"&&(u=!0),zl(a,d,s[d])}else if(i){if(t!==s){const d=a[Jw];d&&(s+=";"+d),a.cssText=s,u=Qw.test(s)}}else t&&e.removeAttribute("style");nc in e&&(e[nc]=u?a.display:"",e[pv]&&(a.display="none"))}const _p=/\s*!important$/;function zl(e,t,s){if(Qe(s))s.forEach(a=>zl(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=tk(e,t);_p.test(s)?e.setProperty(Kr(a),s.replace(_p,""),"important"):e[a]=s}}const vp=["Webkit","Moz","ms"],Ed={};function tk(e,t){const s=Ed[t];if(s)return s;let a=hi(t);if(a!=="filter"&&a in e)return Ed[t]=a;a=xc(a);for(let i=0;i<vp.length;i++){const u=vp[i]+a;if(u in e)return Ed[t]=u}return t}const yp="http://www.w3.org/1999/xlink";function bp(e,t,s,a,i,u=sb(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(yp,t.slice(6,t.length)):e.setAttributeNS(yp,t,s):s==null||u&&!Jg(s)?e.removeAttribute(t):e.setAttribute(t,u?"":$i(s)?String(s):s)}function wp(e,t,s,a,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?fv(s):s);return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const h=u==="OPTION"?e.getAttribute("value")||"":e.value,m=s==null?e.type==="checkbox"?"on":"":String(s);(h!==m||!("_value"in e))&&(e.value=m),s==null&&e.removeAttribute(t),e._value=s;return}let d=!1;if(s===""||s==null){const h=typeof e[t];h==="boolean"?s=Jg(s):s==null&&h==="string"?(s="",d=!0):h==="number"&&(s=0,d=!0)}try{e[t]=s}catch{}d&&e.removeAttribute(i||t)}function Gr(e,t,s,a){e.addEventListener(t,s,a)}function nk(e,t,s,a){e.removeEventListener(t,s,a)}const kp=Symbol("_vei");function ik(e,t,s,a,i=null){const u=e[kp]||(e[kp]={}),d=u[t];if(a&&d)d.value=a;else{const[h,m]=rk(t);if(a){const y=u[t]=ok(a,i);Gr(e,h,y,m)}else d&&(nk(e,h,d,m),u[t]=void 0)}}const Lp=/(?:Once|Passive|Capture)$/;function rk(e){let t;if(Lp.test(e)){t={};let a;for(;a=e.match(Lp);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Kr(e.slice(2)),t]}let xd=0;const sk=Promise.resolve(),ak=()=>xd||(sk.then(()=>xd=0),xd=Date.now());function ok(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Hi(uk(a,s.value),t,5,[a])};return s.value=e,s.attached=ak(),s}function uk(e,t){if(Qe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>i=>!i._stopped&&a&&a(i))}else return t}const Ep=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lk=(e,t,s,a,i,u)=>{const d=i==="svg";t==="class"?Kw(e,a,d):t==="style"?ek(e,s,a):kc(t)?zf(t)||ik(e,t,s,a,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ck(e,t,a,d))?(wp(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&bp(e,t,a,d,u,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qt(a))?wp(e,hi(t),a,u,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),bp(e,t,a,d))};function ck(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ep(t)&&at(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ep(t)&&qt(s)?!1:t in e}const Ls=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Qe(t)?s=>Dl(t,s):t};function dk(e){e.target.composing=!0}function xp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ci=Symbol("_assign");function Tp(e,t,s){return t&&(e=e.trim()),s&&(e=Tc(e)),e}const Yr={created(e,{modifiers:{lazy:t,trim:s,number:a}},i){e[Ci]=Ls(i);const u=a||i.props&&i.props.type==="number";Gr(e,t?"change":"input",d=>{d.target.composing||e[Ci](Tp(e.value,s,u))}),(s||u)&&Gr(e,"change",()=>{e.value=Tp(e.value,s,u)}),t||(Gr(e,"compositionstart",dk),Gr(e,"compositionend",xp),Gr(e,"change",xp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:i,number:u}},d){if(e[Ci]=Ls(d),e.composing)return;const h=(u||e.type==="number")&&!/^0\d/.test(e.value)?Tc(e.value):e.value,m=t??"";h!==m&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||i&&e.value.trim()===m)||(e.value=m))}},mv={deep:!0,created(e,t,s){e[Ci]=Ls(s),Gr(e,"change",()=>{const a=e._modelValue,i=ro(e),u=e.checked,d=e[Ci];if(Qe(a)){const h=Uf(a,i),m=h!==-1;if(u&&!m)d(a.concat(i));else if(!u&&m){const y=[...a];y.splice(h,1),d(y)}}else if(_o(a)){const h=new Set(a);u?h.add(i):h.delete(i),d(h)}else d(gv(e,u))})},mounted:Sp,beforeUpdate(e,t,s){e[Ci]=Ls(s),Sp(e,t,s)}};function Sp(e,{value:t,oldValue:s},a){e._modelValue=t;let i;if(Qe(t))i=Uf(t,a.props.value)>-1;else if(_o(t))i=t.has(a.props.value);else{if(t===s)return;i=ca(t,gv(e,!0))}e.checked!==i&&(e.checked=i)}const fk={created(e,{value:t},s){e.checked=ca(t,s.props.value),e[Ci]=Ls(s),Gr(e,"change",()=>{e[Ci](ro(e))})},beforeUpdate(e,{value:t,oldValue:s},a){e[Ci]=Ls(a),t!==s&&(e.checked=ca(t,a.props.value))}},Pu={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const i=_o(t);Gr(e,"change",()=>{const u=Array.prototype.filter.call(e.options,d=>d.selected).map(d=>s?Tc(ro(d)):ro(d));e[Ci](e.multiple?i?new Set(u):u:u[0]),e._assigning=!0,li(()=>{e._assigning=!1})}),e[Ci]=Ls(a)},mounted(e,{value:t}){Cp(e,t)},beforeUpdate(e,t,s){e[Ci]=Ls(s)},updated(e,{value:t}){e._assigning||Cp(e,t)}};function Cp(e,t){const s=e.multiple,a=Qe(t);if(!(s&&!a&&!_o(t))){for(let i=0,u=e.options.length;i<u;i++){const d=e.options[i],h=ro(d);if(s)if(a){const m=typeof h;m==="string"||m==="number"?d.selected=t.some(y=>String(y)===String(h)):d.selected=Uf(t,h)>-1}else d.selected=t.has(h);else if(ca(ro(d),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ro(e){return"_value"in e?e._value:e.value}function gv(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const hk={created(e,t,s){bl(e,t,s,null,"created")},mounted(e,t,s){bl(e,t,s,null,"mounted")},beforeUpdate(e,t,s,a){bl(e,t,s,a,"beforeUpdate")},updated(e,t,s,a){bl(e,t,s,a,"updated")}};function pk(e,t){switch(e){case"SELECT":return Pu;case"TEXTAREA":return Yr;default:switch(t){case"checkbox":return mv;case"radio":return fk;default:return Yr}}}function bl(e,t,s,a,i){const d=pk(e.tagName,s.props&&s.props.type)[i];d&&d(e,t,s,a)}const mk=["ctrl","shift","alt","meta"],gk={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>mk.some(s=>e[`${s}Key`]&&!t.includes(s))},_r=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=((i,...u)=>{for(let d=0;d<t.length;d++){const h=gk[t[d]];if(h&&h(i,t))return}return e(i,...u)}))},_k={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vk=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=(i=>{if(!("key"in i))return;const u=Kr(i.key);if(t.some(d=>d===u||_k[d]===u))return e(i)}))},yk=fn({patchProp:lk},Hw);let Pp;function bk(){return Pp||(Pp=Tw(yk))}const wk=((...e)=>{const t=bk().createApp(...e),{mount:s}=t;return t.mount=a=>{const i=Lk(a);if(!i)return;const u=t._component;!at(u)&&!u.render&&!u.template&&(u.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const d=s(i,!1,kk(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),d},t});function kk(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Lk(e){return qt(e)?document.querySelector(e):e}const _v="BootstrapVueNext__",eh=(e,t="")=>{const s=`${t}___`;return`${_v}ID__${e}__${t?s:""}`},Gc=e=>eh(e),Cs=e=>eh(`${e}__plugin`),Ek=Gc("checkboxGroup"),vv=Gc("collapse"),Uc=Cs("globalShowHideStorage"),yv=Gc("navbar"),xk=Cs("rtl"),Ip=`${_v}global_breadcrumb`,Tk=Cs("breadcrumbPlugin"),bv=Cs("modalManager"),Gl=Cs("defaults"),Sk=Cs("toast"),Ck=Cs("modalController"),Pk=Cs("popover"),Ik=Gc("formGroupPlugin");function ma(e){return Cc()?(bu(e),!0):!1}function wv(e){let t=0,s,a;const i=()=>{t-=1,a&&t<=0&&(a.stop(),s=void 0,a=void 0)};return(...u)=>(t+=1,a||(a=n_(!0),s=a.run(()=>e(...u))),ma(i),s)}const kv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Lv=e=>e!=null,Nk=Object.prototype.toString,Mk=e=>Nk.call(e)==="[object Object]",Bi=()=>{},rf=Ok();function Ok(){var e,t;return kv&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ak(...e){if(e.length!==1)return cn(...e);const t=e[0];return typeof t=="function"?Rn(k_(()=>({get:t,set:Bi}))):Ie(t)}function Ev(e,t){function s(...a){return new Promise((i,u)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(i).catch(u)})}return s}function Rk(e,t={}){let s,a,i=Bi;const u=m=>{clearTimeout(m),i(),i=Bi};let d;return m=>{const y=ot(e),v=ot(t.maxWait);return s&&u(s),y<=0||v!==void 0&&v<=0?(a&&(u(a),a=null),Promise.resolve(m())):new Promise((b,T)=>{i=t.rejectOnCancel?T:b,d=m,v&&!a&&(a=setTimeout(()=>{s&&u(s),a=null,b(d())},v)),s=setTimeout(()=>{a&&u(a),a=null,b(m())},y)})}}function Dk(...e){let t=0,s,a=!0,i=Bi,u,d,h,m,y;!wt(e[0])&&typeof e[0]=="object"?{delay:d,trailing:h=!0,leading:m=!0,rejectOnCancel:y=!1}=e[0]:[d,h=!0,m=!0,y=!1]=e;const v=()=>{s&&(clearTimeout(s),s=void 0,i(),i=Bi)};return T=>{const P=ot(d),O=Date.now()-t,B=()=>u=T();return v(),P<=0?(t=Date.now(),B()):(O>P&&(m||!a)?(t=Date.now(),B()):h&&(u=new Promise((z,R)=>{i=y?R:z,s=setTimeout(()=>{t=Date.now(),a=!0,z(B()),v()},Math.max(0,P-O))})),!m&&!s&&(s=setTimeout(()=>a=!0,P)),a=!1,u)}}function gu(e){return Array.isArray(e)?e:[e]}function Bk(e,t=200,s={}){return Ev(Rk(t,s),e)}function Np(e,t=200,s=!1,a=!0,i=!1){return Ev(Dk(t,s,a,i),e)}function ic(e,t={}){const{method:s="parseFloat",radix:a,nanToZero:i}=t;return ge(()=>{let u=ot(e);return typeof s=="function"?u=s(u):typeof u=="string"&&(u=Number[s](u,a)),i&&Number.isNaN(u)&&(u=0),u})}function Fk(e,t,s){return tt(e,t,{...s,immediate:!0})}const qu=kv?window:void 0;function Ur(e){var t;const s=ot(e);return(t=s==null?void 0:s.$el)!=null?t:s}function ii(...e){const t=[],s=()=>{t.forEach(h=>h()),t.length=0},a=(h,m,y,v)=>(h.addEventListener(m,y,v),()=>h.removeEventListener(m,y,v)),i=ge(()=>{const h=gu(ot(e[0])).filter(m=>m!=null);return h.every(m=>typeof m!="string")?h:void 0}),u=Fk(()=>{var h,m;return[(m=(h=i.value)==null?void 0:h.map(y=>Ur(y)))!=null?m:[qu].filter(y=>y!=null),gu(ot(i.value?e[1]:e[0])),gu(J(i.value?e[2]:e[1])),ot(i.value?e[3]:e[2])]},([h,m,y,v])=>{if(s(),!(h!=null&&h.length)||!(m!=null&&m.length)||!(y!=null&&y.length))return;const b=Mk(v)?{...v}:v;t.push(...h.flatMap(T=>m.flatMap(P=>y.map(O=>a(T,P,O,b)))))},{flush:"post"}),d=()=>{u(),s()};return ma(s),d}let Mp=!1;function zk(e,t,s={}){const{window:a=qu,ignore:i=[],capture:u=!0,detectIframe:d=!1,controls:h=!1}=s;if(!a)return h?{stop:Bi,cancel:Bi,trigger:Bi}:Bi;if(rf&&!Mp){Mp=!0;const z={passive:!0};Array.from(a.document.body.children).forEach(R=>ii(R,"click",Bi,z)),ii(a.document.documentElement,"click",Bi,z)}let m=!0;const y=z=>ot(i).some(R=>{if(typeof R=="string")return Array.from(a.document.querySelectorAll(R)).some($=>$===z.target||z.composedPath().includes($));{const $=Ur(R);return $&&(z.target===$||z.composedPath().includes($))}});function v(z){const R=ot(z);return R&&R.$.subTree.shapeFlag===16}function b(z,R){const $=ot(z),q=$.$.subTree&&$.$.subTree.children;return q==null||!Array.isArray(q)?!1:q.some(_=>_.el===R.target||R.composedPath().includes(_.el))}const T=z=>{const R=Ur(e);if(z.target!=null&&!(!(R instanceof Element)&&v(e)&&b(e,z))&&!(!R||R===z.target||z.composedPath().includes(R))){if("detail"in z&&z.detail===0&&(m=!y(z)),!m){m=!0;return}t(z)}};let P=!1;const O=[ii(a,"click",z=>{P||(P=!0,setTimeout(()=>{P=!1},0),T(z))},{passive:!0,capture:u}),ii(a,"pointerdown",z=>{const R=Ur(e);m=!y(z)&&!!(R&&!z.composedPath().includes(R))},{passive:!0}),d&&ii(a,"blur",z=>{setTimeout(()=>{var R;const $=Ur(e);((R=a.document.activeElement)==null?void 0:R.tagName)==="IFRAME"&&!($!=null&&$.contains(a.document.activeElement))&&t(z)},0)},{passive:!0})].filter(Boolean),B=()=>O.forEach(z=>z());return h?{stop:B,cancel:()=>{m=!1},trigger:z=>{m=!0,T(z),m=!1}}:B}function Gk(){const e=Dn(!1),t=Yn();return t&&Mi(()=>{e.value=!0},t),e}function Uk(e){const t=Gk();return ge(()=>(t.value,!!e()))}function $k(e,t,s={}){const{window:a=qu,...i}=s;let u;const d=Uk(()=>a&&"MutationObserver"in a),h=()=>{u&&(u.disconnect(),u=void 0)},m=ge(()=>{const T=ot(e),P=gu(T).map(Ur).filter(Lv);return new Set(P)}),y=tt(()=>m.value,T=>{h(),d.value&&T.size&&(u=new MutationObserver(t),T.forEach(P=>u.observe(P,i)))},{immediate:!0,flush:"post"}),v=()=>u==null?void 0:u.takeRecords(),b=()=>{y(),h()};return ma(b),{isSupported:d,stop:b,takeRecords:v}}function Vk(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function xv(...e){let t,s,a={};e.length===3?(t=e[0],s=e[1],a=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,s=e[0],a=e[1]):(t=e[0],s=e[1]):(t=!0,s=e[0]);const{target:i=qu,eventName:u="keydown",passive:d=!1,dedupe:h=!1}=a,m=Vk(t);return ii(i,u,v=>{v.repeat&&ot(h)||m(v)&&s(v)},d)}const wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kl="__vueuse_ssr_handlers__",Hk=qk();function qk(){return kl in wl||(wl[kl]=wl[kl]||{}),wl[kl]}function jk(e,t){return Hk[e]||t}function ra(e,t={}){const{initialValue:s=!1,focusVisible:a=!1,preventScroll:i=!1}=t,u=Dn(!1),d=ge(()=>Ur(e)),h={passive:!0};ii(d,"focus",y=>{var v,b;(!a||(b=(v=y.target).matches)!=null&&b.call(v,":focus-visible"))&&(u.value=!0)},h),ii(d,"blur",()=>u.value=!1,h);const m=ge({get:()=>u.value,set(y){var v,b;!y&&u.value?(v=d.value)==null||v.blur():y&&!u.value&&((b=d.value)==null||b.focus({preventScroll:i}))}});return tt(d,()=>{m.value=s},{immediate:!0,flush:"post"}),{focused:m}}function Td(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const Wk={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function Zk(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:a=!1,initialValue:i={x:0,y:0},window:u=qu,target:d=u,scroll:h=!0,eventFilter:m}=e;let y=null,v=0,b=0;const T=Dn(i.x),P=Dn(i.y),O=Dn(null),B=typeof t=="function"?t:Wk[t],z=C=>{const F=B(C);y=C,F&&([T.value,P.value]=F,O.value="mouse"),u&&(v=u.scrollX,b=u.scrollY)},R=C=>{if(C.touches.length>0){const F=B(C.touches[0]);F&&([T.value,P.value]=F,O.value="touch")}},$=()=>{if(!y||!u)return;const C=B(y);y instanceof MouseEvent&&C&&(T.value=C[0]+u.scrollX-v,P.value=C[1]+u.scrollY-b)},q=()=>{T.value=i.x,P.value=i.y},_=m?C=>m(()=>z(C),{}):C=>z(C),x=m?C=>m(()=>R(C),{}):C=>R(C),k=m?()=>m(()=>$(),{}):()=>$();if(d){const C={passive:!0};ii(d,["mousemove","dragover"],_,C),s&&t!=="movement"&&(ii(d,["touchstart","touchmove"],x,C),a&&ii(d,"touchend",q,C)),h&&t==="page"&&ii(u,"scroll",k,C)}return{x:T,y:P,sourceType:O}}function Tv(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const s=e.parentNode;return!s||s.tagName==="BODY"?!1:Tv(s)}}function Yk(e){const t=e||window.event,s=t.target;return Tv(s)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const Sd=new WeakMap;function Xk(e,t=!1){const s=Dn(t);let a=null,i="";tt(Ak(e),h=>{const m=Td(ot(h));if(m){const y=m;if(Sd.get(y)||Sd.set(y,y.style.overflow),y.style.overflow!=="hidden"&&(i=y.style.overflow),y.style.overflow==="hidden")return s.value=!0;if(s.value)return y.style.overflow="hidden"}},{immediate:!0});const u=()=>{const h=Td(ot(e));!h||s.value||(rf&&(a=ii(h,"touchmove",m=>{Yk(m)},{passive:!1})),h.style.overflow="hidden",s.value=!0)},d=()=>{const h=Td(ot(e));!h||!s.value||(rf&&(a==null||a()),h.style.overflow=i,Sd.delete(h),s.value=!1)};return ma(d),ge({get(){return s.value},set(h){h?u():d()}})}const Cd="modal-open",Kk=()=>{const e=sn(bv),t=a=>{e==null||e.removeStack(a),e==null||e.removeRegistry(a)},s=jk("updateHTMLAttrs",(a,i,u)=>{const d=typeof a=="string"?window==null?void 0:window.document.querySelector(a):Ur(a);d&&(i==="class"?d.classList.toggle(Cd,u===Cd):d.setAttribute(i,u))});return ma(()=>{s("body","class","")}),tt(()=>e==null?void 0:e.countStack.value,a=>{a!==void 0&&s("body","class",a>0?Cd:"")}),{...e,dispose:t}},Jk=(e,t)=>{const{pushRegistry:s,pushStack:a,removeStack:i,stack:u,dispose:d,countStack:h}=Kk(),m=Yn();if(!m||m.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");s==null||s(m),ma(()=>{d(m)});const y=(v,b)=>{v?a==null||a(m):b&&!v&&(i==null||i(m))};return y(t,t),tt(e,y),{activePosition:ge(()=>u==null?void 0:u.value.findIndex(v=>{var b,T;return ot((b=v.exposed)==null?void 0:b.id)===ot((T=m.exposed)==null?void 0:T.id)})),activeModalCount:h,stackWithoutSelf:ge(()=>(u==null?void 0:u.value.filter(v=>{var b,T;return ot((b=v.exposed)==null?void 0:b.id)!==ot((T=m.exposed)==null?void 0:T.id)}))??[])}},Op=e=>{if(e)return typeof e=="string"?typeof document>"u"?void 0:document.getElementById(e)??document.querySelector(e)??void 0:e.$el??e},Ap=(e,t)=>e.setAttribute("data-bs-theme",t),Sv={mounted(e,t){Ap(e,t.value)},updated(e,t){Ap(e,t.value)}},Qk=/\s+/,eL=/^#/,tL=/^#[A-Za-z]+[\w\-:.]*$/;function nL(e,t){var s,a;return(t.ctx===e.instance.$?(s=iL(t,e.instance.$))==null?void 0:s.provides:(a=t.ctx)==null?void 0:a.provides)??e.instance.$.provides}function iL(e,t){const s=new Set,a=u=>{var d,h;for(const m of u){if(!m)continue;if(m===e||m.el&&e.el&&m.el===e.el)return!0;s.add(m);let y;if(m.suspense?y=a([m.ssContent]):Array.isArray(m.children)?y=a(m.children):(d=m.component)!=null&&d.vnode&&(y=a([(h=m.component)==null?void 0:h.subTree])),y)return y;s.delete(m)}return!1};if(!a([t.subTree]))return console.error("Could not find original vnode,  will not inherit provides"),t;const i=Array.from(s).reverse();for(const u of i)if(u.component)return u.component;return t}const rL=(e,t)=>{const{modifiers:s,arg:a,value:i}=e,u=Object.keys(s||{}),d=typeof i=="string"?i.split(Qk):i;if(t.tagName.toLowerCase()==="a"){const h=t.getAttribute("href")||"";tL.test(h)&&u.push(h.replace(eL,""))}return Array.prototype.concat.apply([],[a,d]).forEach(h=>typeof h=="string"&&u.push(h)),u.filter((h,m,y)=>h&&y.indexOf(h)===m)},Rp=(e,t,s,a)=>{var i;const d=(i=nL(s,a)[Uc])==null?void 0:i.map;e.forEach(h=>{if(d!=null&&d[h]){d[h].toggle();return}const m=document.getElementById(h);m!==null&&m.dispatchEvent(new Event("bv-toggle"))}),setTimeout(()=>Cv(e,t),50)},Cv=(e,t)=>{let s=!1;e.forEach(a=>{const i=document.getElementById(a);i!=null&&i.classList.contains("show")&&(s=!0),i!=null&&i.classList.contains("closing")&&(s=!1)}),t.setAttribute("aria-expanded",s?"true":"false"),t.classList.remove(s?"collapsed":"not-collapsed"),t.classList.add(s?"not-collapsed":"collapsed")},Dp=(e,t,s)=>{const a=rL(t,e);a.length!==0&&(e.__toggle?setTimeout(()=>{e.removeEventListener("click",e.__toggle),e.__toggle=()=>Rp(a,e,t,s),e.addEventListener("click",e.__toggle)},0):(e.__toggle=()=>Rp(a,e,t,s),e.addEventListener("click",e.__toggle)),e.setAttribute("aria-controls",a.join(" ")),Cv(a,e))},sL={mounted:Dp,updated:Dp,unmounted(e){e.removeEventListener("click",e.__toggle),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded")}};function aL(e,t=Pv("injectSelf")){const{provides:s}=t;if(s&&e in s)return s[e]}function Pv(e,t){const s=Yn();if(!s)throw new Error(`[Bvn] ${e} must be called from inside a setup function`);return s}const oL=(e="")=>e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase(),Bp=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);function Iv(e={},t={},s){const a={};for(const i in e)a[i]=e[i];for(const i in t){const u=e[i],d=t[i];if(Bp(u)&&Bp(d)){a[i]=Iv(u,d);continue}a[i]=d}return a}const uL=(e,t)=>{var s,a;return typeof((s=e.props)==null?void 0:s[t])<"u"||typeof((a=e.props)==null?void 0:a[oL(t)])<"u"};function lL(e={},t){const s=sn(Gl,Ie({})),a=Pv("useDefaults");if(t=t??a.type.name??a.type.__name,!t)throw new Error("[Bvn] Could not determine component name");const i=ge(()=>{var m;return(m=s.value)==null?void 0:m[e._as??t]}),u=new Proxy(e,{get(m,y){var v,b,T,P;const O=Reflect.get(m,y);return y==="class"||y==="style"?[(v=i.value)==null?void 0:v[y],O].filter(B=>B!=null):typeof y=="string"&&!uL(a.vnode,y)?((b=i.value)==null?void 0:b[y])??((P=(T=s.value)==null?void 0:T.global)==null?void 0:P[y])??O:O}}),d=Dn();dw(()=>{if(i.value){const m=Object.entries(i.value).filter(([y])=>y.startsWith(y[0].toUpperCase()));d.value=m.length?Object.fromEntries(m):void 0}else d.value=void 0});function h(){const m=aL(Gl,a);la(Gl,ge(()=>d.value?Iv((m==null?void 0:m.value)??{},d.value):m==null?void 0:m.value))}return{props:u,provideSubDefaults:h}}function an(e,t){const{props:s,provideSubDefaults:a}=lL(e,t);return a(),s}const yo=(e,t)=>{const s=B_();return ge(()=>ot(e)||eh(s||"",t))},Nv=yt({name:"ConditionalTeleport",inheritAttrs:!1,props:{to:{type:[String,Object],default:null},disabled:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t}){return()=>{var s,a;return e.to?Zr(Gb,{to:e.to,disabled:e.disabled||!e.to},[(a=t.default)==null?void 0:a.call(t,{})]):(s=t.default)==null?void 0:s.call(t,{})}}});var cL=Object.defineProperty,dL=(e,t,s)=>t in e?cL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ar=(e,t,s)=>dL(e,typeof t!="symbol"?t+"":t,s);class rc{constructor(t,s={}){if(Ar(this,"cancelable",!0),Ar(this,"componentId",null),Ar(this,"_defaultPrevented",!1),Ar(this,"eventType",""),Ar(this,"nativeEvent",null),Ar(this,"_preventDefault"),Ar(this,"relatedTarget",null),Ar(this,"target",null),!t)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,rc.Defaults,s,{eventType:t}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(t){this._defaultPrevented=t}get preventDefault(){return this._preventDefault}set preventDefault(t){this._preventDefault=t}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class fL extends rc{constructor(t,s={}){super(t,s),Ar(this,"trigger",null),Object.assign(this,rc.Defaults,s,{eventType:t})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Fp={name:"fade",enterActiveClass:"",enterFromClass:"showing",enterToClass:"",leaveActiveClass:"",leaveFromClass:"",leaveToClass:"showing",css:!0},th=(e,t,s,a,i,u={transitionProps:{},showFn:()=>{},hideFn:()=>{}})=>{var d;let h=!1;const m=!!e.value&&!t.initialAnimation||t.visible||!1,y=Ie(m),v=Ie(m),b=Ie(m);let T=typeof e.value!="boolean";tt(e,()=>{if(T=typeof e.value!="boolean",h){h=!1;return}e.value?q():_()});const P=Ie(m),O=Ie(!1),B=ge(()=>t.noAnimation||t.noFade||P.value||!1);Mi(()=>{var Ee;if(!t.show&&m){const Te=z("show",{cancelable:!0});if(s("show",Te),Te.defaultPrevented){s("show-prevented",z("show-prevented"));return}P.value=!0,e.value||(h=!0,e.value=!0),v.value=!0,b.value=!0,W.value=!0,Fe.value=!0,$e.value=!0,y.value=!0,(Ee=u.showFn)==null||Ee.call(u)}else(t.show||e.value&&t.initialAnimation)&&q()}),tt(()=>t.visible,Ee=>{P.value=!0,li(()=>{Ee&&(W.value=!0),Ee?q():_()})}),tt(()=>t.show,Ee=>{Ee?q():_()}),ii(a,"bv-toggle",()=>{e.value=!e.value});const z=(Ee,Te={})=>new fL(Ee,{cancelable:!1,target:(a==null?void 0:a.value)||null,relatedTarget:null,trigger:null,...Te,componentId:i==null?void 0:i.value});let R,$;const q=()=>{if(y.value&&!$)return;const Ee=z("show",{cancelable:!0});if(s("show",Ee),Ee.defaultPrevented){s("show-prevented",z("show-prevented")),W.value&&(W.value=!1),e.value&&!T&&(h=!0,li(()=>{e.value=!1}));return}$&&(clearTimeout($),$=void 0),v.value=!0,b.value=!0,requestAnimationFrame(()=>{var Te;R=setTimeout(()=>{var de;R=void 0,y.value=!0,(de=u.showFn)==null||de.call(u),e.value||(h=!0,li(()=>{e.value=!0}))},P.value?0:typeof t.delay=="number"?t.delay:((Te=t.delay)==null?void 0:Te.show)||0)})},_=Ee=>{var Te;if(!y.value&&!R)return;const de=z("hide",{cancelable:!0,trigger:Ee}),K=z(Ee||"ignore",{cancelable:!0,trigger:Ee});if(Ee==="backdrop"&&t.noCloseOnBackdrop||Ee==="esc"&&t.noCloseOnEsc){s("hide-prevented",z("hide-prevented"));return}if(Ee&&s(Ee,K),s("hide",de),de.defaultPrevented||K.defaultPrevented){s("hide-prevented",z("hide-prevented")),e.value||li(()=>{h=!0,e.value=!0});return}R&&(clearTimeout(R),R=void 0,O.value||(v.value=!1),b.value=!1),$=setTimeout(()=>{var Se;$=void 0,Y.value=!0,y.value=!1,(Se=u.hideFn)==null||Se.call(u),e.value&&(h=!0,e.value=T?0:!1)},P.value?0:typeof t.delay=="number"?t.delay:((Te=t.delay)==null?void 0:Te.hide)||0)},x=Np(Ee=>_(Ee),500),k=Np(()=>q(),500),C=()=>{const Ee=z("toggle",{cancelable:!0});if(s("toggle",Ee),Ee.defaultPrevented){s("toggle-prevented",z("toggle-prevented"));return}y.value?_():q()},F=(d=sn(Uc,void 0))==null?void 0:d({id:i.value,toggle:C,show:q,hide:_,value:Rn(y)});Uu(()=>{F==null||F.unregister()});const D=Ie(!1),A=()=>{t.lazy===!0&&(D.value=!0)},Y=Ie(!1),X=Ie(m),W=Ie(m),j=Ee=>{var Te,de,K,Se;(de=(Te=u.transitionProps)==null?void 0:Te.onBeforeEnter)==null||de.call(Te,Ee),(Se=(K=t.transitionProps)==null?void 0:K.onBeforeEnter)==null||Se.call(K,Ee),X.value=!0},te=Ee=>{var Te,de,K,Se;requestAnimationFrame(()=>{requestAnimationFrame(()=>{W.value=!0})}),(de=(Te=u.transitionProps)==null?void 0:Te.onEnter)==null||de.call(Te,Ee),(Se=(K=t.transitionProps)==null?void 0:K.onEnter)==null||Se.call(K,Ee)},G=Ee=>{var Te,de,K,Se;s("shown",z("shown")),A(),(de=(Te=u.transitionProps)==null?void 0:Te.onAfterEnter)==null||de.call(Te,Ee),(Se=(K=t.transitionProps)==null?void 0:K.onAfterEnter)==null||Se.call(K,Ee),P.value&&requestAnimationFrame(()=>{P.value=!1}),O.value&&(O.value=!1)},ae=Ee=>{var Te,de,K,Se;Y.value||(Y.value=!0),(de=(Te=u.transitionProps)==null?void 0:Te.onBeforeLeave)==null||de.call(Te,Ee),(Se=(K=t.transitionProps)==null?void 0:K.onBeforeLeave)==null||Se.call(K,Ee)},se=Ee=>{var Te,de,K,Se;W.value=!1,(de=(Te=u.transitionProps)==null?void 0:Te.onLeave)==null||de.call(Te,Ee),(Se=(K=t.transitionProps)==null?void 0:K.onLeave)==null||Se.call(K,Ee)},ve=Ee=>{var Te,de,K,Se;s("hidden",z("hidden")),(de=(Te=u.transitionProps)==null?void 0:Te.onAfterLeave)==null||de.call(Te,Ee),(Se=(K=t.transitionProps)==null?void 0:K.onAfterLeave)==null||Se.call(K,Ee),Y.value=!1,X.value=!1,P.value&&requestAnimationFrame(()=>{P.value=!1}),requestAnimationFrame(()=>{O.value||(v.value=!1)})},ce=ge(()=>O.value===!0||X.value===!0||t.lazy===!1||t.lazy===!0&&D.value===!0&&t.unmountLazy===!1),ke=Ie(!1);tt(W,Ee=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{ke.value=Ee},32)})})})})});const Fe=Ie(!1),$e=Ie(!1),Oe={...u.transitionProps,onBeforeEnter:j,onEnter:te,onAfterEnter:G,onBeforeLeave:ae,onLeave:se,onAfterLeave:ve};return{showRef:y,renderRef:v,renderBackdropRef:b,isVisible:W,isActive:X,trapActive:ke,show:q,hide:_,toggle:C,throttleHide:x,throttleShow:k,buildTriggerableEvent:z,computedNoAnimation:B,localNoAnimation:P,localTemporaryHide:O,isLeaving:Y,transitionProps:{...Fp,...t.transitionProps,...Oe},lazyLoadCompleted:D,markLazyLoadCompleted:A,contentShowing:ce,backdropReady:$e,backdropVisible:Fe,backdropTransitionProps:{...Fp,onBeforeEnter:()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{Fe.value=!0})}),$e.value=!1},onAfterEnter:()=>{$e.value=!0},onBeforeLeave:()=>{Fe.value=!1},onAfterLeave:()=>{$e.value=!1,requestAnimationFrame(()=>{b.value=!1})}}}},Mv=(e,t)=>{const s=e.__vccOpts||e;for(const[a,i]of t)s[a]=i;return s},Ov=["top","right","bottom","left"],zp=["start","end"],Gp=Ov.reduce((e,t)=>e.concat(t,t+"-"+zp[0],t+"-"+zp[1]),[]),ji=Math.min,Nn=Math.max,sc=Math.round,Ll=Math.floor,pr=e=>({x:e,y:e}),hL={left:"right",right:"left",bottom:"top",top:"bottom"},pL={start:"end",end:"start"};function sf(e,t,s){return Nn(e,ji(t,s))}function Qr(e,t){return typeof e=="function"?e(t):e}function Ii(e){return e.split("-")[0]}function Gi(e){return e.split("-")[1]}function Av(e){return e==="x"?"y":"x"}function nh(e){return e==="y"?"height":"width"}function Es(e){return["top","bottom"].includes(Ii(e))?"y":"x"}function ih(e){return Av(Es(e))}function Rv(e,t,s){s===void 0&&(s=!1);const a=Gi(e),i=ih(e),u=nh(i);let d=i==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(d=oc(d)),[d,oc(d)]}function mL(e){const t=oc(e);return[ac(e),t,ac(t)]}function ac(e){return e.replace(/start|end/g,t=>pL[t])}function gL(e,t,s){const a=["left","right"],i=["right","left"],u=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:a:t?a:i;case"left":case"right":return t?u:d;default:return[]}}function _L(e,t,s,a){const i=Gi(e);let u=gL(Ii(e),s==="start",a);return i&&(u=u.map(d=>d+"-"+i),t&&(u=u.concat(u.map(ac)))),u}function oc(e){return e.replace(/left|right|bottom|top/g,t=>hL[t])}function vL(e){return{top:0,right:0,bottom:0,left:0,...e}}function rh(e){return typeof e!="number"?vL(e):{top:e,right:e,bottom:e,left:e}}function so(e){const{x:t,y:s,width:a,height:i}=e;return{width:a,height:i,top:s,left:t,right:t+a,bottom:s+i,x:t,y:s}}function Up(e,t,s){let{reference:a,floating:i}=e;const u=Es(t),d=ih(t),h=nh(d),m=Ii(t),y=u==="y",v=a.x+a.width/2-i.width/2,b=a.y+a.height/2-i.height/2,T=a[h]/2-i[h]/2;let P;switch(m){case"top":P={x:v,y:a.y-i.height};break;case"bottom":P={x:v,y:a.y+a.height};break;case"right":P={x:a.x+a.width,y:b};break;case"left":P={x:a.x-i.width,y:b};break;default:P={x:a.x,y:a.y}}switch(Gi(t)){case"start":P[d]-=T*(s&&y?-1:1);break;case"end":P[d]+=T*(s&&y?-1:1);break}return P}const yL=async(e,t,s)=>{const{placement:a="bottom",strategy:i="absolute",middleware:u=[],platform:d}=s,h=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let y=await d.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y:b}=Up(y,a,m),T=a,P={},O=0;for(let B=0;B<h.length;B++){const{name:z,fn:R}=h[B],{x:$,y:q,data:_,reset:x}=await R({x:v,y:b,initialPlacement:a,placement:T,strategy:i,middlewareData:P,rects:y,platform:d,elements:{reference:e,floating:t}});v=$??v,b=q??b,P={...P,[z]:{...P[z],..._}},x&&O<=50&&(O++,typeof x=="object"&&(x.placement&&(T=x.placement),x.rects&&(y=x.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:v,y:b}=Up(y,T,m)),B=-1)}return{x:v,y:b,placement:T,strategy:i,middlewareData:P}};async function ao(e,t){var s;t===void 0&&(t={});const{x:a,y:i,platform:u,rects:d,elements:h,strategy:m}=e,{boundary:y="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:T=!1,padding:P=0}=Qr(t,e),O=rh(P),z=h[T?b==="floating"?"reference":"floating":b],R=so(await u.getClippingRect({element:(s=await(u.isElement==null?void 0:u.isElement(z)))==null||s?z:z.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(h.floating)),boundary:y,rootBoundary:v,strategy:m})),$=b==="floating"?{x:a,y:i,width:d.floating.width,height:d.floating.height}:d.reference,q=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h.floating)),_=await(u.isElement==null?void 0:u.isElement(q))?await(u.getScale==null?void 0:u.getScale(q))||{x:1,y:1}:{x:1,y:1},x=so(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:$,offsetParent:q,strategy:m}):$);return{top:(R.top-x.top+O.top)/_.y,bottom:(x.bottom-R.bottom+O.bottom)/_.y,left:(R.left-x.left+O.left)/_.x,right:(x.right-R.right+O.right)/_.x}}const bL=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:i,rects:u,platform:d,elements:h,middlewareData:m}=t,{element:y,padding:v=0}=Qr(e,t)||{};if(y==null)return{};const b=rh(v),T={x:s,y:a},P=ih(i),O=nh(P),B=await d.getDimensions(y),z=P==="y",R=z?"top":"left",$=z?"bottom":"right",q=z?"clientHeight":"clientWidth",_=u.reference[O]+u.reference[P]-T[P]-u.floating[O],x=T[P]-u.reference[P],k=await(d.getOffsetParent==null?void 0:d.getOffsetParent(y));let C=k?k[q]:0;(!C||!await(d.isElement==null?void 0:d.isElement(k)))&&(C=h.floating[q]||u.floating[O]);const F=_/2-x/2,D=C/2-B[O]/2-1,A=ji(b[R],D),Y=ji(b[$],D),X=A,W=C-B[O]-Y,j=C/2-B[O]/2+F,te=sf(X,j,W),G=!m.arrow&&Gi(i)!=null&&j!==te&&u.reference[O]/2-(j<X?A:Y)-B[O]/2<0,ae=G?j<X?j-X:j-W:0;return{[P]:T[P]+ae,data:{[P]:te,centerOffset:j-te-ae,...G&&{alignmentOffset:ae}},reset:G}}});function wL(e,t,s){return(e?[...s.filter(i=>Gi(i)===e),...s.filter(i=>Gi(i)!==e)]:s.filter(i=>Ii(i)===i)).filter(i=>e?Gi(i)===e||(t?ac(i)!==i:!1):!0)}const kL=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var s,a,i;const{rects:u,middlewareData:d,placement:h,platform:m,elements:y}=t,{crossAxis:v=!1,alignment:b,allowedPlacements:T=Gp,autoAlignment:P=!0,...O}=Qr(e,t),B=b!==void 0||T===Gp?wL(b||null,P,T):T,z=await ao(t,O),R=((s=d.autoPlacement)==null?void 0:s.index)||0,$=B[R];if($==null)return{};const q=Rv($,u,await(m.isRTL==null?void 0:m.isRTL(y.floating)));if(h!==$)return{reset:{placement:B[0]}};const _=[z[Ii($)],z[q[0]],z[q[1]]],x=[...((a=d.autoPlacement)==null?void 0:a.overflows)||[],{placement:$,overflows:_}],k=B[R+1];if(k)return{data:{index:R+1,overflows:x},reset:{placement:k}};const C=x.map(A=>{const Y=Gi(A.placement);return[A.placement,Y&&v?A.overflows.slice(0,2).reduce((X,W)=>X+W,0):A.overflows[0],A.overflows]}).sort((A,Y)=>A[1]-Y[1]),D=((i=C.filter(A=>A[2].slice(0,Gi(A[0])?2:3).every(Y=>Y<=0))[0])==null?void 0:i[0])||C[0][0];return D!==h?{data:{index:R+1,overflows:x},reset:{placement:D}}:{}}}},LL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:i,middlewareData:u,rects:d,initialPlacement:h,platform:m,elements:y}=t,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:T,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:B=!0,...z}=Qr(e,t);if((s=u.arrow)!=null&&s.alignmentOffset)return{};const R=Ii(i),$=Es(h),q=Ii(h)===h,_=await(m.isRTL==null?void 0:m.isRTL(y.floating)),x=T||(q||!B?[oc(h)]:mL(h)),k=O!=="none";!T&&k&&x.push(..._L(h,B,O,_));const C=[h,...x],F=await ao(t,z),D=[];let A=((a=u.flip)==null?void 0:a.overflows)||[];if(v&&D.push(F[R]),b){const j=Rv(i,d,_);D.push(F[j[0]],F[j[1]])}if(A=[...A,{placement:i,overflows:D}],!D.every(j=>j<=0)){var Y,X;const j=(((Y=u.flip)==null?void 0:Y.index)||0)+1,te=C[j];if(te)return{data:{index:j,overflows:A},reset:{placement:te}};let G=(X=A.filter(ae=>ae.overflows[0]<=0).sort((ae,se)=>ae.overflows[1]-se.overflows[1])[0])==null?void 0:X.placement;if(!G)switch(P){case"bestFit":{var W;const ae=(W=A.filter(se=>{if(k){const ve=Es(se.placement);return ve===$||ve==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ve=>ve>0).reduce((ve,ce)=>ve+ce,0)]).sort((se,ve)=>se[1]-ve[1])[0])==null?void 0:W[0];ae&&(G=ae);break}case"initialPlacement":G=h;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function $p(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vp(e){return Ov.some(t=>e[t]>=0)}const EL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...i}=Qr(e,t);switch(a){case"referenceHidden":{const u=await ao(t,{...i,elementContext:"reference"}),d=$p(u,s.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Vp(d)}}}case"escaped":{const u=await ao(t,{...i,altBoundary:!0}),d=$p(u,s.floating);return{data:{escapedOffsets:d,escaped:Vp(d)}}}default:return{}}}}};function Dv(e){const t=ji(...e.map(u=>u.left)),s=ji(...e.map(u=>u.top)),a=Nn(...e.map(u=>u.right)),i=Nn(...e.map(u=>u.bottom));return{x:t,y:s,width:a-t,height:i-s}}function xL(e){const t=e.slice().sort((i,u)=>i.y-u.y),s=[];let a=null;for(let i=0;i<t.length;i++){const u=t[i];!a||u.y-a.y>a.height/2?s.push([u]):s[s.length-1].push(u),a=u}return s.map(i=>so(Dv(i)))}const TL=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:s,elements:a,rects:i,platform:u,strategy:d}=t,{padding:h=2,x:m,y}=Qr(e,t),v=Array.from(await(u.getClientRects==null?void 0:u.getClientRects(a.reference))||[]),b=xL(v),T=so(Dv(v)),P=rh(h);function O(){if(b.length===2&&b[0].left>b[1].right&&m!=null&&y!=null)return b.find(z=>m>z.left-P.left&&m<z.right+P.right&&y>z.top-P.top&&y<z.bottom+P.bottom)||T;if(b.length>=2){if(Es(s)==="y"){const A=b[0],Y=b[b.length-1],X=Ii(s)==="top",W=A.top,j=Y.bottom,te=X?A.left:Y.left,G=X?A.right:Y.right,ae=G-te,se=j-W;return{top:W,bottom:j,left:te,right:G,width:ae,height:se,x:te,y:W}}const z=Ii(s)==="left",R=Nn(...b.map(A=>A.right)),$=ji(...b.map(A=>A.left)),q=b.filter(A=>z?A.left===$:A.right===R),_=q[0].top,x=q[q.length-1].bottom,k=$,C=R,F=C-k,D=x-_;return{top:_,bottom:x,left:k,right:C,width:F,height:D,x:k,y:_}}return T}const B=await u.getElementRects({reference:{getBoundingClientRect:O},floating:a.floating,strategy:d});return i.reference.x!==B.reference.x||i.reference.y!==B.reference.y||i.reference.width!==B.reference.width||i.reference.height!==B.reference.height?{reset:{rects:B}}:{}}}};async function SL(e,t){const{placement:s,platform:a,elements:i}=e,u=await(a.isRTL==null?void 0:a.isRTL(i.floating)),d=Ii(s),h=Gi(s),m=Es(s)==="y",y=["left","top"].includes(d)?-1:1,v=u&&m?-1:1,b=Qr(t,e);let{mainAxis:T,crossAxis:P,alignmentAxis:O}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return h&&typeof O=="number"&&(P=h==="end"?O*-1:O),m?{x:P*v,y:T*y}:{x:T*y,y:P*v}}const CL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:i,y:u,placement:d,middlewareData:h}=t,m=await SL(t,e);return d===((s=h.offset)==null?void 0:s.placement)&&(a=h.arrow)!=null&&a.alignmentOffset?{}:{x:i+m.x,y:u+m.y,data:{...m,placement:d}}}}},PL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:i}=t,{mainAxis:u=!0,crossAxis:d=!1,limiter:h={fn:z=>{let{x:R,y:$}=z;return{x:R,y:$}}},...m}=Qr(e,t),y={x:s,y:a},v=await ao(t,m),b=Es(Ii(i)),T=Av(b);let P=y[T],O=y[b];if(u){const z=T==="y"?"top":"left",R=T==="y"?"bottom":"right",$=P+v[z],q=P-v[R];P=sf($,P,q)}if(d){const z=b==="y"?"top":"left",R=b==="y"?"bottom":"right",$=O+v[z],q=O-v[R];O=sf($,O,q)}const B=h.fn({...t,[T]:P,[b]:O});return{...B,data:{x:B.x-s,y:B.y-a,enabled:{[T]:u,[b]:d}}}}}},IL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:i,rects:u,platform:d,elements:h}=t,{apply:m=()=>{},...y}=Qr(e,t),v=await ao(t,y),b=Ii(i),T=Gi(i),P=Es(i)==="y",{width:O,height:B}=u.floating;let z,R;b==="top"||b==="bottom"?(z=b,R=T===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(R=b,z=T==="end"?"top":"bottom");const $=B-v.top-v.bottom,q=O-v.left-v.right,_=ji(B-v[z],$),x=ji(O-v[R],q),k=!t.middlewareData.shift;let C=_,F=x;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(F=q),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(C=$),k&&!T){const A=Nn(v.left,0),Y=Nn(v.right,0),X=Nn(v.top,0),W=Nn(v.bottom,0);P?F=O-2*(A!==0||Y!==0?A+Y:Nn(v.left,v.right)):C=B-2*(X!==0||W!==0?X+W:Nn(v.top,v.bottom))}await m({...t,availableWidth:F,availableHeight:C});const D=await d.getDimensions(h.floating);return O!==D.width||B!==D.height?{reset:{rects:!0}}:{}}}};function $c(){return typeof window<"u"}function ga(e){return sh(e)?(e.nodeName||"").toLowerCase():"#document"}function fi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function br(e){var t;return(t=(sh(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sh(e){return $c()?e instanceof Node||e instanceof fi(e).Node:!1}function Wi(e){return $c()?e instanceof Element||e instanceof fi(e).Element:!1}function vr(e){return $c()?e instanceof HTMLElement||e instanceof fi(e).HTMLElement:!1}function Hp(e){return!$c()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fi(e).ShadowRoot}function ju(e){const{overflow:t,overflowX:s,overflowY:a,display:i}=Zi(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!["inline","contents"].includes(i)}function NL(e){return["table","td","th"].includes(ga(e))}function Vc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ah(e){const t=oh(),s=Wi(e)?Zi(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function ML(e){let t=xs(e);for(;vr(t)&&!oo(t);){if(ah(t))return t;if(Vc(t))return null;t=xs(t)}return null}function oh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oo(e){return["html","body","#document"].includes(ga(e))}function Zi(e){return fi(e).getComputedStyle(e)}function Hc(e){return Wi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xs(e){if(ga(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hp(e)&&e.host||br(e);return Hp(t)?t.host:t}function Bv(e){const t=xs(e);return oo(t)?e.ownerDocument?e.ownerDocument.body:e.body:vr(t)&&ju(t)?t:Bv(t)}function Iu(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=Bv(e),u=i===((a=e.ownerDocument)==null?void 0:a.body),d=fi(i);if(u){const h=af(d);return t.concat(d,d.visualViewport||[],ju(i)?i:[],h&&s?Iu(h):[])}return t.concat(i,Iu(i,[],s))}function af(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Fv(e){const t=Zi(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const i=vr(e),u=i?e.offsetWidth:s,d=i?e.offsetHeight:a,h=sc(s)!==u||sc(a)!==d;return h&&(s=u,a=d),{width:s,height:a,$:h}}function uh(e){return Wi(e)?e:e.contextElement}function eo(e){const t=uh(e);if(!vr(t))return pr(1);const s=t.getBoundingClientRect(),{width:a,height:i,$:u}=Fv(t);let d=(u?sc(s.width):s.width)/a,h=(u?sc(s.height):s.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const OL=pr(0);function zv(e){const t=fi(e);return!oh()||!t.visualViewport?OL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function AL(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==fi(e)?!1:t}function fa(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),u=uh(e);let d=pr(1);t&&(a?Wi(a)&&(d=eo(a)):d=eo(e));const h=AL(u,s,a)?zv(u):pr(0);let m=(i.left+h.x)/d.x,y=(i.top+h.y)/d.y,v=i.width/d.x,b=i.height/d.y;if(u){const T=fi(u),P=a&&Wi(a)?fi(a):a;let O=T,B=af(O);for(;B&&a&&P!==O;){const z=eo(B),R=B.getBoundingClientRect(),$=Zi(B),q=R.left+(B.clientLeft+parseFloat($.paddingLeft))*z.x,_=R.top+(B.clientTop+parseFloat($.paddingTop))*z.y;m*=z.x,y*=z.y,v*=z.x,b*=z.y,m+=q,y+=_,O=fi(B),B=af(O)}}return so({width:v,height:b,x:m,y})}function lh(e,t){const s=Hc(e).scrollLeft;return t?t.left+s:fa(br(e)).left+s}function Gv(e,t,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=a.left+t.scrollLeft-(s?0:lh(e,a)),u=a.top+t.scrollTop;return{x:i,y:u}}function RL(e){let{elements:t,rect:s,offsetParent:a,strategy:i}=e;const u=i==="fixed",d=br(a),h=t?Vc(t.floating):!1;if(a===d||h&&u)return s;let m={scrollLeft:0,scrollTop:0},y=pr(1);const v=pr(0),b=vr(a);if((b||!b&&!u)&&((ga(a)!=="body"||ju(d))&&(m=Hc(a)),vr(a))){const P=fa(a);y=eo(a),v.x=P.x+a.clientLeft,v.y=P.y+a.clientTop}const T=d&&!b&&!u?Gv(d,m,!0):pr(0);return{width:s.width*y.x,height:s.height*y.y,x:s.x*y.x-m.scrollLeft*y.x+v.x+T.x,y:s.y*y.y-m.scrollTop*y.y+v.y+T.y}}function DL(e){return Array.from(e.getClientRects())}function BL(e){const t=br(e),s=Hc(e),a=e.ownerDocument.body,i=Nn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),u=Nn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let d=-s.scrollLeft+lh(e);const h=-s.scrollTop;return Zi(a).direction==="rtl"&&(d+=Nn(t.clientWidth,a.clientWidth)-i),{width:i,height:u,x:d,y:h}}function FL(e,t){const s=fi(e),a=br(e),i=s.visualViewport;let u=a.clientWidth,d=a.clientHeight,h=0,m=0;if(i){u=i.width,d=i.height;const y=oh();(!y||y&&t==="fixed")&&(h=i.offsetLeft,m=i.offsetTop)}return{width:u,height:d,x:h,y:m}}function zL(e,t){const s=fa(e,!0,t==="fixed"),a=s.top+e.clientTop,i=s.left+e.clientLeft,u=vr(e)?eo(e):pr(1),d=e.clientWidth*u.x,h=e.clientHeight*u.y,m=i*u.x,y=a*u.y;return{width:d,height:h,x:m,y}}function qp(e,t,s){let a;if(t==="viewport")a=FL(e,s);else if(t==="document")a=BL(br(e));else if(Wi(t))a=zL(t,s);else{const i=zv(e);a={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return so(a)}function Uv(e,t){const s=xs(e);return s===t||!Wi(s)||oo(s)?!1:Zi(s).position==="fixed"||Uv(s,t)}function GL(e,t){const s=t.get(e);if(s)return s;let a=Iu(e,[],!1).filter(h=>Wi(h)&&ga(h)!=="body"),i=null;const u=Zi(e).position==="fixed";let d=u?xs(e):e;for(;Wi(d)&&!oo(d);){const h=Zi(d),m=ah(d);!m&&h.position==="fixed"&&(i=null),(u?!m&&!i:!m&&h.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ju(d)&&!m&&Uv(e,d))?a=a.filter(v=>v!==d):i=h,d=xs(d)}return t.set(e,a),a}function UL(e){let{element:t,boundary:s,rootBoundary:a,strategy:i}=e;const d=[...s==="clippingAncestors"?Vc(t)?[]:GL(t,this._c):[].concat(s),a],h=d[0],m=d.reduce((y,v)=>{const b=qp(t,v,i);return y.top=Nn(b.top,y.top),y.right=ji(b.right,y.right),y.bottom=ji(b.bottom,y.bottom),y.left=Nn(b.left,y.left),y},qp(t,h,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function $L(e){const{width:t,height:s}=Fv(e);return{width:t,height:s}}function VL(e,t,s){const a=vr(t),i=br(t),u=s==="fixed",d=fa(e,!0,u,t);let h={scrollLeft:0,scrollTop:0};const m=pr(0);if(a||!a&&!u)if((ga(t)!=="body"||ju(i))&&(h=Hc(t)),a){const T=fa(t,!0,u,t);m.x=T.x+t.clientLeft,m.y=T.y+t.clientTop}else i&&(m.x=lh(i));const y=i&&!a&&!u?Gv(i,h):pr(0),v=d.left+h.scrollLeft-m.x-y.x,b=d.top+h.scrollTop-m.y-y.y;return{x:v,y:b,width:d.width,height:d.height}}function Pd(e){return Zi(e).position==="static"}function jp(e,t){if(!vr(e)||Zi(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return br(e)===s&&(s=s.ownerDocument.body),s}function $v(e,t){const s=fi(e);if(Vc(e))return s;if(!vr(e)){let i=xs(e);for(;i&&!oo(i);){if(Wi(i)&&!Pd(i))return i;i=xs(i)}return s}let a=jp(e,t);for(;a&&NL(a)&&Pd(a);)a=jp(a,t);return a&&oo(a)&&Pd(a)&&!ah(a)?s:a||ML(e)||s}const HL=async function(e){const t=this.getOffsetParent||$v,s=this.getDimensions,a=await s(e.floating);return{reference:VL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function qL(e){return Zi(e).direction==="rtl"}const jL={convertOffsetParentRelativeRectToViewportRelativeRect:RL,getDocumentElement:br,getClippingRect:UL,getOffsetParent:$v,getElementRects:HL,getClientRects:DL,getDimensions:$L,getScale:eo,isElement:Wi,isRTL:qL};function WL(e,t){let s=null,a;const i=br(e);function u(){var h;clearTimeout(a),(h=s)==null||h.disconnect(),s=null}function d(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),u();const{left:y,top:v,width:b,height:T}=e.getBoundingClientRect();if(h||t(),!b||!T)return;const P=Ll(v),O=Ll(i.clientWidth-(y+b)),B=Ll(i.clientHeight-(v+T)),z=Ll(y),$={rootMargin:-P+"px "+-O+"px "+-B+"px "+-z+"px",threshold:Nn(0,ji(1,m))||1};let q=!0;function _(x){const k=x[0].intersectionRatio;if(k!==m){if(!q)return d();k?d(!1,k):a=setTimeout(()=>{d(!1,1e-7)},1e3)}q=!1}try{s=new IntersectionObserver(_,{...$,root:i.ownerDocument})}catch{s=new IntersectionObserver(_,$)}s.observe(e)}return d(!0),u}function ZL(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,y=uh(e),v=i||u?[...y?Iu(y):[],...Iu(t)]:[];v.forEach(R=>{i&&R.addEventListener("scroll",s,{passive:!0}),u&&R.addEventListener("resize",s)});const b=y&&h?WL(y,s):null;let T=-1,P=null;d&&(P=new ResizeObserver(R=>{let[$]=R;$&&$.target===y&&P&&(P.unobserve(t),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var q;(q=P)==null||q.observe(t)})),s()}),y&&!m&&P.observe(y),P.observe(t));let O,B=m?fa(e):null;m&&z();function z(){const R=fa(e);B&&(R.x!==B.x||R.y!==B.y||R.width!==B.width||R.height!==B.height)&&s(),B=R,O=requestAnimationFrame(z)}return s(),()=>{var R;v.forEach($=>{i&&$.removeEventListener("scroll",s),u&&$.removeEventListener("resize",s)}),b==null||b(),(R=P)==null||R.disconnect(),P=null,m&&cancelAnimationFrame(O)}}const YL=CL,XL=kL,KL=PL,JL=LL,QL=IL,eE=EL,tE=bL,nE=TL,iE=(e,t,s)=>{const a=new Map,i={platform:jL,...s},u={...i.platform,_c:a};return yL(e,t,{...i,platform:u})};function rE(e){return e!=null&&typeof e=="object"&&"$el"in e}function of(e){if(rE(e)){const t=e.$el;return sh(t)&&ga(t)==="#comment"?null:t}return e}function qa(e){return typeof e=="function"?e():J(e)}function sE(e){return{name:"arrow",options:e,fn(t){const s=of(qa(e.element));return s==null?{}:tE({element:s,padding:e.padding}).fn(t)}}}function Vv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wp(e,t){const s=Vv(e);return Math.round(t*s)/s}function aE(e,t,s){s===void 0&&(s={});const a=s.whileElementsMounted,i=ge(()=>{var C;return(C=qa(s.open))!=null?C:!0}),u=ge(()=>qa(s.middleware)),d=ge(()=>{var C;return(C=qa(s.placement))!=null?C:"bottom"}),h=ge(()=>{var C;return(C=qa(s.strategy))!=null?C:"absolute"}),m=ge(()=>{var C;return(C=qa(s.transform))!=null?C:!0}),y=ge(()=>of(e.value)),v=ge(()=>of(t.value)),b=Ie(0),T=Ie(0),P=Ie(h.value),O=Ie(d.value),B=Dn({}),z=Ie(!1),R=ge(()=>{const C={position:P.value,left:"0",top:"0"};if(!v.value)return C;const F=Wp(v.value,b.value),D=Wp(v.value,T.value);return m.value?{...C,transform:"translate("+F+"px, "+D+"px)",...Vv(v.value)>=1.5&&{willChange:"transform"}}:{position:P.value,left:F+"px",top:D+"px"}});let $;function q(){if(y.value==null||v.value==null)return;const C=i.value;iE(y.value,v.value,{middleware:u.value,placement:d.value,strategy:h.value}).then(F=>{b.value=F.x,T.value=F.y,P.value=F.strategy,O.value=F.placement,B.value=F.middlewareData,z.value=C!==!1})}function _(){typeof $=="function"&&($(),$=void 0)}function x(){if(_(),a===void 0){q();return}if(y.value!=null&&v.value!=null){$=a(y.value,v.value,q);return}}function k(){i.value||(z.value=!1)}return tt([u,d,h,i],q,{flush:"sync"}),tt([y,v],x,{flush:"sync"}),tt(i,k,{flush:"sync"}),Cc()&&bu(_),{x:$a(b),y:$a(T),strategy:$a(P),placement:$a(O),middlewareData:$a(B),isPositioned:$a(z),floatingStyles:R,update:q}}const oE=wv(Zk),uE=["id"],lE=["id"],cE=yt({inheritAttrs:!1,__name:"BPopover",props:Pi({boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},click:{type:Boolean,default:!1},closeOnHide:{type:Boolean,default:!1},content:{default:void 0},customClass:{default:""},delay:{default:()=>({show:100,hide:300})},floatingMiddleware:{default:void 0},hideMargin:{default:2},id:{default:void 0},inline:{type:Boolean,default:!1},manual:{type:Boolean,default:!1},noAutoClose:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noHide:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},noninteractive:{type:Boolean,default:!1},offset:{default:null},placement:{default:"top"},realtime:{type:Boolean,default:!1},reference:{default:null},strategy:{default:"absolute"},target:{default:null},title:{default:void 0},tooltip:{type:Boolean,default:!1},variant:{default:null},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Pi(["pointerleave","blur","click-outside","close-on-hide","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=an(e,"BPopover"),u=s,d=Vu(),h=Wr(e,"modelValue"),m=yo(()=>i.id,"popover"),y=Ie(!1),v=Mn("_element"),b=Mn("_content"),T=Mn("_arrow"),P=Mn("_placeholder"),O=Ie(null),B=Ie(null),z=ge(()=>i.placement.startsWith("auto")),R=ic(()=>i.offset??NaN),$=ge(()=>qv(i.boundary)?i.boundary:void 0),q=ge(()=>fE(i.boundary)?i.boundary:void 0),_=Ie({}),x=ge(()=>{if(i.floatingMiddleware!==void 0)return i.floatingMiddleware;const ee=i.offset!==null?R.value:i.tooltip?6:8,oe=[YL(ee)];return i.noFlip===!1&&!z.value&&oe.push(JL({boundary:$.value,rootBoundary:q.value,padding:i.boundaryPadding})),z.value&&oe.push(XL({alignment:i.placement.split("-")[1]||void 0,boundary:$.value,rootBoundary:q.value,padding:i.boundaryPadding})),i.noShift===!1&&oe.push(KL({boundary:$.value,rootBoundary:q.value,padding:i.boundaryPadding})),i.noHide===!1&&oe.push(eE({boundary:$.value,rootBoundary:q.value,padding:i.boundaryPadding})),i.inline===!0&&oe.push(nE()),oe.push(sE({element:T,padding:10})),i.noSize===!1&&oe.push(QL({boundary:$.value,rootBoundary:q.value,padding:i.boundaryPadding,apply({availableWidth:_e,availableHeight:Le}){var ye,Z;_.value={maxHeight:Le>=(((ye=b.value)==null?void 0:ye.scrollHeight)??0)?void 0:Le?`${Math.max(0,Le)}px`:void 0,maxWidth:_e>=(((Z=b.value)==null?void 0:Z.scrollWidth)??0)?void 0:_e?`${Math.max(0,_e)}px`:void 0}}})),oe}),k=ge(()=>z.value?void 0:i.placement),{floatingStyles:C,middlewareData:F,placement:D,update:A}=aE(O,v,{placement:k,middleware:x,strategy:cn(()=>i.strategy)}),Y=Ie({position:"absolute"});tt(F,ee=>{var oe,_e;if(i.noHide===!1&&((oe=ee.hide)!=null&&oe.referenceHidden&&!y.value&&W.value?i.closeOnHide&&!i.noAutoClose&&!i.manual?ae("close-on-hide"):($e.value=!0,y.value=!0):$e.value&&!((_e=ee.hide)!=null&&_e.referenceHidden)&&($e.value=!1,y.value=!1)),ee.arrow){const{x:Le,y:ye}=ee.arrow;Y.value={position:"absolute",top:ye?`${ye}px`:"",left:Le?`${Le}px`:""}}});let X;const{showRef:W,hide:j,show:te,toggle:G,throttleHide:ae,computedNoAnimation:se,transitionProps:ve,contentShowing:ce,isVisible:ke,renderRef:Fe,localTemporaryHide:$e}=th(h,i,u,v,m,{showFn:()=>{A(),li(()=>{X=ZL(O.value,v.value,A,{animationFrame:i.realtime})})},hideFn:()=>{X&&(X(),X=void 0)}}),Oe=ge(()=>{const ee=i.tooltip?"tooltip":"popover";return[ee,`b-${ee}`,{[`b-${ee}-${i.variant}`]:i.variant!==null,show:ke.value&&!y.value,fade:!se.value,[`${i.customClass}`]:i.customClass!==void 0,[`bs-${ee}-${dE(D.value)}`]:D.value!==void 0}]}),{x:Ee,y:Te}=oE(),de=()=>{var ee,oe;const _e=(ee=B.value)==null?void 0:ee.getBoundingClientRect(),Le=(oe=v.value)==null?void 0:oe.getBoundingClientRect(),ye=parseInt(i.hideMargin,10)||0,Z=(window==null?void 0:window.scrollX)||0,U=(window==null?void 0:window.scrollY)||0,ue=!_e||Ee.value<_e.left+Z-ye||Ee.value>_e.right+Z+ye||Te.value<_e.top+U-ye||Te.value>_e.bottom+U+ye,he=!Le||Ee.value<Le.left+Z-ye||Ee.value>Le.right+Z+ye||Te.value<Le.top+U-ye||Te.value>Le.bottom+U+ye;return{triggerIsOutside:ue,isOutside:he}};let K;const Se=ee=>{var oe,_e;const{triggerIsOutside:Le,isOutside:ye}=de();!i.noninteractive&&ye&&Le&&!((oe=v.value)!=null&&oe.contains(document==null?void 0:document.activeElement))&&!((_e=B.value)!=null&&_e.contains(document==null?void 0:document.activeElement))||i.noninteractive&&Le?j(ee==null?void 0:ee.type):(K&&clearTimeout(K),K=setTimeout(()=>{Se(ee)},50))};tt(ke,()=>{A()}),t({hide:j,show:te,toggle:G});const Ae=ee=>{W.value?j(ee.type==="click"?"click":"toggle"):te()},Ne=()=>{var ee;if(i.target){const oe=Op(ot(i.target));oe?B.value=oe:console.warn("Target element not found",i.target)}else B.value=(ee=P.value)==null?void 0:ee.nextElementSibling;if(i.reference){const oe=Op(ot(i.reference));oe?O.value=oe:console.warn("Reference element not found",i.reference)}else O.value=B.value;if(!(!B.value||i.manual)){if(i.click){B.value.addEventListener("click",Ae);return}B.value.addEventListener("pointerenter",te),B.value.addEventListener("pointerleave",Se),B.value.addEventListener("focus",te),B.value.addEventListener("blur",Se)}},N=()=>{B.value&&(B.value.removeEventListener("click",Ae),B.value.removeEventListener("pointerenter",te),B.value.removeEventListener("pointerleave",Se),B.value.removeEventListener("focus",te),B.value.removeEventListener("blur",Se))};return zk(v,()=>{W.value&&i.click&&!i.noAutoClose&&!i.manual&&j("click-outside")},{ignore:[B]}),tt([()=>i.click,()=>i.target,()=>i.reference],()=>{N(),Ne()}),Mi(()=>{Ne(),li(()=>{A()})}),Uu(N),(ee,oe)=>(fe(),xe(pt,null,[ne("span",{id:J(m)+"_placeholder",ref:"_placeholder",style:{display:"none"}},null,8,uE),dt(ee.$slots,"target",{show:J(te),hide:J(j),toggle:J(G),visible:J(W)},void 0,!0),Be(Nv,{to:J(i).teleportTo,disabled:!J(i).teleportTo||J(i).teleportDisabled},{default:Ze(()=>[J(Fe)||J(ce)?(fe(),st(qi,Vt({key:0},J(ve),{appear:h.value||J(i).visible}),{default:Ze(()=>[Xt(ne("div",Vt({id:J(m)},ee.$attrs,{ref:"_element",class:Oe.value,role:"tooltip",tabindex:"-1",style:J(C)}),[ne("div",{ref:"_arrow",class:ht(`${J(i).tooltip?"tooltip":"popover"}-arrow`),style:Tn(Y.value),"data-popper-arrow":""},null,6),ne("div",{ref:"_content",class:"overflow-auto",style:Tn(_.value)},[J(i).title||d.title?(fe(),xe("div",{key:0,class:ht(["position-sticky top-0",J(i).tooltip?"tooltip-inner":"popover-header"])},[dt(ee.$slots,"title",{},()=>[it(Re(J(i).title),1)],!0)],2)):nt("",!0),J(i).tooltip&&!d.title&&!J(i).title||!J(i).tooltip?(fe(),xe("div",{key:1,class:ht(J(i).tooltip?"tooltip-inner":"popover-body")},[dt(ee.$slots,"default",{},()=>[it(Re(J(i).content),1)],!0)],2)):nt("",!0)],4)],16,lE),[[io,J(W)&&!y.value]])]),_:3},16,["appear"])):nt("",!0)]),_:3},8,["to","disabled"])],64))}}),Hv=Mv(cE,[["__scopeId","data-v-d4670342"]]),dE=e=>{const[t]=e.split("-");switch(t){case"left":return"start";case"right":return"end";default:return t}},qv=e=>e==="clippingAncestors"||e instanceof Element||Array.isArray(e),fE=e=>!qv(e),jv=(e,t)=>[...t].reduce((s,a)=>(s[a]=e[a],s),{}),Jo=(e,t,s)=>{const a=t.split(/[.[\]]/g);let i=e;for(const u of a){if(i===null||i===void 0)return s;u.trim()!==""&&(i=i[u])}return i===void 0?s:i},Wv=yt({inheritAttrs:!1,__name:"BCollapse",props:Pi({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},tag:{default:"div"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noFade:{type:Boolean},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Pi(["hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=an(e,"BCollapse"),u=s,d=Wr(e,"modelValue"),h=yo(()=>i.id,"collapse"),m=Mn("_element");let y=!1;const v=A=>{y=!0,requestAnimationFrame(()=>{i.horizontal?A.style.width=`${A.scrollWidth}px`:A.style.height=`${A.scrollHeight}px`})},b=A=>{y||(i.horizontal?A.style.width=`${A.scrollWidth}px`:A.style.height=`${A.scrollHeight}px`,A.offsetHeight)},T=A=>{requestAnimationFrame(()=>{i.horizontal?A.style.width="":A.style.height=""})},P=A=>{A.style.height="",A.style.width="",y=!1},O=A=>{A.style.height="",A.style.width="",y=!1},{showRef:B,renderRef:z,hide:R,show:$,toggle:q,isActive:_,computedNoAnimation:x,contentShowing:k,transitionProps:C}=th(d,i,u,m,h,{transitionProps:{onBeforeLeave:b,onEnter:v,onLeave:T,onAfterEnter:P,onAfterLeave:O,enterToClass:"",leaveToClass:"",enterFromClass:"",leaveFromClass:"",enterActiveClass:"",leaveActiveClass:""}}),F=ge(()=>({show:_.value,"navbar-collapse":i.isNav,"collapse-horizontal":i.horizontal})),D=ge(()=>({toggle:q,show:$,hide:R,id:h.value,visible:B.value}));return t({hide:R,isNav:i.isNav,show:$,toggle:q,visible:Rn(B)}),la(vv,{id:h,hide:R,show:$,toggle:q,visible:Rn(B),isNav:cn(()=>i.isNav)}),(A,Y)=>(fe(),xe(pt,null,[dt(A.$slots,"header",Ti(lr(D.value))),J(z)||J(k)?(fe(),st(qi,Vt({key:0},J(C),{"enter-active-class":J(x)?"":"collapsing","leave-active-class":J(x)?"":"collapsing",appear:d.value||J(i).visible}),{default:Ze(()=>[Xt((fe(),st(Ss(J(i).tag),Vt({id:J(h),ref:"_element",class:["collapse",F.value],"is-nav":J(i).isNav},A.$attrs),{default:Ze(()=>[J(k)?dt(A.$slots,"default",Ti(Vt({key:0},D.value))):nt("",!0)]),_:3},16,["id","class","is-nav"])),[[io,J(B)]])]),_:3},16,["enter-active-class","leave-active-class","appear"])):nt("",!0),dt(A.$slots,"footer",Ti(lr(D.value)))],64))}}),hE=["type","disabled","aria-label"],pE=yt({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const a=an(e,"BCloseButton"),i=t;return(u,d)=>(fe(),xe("button",{type:J(a).type,class:"btn-close",disabled:J(a).disabled,"aria-label":J(a).ariaLabel,onClick:d[0]||(d[0]=h=>i("click",h))},null,8,hE))}}),ch=e=>((e==null?void 0:e())??[]).length===0,_u=e=>ge(()=>{let t=ot(e);return t={variant:t.variant??null,bgVariant:t.bgVariant??null,textVariant:t.textVariant??null,borderVariant:t.borderVariant??null},{[`text-bg-${t.variant}`]:t.variant!==null,[`text-${t.textVariant}`]:t.textVariant!==null,[`bg-${t.bgVariant}`]:t.bgVariant!==null,[`border-${t.borderVariant}`]:t.borderVariant!==null}}),mE={key:0,class:"visually-hidden"},gE=yt({__name:"BSpinner",props:{label:{default:void 0},role:{default:"status"},small:{type:Boolean,default:!1},tag:{default:"span"},type:{default:"border"},variant:{default:null}},setup(e){const s=an(e,"BSpinner"),a=Vu(),i=_u(ge(()=>({textVariant:s.variant}))),u=ge(()=>[`spinner-${s.type}`,i.value,{[`spinner-${s.type}-sm`]:s.small}]),d=ge(()=>!ch(a.label));return(h,m)=>(fe(),st(Ss(J(s).tag),{class:ht(u.value),role:J(s).label||d.value?J(s).role:null,"aria-hidden":J(s).label||d.value?null:!0},{default:Ze(()=>[J(s).label||d.value?(fe(),xe("span",mE,[dt(h.$slots,"label",{},()=>[it(Re(J(s).label),1)])])):nt("",!0)]),_:3},8,["class","role","aria-hidden"]))}}),_E=e=>e.replace(/-./g,t=>t.charAt(1).toUpperCase()).replace(/\b\w/g,t=>t.toUpperCase()).replace(/\s+/g,""),vE=e=>!!(e.href||e.to),Zv=(e,t)=>{const s=Rn(cn(t)),a=Rn(cn(e)),i=ge(()=>vE(a.value)),u=ge(()=>i.value?jv(a.value,s.value??["active","activeClass","append","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover"]):{});return{computedLink:i,computedLinkProps:u}},yE=e=>{const t=Yn(),s=t==null?void 0:t.appContext.app.config.globalProperties.$router,a=t==null?void 0:t.appContext.app.config.globalProperties.$route,i=Ss("RouterLink"),u=typeof i=="string"?null:i.useLink,d=cn(e),h=cn(()=>d.value.to||""),m=cn(()=>d.value.replace),y=ge(()=>_E(d.value.routerComponentName)),v=ge(()=>!((t==null?void 0:t.appContext.app.component(y.value))!==void 0)||d.value.disabled||!d.value.to?"a":y.value),b=ge(()=>v.value==="RouterLink"),T=ge(()=>b.value&&typeof(t==null?void 0:t.appContext.app.$nuxt)<"u"),P=ge(()=>v.value!=="a"&&!b.value&&!T.value),O=ge(()=>b.value||T.value),B=ge(()=>({to:h.value,replace:m.value})),z=u==null?void 0:u({to:h,replace:m}),R=ge(()=>O.value?z:null),$=ge(()=>{var q;if((q=R.value)!=null&&q.href.value)return R.value.href.value;const _="#";if(d.value.href)return d.value.href;if(typeof d.value.to=="string")return d.value.to||_;const{to:x}=d.value;if(x!==void 0&&"path"in x){const k=x.path||"",C=x.query?`?${Object.keys(x.query).map(D=>{var A;return`${D}=${(A=x.query)==null?void 0:A[D]}`}).join("=")}`:"",F=!x.hash||x.hash.charAt(0)==="#"?x.hash||"":`#${x.hash}`;return`${k}${C}${F}`||_}return _});return{isNonStandardTag:P,tag:v,isRouterLink:b,isNuxtLink:T,computedHref:$,routerName:y,router:s,route:a,link:R,linkProps:B}},Yv=e=>ge(()=>{const t=ot(e);return{[`link-${t.variant}`]:t.variant!==null,[`link-opacity-${t.opacity}`]:t.opacity!==void 0,[`link-opacity-${t.opacityHover}-hover`]:t.opacityHover!==void 0,[`link-underline-${t.underlineVariant}`]:t.underlineVariant!==null,[`link-offset-${t.underlineOffset}`]:t.underlineOffset!==void 0,[`link-offset-${t.underlineOffsetHover}-hover`]:t.underlineOffsetHover!==void 0,"link-underline":t.underlineVariant===null&&(t.underlineOpacity!==void 0||t.underlineOpacityHover!==void 0),[`link-underline-opacity-${t.underlineOpacity}`]:t.underlineOpacity!==void 0,[`link-underline-opacity-${t.underlineOpacityHover}-hover`]:t.underlineOpacityHover!==void 0,"icon-link":t.icon===!0}}),Zp="active",dh=yt({__name:"BLink",props:{active:{type:Boolean,default:void 0},activeClass:{default:"router-link-active"},disabled:{type:Boolean,default:!1},exactActiveClass:{default:"router-link-exact-active"},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean,default:!1},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean,default:void 0},prefetchOn:{default:void 0},noPrefetch:{type:Boolean,default:void 0},prefetchedClass:{default:void 0},rel:{default:void 0},replace:{type:Boolean,default:!1},routerComponentName:{default:"router-link"},routerTag:{default:"a"},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null},variant:{default:null}},emits:["click"],setup(e,{emit:t}){const a=an(e,"BLink"),i=t,u=Yf(),{computedHref:d,tag:h,link:m,isNuxtLink:y,isRouterLink:v,linkProps:b,isNonStandardTag:T}=yE(ge(()=>({routerComponentName:a.routerComponentName,disabled:a.disabled,to:a.to,replace:a.replace,href:a.href}))),P=sn(vv,null),O=sn(yv,null),B=Yv(a),z=ge(()=>{var C,F;return[B.value,u.class,R.value,{[Zp]:a.active,[a.activeClass]:((C=m.value)==null?void 0:C.isActive.value)||!1,[a.exactActiveClass]:((F=m.value)==null?void 0:F.isExactActive.value)||!1,"stretched-link":a.stretched===!0}]}),R=ge(()=>({[Zp]:a.active,disabled:a.disabled})),$=C=>{var F,D,A;if(a.disabled){C.preventDefault(),C.stopImmediatePropagation();return}(((F=P==null?void 0:P.isNav)==null?void 0:F.value)===!0&&O===null||O!==null&&((D=O.autoClose)==null?void 0:D.value)===!0)&&((A=P==null?void 0:P.hide)==null||A.call(P)),i("click",C)},q=ge(()=>a.target==="_blank"?!a.rel&&a.noRel?"noopener":a.rel:void 0),_=ge(()=>a.disabled?"-1":typeof u.tabindex>"u"?null:u.tabindex),x=ge(()=>({prefetch:a.prefetch,noPrefetch:a.noPrefetch,prefetchOn:a.prefetchOn,prefetchedClass:a.prefetchedClass,...b.value})),k=ge(()=>({...v.value?b.value:void 0,...y.value||T.value?x.value:void 0}));return(C,F)=>(fe(),st(Ss(J(h)),Vt({class:z.value,target:J(a).target,href:J(d),rel:q.value,tabindex:_.value,"aria-disabled":J(a).disabled?!0:null},k.value,{onClick:F[0]||(F[0]=D=>{var A;$(D),(A=J(m))==null||A.navigate(D)})}),{default:Ze(()=>[dt(C.$slots,"default")]),_:3},16,["class","target","href","rel","tabindex","aria-disabled"]))}}),to=yt({__name:"BButton",props:Pi({loading:{type:Boolean,default:!1},loadingFill:{type:Boolean,default:!1},loadingText:{default:"Loading..."},pill:{type:Boolean,default:!1},size:{default:"md"},squared:{type:Boolean,default:!1},tag:{default:"button"},type:{default:"button"},variant:{default:"secondary"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},routerTag:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null}},{pressed:{type:Boolean,default:void 0},pressedModifiers:{}}),emits:Pi(["click"],["update:pressed"]),setup(e,{emit:t}){const a=an(e,"BButton"),i=t,u=Mn("_element"),d=Wr(e,"pressed"),{computedLink:h,computedLinkProps:m}=Zv(a,["active-class","exact-active-class","replace","routerComponentName","routerTag"]),y=ge(()=>typeof d.value=="boolean"),v=ge(()=>a.tag==="button"&&a.href===void 0&&a.to===void 0),b=ge(()=>a.to!==void 0),T=ge(()=>a.href!==void 0?!1:!v.value),P=ge(()=>b.value?m.value:[]),O=ge(()=>a.href==="#"&&a.disabled?!0:T.value?a.disabled:null),B=ge(()=>{var x;return((x=a.variant)==null?void 0:x.startsWith("link"))||!1}),z=ge(()=>{var x;return((x=a.variant)==null?void 0:x.startsWith("link-"))||!1}),R=Yv(ge(()=>{var x;return{...B.value?{icon:a.icon,opacity:a.opacity,opacityHover:a.opacityHover,underlineOffset:a.underlineOffset,underlineOffsetHover:a.underlineOffsetHover,underlineOpacity:a.underlineOpacity,underlineOpacityHover:a.underlineOpacityHover,underlineVariant:a.underlineVariant,variant:z.value===!0?(x=a.variant)==null?void 0:x.slice(5):null}:void 0}})),$=ge(()=>[B.value===!0&&h.value===!1?R.value:void 0,[`btn-${a.size}`],{[`btn-${a.variant}`]:a.variant!==null&&z.value===!1,active:a.active||d.value,"rounded-pill":a.pill,"rounded-0":a.squared,disabled:a.disabled}]),q=ge(()=>b.value?dh:a.href?"a":a.tag),_=x=>{if(a.disabled){x.preventDefault(),x.stopPropagation();return}i("click",x),y.value&&(d.value=!d.value)};return xv([" ","enter"],x=>{var k;a.href==="#"&&(x.preventDefault(),(k=u.value)==null||k.click())},{target:u}),(x,k)=>(fe(),st(Ss(q.value),Vt({ref:"_element",class:"btn"},P.value,{class:$.value,"aria-disabled":O.value,"aria-pressed":y.value?d.value:null,autocomplete:y.value?"off":null,disabled:v.value?J(a).disabled:null,href:J(a).href,rel:J(h)?J(a).rel:null,role:T.value||J(h)?"button":null,target:J(h)?J(a).target:null,type:v.value?J(a).type:null,to:v.value?null:J(a).to,onClick:_}),{default:Ze(()=>[J(a).loading?dt(x.$slots,"loading",{key:0},()=>[J(a).loadingFill?nt("",!0):(fe(),xe(pt,{key:0},[it(Re(J(a).loadingText),1)],64)),dt(x.$slots,"loading-spinner",{},()=>[Be(gE,{small:J(a).size!=="lg",label:J(a).loadingFill?J(a).loadingText:void 0},null,8,["small","label"])])]):dt(x.$slots,"default",{key:1})]),_:3},16,["class","aria-disabled","aria-pressed","autocomplete","disabled","href","rel","role","target","type","to"]))}}),bE=yt({name:"ConditionalWrapper",inheritAttrs:!1,props:{tag:{type:String,default:"div"},skip:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t,attrs:s}){return()=>{var a,i;return e.skip?(a=t.default)==null?void 0:a.call(t,{}):Zr(e.tag,{...s},[(i=t.default)==null?void 0:i.call(t,{})])}}}),wE=e=>ge(()=>{const t=ot(e);return t?`justify-content-${t}`:""}),kE=["id","novalidate"],LE=yt({__name:"BForm",props:{floating:{type:Boolean,default:!1},id:{default:void 0},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},setup(e,{expose:t}){const a=an(e,"BForm"),i=Mn("_element"),u=ge(()=>({"form-floating":a.floating,"was-validated":a.validated}));return t({element:i}),(d,h)=>(fe(),xe("form",{id:J(a).id,ref:"_element",novalidate:J(a).novalidate,class:ht(u.value)},[dt(d.$slots,"default")],10,kE))}}),EE=["value","disabled"],fh=yt({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(e){const s=an(e,"BFormSelectOption");return(a,i)=>(fe(),xe("option",{value:J(s).value,disabled:J(s).disabled},[dt(a.$slots,"default")],8,EE))}}),Xv=(e,t)=>{const s=d=>typeof d=="object"&&d!==null&&"label"in d,a=d=>{const h=ot(t);if(typeof d=="string")return{value:d,text:d};if(typeof d=="number")return{value:d,text:`${d}`};if(d instanceof Date)return{value:d,text:d.toLocaleString()};const m=Jo(d,h.valueField),y=Jo(d,h.textField),v=Jo(d,h.disabledField),b=h.optionsField?Jo(d,h.optionsField):void 0;return b!==void 0?{label:Jo(d,h.labelField)||y,options:b}:{...typeof d=="object"?d:void 0,value:m,text:y,disabled:v}},i=d=>d.map(h=>a(h));return{normalizedOptions:ge(()=>i(ot(e))),isComplex:s}},Kv=(e,t)=>ge(()=>{const s=ot(e),a=ot(t);return s===!0?"true":typeof s=="string"?s:a===!1?"true":s===!1?"false":void 0}),hh=e=>ge(()=>{const t=ot(e);return t===!0?"is-valid":t===!1?"is-invalid":null}),xE=e=>ge(()=>{const t=ot(e);return{"form-check":t.plain===!1&&t.button===!1&&t.hasDefaultSlot,"form-check-reverse":t.reverse===!0,"form-check-inline":t.inline===!0,"form-switch":t.switch===!0,[`form-control-${t.size}`]:t.size!==void 0&&t.size!=="md"&&t.button===!1}}),TE=e=>{const t=Rn(cn(e)),s=hh(()=>t.value.state??null);return ge(()=>[s.value,{"form-check-input":t.value.plain===!1&&t.value.button===!1,"btn-check":t.value.button===!0}])},SE=e=>ge(()=>{const t=ot(e);return{"form-check-label":t.plain===!1&&t.button===!1,btn:t.button===!0,[`btn-${t.buttonVariant}`]:t.button===!0&&t.buttonVariant!==void 0&&t.buttonVariant!==null,[`btn-${t.size}`]:t.button&&t.size&&t.size!=="md"}}),CE=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","true-value","false-value","indeterminate"],PE=["for"],IE=yt({inheritAttrs:!1,__name:"BFormCheckbox",props:Pi({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},autofocus:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonGroup:{type:Boolean,default:!1},buttonVariant:{default:null},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},inline:{type:Boolean,default:!1},name:{default:void 0},plain:{type:Boolean,default:!1},required:{type:Boolean,default:void 0},reverse:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null},switch:{type:Boolean,default:!1},uncheckedValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:!1},wrapperAttrs:{default:void 0},inputClass:{default:void 0},value:{type:[String,Boolean,Array,Set,Object,Number,null],default:!0}},{modelValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:void 0},modelModifiers:{},indeterminate:{type:Boolean,default:!1},indeterminateModifiers:{}}),emits:["update:modelValue","update:indeterminate"],setup(e,{expose:t}){const s=Yf(),a=ge(()=>{const{class:C,...F}=s;return{wrapperClass:C,inputAttrs:F}}),u=an(e,"BFormCheckbox"),d=Vu(),h=Wr(e,"modelValue"),m=Wr(e,"indeterminate"),y=yo(()=>u.id,"form-check"),v=sn(Ek,null),b=Mn("_input"),{focused:T}=ra(b,{initialValue:u.autofocus}),P=ge(()=>!ch(d.default)),O=ge({get:()=>v?v.modelValue.value:h.value,set:C=>{if(C!==void 0){if(m.value=!1,v!==null&&Array.isArray(C)){v.modelValue.value=C;return}h.value=C}}}),B=ge(()=>!!(u.name??(v==null?void 0:v.name.value))&&(u.required||(v==null?void 0:v.required.value))),z=ge(()=>u.buttonGroup||((v==null?void 0:v.buttons.value)??!1)),R=ge(()=>({plain:u.plain||((v==null?void 0:v.plain.value)??!1),button:u.button||((v==null?void 0:v.buttons.value)??!1),inline:u.inline||((v==null?void 0:v.inline.value)??!1),reverse:u.reverse||((v==null?void 0:v.reverse.value)??!1),switch:u.switch||((v==null?void 0:v.switch.value)??!1),state:u.state===!0||u.state===!1?u.state:(v==null?void 0:v.state.value)??null,size:u.size??(v==null?void 0:v.size.value)??"md",buttonVariant:u.buttonVariant??(v==null?void 0:v.buttonVariant.value)??"secondary",hasDefaultSlot:P.value})),$=xE(R),q=ge(()=>[$.value,a.value.wrapperClass]),_=TE(R),x=ge(()=>[_.value,u.inputClass]),k=SE(R);return t({blur:()=>{T.value=!1},element:b,focus:()=>{T.value=!0}}),(C,F)=>(fe(),st(bE,Vt({skip:z.value},J(u).wrapperAttrs,{class:q.value}),{default:Ze(()=>{var D,A,Y;return[Xt(ne("input",Vt({id:J(y),ref:"_input","onUpdate:modelValue":F[0]||(F[0]=X=>O.value=X),class:x.value,type:"checkbox",disabled:J(u).disabled||((D=J(v))==null?void 0:D.disabled.value),required:B.value||void 0,name:J(u).name||((A=J(v))==null?void 0:A.name.value),form:J(u).form||((Y=J(v))==null?void 0:Y.form.value),"aria-label":J(u).ariaLabel,"aria-labelledby":J(u).ariaLabelledby,"aria-required":B.value||void 0,value:J(u).value,"true-value":J(u).value,"false-value":J(u).uncheckedValue,indeterminate:m.value||void 0},a.value.inputAttrs),null,16,CE),[[mv,O.value]]),P.value||J(u).plain===!1?(fe(),xe("label",{key:0,for:J(y),class:ht(J(k))},[dt(C.$slots,"default")],10,PE)):nt("",!0)]}),_:3},16,["skip","class"]))}}),NE=(e,t)=>{if(e===null)return;let s=e;if(t.number&&typeof s=="string"&&s!==""){const a=Number.parseFloat(s);s=Number.isNaN(a)?s:a}return s},ME=(e,t,s,a)=>{var i;const u=Ie(0),d=yo(()=>e.id,"input"),h=ic(()=>e.debounce??0),m=ic(()=>e.debounceMaxWait??NaN),y=(i=sn(Ik,null))==null?void 0:i(d),v=ge(()=>e.state!==void 0?e.state:(y==null?void 0:y.state.value)??null),b=Kv(()=>e.ariaInvalid,v),T=hh(v),P=Bk(k=>{s.value=k},()=>a.lazy===!0?0:h.value,{maxWait:()=>a.lazy===!0?NaN:m.value}),O=(k,C=!1)=>{a.lazy===!0&&C===!1||P(k)},{focused:B}=ra(t,{initialValue:e.autofocus}),z=(k,C,F=!1)=>e.formatter!==void 0&&(!e.lazyFormatter||F)?e.formatter(k,C):k;return Mi(()=>{var k;t.value&&(t.value.value=((k=s.value)==null?void 0:k.toString())??"")}),z_(()=>{li(()=>{e.autofocus&&(B.value=!0)})}),{input:t,computedId:d,computedAriaInvalid:b,onInput:k=>{const{value:C}=k.target,F=z(C,k);if(k.defaultPrevented){k.preventDefault();return}O(F)},onChange:k=>{const{value:C}=k.target,F=z(C,k);if(k.defaultPrevented){k.preventDefault();return}const D=F;s.value!==D&&O(F,!0)},onBlur:k=>{if(!a.lazy&&!e.lazyFormatter&&!a.trim)return;const{value:C}=k.target,F=z(C,k,!0),D=a.trim?F.trim():F,A=D.length!==F.length;s.value!==D&&O(F,!0),a.trim&&A&&(u.value=u.value+1)},focus:()=>{e.disabled||(B.value=!0)},blur:()=>{e.disabled||(B.value=!1)},forceUpdateKey:u,stateClass:T}},OE=["id","value","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"],AE=yt({__name:"BFormInput",props:Pi({max:{default:void 0},min:{default:void 0},step:{default:void 0},type:{default:"text"},ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},formatter:{type:Function,default:void 0},id:{default:void 0},lazyFormatter:{type:Boolean,default:!1},list:{default:void 0},name:{default:void 0},placeholder:{default:void 0},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:void 0},debounce:{default:0},debounceMaxWait:{default:NaN}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const a=an(e,"BFormInput"),[i,u]=Wr(e,"modelValue",{set:R=>NE(R,u)}),d=Mn("_input"),{computedId:h,computedAriaInvalid:m,onInput:y,onChange:v,onBlur:b,stateClass:T,focus:P,blur:O,forceUpdateKey:B}=ME(a,d,i,u),z=ge(()=>{const R=a.type==="range",$=a.type==="color";return[T.value,{"form-range":R,"form-control":$||!a.plaintext&&!R,"form-control-color":$,"form-control-plaintext":a.plaintext&&!R&&!$,[`form-control-${a.size}`]:!!a.size}]});return t({blur:O,element:d,focus:P}),(R,$)=>(fe(),xe("input",{id:J(h),ref:"_input",key:J(B),value:J(i),class:ht(z.value),name:J(a).name||void 0,form:J(a).form||void 0,type:J(a).type,disabled:J(a).disabled,placeholder:J(a).placeholder,required:J(a).required||void 0,autocomplete:J(a).autocomplete||void 0,readonly:J(a).readonly||J(a).plaintext,min:J(a).min,max:J(a).max,step:J(a).step,list:J(a).type!=="password"?J(a).list:void 0,"aria-required":J(a).required||void 0,"aria-invalid":J(m),onInput:$[0]||($[0]=(...q)=>J(y)&&J(y)(...q)),onChange:$[1]||($[1]=(...q)=>J(v)&&J(v)(...q)),onBlur:$[2]||($[2]=(...q)=>J(b)&&J(b)(...q))},null,42,OE))}}),RE=["label"],DE=yt({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const s=an(e,"BFormSelectOptionGroup"),{normalizedOptions:a}=Xv(()=>s.options,s);return(i,u)=>(fe(),xe("optgroup",{label:J(s).label},[dt(i.$slots,"first"),(fe(!0),xe(pt,null,ri(J(a),(d,h)=>(fe(),st(fh,Vt({key:h,disabled:d.disabled,value:d.value,ref_for:!0},i.$attrs),{default:Ze(()=>[dt(i.$slots,"option",Vt({ref_for:!0},d),()=>[it(Re(d.text),1)])]),_:2},1040,["disabled","value"]))),128)),dt(i.$slots,"default")],8,RE))}}),BE=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],Jv=yt({__name:"BFormSelect",props:Pi({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const a=an(e,"BFormSelect"),i=Wr(e,"modelValue"),u=yo(()=>a.id,"input"),d=ic(()=>a.selectSize),h=hh(()=>a.state),m=Mn("_input"),{focused:y}=ra(m,{initialValue:a.autofocus}),v=ge(()=>[h.value,{"form-control":a.plain,[`form-control-${a.size}`]:a.size!=="md"&&a.plain,"form-select":!a.plain,[`form-select-${a.size}`]:a.size!=="md"&&!a.plain}]),b=ge(()=>d.value||a.plain?d.value:void 0),T=Kv(()=>a.ariaInvalid,()=>a.state),{normalizedOptions:P,isComplex:O}=Xv(()=>a.options,a),B=ge(()=>P.value),z=ge({get:()=>i.value,set:R=>{i.value=R}});return t({blur:()=>{y.value=!1},element:m,focus:()=>{y.value=!0}}),(R,$)=>Xt((fe(),xe("select",{id:J(u),ref:"_input","onUpdate:modelValue":$[0]||($[0]=q=>z.value=q),class:ht(v.value),name:J(a).name,form:J(a).form||void 0,multiple:J(a).multiple||void 0,size:b.value,disabled:J(a).disabled,required:J(a).required||void 0,"aria-required":J(a).required||void 0,"aria-invalid":J(T)},[dt(R.$slots,"first"),(fe(!0),xe(pt,null,ri(B.value,(q,_)=>(fe(),xe(pt,{key:_},[J(O)(q)?(fe(),st(DE,{key:0,label:q.label,options:q.options,"value-field":J(a).valueField,"text-field":J(a).textField,"disabled-field":J(a).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(fe(),st(fh,{key:1,value:q.value,disabled:q.disabled},{default:Ze(()=>[dt(R.$slots,"option",Vt({ref_for:!0},q),()=>[it(Re(q.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),dt(R.$slots,"default")],10,BE)),[[Pu,z.value]])}});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Qv=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],uc=Qv.join(","),ey=typeof Element>"u",ha=ey?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,lc=!ey&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},cc=function e(t,s){var a;s===void 0&&(s=!0);var i=t==null||(a=t.getAttribute)===null||a===void 0?void 0:a.call(t,"inert"),u=i===""||i==="true",d=u||s&&t&&e(t.parentNode);return d},FE=function(t){var s,a=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"contenteditable");return a===""||a==="true"},ty=function(t,s,a){if(cc(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(uc));return s&&ha.call(t,uc)&&i.unshift(t),i=i.filter(a),i},ny=function e(t,s,a){for(var i=[],u=Array.from(t);u.length;){var d=u.shift();if(!cc(d,!1))if(d.tagName==="SLOT"){var h=d.assignedElements(),m=h.length?h:d.children,y=e(m,!0,a);a.flatten?i.push.apply(i,y):i.push({scopeParent:d,candidates:y})}else{var v=ha.call(d,uc);v&&a.filter(d)&&(s||!t.includes(d))&&i.push(d);var b=d.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(d),T=!cc(b,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(d));if(b&&T){var P=e(b===!0?d.children:b.children,!0,a);a.flatten?i.push.apply(i,P):i.push({scopeParent:d,candidates:P})}else u.unshift.apply(u,d.children)}}return i},iy=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},ia=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||FE(t))&&!iy(t)?0:t.tabIndex},zE=function(t,s){var a=ia(t);return a<0&&s&&!iy(t)?0:a},GE=function(t,s){return t.tabIndex===s.tabIndex?t.documentOrder-s.documentOrder:t.tabIndex-s.tabIndex},ry=function(t){return t.tagName==="INPUT"},UE=function(t){return ry(t)&&t.type==="hidden"},$E=function(t){var s=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(a){return a.tagName==="SUMMARY"});return s},VE=function(t,s){for(var a=0;a<t.length;a++)if(t[a].checked&&t[a].form===s)return t[a]},HE=function(t){if(!t.name)return!0;var s=t.form||lc(t),a=function(h){return s.querySelectorAll('input[type="radio"][name="'+h+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=a(window.CSS.escape(t.name));else try{i=a(t.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var u=VE(i,t.form);return!u||u===t},qE=function(t){return ry(t)&&t.type==="radio"},jE=function(t){return qE(t)&&!HE(t)},WE=function(t){var s,a=t&&lc(t),i=(s=a)===null||s===void 0?void 0:s.host,u=!1;if(a&&a!==t){var d,h,m;for(u=!!((d=i)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(i)||t!=null&&(m=t.ownerDocument)!==null&&m!==void 0&&m.contains(t));!u&&i;){var y,v,b;a=lc(i),i=(y=a)===null||y===void 0?void 0:y.host,u=!!((v=i)!==null&&v!==void 0&&(b=v.ownerDocument)!==null&&b!==void 0&&b.contains(i))}}return u},Yp=function(t){var s=t.getBoundingClientRect(),a=s.width,i=s.height;return a===0&&i===0},ZE=function(t,s){var a=s.displayCheck,i=s.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=ha.call(t,"details>summary:first-of-type"),d=u?t.parentElement:t;if(ha.call(d,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof i=="function"){for(var h=t;t;){var m=t.parentElement,y=lc(t);if(m&&!m.shadowRoot&&i(m)===!0)return Yp(t);t.assignedSlot?t=t.assignedSlot:!m&&y!==t.ownerDocument?t=y.host:t=m}t=h}if(WE(t))return!t.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return Yp(t);return!1},YE=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var s=t.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var a=0;a<s.children.length;a++){var i=s.children.item(a);if(i.tagName==="LEGEND")return ha.call(s,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}s=s.parentElement}return!1},dc=function(t,s){return!(s.disabled||cc(s)||UE(s)||ZE(s,t)||$E(s)||YE(s))},uf=function(t,s){return!(jE(s)||ia(s)<0||!dc(t,s))},XE=function(t){var s=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},KE=function e(t){var s=[],a=[];return t.forEach(function(i,u){var d=!!i.scopeParent,h=d?i.scopeParent:i,m=zE(h,d),y=d?e(i.candidates):h;m===0?d?s.push.apply(s,y):s.push(h):a.push({documentOrder:u,tabIndex:m,item:i,isScope:d,content:y})}),a.sort(GE).reduce(function(i,u){return u.isScope?i.push.apply(i,u.content):i.push(u.content),i},[]).concat(s)},JE=function(t,s){s=s||{};var a;return s.getShadowRoot?a=ny([t],s.includeContainer,{filter:uf.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:XE}):a=ty(t,s.includeContainer,uf.bind(null,s)),KE(a)},QE=function(t,s){s=s||{};var a;return s.getShadowRoot?a=ny([t],s.includeContainer,{filter:dc.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):a=ty(t,s.includeContainer,dc.bind(null,s)),a},Va=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return ha.call(t,uc)===!1?!1:uf(s,t)},ex=Qv.concat("iframe").join(","),Id=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return ha.call(t,ex)===!1?!1:dc(s,t)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function lf(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function tx(e){if(Array.isArray(e))return lf(e)}function nx(e,t,s){return(t=ox(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ix(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,a)}return s}function Kp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Xp(Object(s),!0).forEach(function(a){nx(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xp(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function sx(e){return tx(e)||ix(e)||ux(e)||rx()}function ax(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ox(e){var t=ax(e,"string");return typeof t=="symbol"?t:t+""}function ux(e,t){if(e){if(typeof e=="string")return lf(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?lf(e,t):void 0}}var Jp={activateTrap:function(t,s){if(t.length>0){var a=t[t.length-1];a!==s&&a._setPausedState(!0)}var i=t.indexOf(s);i===-1||t.splice(i,1),t.push(s)},deactivateTrap:function(t,s){var a=t.indexOf(s);a!==-1&&t.splice(a,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},lx=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},cx=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},vu=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},dx=function(t){return vu(t)&&!t.shiftKey},fx=function(t){return vu(t)&&t.shiftKey},Qp=function(t){return setTimeout(t,0)},Qo=function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,a):t},El=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},hx=[],px=function(t,s){var a=(s==null?void 0:s.document)||document,i=(s==null?void 0:s.trapStack)||hx,u=Kp({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:dx,isKeyBackward:fx},s),d={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},h,m=function(W,j,te){return W&&W[j]!==void 0?W[j]:u[te||j]},y=function(W,j){var te=typeof(j==null?void 0:j.composedPath)=="function"?j.composedPath():void 0;return d.containerGroups.findIndex(function(G){var ae=G.container,se=G.tabbableNodes;return ae.contains(W)||(te==null?void 0:te.includes(ae))||se.find(function(ve){return ve===W})})},v=function(W){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=j.hasFallback,G=te===void 0?!1:te,ae=j.params,se=ae===void 0?[]:ae,ve=u[W];if(typeof ve=="function"&&(ve=ve.apply(void 0,sx(se))),ve===!0&&(ve=void 0),!ve){if(ve===void 0||ve===!1)return ve;throw new Error("`".concat(W,"` was specified but was not a node, or did not return a node"))}var ce=ve;if(typeof ve=="string"){try{ce=a.querySelector(ve)}catch(ke){throw new Error("`".concat(W,'` appears to be an invalid selector; error="').concat(ke.message,'"'))}if(!ce&&!G)throw new Error("`".concat(W,"` as selector refers to no known node"))}return ce},b=function(){var W=v("initialFocus",{hasFallback:!0});if(W===!1)return!1;if(W===void 0||W&&!Id(W,u.tabbableOptions))if(y(a.activeElement)>=0)W=a.activeElement;else{var j=d.tabbableGroups[0],te=j&&j.firstTabbableNode;W=te||v("fallbackFocus")}else W===null&&(W=v("fallbackFocus"));if(!W)throw new Error("Your focus-trap needs to have at least one focusable element");return W},T=function(){if(d.containerGroups=d.containers.map(function(W){var j=JE(W,u.tabbableOptions),te=QE(W,u.tabbableOptions),G=j.length>0?j[0]:void 0,ae=j.length>0?j[j.length-1]:void 0,se=te.find(function(ke){return Va(ke)}),ve=te.slice().reverse().find(function(ke){return Va(ke)}),ce=!!j.find(function(ke){return ia(ke)>0});return{container:W,tabbableNodes:j,focusableNodes:te,posTabIndexesFound:ce,firstTabbableNode:G,lastTabbableNode:ae,firstDomTabbableNode:se,lastDomTabbableNode:ve,nextTabbableNode:function(Fe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Oe=j.indexOf(Fe);return Oe<0?$e?te.slice(te.indexOf(Fe)+1).find(function(Ee){return Va(Ee)}):te.slice(0,te.indexOf(Fe)).reverse().find(function(Ee){return Va(Ee)}):j[Oe+($e?1:-1)]}}}),d.tabbableGroups=d.containerGroups.filter(function(W){return W.tabbableNodes.length>0}),d.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(d.containerGroups.find(function(W){return W.posTabIndexesFound})&&d.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},P=function(W){var j=W.activeElement;if(j)return j.shadowRoot&&j.shadowRoot.activeElement!==null?P(j.shadowRoot):j},O=function(W){if(W!==!1&&W!==P(document)){if(!W||!W.focus){O(b());return}W.focus({preventScroll:!!u.preventScroll}),d.mostRecentlyFocusedNode=W,lx(W)&&W.select()}},B=function(W){var j=v("setReturnFocus",{params:[W]});return j||(j===!1?!1:W)},z=function(W){var j=W.target,te=W.event,G=W.isBackward,ae=G===void 0?!1:G;j=j||El(te),T();var se=null;if(d.tabbableGroups.length>0){var ve=y(j,te),ce=ve>=0?d.containerGroups[ve]:void 0;if(ve<0)ae?se=d.tabbableGroups[d.tabbableGroups.length-1].lastTabbableNode:se=d.tabbableGroups[0].firstTabbableNode;else if(ae){var ke=d.tabbableGroups.findIndex(function(de){var K=de.firstTabbableNode;return j===K});if(ke<0&&(ce.container===j||Id(j,u.tabbableOptions)&&!Va(j,u.tabbableOptions)&&!ce.nextTabbableNode(j,!1))&&(ke=ve),ke>=0){var Fe=ke===0?d.tabbableGroups.length-1:ke-1,$e=d.tabbableGroups[Fe];se=ia(j)>=0?$e.lastTabbableNode:$e.lastDomTabbableNode}else vu(te)||(se=ce.nextTabbableNode(j,!1))}else{var Oe=d.tabbableGroups.findIndex(function(de){var K=de.lastTabbableNode;return j===K});if(Oe<0&&(ce.container===j||Id(j,u.tabbableOptions)&&!Va(j,u.tabbableOptions)&&!ce.nextTabbableNode(j))&&(Oe=ve),Oe>=0){var Ee=Oe===d.tabbableGroups.length-1?0:Oe+1,Te=d.tabbableGroups[Ee];se=ia(j)>=0?Te.firstTabbableNode:Te.firstDomTabbableNode}else vu(te)||(se=ce.nextTabbableNode(j))}}else se=v("fallbackFocus");return se},R=function(W){var j=El(W);if(!(y(j,W)>=0)){if(Qo(u.clickOutsideDeactivates,W)){h.deactivate({returnFocus:u.returnFocusOnDeactivate});return}Qo(u.allowOutsideClick,W)||W.preventDefault()}},$=function(W){var j=El(W),te=y(j,W)>=0;if(te||j instanceof Document)te&&(d.mostRecentlyFocusedNode=j);else{W.stopImmediatePropagation();var G,ae=!0;if(d.mostRecentlyFocusedNode)if(ia(d.mostRecentlyFocusedNode)>0){var se=y(d.mostRecentlyFocusedNode),ve=d.containerGroups[se].tabbableNodes;if(ve.length>0){var ce=ve.findIndex(function(ke){return ke===d.mostRecentlyFocusedNode});ce>=0&&(u.isKeyForward(d.recentNavEvent)?ce+1<ve.length&&(G=ve[ce+1],ae=!1):ce-1>=0&&(G=ve[ce-1],ae=!1))}}else d.containerGroups.some(function(ke){return ke.tabbableNodes.some(function(Fe){return ia(Fe)>0})})||(ae=!1);else ae=!1;ae&&(G=z({target:d.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(d.recentNavEvent)})),O(G||d.mostRecentlyFocusedNode||b())}d.recentNavEvent=void 0},q=function(W){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d.recentNavEvent=W;var te=z({event:W,isBackward:j});te&&(vu(W)&&W.preventDefault(),O(te))},_=function(W){(u.isKeyForward(W)||u.isKeyBackward(W))&&q(W,u.isKeyBackward(W))},x=function(W){cx(W)&&Qo(u.escapeDeactivates,W)!==!1&&(W.preventDefault(),h.deactivate())},k=function(W){var j=El(W);y(j,W)>=0||Qo(u.clickOutsideDeactivates,W)||Qo(u.allowOutsideClick,W)||(W.preventDefault(),W.stopImmediatePropagation())},C=function(){if(d.active)return Jp.activateTrap(i,h),d.delayInitialFocusTimer=u.delayInitialFocus?Qp(function(){O(b())}):O(b()),a.addEventListener("focusin",$,!0),a.addEventListener("mousedown",R,{capture:!0,passive:!1}),a.addEventListener("touchstart",R,{capture:!0,passive:!1}),a.addEventListener("click",k,{capture:!0,passive:!1}),a.addEventListener("keydown",_,{capture:!0,passive:!1}),a.addEventListener("keydown",x),h},F=function(){if(d.active)return a.removeEventListener("focusin",$,!0),a.removeEventListener("mousedown",R,!0),a.removeEventListener("touchstart",R,!0),a.removeEventListener("click",k,!0),a.removeEventListener("keydown",_,!0),a.removeEventListener("keydown",x),h},D=function(W){var j=W.some(function(te){var G=Array.from(te.removedNodes);return G.some(function(ae){return ae===d.mostRecentlyFocusedNode})});j&&O(b())},A=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,Y=function(){A&&(A.disconnect(),d.active&&!d.paused&&d.containers.map(function(W){A.observe(W,{subtree:!0,childList:!0})}))};return h={get active(){return d.active},get paused(){return d.paused},activate:function(W){if(d.active)return this;var j=m(W,"onActivate"),te=m(W,"onPostActivate"),G=m(W,"checkCanFocusTrap");G||T(),d.active=!0,d.paused=!1,d.nodeFocusedBeforeActivation=a.activeElement,j==null||j();var ae=function(){G&&T(),C(),Y(),te==null||te()};return G?(G(d.containers.concat()).then(ae,ae),this):(ae(),this)},deactivate:function(W){if(!d.active)return this;var j=Kp({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},W);clearTimeout(d.delayInitialFocusTimer),d.delayInitialFocusTimer=void 0,F(),d.active=!1,d.paused=!1,Y(),Jp.deactivateTrap(i,h);var te=m(j,"onDeactivate"),G=m(j,"onPostDeactivate"),ae=m(j,"checkCanReturnFocus"),se=m(j,"returnFocus","returnFocusOnDeactivate");te==null||te();var ve=function(){Qp(function(){se&&O(B(d.nodeFocusedBeforeActivation)),G==null||G()})};return se&&ae?(ae(B(d.nodeFocusedBeforeActivation)).then(ve,ve),this):(ve(),this)},pause:function(W){return d.active?(d.manuallyPaused=!0,this._setPausedState(!0,W)):this},unpause:function(W){return d.active?(d.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,W)):this},updateContainerElements:function(W){var j=[].concat(W).filter(Boolean);return d.containers=j.map(function(te){return typeof te=="string"?a.querySelector(te):te}),d.active&&T(),Y(),this}},Object.defineProperties(h,{_isManuallyPaused:{value:function(){return d.manuallyPaused}},_setPausedState:{value:function(W,j){if(d.paused===W)return this;if(d.paused=W,W){var te=m(j,"onPause"),G=m(j,"onPostPause");te==null||te(),F(),Y(),G==null||G()}else{var ae=m(j,"onUnpause"),se=m(j,"onPostUnpause");ae==null||ae(),T(),C(),Y(),se==null||se()}return this}}}),h.updateContainerElements(t),h};function mx(e,t={}){let s;const{immediate:a,...i}=t,u=Dn(!1),d=Dn(!1),h=T=>s&&s.activate(T),m=T=>s&&s.deactivate(T),y=()=>{s&&(s.pause(),d.value=!0)},v=()=>{s&&(s.unpause(),d.value=!1)},b=ge(()=>{const T=ot(e);return gu(T).map(P=>{const O=ot(P);return typeof O=="string"?O:Ur(O)}).filter(Lv)});return tt(b,T=>{T.length&&(s=px(T,{...i,onActivate(){u.value=!0,t.onActivate&&t.onActivate()},onDeactivate(){u.value=!1,t.onDeactivate&&t.onDeactivate()}}),a&&h())},{flush:"post"}),ma(()=>m()),{hasFocus:u,isPaused:d,activate:h,deactivate:m,pause:y,unpause:v}}const gx=({element:e,isActive:t,noTrap:s,fallbackFocus:a},i={allowOutsideClick:!0,fallbackFocus:a.ref.value??void 0,escapeDeactivates:!1})=>{const u=Rn(cn(t)),d=Rn(cn(s)),h=()=>{var v;const b=(v=e.value)==null?void 0:v.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${a.classSelector})`);return!(b!=null&&b.length)},m=Ie(!1);Mi(()=>{m.value=h(),$k(e,()=>{m.value=h()},{childList:!0,subtree:!0})});const y=mx(e,i);return tt(u,async v=>{await li(),v&&d.value===!1?y.activate():y.deactivate()}),tt(d,v=>{v===!0&&y.deactivate()}),{needsFallback:Rn(m)}},_x=wv(Xk);let xl="";const Js=new Map,vx=(e,t)=>{const s=Rn(cn(e)),a=B_(),i=ge(()=>!ot(t)),u=_x(typeof document<"u"?document.body:null,s.value&&i.value);Mi(()=>{typeof document>"u"||(Js.set(a,!1),tt([s,i],([d,h])=>{const m=window.innerWidth-document.documentElement.clientWidth,y=Array.from(Js.values()).some(T=>T===!0),v=d&&h;Js.set(a,v),v&&!y&&!u.value&&(u.value=!0,m>0&&(xl=document.body.style.paddingRight,document.body.style.paddingRight=`${m+xl}px`));const b=Array.from(Js.values()).some(T=>T===!0);y&&!b&&(Js.set(a,!1),u.value=!1,document.body.style.paddingRight=xl)},{immediate:!0}))}),$u(()=>{Js.delete(a),Array.from(Js.values()).some(h=>h===!0)||(document.body.style.paddingRight=xl,u.value=!1)})},yx=["id","aria-labelledby","aria-describedby"],bx=["id"],em="modal-fallback-focus",tm=1056,wx=yt({inheritAttrs:!1,__name:"BModal",props:Pi({autofocus:{type:Boolean,default:!0},autofocusButton:{default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Pi(["backdrop","cancel","close","esc","ok","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=an(e,"BModal"),u=s,d=Vu(),h=yo(()=>i.id,"modal"),m=Wr(e,"modelValue"),y=Mn("_element"),v=Mn("_fallbackFocusElement"),b=Mn("_okButton"),T=Mn("_cancelButton"),P=Mn("_closeButton"),O=()=>{i.autofocus!==!1&&(i.autofocusButton==="ok"?ae.value=!0:i.autofocusButton==="close"?ve.value=!0:i.autofocusButton==="cancel"?se.value=!0:G.value=!0)},B=()=>{O()},{showRef:z,renderRef:R,renderBackdropRef:$,hide:q,show:_,toggle:x,computedNoAnimation:k,transitionProps:C,backdropTransitionProps:F,isLeaving:D,isVisible:A,trapActive:Y,contentShowing:X,backdropReady:W,backdropVisible:j}=th(m,i,u,y,h,{transitionProps:{onAfterEnter:B}}),{needsFallback:te}=gx({element:y,isActive:Y,noTrap:()=>i.noTrap,fallbackFocus:{ref:v,classSelector:em}});xv("Escape",()=>{q("esc")},{target:y}),vx(z,()=>i.bodyScrolling);const{focused:G}=ra(y,{initialValue:m.value&&i.autofocusButton===void 0&&i.autofocus===!0}),{focused:ae}=ra(b,{initialValue:m.value&&i.autofocusButton==="ok"&&i.autofocus===!0}),{focused:se}=ra(T,{initialValue:m.value&&i.autofocusButton==="cancel"&&i.autofocus===!0}),{focused:ve}=ra(P,{initialValue:m.value&&i.autofocusButton==="close"&&i.autofocus===!0}),ce=ge(()=>!ch(d["header-close"])),ke=ge(()=>[i.dialogClass,{"modal-fullscreen":i.fullscreen===!0,[`modal-fullscreen-${i.fullscreen}-down`]:typeof i.fullscreen=="string",[`modal-${i.size}`]:i.size!=="md","modal-dialog-centered":i.centered,"modal-dialog-scrollable":i.scrollable}]),Fe=_u(()=>({bgVariant:i.bodyBgVariant,textVariant:i.bodyTextVariant,variant:i.bodyVariant})),$e=ge(()=>[i.bodyClass,Fe.value]),Oe=_u(()=>({bgVariant:i.headerBgVariant,textVariant:i.headerTextVariant,variant:i.headerVariant,borderVariant:i.headerBorderVariant})),Ee=ge(()=>[i.headerClass,Oe.value]),Te=ge(()=>({variant:ce.value?i.headerCloseVariant:void 0,class:i.headerCloseClass})),de=_u(()=>({bgVariant:i.footerBgVariant,textVariant:i.footerTextVariant,variant:i.footerVariant,borderVariant:i.footerBorderVariant})),K=ge(()=>[i.footerClass,de.value]),Se=ge(()=>[i.titleClass,{"visually-hidden":i.titleVisuallyHidden}]),Ae=ge(()=>i.cancelDisabled||i.busy),Ne=ge(()=>i.okDisabled||i.busy),{activePosition:N,activeModalCount:ee,stackWithoutSelf:oe}=Jk(z,m.value);tt(oe,(U,ue)=>{U.length>ue.length&&z.value===!0&&i.noStacking===!0&&q()});const _e=ge(()=>z.value||D.value?tm-(((ee==null?void 0:ee.value)??0)*2-((N==null?void 0:N.value)??0)*2):tm),Le=ge(()=>({"z-index":_e.value})),ye=ge(()=>({"z-index":_e.value-1})),Z=ge(()=>({cancel:()=>{q("cancel")},close:()=>{q("close")},hide:q,ok:()=>{q("ok")},active:z.value,visible:z.value}));return t({hide:q,id:h,show:_,toggle:x}),(U,ue)=>(fe(),st(Nv,{to:J(i).teleportTo,disabled:J(i).teleportDisabled},{default:Ze(()=>[J(R)||J(X)?(fe(),st(qi,Vt({key:0},J(C),{appear:m.value||J(i).visible,onAfterEnter:B}),{default:Ze(()=>[Xt(ne("div",Vt({id:J(h),ref:"_element",class:["modal",[J(i).modalClass,{fade:!J(k),show:J(A)}]],role:"dialog","aria-labelledby":J(i).noHeader?void 0:`${J(h)}-label`,"aria-describedby":`${J(h)}-body`,tabindex:"-1"},U.$attrs,{style:Le.value,onClick:ue[4]||(ue[4]=_r(he=>J(q)("backdrop"),["self"]))}),[ne("div",{class:ht(["modal-dialog",ke.value])},[J(X)?(fe(),xe("div",{key:0,class:ht(["modal-content",J(i).contentClass])},[J(i).noHeader?nt("",!0):(fe(),xe("div",{key:0,class:ht(["modal-header",Ee.value])},[dt(U.$slots,"header",Ti(lr(Z.value)),()=>[(fe(),st(Ss(J(i).titleTag),{id:`${J(h)}-label`,class:ht(["modal-title",Se.value])},{default:Ze(()=>[dt(U.$slots,"title",Ti(lr(Z.value)),()=>[it(Re(J(i).title),1)],!0)]),_:3},8,["id","class"])),J(i).noHeaderClose?nt("",!0):(fe(),xe(pt,{key:0},[ce.value?(fe(),st(to,Vt({key:0},Te.value,{onClick:ue[0]||(ue[0]=he=>J(q)("close"))}),{default:Ze(()=>[dt(U.$slots,"header-close",{},void 0,!0)]),_:3},16)):(fe(),st(pE,Vt({key:1,"aria-label":J(i).headerCloseLabel},Te.value,{onClick:ue[1]||(ue[1]=he=>J(q)("close"))}),null,16,["aria-label"]))],64))],!0)],2)),ne("div",Vt({id:`${J(h)}-body`,class:["modal-body",$e.value]},J(i).bodyAttrs),[dt(U.$slots,"default",Ti(lr(Z.value)),()=>[it(Re(J(i).body),1)],!0)],16,bx),J(i).noFooter?nt("",!0):(fe(),xe("div",{key:1,class:ht(["modal-footer",K.value])},[dt(U.$slots,"footer",Ti(lr(Z.value)),()=>[dt(U.$slots,"cancel",Ti(lr(Z.value)),()=>[J(i).okOnly?nt("",!0):(fe(),st(to,{key:0,ref:"_cancelButton",disabled:Ae.value,size:J(i).buttonSize,variant:J(i).cancelVariant,onClick:ue[2]||(ue[2]=he=>J(q)("cancel"))},{default:Ze(()=>[it(Re(J(i).cancelTitle),1)]),_:1},8,["disabled","size","variant"]))],!0),dt(U.$slots,"ok",Ti(lr(Z.value)),()=>[Be(to,{ref:"_okButton",disabled:Ne.value,size:J(i).buttonSize,variant:J(i).okVariant,onClick:ue[3]||(ue[3]=he=>J(q)("ok"))},{default:Ze(()=>[it(Re(J(i).okTitle),1)]),_:1},8,["disabled","size","variant"])],!0)],!0)],2))],2)):nt("",!0)],2),J(te)?(fe(),xe("div",{key:0,ref:"_fallbackFocusElement",class:ht(em),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):nt("",!0)],16,yx),[[io,J(z)&&(J(W)&&J(i).backdropFirst||!J(i).backdropFirst)]])]),_:3},16,["appear"])):nt("",!0),J(i).noBackdrop?nt("",!0):dt(U.$slots,"backdrop",Ti(Vt({key:1},Z.value)),()=>[J($)?(fe(),st(qi,Ti(Vt({key:0},J(F))),{default:Ze(()=>[Xt(ne("div",{class:ht(["modal-backdrop",{fade:!J(k),show:J(j)||J(k)}]),style:Tn(ye.value),onClick:ue[5]||(ue[5]=he=>J(q)("backdrop"))},null,6),[[io,J(z)||J(D)&&J(i).backdropFirst&&!J(k)]])]),_:1},16)):nt("",!0)],!0)]),_:3},8,["to","disabled"]))}}),kx=Mv(wx,[["__scopeId","data-v-93972863"]]),sy=yt({inheritAttrs:!1,__name:"BNavForm",props:{role:{default:void 0},wrapperAttrs:{default:void 0},formClass:{default:void 0},floating:{type:Boolean,default:void 0},id:{default:void 0},novalidate:{type:Boolean,default:void 0},validated:{type:Boolean,default:void 0}},emits:["submit"],setup(e,{emit:t}){const a=an(e,"BNavForm"),i=t,u=Yf(),d=ge(()=>{const{class:y,...v}=u;return{wrapperClass:y,formAttrs:v}}),h=y=>{i("submit",y)},m=ge(()=>["d-flex","flex-row","align-items-center","flex-wrap",d.value.wrapperClass]);return(y,v)=>(fe(),xe("li",Vt({class:m.value},y.wrapperAttrs),[Be(LE,Vt(d.value.formAttrs,{id:J(a).id,floating:J(a).floating,role:J(a).role,novalidate:J(a).novalidate,validated:J(a).validated,class:["d-flex",J(a).formClass],onSubmit:_r(h,["prevent"])}),{default:Ze(()=>[dt(y.$slots,"default")]),_:3},16,["id","floating","role","novalidate","validated","class"])],16))}}),Lx={class:"nav-item"},ay=yt({__name:"BNavItem",props:{linkAttrs:{default:void 0},linkClass:{default:void 0},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},emits:["click"],setup(e,{emit:t}){const a=an(e,"BNavItem"),i=t,u=ge(()=>jv(a,["active","activeClass","exactActiveClass","append","disabled","href","icon","opacity","opacityHover","rel","replace","routerComponentName","target","to","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","underlineVariant","variant"]));return(d,h)=>(fe(),xe("li",Lx,[Be(dh,Vt({class:["nav-link",d.linkClass],tabindex:J(a).disabled?-1:void 0,"aria-disabled":J(a).disabled?!0:void 0},{...u.value,...d.linkAttrs},{onClick:h[0]||(h[0]=m=>i("click",m))}),{default:Ze(()=>[dt(d.$slots,"default")]),_:3},16,["class","tabindex","aria-disabled"]),dt(d.$slots,"after")]))}}),Ex=e=>ge(()=>{const t=ot(e);return{container:t===!0,[`container-${t}`]:typeof t=="string"}}),oy=yt({__name:"BNavbar",props:{autoClose:{type:Boolean,default:!0},container:{type:[Boolean,String],default:"fluid"},fixed:{default:void 0},print:{type:Boolean,default:!1},sticky:{default:void 0},tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},variant:{default:null}},setup(e){const s=an(e,"BNavbar"),a=ge(()=>s.tag==="nav"?void 0:"navigation"),i=Ex(()=>s.container),u=_u(ge(()=>({bgVariant:s.variant}))),d=ge(()=>[u.value,{"d-print":s.print,[`sticky-${s.sticky}`]:s.sticky!==void 0,[`fixed-${s.fixed}`]:s.fixed!==void 0,"navbar-expand":s.toggleable===!1,[`navbar-expand-${s.toggleable}`]:typeof s.toggleable=="string"}]);return la(yv,{tag:cn(()=>s.tag),autoClose:cn(()=>s.autoClose)}),(h,m)=>(fe(),st(Ss(J(s).tag),{class:ht(["navbar",d.value]),role:a.value},{default:Ze(()=>[J(s).container!==!1?(fe(),xe("div",{key:0,class:ht(J(i))},[dt(h.$slots,"default")],2)):dt(h.$slots,"default",{key:1})]),_:3},8,["class","role"]))}}),uy=yt({__name:"BNavbarBrand",props:{tag:{default:"div"},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(e){const s=an(e,"BNavbarBrand"),{computedLink:a,computedLinkProps:i}=Zv(s,["active","activeClass","append","disabled","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon"]),u=ge(()=>a.value?dh:s.tag);return(d,h)=>(fe(),st(Ss(u.value),Vt({class:"navbar-brand"},J(i)),{default:Ze(()=>[dt(d.$slots,"default")]),_:3},16))}}),ly=yt({__name:"BNavbarNav",props:{align:{default:void 0},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tag:{default:"ul"}},setup(e){const s=an(e,"BNavbarNav"),a=wE(()=>s.align),i=ge(()=>({"nav-fill":s.fill,"nav-justified":s.justified,[a.value]:s.align!==void 0,small:s.small}));return(u,d)=>(fe(),xe("ul",{class:ht(["navbar-nav",i.value])},[dt(u.$slots,"default")],2))}}),xx=["disabled","aria-label"],cy=yt({__name:"BNavbarToggle",props:{disabled:{type:Boolean,default:!1},label:{default:"Toggle navigation"},target:{default:void 0}},emits:["click"],setup(e,{emit:t}){const a=an(e,"BNavbarToggle"),i=t,u=ge(()=>({disabled:a.disabled})),d=sn(Uc,void 0),h=ge(()=>{var v;return!a.target||!d?!1:typeof a.target=="string"?((v=d.map[a.target])==null?void 0:v.value)||!1:a.target.some(b=>{var T;return(T=d.map[b])==null?void 0:T.value})}),m=()=>{var v;if(!(!a.target||!d)){if(typeof a.target=="string"){(v=d.map[a.target])==null||v.toggle();return}a.target.forEach(b=>{var T;return(T=d.map[b])==null?void 0:T.toggle()})}},y=v=>{a.disabled||(i("click",v),m())};return(v,b)=>(fe(),xe("button",{class:ht(["navbar-toggler",u.value]),type:"button",disabled:J(a).disabled,"aria-label":J(a).label,onClick:y},[dt(v.$slots,"default",{expanded:h.value},()=>[b[0]||(b[0]=ne("span",{class:"navbar-toggler-icon"},null,-1))])],10,xx))}}),Tx=yt({__name:"BTooltip",props:Pi({interactive:{type:Boolean,default:void 0},boundary:{},boundaryPadding:{},click:{type:Boolean,default:void 0},closeOnHide:{type:Boolean},content:{default:void 0},customClass:{default:void 0},delay:{default:void 0},floatingMiddleware:{default:void 0},hideMargin:{},id:{default:void 0},inline:{type:Boolean,default:void 0},manual:{type:Boolean,default:void 0},noAutoClose:{type:Boolean,default:void 0},noFlip:{type:Boolean,default:void 0},noHide:{type:Boolean,default:void 0},noShift:{type:Boolean,default:void 0},noSize:{type:Boolean},noninteractive:{type:Boolean,default:void 0},offset:{default:void 0},placement:{default:void 0},realtime:{type:Boolean,default:void 0},reference:{default:void 0},strategy:{default:void 0},target:{default:void 0},title:{default:void 0},variant:{default:void 0},teleportDisabled:{type:Boolean,default:void 0},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:void 0},lazy:{type:Boolean,default:void 0},unmountLazy:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},transProps:{},visible:{type:Boolean,default:void 0}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const a=an(e,"BTooltip"),i=Vu(),u=Wr(e,"modelValue"),d=ge(()=>{const{interactive:m,noninteractive:y,...v}=a;return{noninteractive:y!==void 0?y:!m,...v}}),h=Mn("_popover");return t({hide:()=>{var m;(m=h.value)==null||m.hide()},show:()=>{var m;(m=h.value)==null||m.show()},toggle:()=>{var m;(m=h.value)==null||m.toggle()}}),(m,y)=>(fe(),st(Hv,Vt({ref:"_popover"},d.value,{modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=v=>u.value=v),tooltip:""}),ew({_:2},[i.default?{name:"default",fn:Ze(()=>[dt(m.$slots,"default")]),key:"0"}:void 0,i.target?{name:"target",fn:Ze(v=>[dt(m.$slots,"target",Ti(lr(v)))]),key:"1"}:void 0,i.title?{name:"title",fn:Ze(()=>[dt(m.$slots,"title")]),key:"2"}:void 0]),1040,["modelValue"]))}});Object.freeze(Object.keys({bordered:0,borderless:0,borderVariant:0,captionTop:0,dark:0,fixed:0,hover:0,id:0,noBorderCollapse:0,outlined:0,responsive:0,small:0,stacked:0,stickyHeader:0,striped:0,stripedColumns:0,variant:0,tableAttrs:0,tableClass:0}));Object.freeze(Object.keys({align:0,caption:0,detailsTdClass:0,fieldColumnClass:0,fields:0,footClone:0,footRowVariant:0,footVariant:0,headRowVariant:0,headVariant:0,items:0,labelStacked:0,modelValue:0,primaryKey:0,tbodyClass:0,tbodyTrAttrs:0,tbodyTrClass:0,tfootClass:0,tfootTrClass:0,theadClass:0,theadTrClass:0}));const dy={BAccordion:"/components/BAccordion",BAccordionItem:"/components/BAccordion",BAlert:"/components/BAlert",BAvatar:"/components/BAvatar",BAvatarGroup:"/components/BAvatar",BBadge:"/components/BBadge",BBreadcrumb:"/components/BBreadcrumb",BBreadcrumbItem:"/components/BBreadcrumb",BButton:"/components/BButton",BButtonGroup:"/components/BButton",BButtonToolbar:"/components/BButton",BCloseButton:"/components/BButton",BCard:"/components/BCard",BCardBody:"/components/BCard",BCardFooter:"/components/BCard",BCardGroup:"/components/BCard",BCardHeader:"/components/BCard",BCardImg:"/components/BCard",BCardSubtitle:"/components/BCard",BCardText:"/components/BCard",BCardTitle:"/components/BCard",BCarousel:"/components/BCarousel",BCarouselSlide:"/components/BCarousel",BCol:"/components/BContainer",BCollapse:"/components/BCollapse",BContainer:"/components/BContainer",BDropdown:"/components/BDropdown",BDropdownDivider:"/components/BDropdown",BDropdownForm:"/components/BDropdown",BDropdownGroup:"/components/BDropdown",BDropdownHeader:"/components/BDropdown",BDropdownItem:"/components/BDropdown",BDropdownItemButton:"/components/BDropdown",BDropdownText:"/components/BDropdown",BForm:"/components/BForm",BFormCheckbox:"/components/BFormCheckbox",BFormCheckboxGroup:"/components/BFormCheckbox",BFormDatalist:"/components/BForm",BFormFile:"/components/BFormFile",BFormFloatingLabel:"/components/BForm",BFormGroup:"/components/BFormGroup",BFormInput:"/components/BFormInput",BFormInvalidFeedback:"/components/BForm",BFormRadio:"/components/BFormRadio",BFormRadioGroup:"/components/BFormRadio",BFormRow:"/components/BForm",BFormSelect:"/components/BFormSelect",BFormSelectOption:"/components/BFormSelect",BFormSelectOptionGroup:"/components/BFormSelect",BFormSpinbutton:"/components/BFormSpinbutton",BFormTag:"/components/BFormTags",BFormTags:"/components/BFormTags",BFormText:"/components/BForm",BFormTextarea:"/components/BFormTextarea",BFormValidFeedback:"/components/BForm",BImg:"/components/BImg",BInput:"/components/BFormInput",BInputGroup:"/components/BInputGroup",BInputGroupText:"/components/BInputGroup",BListGroup:"/components/BListGroup",BListGroupItem:"/components/BListGroup",BModal:"/components/BModal",BModalOrchestrator:"/components/BModal",BNav:"/components/BNav",BNavForm:"/components/BNav",BNavItem:"/components/BNav",BNavItemDropdown:"/components/BNav",BNavText:"/components/BNav",BNavbar:"/components/BNavbar",BNavbarBrand:"/components/BNavbar",BNavbarNav:"/components/BNavbar",BNavbarToggle:"/components/BNavbar",BOffcanvas:"/components/BOffcanvas",BOverlay:"/components/BOverlay",BPagination:"/components/BPagination",BPlaceholder:"/components/BPlaceholder",BPlaceholderButton:"/components/BPlaceholder",BPlaceholderCard:"/components/BPlaceholder",BPlaceholderTable:"/components/BPlaceholder",BPlaceholderWrapper:"/components/BPlaceholder",BPopover:"/components/BPopover",BProgress:"/components/BProgress",BRow:"/components/BContainer",BSpinner:"/components/BSpinner",BTab:"/components/BTabs",BTabs:"/components/BTabs",BToast:"/components/BToast",BToastOrchestrator:"/components/BToast",BTooltip:"/components/BTooltip",BLink:"/components/BLink",BProgressBar:"/components/BProgress",BTableSimple:"/components/BTable",BTableLite:"/components/BTable",BTable:"/components/BTable",BTbody:"/components/BTable",BTd:"/components/BTable",BTh:"/components/BTable",BThead:"/components/BTable",BTfoot:"/components/BTable",BTr:"/components/BTable",BPopoverOrchestrator:"/components/BPopover"},Sx=Object.freeze(Object.keys(dy)),fy={vBColorMode:"/directives/BColorMode",vBModal:"/directives/BModal",vBPopover:"/directives/BPopover",vBScrollspy:"/directives/BScrollspy",vBToggle:"/directives/BToggle",vBTooltip:"/directives/BTooltip"},Cx=Object.freeze(Object.keys(fy)),Px={useBreadcrumb:"/composables/useBreadcrumb",useColorMode:"/composables/useColorMode",useModal:"/composables/useModal",useModalController:"/composables/useModalController",useScrollspy:"/composables/useScrollspy",useToastController:"/composables/useToastController",usePopoverController:"/composables/usePopoverController"};Object.freeze(Object.keys(Px));const nm="bootstrap-vue-next",im=(e,t)=>{const{all:s,...a}=e,i={};s&&t.forEach(d=>{i[d]=s});const u={...i,...a};return Object.entries(u).filter(([d,h])=>!!h&&t.includes(d)).map(([d])=>d)},Nd=new Set,rm=new Set;Object.assign(({aliases:e={},directives:t=!0,components:s=!0}={})=>{const i=im(typeof s=="boolean"?{all:s}:s,Sx).reduce((m,y)=>(m.set(y,`${nm}${dy[y]}`),m),new Map),d=im(typeof t=="boolean"?{all:t}:t,Cx).reduce((m,y)=>{const v=y.toLowerCase().startsWith("v")?y:`v${y}`;return m.set(v,`${nm}${fy[v]}`),m},new Map);return[{type:"component",resolve(m){const y=i.get(m),v=i.get(e[m]);if(v){const b=e[m];return Nd.add(b),{name:b,from:v}}if(y)return Nd.add(m),{name:m,from:y}}},{type:"directive",resolve(m){const y=`v${m}`,v=d.get(y);if(v)return rm.add(y),{name:y,from:v}}}]},{__usedComponents:Nd,__usedDirectives:rm});const Ix={install(e,t){const s=(t==null?void 0:t.components)??{};e.provide(Gl,Ie(s))}},Nx={install(e){const t=Ie({[Ip]:[]}),s=(a=Ip)=>{t.value[a]=[]};e.provide(Tk,{items:t,reset:s})}},Mx={install(e){const t=Ie(new Map),s=()=>{let m=()=>{};return{value:new Promise(v=>{m=v}),resolve:m}},a=m=>[s(),m||Symbol("Modals controller"),!0],i=(m={})=>{var y;const v=cn(m.props),[b,T,P]=a((y=v.value)==null?void 0:y.id);return t.value.set(T,{component:m.component?ws(m.component):void 0,props:{...v.value,_isConfirm:!1,_promise:b,_modelValue:P}}),tt(v,O=>{const B=t.value.get(T);B&&t.value.set(T,{component:m.component?ws(m.component):void 0,props:{...B.props,...O}})}),b.value},u=(m={})=>{var y;const v=cn(m.props),[b,T,P]=a((y=v.value)==null?void 0:y.id);return t.value.set(T,{component:m.component?ws(m.component):void 0,props:{...v.value,_isConfirm:!0,_promise:b,_modelValue:P}}),tt(v,O=>{const B=t.value.get(T);B&&t.value.set(T,{component:m.component?ws(m.component):void 0,props:{...B.props,...O}})}),b.value},d=m=>{const y=t.value.get(m);y!=null&&y.props&&(y.props={...y.props,_modelValue:!1})},h=m=>{t.value.delete(m)};e.provide(Ck,{modals:t,remove:h,show:i,confirm:u,leave:d})}},Ox={install(e){const t=Ie(new Map),s=ge(()=>t.value.size),a=ge(()=>[...t.value.values()]),i=ge(()=>a.value[a.value.length-1]),u=v=>{t.value.set(v.uid,v)},d=v=>{t.value.delete(v.uid)},h=Ie(new Map),m=v=>{h.value.set(v.uid,v)},y=v=>{h.value.delete(v.uid)};e.provide(bv,{countStack:s,lastStack:i,registry:Rn(h),stack:a,pushStack:u,removeStack:d,pushRegistry:m,removeRegistry:y})}},Ax={install(e){const t=Ie(new Map),s=y=>{var v;const b=cn(y),T=((v=b.value)==null?void 0:v.id)||Symbol("Popover controller");return tt(b,P=>{t.value.set(T,{...P,...typeof P.modelValue<"u"&&wt(y)?{"onUpdate:modelValue":O=>{var B;(B=P["onUpdate:modelValue"])==null||B.call(P,O),y.value.modelValue=O}}:{}})},{immediate:!0,deep:!0}),bu(()=>t.value.delete(T),!0),T},a=(y,v)=>{const b=t.value.get(y);b&&t.value.set(y,{...b,...ot(v)})},i=y=>t.value.delete(y),u=Ie(new Map),d=y=>{var v;const b=cn(y),T=((v=b.value)==null?void 0:v.id)||Symbol("Tooltip controller");return tt(b,P=>{t.value.set(T,{...P,...typeof P.modelValue<"u"&&wt(y)?{"onUpdate:modelValue":O=>{var B;(B=P["onUpdate:modelValue"])==null||B.call(P,O),y.value.modelValue=O}}:{}})},{immediate:!0,deep:!0}),bu(()=>u.value.delete(T),!0),T},h=(y,v)=>{const b=u.value.get(y);b&&u.value.set(y,{...b,...ot(v)})},m=y=>u.value.delete(y);e.provide(Pk,{popovers:t,tooltips:u,tooltip:d,popover:s,setPopover:a,setTooltip:h,removePopover:i,removeTooltip:m})}},Rx={install(e,t){var s,a;const d=typeof(t==null?void 0:t.rtl)=="boolean"?!1:((s=t==null?void 0:t.rtl)==null?void 0:s.rtlInitial)??!1,h=typeof(t==null?void 0:t.rtl)=="boolean"?void 0:((a=t==null?void 0:t.rtl)==null?void 0:a.localeInitial)??void 0,m=Ie(d),y=Ie(h);e.provide(xk,{isRtl:m,locale:y})}},Dx="top-end",Bx={install(e){const t=Ie([]),s=Ie(!1),a=h=>{s.value=h},i=(h={})=>{var m,y,v,b;const T=cn(h.props),P=((m=T.value)==null?void 0:m.id)||Symbol("Toast controller"),O={component:h.component?ws(h.component):void 0,props:{...T.value,pos:((y=T.value)==null?void 0:y.pos)||Dx,_modelValue:((v=T.value)==null?void 0:v.value)||5e3,_self:P}};return(((b=T.value)==null?void 0:b.appendToast)!==void 0?T.value.appendToast:s.value)?t.value.push(O):t.value.unshift(O),tt(T,B=>{const z=t.value.findIndex(R=>R.props._self===P);z!==-1&&t.value.splice(z,1,{component:h.component?ws(h.component):void 0,props:{...t.value[z].props,...B,_modelValue:(B==null?void 0:B.value)||t.value[z].props._modelValue||5e3}})}),P},u=h=>{t.value=t.value.filter(m=>m.props._self!==h)},d=h=>{const m=t.value.findIndex(y=>y.props._self===h);m!==-1&&t.value.splice(m,1,{component:t.value[m].component?ws(t.value[m].component):void 0,props:{...t.value[m].props,_modelValue:!1}})};e.provide(Sk,{_setIsAppend:a,toasts:t,show:i,remove:u,leave:d})}},Fx={install(e){const t=da({}),s=({id:a,value:i,toggle:u,show:d,hide:h})=>(t[a]=ge(()=>({value:i.value,toggle:u,show:d,hide:h})),{unregister(){delete t[a]}});s.map=Rn(t),e.provide(Uc,s)}},zx=(e={})=>({install(t){(e.breadcrumb??!0)&&t.use(Nx),(e.modalController??!0)&&t.use(Mx),(e.modalManager??!0)&&t.use(Ox),((e.rtl??!0)||typeof e.rtl=="object")&&t.use(Rx,e),(e.toast??!0)&&t.use(Bx),(e.popover??!0)&&t.use(Ax),t.use(Fx),t.use(Ix,e)}});/*!
  * shared v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Gx(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const fc=typeof window<"u",Ps=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Ux=(e,t,s)=>$x({l:e,k:t,s}),$x=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),nn=e=>typeof e=="number"&&isFinite(e),Vx=e=>ph(e)==="[object Date]",uo=e=>ph(e)==="[object RegExp]",qc=e=>mt(e)&&Object.keys(e).length===0,dn=Object.assign,Hx=Object.create,Dt=(e=null)=>Hx(e);let sm;const sa=()=>sm||(sm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Dt());function am(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function om(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qx(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(a,i,u)=>`${i}="${om(u)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(a,i,u)=>`${i}='${om(u)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(a=>{e=e.replace(a,"$1javascript&#58;")}),e}const jx=Object.prototype.hasOwnProperty;function Fi(e,t){return jx.call(e,t)}const en=Array.isArray,$t=e=>typeof e=="function",He=e=>typeof e=="string",xt=e=>typeof e=="boolean",St=e=>e!==null&&typeof e=="object",Wx=e=>St(e)&&$t(e.then)&&$t(e.catch),hy=Object.prototype.toString,ph=e=>hy.call(e),mt=e=>ph(e)==="[object Object]",Zx=e=>e==null?"":en(e)||mt(e)&&e.toString===hy?JSON.stringify(e,null,2):String(e);function mh(e,t=""){return e.reduce((s,a,i)=>i===0?s+a:s+t+a,"")}const Tl=e=>!St(e)||en(e);function Ul(e,t){if(Tl(e)||Tl(t))throw new Error("Invalid value");const s=[{src:e,des:t}];for(;s.length;){const{src:a,des:i}=s.pop();Object.keys(a).forEach(u=>{u!=="__proto__"&&(St(a[u])&&!St(i[u])&&(i[u]=Array.isArray(a[u])?[]:Dt()),Tl(i[u])||Tl(a[u])?i[u]=a[u]:s.push({src:a[u],des:i[u]}))})}}/*!
  * message-compiler v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Yx(e,t,s){return{line:e,column:t,offset:s}}function cf(e,t,s){return{start:e,end:t}}const At={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},Xx=17;function jc(e,t,s={}){const{domain:a,messages:i,args:u}=s,d=e,h=new SyntaxError(String(d));return h.code=e,t&&(h.location=t),h.domain=a,h}function Kx(e){throw e}const Nr=" ",Jx="\r",Vn=`
`,Qx="\u2028",e1="\u2029";function t1(e){const t=e;let s=0,a=1,i=1,u=0;const d=C=>t[C]===Jx&&t[C+1]===Vn,h=C=>t[C]===Vn,m=C=>t[C]===e1,y=C=>t[C]===Qx,v=C=>d(C)||h(C)||m(C)||y(C),b=()=>s,T=()=>a,P=()=>i,O=()=>u,B=C=>d(C)||m(C)||y(C)?Vn:t[C],z=()=>B(s),R=()=>B(s+u);function $(){return u=0,v(s)&&(a++,i=0),d(s)&&s++,s++,i++,t[s]}function q(){return d(s+u)&&u++,u++,t[s+u]}function _(){s=0,a=1,i=1,u=0}function x(C=0){u=C}function k(){const C=s+u;for(;C!==s;)$();u=0}return{index:b,line:T,column:P,peekOffset:O,charAt:B,currentChar:z,currentPeek:R,next:$,peek:q,reset:_,resetPeek:x,skipToPeek:k}}const ps=void 0,n1=".",um="'",i1="tokenizer";function r1(e,t={}){const s=t.location!==!1,a=t1(e),i=()=>a.index(),u=()=>Yx(a.line(),a.column(),a.index()),d=u(),h=i(),m={currentType:13,offset:h,startLoc:d,endLoc:d,lastType:13,lastOffset:h,lastStartLoc:d,lastEndLoc:d,braceNest:0,inLinked:!1,text:""},y=()=>m,{onError:v}=t;function b(Z,U,ue,...he){const Ge=y();if(U.column+=ue,U.offset+=ue,v){const Ce=s?cf(Ge.startLoc,U):null,re=jc(Z,Ce,{domain:i1,args:he});v(re)}}function T(Z,U,ue){Z.endLoc=u(),Z.currentType=U;const he={type:U};return s&&(he.loc=cf(Z.startLoc,Z.endLoc)),ue!=null&&(he.value=ue),he}const P=Z=>T(Z,13);function O(Z,U){return Z.currentChar()===U?(Z.next(),U):(b(At.EXPECTED_TOKEN,u(),0,U),"")}function B(Z){let U="";for(;Z.currentPeek()===Nr||Z.currentPeek()===Vn;)U+=Z.currentPeek(),Z.peek();return U}function z(Z){const U=B(Z);return Z.skipToPeek(),U}function R(Z){if(Z===ps)return!1;const U=Z.charCodeAt(0);return U>=97&&U<=122||U>=65&&U<=90||U===95}function $(Z){if(Z===ps)return!1;const U=Z.charCodeAt(0);return U>=48&&U<=57}function q(Z,U){const{currentType:ue}=U;if(ue!==2)return!1;B(Z);const he=R(Z.currentPeek());return Z.resetPeek(),he}function _(Z,U){const{currentType:ue}=U;if(ue!==2)return!1;B(Z);const he=Z.currentPeek()==="-"?Z.peek():Z.currentPeek(),Ge=$(he);return Z.resetPeek(),Ge}function x(Z,U){const{currentType:ue}=U;if(ue!==2)return!1;B(Z);const he=Z.currentPeek()===um;return Z.resetPeek(),he}function k(Z,U){const{currentType:ue}=U;if(ue!==7)return!1;B(Z);const he=Z.currentPeek()===".";return Z.resetPeek(),he}function C(Z,U){const{currentType:ue}=U;if(ue!==8)return!1;B(Z);const he=R(Z.currentPeek());return Z.resetPeek(),he}function F(Z,U){const{currentType:ue}=U;if(!(ue===7||ue===11))return!1;B(Z);const he=Z.currentPeek()===":";return Z.resetPeek(),he}function D(Z,U){const{currentType:ue}=U;if(ue!==9)return!1;const he=()=>{const Ce=Z.currentPeek();return Ce==="{"?R(Z.peek()):Ce==="@"||Ce==="|"||Ce===":"||Ce==="."||Ce===Nr||!Ce?!1:Ce===Vn?(Z.peek(),he()):Y(Z,!1)},Ge=he();return Z.resetPeek(),Ge}function A(Z){B(Z);const U=Z.currentPeek()==="|";return Z.resetPeek(),U}function Y(Z,U=!0){const ue=(Ge=!1,Ce="")=>{const re=Z.currentPeek();return re==="{"||re==="@"||!re?Ge:re==="|"?!(Ce===Nr||Ce===Vn):re===Nr?(Z.peek(),ue(!0,Nr)):re===Vn?(Z.peek(),ue(!0,Vn)):!0},he=ue();return U&&Z.resetPeek(),he}function X(Z,U){const ue=Z.currentChar();return ue===ps?ps:U(ue)?(Z.next(),ue):null}function W(Z){const U=Z.charCodeAt(0);return U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||U===95||U===36}function j(Z){return X(Z,W)}function te(Z){const U=Z.charCodeAt(0);return U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||U===95||U===36||U===45}function G(Z){return X(Z,te)}function ae(Z){const U=Z.charCodeAt(0);return U>=48&&U<=57}function se(Z){return X(Z,ae)}function ve(Z){const U=Z.charCodeAt(0);return U>=48&&U<=57||U>=65&&U<=70||U>=97&&U<=102}function ce(Z){return X(Z,ve)}function ke(Z){let U="",ue="";for(;U=se(Z);)ue+=U;return ue}function Fe(Z){let U="";for(;;){const ue=Z.currentChar();if(ue==="{"||ue==="}"||ue==="@"||ue==="|"||!ue)break;if(ue===Nr||ue===Vn)if(Y(Z))U+=ue,Z.next();else{if(A(Z))break;U+=ue,Z.next()}else U+=ue,Z.next()}return U}function $e(Z){z(Z);let U="",ue="";for(;U=G(Z);)ue+=U;return Z.currentChar()===ps&&b(At.UNTERMINATED_CLOSING_BRACE,u(),0),ue}function Oe(Z){z(Z);let U="";return Z.currentChar()==="-"?(Z.next(),U+=`-${ke(Z)}`):U+=ke(Z),Z.currentChar()===ps&&b(At.UNTERMINATED_CLOSING_BRACE,u(),0),U}function Ee(Z){return Z!==um&&Z!==Vn}function Te(Z){z(Z),O(Z,"'");let U="",ue="";for(;U=X(Z,Ee);)U==="\\"?ue+=de(Z):ue+=U;const he=Z.currentChar();return he===Vn||he===ps?(b(At.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,u(),0),he===Vn&&(Z.next(),O(Z,"'")),ue):(O(Z,"'"),ue)}function de(Z){const U=Z.currentChar();switch(U){case"\\":case"'":return Z.next(),`\\${U}`;case"u":return K(Z,U,4);case"U":return K(Z,U,6);default:return b(At.UNKNOWN_ESCAPE_SEQUENCE,u(),0,U),""}}function K(Z,U,ue){O(Z,U);let he="";for(let Ge=0;Ge<ue;Ge++){const Ce=ce(Z);if(!Ce){b(At.INVALID_UNICODE_ESCAPE_SEQUENCE,u(),0,`\\${U}${he}${Z.currentChar()}`);break}he+=Ce}return`\\${U}${he}`}function Se(Z){return Z!=="{"&&Z!=="}"&&Z!==Nr&&Z!==Vn}function Ae(Z){z(Z);let U="",ue="";for(;U=X(Z,Se);)ue+=U;return ue}function Ne(Z){let U="",ue="";for(;U=j(Z);)ue+=U;return ue}function N(Z){const U=ue=>{const he=Z.currentChar();return he==="{"||he==="@"||he==="|"||he==="("||he===")"||!he||he===Nr?ue:(ue+=he,Z.next(),U(ue))};return U("")}function ee(Z){z(Z);const U=O(Z,"|");return z(Z),U}function oe(Z,U){let ue=null;switch(Z.currentChar()){case"{":return U.braceNest>=1&&b(At.NOT_ALLOW_NEST_PLACEHOLDER,u(),0),Z.next(),ue=T(U,2,"{"),z(Z),U.braceNest++,ue;case"}":return U.braceNest>0&&U.currentType===2&&b(At.EMPTY_PLACEHOLDER,u(),0),Z.next(),ue=T(U,3,"}"),U.braceNest--,U.braceNest>0&&z(Z),U.inLinked&&U.braceNest===0&&(U.inLinked=!1),ue;case"@":return U.braceNest>0&&b(At.UNTERMINATED_CLOSING_BRACE,u(),0),ue=_e(Z,U)||P(U),U.braceNest=0,ue;default:{let Ge=!0,Ce=!0,re=!0;if(A(Z))return U.braceNest>0&&b(At.UNTERMINATED_CLOSING_BRACE,u(),0),ue=T(U,1,ee(Z)),U.braceNest=0,U.inLinked=!1,ue;if(U.braceNest>0&&(U.currentType===4||U.currentType===5||U.currentType===6))return b(At.UNTERMINATED_CLOSING_BRACE,u(),0),U.braceNest=0,Le(Z,U);if(Ge=q(Z,U))return ue=T(U,4,$e(Z)),z(Z),ue;if(Ce=_(Z,U))return ue=T(U,5,Oe(Z)),z(Z),ue;if(re=x(Z,U))return ue=T(U,6,Te(Z)),z(Z),ue;if(!Ge&&!Ce&&!re)return ue=T(U,12,Ae(Z)),b(At.INVALID_TOKEN_IN_PLACEHOLDER,u(),0,ue.value),z(Z),ue;break}}return ue}function _e(Z,U){const{currentType:ue}=U;let he=null;const Ge=Z.currentChar();switch((ue===7||ue===8||ue===11||ue===9)&&(Ge===Vn||Ge===Nr)&&b(At.INVALID_LINKED_FORMAT,u(),0),Ge){case"@":return Z.next(),he=T(U,7,"@"),U.inLinked=!0,he;case".":return z(Z),Z.next(),T(U,8,".");case":":return z(Z),Z.next(),T(U,9,":");default:return A(Z)?(he=T(U,1,ee(Z)),U.braceNest=0,U.inLinked=!1,he):k(Z,U)||F(Z,U)?(z(Z),_e(Z,U)):C(Z,U)?(z(Z),T(U,11,Ne(Z))):D(Z,U)?(z(Z),Ge==="{"?oe(Z,U)||he:T(U,10,N(Z))):(ue===7&&b(At.INVALID_LINKED_FORMAT,u(),0),U.braceNest=0,U.inLinked=!1,Le(Z,U))}}function Le(Z,U){let ue={type:13};if(U.braceNest>0)return oe(Z,U)||P(U);if(U.inLinked)return _e(Z,U)||P(U);switch(Z.currentChar()){case"{":return oe(Z,U)||P(U);case"}":return b(At.UNBALANCED_CLOSING_BRACE,u(),0),Z.next(),T(U,3,"}");case"@":return _e(Z,U)||P(U);default:{if(A(Z))return ue=T(U,1,ee(Z)),U.braceNest=0,U.inLinked=!1,ue;if(Y(Z))return T(U,0,Fe(Z));break}}return ue}function ye(){const{currentType:Z,offset:U,startLoc:ue,endLoc:he}=m;return m.lastType=Z,m.lastOffset=U,m.lastStartLoc=ue,m.lastEndLoc=he,m.offset=i(),m.startLoc=u(),a.currentChar()===ps?T(m,13):Le(a,m)}return{nextToken:ye,currentOffset:i,currentPosition:u,context:y}}const s1="parser",a1=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function o1(e,t,s){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const a=parseInt(t||s,16);return a<=55295||a>=57344?String.fromCodePoint(a):""}}}function u1(e={}){const t=e.location!==!1,{onError:s}=e;function a(R,$,q,_,...x){const k=R.currentPosition();if(k.offset+=_,k.column+=_,s){const C=t?cf(q,k):null,F=jc($,C,{domain:s1,args:x});s(F)}}function i(R,$,q){const _={type:R};return t&&(_.start=$,_.end=$,_.loc={start:q,end:q}),_}function u(R,$,q,_){t&&(R.end=$,R.loc&&(R.loc.end=q))}function d(R,$){const q=R.context(),_=i(3,q.offset,q.startLoc);return _.value=$,u(_,R.currentOffset(),R.currentPosition()),_}function h(R,$){const q=R.context(),{lastOffset:_,lastStartLoc:x}=q,k=i(5,_,x);return k.index=parseInt($,10),R.nextToken(),u(k,R.currentOffset(),R.currentPosition()),k}function m(R,$){const q=R.context(),{lastOffset:_,lastStartLoc:x}=q,k=i(4,_,x);return k.key=$,R.nextToken(),u(k,R.currentOffset(),R.currentPosition()),k}function y(R,$){const q=R.context(),{lastOffset:_,lastStartLoc:x}=q,k=i(9,_,x);return k.value=$.replace(a1,o1),R.nextToken(),u(k,R.currentOffset(),R.currentPosition()),k}function v(R){const $=R.nextToken(),q=R.context(),{lastOffset:_,lastStartLoc:x}=q,k=i(8,_,x);return $.type!==11?(a(R,At.UNEXPECTED_EMPTY_LINKED_MODIFIER,q.lastStartLoc,0),k.value="",u(k,_,x),{nextConsumeToken:$,node:k}):($.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,or($)),k.value=$.value||"",u(k,R.currentOffset(),R.currentPosition()),{node:k})}function b(R,$){const q=R.context(),_=i(7,q.offset,q.startLoc);return _.value=$,u(_,R.currentOffset(),R.currentPosition()),_}function T(R){const $=R.context(),q=i(6,$.offset,$.startLoc);let _=R.nextToken();if(_.type===8){const x=v(R);q.modifier=x.node,_=x.nextConsumeToken||R.nextToken()}switch(_.type!==9&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(_)),_=R.nextToken(),_.type===2&&(_=R.nextToken()),_.type){case 10:_.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(_)),q.key=b(R,_.value||"");break;case 4:_.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(_)),q.key=m(R,_.value||"");break;case 5:_.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(_)),q.key=h(R,_.value||"");break;case 6:_.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(_)),q.key=y(R,_.value||"");break;default:{a(R,At.UNEXPECTED_EMPTY_LINKED_KEY,$.lastStartLoc,0);const x=R.context(),k=i(7,x.offset,x.startLoc);return k.value="",u(k,x.offset,x.startLoc),q.key=k,u(q,x.offset,x.startLoc),{nextConsumeToken:_,node:q}}}return u(q,R.currentOffset(),R.currentPosition()),{node:q}}function P(R){const $=R.context(),q=$.currentType===1?R.currentOffset():$.offset,_=$.currentType===1?$.endLoc:$.startLoc,x=i(2,q,_);x.items=[];let k=null;do{const D=k||R.nextToken();switch(k=null,D.type){case 0:D.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(D)),x.items.push(d(R,D.value||""));break;case 5:D.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(D)),x.items.push(h(R,D.value||""));break;case 4:D.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(D)),x.items.push(m(R,D.value||""));break;case 6:D.value==null&&a(R,At.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,or(D)),x.items.push(y(R,D.value||""));break;case 7:{const A=T(R);x.items.push(A.node),k=A.nextConsumeToken||null;break}}}while($.currentType!==13&&$.currentType!==1);const C=$.currentType===1?$.lastOffset:R.currentOffset(),F=$.currentType===1?$.lastEndLoc:R.currentPosition();return u(x,C,F),x}function O(R,$,q,_){const x=R.context();let k=_.items.length===0;const C=i(1,$,q);C.cases=[],C.cases.push(_);do{const F=P(R);k||(k=F.items.length===0),C.cases.push(F)}while(x.currentType!==13);return k&&a(R,At.MUST_HAVE_MESSAGES_IN_PLURAL,q,0),u(C,R.currentOffset(),R.currentPosition()),C}function B(R){const $=R.context(),{offset:q,startLoc:_}=$,x=P(R);return $.currentType===13?x:O(R,q,_,x)}function z(R){const $=r1(R,dn({},e)),q=$.context(),_=i(0,q.offset,q.startLoc);return t&&_.loc&&(_.loc.source=R),_.body=B($),e.onCacheKey&&(_.cacheKey=e.onCacheKey(R)),q.currentType!==13&&a($,At.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,R[q.offset]||""),u(_,$.currentOffset(),$.currentPosition()),_}return{parse:z}}function or(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function l1(e,t={}){const s={ast:e,helpers:new Set};return{context:()=>s,helper:u=>(s.helpers.add(u),u)}}function lm(e,t){for(let s=0;s<e.length;s++)gh(e[s],t)}function gh(e,t){switch(e.type){case 1:lm(e.cases,t),t.helper("plural");break;case 2:lm(e.items,t);break;case 6:{gh(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function c1(e,t={}){const s=l1(e);s.helper("normalize"),e.body&&gh(e.body,s);const a=s.context();e.helpers=Array.from(a.helpers)}function d1(e){const t=e.body;return t.type===2?cm(t):t.cases.forEach(s=>cm(s)),e}function cm(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let s=0;s<e.items.length;s++){const a=e.items[s];if(!(a.type===3||a.type===9)||a.value==null)break;t.push(a.value)}if(t.length===e.items.length){e.static=mh(t);for(let s=0;s<e.items.length;s++){const a=e.items[s];(a.type===3||a.type===9)&&delete a.value}}}}function ja(e){switch(e.t=e.type,e.type){case 0:{const t=e;ja(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,s=t.cases;for(let a=0;a<s.length;a++)ja(s[a]);t.c=s,delete t.cases;break}case 2:{const t=e,s=t.items;for(let a=0;a<s.length;a++)ja(s[a]);t.i=s,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;ja(t.key),t.k=t.key,delete t.key,t.modifier&&(ja(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function f1(e,t){const{filename:s,breakLineCode:a,needIndent:i}=t,u=t.location!==!1,d={filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:i,indentLevel:0};u&&e.loc&&(d.source=e.loc.source);const h=()=>d;function m(B,z){d.code+=B}function y(B,z=!0){const R=z?a:"";m(i?R+"  ".repeat(B):R)}function v(B=!0){const z=++d.indentLevel;B&&y(z)}function b(B=!0){const z=--d.indentLevel;B&&y(z)}function T(){y(d.indentLevel)}return{context:h,push:m,indent:v,deindent:b,newline:T,helper:B=>`_${B}`,needIndent:()=>d.needIndent}}function h1(e,t){const{helper:s}=e;e.push(`${s("linked")}(`),lo(e,t.key),t.modifier?(e.push(", "),lo(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function p1(e,t){const{helper:s,needIndent:a}=e;e.push(`${s("normalize")}([`),e.indent(a());const i=t.items.length;for(let u=0;u<i&&(lo(e,t.items[u]),u!==i-1);u++)e.push(", ");e.deindent(a()),e.push("])")}function m1(e,t){const{helper:s,needIndent:a}=e;if(t.cases.length>1){e.push(`${s("plural")}([`),e.indent(a());const i=t.cases.length;for(let u=0;u<i&&(lo(e,t.cases[u]),u!==i-1);u++)e.push(", ");e.deindent(a()),e.push("])")}}function g1(e,t){t.body?lo(e,t.body):e.push("null")}function lo(e,t){const{helper:s}=e;switch(t.type){case 0:g1(e,t);break;case 1:m1(e,t);break;case 2:p1(e,t);break;case 6:h1(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${s("interpolate")}(${s("list")}(${t.index}))`,t);break;case 4:e.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const _1=(e,t={})=>{const s=He(t.mode)?t.mode:"normal",a=He(t.filename)?t.filename:"message.intl";t.sourceMap;const i=t.breakLineCode!=null?t.breakLineCode:s==="arrow"?";":`
`,u=t.needIndent?t.needIndent:s!=="arrow",d=e.helpers||[],h=f1(e,{filename:a,breakLineCode:i,needIndent:u});h.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),h.indent(u),d.length>0&&(h.push(`const { ${mh(d.map(v=>`${v}: _${v}`),", ")} } = ctx`),h.newline()),h.push("return "),lo(h,e),h.deindent(u),h.push("}"),delete e.helpers;const{code:m,map:y}=h.context();return{ast:e,code:m,map:y?y.toJSON():void 0}};function v1(e,t={}){const s=dn({},t),a=!!s.jit,i=!!s.minify,u=s.optimize==null?!0:s.optimize,h=u1(s).parse(e);return a?(u&&d1(h),i&&ja(h),{ast:h,code:""}):(c1(h,s),_1(h,s))}/*!
  * core-base v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function y1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sa().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(sa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function mr(e){return St(e)&&_h(e)===0&&(Fi(e,"b")||Fi(e,"body"))}const py=["b","body"];function b1(e){return Is(e,py)}const my=["c","cases"];function w1(e){return Is(e,my,[])}const gy=["s","static"];function k1(e){return Is(e,gy)}const _y=["i","items"];function L1(e){return Is(e,_y,[])}const vy=["t","type"];function _h(e){return Is(e,vy)}const yy=["v","value"];function Sl(e,t){const s=Is(e,yy);if(s!=null)return s;throw Nu(t)}const by=["m","modifier"];function E1(e){return Is(e,by)}const wy=["k","key"];function x1(e){const t=Is(e,wy);if(t)return t;throw Nu(6)}function Is(e,t,s){for(let a=0;a<t.length;a++){const i=t[a];if(Fi(e,i)&&e[i]!=null)return e[i]}return s}const ky=[...py,...my,...gy,..._y,...wy,...by,...yy,...vy];function Nu(e){return new Error(`unhandled node type: ${e}`)}function Md(e){return s=>T1(s,e)}function T1(e,t){const s=b1(t);if(s==null)throw Nu(0);if(_h(s)===1){const u=w1(s);return e.plural(u.reduce((d,h)=>[...d,dm(e,h)],[]))}else return dm(e,s)}function dm(e,t){const s=k1(t);if(s!=null)return e.type==="text"?s:e.normalize([s]);{const a=L1(t).reduce((i,u)=>[...i,df(e,u)],[]);return e.normalize(a)}}function df(e,t){const s=_h(t);switch(s){case 3:return Sl(t,s);case 9:return Sl(t,s);case 4:{const a=t;if(Fi(a,"k")&&a.k)return e.interpolate(e.named(a.k));if(Fi(a,"key")&&a.key)return e.interpolate(e.named(a.key));throw Nu(s)}case 5:{const a=t;if(Fi(a,"i")&&nn(a.i))return e.interpolate(e.list(a.i));if(Fi(a,"index")&&nn(a.index))return e.interpolate(e.list(a.index));throw Nu(s)}case 6:{const a=t,i=E1(a),u=x1(a);return e.linked(df(e,u),i?df(e,i):void 0,e.type)}case 7:return Sl(t,s);case 8:return Sl(t,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const S1=e=>e;let Cl=Dt();function C1(e,t={}){let s=!1;const a=t.onError||Kx;return t.onError=i=>{s=!0,a(i)},{...v1(e,t),detectError:s}}function P1(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&He(e)){xt(t.warnHtmlMessage)&&t.warnHtmlMessage;const a=(t.onCacheKey||S1)(e),i=Cl[a];if(i)return i;const{ast:u,detectError:d}=C1(e,{...t,location:!1,jit:!0}),h=Md(u);return d?h:Cl[a]=h}else{const s=e.cacheKey;if(s){const a=Cl[s];return a||(Cl[s]=Md(e))}else return Md(e)}}let Mu=null;function I1(e){Mu=e}function N1(e,t,s){Mu&&Mu.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:s})}const M1=O1("function:translate");function O1(e){return t=>Mu&&Mu.emit(e,t)}const $r={INVALID_ARGUMENT:Xx,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},A1=24;function Vr(e){return jc(e,null,void 0)}function vh(e,t){return t.locale!=null?fm(t.locale):fm(e.locale)}let Od;function fm(e){if(He(e))return e;if($t(e)){if(e.resolvedOnce&&Od!=null)return Od;if(e.constructor.name==="Function"){const t=e();if(Wx(t))throw Vr($r.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Od=t}else throw Vr($r.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Vr($r.NOT_SUPPORT_LOCALE_TYPE)}function R1(e,t,s){return[...new Set([s,...en(t)?t:St(t)?Object.keys(t):He(t)?[t]:[s]])]}function Ly(e,t,s){const a=He(s)?s:Ou,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let u=i.__localeChainCache.get(a);if(!u){u=[];let d=[s];for(;en(d);)d=hm(u,d,t);const h=en(t)||!mt(t)?t:t.default?t.default:null;d=He(h)?[h]:h,en(d)&&hm(u,d,!1),i.__localeChainCache.set(a,u)}return u}function hm(e,t,s){let a=!0;for(let i=0;i<t.length&&xt(a);i++){const u=t[i];He(u)&&(a=D1(e,t[i],s))}return a}function D1(e,t,s){let a;const i=t.split("-");do{const u=i.join("-");a=B1(e,u,s),i.splice(-1,1)}while(i.length&&a===!0);return a}function B1(e,t,s){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(en(s)||mt(s))&&s[i]&&(a=s[i])}return a}const Ns=[];Ns[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ns[1]={w:[1],".":[2],"[":[4],o:[7]};Ns[2]={w:[2],i:[3,0],0:[3,0]};Ns[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ns[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ns[5]={"'":[4,0],o:8,l:[5,0]};Ns[6]={'"':[4,0],o:8,l:[6,0]};const F1=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function z1(e){return F1.test(e)}function G1(e){const t=e.charCodeAt(0),s=e.charCodeAt(e.length-1);return t===s&&(t===34||t===39)?e.slice(1,-1):e}function U1(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function $1(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:z1(t)?G1(t):"*"+t}function V1(e){const t=[];let s=-1,a=0,i=0,u,d,h,m,y,v,b;const T=[];T[0]=()=>{d===void 0?d=h:d+=h},T[1]=()=>{d!==void 0&&(t.push(d),d=void 0)},T[2]=()=>{T[0](),i++},T[3]=()=>{if(i>0)i--,a=4,T[0]();else{if(i=0,d===void 0||(d=$1(d),d===!1))return!1;T[1]()}};function P(){const O=e[s+1];if(a===5&&O==="'"||a===6&&O==='"')return s++,h="\\"+O,T[0](),!0}for(;a!==null;)if(s++,u=e[s],!(u==="\\"&&P())){if(m=U1(u),b=Ns[a],y=b[m]||b.l||8,y===8||(a=y[0],y[1]!==void 0&&(v=T[y[1]],v&&(h=u,v()===!1))))return;if(a===7)return t}}const pm=new Map;function H1(e,t){return St(e)?e[t]:null}function q1(e,t){if(!St(e))return null;let s=pm.get(t);if(s||(s=V1(t),s&&pm.set(t,s)),!s)return null;const a=s.length;let i=e,u=0;for(;u<a;){const d=s[u];if(ky.includes(d)&&mr(i))return null;const h=i[d];if(h===void 0||$t(i))return null;i=h,u++}return i}const j1="10.0.8",Wc=-1,Ou="en-US",mm="",gm=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function W1(){return{upper:(e,t)=>t==="text"&&He(e)?e.toUpperCase():t==="vnode"&&St(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&He(e)?e.toLowerCase():t==="vnode"&&St(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&He(e)?gm(e):t==="vnode"&&St(e)&&"__v_isVNode"in e?gm(e.children):e}}let Ey;function Z1(e){Ey=e}let xy;function Y1(e){xy=e}let Ty;function X1(e){Ty=e}let Sy=null;const K1=e=>{Sy=e},J1=()=>Sy;let Cy=null;const _m=e=>{Cy=e},Q1=()=>Cy;let vm=0;function eT(e={}){const t=$t(e.onWarn)?e.onWarn:Gx,s=He(e.version)?e.version:j1,a=He(e.locale)||$t(e.locale)?e.locale:Ou,i=$t(a)?Ou:a,u=en(e.fallbackLocale)||mt(e.fallbackLocale)||He(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,d=mt(e.messages)?e.messages:Ad(i),h=mt(e.datetimeFormats)?e.datetimeFormats:Ad(i),m=mt(e.numberFormats)?e.numberFormats:Ad(i),y=dn(Dt(),e.modifiers,W1()),v=e.pluralRules||Dt(),b=$t(e.missing)?e.missing:null,T=xt(e.missingWarn)||uo(e.missingWarn)?e.missingWarn:!0,P=xt(e.fallbackWarn)||uo(e.fallbackWarn)?e.fallbackWarn:!0,O=!!e.fallbackFormat,B=!!e.unresolving,z=$t(e.postTranslation)?e.postTranslation:null,R=mt(e.processor)?e.processor:null,$=xt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,q=!!e.escapeParameter,_=$t(e.messageCompiler)?e.messageCompiler:Ey,x=$t(e.messageResolver)?e.messageResolver:xy||H1,k=$t(e.localeFallbacker)?e.localeFallbacker:Ty||R1,C=St(e.fallbackContext)?e.fallbackContext:void 0,F=e,D=St(F.__datetimeFormatters)?F.__datetimeFormatters:new Map,A=St(F.__numberFormatters)?F.__numberFormatters:new Map,Y=St(F.__meta)?F.__meta:{};vm++;const X={version:s,cid:vm,locale:a,fallbackLocale:u,messages:d,modifiers:y,pluralRules:v,missing:b,missingWarn:T,fallbackWarn:P,fallbackFormat:O,unresolving:B,postTranslation:z,processor:R,warnHtmlMessage:$,escapeParameter:q,messageCompiler:_,messageResolver:x,localeFallbacker:k,fallbackContext:C,onWarn:t,__meta:Y};return X.datetimeFormats=h,X.numberFormats=m,X.__datetimeFormatters=D,X.__numberFormatters=A,__INTLIFY_PROD_DEVTOOLS__&&N1(X,s,Y),X}const Ad=e=>({[e]:Dt()});function yh(e,t,s,a,i){const{missing:u,onWarn:d}=e;if(u!==null){const h=u(e,s,t,i);return He(h)?h:t}else return t}function eu(e,t,s){const a=e;a.__localeChainCache=new Map,e.localeFallbacker(e,s,t)}function tT(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function nT(e,t){const s=t.indexOf(e);if(s===-1)return!1;for(let a=s+1;a<t.length;a++)if(tT(e,t[a]))return!0;return!1}function ym(e,...t){const{datetimeFormats:s,unresolving:a,fallbackLocale:i,onWarn:u,localeFallbacker:d}=e,{__datetimeFormatters:h}=e,[m,y,v,b]=ff(...t),T=xt(v.missingWarn)?v.missingWarn:e.missingWarn;xt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const P=!!v.part,O=vh(e,v),B=d(e,i,O);if(!He(m)||m==="")return new Intl.DateTimeFormat(O,b).format(y);let z={},R,$=null;const q="datetime format";for(let k=0;k<B.length&&(R=B[k],z=s[R]||{},$=z[m],!mt($));k++)yh(e,m,R,T,q);if(!mt($)||!He(R))return a?Wc:m;let _=`${R}__${m}`;qc(b)||(_=`${_}__${JSON.stringify(b)}`);let x=h.get(_);return x||(x=new Intl.DateTimeFormat(R,dn({},$,b)),h.set(_,x)),P?x.formatToParts(y):x.format(y)}const Py=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function ff(...e){const[t,s,a,i]=e,u=Dt();let d=Dt(),h;if(He(t)){const m=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!m)throw Vr($r.INVALID_ISO_DATE_ARGUMENT);const y=m[3]?m[3].trim().startsWith("T")?`${m[1].trim()}${m[3].trim()}`:`${m[1].trim()}T${m[3].trim()}`:m[1].trim();h=new Date(y);try{h.toISOString()}catch{throw Vr($r.INVALID_ISO_DATE_ARGUMENT)}}else if(Vx(t)){if(isNaN(t.getTime()))throw Vr($r.INVALID_DATE_ARGUMENT);h=t}else if(nn(t))h=t;else throw Vr($r.INVALID_ARGUMENT);return He(s)?u.key=s:mt(s)&&Object.keys(s).forEach(m=>{Py.includes(m)?d[m]=s[m]:u[m]=s[m]}),He(a)?u.locale=a:mt(a)&&(d=a),mt(i)&&(d=i),[u.key||"",h,u,d]}function bm(e,t,s){const a=e;for(const i in s){const u=`${t}__${i}`;a.__datetimeFormatters.has(u)&&a.__datetimeFormatters.delete(u)}}function wm(e,...t){const{numberFormats:s,unresolving:a,fallbackLocale:i,onWarn:u,localeFallbacker:d}=e,{__numberFormatters:h}=e,[m,y,v,b]=hf(...t),T=xt(v.missingWarn)?v.missingWarn:e.missingWarn;xt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const P=!!v.part,O=vh(e,v),B=d(e,i,O);if(!He(m)||m==="")return new Intl.NumberFormat(O,b).format(y);let z={},R,$=null;const q="number format";for(let k=0;k<B.length&&(R=B[k],z=s[R]||{},$=z[m],!mt($));k++)yh(e,m,R,T,q);if(!mt($)||!He(R))return a?Wc:m;let _=`${R}__${m}`;qc(b)||(_=`${_}__${JSON.stringify(b)}`);let x=h.get(_);return x||(x=new Intl.NumberFormat(R,dn({},$,b)),h.set(_,x)),P?x.formatToParts(y):x.format(y)}const Iy=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function hf(...e){const[t,s,a,i]=e,u=Dt();let d=Dt();if(!nn(t))throw Vr($r.INVALID_ARGUMENT);const h=t;return He(s)?u.key=s:mt(s)&&Object.keys(s).forEach(m=>{Iy.includes(m)?d[m]=s[m]:u[m]=s[m]}),He(a)?u.locale=a:mt(a)&&(d=a),mt(i)&&(d=i),[u.key||"",h,u,d]}function km(e,t,s){const a=e;for(const i in s){const u=`${t}__${i}`;a.__numberFormatters.has(u)&&a.__numberFormatters.delete(u)}}const iT=e=>e,rT=e=>"",sT="text",aT=e=>e.length===0?"":mh(e),oT=Zx;function Lm(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function uT(e){const t=nn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(nn(e.named.count)||nn(e.named.n))?nn(e.named.count)?e.named.count:nn(e.named.n)?e.named.n:t:t}function lT(e,t){t.count||(t.count=e),t.n||(t.n=e)}function cT(e={}){const t=e.locale,s=uT(e),a=St(e.pluralRules)&&He(t)&&$t(e.pluralRules[t])?e.pluralRules[t]:Lm,i=St(e.pluralRules)&&He(t)&&$t(e.pluralRules[t])?Lm:void 0,u=R=>R[a(s,R.length,i)],d=e.list||[],h=R=>d[R],m=e.named||Dt();nn(e.pluralIndex)&&lT(s,m);const y=R=>m[R];function v(R,$){const q=$t(e.messages)?e.messages(R,!!$):St(e.messages)?e.messages[R]:!1;return q||(e.parent?e.parent.message(R):rT)}const b=R=>e.modifiers?e.modifiers[R]:iT,T=mt(e.processor)&&$t(e.processor.normalize)?e.processor.normalize:aT,P=mt(e.processor)&&$t(e.processor.interpolate)?e.processor.interpolate:oT,O=mt(e.processor)&&He(e.processor.type)?e.processor.type:sT,z={list:h,named:y,plural:u,linked:(R,...$)=>{const[q,_]=$;let x="text",k="";$.length===1?St(q)?(k=q.modifier||k,x=q.type||x):He(q)&&(k=q||k):$.length===2&&(He(q)&&(k=q||k),He(_)&&(x=_||x));const C=v(R,!0)(z),F=x==="vnode"&&en(C)&&k?C[0]:C;return k?b(k)(F,x):F},message:v,type:O,interpolate:P,normalize:T,values:dn(Dt(),d,m)};return z}const Em=()=>"",Si=e=>$t(e);function xm(e,...t){const{fallbackFormat:s,postTranslation:a,unresolving:i,messageCompiler:u,fallbackLocale:d,messages:h}=e,[m,y]=pf(...t),v=xt(y.missingWarn)?y.missingWarn:e.missingWarn,b=xt(y.fallbackWarn)?y.fallbackWarn:e.fallbackWarn,T=xt(y.escapeParameter)?y.escapeParameter:e.escapeParameter,P=!!y.resolvedMessage,O=He(y.default)||xt(y.default)?xt(y.default)?u?m:()=>m:y.default:s?u?m:()=>m:null,B=s||O!=null&&(He(O)||$t(O)),z=vh(e,y);T&&dT(y);let[R,$,q]=P?[m,z,h[z]||Dt()]:Ny(e,m,z,d,b,v),_=R,x=m;if(!P&&!(He(_)||mr(_)||Si(_))&&B&&(_=O,x=_),!P&&(!(He(_)||mr(_)||Si(_))||!He($)))return i?Wc:m;let k=!1;const C=()=>{k=!0},F=Si(_)?_:My(e,m,$,_,x,C);if(k)return _;const D=pT(e,$,q,y),A=cT(D),Y=fT(e,F,A);let X=a?a(Y,m):Y;if(T&&He(X)&&(X=qx(X)),__INTLIFY_PROD_DEVTOOLS__){const W={timestamp:Date.now(),key:He(m)?m:Si(_)?_.key:"",locale:$||(Si(_)?_.locale:""),format:He(_)?_:Si(_)?_.source:"",message:X};W.meta=dn({},e.__meta,J1()||{}),M1(W)}return X}function dT(e){en(e.list)?e.list=e.list.map(t=>He(t)?am(t):t):St(e.named)&&Object.keys(e.named).forEach(t=>{He(e.named[t])&&(e.named[t]=am(e.named[t]))})}function Ny(e,t,s,a,i,u){const{messages:d,onWarn:h,messageResolver:m,localeFallbacker:y}=e,v=y(e,a,s);let b=Dt(),T,P=null;const O="translate";for(let B=0;B<v.length&&(T=v[B],b=d[T]||Dt(),(P=m(b,t))===null&&(P=b[t]),!(He(P)||mr(P)||Si(P)));B++)if(!nT(T,v)){const z=yh(e,t,T,u,O);z!==t&&(P=z)}return[P,T,b]}function My(e,t,s,a,i,u){const{messageCompiler:d,warnHtmlMessage:h}=e;if(Si(a)){const y=a;return y.locale=y.locale||s,y.key=y.key||t,y}if(d==null){const y=(()=>a);return y.locale=s,y.key=t,y}const m=d(a,hT(e,s,i,a,h,u));return m.locale=s,m.key=t,m.source=a,m}function fT(e,t,s){return t(s)}function pf(...e){const[t,s,a]=e,i=Dt();if(!He(t)&&!nn(t)&&!Si(t)&&!mr(t))throw Vr($r.INVALID_ARGUMENT);const u=nn(t)?String(t):(Si(t),t);return nn(s)?i.plural=s:He(s)?i.default=s:mt(s)&&!qc(s)?i.named=s:en(s)&&(i.list=s),nn(a)?i.plural=a:He(a)?i.default=a:mt(a)&&dn(i,a),[u,i]}function hT(e,t,s,a,i,u){return{locale:t,key:s,warnHtmlMessage:i,onError:d=>{throw u&&u(d),d},onCacheKey:d=>Ux(t,s,d)}}function pT(e,t,s,a){const{modifiers:i,pluralRules:u,messageResolver:d,fallbackLocale:h,fallbackWarn:m,missingWarn:y,fallbackContext:v}=e,T={locale:t,modifiers:i,pluralRules:u,messages:(P,O)=>{let B=d(s,P);if(B==null&&(v||O)){const[,,z]=Ny(v||e,P,t,h,m,y);B=d(z,P)}if(He(B)||mr(B)){let z=!1;const $=My(e,P,t,B,P,()=>{z=!0});return z?Em:$}else return Si(B)?B:Em}};return e.processor&&(T.processor=e.processor),a.list&&(T.list=a.list),a.named&&(T.named=a.named),nn(a.plural)&&(T.pluralIndex=a.plural),T}y1();/*!
  * vue-i18n v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const mT="10.0.8";function gT(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(sa().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(sa().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(sa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sa().__INTLIFY_PROD_DEVTOOLS__=!1)}const Xn={UNEXPECTED_RETURN_TYPE:A1,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function si(e,...t){return jc(e,null,void 0)}const mf=Ps("__translateVNode"),gf=Ps("__datetimeParts"),_f=Ps("__numberParts"),Oy=Ps("__setPluralRules"),Ay=Ps("__injectWithOption"),vf=Ps("__dispose");function Au(e){if(!St(e)||mr(e))return e;for(const t in e)if(Fi(e,t))if(!t.includes("."))St(e[t])&&Au(e[t]);else{const s=t.split("."),a=s.length-1;let i=e,u=!1;for(let d=0;d<a;d++){if(s[d]==="__proto__")throw new Error(`unsafe key: ${s[d]}`);if(s[d]in i||(i[s[d]]=Dt()),!St(i[s[d]])){u=!0;break}i=i[s[d]]}if(u||(mr(i)?ky.includes(s[a])||delete e[t]:(i[s[a]]=e[t],delete e[t])),!mr(i)){const d=i[s[a]];St(d)&&Au(d)}}return e}function bh(e,t){const{messages:s,__i18n:a,messageResolver:i,flatJson:u}=t,d=mt(s)?s:en(a)?Dt():{[e]:Dt()};if(en(a)&&a.forEach(h=>{if("locale"in h&&"resource"in h){const{locale:m,resource:y}=h;m?(d[m]=d[m]||Dt(),Ul(y,d[m])):Ul(y,d)}else He(h)&&Ul(JSON.parse(h),d)}),i==null&&u)for(const h in d)Fi(d,h)&&Au(d[h]);return d}function Ry(e){return e.type}function Dy(e,t,s){let a=St(t.messages)?t.messages:Dt();"__i18nGlobal"in s&&(a=bh(e.locale.value,{messages:a,__i18n:s.__i18nGlobal}));const i=Object.keys(a);i.length&&i.forEach(u=>{e.mergeLocaleMessage(u,a[u])});{if(St(t.datetimeFormats)){const u=Object.keys(t.datetimeFormats);u.length&&u.forEach(d=>{e.mergeDateTimeFormat(d,t.datetimeFormats[d])})}if(St(t.numberFormats)){const u=Object.keys(t.numberFormats);u.length&&u.forEach(d=>{e.mergeNumberFormat(d,t.numberFormats[d])})}}}function Tm(e){return Be(vo,null,e,0)}const Sm="__INTLIFY_META__",Cm=()=>[],_T=()=>!1;let Pm=0;function Im(e){return((t,s,a,i)=>e(s,a,Yn()||void 0,i))}const vT=()=>{const e=Yn();let t=null;return e&&(t=Ry(e)[Sm])?{[Sm]:t}:null};function wh(e={}){const{__root:t,__injectWithOption:s}=e,a=t===void 0,i=e.flatJson,u=fc?Ie:Dn;let d=xt(e.inheritLocale)?e.inheritLocale:!0;const h=u(t&&d?t.locale.value:He(e.locale)?e.locale:Ou),m=u(t&&d?t.fallbackLocale.value:He(e.fallbackLocale)||en(e.fallbackLocale)||mt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:h.value),y=u(bh(h.value,e)),v=u(mt(e.datetimeFormats)?e.datetimeFormats:{[h.value]:{}}),b=u(mt(e.numberFormats)?e.numberFormats:{[h.value]:{}});let T=t?t.missingWarn:xt(e.missingWarn)||uo(e.missingWarn)?e.missingWarn:!0,P=t?t.fallbackWarn:xt(e.fallbackWarn)||uo(e.fallbackWarn)?e.fallbackWarn:!0,O=t?t.fallbackRoot:xt(e.fallbackRoot)?e.fallbackRoot:!0,B=!!e.fallbackFormat,z=$t(e.missing)?e.missing:null,R=$t(e.missing)?Im(e.missing):null,$=$t(e.postTranslation)?e.postTranslation:null,q=t?t.warnHtmlMessage:xt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const x=t?t.modifiers:mt(e.modifiers)?e.modifiers:{};let k=e.pluralRules||t&&t.pluralRules,C;C=(()=>{a&&_m(null);const re={version:mT,locale:h.value,fallbackLocale:m.value,messages:y.value,modifiers:x,pluralRules:k,missing:R===null?void 0:R,missingWarn:T,fallbackWarn:P,fallbackFormat:B,unresolving:!0,postTranslation:$===null?void 0:$,warnHtmlMessage:q,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};re.datetimeFormats=v.value,re.numberFormats=b.value,re.__datetimeFormatters=mt(C)?C.__datetimeFormatters:void 0,re.__numberFormatters=mt(C)?C.__numberFormatters:void 0;const we=eT(re);return a&&_m(we),we})(),eu(C,h.value,m.value);function D(){return[h.value,m.value,y.value,v.value,b.value]}const A=ge({get:()=>h.value,set:re=>{h.value=re,C.locale=h.value}}),Y=ge({get:()=>m.value,set:re=>{m.value=re,C.fallbackLocale=m.value,eu(C,h.value,re)}}),X=ge(()=>y.value),W=ge(()=>v.value),j=ge(()=>b.value);function te(){return $t($)?$:null}function G(re){$=re,C.postTranslation=re}function ae(){return z}function se(re){re!==null&&(R=Im(re)),z=re,C.missing=R}const ve=(re,we,Ve,et,De,Gt)=>{D();let Xe;try{__INTLIFY_PROD_DEVTOOLS__,a||(C.fallbackContext=t?Q1():void 0),Xe=re(C)}finally{__INTLIFY_PROD_DEVTOOLS__,a||(C.fallbackContext=void 0)}if(Ve!=="translate exists"&&nn(Xe)&&Xe===Wc||Ve==="translate exists"&&!Xe){const[Ye,Bn]=we();return t&&O?et(t):De(Ye)}else{if(Gt(Xe))return Xe;throw si(Xn.UNEXPECTED_RETURN_TYPE)}};function ce(...re){return ve(we=>Reflect.apply(xm,null,[we,...re]),()=>pf(...re),"translate",we=>Reflect.apply(we.t,we,[...re]),we=>we,we=>He(we))}function ke(...re){const[we,Ve,et]=re;if(et&&!St(et))throw si(Xn.INVALID_ARGUMENT);return ce(we,Ve,dn({resolvedMessage:!0},et||{}))}function Fe(...re){return ve(we=>Reflect.apply(ym,null,[we,...re]),()=>ff(...re),"datetime format",we=>Reflect.apply(we.d,we,[...re]),()=>mm,we=>He(we))}function $e(...re){return ve(we=>Reflect.apply(wm,null,[we,...re]),()=>hf(...re),"number format",we=>Reflect.apply(we.n,we,[...re]),()=>mm,we=>He(we))}function Oe(re){return re.map(we=>He(we)||nn(we)||xt(we)?Tm(String(we)):we)}const Te={normalize:Oe,interpolate:re=>re,type:"vnode"};function de(...re){return ve(we=>{let Ve;const et=we;try{et.processor=Te,Ve=Reflect.apply(xm,null,[et,...re])}finally{et.processor=null}return Ve},()=>pf(...re),"translate",we=>we[mf](...re),we=>[Tm(we)],we=>en(we))}function K(...re){return ve(we=>Reflect.apply(wm,null,[we,...re]),()=>hf(...re),"number format",we=>we[_f](...re),Cm,we=>He(we)||en(we))}function Se(...re){return ve(we=>Reflect.apply(ym,null,[we,...re]),()=>ff(...re),"datetime format",we=>we[gf](...re),Cm,we=>He(we)||en(we))}function Ae(re){k=re,C.pluralRules=k}function Ne(re,we){return ve(()=>{if(!re)return!1;const Ve=He(we)?we:h.value,et=oe(Ve),De=C.messageResolver(et,re);return mr(De)||Si(De)||He(De)},()=>[re],"translate exists",Ve=>Reflect.apply(Ve.te,Ve,[re,we]),_T,Ve=>xt(Ve))}function N(re){let we=null;const Ve=Ly(C,m.value,h.value);for(let et=0;et<Ve.length;et++){const De=y.value[Ve[et]]||{},Gt=C.messageResolver(De,re);if(Gt!=null){we=Gt;break}}return we}function ee(re){const we=N(re);return we??(t?t.tm(re)||{}:{})}function oe(re){return y.value[re]||{}}function _e(re,we){if(i){const Ve={[re]:we};for(const et in Ve)Fi(Ve,et)&&Au(Ve[et]);we=Ve[re]}y.value[re]=we,C.messages=y.value}function Le(re,we){y.value[re]=y.value[re]||{};const Ve={[re]:we};if(i)for(const et in Ve)Fi(Ve,et)&&Au(Ve[et]);we=Ve[re],Ul(we,y.value[re]),C.messages=y.value}function ye(re){return v.value[re]||{}}function Z(re,we){v.value[re]=we,C.datetimeFormats=v.value,bm(C,re,we)}function U(re,we){v.value[re]=dn(v.value[re]||{},we),C.datetimeFormats=v.value,bm(C,re,we)}function ue(re){return b.value[re]||{}}function he(re,we){b.value[re]=we,C.numberFormats=b.value,km(C,re,we)}function Ge(re,we){b.value[re]=dn(b.value[re]||{},we),C.numberFormats=b.value,km(C,re,we)}Pm++,t&&fc&&(tt(t.locale,re=>{d&&(h.value=re,C.locale=re,eu(C,h.value,m.value))}),tt(t.fallbackLocale,re=>{d&&(m.value=re,C.fallbackLocale=re,eu(C,h.value,m.value))}));const Ce={id:Pm,locale:A,fallbackLocale:Y,get inheritLocale(){return d},set inheritLocale(re){d=re,re&&t&&(h.value=t.locale.value,m.value=t.fallbackLocale.value,eu(C,h.value,m.value))},get availableLocales(){return Object.keys(y.value).sort()},messages:X,get modifiers(){return x},get pluralRules(){return k||{}},get isGlobal(){return a},get missingWarn(){return T},set missingWarn(re){T=re,C.missingWarn=T},get fallbackWarn(){return P},set fallbackWarn(re){P=re,C.fallbackWarn=P},get fallbackRoot(){return O},set fallbackRoot(re){O=re},get fallbackFormat(){return B},set fallbackFormat(re){B=re,C.fallbackFormat=B},get warnHtmlMessage(){return q},set warnHtmlMessage(re){q=re,C.warnHtmlMessage=re},get escapeParameter(){return _},set escapeParameter(re){_=re,C.escapeParameter=re},t:ce,getLocaleMessage:oe,setLocaleMessage:_e,mergeLocaleMessage:Le,getPostTranslationHandler:te,setPostTranslationHandler:G,getMissingHandler:ae,setMissingHandler:se,[Oy]:Ae};return Ce.datetimeFormats=W,Ce.numberFormats=j,Ce.rt=ke,Ce.te=Ne,Ce.tm=ee,Ce.d=Fe,Ce.n=$e,Ce.getDateTimeFormat=ye,Ce.setDateTimeFormat=Z,Ce.mergeDateTimeFormat=U,Ce.getNumberFormat=ue,Ce.setNumberFormat=he,Ce.mergeNumberFormat=Ge,Ce[Ay]=s,Ce[mf]=de,Ce[gf]=Se,Ce[_f]=K,Ce}function yT(e){const t=He(e.locale)?e.locale:Ou,s=He(e.fallbackLocale)||en(e.fallbackLocale)||mt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,a=$t(e.missing)?e.missing:void 0,i=xt(e.silentTranslationWarn)||uo(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,u=xt(e.silentFallbackWarn)||uo(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,d=xt(e.fallbackRoot)?e.fallbackRoot:!0,h=!!e.formatFallbackMessages,m=mt(e.modifiers)?e.modifiers:{},y=e.pluralizationRules,v=$t(e.postTranslation)?e.postTranslation:void 0,b=He(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,T=!!e.escapeParameterHtml,P=xt(e.sync)?e.sync:!0;let O=e.messages;if(mt(e.sharedMessages)){const x=e.sharedMessages;O=Object.keys(x).reduce((C,F)=>{const D=C[F]||(C[F]={});return dn(D,x[F]),C},O||{})}const{__i18n:B,__root:z,__injectWithOption:R}=e,$=e.datetimeFormats,q=e.numberFormats,_=e.flatJson;return{locale:t,fallbackLocale:s,messages:O,flatJson:_,datetimeFormats:$,numberFormats:q,missing:a,missingWarn:i,fallbackWarn:u,fallbackRoot:d,fallbackFormat:h,modifiers:m,pluralRules:y,postTranslation:v,warnHtmlMessage:b,escapeParameter:T,messageResolver:e.messageResolver,inheritLocale:P,__i18n:B,__root:z,__injectWithOption:R}}function yf(e={}){const t=wh(yT(e)),{__extender:s}=e,a={id:t.id,get locale(){return t.locale.value},set locale(i){t.locale.value=i},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(i){t.fallbackLocale.value=i},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(i){t.setMissingHandler(i)},get silentTranslationWarn(){return xt(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(i){t.missingWarn=xt(i)?!i:i},get silentFallbackWarn(){return xt(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(i){t.fallbackWarn=xt(i)?!i:i},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(i){t.fallbackFormat=i},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(i){t.setPostTranslationHandler(i)},get sync(){return t.inheritLocale},set sync(i){t.inheritLocale=i},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){t.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(i){t.escapeParameter=i},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...i){return Reflect.apply(t.t,t,[...i])},rt(...i){return Reflect.apply(t.rt,t,[...i])},tc(...i){const[u,d,h]=i,m={plural:1};let y=null,v=null;if(!He(u))throw si(Xn.INVALID_ARGUMENT);const b=u;return He(d)?m.locale=d:nn(d)?m.plural=d:en(d)?y=d:mt(d)&&(v=d),He(h)?m.locale=h:en(h)?y=h:mt(h)&&(v=h),Reflect.apply(t.t,t,[b,y||v||{},m])},te(i,u){return t.te(i,u)},tm(i){return t.tm(i)},getLocaleMessage(i){return t.getLocaleMessage(i)},setLocaleMessage(i,u){t.setLocaleMessage(i,u)},mergeLocaleMessage(i,u){t.mergeLocaleMessage(i,u)},d(...i){return Reflect.apply(t.d,t,[...i])},getDateTimeFormat(i){return t.getDateTimeFormat(i)},setDateTimeFormat(i,u){t.setDateTimeFormat(i,u)},mergeDateTimeFormat(i,u){t.mergeDateTimeFormat(i,u)},n(...i){return Reflect.apply(t.n,t,[...i])},getNumberFormat(i){return t.getNumberFormat(i)},setNumberFormat(i,u){t.setNumberFormat(i,u)},mergeNumberFormat(i,u){t.mergeNumberFormat(i,u)}};return a.__extender=s,a}function bT(e,t,s){return{beforeCreate(){const a=Yn();if(!a)throw si(Xn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const u=i.i18n;if(i.__i18n&&(u.__i18n=i.__i18n),u.__root=t,this===this.$root)this.$i18n=Nm(e,u);else{u.__injectWithOption=!0,u.__extender=s.__vueI18nExtend,this.$i18n=yf(u);const d=this.$i18n;d.__extender&&(d.__disposer=d.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=Nm(e,i);else{this.$i18n=yf({__i18n:i.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:t});const u=this.$i18n;u.__extender&&(u.__disposer=u.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&Dy(t,i,i),this.$t=(...u)=>this.$i18n.t(...u),this.$rt=(...u)=>this.$i18n.rt(...u),this.$tc=(...u)=>this.$i18n.tc(...u),this.$te=(u,d)=>this.$i18n.te(u,d),this.$d=(...u)=>this.$i18n.d(...u),this.$n=(...u)=>this.$i18n.n(...u),this.$tm=u=>this.$i18n.tm(u),s.__setInstance(a,this.$i18n)},mounted(){},unmounted(){const a=Yn();if(!a)throw si(Xn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),s.__deleteInstance(a),delete this.$i18n}}}function Nm(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Oy](t.pluralizationRules||e.pluralizationRules);const s=bh(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(s).forEach(a=>e.mergeLocaleMessage(a,s[a])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(a=>e.mergeDateTimeFormat(a,t.datetimeFormats[a])),t.numberFormats&&Object.keys(t.numberFormats).forEach(a=>e.mergeNumberFormat(a,t.numberFormats[a])),e}const kh={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function wT({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((a,i)=>[...a,...i.type===pt?i.children:[i]],[]):t.reduce((s,a)=>{const i=e[a];return i&&(s[a]=i()),s},Dt())}function By(){return pt}const kT=yt({name:"i18n-t",props:dn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>nn(e)||!isNaN(e)}},kh),setup(e,t){const{slots:s,attrs:a}=t,i=e.i18n||Yi({useScope:e.scope,__useComponent:!0});return()=>{const u=Object.keys(s).filter(b=>b!=="_"),d=Dt();e.locale&&(d.locale=e.locale),e.plural!==void 0&&(d.plural=He(e.plural)?+e.plural:e.plural);const h=wT(t,u),m=i[mf](e.keypath,h,d),y=dn(Dt(),a),v=He(e.tag)||St(e.tag)?e.tag:By();return Zr(v,y,m)}}}),Mm=kT;function LT(e){return en(e)&&!He(e[0])}function Fy(e,t,s,a){const{slots:i,attrs:u}=t;return()=>{const d={part:!0};let h=Dt();e.locale&&(d.locale=e.locale),He(e.format)?d.key=e.format:St(e.format)&&(He(e.format.key)&&(d.key=e.format.key),h=Object.keys(e.format).reduce((T,P)=>s.includes(P)?dn(Dt(),T,{[P]:e.format[P]}):T,Dt()));const m=a(e.value,d,h);let y=[d.key];en(m)?y=m.map((T,P)=>{const O=i[T.type],B=O?O({[T.type]:T.value,index:P,parts:m}):[T.value];return LT(B)&&(B[0].key=`${T.type}-${P}`),B}):He(m)&&(y=[m]);const v=dn(Dt(),u),b=He(e.tag)||St(e.tag)?e.tag:By();return Zr(b,v,y)}}const ET=yt({name:"i18n-n",props:dn({value:{type:Number,required:!0},format:{type:[String,Object]}},kh),setup(e,t){const s=e.i18n||Yi({useScope:e.scope,__useComponent:!0});return Fy(e,t,Iy,(...a)=>s[_f](...a))}}),Om=ET,xT=yt({name:"i18n-d",props:dn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},kh),setup(e,t){const s=e.i18n||Yi({useScope:e.scope,__useComponent:!0});return Fy(e,t,Py,(...a)=>s[gf](...a))}}),Am=xT;function TT(e,t){const s=e;if(e.mode==="composition")return s.__getInstance(t)||e.global;{const a=s.__getInstance(t);return a!=null?a.__composer:e.global.__composer}}function ST(e){const t=d=>{const{instance:h,value:m}=d;if(!h||!h.$)throw si(Xn.UNEXPECTED_ERROR);const y=TT(e,h.$),v=Rm(m);return[Reflect.apply(y.t,y,[...Dm(v)]),y]};return{created:(d,h)=>{const[m,y]=t(h);fc&&e.global===y&&(d.__i18nWatcher=tt(y.locale,()=>{h.instance&&h.instance.$forceUpdate()})),d.__composer=y,d.textContent=m},unmounted:d=>{fc&&d.__i18nWatcher&&(d.__i18nWatcher(),d.__i18nWatcher=void 0,delete d.__i18nWatcher),d.__composer&&(d.__composer=void 0,delete d.__composer)},beforeUpdate:(d,{value:h})=>{if(d.__composer){const m=d.__composer,y=Rm(h);d.textContent=Reflect.apply(m.t,m,[...Dm(y)])}},getSSRProps:d=>{const[h]=t(d);return{textContent:h}}}}function Rm(e){if(He(e))return{path:e};if(mt(e)){if(!("path"in e))throw si(Xn.REQUIRED_VALUE,"path");return e}else throw si(Xn.INVALID_VALUE)}function Dm(e){const{path:t,locale:s,args:a,choice:i,plural:u}=e,d={},h=a||{};return He(s)&&(d.locale=s),nn(i)&&(d.plural=i),nn(u)&&(d.plural=u),[t,h,d]}function CT(e,t,...s){const a=mt(s[0])?s[0]:{};(xt(a.globalInstall)?a.globalInstall:!0)&&([Mm.name,"I18nT"].forEach(u=>e.component(u,Mm)),[Om.name,"I18nN"].forEach(u=>e.component(u,Om)),[Am.name,"I18nD"].forEach(u=>e.component(u,Am))),e.directive("t",ST(t))}const PT=Ps("global-vue-i18n");function IT(e={},t){const s=__VUE_I18N_LEGACY_API__&&xt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,a=xt(e.globalInjection)?e.globalInjection:!0,i=new Map,[u,d]=NT(e,s),h=Ps("");function m(T){return i.get(T)||null}function y(T,P){i.set(T,P)}function v(T){i.delete(T)}const b={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},async install(T,...P){if(T.__VUE_I18N_SYMBOL__=h,T.provide(T.__VUE_I18N_SYMBOL__,b),mt(P[0])){const z=P[0];b.__composerExtend=z.__composerExtend,b.__vueI18nExtend=z.__vueI18nExtend}let O=null;!s&&a&&(O=zT(T,b.global)),__VUE_I18N_FULL_INSTALL__&&CT(T,b,...P),__VUE_I18N_LEGACY_API__&&s&&T.mixin(bT(d,d.__composer,b));const B=T.unmount;T.unmount=()=>{O&&O(),b.dispose(),B()}},get global(){return d},dispose(){u.stop()},__instances:i,__getInstance:m,__setInstance:y,__deleteInstance:v};return b}function Yi(e={}){const t=Yn();if(t==null)throw si(Xn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw si(Xn.NOT_INSTALLED);const s=MT(t),a=AT(s),i=Ry(t),u=OT(e,i);if(u==="global")return Dy(a,e,i),a;if(u==="parent"){let m=RT(s,t,e.__useComponent);return m==null&&(m=a),m}const d=s;let h=d.__getInstance(t);if(h==null){const m=dn({},e);"__i18n"in i&&(m.__i18n=i.__i18n),a&&(m.__root=a),h=wh(m),d.__composerExtend&&(h[vf]=d.__composerExtend(h)),BT(d,t,h),d.__setInstance(t,h)}return h}function NT(e,t,s){const a=n_(),i=__VUE_I18N_LEGACY_API__&&t?a.run(()=>yf(e)):a.run(()=>wh(e));if(i==null)throw si(Xn.UNEXPECTED_ERROR);return[a,i]}function MT(e){const t=sn(e.isCE?PT:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw si(e.isCE?Xn.NOT_INSTALLED_WITH_PROVIDE:Xn.UNEXPECTED_ERROR);return t}function OT(e,t){return qc(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function AT(e){return e.mode==="composition"?e.global:e.global.__composer}function RT(e,t,s=!1){let a=null;const i=t.root;let u=DT(t,s);for(;u!=null;){const d=e;if(e.mode==="composition")a=d.__getInstance(u);else if(__VUE_I18N_LEGACY_API__){const h=d.__getInstance(u);h!=null&&(a=h.__composer,s&&a&&!a[Ay]&&(a=null))}if(a!=null||i===u)break;u=u.parent}return a}function DT(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function BT(e,t,s){Mi(()=>{},t),$u(()=>{const a=s;e.__deleteInstance(t);const i=a[vf];i&&(i(),delete a[vf])},t)}const FT=["locale","fallbackLocale","availableLocales"],Bm=["t","rt","d","n","tm","te"];function zT(e,t){const s=Object.create(null);return FT.forEach(i=>{const u=Object.getOwnPropertyDescriptor(t,i);if(!u)throw si(Xn.UNEXPECTED_ERROR);const d=wt(u.value)?{get(){return u.value.value},set(h){u.value.value=h}}:{get(){return u.get&&u.get()}};Object.defineProperty(s,i,d)}),e.config.globalProperties.$i18n=s,Bm.forEach(i=>{const u=Object.getOwnPropertyDescriptor(t,i);if(!u||!u.value)throw si(Xn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,u)}),()=>{delete e.config.globalProperties.$i18n,Bm.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}gT();Z1(P1);Y1(q1);X1(Ly);if(__INTLIFY_PROD_DEVTOOLS__){const e=sa();e.__INTLIFY__=!0,I1(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const GT={__name:"App",setup(e){const{t,locale:s}=Yi();return document.title=t("title"),tt(s,()=>{document.title=t("title"),document.getElementsByTagName("html")[0].lang=s.value}),(a,i)=>{const u=U_("RouterView");return fe(),st(u)}}};var Xr=(e=>(e.GBIF="GBIF",e.GeoNature="GeoNature",e))(Xr||{});function Lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tu={exports:{}},Fm;function UT(){if(Fm)return tu.exports;Fm=1,tu.exports=s,tu.exports.parse=s,tu.exports.stringify=a;var e=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,t=new RegExp("^"+e.source+"(\\s"+e.source+"){1,}");function s(i){var u=i.split(";"),d=u.pop(),h=(u.shift()||"").split("=").pop(),m=0;function y(k){var C=d.substring(m).match(k);return C?(m+=C[0].length,C[0]):null}function v(k){return k&&h.match(/\d+/)&&(k.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+h}}),k}function b(){y(/^\s*/)}function T(){b();for(var k=0,C=[],F=[C],D=C,A;A=y(/^(\()/)||y(/^(\))/)||y(/^(,)/)||y(t);){if(A==="(")F.push(D),D=[],F[F.length-1].push(D),k++;else if(A===")"){if(D.length===0||(D=F.pop(),!D))return null;if(k--,k===0)break}else if(A===",")D=[],F[F.length-1].push(D);else if(!A.split(/\s/g).some(isNaN))Array.prototype.push.apply(D,A.split(/\s/g).map(parseFloat));else return null;b()}return k!==0?null:C}function P(){for(var k=[],C,F;F=y(t)||y(/^(,)/);)F===","?(k.push(C),C=[]):F.split(/\s/g).some(isNaN)||(C||(C=[]),Array.prototype.push.apply(C,F.split(/\s/g).map(parseFloat))),b();if(C)k.push(C);else return null;return k.length?k:null}function O(){if(!y(/^(point(\sz)?)/i)||(b(),!y(/^(\()/)))return null;var k=P();return!k||(b(),!y(/^(\))/))?null:{type:"Point",coordinates:k[0]}}function B(){if(!y(/^(multipoint)/i))return null;b();var k=d.substring(d.indexOf("(")+1,d.length-1).replace(/\(/g,"").replace(/\)/g,"");d="MULTIPOINT ("+k+")";var C=T();return C?(b(),{type:"MultiPoint",coordinates:C}):null}function z(){if(!y(/^(multilinestring)/i))return null;b();var k=T();return k?(b(),{type:"MultiLineString",coordinates:k}):null}function R(){if(!y(/^(linestring(\sz)?)/i)||(b(),!y(/^(\()/)))return null;var k=P();return!k||!y(/^(\))/)?null:{type:"LineString",coordinates:k}}function $(){if(!y(/^(polygon(\sz)?)/i))return null;b();var k=T();return k?{type:"Polygon",coordinates:k}:null}function q(){if(!y(/^(multipolygon)/i))return null;b();var k=T();return k?{type:"MultiPolygon",coordinates:k}:null}function _(){var k=[],C;if(!y(/^(geometrycollection)/i)||(b(),!y(/^(\()/)))return null;for(;C=x();)k.push(C),b(),y(/^(,)/),b();return y(/^(\))/)?{type:"GeometryCollection",geometries:k}:null}function x(){return O()||R()||$()||B()||z()||q()||_()}return v(x())}function a(i){i.type==="Feature"&&(i=i.geometry);function u(v){return v.join(" ")}function d(v){return v.map(u).join(", ")}function h(v){return v.map(d).map(y).join(", ")}function m(v){return v.map(h).map(y).join(", ")}function y(v){return"("+v+")"}switch(i.type){case"Point":return"POINT ("+u(i.coordinates)+")";case"LineString":return"LINESTRING ("+d(i.coordinates)+")";case"Polygon":return"POLYGON ("+h(i.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+d(i.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+m(i.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+h(i.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+i.geometries.map(a).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return tu.exports}var Wn=UT(),Zn=(e=>(e.sound="sound",e.image="image",e))(Zn||{});class Zc{constructor(t,s){if(this.name=t,!Object.values(Ni).includes(s))throw new Error("Source identifier is not declared in `mediaIdentifier.js`");this.id=s}fetchPicture(t,s){throw this.isCompatible(s)?new Error("Not implemented"):new Error("This media source is not available!")}fetchSound(t,s){if(!this.isCompatible(s))throw new Error("This media source is not available!");return new Promise(a=>null)}}var bo=(e=>(e.GBIF="GBIF",e.TAXREF="TAXREF",e))(bo||{}),ti=63710088e-1,zy={centimeters:ti*100,centimetres:ti*100,degrees:360/(2*Math.PI),feet:ti*3.28084,inches:ti*39.37,kilometers:ti/1e3,kilometres:ti/1e3,meters:ti,metres:ti,miles:ti/1609.344,millimeters:ti*1e3,millimetres:ti*1e3,nauticalmiles:ti/1852,radians:1,yards:ti*1.0936};function Yc(e,t,s={}){const a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=t||{},a.geometry=e,a}function $T(e,t,s={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Gm(e[0])||!Gm(e[1]))throw new Error("coordinates must contain numbers");return Yc({type:"Point",coordinates:e},t,s)}function zm(e,t,s={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Yc({type:"LineString",coordinates:e},t,s)}function hc(e,t={}){const s={type:"FeatureCollection"};return t.id&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.features=e,s}function VT(e,t="kilometers"){const s=zy[t];if(!s)throw new Error(t+" units is invalid");return e*s}function HT(e,t="kilometers"){const s=zy[t];if(!s)throw new Error(t+" units is invalid");return e/s}function Gm(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Eh(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function qT(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function dr(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function jT(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function xh(e,t,s){if(e!==null)for(var a,i,u,d,h,m,y,v=0,b=0,T,P=e.type,O=P==="FeatureCollection",B=P==="Feature",z=O?e.features.length:1,R=0;R<z;R++){y=O?e.features[R].geometry:B?e.geometry:e,T=y?y.type==="GeometryCollection":!1,h=T?y.geometries.length:1;for(var $=0;$<h;$++){var q=0,_=0;if(d=T?y.geometries[$]:y,d!==null){m=d.coordinates;var x=d.type;switch(v=0,x){case null:break;case"Point":if(t(m,b,R,q,_)===!1)return!1;b++,q++;break;case"LineString":case"MultiPoint":for(a=0;a<m.length;a++){if(t(m[a],b,R,q,_)===!1)return!1;b++,x==="MultiPoint"&&q++}x==="LineString"&&q++;break;case"Polygon":case"MultiLineString":for(a=0;a<m.length;a++){for(i=0;i<m[a].length-v;i++){if(t(m[a][i],b,R,q,_)===!1)return!1;b++}x==="MultiLineString"&&q++,x==="Polygon"&&_++}x==="Polygon"&&q++;break;case"MultiPolygon":for(a=0;a<m.length;a++){for(_=0,i=0;i<m[a].length;i++){for(u=0;u<m[a][i].length-v;u++){if(t(m[a][i][u],b,R,q,_)===!1)return!1;b++}_++}q++}break;case"GeometryCollection":for(a=0;a<d.geometries.length;a++)if(xh(d.geometries[a],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function pc(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&t(e.features[s],s)!==!1;s++);}function Wu(e,t){var s,a,i,u,d,h,m,y,v,b,T=0,P=e.type==="FeatureCollection",O=e.type==="Feature",B=P?e.features.length:1;for(s=0;s<B;s++){for(h=P?e.features[s].geometry:O?e.geometry:e,y=P?e.features[s].properties:O?e.properties:{},v=P?e.features[s].bbox:O?e.bbox:void 0,b=P?e.features[s].id:O?e.id:void 0,m=h?h.type==="GeometryCollection":!1,d=m?h.geometries.length:1,i=0;i<d;i++){if(u=m?h.geometries[i]:h,u===null){if(t(null,T,y,v,b)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(u,T,y,v,b)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<u.geometries.length;a++)if(t(u.geometries[a],T,y,v,b)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}T++}}function WT(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const s=[1/0,1/0,-1/0,-1/0];return xh(e,a=>{s[0]>a[0]&&(s[0]=a[0]),s[1]>a[1]&&(s[1]=a[1]),s[2]<a[0]&&(s[2]=a[0]),s[3]<a[1]&&(s[3]=a[1])}),s}function Ru(e){const t=dr(e);let s=0,a=1,i,u;for(;a<t.length;)i=u||t[0],u=t[a],s+=(u[0]-i[0])*(u[1]+i[1]),a++;return s>0}function Um(e,t,s={}){const a=qT(e),i=dr(t);for(let u=0;u<i.length-1;u++){let d=!1;if(s.ignoreEndVertices&&(u===0&&(d="start"),u===i.length-2&&(d="end"),u===0&&u+1===i.length-1&&(d="both")),ZT(i[u],i[u+1],a,d,typeof s.epsilon>"u"?null:s.epsilon))return!0}return!1}function ZT(e,t,s,a,i){const u=s[0],d=s[1],h=e[0],m=e[1],y=t[0],v=t[1],b=s[0]-h,T=s[1]-m,P=y-h,O=v-m,B=b*O-T*P;if(i!==null){if(Math.abs(B)>i)return!1}else if(B!==0)return!1;if(Math.abs(P)===Math.abs(O)&&Math.abs(P)===0)return a?!1:s[0]===e[0]&&s[1]===e[1];if(a){if(a==="start")return Math.abs(P)>=Math.abs(O)?P>0?h<u&&u<=y:y<=u&&u<h:O>0?m<d&&d<=v:v<=d&&d<m;if(a==="end")return Math.abs(P)>=Math.abs(O)?P>0?h<=u&&u<y:y<u&&u<=h:O>0?m<=d&&d<v:v<d&&d<=m;if(a==="both")return Math.abs(P)>=Math.abs(O)?P>0?h<u&&u<y:y<u&&u<h:O>0?m<d&&d<v:v<d&&d<m}else return Math.abs(P)>=Math.abs(O)?P>0?h<=u&&u<=y:y<=u&&u<=h:O>0?m<=d&&d<=v:v<=d&&d<=m;return!1}function YT(e,t={}){var s=typeof t=="object"?t.mutate:t;if(!e)throw new Error("geojson is required");var a=jT(e),i=[];switch(a){case"LineString":i=Rd(e,a);break;case"MultiLineString":case"Polygon":dr(e).forEach(function(d){i.push(Rd(d,a))});break;case"MultiPolygon":dr(e).forEach(function(d){var h=[];d.forEach(function(m){h.push(Rd(m,a))}),i.push(h)});break;case"Point":return e;case"MultiPoint":var u={};dr(e).forEach(function(d){var h=d.join("-");Object.prototype.hasOwnProperty.call(u,h)||(i.push(d),u[h]=!0)});break;default:throw new Error(a+" geometry not supported")}return e.coordinates?s===!0?(e.coordinates=i,e):{type:a,coordinates:i}:s===!0?(e.geometry.coordinates=i,e):Yc({type:a,coordinates:i},e.properties,{bbox:e.bbox,id:e.id})}function Rd(e,t){const s=dr(e);if(s.length===2&&!$m(s[0],s[1]))return s;const a=[];let i=0,u=1,d=2;for(a.push(s[i]);d<s.length;)Um(s[u],zm([s[i],s[d]]))?u=d:(a.push(s[u]),i=u,u++,d=u),d++;if(a.push(s[u]),t==="Polygon"||t==="MultiPolygon"){if(Um(a[0],zm([a[1],a[a.length-2]]))&&(a.shift(),a.pop(),a.push(a[0])),a.length<4)throw new Error("invalid polygon, fewer than 4 points");if(!$m(a[0],a[a.length-1]))throw new Error("invalid polygon, first and last points not equal")}return a}function $m(e,t){return e[0]===t[0]&&e[1]===t[1]}function XT(e,t={}){const s=WT(e),a=(s[0]+s[2])/2,i=(s[1]+s[3])/2;return $T([a,i],t.properties,t)}var $l={exports:{}},KT=$l.exports,Vm;function JT(){return Vm||(Vm=1,(function(e,t){(function(s,a){e.exports=a()})(KT,(function(){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var r=0,l=Array(n);r<n;r++)l[r]=c[r];return l}function a(c,n,r){return n=v(n),(function(l,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w})(l)})(c,T()?Reflect.construct(n,r||[],v(c).constructor):n.apply(c,r))}function i(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function u(c,n,r){if(T())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,n);var p=new(c.bind.apply(c,l));return r&&P(p,r.prototype),p}function d(c,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,z(l.key),l)}}function h(c,n,r){return n&&d(c.prototype,n),r&&d(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c,n){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=R(c))||n){r&&(c=r);var l=0,p=function(){};return{s:p,n:function(){return l>=c.length?{done:!0}:{done:!1,value:c[l++]}},e:function(V){throw V},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,S=!0,M=!1;return{s:function(){r=r.call(c)},n:function(){var V=r.next();return S=V.done,V},e:function(V){M=!0,w=V},f:function(){try{S||r.return==null||r.return()}finally{if(M)throw w}}}}function y(){return y=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,n,r){var l=(function(w,S){for(;!{}.hasOwnProperty.call(w,S)&&(w=v(w))!==null;);return w})(c,n);if(l){var p=Object.getOwnPropertyDescriptor(l,n);return p.get?p.get.call(arguments.length<3?c:r):p.value}},y.apply(null,arguments)}function v(c){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v(c)}function b(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),n&&P(c,n)}function T(){try{var c=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(T=function(){return!!c})()}function P(c,n){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,l){return r.__proto__=l,r},P(c,n)}function O(c,n,r,l){var p=y(v(1&l?c.prototype:c),n,r);return 2&l&&typeof p=="function"?function(w){return p.apply(r,w)}:p}function B(c){return(function(n){if(Array.isArray(n))return s(n)})(c)||(function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)})(c)||R(c)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function z(c){var n=(function(r,l){if(typeof r!="object"||!r)return r;var p=r[Symbol.toPrimitive];if(p!==void 0){var w=p.call(r,l);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)})(c,"string");return typeof n=="symbol"?n:n+""}function R(c,n){if(c){if(typeof c=="string")return s(c,n);var r={}.toString.call(c).slice(8,-1);return r==="Object"&&c.constructor&&(r=c.constructor.name),r==="Map"||r==="Set"?Array.from(c):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(c,n):void 0}}function $(c){var n=typeof Map=="function"?new Map:void 0;return $=function(r){if(r===null||!(function(p){try{return Function.toString.call(p).indexOf("[native code]")!==-1}catch{return typeof p=="function"}})(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,l)}function l(){return u(r,arguments,v(this).constructor)}return l.prototype=Object.create(r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),P(l,r)},$(c)}var q=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(n){this._quadrantSegments=n,this._quadrantSegments===0&&(this._joinStyle=c.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=c.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),n<=0&&(this._quadrantSegments=1),this._joinStyle!==c.JOIN_ROUND&&(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(n){this._joinStyle=n}},{key:"setSimplifyFactor",value:function(n){this._simplifyFactor=n<0?0:n}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(n){this._endCapStyle=n}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(n){this._mitreLimit=n}},{key:"setSingleSided",value:function(n){this._isSingleSided=n}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=c.CAP_ROUND,this._joinStyle=c.JOIN_ROUND,this._mitreLimit=c.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=c.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.setQuadrantSegments(r),this.setEndCapStyle(l)}else if(arguments.length===4){var p=arguments[0],w=arguments[1],S=arguments[2],M=arguments[3];this.setQuadrantSegments(p),this.setEndCapStyle(w),this.setJoinStyle(S),this.setMitreLimit(M)}}}},{key:"bufferDistanceError",value:function(n){var r=Math.PI/2/n;return 1-Math.cos(r/2)}}])})();q.CAP_ROUND=1,q.CAP_FLAT=2,q.CAP_SQUARE=3,q.JOIN_ROUND=1,q.JOIN_MITRE=2,q.JOIN_BEVEL=3,q.DEFAULT_QUADRANT_SEGMENTS=8,q.DEFAULT_MITRE_LIMIT=5,q.DEFAULT_SIMPLIFY_FACTOR=.01;var _=(function(c){function n(r){var l;return i(this,n),(l=a(this,n,[r])).name=Object.keys({Exception:n})[0],l}return b(n,c),h(n,[{key:"toString",value:function(){return this.message}}])})($(Error)),x=(function(c){function n(r){var l;return i(this,n),(l=a(this,n,[r])).name=Object.keys({IllegalArgumentException:n})[0],l}return b(n,c),h(n)})(_),k=(function(){return h((function c(){i(this,c)}),[{key:"filter",value:function(c){}}])})();function C(){}function F(){}function D(){}var A,Y,X,W,j,te,G,ae,se=(function(){return h((function c(){i(this,c)}),null,[{key:"equalsWithTolerance",value:function(c,n,r){return Math.abs(c-n)<=r}}])})(),ve=(function(){return h((function c(n,r){i(this,c),this.low=r||0,this.high=n||0}),null,[{key:"toBinaryString",value:function(c){var n,r="";for(n=2147483648;n>0;n>>>=1)r+=(c.high&n)===n?"1":"0";for(n=2147483648;n>0;n>>>=1)r+=(c.low&n)===n?"1":"0";return r}}])})();function ce(){}function ke(){}ce.NaN=NaN,ce.isNaN=function(c){return Number.isNaN(c)},ce.isInfinite=function(c){return!Number.isFinite(c)},ce.MAX_VALUE=Number.MAX_VALUE,ce.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,ce.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(te=2146435072,G=new Float64Array(1),ae=new Int32Array(G.buffer),ce.doubleToLongBits=function(c){G[0]=c;var n=0|ae[0],r=0|ae[1];return(r&te)===te&&1048575&r&&n!==0&&(n=0,r=2146959360),new ve(r,n)},ce.longBitsToDouble=function(c){return ae[0]=c.low,ae[1]=c.high,G[0]}):(A=1023,Y=Math.log2,X=Math.floor,W=Math.pow,j=(function(){for(var c=53;c>0;c--){var n=W(2,c)-1;if(X(Y(n))+1===c)return n}return 0})(),ce.doubleToLongBits=function(c){var n,r,l,p,w,S,M,V,Q;if(c<0||1/c===Number.NEGATIVE_INFINITY?(S=1<<31,c=-c):S=0,c===0)return new ve(V=S,Q=0);if(c===1/0)return new ve(V=2146435072|S,Q=0);if(c!=c)return new ve(V=2146959360,Q=0);if(p=0,Q=0,(n=X(c))>1)if(n<=j)(p=X(Y(n)))<=20?(Q=0,V=n<<20-p&1048575):(Q=n%(r=W(2,l=p-20))<<32-l,V=n/r&1048575);else for(l=n,Q=0;(l=X(r=l/2))!==0;)p++,Q>>>=1,Q|=(1&V)<<31,V>>>=1,r!==l&&(V|=524288);if(M=p+A,w=n===0,n=c-n,p<52&&n!==0)for(l=0;;){if((r=2*n)>=1?(n=r-1,w?(M--,w=!1):(l<<=1,l|=1,p++)):(n=r,w?--M==0&&(p++,w=!1):(l<<=1,p++)),p===20)V|=l,l=0;else if(p===52){Q|=l;break}if(r===1){p<20?V|=l<<20-p:p<52&&(Q|=l<<52-p);break}}return V|=M<<20,new ve(V|=S,Q)},ce.longBitsToDouble=function(c){var n,r,l,p,w=c.high,S=c.low,M=w&1<<31?-1:1;for(l=((2146435072&w)>>20)-A,p=0,r=1<<19,n=1;n<=20;n++)w&r&&(p+=W(2,-n)),r>>>=1;for(r=1<<31,n=21;n<=52;n++)S&r&&(p+=W(2,-n)),r>>>=1;if(l===-1023){if(p===0)return 0*M;l=-1022}else{if(l===1024)return p===0?M/0:NaN;p+=1}return M*p*W(2,l)});var Fe=(function(c){function n(r){var l;return i(this,n),(l=a(this,n,[r])).name=Object.keys({RuntimeException:n})[0],l}return b(n,c),h(n)})(_),$e=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,null,[{key:"constructor_",value:function(){if(arguments.length===0)Fe.constructor_.call(this);else if(arguments.length===1){var r=arguments[0];Fe.constructor_.call(this,r)}}}])})(Fe),Oe=(function(){function c(){i(this,c)}return h(c,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)c.shouldNeverReachHere(null);else if(arguments.length===1){var n=arguments[0];throw new $e("Should never reach here"+(n!==null?": "+n:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var n=arguments[0];c.isTrue(n,null)}else if(arguments.length===2){var r=arguments[1];if(!arguments[0])throw r===null?new $e:new $e(r)}}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];c.equals(n,r,null)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],w=arguments[2];if(!p.equals(l))throw new $e("Expected "+l+" but encountered "+p+(w!==null?": "+w:""))}}}])})(),Ee=new ArrayBuffer(8),Te=new Float64Array(Ee),de=new Int32Array(Ee),K=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getM",value:function(){return ce.NaN}},{key:"setOrdinate",value:function(n,r){switch(n){case c.X:this.x=r;break;case c.Y:this.y=r;break;case c.Z:this.setZ(r);break;default:throw new x("Invalid ordinate index: "+n)}}},{key:"equals2D",value:function(){if(arguments.length===1){var n=arguments[0];return this.x===n.x&&this.y===n.y}if(arguments.length===2){var r=arguments[0],l=arguments[1];return!!se.equalsWithTolerance(this.x,r.x,l)&&!!se.equalsWithTolerance(this.y,r.y,l)}}},{key:"setM",value:function(n){throw new x("Invalid ordinate index: "+c.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(n){switch(n){case c.X:return this.x;case c.Y:return this.y;case c.Z:return this.getZ()}throw new x("Invalid ordinate index: "+n)}},{key:"equals3D",value:function(n){return this.x===n.x&&this.y===n.y&&(this.getZ()===n.getZ()||ce.isNaN(this.getZ())&&ce.isNaN(n.getZ()))}},{key:"equals",value:function(n){return n instanceof c&&this.equals2D(n)}},{key:"equalInZ",value:function(n,r){return se.equalsWithTolerance(this.getZ(),n.getZ(),r)}},{key:"setX",value:function(n){this.x=n}},{key:"compareTo",value:function(n){var r=n;return this.x<r.x?-1:this.x>r.x?1:this.y<r.y?-1:this.y>r.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(n){this.z=n}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return Oe.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw n}}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(n){var r=this.x-n.x,l=this.y-n.y,p=this.getZ()-n.getZ();return Math.sqrt(r*r+l*l+p*p)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(n){this.y=n}},{key:"distance",value:function(n){var r=this.x-n.x,l=this.y-n.y;return Math.sqrt(r*r+l*l)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*n+c.hashCode(this.x))+c.hashCode(this.y)}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}},{key:"interfaces_",get:function(){return[C,F,D]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)c.constructor_.call(this,0,0);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.x,n.y,n.getZ())}else if(arguments.length===2){var r=arguments[0],l=arguments[1];c.constructor_.call(this,r,l,c.NULL_ORDINATE)}else if(arguments.length===3){var p=arguments[0],w=arguments[1],S=arguments[2];this.x=p,this.y=w,this.z=S}}},{key:"hashCode",value:function(n){return Te[0]=n,de[0]^de[1]}}])})(),Se=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compare",value:function(n,r){var l=c.compare(n.x,r.x);if(l!==0)return l;var p=c.compare(n.y,r.y);return p!==0?p:this._dimensionsToTest<=2?0:c.compare(n.getZ(),r.getZ())}},{key:"interfaces_",get:function(){return[ke]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)c.constructor_.call(this,2);else if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new x("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}},{key:"compare",value:function(n,r){return n<r?-1:n>r?1:ce.isNaN(n)?ce.isNaN(r)?0:-1:ce.isNaN(r)?1:0}}])})();K.DimensionalComparator=Se,K.NULL_ORDINATE=ce.NaN,K.X=0,K.Y=1,K.Z=2,K.M=3;var Ae=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.isNull()?r.isNull():this._maxx===r.getMaxX()&&this._maxy===r.getMaxY()&&this._minx===r.getMinX()&&this._miny===r.getMinY()}},{key:"intersection",value:function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new c;var r=this._minx>n._minx?this._minx:n._minx,l=this._miny>n._miny?this._miny:n._miny;return new c(r,this._maxx<n._maxx?this._maxx:n._maxx,l,this._maxy<n._maxy?this._maxy:n._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof K){var n=arguments[0];return this.covers(n.x,n.y)}if(arguments[0]instanceof c){var r=arguments[0];return!this.isNull()&&!r.isNull()&&r.getMinX()>=this._minx&&r.getMaxX()<=this._maxx&&r.getMinY()>=this._miny&&r.getMaxY()<=this._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return!this.isNull()&&l>=this._minx&&l<=this._maxx&&p>=this._miny&&p<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return!this.isNull()&&!n.isNull()&&!(n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny)}if(arguments[0]instanceof K){var r=arguments[0];return this.intersects(r.x,r.y)}}else if(arguments.length===2){if(arguments[0]instanceof K&&arguments[1]instanceof K){var l=arguments[0],p=arguments[1];return!this.isNull()&&!((l.x<p.x?l.x:p.x)>this._maxx)&&!((l.x>p.x?l.x:p.x)<this._minx)&&!((l.y<p.y?l.y:p.y)>this._maxy)&&!((l.y>p.y?l.y:p.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var w=arguments[0],S=arguments[1];return!this.isNull()&&!(w>this._maxx||w<this._minx||S>this._maxy||S<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return Math.sqrt(n*n+r*r)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof K){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];if(r.isNull())return null;this.isNull()?(this._minx=r.getMinX(),this._maxx=r.getMaxX(),this._miny=r.getMinY(),this._maxy=r.getMaxY()):(r._minx<this._minx&&(this._minx=r._minx),r._maxx>this._maxx&&(this._maxx=r._maxx),r._miny<this._miny&&(this._miny=r._miny),r._maxy>this._maxy&&(this._maxy=r._maxy))}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.isNull()?(this._minx=l,this._maxx=l,this._miny=p,this._maxy=p):(l<this._minx&&(this._minx=l),l>this._maxx&&(this._maxx=l),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n<r?n:r}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(n){var r=n;return this.isNull()?r.isNull()?0:-1:r.isNull()?1:this._minx<r._minx?-1:this._minx>r._minx?1:this._miny<r._miny?-1:this._miny>r._miny?1:this._maxx<r._maxx?-1:this._maxx>r._maxx?1:this._maxy<r._maxy?-1:this._maxy>r._maxy?1:0}},{key:"translate",value:function(n,r){if(this.isNull())return null;this.init(this.getMinX()+n,this.getMaxX()+n,this.getMinY()+r,this.getMaxY()+r)}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(n){return!(!this.isNull()&&!n.isNull())||n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n>r?n:r}},{key:"expandBy",value:function(){if(arguments.length===1){var n=arguments[0];this.expandBy(n,n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];if(this.isNull())return null;this._minx-=r,this._maxx+=r,this._miny-=l,this._maxy+=l,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.covers(n)}if(arguments[0]instanceof K){var r=arguments[0];return this.covers(r)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return this.covers(l,p)}}},{key:"centre",value:function(){return this.isNull()?null:new K((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof K){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this._minx=r._minx,this._maxx=r._maxx,this._miny=r._miny,this._maxy=r._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var w=arguments[0],S=arguments[1],M=arguments[2],V=arguments[3];w<S?(this._minx=w,this._maxx=S):(this._minx=S,this._maxx=w),M<V?(this._miny=M,this._maxy=V):(this._miny=V,this._maxy=M)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(n){if(this.intersects(n))return 0;var r=0;this._maxx<n._minx?r=n._minx-this._maxx:this._minx>n._maxx&&(r=this._minx-n._maxx);var l=0;return this._maxy<n._miny?l=n._miny-this._maxy:this._miny>n._maxy&&(l=this._miny-n._maxy),r===0?l:l===0?r:Math.sqrt(r*r+l*l)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*(n=37*(n=37*n+K.hashCode(this._minx))+K.hashCode(this._maxx))+K.hashCode(this._miny))+K.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[C,D]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof K){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var w=arguments[0],S=arguments[1],M=arguments[2],V=arguments[3];this.init(w,S,M,V)}}},{key:"intersects",value:function(){if(arguments.length===3){var n=arguments[0],r=arguments[1],l=arguments[2];return l.x>=(n.x<r.x?n.x:r.x)&&l.x<=(n.x>r.x?n.x:r.x)&&l.y>=(n.y<r.y?n.y:r.y)&&l.y<=(n.y>r.y?n.y:r.y)}if(arguments.length===4){var p=arguments[0],w=arguments[1],S=arguments[2],M=arguments[3],V=Math.min(S.x,M.x),Q=Math.max(S.x,M.x),le=Math.min(p.x,w.x),pe=Math.max(p.x,w.x);return!(le>Q)&&!(pe<V)&&(V=Math.min(S.y,M.y),Q=Math.max(S.y,M.y),le=Math.min(p.y,w.y),pe=Math.max(p.y,w.y),!(le>Q)&&!(pe<V))}}}])})(),Ne=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(n){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(n){return this===n||this.equalsExact(n,0)}},{key:"geometryChanged",value:function(){this.apply(c.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(n){return n!==null&&this.norm().equalsExact(n.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var n;if(arguments.length===1){var r=arguments[0];return n=r,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(r)}if(arguments.length===2){var l=arguments[0],p=arguments[1];return n=l,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(l,p)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(n){if(n.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION)throw new x("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(n,r,l){return l===0?n.equals(r):n.distance(r)<=l}},{key:"norm",value:function(){var n=this.copy();return n.normalize(),n}},{key:"reverse",value:function(){var n=this.reverseInternal();return this.envelope!=null&&(n.envelope=this.envelope.copy()),n.setSRID(this.getSRID()),n}},{key:"copy",value:function(){var n=this.copyInternal();return n.envelope=this._envelope==null?null:this._envelope.copy(),n._SRID=this._SRID,n._userData=this._userData,n}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Ae(this._envelope)}},{key:"setSRID",value:function(n){this._SRID=n}},{key:"setUserData",value:function(n){this._userData=n}},{key:"compare",value:function(n,r){for(var l=n.iterator(),p=r.iterator();l.hasNext()&&p.hasNext();){var w=l.next(),S=p.next(),M=w.compareTo(S);if(M!==0)return M}return l.hasNext()?1:p.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(n){return this.getClass()===n.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===c.TYPECODE_MULTIPOINT||this.getTypeCode()===c.TYPECODE_MULTILINESTRING||this.getTypeCode()===c.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[F,C,D]}},{key:"getClass",value:function(){return c}}],[{key:"hasNonEmptyElements",value:function(n){for(var r=0;r<n.length;r++)if(!n[r].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(n){for(var r=0;r<n.length;r++)if(n[r]===null)return!0;return!1}}])})();Ne.constructor_=function(c){c&&(this._envelope=null,this._userData=null,this._factory=c,this._SRID=c.getSRID())},Ne.TYPECODE_POINT=0,Ne.TYPECODE_MULTIPOINT=1,Ne.TYPECODE_LINESTRING=2,Ne.TYPECODE_LINEARRING=3,Ne.TYPECODE_MULTILINESTRING=4,Ne.TYPECODE_POLYGON=5,Ne.TYPECODE_MULTIPOLYGON=6,Ne.TYPECODE_GEOMETRYCOLLECTION=7,Ne.TYPENAME_POINT="Point",Ne.TYPENAME_MULTIPOINT="MultiPoint",Ne.TYPENAME_LINESTRING="LineString",Ne.TYPENAME_LINEARRING="LinearRing",Ne.TYPENAME_MULTILINESTRING="MultiLineString",Ne.TYPENAME_POLYGON="Polygon",Ne.TYPENAME_MULTIPOLYGON="MultiPolygon",Ne.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Ne.geometryChangedFilter={get interfaces_(){return[k]},filter:function(c){c.geometryChangedAction()}};var N=(function(){function c(){i(this,c)}return h(c,null,[{key:"toLocationSymbol",value:function(n){switch(n){case c.EXTERIOR:return"e";case c.BOUNDARY:return"b";case c.INTERIOR:return"i";case c.NONE:return"-"}throw new x("Unknown location value: "+n)}}])})();N.INTERIOR=0,N.BOUNDARY=1,N.EXTERIOR=2,N.NONE=-1;var ee=(function(){return h((function c(){i(this,c)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),oe=(function(c){function n(r){var l;return i(this,n),(l=a(this,n,[r])).name=Object.keys({NoSuchElementException:n})[0],l}return b(n,c),h(n)})(_),_e=(function(c){function n(r){var l;return i(this,n),(l=a(this,n,[r])).name=Object.keys({UnsupportedOperationException:n})[0],l}return b(n,c),h(n)})(_),Le=(function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),h(n,[{key:"contains",value:function(){}}])})(ee),ye=(function(c){function n(r){var l;return i(this,n),(l=a(this,n)).map=new Map,r instanceof ee&&l.addAll(r),l}return b(n,c),h(n,[{key:"contains",value:function(r){var l=r.hashCode?r.hashCode():r;return!!this.map.has(l)}},{key:"add",value:function(r){var l=r.hashCode?r.hashCode():r;return!this.map.has(l)&&!!this.map.set(l,r)}},{key:"addAll",value:function(r){var l,p=m(r);try{for(p.s();!(l=p.n()).done;){var w=l.value;this.add(w)}}catch(S){p.e(S)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new _e}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Z(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(Le),Z=(function(){return h((function c(n){i(this,c),this.iterator=n.values();var r=this.iterator.next(),l=r.done,p=r.value;this.done=l,this.value=p}),[{key:"next",value:function(){if(this.done)throw new oe;var c=this.value,n=this.iterator.next(),r=n.done,l=n.value;return this.done=r,this.value=l,c}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new _e}}])})(),U=(function(){function c(){i(this,c)}return h(c,null,[{key:"opposite",value:function(n){return n===c.LEFT?c.RIGHT:n===c.RIGHT?c.LEFT:n}}])})();U.ON=0,U.LEFT=1,U.RIGHT=2;var ue=(function(c){function n(r){var l;return i(this,n),(l=a(this,n,[r])).name=Object.keys({EmptyStackException:n})[0],l}return b(n,c),h(n)})(_),he=(function(c){function n(r){var l;return i(this,n),(l=a(this,n,[r])).name=Object.keys({IndexOutOfBoundsException:n})[0],l}return b(n,c),h(n)})(_),Ge=(function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),h(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(ee),Ce=(function(c){function n(){var r;return i(this,n),(r=a(this,n)).array=[],r}return b(n,c),h(n,[{key:"add",value:function(r){return this.array.push(r),!0}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new he;return this.array[r]}},{key:"push",value:function(r){return this.array.push(r),r}},{key:"pop",value:function(){if(this.array.length===0)throw new ue;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new ue;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(r){return this.array.indexOf(r)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(Ge);function re(c,n){return c.interfaces_&&c.interfaces_.indexOf(n)>-1}var we=(function(){return h((function c(n){i(this,c),this.str=n}),[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])})(),Ve=(function(){function c(n){i(this,c),this.value=n}return h(c,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(n){return this.value<n?-1:this.value>n?1:0}}],[{key:"compare",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"isNan",value:function(n){return Number.isNaN(n)}},{key:"valueOf",value:function(n){return new c(n)}}])})(),et=(function(){return h((function c(){i(this,c)}),null,[{key:"isWhitespace",value:function(c){return c<=32&&c>=0||c===127}},{key:"toUpperCase",value:function(c){return c.toUpperCase()}}])})(),De=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"le",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<=n._lo}},{key:"extractSignificantDigits",value:function(n,r){var l=this.abs(),p=c.magnitude(l._hi),w=c.TEN.pow(p);(l=l.divide(w)).gt(c.TEN)?(l=l.divide(c.TEN),p+=1):l.lt(c.ONE)&&(l=l.multiply(c.TEN),p-=1);for(var S=p+1,M=new we,V=c.MAX_PRINT_DIGITS-1,Q=0;Q<=V;Q++){n&&Q===S&&M.append(".");var le=Math.trunc(l._hi);if(le<0)break;var pe=!1,Pe=0;le>9?(pe=!0,Pe="9"):Pe="0"+le,M.append(Pe),l=l.subtract(c.valueOf(le)).multiply(c.TEN),pe&&l.selfAdd(c.TEN);var Ue=!0,We=c.magnitude(l._hi);if(We<0&&Math.abs(We)>=V-Q&&(Ue=!1),!Ue)break}return r[0]=p,M.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.add(n.negate())}if(typeof arguments[0]=="number"){var r=arguments[0];return this.add(-r)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof c){var n=arguments[0];return this._hi===n._hi&&this._lo===n._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n._hi,-n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.isNaN()?this:this.selfAdd(-r,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(n){return this.le(n)?this:n}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfDivide(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfDivide(r,0)}}else if(arguments.length===2){var l,p,w,S,M=arguments[0],V=arguments[1],Q=null,le=null,pe=null,Pe=null;return w=this._hi/M,Pe=(Q=(pe=c.SPLIT*w)-(Q=pe-w))*(le=(Pe=c.SPLIT*M)-(le=Pe-M))-(S=w*M)+Q*(p=M-le)+(l=w-Q)*le+l*p,Pe=w+(pe=(this._hi-S-Pe+this._lo-w*V)/M),this._hi=Pe,this._lo=w-Pe+pe,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof c){var n,r,l,p,w=arguments[0],S=null,M=null,V=null,Q=null;return n=(l=this._hi/w._hi)-(S=(V=c.SPLIT*l)-(S=V-l)),Q=S*(M=(Q=c.SPLIT*w._hi)-(M=Q-w._hi))-(p=l*w._hi)+S*(r=w._hi-M)+n*M+n*r,new c(Q=l+(V=(this._hi-p-Q+this._lo-l*w._lo)/w._hi),l-Q+V)}if(typeof arguments[0]=="number"){var le=arguments[0];return ce.isNaN(le)?c.createNaN():c.copy(this).selfDivide(le,0)}}},{key:"ge",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>=n._lo}},{key:"pow",value:function(n){if(n===0)return c.valueOf(1);var r=new c(this),l=c.valueOf(1),p=Math.abs(n);if(p>1)for(;p>0;)p%2==1&&l.selfMultiply(r),(p/=2)>0&&(r=r.sqr());else l=r;return n<0?l.reciprocal():l}},{key:"ceil",value:function(){if(this.isNaN())return c.NaN;var n=Math.ceil(this._hi),r=0;return n===this._hi&&(r=Math.ceil(this._lo)),new c(n,r)}},{key:"compareTo",value:function(n){var r=n;return this._hi<r._hi?-1:this._hi>r._hi?1:this._lo<r._lo?-1:this._lo>r._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.init(n),this}if(typeof arguments[0]=="number"){var r=arguments[0];return this.init(r),this}}},{key:"max",value:function(n){return this.ge(n)?this:n}},{key:"sqrt",value:function(){if(this.isZero())return c.valueOf(0);if(this.isNegative())return c.NaN;var n=1/Math.sqrt(this._hi),r=this._hi*n,l=c.valueOf(r),p=this.subtract(l.sqr())._hi*(.5*n);return l.add(p)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfAdd(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r,l,p,w,S,M=arguments[0],V=null;return V=(p=this._hi+M)-(w=p-this._hi),l=(S=(V=M-w+(this._hi-V))+this._lo)+(p-(r=p+S)),this._hi=r+l,this._lo=l+(r-this._hi),this}}else if(arguments.length===2){var Q,le,pe,Pe,Ue=arguments[0],We=arguments[1],Je=null,vt=null,ft=null;pe=this._hi+Ue,le=this._lo+We,vt=pe-(ft=pe-this._hi),Je=le-(Pe=le-this._lo);var Ot=(Q=pe+(ft=(vt=Ue-ft+(this._hi-vt))+le))+(ft=(Je=We-Pe+(this._lo-Je))+(ft+(pe-Q))),Ht=ft+(Q-Ot);return this._hi=Ot,this._lo=Ht,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfMultiply(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfMultiply(r,0)}}else if(arguments.length===2){var l,p,w=arguments[0],S=arguments[1],M=null,V=null,Q=null,le=null;M=(Q=c.SPLIT*this._hi)-this._hi,le=c.SPLIT*w,M=Q-M,l=this._hi-M,V=le-w;var pe=(Q=this._hi*w)+(le=M*(V=le-V)-Q+M*(p=w-V)+l*V+l*p+(this._hi*S+this._lo*w)),Pe=le+(M=Q-pe);return this._hi=pe,this._lo=Pe,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return c.NaN;var n=Math.floor(this._hi),r=0;return n===this._hi&&(r=Math.floor(this._lo)),new c(n,r)}},{key:"negate",value:function(){return this.isNaN()?this:new c(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return null;throw n}}},{key:"multiply",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return n.isNaN()?c.createNaN():c.copy(this).selfMultiply(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return ce.isNaN(r)?c.createNaN():c.copy(this).selfMultiply(r,0)}}},{key:"isNaN",value:function(){return ce.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var n=c.magnitude(this._hi);return n>=-3&&n<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),l=this.extractSignificantDigits(!0,r),p=r[0]+1,w=l;if(l.charAt(0)===".")w="0"+l;else if(p<0)w="0."+c.stringOfChar("0",-p)+l;else if(l.indexOf(".")===-1){var S=p-l.length;w=l+c.stringOfChar("0",S)+".0"}return this.isNegative()?"-"+w:w}},{key:"reciprocal",value:function(){var n,r,l,p,w=null,S=null,M=null,V=null;n=(l=1/this._hi)-(w=(M=c.SPLIT*l)-(w=M-l)),S=(V=c.SPLIT*this._hi)-this._hi;var Q=l+(M=(1-(p=l*this._hi)-(V=w*(S=V-S)-p+w*(r=this._hi-S)+n*S+n*r)-l*this._lo)/this._hi);return new c(Q,l-Q+M)}},{key:"toSciNotation",value:function(){if(this.isZero())return c.SCI_NOT_ZERO;var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),l=this.extractSignificantDigits(!1,r),p=c.SCI_NOT_EXPONENT_CHAR+r[0];if(l.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+l);var w="";l.length>1&&(w=l.substring(1));var S=l.charAt(0)+"."+w;return this.isNegative()?"-"+S+p:S+p}},{key:"abs",value:function(){return this.isNaN()?c.NaN:this.isNegative()?this.negate():new c(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<n._lo}},{key:"add",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return c.copy(this).selfAdd(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return c.copy(this).selfAdd(r)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this._hi=n,this._lo=0}else if(arguments[0]instanceof c){var r=arguments[0];this._hi=r._hi,this._lo=r._lo}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this._hi=l,this._lo=p}}},{key:"gt",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>n._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?c.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[D,C,F]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}else if(typeof arguments[0]=="string"){var l=arguments[0];c.constructor_.call(this,c.parse(l))}}else if(arguments.length===2){var p=arguments[0],w=arguments[1];this.init(p,w)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],l=arguments[2],p=arguments[3];return c.determinant(c.valueOf(n),c.valueOf(r),c.valueOf(l),c.valueOf(p))}if(arguments[3]instanceof c&&arguments[2]instanceof c&&arguments[0]instanceof c&&arguments[1]instanceof c){var w=arguments[1],S=arguments[2],M=arguments[3];return arguments[0].multiply(M).selfSubtract(w.multiply(S))}}},{key:"sqr",value:function(n){return c.valueOf(n).selfMultiply(n)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var n=arguments[0];return c.parse(n)}if(typeof arguments[0]=="number")return new c(arguments[0])}},{key:"sqrt",value:function(n){return c.valueOf(n).sqrt()}},{key:"parse",value:function(n){for(var r=0,l=n.length;et.isWhitespace(n.charAt(r));)r++;var p=!1;if(r<l){var w=n.charAt(r);w!=="-"&&w!=="+"||(r++,w==="-"&&(p=!0))}for(var S=new c,M=0,V=0,Q=0,le=!1;!(r>=l);){var pe=n.charAt(r);if(r++,et.isDigit(pe)){var Pe=pe-"0";S.selfMultiply(c.TEN),S.selfAdd(Pe),M++}else{if(pe!=="."){if(pe==="e"||pe==="E"){var Ue=n.substring(r);try{Q=Ve.parseInt(Ue)}catch(Ot){throw Ot instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Ue+" in string "+n):Ot}break}throw new NumberFormatException("Unexpected character '"+pe+"' at position "+r+" in string "+n)}V=M,le=!0}}var We=S;le||(V=M);var Je=M-V-Q;if(Je===0)We=S;else if(Je>0){var vt=c.TEN.pow(Je);We=S.divide(vt)}else if(Je<0){var ft=c.TEN.pow(-Je);We=S.multiply(ft)}return p?We.negate():We}},{key:"createNaN",value:function(){return new c(ce.NaN,ce.NaN)}},{key:"copy",value:function(n){return new c(n)}},{key:"magnitude",value:function(n){var r=Math.abs(n),l=Math.log(r)/Math.log(10),p=Math.trunc(Math.floor(l));return 10*Math.pow(10,p)<=r&&(p+=1),p}},{key:"stringOfChar",value:function(n,r){for(var l=new we,p=0;p<r;p++)l.append(n);return l.toString()}}])})();De.PI=new De(3.141592653589793,12246467991473532e-32),De.TWO_PI=new De(6.283185307179586,24492935982947064e-32),De.PI_2=new De(1.5707963267948966,6123233995736766e-32),De.E=new De(2.718281828459045,14456468917292502e-32),De.NaN=new De(ce.NaN,ce.NaN),De.EPS=123259516440783e-46,De.SPLIT=134217729,De.MAX_PRINT_DIGITS=32,De.TEN=De.valueOf(10),De.ONE=De.valueOf(1),De.SCI_NOT_EXPONENT_CHAR="E",De.SCI_NOT_ZERO="0.0E0";var Gt=(function(){function c(){i(this,c)}return h(c,null,[{key:"orientationIndex",value:function(n,r,l){var p=c.orientationIndexFilter(n,r,l);if(p<=1)return p;var w=De.valueOf(r.x).selfAdd(-n.x),S=De.valueOf(r.y).selfAdd(-n.y),M=De.valueOf(l.x).selfAdd(-r.x),V=De.valueOf(l.y).selfAdd(-r.y);return w.selfMultiply(V).selfSubtract(S.selfMultiply(M)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof De&&arguments[2]instanceof De&&arguments[0]instanceof De&&arguments[1]instanceof De){var n=arguments[1],r=arguments[2],l=arguments[3];return arguments[0].multiply(l).selfSubtract(n.multiply(r)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],w=arguments[1],S=arguments[2],M=arguments[3],V=De.valueOf(p),Q=De.valueOf(w),le=De.valueOf(S),pe=De.valueOf(M);return V.multiply(pe).selfSubtract(Q.multiply(le)).signum()}}},{key:"intersection",value:function(n,r,l,p){var w=new De(n.y).selfSubtract(r.y),S=new De(r.x).selfSubtract(n.x),M=new De(n.x).selfMultiply(r.y).selfSubtract(new De(r.x).selfMultiply(n.y)),V=new De(l.y).selfSubtract(p.y),Q=new De(p.x).selfSubtract(l.x),le=new De(l.x).selfMultiply(p.y).selfSubtract(new De(p.x).selfMultiply(l.y)),pe=S.multiply(le).selfSubtract(Q.multiply(M)),Pe=V.multiply(M).selfSubtract(w.multiply(le)),Ue=w.multiply(Q).selfSubtract(V.multiply(S)),We=pe.selfDivide(Ue).doubleValue(),Je=Pe.selfDivide(Ue).doubleValue();return ce.isNaN(We)||ce.isInfinite(We)||ce.isNaN(Je)||ce.isInfinite(Je)?null:new K(We,Je)}},{key:"orientationIndexFilter",value:function(n,r,l){var p=null,w=(n.x-l.x)*(r.y-l.y),S=(n.y-l.y)*(r.x-l.x),M=w-S;if(w>0){if(S<=0)return c.signum(M);p=w+S}else{if(!(w<0)||S>=0)return c.signum(M);p=-w-S}var V=c.DP_SAFE_EPSILON*p;return M>=V||-M>=V?c.signum(M):2}},{key:"signum",value:function(n){return n>0?1:n<0?-1:0}}])})();Gt.DP_SAFE_EPSILON=1e-15;var Xe=(function(){return h((function c(){i(this,c)}),[{key:"getM",value:function(c){if(this.hasM()){var n=this.getDimension()-this.getMeasures();return this.getOrdinate(c,n)}return ce.NaN}},{key:"setOrdinate",value:function(c,n,r){}},{key:"getZ",value:function(c){return this.hasZ()?this.getOrdinate(c,2):ce.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(c,n){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(c){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(c){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(c){}},{key:"copy",value:function(){}},{key:"getY",value:function(c){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[F]}}])})();Xe.X=0,Xe.Y=1,Xe.Z=2,Xe.M=3;var Ye=(function(){function c(){i(this,c)}return h(c,null,[{key:"index",value:function(n,r,l){return Gt.orientationIndex(n,r,l)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var n=arguments[0],r=n.length-1;if(r<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var l=n[0],p=0,w=1;w<=r;w++){var S=n[w];S.y>l.y&&(l=S,p=w)}var M=p;do(M-=1)<0&&(M=r);while(n[M].equals2D(l)&&M!==p);var V=p;do V=(V+1)%r;while(n[V].equals2D(l)&&V!==p);var Q=n[M],le=n[V];if(Q.equals2D(l)||le.equals2D(l)||Q.equals2D(le))return!1;var pe=c.index(Q,l,le);return pe===0?Q.x>le.x:pe>0}if(re(arguments[0],Xe)){var Pe=arguments[0],Ue=Pe.size()-1;if(Ue<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var We=Pe.getCoordinate(0),Je=0,vt=1;vt<=Ue;vt++){var ft=Pe.getCoordinate(vt);ft.y>We.y&&(We=ft,Je=vt)}var Ot=null,Ht=Je;do(Ht-=1)<0&&(Ht=Ue),Ot=Pe.getCoordinate(Ht);while(Ot.equals2D(We)&&Ht!==Je);var un=null,sr=Je;do sr=(sr+1)%Ue,un=Pe.getCoordinate(sr);while(un.equals2D(We)&&sr!==Je);if(Ot.equals2D(We)||un.equals2D(We)||Ot.equals2D(un))return!1;var js=c.index(Ot,We,un);return js===0?Ot.x>un.x:js>0}}}])})();Ye.CLOCKWISE=-1,Ye.RIGHT=Ye.CLOCKWISE,Ye.COUNTERCLOCKWISE=1,Ye.LEFT=Ye.COUNTERCLOCKWISE,Ye.COLLINEAR=0,Ye.STRAIGHT=Ye.COLLINEAR;var Bn=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(c,n){var r=this.getRightmostSideOfSegment(c,n);return r<0&&(r=this.getRightmostSideOfSegment(c,n-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(c)),r}},{key:"findRightmostEdgeAtVertex",value:function(){var c=this._minDe.getEdge().getCoordinates();Oe.isTrue(this._minIndex>0&&this._minIndex<c.length,"rightmost point expected to be interior vertex of edge");var n=c[this._minIndex-1],r=c[this._minIndex+1],l=Ye.index(this._minCoord,r,n),p=!1;(n.y<this._minCoord.y&&r.y<this._minCoord.y&&l===Ye.COUNTERCLOCKWISE||n.y>this._minCoord.y&&r.y>this._minCoord.y&&l===Ye.CLOCKWISE)&&(p=!0),p&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(c,n){var r=c.getEdge().getCoordinates();if(n<0||n+1>=r.length||r[n].y===r[n+1].y)return-1;var l=U.LEFT;return r[n].y<r[n+1].y&&(l=U.RIGHT),l}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(c){for(var n=c.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(this._minCoord===null||n[r].x>this._minCoord.x)&&(this._minDe=c,this._minIndex=r,this._minCoord=n[r])}},{key:"findRightmostEdgeAtNode",value:function(){var c=this._minDe.getNode().getEdges();this._minDe=c.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();r.isForward()&&this.checkForRightmostCoordinate(r)}Oe.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===U.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),hn=(function(c){function n(r,l){var p;return i(this,n),(p=a(this,n,[l?r+" [ "+l+" ]":r])).pt=l?new K(l):void 0,p.name=Object.keys({TopologyException:n})[0],p}return b(n,c),h(n,[{key:"getCoordinate",value:function(){return this.pt}}])})(Fe),es=(function(){return h((function c(){i(this,c),this.array=[]}),[{key:"addLast",value:function(c){this.array.push(c)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),je=(function(c){function n(r){var l;return i(this,n),(l=a(this,n)).array=[],r instanceof ee&&l.addAll(r),l}return b(n,c),h(n,[{key:"interfaces_",get:function(){return[Ge,ee]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(r){return arguments.length===1?this.array.push(r):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(r){var l,p=m(r);try{for(p.s();!(l=p.n()).done;){var w=l.value;this.array.push(w)}}catch(S){p.e(S)}finally{p.f()}}},{key:"set",value:function(r,l){var p=this.array[r];return this.array[r]=l,p}},{key:"iterator",value:function(){return new Kn(this)}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new he;return this.array[r]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(r){r?this.array.sort((function(l,p){return r.compare(l,p)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(r){for(var l=0,p=this.array.length;l<p;l++)if(this.array[l]===r)return!!this.array.splice(l,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(Ge),Kn=(function(){return h((function c(n){i(this,c),this.arrayList=n,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new oe;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(c){return this.arrayList.set(this.position-1,c)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),Ki=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();)c.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(c){for(var n=null,r=c.getEdges().iterator();r.hasNext();){var l=r.next();if(l.isVisited()||l.getSym().isVisited()){n=l;break}}if(n===null)throw new hn("unable to find edge to compute depths at "+c.getCoordinate());c.getEdges().computeDepths(n);for(var p=c.getEdges().iterator();p.hasNext();){var w=p.next();w.setVisited(!0),this.copySymDepths(w)}}},{key:"computeDepth",value:function(c){this.clearVisitedEdges();var n=this._finder.getEdge();n.getNode(),n.getLabel(),n.setEdgeDepths(U.RIGHT,c),this.copySymDepths(n),this.computeDepths(n)}},{key:"create",value:function(c){this.addReachable(c),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();){var n=c.next();n.getDepth(U.RIGHT)>=1&&n.getDepth(U.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}}},{key:"computeDepths",value:function(c){var n=new ye,r=new es,l=c.getNode();for(r.addLast(l),n.add(l),c.setVisited(!0);!r.isEmpty();){var p=r.removeFirst();n.add(p),this.computeNodeDepth(p);for(var w=p.getEdges().iterator();w.hasNext();){var S=w.next().getSym();if(!S.isVisited()){var M=S.getNode();n.contains(M)||(r.addLast(M),n.add(M))}}}}},{key:"compareTo",value:function(c){var n=c;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var c=new Ae,n=this._dirEdgeList.iterator();n.hasNext();)for(var r=n.next().getEdge().getCoordinates(),l=0;l<r.length-1;l++)c.expandToInclude(r[l]);this._env=c}return this._env}},{key:"addReachable",value:function(c){var n=new Ce;for(n.add(c);!n.empty();){var r=n.pop();this.add(r,n)}}},{key:"copySymDepths",value:function(c){var n=c.getSym();n.setDepth(U.LEFT,c.getDepth(U.RIGHT)),n.setDepth(U.RIGHT,c.getDepth(U.LEFT))}},{key:"add",value:function(c,n){c.setVisited(!0),this._nodes.add(c);for(var r=c.getEdges().iterator();r.hasNext();){var l=r.next();this._dirEdgeList.add(l);var p=l.getSym().getNode();p.isVisited()||n.push(p)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new je,this._nodes=new je,this._rightMostCoord=null,this._env=null,this._finder=new Bn}}])})(),ts=(function(){return h((function c(){i(this,c)}),null,[{key:"intersection",value:function(c,n,r,l){var p=c.x<n.x?c.x:n.x,w=c.y<n.y?c.y:n.y,S=c.x>n.x?c.x:n.x,M=c.y>n.y?c.y:n.y,V=r.x<l.x?r.x:l.x,Q=r.y<l.y?r.y:l.y,le=r.x>l.x?r.x:l.x,pe=r.y>l.y?r.y:l.y,Pe=((p>V?p:V)+(S<le?S:le))/2,Ue=((w>Q?w:Q)+(M<pe?M:pe))/2,We=c.x-Pe,Je=c.y-Ue,vt=n.x-Pe,ft=n.y-Ue,Ot=r.x-Pe,Ht=r.y-Ue,un=l.x-Pe,sr=l.y-Ue,js=Je-ft,ki=vt-We,Wo=We*ft-vt*Je,Zo=Ht-sr,fs=un-Ot,hl=Ot*sr-un*Ht,Ws=js*fs-Zo*ki,Cr=(ki*hl-fs*Wo)/Ws,za=(Zo*Wo-js*hl)/Ws;return ce.isNaN(Cr)||ce.isInfinite(Cr)||ce.isNaN(za)||ce.isInfinite(za)?null:new K(Cr+Pe,za+Ue)}}])})(),Jn=(function(){return h((function c(){i(this,c)}),null,[{key:"arraycopy",value:function(c,n,r,l,p){for(var w=0,S=n;S<n+p;S++)r[l+w]=c[S],w++}},{key:"getProperty",value:function(c){return{"line.separator":`
`}[c]}}])})(),ns=(function(){function c(){i(this,c)}return h(c,null,[{key:"log10",value:function(n){var r=Math.log(n);return ce.isInfinite(r)||ce.isNaN(r)?r:r/c.LOG_10}},{key:"min",value:function(n,r,l,p){var w=n;return r<w&&(w=r),l<w&&(w=l),p<w&&(w=p),w}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],l=arguments[2];return n<r?r:n>l?l:n}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],w=arguments[1],S=arguments[2];return p<w?w:p>S?S:p}}},{key:"wrap",value:function(n,r){return n<0?r- -n%r:n%r}},{key:"max",value:function(){if(arguments.length===3){var n=arguments[1],r=arguments[2],l=arguments[0];return n>l&&(l=n),r>l&&(l=r),l}if(arguments.length===4){var p=arguments[1],w=arguments[2],S=arguments[3],M=arguments[0];return p>M&&(M=p),w>M&&(M=w),S>M&&(M=S),M}}},{key:"average",value:function(n,r){return(n+r)/2}}])})();ns.LOG_10=Math.log(10);var ai=(function(){function c(){i(this,c)}return h(c,null,[{key:"segmentToSegment",value:function(n,r,l,p){if(n.equals(r))return c.pointToSegment(n,l,p);if(l.equals(p))return c.pointToSegment(p,n,r);var w=!1;if(Ae.intersects(n,r,l,p)){var S=(r.x-n.x)*(p.y-l.y)-(r.y-n.y)*(p.x-l.x);if(S===0)w=!0;else{var M=(n.y-l.y)*(p.x-l.x)-(n.x-l.x)*(p.y-l.y),V=((n.y-l.y)*(r.x-n.x)-(n.x-l.x)*(r.y-n.y))/S,Q=M/S;(Q<0||Q>1||V<0||V>1)&&(w=!0)}}else w=!0;return w?ns.min(c.pointToSegment(n,l,p),c.pointToSegment(r,l,p),c.pointToSegment(l,n,r),c.pointToSegment(p,n,r)):0}},{key:"pointToSegment",value:function(n,r,l){if(r.x===l.x&&r.y===l.y)return n.distance(r);var p=(l.x-r.x)*(l.x-r.x)+(l.y-r.y)*(l.y-r.y),w=((n.x-r.x)*(l.x-r.x)+(n.y-r.y)*(l.y-r.y))/p;if(w<=0)return n.distance(r);if(w>=1)return n.distance(l);var S=((r.y-n.y)*(l.x-r.x)-(r.x-n.x)*(l.y-r.y))/p;return Math.abs(S)*Math.sqrt(p)}},{key:"pointToLinePerpendicular",value:function(n,r,l){var p=(l.x-r.x)*(l.x-r.x)+(l.y-r.y)*(l.y-r.y),w=((r.y-n.y)*(l.x-r.x)-(r.x-n.x)*(l.y-r.y))/p;return Math.abs(w)*Math.sqrt(p)}},{key:"pointToSegmentString",value:function(n,r){if(r.length===0)throw new x("Line array must contain at least one vertex");for(var l=n.distance(r[0]),p=0;p<r.length-1;p++){var w=c.pointToSegment(n,r[p],r[p+1]);w<l&&(l=w)}return l}}])})(),ko=(function(){return h((function c(){i(this,c)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||re(arguments[0],Xe);else if(arguments.length!==2){if(arguments.length===3){var c=arguments[0],n=arguments[1];return this.create(c,n)}}}}])})(),va=(function(){return h((function c(){i(this,c)}),[{key:"filter",value:function(c){}}])})(),Jc=(function(){return h((function c(){i(this,c)}),null,[{key:"ofLine",value:function(c){var n=c.size();if(n<=1)return 0;var r=0,l=new K;c.getCoordinate(0,l);for(var p=l.x,w=l.y,S=1;S<n;S++){c.getCoordinate(S,l);var M=l.x,V=l.y,Q=M-p,le=V-w;r+=Math.sqrt(Q*Q+le*le),p=M,w=V}return r}}])})(),Yu=h((function c(){i(this,c)})),wr=(function(){function c(){i(this,c)}return h(c,null,[{key:"copyCoord",value:function(n,r,l,p){for(var w=Math.min(n.getDimension(),l.getDimension()),S=0;S<w;S++)l.setOrdinate(p,S,n.getOrdinate(r,S))}},{key:"isRing",value:function(n){var r=n.size();return r===0||!(r<=3)&&n.getOrdinate(0,Xe.X)===n.getOrdinate(r-1,Xe.X)&&n.getOrdinate(0,Xe.Y)===n.getOrdinate(r-1,Xe.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(re(arguments[0],Xe)&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1];c.scroll(n,r,c.isRing(n))}else if(re(arguments[0],Xe)&&arguments[1]instanceof K){var l=arguments[0],p=arguments[1],w=c.indexOf(p,l);if(w<=0)return null;c.scroll(l,w)}}else if(arguments.length===3){var S=arguments[0],M=arguments[1],V=arguments[2];if(M<=0)return null;for(var Q=S.copy(),le=V?S.size()-1:S.size(),pe=0;pe<le;pe++)for(var Pe=0;Pe<S.getDimension();Pe++)S.setOrdinate(pe,Pe,Q.getOrdinate((M+pe)%le,Pe));if(V)for(var Ue=0;Ue<S.getDimension();Ue++)S.setOrdinate(le,Ue,S.getOrdinate(0,Ue))}}},{key:"isEqual",value:function(n,r){var l=n.size();if(l!==r.size())return!1;for(var p=Math.min(n.getDimension(),r.getDimension()),w=0;w<l;w++)for(var S=0;S<p;S++){var M=n.getOrdinate(w,S),V=r.getOrdinate(w,S);if(n.getOrdinate(w,S)!==r.getOrdinate(w,S)&&(!ce.isNaN(M)||!ce.isNaN(V)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var n=arguments[0];return c.minCoordinateIndex(n,0,n.size()-1)}if(arguments.length===3){for(var r=arguments[0],l=arguments[2],p=-1,w=null,S=arguments[1];S<=l;S++){var M=r.getCoordinate(S);(w===null||w.compareTo(M)>0)&&(w=M,p=S)}return p}}},{key:"extend",value:function(n,r,l){var p=n.create(l,r.getDimension()),w=r.size();if(c.copy(r,0,p,0,w),w>0)for(var S=w;S<l;S++)c.copy(r,w-1,p,S,1);return p}},{key:"reverse",value:function(n){for(var r=n.size()-1,l=Math.trunc(r/2),p=0;p<=l;p++)c.swap(n,p,r-p)}},{key:"swap",value:function(n,r,l){if(r===l)return null;for(var p=0;p<n.getDimension();p++){var w=n.getOrdinate(r,p);n.setOrdinate(r,p,n.getOrdinate(l,p)),n.setOrdinate(l,p,w)}}},{key:"copy",value:function(n,r,l,p,w){for(var S=0;S<w;S++)c.copyCoord(n,r+S,l,p+S)}},{key:"ensureValidRing",value:function(n,r){var l=r.size();return l===0?r:l<=3?c.createClosedRing(n,r,4):r.getOrdinate(0,Xe.X)===r.getOrdinate(l-1,Xe.X)&&r.getOrdinate(0,Xe.Y)===r.getOrdinate(l-1,Xe.Y)?r:c.createClosedRing(n,r,l+1)}},{key:"indexOf",value:function(n,r){for(var l=0;l<r.size();l++)if(n.x===r.getOrdinate(l,Xe.X)&&n.y===r.getOrdinate(l,Xe.Y))return l;return-1}},{key:"createClosedRing",value:function(n,r,l){var p=n.create(l,r.getDimension()),w=r.size();c.copy(r,0,p,0,w);for(var S=w;S<l;S++)c.copy(r,0,p,S,1);return p}},{key:"minCoordinate",value:function(n){for(var r=null,l=0;l<n.size();l++){var p=n.getCoordinate(l);(r===null||r.compareTo(p)>0)&&(r=p)}return r}}])})(),ze=(function(){function c(){i(this,c)}return h(c,null,[{key:"toDimensionSymbol",value:function(n){switch(n){case c.FALSE:return c.SYM_FALSE;case c.TRUE:return c.SYM_TRUE;case c.DONTCARE:return c.SYM_DONTCARE;case c.P:return c.SYM_P;case c.L:return c.SYM_L;case c.A:return c.SYM_A}throw new x("Unknown dimension value: "+n)}},{key:"toDimensionValue",value:function(n){switch(et.toUpperCase(n)){case c.SYM_FALSE:return c.FALSE;case c.SYM_TRUE:return c.TRUE;case c.SYM_DONTCARE:return c.DONTCARE;case c.SYM_P:return c.P;case c.SYM_L:return c.L;case c.SYM_A:return c.A}throw new x("Unknown dimension symbol: "+n)}}])})();ze.P=0,ze.L=1,ze.A=2,ze.FALSE=-1,ze.TRUE=-2,ze.DONTCARE=-3,ze.SYM_FALSE="F",ze.SYM_TRUE="T",ze.SYM_DONTCARE="*",ze.SYM_P="0",ze.SYM_L="1",ze.SYM_A="2";var ya=(function(){return h((function c(){i(this,c)}),[{key:"filter",value:function(c){}}])})(),is=(function(){return h((function c(){i(this,c)}),[{key:"filter",value:function(c,n){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),Os=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Ae:this._points.expandEnvelope(new Ae)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._points.size()!==p._points.size())return!1;for(var w=0;w<this._points.size();w++)if(!this.equal(this._points.getCoordinate(w),p._points.getCoordinate(w),l))return!1;return!0}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<Math.trunc(this._points.size()/2);r++){var l=this._points.size()-1-r;if(!this._points.getCoordinate(r).equals(this._points.getCoordinate(l))){if(this._points.getCoordinate(r).compareTo(this._points.getCoordinate(l))>0){var p=this._points.copy();wr.reverse(p),this._points=p}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ze.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var r=this._points.copy();return wr.reverse(r),this.getFactory().createLineString(r)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Jc.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var r=arguments[0],l=0,p=0;l<this._points.size()&&p<r._points.size();){var w=this._points.getCoordinate(l).compareTo(r._points.getCoordinate(p));if(w!==0)return w;l++,p++}return l<this._points.size()?1:p<r._points.size()?-1:0}if(arguments.length===2){var S=arguments[0];return arguments[1].compare(this._points,S._points)}}},{key:"apply",value:function(){if(re(arguments[0],va))for(var r=arguments[0],l=0;l<this._points.size();l++)r.filter(this._points.getCoordinate(l));else if(re(arguments[0],is)){var p=arguments[0];if(this._points.size()===0)return null;for(var w=0;w<this._points.size()&&(p.filter(this._points,w),!p.isDone());w++);p.isGeometryChanged()&&this.geometryChanged()}else re(arguments[0],ya)?arguments[0].filter(this):re(arguments[0],k)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new _e}},{key:"isEquivalentClass",value:function(r){return r instanceof n}},{key:"getCoordinateN",value:function(r){return this._points.getCoordinate(r)}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new x("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r}},{key:"isCoordinate",value:function(r){for(var l=0;l<this._points.size();l++)if(this._points.getCoordinate(l).equals(r))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))}},{key:"interfaces_",get:function(){return[Yu]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],l=arguments[1];Ne.constructor_.call(this,l),this.init(r)}}}}])})(Ne),Xu=h((function c(){i(this,c)})),Lo=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Ae;var r=new Ae;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&(!(!this.isEmpty()||!r.isEmpty())||this.isEmpty()===r.isEmpty()&&this.equal(r.getCoordinate(),this.getCoordinate(),l))}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return ze.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0];return this.getCoordinate().compareTo(r.getCoordinate())}if(arguments.length===2){var l=arguments[0];return arguments[1].compare(this._coordinates,l._coordinates)}}},{key:"apply",value:function(){if(re(arguments[0],va)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(re(arguments[0],is)){var l=arguments[0];if(this.isEmpty())return null;l.filter(this._coordinates,0),l.isGeometryChanged()&&this.geometryChanged()}else re(arguments[0],ya)?arguments[0].filter(this):re(arguments[0],k)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),Oe.isTrue(r.size()<=1),this._coordinates=r}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Xu]}}],[{key:"constructor_",value:function(){this._coordinates=null;var r=arguments[0],l=arguments[1];Ne.constructor_.call(this,l),this.init(r)}}])})(Ne),Ku=(function(){function c(){i(this,c)}return h(c,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];return Math.abs(c.ofRingSigned(n))}if(re(arguments[0],Xe)){var r=arguments[0];return Math.abs(c.ofRingSigned(r))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];if(n.length<3)return 0;for(var r=0,l=n[0].x,p=1;p<n.length-1;p++){var w=n[p].x-l,S=n[p+1].y;r+=w*(n[p-1].y-S)}return r/2}if(re(arguments[0],Xe)){var M=arguments[0],V=M.size();if(V<3)return 0;var Q=new K,le=new K,pe=new K;M.getCoordinate(0,le),M.getCoordinate(1,pe);var Pe=le.x;pe.x-=Pe;for(var Ue=0,We=1;We<V-1;We++)Q.y=le.y,le.x=pe.x,le.y=pe.y,M.getCoordinate(We+1,pe),pe.x-=Pe,Ue+=le.x*(Q.y-pe.y);return Ue/2}}}])})(),pn=(function(){return h((function c(){i(this,c)}),null,[{key:"sort",value:function(){var c=arguments,n=arguments[0];if(arguments.length===1)n.sort((function(Pe,Ue){return Pe.compareTo(Ue)}));else if(arguments.length===2)n.sort((function(Pe,Ue){return c[1].compare(Pe,Ue)}));else if(arguments.length===3){var r=n.slice(arguments[1],arguments[2]);r.sort();var l=n.slice(0,arguments[1]).concat(r,n.slice(arguments[2],n.length));n.splice(0,n.length);var p,w=m(l);try{for(w.s();!(p=w.n()).done;){var S=p.value;n.push(S)}}catch(Pe){w.e(Pe)}finally{w.f()}}else if(arguments.length===4){var M=n.slice(arguments[1],arguments[2]);M.sort((function(Pe,Ue){return c[3].compare(Pe,Ue)}));var V=n.slice(0,arguments[1]).concat(M,n.slice(arguments[2],n.length));n.splice(0,n.length);var Q,le=m(V);try{for(le.s();!(Q=le.n()).done;){var pe=Q.value;n.push(pe)}}catch(Pe){le.e(Pe)}finally{le.f()}}}},{key:"asList",value:function(c){var n,r=new je,l=m(c);try{for(l.s();!(n=l.n()).done;){var p=n.value;r.add(p)}}catch(w){l.e(w)}finally{l.f()}return r}},{key:"copyOf",value:function(c,n){return c.slice(0,n)}}])})(),Ke=h((function c(){i(this,c)})),As=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var r=new Array(this.getNumPoints()).fill(null),l=-1,p=this._shell.getCoordinates(),w=0;w<p.length;w++)r[++l]=p[w];for(var S=0;S<this._holes.length;S++)for(var M=this._holes[S].getCoordinates(),V=0;V<M.length;V++)r[++l]=M[V];return r}},{key:"getArea",value:function(){var r=0;r+=Ku.ofRing(this._shell.getCoordinateSequence());for(var l=0;l<this._holes.length;l++)r-=Ku.ofRing(this._holes[l].getCoordinateSequence());return r}},{key:"copyInternal",value:function(){for(var r=this._shell.copy(),l=new Array(this._holes.length).fill(null),p=0;p<this._holes.length;p++)l[p]=this._holes[p].copy();return new n(r,l,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),l=this.getEnvelopeInternal(),p=0;p<5;p++){var w=r.getX(p);if(w!==l.getMinX()&&w!==l.getMaxX())return!1;var S=r.getY(p);if(S!==l.getMinY()&&S!==l.getMaxY())return!1}for(var M=r.getX(0),V=r.getY(0),Q=1;Q<=4;Q++){var le=r.getX(Q),pe=r.getY(Q);if(le!==M==(pe!==V))return!1;M=le,V=pe}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r,w=this._shell,S=p._shell;if(!w.equalsExact(S,l)||this._holes.length!==p._holes.length)return!1;for(var M=0;M<this._holes.length;M++)if(!this._holes[M].equalsExact(p._holes[M],l))return!1;return!0}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var r=0;r<this._holes.length;r++)this._holes[r]=this.normalized(this._holes[r],!1);pn.sort(this._holes)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];if(l.isEmpty())return null;var w=l.getCoordinateSequence(),S=wr.minCoordinateIndex(w,0,w.size()-2);wr.scroll(w,S,!0),Ye.isCCW(w)===p&&wr.reverse(w)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var r=this.getExteriorRing().reverse(),l=new Array(this.getNumInteriorRing()).fill(null),p=0;p<l.length;p++)l[p]=this.getInteriorRingN(p).reverse();return this.getFactory().createPolygon(r,l)}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var r=0;r+=this._shell.getLength();for(var l=0;l<this._holes.length;l++)r+=this._holes[l].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=this._shell.getNumPoints(),l=0;l<this._holes.length;l++)r+=this._holes[l].getNumPoints();return r}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(r,l){var p=r.copy();return this.normalize(p,l),p}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],l=this._shell,p=r._shell;return l.compareToSameClass(p)}if(arguments.length===2){var w=arguments[1],S=arguments[0],M=this._shell,V=S._shell,Q=M.compareToSameClass(V,w);if(Q!==0)return Q;for(var le=this.getNumInteriorRing(),pe=S.getNumInteriorRing(),Pe=0;Pe<le&&Pe<pe;){var Ue=this.getInteriorRingN(Pe),We=S.getInteriorRingN(Pe),Je=Ue.compareToSameClass(We,w);if(Je!==0)return Je;Pe++}return Pe<le?1:Pe<pe?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],va)){var r=arguments[0];this._shell.apply(r);for(var l=0;l<this._holes.length;l++)this._holes[l].apply(r)}else if(re(arguments[0],is)){var p=arguments[0];if(this._shell.apply(p),!p.isDone())for(var w=0;w<this._holes.length&&(this._holes[w].apply(p),!p.isDone());w++);p.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],ya))arguments[0].filter(this);else if(re(arguments[0],k)){var S=arguments[0];S.filter(this),this._shell.apply(S);for(var M=0;M<this._holes.length;M++)this._holes[M].apply(S)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var r=new Array(this._holes.length+1).fill(null);r[0]=this._shell;for(var l=0;l<this._holes.length;l++)r[l+1]=this._holes[l];return r.length<=1?this.getFactory().createLinearRing(r[0].getCoordinateSequence()):this.getFactory().createMultiLineString(r)}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(r){return this._holes[r]}},{key:"interfaces_",get:function(){return[Ke]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var r=arguments[0],l=arguments[1],p=arguments[2];if(Ne.constructor_.call(this,p),r===null&&(r=this.getFactory().createLinearRing()),l===null&&(l=[]),Ne.hasNullElements(l))throw new x("holes must not contain null elements");if(r.isEmpty()&&Ne.hasNonEmptyElements(l))throw new x("shell is empty but holes are not");this._shell=r,this._holes=l}}])})(Ne),Ju=(function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),h(n)})(Le),Eo=(function(c){function n(r){var l;return i(this,n),(l=a(this,n)).array=[],r instanceof ee&&l.addAll(r),l}return b(n,c),h(n,[{key:"contains",value:function(r){var l,p=m(this.array);try{for(p.s();!(l=p.n()).done;)if(l.value.compareTo(r)===0)return!0}catch(w){p.e(w)}finally{p.f()}return!1}},{key:"add",value:function(r){if(this.contains(r))return!1;for(var l=0,p=this.array.length;l<p;l++)if(this.array[l].compareTo(r)===1)return!!this.array.splice(l,0,r);return this.array.push(r),!0}},{key:"addAll",value:function(r){var l,p=m(r);try{for(p.s();!(l=p.n()).done;){var w=l.value;this.add(w)}}catch(S){p.e(S)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new _e}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Qu(this.array)}}])})(Ju),Qu=(function(){return h((function c(n){i(this,c),this.array=n,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new oe;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new _e}}])})(),wn=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"computeEnvelopeInternal",value:function(){for(var r=new Ae,l=0;l<this._geometries.length;l++)r.expandToInclude(this._geometries[l].getEnvelopeInternal());return r}},{key:"getGeometryN",value:function(r){return this._geometries[r]}},{key:"getCoordinates",value:function(){for(var r=new Array(this.getNumPoints()).fill(null),l=-1,p=0;p<this._geometries.length;p++)for(var w=this._geometries[p].getCoordinates(),S=0;S<w.length;S++)r[++l]=w[S];return r}},{key:"getArea",value:function(){for(var r=0,l=0;l<this._geometries.length;l++)r+=this._geometries[l].getArea();return r}},{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._geometries.length!==p._geometries.length)return!1;for(var w=0;w<this._geometries.length;w++)if(!this._geometries[w].equalsExact(p._geometries[w],l))return!1;return!0}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<this._geometries.length;r++)this._geometries[r].normalize();pn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var r=ze.FALSE,l=0;l<this._geometries.length;l++)r=Math.max(r,this._geometries[l].getBoundaryDimension());return r}},{key:"reverseInternal",value:function(){for(var r=this._geometries.length,l=new je(r),p=0;p<r;p++)l.add(this._geometries[p].reverse());return this.getFactory().buildGeometry(l)}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var r=ze.FALSE,l=0;l<this._geometries.length;l++)r=Math.max(r,this._geometries[l].getDimension());return r}},{key:"getLength",value:function(){for(var r=0,l=0;l<this._geometries.length;l++)r+=this._geometries[l].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=0,l=0;l<this._geometries.length;l++)r+=this._geometries[l].getNumPoints();return r}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],l=new Eo(pn.asList(this._geometries)),p=new Eo(pn.asList(r._geometries));return this.compare(l,p)}if(arguments.length===2){for(var w=arguments[1],S=arguments[0],M=this.getNumGeometries(),V=S.getNumGeometries(),Q=0;Q<M&&Q<V;){var le=this.getGeometryN(Q),pe=S.getGeometryN(Q),Pe=le.compareToSameClass(pe,w);if(Pe!==0)return Pe;Q++}return Q<M?1:Q<V?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],va))for(var r=arguments[0],l=0;l<this._geometries.length;l++)this._geometries[l].apply(r);else if(re(arguments[0],is)){var p=arguments[0];if(this._geometries.length===0)return null;for(var w=0;w<this._geometries.length&&(this._geometries[w].apply(p),!p.isDone());w++);p.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],ya)){var S=arguments[0];S.filter(this);for(var M=0;M<this._geometries.length;M++)this._geometries[M].apply(S)}else if(re(arguments[0],k)){var V=arguments[0];V.filter(this);for(var Q=0;Q<this._geometries.length;Q++)this._geometries[Q].apply(V)}}},{key:"getBoundary",value:function(){return Ne.checkNotGeometryCollection(this),Oe.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],l=arguments[1];if(Ne.constructor_.call(this,l),r===null&&(r=[]),Ne.hasNullElements(r))throw new x("geometries must not contain null elements");this._geometries=r}}}}])})(Ne),ba=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&O(n,"equalsExact",this,1).call(this,r,l)}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var r=arguments[0];return this._geometries[r].getCoordinate()}return O(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return ze.FALSE}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Xu]}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];wn.constructor_.call(this,r,l)}}])})(wn),pi=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return ze.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||O(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var r=this._points.copy();return wr.reverse(r),this.getFactory().createLinearRing(r)}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!O(n,"isClosed",this,1).call(this))throw new x("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new x("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];Os.constructor_.call(this,r,l),this.validateConstruction()}}])})(Os);pi.MINIMUM_VALID_SIZE=4;var Ji=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"setOrdinate",value:function(r,l){switch(r){case n.X:this.x=l;break;case n.Y:this.y=l;break;default:throw new x("Invalid ordinate index: "+r)}}},{key:"getZ",value:function(){return K.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y}throw new x("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)K.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];K.constructor_.call(this,r.x,r.y)}else if(arguments[0]instanceof K){var l=arguments[0];K.constructor_.call(this,l.x,l.y)}}else if(arguments.length===2){var p=arguments[0],w=arguments[1];K.constructor_.call(this,p,w,K.NULL_ORDINATE)}}}])})(K);Ji.X=0,Ji.Y=1,Ji.Z=-1,Ji.M=-1;var kr=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,l){switch(r){case n.X:this.x=l;break;case n.Y:this.y=l;break;case n.M:this._m=l;break;default:throw new x("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getZ",value:function(){return K.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new x("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)K.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];K.constructor_.call(this,r.x,r.y),this._m=r._m}else if(arguments[0]instanceof K){var l=arguments[0];K.constructor_.call(this,l.x,l.y),this._m=this.getM()}}else if(arguments.length===3){var p=arguments[0],w=arguments[1],S=arguments[2];K.constructor_.call(this,p,w,K.NULL_ORDINATE),this._m=S}}}])})(K);kr.X=0,kr.Y=1,kr.Z=-1,kr.M=2;var xo=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,l){switch(r){case K.X:this.x=l;break;case K.Y:this.y=l;break;case K.Z:this.z=l;break;case K.M:this._m=l;break;default:throw new x("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getOrdinate",value:function(r){switch(r){case K.X:return this.x;case K.Y:return this.y;case K.Z:return this.getZ();case K.M:return this.getM()}throw new x("Invalid ordinate index: "+r)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)K.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];K.constructor_.call(this,r),this._m=r._m}else if(arguments[0]instanceof K){var l=arguments[0];K.constructor_.call(this,l),this._m=this.getM()}}else if(arguments.length===4){var p=arguments[0],w=arguments[1],S=arguments[2],M=arguments[3];K.constructor_.call(this,p,w,S),this._m=M}}}])})(K),wa=(function(){function c(){i(this,c)}return h(c,null,[{key:"measures",value:function(n){return n instanceof Ji?0:n instanceof kr||n instanceof xo?1:0}},{key:"dimension",value:function(n){return n instanceof Ji?2:n instanceof kr?3:n instanceof xo?4:3}},{key:"create",value:function(){if(arguments.length===1){var n=arguments[0];return c.create(n,0)}if(arguments.length===2){var r=arguments[0],l=arguments[1];return r===2?new Ji:r===3&&l===0?new K:r===3&&l===1?new kr:r===4&&l===1?new xo:new K}}}])})(),Rs=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"getCoordinate",value:function(r){return this.get(r)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&re(arguments[0],ee)){for(var r=arguments[1],l=!1,p=arguments[0].iterator();p.hasNext();)this.add(p.next(),r),l=!0;return l}return O(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var r=O(n,"clone",this,1).call(this),l=0;l<this.size();l++)r.add(l,this.get(l).clone());return r}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(n.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(n.coordArrayType);for(var r=this.size(),l=new Array(r).fill(null),p=0;p<r;p++)l[p]=this.get(r-p-1);return l}}},{key:"add",value:function(){if(arguments.length===1){var r=arguments[0];return O(n,"add",this,1).call(this,r)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var l=arguments[0],p=arguments[1];return this.add(l,p,!0),!0}if(arguments[0]instanceof K&&typeof arguments[1]=="boolean"){var w=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(w))return null;O(n,"add",this,1).call(this,w)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var S=arguments[0],M=arguments[1];return this.add(S,M),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var V=arguments[0],Q=arguments[1];if(arguments[2])for(var le=0;le<V.length;le++)this.add(V[le],Q);else for(var pe=V.length-1;pe>=0;pe--)this.add(V[pe],Q);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof K){var Pe=arguments[0],Ue=arguments[1];if(!arguments[2]){var We=this.size();if(We>0&&(Pe>0&&this.get(Pe-1).equals2D(Ue)||Pe<We&&this.get(Pe).equals2D(Ue)))return null}O(n,"add",this,1).call(this,Pe,Ue)}}else if(arguments.length===4){var Je=arguments[0],vt=arguments[1],ft=arguments[2],Ot=arguments[3],Ht=1;ft>Ot&&(Ht=-1);for(var un=ft;un!==Ot;un+=Ht)this.add(Je[un],vt);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var r=this.get(0).copy();this.add(r,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.ensureCapacity(l.length),this.add(l,p)}}}}])})(je);Rs.coordArrayType=new Array(0).fill(null);var Kt=(function(){function c(){i(this,c)}return h(c,null,[{key:"isRing",value:function(n){return!(n.length<4)&&!!n[0].equals2D(n[n.length-1])}},{key:"ptNotInList",value:function(n,r){for(var l=0;l<n.length;l++){var p=n[l];if(c.indexOf(p,r)<0)return p}return null}},{key:"scroll",value:function(n,r){var l=c.indexOf(r,n);if(l<0)return null;var p=new Array(n.length).fill(null);Jn.arraycopy(n,l,p,0,n.length-l),Jn.arraycopy(n,0,p,n.length-l,l),Jn.arraycopy(p,0,n,0,n.length)}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];if(n===r)return!0;if(n===null||r===null||n.length!==r.length)return!1;for(var l=0;l<n.length;l++)if(!n[l].equals(r[l]))return!1;return!0}if(arguments.length===3){var p=arguments[0],w=arguments[1],S=arguments[2];if(p===w)return!0;if(p===null||w===null||p.length!==w.length)return!1;for(var M=0;M<p.length;M++)if(S.compare(p[M],w[M])!==0)return!1;return!0}}},{key:"intersection",value:function(n,r){for(var l=new Rs,p=0;p<n.length;p++)r.intersects(n[p])&&l.add(n[p],!0);return l.toCoordinateArray()}},{key:"measures",value:function(n){if(n===null||n.length===0)return 0;var r,l=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var w=r.value;l=Math.max(l,wa.measures(w))}}catch(S){p.e(S)}finally{p.f()}return l}},{key:"hasRepeatedPoints",value:function(n){for(var r=1;r<n.length;r++)if(n[r-1].equals(n[r]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(n){return c.hasRepeatedPoints(n)?new Rs(n,!1).toCoordinateArray():n}},{key:"reverse",value:function(n){for(var r=n.length-1,l=Math.trunc(r/2),p=0;p<=l;p++){var w=n[p];n[p]=n[r-p],n[r-p]=w}}},{key:"removeNull",value:function(n){for(var r=0,l=0;l<n.length;l++)n[l]!==null&&r++;var p=new Array(r).fill(null);if(r===0)return p;for(var w=0,S=0;S<n.length;S++)n[S]!==null&&(p[w++]=n[S]);return p}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var n=arguments[0],r=new Array(n.length).fill(null),l=0;l<n.length;l++)r[l]=n[l].copy();return r}if(arguments.length===5)for(var p=arguments[0],w=arguments[1],S=arguments[2],M=arguments[3],V=arguments[4],Q=0;Q<V;Q++)S[M+Q]=p[w+Q].copy()}},{key:"isEqualReversed",value:function(n,r){for(var l=0;l<n.length;l++){var p=n[l],w=r[n.length-l-1];if(p.compareTo(w)!==0)return!1}return!0}},{key:"envelope",value:function(n){for(var r=new Ae,l=0;l<n.length;l++)r.expandToInclude(n[l]);return r}},{key:"toCoordinateArray",value:function(n){return n.toArray(c.coordArrayType)}},{key:"dimension",value:function(n){if(n===null||n.length===0)return 3;var r,l=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var w=r.value;l=Math.max(l,wa.dimension(w))}}catch(S){p.e(S)}finally{p.f()}return l}},{key:"atLeastNCoordinatesOrNothing",value:function(n,r){return r.length>=n?r:[]}},{key:"indexOf",value:function(n,r){for(var l=0;l<r.length;l++)if(n.equals(r[l]))return l;return-1}},{key:"increasingDirection",value:function(n){for(var r=0;r<Math.trunc(n.length/2);r++){var l=n.length-1-r,p=n[r].compareTo(n[l]);if(p!==0)return p}return 1}},{key:"compare",value:function(n,r){for(var l=0;l<n.length&&l<r.length;){var p=n[l].compareTo(r[l]);if(p!==0)return p;l++}return l<r.length?-1:l<n.length?1:0}},{key:"minCoordinate",value:function(n){for(var r=null,l=0;l<n.length;l++)(r===null||r.compareTo(n[l])>0)&&(r=n[l]);return r}},{key:"extract",value:function(n,r,l){r=ns.clamp(r,0,n.length);var p=(l=ns.clamp(l,-1,n.length))-r+1;l<0&&(p=0),r>=n.length&&(p=0),l<r&&(p=0);var w=new Array(p).fill(null);if(p===0)return w;for(var S=0,M=r;M<=l;M++)w[S++]=n[M];return w}}])})(),Qc=(function(){return h((function c(){i(this,c)}),[{key:"compare",value:function(c,n){var r=c,l=n;return Kt.compare(r,l)}},{key:"interfaces_",get:function(){return[ke]}}])})(),ka=(function(){return h((function c(){i(this,c)}),[{key:"compare",value:function(c,n){var r=c,l=n;if(r.length<l.length)return-1;if(r.length>l.length)return 1;if(r.length===0)return 0;var p=Kt.compare(r,l);return Kt.isEqualReversed(r,l)?0:p}},{key:"OLDcompare",value:function(c,n){var r=c,l=n;if(r.length<l.length)return-1;if(r.length>l.length)return 1;if(r.length===0)return 0;for(var p=Kt.increasingDirection(r),w=Kt.increasingDirection(l),S=p>0?0:r.length-1,M=w>0?0:r.length-1,V=0;V<r.length;V++){var Q=r[S].compareTo(l[M]);if(Q!==0)return Q;S+=p,M+=w}return 0}},{key:"interfaces_",get:function(){return[ke]}}])})();Kt.ForwardComparator=Qc,Kt.BidirectionalComparator=ka,Kt.coordArrayType=new Array(0).fill(null);var La=(function(){return h((function c(n){i(this,c),this.str=n}),[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])})(),Ds=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getM",value:function(n){return this.hasM()?this._coordinates[n].getM():ce.NaN}},{key:"setOrdinate",value:function(n,r,l){switch(r){case Xe.X:this._coordinates[n].x=l;break;case Xe.Y:this._coordinates[n].y=l;break;default:this._coordinates[n].setOrdinate(r,l)}}},{key:"getZ",value:function(n){return this.hasZ()?this._coordinates[n].getZ():ce.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(n,r){switch(r){case Xe.X:return this._coordinates[n].x;case Xe.Y:return this._coordinates[n].y;default:return this._coordinates[n].getOrdinate(r)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var n=arguments[0];return this._coordinates[n]}if(arguments.length===2){var r=arguments[0];arguments[1].setCoordinate(this._coordinates[r])}}},{key:"getCoordinateCopy",value:function(n){var r=this.createCoordinate();return r.setCoordinate(this._coordinates[n]),r}},{key:"createCoordinate",value:function(){return wa.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(n){return this._coordinates[n].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(n){for(var r=0;r<this._coordinates.length;r++)n.expandToInclude(this._coordinates[r]);return n}},{key:"copy",value:function(){for(var n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++){var l=this.createCoordinate();l.setCoordinate(this._coordinates[r]),n[r]=l}return new c(n,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var n=new La(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)n.append(", "),n.append(this._coordinates[r]);return n.append(")"),n.toString()}return"()"}},{key:"getY",value:function(n){return this._coordinates[n].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Xe,D]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];c.constructor_.call(this,n,Kt.dimension(n),Kt.measures(n))}else if(Number.isInteger(arguments[0])){var r=arguments[0];this._coordinates=new Array(r).fill(null);for(var l=0;l<r;l++)this._coordinates[l]=new K}else if(re(arguments[0],Xe)){var p=arguments[0];if(p===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=p.getDimension(),this._measures=p.getMeasures(),this._coordinates=new Array(p.size()).fill(null);for(var w=0;w<this._coordinates.length;w++)this._coordinates[w]=p.getCoordinateCopy(w)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var S=arguments[0],M=arguments[1];c.constructor_.call(this,S,M,Kt.measures(S))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var V=arguments[0],Q=arguments[1];this._coordinates=new Array(V).fill(null),this._dimension=Q;for(var le=0;le<V;le++)this._coordinates[le]=wa.create(Q)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var pe=arguments[0],Pe=arguments[1],Ue=arguments[2];this._dimension=Pe,this._measures=Ue,this._coordinates=pe===null?new Array(0).fill(null):pe}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var We=arguments[0],Je=arguments[1],vt=arguments[2];this._coordinates=new Array(We).fill(null),this._dimension=Je,this._measures=vt;for(var ft=0;ft<We;ft++)this._coordinates[ft]=this.createCoordinate()}}}}])})(),To=(function(){function c(){i(this,c)}return h(c,[{key:"readResolve",value:function(){return c.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Ds(arguments[0]);if(re(arguments[0],Xe))return new Ds(arguments[0])}else{if(arguments.length===2){var n=arguments[1];return n>3&&(n=3),n<2&&(n=2),new Ds(arguments[0],n)}if(arguments.length===3){var r=arguments[2],l=arguments[1]-r;return r>1&&(r=1),l>3&&(l=3),l<2&&(l=2),new Ds(arguments[0],l+r,r)}}}},{key:"interfaces_",get:function(){return[ko,D]}}],[{key:"instance",value:function(){return c.instanceObject}}])})();To.instanceObject=new To;var So=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&O(n,"equalsExact",this,1).call(this,r,l)}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var r=new je,l=0;l<this._geometries.length;l++)for(var p=this._geometries[l].getBoundary(),w=0;w<p.getNumGeometries();w++)r.add(p.getGeometryN(w));var S=new Array(r.size()).fill(null);return this.getFactory().createMultiLineString(r.toArray(S))}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ke]}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];wn.constructor_.call(this,r,l)}}])})(wn),el=(function(){return h((function c(){i(this,c)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Co=(function(c){function n(){var r;return i(this,n),(r=a(this,n)).map=new Map,r}return b(n,c),h(n,[{key:"get",value:function(r){return this.map.get(r)||null}},{key:"put",value:function(r,l){return this.map.set(r,l),l}},{key:"values",value:function(){for(var r=new je,l=this.map.values(),p=l.next();!p.done;)r.add(p.value),p=l.next();return r}},{key:"entrySet",value:function(){var r=new ye;return this.map.entries().forEach((function(l){return r.add(l)})),r}},{key:"size",value:function(){return this.map.size()}}])})(el),kn=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this._modelType===r._modelType&&this._scale===r._scale}},{key:"compareTo",value:function(n){var r=n,l=this.getMaximumSignificantDigits(),p=r.getMaximumSignificantDigits();return Ve.compare(l,p)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===c.FLOATING||this._modelType===c.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var n="UNKNOWN";return this._modelType===c.FLOATING?n="Floating":this._modelType===c.FLOATING_SINGLE?n="Floating-Single":this._modelType===c.FIXED&&(n="Fixed (Scale="+this.getScale()+")"),n}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var n=arguments[0];return ce.isNaN(n)||this._modelType===c.FLOATING_SINGLE?n:this._modelType===c.FIXED?Math.round(n*this._scale)/this._scale:n}if(arguments[0]instanceof K){var r=arguments[0];if(this._modelType===c.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}}},{key:"getMaximumSignificantDigits",value:function(){var n=16;return this._modelType===c.FLOATING?n=16:this._modelType===c.FLOATING_SINGLE?n=6:this._modelType===c.FIXED&&(n=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),n}},{key:"setScale",value:function(n){this._scale=Math.abs(n)}},{key:"interfaces_",get:function(){return[D,C]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=c.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Lr){var n=arguments[0];this._modelType=n,n===c.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var r=arguments[0];this._modelType=c.FIXED,this.setScale(r)}else if(arguments[0]instanceof c){var l=arguments[0];this._modelType=l._modelType,this._scale=l._scale}}}},{key:"mostPrecise",value:function(n,r){return n.compareTo(r)>=0?n:r}}])})(),Lr=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"readResolve",value:function(){return c.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){this._name=null;var n=arguments[0];this._name=n,c.nameToTypeMap.put(n,this)}}])})();Lr.nameToTypeMap=new Co,kn.Type=Lr,kn.FIXED=new Lr("FIXED"),kn.FLOATING=new Lr("FLOATING"),kn.FLOATING_SINGLE=new Lr("FLOATING SINGLE"),kn.maximumPreciseValue=9007199254740992;var Ea=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),l=0;l<r.length;l++)r[l]=this._geometries[l].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ne){var r=arguments[0],l=arguments[1];return!!this.isEquivalentClass(r)&&O(n,"equalsExact",this,1).call(this,r,l)}return O(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ze.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Ne.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new _e}},{key:"getGeometryType",value:function(){return Ne.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Yu]}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];wn.constructor_.call(this,r,l)}}])})(wn),mi=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"createEmpty",value:function(n){switch(n){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new x("Invalid dimension: "+n)}}},{key:"toGeometry",value:function(n){return n.isNull()?this.createPoint():n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new K(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new K(n.getMinX(),n.getMinY()),new K(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new K(n.getMinX(),n.getMinY()),new K(n.getMinX(),n.getMaxY()),new K(n.getMaxX(),n.getMaxY()),new K(n.getMaxX(),n.getMinY()),new K(n.getMinX(),n.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLineString(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(re(arguments[0],Xe))return new Os(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Ea(null,this):arguments.length===1?new Ea(arguments[0],this):void 0}},{key:"buildGeometry",value:function(n){for(var r=null,l=!1,p=!1,w=n.iterator();w.hasNext();){var S=w.next(),M=S.getTypeCode();r===null&&(r=M),M!==r&&(l=!0),S instanceof wn&&(p=!0)}if(r===null)return this.createGeometryCollection();if(l||p)return this.createGeometryCollection(c.toGeometryArray(n));var V=n.iterator().next();if(n.size()>1){if(V instanceof As)return this.createMultiPolygon(c.toPolygonArray(n));if(V instanceof Os)return this.createMultiLineString(c.toLineStringArray(n));if(V instanceof Lo)return this.createMultiPoint(c.toPointArray(n));Oe.shouldNeverReachHere("Unhandled geometry type: "+V.getGeometryType())}return V}},{key:"createMultiPointFromCoords",value:function(n){return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof K){var n=arguments[0];return this.createPoint(n!==null?this.getCoordinateSequenceFactory().create([n]):null)}if(re(arguments[0],Xe))return new Lo(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(re(arguments[0],Xe)){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Array){var r=arguments[0];return this.createPolygon(this.createLinearRing(r))}if(arguments[0]instanceof pi){var l=arguments[0];return this.createPolygon(l,null)}}else if(arguments.length===2)return new As(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new wn(null,this):arguments.length===1?new wn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLinearRing(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(re(arguments[0],Xe))return new pi(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new So(null,this):arguments.length===1?new So(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new ba(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new ba(arguments[0],this);if(re(arguments[0],Xe)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),l=0;l<n.size();l++){var p=this.getCoordinateSequenceFactory().create(1,n.getDimension(),n.getMeasures());wr.copy(n,l,p,0,1),r[l]=this.createPoint(p)}return this.createMultiPoint(r)}}}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)c.constructor_.call(this,new kn,0);else if(arguments.length===1){if(re(arguments[0],ko)){var n=arguments[0];c.constructor_.call(this,new kn,0,n)}else if(arguments[0]instanceof kn){var r=arguments[0];c.constructor_.call(this,r,0,c.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];c.constructor_.call(this,l,p,c.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var w=arguments[0],S=arguments[1],M=arguments[2];this._precisionModel=w,this._coordinateSequenceFactory=M,this._SRID=S}}},{key:"toMultiPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toGeometryArray",value:function(n){if(n===null)return null;var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return To.instance()}},{key:"toMultiLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toMultiPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLinearRingArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"createPointFromInternalCoord",value:function(n,r){return r.getPrecisionModel().makePrecise(n),r.getFactory().createPoint(n)}}])})(),_t="XY",Ut="XYZ",xa="XYM",rs="XYZM",Er={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Ta="EMPTY",ut=1,Tt=2,gi=3,Bs=4,on=5,ed=6;for(var Sa in Er)Er[Sa].toUpperCase();var xr=(function(){return h((function c(n){i(this,c),this.wkt=n,this.index_=-1}),[{key:"isAlpha_",value:function(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"}},{key:"isNumeric_",value:function(c,n){return c>="0"&&c<="9"||c=="."&&!(n!==void 0&&n)}},{key:"isWhiteSpace_",value:function(c){return c==" "||c=="	"||c=="\r"||c==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var c,n=this.nextChar_(),r=this.index_,l=n;if(n=="(")c=Tt;else if(n==",")c=on;else if(n==")")c=gi;else if(this.isNumeric_(n)||n=="-")c=Bs,l=this.readNumber_();else if(this.isAlpha_(n))c=ut,l=this.readText_();else{if(this.isWhiteSpace_(n))return this.nextToken();if(n!=="")throw new Error("Unexpected character: "+n);c=ed}return{position:r,value:l,type:c}}},{key:"readNumber_",value:function(){var c,n=this.index_,r=!1,l=!1;do c=="."?r=!0:c!="e"&&c!="E"||(l=!0),c=this.nextChar_();while(this.isNumeric_(c,r)||!l&&(c=="e"||c=="E")||l&&(c=="-"||c=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}},{key:"readText_",value:function(){var c,n=this.index_;do c=this.nextChar_();while(this.isAlpha_(c));return this.wkt.substring(n,this.index_--).toUpperCase()}}])})(),Jt=(function(){return h((function c(n,r){i(this,c),this.lexer_=n,this.token_,this.layout_=_t,this.factory=r}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(c){return this.token_.type==c}},{key:"match",value:function(c){var n=this.isTokenType(c);return n&&this.consume_(),n}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var c=_t,n=this.token_;if(this.isTokenType(ut)){var r=n.value;r==="Z"?c=Ut:r==="M"?c=xa:r==="ZM"&&(c=rs),c!==_t&&this.consume_()}return c}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Tt)){var c=[];do c.push(this.parseGeometry_());while(this.match(on));if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Tt)){var c=this.parsePoint_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Tt)){var c=this.parsePointList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Tt)){var c=this.parseLineStringTextList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var c;if(this.match(Tt)){if(c=this.token_.type==Tt?this.parsePointTextList_():this.parsePointList_(),this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Tt)){var c=this.parseLineStringTextList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Tt)){var c=this.parsePolygonTextList_();if(this.match(gi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var c=[],n=this.layout_.length,r=0;r<n;++r){var l=this.token_;if(!this.match(Bs))break;c.push(l.value)}if(c.length==n)return c;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var c=[this.parsePoint_()];this.match(on);)c.push(this.parsePoint_());return c}},{key:"parsePointTextList_",value:function(){for(var c=[this.parsePointText_()];this.match(on);)c.push(this.parsePointText_());return c}},{key:"parseLineStringTextList_",value:function(){for(var c=[this.parseLineStringText_()];this.match(on);)c.push(this.parseLineStringText_());return c}},{key:"parsePolygonTextList_",value:function(){for(var c=[this.parsePolygonText_()];this.match(on);)c.push(this.parsePolygonText_());return c}},{key:"isEmptyGeometry_",value:function(){var c=this.isTokenType(ut)&&this.token_.value==Ta;return c&&this.consume_(),c}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var c=this.factory,n=function(Je){return u(K,B(Je))},r=function(Je){var vt=Je.map((function(ft){return c.createLinearRing(ft.map(n))}));return vt.length>1?c.createPolygon(vt[0],vt.slice(1)):c.createPolygon(vt[0])},l=this.token_;if(this.match(ut)){var p=l.value;if(this.layout_=this.parseGeometryLayout_(),p=="GEOMETRYCOLLECTION"){var w=this.parseGeometryCollectionText_();return c.createGeometryCollection(w)}switch(p){case"POINT":var S=this.parsePointText_();return S?c.createPoint(u(K,B(S))):c.createPoint();case"LINESTRING":var M=this.parseLineStringText_().map(n);return c.createLineString(M);case"LINEARRING":var V=this.parseLineStringText_().map(n);return c.createLinearRing(V);case"POLYGON":var Q=this.parsePolygonText_();return Q&&Q.length!==0?r(Q):c.createPolygon();case"MULTIPOINT":var le=this.parseMultiPointText_();if(!le||le.length===0)return c.createMultiPoint();var pe=le.map(n).map((function(Je){return c.createPoint(Je)}));return c.createMultiPoint(pe);case"MULTILINESTRING":var Pe=this.parseMultiLineStringText_().map((function(Je){return c.createLineString(Je.map(n))}));return c.createMultiLineString(Pe);case"MULTIPOLYGON":var Ue=this.parseMultiPolygonText_();if(!Ue||Ue.length===0)return c.createMultiPolygon();var We=Ue.map(r);return c.createMultiPolygon(We);default:throw new Error("Invalid geometry type: "+p)}}throw new Error(this.formatErrorMessage_())}}])})();function Qi(c){if(c.isEmpty())return"";var n=c.getCoordinate(),r=[n.x,n.y];return n.z===void 0||Number.isNaN(n.z)||r.push(n.z),n.m===void 0||Number.isNaN(n.m)||r.push(n.m),r.join(" ")}function Oi(c){for(var n=c.getCoordinates().map((function(w){var S=[w.x,w.y];return w.z===void 0||Number.isNaN(w.z)||S.push(w.z),w.m===void 0||Number.isNaN(w.m)||S.push(w.m),S})),r=[],l=0,p=n.length;l<p;++l)r.push(n[l].join(" "));return r.join(", ")}function ss(c){var n=[];n.push("("+Oi(c.getExteriorRing())+")");for(var r=0,l=c.getNumInteriorRing();r<l;++r)n.push("("+Oi(c.getInteriorRingN(r))+")");return n.join(", ")}var Po={Point:Qi,LineString:Oi,LinearRing:Oi,Polygon:ss,MultiPoint:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push("("+Qi(c.getGeometryN(r))+")");return n.join(", ")},MultiLineString:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push("("+Oi(c.getGeometryN(r))+")");return n.join(", ")},MultiPolygon:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push("("+ss(c.getGeometryN(r))+")");return n.join(", ")},GeometryCollection:function(c){for(var n=[],r=0,l=c.getNumGeometries();r<l;++r)n.push(as(c.getGeometryN(r)));return n.join(", ")}};function as(c){var n=c.getGeometryType(),r=Po[n];n=n.toUpperCase();var l=(function(p){var w="";if(p.isEmpty())return w;var S=p.getCoordinate();return S.z===void 0||Number.isNaN(S.z)||(w+="Z"),S.m===void 0||Number.isNaN(S.m)||(w+="M"),w})(c);return l.length>0&&(n+=" "+l),c.isEmpty()?n+" "+Ta:n+" ("+r(c)+")"}var Io=(function(){return h((function c(n){i(this,c),this.geometryFactory=n||new mi,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(c){var n=new xr(c);return new Jt(n,this.geometryFactory).parse()}},{key:"write",value:function(c){return as(c)}}])})(),Fs=(function(){return h((function c(n){i(this,c),this.parser=new Io(n)}),[{key:"write",value:function(c){return this.parser.write(c)}}],[{key:"toLineString",value:function(c,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+c.x+" "+c.y+", "+n.x+" "+n.y+" )"}}])})(),Nt=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getIndexAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intLineIndex[n][r]}},{key:"getTopologySummary",value:function(){var n=new La;return this.isEndPoint()&&n.append(" endpoint"),this._isProper&&n.append(" proper"),this.isCollinear()&&n.append(" collinear"),n.toString()}},{key:"computeIntersection",value:function(n,r,l,p){this._inputLines[0][0]=n,this._inputLines[0][1]=r,this._inputLines[1][0]=l,this._inputLines[1][1]=p,this._result=this.computeIntersect(n,r,l,p)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var n=arguments[0];this.getEdgeDistance(n,0)>this.getEdgeDistance(n,1)?(this._intLineIndex[n][0]=0,this._intLineIndex[n][1]=1):(this._intLineIndex[n][0]=1,this._intLineIndex[n][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],r=0;r<this._result;r++)if(!this._intPt[r].equals2D(this._inputLines[n][0])&&!this._intPt[r].equals2D(this._inputLines[n][1]))return!0;return!1}}},{key:"getIntersection",value:function(n){return this._intPt[n]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==c.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(n,r){return c.computeEdgeDistance(this._intPt[r],this._inputLines[n][0],this._inputLines[n][1])}},{key:"isCollinear",value:function(){return this._result===c.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Fs.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Fs.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(n,r){return this._inputLines[n][r]}},{key:"isIntersection",value:function(n){for(var r=0;r<this._result;r++)if(this._intPt[r].equals2D(n))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[n][r]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new K,this._intPt[1]=new K,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(n,r,l){var p=Math.abs(l.x-r.x),w=Math.abs(l.y-r.y),S=-1;if(n.equals(r))S=0;else if(n.equals(l))S=p>w?p:w;else{var M=Math.abs(n.x-r.x),V=Math.abs(n.y-r.y);(S=p>w?M:V)!==0||n.equals(r)||(S=Math.max(M,V))}return Oe.isTrue(!(S===0&&!n.equals(r)),"Bad distance calculation"),S}},{key:"nonRobustComputeEdgeDistance",value:function(n,r,l){var p=n.x-r.x,w=n.y-r.y,S=Math.sqrt(p*p+w*w);return Oe.isTrue(!(S===0&&!n.equals(r)),"Invalid distance calculation"),S}}])})();Nt.DONT_INTERSECT=0,Nt.DO_INTERSECT=1,Nt.COLLINEAR=2,Nt.NO_INTERSECTION=0,Nt.POINT_INTERSECTION=1,Nt.COLLINEAR_INTERSECTION=2;var Ai=(function(c){function n(){return i(this,n),a(this,n)}return b(n,c),h(n,[{key:"isInSegmentEnvelopes",value:function(r){var l=new Ae(this._inputLines[0][0],this._inputLines[0][1]),p=new Ae(this._inputLines[1][0],this._inputLines[1][1]);return l.contains(r)&&p.contains(r)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return O(n,"computeIntersection",this,1).apply(this,arguments);var r=arguments[0],l=arguments[1],p=arguments[2];if(this._isProper=!1,Ae.intersects(l,p,r)&&Ye.index(l,p,r)===0&&Ye.index(p,l,r)===0)return this._isProper=!0,(r.equals(l)||r.equals(p))&&(this._isProper=!1),this._result=Nt.POINT_INTERSECTION,null;this._result=Nt.NO_INTERSECTION}},{key:"intersection",value:function(r,l,p,w){var S=this.intersectionSafe(r,l,p,w);return this.isInSegmentEnvelopes(S)||(S=new K(n.nearestEndpoint(r,l,p,w))),this._precisionModel!==null&&this._precisionModel.makePrecise(S),S}},{key:"checkDD",value:function(r,l,p,w,S){var M=Gt.intersection(r,l,p,w),V=this.isInSegmentEnvelopes(M);Jn.out.println("DD in env = "+V+"  --------------------- "+M),S.distance(M)>1e-4&&Jn.out.println("Distance = "+S.distance(M))}},{key:"intersectionSafe",value:function(r,l,p,w){var S=ts.intersection(r,l,p,w);return S===null&&(S=n.nearestEndpoint(r,l,p,w)),S}},{key:"computeCollinearIntersection",value:function(r,l,p,w){var S=Ae.intersects(r,l,p),M=Ae.intersects(r,l,w),V=Ae.intersects(p,w,r),Q=Ae.intersects(p,w,l);return S&&M?(this._intPt[0]=p,this._intPt[1]=w,Nt.COLLINEAR_INTERSECTION):V&&Q?(this._intPt[0]=r,this._intPt[1]=l,Nt.COLLINEAR_INTERSECTION):S&&V?(this._intPt[0]=p,this._intPt[1]=r,!p.equals(r)||M||Q?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):S&&Q?(this._intPt[0]=p,this._intPt[1]=l,!p.equals(l)||M||V?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):M&&V?(this._intPt[0]=w,this._intPt[1]=r,!w.equals(r)||S||Q?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):M&&Q?(this._intPt[0]=w,this._intPt[1]=l,!w.equals(l)||S||V?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):Nt.NO_INTERSECTION}},{key:"computeIntersect",value:function(r,l,p,w){if(this._isProper=!1,!Ae.intersects(r,l,p,w))return Nt.NO_INTERSECTION;var S=Ye.index(r,l,p),M=Ye.index(r,l,w);if(S>0&&M>0||S<0&&M<0)return Nt.NO_INTERSECTION;var V=Ye.index(p,w,r),Q=Ye.index(p,w,l);return V>0&&Q>0||V<0&&Q<0?Nt.NO_INTERSECTION:S===0&&M===0&&V===0&&Q===0?this.computeCollinearIntersection(r,l,p,w):(S===0||M===0||V===0||Q===0?(this._isProper=!1,r.equals2D(p)||r.equals2D(w)?this._intPt[0]=r:l.equals2D(p)||l.equals2D(w)?this._intPt[0]=l:S===0?this._intPt[0]=new K(p):M===0?this._intPt[0]=new K(w):V===0?this._intPt[0]=new K(r):Q===0&&(this._intPt[0]=new K(l))):(this._isProper=!0,this._intPt[0]=this.intersection(r,l,p,w)),Nt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(r,l,p,w){var S=r,M=ai.pointToSegment(r,p,w),V=ai.pointToSegment(l,p,w);return V<M&&(M=V,S=l),(V=ai.pointToSegment(p,r,l))<M&&(M=V,S=p),(V=ai.pointToSegment(w,r,l))<M&&(M=V,S=w),S}}])})(Nt),No=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"countSegment",value:function(n,r){if(n.x<this._p.x&&r.x<this._p.x)return null;if(this._p.x===r.x&&this._p.y===r.y)return this._isPointOnSegment=!0,null;if(n.y===this._p.y&&r.y===this._p.y){var l=n.x,p=r.x;return l>p&&(l=r.x,p=n.x),this._p.x>=l&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(n.y>this._p.y&&r.y<=this._p.y||r.y>this._p.y&&n.y<=this._p.y){var w=Ye.index(n,r,this._p);if(w===Ye.COLLINEAR)return this._isPointOnSegment=!0,null;r.y<n.y&&(w=-w),w===Ye.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==N.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?N.BOUNDARY:this._crossingCount%2==1?N.INTERIOR:N.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var n=arguments[0];this._p=n}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof K&&re(arguments[1],Xe)){for(var n=arguments[1],r=new c(arguments[0]),l=new K,p=new K,w=1;w<n.size();w++)if(n.getCoordinate(w,l),n.getCoordinate(w-1,p),r.countSegment(l,p),r.isOnSegment())return r.getLocation();return r.getLocation()}if(arguments[0]instanceof K&&arguments[1]instanceof Array){for(var S=arguments[1],M=new c(arguments[0]),V=1;V<S.length;V++){var Q=S[V],le=S[V-1];if(M.countSegment(Q,le),M.isOnSegment())return M.getLocation()}return M.getLocation()}}}])})(),os=(function(){function c(){i(this,c)}return h(c,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof K&&re(arguments[1],Xe)){for(var n=arguments[0],r=arguments[1],l=new Ai,p=new K,w=new K,S=r.size(),M=1;M<S;M++)if(r.getCoordinate(M-1,p),r.getCoordinate(M,w),l.computeIntersection(n,p,w),l.hasIntersection())return!0;return!1}if(arguments[0]instanceof K&&arguments[1]instanceof Array){for(var V=arguments[0],Q=arguments[1],le=new Ai,pe=1;pe<Q.length;pe++){var Pe=Q[pe-1],Ue=Q[pe];if(le.computeIntersection(V,Pe,Ue),le.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(n,r){return No.locatePointInRing(n,r)}},{key:"isInRing",value:function(n,r){return c.locateInRing(n,r)!==N.EXTERIOR}}])})(),Fn=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"setAllLocations",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]=n}},{key:"isNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==N.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]===N.NONE&&(this.location[r]=n)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(n){if(n.location.length>this.location.length){var r=new Array(3).fill(null);r[U.ON]=this.location[U.ON],r[U.LEFT]=N.NONE,r[U.RIGHT]=N.NONE,this.location=r}for(var l=0;l<this.location.length;l++)this.location[l]===N.NONE&&l<n.location.length&&(this.location[l]=n.location[l])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var n=this.location[U.LEFT];this.location[U.LEFT]=this.location[U.RIGHT],this.location[U.RIGHT]=n}},{key:"toString",value:function(){var n=new we;return this.location.length>1&&n.append(N.toLocationSymbol(this.location[U.LEFT])),n.append(N.toLocationSymbol(this.location[U.ON])),this.location.length>1&&n.append(N.toLocationSymbol(this.location[U.RIGHT])),n.toString()}},{key:"setLocations",value:function(n,r,l){this.location[U.ON]=n,this.location[U.LEFT]=r,this.location[U.RIGHT]=l}},{key:"get",value:function(n){return n<this.location.length?this.location[n]:N.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===N.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var n=arguments[0];this.setLocation(U.ON,n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.location[r]=l}}},{key:"init",value:function(n){this.location=new Array(n).fill(null),this.setAllLocations(N.NONE)}},{key:"isEqualOnSide",value:function(n,r){return this.location[r]===n.location[r]}},{key:"allPositionsEqual",value:function(n){for(var r=0;r<this.location.length;r++)if(this.location[r]!==n)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[U.ON]=r}else if(arguments[0]instanceof c){var l=arguments[0];if(this.init(l.location.length),l!==null)for(var p=0;p<this.location.length;p++)this.location[p]=l.location[p]}}else if(arguments.length===3){var w=arguments[0],S=arguments[1],M=arguments[2];this.init(3),this.location[U.ON]=w,this.location[U.LEFT]=S,this.location[U.RIGHT]=M}}}])})(),Cn=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getGeometryCount",value:function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n}},{key:"setAllLocations",value:function(n,r){this.elt[n].setAllLocations(r)}},{key:"isNull",value:function(n){return this.elt[n].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var n=arguments[0];this.setAllLocationsIfNull(0,n),this.setAllLocationsIfNull(1,n)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.elt[r].setAllLocationsIfNull(l)}}},{key:"isLine",value:function(n){return this.elt[n].isLine()}},{key:"merge",value:function(n){for(var r=0;r<2;r++)this.elt[r]===null&&n.elt[r]!==null?this.elt[r]=new Fn(n.elt[r]):this.elt[r].merge(n.elt[r])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var n=arguments[0];return this.elt[n].get(U.ON)}if(arguments.length===2){var r=arguments[0],l=arguments[1];return this.elt[r].get(l)}}},{key:"toString",value:function(){var n=new we;return this.elt[0]!==null&&(n.append("A:"),n.append(this.elt[0].toString())),this.elt[1]!==null&&(n.append(" B:"),n.append(this.elt[1].toString())),n.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var n=arguments[0];return this.elt[n].isArea()}}},{key:"isAnyNull",value:function(n){return this.elt[n].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[n].setLocation(U.ON,r)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],w=arguments[2];this.elt[l].setLocation(p,w)}}},{key:"isEqualOnSide",value:function(n,r){return this.elt[0].isEqualOnSide(n.elt[0],r)&&this.elt[1].isEqualOnSide(n.elt[1],r)}},{key:"allPositionsEqual",value:function(n,r){return this.elt[n].allPositionsEqual(r)}},{key:"toLine",value:function(n){this.elt[n].isArea()&&(this.elt[n]=new Fn(this.elt[n].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Fn(n),this.elt[1]=new Fn(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.elt[0]=new Fn(r.elt[0]),this.elt[1]=new Fn(r.elt[1])}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.elt[0]=new Fn(N.NONE),this.elt[1]=new Fn(N.NONE),this.elt[l].setLocation(p)}else if(arguments.length===3){var w=arguments[0],S=arguments[1],M=arguments[2];this.elt[0]=new Fn(w,S,M),this.elt[1]=new Fn(w,S,M)}else if(arguments.length===4){var V=arguments[0],Q=arguments[1],le=arguments[2],pe=arguments[3];this.elt[0]=new Fn(N.NONE,N.NONE,N.NONE),this.elt[1]=new Fn(N.NONE,N.NONE,N.NONE),this.elt[V].setLocations(Q,le,pe)}}},{key:"toLineLabel",value:function(n){for(var r=new c(N.NONE),l=0;l<2;l++)r.setLocation(l,n.getLocation(l));return r}}])})(),Ca=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var c=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)c[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(c),this._isHole=Ye.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(c){this._startDe=c;var n=c,r=!0;do{if(n===null)throw new hn("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new hn("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var l=n.getLabel();Oe.isTrue(l.isArea()),this.mergeLabel(l),this.addPoints(n.getEdge(),n.isForward(),r),r=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(c){return this._pts.get(c)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var c=this._startDe;do{var n=c.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),c=this.getNext(c)}while(c!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(c,n,r){var l=c.getCoordinates();if(n){var p=1;r&&(p=0);for(var w=p;w<l.length;w++)this._pts.add(l[w])}else{var S=l.length-2;r&&(S=l.length-1);for(var M=S;M>=0;M--)this._pts.add(l[M])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var c=this._startDe;do c.getEdge().setInResult(!0),c=c.getNext();while(c!==this._startDe)}},{key:"containsPoint",value:function(c){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(c)||!os.isInRing(c,n.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();)if(r.next().containsPoint(c))return!1;return!0}},{key:"addHole",value:function(c){this._holes.add(c)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var c=arguments[0];this.mergeLabel(c,0),this.mergeLabel(c,1)}else if(arguments.length===2){var n=arguments[1],r=arguments[0].getLocation(n,U.RIGHT);if(r===N.NONE)return null;if(this._label.getLocation(n)===N.NONE)return this._label.setLocation(n,r),null}}},{key:"setShell",value:function(c){this._shell=c,c!==null&&c.addHole(this)}},{key:"toPolygon",value:function(c){for(var n=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)n[r]=this._holes.get(r).getLinearRing();return c.createPolygon(this.getLinearRing(),n)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new je,this._pts=new je,this._label=new Cn(N.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new je,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var c=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(c),this.computeRing()}}}}])})(),lt=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"setEdgeRing",value:function(r,l){r.setMinEdgeRing(l)}},{key:"getNext",value:function(r){return r.getNextMin()}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];Ca.constructor_.call(this,r,l)}}])})(Ca),_i=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"buildMinimalRings",value:function(){var r=new je,l=this._startDe;do{if(l.getMinEdgeRing()===null){var p=new lt(l,this._geometryFactory);r.add(p)}l=l.getNext()}while(l!==this._startDe);return r}},{key:"setEdgeRing",value:function(r,l){r.setEdgeRing(l)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var r=this._startDe;do r.getNode().getEdges().linkMinimalDirectedEdges(this),r=r.getNext();while(r!==this._startDe)}},{key:"getNext",value:function(r){return r.getNext()}}],[{key:"constructor_",value:function(){var r=arguments[0],l=arguments[1];Ca.constructor_.call(this,r,l)}}])})(Ca),Mt=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(c){this._isVisited=c}},{key:"setInResult",value:function(c){this._isInResult=c}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(c){this._label=c}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(c){this._isCovered=c,this._isCoveredSet=!0}},{key:"updateIM",value:function(c){Oe.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(c)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._label=c}}}}])})(),zs=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"isIncidentEdgeInResult",value:function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();)if(r.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(r){r.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(r){}},{key:"computeMergedLocation",value:function(r,l){var p=N.NONE;if(p=this._label.getLocation(l),!r.isNull(l)){var w=r.getLocation(l);p!==N.BOUNDARY&&(p=w)}return p}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return O(n,"setLabel",this,1).apply(this,arguments);var r=arguments[0],l=arguments[1];this._label===null?this._label=new Cn(r,l):this._label.setLocation(r,l)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Cn)for(var l=arguments[0],p=0;p<2;p++){var w=this.computeMergedLocation(l,p);this._label.getLocation(p)===N.NONE&&this._label.setLocation(p,w)}}},{key:"add",value:function(r){this._edges.insert(r),r.setNode(this)}},{key:"setLabelBoundary",value:function(r){if(this._label===null)return null;var l=N.NONE;this._label!==null&&(l=this._label.getLocation(r));var p=null;switch(l){case N.BOUNDARY:p=N.INTERIOR;break;case N.INTERIOR:default:p=N.BOUNDARY}this._label.setLocation(r,p)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var r=arguments[0],l=arguments[1];this._coord=r,this._edges=l,this._label=new Cn(0,N.NONE)}}])})(Mt),Mo=(function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),h(n)})(el);function Pa(c){return c==null?0:c.color}function bt(c){return c==null?null:c.parent}function mn(c,n){c!==null&&(c.color=n)}function Gs(c){return c==null?null:c.left}function us(c){return c==null?null:c.right}var Wt=(function(c){function n(){var r;return i(this,n),(r=a(this,n)).root_=null,r.size_=0,r}return b(n,c),h(n,[{key:"get",value:function(r){for(var l=this.root_;l!==null;){var p=r.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return l.value;l=l.right}}return null}},{key:"put",value:function(r,l){if(this.root_===null)return this.root_={key:r,value:l,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var p,w,S=this.root_;do if(p=S,(w=r.compareTo(S.key))<0)S=S.left;else{if(!(w>0)){var M=S.value;return S.value=l,M}S=S.right}while(S!==null);var V={key:r,left:null,right:null,value:l,parent:p,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return w<0?p.left=V:p.right=V,this.fixAfterInsertion(V),this.size_++,null}},{key:"fixAfterInsertion",value:function(r){var l;for(r.color=1;r!=null&&r!==this.root_&&r.parent.color===1;)bt(r)===Gs(bt(bt(r)))?Pa(l=us(bt(bt(r))))===1?(mn(bt(r),0),mn(l,0),mn(bt(bt(r)),1),r=bt(bt(r))):(r===us(bt(r))&&(r=bt(r),this.rotateLeft(r)),mn(bt(r),0),mn(bt(bt(r)),1),this.rotateRight(bt(bt(r)))):Pa(l=Gs(bt(bt(r))))===1?(mn(bt(r),0),mn(l,0),mn(bt(bt(r)),1),r=bt(bt(r))):(r===Gs(bt(r))&&(r=bt(r),this.rotateRight(r)),mn(bt(r),0),mn(bt(bt(r)),1),this.rotateLeft(bt(bt(r))));this.root_.color=0}},{key:"values",value:function(){var r=new je,l=this.getFirstEntry();if(l!==null)for(r.add(l.value);(l=n.successor(l))!==null;)r.add(l.value);return r}},{key:"entrySet",value:function(){var r=new ye,l=this.getFirstEntry();if(l!==null)for(r.add(l);(l=n.successor(l))!==null;)r.add(l);return r}},{key:"rotateLeft",value:function(r){if(r!=null){var l=r.right;r.right=l.left,l.left!=null&&(l.left.parent=r),l.parent=r.parent,r.parent==null?this.root_=l:r.parent.left===r?r.parent.left=l:r.parent.right=l,l.left=r,r.parent=l}}},{key:"rotateRight",value:function(r){if(r!=null){var l=r.left;r.left=l.right,l.right!=null&&(l.right.parent=r),l.parent=r.parent,r.parent==null?this.root_=l:r.parent.right===r?r.parent.right=l:r.parent.left=l,l.right=r,r.parent=l}}},{key:"getFirstEntry",value:function(){var r=this.root_;if(r!=null)for(;r.left!=null;)r=r.left;return r}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(r){for(var l=this.root_;l!==null;){var p=r.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return!0;l=l.right}}return!1}}],[{key:"successor",value:function(r){var l;if(r===null)return null;if(r.right!==null){for(l=r.right;l.left!==null;)l=l.left;return l}l=r.parent;for(var p=r;l!==null&&p===l.right;)p=l,l=l.parent;return l}}])})(Mo),er=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"find",value:function(c){return this.nodeMap.get(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof K){var c=arguments[0],n=this.nodeMap.get(c);return n===null&&(n=this.nodeFact.createNode(c),this.nodeMap.put(c,n)),n}if(arguments[0]instanceof zs){var r=arguments[0],l=this.nodeMap.get(r.getCoordinate());return l===null?(this.nodeMap.put(r.getCoordinate(),r),r):(l.mergeLabel(r),l)}}},{key:"print",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(c){for(var n=new je,r=this.iterator();r.hasNext();){var l=r.next();l.getLabel().getLocation(c)===N.BOUNDARY&&n.add(l)}return n}},{key:"add",value:function(c){var n=c.getCoordinate();this.addNode(n).add(c)}}],[{key:"constructor_",value:function(){this.nodeMap=new Wt,this.nodeFact=null;var c=arguments[0];this.nodeFact=c}}])})(),gn=(function(){function c(){i(this,c)}return h(c,null,[{key:"isNorthern",value:function(n){return n===c.NE||n===c.NW}},{key:"isOpposite",value:function(n,r){return n!==r&&(n-r+4)%4===2}},{key:"commonHalfPlane",value:function(n,r){if(n===r)return n;if((n-r+4)%4===2)return-1;var l=n<r?n:r;return l===0&&(n>r?n:r)===3?3:l}},{key:"isInHalfPlane",value:function(n,r){return r===c.SE?n===c.SE||n===c.SW:n===r||n===r+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new x("Cannot compute the quadrant for point ( "+n+", "+r+" )");return n>=0?r>=0?c.NE:c.SE:r>=0?c.NW:c.SW}if(arguments[0]instanceof K&&arguments[1]instanceof K){var l=arguments[0],p=arguments[1];if(p.x===l.x&&p.y===l.y)throw new x("Cannot compute the quadrant for two identical points "+l);return p.x>=l.x?p.y>=l.y?c.NE:c.SE:p.y>=l.y?c.NW:c.SW}}}])})();gn.NE=0,gn.NW=1,gn.SW=2,gn.SE=3;var Oo=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compareDirection",value:function(n){return this._dx===n._dx&&this._dy===n._dy?0:this._quadrant>n._quadrant?1:this._quadrant<n._quadrant?-1:Ye.index(n._p0,n._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(n){this._node=n}},{key:"print",value:function(n){var r=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),p=l.lastIndexOf("."),w=l.substring(p+1);n.print("  "+w+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+r+"   "+this._label)}},{key:"compareTo",value:function(n){var r=n;return this.compareDirection(r)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var n=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),l=r.lastIndexOf(".");return"  "+r.substring(l+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label}},{key:"computeLabel",value:function(n){}},{key:"init",value:function(n,r){this._p0=n,this._p1=r,this._dx=r.x-n.x,this._dy=r.y-n.y,this._quadrant=gn.quadrant(this._dx,this._dy),Oe.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var n=arguments[0];this._edge=n}else if(arguments.length===3){var r=arguments[0],l=arguments[1],p=arguments[2];c.constructor_.call(this,r,l,p,null)}else if(arguments.length===4){var w=arguments[0],S=arguments[1],M=arguments[2],V=arguments[3];c.constructor_.call(this,w),this.init(S,M),this._label=V}}}])})(),Ao=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(r){return this._depth[r]}},{key:"setVisited",value:function(r){this._isVisited=r}},{key:"computeDirectedLabel",value:function(){this._label=new Cn(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(r,l){if(this._depth[r]!==-999&&this._depth[r]!==l)throw new hn("assigned depths do not match",this.getCoordinate());this._depth[r]=l}},{key:"isInteriorAreaEdge",value:function(){for(var r=!0,l=0;l<2;l++)this._label.isArea(l)&&this._label.getLocation(l,U.LEFT)===N.INTERIOR&&this._label.getLocation(l,U.RIGHT)===N.INTERIOR||(r=!1);return r}},{key:"setNextMin",value:function(r){this._nextMin=r}},{key:"print",value:function(r){O(n,"print",this,1).call(this,r),r.print(" "+this._depth[U.LEFT]+"/"+this._depth[U.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")}},{key:"setMinEdgeRing",value:function(r){this._minEdgeRing=r}},{key:"isLineEdge",value:function(){var r=this._label.isLine(0)||this._label.isLine(1),l=!this._label.isArea(0)||this._label.allPositionsEqual(0,N.EXTERIOR),p=!this._label.isArea(1)||this._label.allPositionsEqual(1,N.EXTERIOR);return r&&l&&p}},{key:"setEdgeRing",value:function(r){this._edgeRing=r}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var r=this._edge.getDepthDelta();return this._isForward||(r=-r),r}},{key:"setInResult",value:function(r){this._isInResult=r}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(r){this.print(r),r.print(" "),this._isForward?this._edge.print(r):this._edge.printReverse(r)}},{key:"setSym",value:function(r){this._sym=r}},{key:"setVisitedEdge",value:function(r){this.setVisited(r),this._sym.setVisited(r)}},{key:"setEdgeDepths",value:function(r,l){var p=this.getEdge().getDepthDelta();this._isForward||(p=-p);var w=1;r===U.LEFT&&(w=-1);var S=U.opposite(r),M=l+p*w;this.setDepth(r,l),this.setDepth(S,M)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(r){this._next=r}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var r=arguments[0],l=arguments[1];if(Oo.constructor_.call(this,r),this._isForward=l,l)this.init(r.getCoordinate(0),r.getCoordinate(1));else{var p=r.getNumPoints()-1;this.init(r.getCoordinate(p),r.getCoordinate(p-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(r,l){return r===N.EXTERIOR&&l===N.INTERIOR?1:r===N.INTERIOR&&l===N.EXTERIOR?-1:0}}])})(Oo),Ro=(function(){return h((function c(){i(this,c)}),[{key:"createNode",value:function(c){return new zs(c,null)}}])})(),Ia=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(c){c.println("Edges:");for(var n=0;n<this._edges.size();n++){c.println("edge "+n+":");var r=this._edges.get(n);r.print(c),r.eiList.print(c)}}},{key:"find",value:function(c){return this._nodes.find(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof zs){var c=arguments[0];return this._nodes.addNode(c)}if(arguments[0]instanceof K){var n=arguments[0];return this._nodes.addNode(n)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(c){Jn.out.println(c)}},{key:"isBoundaryNode",value:function(c,n){var r=this._nodes.find(n);if(r===null)return!1;var l=r.getLabel();return l!==null&&l.getLocation(c)===N.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(c,n,r,l){return!!c.equals(r)&&Ye.index(c,n,l)===Ye.COLLINEAR&&gn.quadrant(c,n)===gn.quadrant(r,l)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(c){Jn.out.print(c)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(c,n){for(var r=0;r<this._edges.size();r++){var l=this._edges.get(r),p=l.getCoordinates();if(this.matchInSameDirection(c,n,p[0],p[1])||this.matchInSameDirection(c,n,p[p.length-1],p[p.length-2]))return l}return null}},{key:"insertEdge",value:function(c){this._edges.add(c)}},{key:"findEdgeEnd",value:function(c){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var r=n.next();if(r.getEdge()===c)return r}return null}},{key:"addEdges",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();this._edges.add(r);var l=new Ao(r,!0),p=new Ao(r,!1);l.setSym(p),p.setSym(l),this.add(l),this.add(p)}}},{key:"add",value:function(c){this._nodes.add(c),this._edgeEndList.add(c)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(c,n){for(var r=0;r<this._edges.size();r++){var l=this._edges.get(r),p=l.getCoordinates();if(c.equals(p[0])&&n.equals(p[1]))return l}return null}}],[{key:"constructor_",value:function(){if(this._edges=new je,this._nodes=null,this._edgeEndList=new je,arguments.length===0)this._nodes=new er(new Ro);else if(arguments.length===1){var c=arguments[0];this._nodes=new er(c)}}},{key:"linkResultDirectedEdges",value:function(c){for(var n=c.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()}}])})(),td=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"sortShellsAndHoles",value:function(n,r,l){for(var p=n.iterator();p.hasNext();){var w=p.next();w.isHole()?l.add(w):r.add(w)}}},{key:"computePolygons",value:function(n){for(var r=new je,l=n.iterator();l.hasNext();){var p=l.next().toPolygon(this._geometryFactory);r.add(p)}return r}},{key:"placeFreeHoles",value:function(n,r){for(var l=r.iterator();l.hasNext();){var p=l.next();if(p.getShell()===null){var w=c.findEdgeRingContaining(p,n);if(w===null)throw new hn("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(w)}}}},{key:"buildMinimalEdgeRings",value:function(n,r,l){for(var p=new je,w=n.iterator();w.hasNext();){var S=w.next();if(S.getMaxNodeDegree()>2){S.linkDirectedEdgesForMinimalEdgeRings();var M=S.buildMinimalRings(),V=this.findShell(M);V!==null?(this.placePolygonHoles(V,M),r.add(V)):l.addAll(M)}else p.add(S)}return p}},{key:"buildMaximalEdgeRings",value:function(n){for(var r=new je,l=n.iterator();l.hasNext();){var p=l.next();if(p.isInResult()&&p.getLabel().isArea()&&p.getEdgeRing()===null){var w=new _i(p,this._geometryFactory);r.add(w),w.setInResult()}}return r}},{key:"placePolygonHoles",value:function(n,r){for(var l=r.iterator();l.hasNext();){var p=l.next();p.isHole()&&p.setShell(n)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(n){for(var r=0,l=null,p=n.iterator();p.hasNext();){var w=p.next();w.isHole()||(l=w,r++)}return Oe.isTrue(r<=1,"found two shells in MinimalEdgeRing list"),l}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];this.add(n.getEdgeEnds(),n.getNodes())}else if(arguments.length===2){var r=arguments[0],l=arguments[1];Ia.linkResultDirectedEdges(l);var p=this.buildMaximalEdgeRings(r),w=new je,S=this.buildMinimalEdgeRings(p,this._shellList,w);this.sortShellsAndHoles(S,this._shellList,w),this.placeFreeHoles(this._shellList,w)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new je;var n=arguments[0];this._geometryFactory=n}},{key:"findEdgeRingContaining",value:function(n,r){for(var l=n.getLinearRing(),p=l.getEnvelopeInternal(),w=l.getCoordinateN(0),S=null,M=null,V=r.iterator();V.hasNext();){var Q=V.next(),le=Q.getLinearRing(),pe=le.getEnvelopeInternal();if(!pe.equals(p)&&pe.contains(p)){w=Kt.ptNotInList(l.getCoordinates(),le.getCoordinates());var Pe=!1;os.isInRing(w,le.getCoordinates())&&(Pe=!0),Pe&&(S===null||M.contains(pe))&&(M=(S=Q).getLinearRing().getEnvelopeInternal())}}return S}}])})(),Do=(function(){return h((function c(){i(this,c)}),[{key:"getBounds",value:function(){}}])})(),ct=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Do,D]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var c=arguments[0],n=arguments[1];this._bounds=c,this._item=n}}])})(),Na=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var c=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),c}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(c){for(var n=null,r=this._items.get(c);2*c<=this._size&&((n=2*c)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(r)<0);c=n)this._items.set(c,this._items.get(n));this._items.set(c,r)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(c){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,c);c.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,c)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new je,this._items.add(null)}}])})(),oi=(function(){return h((function c(){i(this,c)}),[{key:"insert",value:function(c,n){}},{key:"remove",value:function(c,n){}},{key:"query",value:function(){}}])})(),_n=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(c){Oe.isTrue(this._bounds===null),this._childBoundables.add(c)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Do,D]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new je,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._level=c}}}}])})(),Tr={reverseOrder:function(){return{compare:function(c,n){return n.compareTo(c)}}},min:function(c){return Tr.sort(c),c.get(0)},sort:function(c,n){var r=c.toArray();n?pn.sort(r,n):pn.sort(r);for(var l=c.iterator(),p=0,w=r.length;p<w;p++)l.next(),l.set(r[p])},singletonList:function(c){var n=new je;return n.add(c),n}},nd=(function(){function c(){i(this,c)}return h(c,null,[{key:"maxDistance",value:function(n,r,l,p,w,S,M,V){var Q=c.distance(n,r,w,S);return Q=Math.max(Q,c.distance(n,r,M,V)),Q=Math.max(Q,c.distance(l,p,w,S)),Q=Math.max(Q,c.distance(l,p,M,V))}},{key:"distance",value:function(n,r,l,p){var w=l-n,S=p-r;return Math.sqrt(w*w+S*S)}},{key:"maximumDistance",value:function(n,r){var l=Math.min(n.getMinX(),r.getMinX()),p=Math.min(n.getMinY(),r.getMinY()),w=Math.max(n.getMaxX(),r.getMaxX()),S=Math.max(n.getMaxY(),r.getMaxY());return c.distance(l,p,w,S)}},{key:"minMaxDistance",value:function(n,r){var l=n.getMinX(),p=n.getMinY(),w=n.getMaxX(),S=n.getMaxY(),M=r.getMinX(),V=r.getMinY(),Q=r.getMaxX(),le=r.getMaxY(),pe=c.maxDistance(l,p,l,S,M,V,M,le);return pe=Math.min(pe,c.maxDistance(l,p,l,S,M,V,Q,V)),pe=Math.min(pe,c.maxDistance(l,p,l,S,Q,le,M,le)),pe=Math.min(pe,c.maxDistance(l,p,l,S,Q,le,Q,V)),pe=Math.min(pe,c.maxDistance(l,p,w,p,M,V,M,le)),pe=Math.min(pe,c.maxDistance(l,p,w,p,M,V,Q,V)),pe=Math.min(pe,c.maxDistance(l,p,w,p,Q,le,M,le)),pe=Math.min(pe,c.maxDistance(l,p,w,p,Q,le,Q,V)),pe=Math.min(pe,c.maxDistance(w,S,l,S,M,V,M,le)),pe=Math.min(pe,c.maxDistance(w,S,l,S,M,V,Q,V)),pe=Math.min(pe,c.maxDistance(w,S,l,S,Q,le,M,le)),pe=Math.min(pe,c.maxDistance(w,S,l,S,Q,le,Q,V)),pe=Math.min(pe,c.maxDistance(w,S,w,p,M,V,M,le)),pe=Math.min(pe,c.maxDistance(w,S,w,p,M,V,Q,V)),pe=Math.min(pe,c.maxDistance(w,S,w,p,Q,le,M,le)),pe=Math.min(pe,c.maxDistance(w,S,w,p,Q,le,Q,V))}}])})(),tr=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"maximumDistance",value:function(){return nd.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(n,r){var l=c.isComposite(this._boundable1),p=c.isComposite(this._boundable2);if(l&&p)return c.area(this._boundable1)>c.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,n,r),null):(this.expand(this._boundable2,this._boundable1,!0,n,r),null);if(l)return this.expand(this._boundable1,this._boundable2,!1,n,r),null;if(p)return this.expand(this._boundable2,this._boundable1,!0,n,r),null;throw new x("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(c.isComposite(this._boundable1)||c.isComposite(this._boundable2))}},{key:"compareTo",value:function(n){var r=n;return this._distance<r._distance?-1:this._distance>r._distance?1:0}},{key:"expand",value:function(n,r,l,p,w){for(var S=n.getChildBoundables().iterator();S.hasNext();){var M=S.next(),V=null;(V=l?new c(r,M,this._itemDistance):new c(M,r,this._itemDistance)).getDistance()<w&&p.add(V)}}},{key:"getBoundable",value:function(n){return n===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var n=arguments[0],r=arguments[1],l=arguments[2];this._boundable1=n,this._boundable2=r,this._itemDistance=l,this._distance=this.distance()}},{key:"area",value:function(n){return n.getBounds().getArea()}},{key:"isComposite",value:function(n){return n instanceof _n}}])})(),tl=(function(){return h((function c(){i(this,c)}),[{key:"visitItem",value:function(c){}}])})(),Sr=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"queryInternal",value:function(){if(re(arguments[2],tl)&&arguments[0]instanceof Object&&arguments[1]instanceof _n)for(var n=arguments[0],r=arguments[2],l=arguments[1].getChildBoundables(),p=0;p<l.size();p++){var w=l.get(p);this.getIntersectsOp().intersects(w.getBounds(),n)&&(w instanceof _n?this.queryInternal(n,w,r):w instanceof ct?r.visitItem(w.getItem()):Oe.shouldNeverReachHere())}else if(re(arguments[2],Ge)&&arguments[0]instanceof Object&&arguments[1]instanceof _n)for(var S=arguments[0],M=arguments[2],V=arguments[1].getChildBoundables(),Q=0;Q<V.size();Q++){var le=V.get(Q);this.getIntersectsOp().intersects(le.getBounds(),S)&&(le instanceof _n?this.queryInternal(S,le,M):le instanceof ct?M.add(le.getItem()):Oe.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(n){return n.get(n.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var l=r.next();l instanceof _n?n+=this.size(l):l instanceof ct&&(n+=1)}return n}}},{key:"removeItem",value:function(n,r){for(var l=null,p=n.getChildBoundables().iterator();p.hasNext();){var w=p.next();w instanceof ct&&w.getItem()===r&&(l=w)}return l!==null&&(n.getChildBoundables().remove(l),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new je:n}if(arguments.length===1){for(var r=arguments[0],l=new je,p=r.getChildBoundables().iterator();p.hasNext();){var w=p.next();if(w instanceof _n){var S=this.itemsTree(w);S!==null&&l.add(S)}else w instanceof ct?l.add(w.getItem()):Oe.shouldNeverReachHere()}return l.size()<=0?null:l}}},{key:"insert",value:function(n,r){Oe.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ct(n,r))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var n=arguments[0],r=new je;return this.boundablesAtLevel(n,this._root,r),r}if(arguments.length===3){var l=arguments[0],p=arguments[1],w=arguments[2];if(Oe.isTrue(l>-2),p.getLevel()===l)return w.add(p),null;for(var S=p.getChildBoundables().iterator();S.hasNext();){var M=S.next();M instanceof _n?this.boundablesAtLevel(l,M,w):(Oe.isTrue(M instanceof ct),l===-1&&w.add(M))}return null}}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];this.build();var r=new je;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,r),r}if(arguments.length===2){var l=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.queryInternal(l,this._root,p)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,r)}if(arguments.length===3){var l=arguments[0],p=arguments[1],w=arguments[2],S=this.removeItem(p,w);if(S)return!0;for(var M=null,V=p.getChildBoundables().iterator();V.hasNext();){var Q=V.next();if(this.getIntersectsOp().intersects(Q.getBounds(),l)&&Q instanceof _n&&(S=this.remove(l,Q,w))){M=Q;break}}return M!==null&&M.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(M),S}}},{key:"createHigherLevels",value:function(n,r){Oe.isTrue(!n.isEmpty());var l=this.createParentBoundables(n,r+1);return l.size()===1?l.get(0):this.createHigherLevels(l,r+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var l=r.next();if(l instanceof _n){var p=this.depth(l);p>n&&(n=p)}}return n+1}}},{key:"createParentBoundables",value:function(n,r){Oe.isTrue(!n.isEmpty());var l=new je;l.add(this.createNode(r));var p=new je(n);Tr.sort(p,this.getComparator());for(var w=p.iterator();w.hasNext();){var S=w.next();this.lastNode(l).getChildBoundables().size()===this.getNodeCapacity()&&l.add(this.createNode(r)),this.lastNode(l).addChildBoundable(S)}return l}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new je,this._nodeCapacity=null,arguments.length===0)c.constructor_.call(this,c.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];Oe.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}}},{key:"compareDoubles",value:function(n,r){return n>r?1:n<r?-1:0}}])})();Sr.IntersectsOp=function(){},Sr.DEFAULT_NODE_CAPACITY=10;var id=(function(){return h((function c(){i(this,c)}),[{key:"distance",value:function(c,n){}}])})(),vi=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(r,l){Oe.isTrue(r.length>0);for(var p=new je,w=0;w<r.length;w++)p.addAll(this.createParentBoundablesFromVerticalSlice(r[w],l));return p}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var r=arguments[0],l=arguments[1];return this.nearestNeighbourK(r,ce.POSITIVE_INFINITY,l)}if(arguments.length===3){var p=arguments[0],w=arguments[2],S=arguments[1],M=new Na;M.add(p);for(var V=new Na;!M.isEmpty()&&S>=0;){var Q=M.poll(),le=Q.getDistance();if(le>=S)break;Q.isLeaves()?V.size()<w?V.add(Q):(V.peek().getDistance()>le&&(V.poll(),V.add(Q)),S=V.peek().getDistance()):Q.expandToQueue(M,S)}return n.getItems(V)}}},{key:"createNode",value:function(r){return new Ma(r)}},{key:"size",value:function(){return arguments.length===0?O(n,"size",this,1).call(this):O(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ae))return O(n,"insert",this,1).apply(this,arguments);var r=arguments[0],l=arguments[1];if(r.isNull())return null;O(n,"insert",this,1).call(this,r,l)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(r,l){for(var p=Math.trunc(Math.ceil(r.size()/l)),w=new Array(l).fill(null),S=r.iterator(),M=0;M<l;M++){w[M]=new je;for(var V=0;S.hasNext()&&V<p;){var Q=S.next();w[M].add(Q),V++}}return w}},{key:"query",value:function(){if(arguments.length===1){var r=arguments[0];return O(n,"query",this,1).call(this,r)}if(arguments.length===2){var l=arguments[0],p=arguments[1];O(n,"query",this,1).call(this,l,p)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(r,l){return O(n,"createParentBoundables",this,1).call(this,r,l)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ae){var r=arguments[0],l=arguments[1];return O(n,"remove",this,1).call(this,r,l)}return O(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?O(n,"depth",this,1).call(this):O(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(r,l){Oe.isTrue(!r.isEmpty());var p=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),w=new je(r);Tr.sort(w,n.xComparator);var S=this.verticalSlices(w,Math.trunc(Math.ceil(Math.sqrt(p))));return this.createParentBoundablesFromVerticalSlices(S,l)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(re(arguments[0],id)){var r=arguments[0];if(this.isEmpty())return null;var l=new tr(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(l)}if(arguments[0]instanceof tr){var p=arguments[0],w=ce.POSITIVE_INFINITY,S=null,M=new Na;for(M.add(p);!M.isEmpty()&&w>0;){var V=M.poll(),Q=V.getDistance();if(Q>=w)break;V.isLeaves()?(w=Q,S=V):V.expandToQueue(M,w)}return S===null?null:[S.getBoundable(0).getItem(),S.getBoundable(1).getItem()]}}else{if(arguments.length===2){var le=arguments[0],pe=arguments[1];if(this.isEmpty()||le.isEmpty())return null;var Pe=new tr(this.getRoot(),le.getRoot(),pe);return this.nearestNeighbour(Pe)}if(arguments.length===3){var Ue=arguments[2],We=new ct(arguments[0],arguments[1]),Je=new tr(this.getRoot(),We,Ue);return this.nearestNeighbour(Je)[0]}if(arguments.length===4){var vt=arguments[2],ft=arguments[3],Ot=new ct(arguments[0],arguments[1]),Ht=new tr(this.getRoot(),Ot,vt);return this.nearestNeighbourK(Ht,ft)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var r=arguments[0],l=arguments[1],p=ce.POSITIVE_INFINITY,w=new Na;for(w.add(r);!w.isEmpty();){var S=w.poll(),M=S.getDistance();if(M>l)return!1;if(S.maximumDistance()<=l)return!0;if(S.isLeaves()){if((p=M)<=l)return!0}else S.expandToQueue(w,p)}return!1}if(arguments.length===3){var V=arguments[0],Q=arguments[1],le=arguments[2],pe=new tr(this.getRoot(),V.getRoot(),Q);return this.isWithinDistance(pe,le)}}},{key:"interfaces_",get:function(){return[oi,D]}}],[{key:"constructor_",value:function(){if(arguments.length===0)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var r=arguments[0];Sr.constructor_.call(this,r)}}},{key:"centreX",value:function(r){return n.avg(r.getMinX(),r.getMaxX())}},{key:"avg",value:function(r,l){return(r+l)/2}},{key:"getItems",value:function(r){for(var l=new Array(r.size()).fill(null),p=0;!r.isEmpty();){var w=r.poll();l[p]=w.getBoundable(0).getItem(),p++}return l}},{key:"centreY",value:function(r){return n.avg(r.getMinY(),r.getMaxY())}}])})(Sr),Ma=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"computeBounds",value:function(){for(var r=null,l=this.getChildBoundables().iterator();l.hasNext();){var p=l.next();r===null?r=new Ae(p.getBounds()):r.expandToInclude(p.getBounds())}return r}}],[{key:"constructor_",value:function(){var r=arguments[0];_n.constructor_.call(this,r)}}])})(_n);vi.STRtreeNode=Ma,vi.xComparator=new((function(){return h((function c(){i(this,c)}),[{key:"interfaces_",get:function(){return[ke]}},{key:"compare",value:function(c,n){return Sr.compareDoubles(vi.centreX(c.getBounds()),vi.centreX(n.getBounds()))}}])})()),vi.yComparator=new((function(){return h((function c(){i(this,c)}),[{key:"interfaces_",get:function(){return[ke]}},{key:"compare",value:function(c,n){return Sr.compareDoubles(vi.centreY(c.getBounds()),vi.centreY(n.getBounds()))}}])})()),vi.intersectsOp=new((function(){return h((function c(){i(this,c)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(c,n){return c.intersects(n)}}])})()),vi.DEFAULT_NODE_CAPACITY=10;var rd=(function(){function c(){i(this,c)}return h(c,null,[{key:"relativeSign",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"compare",value:function(n,r,l){if(r.equals2D(l))return 0;var p=c.relativeSign(r.x,l.x),w=c.relativeSign(r.y,l.y);switch(n){case 0:return c.compareValue(p,w);case 1:return c.compareValue(w,p);case 2:return c.compareValue(w,-p);case 3:return c.compareValue(-p,w);case 4:return c.compareValue(-p,-w);case 5:return c.compareValue(-w,-p);case 6:return c.compareValue(-w,p);case 7:return c.compareValue(p,-w)}return Oe.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(n,r){return n<0?-1:n>0?1:r<0?-1:r>0?1:0}}])})(),yi=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(c){var n=c;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:this._isInterior?n._isInterior?rd.compare(this._segmentOctant,this.coord,n.coord):1:-1}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===c}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var c=arguments[0],n=arguments[1],r=arguments[2],l=arguments[3];this._segString=c,this.coord=new K(n),this.segmentIndex=r,this._segmentOctant=l,this._isInterior=!n.equals2D(c.getCoordinate(r))}}])})(),sd=(function(){return h((function c(){i(this,c)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),nl=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var c=new Rs;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var l=n.next();this.addEdgeCoordinates(r,l,c),r=l}return c.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var c=new je;this.findCollapsesFromInsertedNodes(c),this.findCollapsesFromExistingVertices(c);for(var n=c.iterator();n.hasNext();){var r=n.next().intValue();this.add(this._edge.getCoordinate(r),r)}}},{key:"createSplitEdgePts",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2;if(r===2)return[new K(c.coord),new K(n.coord)];var l=this._edge.getCoordinate(n.segmentIndex),p=n.isInterior()||!n.coord.equals2D(l);p||r--;var w=new Array(r).fill(null),S=0;w[S++]=new K(c.coord);for(var M=c.segmentIndex+1;M<=n.segmentIndex;M++)w[S++]=this._edge.getCoordinate(M);return p&&(w[S]=new K(n.coord)),w}},{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"findCollapsesFromExistingVertices",value:function(c){for(var n=0;n<this._edge.size()-2;n++){var r=this._edge.getCoordinate(n);this._edge.getCoordinate(n+1);var l=this._edge.getCoordinate(n+2);r.equals2D(l)&&c.add(Ve.valueOf(n+1))}}},{key:"addEdgeCoordinates",value:function(c,n,r){var l=this.createSplitEdgePts(c,n);r.add(l,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),r=n.next();n.hasNext();){var l=n.next(),p=this.createSplitEdge(r,l);c.add(p),r=l}}},{key:"findCollapseIndex",value:function(c,n,r){if(!c.coord.equals2D(n.coord))return!1;var l=n.segmentIndex-c.segmentIndex;return n.isInterior()||l--,l===1&&(r[0]=c.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(c){for(var n=new Array(1).fill(null),r=this.iterator(),l=r.next();r.hasNext();){var p=r.next();this.findCollapseIndex(l,p,n)&&c.add(Ve.valueOf(n[0])),l=p}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var c=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(c),c)}},{key:"createSplitEdge",value:function(c,n){var r=this.createSplitEdgePts(c,n);return new Ri(r,this._edge.getData())}},{key:"add",value:function(c,n){var r=new yi(this._edge,c,n,this._edge.getSegmentOctant(n)),l=this._nodeMap.get(r);return l!==null?(Oe.isTrue(l.coord.equals2D(c),"Found equal nodes with different coordinates"),l):(this._nodeMap.put(r,r),r)}},{key:"checkSplitEdgesCorrectness",value:function(c){var n=this._edge.getCoordinates(),r=c.get(0).getCoordinate(0);if(!r.equals2D(n[0]))throw new Fe("bad split edge start point at "+r);var l=c.get(c.size()-1).getCoordinates(),p=l[l.length-1];if(!p.equals2D(n[n.length-1]))throw new Fe("bad split edge end point at "+p)}}],[{key:"constructor_",value:function(){this._nodeMap=new Wt,this._edge=null;var c=arguments[0];this._edge=c}}])})(),nr=(function(){function c(){i(this,c)}return h(c,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new x("Cannot compute the octant for point ( "+n+", "+r+" )");var l=Math.abs(n),p=Math.abs(r);return n>=0?r>=0?l>=p?0:1:l>=p?7:6:r>=0?l>=p?3:2:l>=p?4:5}if(arguments[0]instanceof K&&arguments[1]instanceof K){var w=arguments[0],S=arguments[1],M=S.x-w.x,V=S.y-w.y;if(M===0&&V===0)throw new x("Cannot compute the octant for two identical points "+w);return c.octant(M,V)}}}])})(),il=(function(){return h((function c(){i(this,c)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(c){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(c){}},{key:"getData",value:function(){}}])})(),rl=(function(){return h((function c(){i(this,c)}),[{key:"addIntersection",value:function(c,n){}},{key:"interfaces_",get:function(){return[il]}}])})(),Ri=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(n){return this._pts[n]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(n){return n===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))}},{key:"setData",value:function(n){this._data=n}},{key:"safeOctant",value:function(n,r){return n.equals2D(r)?0:nr.octant(n,r)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.addIntersectionNode(n,r)}else if(arguments.length===4){var l=arguments[1],p=arguments[3],w=new K(arguments[0].getIntersection(p));this.addIntersection(w,l)}}},{key:"toString",value:function(){return Fs.toLineString(new Ds(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(n,r){var l=r,p=l+1;if(p<this._pts.length){var w=this._pts[p];n.equals2D(w)&&(l=p)}return this._nodeList.add(n,l)}},{key:"addIntersections",value:function(n,r,l){for(var p=0;p<n.getIntersectionNum();p++)this.addIntersection(n,r,l,p)}},{key:"interfaces_",get:function(){return[rl]}}],[{key:"constructor_",value:function(){this._nodeList=new nl(this),this._pts=null,this._data=null;var n=arguments[0],r=arguments[1];this._pts=n,this._data=r}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var n=arguments[0],r=new je;return c.getNodedSubstrings(n,r),r}if(arguments.length===2)for(var l=arguments[1],p=arguments[0].iterator();p.hasNext();)p.next().getNodeList().addSplitEdges(l)}}])})(),zn=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof c){var n=arguments[0],r=Ye.index(this.p0,this.p1,n.p0),l=Ye.index(this.p0,this.p1,n.p1);return r>=0&&l>=0||r<=0&&l<=0?Math.max(r,l):0}if(arguments[0]instanceof K){var p=arguments[0];return Ye.index(this.p0,this.p1,p)}}},{key:"toGeometry",value:function(n){return n.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.p0.equals(r.p0)&&this.p1.equals(r.p1)}},{key:"intersection",value:function(n){var r=new Ai;return r.computeIntersection(this.p0,this.p1,n.p0,n.p1),r.hasIntersection()?r.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof K){var n=arguments[0];if(n.equals(this.p0)||n.equals(this.p1))return new K(n);var r=this.projectionFactor(n),l=new K;return l.x=this.p0.x+r*(this.p1.x-this.p0.x),l.y=this.p0.y+r*(this.p1.y-this.p0.y),l}if(arguments[0]instanceof c){var p=arguments[0],w=this.projectionFactor(p.p0),S=this.projectionFactor(p.p1);if(w>=1&&S>=1||w<=0&&S<=0)return null;var M=this.project(p.p0);w<0&&(M=this.p0),w>1&&(M=this.p1);var V=this.project(p.p1);return S<0&&(V=this.p0),S>1&&(V=this.p1),new c(M,V)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(n){return n===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(n){return ai.pointToLinePerpendicular(n,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return c.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var r=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,p=r*r+l*l;return p<=0?ce.NaN:((n.x-this.p0.x)*r+(n.y-this.p0.y)*l)/p}},{key:"closestPoints",value:function(n){var r=this.intersection(n);if(r!==null)return[r,r];var l=new Array(2).fill(null),p=ce.MAX_VALUE,w=null,S=this.closestPoint(n.p0);p=S.distance(n.p0),l[0]=S,l[1]=n.p0;var M=this.closestPoint(n.p1);(w=M.distance(n.p1))<p&&(p=w,l[0]=M,l[1]=n.p1);var V=n.closestPoint(this.p0);(w=V.distance(this.p0))<p&&(p=w,l[0]=this.p0,l[1]=V);var Q=n.closestPoint(this.p1);return(w=Q.distance(this.p1))<p&&(p=w,l[0]=this.p1,l[1]=Q),l}},{key:"closestPoint",value:function(n){var r=this.projectionFactor(n);return r>0&&r<1?this.project(n):this.p0.distance(n)<this.p1.distance(n)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(n){var r=n,l=this.p0.compareTo(r.p0);return l!==0?l:this.p1.compareTo(r.p1)}},{key:"reverse",value:function(){var n=this.p0;this.p0=this.p1,this.p1=n}},{key:"equalsTopo",value:function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)}},{key:"lineIntersection",value:function(n){return ts.intersection(this.p0,this.p1,n.p0,n.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(n,r){var l=this.p0.x+n*(this.p1.x-this.p0.x),p=this.p0.y+n*(this.p1.y-this.p0.y),w=this.p1.x-this.p0.x,S=this.p1.y-this.p0.y,M=Math.sqrt(w*w+S*S),V=0,Q=0;if(r!==0){if(M<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");V=r*w/M,Q=r*S/M}return new K(l-Q,p+V)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var n=arguments[0];this.setCoordinates(n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.p0.x=r.x,this.p0.y=r.y,this.p1.x=l.x,this.p1.y=l.y}}},{key:"segmentFraction",value:function(n){var r=this.projectionFactor(n);return r<0?r=0:(r>1||ce.isNaN(r))&&(r=1),r}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(n){var r=this.p1.getY()-this.p0.getY(),l=this.p0.getX()-this.p1.getX(),p=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),w=r*r+l*l,S=r*r-l*l,M=n.getX(),V=n.getY();return new K((-S*M-2*r*l*V-2*r*p)/w,(S*V-2*r*l*M-2*l*p)/w)}},{key:"distance",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return ai.segmentToSegment(this.p0,this.p1,n.p0,n.p1)}if(arguments[0]instanceof K){var r=arguments[0];return ai.pointToSegment(r,this.p0,this.p1)}}},{key:"pointAlong",value:function(n){var r=new K;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}},{key:"hashCode",value:function(){var n=ce.doubleToLongBits(this.p0.x);n^=31*ce.doubleToLongBits(this.p0.y);var r=Math.trunc(n)^Math.trunc(n>>32),l=ce.doubleToLongBits(this.p1.x);return l^=31*ce.doubleToLongBits(this.p1.y),r^(Math.trunc(l)^Math.trunc(l>>32))}},{key:"interfaces_",get:function(){return[C,D]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)c.constructor_.call(this,new K,new K);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this.p0=r,this.p1=l}else if(arguments.length===4){var p=arguments[0],w=arguments[1],S=arguments[2],M=arguments[3];c.constructor_.call(this,new K(p,w),new K(S,M))}}},{key:"midPoint",value:function(n,r){return new K((n.x+r.x)/2,(n.y+r.y)/2)}}])})(),sl=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var c=arguments[1],n=arguments[2],r=arguments[3];arguments[0].getLineSegment(c,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new zn,this._overlapSeg2=new zn}}])})(),Bo=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(c,n){n.p0=this._pts[c],n.p1=this._pts[c+1]}},{key:"computeSelect",value:function(c,n,r,l){var p=this._pts[n],w=this._pts[r];if(r-n==1)return l.select(this,n),null;if(!c.intersects(p,w))return null;var S=Math.trunc((n+r)/2);n<S&&this.computeSelect(c,n,S,l),S<r&&this.computeSelect(c,S,r,l)}},{key:"getCoordinates",value:function(){for(var c=new Array(this._end-this._start+1).fill(null),n=0,r=this._start;r<=this._end;r++)c[n++]=this._pts[r];return c}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var c=arguments[0],n=arguments[1];this.computeOverlaps(this._start,this._end,c,c._start,c._end,n)}else if(arguments.length===6){var r=arguments[0],l=arguments[1],p=arguments[2],w=arguments[3],S=arguments[4],M=arguments[5];if(l-r==1&&S-w==1)return M.overlap(this,r,p,w),null;if(!this.overlaps(r,l,p,w,S))return null;var V=Math.trunc((r+l)/2),Q=Math.trunc((w+S)/2);r<V&&(w<Q&&this.computeOverlaps(r,V,p,w,Q,M),Q<S&&this.computeOverlaps(r,V,p,Q,S,M)),V<l&&(w<Q&&this.computeOverlaps(V,l,p,w,Q,M),Q<S&&this.computeOverlaps(V,l,p,Q,S,M))}}},{key:"setId",value:function(c){this._id=c}},{key:"select",value:function(c,n){this.computeSelect(c,this._start,this._end,n)}},{key:"getEnvelope",value:function(){if(this._env===null){var c=this._pts[this._start],n=this._pts[this._end];this._env=new Ae(c,n)}return this._env}},{key:"overlaps",value:function(c,n,r,l,p){return Ae.intersects(this._pts[c],this._pts[n],r._pts[l],r._pts[p])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var c=arguments[0],n=arguments[1],r=arguments[2],l=arguments[3];this._pts=c,this._start=n,this._end=r,this._context=l}}])})(),ad=(function(){function c(){i(this,c)}return h(c,null,[{key:"findChainEnd",value:function(n,r){for(var l=r;l<n.length-1&&n[l].equals2D(n[l+1]);)l++;if(l>=n.length-1)return n.length-1;for(var p=gn.quadrant(n[l],n[l+1]),w=r+1;w<n.length&&!(!n[w-1].equals2D(n[w])&&gn.quadrant(n[w-1],n[w])!==p);)w++;return w-1}},{key:"getChains",value:function(){if(arguments.length===1){var n=arguments[0];return c.getChains(n,null)}if(arguments.length===2){var r=arguments[0],l=arguments[1],p=new je,w=0;do{var S=c.findChainEnd(r,w),M=new Bo(r,w,S,l);p.add(M),w=S}while(w<r.length-1);return p}}}])})(),Fo=(function(){return h((function c(){i(this,c)}),[{key:"computeNodes",value:function(c){}},{key:"getNodedSubstrings",value:function(){}}])})(),Oa=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(c){this._segInt=c}},{key:"interfaces_",get:function(){return[Fo]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this.setSegmentIntersector(c)}}}}])})(),zo=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Ri.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(r){for(var l=ad.getChains(r.getCoordinates(),r).iterator();l.hasNext();){var p=l.next();p.setId(this._idCounter++),this._index.insert(p.getEnvelope(),p),this._monoChains.add(p)}}},{key:"computeNodes",value:function(r){this._nodedSegStrings=r;for(var l=r.iterator();l.hasNext();)this.add(l.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var r=new Go(this._segInt),l=this._monoChains.iterator();l.hasNext();)for(var p=l.next(),w=this._index.query(p.getEnvelope()).iterator();w.hasNext();){var S=w.next();if(S.getId()>p.getId()&&(p.computeOverlaps(S,r),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new je,this._index=new vi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var r=arguments[0];Oa.constructor_.call(this,r)}}}}])})(Oa),Go=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"overlap",value:function(){if(arguments.length!==4)return O(n,"overlap",this,1).apply(this,arguments);var r=arguments[1],l=arguments[2],p=arguments[3],w=arguments[0].getContext(),S=l.getContext();this._si.processIntersections(w,r,S,p)}}],[{key:"constructor_",value:function(){this._si=null;var r=arguments[0];this._si=r}}])})(sl);zo.SegmentOverlapAction=Go;var Qn=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isDeletable",value:function(n,r,l,p){var w=this._inputLine[n],S=this._inputLine[r],M=this._inputLine[l];return!!this.isConcave(w,S,M)&&!!this.isShallow(w,S,M,p)&&this.isShallowSampled(w,S,n,l,p)}},{key:"deleteShallowConcavities",value:function(){for(var n=1,r=this.findNextNonDeletedIndex(n),l=this.findNextNonDeletedIndex(r),p=!1;l<this._inputLine.length;){var w=!1;this.isDeletable(n,r,l,this._distanceTol)&&(this._isDeleted[r]=c.DELETE,w=!0,p=!0),n=w?l:r,r=this.findNextNonDeletedIndex(n),l=this.findNextNonDeletedIndex(r)}return p}},{key:"isShallowConcavity",value:function(n,r,l,p){return Ye.index(n,r,l)===this._angleOrientation&&ai.pointToSegment(r,n,l)<p}},{key:"isShallowSampled",value:function(n,r,l,p,w){var S=Math.trunc((p-l)/c.NUM_PTS_TO_CHECK);S<=0&&(S=1);for(var M=l;M<p;M+=S)if(!this.isShallow(n,r,this._inputLine[M],w))return!1;return!0}},{key:"isConcave",value:function(n,r,l){var p=Ye.index(n,r,l)===this._angleOrientation;return p}},{key:"simplify",value:function(n){this._distanceTol=Math.abs(n),n<0&&(this._angleOrientation=Ye.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=this.deleteShallowConcavities();while(r);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(n){for(var r=n+1;r<this._inputLine.length&&this._isDeleted[r]===c.DELETE;)r++;return r}},{key:"isShallow",value:function(n,r,l,p){return ai.pointToSegment(r,n,l)<p}},{key:"collapseLine",value:function(){for(var n=new Rs,r=0;r<this._inputLine.length;r++)this._isDeleted[r]!==c.DELETE&&n.add(this._inputLine[r]);return n.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ye.COUNTERCLOCKWISE;var n=arguments[0];this._inputLine=n}},{key:"simplify",value:function(n,r){return new c(n).simplify(r)}}])})();Qn.INIT=0,Qn.DELETE=1,Qn.KEEP=1,Qn.NUM_PTS_TO_CHECK=10;var Us=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getCoordinates",value:function(){return this._ptList.toArray(c.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"addPt",value:function(n){var r=new K(n);if(this._precisionModel.makePrecise(r),this.isRedundant(r))return null;this._ptList.add(r)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(n,r){if(r)for(var l=0;l<n.length;l++)this.addPt(n[l]);else for(var p=n.length-1;p>=0;p--)this.addPt(n[p])}},{key:"isRedundant",value:function(n){if(this._ptList.size()<1)return!1;var r=this._ptList.get(this._ptList.size()-1);return n.distance(r)<this._minimimVertexDistance}},{key:"toString",value:function(){return new mi().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var n=new K(this._ptList.get(0)),r=this._ptList.get(this._ptList.size()-1);if(n.equals(r))return null;this._ptList.add(n)}},{key:"setMinimumVertexDistance",value:function(n){this._minimimVertexDistance=n}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new je}}])})();Us.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var tn=(function(){function c(){i(this,c)}return h(c,null,[{key:"toDegrees",value:function(n){return 180*n/Math.PI}},{key:"normalize",value:function(n){for(;n>Math.PI;)n-=c.PI_TIMES_2;for(;n<=-Math.PI;)n+=c.PI_TIMES_2;return n}},{key:"angle",value:function(){if(arguments.length===1){var n=arguments[0];return Math.atan2(n.y,n.x)}if(arguments.length===2){var r=arguments[0],l=arguments[1],p=l.x-r.x,w=l.y-r.y;return Math.atan2(w,p)}}},{key:"isAcute",value:function(n,r,l){var p=n.x-r.x,w=n.y-r.y;return p*(l.x-r.x)+w*(l.y-r.y)>0}},{key:"isObtuse",value:function(n,r,l){var p=n.x-r.x,w=n.y-r.y;return p*(l.x-r.x)+w*(l.y-r.y)<0}},{key:"interiorAngle",value:function(n,r,l){var p=c.angle(r,n),w=c.angle(r,l);return Math.abs(w-p)}},{key:"normalizePositive",value:function(n){if(n<0){for(;n<0;)n+=c.PI_TIMES_2;n>=c.PI_TIMES_2&&(n=0)}else{for(;n>=c.PI_TIMES_2;)n-=c.PI_TIMES_2;n<0&&(n=0)}return n}},{key:"angleBetween",value:function(n,r,l){var p=c.angle(r,n),w=c.angle(r,l);return c.diff(p,w)}},{key:"diff",value:function(n,r){var l=null;return(l=n<r?r-n:n-r)>Math.PI&&(l=2*Math.PI-l),l}},{key:"toRadians",value:function(n){return n*Math.PI/180}},{key:"getTurn",value:function(n,r){var l=Math.sin(r-n);return l>0?c.COUNTERCLOCKWISE:l<0?c.CLOCKWISE:c.NONE}},{key:"angleBetweenOriented",value:function(n,r,l){var p=c.angle(r,n),w=c.angle(r,l)-p;return w<=-Math.PI?w+c.PI_TIMES_2:w>Math.PI?w-c.PI_TIMES_2:w}}])})();tn.PI_TIMES_2=2*Math.PI,tn.PI_OVER_2=Math.PI/2,tn.PI_OVER_4=Math.PI/4,tn.COUNTERCLOCKWISE=Ye.COUNTERCLOCKWISE,tn.CLOCKWISE=Ye.CLOCKWISE,tn.NONE=Ye.COLLINEAR;var $s=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"addNextSegment",value:function(n,r){if(this._s0=this._s1,this._s1=this._s2,this._s2=n,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var l=Ye.index(this._s0,this._s1,this._s2),p=l===Ye.CLOCKWISE&&this._side===U.LEFT||l===Ye.COUNTERCLOCKWISE&&this._side===U.RIGHT;l===0?this.addCollinear(r):p?this.addOutsideTurn(l,r):this.addInsideTurn(l,r)}},{key:"addLineEndCap",value:function(n,r){var l=new zn(n,r),p=new zn;this.computeOffsetSegment(l,U.LEFT,this._distance,p);var w=new zn;this.computeOffsetSegment(l,U.RIGHT,this._distance,w);var S=r.x-n.x,M=r.y-n.y,V=Math.atan2(M,S);switch(this._bufParams.getEndCapStyle()){case q.CAP_ROUND:this._segList.addPt(p.p1),this.addDirectedFillet(r,V+Math.PI/2,V-Math.PI/2,Ye.CLOCKWISE,this._distance),this._segList.addPt(w.p1);break;case q.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(w.p1);break;case q.CAP_SQUARE:var Q=new K;Q.x=Math.abs(this._distance)*Math.cos(V),Q.y=Math.abs(this._distance)*Math.sin(V);var le=new K(p.p1.x+Q.x,p.p1.y+Q.y),pe=new K(w.p1.x+Q.x,w.p1.y+Q.y);this._segList.addPt(le),this._segList.addPt(pe)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(n,r,l,p){var w=ts.intersection(r.p0,r.p1,l.p0,l.p1);if(w!==null&&(p<=0?1:w.distance(n)/Math.abs(p))<=this._bufParams.getMitreLimit())return this._segList.addPt(w),null;this.addLimitedMitreJoin(r,l,p,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(n,r){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*c.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===q.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===q.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(r&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,n,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(n){this._segList.addPt(new K(n.x+this._distance,n.y+this._distance)),this._segList.addPt(new K(n.x+this._distance,n.y-this._distance)),this._segList.addPt(new K(n.x-this._distance,n.y-this._distance)),this._segList.addPt(new K(n.x-this._distance,n.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(n,r){this._segList.addPts(n,r)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(n,r,l,p,w){var S=r.x-n.x,M=r.y-n.y,V=Math.atan2(M,S),Q=l.x-n.x,le=l.y-n.y,pe=Math.atan2(le,Q);p===Ye.CLOCKWISE?V<=pe&&(V+=2*Math.PI):V>=pe&&(V-=2*Math.PI),this._segList.addPt(r),this.addDirectedFillet(n,V,pe,p,w),this._segList.addPt(l)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(n,r,l){this._s1=n,this._s2=r,this._side=l,this._seg1.setCoordinates(n,r),this.computeOffsetSegment(this._seg1,l,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(n,r,l,p){var w=this._seg0.p1,S=tn.angle(w,this._seg0.p0),M=tn.angleBetweenOriented(this._seg0.p0,w,this._seg1.p1)/2,V=tn.normalize(S+M),Q=tn.normalize(V+Math.PI),le=p*l,pe=l-le*Math.abs(Math.sin(M)),Pe=w.x+le*Math.cos(Q),Ue=w.y+le*Math.sin(Q),We=new K(Pe,Ue),Je=new zn(w,We),vt=Je.pointAlongOffset(1,pe),ft=Je.pointAlongOffset(1,-pe);this._side===U.LEFT?(this._segList.addPt(vt),this._segList.addPt(ft)):(this._segList.addPt(ft),this._segList.addPt(vt))}},{key:"addDirectedFillet",value:function(n,r,l,p,w){var S=p===Ye.CLOCKWISE?-1:1,M=Math.abs(r-l),V=Math.trunc(M/this._filletAngleQuantum+.5);if(V<1)return null;for(var Q=M/V,le=new K,pe=0;pe<V;pe++){var Pe=r+S*pe*Q;le.x=n.x+w*Math.cos(Pe),le.y=n.y+w*Math.sin(Pe),this._segList.addPt(le)}}},{key:"computeOffsetSegment",value:function(n,r,l,p){var w=r===U.LEFT?1:-1,S=n.p1.x-n.p0.x,M=n.p1.y-n.p0.y,V=Math.sqrt(S*S+M*M),Q=w*l*S/V,le=w*l*M/V;p.p0.x=n.p0.x-le,p.p0.y=n.p0.y+Q,p.p1.x=n.p1.x-le,p.p1.y=n.p1.y+Q}},{key:"addInsideTurn",value:function(n,r){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*c.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var l=new K((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(l);var p=new K((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(n){var r=new K(n.x+this._distance,n.y);this._segList.addPt(r),this.addDirectedFillet(n,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(n,r){this._segList.addPt(n.p1),this._segList.addPt(r.p0)}},{key:"init",value:function(n){this._distance=n,this._maxCurveSegmentError=n*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Us,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(n*c.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(n){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===q.JOIN_BEVEL||this._bufParams.getJoinStyle()===q.JOIN_MITRE?(n&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Ye.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new zn,this._seg1=new zn,this._offset0=new zn,this._offset1=new zn,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],r=arguments[1],l=arguments[2];this._precisionModel=n,this._bufParams=r,this._li=new Ai,this._filletAngleQuantum=Math.PI/2/r.getQuadrantSegments(),r.getQuadrantSegments()>=8&&r.getJoinStyle()===q.JOIN_ROUND&&(this._closingSegLengthFactor=c.MAX_CLOSING_SEG_LEN_FACTOR),this.init(l)}}])})();$s.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,$s.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,$s.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,$s.MAX_CLOSING_SEG_LEN_FACTOR=80;var Vs=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getOffsetCurve",value:function(n,r){if(this._distance=r,r===0)return null;var l=r<0,p=Math.abs(r),w=this.getSegGen(p);n.length<=1?this.computePointCurve(n[0],w):this.computeOffsetCurve(n,l,w);var S=w.getCoordinates();return l&&Kt.reverse(S),S}},{key:"computeSingleSidedBufferCurve",value:function(n,r,l){var p=this.simplifyTolerance(this._distance);if(r){l.addSegments(n,!0);var w=Qn.simplify(n,-p),S=w.length-1;l.initSideSegments(w[S],w[S-1],U.LEFT),l.addFirstSegment();for(var M=S-2;M>=0;M--)l.addNextSegment(w[M],!0)}else{l.addSegments(n,!1);var V=Qn.simplify(n,p),Q=V.length-1;l.initSideSegments(V[0],V[1],U.LEFT),l.addFirstSegment();for(var le=2;le<=Q;le++)l.addNextSegment(V[le],!0)}l.addLastSegment(),l.closeRing()}},{key:"computeRingBufferCurve",value:function(n,r,l){var p=this.simplifyTolerance(this._distance);r===U.RIGHT&&(p=-p);var w=Qn.simplify(n,p),S=w.length-1;l.initSideSegments(w[S-1],w[0],r);for(var M=1;M<=S;M++){var V=M!==1;l.addNextSegment(w[M],V)}l.closeRing()}},{key:"computeLineBufferCurve",value:function(n,r){var l=this.simplifyTolerance(this._distance),p=Qn.simplify(n,l),w=p.length-1;r.initSideSegments(p[0],p[1],U.LEFT);for(var S=2;S<=w;S++)r.addNextSegment(p[S],!0);r.addLastSegment(),r.addLineEndCap(p[w-1],p[w]);var M=Qn.simplify(n,-l),V=M.length-1;r.initSideSegments(M[V],M[V-1],U.LEFT);for(var Q=V-2;Q>=0;Q--)r.addNextSegment(M[Q],!0);r.addLastSegment(),r.addLineEndCap(M[1],M[0]),r.closeRing()}},{key:"computePointCurve",value:function(n,r){switch(this._bufParams.getEndCapStyle()){case q.CAP_ROUND:r.createCircle(n);break;case q.CAP_SQUARE:r.createSquare(n)}}},{key:"getLineCurve",value:function(n,r){if(this._distance=r,this.isLineOffsetEmpty(r))return null;var l=Math.abs(r),p=this.getSegGen(l);if(n.length<=1)this.computePointCurve(n[0],p);else if(this._bufParams.isSingleSided()){var w=r<0;this.computeSingleSidedBufferCurve(n,w,p)}else this.computeLineBufferCurve(n,p);return p.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(n){return n*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(n,r,l){if(this._distance=l,n.length<=2)return this.getLineCurve(n,l);if(l===0)return c.copyCoordinates(n);var p=this.getSegGen(l);return this.computeRingBufferCurve(n,r,p),p.getCoordinates()}},{key:"computeOffsetCurve",value:function(n,r,l){var p=this.simplifyTolerance(this._distance);if(r){var w=Qn.simplify(n,-p),S=w.length-1;l.initSideSegments(w[S],w[S-1],U.LEFT),l.addFirstSegment();for(var M=S-2;M>=0;M--)l.addNextSegment(w[M],!0)}else{var V=Qn.simplify(n,p),Q=V.length-1;l.initSideSegments(V[0],V[1],U.LEFT),l.addFirstSegment();for(var le=2;le<=Q;le++)l.addNextSegment(V[le],!0)}l.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(n){return n===0||n<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(n){return new $s(this._precisionModel,this._bufParams,n)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var n=arguments[0],r=arguments[1];this._precisionModel=n,this._bufParams=r}},{key:"copyCoordinates",value:function(n){for(var r=new Array(n.length).fill(null),l=0;l<r.length;l++)r[l]=new K(n[l]);return r}}])})(),Gn=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var c=arguments[0],n=new je,r=this._subgraphs.iterator();r.hasNext();){var l=r.next(),p=l.getEnvelope();c.y<p.getMinY()||c.y>p.getMaxY()||this.findStabbedSegments(c,l.getDirectedEdges(),n)}return n}if(arguments.length===3){if(re(arguments[2],Ge)&&arguments[0]instanceof K&&arguments[1]instanceof Ao){for(var w=arguments[0],S=arguments[1],M=arguments[2],V=S.getEdge().getCoordinates(),Q=0;Q<V.length-1;Q++)if(this._seg.p0=V[Q],this._seg.p1=V[Q+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<w.x||this._seg.isHorizontal()||w.y<this._seg.p0.y||w.y>this._seg.p1.y||Ye.index(this._seg.p0,this._seg.p1,w)===Ye.RIGHT)){var le=S.getDepth(U.LEFT);this._seg.p0.equals(V[Q])||(le=S.getDepth(U.RIGHT));var pe=new Uo(this._seg,le);M.add(pe)}}else if(re(arguments[2],Ge)&&arguments[0]instanceof K&&re(arguments[1],Ge))for(var Pe=arguments[0],Ue=arguments[2],We=arguments[1].iterator();We.hasNext();){var Je=We.next();Je.isForward()&&this.findStabbedSegments(Pe,Je,Ue)}}}},{key:"getDepth",value:function(c){var n=this.findStabbedSegments(c);return n.size()===0?0:Tr.min(n)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new zn;var c=arguments[0];this._subgraphs=c}}])})(),Uo=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(c){var n=c;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(n._upwardSeg);return r!==0||(r=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?r:this._upwardSeg.compareTo(n._upwardSeg)}},{key:"compareX",value:function(c,n){var r=c.p0.compareTo(n.p0);return r!==0?r:c.p1.compareTo(n.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var c=arguments[0],n=arguments[1];this._upwardSeg=new zn(c),this._leftDepth=n}}])})();Gn.DepthSegment=Uo;var $o=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,null,[{key:"constructor_",value:function(){_.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(_),Vo=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getY",value:function(){var n=this.y/this.w;if(ce.isNaN(n)||ce.isInfinite(n))throw new $o;return n}},{key:"getX",value:function(){var n=this.x/this.w;if(ce.isNaN(n)||ce.isInfinite(n))throw new $o;return n}},{key:"getCoordinate",value:function(){var n=new K;return n.x=this.getX(),n.y=this.getY(),n}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var r=arguments[0],l=arguments[1];this.x=r,this.y=l,this.w=1}else if(arguments[0]instanceof c&&arguments[1]instanceof c){var p=arguments[0],w=arguments[1];this.x=p.y*w.w-w.y*p.w,this.y=w.x*p.w-p.x*w.w,this.w=p.x*w.y-w.x*p.y}else if(arguments[0]instanceof K&&arguments[1]instanceof K){var S=arguments[0],M=arguments[1];this.x=S.y-M.y,this.y=M.x-S.x,this.w=S.x*M.y-M.x*S.y}}else if(arguments.length===3){var V=arguments[0],Q=arguments[1],le=arguments[2];this.x=V,this.y=Q,this.w=le}else if(arguments.length===4){var pe=arguments[0],Pe=arguments[1],Ue=arguments[2],We=arguments[3],Je=pe.y-Pe.y,vt=Pe.x-pe.x,ft=pe.x*Pe.y-Pe.x*pe.y,Ot=Ue.y-We.y,Ht=We.x-Ue.x,un=Ue.x*We.y-We.x*Ue.y;this.x=vt*un-Ht*ft,this.y=Ot*ft-Je*un,this.w=Je*Ht-Ot*vt}}}])})(),Ho=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"area",value:function(){return c.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return c.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(n){if(n===null)throw new x("Supplied point is null.");return c.interpolateZ(n,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return c.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return c.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return c.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return c.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return c.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return c.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var n=arguments[0],r=arguments[1],l=arguments[2];this.p0=n,this.p1=r,this.p2=l}},{key:"area",value:function(n,r,l){return Math.abs(((l.x-n.x)*(r.y-n.y)-(r.x-n.x)*(l.y-n.y))/2)}},{key:"signedArea",value:function(n,r,l){return((l.x-n.x)*(r.y-n.y)-(r.x-n.x)*(l.y-n.y))/2}},{key:"det",value:function(n,r,l,p){return n*p-r*l}},{key:"interpolateZ",value:function(n,r,l,p){var w=r.x,S=r.y,M=l.x-w,V=p.x-w,Q=l.y-S,le=p.y-S,pe=M*le-V*Q,Pe=n.x-w,Ue=n.y-S,We=(le*Pe-V*Ue)/pe,Je=(-Q*Pe+M*Ue)/pe;return r.getZ()+We*(l.getZ()-r.getZ())+Je*(p.getZ()-r.getZ())}},{key:"longestSideLength",value:function(n,r,l){var p=n.distance(r),w=r.distance(l),S=l.distance(n),M=p;return w>M&&(M=w),S>M&&(M=S),M}},{key:"circumcentreDD",value:function(n,r,l){var p=De.valueOf(n.x).subtract(l.x),w=De.valueOf(n.y).subtract(l.y),S=De.valueOf(r.x).subtract(l.x),M=De.valueOf(r.y).subtract(l.y),V=De.determinant(p,w,S,M).multiply(2),Q=p.sqr().add(w.sqr()),le=S.sqr().add(M.sqr()),pe=De.determinant(w,Q,M,le),Pe=De.determinant(p,Q,S,le),Ue=De.valueOf(l.x).subtract(pe.divide(V)).doubleValue(),We=De.valueOf(l.y).add(Pe.divide(V)).doubleValue();return new K(Ue,We)}},{key:"isAcute",value:function(n,r,l){return!!tn.isAcute(n,r,l)&&!!tn.isAcute(r,l,n)&&!!tn.isAcute(l,n,r)}},{key:"circumcentre",value:function(n,r,l){var p=l.x,w=l.y,S=n.x-p,M=n.y-w,V=r.x-p,Q=r.y-w,le=2*c.det(S,M,V,Q),pe=c.det(M,S*S+M*M,Q,V*V+Q*Q),Pe=c.det(S,S*S+M*M,V,V*V+Q*Q);return new K(p-pe/le,w+Pe/le)}},{key:"perpendicularBisector",value:function(n,r){var l=r.x-n.x,p=r.y-n.y,w=new Vo(n.x+l/2,n.y+p/2,1),S=new Vo(n.x-p+l/2,n.y+l+p/2,1);return new Vo(w,S)}},{key:"angleBisector",value:function(n,r,l){var p=r.distance(n),w=p/(p+r.distance(l)),S=l.x-n.x,M=l.y-n.y;return new K(n.x+w*S,n.y+w*M)}},{key:"area3D",value:function(n,r,l){var p=r.x-n.x,w=r.y-n.y,S=r.getZ()-n.getZ(),M=l.x-n.x,V=l.y-n.y,Q=l.getZ()-n.getZ(),le=w*Q-S*V,pe=S*M-p*Q,Pe=p*V-w*M,Ue=le*le+pe*pe+Pe*Pe,We=Math.sqrt(Ue)/2;return We}},{key:"centroid",value:function(n,r,l){var p=(n.x+r.x+l.x)/3,w=(n.y+r.y+l.y)/3;return new K(p,w)}},{key:"inCentre",value:function(n,r,l){var p=r.distance(l),w=n.distance(l),S=n.distance(r),M=p+w+S,V=(p*n.x+w*r.x+S*l.x)/M,Q=(p*n.y+w*r.y+S*l.y)/M;return new K(V,Q)}}])})(),qo=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(c,n,r,l,p){if(n===0&&c.length<pi.MINIMUM_VALID_SIZE)return null;var w=l,S=p;c.length>=pi.MINIMUM_VALID_SIZE&&Ye.isCCW(c)&&(w=p,S=l,r=U.opposite(r));var M=this._curveBuilder.getRingCurve(c,r,n);this.addCurve(M,w,S)}},{key:"addRingBothSides",value:function(c,n){this.addRingSide(c,n,U.LEFT,N.EXTERIOR,N.INTERIOR),this.addRingSide(c,n,U.RIGHT,N.INTERIOR,N.EXTERIOR)}},{key:"addPoint",value:function(c){if(this._distance<=0)return null;var n=c.getCoordinates(),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,N.EXTERIOR,N.INTERIOR)}},{key:"addPolygon",value:function(c){var n=this._distance,r=U.LEFT;this._distance<0&&(n=-this._distance,r=U.RIGHT);var l=c.getExteriorRing(),p=Kt.removeRepeatedPoints(l.getCoordinates());if(this._distance<0&&this.isErodedCompletely(l,this._distance)||this._distance<=0&&p.length<3)return null;this.addRingSide(p,n,r,N.EXTERIOR,N.INTERIOR);for(var w=0;w<c.getNumInteriorRing();w++){var S=c.getInteriorRingN(w),M=Kt.removeRepeatedPoints(S.getCoordinates());this._distance>0&&this.isErodedCompletely(S,-this._distance)||this.addRingSide(M,n,U.opposite(r),N.INTERIOR,N.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(c,n){var r=new Ho(c[0],c[1],c[2]),l=r.inCentre();return ai.pointToSegment(l,r.p0,r.p1)<Math.abs(n)}},{key:"addLineString",value:function(c){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var n=Kt.removeRepeatedPoints(c.getCoordinates());if(Kt.isRing(n)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(n,this._distance);else{var r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,N.EXTERIOR,N.INTERIOR)}}},{key:"addCurve",value:function(c,n,r){if(c===null||c.length<2)return null;var l=new Ri(c,new Cn(0,N.BOUNDARY,n,r));this._curveList.add(l)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(c){if(c.isEmpty())return null;if(c instanceof As)this.addPolygon(c);else if(c instanceof Os)this.addLineString(c);else if(c instanceof Lo)this.addPoint(c);else if(c instanceof ba)this.addCollection(c);else if(c instanceof Ea)this.addCollection(c);else if(c instanceof So)this.addCollection(c);else{if(!(c instanceof wn))throw new _e(c.getGeometryType());this.addCollection(c)}}},{key:"isErodedCompletely",value:function(c,n){var r=c.getCoordinates();if(r.length<4)return n<0;if(r.length===4)return this.isTriangleErodedCompletely(r,n);var l=c.getEnvelopeInternal(),p=Math.min(l.getHeight(),l.getWidth());return n<0&&2*Math.abs(n)>p}},{key:"addCollection",value:function(c){for(var n=0;n<c.getNumGeometries();n++){var r=c.getGeometryN(n);this.add(r)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new je;var c=arguments[0],n=arguments[1],r=arguments[2];this._inputGeom=c,this._distance=n,this._curveBuilder=r}}])})(),od=(function(){return h((function c(){i(this,c)}),[{key:"locate",value:function(c){}}])})(),ud=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,c.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new oe;var n=this._parent.getGeometryN(this._index++);return n instanceof wn?(this._subcollectionIterator=new c(n),this._subcollectionIterator.next()):n}},{key:"remove",value:function(){throw new _e(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[sd]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var n=arguments[0];this._parent=n,this._atStart=!0,this._index=0,this._max=n.getNumGeometries()}},{key:"isAtomic",value:function(n){return!(n instanceof wn)}}])})(),al=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"locate",value:function(n){return c.locate(n,this._geom)}},{key:"interfaces_",get:function(){return[od]}}],[{key:"constructor_",value:function(){this._geom=null;var n=arguments[0];this._geom=n}},{key:"locatePointInPolygon",value:function(n,r){if(r.isEmpty())return N.EXTERIOR;var l=r.getExteriorRing(),p=c.locatePointInRing(n,l);if(p!==N.INTERIOR)return p;for(var w=0;w<r.getNumInteriorRing();w++){var S=r.getInteriorRingN(w),M=c.locatePointInRing(n,S);if(M===N.BOUNDARY)return N.BOUNDARY;if(M===N.INTERIOR)return N.EXTERIOR}return N.INTERIOR}},{key:"locatePointInRing",value:function(n,r){return r.getEnvelopeInternal().intersects(n)?os.locateInRing(n,r.getCoordinates()):N.EXTERIOR}},{key:"containsPointInPolygon",value:function(n,r){return N.EXTERIOR!==c.locatePointInPolygon(n,r)}},{key:"locateInGeometry",value:function(n,r){if(r instanceof As)return c.locatePointInPolygon(n,r);if(r instanceof wn)for(var l=new ud(r);l.hasNext();){var p=l.next();if(p!==r){var w=c.locateInGeometry(n,p);if(w!==N.EXTERIOR)return w}}return N.EXTERIOR}},{key:"isContained",value:function(n,r){return N.EXTERIOR!==c.locate(n,r)}},{key:"locate",value:function(n,r){return r.isEmpty()?N.EXTERIOR:r.getEnvelopeInternal().intersects(n)?c.locateInGeometry(n,r):N.EXTERIOR}}])})(),ld=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(c){this.getEdges();var n=this._edgeList.indexOf(c),r=n-1;return n===0&&(r=this._edgeList.size()-1),this._edgeList.get(r)}},{key:"propagateSideLabels",value:function(c){for(var n=N.NONE,r=this.iterator();r.hasNext();){var l=r.next().getLabel();l.isArea(c)&&l.getLocation(c,U.LEFT)!==N.NONE&&(n=l.getLocation(c,U.LEFT))}if(n===N.NONE)return null;for(var p=n,w=this.iterator();w.hasNext();){var S=w.next(),M=S.getLabel();if(M.getLocation(c,U.ON)===N.NONE&&M.setLocation(c,U.ON,p),M.isArea(c)){var V=M.getLocation(c,U.LEFT),Q=M.getLocation(c,U.RIGHT);if(Q!==N.NONE){if(Q!==p)throw new hn("side location conflict",S.getCoordinate());V===N.NONE&&Oe.shouldNeverReachHere("found single null side (at "+S.getCoordinate()+")"),p=V}else Oe.isTrue(M.getLocation(c,U.LEFT)===N.NONE,"found single null side"),M.setLocation(c,U.RIGHT,p),M.setLocation(c,U.LEFT,p)}}}},{key:"getCoordinate",value:function(){var c=this.iterator();return c.hasNext()?c.next().getCoordinate():null}},{key:"print",value:function(c){Jn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"isAreaLabelsConsistent",value:function(c){return this.computeEdgeEndLabels(c.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(c){var n=this.getEdges();if(n.size()<=0)return!0;var r=n.size()-1,l=n.get(r).getLabel().getLocation(c,U.LEFT);Oe.isTrue(l!==N.NONE,"Found unlabelled area edge");for(var p=l,w=this.iterator();w.hasNext();){var S=w.next().getLabel();Oe.isTrue(S.isArea(c),"Found non-area edge");var M=S.getLocation(c,U.LEFT),V=S.getLocation(c,U.RIGHT);if(M===V||V!==p)return!1;p=M}return!0}},{key:"findIndex",value:function(c){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===c)return n;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new je(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(c,n,r){return this._ptInAreaLocation[c]===N.NONE&&(this._ptInAreaLocation[c]=al.locate(n,r[c].getGeometry())),this._ptInAreaLocation[c]}},{key:"toString",value:function(){var c=new we;c.append("EdgeEndStar:   "+this.getCoordinate()),c.append(`
`);for(var n=this.iterator();n.hasNext();){var r=n.next();c.append(r),c.append(`
`)}return c.toString()}},{key:"computeEdgeEndLabels",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(c)}},{key:"computeLabelling",value:function(c){this.computeEdgeEndLabels(c[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],r=this.iterator();r.hasNext();)for(var l=r.next().getLabel(),p=0;p<2;p++)l.isLine(p)&&l.getLocation(p)===N.BOUNDARY&&(n[p]=!0);for(var w=this.iterator();w.hasNext();)for(var S=w.next(),M=S.getLabel(),V=0;V<2;V++)if(M.isAnyNull(V)){var Q=N.NONE;if(n[V])Q=N.EXTERIOR;else{var le=S.getCoordinate();Q=this.getLocation(V,le,c)}M.setAllLocationsIfNull(V,Q)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(c,n){this._edgeMap.put(c,n),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Wt,this._edgeList=null,this._ptInAreaLocation=[N.NONE,N.NONE]}}])})(),ui=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var r=null,l=null,p=this._SCANNING_FOR_INCOMING,w=0;w<this._resultAreaEdgeList.size();w++){var S=this._resultAreaEdgeList.get(w),M=S.getSym();if(S.getLabel().isArea())switch(r===null&&S.isInResult()&&(r=S),p){case this._SCANNING_FOR_INCOMING:if(!M.isInResult())continue;l=M,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!S.isInResult())continue;l.setNext(S),p=this._SCANNING_FOR_INCOMING}}if(p===this._LINKING_TO_OUTGOING){if(r===null)throw new hn("no outgoing dirEdge found",this.getCoordinate());Oe.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),l.setNext(r)}}},{key:"insert",value:function(r){var l=r;this.insertEdgeEnd(l,l)}},{key:"getRightmostEdge",value:function(){var r=this.getEdges(),l=r.size();if(l<1)return null;var p=r.get(0);if(l===1)return p;var w=r.get(l-1),S=p.getQuadrant(),M=w.getQuadrant();return gn.isNorthern(S)&&gn.isNorthern(M)?p:gn.isNorthern(S)||gn.isNorthern(M)?p.getDy()!==0?p:w.getDy()!==0?w:(Oe.shouldNeverReachHere("found two horizontal edges incident on node"),null):w}},{key:"print",value:function(r){Jn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var l=this.iterator();l.hasNext();){var p=l.next();r.print("out "),p.print(r),r.println(),r.print("in "),p.getSym().print(r),r.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new je;for(var r=this.iterator();r.hasNext();){var l=r.next();(l.isInResult()||l.getSym().isInResult())&&this._resultAreaEdgeList.add(l)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(r){for(var l=this.iterator();l.hasNext();){var p=l.next().getLabel();p.setAllLocationsIfNull(0,r.getLocation(0)),p.setAllLocationsIfNull(1,r.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var r=null,l=null,p=this._edgeList.size()-1;p>=0;p--){var w=this._edgeList.get(p),S=w.getSym();l===null&&(l=S),r!==null&&S.setNext(r),r=w}l.setNext(r)}},{key:"computeDepths",value:function(){if(arguments.length===1){var r=arguments[0],l=this.findIndex(r),p=r.getDepth(U.LEFT),w=r.getDepth(U.RIGHT),S=this.computeDepths(l+1,this._edgeList.size(),p);if(this.computeDepths(0,l,S)!==w)throw new hn("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var M=arguments[1],V=arguments[2],Q=arguments[0];Q<M;Q++){var le=this._edgeList.get(Q);le.setEdgeDepths(U.RIGHT,V),V=le.getDepth(U.LEFT)}return V}}},{key:"mergeSymLabels",value:function(){for(var r=this.iterator();r.hasNext();){var l=r.next();l.getLabel().merge(l.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(r){for(var l=null,p=null,w=this._SCANNING_FOR_INCOMING,S=this._resultAreaEdgeList.size()-1;S>=0;S--){var M=this._resultAreaEdgeList.get(S),V=M.getSym();switch(l===null&&M.getEdgeRing()===r&&(l=M),w){case this._SCANNING_FOR_INCOMING:if(V.getEdgeRing()!==r)continue;p=V,w=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(M.getEdgeRing()!==r)continue;p.setNextMin(M),w=this._SCANNING_FOR_INCOMING}}w===this._LINKING_TO_OUTGOING&&(Oe.isTrue(l!==null,"found null for first outgoing dirEdge"),Oe.isTrue(l.getEdgeRing()===r,"unable to link last incoming dirEdge"),p.setNextMin(l))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var r=0,l=this.iterator();l.hasNext();)l.next().isInResult()&&r++;return r}if(arguments.length===1){for(var p=arguments[0],w=0,S=this.iterator();S.hasNext();)S.next().getEdgeRing()===p&&w++;return w}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var r=N.NONE,l=this.iterator();l.hasNext();){var p=l.next(),w=p.getSym();if(!p.isLineEdge()){if(p.isInResult()){r=N.INTERIOR;break}if(w.isInResult()){r=N.EXTERIOR;break}}}if(r===N.NONE)return null;for(var S=r,M=this.iterator();M.hasNext();){var V=M.next(),Q=V.getSym();V.isLineEdge()?V.getEdge().setCovered(S===N.INTERIOR):(V.isInResult()&&(S=N.EXTERIOR),Q.isInResult()&&(S=N.INTERIOR))}}},{key:"computeLabelling",value:function(r){O(n,"computeLabelling",this,1).call(this,r),this._label=new Cn(N.NONE);for(var l=this.iterator();l.hasNext();)for(var p=l.next().getEdge().getLabel(),w=0;w<2;w++){var S=p.getLocation(w);S!==N.INTERIOR&&S!==N.BOUNDARY||this._label.setLocation(w,N.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(ld),ls=(function(c){function n(){return i(this,n),a(this,n)}return b(n,c),h(n,[{key:"createNode",value:function(r){return new zs(r,new ui)}}])})(Ro),ol=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compareTo",value:function(n){var r=n;return c.compareOriented(this._pts,this._orientation,r._pts,r._orientation)}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=c.orientation(n)}},{key:"orientation",value:function(n){return Kt.increasingDirection(n)===1}},{key:"compareOriented",value:function(n,r,l,p){for(var w=r?1:-1,S=p?1:-1,M=r?n.length:-1,V=p?l.length:-1,Q=r?0:n.length-1,le=p?0:l.length-1;;){var pe=n[Q].compareTo(l[le]);if(pe!==0)return pe;var Pe=(Q+=w)===M,Ue=(le+=S)===V;if(Pe&&!Ue)return-1;if(!Pe&&Ue)return 1;if(Pe&&Ue)return 0}}}])})(),Di=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"print",value:function(c){c.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n);n>0&&c.print(","),c.print("(");for(var l=r.getCoordinates(),p=0;p<l.length;p++)p>0&&c.print(","),c.print(l[p].x+" "+l[p].y);c.println(")")}c.print(")  ")}},{key:"addAll",value:function(c){for(var n=c.iterator();n.hasNext();)this.add(n.next())}},{key:"findEdgeIndex",value:function(c){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(c))return n;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(c){return this._edges.get(c)}},{key:"findEqualEdge",value:function(c){var n=new ol(c.getCoordinates());return this._ocaMap.get(n)}},{key:"add",value:function(c){this._edges.add(c);var n=new ol(c.getCoordinates());this._ocaMap.put(n,c)}}],[{key:"constructor_",value:function(){this._edges=new je,this._ocaMap=new Wt}}])})(),ul=(function(){return h((function c(){i(this,c)}),[{key:"processIntersections",value:function(c,n,r,l){}},{key:"isDone",value:function(){}}])})(),cs=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isTrivialIntersection",value:function(n,r,l,p){if(n===l&&this._li.getIntersectionNum()===1){if(c.isAdjacentSegments(r,p))return!0;if(n.isClosed()){var w=n.size()-1;if(r===0&&p===w||p===0&&r===w)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(n,r,l,p){if(n===l&&r===p)return null;this.numTests++;var w=n.getCoordinates()[r],S=n.getCoordinates()[r+1],M=l.getCoordinates()[p],V=l.getCoordinates()[p+1];this._li.computeIntersection(w,S,M,V),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(n,r,l,p)||(this._hasIntersection=!0,n.addIntersections(this._li,r,0),l.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[ul]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var n=arguments[0];this._li=n}},{key:"isAdjacentSegments",value:function(n,r){return Math.abs(n-r)===1}}])})(),cd=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex),c.println(" dist = "+this.dist)}},{key:"compareTo",value:function(c){var n=c;return this.compare(n.segmentIndex,n.dist)}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===c}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(c,n){return this.segmentIndex<c?-1:this.segmentIndex>c?1:this.dist<n?-1:this.dist>n?1:0}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var c=arguments[0],n=arguments[1],r=arguments[2];this.coord=new K(c),this.segmentIndex=n,this.dist=r}}])})(),Hs=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var l=n.next(),p=this.createSplitEdge(r,l);c.add(p),r=l}}},{key:"addEndpoints",value:function(){var c=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[c],c,0)}},{key:"createSplitEdge",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2,l=this.edge.pts[n.segmentIndex],p=n.dist>0||!n.coord.equals2D(l);p||r--;var w=new Array(r).fill(null),S=0;w[S++]=new K(c.coord);for(var M=c.segmentIndex+1;M<=n.segmentIndex;M++)w[S++]=this.edge.pts[M];return p&&(w[S]=n.coord),new cl(w,new Cn(this.edge._label))}},{key:"add",value:function(c,n,r){var l=new cd(c,n,r),p=this._nodeMap.get(l);return p!==null?p:(this._nodeMap.put(l,l),l)}},{key:"isIntersection",value:function(c){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(c))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Wt,this.edge=null;var c=arguments[0];this.edge=c}}])})(),ll=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])||c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))&&this._matrix[N.EXTERIOR][N.INTERIOR]===ze.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===ze.FALSE}},{key:"isCoveredBy",value:function(){return(c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])||c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))&&this._matrix[N.INTERIOR][N.EXTERIOR]===ze.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===ze.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var l=Math.trunc(r/3),p=r%3;this._matrix[l][p]=ze.toDimensionValue(n.charAt(r))}else if(arguments.length===3){var w=arguments[0],S=arguments[1],M=arguments[2];this._matrix[w][S]=M}}},{key:"isContains",value:function(){return c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.EXTERIOR][N.INTERIOR]===ze.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===ze.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var l=Math.trunc(r/3),p=r%3;this.setAtLeast(l,p,ze.toDimensionValue(n.charAt(r)))}else if(arguments.length===3){var w=arguments[0],S=arguments[1],M=arguments[2];this._matrix[w][S]<M&&(this._matrix[w][S]=M)}}},{key:"setAtLeastIfValid",value:function(n,r,l){n>=0&&r>=0&&this.setAtLeast(n,r,l)}},{key:"isWithin",value:function(){return c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.INTERIOR][N.EXTERIOR]===ze.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===ze.FALSE}},{key:"isTouches",value:function(n,r){return n>r?this.isTouches(r,n):(n===ze.A&&r===ze.A||n===ze.L&&r===ze.L||n===ze.L&&r===ze.A||n===ze.P&&r===ze.A||n===ze.P&&r===ze.L)&&this._matrix[N.INTERIOR][N.INTERIOR]===ze.FALSE&&(c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))}},{key:"isOverlaps",value:function(n,r){return n===ze.P&&r===ze.P||n===ze.A&&r===ze.A?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR]):n===ze.L&&r===ze.L&&this._matrix[N.INTERIOR][N.INTERIOR]===1&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR])}},{key:"isEquals",value:function(n,r){return n===r&&c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.INTERIOR][N.EXTERIOR]===ze.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===ze.FALSE&&this._matrix[N.EXTERIOR][N.INTERIOR]===ze.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===ze.FALSE}},{key:"toString",value:function(){for(var n=new La("123456789"),r=0;r<3;r++)for(var l=0;l<3;l++)n.setCharAt(3*r+l,ze.toDimensionSymbol(this._matrix[r][l]));return n.toString()}},{key:"setAll",value:function(n){for(var r=0;r<3;r++)for(var l=0;l<3;l++)this._matrix[r][l]=n}},{key:"get",value:function(n,r){return this._matrix[n][r]}},{key:"transpose",value:function(){var n=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=n,n=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=n,n=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=n,this}},{key:"matches",value:function(n){if(n.length!==9)throw new x("Should be length 9: "+n);for(var r=0;r<3;r++)for(var l=0;l<3;l++)if(!c.matches(this._matrix[r][l],n.charAt(3*r+l)))return!1;return!0}},{key:"add",value:function(n){for(var r=0;r<3;r++)for(var l=0;l<3;l++)this.setAtLeast(r,l,n.get(r,l))}},{key:"isDisjoint",value:function(){return this._matrix[N.INTERIOR][N.INTERIOR]===ze.FALSE&&this._matrix[N.INTERIOR][N.BOUNDARY]===ze.FALSE&&this._matrix[N.BOUNDARY][N.INTERIOR]===ze.FALSE&&this._matrix[N.BOUNDARY][N.BOUNDARY]===ze.FALSE}},{key:"isCrosses",value:function(n,r){return n===ze.P&&r===ze.L||n===ze.P&&r===ze.A||n===ze.L&&r===ze.A?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR]):n===ze.L&&r===ze.P||n===ze.A&&r===ze.P||n===ze.A&&r===ze.L?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR]):n===ze.L&&r===ze.L&&this._matrix[N.INTERIOR][N.INTERIOR]===0}},{key:"interfaces_",get:function(){return[F]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(ze.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var n=arguments[0];c.constructor_.call(this),this.set(n)}else if(arguments[0]instanceof c){var r=arguments[0];c.constructor_.call(this),this._matrix[N.INTERIOR][N.INTERIOR]=r._matrix[N.INTERIOR][N.INTERIOR],this._matrix[N.INTERIOR][N.BOUNDARY]=r._matrix[N.INTERIOR][N.BOUNDARY],this._matrix[N.INTERIOR][N.EXTERIOR]=r._matrix[N.INTERIOR][N.EXTERIOR],this._matrix[N.BOUNDARY][N.INTERIOR]=r._matrix[N.BOUNDARY][N.INTERIOR],this._matrix[N.BOUNDARY][N.BOUNDARY]=r._matrix[N.BOUNDARY][N.BOUNDARY],this._matrix[N.BOUNDARY][N.EXTERIOR]=r._matrix[N.BOUNDARY][N.EXTERIOR],this._matrix[N.EXTERIOR][N.INTERIOR]=r._matrix[N.EXTERIOR][N.INTERIOR],this._matrix[N.EXTERIOR][N.BOUNDARY]=r._matrix[N.EXTERIOR][N.BOUNDARY],this._matrix[N.EXTERIOR][N.EXTERIOR]=r._matrix[N.EXTERIOR][N.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var n=arguments[0],r=arguments[1];return r===ze.SYM_DONTCARE||r===ze.SYM_TRUE&&(n>=0||n===ze.TRUE)||r===ze.SYM_FALSE&&n===ze.FALSE||r===ze.SYM_P&&n===ze.P||r===ze.SYM_L&&n===ze.L||r===ze.SYM_A&&n===ze.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var l=arguments[1];return new c(arguments[0]).matches(l)}}},{key:"isTrue",value:function(n){return n>=0||n===ze.TRUE}}])})(),Aa=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(n){return n===null||n.length===0?null:(this.ensureCapacity(this._size+n.length),Jn.arraycopy(n,0,this._data,this._size,n.length),void(this._size+=n.length))}},{key:"ensureCapacity",value:function(n){if(n<=this._data.length)return null;var r=Math.max(n,2*this._data.length);this._data=pn.copyOf(this._data,r)}},{key:"toArray",value:function(){var n=new Array(this._size).fill(null);return Jn.arraycopy(this._data,0,n,0,this._size),n}},{key:"add",value:function(n){this.ensureCapacity(this._size+1),this._data[this._size]=n,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)c.constructor_.call(this,10);else if(arguments.length===1){var n=arguments[0];this._data=new Array(n).fill(null)}}}])})(),dd=(function(){function c(){i(this,c)}return h(c,[{key:"getChainStartIndices",value:function(n){var r=0,l=new Aa(Math.trunc(n.length/2));l.add(r);do{var p=this.findChainEnd(n,r);l.add(p),r=p}while(r<n.length-1);return l.toArray()}},{key:"findChainEnd",value:function(n,r){for(var l=gn.quadrant(n[r],n[r+1]),p=r+1;p<n.length&&gn.quadrant(n[p-1],n[p])===l;)p++;return p-1}},{key:"OLDgetChainStartIndices",value:function(n){var r=0,l=new je;l.add(r);do{var p=this.findChainEnd(n,r);l.add(p),r=p}while(r<n.length-1);return c.toIntArray(l)}}],[{key:"toIntArray",value:function(n){for(var r=new Array(n.size()).fill(null),l=0;l<r.length;l++)r[l]=n.get(l).intValue();return r}}])})(),ir=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n>r?n:r}},{key:"getMinX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n<r?n:r}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var c=arguments[0],n=arguments[1],r=arguments[2],l=arguments[3];this.computeIntersectsForChain(this.startIndex[c],this.startIndex[c+1],n,n.startIndex[r],n.startIndex[r+1],l)}else if(arguments.length===6){var p=arguments[0],w=arguments[1],S=arguments[2],M=arguments[3],V=arguments[4],Q=arguments[5];if(w-p==1&&V-M==1)return Q.addIntersections(this.e,p,S.e,M),null;if(!this.overlaps(p,w,S,M,V))return null;var le=Math.trunc((p+w)/2),pe=Math.trunc((M+V)/2);p<le&&(M<pe&&this.computeIntersectsForChain(p,le,S,M,pe,Q),pe<V&&this.computeIntersectsForChain(p,le,S,pe,V,Q)),le<w&&(M<pe&&this.computeIntersectsForChain(le,w,S,M,pe,Q),pe<V&&this.computeIntersectsForChain(le,w,S,pe,V,Q))}}},{key:"overlaps",value:function(c,n,r,l,p){return Ae.intersects(this.pts[c],this.pts[n],r.pts[l],r.pts[p])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(c,n){for(var r=0;r<this.startIndex.length-1;r++)for(var l=0;l<c.startIndex.length-1;l++)this.computeIntersectsForChain(r,c,l,n)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var c=arguments[0];this.e=c,this.pts=c.getCoordinates();var n=new dd;this.startIndex=n.getChainStartIndices(this.pts)}}])})(),qs=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getDepth",value:function(n,r){return this._depth[n][r]}},{key:"setDepth",value:function(n,r,l){this._depth[n][r]=l}},{key:"isNull",value:function(){if(arguments.length===0){for(var n=0;n<2;n++)for(var r=0;r<3;r++)if(this._depth[n][r]!==c.NULL_VALUE)return!1;return!0}if(arguments.length===1){var l=arguments[0];return this._depth[l][1]===c.NULL_VALUE}if(arguments.length===2){var p=arguments[0],w=arguments[1];return this._depth[p][w]===c.NULL_VALUE}}},{key:"normalize",value:function(){for(var n=0;n<2;n++)if(!this.isNull(n)){var r=this._depth[n][1];this._depth[n][2]<r&&(r=this._depth[n][2]),r<0&&(r=0);for(var l=1;l<3;l++){var p=0;this._depth[n][l]>r&&(p=1),this._depth[n][l]=p}}}},{key:"getDelta",value:function(n){return this._depth[n][U.RIGHT]-this._depth[n][U.LEFT]}},{key:"getLocation",value:function(n,r){return this._depth[n][r]<=0?N.EXTERIOR:N.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<2;r++)for(var l=1;l<3;l++){var p=n.getLocation(r,l);p!==N.EXTERIOR&&p!==N.INTERIOR||(this.isNull(r,l)?this._depth[r][l]=c.depthAtLocation(p):this._depth[r][l]+=c.depthAtLocation(p))}else if(arguments.length===3){var w=arguments[0],S=arguments[1];arguments[2]===N.INTERIOR&&this._depth[w][S]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var n=0;n<2;n++)for(var r=0;r<3;r++)this._depth[n][r]=c.NULL_VALUE}},{key:"depthAtLocation",value:function(n){return n===N.EXTERIOR?0:n===N.INTERIOR?1:c.NULL_VALUE}}])})();qs.NULL_VALUE=-1;var cl=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var r=new Array(2).fill(null);return r[0]=this.pts[0],r[1]=this.pts[1],new n(r,Cn.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(r){this._isIsolated=r}},{key:"setName",value:function(r){this._name=r}},{key:"equals",value:function(r){if(!(r instanceof n))return!1;var l=r;if(this.pts.length!==l.pts.length)return!1;for(var p=!0,w=!0,S=this.pts.length,M=0;M<this.pts.length;M++)if(this.pts[M].equals2D(l.pts[M])||(p=!1),this.pts[M].equals2D(l.pts[--S])||(w=!1),!p&&!w)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}}},{key:"print",value:function(r){r.print("edge "+this._name+": "),r.print("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&r.print(","),r.print(this.pts[l].x+" "+this.pts[l].y);r.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(r){n.updateIM(this._label,r)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(r){r.print("edge "+this._name+": ");for(var l=this.pts.length-1;l>=0;l--)r.print(this.pts[l]+" ");r.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new ir(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Ae;for(var r=0;r<this.pts.length;r++)this._env.expandToInclude(this.pts[r])}return this._env}},{key:"addIntersection",value:function(r,l,p,w){var S=new K(r.getIntersection(w)),M=l,V=r.getEdgeDistance(p,w),Q=M+1;if(Q<this.pts.length){var le=this.pts[Q];S.equals2D(le)&&(M=Q,V=0)}this.eiList.add(S,M,V)}},{key:"toString",value:function(){var r=new La;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&r.append(","),r.append(this.pts[l].x+" "+this.pts[l].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()}},{key:"isPointwiseEqual",value:function(r){if(this.pts.length!==r.pts.length)return!1;for(var l=0;l<this.pts.length;l++)if(!this.pts[l].equals2D(r.pts[l]))return!1;return!0}},{key:"setDepthDelta",value:function(r){this._depthDelta=r}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(r,l,p){for(var w=0;w<r.getIntersectionNum();w++)this.addIntersection(r,l,p,w)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Hs(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new qs,this._depthDelta=0,arguments.length===1){var r=arguments[0];n.constructor_.call(this,r,null)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.pts=l,this._label=p}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof ll&&arguments[0]instanceof Cn))return O(n,"updateIM",this).apply(this,arguments);var r=arguments[0],l=arguments[1];l.setAtLeastIfValid(r.getLocation(0,U.ON),r.getLocation(1,U.ON),1),r.isArea()&&(l.setAtLeastIfValid(r.getLocation(0,U.LEFT),r.getLocation(1,U.LEFT),2),l.setAtLeastIfValid(r.getLocation(0,U.RIGHT),r.getLocation(1,U.RIGHT),2))}}])})(Mt),Ra=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"setWorkingPrecisionModel",value:function(n){this._workingPrecisionModel=n}},{key:"insertUniqueEdge",value:function(n){var r=this._edgeList.findEqualEdge(n);if(r!==null){var l=r.getLabel(),p=n.getLabel();r.isPointwiseEqual(n)||(p=new Cn(n.getLabel())).flip(),l.merge(p);var w=c.depthDelta(p),S=r.getDepthDelta()+w;r.setDepthDelta(S)}else this._edgeList.add(n),n.setDepthDelta(c.depthDelta(n.getLabel()))}},{key:"buildSubgraphs",value:function(n,r){for(var l=new je,p=n.iterator();p.hasNext();){var w=p.next(),S=w.getRightmostCoordinate(),M=new Gn(l).getDepth(S);w.computeDepth(M),w.findResultEdges(),l.add(w),r.add(w.getDirectedEdges(),w.getNodes())}}},{key:"createSubgraphs",value:function(n){for(var r=new je,l=n.getNodes().iterator();l.hasNext();){var p=l.next();if(!p.isVisited()){var w=new Ki;w.create(p),r.add(w)}}return Tr.sort(r,Tr.reverseOrder()),r}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(n){if(this._workingNoder!==null)return this._workingNoder;var r=new zo,l=new Ai;return l.setPrecisionModel(n),r.setSegmentIntersector(new cs(l)),r}},{key:"buffer",value:function(n,r){var l=this._workingPrecisionModel;l===null&&(l=n.getPrecisionModel()),this._geomFact=n.getFactory();var p=new Vs(l,this._bufParams),w=new qo(n,r,p).getCurves();if(w.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(w,l),this._graph=new Ia(new ls),this._graph.addEdges(this._edgeList.getEdges());var S=this.createSubgraphs(this._graph),M=new td(this._geomFact);this.buildSubgraphs(S,M);var V=M.getPolygons();return V.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(V)}},{key:"computeNodedEdges",value:function(n,r){var l=this.getNoder(r);l.computeNodes(n);for(var p=l.getNodedSubstrings().iterator();p.hasNext();){var w=p.next(),S=w.getCoordinates();if(S.length!==2||!S[0].equals2D(S[1])){var M=w.getData(),V=new cl(w.getCoordinates(),new Cn(M));this.insertUniqueEdge(V)}}}},{key:"setNoder",value:function(n){this._workingNoder=n}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Di;var n=arguments[0];this._bufParams=n}},{key:"depthDelta",value:function(n){var r=n.getLocation(0,U.LEFT),l=n.getLocation(0,U.RIGHT);return r===N.INTERIOR&&l===N.EXTERIOR?1:r===N.EXTERIOR&&l===N.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(n){for(var r=new mi,l=new je;n.hasNext();){var p=n.next(),w=r.createLineString(p.getCoordinates());l.add(w)}return r.buildGeometry(l)}}])})(),fd=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"rescale",value:function(){if(re(arguments[0],ee))for(var n=arguments[0].iterator();n.hasNext();){var r=n.next();this.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var l=arguments[0],p=0;p<l.length;p++)l[p].x=l[p].x/this._scaleFactor+this._offsetX,l[p].y=l[p].y/this._scaleFactor+this._offsetY;l.length===2&&l[0].equals2D(l[1])&&Jn.out.println(l)}}},{key:"scale",value:function(){if(re(arguments[0],ee)){for(var n=arguments[0],r=new je(n.size()),l=n.iterator();l.hasNext();){var p=l.next();r.add(new Ri(this.scale(p.getCoordinates()),p.getData()))}return r}if(arguments[0]instanceof Array){for(var w=arguments[0],S=new Array(w.length).fill(null),M=0;M<w.length;M++)S[M]=new K(Math.round((w[M].x-this._offsetX)*this._scaleFactor),Math.round((w[M].y-this._offsetY)*this._scaleFactor),w[M].getZ());return Kt.removeRepeatedPoints(S)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var n=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(n),n}},{key:"computeNodes",value:function(n){var r=n;this._isScaled&&(r=this.scale(n)),this._noder.computeNodes(r)}},{key:"interfaces_",get:function(){return[Fo]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var n=arguments[0],r=arguments[1];c.constructor_.call(this,n,r,0,0)}else if(arguments.length===4){var l=arguments[0],p=arguments[1];this._noder=l,this._scaleFactor=p,this._isScaled=!this.isIntegerPrecision()}}}])})(),bi=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next().getCoordinates();this.checkEndPtVertexIntersections(r[0],this._segStrings),this.checkEndPtVertexIntersections(r[r.length-1],this._segStrings)}else if(arguments.length===2){for(var l=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var w=p.next().getCoordinates(),S=1;S<w.length-1;S++)if(w[S].equals(l))throw new Fe("found endpt/interior pt intersection at index "+S+" :pt "+l)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var r=n.next(),l=this._segStrings.iterator();l.hasNext();){var p=l.next();this.checkInteriorIntersections(r,p)}else if(arguments.length===2)for(var w=arguments[0],S=arguments[1],M=w.getCoordinates(),V=S.getCoordinates(),Q=0;Q<M.length-1;Q++)for(var le=0;le<V.length-1;le++)this.checkInteriorIntersections(w,Q,S,le);else if(arguments.length===4){var pe=arguments[0],Pe=arguments[1],Ue=arguments[2],We=arguments[3];if(pe===Ue&&Pe===We)return null;var Je=pe.getCoordinates()[Pe],vt=pe.getCoordinates()[Pe+1],ft=Ue.getCoordinates()[We],Ot=Ue.getCoordinates()[We+1];if(this._li.computeIntersection(Je,vt,ft,Ot),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Je,vt)||this.hasInteriorIntersection(this._li,ft,Ot)))throw new Fe("found non-noded intersection at "+Je+"-"+vt+" and "+ft+"-"+Ot)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkCollapses(r)}else if(arguments.length===1)for(var l=arguments[0].getCoordinates(),p=0;p<l.length-2;p++)this.checkCollapse(l[p],l[p+1],l[p+2])}},{key:"hasInteriorIntersection",value:function(n,r,l){for(var p=0;p<n.getIntersectionNum();p++){var w=n.getIntersection(p);if(!w.equals(r)&&!w.equals(l))return!0}return!1}},{key:"checkCollapse",value:function(n,r,l){if(n.equals(l))throw new Fe("found non-noded collapse at "+c.fact.createLineString([n,r,l]))}}],[{key:"constructor_",value:function(){this._li=new Ai,this._segStrings=null;var n=arguments[0];this._segStrings=n}}])})();bi.fact=new mi;var jo=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"intersectsScaled",value:function(n,r){var l=Math.min(n.x,r.x),p=Math.max(n.x,r.x),w=Math.min(n.y,r.y),S=Math.max(n.y,r.y),M=this._maxx<l||this._minx>p||this._maxy<w||this._miny>S;if(M)return!1;var V=this.intersectsToleranceSquare(n,r);return Oe.isTrue(!(M&&V),"Found bad envelope test"),V}},{key:"initCorners",value:function(n){var r=.5;this._minx=n.x-r,this._maxx=n.x+r,this._miny=n.y-r,this._maxy=n.y+r,this._corner[0]=new K(this._maxx,this._maxy),this._corner[1]=new K(this._minx,this._maxy),this._corner[2]=new K(this._minx,this._miny),this._corner[3]=new K(this._maxx,this._miny)}},{key:"intersects",value:function(n,r){return this._scaleFactor===1?this.intersectsScaled(n,r):(this.copyScaled(n,this._p0Scaled),this.copyScaled(r,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(n){return Math.round(n*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(n,r){r.x=this.scale(n.x),r.y=this.scale(n.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var n=c.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ae(this._originalPt.x-n,this._originalPt.x+n,this._originalPt.y-n,this._originalPt.y+n)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(n,r){return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(n,r){var l=!1,p=!1;return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(l=!0),this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!l||!p)||!!n.equals(this._pt)||!!r.equals(this._pt))))}},{key:"addSnappedNode",value:function(n,r){var l=n.getCoordinate(r),p=n.getCoordinate(r+1);return!!this.intersects(l,p)&&(n.addIntersection(this.getCoordinate(),r),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var n=arguments[0],r=arguments[1],l=arguments[2];if(this._originalPt=n,this._pt=n,this._scaleFactor=r,this._li=l,r<=0)throw new x("Scale factor must be non-zero");r!==1&&(this._pt=new K(this.scale(n.x),this.scale(n.y)),this._p0Scaled=new K,this._p1Scaled=new K),this.initCorners(this._pt)}}])})();jo.SAFE_ENV_EXPANSION_FACTOR=.75;var ds=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var c=arguments[1];arguments[0].getLineSegment(c,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new zn}}])})(),dl=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var c=arguments[0];return this.snap(c,null,-1)}if(arguments.length===3){var n=arguments[0],r=arguments[1],l=arguments[2],p=n.getSafeEnvelope(),w=new wi(n,r,l);return this._index.query(p,new((function(){return h((function S(){i(this,S)}),[{key:"interfaces_",get:function(){return[tl]}},{key:"visitItem",value:function(S){S.select(p,w)}}])})())),w.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var c=arguments[0];this._index=c}}])})(),wi=(function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),h(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Bo))return O(n,"select",this,1).apply(this,arguments);var r=arguments[1],l=arguments[0].getContext();if(this._parentEdge===l&&(r===this._hotPixelVertexIndex||r+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(l,r)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var r=arguments[0],l=arguments[1],p=arguments[2];this._hotPixel=r,this._parentEdge=l,this._hotPixelVertexIndex=p}}])})(ds);dl.HotPixelSnapAction=wi;var Da=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(c,n,r,l){if(c===r&&n===l)return null;var p=c.getCoordinates()[n],w=c.getCoordinates()[n+1],S=r.getCoordinates()[l],M=r.getCoordinates()[l+1];if(this._li.computeIntersection(p,w,S,M),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var V=0;V<this._li.getIntersectionNum();V++)this._interiorIntersections.add(this._li.getIntersection(V));c.addIntersections(this._li,n,0),r.addIntersections(this._li,l,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[ul]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var c=arguments[0];this._li=c,this._interiorIntersections=new je}}])})(),fl=(function(){return h((function c(){i(this,c),c.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(c){var n=Ri.getNodedSubstrings(c),r=new bi(n);try{r.checkValid()}catch(l){if(!(l instanceof _))throw l;l.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Ri.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(c,n){var r=this.findInteriorIntersections(c,n);this.computeIntersectionSnaps(r),this.computeVertexSnaps(c)}},{key:"findInteriorIntersections",value:function(c,n){var r=new Da(n);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(c),r.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(re(arguments[0],ee))for(var c=arguments[0].iterator();c.hasNext();){var n=c.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Ri)for(var r=arguments[0],l=r.getCoordinates(),p=0;p<l.length;p++){var w=new jo(l[p],this._scaleFactor,this._li);this._pointSnapper.snap(w,r,p)&&r.addIntersection(l[p],p)}}},{key:"computeNodes",value:function(c){this._nodedSegStrings=c,this._noder=new zo,this._pointSnapper=new dl(this._noder.getIndex()),this.snapRound(c,this._li)}},{key:"computeIntersectionSnaps",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next(),l=new jo(r,this._scaleFactor,this._li);this._pointSnapper.snap(l)}}},{key:"interfaces_",get:function(){return[Fo]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var c=arguments[0];this._pm=c,this._li=new Ai,this._li.setPrecisionModel(c),this._scaleFactor=c.getScale()}}])})(),rr=(function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"bufferFixedPrecision",value:function(n){var r=new fd(new fl(new kn(1)),n.getScale()),l=new Ra(this._bufParams);l.setWorkingPrecisionModel(n),l.setNoder(r),this._resultGeometry=l.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var n=c.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision(n)}catch(w){if(!(w instanceof hn))throw w;this._saveException=w}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var r=arguments[0],l=c.precisionScaleFactor(this._argGeom,this._distance,r),p=new kn(l);this.bufferFixedPrecision(p)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var n=this._argGeom.getFactory().getPrecisionModel();n.getType()===kn.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(n){this._bufParams.setQuadrantSegments(n)}},{key:"bufferOriginalPrecision",value:function(){try{var n=new Ra(this._bufParams);this._resultGeometry=n.buffer(this._argGeom,this._distance)}catch(r){if(!(r instanceof Fe))throw r;this._saveException=r}}},{key:"getResultGeometry",value:function(n){return this._distance=n,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(n){this._bufParams.setEndCapStyle(n)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new q,this._resultGeometry=null,this._saveException=null,arguments.length===1){var n=arguments[0];this._argGeom=n}else if(arguments.length===2){var r=arguments[0],l=arguments[1];this._argGeom=r,this._bufParams=l}}},{key:"bufferOp",value:function(){if(arguments.length===2){var n=arguments[1];return new c(arguments[0]).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ne&&typeof arguments[1]=="number"){var r=arguments[1],l=arguments[2],p=new c(arguments[0]);return p.setQuadrantSegments(l),p.getResultGeometry(r)}if(arguments[2]instanceof q&&arguments[0]instanceof Ne&&typeof arguments[1]=="number"){var w=arguments[1];return new c(arguments[0],arguments[2]).getResultGeometry(w)}}else if(arguments.length===4){var S=arguments[1],M=arguments[2],V=arguments[3],Q=new c(arguments[0]);return Q.setQuadrantSegments(M),Q.setEndCapStyle(V),Q.getResultGeometry(S)}}},{key:"precisionScaleFactor",value:function(n,r,l){var p=n.getEnvelopeInternal(),w=ns.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(r>0?r:0),S=l-Math.trunc(Math.log(w)/Math.log(10)+1);return Math.pow(10,S)}}])})();rr.CAP_ROUND=q.CAP_ROUND,rr.CAP_BUTT=q.CAP_FLAT,rr.CAP_FLAT=q.CAP_FLAT,rr.CAP_SQUARE=q.CAP_SQUARE,rr.MAX_PRECISION_DIGITS=12;var Ba=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Fa=(function(){return h((function c(n){i(this,c),this.geometryFactory=n||new mi}),[{key:"read",value:function(c){var n,r=(n=typeof c=="string"?JSON.parse(c):c).type;if(!Ln[r])throw new Error("Unknown GeoJSON type: "+n.type);return Ba.indexOf(r)!==-1?Ln[r].call(this,n.coordinates):r==="GeometryCollection"?Ln[r].call(this,n.geometries):Ln[r].call(this,n)}},{key:"write",value:function(c){var n=c.getGeometryType();if(!En[n])throw new Error("Geometry is not supported");return En[n].call(this,c)}}])})(),Ln={Feature:function(c){var n={};for(var r in c)n[r]=c[r];if(c.geometry){var l=c.geometry.type;if(!Ln[l])throw new Error("Unknown GeoJSON type: "+c.type);n.geometry=this.read(c.geometry)}return c.bbox&&(n.bbox=Ln.bbox.call(this,c.bbox)),n},FeatureCollection:function(c){var n={};if(c.features){n.features=[];for(var r=0;r<c.features.length;++r)n.features.push(this.read(c.features[r]))}return c.bbox&&(n.bbox=this.parse.bbox.call(this,c.bbox)),n},coordinates:function(c){for(var n=[],r=0;r<c.length;++r){var l=c[r];n.push(u(K,B(l)))}return n},bbox:function(c){return this.geometryFactory.createLinearRing([new K(c[0],c[1]),new K(c[2],c[1]),new K(c[2],c[3]),new K(c[0],c[3]),new K(c[0],c[1])])},Point:function(c){var n=u(K,B(c));return this.geometryFactory.createPoint(n)},MultiPoint:function(c){for(var n=[],r=0;r<c.length;++r)n.push(Ln.Point.call(this,c[r]));return this.geometryFactory.createMultiPoint(n)},LineString:function(c){var n=Ln.coordinates.call(this,c);return this.geometryFactory.createLineString(n)},MultiLineString:function(c){for(var n=[],r=0;r<c.length;++r)n.push(Ln.LineString.call(this,c[r]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(c){for(var n=Ln.coordinates.call(this,c[0]),r=this.geometryFactory.createLinearRing(n),l=[],p=1;p<c.length;++p){var w=c[p],S=Ln.coordinates.call(this,w),M=this.geometryFactory.createLinearRing(S);l.push(M)}return this.geometryFactory.createPolygon(r,l)},MultiPolygon:function(c){for(var n=[],r=0;r<c.length;++r){var l=c[r];n.push(Ln.Polygon.call(this,l))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(c){for(var n=[],r=0;r<c.length;++r){var l=c[r];n.push(this.read(l))}return this.geometryFactory.createGeometryCollection(n)}},En={coordinate:function(c){var n=[c.x,c.y];return c.z&&n.push(c.z),c.m&&n.push(c.m),n},Point:function(c){return{type:"Point",coordinates:En.coordinate.call(this,c.getCoordinate())}},MultiPoint:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=En.Point.call(this,l);n.push(p.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(c){for(var n=[],r=c.getCoordinates(),l=0;l<r.length;++l){var p=r[l];n.push(En.coordinate.call(this,p))}return{type:"LineString",coordinates:n}},MultiLineString:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=En.LineString.call(this,l);n.push(p.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(c){var n=[],r=En.LineString.call(this,c._shell);n.push(r.coordinates);for(var l=0;l<c._holes.length;++l){var p=c._holes[l],w=En.LineString.call(this,p);n.push(w.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=En.Polygon.call(this,l);n.push(p.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var l=c._geometries[r],p=l.getGeometryType();n.push(En[p].call(this,l))}return{type:"GeometryCollection",geometries:n}}};return{BufferOp:rr,GeoJSONReader:(function(){return h((function c(n){i(this,c),this.parser=new Fa(n||new mi)}),[{key:"read",value:function(c){return this.parser.read(c)}}])})(),GeoJSONWriter:(function(){return h((function c(){i(this,c),this.parser=new Fa(this.geometryFactory)}),[{key:"write",value:function(c){return this.parser.write(c)}}])})()}}))})($l)),$l.exports}var QT=JT();const eS=Lh(QT);function Ms(){return new mc}function mc(){this.reset()}mc.prototype={constructor:mc,reset:function(){this.s=this.t=0},add:function(e){Hm(Pl,e,this.t),Hm(this,Pl.s,this.s),this.s?this.t+=Pl.t:this.s=Pl.t},valueOf:function(){return this.s}};var Pl=new mc;function Hm(e,t,s){var a=e.s=t+s,i=a-t,u=a-i;e.t=t-u+(s-i)}var Ft=1e-6,Lt=Math.PI,fr=Lt/2,qm=Lt/4,yr=Lt*2,ms=180/Lt,xi=Lt/180,bn=Math.abs,tS=Math.atan,co=Math.atan2,Zt=Math.cos,Yt=Math.sin,wo=Math.sqrt;function Gy(e){return e>1?0:e<-1?Lt:Math.acos(e)}function pa(e){return e>1?fr:e<-1?-fr:Math.asin(e)}function su(){}function gc(e,t){e&&Wm.hasOwnProperty(e.type)&&Wm[e.type](e,t)}var jm={Feature:function(e,t){gc(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,a=-1,i=s.length;++a<i;)gc(s[a].geometry,t)}},Wm={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,a=-1,i=s.length;++a<i;)e=s[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){bf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,a=-1,i=s.length;++a<i;)bf(s[a],t,0)},Polygon:function(e,t){Zm(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,a=-1,i=s.length;++a<i;)Zm(s[a],t)},GeometryCollection:function(e,t){for(var s=e.geometries,a=-1,i=s.length;++a<i;)gc(s[a],t)}};function bf(e,t,s){var a=-1,i=e.length-s,u;for(t.lineStart();++a<i;)u=e[a],t.point(u[0],u[1],u[2]);t.lineEnd()}function Zm(e,t){var s=-1,a=e.length;for(t.polygonStart();++s<a;)bf(e[s],t,1);t.polygonEnd()}function nS(e,t){e&&jm.hasOwnProperty(e.type)?jm[e.type](e,t):gc(e,t)}Ms();Ms();function wf(e){return[co(e[1],e[0]),pa(e[2])]}function fo(e){var t=e[0],s=e[1],a=Zt(s);return[a*Zt(t),a*Yt(t),Yt(s)]}function Il(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _c(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Dd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Nl(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function kf(e){var t=wo(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Ms();function Uy(e,t){function s(a,i){return a=e(a,i),t(a[0],a[1])}return e.invert&&t.invert&&(s.invert=function(a,i){return a=t.invert(a,i),a&&e.invert(a[0],a[1])}),s}function Lf(e,t){return[e>Lt?e-yr:e<-Lt?e+yr:e,t]}Lf.invert=Lf;function iS(e,t,s){return(e%=yr)?t||s?Uy(Xm(e),Km(t,s)):Xm(e):t||s?Km(t,s):Lf}function Ym(e){return function(t,s){return t+=e,[t>Lt?t-yr:t<-Lt?t+yr:t,s]}}function Xm(e){var t=Ym(e);return t.invert=Ym(-e),t}function Km(e,t){var s=Zt(e),a=Yt(e),i=Zt(t),u=Yt(t);function d(h,m){var y=Zt(m),v=Zt(h)*y,b=Yt(h)*y,T=Yt(m),P=T*s+v*a;return[co(b*i-P*u,v*s-T*a),pa(P*i+b*u)]}return d.invert=function(h,m){var y=Zt(m),v=Zt(h)*y,b=Yt(h)*y,T=Yt(m),P=T*i-b*u;return[co(b*i+T*u,v*s+P*a),pa(P*s-v*a)]},d}function rS(e,t,s,a,i,u){if(s){var d=Zt(t),h=Yt(t),m=a*s;i==null?(i=t+a*yr,u=t-m/2):(i=Jm(d,i),u=Jm(d,u),(a>0?i<u:i>u)&&(i+=a*yr));for(var y,v=i;a>0?v>u:v<u;v-=m)y=wf([d,-h*Zt(v),-h*Yt(v)]),e.point(y[0],y[1])}}function Jm(e,t){t=fo(t),t[0]-=e,kf(t);var s=Gy(-t[1]);return((-t[2]<0?-s:s)+yr-Ft)%yr}function $y(){var e=[],t;return{point:function(s,a){t.push([s,a])},lineStart:function(){e.push(t=[])},lineEnd:su,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function sS(e,t,s,a,i,u){var d=e[0],h=e[1],m=t[0],y=t[1],v=0,b=1,T=m-d,P=y-h,O;if(O=s-d,!(!T&&O>0)){if(O/=T,T<0){if(O<v)return;O<b&&(b=O)}else if(T>0){if(O>b)return;O>v&&(v=O)}if(O=i-d,!(!T&&O<0)){if(O/=T,T<0){if(O>b)return;O>v&&(v=O)}else if(T>0){if(O<v)return;O<b&&(b=O)}if(O=a-h,!(!P&&O>0)){if(O/=P,P<0){if(O<v)return;O<b&&(b=O)}else if(P>0){if(O>b)return;O>v&&(v=O)}if(O=u-h,!(!P&&O<0)){if(O/=P,P<0){if(O>b)return;O>v&&(v=O)}else if(P>0){if(O<v)return;O<b&&(b=O)}return v>0&&(e[0]=d+v*T,e[1]=h+v*P),b<1&&(t[0]=d+b*T,t[1]=h+b*P),!0}}}}}function Vl(e,t){return bn(e[0]-t[0])<Ft&&bn(e[1]-t[1])<Ft}function Ml(e,t,s,a){this.x=e,this.z=t,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Vy(e,t,s,a,i){var u=[],d=[],h,m;if(e.forEach(function(O){if(!((B=O.length-1)<=0)){var B,z=O[0],R=O[B],$;if(Vl(z,R)){for(i.lineStart(),h=0;h<B;++h)i.point((z=O[h])[0],z[1]);i.lineEnd();return}u.push($=new Ml(z,O,null,!0)),d.push($.o=new Ml(z,null,$,!1)),u.push($=new Ml(R,O,null,!1)),d.push($.o=new Ml(R,null,$,!0))}}),!!u.length){for(d.sort(t),Qm(u),Qm(d),h=0,m=d.length;h<m;++h)d[h].e=s=!s;for(var y=u[0],v,b;;){for(var T=y,P=!0;T.v;)if((T=T.n)===y)return;v=T.z,i.lineStart();do{if(T.v=T.o.v=!0,T.e){if(P)for(h=0,m=v.length;h<m;++h)i.point((b=v[h])[0],b[1]);else a(T.x,T.n.x,1,i);T=T.n}else{if(P)for(v=T.p.z,h=v.length-1;h>=0;--h)i.point((b=v[h])[0],b[1]);else a(T.x,T.p.x,-1,i);T=T.p}T=T.o,v=T.z,P=!P}while(!T.v);i.lineEnd()}}}function Qm(e){if(t=e.length){for(var t,s=0,a=e[0],i;++s<t;)a.n=i=e[s],i.p=a,a=i;a.n=i=e[0],i.p=a}}function Hy(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aS(e){return e.length===1&&(e=oS(e)),{left:function(t,s,a,i){for(a==null&&(a=0),i==null&&(i=t.length);a<i;){var u=a+i>>>1;e(t[u],s)<0?a=u+1:i=u}return a},right:function(t,s,a,i){for(a==null&&(a=0),i==null&&(i=t.length);a<i;){var u=a+i>>>1;e(t[u],s)>0?i=u:a=u+1}return a}}}function oS(e){return function(t,s){return Hy(e(t),s)}}aS(Hy);function qy(e){for(var t=e.length,s,a=-1,i=0,u,d;++a<t;)i+=e[a].length;for(u=new Array(i);--t>=0;)for(d=e[t],s=d.length;--s>=0;)u[--i]=d[s];return u}var au=1e9,Ol=-au;function uS(e,t,s,a){function i(y,v){return e<=y&&y<=s&&t<=v&&v<=a}function u(y,v,b,T){var P=0,O=0;if(y==null||(P=d(y,b))!==(O=d(v,b))||m(y,v)<0^b>0)do T.point(P===0||P===3?e:s,P>1?a:t);while((P=(P+b+4)%4)!==O);else T.point(v[0],v[1])}function d(y,v){return bn(y[0]-e)<Ft?v>0?0:3:bn(y[0]-s)<Ft?v>0?2:1:bn(y[1]-t)<Ft?v>0?1:0:v>0?3:2}function h(y,v){return m(y.x,v.x)}function m(y,v){var b=d(y,1),T=d(v,1);return b!==T?b-T:b===0?v[1]-y[1]:b===1?y[0]-v[0]:b===2?y[1]-v[1]:v[0]-y[0]}return function(y){var v=y,b=$y(),T,P,O,B,z,R,$,q,_,x,k,C={point:F,lineStart:X,lineEnd:W,polygonStart:A,polygonEnd:Y};function F(te,G){i(te,G)&&v.point(te,G)}function D(){for(var te=0,G=0,ae=P.length;G<ae;++G)for(var se=P[G],ve=1,ce=se.length,ke=se[0],Fe,$e,Oe=ke[0],Ee=ke[1];ve<ce;++ve)Fe=Oe,$e=Ee,ke=se[ve],Oe=ke[0],Ee=ke[1],$e<=a?Ee>a&&(Oe-Fe)*(a-$e)>(Ee-$e)*(e-Fe)&&++te:Ee<=a&&(Oe-Fe)*(a-$e)<(Ee-$e)*(e-Fe)&&--te;return te}function A(){v=b,T=[],P=[],k=!0}function Y(){var te=D(),G=k&&te,ae=(T=qy(T)).length;(G||ae)&&(y.polygonStart(),G&&(y.lineStart(),u(null,null,1,y),y.lineEnd()),ae&&Vy(T,h,te,u,y),y.polygonEnd()),v=y,T=P=O=null}function X(){C.point=j,P&&P.push(O=[]),x=!0,_=!1,$=q=NaN}function W(){T&&(j(B,z),R&&_&&b.rejoin(),T.push(b.result())),C.point=F,_&&v.lineEnd()}function j(te,G){var ae=i(te,G);if(P&&O.push([te,G]),x)B=te,z=G,R=ae,x=!1,ae&&(v.lineStart(),v.point(te,G));else if(ae&&_)v.point(te,G);else{var se=[$=Math.max(Ol,Math.min(au,$)),q=Math.max(Ol,Math.min(au,q))],ve=[te=Math.max(Ol,Math.min(au,te)),G=Math.max(Ol,Math.min(au,G))];sS(se,ve,e,t,s,a)?(_||(v.lineStart(),v.point(se[0],se[1])),v.point(ve[0],ve[1]),ae||v.lineEnd(),k=!1):ae&&(v.lineStart(),v.point(te,G),k=!1)}$=te,q=G,_=ae}return C}}var Bd=Ms();function lS(e,t){var s=t[0],a=t[1],i=[Yt(s),-Zt(s),0],u=0,d=0;Bd.reset();for(var h=0,m=e.length;h<m;++h)if(v=(y=e[h]).length)for(var y,v,b=y[v-1],T=b[0],P=b[1]/2+qm,O=Yt(P),B=Zt(P),z=0;z<v;++z,T=$,O=_,B=x,b=R){var R=y[z],$=R[0],q=R[1]/2+qm,_=Yt(q),x=Zt(q),k=$-T,C=k>=0?1:-1,F=C*k,D=F>Lt,A=O*_;if(Bd.add(co(A*C*Yt(F),B*x+A*Zt(F))),u+=D?k+C*yr:k,D^T>=s^$>=s){var Y=_c(fo(b),fo(R));kf(Y);var X=_c(i,Y);kf(X);var W=(D^k>=0?-1:1)*pa(X[2]);(a>W||a===W&&(Y[0]||Y[1]))&&(d+=D^k>=0?1:-1)}}return(u<-Ft||u<Ft&&Bd<-Ft)^d&1}Ms();function eg(e){return e}Ms();Ms();var ho=1/0,vc=ho,Du=-ho,yc=Du,tg={point:cS,lineStart:su,lineEnd:su,polygonStart:su,polygonEnd:su,result:function(){var e=[[ho,vc],[Du,yc]];return Du=yc=-(vc=ho=1/0),e}};function cS(e,t){e<ho&&(ho=e),e>Du&&(Du=e),t<vc&&(vc=t),t>yc&&(yc=t)}Ms();function jy(e,t,s,a){return function(i,u){var d=t(u),h=i.invert(a[0],a[1]),m=$y(),y=t(m),v=!1,b,T,P,O={point:B,lineStart:R,lineEnd:$,polygonStart:function(){O.point=q,O.lineStart=_,O.lineEnd=x,T=[],b=[]},polygonEnd:function(){O.point=B,O.lineStart=R,O.lineEnd=$,T=qy(T);var k=lS(b,h);T.length?(v||(u.polygonStart(),v=!0),Vy(T,fS,k,s,u)):k&&(v||(u.polygonStart(),v=!0),u.lineStart(),s(null,null,1,u),u.lineEnd()),v&&(u.polygonEnd(),v=!1),T=b=null},sphere:function(){u.polygonStart(),u.lineStart(),s(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function B(k,C){var F=i(k,C);e(k=F[0],C=F[1])&&u.point(k,C)}function z(k,C){var F=i(k,C);d.point(F[0],F[1])}function R(){O.point=z,d.lineStart()}function $(){O.point=B,d.lineEnd()}function q(k,C){P.push([k,C]);var F=i(k,C);y.point(F[0],F[1])}function _(){y.lineStart(),P=[]}function x(){q(P[0][0],P[0][1]),y.lineEnd();var k=y.clean(),C=m.result(),F,D=C.length,A,Y,X;if(P.pop(),b.push(P),P=null,!!D){if(k&1){if(Y=C[0],(A=Y.length-1)>0){for(v||(u.polygonStart(),v=!0),u.lineStart(),F=0;F<A;++F)u.point((X=Y[F])[0],X[1]);u.lineEnd()}return}D>1&&k&2&&C.push(C.pop().concat(C.shift())),T.push(C.filter(dS))}}return O}}function dS(e){return e.length>1}function fS(e,t){return((e=e.x)[0]<0?e[1]-fr-Ft:fr-e[1])-((t=t.x)[0]<0?t[1]-fr-Ft:fr-t[1])}const ng=jy(function(){return!0},hS,mS,[-Lt,-fr]);function hS(e){var t=NaN,s=NaN,a=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(u,d){var h=u>0?Lt:-Lt,m=bn(u-t);bn(m-Lt)<Ft?(e.point(t,s=(s+d)/2>0?fr:-fr),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(h,s),e.point(u,s),i=0):a!==h&&m>=Lt&&(bn(t-a)<Ft&&(t-=a*Ft),bn(u-h)<Ft&&(u-=h*Ft),s=pS(t,s,u,d),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(h,s),i=0),e.point(t=u,s=d),a=h},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-i}}}function pS(e,t,s,a){var i,u,d=Yt(e-s);return bn(d)>Ft?tS((Yt(t)*(u=Zt(a))*Yt(s)-Yt(a)*(i=Zt(t))*Yt(e))/(i*u*d)):(t+a)/2}function mS(e,t,s,a){var i;if(e==null)i=s*fr,a.point(-Lt,i),a.point(0,i),a.point(Lt,i),a.point(Lt,0),a.point(Lt,-i),a.point(0,-i),a.point(-Lt,-i),a.point(-Lt,0),a.point(-Lt,i);else if(bn(e[0]-t[0])>Ft){var u=e[0]<t[0]?Lt:-Lt;i=s*u/2,a.point(-u,i),a.point(0,i),a.point(u,i)}else a.point(t[0],t[1])}function gS(e,t){var s=Zt(e),a=s>0,i=bn(s)>Ft;function u(v,b,T,P){rS(P,e,t,T,v,b)}function d(v,b){return Zt(v)*Zt(b)>s}function h(v){var b,T,P,O,B;return{lineStart:function(){O=P=!1,B=1},point:function(z,R){var $=[z,R],q,_=d(z,R),x=a?_?0:y(z,R):_?y(z+(z<0?Lt:-Lt),R):0;if(!b&&(O=P=_)&&v.lineStart(),_!==P&&(q=m(b,$),(!q||Vl(b,q)||Vl($,q))&&($[0]+=Ft,$[1]+=Ft,_=d($[0],$[1]))),_!==P)B=0,_?(v.lineStart(),q=m($,b),v.point(q[0],q[1])):(q=m(b,$),v.point(q[0],q[1]),v.lineEnd()),b=q;else if(i&&b&&a^_){var k;!(x&T)&&(k=m($,b,!0))&&(B=0,a?(v.lineStart(),v.point(k[0][0],k[0][1]),v.point(k[1][0],k[1][1]),v.lineEnd()):(v.point(k[1][0],k[1][1]),v.lineEnd(),v.lineStart(),v.point(k[0][0],k[0][1])))}_&&(!b||!Vl(b,$))&&v.point($[0],$[1]),b=$,P=_,T=x},lineEnd:function(){P&&v.lineEnd(),b=null},clean:function(){return B|(O&&P)<<1}}}function m(v,b,T){var P=fo(v),O=fo(b),B=[1,0,0],z=_c(P,O),R=Il(z,z),$=z[0],q=R-$*$;if(!q)return!T&&v;var _=s*R/q,x=-s*$/q,k=_c(B,z),C=Nl(B,_),F=Nl(z,x);Dd(C,F);var D=k,A=Il(C,D),Y=Il(D,D),X=A*A-Y*(Il(C,C)-1);if(!(X<0)){var W=wo(X),j=Nl(D,(-A-W)/Y);if(Dd(j,C),j=wf(j),!T)return j;var te=v[0],G=b[0],ae=v[1],se=b[1],ve;G<te&&(ve=te,te=G,G=ve);var ce=G-te,ke=bn(ce-Lt)<Ft,Fe=ke||ce<Ft;if(!ke&&se<ae&&(ve=ae,ae=se,se=ve),Fe?ke?ae+se>0^j[1]<(bn(j[0]-te)<Ft?ae:se):ae<=j[1]&&j[1]<=se:ce>Lt^(te<=j[0]&&j[0]<=G)){var $e=Nl(D,(-A+W)/Y);return Dd($e,C),[j,wf($e)]}}}function y(v,b){var T=a?e:Lt-e,P=0;return v<-T?P|=1:v>T&&(P|=2),b<-T?P|=4:b>T&&(P|=8),P}return jy(d,h,u,a?[0,-e]:[-Lt,e-Lt])}function Wy(e){return function(t){var s=new Ef;for(var a in e)s[a]=e[a];return s.stream=t,s}}function Ef(){}Ef.prototype={constructor:Ef,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zy(e,t,s){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],u=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),u!=null&&e.clipExtent(null),nS(s,e.stream(tg));var d=tg.result(),h=Math.min(a/(d[1][0]-d[0][0]),i/(d[1][1]-d[0][1])),m=+t[0][0]+(a-h*(d[1][0]+d[0][0]))/2,y=+t[0][1]+(i-h*(d[1][1]+d[0][1]))/2;return u!=null&&e.clipExtent(u),e.scale(h*150).translate([m,y])}function _S(e,t,s){return Zy(e,[[0,0],t],s)}var ig=16,vS=Zt(30*xi);function rg(e,t){return+t?bS(e,t):yS(e)}function yS(e){return Wy({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function bS(e,t){function s(a,i,u,d,h,m,y,v,b,T,P,O,B,z){var R=y-a,$=v-i,q=R*R+$*$;if(q>4*t&&B--){var _=d+T,x=h+P,k=m+O,C=wo(_*_+x*x+k*k),F=pa(k/=C),D=bn(bn(k)-1)<Ft||bn(u-b)<Ft?(u+b)/2:co(x,_),A=e(D,F),Y=A[0],X=A[1],W=Y-a,j=X-i,te=$*W-R*j;(te*te/q>t||bn((R*W+$*j)/q-.5)>.3||d*T+h*P+m*O<vS)&&(s(a,i,u,d,h,m,Y,X,D,_/=C,x/=C,k,B,z),z.point(Y,X),s(Y,X,D,_,x,k,y,v,b,T,P,O,B,z))}}return function(a){var i,u,d,h,m,y,v,b,T,P,O,B,z={point:R,lineStart:$,lineEnd:_,polygonStart:function(){a.polygonStart(),z.lineStart=x},polygonEnd:function(){a.polygonEnd(),z.lineStart=$}};function R(F,D){F=e(F,D),a.point(F[0],F[1])}function $(){b=NaN,z.point=q,a.lineStart()}function q(F,D){var A=fo([F,D]),Y=e(F,D);s(b,T,v,P,O,B,b=Y[0],T=Y[1],v=F,P=A[0],O=A[1],B=A[2],ig,a),a.point(b,T)}function _(){z.point=R,a.lineEnd()}function x(){$(),z.point=k,z.lineEnd=C}function k(F,D){q(i=F,D),u=b,d=T,h=P,m=O,y=B,z.point=q}function C(){s(b,T,v,P,O,B,u,d,i,h,m,y,ig,a),z.lineEnd=_,_()}return z}}var wS=Wy({point:function(e,t){this.stream.point(e*xi,t*xi)}});function kS(e){return LS(function(){return e})()}function LS(e){var t,s=150,a=480,i=250,u,d,h=0,m=0,y=0,v=0,b=0,T,P,O=null,B=ng,z=null,R,$,q,_=eg,x=.5,k=rg(Y,x),C,F;function D(j){return j=P(j[0]*xi,j[1]*xi),[j[0]*s+u,d-j[1]*s]}function A(j){return j=P.invert((j[0]-u)/s,(d-j[1])/s),j&&[j[0]*ms,j[1]*ms]}function Y(j,te){return j=t(j,te),[j[0]*s+u,d-j[1]*s]}D.stream=function(j){return C&&F===j?C:C=wS(B(T,k(_(F=j))))},D.clipAngle=function(j){return arguments.length?(B=+j?gS(O=j*xi,6*xi):(O=null,ng),W()):O*ms},D.clipExtent=function(j){return arguments.length?(_=j==null?(z=R=$=q=null,eg):uS(z=+j[0][0],R=+j[0][1],$=+j[1][0],q=+j[1][1]),W()):z==null?null:[[z,R],[$,q]]},D.scale=function(j){return arguments.length?(s=+j,X()):s},D.translate=function(j){return arguments.length?(a=+j[0],i=+j[1],X()):[a,i]},D.center=function(j){return arguments.length?(h=j[0]%360*xi,m=j[1]%360*xi,X()):[h*ms,m*ms]},D.rotate=function(j){return arguments.length?(y=j[0]%360*xi,v=j[1]%360*xi,b=j.length>2?j[2]%360*xi:0,X()):[y*ms,v*ms,b*ms]},D.precision=function(j){return arguments.length?(k=rg(Y,x=j*j),W()):wo(x)},D.fitExtent=function(j,te){return Zy(D,j,te)},D.fitSize=function(j,te){return _S(D,j,te)};function X(){P=Uy(T=iS(y,v,b),t);var j=t(h,m);return u=a-j[0]*s,d=i+j[1]*s,W()}function W(){return C=F=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&A,X()}}function Yy(e){return function(t,s){var a=Zt(t),i=Zt(s),u=e(a*i);return[u*i*Yt(t),u*Yt(s)]}}function Xy(e){return function(t,s){var a=wo(t*t+s*s),i=e(a),u=Yt(i),d=Zt(i);return[co(t*u,a*d),pa(a&&s*u/a)]}}var ES=Yy(function(e){return wo(2/(1+e))});ES.invert=Xy(function(e){return 2*pa(e/2)});var Ky=Yy(function(e){return(e=Gy(e))&&e/Yt(e)});Ky.invert=Xy(function(e){return e});function xS(){return kS(Ky).scale(79.4188).clipAngle(180-.001)}function sg(e,t){return[e,t]}sg.invert=sg;var{BufferOp:TS,GeoJSONReader:SS,GeoJSONWriter:CS}=eS;function xf(e,t,s){s=s||{};var a=s.units||"kilometers",i=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var u=[];switch(e.type){case"GeometryCollection":return Wu(e,function(d){var h=Hl(d,t,a,i);h&&u.push(h)}),hc(u);case"FeatureCollection":return pc(e,function(d){var h=Hl(d,t,a,i);h&&pc(h,function(m){m&&u.push(m)})}),hc(u)}return Hl(e,t,a,i)}function Hl(e,t,s,a){var i=e.properties||{},u=e.type==="Feature"?e.geometry:e;if(u.type==="GeometryCollection"){var d=[];return Wu(e,function(B){var z=Hl(B,t,s,a);z&&d.push(z)}),hc(d)}var h=PS(u),m={type:u.type,coordinates:Qy(u.coordinates,h)},y=new SS,v=y.read(m),b=VT(HT(t,s),"meters"),T=TS.bufferOp(v,b,a),P=new CS;if(T=P.write(T),!Jy(T.coordinates)){var O={type:T.type,coordinates:e0(T.coordinates,h)};return Yc(O,i)}}function Jy(e){return Array.isArray(e[0])?Jy(e[0]):isNaN(e[0])}function Qy(e,t){return typeof e[0]!="object"?t(e):e.map(function(s){return Qy(s,t)})}function e0(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(s){return e0(s,t)})}function PS(e){var t=XT(e).geometry.coordinates,s=[-t[0],-t[1]];return xS().rotate(s).scale(ti)}function t0(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return n0(e);case"FeatureCollection":return IS(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Th(e);default:throw new Error("unknown GeoJSON type")}}function n0(e){const t={type:"Feature"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"properties":case"geometry":return;default:t[s]=e[s]}}),t.properties=i0(e.properties),e.geometry==null?t.geometry=null:t.geometry=Th(e.geometry),t}function i0(e){const t={};return e&&Object.keys(e).forEach(s=>{const a=e[s];typeof a=="object"?a===null?t[s]=null:Array.isArray(a)?t[s]=a.map(i=>i):t[s]=i0(a):t[s]=a}),t}function IS(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"features":return;default:t[s]=e[s]}}),t.features=e.features.map(s=>n0(s)),t}function Th(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(s=>Th(s)),t):(t.coordinates=r0(e.coordinates),t)}function r0(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(s=>r0(s))}function NS(e,t){if(t=t??{},!Eh(t))throw new Error("options is invalid");var s=t.precision,a=t.coordinates,i=t.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");(i===!1||i===void 0)&&(e=JSON.parse(JSON.stringify(e)));var u=Math.pow(10,s);return xh(e,function(d){MS(d,u,a)}),e}function MS(e,t,s){e.length>s&&e.splice(s,e.length);for(var a=0;a<e.length;a++)e[a]=Math.round(e[a]*t)/t;return e}function s0(e,t={}){var s,a;if(t=t||{},!Eh(t))throw new Error("options is invalid");const i=(s=t.mutate)!=null?s:!1,u=(a=t.reverse)!=null?a:!1;if(!e)throw new Error("<geojson> is required");if(typeof u!="boolean")throw new Error("<reverse> must be a boolean");if(typeof i!="boolean")throw new Error("<mutate> must be a boolean");!i&&e.type!=="Point"&&e.type!=="MultiPoint"&&(e=t0(e));const d=[];switch(e.type){case"GeometryCollection":return Wu(e,function(h){ql(h,u)}),e;case"FeatureCollection":return pc(e,function(h){const m=ql(h,u);pc(m,function(y){d.push(y)})}),hc(d)}return ql(e,u)}function ql(e,t){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return Wu(e,function(a){ql(a,t)}),e;case"LineString":return ag(dr(e),t),e;case"Polygon":return og(dr(e),t),e;case"MultiLineString":return dr(e).forEach(function(a){ag(a,t)}),e;case"MultiPolygon":return dr(e).forEach(function(a){og(a,t)}),e;case"Point":case"MultiPoint":return e}}function ag(e,t){Ru(e)===t&&e.reverse()}function og(e,t){Ru(e[0])!==t&&e[0].reverse();for(let s=1;s<e.length;s++)Ru(e[s])===t&&e[s].reverse()}function OS(e,t){var s=e[0]-t[0],a=e[1]-t[1];return s*s+a*a}function AS(e,t,s){var a=t[0],i=t[1],u=s[0]-a,d=s[1]-i;if(u!==0||d!==0){var h=((e[0]-a)*u+(e[1]-i)*d)/(u*u+d*d);h>1?(a=s[0],i=s[1]):h>0&&(a+=u*h,i+=d*h)}return u=e[0]-a,d=e[1]-i,u*u+d*d}function RS(e,t){for(var s=e[0],a=[s],i,u=1,d=e.length;u<d;u++)i=e[u],OS(i,s)>t&&(a.push(i),s=i);return s!==i&&a.push(i),a}function Tf(e,t,s,a,i){for(var u=a,d,h=t+1;h<s;h++){var m=AS(e[h],e[t],e[s]);m>u&&(d=h,u=m)}u>a&&(d-t>1&&Tf(e,t,d,a,i),i.push(e[d]),s-d>1&&Tf(e,d,s,a,i))}function DS(e,t){var s=e.length-1,a=[e[0]];return Tf(e,0,s,t,a),a.push(e[s]),a}function bc(e,t,s){if(e.length<=2)return e;var a=t!==void 0?t*t:1;return e=s?e:RS(e,a),e=DS(e,a),e}function Sf(e,t={}){var s,a,i;if(t=t??{},!Eh(t))throw new Error("options is invalid");const u=(s=t.tolerance)!=null?s:1,d=(a=t.highQuality)!=null?a:!1,h=(i=t.mutate)!=null?i:!1;if(!e)throw new Error("geojson is required");if(u&&u<0)throw new Error("invalid tolerance");return h!==!0&&(e=t0(e)),Wu(e,function(m){BS(m,u,d)}),e}function BS(e,t,s){const a=e.type;if(a==="Point"||a==="MultiPoint")return e;if(YT(e,{mutate:!0}),a!=="GeometryCollection")switch(a){case"LineString":e.coordinates=bc(e.coordinates,t,s);break;case"MultiLineString":e.coordinates=e.coordinates.map(i=>bc(i,t,s));break;case"Polygon":e.coordinates=ug(e.coordinates,t,s);break;case"MultiPolygon":e.coordinates=e.coordinates.map(i=>ug(i,t,s))}return e}function ug(e,t,s){return e.map(function(a){if(a.length<4)throw new Error("invalid polygon");let i=t,u=bc(a,i,s);for(;!lg(u)&&i>=Number.EPSILON;)i-=i*.01,u=bc(a,i,s);return lg(u)?((u[u.length-1][0]!==u[0][0]||u[u.length-1][1]!==u[0][1])&&u.push(u[0]),u):a})}function lg(e){return e.length<3?!1:!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}function FS(e,t,s,a){let i=Wn.stringify(e);if(s=="marker"||s=="polyline"){const u=xf(e,a);i=Wn.stringify(u)}if(s=="circle"){const u=xf(e,t/1e3);i=Wn.stringify(u)}return i}function zS(e){const t=localStorage.getItem("mapState");if(t){const s=JSON.parse(t);e.setView([s.center.lat,s.center.lng],s.zoom)}else e.setView([44.5,6.05],2)}function GS(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}function cg(){return window.innerWidth<=576}class US extends Zc{constructor(t){super("GBIF",Ni.gbif)}isCompatible(t){return t.referential===bo.GBIF}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const a=`${s.GBIF_ENDPOINT}/species/${t}/media`;return fetch(a).then(i=>i.json()).then(i=>{let u=this.processMedia(i.results);return u.length===0?this.fetchMediaOccurence(t,s.GBIF_ENDPOINT):u})}fetchSound(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const a=`${s.GBIF_ENDPOINT}/occurrence/search?limit=10&mediaType=Sound&speciesKey=${t}`;return fetch(a).then(i=>i.json()).then(i=>{if(i.results.length>0)for(let u of i.results)for(let d of u.media){const h=d.identifier.split(".").pop();if(!["png","jpg","jpeg","bmp","gif"].includes(h)){const m=(d==null?void 0:d.rightsHolder)||(d==null?void 0:d.creator);return[{url:d.identifier,typeMedia:Zn.sound,license:d.license,licenseUrl:d.license,urlSource:d==null?void 0:d.references,source:`${m} (${d.license})`,author:m}]}}return[]})}processMedia(t){return Object.values(t).filter(s=>s.hasOwnProperty("license")&&s.hasOwnProperty("rightsHolder")).map(s=>({url:s.identifier,license:s.license,source:`${s.rightsHolder} (${s.license})`,typeMedia:Zn.image,author:s.rightsHolder,urlSource:GS(s.source)?s.source:s.identifier}))}fetchMediaOccurence(t,s){const a=`${s}/occurrence/search?limit=10&mediaType=StillImage&speciesKey=${t}`;return fetch(a).then(i=>i.json()).then(i=>{const u=i.results.flatMap(d=>d.media);return this.processMedia(u)})}}function $S(e){return["jpg","png","gif","bmp","jpeg"].some(s=>e.endsWith(s))}class VS extends Zc{constructor(t){super("TaxHub",Ni.taxhub),this.type=null,this.type=null}fetchTypeMedia(t){return this.type!==null?Promise.resolve(this.type):fetch(`${t.API_ENDPOINT}/taxhub/api/tmedias/types`).then(s=>s.json()).then(s=>{const a=s.find(i=>i.nom_type_media==="Photo_principale");return this.type=a?a.id_type:-1,this.type}).catch(s=>(console.error("Failed to fetch media types:",s),this.type=-1,this.type))}fetchPicture(t,s){return this.fetchTypeMedia(s).then(a=>{const i=`${s.API_ENDPOINT}/taxhub/api/taxref/${t}?fields=medias`;return fetch(i).then(u=>u.json()).then(u=>{const d=Object.values((u==null?void 0:u.medias)||{});let h=d;return a!==null&&a!==-1&&(h=h.filter(m=>m.id_type===a)),h.length===0&&(h=d),h.filter(m=>m.is_public&&$S(m.media_url)).map(m=>({url:m.media_url,license:m.licence??m.auteur,source:m.auteur,typeMedia:"image",author:m.auteur,urlSource:m.url}))}).catch(u=>(console.error("Failed to fetch picture:",u),[]))})}isCompatible(t){return t.name===Xr.GeoNature}}class HS extends Zc{constructor(t){super("INPN",Ni.inpn)}fetchPicture(t,s){const a=`https://odata-inpn.mnhn.fr/photos/taxa?taxrefId=${t}&visibility=PUBLIC`;return fetch(a).then(i=>i.json()).then(i=>{var d;let u=[];try{const h=(d=i==null?void 0:i._embedded)==null?void 0:d.photos;return h&&Object.values(h).forEach(m=>{u.push({url:m._links.thumbnail.href,license:m.licence,source:m.copyright,typeMedia:Zn.image})}),u}catch(h){return console.error("Error parsing media data:",h),[]}})}isCompatible(t){return t.referential===bo.TAXREF}}const{GBIF:a0,TAXREF:o0}=bo;function dg(e,t){const s="https://query.wikidata.org/sparql",a=`SELECT ?item WHERE { ?item wdt:${e} "${t}" . }`;return fetch(s+"?format=json&query="+encodeURIComponent(a)).then(i=>i.json()).then(i=>i.results.bindings.length&&i.results.bindings[0].item.value.split("/").pop()||null)}function qS(e,t){const s=`https://commons.wikimedia.org/w/api.php?action=query&titles=File:${encodeURIComponent(e)}&prop=imageinfo&iiprop=url|extmetadata&format=json&origin=*`;return fetch(s).then(a=>a.json()).then(a=>{var y,v,b,T,P;const i=a.query.pages,u=Object.values(i)[0];if(!((y=u==null?void 0:u.imageinfo)!=null&&y.length))return[];const d=u.imageinfo[0],h=d.extmetadata||{},m={artist:((v=h.Artist)==null?void 0:v.value)||null,license:((b=h.LicenseShortName)==null?void 0:b.value)||null,creditLine:((T=h.Credit)==null?void 0:T.value)||null,licenseUrl:((P=h.LicenseUrl)==null?void 0:P.value)||null};return[{url:t===Zn.image?`https://commons.wikimedia.org/w/thumb.php?width=700&f=${e}`:d.url,source:`${m.artist?m.artist.replace(/<[^>]*>?/gm,""):""} - ${m.license}`,typeMedia:t,licenseUrl:m.licenseUrl,license:m.license,author:m.artist?m.artist.replace(/<[^>]*>?/gm,""):m.artist,urlSource:`https://commons.wikimedia.org/wiki/File:${e}`}]})}function fg(e,t,s){if(!e)return Promise.resolve([]);const a=`https://www.wikidata.org/wiki/Special:EntityData/${e}.json`;return fetch(a).then(i=>i.json()).then(i=>{const h=(i.entities[e].claims||{})[t]||[];if(!h.length)return[];const m=h[0].mainsnak.datavalue.value;return qS(m,s)})}function hg(e,t,s,a,i=null){if(!e)throw new Error("No taxonId given!");if(i)return fg(i,s,a);let u=null;switch(t.referential){case a0:u=dg("P846",e);break;case o0:u=dg("P3186",e);break}return u?u.then(d=>d?fg(d,s,a):[]):Promise.resolve([])}class jS extends Zc{constructor(){super("Wikidata",Ni.wikidata)}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error("Wikidata Image source is only compatible with GBIF and TAXREF connectors");return hg(t,s,"P18",Zn.image)}fetchSound(t,s){if(!this.isCompatible(s))throw new Error("Wikidata Sound source is only compatible with GBIF and TAXREF connectors");return hg(t,s,"P51",Zn.sound)}isCompatible(t){return[a0,o0].includes(t.referential)}}var Ni=(e=>(e.gbif="gbif",e.inpn="inpn",e.wikidata="wikidata",e.taxhub="taxhub",e))(Ni||{});function Ts(e,t={}){switch(e){case"gbif":return new US(t);case"inpn":return new HS(t);case"wikidata":return new jS;case"taxhub":return new VS(t);default:throw new Error("Unknown media source ID")}}class u0{scoring(t,s){return(a,i)=>{const u=this.getScore(a,t,s);return this.getScore(i,t,s)-u}}getScore(t,s,a){const i=t!=null&&t.vernacularName?`${t.vernacularName} ${t.acceptedScientificName}`:t.acceptedScientificName||"incertae sedis",u=s.toLowerCase();return i.toLowerCase().includes(u)?1:0}}const WS=190;class l0{constructor(t){this.taxonClass2SourceID={},this.isSearchOnAPIAvailable=!1,this.scoringSearchClass=new u0,this.options=t,this.imageSource=this.parseMediaSource(t==null?void 0:t.imageSource),this.soundSource=this.parseMediaSource(t==null?void 0:t.soundSource)}parseMediaSource(t){return typeof t=="string"?Ts(Ni[t]):t}getParamsSchema(){return{}}getParams(){const t={};return Object.entries(this).filter(([s,a])=>!["options","params","name","taxonClass2SourceID","referential","soundSource","imageSource"].includes(s)).filter(([s,a])=>typeof a!="object").forEach(([s,a])=>{t[s]=a}),this.soundSource&&(t.soundSource=this.soundSource.id),this.imageSource&&(t.imageSource=this.imageSource.id),t}fetchOccurrence(t){if(t.geometry.includes("POLYGON")||t.geometry.includes("MULTIPOLYGON")){const s=YS(Wn.parse(t.geometry),.001,WS);t.geometry=Wn.stringify(s)}return Promise.resolve({})}fetchTaxonInfo(t){throw new Error("Not implemented")}fetchTaxonStatus(t){throw new Error("Not implemented")}searchTaxon(t="",s={}){}getTaxonDetailPage(t){throw new Error("Not implemented")}fetchVernacularName(t){throw new Error("Not implemented")}sourceDetailMessage(){return null}getCompatibleMediaSource(){const t=[];return Object.values(Ni).forEach(s=>{const a=Ts(s);a.isCompatible(this)&&t.push({value:s,text:a.name})}),t}getSourceUrl(){return null}getDatasetUrl(t){return null}searchOnAPI(t){throw new Error("Not implemented")}}const po="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg";class ZS extends u0{scoring(t,s){return(a,i)=>{const u=this.getScore(a,t,s);return this.getScore(i,t,s)-u}}getScore(t,s,a){var m;let i=0;const u=s.toLowerCase(),d=t.acceptedScientificName.toLowerCase(),h=((m=t==null?void 0:t.vernacularName)==null?void 0:m.toLowerCase())||null;return u&&(h&&h===u?i+=2:h&&h.includes(u)&&(i+=1),d==u?i+=2:d.includes(u)&&(i+=1)),a.length>0&&a.forEach((y,v)=>{const b=y.scientificName.toLowerCase();y.nubKey==t.taxonId&&(i+=2),d.includes(b)&&(i+=2*(1/(v+1)))}),i}}const c0="https://api.gbif.org/v1",pg=300,mg=10;function gg(e={}){const t=new URL(`${c0}/occurrence/search`);return Object.entries(e).forEach(([s,a])=>{if(Array.isArray(a))for(const i of a)t.searchParams.append(s,i);else t.searchParams.append(s,a)}),fetch(t.toString()).then(s=>s.json())}class Cf extends l0{constructor(t){var s,a,i;super(t),this.name=Xr.GBIF,this.GBIF_ENDPOINT=((s=this.options)==null?void 0:s.GBIF_ENDPOINT)||c0,this.LIMIT=((a=this.options)==null?void 0:a.LIMIT)||pg,this.NB_PAGES=((i=this.options)==null?void 0:i.NB_PAGES)||mg,this.referential=bo.GBIF,this.imageSource=this.imageSource||Ts(Ni.wikidata),this.soundSource=this.soundSource||Ts(Ni.wikidata),this.taxonClass2SourceID={Aves:212,Mammalia:359,Reptilia:358,Amphibia:131,Insecta:216,Arachnida:367,Gastropoda:225,Bivalvia:137,Magnoliopsida:220,Liliopsida:196,Pinopsida:194},this.isSearchOnAPIAvailable=!0,this.scoringSearchClass=new ZS}getParamsSchema(){const{t}=Yi();return[{name:"GBIF_ENDPOINT",label:"Adresse de l'API du GBIF",type:String,default:"https://api.gbif.org/v1"},{name:"LIMIT",label:t("limit"),type:Number,default:pg},{name:"NB_PAGES",label:t("nbPages"),type:Number,default:mg}]}countOccurrence(t={}){return gg(t).then(s=>s.count)}fetchVernacularName(t){const s={en:"eng",fr:"fra",es:"spa",cs:"ces",it:"ita",de:"deu"},a=zt.getInstance().lang.value;return fetch(`${this.GBIF_ENDPOINT}/species/${t}/vernacularNames?limit=100`).then(i=>i.json()).then(i=>{const u=i.results.find(d=>d.language===s[a]);return u?u.vernacularName.charAt(0).toUpperCase()+u.vernacularName.slice(1):void 0})}fetchOccurrence(t={}){super.fetchOccurrence(t),t.geometry=Wn.stringify(XS(Wn.parse(t.geometry)));let s={limit:this.LIMIT,maxPage:this.NB_PAGES,occurrenceStatus:"PRESENT",basisOfRecord:["OBSERVATION","HUMAN_OBSERVATION","MACHINE_OBSERVATION","OCCURRENCE"],hasGeospatialIssue:!1,hasCoordinate:!0,...t};return s.dateMin&&s.dateMax&&(s.eventDate=`${s.dateMin},${s.dateMax}`),t!=null&&t.class&&(s={...s,classKey:this.taxonClass2SourceID[t==null?void 0:t.class]}),this.countOccurrence(s).then(a=>{const i=Math.min(Math.ceil(a/s.limit),s.maxPage),u={},d={},h=m=>{if(m>=i)return Promise.resolve();const y=m*s.limit;return gg({...s,offset:y}).then(v=>(v.results.forEach(b=>{b.datasetKey in d||(d[b.datasetKey]={uuid:b.datasetKey,name:b.datasetKey,nbObservations:0}),d[b.datasetKey].nbObservations+=1,u[b.taxonKey]||(u[b.taxonKey]={acceptedScientificName:b.acceptedScientificName,vernacularName:b.vernacularName,taxonId:b.taxonKey,mediaUrl:po,taxonRank:b.taxonRank,kingdom:b.kingdom,class:b.class,nbObservations:0,description:"",lastSeenDate:new Date(b.eventDate)}),u[b.taxonKey].nbObservations+=1,u[b.taxonKey].lastSeenDate=new Date(Math.max(new Date(b.eventDate).getTime(),u[b.taxonKey].lastSeenDate.getTime()))}),h(m+1)))};return h(0).then(()=>({taxons:Object.values(u),datasets:Object.values(d)}))})}fetchTaxonInfo(t){const s=`${this.GBIF_ENDPOINT}/species/${t}`;return fetch(s).then(a=>a.json()).then(a=>({scientificName:a.scientificName,vernacularName:a.vernacularName,rank:a.rank,taxonKey:a.key}))}fetchTaxonStatus(t){const s=`${this.GBIF_ENDPOINT}/species/${t}/iucnRedListCategory`;return fetch(s).then(a=>a.json()).then(a=>({iucnRedListCategory:a.category,code:a.code}))}searchTaxon(t="",s={}){const a=`${this.GBIF_ENDPOINT}/species/search?q=${t}&limit=20`;return fetch(a).then(i=>i.json()).then(i=>i.results.map(u=>({scientificName:u.scientificName,taxonKey:u.key})))}getTaxonDetailPage(t){return`https://www.gbif.org/species/${t}`}sourceDetailMessage(){return Yi().t("source.gbifWarning",{nbObs:this.LIMIT*this.NB_PAGES})}getSourceUrl(){return"https://www.gbif.org"}getDatasetUrl(t){return`${this.getSourceUrl()}/dataset/${t}`}searchOnAPI(t){return fetch(`${this.GBIF_ENDPOINT}/species/search?q=${t}&status=ACCEPTED&qField=VERNACULAR&limit=100`).then(s=>s.json()).then(s=>s.results)}}const _g="ALL";class d0 extends l0{constructor(t){var s;super(t),this.name=Xr.GeoNature,this.API_ENDPOINT=t==null?void 0:t.API_ENDPOINT,this.ID_EXPORT=(t==null?void 0:t.ID_EXPORT)??35,this.LIMIT=((s=this.options)==null?void 0:s.LIMIT)??_g,this.referential=bo.TAXREF,this.imageSource=this.imageSource??Ts(Ni.inpn),this.soundSource=this.soundSource??Ts(Ni.inpn),this.taxonClass2SourceID={Aves:null,Mammalia:null,Reptilia:null,Amphibia:null,Insecta:null,Arachnida:null,Gastropoda:null,Bivalvia:null,Magnoliopsida:null,Liliopsida:null,Pinopsida:null}}getParamsSchema(){const{t}=Yi();return[{name:"API_ENDPOINT",label:t("geonature.api_endpoint"),type:String,default:"https://demo.geonature.fr/geonature/api"},{name:"ID_EXPORT",label:t("geonature.id_export"),type:Number,default:35},{name:"LIMIT",label:t("limit"),type:Number,default:_g}]}fetchOccurrence(t={}){super.fetchOccurrence(t);let s=new URL(`${this.API_ENDPOINT}/exports/api/${this.ID_EXPORT}`);t={...t,limit:this.LIMIT,orderby:"date_min:desc"};for(const[i,u]of Object.entries(t))s.searchParams.append(i,u);t.class&&s.searchParams.append("classe",t.class);const a=s.toString();return fetch(a).then(i=>i.json()).then(i=>{let u={};return i.items.features.forEach(d=>{d=d.properties,u.hasOwnProperty(d.cd_ref)||(u[d.cd_ref]={acceptedScientificName:d.nom_scientifique,vernacularName:d.nom_vernaculaire,taxonId:d.cd_ref,mediaUrl:po,taxonRank:"",nbObservations:0,description:"",lastSeenDate:new Date(d.date_max),class:d.classe}),u[d.cd_ref].nbObservations+=1,u[d.cd_ref].lastSeenDate=new Date(Math.max(new Date(d.date_max).getTime(),u[d.cd_ref].lastSeenDate.getTime()))}),{taxons:Object.values(u),datasets:[]}})}fetchTaxonInfo(t){const s=`https://odata-inpn.mnhn.fr/taxa/${t}`;return fetch(s).then(a=>a.json()).then(a=>({scientificName:a.names.scientific,vernacularName:a.names.vernacular.fr[0],rank:a.rank,taxonKey:a.taxrefId}))}fetchTaxonStatus(t){const s=`https://taxref.mnhn.fr/api/taxa/${t}/status/columns`;return fetch(s).then(a=>a.json()).then(a=>{var i;return(i=a._embedded)==null?void 0:i.status})}getTaxonDetailPage(t){return`https://inpn.mnhn.fr/espece/cd_nom/${t}`}fetchVernacularName(t){return Promise.resolve(null)}}function Pf(e="GBIF",t={}){switch(e){case Xr.GBIF:return new Cf(t);case Xr.GeoNature:return new d0(t);default:return new Cf(t)}}function YS(e,t=.001,s=190){let a=t;const i={type:"Feature",properties:{},geometry:e};let u=Sf(i,{tolerance:a,highQuality:!0}),d=vg(u.geometry),h=0;for(;d>s&&h<20;)a*=10,u=Sf(i,{tolerance:a,highQuality:!0}),d=vg(u.geometry),h++;return NS(u.geometry,{precision:5,coordinates:2})}function vg(e){return e.type==="Polygon"?e.coordinates.reduce((t,s)=>t+s.length,0):e.coordinates.reduce((t,s)=>t+s.reduce((a,i)=>a+i.length,0),0)}function XS(e){if(e.type==="Polygon"){if(e.coordinates.length===0)throw new Error("Invalid polygon: no coordinates");return{type:"Polygon",coordinates:[e.coordinates[0]]}}return{type:"MultiPolygon",coordinates:e.coordinates.map(t=>{if(t.length===0)throw new Error("Invalid polygon in multi-polygon: no coordinates");return[t[0]]})}}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Wa=typeof document<"u";function f0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function KS(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&f0(e.default)}const Pt=Object.assign;function Fd(e,t){const s={};for(const a in t){const i=t[a];s[a]=Xi(i)?i.map(e):e(i)}return s}const yu=()=>{},Xi=Array.isArray;function yg(e,t){const s={};for(const a in e)s[a]=a in t?t[a]:e[a];return s}const h0=/#/g,JS=/&/g,QS=/\//g,eC=/=/g,tC=/\?/g,p0=/\+/g,nC=/%5B/g,iC=/%5D/g,m0=/%5E/g,rC=/%60/g,g0=/%7B/g,sC=/%7C/g,_0=/%7D/g,aC=/%20/g;function Sh(e){return e==null?"":encodeURI(""+e).replace(sC,"|").replace(nC,"[").replace(iC,"]")}function oC(e){return Sh(e).replace(g0,"{").replace(_0,"}").replace(m0,"^")}function If(e){return Sh(e).replace(p0,"%2B").replace(aC,"+").replace(h0,"%23").replace(JS,"%26").replace(rC,"`").replace(g0,"{").replace(_0,"}").replace(m0,"^")}function uC(e){return If(e).replace(eC,"%3D")}function lC(e){return Sh(e).replace(h0,"%23").replace(tC,"%3F")}function cC(e){return lC(e).replace(QS,"%2F")}function Bu(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const dC=/\/$/,fC=e=>e.replace(dC,"");function zd(e,t,s="/"){let a,i={},u="",d="";const h=t.indexOf("#");let m=t.indexOf("?");return m=h>=0&&m>h?-1:m,m>=0&&(a=t.slice(0,m),u=t.slice(m,h>0?h:t.length),i=e(u.slice(1))),h>=0&&(a=a||t.slice(0,h),d=t.slice(h,t.length)),a=gC(a??t,s),{fullPath:a+u+d,path:a,query:i,hash:Bu(d)}}function hC(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function bg(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function pC(e,t,s){const a=t.matched.length-1,i=s.matched.length-1;return a>-1&&a===i&&mo(t.matched[a],s.matched[i])&&v0(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function mo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function v0(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!mC(e[s],t[s]))return!1;return!0}function mC(e,t){return Xi(e)?wg(e,t):Xi(t)?wg(t,e):e===t}function wg(e,t){return Xi(t)?e.length===t.length&&e.every((s,a)=>s===t[a]):e.length===1&&e[0]===t}function gC(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),a=e.split("/"),i=a[a.length-1];(i===".."||i===".")&&a.push("");let u=s.length-1,d,h;for(d=0;d<a.length;d++)if(h=a[d],h!==".")if(h==="..")u>1&&u--;else break;return s.slice(0,u).join("/")+"/"+a.slice(d).join("/")}const gs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Nf=(function(e){return e.pop="pop",e.push="push",e})({}),Gd=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function _C(e){if(!e)if(Wa){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fC(e)}const vC=/^[^#]+#/;function yC(e,t){return e.replace(vC,"#")+t}function bC(e,t){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-s.left-(t.left||0),top:a.top-s.top-(t.top||0)}}const Xc=()=>({left:window.scrollX,top:window.scrollY});function wC(e){let t;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=bC(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function kg(e,t){return(history.state?history.state.position-t:-1)+e}const Mf=new Map;function kC(e,t){Mf.set(e,t)}function LC(e){const t=Mf.get(e);return Mf.delete(e),t}function EC(e){return typeof e=="string"||e&&typeof e=="object"}function y0(e){return typeof e=="string"||typeof e=="symbol"}let Qt=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const b0=Symbol("");Qt.MATCHER_NOT_FOUND+"",Qt.NAVIGATION_GUARD_REDIRECT+"",Qt.NAVIGATION_ABORTED+"",Qt.NAVIGATION_CANCELLED+"",Qt.NAVIGATION_DUPLICATED+"";function go(e,t){return Pt(new Error,{type:e,[b0]:!0},t)}function Mr(e,t){return e instanceof Error&&b0 in e&&(t==null||!!(e.type&t))}const xC=["params","query","hash"];function TC(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of xC)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function SC(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<s.length;++a){const i=s[a].replace(p0," "),u=i.indexOf("="),d=Bu(u<0?i:i.slice(0,u)),h=u<0?null:Bu(i.slice(u+1));if(d in t){let m=t[d];Xi(m)||(m=t[d]=[m]),m.push(h)}else t[d]=h}return t}function Lg(e){let t="";for(let s in e){const a=e[s];if(s=uC(s),a==null){a!==void 0&&(t+=(t.length?"&":"")+s);continue}(Xi(a)?a.map(i=>i&&If(i)):[a&&If(a)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function CC(e){const t={};for(const s in e){const a=e[s];a!==void 0&&(t[s]=Xi(a)?a.map(i=>i==null?null:""+i):a==null?a:""+a)}return t}const PC=Symbol(""),Eg=Symbol(""),Kc=Symbol(""),Ch=Symbol(""),Of=Symbol("");function nu(){let e=[];function t(a){return e.push(a),()=>{const i=e.indexOf(a);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function bs(e,t,s,a,i,u=d=>d()){const d=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((h,m)=>{const y=T=>{T===!1?m(go(Qt.NAVIGATION_ABORTED,{from:s,to:t})):T instanceof Error?m(T):EC(T)?m(go(Qt.NAVIGATION_GUARD_REDIRECT,{from:t,to:T})):(d&&a.enterCallbacks[i]===d&&typeof T=="function"&&d.push(T),h())},v=u(()=>e.call(a&&a.instances[i],t,s,y));let b=Promise.resolve(v);e.length<3&&(b=b.then(y)),b.catch(T=>m(T))})}function Ud(e,t,s,a,i=u=>u()){const u=[];for(const d of e)for(const h in d.components){let m=d.components[h];if(!(t!=="beforeRouteEnter"&&!d.instances[h]))if(f0(m)){const y=(m.__vccOpts||m)[t];y&&u.push(bs(y,s,a,d,h,i))}else{let y=m();u.push(()=>y.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${h}" at "${d.path}"`);const b=KS(v)?v.default:v;d.mods[h]=v,d.components[h]=b;const T=(b.__vccOpts||b)[t];return T&&bs(T,s,a,d,h,i)()}))}}return u}function IC(e,t){const s=[],a=[],i=[],u=Math.max(t.matched.length,e.matched.length);for(let d=0;d<u;d++){const h=t.matched[d];h&&(e.matched.find(y=>mo(y,h))?a.push(h):s.push(h));const m=e.matched[d];m&&(t.matched.find(y=>mo(y,m))||i.push(m))}return[s,a,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let NC=()=>location.protocol+"//"+location.host;function w0(e,t){const{pathname:s,search:a,hash:i}=t,u=e.indexOf("#");if(u>-1){let d=i.includes(e.slice(u))?e.slice(u).length:1,h=i.slice(d);return h[0]!=="/"&&(h="/"+h),bg(h,"")}return bg(s,e)+a+i}function MC(e,t,s,a){let i=[],u=[],d=null;const h=({state:T})=>{const P=w0(e,location),O=s.value,B=t.value;let z=0;if(T){if(s.value=P,t.value=T,d&&d===O){d=null;return}z=B?T.position-B.position:0}else a(P);i.forEach(R=>{R(s.value,O,{delta:z,type:Nf.pop,direction:z?z>0?Gd.forward:Gd.back:Gd.unknown})})};function m(){d=s.value}function y(T){i.push(T);const P=()=>{const O=i.indexOf(T);O>-1&&i.splice(O,1)};return u.push(P),P}function v(){if(document.visibilityState==="hidden"){const{history:T}=window;if(!T.state)return;T.replaceState(Pt({},T.state,{scroll:Xc()}),"")}}function b(){for(const T of u)T();u=[],window.removeEventListener("popstate",h),window.removeEventListener("pagehide",v),document.removeEventListener("visibilitychange",v)}return window.addEventListener("popstate",h),window.addEventListener("pagehide",v),document.addEventListener("visibilitychange",v),{pauseListeners:m,listen:y,destroy:b}}function xg(e,t,s,a=!1,i=!1){return{back:e,current:t,forward:s,replaced:a,position:window.history.length,scroll:i?Xc():null}}function OC(e){const{history:t,location:s}=window,a={value:w0(e,s)},i={value:t.state};i.value||u(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(m,y,v){const b=e.indexOf("#"),T=b>-1?(s.host&&document.querySelector("base")?e:e.slice(b))+m:NC()+e+m;try{t[v?"replaceState":"pushState"](y,"",T),i.value=y}catch(P){console.error(P),s[v?"replace":"assign"](T)}}function d(m,y){u(m,Pt({},t.state,xg(i.value.back,m,i.value.forward,!0),y,{position:i.value.position}),!0),a.value=m}function h(m,y){const v=Pt({},i.value,t.state,{forward:m,scroll:Xc()});u(v.current,v,!0),u(m,Pt({},xg(a.value,m,null),{position:v.position+1},y),!1),a.value=m}return{location:a,state:i,push:h,replace:d}}function AC(e){e=_C(e);const t=OC(e),s=MC(e,t.state,t.location,t.replace);function a(u,d=!0){d||s.pauseListeners(),history.go(u)}const i=Pt({location:"",base:e,go:a,createHref:yC.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function RC(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),AC(e)}let aa=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var ln=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(ln||{});const DC={type:aa.Static,value:""},BC=/[a-zA-Z0-9_]/;function FC(e){if(!e)return[[]];if(e==="/")return[[DC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(P){throw new Error(`ERR (${s})/"${y}": ${P}`)}let s=ln.Static,a=s;const i=[];let u;function d(){u&&i.push(u),u=[]}let h=0,m,y="",v="";function b(){y&&(s===ln.Static?u.push({type:aa.Static,value:y}):s===ln.Param||s===ln.ParamRegExp||s===ln.ParamRegExpEnd?(u.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),u.push({type:aa.Param,value:y,regexp:v,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),y="")}function T(){y+=m}for(;h<e.length;){if(m=e[h++],m==="\\"&&s!==ln.ParamRegExp){a=s,s=ln.EscapeNext;continue}switch(s){case ln.Static:m==="/"?(y&&b(),d()):m===":"?(b(),s=ln.Param):T();break;case ln.EscapeNext:T(),s=a;break;case ln.Param:m==="("?s=ln.ParamRegExp:BC.test(m)?T():(b(),s=ln.Static,m!=="*"&&m!=="?"&&m!=="+"&&h--);break;case ln.ParamRegExp:m===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+m:s=ln.ParamRegExpEnd:v+=m;break;case ln.ParamRegExpEnd:b(),s=ln.Static,m!=="*"&&m!=="?"&&m!=="+"&&h--,v="";break;default:t("Unknown state");break}}return s===ln.ParamRegExp&&t(`Unfinished custom RegExp for param "${y}"`),b(),d(),i}const Tg="[^/]+?",zC={sensitive:!1,strict:!1,start:!0,end:!0};var qn=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(qn||{});const GC=/[.+*?^${}()[\]/\\]/g;function UC(e,t){const s=Pt({},zC,t),a=[];let i=s.start?"^":"";const u=[];for(const y of e){const v=y.length?[]:[qn.Root];s.strict&&!y.length&&(i+="/");for(let b=0;b<y.length;b++){const T=y[b];let P=qn.Segment+(s.sensitive?qn.BonusCaseSensitive:0);if(T.type===aa.Static)b||(i+="/"),i+=T.value.replace(GC,"\\$&"),P+=qn.Static;else if(T.type===aa.Param){const{value:O,repeatable:B,optional:z,regexp:R}=T;u.push({name:O,repeatable:B,optional:z});const $=R||Tg;if($!==Tg){P+=qn.BonusCustomRegExp;try{`${$}`}catch(_){throw new Error(`Invalid custom RegExp for param "${O}" (${$}): `+_.message)}}let q=B?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;b||(q=z&&y.length<2?`(?:/${q})`:"/"+q),z&&(q+="?"),i+=q,P+=qn.Dynamic,z&&(P+=qn.BonusOptional),B&&(P+=qn.BonusRepeatable),$===".*"&&(P+=qn.BonusWildcard)}v.push(P)}a.push(v)}if(s.strict&&s.end){const y=a.length-1;a[y][a[y].length-1]+=qn.BonusStrict}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const d=new RegExp(i,s.sensitive?"":"i");function h(y){const v=y.match(d),b={};if(!v)return null;for(let T=1;T<v.length;T++){const P=v[T]||"",O=u[T-1];b[O.name]=P&&O.repeatable?P.split("/"):P}return b}function m(y){let v="",b=!1;for(const T of e){(!b||!v.endsWith("/"))&&(v+="/"),b=!1;for(const P of T)if(P.type===aa.Static)v+=P.value;else if(P.type===aa.Param){const{value:O,repeatable:B,optional:z}=P,R=O in y?y[O]:"";if(Xi(R)&&!B)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const $=Xi(R)?R.join("/"):R;if(!$)if(z)T.length<2&&(v.endsWith("/")?v=v.slice(0,-1):b=!0);else throw new Error(`Missing required param "${O}"`);v+=$}}return v||"/"}return{re:d,score:a,keys:u,parse:h,stringify:m}}function $C(e,t){let s=0;for(;s<e.length&&s<t.length;){const a=t[s]-e[s];if(a)return a;s++}return e.length<t.length?e.length===1&&e[0]===qn.Static+qn.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===qn.Static+qn.Segment?1:-1:0}function k0(e,t){let s=0;const a=e.score,i=t.score;for(;s<a.length&&s<i.length;){const u=$C(a[s],i[s]);if(u)return u;s++}if(Math.abs(i.length-a.length)===1){if(Sg(a))return 1;if(Sg(i))return-1}return i.length-a.length}function Sg(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const VC={strict:!1,end:!0,sensitive:!1};function HC(e,t,s){const a=UC(FC(e.path),s),i=Pt(a,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function qC(e,t){const s=[],a=new Map;t=yg(VC,t);function i(b){return a.get(b)}function u(b,T,P){const O=!P,B=Pg(b);B.aliasOf=P&&P.record;const z=yg(t,b),R=[B];if("alias"in b){const _=typeof b.alias=="string"?[b.alias]:b.alias;for(const x of _)R.push(Pg(Pt({},B,{components:P?P.record.components:B.components,path:x,aliasOf:P?P.record:B})))}let $,q;for(const _ of R){const{path:x}=_;if(T&&x[0]!=="/"){const k=T.record.path,C=k[k.length-1]==="/"?"":"/";_.path=T.record.path+(x&&C+x)}if($=HC(_,T,z),P?P.alias.push($):(q=q||$,q!==$&&q.alias.push($),O&&b.name&&!Ig($)&&d(b.name)),L0($)&&m($),B.children){const k=B.children;for(let C=0;C<k.length;C++)u(k[C],$,P&&P.children[C])}P=P||$}return q?()=>{d(q)}:yu}function d(b){if(y0(b)){const T=a.get(b);T&&(a.delete(b),s.splice(s.indexOf(T),1),T.children.forEach(d),T.alias.forEach(d))}else{const T=s.indexOf(b);T>-1&&(s.splice(T,1),b.record.name&&a.delete(b.record.name),b.children.forEach(d),b.alias.forEach(d))}}function h(){return s}function m(b){const T=ZC(b,s);s.splice(T,0,b),b.record.name&&!Ig(b)&&a.set(b.record.name,b)}function y(b,T){let P,O={},B,z;if("name"in b&&b.name){if(P=a.get(b.name),!P)throw go(Qt.MATCHER_NOT_FOUND,{location:b});z=P.record.name,O=Pt(Cg(T.params,P.keys.filter(q=>!q.optional).concat(P.parent?P.parent.keys.filter(q=>q.optional):[]).map(q=>q.name)),b.params&&Cg(b.params,P.keys.map(q=>q.name))),B=P.stringify(O)}else if(b.path!=null)B=b.path,P=s.find(q=>q.re.test(B)),P&&(O=P.parse(B),z=P.record.name);else{if(P=T.name?a.get(T.name):s.find(q=>q.re.test(T.path)),!P)throw go(Qt.MATCHER_NOT_FOUND,{location:b,currentLocation:T});z=P.record.name,O=Pt({},T.params,b.params),B=P.stringify(O)}const R=[];let $=P;for(;$;)R.unshift($.record),$=$.parent;return{name:z,path:B,params:O,matched:R,meta:WC(R)}}e.forEach(b=>u(b));function v(){s.length=0,a.clear()}return{addRoute:u,resolve:y,removeRoute:d,clearRoutes:v,getRoutes:h,getRecordMatcher:i}}function Cg(e,t){const s={};for(const a of t)a in e&&(s[a]=e[a]);return s}function Pg(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:jC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function jC(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const a in e.components)t[a]=typeof s=="object"?s[a]:s;return t}function Ig(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function WC(e){return e.reduce((t,s)=>Pt(t,s.meta),{})}function ZC(e,t){let s=0,a=t.length;for(;s!==a;){const u=s+a>>1;k0(e,t[u])<0?a=u:s=u+1}const i=YC(e);return i&&(a=t.lastIndexOf(i,a-1)),a}function YC(e){let t=e;for(;t=t.parent;)if(L0(t)&&k0(e,t)===0)return t}function L0({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ng(e){const t=sn(Kc),s=sn(Ch),a=ge(()=>{const m=J(e.to);return t.resolve(m)}),i=ge(()=>{const{matched:m}=a.value,{length:y}=m,v=m[y-1],b=s.matched;if(!v||!b.length)return-1;const T=b.findIndex(mo.bind(null,v));if(T>-1)return T;const P=Mg(m[y-2]);return y>1&&Mg(v)===P&&b[b.length-1].path!==P?b.findIndex(mo.bind(null,m[y-2])):T}),u=ge(()=>i.value>-1&&eP(s.params,a.value.params)),d=ge(()=>i.value>-1&&i.value===s.matched.length-1&&v0(s.params,a.value.params));function h(m={}){if(QC(m)){const y=t[J(e.replace)?"replace":"push"](J(e.to)).catch(yu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>y),y}return Promise.resolve()}return{route:a,href:ge(()=>a.value.href),isActive:u,isExactActive:d,navigate:h}}function XC(e){return e.length===1?e[0]:e}const KC=yt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ng,setup(e,{slots:t}){const s=da(Ng(e)),{options:a}=sn(Kc),i=ge(()=>({[Og(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[Og(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const u=t.default&&XC(t.default(s));return e.custom?u:Zr("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},u)}}}),JC=KC;function QC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function eP(e,t){for(const s in t){const a=t[s],i=e[s];if(typeof a=="string"){if(a!==i)return!1}else if(!Xi(i)||i.length!==a.length||a.some((u,d)=>u!==i[d]))return!1}return!0}function Mg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Og=(e,t,s)=>e??t??s,tP=yt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const a=sn(Of),i=ge(()=>e.route||a.value),u=sn(Eg,0),d=ge(()=>{let y=J(u);const{matched:v}=i.value;let b;for(;(b=v[y])&&!b.components;)y++;return y}),h=ge(()=>i.value.matched[d.value]);la(Eg,ge(()=>d.value+1)),la(PC,h),la(Of,i);const m=Ie();return tt(()=>[m.value,h.value,e.name],([y,v,b],[T,P,O])=>{v&&(v.instances[b]=y,P&&P!==v&&y&&y===T&&(v.leaveGuards.size||(v.leaveGuards=P.leaveGuards),v.updateGuards.size||(v.updateGuards=P.updateGuards))),y&&v&&(!P||!mo(v,P)||!T)&&(v.enterCallbacks[b]||[]).forEach(B=>B(y))},{flush:"post"}),()=>{const y=i.value,v=e.name,b=h.value,T=b&&b.components[v];if(!T)return Ag(s.default,{Component:T,route:y});const P=b.props[v],O=P?P===!0?y.params:typeof P=="function"?P(y):P:null,z=Zr(T,Pt({},O,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(b.instances[v]=null)},ref:m}));return Ag(s.default,{Component:z,route:y})||z}}});function Ag(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const nP=tP;function iP(e){const t=qC(e.routes,e),s=e.parseQuery||SC,a=e.stringifyQuery||Lg,i=e.history,u=nu(),d=nu(),h=nu(),m=Dn(gs);let y=gs;Wa&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=Fd.bind(null,de=>""+de),b=Fd.bind(null,cC),T=Fd.bind(null,Bu);function P(de,K){let Se,Ae;return y0(de)?(Se=t.getRecordMatcher(de),Ae=K):Ae=de,t.addRoute(Ae,Se)}function O(de){const K=t.getRecordMatcher(de);K&&t.removeRoute(K)}function B(){return t.getRoutes().map(de=>de.record)}function z(de){return!!t.getRecordMatcher(de)}function R(de,K){if(K=Pt({},K||m.value),typeof de=="string"){const oe=zd(s,de,K.path),_e=t.resolve({path:oe.path},K),Le=i.createHref(oe.fullPath);return Pt(oe,_e,{params:T(_e.params),hash:Bu(oe.hash),redirectedFrom:void 0,href:Le})}let Se;if(de.path!=null)Se=Pt({},de,{path:zd(s,de.path,K.path).path});else{const oe=Pt({},de.params);for(const _e in oe)oe[_e]==null&&delete oe[_e];Se=Pt({},de,{params:b(oe)}),K.params=b(K.params)}const Ae=t.resolve(Se,K),Ne=de.hash||"";Ae.params=v(T(Ae.params));const N=hC(a,Pt({},de,{hash:oC(Ne),path:Ae.path})),ee=i.createHref(N);return Pt({fullPath:N,hash:Ne,query:a===Lg?CC(de.query):de.query||{}},Ae,{redirectedFrom:void 0,href:ee})}function $(de){return typeof de=="string"?zd(s,de,m.value.path):Pt({},de)}function q(de,K){if(y!==de)return go(Qt.NAVIGATION_CANCELLED,{from:K,to:de})}function _(de){return C(de)}function x(de){return _(Pt($(de),{replace:!0}))}function k(de,K){const Se=de.matched[de.matched.length-1];if(Se&&Se.redirect){const{redirect:Ae}=Se;let Ne=typeof Ae=="function"?Ae(de,K):Ae;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=$(Ne):{path:Ne},Ne.params={}),Pt({query:de.query,hash:de.hash,params:Ne.path!=null?{}:de.params},Ne)}}function C(de,K){const Se=y=R(de),Ae=m.value,Ne=de.state,N=de.force,ee=de.replace===!0,oe=k(Se,Ae);if(oe)return C(Pt($(oe),{state:typeof oe=="object"?Pt({},Ne,oe.state):Ne,force:N,replace:ee}),K||Se);const _e=Se;_e.redirectedFrom=K;let Le;return!N&&pC(a,Ae,Se)&&(Le=go(Qt.NAVIGATION_DUPLICATED,{to:_e,from:Ae}),ke(Ae,Ae,!0,!1)),(Le?Promise.resolve(Le):A(_e,Ae)).catch(ye=>Mr(ye)?Mr(ye,Qt.NAVIGATION_GUARD_REDIRECT)?ye:ce(ye):se(ye,_e,Ae)).then(ye=>{if(ye){if(Mr(ye,Qt.NAVIGATION_GUARD_REDIRECT))return C(Pt({replace:ee},$(ye.to),{state:typeof ye.to=="object"?Pt({},Ne,ye.to.state):Ne,force:N}),K||_e)}else ye=X(_e,Ae,!0,ee,Ne);return Y(_e,Ae,ye),ye})}function F(de,K){const Se=q(de,K);return Se?Promise.reject(Se):Promise.resolve()}function D(de){const K=Oe.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(de):de()}function A(de,K){let Se;const[Ae,Ne,N]=IC(de,K);Se=Ud(Ae.reverse(),"beforeRouteLeave",de,K);for(const oe of Ae)oe.leaveGuards.forEach(_e=>{Se.push(bs(_e,de,K))});const ee=F.bind(null,de,K);return Se.push(ee),Te(Se).then(()=>{Se=[];for(const oe of u.list())Se.push(bs(oe,de,K));return Se.push(ee),Te(Se)}).then(()=>{Se=Ud(Ne,"beforeRouteUpdate",de,K);for(const oe of Ne)oe.updateGuards.forEach(_e=>{Se.push(bs(_e,de,K))});return Se.push(ee),Te(Se)}).then(()=>{Se=[];for(const oe of N)if(oe.beforeEnter)if(Xi(oe.beforeEnter))for(const _e of oe.beforeEnter)Se.push(bs(_e,de,K));else Se.push(bs(oe.beforeEnter,de,K));return Se.push(ee),Te(Se)}).then(()=>(de.matched.forEach(oe=>oe.enterCallbacks={}),Se=Ud(N,"beforeRouteEnter",de,K,D),Se.push(ee),Te(Se))).then(()=>{Se=[];for(const oe of d.list())Se.push(bs(oe,de,K));return Se.push(ee),Te(Se)}).catch(oe=>Mr(oe,Qt.NAVIGATION_CANCELLED)?oe:Promise.reject(oe))}function Y(de,K,Se){h.list().forEach(Ae=>D(()=>Ae(de,K,Se)))}function X(de,K,Se,Ae,Ne){const N=q(de,K);if(N)return N;const ee=K===gs,oe=Wa?history.state:{};Se&&(Ae||ee?i.replace(de.fullPath,Pt({scroll:ee&&oe&&oe.scroll},Ne)):i.push(de.fullPath,Ne)),m.value=de,ke(de,K,Se,ee),ce()}let W;function j(){W||(W=i.listen((de,K,Se)=>{if(!Ee.listening)return;const Ae=R(de),Ne=k(Ae,Ee.currentRoute.value);if(Ne){C(Pt(Ne,{replace:!0,force:!0}),Ae).catch(yu);return}y=Ae;const N=m.value;Wa&&kC(kg(N.fullPath,Se.delta),Xc()),A(Ae,N).catch(ee=>Mr(ee,Qt.NAVIGATION_ABORTED|Qt.NAVIGATION_CANCELLED)?ee:Mr(ee,Qt.NAVIGATION_GUARD_REDIRECT)?(C(Pt($(ee.to),{force:!0}),Ae).then(oe=>{Mr(oe,Qt.NAVIGATION_ABORTED|Qt.NAVIGATION_DUPLICATED)&&!Se.delta&&Se.type===Nf.pop&&i.go(-1,!1)}).catch(yu),Promise.reject()):(Se.delta&&i.go(-Se.delta,!1),se(ee,Ae,N))).then(ee=>{ee=ee||X(Ae,N,!1),ee&&(Se.delta&&!Mr(ee,Qt.NAVIGATION_CANCELLED)?i.go(-Se.delta,!1):Se.type===Nf.pop&&Mr(ee,Qt.NAVIGATION_ABORTED|Qt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),Y(Ae,N,ee)}).catch(yu)}))}let te=nu(),G=nu(),ae;function se(de,K,Se){ce(de);const Ae=G.list();return Ae.length?Ae.forEach(Ne=>Ne(de,K,Se)):console.error(de),Promise.reject(de)}function ve(){return ae&&m.value!==gs?Promise.resolve():new Promise((de,K)=>{te.add([de,K])})}function ce(de){return ae||(ae=!de,j(),te.list().forEach(([K,Se])=>de?Se(de):K()),te.reset()),de}function ke(de,K,Se,Ae){const{scrollBehavior:Ne}=e;if(!Wa||!Ne)return Promise.resolve();const N=!Se&&LC(kg(de.fullPath,0))||(Ae||!Se)&&history.state&&history.state.scroll||null;return li().then(()=>Ne(de,K,N)).then(ee=>ee&&wC(ee)).catch(ee=>se(ee,de,K))}const Fe=de=>i.go(de);let $e;const Oe=new Set,Ee={currentRoute:m,listening:!0,addRoute:P,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:z,getRoutes:B,resolve:R,options:e,push:_,replace:x,go:Fe,back:()=>Fe(-1),forward:()=>Fe(1),beforeEach:u.add,beforeResolve:d.add,afterEach:h.add,onError:G.add,isReady:ve,install(de){de.component("RouterLink",JC),de.component("RouterView",nP),de.config.globalProperties.$router=Ee,Object.defineProperty(de.config.globalProperties,"$route",{enumerable:!0,get:()=>J(m)}),Wa&&!$e&&m.value===gs&&($e=!0,_(i.location).catch(Ae=>{}));const K={};for(const Ae in gs)Object.defineProperty(K,Ae,{get:()=>m.value[Ae],enumerable:!0});de.provide(Kc,Ee),de.provide(Ch,y_(K)),de.provide(Of,m);const Se=de.unmount;Oe.add(de),de.unmount=function(){Oe.delete(de),Oe.size<1&&(y=gs,W&&W(),W=null,m.value=gs,$e=!1,ae=!1),Se()}}};function Te(de){return de.reduce((K,Se)=>K.then(()=>D(Se)),Promise.resolve())}return Ee}function E0(){return sn(Kc)}function Ph(e){return sn(Ch)}var gr=(e=>(e.detailedList="detailedList",e.gallery="gallery",e.hybrid="hybrid",e))(gr||{}),Ui=(e=>(e.mapList="mapList",e.list="list",e))(Ui||{});const yn={RADIUS:500,WKT:"",dateMin:null,dateMax:null,showFilters:!1,mapEditable:!0,mode:gr.detailedList,sourceGeometry:null,class:null,widgetType:Ui.mapList,switchModeAvailable:!1,x:null,y:null,customDetailPage:null,nbTaxonPerLine:2,nbDisplayedSpecies:null,primaryColor:"aaa",filtersOnList:!0},Dr=class Dr{constructor(){this.filtersOnList=Ie(!1);const{locale:t,availableLocales:s}=Yi(),a=Ph(),i=E0(),u=a==null?void 0:a.query;this.buffer=Ie(yn.RADIUS),this.wkt=Ie(yn.WKT),this.dateMin=Ie(yn.dateMin),this.dateMax=Ie(yn.dateMax),this.connector=Dn(Pf(null,u)),this.nbTaxonPerLine=Ie(yn.nbTaxonPerLine),this.showFilters=Ie(yn.showFilters),this.mapEditable=Ie(yn.mapEditable),this.lang=t,this.mode=Ie(yn.mode),this.sourceGeometry=Ie(yn.sourceGeometry),this.class=Ie(yn.class),this.widgetType=Ie(yn.widgetType),this.switchModeAvailable=Ie(yn.switchModeAvailable),this.filtersOnList=Ie(yn.filtersOnList),this.x=Ie(yn.x),this.y=Ie(yn.y),this.customDetailPage=Ie(yn.customDetailPage),this.nbDisplayedSpecies=Ie(yn.nbDisplayedSpecies),this.primaryColor=Ie(yn.primaryColor),this.initializeFromUrl(u,t,s),this.setupWatchers(i,a),this.isMobile=Ie(cg()),window.addEventListener("resize",()=>{this.isMobile.value=cg()})}static getInstance(){return Dr.instance||(Dr.instance=new Dr),Dr.instance}setupWatchers(t,s){["buffer","wkt","dateMin","dateMax","nbTaxonPerLine","showFilters","lang","mode","class","connector","mapEditable","sourceGeometry","widgetType","switchModeAvailable","customDetailPage","primaryColor","filtersOnList","nbDisplayedSpecies"].forEach(i=>{tt(this[i],()=>{t.replace({path:s.path,query:this.getParams()})})})}initializeFromUrl(t,s,a){if(!t)return;Object.entries({buffer:u=>parseInt(u),radius:u=>{this.buffer.value=parseInt(u)},wkt:u=>$d(u,this.buffer.value),sourceGeometry:async u=>{this.sourceGeometry.value=u;try{const h=await(await fetch(decodeURI(u))).json();this.wkt.value=$d(Wn.stringify(h.geometry),this.buffer.value),this.sourceGeometry.value=u}catch(d){console.error(d)}},dateMin:u=>new Date(u),dateMax:u=>new Date(u),connector:u=>Pf(Xr[u],{...t}),class:u=>{var d;return(d=Object.keys(this.connector.value.taxonClass2SourceID))!=null&&d.includes(u)?u:null},nbTaxonPerLine:u=>parseInt(u),showFilters:u=>u==="true",mapEditable:u=>u==="true",switchModeAvailable:u=>u==="true",hybridTaxonList:u=>{this.switchModeAvailable.value=u==="true"},lang:u=>a.includes(u)?u:s,mode:u=>Object.keys(gr).includes(u)?u:gr.detailedList,widgetType:u=>Object.keys(Ui).includes(u)?u:Ui.mapList,x:u=>{const d=parseFloat(u);return-180<d&&d<180?d:null},y:u=>{const d=parseFloat(u);return-90<d&&d<90?d:null},customDetailPage:u=>u,nbDisplayedSpecies:u=>parseInt(u),primaryColor:u=>u,filtersOnList:u=>u==="true"}).forEach(([u,d])=>{if(u in t){const h=t[u],m=this[u];m&&typeof m=="object"&&"value"in m?m.value=d(h):["sourceGeometry","radius","hybridTaxonList"].includes(u)&&d(h)}}),this.x.value&&this.y.value&&(this.wkt.value=$d(Wn.stringify({type:"Point",coordinates:[this.x.value,this.y.value]}),this.buffer.value))}getParams(){const t={},s=["isMobile","isSearchOnAPIAvailable"];Object.entries(this).forEach(([i,u])=>{(u==null?void 0:u.value)!==void 0&&u.value!==null&&u.value!==""&&!s.includes(i)&&(t[i]=u.value)}),t.connector=this.connector.value.name;let a=this.connector.value.getParams();return Object.entries(a).forEach(([i,u])=>{s.includes(i)&&delete a[i]}),Object.assign(t,a),t!=null&&t.wkt&&(t.sourceGeometry!=null||t.x!=null&&t.y!=null)&&delete t.wkt,t}static clearParameters(t,s){s.replace({path:t.path,query:{}}),Dr.instance=new Dr}};Dr.instance=null;let zt=Dr;const $d=(e,t)=>{if(e&&(e.includes("POINT")||e.includes("LINESTRING"))){let a=xf(Wn.parse(e),t/1e3);return e.includes("LINESTRING")&&(a=Sf(a,{tolerance:.001,highQuality:!0})),Wn.stringify(a)}let s=Wn.parse(e);return Ru(s)||(s=s0(s),e=Wn.stringify(s)),e},rP={class:"list-group datasetsList"},sP={class:"list-group-item"},aP=["href"],oP={class:"badge bg-warning rounded-pill ms-1"},uP={__name:"DatasetList",props:{datasets:Array},setup(e){const{connector:t}=zt.getInstance(),s=e,a=ge(()=>s.datasets?[...s.datasets].sort((i,u)=>u.nbObservations-i.nbObservations):[]);return(i,u)=>{const d=Hv;return s.datasets&&s.datasets.length>0?(fe(),st(d,{key:0,"close-on-hide":!0,delay:{show:0,hide:0},style:{"z-index":"500"}},{target:Ze(()=>[...u[0]||(u[0]=[ne("a",{style:{color:"white","text-decoration":"underline"},class:"ms-1"},[ne("i",{class:"bi bi-database-fill"})],-1)])]),default:Ze(()=>[ne("h4",null,Re(a.value.length)+" "+Re(i.$t("datasetList")),1),ne("ul",rP,[(fe(!0),xe(pt,null,ri(a.value,h=>(fe(),xe("li",sP,[ne("a",{class:"link-primary text-decoration-none",target:"_blank",href:J(t).getDatasetUrl(h.uuid)},Re(h.name),9,aP),ne("span",oP,Re(h.nbObservations)+" "+Re(i.$t(h.nbObservations>1?"observations":"observation")),1)]))),256))])]),_:1})):nt("",!0)}}},lP={key:0},cP=["href"],dP={__name:"TaxonListFooter",props:{loadingDone:{type:Boolean},numberOfSpecies:{type:Number},datasets:{type:Array}},setup(e){const t=zt.getInstance(),{connector:s,primaryColor:a}=t,i=e;return(u,d)=>{const h=Tx;return fe(),xe("div",{id:"data-source-credits","data-testid":"Data source credits",class:"text-center",style:Tn({background:"#"+J(a)})},[i.loadingDone?(fe(),xe("div",lP,[d[1]||(d[1]=ne("a",{href:"https://si.ecrins-parcnational.com/blog/2025-08-BAM-widget-en.html",target:"_blank"},[ne("img",{src:"https://geonature.fr/documents/autres/BAM/BAM-logo.png",height:"30px",class:"me-1",alt:"BAM logo"})],-1)),ne("strong",null,Re(i.numberOfSpecies)+" "+Re(u.$t("taxon.taxonFound")),1),it(" "+Re(u.$t("in"))+" ",1),ne("a",{href:J(s).getSourceUrl(),target:"_blank",style:{color:"white","text-decoration":"underline"}},Re(J(s).name),9,cP),J(s).sourceDetailMessage()?(fe(),st(h,{key:0,style:{"z-index":"500"}},{target:Ze(()=>[...d[0]||(d[0]=[ne("a",{style:{color:"white","text-decoration":"underline"},class:"ms-1"},[ne("i",{class:"bi bi-info-circle"})],-1)])]),default:Ze(()=>[it(" "+Re(J(s).sourceDetailMessage()),1)]),_:1})):nt("",!0),i.datasets.length>0?(fe(),st(uP,{key:1,datasets:i.datasets},null,8,["datasets"])):nt("",!0)])):nt("",!0)],4)}}},jt=(e,t)=>{const s=e.__vccOpts||e;for(const[a,i]of t)s[a]=i;return s},fP={key:0,class:"loading-container","data-testid":"Loading component"},hP={class:"loading-card"},pP={class:"loading-text"},mP={__name:"Loading",props:{loadingStatus:Boolean},setup(e){const t=e,s=Ie(t.loadingStatus!=null?t.loadingStatus:!1);return tt(()=>t.loadingStatus,a=>{s.value=a}),(a,i)=>s.value?(fe(),xe("div",fP,[ne("div",hP,[i[0]||(i[0]=ne("div",{class:"spinner"},null,-1)),ne("h3",pP,Re(a.$t("loading")),1)])])):nt("",!0)}},gP=jt(mP,[["__scopeId","data-v-93cd68a8"]]),_P={class:"message"},vP={key:0,class:"message-box bg-secondary text-white"},yP={key:1,class:"message-box bg-warning text-white"},bP={key:2,class:"message-box bg-warning text-white"},wP={key:3,id:"loading-error",class:"message-box bg-danger text-white"},kP={__name:"TaxonListMessages",props:{loadingObservations:{type:Boolean},loadingError:{type:Boolean},speciesList:{type:Array},filterSpeciesList:{type:Array}},setup(e){const t=zt.getInstance(),{wkt:s}=t,a=e,i=ge(()=>!s.value.length&&!a.loadingObservations&&!a.loadingError),u=ge(()=>s.value.length&&!a.loadingObservations&&!a.loadingError&&!a.speciesList.length),d=ge(()=>!a.filterSpeciesList.length&&s.value.length&&!a.loadingObservations);return(h,m)=>(fe(),xe("div",_P,[Be(gP,{id:"loadingObs",loadingStatus:a.loadingObservations,class:"message-box"},null,8,["loadingStatus"]),i.value?(fe(),xe("div",vP,[ne("h5",null,Re(h.$t("drawGeometry")),1),m[0]||(m[0]=ne("h5",null,[ne("i",{class:"bi bi-square-fill"}),ne("i",{class:"bi bi-hexagon-fill"}),ne("i",{class:"bi bi-circle-fill"}),ne("i",{class:"bi bi-geo-fill"})],-1))])):nt("",!0),u.value?(fe(),xe("div",yP,Re(h.$t("noSpeciesObserved")),1)):nt("",!0),d.value&&!u.value&&!e.loadingError?(fe(),xe("div",bP,Re(h.$t("emptySearch")),1)):nt("",!0),a.loadingError?(fe(),xe("div",wP,[ne("h5",null,[m[1]||(m[1]=ne("i",{class:"bi bi-bug"},null,-1)),it(" "+Re(h.$t("loadingError")),1)])])):nt("",!0)]))}},LP=jt(kP,[["__scopeId","data-v-e570881d"]]),EP=["title"],xP={__name:"TaxonListModeSelection",setup(e){const t=zt.getInstance(),{switchModeAvailable:s,mode:a}=t;function i(){a.value=a.value===gr.gallery?gr.detailedList:gr.gallery}return(u,d)=>J(s)?(fe(),xe("button",{key:0,class:"round-btn",onClick:i,title:J(a)==="gallery"?u.$t("mode.detailedList"):u.$t("mode.galleryMode"),"data-testid":"Mode toggle button","aria-label":"Button to change the display mode between gallery and detailed list"},[(fe(),xe("i",{key:J(a),class:ht(J(a)==="gallery"?"fa-solid fa-list":"bi bi-grid-fill")},null,2))],8,EP)):nt("",!0)}};function TP(e,t){return Cc()?(bu(e,t),!0):!1}const SP=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const CP=Object.prototype.toString,PP=e=>CP.call(e)==="[object Object]",Al=()=>{};function Vd(e){return Array.isArray(e)?e:[e]}function IP(e,t,s){return tt(e,t,{...s,immediate:!0})}const x0=SP?window:void 0;function ou(e){var t;const s=ot(e);return(t=s==null?void 0:s.$el)!==null&&t!==void 0?t:s}function Hd(...e){const t=[],s=()=>{t.forEach(h=>h()),t.length=0},a=(h,m,y,v)=>(h.addEventListener(m,y,v),()=>h.removeEventListener(m,y,v)),i=ge(()=>{const h=Vd(ot(e[0])).filter(m=>m!=null);return h.every(m=>typeof m!="string")?h:void 0}),u=IP(()=>{var h,m;return[(h=(m=i.value)===null||m===void 0?void 0:m.map(y=>ou(y)))!==null&&h!==void 0?h:[x0].filter(y=>y!=null),Vd(ot(i.value?e[1]:e[0])),Vd(J(i.value?e[2]:e[1])),ot(i.value?e[3]:e[2])]},([h,m,y,v])=>{if(s(),!(h!=null&&h.length)||!(m!=null&&m.length)||!(y!=null&&y.length))return;const b=PP(v)?{...v}:v;t.push(...h.flatMap(T=>m.flatMap(P=>y.map(O=>a(T,P,O,b)))))},{flush:"post"}),d=()=>{u(),s()};return TP(s),d}function T0(e,t,s={}){const{window:a=x0,ignore:i=[],capture:u=!0,detectIframe:d=!1,controls:h=!1}=s;if(!a)return h?{stop:Al,cancel:Al,trigger:Al}:Al;let m=!0;const y=z=>ot(i).some(R=>{if(typeof R=="string")return Array.from(a.document.querySelectorAll(R)).some($=>$===z.target||z.composedPath().includes($));{const $=ou(R);return $&&(z.target===$||z.composedPath().includes($))}});function v(z){const R=ot(z);return R&&R.$.subTree.shapeFlag===16}function b(z,R){const $=ot(z),q=$.$.subTree&&$.$.subTree.children;return q==null||!Array.isArray(q)?!1:q.some(_=>_.el===R.target||R.composedPath().includes(_.el))}const T=z=>{const R=ou(e);if(z.target!=null&&!(!(R instanceof Element)&&v(e)&&b(e,z))&&!(!R||R===z.target||z.composedPath().includes(R))){if("detail"in z&&z.detail===0&&(m=!y(z)),!m){m=!0;return}t(z)}};let P=!1;const O=[Hd(a,"click",z=>{P||(P=!0,setTimeout(()=>{P=!1},0),T(z))},{passive:!0,capture:u}),Hd(a,"pointerdown",z=>{const R=ou(e);m=!y(z)&&!!(R&&!z.composedPath().includes(R))},{passive:!0}),d&&Hd(a,"blur",z=>{setTimeout(()=>{var R;const $=ou(e);((R=a.document.activeElement)===null||R===void 0?void 0:R.tagName)==="IFRAME"&&!($!=null&&$.contains(a.document.activeElement))&&t(z)},0)},{passive:!0})].filter(Boolean),B=()=>O.forEach(z=>z());return h?{stop:B,cancel:()=>{m=!1},trigger:z=>{m=!0,T(z),m=!1}}:B}const NP=["title"],MP={key:0,class:"sort-menu"},OP=["onClick","data-testid"],AP={__name:"SortBy",props:{sortByAvailable:{type:Array,required:!0},sortBy:{type:String,required:!0},orderBy:{type:String,default:"asc"}},emits:["update:sortBy","update:orderBy"],setup(e,{emit:t}){const{wkt:s}=zt.getInstance(),a=e,i=t,u=Ie(a.sortBy),d=Ie(a.orderBy);tt(()=>a.sortBy,b=>u.value=b),tt(()=>a.orderBy,b=>d.value=b);const h={sortBy:a.sortBy,orderBy:a.orderBy};tt(s,()=>{u.value=h.sortBy,d.value=h.orderBy});const m=Ie(!1),y=Ie(null);T0(y,()=>m.value=!1);function v(b){b===u.value?(d.value=d.value==="asc"?"desc":"asc",i("update:orderBy",d.value)):(u.value=b,i("update:sortBy",b))}return(b,T)=>(fe(),xe("div",{class:"sort-container",ref_key:"dropdownRef",ref:y},[ne("button",{class:"round-btn",onClick:T[0]||(T[0]=P=>m.value=!m.value),title:b.$t("sortBy"),"data-testid":"Sorting taxons input form","aria-label":"Button to open a dropdown to change the sorting paramaeters"},[ne("i",{class:ht(d.value==="asc"?"bi bi-sort-up":"bi bi-sort-down")},null,2)],8,NP),Be(qi,{name:"fade-slide"},{default:Ze(()=>[m.value?(fe(),xe("div",MP,[(fe(!0),xe(pt,null,ri(e.sortByAvailable,P=>(fe(),xe("div",{key:P.field_name,class:ht(["sort-item",{active:u.value===P.field_name}]),onClick:O=>v(P.field_name),"data-testid":"Change sorting order button for "+P.field_name},[ne("span",null,Re(P.label),1),u.value===P.field_name?(fe(),xe("i",{key:0,class:ht([d.value==="asc"?"bi bi-arrow-up-short":"bi bi-arrow-down-short","order-icon"])},null,2)):nt("",!0)],10,OP))),128))])):nt("",!0)]),_:1})],512))}},RP=jt(AP,[["__scopeId","data-v-f21f2d66"]]);var DP=typeof global=="object"&&global&&global.Object===Object&&global,BP=typeof self=="object"&&self&&self.Object===Object&&self,S0=DP||BP||Function("return this")(),wc=S0.Symbol,C0=Object.prototype,FP=C0.hasOwnProperty,zP=C0.toString,iu=wc?wc.toStringTag:void 0;function GP(e){var t=FP.call(e,iu),s=e[iu];try{e[iu]=void 0;var a=!0}catch{}var i=zP.call(e);return a&&(t?e[iu]=s:delete e[iu]),i}var UP=Object.prototype,$P=UP.toString;function VP(e){return $P.call(e)}var HP="[object Null]",qP="[object Undefined]",Rg=wc?wc.toStringTag:void 0;function jP(e){return e==null?e===void 0?qP:HP:Rg&&Rg in Object(e)?GP(e):VP(e)}function WP(e){return e!=null&&typeof e=="object"}var ZP="[object Symbol]";function YP(e){return typeof e=="symbol"||WP(e)&&jP(e)==ZP}var XP=/\s/;function KP(e){for(var t=e.length;t--&&XP.test(e.charAt(t)););return t}var JP=/^\s+/;function QP(e){return e&&e.slice(0,KP(e)+1).replace(JP,"")}function Af(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Dg=NaN,eI=/^[-+]0x[0-9a-f]+$/i,tI=/^0b[01]+$/i,nI=/^0o[0-7]+$/i,iI=parseInt;function Bg(e){if(typeof e=="number")return e;if(YP(e))return Dg;if(Af(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Af(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QP(e);var s=tI.test(e);return s||nI.test(e)?iI(e.slice(2),s?2:8):eI.test(e)?Dg:+e}var qd=function(){return S0.Date.now()},rI="Expected a function",sI=Math.max,aI=Math.min;function P0(e,t,s){var a,i,u,d,h,m,y=0,v=!1,b=!1,T=!0;if(typeof e!="function")throw new TypeError(rI);t=Bg(t)||0,Af(s)&&(v=!!s.leading,b="maxWait"in s,u=b?sI(Bg(s.maxWait)||0,t):u,T="trailing"in s?!!s.trailing:T);function P(k){var C=a,F=i;return a=i=void 0,y=k,d=e.apply(F,C),d}function O(k){return y=k,h=setTimeout(R,t),v?P(k):d}function B(k){var C=k-m,F=k-y,D=t-C;return b?aI(D,u-F):D}function z(k){var C=k-m,F=k-y;return m===void 0||C>=t||C<0||b&&F>=u}function R(){var k=qd();if(z(k))return $(k);h=setTimeout(R,B(k))}function $(k){return h=void 0,T&&a?P(k):(a=i=void 0,d)}function q(){h!==void 0&&clearTimeout(h),y=0,a=m=i=h=void 0}function _(){return h===void 0?d:$(qd())}function x(){var k=qd(),C=z(k);if(a=arguments,i=this,m=k,C){if(h===void 0)return O(m);if(b)return clearTimeout(h),h=setTimeout(R,t),P(m)}return h===void 0&&(h=setTimeout(R,t)),d}return x.cancel=q,x.flush=_,x}const oI=["title"],uI=["placeholder"],lI={__name:"SearchForm",emits:["update:searchString"],setup(e,{emit:t}){const s=Ie(!1),a=Ie(null),i=()=>{s.value=!s.value,s.value?li(()=>{var v;return(v=a.value)==null?void 0:v.focus()}):a.value&&(a.value.value="")},u=()=>{d.value.trim()||(s.value=!1)},d=Ie(""),h=t,m=P0(()=>{h("update:searchString",d.value)},500),y=()=>{m()};return(v,b)=>{const T=Wf("prevent-zoom");return fe(),xe("form",{class:"search-container",onSubmit:b[2]||(b[2]=_r(()=>{},["prevent"]))},[ne("button",{class:"search-btn",type:"button",onClick:i,onMousedown:b[0]||(b[0]=_r(()=>{},["prevent"])),title:v.$t("search"),"data-testid":"Search taxon button"},[...b[3]||(b[3]=[ne("i",{class:"bi bi-search"},null,-1)])],40,oI),Be(qi,{name:"slide"},{default:Ze(()=>[s.value?Xt((fe(),xe("input",{key:0,ref_key:"inputRef",ref:a,type:"text",class:"search-input",placeholder:v.$t("searchTaxon"),"onUpdate:modelValue":b[1]||(b[1]=P=>d.value=P),onInput:y,onBlur:u,"data-testid":"Search taxon input form"},null,40,uI)),[[Yr,d.value],[T]]):nt("",!0)]),_:1})],32)}}},cI=jt(lI,[["__scopeId","data-v-0b07f6f5"]]),dI=["href"],fI={key:0},hI={key:1},pI=["href"],mI={key:2},Rl=200,gI=yt({__name:"Credits",props:{media:{},linkColor:{},class:{}},setup(e){const t=e,s=ge(()=>t.media.license&&t.media.license.length>Rl?t.media.license.slice(0,Rl):t.media.license),a=ge(()=>t.media.author&&t.media.author.length>Rl?t.media.author.slice(0,Rl):t.media.author);return(i,u)=>(fe(),xe("div",{class:ht(t.class)},[ne("span",null,[t.media.urlSource?(fe(),xe("a",{key:0,class:ht(t.linkColor?t.linkColor:"link-light"),href:t.media.urlSource,target:"_blank"},Re(a.value),11,dI)):nt("",!0)]),s.value&&a.value?(fe(),xe("span",fI," - ")):nt("",!0),t.media.licenseUrl?(fe(),xe("span",hI,[ne("a",{class:ht(t.linkColor?t.linkColor:"link-light"),href:t.media.licenseUrl,target:"_blank",style:{"margin-left":"0.3em"}},Re(s.value),11,pI)])):(fe(),xe("span",mI,Re(s.value),1))],2))}}),Fu=jt(gI,[["__scopeId","data-v-2e1af2ab"]]),_I=["src","alt","aria-label","data-testid"],vI=yt({__name:"FullScreenImage",props:{media:{},alt:{},ariaLabel:{},testID:{}},setup(e,{expose:t}){const s=e,a=Ie(!1);function i(){a.value=!0}function u(){a.value=!1}return t({open:i}),(d,h)=>{const m=Fu;return fe(),xe(pt,null,[ne("div",{onClick:i},[dt(d.$slots,"default",{},void 0,!0)]),Be(qi,{name:"fullscreen"},{default:Ze(()=>{var y;return[a.value&&((y=e.media)!=null&&y.url)?(fe(),xe("div",{key:0,class:"fullScreenContainer",onClick:_r(u,["stop"])},[ne("button",{class:"close-button",onClick:_r(u,["stop"]),"aria-label":"Close fullscreen"},[...h[0]||(h[0]=[ne("i",{class:"bi bi-x-lg"},null,-1)])]),ne("img",{src:e.media.url,alt:s.alt,"aria-label":s.ariaLabel,"data-testid":e.testID,class:"fullscreenImage"},null,8,_I),e.media.url?(fe(),st(m,{key:0,media:e.media,"link-color":"link-light"},null,8,["media"])):nt("",!0)])):nt("",!0)]}),_:1})],64)}}}),I0=jt(vI,[["__scopeId","data-v-2e549929"]]),yI={class:"custom-popover-wrapper"},bI=yt({__name:"Popover",props:{click:{type:Boolean,default:!0},closeOnHide:{type:Boolean,default:!0},delay:{default:()=>({show:0,hide:0})}},setup(e){const t=e,s=Ie(!1),a=Ie(null),i=Ie(null),u=m=>{m.stopPropagation(),s.value=!s.value},d=()=>{t.closeOnHide&&(s.value=!1)},h=m=>{a.value&&i.value&&!a.value.contains(m.target)&&!i.value.contains(m.target)&&d()};return Mi(()=>{document.addEventListener("click",h)}),$u(()=>{document.removeEventListener("click",h)}),(m,y)=>(fe(),xe("div",yI,[ne("div",{ref_key:"targetRef",ref:i,onClick:u,class:"popover-target"},[dt(m.$slots,"target",{},void 0,!0)],512),Be(qi,{name:"popover-fade"},{default:Ze(()=>[s.value?(fe(),xe("div",{key:0,ref_key:"popoverRef",ref:a,class:"custom-popover",onClick:y[0]||(y[0]=_r(()=>{},["stop"]))},[dt(m.$slots,"default",{},void 0,!0)],512)):nt("",!0)]),_:3})]))}}),wI=jt(bI,[["__scopeId","data-v-f0898c06"]]),kI={key:0,class:"tooltip"},LI={key:1,class:"audio-player-wrapper"},EI={class:"audio-player","data-testid":"animal sound"},xI=yt({__name:"AudioPlayer",props:{audio:{},variant:{default:"player"},size:{default:20},showCredits:{type:Boolean,default:!0}},setup(e){const t=e,s=Ie(!1),a=Ie(0),i=Ie(null);let u=null;function d(){i.value&&i.value.duration>0&&(a.value=i.value.currentTime/i.value.duration),s.value&&(u=requestAnimationFrame(d))}function h(y){if(!i.value)return;const b=y.currentTarget.getBoundingClientRect(),P=(y.clientX-b.left)/b.width;i.value.duration>0&&(i.value.currentTime=P*i.value.duration,a.value=P)}function m(){i.value||(i.value=new Audio(t.audio.url),i.value.addEventListener("ended",()=>{i.value&&(i.value.currentTime=0,a.value=0,s.value=!1,u&&cancelAnimationFrame(u))}),i.value.addEventListener("pause",()=>{s.value=!1,u&&cancelAnimationFrame(u)}),i.value.addEventListener("play",()=>{s.value=!0,d()})),s.value?i.value.pause():i.value.play()}return Uu(()=>{u&&cancelAnimationFrame(u),i.value&&(i.value.pause(),i.value=null)}),(y,v)=>e.variant==="button"?(fe(),xe("div",{key:0,class:"audio-button-wrapper",style:Tn({width:e.size+"px",height:e.size+"px"})},[ne("div",{class:"audio-button",style:Tn({background:`conic-gradient(white ${a.value*360}deg, rgba(255,255,255,0.2) 0deg)`,width:e.size+"px",height:e.size+"px"}),onClick:_r(m,["stop"]),"data-testid":"Toggle to play animal sound"},[ne("i",{class:ht(s.value?"bi bi-pause-circle":"bi bi-play-circle"),style:Tn(`font-size: ${e.size}px;`)},null,6)],4),e.showCredits?(fe(),xe("div",kI,[Be(Fu,{media:e.audio,"link-color":"link-light"},null,8,["media"])])):nt("",!0)],4)):(fe(),xe("div",LI,[ne("div",EI,[ne("button",{onClick:m,class:"play-button",type:"button"},[ne("i",{class:ht(s.value?"bi bi-pause-fill":"bi bi-play-fill")},null,2)]),ne("div",{class:"progress-bar",onClick:h},[ne("div",{class:"progress-fill",style:Tn({width:a.value*100+"%"})},null,4)])]),e.showCredits?(fe(),st(Fu,{key:0,class:"small","link-color":"text-muted",media:e.audio},null,8,["media"])):nt("",!0)]))}}),N0=jt(xI,[["__scopeId","data-v-494cabaa"]]),TI={class:"image-wrapper"},SI={key:0,class:"loader"},CI=["src","alt","aria-label","data-testid"],PI=yt({__name:"Image",props:{imageUrl:{type:String,required:!0},ariaLabel:String,alt:String,class:String,testID:String},setup(e){const t=e,s=Ie(po),a=Ie(!1);function i(u){const d=new Image;a.value=!1,d.onload=()=>{s.value=u,a.value=!0},d.onerror=()=>{s.value=po,a.value=!0},d.src=u}return Mi(()=>{i(t.imageUrl)}),tt(()=>t.imageUrl,u=>{i(u)}),(u,d)=>(fe(),xe("div",TI,[a.value?nt("",!0):(fe(),xe("div",SI)),ne("img",{src:s.value,alt:e.alt,"aria-label":e.ariaLabel,"data-testid":t==null?void 0:t.testID,class:ht({loaded:a.value})},null,10,CI)]))}}),M0=jt(PI,[["__scopeId","data-v-37637081"]]),II={class:"col card thumbnail","data-testid":"Taxon thumbnail view"},NI={class:"card-img-overlay"},MI={class:"card-title"},OI=["href"],AI={class:"vernacularName"},RI={class:"bottom-controls"},DI={class:"player"},BI={class:"copyright-icon"},FI=yt({__name:"TaxonThumbnail",props:{picture:{},audio:{},vernacularName:{},acceptedScientificName:{},urlDetailPage:{}},setup(e){const{isMobile:t}=zt.getInstance(),s=e,a=ge(()=>t.value?50:30);return(i,u)=>{var b,T,P,O;const d=M0,h=N0,m=Fu,y=wI,v=I0;return fe(),xe("div",II,[Be(d,{"image-url":(b=s.picture)==null?void 0:b.url,alt:(T=s.picture)==null?void 0:T.url},null,8,["image-url","alt"]),(P=s.picture)!=null&&P.url?(fe(),st(v,{key:0,media:s.picture,alt:(O=s.picture)==null?void 0:O.urlSource},{default:Ze(()=>[ne("div",NI,[ne("div",MI,[ne("a",{style:{color:"inherit","text-decoration":"inherit"},href:s.urlDetailPage,target:"_blank"},[ne("span",AI,Re(s.vernacularName),1)],8,OI)]),ne("div",RI,[ne("div",DI,[s.audio?(fe(),st(h,{key:0,audio:s.audio,variant:"button",size:a.value},null,8,["audio","size"])):nt("",!0)]),s.picture.source?(fe(),st(y,{key:0,click:!0,"close-on-hide":!0,delay:{show:0,hide:0}},{target:Ze(()=>[ne("div",BI,[ne("i",{class:"bi bi-c-square-fill",style:Tn({fontSize:a.value+"px"})},null,4)])]),default:Ze(()=>[Be(m,{"link-color":"link-dark",media:s.picture},null,8,["media"])]),_:1})):nt("",!0)])])]),_:1},8,["media","alt"])):nt("",!0)])}}}),zI=jt(FI,[["__scopeId","data-v-29c846af"]]),GI={class:"col","data-testid":"Taxon detailed view"},UI={class:"card h-100 mb-2"},$I={class:"taxon-photo","data-testid":"Taxon picture"},VI={key:0,class:"caption","data-testid":"Picture caption"},HI={class:"card-body"},qI={class:"card-text"},jI={class:"card-title text-wrap","data-testid":"Vernacular name"},WI={class:"text-body-secondary","data-testid":"Scientific name"},ZI={key:0,class:"text-body-secondary"},YI={"data-testid":"Number of observations"},XI={class:"text-body-secondary"},KI=["href"],JI={class:"card-footer"},QI={class:"text-body-secondary","data-testid":"Last seen date"},eN=yt({__name:"TaxonDetailed",props:{picture:{},audio:{},vernacularName:{},acceptedScientificName:{},urlDetailPage:{},nbObservations:{},lastSeenDate:{}},setup(e){const t=e;return(s,a)=>{var h,m;const i=M0,u=I0,d=N0;return fe(),xe("div",GI,[ne("div",UI,[ne("div",$I,[Be(u,{media:t.picture,alt:(h=t.picture)==null?void 0:h.urlSource},{default:Ze(()=>{var y,v;return[Be(i,{"image-url":(y=t.picture)==null?void 0:y.url,alt:(v=t.picture)==null?void 0:v.urlSource,class:"card-img-top"},null,8,["image-url","alt"])]}),_:1},8,["media","alt"]),t.picture.author?(fe(),xe("div",VI,[Be(Fu,{"link-color":"link-light",media:t.picture,class:""},null,8,["media"])])):nt("",!0)]),ne("div",HI,[ne("div",qI,[ne("h5",jI,Re(t.vernacularName),1),ne("small",WI,[ne("strong",null,Re(s.$t("taxon.scientificName"))+" :",1),it(" "+Re(t.acceptedScientificName),1)]),a[1]||(a[1]=ne("br",null,null,-1)),t.nbObservations?(fe(),xe("small",ZI,[ne("strong",null,Re(s.$t("taxon.nbObservations"))+" : ",1),ne("span",YI,Re(t.nbObservations),1)])):nt("",!0),a[2]||(a[2]=ne("br",null,null,-1)),ne("small",XI,[ne("a",{href:t.urlDetailPage,target:"_blank","data-testid":"Taxon detail redirect link",class:"badge bg-light text-secondary border border-secondary text-decoration-none"},[ne("strong",null,[it(Re(s.$t("taxon.learnMore"))+" ",1),a[0]||(a[0]=ne("i",{class:"bi bi-arrow-right"},null,-1))])],8,KI)]),a[3]||(a[3]=ne("br",null,null,-1)),(m=t.audio)!=null&&m.url?(fe(),st(d,{key:1,audio:t.audio,variant:"player"},null,8,["audio"])):nt("",!0)])]),ne("div",JI,[ne("small",QI,Re(s.$t("taxon.lastSeenDate"))+" : "+Re(t==null?void 0:t.lastSeenDate.toLocaleDateString()),1)])])])}}}),tN=jt(eN,[["__scopeId","data-v-2be15380"]]),nN=yt({__name:"TaxonView",props:{taxon:{}},setup(e){const{mode:t,connector:s,lang:a,customDetailPage:i}=zt.getInstance(),d=e.taxon,h=Ie([]),m=Ie(null),y=Ie(d.vernacularName);function v(B){return i.value?i.value.replace("{taxonID}",B):s.value.getTaxonDetailPage(d.taxonId)}function b(){h.value=[],d.taxonId&&s.value.imageSource.fetchPicture(d.taxonId,s.value).then(B=>{h.value=B})}function T(){m.value=null,d.taxonId&&s.value.soundSource.fetchSound(d.taxonId,s.value).then(B=>{B&&(m.value=B[0])})}const P=ge(()=>h.value?h.value.length==0?{url:po,typeMedia:Zn.image}:h.value[0]:{url:po,typeMedia:Zn.image});function O(){s.value.fetchVernacularName(d.taxonId).then(B=>{B&&(y.value=B.split(",")[0],d.vernacularName=y.value)})}return b(),T(),O(),tt(a,()=>{O()}),(B,z)=>{var R,$;return J(t)=="gallery"?(fe(),st(zI,{key:0,picture:P.value,audio:m.value,"vernacular-name":y.value||J(d).acceptedScientificName,"url-detail-page":v(J(d).taxonId),"accepted-scientific-name":J(d).acceptedScientificName},null,8,["picture","audio","vernacular-name","url-detail-page","accepted-scientific-name"])):(fe(),st(tN,{key:1,picture:P.value,audio:m.value,"accepted-scientific-name":J(d).acceptedScientificName,"vernacular-name":y.value||J(d).acceptedScientificName,"url-detail-page":v(J(d).taxonId),"nb-observations":(R=J(d))==null?void 0:R.nbObservations,"last-seen-date":($=J(d))==null?void 0:$.lastSeenDate},null,8,["picture","audio","accepted-scientific-name","vernacular-name","url-detail-page","nb-observations","last-seen-date"]))}}}),Za={Animalia:{Mammalia:{Icon:"fas fa-paw"},Aves:{Icon:"fas fa-dove"},Reptilia:{Icon:"fas fa-dragon"},Amphibia:{Icon:"fas fa-frog"},Insecta:{Icon:"fas fa-bug"},Arachnida:{Icon:"fas fa-spider"},Gastropoda:{Icon:"fas fa-paw"},Bivalvia:{Icon:"fas fa-shrimp"}},Plantae:{Magnoliopsida:{Icon:"fas fa-leaf"},Liliopsida:{Icon:"fas fa-leaf"},Pinopsida:{Icon:"fas fa-tree"}}},iN=["aria-expanded","title"],rN={key:0,class:"taxon-menu"},sN={class:"taxon-scroll"},aN={class:"dropdown-section"},oN={class:"dropdown-header text-primary"},uN=["onClick"],lN={class:"dropdown-section mt-2 pt-2",style:{"border-top":"1px solid #e6e6e6"}},cN={class:"dropdown-header text-success"},dN=["onClick"],fN={__name:"TaxonClassFilterBadge",emits:["select:class"],setup(e,{emit:t}){const{wkt:s}=zt.getInstance(),a=Ie(null),i=Ie(!1),u=t;tt(s,()=>a.value=null);function d(m){a.value=a.value===m?null:m,u("select:class",a.value),i.value=!1}const h=Ie(null);return T0(h,()=>i.value=!1),(m,y)=>(fe(),xe("div",{class:"taxon-dropdown",ref_key:"dropdownRef",ref:h},[ne("div",{class:"round-btn",onClick:y[0]||(y[0]=v=>i.value=!i.value),"aria-expanded":i.value,title:m.$t("taxon.classFilter"),"data-testid":"Filter results by class button"},[...y[1]||(y[1]=[ne("i",{class:"fa fa-leaf"},null,-1)])],8,iN),Be(qi,{name:"fade-slide"},{default:Ze(()=>[i.value?(fe(),xe("div",rN,[ne("div",sN,[ne("div",aN,[ne("h6",oN,[y[2]||(y[2]=ne("i",{class:"fa-solid fa-paw me-2"},null,-1)),it(Re(m.$t("Animalia")),1)]),ne("div",null,[(fe(!0),xe(pt,null,ri(Object.keys(J(Za).Animalia),v=>(fe(),xe("div",{key:v,onClick:b=>d(v),class:ht(["taxon-item",{active:a.value===v}]),"data-testid":"Animalia results filter"},[ne("i",{class:ht([J(Za).Animalia[v],"me-2"])},null,2),it(" "+Re(m.$t(`taxonsClass.Animalia.${v}`)),1)],10,uN))),128))])]),ne("div",lN,[ne("h6",cN,[y[3]||(y[3]=ne("i",{class:"fa-solid fa-leaf me-2"},null,-1)),it(Re(m.$t("Plantae")),1)]),ne("div",null,[(fe(!0),xe(pt,null,ri(Object.keys(J(Za).Plantae),v=>(fe(),xe("div",{key:v,onClick:b=>d(v),class:ht(["taxon-item",{active:a.value===v}]),"data-testid":"Plantae results filter"},[ne("i",{class:ht([J(Za).Plantae[v],"me-2"])},null,2),it(" "+Re(m.$t(`taxonsClass.Plantae.${v}`)),1)],10,dN))),128))])])])])):nt("",!0)]),_:1})],512))}},hN=jt(fN,[["__scopeId","data-v-aac43b2f"]]);function pN(e){return typeof e=="object"&&e!==null}function mN(e){return pN(e)&&typeof e.length=="number"}function Fg(e){return Array.isArray(e)?e:e===void 0?[]:mN(e)||e instanceof Set?Array.from(e):[e]}function gN(e){return!isNaN(parseFloat(e))}function _N(e){return!isNaN(parseFloat(e))&&isFinite(e)}function vN(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function yN(e){return O0(e)&&typeof e.length=="number"}function O0(e){return typeof e=="object"&&e!==null}function Zu(e){return typeof e<"u"}function bN(e){return!Zu(e)}function A0(e){return e===null}function wN(e){return Zu(e)&&!A0(e)&&!Number.isNaN(e)}function kN(e){return typeof e=="function"?/^class /.test(Function.prototype.toString.call(e)):!1}function LN(e){if(e===null)return!0;switch(typeof e){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function EN(e){if(e){const t=Zu(Promise)&&e instanceof Promise,s=e.then&&typeof e.then=="function";return!!(t||s)}else return!1}function xN(e){return e===null||!Zu(e)?!1:typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function"}function TN(e){return typeof e=="string"}function SN(e){return typeof e=="function"}function CN(e){return typeof e=="function"&&e.constructor.name==="AsyncFunction"}const xn={isNumber:gN,isFiniteNumber:_N,isPlainObject:vN,isArrayLike:yN,isObject:O0,isDefined:Zu,isUndefined:bN,isNull:A0,isDefinedValue:wN,isClass:kN,isPrimitive:LN,isPromise:EN,isIterable:xN,isString:TN,isFunction:SN,isAsyncFunction:CN};function PN(e,t={}){return t=Object.assign({computed:{},customOrders:{},nullRank:1,undefinedRank:1,nanRank:1},t),e.sort(IN(t)),e}function IN(e={}){const t=Fg(e.by),s=Fg(e.order),{customOrders:a,computed:i}=e;return function u(d,h,m=0){const y=s[m]||"asc";if(!(y==="asc"||y==="desc"||a[y]))return 0;let v,b,T;return t.length?(b=xn.isDefined(d[t[m]])?d[t[m]]:i[t[m]]&&i[t[m]](d),T=xn.isDefined(h[t[m]])?h[t[m]]:i[t[m]]&&i[t[m]](h)):(b=d,T=h),a&&a[y]?v=a[y].indexOf(b)-a[y].indexOf(T):b===T?v=0:xn.isNull(b)&&xn.isUndefined(T)?v=y==="asc"?1:y==="desc"?-1:0:xn.isUndefined(b)&&xn.isNull(T)?v=y==="asc"?-1:y==="desc"?1:0:xn.isNull(b)&&xn.isDefinedValue(T)?v=e.nullRank:xn.isUndefined(b)&&xn.isDefinedValue(T)?v=e.undefinedRank:Number.isNaN(b)&&xn.isDefinedValue(T)?v=e.nanRank:xn.isNull(T)&&xn.isDefinedValue(b)?v=-e.nullRank:xn.isUndefined(T)&&xn.isDefinedValue(b)?v=-e.undefinedRank:Number.isNaN(T)&&xn.isDefinedValue(b)?v=-e.nanRank:(v=b<T?-1:b>T?1:0,y==="desc"&&(v=v*-1)),v===0&&xn.isDefined(t[m+1])&&(v=u(d,h,m+1)),v}}class NN{constructor(t,s,a,i){this.connector=t,this.props=s,this.parameterStore=a,this.searchResult=Ie({taxons:[],datasets:[]}),this.filteredSpecies=Ie([]),this.searchString=Ie(""),this.filterClass=Ie(null),this.sortBy=Ie(""),this.orderBy=Ie("desc"),this.pageIndex=Ie(0),this.loadingObservations=Ie(!1),this.loadingError=Ie(!1),this.sortBy.value=s.sortBy,this.orderBy.value=s.order,this.speciesListShowed=ge(()=>{if(!this.filteredSpecies.value.length)return[];let u=[...this.filteredSpecies.value];return this.searchString.value===""&&(u=PN(u,{by:this.sortBy.value,order:this.orderBy.value})),i.value>0&&(u=u.slice(0,i.value)),u.slice(0,(this.pageIndex.value+1)*20)})}fetchSpeciesList(t){t.length&&(this.loadingObservations.value=!0,this.loadingError.value=!1,this.filteredSpecies.value=[],this.connector.value.fetchOccurrence({geometry:t,dateMin:this.parameterStore.dateMin.value,dateMax:this.parameterStore.dateMax.value,class:this.parameterStore.class.value}).then(s=>{this.searchResult.value=s,this.filteredSpecies.value=s.taxons,this.pageIndex.value=0,this.loadingObservations.value=!1}).catch(()=>{this.loadingError.value=!0,this.loadingObservations.value=!1}))}updateFilteredSpecies(){const t=this.searchResult.value.taxons;if(!t){this.filteredSpecies.value=[];return}const s=(a,i=[])=>{let u=[...a];this.searchString.value&&this.searchString.value!=""&&(u=u.filter(d=>this.connector.value.scoringSearchClass.getScore(d,this.searchString.value,i)>0),u.sort(this.connector.value.scoringSearchClass.scoring(this.searchString.value,i))),this.filterClass.value&&(u=u.filter(d=>d.class===this.filterClass.value)),this.filteredSpecies.value=u};this.searchString&&this.connector.value.isSearchOnAPIAvailable?this.connector.value.searchOnAPI(this.searchString.value).then(a=>s(t,a)).catch(()=>s(t)):s(t)}onScroll(t){const{scrollTop:s,clientHeight:a,scrollHeight:i}=t.target;s+a>=i-50&&this.pageIndex.value++}}const MN={class:"list-container"},ON={__name:"TaxonList",props:{nbTaxonPerLine:{type:Number},showFilters:{type:Boolean,default:!0},sortBy:{type:String,default:"nbObservations",validator:e=>["vernacularName","acceptedScientificName","nbObservations","lastSeenDate"].includes(e)},order:{type:String,default:"desc",validator:e=>["asc","desc"].includes(e)},mode:{type:String,validator:e=>Object.keys(gr).includes(e)},height:{type:String,default:"100svh"}},setup(e){const{t}=Yi(),s=zt.getInstance(),{wkt:a,dateMin:i,dateMax:u,nbTaxonPerLine:d,showFilters:h,connector:m,mode:y,class:v,nbDisplayedSpecies:b,filtersOnList:T}=s,P=e;d.value=P.nbTaxonPerLine??d.value,y.value=P.mode??y.value;const O=new NN(m,{sortBy:P.sortBy,order:P.order,nbDisplayedSpecies:b},{wkt:a,dateMin:i,dateMax:u,class:v},b),{searchResult:B,filteredSpecies:z,searchString:R,filterClass:$,sortBy:q,orderBy:_,pageIndex:x,loadingObservations:k,loadingError:C}=O,F=ge(()=>B.value.taxons),D=ge(()=>B.value.datasets),A=ge(()=>{const W=d.value,j=W===1?1:Math.round(W/2);return`row row-cols-${Math.round(j/2)} row-cols-lg-${W} row-cols-md-${j} row-gap-4`});function Y(W){O.onScroll(W)}tt([R,$],()=>{O.updateFilteredSpecies(),x.value=0}),tt([a,v,i,u,m],()=>{B.value={taxons:[],datasets:[]},a.value&&O.fetchSpeciesList(a.value)}),a.value&&(B.value={taxons:[],datasets:[]},O.fetchSpeciesList(a.value));const X=[{field_name:"vernacularName",label:t("taxon.vernacularName")},{field_name:"acceptedScientificName",label:t("taxon.scientificName")},{field_name:"nbObservations",label:t("taxon.nbObservations")},{field_name:"lastSeenDate",label:t("taxon.lastSeenDate")}];return(W,j)=>{const te=xP,G=LP,ae=dP;return fe(),xe("div",{id:"taxon-list",style:Tn({height:P.height}),"data-testid":"Taxon list"},[ne("div",MN,[ne("div",{id:"taxon-list-filter","data-testid":"Taxon list filters",class:ht({"overlap-filter":J(T)})},[Be(te),J(v)?nt("",!0):(fe(),st(hN,{key:0,"onSelect:class":j[0]||(j[0]=se=>$.value=se)})),J(h)?(fe(),st(RP,{key:1,"sort-by-available":X,"onUpdate:sortBy":j[1]||(j[1]=se=>q.value=se),"onUpdate:orderBy":j[2]||(j[2]=se=>_.value=se),sortBy:J(q),orderBy:J(_)},null,8,["sortBy","orderBy"])):nt("",!0),J(h)?(fe(),st(cI,{key:2,"onUpdate:searchString":j[3]||(j[3]=se=>R.value=se)})):nt("",!0)],2),ne("div",{class:ht(["taxon-list-scroll-wrapper",{"pt-0":!J(T)}])},[ne("div",{id:"taxon-list-content",class:ht(A.value),onScroll:Y},[Be(G,{"loading-error":J(C),"loading-observations":J(k),"species-list":F.value,"filter-species-list":J(z)},null,8,["loading-error","loading-observations","species-list","filter-species-list"]),(fe(!0),xe(pt,null,ri(J(O).speciesListShowed.value,se=>(fe(),st(nN,{key:se.taxonId,taxon:se},null,8,["taxon"]))),128))],34)],2)]),Be(ae,{"loading-done":J(a).length&&!J(k),"number-of-species":F.value.length,datasets:D.value},null,8,["loading-done","number-of-species","datasets"])],4)}}},Rf=jt(ON,[["__scopeId","data-v-f112939d"]]);var uu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var AN=uu.exports,zg;function RN(){return zg||(zg=1,(function(e,t){(function(s,a){a(t)})(AN,(function(s){var a="1.9.4";function i(o){var f,g,E,I;for(g=1,E=arguments.length;g<E;g++){I=arguments[g];for(f in I)o[f]=I[f]}return o}var u=Object.create||(function(){function o(){}return function(f){return o.prototype=f,new o}})();function d(o,f){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var E=g.call(arguments,2);return function(){return o.apply(f,E.length?E.concat(g.call(arguments)):arguments)}}var h=0;function m(o){return"_leaflet_id"in o||(o._leaflet_id=++h),o._leaflet_id}function y(o,f,g){var E,I,H,ie;return ie=function(){E=!1,I&&(H.apply(g,I),I=!1)},H=function(){E?I=arguments:(o.apply(g,arguments),setTimeout(ie,f),E=!0)},H}function v(o,f,g){var E=f[1],I=f[0],H=E-I;return o===E&&g?o:((o-I)%H+H)%H+I}function b(){return!1}function T(o,f){if(f===!1)return o;var g=Math.pow(10,f===void 0?6:f);return Math.round(o*g)/g}function P(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function O(o){return P(o).split(/\s+/)}function B(o,f){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var g in f)o.options[g]=f[g];return o.options}function z(o,f,g){var E=[];for(var I in o)E.push(encodeURIComponent(g?I.toUpperCase():I)+"="+encodeURIComponent(o[I]));return(!f||f.indexOf("?")===-1?"?":"&")+E.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function $(o,f){return o.replace(R,function(g,E){var I=f[E];if(I===void 0)throw new Error("No value provided for variable "+g);return typeof I=="function"&&(I=I(f)),I})}var q=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function _(o,f){for(var g=0;g<o.length;g++)if(o[g]===f)return g;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var C=0;function F(o){var f=+new Date,g=Math.max(0,16-(f-C));return C=f+g,window.setTimeout(o,g)}var D=window.requestAnimationFrame||k("RequestAnimationFrame")||F,A=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Y(o,f,g){if(g&&D===F)o.call(f);else return D.call(window,d(o,f))}function X(o){o&&A.call(window,o)}var W={__proto__:null,extend:i,create:u,bind:d,get lastId(){return h},stamp:m,throttle:y,wrapNum:v,falseFn:b,formatNum:T,trim:P,splitWords:O,setOptions:B,getParamString:z,template:$,isArray:q,indexOf:_,emptyImageUrl:x,requestFn:D,cancelFn:A,requestAnimFrame:Y,cancelAnimFrame:X};function j(){}j.extend=function(o){var f=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=f.__super__=this.prototype,E=u(g);E.constructor=f,f.prototype=E;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(f[I]=this[I]);return o.statics&&i(f,o.statics),o.includes&&(te(o.includes),i.apply(null,[E].concat(o.includes))),i(E,o),delete E.statics,delete E.includes,E.options&&(E.options=g.options?u(g.options):{},i(E.options,o.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,ie=E._initHooks.length;H<ie;H++)E._initHooks[H].call(this)}},f},j.include=function(o){var f=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=f,this.mergeOptions(o.options)),this},j.mergeOptions=function(o){return i(this.prototype.options,o),this},j.addInitHook=function(o){var f=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function te(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=q(o)?o:[o];for(var f=0;f<o.length;f++)o[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(o,f,g){if(typeof o=="object")for(var E in o)this._on(E,o[E],f);else{o=O(o);for(var I=0,H=o.length;I<H;I++)this._on(o[I],f,g)}return this},off:function(o,f,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var E in o)this._off(E,o[E],f);else{o=O(o);for(var I=arguments.length===1,H=0,ie=o.length;H<ie;H++)I?this._off(o[H]):this._off(o[H],f,g)}return this},_on:function(o,f,g,E){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(o,f,g)===!1){g===this&&(g=void 0);var I={fn:f,ctx:g};E&&(I.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(I)}},_off:function(o,f,g){var E,I,H;if(this._events&&(E=this._events[o],!!E)){if(arguments.length===1){if(this._firingCount)for(I=0,H=E.length;I<H;I++)E[I].fn=b;delete this._events[o];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ie=this._listens(o,f,g);if(ie!==!1){var me=E[ie];this._firingCount&&(me.fn=b,this._events[o]=E=E.slice()),E.splice(ie,1)}}},fire:function(o,f,g){if(!this.listens(o,g))return this;var E=i({},f,{type:o,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var I=this._events[o];if(I){this._firingCount=this._firingCount+1||1;for(var H=0,ie=I.length;H<ie;H++){var me=I[H],be=me.fn;me.once&&this.off(o,be,me.ctx),be.call(me.ctx||this,E)}this._firingCount--}}return g&&this._propagateEvent(E),this},listens:function(o,f,g,E){typeof o!="string"&&console.warn('"string" type argument expected');var I=f;typeof f!="function"&&(E=!!f,I=void 0,g=void 0);var H=this._events&&this._events[o];if(H&&H.length&&this._listens(o,I,g)!==!1)return!0;if(E){for(var ie in this._eventParents)if(this._eventParents[ie].listens(o,f,g,E))return!0}return!1},_listens:function(o,f,g){if(!this._events)return!1;var E=this._events[o]||[];if(!f)return!!E.length;g===this&&(g=void 0);for(var I=0,H=E.length;I<H;I++)if(E[I].fn===f&&E[I].ctx===g)return I;return!1},once:function(o,f,g){if(typeof o=="object")for(var E in o)this._on(E,o[E],f,!0);else{o=O(o);for(var I=0,H=o.length;I<H;I++)this._on(o[I],f,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[m(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[m(o)],this},_propagateEvent:function(o){for(var f in this._eventParents)this._eventParents[f].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var ae=j.extend(G);function se(o,f,g){this.x=g?Math.round(o):o,this.y=g?Math.round(f):f}var ve=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(o){return this.clone()._add(ce(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ce(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new se(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new se(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ve(this.x),this.y=ve(this.y),this},distanceTo:function(o){o=ce(o);var f=o.x-this.x,g=o.y-this.y;return Math.sqrt(f*f+g*g)},equals:function(o){return o=ce(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ce(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function ce(o,f,g){return o instanceof se?o:q(o)?new se(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new se(o.x,o.y):new se(o,f,g)}function ke(o,f){if(o)for(var g=f?[o,f]:o,E=0,I=g.length;E<I;E++)this.extend(g[E])}ke.prototype={extend:function(o){var f,g;if(!o)return this;if(o instanceof se||typeof o[0]=="number"||"x"in o)f=g=ce(o);else if(o=Fe(o),f=o.min,g=o.max,!f||!g)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=g.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var f,g;return typeof o[0]=="number"||o instanceof se?o=ce(o):o=Fe(o),o instanceof ke?(f=o.min,g=o.max):f=g=o,f.x>=this.min.x&&g.x<=this.max.x&&f.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=Fe(o);var f=this.min,g=this.max,E=o.min,I=o.max,H=I.x>=f.x&&E.x<=g.x,ie=I.y>=f.y&&E.y<=g.y;return H&&ie},overlaps:function(o){o=Fe(o);var f=this.min,g=this.max,E=o.min,I=o.max,H=I.x>f.x&&E.x<g.x,ie=I.y>f.y&&E.y<g.y;return H&&ie},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var f=this.min,g=this.max,E=Math.abs(f.x-g.x)*o,I=Math.abs(f.y-g.y)*o;return Fe(ce(f.x-E,f.y-I),ce(g.x+E,g.y+I))},equals:function(o){return o?(o=Fe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Fe(o,f){return!o||o instanceof ke?o:new ke(o,f)}function $e(o,f){if(o)for(var g=f?[o,f]:o,E=0,I=g.length;E<I;E++)this.extend(g[E])}$e.prototype={extend:function(o){var f=this._southWest,g=this._northEast,E,I;if(o instanceof Ee)E=o,I=o;else if(o instanceof $e){if(E=o._southWest,I=o._northEast,!E||!I)return this}else return o?this.extend(Te(o)||Oe(o)):this;return!f&&!g?(this._southWest=new Ee(E.lat,E.lng),this._northEast=new Ee(I.lat,I.lng)):(f.lat=Math.min(E.lat,f.lat),f.lng=Math.min(E.lng,f.lng),g.lat=Math.max(I.lat,g.lat),g.lng=Math.max(I.lng,g.lng)),this},pad:function(o){var f=this._southWest,g=this._northEast,E=Math.abs(f.lat-g.lat)*o,I=Math.abs(f.lng-g.lng)*o;return new $e(new Ee(f.lat-E,f.lng-I),new Ee(g.lat+E,g.lng+I))},getCenter:function(){return new Ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ee||"lat"in o?o=Te(o):o=Oe(o);var f=this._southWest,g=this._northEast,E,I;return o instanceof $e?(E=o.getSouthWest(),I=o.getNorthEast()):E=I=o,E.lat>=f.lat&&I.lat<=g.lat&&E.lng>=f.lng&&I.lng<=g.lng},intersects:function(o){o=Oe(o);var f=this._southWest,g=this._northEast,E=o.getSouthWest(),I=o.getNorthEast(),H=I.lat>=f.lat&&E.lat<=g.lat,ie=I.lng>=f.lng&&E.lng<=g.lng;return H&&ie},overlaps:function(o){o=Oe(o);var f=this._southWest,g=this._northEast,E=o.getSouthWest(),I=o.getNorthEast(),H=I.lat>f.lat&&E.lat<g.lat,ie=I.lng>f.lng&&E.lng<g.lng;return H&&ie},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,f){return o?(o=Oe(o),this._southWest.equals(o.getSouthWest(),f)&&this._northEast.equals(o.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Oe(o,f){return o instanceof $e?o:new $e(o,f)}function Ee(o,f,g){if(isNaN(o)||isNaN(f))throw new Error("Invalid LatLng object: ("+o+", "+f+")");this.lat=+o,this.lng=+f,g!==void 0&&(this.alt=+g)}Ee.prototype={equals:function(o,f){if(!o)return!1;o=Te(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(f===void 0?1e-9:f)},toString:function(o){return"LatLng("+T(this.lat,o)+", "+T(this.lng,o)+")"},distanceTo:function(o){return K.distance(this,Te(o))},wrap:function(){return K.wrapLatLng(this)},toBounds:function(o){var f=180*o/40075017,g=f/Math.cos(Math.PI/180*this.lat);return Oe([this.lat-f,this.lng-g],[this.lat+f,this.lng+g])},clone:function(){return new Ee(this.lat,this.lng,this.alt)}};function Te(o,f,g){return o instanceof Ee?o:q(o)&&typeof o[0]!="object"?o.length===3?new Ee(o[0],o[1],o[2]):o.length===2?new Ee(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ee(o.lat,"lng"in o?o.lng:o.lon,o.alt):f===void 0?null:new Ee(o,f,g)}var de={latLngToPoint:function(o,f){var g=this.projection.project(o),E=this.scale(f);return this.transformation._transform(g,E)},pointToLatLng:function(o,f){var g=this.scale(f),E=this.transformation.untransform(o,g);return this.projection.unproject(E)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var f=this.projection.bounds,g=this.scale(o),E=this.transformation.transform(f.min,g),I=this.transformation.transform(f.max,g);return new ke(E,I)},infinite:!1,wrapLatLng:function(o){var f=this.wrapLng?v(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?v(o.lat,this.wrapLat,!0):o.lat,E=o.alt;return new Ee(g,f,E)},wrapLatLngBounds:function(o){var f=o.getCenter(),g=this.wrapLatLng(f),E=f.lat-g.lat,I=f.lng-g.lng;if(E===0&&I===0)return o;var H=o.getSouthWest(),ie=o.getNorthEast(),me=new Ee(H.lat-E,H.lng-I),be=new Ee(ie.lat-E,ie.lng-I);return new $e(me,be)}},K=i({},de,{wrapLng:[-180,180],R:6371e3,distance:function(o,f){var g=Math.PI/180,E=o.lat*g,I=f.lat*g,H=Math.sin((f.lat-o.lat)*g/2),ie=Math.sin((f.lng-o.lng)*g/2),me=H*H+Math.cos(E)*Math.cos(I)*ie*ie,be=2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me));return this.R*be}}),Se=6378137,Ae={R:Se,MAX_LATITUDE:85.0511287798,project:function(o){var f=Math.PI/180,g=this.MAX_LATITUDE,E=Math.max(Math.min(g,o.lat),-g),I=Math.sin(E*f);return new se(this.R*o.lng*f,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(o){var f=180/Math.PI;return new Ee((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*f,o.x*f/this.R)},bounds:(function(){var o=Se*Math.PI;return new ke([-o,-o],[o,o])})()};function Ne(o,f,g,E){if(q(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=f,this._c=g,this._d=E}Ne.prototype={transform:function(o,f){return this._transform(o.clone(),f)},_transform:function(o,f){return f=f||1,o.x=f*(this._a*o.x+this._b),o.y=f*(this._c*o.y+this._d),o},untransform:function(o,f){return f=f||1,new se((o.x/f-this._b)/this._a,(o.y/f-this._d)/this._c)}};function N(o,f,g,E){return new Ne(o,f,g,E)}var ee=i({},K,{code:"EPSG:3857",projection:Ae,transformation:(function(){var o=.5/(Math.PI*Ae.R);return N(o,.5,-o,.5)})()}),oe=i({},ee,{code:"EPSG:900913"});function _e(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Le(o,f){var g="",E,I,H,ie,me,be;for(E=0,H=o.length;E<H;E++){for(me=o[E],I=0,ie=me.length;I<ie;I++)be=me[I],g+=(I?"L":"M")+be.x+" "+be.y;g+=f?Ke.svg?"z":"x":""}return g||"M0 0"}var ye=document.documentElement.style,Z="ActiveXObject"in window,U=Z&&!document.addEventListener,ue="msLaunchUri"in navigator&&!("documentMode"in document),he=pn("webkit"),Ge=pn("android"),Ce=pn("android 2")||pn("android 3"),re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),we=Ge&&pn("Google")&&re<537&&!("AudioNode"in window),Ve=!!window.opera,et=!ue&&pn("chrome"),De=pn("gecko")&&!he&&!Ve&&!Z,Gt=!et&&pn("safari"),Xe=pn("phantom"),Ye="OTransition"in ye,Bn=navigator.platform.indexOf("Win")===0,hn=Z&&"transition"in ye,es="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,je="MozPerspective"in ye,Kn=!window.L_DISABLE_3D&&(hn||es||je)&&!Ye&&!Xe,Ki=typeof orientation<"u"||pn("mobile"),ts=Ki&&he,Jn=Ki&&es,ns=!window.PointerEvent&&window.MSPointerEvent,ai=!!(window.PointerEvent||ns),ko="ontouchstart"in window||!!window.TouchEvent,va=!window.L_NO_TOUCH&&(ko||ai),Jc=Ki&&Ve,Yu=Ki&&De,wr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ze=(function(){var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",b,f),window.removeEventListener("testPassiveEventSupport",b,f)}catch{}return o})(),ya=(function(){return!!document.createElement("canvas").getContext})(),is=!!(document.createElementNS&&_e("svg").createSVGRect),Os=!!is&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Xu=!is&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var f=o.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),Lo=navigator.platform.indexOf("Mac")===0,Ku=navigator.platform.indexOf("Linux")===0;function pn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ke={ie:Z,ielt9:U,edge:ue,webkit:he,android:Ge,android23:Ce,androidStock:we,opera:Ve,chrome:et,gecko:De,safari:Gt,phantom:Xe,opera12:Ye,win:Bn,ie3d:hn,webkit3d:es,gecko3d:je,any3d:Kn,mobile:Ki,mobileWebkit:ts,mobileWebkit3d:Jn,msPointer:ns,pointer:ai,touch:va,touchNative:ko,mobileOpera:Jc,mobileGecko:Yu,retina:wr,passiveEvents:ze,canvas:ya,svg:is,vml:Xu,inlineSvg:Os,mac:Lo,linux:Ku},As=Ke.msPointer?"MSPointerDown":"pointerdown",Ju=Ke.msPointer?"MSPointerMove":"pointermove",Eo=Ke.msPointer?"MSPointerUp":"pointerup",Qu=Ke.msPointer?"MSPointerCancel":"pointercancel",wn={touchstart:As,touchmove:Ju,touchend:Eo,touchcancel:Qu},ba={touchstart:La,touchmove:ka,touchend:ka,touchcancel:ka},pi={},Ji=!1;function kr(o,f,g){return f==="touchstart"&&Qc(),ba[f]?(g=ba[f].bind(this,g),o.addEventListener(wn[f],g,!1),g):(console.warn("wrong event specified:",f),b)}function xo(o,f,g){if(!wn[f]){console.warn("wrong event specified:",f);return}o.removeEventListener(wn[f],g,!1)}function wa(o){pi[o.pointerId]=o}function Rs(o){pi[o.pointerId]&&(pi[o.pointerId]=o)}function Kt(o){delete pi[o.pointerId]}function Qc(){Ji||(document.addEventListener(As,wa,!0),document.addEventListener(Ju,Rs,!0),document.addEventListener(Eo,Kt,!0),document.addEventListener(Qu,Kt,!0),Ji=!0)}function ka(o,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var g in pi)f.touches.push(pi[g]);f.changedTouches=[f],o(f)}}function La(o,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Wt(f),ka(o,f)}function Ds(o){var f={},g,E;for(E in o)g=o[E],f[E]=g&&g.bind?g.bind(o):g;return o=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var To=200;function So(o,f){o.addEventListener("dblclick",f);var g=0,E;function I(H){if(H.detail!==1){E=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var ie=gn(H);if(!(ie.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})&&!ie.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement}))){var me=Date.now();me-g<=To?(E++,E===2&&f(Ds(H))):E=1,g=me}}}return o.addEventListener("click",I),{dblclick:f,simDblclick:I}}function el(o,f){o.removeEventListener("dblclick",f.dblclick),o.removeEventListener("click",f.simDblclick)}var Co=Sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kn=Sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Lr=kn==="webkitTransition"||kn==="OTransition"?kn+"End":"transitionend";function Ea(o){return typeof o=="string"?document.getElementById(o):o}function mi(o,f){var g=o.style[f]||o.currentStyle&&o.currentStyle[f];if((!g||g==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(o,null);g=E?E[f]:null}return g==="auto"?null:g}function _t(o,f,g){var E=document.createElement(o);return E.className=f||"",g&&g.appendChild(E),E}function Ut(o){var f=o.parentNode;f&&f.removeChild(o)}function xa(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function rs(o){var f=o.parentNode;f&&f.lastChild!==o&&f.appendChild(o)}function Er(o){var f=o.parentNode;f&&f.firstChild!==o&&f.insertBefore(o,f.firstChild)}function Ta(o,f){if(o.classList!==void 0)return o.classList.contains(f);var g=Bs(o);return g.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(g)}function ut(o,f){if(o.classList!==void 0)for(var g=O(f),E=0,I=g.length;E<I;E++)o.classList.add(g[E]);else if(!Ta(o,f)){var H=Bs(o);gi(o,(H?H+" ":"")+f)}}function Tt(o,f){o.classList!==void 0?o.classList.remove(f):gi(o,P((" "+Bs(o)+" ").replace(" "+f+" "," ")))}function gi(o,f){o.className.baseVal===void 0?o.className=f:o.className.baseVal=f}function Bs(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function on(o,f){"opacity"in o.style?o.style.opacity=f:"filter"in o.style&&ed(o,f)}function ed(o,f){var g=!1,E="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(E)}catch{if(f===1)return}f=Math.round(f*100),g?(g.Enabled=f!==100,g.Opacity=f):o.style.filter+=" progid:"+E+"(opacity="+f+")"}function Sa(o){for(var f=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in f)return o[g];return!1}function xr(o,f,g){var E=f||new se(0,0);o.style[Co]=(Ke.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(g?" scale("+g+")":"")}function Jt(o,f){o._leaflet_pos=f,Ke.any3d?xr(o,f):(o.style.left=f.x+"px",o.style.top=f.y+"px")}function Qi(o){return o._leaflet_pos||new se(0,0)}var Oi,ss,Po;if("onselectstart"in document)Oi=function(){lt(window,"selectstart",Wt)},ss=function(){Mt(window,"selectstart",Wt)};else{var as=Sa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oi=function(){if(as){var o=document.documentElement.style;Po=o[as],o[as]="none"}},ss=function(){as&&(document.documentElement.style[as]=Po,Po=void 0)}}function Io(){lt(window,"dragstart",Wt)}function Fs(){Mt(window,"dragstart",Wt)}var Nt,Ai;function No(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(os(),Nt=o,Ai=o.style.outlineStyle,o.style.outlineStyle="none",lt(window,"keydown",os))}function os(){Nt&&(Nt.style.outlineStyle=Ai,Nt=void 0,Ai=void 0,Mt(window,"keydown",os))}function Fn(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Cn(o){var f=o.getBoundingClientRect();return{x:f.width/o.offsetWidth||1,y:f.height/o.offsetHeight||1,boundingClientRect:f}}var Ca={__proto__:null,TRANSFORM:Co,TRANSITION:kn,TRANSITION_END:Lr,get:Ea,getStyle:mi,create:_t,remove:Ut,empty:xa,toFront:rs,toBack:Er,hasClass:Ta,addClass:ut,removeClass:Tt,setClass:gi,getClass:Bs,setOpacity:on,testProp:Sa,setTransform:xr,setPosition:Jt,getPosition:Qi,get disableTextSelection(){return Oi},get enableTextSelection(){return ss},disableImageDrag:Io,enableImageDrag:Fs,preventOutline:No,restoreOutline:os,getSizedParentNode:Fn,getScale:Cn};function lt(o,f,g,E){if(f&&typeof f=="object")for(var I in f)Pa(o,I,f[I],g);else{f=O(f);for(var H=0,ie=f.length;H<ie;H++)Pa(o,f[H],g,E)}return this}var _i="_leaflet_events";function Mt(o,f,g,E){if(arguments.length===1)zs(o),delete o[_i];else if(f&&typeof f=="object")for(var I in f)bt(o,I,f[I],g);else if(f=O(f),arguments.length===2)zs(o,function(me){return _(f,me)!==-1});else for(var H=0,ie=f.length;H<ie;H++)bt(o,f[H],g,E);return this}function zs(o,f){for(var g in o[_i]){var E=g.split(/\d/)[0];(!f||f(E))&&bt(o,E,null,null,g)}}var Mo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pa(o,f,g,E){var I=f+m(g)+(E?"_"+m(E):"");if(o[_i]&&o[_i][I])return this;var H=function(me){return g.call(E||o,me||window.event)},ie=H;!Ke.touchNative&&Ke.pointer&&f.indexOf("touch")===0?H=kr(o,f,H):Ke.touch&&f==="dblclick"?H=So(o,H):"addEventListener"in o?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?o.addEventListener(Mo[f]||f,H,Ke.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(H=function(me){me=me||window.event,Ia(o,me)&&ie(me)},o.addEventListener(Mo[f],H,!1)):o.addEventListener(f,ie,!1):o.attachEvent("on"+f,H),o[_i]=o[_i]||{},o[_i][I]=H}function bt(o,f,g,E,I){I=I||f+m(g)+(E?"_"+m(E):"");var H=o[_i]&&o[_i][I];if(!H)return this;!Ke.touchNative&&Ke.pointer&&f.indexOf("touch")===0?xo(o,f,H):Ke.touch&&f==="dblclick"?el(o,H):"removeEventListener"in o?o.removeEventListener(Mo[f]||f,H,!1):o.detachEvent("on"+f,H),o[_i][I]=null}function mn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Gs(o){return Pa(o,"wheel",mn),this}function us(o){return lt(o,"mousedown touchstart dblclick contextmenu",mn),o._leaflet_disable_click=!0,this}function Wt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function er(o){return Wt(o),mn(o),this}function gn(o){if(o.composedPath)return o.composedPath();for(var f=[],g=o.target;g;)f.push(g),g=g.parentNode;return f}function Oo(o,f){if(!f)return new se(o.clientX,o.clientY);var g=Cn(f),E=g.boundingClientRect;return new se((o.clientX-E.left)/g.x-f.clientLeft,(o.clientY-E.top)/g.y-f.clientTop)}var Ao=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ro(o){return Ke.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ao:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ia(o,f){var g=f.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var td={__proto__:null,on:lt,off:Mt,stopPropagation:mn,disableScrollPropagation:Gs,disableClickPropagation:us,preventDefault:Wt,stop:er,getPropagationPath:gn,getMousePosition:Oo,getWheelDelta:Ro,isExternalTarget:Ia,addListener:lt,removeListener:Mt},Do=ae.extend({run:function(o,f,g,E){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Qi(o),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(o){var f=+new Date-this._startTime,g=this._duration*1e3;f<g?this._runFrame(this._easeOut(f/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,f){var g=this._startPos.add(this._offset.multiplyBy(o));f&&g._round(),Jt(this._el,g),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ct=ae.extend({options:{crs:ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,f){f=B(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Te(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kn&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,Lr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,f,g){if(f=f===void 0?this._zoom:this._limitZoom(f),o=this._limitCenter(Te(o),f,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var E=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,f,g.zoom):this._tryAnimatedPan(o,g.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(o,f,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,f){return this._loaded?this.setView(this.getCenter(),o,{zoom:f}):(this._zoom=o,this)},zoomIn:function(o,f){return o=o||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,f)},zoomOut:function(o,f){return o=o||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,f)},setZoomAround:function(o,f,g){var E=this.getZoomScale(f),I=this.getSize().divideBy(2),H=o instanceof se?o:this.latLngToContainerPoint(o),ie=H.subtract(I).multiplyBy(1-1/E),me=this.containerPointToLatLng(I.add(ie));return this.setView(me,f,{zoom:g})},_getBoundsCenterZoom:function(o,f){f=f||{},o=o.getBounds?o.getBounds():Oe(o);var g=ce(f.paddingTopLeft||f.padding||[0,0]),E=ce(f.paddingBottomRight||f.padding||[0,0]),I=this.getBoundsZoom(o,!1,g.add(E));if(I=typeof f.maxZoom=="number"?Math.min(f.maxZoom,I):I,I===1/0)return{center:o.getCenter(),zoom:I};var H=E.subtract(g).divideBy(2),ie=this.project(o.getSouthWest(),I),me=this.project(o.getNorthEast(),I),be=this.unproject(ie.add(me).divideBy(2).add(H),I);return{center:be,zoom:I}},fitBounds:function(o,f){if(o=Oe(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,f);return this.setView(g.center,g.zoom,f)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,f){return this.setView(o,this._zoom,{pan:f})},panBy:function(o,f){if(o=ce(o).round(),f=f||{},!o.x&&!o.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Do,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,f.duration||.25,f.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,f,g){if(g=g||{},g.animate===!1||!Ke.any3d)return this.setView(o,f,g);this._stop();var E=this.project(this.getCenter()),I=this.project(o),H=this.getSize(),ie=this._zoom;o=Te(o),f=f===void 0?ie:f;var me=Math.max(H.x,H.y),be=me*this.getZoomScale(ie,f),Me=I.distanceTo(E)||1,qe=1.42,rt=qe*qe;function gt(rn){var pl=rn?-1:1,q0=rn?be:me,j0=be*be-me*me+pl*rt*rt*Me*Me,W0=2*q0*rt*Me,hd=j0/W0,$h=Math.sqrt(hd*hd+1)-hd,Z0=$h<1e-9?-18:Math.log($h);return Z0}function Un(rn){return(Math.exp(rn)-Math.exp(-rn))/2}function vn(rn){return(Math.exp(rn)+Math.exp(-rn))/2}function Li(rn){return Un(rn)/vn(rn)}var ei=gt(0);function Ga(rn){return me*(vn(ei)/vn(ei+qe*rn))}function U0(rn){return me*(vn(ei)*Li(ei+qe*rn)-Un(ei))/rt}function $0(rn){return 1-Math.pow(1-rn,1.5)}var V0=Date.now(),Gh=(gt(1)-ei)/qe,H0=g.duration?1e3*g.duration:1e3*Gh*.8;function Uh(){var rn=(Date.now()-V0)/H0,pl=$0(rn)*Gh;rn<=1?(this._flyToFrame=Y(Uh,this),this._move(this.unproject(E.add(I.subtract(E).multiplyBy(U0(pl)/Me)),ie),this.getScaleZoom(me/Ga(pl),ie),{flyTo:!0})):this._move(o,f)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Uh.call(this),this},flyToBounds:function(o,f){var g=this._getBoundsCenterZoom(o,f);return this.flyTo(g.center,g.zoom,f)},setMaxBounds:function(o){return o=Oe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var f=this.options.minZoom;return this.options.minZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var f=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,f){this._enforcingBounds=!0;var g=this.getCenter(),E=this._limitCenter(g,this._zoom,Oe(o));return g.equals(E)||this.panTo(E,f),this._enforcingBounds=!1,this},panInside:function(o,f){f=f||{};var g=ce(f.paddingTopLeft||f.padding||[0,0]),E=ce(f.paddingBottomRight||f.padding||[0,0]),I=this.project(this.getCenter()),H=this.project(o),ie=this.getPixelBounds(),me=Fe([ie.min.add(g),ie.max.subtract(E)]),be=me.getSize();if(!me.contains(H)){this._enforcingBounds=!0;var Me=H.subtract(me.getCenter()),qe=me.extend(H).getSize().subtract(be);I.x+=Me.x<0?-qe.x:qe.x,I.y+=Me.y<0?-qe.y:qe.y,this.panTo(this.unproject(I),f),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),E=f.divideBy(2).round(),I=g.divideBy(2).round(),H=E.subtract(I);return!H.x&&!H.y?this:(o.animate&&o.pan?this.panBy(H):(o.pan&&this._rawPanBy(H),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=d(this._handleGeolocationResponse,this),g=d(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,g,o):navigator.geolocation.getCurrentPosition(f,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var f=o.code,g=o.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var f=o.coords.latitude,g=o.coords.longitude,E=new Ee(f,g),I=E.toBounds(o.coords.accuracy*2),H=this._locateOptions;if(H.setView){var ie=this.getBoundsZoom(I);this.setView(E,H.maxZoom?Math.min(ie,H.maxZoom):ie)}var me={latlng:E,bounds:I,timestamp:o.timestamp};for(var be in o.coords)typeof o.coords[be]=="number"&&(me[be]=o.coords[be]);this.fire("locationfound",me)}},addHandler:function(o,f){if(!f)return this;var g=this[o]=new f(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ut(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,f){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),E=_t("div",g,f||this._mapPane);return o&&(this._panes[o]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),f=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new $e(f,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,f,g){o=Oe(o),g=ce(g||[0,0]);var E=this.getZoom()||0,I=this.getMinZoom(),H=this.getMaxZoom(),ie=o.getNorthWest(),me=o.getSouthEast(),be=this.getSize().subtract(g),Me=Fe(this.project(me,E),this.project(ie,E)).getSize(),qe=Ke.any3d?this.options.zoomSnap:1,rt=be.x/Me.x,gt=be.y/Me.y,Un=f?Math.max(rt,gt):Math.min(rt,gt);return E=this.getScaleZoom(Un,E),qe&&(E=Math.round(E/(qe/100))*(qe/100),E=f?Math.ceil(E/qe)*qe:Math.floor(E/qe)*qe),Math.max(I,Math.min(H,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,f){var g=this._getTopLeftPoint(o,f);return new ke(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,f){var g=this.options.crs;return f=f===void 0?this._zoom:f,g.scale(o)/g.scale(f)},getScaleZoom:function(o,f){var g=this.options.crs;f=f===void 0?this._zoom:f;var E=g.zoom(o*g.scale(f));return isNaN(E)?1/0:E},project:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Te(o),f)},unproject:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(ce(o),f)},layerPointToLatLng:function(o){var f=ce(o).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(o){var f=this.project(Te(o))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Te(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Oe(o))},distance:function(o,f){return this.options.crs.distance(Te(o),Te(f))},containerPointToLayerPoint:function(o){return ce(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ce(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var f=this.containerPointToLayerPoint(ce(o));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(o)))},mouseEventToContainerPoint:function(o){return Oo(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var f=this._container=Ea(o);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(f,"scroll",this._onScroll,this),this._containerId=m(f)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,ut(o,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=mi(o,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Jt(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(o.markerPane,"leaflet-zoom-hide"),ut(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,f,g){Jt(this._mapPane,new se(0,0));var E=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var I=this._zoom!==f;this._moveStart(I,g)._move(o,f)._moveEnd(I),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(o,f){return o&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(o,f,g,E){f===void 0&&(f=this._zoom);var I=this._zoom!==f;return this._zoom=f,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),E?g&&g.pinch&&this.fire("zoom",g):((I||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Jt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[m(this._container)]=this;var f=o?Mt:lt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,f){for(var g=[],E,I=f==="mouseout"||f==="mouseover",H=o.target||o.srcElement,ie=!1;H;){if(E=this._targets[m(H)],E&&(f==="click"||f==="preclick")&&this._draggableMoved(E)){ie=!0;break}if(E&&E.listens(f,!0)&&(I&&!Ia(H,o)||(g.push(E),I))||H===this._container)break;H=H.parentNode}return!g.length&&!ie&&!I&&this.listens(f,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var f=o.target||o.srcElement;if(!(!this._loaded||f._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(f))){var g=o.type;g==="mousedown"&&No(f),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,f,g){if(o.type==="click"){var E=i({},o);E.type="preclick",this._fireDOMEvent(E,E.type,g)}var I=this._findEventTargets(o,f);if(g){for(var H=[],ie=0;ie<g.length;ie++)g[ie].listens(f,!0)&&H.push(g[ie]);I=H.concat(I)}if(I.length){f==="contextmenu"&&Wt(o);var me=I[0],be={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Me=me.getLatLng&&(!me._radius||me._radius<=10);be.containerPoint=Me?this.latLngToContainerPoint(me.getLatLng()):this.mouseEventToContainerPoint(o),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=Me?me.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(ie=0;ie<I.length;ie++)if(I[ie].fire(f,be,!0),be.originalEvent._stopped||I[ie].options.bubblingMouseEvents===!1&&_(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,f=this._handlers.length;o<f;o++)this._handlers[o].disable()},whenReady:function(o,f){return this._loaded?o.call(f||this,{target:this}):this.on("load",o,f),this},_getMapPanePos:function(){return Qi(this._mapPane)||new se(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,f){var g=o&&f!==void 0?this._getNewPixelOrigin(o,f):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,f){var g=this.getSize()._divideBy(2);return this.project(o,f)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,f,g){var E=this._getNewPixelOrigin(g,f);return this.project(o,f)._subtract(E)},_latLngBoundsToNewLayerBounds:function(o,f,g){var E=this._getNewPixelOrigin(g,f);return Fe([this.project(o.getSouthWest(),f)._subtract(E),this.project(o.getNorthWest(),f)._subtract(E),this.project(o.getSouthEast(),f)._subtract(E),this.project(o.getNorthEast(),f)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,f,g){if(!g)return o;var E=this.project(o,f),I=this.getSize().divideBy(2),H=new ke(E.subtract(I),E.add(I)),ie=this._getBoundsOffset(H,g,f);return Math.abs(ie.x)<=1&&Math.abs(ie.y)<=1?o:this.unproject(E.add(ie),f)},_limitOffset:function(o,f){if(!f)return o;var g=this.getPixelBounds(),E=new ke(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(E,f))},_getBoundsOffset:function(o,f,g){var E=Fe(this.project(f.getNorthEast(),g),this.project(f.getSouthWest(),g)),I=E.min.subtract(o.min),H=E.max.subtract(o.max),ie=this._rebound(I.x,-H.x),me=this._rebound(I.y,-H.y);return new se(ie,me)},_rebound:function(o,f){return o+f>0?Math.round(o-f)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(f))},_limitZoom:function(o){var f=this.getMinZoom(),g=this.getMaxZoom(),E=Ke.any3d?this.options.zoomSnap:1;return E&&(o=Math.round(o/E)*E),Math.max(f,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,f){var g=this._getCenterOffset(o)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,f),!0)},_createAnimProxy:function(){var o=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(f){var g=Co,E=this._proxy.style[g];xr(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),E===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),f=this.getZoom();xr(this._proxy,this.project(o,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,f,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(f),I=this._getCenterOffset(o)._divideBy(1-1/E);return g.animate!==!0&&!this.getSize().contains(I)?!1:(Y(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,f,!0)},this),!0)},_animateZoom:function(o,f,g,E){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=f,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:f,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Na(o,f){return new ct(o,f)}var oi=j.extend({options:{position:"topright"},initialize:function(o){B(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var f=this._map;return f&&f.removeControl(this),this.options.position=o,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var f=this._container=this.onAdd(o),g=this.getPosition(),E=o._controlCorners[g];return ut(f,"leaflet-control"),g.indexOf("bottom")!==-1?E.insertBefore(f,E.firstChild):E.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),_n=function(o){return new oi(o)};ct.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},f="leaflet-",g=this._controlContainer=_t("div",f+"control-container",this._container);function E(I,H){var ie=f+I+" "+f+H;o[I+H]=_t("div",ie,g)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ut(this._controlCorners[o]);Ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tr=oi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,f,g,E){return g<E?-1:E<g?1:0}},initialize:function(o,f,g){B(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in o)this._addLayer(o[E],E);for(E in f)this._addLayer(f[E],E,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return oi.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,f){return this._addLayer(o,f),this._map?this._update():this},addOverlay:function(o,f){return this._addLayer(o,f,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var f=this._getLayer(m(o));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",f=this._container=_t("div",o),g=this.options.collapsed;f.setAttribute("aria-haspopup",!0),us(f),Gs(f);var E=this._section=_t("section",o+"-list");g&&(this._map.on("click",this.collapse,this),lt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=_t("a",o+"-toggle",f);I.href="#",I.title="Layers",I.setAttribute("role","button"),lt(I,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){Wt(H),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=_t("div",o+"-base",E),this._separator=_t("div",o+"-separator",E),this._overlaysList=_t("div",o+"-overlays",E),f.appendChild(E)},_getLayer:function(o){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&m(this._layers[f].layer)===o)return this._layers[f]},_addLayer:function(o,f,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:f,overlay:g}),this.options.sortLayers&&this._layers.sort(d(function(E,I){return this.options.sortFunction(E.layer,I.layer,E.name,I.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xa(this._baseLayersList),xa(this._overlaysList),this._layerControlInputs=[];var o,f,g,E,I=0;for(g=0;g<this._layers.length;g++)E=this._layers[g],this._addItem(E),f=f||E.overlay,o=o||!E.overlay,I+=E.overlay?0:1;return this.options.hideSingleBase&&(o=o&&I>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=f&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var f=this._getLayer(m(o.target)),g=f.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,f)},_createRadioElement:function(o,f){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(f?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=g,E.firstChild},_addItem:function(o){var f=document.createElement("label"),g=this._map.hasLayer(o.layer),E;o.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=g):E=this._createRadioElement("leaflet-base-layers_"+m(this),g),this._layerControlInputs.push(E),E.layerId=m(o.layer),lt(E,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+o.name;var H=document.createElement("span");f.appendChild(H),H.appendChild(E),H.appendChild(I);var ie=o.overlay?this._overlaysList:this._baseLayersList;return ie.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,f,g,E=[],I=[];this._handlingClick=!0;for(var H=o.length-1;H>=0;H--)f=o[H],g=this._getLayer(f.layerId).layer,f.checked?E.push(g):f.checked||I.push(g);for(H=0;H<I.length;H++)this._map.hasLayer(I[H])&&this._map.removeLayer(I[H]);for(H=0;H<E.length;H++)this._map.hasLayer(E[H])||this._map.addLayer(E[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,f,g,E=this._map.getZoom(),I=o.length-1;I>=0;I--)f=o[I],g=this._getLayer(f.layerId).layer,f.disabled=g.options.minZoom!==void 0&&E<g.options.minZoom||g.options.maxZoom!==void 0&&E>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,lt(o,"click",Wt),this.expand();var f=this;setTimeout(function(){Mt(o,"click",Wt),f._preventClick=!1})}}),nd=function(o,f,g){return new Tr(o,f,g)},tr=oi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var f="leaflet-control-zoom",g=_t("div",f+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,f+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,f+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,f,g,E,I){var H=_t("a",g,E);return H.innerHTML=o,H.href="#",H.title=f,H.setAttribute("role","button"),H.setAttribute("aria-label",f),us(H),lt(H,"click",er),lt(H,"click",I,this),lt(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var o=this._map,f="leaflet-disabled";Tt(this._zoomInButton,f),Tt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ut(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ut(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});ct.mergeOptions({zoomControl:!0}),ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new tr,this.addControl(this.zoomControl))});var tl=function(o){return new tr(o)},Sr=oi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var f="leaflet-control-scale",g=_t("div",f),E=this.options;return this._addScales(E,f+"-line",g),o.on(E.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,f,g){o.metric&&(this._mScale=_t("div",f,g)),o.imperial&&(this._iScale=_t("div",f,g))},_update:function(){var o=this._map,f=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,f]),o.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var f=this._getRoundNum(o),g=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,g,f/o)},_updateImperial:function(o){var f=o*3.2808399,g,E,I;f>5280?(g=f/5280,E=this._getRoundNum(g),this._updateScale(this._iScale,E+" mi",E/g)):(I=this._getRoundNum(f),this._updateScale(this._iScale,I+" ft",I/f))},_updateScale:function(o,f,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=f},_getRoundNum:function(o){var f=Math.pow(10,(Math.floor(o)+"").length-1),g=o/f;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,f*g}}),id=function(o){return new Sr(o)},vi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ma=oi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?vi+" ":"")+"Leaflet</a>"},initialize:function(o){B(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),us(this._container);for(var f in o._layers)o._layers[f].getAttribution&&this.addAttribution(o._layers[f].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var f in this._attributions)this._attributions[f]&&o.push(f);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});ct.mergeOptions({attributionControl:!0}),ct.addInitHook(function(){this.options.attributionControl&&new Ma().addTo(this)});var rd=function(o){return new Ma(o)};oi.Layers=Tr,oi.Zoom=tr,oi.Scale=Sr,oi.Attribution=Ma,_n.layers=nd,_n.zoom=tl,_n.scale=id,_n.attribution=rd;var yi=j.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yi.addTo=function(o,f){return o.addHandler(f,this),this};var sd={Events:G},nl=Ke.touch?"touchstart mousedown":"mousedown",nr=ae.extend({options:{clickTolerance:3},initialize:function(o,f,g,E){B(this,E),this._element=o,this._dragStartTarget=f||o,this._preventOutline=g},enable:function(){this._enabled||(lt(this._dragStartTarget,nl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nr._dragging===this&&this.finishDrag(!0),Mt(this._dragStartTarget,nl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ta(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){nr._dragging===this&&this.finishDrag();return}if(!(nr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(nr._dragging=this,this._preventOutline&&No(this._element),Io(),Oi(),!this._moving)){this.fire("down");var f=o.touches?o.touches[0]:o,g=Fn(this._element);this._startPoint=new se(f.clientX,f.clientY),this._startPos=Qi(this._element),this._parentScale=Cn(g);var E=o.type==="mousedown";lt(document,E?"mousemove":"touchmove",this._onMove,this),lt(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var f=o.touches&&o.touches.length===1?o.touches[0]:o,g=new se(f.clientX,f.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Wt(o),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Jt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mt(document,"mousemove touchmove",this._onMove,this),Mt(document,"mouseup touchend touchcancel",this._onUp,this),Fs(),ss();var f=this._moved&&this._moving;this._moving=!1,nr._dragging=!1,f&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function il(o,f,g){var E,I=[1,4,2,8],H,ie,me,be,Me,qe,rt,gt;for(H=0,qe=o.length;H<qe;H++)o[H]._code=tn(o[H],f);for(me=0;me<4;me++){for(rt=I[me],E=[],H=0,qe=o.length,ie=qe-1;H<qe;ie=H++)be=o[H],Me=o[ie],be._code&rt?Me._code&rt||(gt=Us(Me,be,rt,f,g),gt._code=tn(gt,f),E.push(gt)):(Me._code&rt&&(gt=Us(Me,be,rt,f,g),gt._code=tn(gt,f),E.push(gt)),E.push(be));o=E}return o}function rl(o,f){var g,E,I,H,ie,me,be,Me,qe;if(!o||o.length===0)throw new Error("latlngs not passed");Gn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var rt=Te([0,0]),gt=Oe(o),Un=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());Un<1700&&(rt=Ri(o));var vn=o.length,Li=[];for(g=0;g<vn;g++){var ei=Te(o[g]);Li.push(f.project(Te([ei.lat-rt.lat,ei.lng-rt.lng])))}for(me=be=Me=0,g=0,E=vn-1;g<vn;E=g++)I=Li[g],H=Li[E],ie=I.y*H.x-H.y*I.x,be+=(I.x+H.x)*ie,Me+=(I.y+H.y)*ie,me+=ie*3;me===0?qe=Li[0]:qe=[be/me,Me/me];var Ga=f.unproject(ce(qe));return Te([Ga.lat+rt.lat,Ga.lng+rt.lng])}function Ri(o){for(var f=0,g=0,E=0,I=0;I<o.length;I++){var H=Te(o[I]);f+=H.lat,g+=H.lng,E++}return Te([f/E,g/E])}var zn={__proto__:null,clipPolygon:il,polygonCenter:rl,centroid:Ri};function sl(o,f){if(!f||!o.length)return o.slice();var g=f*f;return o=zo(o,g),o=Fo(o,g),o}function Bo(o,f,g){return Math.sqrt(Vs(o,f,g,!0))}function ad(o,f,g){return Vs(o,f,g)}function Fo(o,f){var g=o.length,E=typeof Uint8Array<"u"?Uint8Array:Array,I=new E(g);I[0]=I[g-1]=1,Oa(o,I,f,0,g-1);var H,ie=[];for(H=0;H<g;H++)I[H]&&ie.push(o[H]);return ie}function Oa(o,f,g,E,I){var H=0,ie,me,be;for(me=E+1;me<=I-1;me++)be=Vs(o[me],o[E],o[I],!0),be>H&&(ie=me,H=be);H>g&&(f[ie]=1,Oa(o,f,g,E,ie),Oa(o,f,g,ie,I))}function zo(o,f){for(var g=[o[0]],E=1,I=0,H=o.length;E<H;E++)$s(o[E],o[I])>f&&(g.push(o[E]),I=E);return I<H-1&&g.push(o[H-1]),g}var Go;function Qn(o,f,g,E,I){var H=E?Go:tn(o,g),ie=tn(f,g),me,be,Me;for(Go=ie;;){if(!(H|ie))return[o,f];if(H&ie)return!1;me=H||ie,be=Us(o,f,me,g,I),Me=tn(be,g),me===H?(o=be,H=Me):(f=be,ie=Me)}}function Us(o,f,g,E,I){var H=f.x-o.x,ie=f.y-o.y,me=E.min,be=E.max,Me,qe;return g&8?(Me=o.x+H*(be.y-o.y)/ie,qe=be.y):g&4?(Me=o.x+H*(me.y-o.y)/ie,qe=me.y):g&2?(Me=be.x,qe=o.y+ie*(be.x-o.x)/H):g&1&&(Me=me.x,qe=o.y+ie*(me.x-o.x)/H),new se(Me,qe,I)}function tn(o,f){var g=0;return o.x<f.min.x?g|=1:o.x>f.max.x&&(g|=2),o.y<f.min.y?g|=4:o.y>f.max.y&&(g|=8),g}function $s(o,f){var g=f.x-o.x,E=f.y-o.y;return g*g+E*E}function Vs(o,f,g,E){var I=f.x,H=f.y,ie=g.x-I,me=g.y-H,be=ie*ie+me*me,Me;return be>0&&(Me=((o.x-I)*ie+(o.y-H)*me)/be,Me>1?(I=g.x,H=g.y):Me>0&&(I+=ie*Me,H+=me*Me)),ie=o.x-I,me=o.y-H,E?ie*ie+me*me:new se(I,H)}function Gn(o){return!q(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Uo(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gn(o)}function $o(o,f){var g,E,I,H,ie,me,be,Me;if(!o||o.length===0)throw new Error("latlngs not passed");Gn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var qe=Te([0,0]),rt=Oe(o),gt=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());gt<1700&&(qe=Ri(o));var Un=o.length,vn=[];for(g=0;g<Un;g++){var Li=Te(o[g]);vn.push(f.project(Te([Li.lat-qe.lat,Li.lng-qe.lng])))}for(g=0,E=0;g<Un-1;g++)E+=vn[g].distanceTo(vn[g+1])/2;if(E===0)Me=vn[0];else for(g=0,H=0;g<Un-1;g++)if(ie=vn[g],me=vn[g+1],I=ie.distanceTo(me),H+=I,H>E){be=(H-E)/I,Me=[me.x-be*(me.x-ie.x),me.y-be*(me.y-ie.y)];break}var ei=f.unproject(ce(Me));return Te([ei.lat+qe.lat,ei.lng+qe.lng])}var Vo={__proto__:null,simplify:sl,pointToSegmentDistance:Bo,closestPointOnSegment:ad,clipSegment:Qn,_getEdgeIntersection:Us,_getBitCode:tn,_sqClosestPointOnSegment:Vs,isFlat:Gn,_flat:Uo,polylineCenter:$o},Ho={project:function(o){return new se(o.lng,o.lat)},unproject:function(o){return new Ee(o.y,o.x)},bounds:new ke([-180,-90],[180,90])},qo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ke([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var f=Math.PI/180,g=this.R,E=o.lat*f,I=this.R_MINOR/g,H=Math.sqrt(1-I*I),ie=H*Math.sin(E),me=Math.tan(Math.PI/4-E/2)/Math.pow((1-ie)/(1+ie),H/2);return E=-g*Math.log(Math.max(me,1e-10)),new se(o.lng*f*g,E)},unproject:function(o){for(var f=180/Math.PI,g=this.R,E=this.R_MINOR/g,I=Math.sqrt(1-E*E),H=Math.exp(-o.y/g),ie=Math.PI/2-2*Math.atan(H),me=0,be=.1,Me;me<15&&Math.abs(be)>1e-7;me++)Me=I*Math.sin(ie),Me=Math.pow((1-Me)/(1+Me),I/2),be=Math.PI/2-2*Math.atan(H*Me)-ie,ie+=be;return new Ee(ie*f,o.x*f/g)}},od={__proto__:null,LonLat:Ho,Mercator:qo,SphericalMercator:Ae},ud=i({},K,{code:"EPSG:3395",projection:qo,transformation:(function(){var o=.5/(Math.PI*qo.R);return N(o,.5,-o,.5)})()}),al=i({},K,{code:"EPSG:4326",projection:Ho,transformation:N(1/180,1,-1/180,.5)}),ld=i({},de,{projection:Ho,transformation:N(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,f){var g=f.lng-o.lng,E=f.lat-o.lat;return Math.sqrt(g*g+E*E)},infinite:!0});de.Earth=K,de.EPSG3395=ud,de.EPSG3857=ee,de.EPSG900913=oe,de.EPSG4326=al,de.Simple=ld;var ui=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[m(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[m(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var f=o.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var g=this.getEvents();f.on(g,this),this.once("remove",function(){f.off(g,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});ct.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var f=m(o);return this._layers[f]?this:(this._layers[f]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var f=m(o);return this._layers[f]?(this._loaded&&o.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return m(o)in this._layers},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},_addLayers:function(o){o=o?q(o)?o:[o]:[];for(var f=0,g=o.length;f<g;f++)this.addLayer(o[f])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[m(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var f=m(o);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,f=-1/0,g=this._getZoomSpan();for(var E in this._zoomBoundLayers){var I=this._zoomBoundLayers[E].options;o=I.minZoom===void 0?o:Math.min(o,I.minZoom),f=I.maxZoom===void 0?f:Math.max(f,I.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ls=ui.extend({initialize:function(o,f){B(this,f),this._layers={};var g,E;if(o)for(g=0,E=o.length;g<E;g++)this.addLayer(o[g])},addLayer:function(o){var f=this.getLayerId(o);return this._layers[f]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var f=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(o){var f=typeof o=="number"?o:this.getLayerId(o);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var f=Array.prototype.slice.call(arguments,1),g,E;for(g in this._layers)E=this._layers[g],E[o]&&E[o].apply(E,f);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return m(o)}}),ol=function(o,f){return new ls(o,f)},Di=ls.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ls.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ls.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new $e;for(var f in this._layers){var g=this._layers[f];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),ul=function(o,f){return new Di(o,f)},cs=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){B(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,f){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(g,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(E,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(o,f){var g=this.options,E=g[f+"Size"];typeof E=="number"&&(E=[E,E]);var I=ce(E),H=ce(f==="shadow"&&g.shadowAnchor||g.iconAnchor||I&&I.divideBy(2,!0));o.className="leaflet-marker-"+f+" "+(g.className||""),H&&(o.style.marginLeft=-H.x+"px",o.style.marginTop=-H.y+"px"),I&&(o.style.width=I.x+"px",o.style.height=I.y+"px")},_createImg:function(o,f){return f=f||document.createElement("img"),f.src=o,f},_getIconUrl:function(o){return Ke.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function cd(o){return new cs(o)}var Hs=cs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Hs.imagePath!="string"&&(Hs.imagePath=this._detectIconPath()),(this.options.imagePath||Hs.imagePath)+cs.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var f=function(g,E,I){var H=E.exec(g);return H&&H[I]};return o=f(o,/^url\((['"])?(.+)\1\)$/,2),o&&f(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=_t("div","leaflet-default-icon-path",document.body),f=mi(o,"background-image")||mi(o,"backgroundImage");if(document.body.removeChild(o),f=this._stripUrl(f),f)return f;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),ll=yi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new nr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var f=this._marker,g=f._map,E=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,H=Qi(f._icon),ie=g.getPixelBounds(),me=g.getPixelOrigin(),be=Fe(ie.min._subtract(me).add(I),ie.max._subtract(me).subtract(I));if(!be.contains(H)){var Me=ce((Math.max(be.max.x,H.x)-be.max.x)/(ie.max.x-be.max.x)-(Math.min(be.min.x,H.x)-be.min.x)/(ie.min.x-be.min.x),(Math.max(be.max.y,H.y)-be.max.y)/(ie.max.y-be.max.y)-(Math.min(be.min.y,H.y)-be.min.y)/(ie.min.y-be.min.y)).multiplyBy(E);g.panBy(Me,{animate:!1}),this._draggable._newPos._add(Me),this._draggable._startPos._add(Me),Jt(f._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Y(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,o)))},_onDrag:function(o){var f=this._marker,g=f._shadow,E=Qi(f._icon),I=f._map.layerPointToLatLng(E);g&&Jt(g,E),f._latlng=I,o.latlng=I,o.oldLatLng=this._oldLatLng,f.fire("move",o).fire("drag",o)},_onDragEnd:function(o){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Aa=ui.extend({options:{icon:new Hs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,f){B(this,f),this._latlng=Te(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var f=this._latlng;return this._latlng=Te(o),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),E=!1;g!==this._icon&&(this._icon&&this._removeIcon(),E=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),ut(g,f),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(g,"focus",this._panOnFocus,this);var I=o.icon.createShadow(this._shadow),H=!1;I!==this._shadow&&(this._removeShadow(),H=!0),I&&(ut(I,f),I.alt=""),this._shadow=I,o.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&H&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(this._icon,"focus",this._panOnFocus,this),Ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ut(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Jt(this._icon,o),this._shadow&&Jt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ll)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ll(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&on(this._icon,o),this._shadow&&on(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var f=this.options.icon.options,g=f.iconSize?ce(f.iconSize):ce(0,0),E=f.iconAnchor?ce(f.iconAnchor):ce(0,0);o.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:g.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dd(o,f){return new Aa(o,f)}var ir=ui.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return B(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qs=ir.extend({options:{fill:!0,radius:10},initialize:function(o,f){B(this,f),this._latlng=Te(o),this._radius=this.options.radius},setLatLng:function(o){var f=this._latlng;return this._latlng=Te(o),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var f=o&&o.radius||this._radius;return ir.prototype.setStyle.call(this,o),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,f=this._radiusY||o,g=this._clickTolerance(),E=[o+g,f+g];this._pxBounds=new ke(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cl(o,f){return new qs(o,f)}var Ra=qs.extend({initialize:function(o,f,g){if(typeof f=="number"&&(f=i({},g,{radius:f})),B(this,f),this._latlng=Te(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new $e(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ir.prototype.setStyle,_project:function(){var o=this._latlng.lng,f=this._latlng.lat,g=this._map,E=g.options.crs;if(E.distance===K.distance){var I=Math.PI/180,H=this._mRadius/K.R/I,ie=g.project([f+H,o]),me=g.project([f-H,o]),be=ie.add(me).divideBy(2),Me=g.unproject(be).lat,qe=Math.acos((Math.cos(H*I)-Math.sin(f*I)*Math.sin(Me*I))/(Math.cos(f*I)*Math.cos(Me*I)))/I;(isNaN(qe)||qe===0)&&(qe=H/Math.cos(Math.PI/180*f)),this._point=be.subtract(g.getPixelOrigin()),this._radius=isNaN(qe)?0:be.x-g.project([Me,o-qe]).x,this._radiusY=be.y-ie.y}else{var rt=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(rt).x}this._updateBounds()}});function fd(o,f,g){return new Ra(o,f,g)}var bi=ir.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,f){B(this,f),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var f=1/0,g=null,E=Vs,I,H,ie=0,me=this._parts.length;ie<me;ie++)for(var be=this._parts[ie],Me=1,qe=be.length;Me<qe;Me++){I=be[Me-1],H=be[Me];var rt=E(o,I,H,!0);rt<f&&(f=rt,g=E(o,I,H))}return g&&(g.distance=Math.sqrt(f)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $o(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,f){return f=f||this._defaultShape(),o=Te(o),f.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new $e,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var f=[],g=Gn(o),E=0,I=o.length;E<I;E++)g?(f[E]=Te(o[E]),this._bounds.extend(f[E])):f[E]=this._convertLatLngs(o[E]);return f},_project:function(){var o=new ke;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),f=new se(o,o);this._rawPxBounds&&(this._pxBounds=new ke([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(o,f,g){var E=o[0]instanceof Ee,I=o.length,H,ie;if(E){for(ie=[],H=0;H<I;H++)ie[H]=this._map.latLngToLayerPoint(o[H]),g.extend(ie[H]);f.push(ie)}else for(H=0;H<I;H++)this._projectLatlngs(o[H],f,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,g,E,I,H,ie,me,be;for(g=0,I=0,H=this._rings.length;g<H;g++)for(be=this._rings[g],E=0,ie=be.length;E<ie-1;E++)me=Qn(be[E],be[E+1],o,E,!0),me&&(f[I]=f[I]||[],f[I].push(me[0]),(me[1]!==be[E+1]||E===ie-2)&&(f[I].push(me[1]),I++))}},_simplifyPoints:function(){for(var o=this._parts,f=this.options.smoothFactor,g=0,E=o.length;g<E;g++)o[g]=sl(o[g],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,f){var g,E,I,H,ie,me,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,H=this._parts.length;g<H;g++)for(me=this._parts[g],E=0,ie=me.length,I=ie-1;E<ie;I=E++)if(!(!f&&E===0)&&Bo(o,me[I],me[E])<=be)return!0;return!1}});function jo(o,f){return new bi(o,f)}bi._flat=Uo;var ds=bi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var f=bi.prototype._convertLatLngs.call(this,o),g=f.length;return g>=2&&f[0]instanceof Ee&&f[0].equals(f[g-1])&&f.pop(),f},_setLatLngs:function(o){bi.prototype._setLatLngs.call(this,o),Gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,f=this.options.weight,g=new se(f,f);if(o=new ke(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,I=this._rings.length,H;E<I;E++)H=il(this._rings[E],o,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var f=!1,g,E,I,H,ie,me,be,Me;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(H=0,be=this._parts.length;H<be;H++)for(g=this._parts[H],ie=0,Me=g.length,me=Me-1;ie<Me;me=ie++)E=g[ie],I=g[me],E.y>o.y!=I.y>o.y&&o.x<(I.x-E.x)*(o.y-E.y)/(I.y-E.y)+E.x&&(f=!f);return f||bi.prototype._containsPoint.call(this,o,!0)}});function dl(o,f){return new ds(o,f)}var wi=Di.extend({initialize:function(o,f){B(this,f),this._layers={},o&&this.addData(o)},addData:function(o){var f=q(o)?o:o.features,g,E,I;if(f){for(g=0,E=f.length;g<E;g++)I=f[g],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var H=this.options;if(H.filter&&!H.filter(o))return this;var ie=Da(o,H);return ie?(ie.feature=c(o),ie.defaultOptions=ie.options,this.resetStyle(ie),H.onEachFeature&&H.onEachFeature(o,ie),this.addLayer(ie)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(f){this._setLayerStyle(f,o)},this)},_setLayerStyle:function(o,f){o.setStyle&&(typeof f=="function"&&(f=f(o.feature)),o.setStyle(f))}});function Da(o,f){var g=o.type==="Feature"?o.geometry:o,E=g?g.coordinates:null,I=[],H=f&&f.pointToLayer,ie=f&&f.coordsToLatLng||rr,me,be,Me,qe;if(!E&&!g)return null;switch(g.type){case"Point":return me=ie(E),fl(H,o,me,f);case"MultiPoint":for(Me=0,qe=E.length;Me<qe;Me++)me=ie(E[Me]),I.push(fl(H,o,me,f));return new Di(I);case"LineString":case"MultiLineString":return be=Ba(E,g.type==="LineString"?0:1,ie),new bi(be,f);case"Polygon":case"MultiPolygon":return be=Ba(E,g.type==="Polygon"?1:2,ie),new ds(be,f);case"GeometryCollection":for(Me=0,qe=g.geometries.length;Me<qe;Me++){var rt=Da({geometry:g.geometries[Me],type:"Feature",properties:o.properties},f);rt&&I.push(rt)}return new Di(I);case"FeatureCollection":for(Me=0,qe=g.features.length;Me<qe;Me++){var gt=Da(g.features[Me],f);gt&&I.push(gt)}return new Di(I);default:throw new Error("Invalid GeoJSON object.")}}function fl(o,f,g,E){return o?o(f,g):new Aa(g,E&&E.markersInheritOptions&&E)}function rr(o){return new Ee(o[1],o[0],o[2])}function Ba(o,f,g){for(var E=[],I=0,H=o.length,ie;I<H;I++)ie=f?Ba(o[I],f-1,g):(g||rr)(o[I]),E.push(ie);return E}function Fa(o,f){return o=Te(o),o.alt!==void 0?[T(o.lng,f),T(o.lat,f),T(o.alt,f)]:[T(o.lng,f),T(o.lat,f)]}function Ln(o,f,g,E){for(var I=[],H=0,ie=o.length;H<ie;H++)I.push(f?Ln(o[H],Gn(o[H])?0:f-1,g,E):Fa(o[H],E));return!f&&g&&I.length>0&&I.push(I[0].slice()),I}function En(o,f){return o.feature?i({},o.feature,{geometry:f}):c(f)}function c(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var n={toGeoJSON:function(o){return En(this,{type:"Point",coordinates:Fa(this.getLatLng(),o)})}};Aa.include(n),Ra.include(n),qs.include(n),bi.include({toGeoJSON:function(o){var f=!Gn(this._latlngs),g=Ln(this._latlngs,f?1:0,!1,o);return En(this,{type:(f?"Multi":"")+"LineString",coordinates:g})}}),ds.include({toGeoJSON:function(o){var f=!Gn(this._latlngs),g=f&&!Gn(this._latlngs[0]),E=Ln(this._latlngs,g?2:f?1:0,!0,o);return f||(E=[E]),En(this,{type:(g?"Multi":"")+"Polygon",coordinates:E})}}),ls.include({toMultiPoint:function(o){var f=[];return this.eachLayer(function(g){f.push(g.toGeoJSON(o).geometry.coordinates)}),En(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(o){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(o);var g=f==="GeometryCollection",E=[];return this.eachLayer(function(I){if(I.toGeoJSON){var H=I.toGeoJSON(o);if(g)E.push(H.geometry);else{var ie=c(H);ie.type==="FeatureCollection"?E.push.apply(E,ie.features):E.push(ie)}}}),g?En(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function r(o,f){return new wi(o,f)}var l=r,p=ui.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,f,g){this._url=o,this._bounds=Oe(f),B(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&rs(this._image),this},bringToBack:function(){return this._map&&Er(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Oe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",f=this._image=o?this._url:_t("img");if(ut(f,"leaflet-image-layer"),this._zoomAnimated&&ut(f,"leaflet-zoom-animated"),this.options.className&&ut(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onload=d(this.fire,this,"load"),f.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(o){var f=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;xr(this._image,g,f)},_reset:function(){var o=this._image,f=new ke(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=f.getSize();Jt(o,f.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){on(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),w=function(o,f,g){return new p(o,f,g)},S=p.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",f=this._image=o?this._url:_t("video");if(ut(f,"leaflet-image-layer"),this._zoomAnimated&&ut(f,"leaflet-zoom-animated"),this.options.className&&ut(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onloadeddata=d(this.fire,this,"load"),o){for(var g=f.getElementsByTagName("source"),E=[],I=0;I<g.length;I++)E.push(g[I].src);this._url=g.length>0?E:[f.src];return}q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var ie=_t("source");ie.src=this._url[H],f.appendChild(ie)}}});function M(o,f,g){return new S(o,f,g)}var V=p.extend({_initImage:function(){var o=this._image=this._url;ut(o,"leaflet-image-layer"),this._zoomAnimated&&ut(o,"leaflet-zoom-animated"),this.options.className&&ut(o,this.options.className),o.onselectstart=b,o.onmousemove=b}});function Q(o,f,g){return new V(o,f,g)}var le=ui.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,f){o&&(o instanceof Ee||q(o))?(this._latlng=Te(o),B(this,f)):(B(this,o),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&on(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&on(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(on(this._container,0),this._removeTimeout=setTimeout(d(Ut,void 0,this._container),200)):Ut(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Te(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rs(this._container),this},bringToBack:function(){return this._map&&Er(this._container),this},_prepareOpen:function(o){var f=this._source;if(!f._map)return!1;if(f instanceof Di){f=null;var g=this._source._layers;for(var E in g)if(g[E]._map){f=g[E];break}if(!f)return!1;this._source=f}if(!o)if(f.getCenter)o=f.getCenter();else if(f.getLatLng)o=f.getLatLng();else if(f.getBounds)o=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")o.innerHTML=f;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),f=ce(this.options.offset),g=this._getAnchor();this._zoomAnimated?Jt(this._container,o.add(g)):f=f.add(o).add(g);var E=this._containerBottom=-f.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=E+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});ct.include({_initOverlay:function(o,f,g,E){var I=f;return I instanceof o||(I=new o(E).setContent(f)),g&&I.setLatLng(g),I}}),ui.include({_initOverlay:function(o,f,g,E){var I=g;return I instanceof o?(B(I,E),I._source=this):(I=f&&!E?f:new o(E,this),I.setContent(g)),I}});var pe=le.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,le.prototype.openOn.call(this,o)},onAdd:function(o){le.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ir||this._source.on("preclick",mn))},onRemove:function(o){le.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ir||this._source.off("preclick",mn))},getEvents:function(){var o=le.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",f=this._container=_t("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=_t("div",o+"-content-wrapper",f);if(this._contentNode=_t("div",o+"-content",g),us(f),Gs(this._contentNode),lt(f,"contextmenu",mn),this._tipContainer=_t("div",o+"-tip-container",f),this._tip=_t("div",o+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=_t("a",o+"-close-button",f);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',lt(E,"click",function(I){Wt(I),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,f=o.style;f.width="",f.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),f.width=g+1+"px",f.whiteSpace="",f.height="";var E=o.offsetHeight,I=this.options.maxHeight,H="leaflet-popup-scrolled";I&&E>I?(f.height=I+"px",ut(o,H)):Tt(o,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();Jt(this._container,f.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,f=parseInt(mi(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+f,E=this._containerWidth,I=new se(this._containerLeft,-g-this._containerBottom);I._add(Qi(this._container));var H=o.layerPointToContainerPoint(I),ie=ce(this.options.autoPanPadding),me=ce(this.options.autoPanPaddingTopLeft||ie),be=ce(this.options.autoPanPaddingBottomRight||ie),Me=o.getSize(),qe=0,rt=0;H.x+E+be.x>Me.x&&(qe=H.x+E-Me.x+be.x),H.x-qe-me.x<0&&(qe=H.x-me.x),H.y+g+be.y>Me.y&&(rt=H.y+g-Me.y+be.y),H.y-rt-me.y<0&&(rt=H.y-me.y),(qe||rt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([qe,rt]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pe=function(o,f){return new pe(o,f)};ct.mergeOptions({closePopupOnClick:!0}),ct.include({openPopup:function(o,f,g){return this._initOverlay(pe,o,f,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ui.include({bindPopup:function(o,f){return this._popup=this._initOverlay(pe,this._popup,o,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Di||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){er(o);var f=o.layer||o.target;if(this._popup._source===f&&!(f instanceof ir)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=f,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ue=le.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){le.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){le.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=le.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",f=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var f,g,E=this._map,I=this._container,H=E.latLngToContainerPoint(E.getCenter()),ie=E.layerPointToContainerPoint(o),me=this.options.direction,be=I.offsetWidth,Me=I.offsetHeight,qe=ce(this.options.offset),rt=this._getAnchor();me==="top"?(f=be/2,g=Me):me==="bottom"?(f=be/2,g=0):me==="center"?(f=be/2,g=Me/2):me==="right"?(f=0,g=Me/2):me==="left"?(f=be,g=Me/2):ie.x<H.x?(me="right",f=0,g=Me/2):(me="left",f=be+(qe.x+rt.x)*2,g=Me/2),o=o.subtract(ce(f,g,!0)).add(qe).add(rt),Tt(I,"leaflet-tooltip-right"),Tt(I,"leaflet-tooltip-left"),Tt(I,"leaflet-tooltip-top"),Tt(I,"leaflet-tooltip-bottom"),ut(I,"leaflet-tooltip-"+me),Jt(I,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&on(this._container,o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(f)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),We=function(o,f){return new Ue(o,f)};ct.include({openTooltip:function(o,f,g){return this._initOverlay(Ue,o,f,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ui.include({bindTooltip:function(o,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ue,this._tooltip,o,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var f=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[f](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Di||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&(lt(f,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),lt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var f=o.latlng,g,E;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),E=this._map.containerPointToLayerPoint(g),f=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(f)}});var Je=cs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var f=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(xa(f),f.appendChild(g.html)):f.innerHTML=g.html!==!1?g.html:"",g.bgPos){var E=ce(g.bgPos);f.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function vt(o){return new Je(o)}cs.Default=Hs;var ft=ui.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){B(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ut(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Er(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof se?o:new se(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var f=this.getPane().children,g=-o(-1/0,1/0),E=0,I=f.length,H;E<I;E++)H=f[E].style.zIndex,f[E]!==this._container&&H&&(g=o(g,+H));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){on(this._container,this.options.opacity);var o=+new Date,f=!1,g=!1;for(var E in this._tiles){var I=this._tiles[E];if(!(!I.current||!I.loaded)){var H=Math.min(1,(o-I.loaded)/200);on(I.el,H),H<1?f=!0:(I.active?g=!0:this._onOpaqueTile(I),I.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),f&&(X(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,f=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=f-Math.abs(o-g),this._onUpdateLevel(g)):(Ut(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var E=this._levels[o],I=this._map;return E||(E=this._levels[o]={},E.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=f,E.origin=I.project(I.unproject(I.getPixelOrigin()),o).round(),E.zoom=o,this._setZoomTransform(E,I.getCenter(),I.getZoom()),b(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var o,f,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)f=this._tiles[o],f.retain=f.current;for(o in this._tiles)if(f=this._tiles[o],f.current&&!f.active){var E=f.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var f in this._tiles)this._tiles[f].coords.z===o&&this._removeTile(f)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ut(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,f,g,E){var I=Math.floor(o/2),H=Math.floor(f/2),ie=g-1,me=new se(+I,+H);me.z=+ie;var be=this._tileCoordsToKey(me),Me=this._tiles[be];return Me&&Me.active?(Me.retain=!0,!0):(Me&&Me.loaded&&(Me.retain=!0),ie>E?this._retainParent(I,H,ie,E):!1)},_retainChildren:function(o,f,g,E){for(var I=2*o;I<2*o+2;I++)for(var H=2*f;H<2*f+2;H++){var ie=new se(I,H);ie.z=g+1;var me=this._tileCoordsToKey(ie),be=this._tiles[me];if(be&&be.active){be.retain=!0;continue}else be&&be.loaded&&(be.retain=!0);g+1<E&&this._retainChildren(I,H,g+1,E)}},_resetView:function(o){var f=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var f=this.options;return f.minNativeZoom!==void 0&&o<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<o?f.maxNativeZoom:o},_setView:function(o,f,g,E){var I=Math.round(f);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var H=this.options.updateWhenZooming&&I!==this._tileZoom;(!E||H)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,f)},_setZoomTransforms:function(o,f){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,f)},_setZoomTransform:function(o,f,g){var E=this._map.getZoomScale(g,o.zoom),I=o.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(f,g)).round();Ke.any3d?xr(o.el,I,E):Jt(o.el,I)},_resetGrid:function(){var o=this._map,f=o.options.crs,g=this._tileSize=this.getTileSize(),E=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,f.wrapLng[0]],E).x/g.x),Math.ceil(o.project([0,f.wrapLng[1]],E).x/g.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([f.wrapLat[0],0],E).y/g.x),Math.ceil(o.project([f.wrapLat[1],0],E).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var f=this._map,g=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),E=f.getZoomScale(g,this._tileZoom),I=f.project(o,this._tileZoom).floor(),H=f.getSize().divideBy(E*2);return new ke(I.subtract(H),I.add(H))},_update:function(o){var f=this._map;if(f){var g=this._clampZoom(f.getZoom());if(o===void 0&&(o=f.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(o),I=this._pxBoundsToTileRange(E),H=I.getCenter(),ie=[],me=this.options.keepBuffer,be=new ke(I.getBottomLeft().subtract([me,-me]),I.getTopRight().add([me,-me]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Me in this._tiles){var qe=this._tiles[Me].coords;(qe.z!==this._tileZoom||!be.contains(new se(qe.x,qe.y)))&&(this._tiles[Me].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var rt=I.min.y;rt<=I.max.y;rt++)for(var gt=I.min.x;gt<=I.max.x;gt++){var Un=new se(gt,rt);if(Un.z=this._tileZoom,!!this._isValidTile(Un)){var vn=this._tiles[this._tileCoordsToKey(Un)];vn?vn.current=!0:ie.push(Un)}}if(ie.sort(function(ei,Ga){return ei.distanceTo(H)-Ga.distanceTo(H)}),ie.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Li=document.createDocumentFragment();for(gt=0;gt<ie.length;gt++)this._addTile(ie[gt],Li);this._level.el.appendChild(Li)}}}},_isValidTile:function(o){var f=this._map.options.crs;if(!f.infinite){var g=this._globalTileRange;if(!f.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!f.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(o);return Oe(this.options.bounds).overlaps(E)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var f=this._map,g=this.getTileSize(),E=o.scaleBy(g),I=E.add(g),H=f.unproject(E,o.z),ie=f.unproject(I,o.z);return[H,ie]},_tileCoordsToBounds:function(o){var f=this._tileCoordsToNwSe(o),g=new $e(f[0],f[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var f=o.split(":"),g=new se(+f[0],+f[1]);return g.z=+f[2],g},_removeTile:function(o){var f=this._tiles[o];f&&(Ut(f.el),delete this._tiles[o],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ut(o,"leaflet-tile");var f=this.getTileSize();o.style.width=f.x+"px",o.style.height=f.y+"px",o.onselectstart=b,o.onmousemove=b,Ke.ielt9&&this.options.opacity<1&&on(o,this.options.opacity)},_addTile:function(o,f){var g=this._getTilePos(o),E=this._tileCoordsToKey(o),I=this.createTile(this._wrapCoords(o),d(this._tileReady,this,o));this._initTile(I),this.createTile.length<2&&Y(d(this._tileReady,this,o,null,I)),Jt(I,g),this._tiles[E]={el:I,coords:o,current:!0},f.appendChild(I),this.fire("tileloadstart",{tile:I,coords:o})},_tileReady:function(o,f,g){f&&this.fire("tileerror",{error:f,tile:g,coords:o});var E=this._tileCoordsToKey(o);g=this._tiles[E],g&&(g.loaded=+new Date,this._map._fadeAnimated?(on(g.el,0),X(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),f||(ut(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var f=new se(this._wrapX?v(o.x,this._wrapX):o.x,this._wrapY?v(o.y,this._wrapY):o.y);return f.z=o.z,f},_pxBoundsToTileRange:function(o){var f=this.getTileSize();return new ke(o.min.unscaleBy(f).floor(),o.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Ot(o){return new ft(o)}var Ht=ft.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,f){this._url=o,f=B(this,f),f.detectRetina&&Ke.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,f){return this._url===o&&f===void 0&&(f=!0),this._url=o,f||this.redraw(),this},createTile:function(o,f){var g=document.createElement("img");return lt(g,"load",d(this._tileOnLoad,this,f,g)),lt(g,"error",d(this._tileOnError,this,f,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var f={r:Ke.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(f.y=g),f["-y"]=g}return $(this._url,i(f,this.options))},_tileOnLoad:function(o,f){Ke.ielt9?setTimeout(d(o,this,null,f),0):o(null,f)},_tileOnError:function(o,f,g){var E=this.options.errorTileUrl;E&&f.getAttribute("src")!==E&&(f.src=E),o(g,f)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,f=this.options.maxZoom,g=this.options.zoomReverse,E=this.options.zoomOffset;return g&&(o=f-o),o+E},_getSubdomain:function(o){var f=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var o,f;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(f=this._tiles[o].el,f.onload=b,f.onerror=b,!f.complete)){f.src=x;var g=this._tiles[o].coords;Ut(f),delete this._tiles[o],this.fire("tileabort",{tile:f,coords:g})}},_removeTile:function(o){var f=this._tiles[o];if(f)return f.el.setAttribute("src",x),ft.prototype._removeTile.call(this,o)},_tileReady:function(o,f,g){if(!(!this._map||g&&g.getAttribute("src")===x))return ft.prototype._tileReady.call(this,o,f,g)}});function un(o,f){return new Ht(o,f)}var sr=Ht.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,f){this._url=o;var g=i({},this.defaultWmsParams);for(var E in f)E in this.options||(g[E]=f[E]);f=B(this,f);var I=f.detectRetina&&Ke.retina?2:1,H=this.getTileSize();g.width=H.x*I,g.height=H.y*I,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Ht.prototype.onAdd.call(this,o)},getTileUrl:function(o){var f=this._tileCoordsToNwSe(o),g=this._crs,E=Fe(g.project(f[0]),g.project(f[1])),I=E.min,H=E.max,ie=(this._wmsVersion>=1.3&&this._crs===al?[I.y,I.x,H.y,H.x]:[I.x,I.y,H.x,H.y]).join(","),me=Ht.prototype.getTileUrl.call(this,o);return me+z(this.wmsParams,me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ie},setParams:function(o,f){return i(this.wmsParams,o),f||this.redraw(),this}});function js(o,f){return new sr(o,f)}Ht.WMS=sr,un.wms=js;var ki=ui.extend({options:{padding:.1},initialize:function(o){B(this,o),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,f){var g=this._map.getZoomScale(f,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,f),H=E.multiplyBy(-g).add(I).subtract(this._map._getNewPixelOrigin(o,f));Ke.any3d?xr(this._container,H,g):Jt(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,f=this._map.getSize(),g=this._map.containerPointToLayerPoint(f.multiplyBy(-o)).round();this._bounds=new ke(g,g.add(f.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wo=ki.extend({options:{tolerance:0},getEvents:function(){var o=ki.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");lt(o,"mousemove",this._onMouseMove,this),lt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Ut(this._container),Mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var f in this._layers)o=this._layers[f],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var o=this._bounds,f=this._container,g=o.getSize(),E=Ke.retina?2:1;Jt(f,o.min),f.width=E*g.x,f.height=E*g.y,f.style.width=g.x+"px",f.style.height=g.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[m(o)]=o;var f=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var f=o._order,g=f.next,E=f.prev;g?g.prev=E:this._drawLast=E,E?E.next=g:this._drawFirst=g,delete o._order,delete this._layers[m(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var f=o.options.dashArray.split(/[, ]+/),g=[],E,I;for(I=0;I<f.length;I++){if(E=Number(f[I]),isNaN(E))return;g.push(E)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var f=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ke,this._redrawBounds.extend(o._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(o._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var f=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,f=this._redrawBounds;if(this._ctx.save(),f){var g=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)o=E.layer,(!f||o._pxBounds&&o._pxBounds.intersects(f))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,f){if(this._drawing){var g,E,I,H,ie=o._parts,me=ie.length,be=this._ctx;if(me){for(be.beginPath(),g=0;g<me;g++){for(E=0,I=ie[g].length;E<I;E++)H=ie[g][E],be[E?"lineTo":"moveTo"](H.x,H.y);f&&be.closePath()}this._fillStroke(be,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var f=o._point,g=this._ctx,E=Math.max(Math.round(o._radius),1),I=(Math.max(Math.round(o._radiusY),1)||E)/E;I!==1&&(g.save(),g.scale(1,I)),g.beginPath(),g.arc(f.x,f.y/I,E,0,Math.PI*2,!1),I!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,f){var g=f.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(f.options&&f.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var f=this._map.mouseEventToLayerPoint(o),g,E,I=this._drawFirst;I;I=I.next)g=I.layer,g.options.interactive&&g._containsPoint(f)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(E=g);this._fireEvent(E?[E]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,f)}},_handleMouseOut:function(o){var f=this._hoveredLayer;f&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,f){if(!this._mouseHoverThrottled){for(var g,E,I=this._drawFirst;I;I=I.next)g=I.layer,g.options.interactive&&g._containsPoint(f)&&(E=g);E!==this._hoveredLayer&&(this._handleMouseOut(o),E&&(ut(this._container,"leaflet-interactive"),this._fireEvent([E],o,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,f,g){this._map._fireDOMEvent(f,g||f.type,o)},_bringToFront:function(o){var f=o._order;if(f){var g=f.next,E=f.prev;if(g)g.prev=E;else return;E?E.next=g:g&&(this._drawFirst=g),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(o)}},_bringToBack:function(o){var f=o._order;if(f){var g=f.next,E=f.prev;if(E)E.next=g;else return;g?g.prev=E:E&&(this._drawLast=E),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(o)}}});function Zo(o){return Ke.canvas?new Wo(o):null}var fs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),hl={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var f=o._container=fs("shape");ut(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",o._path=fs("path"),f.appendChild(o._path),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){var f=o._container;this._container.appendChild(f),o.options.interactive&&o.addInteractiveTarget(f)},_removePath:function(o){var f=o._container;Ut(f),o.removeInteractiveTarget(f),delete this._layers[m(o)]},_updateStyle:function(o){var f=o._stroke,g=o._fill,E=o.options,I=o._container;I.stroked=!!E.stroke,I.filled=!!E.fill,E.stroke?(f||(f=o._stroke=fs("stroke")),I.appendChild(f),f.weight=E.weight+"px",f.color=E.color,f.opacity=E.opacity,E.dashArray?f.dashStyle=q(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=E.lineCap.replace("butt","flat"),f.joinstyle=E.lineJoin):f&&(I.removeChild(f),o._stroke=null),E.fill?(g||(g=o._fill=fs("fill")),I.appendChild(g),g.color=E.fillColor||E.color,g.opacity=E.fillOpacity):g&&(I.removeChild(g),o._fill=null)},_updateCircle:function(o){var f=o._point.round(),g=Math.round(o._radius),E=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+f.x+","+f.y+" "+g+","+E+" 0,"+65535*360)},_setPath:function(o,f){o._path.v=f},_bringToFront:function(o){rs(o._container)},_bringToBack:function(o){Er(o._container)}},Ws=Ke.vml?fs:_e,Cr=ki.extend({_initContainer:function(){this._container=Ws("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ws("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ut(this._container),Mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var o=this._bounds,f=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,g.setAttribute("width",f.x),g.setAttribute("height",f.y)),Jt(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(o){var f=o._path=Ws("path");o.options.className&&ut(f,o.options.className),o.options.interactive&&ut(f,"leaflet-interactive"),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ut(o._path),o.removeInteractiveTarget(o._path),delete this._layers[m(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var f=o._path,g=o.options;f&&(g.stroke?(f.setAttribute("stroke",g.color),f.setAttribute("stroke-opacity",g.opacity),f.setAttribute("stroke-width",g.weight),f.setAttribute("stroke-linecap",g.lineCap),f.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?f.setAttribute("stroke-dasharray",g.dashArray):f.removeAttribute("stroke-dasharray"),g.dashOffset?f.setAttribute("stroke-dashoffset",g.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),g.fill?(f.setAttribute("fill",g.fillColor||g.color),f.setAttribute("fill-opacity",g.fillOpacity),f.setAttribute("fill-rule",g.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(o,f){this._setPath(o,Le(o._parts,f))},_updateCircle:function(o){var f=o._point,g=Math.max(Math.round(o._radius),1),E=Math.max(Math.round(o._radiusY),1)||g,I="a"+g+","+E+" 0 1,0 ",H=o._empty()?"M0 0":"M"+(f.x-g)+","+f.y+I+g*2+",0 "+I+-g*2+",0 ";this._setPath(o,H)},_setPath:function(o,f){o._path.setAttribute("d",f)},_bringToFront:function(o){rs(o._path)},_bringToBack:function(o){Er(o._path)}});Ke.vml&&Cr.include(hl);function za(o){return Ke.svg||Ke.vml?new Cr(o):null}ct.include({getRenderer:function(o){var f=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var f=this._paneRenderers[o];return f===void 0&&(f=this._createRenderer({pane:o}),this._paneRenderers[o]=f),f},_createRenderer:function(o){return this.options.preferCanvas&&Zo(o)||za(o)}});var Mh=ds.extend({initialize:function(o,f){ds.prototype.initialize.call(this,this._boundsToLatLngs(o),f)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Oe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function F0(o,f){return new Mh(o,f)}Cr.create=Ws,Cr.pointsToPath=Le,wi.geometryToLayer=Da,wi.coordsToLatLng=rr,wi.coordsToLatLngs=Ba,wi.latLngToCoords=Fa,wi.latLngsToCoords=Ln,wi.getFeature=En,wi.asFeature=c,ct.mergeOptions({boxZoom:!0});var Oh=yi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Oi(),Io(),this._startPoint=this._map.mouseEventToContainerPoint(o),lt(document,{contextmenu:er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var f=new ke(this._point,this._startPoint),g=f.getSize();Jt(this._box,f.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Ut(this._box),Tt(this._container,"leaflet-crosshair")),ss(),Fs(),Mt(document,{contextmenu:er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var f=new $e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ct.addInitHook("addHandler","boxZoom",Oh),ct.mergeOptions({doubleClickZoom:!0});var Ah=yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var f=this._map,g=f.getZoom(),E=f.options.zoomDelta,I=o.originalEvent.shiftKey?g-E:g+E;f.options.doubleClickZoom==="center"?f.setZoom(I):f.setZoomAround(o.containerPoint,I)}});ct.addInitHook("addHandler","doubleClickZoom",Ah),ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rh=yi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new nr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Oe(this._map.options.maxBounds);this._offsetLimit=Fe(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var f=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(f),this._prunePositions(f)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,f){return o-(o-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;o.x<f.min.x&&(o.x=this._viscousLimit(o.x,f.min.x)),o.y<f.min.y&&(o.y=this._viscousLimit(o.y,f.min.y)),o.x>f.max.x&&(o.x=this._viscousLimit(o.x,f.max.x)),o.y>f.max.y&&(o.y=this._viscousLimit(o.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,f=Math.round(o/2),g=this._initialWorldOffset,E=this._draggable._newPos.x,I=(E-f+g)%o+f-g,H=(E+f+g)%o-f-g,ie=Math.abs(I+g)<Math.abs(H+g)?I:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ie},_onDragEnd:function(o){var f=this._map,g=f.options,E=!g.inertia||o.noInertia||this._times.length<2;if(f.fire("dragend",o),E)f.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,ie=g.easeLinearity,me=I.multiplyBy(ie/H),be=me.distanceTo([0,0]),Me=Math.min(g.inertiaMaxSpeed,be),qe=me.multiplyBy(Me/be),rt=Me/(g.inertiaDeceleration*ie),gt=qe.multiplyBy(-rt/2).round();!gt.x&&!gt.y?f.fire("moveend"):(gt=f._limitOffset(gt,f.options.maxBounds),Y(function(){f.panBy(gt,{duration:rt,easeLinearity:ie,noMoveStart:!0,animate:!0})}))}}});ct.addInitHook("addHandler","dragging",Rh),ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dh=yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),lt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,f=document.documentElement,g=o.scrollTop||f.scrollTop,E=o.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(E,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var f=this._panKeys={},g=this.keyCodes,E,I;for(E=0,I=g.left.length;E<I;E++)f[g.left[E]]=[-1*o,0];for(E=0,I=g.right.length;E<I;E++)f[g.right[E]]=[o,0];for(E=0,I=g.down.length;E<I;E++)f[g.down[E]]=[0,o];for(E=0,I=g.up.length;E<I;E++)f[g.up[E]]=[0,-1*o]},_setZoomDelta:function(o){var f=this._zoomKeys={},g=this.keyCodes,E,I;for(E=0,I=g.zoomIn.length;E<I;E++)f[g.zoomIn[E]]=o;for(E=0,I=g.zoomOut.length;E<I;E++)f[g.zoomOut[E]]=-o},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var f=o.keyCode,g=this._map,E;if(f in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(E=this._panKeys[f],o.shiftKey&&(E=ce(E).multiplyBy(3)),g.options.maxBounds&&(E=g._limitOffset(ce(E),g.options.maxBounds)),g.options.worldCopyJump){var I=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(E)));g.panTo(I)}else g.panBy(E)}else if(f in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;er(o)}}});ct.addInitHook("addHandler","keyboard",Dh),ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bh=yi.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var f=Ro(o),g=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var E=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),E),er(o)},_performZoom:function(){var o=this._map,f=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,H=g?Math.ceil(I/g)*g:I,ie=o._limitZoom(f+(this._delta>0?H:-H))-f;this._delta=0,this._startTime=null,ie&&(o.options.scrollWheelZoom==="center"?o.setZoom(f+ie):o.setZoomAround(this._lastMousePos,f+ie))}});ct.addInitHook("addHandler","scrollWheelZoom",Bh);var z0=600;ct.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var Fh=yi.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var f=o.touches[0];this._startPos=this._newPos=new se(f.clientX,f.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",Wt),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),z0),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Mt(document,"touchend",Wt),Mt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)},_onMove:function(o){var f=o.touches[0];this._newPos=new se(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,f){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});g._simulated=!0,f.target.dispatchEvent(g)}});ct.addInitHook("addHandler","tapHold",Fh),ct.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var zh=yi.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var f=this._map;if(!(!o.touches||o.touches.length!==2||f._animatingZoom||this._zooming)){var g=f.mouseEventToContainerPoint(o.touches[0]),E=f.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(g.add(E)._divideBy(2))),this._startDist=g.distanceTo(E),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),Wt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var f=this._map,g=f.mouseEventToContainerPoint(o.touches[0]),E=f.mouseEventToContainerPoint(o.touches[1]),I=g.distanceTo(E)/this._startDist;if(this._zoom=f.getScaleZoom(I,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&I<1||this._zoom>f.getMaxZoom()&&I>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var H=g._add(E)._divideBy(2)._subtract(this._centerPoint);if(I===1&&H.x===0&&H.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var ie=d(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(ie,this,!0),Wt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ct.addInitHook("addHandler","touchZoom",zh),ct.BoxZoom=Oh,ct.DoubleClickZoom=Ah,ct.Drag=Rh,ct.Keyboard=Dh,ct.ScrollWheelZoom=Bh,ct.TapHold=Fh,ct.TouchZoom=zh,s.Bounds=ke,s.Browser=Ke,s.CRS=de,s.Canvas=Wo,s.Circle=Ra,s.CircleMarker=qs,s.Class=j,s.Control=oi,s.DivIcon=Je,s.DivOverlay=le,s.DomEvent=td,s.DomUtil=Ca,s.Draggable=nr,s.Evented=ae,s.FeatureGroup=Di,s.GeoJSON=wi,s.GridLayer=ft,s.Handler=yi,s.Icon=cs,s.ImageOverlay=p,s.LatLng=Ee,s.LatLngBounds=$e,s.Layer=ui,s.LayerGroup=ls,s.LineUtil=Vo,s.Map=ct,s.Marker=Aa,s.Mixin=sd,s.Path=ir,s.Point=se,s.PolyUtil=zn,s.Polygon=ds,s.Polyline=bi,s.Popup=pe,s.PosAnimation=Do,s.Projection=od,s.Rectangle=Mh,s.Renderer=ki,s.SVG=Cr,s.SVGOverlay=V,s.TileLayer=Ht,s.Tooltip=Ue,s.Transformation=Ne,s.Util=W,s.VideoOverlay=S,s.bind=d,s.bounds=Fe,s.canvas=Zo,s.circle=fd,s.circleMarker=cl,s.control=_n,s.divIcon=vt,s.extend=i,s.featureGroup=ul,s.geoJSON=r,s.geoJson=l,s.gridLayer=Ot,s.icon=cd,s.imageOverlay=w,s.latLng=Te,s.latLngBounds=Oe,s.layerGroup=ol,s.map=Na,s.marker=dd,s.point=ce,s.polygon=dl,s.polyline=jo,s.popup=Pe,s.rectangle=F0,s.setOptions=B,s.stamp=m,s.svg=za,s.svgOverlay=Q,s.tileLayer=un,s.tooltip=We,s.transformation=N,s.version=a,s.videoOverlay=M;var G0=window.L;s.noConflict=function(){return window.L=G0,this},window.L=s}))})(uu,uu.exports)),uu.exports}var Ct=RN();const Or=Lh(Ct);(function(e,t,s){function a(i,u){for(;(i=i.parentElement)&&!i.classList.contains(u););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,u){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,u&&u.shapeOptions&&(u.shapeOptions=L.Util.extend({},this.options.shapeOptions,u.shapeOptions)),L.setOptions(this,u);var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),u=this._poly,d=u.getLatLngs(),h=d.splice(-1,1)[0];this._poly.setLatLngs(d),this._markerGroup.removeLayer(i),u.getLatLngs().length<2&&this._map.removeLayer(u),this._vertexChanged(h,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),u=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&u||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var u=this._map.mouseEventToLayerPoint(i.originalEvent),d=this._map.layerPointToLatLng(u);this._currentLatLng=d,this._updateTooltip(d),this._updateGuide(u),this._mouseMarker.setLatLng(d),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,u){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,u),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var u=i.originalEvent,d=u.clientX,h=u.clientY;this._startPoint.call(this,d,h)}},_startPoint:function(i,u){this._mouseDownOrigin=L.point(i,u)},_onMouseUp:function(i){var u=i.originalEvent,d=u.clientX,h=u.clientY;this._endPoint.call(this,d,h,i),this._clickHandled=null},_endPoint:function(i,u,d){if(this._mouseDownOrigin){var h=L.point(i,u).distanceTo(this._mouseDownOrigin),m=this._calculateFinishDistance(d.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(d.latlng),this._finishShape()):m<10&&L.Browser.touch?this._finishShape():Math.abs(h)<9*(e.devicePixelRatio||1)&&this.addVertex(d.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var u,d,h=i.originalEvent;!h.touches||!h.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(u=h.touches[0].clientX,d=h.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,u,d),this._endPoint.call(this,u,d,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var u;if(this._markers.length>0){var d;if(this.type===L.Draw.Polyline.TYPE)d=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;d=this._markers[0]}var h=this._map.latLngToContainerPoint(d.getLatLng()),m=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),y=this._map.latLngToContainerPoint(m.getLatLng());u=h.distanceTo(y)}else u=1/0;return u},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var u=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(u),u},_updateGuide:function(i){var u=this._markers?this._markers.length:0;u>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[u-1].getLatLng()),i))},_updateTooltip:function(i){var u=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(u)},_drawGuide:function(i,u){var d,h,m,y=Math.floor(Math.sqrt(Math.pow(u.x-i.x,2)+Math.pow(u.y-i.y,2))),v=this.options.guidelineDistance,b=this.options.maxGuideLineLength,T=y>b?y-b:v;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));T<y;T+=this.options.guidelineDistance)d=T/y,h={x:Math.floor(i.x*(1-d)+d*u.x),y:Math.floor(i.y*(1-d)+d*u.y)},m=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),m.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(m,h)},_updateGuideColor:function(i){if(this._guidesContainer)for(var u=0,d=this._guidesContainer.childNodes.length;u<d;u++)this._guidesContainer.childNodes[u].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,u,d=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(u=d?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:u}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:u}),i},_updateRunningMeasure:function(i,u){var d,h,m=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(d=m-(u?2:1),h=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[d].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[d].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=h*(u?1:-1))},_getMeasurementString:function(){var i,u=this._currentLatLng,d=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?d&&u&&u.distanceTo?this._measurementRunningTotal+u.distanceTo(d)*(this.options.factor||1):this._measurementRunningTotal||0:d&&u?this._measurementRunningTotal+this._map.distance(u,d)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,u){L.Draw.Polyline.prototype.initialize.call(this,i,u),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,u;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,u=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,u=this._getMeasurementString()),{text:i,subtext:u}},_getMeasurementString:function(){var i=this._area,u="";return i||this.options.showLength?(this.options.showLength&&(u=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(u+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),u):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,u){var d;!this.options.allowIntersection&&this.options.showArea&&(d=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(d)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,u)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,u){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var u=i.latlng;this._tooltip.updatePosition(u),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(u))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,u){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,u)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!a(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,u,d,h=L.Draw.SimpleShape.prototype._getTooltipText.call(this),m=this._shape,y=this.options.showArea;return m&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),u=L.GeometryUtil.geodesicArea(i),d=y?L.GeometryUtil.readableArea(u,this.options.metric):""),{text:h.text,subtext:d}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,u){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var u=i.latlng;this._tooltip.updatePosition(u),this._mouseMarker.setLatLng(u),this._marker?(u=this._mouseMarker.getLatLng(),this._marker.setLatLng(u)):(this._marker=this._createMarker(u),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,u){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,u)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,u){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,u)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var u=this._startLatLng.distanceTo(i);else var u=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(u):(this._shape=new L.Circle(this._startLatLng,u,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var u,d=i.latlng,h=this.options.showRadius,m=this.options.metric;if(this._tooltip.updatePosition(d),this._isDrawing){this._drawShape(d),u=this._shape.getRadius().toFixed(1);var y="";h&&(y=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(u,m,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:y})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,u){this._marker=i,L.setOptions(this,u)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var u=i.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,u){var d=parseInt(i.style.marginTop,10)-u,h=parseInt(i.style.marginLeft,10)-u;i.style.marginTop=d+"px",i.style.marginLeft=h+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var u=0;u<this._verticesHandlers.length;u++)i(this._verticesHandlers[u])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,u,d){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,d&&d.drawError&&(d.drawError=L.Util.extend({},this.options.drawError,d.drawError)),this._latlngs=u,L.setOptions(this,d)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,u=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),u&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(d){L.DomUtil.removeClass(u,d)}),i.options.editing.className.split(" ").forEach(function(d){L.DomUtil.addClass(u,d)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,u=i._path;u&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(d){L.DomUtil.removeClass(u,d)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(d){L.DomUtil.addClass(u,d)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,u,d,h,m=this._defaultShape();for(i=0,d=m.length;i<d;i++)h=this._createMarker(m[i],i),h.on("click",this._onMarkerClick,this),h.on("contextmenu",this._onContextMenu,this),this._markers.push(h);var y,v;for(i=0,u=d-1;i<d;u=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(y=this._markers[u],v=this._markers[i],this._createMiddleMarker(y,v),this._updatePrevNext(y,v))},_createMarker:function(i,u){var d=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return d._origLatLng=i,d._index=u,d.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(d),d},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),u=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),u},_removeMarker:function(i){var u=i._index;this._markerGroup.removeLayer(i),this._markers.splice(u,1),this._spliceLatLngs(u,1),this._updateIndexes(u,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var u=i.target,d=this._poly,h=L.LatLngUtil.cloneLatLng(u._origLatLng);if(L.extend(u._origLatLng,u._latlng),d.options.poly){var m=d._map._editTooltip;if(!d.options.poly.allowIntersection&&d.intersects()){L.extend(u._origLatLng,h),u.setLatLng(h);var y=d.options.color;d.setStyle({color:this.options.drawError.color}),m&&m.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){d.setStyle({color:y}),m&&m.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}u._middleLeft&&u._middleLeft.setLatLng(this._getMiddleLatLng(u._prev,u)),u._middleRight&&u._middleRight.setLatLng(this._getMiddleLatLng(u,u._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var v=this._poly.getLatLngs();this._poly._convertLatLngs(v,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var u=L.Polygon&&this._poly instanceof L.Polygon?4:3,d=i.target;this._defaultShape().length<u||(this._removeMarker(d),this._updatePrevNext(d._prev,d._next),d._middleLeft&&this._markerGroup.removeLayer(d._middleLeft),d._middleRight&&this._markerGroup.removeLayer(d._middleRight),d._prev&&d._next?this._createMiddleMarker(d._prev,d._next):d._prev?d._next||(d._prev._middleRight=null):d._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var u=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:u,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var u=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),d=this._map.layerPointToLatLng(u),h=i.target;L.extend(h._origLatLng,d),h._middleLeft&&h._middleLeft.setLatLng(this._getMiddleLatLng(h._prev,h)),h._middleRight&&h._middleRight.setLatLng(this._getMiddleLatLng(h,h._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,u){this._markerGroup.eachLayer(function(d){d._index>i&&(d._index+=u)})},_createMiddleMarker:function(i,u){var d,h,m,y=this._getMiddleLatLng(i,u),v=this._createMarker(y);v.setOpacity(.6),i._middleRight=u._middleLeft=v,h=function(){v.off("touchmove",h,this);var b=u._index;v._index=b,v.off("click",d,this).on("click",this._onMarkerClick,this),y.lat=v.getLatLng().lat,y.lng=v.getLatLng().lng,this._spliceLatLngs(b,0,y),this._markers.splice(b,0,v),v.setOpacity(1),this._updateIndexes(b,1),u._index++,this._updatePrevNext(i,v),this._updatePrevNext(v,u),this._poly.fire("editstart")},m=function(){v.off("dragstart",h,this),v.off("dragend",m,this),v.off("touchmove",h,this),this._createMiddleMarker(i,v),this._createMiddleMarker(v,u)},d=function(){h.call(this),m.call(this),this._fireEdit()},v.on("click",d,this).on("dragstart",h,this).on("dragend",m,this).on("touchmove",h,this),this._markerGroup.addLayer(v)},_updatePrevNext:function(i,u){i&&(i._next=u),u&&(u._prev=i)},_getMiddleLatLng:function(i,u){var d=this._poly._map,h=d.project(i.getLatLng()),m=d.project(u.getLatLng());return d.unproject(h._add(m)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,u){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,u)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var u=0,d=this._resizeMarkers.length;u<d;u++)this._unbindMarker(this._resizeMarkers[u]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,u){var d=new L.Marker.Touch(i,{draggable:!0,icon:u,zIndexOffset:10});return this._bindMarker(d),this._markerGroup.addLayer(d),d},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var u=i.target,d=u.getLatLng();u===this._moveMarker?this._move(d):this._resize(d),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var u=this._getCorners(),d=i.target,h=d._cornerIndex;d.setOpacity(0),this._oppositeCorner=u[(h+2)%4],this._toggleCornerMarkers(0,h)}this._shape.fire("editstart")},_onTouchMove:function(i){var u=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),d=this._map.layerPointToLatLng(u);return i.target===this._moveMarker?this._move(d):this._resize(d),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),u=i.getCenter();this._moveMarker=this._createMarker(u,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var u=0,d=i.length;u<d;u++)this._resizeMarkers.push(this._createMarker(i[u],this.options.resizeIcon)),this._resizeMarkers[u]._cornerIndex=u},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var u=this._getCorners(),d=i.target,h=d._cornerIndex;this._oppositeCorner=u[(h+2)%4],this._toggleCornerMarkers(0,h)},_onMarkerDragEnd:function(i){var u,d,h=i.target;h===this._moveMarker&&(u=this._shape.getBounds(),d=u.getCenter(),h.setLatLng(d)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var u,d=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),h=this._shape.getBounds(),m=h.getCenter(),y=[],v=0,b=d.length;v<b;v++)u=[d[v].lat-m.lat,d[v].lng-m.lng],y.push([i.lat+u[0],i.lng+u[1]]);this._shape.setLatLngs(y),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var u;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),u=this._shape.getBounds(),this._moveMarker.setLatLng(u.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var u=0,d=this._resizeMarkers.length;u<d;u++)this._resizeMarkers[u].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),u=0,d=this._resizeMarkers.length;u<d;u++)this._resizeMarkers[u].setLatLng(i[u])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var u=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(u)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),u=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(u,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var u=this._shape._radius*Math.cos(Math.PI/4),d=this._map.project(i);return this._map.unproject([d.x+u,d.y-u])},_resize:function(i){var u=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=u.distanceTo(i):radius=this._map.distance(u,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,u){var d={};if(i.touches!==void 0){if(!i.touches.length)return;d=i.touches[0]}else if(i.pointerType!=="touch"||(d=i,!this._filterClick(i)))return;var h=this._map.mouseEventToContainerPoint(d),m=this._map.mouseEventToLayerPoint(d),y=this._map.layerPointToLatLng(m);this._map.fire(u,{latlng:y,layerPoint:m,containerPoint:h,pageX:d.pageX,pageY:d.pageY,originalEvent:i})},_filterClick:function(i){var u=i.timeStamp||i.originalEvent.timeStamp,d=L.DomEvent._lastClick&&u-L.DomEvent._lastClick;return d&&d>100&&d<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=u,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var u="touchcancel";this._detectIE()&&(u="pointercancel"),this._touchEvent(i,u)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=e.navigator.userAgent,u=i.indexOf("MSIE ");if(u>0)return parseInt(i.substring(u+5,i.indexOf(".",u)),10);if(i.indexOf("Trident/")>0){var d=i.indexOf("rv:");return parseInt(i.substring(d+3,i.indexOf(".",d)),10)}var h=i.indexOf("Edge/");return h>0&&parseInt(i.substring(h+5,i.indexOf(".",h)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,u=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?u.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):u.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var d=0;d<u.length;d++)L.DomEvent.on(i,u[d],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=e.navigator.userAgent,u=i.indexOf("MSIE ");if(u>0)return parseInt(i.substring(u+5,i.indexOf(".",u)),10);if(i.indexOf("Trident/")>0){var d=i.indexOf("rv:");return parseInt(i.substring(d+3,i.indexOf(".",d)),10)}var h=i.indexOf("Edge/");return h>0&&parseInt(i.substring(h+5,i.indexOf(".",h)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var u=[],d=0,h=i.length;d<h;d++)Array.isArray(i[d])?u.push(L.LatLngUtil.cloneLatLngs(i[d])):u.push(this.cloneLatLng(i[d]));return u},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},(function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(u){var d,h,m=u.length,y=0,v=Math.PI/180;if(m>2){for(var b=0;b<m;b++)d=u[b],h=u[(b+1)%m],y+=(h.lng-d.lng)*v*(2+Math.sin(d.lat*v)+Math.sin(h.lat*v));y=6378137*y*6378137/2}return Math.abs(y)},formattedNumber:function(u,d){var h=parseFloat(u).toFixed(d),m=L.drawLocal.format&&L.drawLocal.format.numeric,y=m&&m.delimiters,v=y&&y.thousands,b=y&&y.decimal;if(v||b){var T=h.split(".");h=v?T[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v):T[0],b=b||".",T.length>1&&(h=h+b+T[1])}return h},readableArea:function(u,d,v){var m,y,v=L.Util.extend({},i,v);return d?(y=["ha","m"],type=typeof d,type==="string"?y=[d]:type!=="boolean"&&(y=d),m=u>=1e6&&y.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*u,v.km)+" km":u>=1e4&&y.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*u,v.ha)+" ha":L.GeometryUtil.formattedNumber(u,v.m)+" m"):(u/=.836127,m=u>=3097600?L.GeometryUtil.formattedNumber(u/3097600,v.mi)+" mi":u>=4840?L.GeometryUtil.formattedNumber(u/4840,v.ac)+" acres":L.GeometryUtil.formattedNumber(u,v.yd)+" yd"),m},readableDistance:function(u,d,h,m,b){var v,b=L.Util.extend({},i,b);switch(d?typeof d=="string"?d:"metric":h?"feet":m?"nauticalMile":"yards"){case"metric":v=u>1e3?L.GeometryUtil.formattedNumber(u/1e3,b.km)+" km":L.GeometryUtil.formattedNumber(u,b.m)+" m";break;case"feet":u*=3.28083,v=L.GeometryUtil.formattedNumber(u,b.ft)+" ft";break;case"nauticalMile":u*=.53996,v=L.GeometryUtil.formattedNumber(u/1e3,b.nm)+" nm";break;case"yards":default:u*=1.09361,v=u>1760?L.GeometryUtil.formattedNumber(u/1760,b.mi)+" miles":L.GeometryUtil.formattedNumber(u,b.yd)+" yd"}return v},isVersion07x:function(){var u=L.version.split(".");return parseInt(u[0],10)===0&&parseInt(u[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,u,d,h){return this._checkCounterclockwise(i,d,h)!==this._checkCounterclockwise(u,d,h)&&this._checkCounterclockwise(i,u,d)!==this._checkCounterclockwise(i,u,h)},_checkCounterclockwise:function(i,u,d){return(d.y-i.y)*(u.x-i.x)>(u.y-i.y)*(d.x-i.x)}}),L.Polyline.include({intersects:function(){var i,u,d,h=this._getProjectedPoints(),m=h?h.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=m-1;i>=3;i--)if(u=h[i-1],d=h[i],this._lineSegmentsIntersectsRange(u,d,i-2))return!0;return!1},newLatLngIntersects:function(i,u){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),u)},newPointIntersects:function(i,u){var d=this._getProjectedPoints(),h=d?d.length:0,m=d?d[h-1]:null,y=h-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(m,i,y,u?1:0)},_tooFewPointsForIntersection:function(i){var u=this._getProjectedPoints(),d=u?u.length:0;return d+=i||0,!u||d<=3},_lineSegmentsIntersectsRange:function(i,u,d,h){var m,y,v=this._getProjectedPoints();h=h||0;for(var b=d;b>h;b--)if(m=v[b-1],y=v[b],L.LineUtil.segmentsIntersect(i,u,m,y))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],u=this._defaultShape(),d=0;d<u.length;d++)i.push(this._map.latLngToLayerPoint(u[d]));return i}}),L.Polygon.include({intersects:function(){var i,u,d,h,m=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=m.length,u=m[0],d=m[i-1],h=i-2,this._lineSegmentsIntersectsRange(d,u,h,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var u;this._toolbars={},L.DrawToolbar&&this.options.draw&&(u=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=u,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(u=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=u,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var u,d=L.DomUtil.create("div","leaflet-draw"),h=!1;for(var m in this._toolbars)this._toolbars.hasOwnProperty(m)&&(u=this._toolbars[m].addToolbar(i))&&(h||(L.DomUtil.hasClass(u,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(u.childNodes[0],"leaflet-draw-toolbar-top"),h=!0),d.appendChild(u));return d},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var u in this._toolbars)this._toolbars[u]instanceof L.DrawToolbar&&this._toolbars[u].setOptions(i)},_toolbarEnabled:function(i){var u=i.target;for(var d in this._toolbars)this._toolbars[d]!==u&&this._toolbars[d].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var u,d=L.DomUtil.create("div","leaflet-draw-section"),h=0,m=this._toolbarClass||"",y=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,u=0;u<y.length;u++)y[u].enabled&&this._initModeHandler(y[u].handler,this._toolbarContainer,h++,m,y[u].title);if(h)return this._lastButtonIndex=--h,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),d.appendChild(this._toolbarContainer),d.appendChild(this._actionsContainer),d},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var u=0,d=this._actionButtons.length;u<d;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,u,d,h,m){var y=i.type;this._modes[y]={},this._modes[y].handler=i,this._modes[y].button=this._createButton({type:y,title:m,className:h+"-"+y,container:u,callback:this._modes[y].handler.enable,context:this._modes[y].handler}),this._modes[y].buttonIndex=d,this._modes[y].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(i){var u=L.DomUtil.create("a",i.className||"",i.container),d=L.DomUtil.create("span","sr-only",i.container);u.href="#",u.appendChild(d),i.title&&(u.title=i.title,d.innerHTML=i.title),i.text&&(u.innerHTML=i.text,d.innerHTML=i.text);var h=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(u,"click",L.DomEvent.stopPropagation).on(u,"mousedown",L.DomEvent.stopPropagation).on(u,"dblclick",L.DomEvent.stopPropagation).on(u,"touchstart",L.DomEvent.stopPropagation).on(u,"click",L.DomEvent.preventDefault).on(u,h,i.callback,i.context),u},_disposeButton:function(i,u){var d=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,d,u)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var u,d,h,m,y=this._actionsContainer,v=this.getActions(i),b=v.length;for(d=0,h=this._actionButtons.length;d<h;d++)this._disposeButton(this._actionButtons[d].button,this._actionButtons[d].callback);for(this._actionButtons=[];y.firstChild;)y.removeChild(y.firstChild);for(var T=0;T<b;T++)"enabled"in v[T]&&!v[T].enabled||(u=L.DomUtil.create("li","",y),m=this._createButton({title:v[T].title,text:v[T].text,container:u,callback:v[T].callback,context:v[T].context}),this._actionButtons.push({button:m,callback:v[T].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,u=this._lastButtonIndex,d=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=d+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===u&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var u=this._map.latLngToLayerPoint(i),d=this._container;return this._container&&(this._visible&&(d.style.visibility="inherit"),L.DomUtil.setPosition(d,u)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var u in this.options)this.options.hasOwnProperty(u)&&i[u]&&(i[u]=L.extend({},this.options[u],i[u]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var u in this._modes)this._modes.hasOwnProperty(u)&&i.hasOwnProperty(u)&&this._modes[u].handler.setOptions(i[u])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var u=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:u,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:u}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var u=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&u.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),u},addToolbar:function(i){var u=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),u},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,u=this.options.featureGroup,d=u.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,d?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",d?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,d?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",d?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,u){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,u),this._featureGroup=u.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(u){u.edited&&(i.addLayer(u),u.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var u=L.Util.stamp(i);this._uneditedLayerProps[u]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[u]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var u=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(u)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[u].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[u].latlng),i.setRadius(this._uneditedLayerProps[u].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[u].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var u,d,h=i.layer||i.target||i;this._backupLayer(h),this.options.poly&&(d=L.Util.extend({},this.options.poly),h.options.poly=d),this.options.selectedPathOptions&&(u=L.Util.extend({},this.options.selectedPathOptions),u.maintainColor&&(u.color=h.options.color,u.fillColor=h.options.fillColor),h.options.original=L.extend({},h.options),h.options.editing=u),h instanceof L.Marker?(h.editing&&h.editing.enable(),h.dragging.enable(),h.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):h.editing.enable()},_disableLayerEdit:function(i){var u=i.layer||i.target||i;u.edited=!1,u.editing&&u.editing.disable(),delete u.options.editing,delete u.options.original,this._selectedPathOptions&&(u instanceof L.Marker?this._toggleMarkerHighlight(u):(u.setStyle(u.options.previousOptions),delete u.options.previousOptions)),u instanceof L.Marker?(u.dragging.disable(),u.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):u.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var u=i.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_onTouchMove:function(i){var u=i.originalEvent.changedTouches[0],d=this._map.mouseEventToLayerPoint(u),h=this._map.layerPointToLatLng(d);i.target.setLatLng(h)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,u){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,u),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var u=i.layer||i.target||i;u.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(u)},_removeLayer:function(i){var u=i.layer||i.target||i;this._deletableLayers.removeLayer(u),this._deletedLayers.addLayer(u),u.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Qs=(e,t)=>{t.split(" ").forEach(s=>{e.classList.add(s)})},ea=(e,t)=>{t.split(" ").forEach(s=>{e.classList.remove(s)})},R0=Ct.Marker.extend({initialize(e,t){Ct.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const s=this._getIconSVG(e,t);this._locationIcon=Ct.divIcon({className:s.className,html:s.svg,iconSize:[s.w,s.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const s=e.radius,a=e.weight,i=s+a,u=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${u}" height="${u}" version="1.1" viewBox="-${i} -${i} ${u} ${u}"><circle r="`+s+'" style="'+t+'" /></svg>',w:u,h:u}},setStyle(e){Ct.setOptions(this,e),this.createIcon()}}),DN=R0.extend({initialize(e,t,s){Ct.setOptions(this,s),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const s=e.radius,a=e.width+e.weight,i=(s+e.depth+e.weight)*2,u=`M0,0 l${e.width/2},${e.depth} l-${a},0 z`,d=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${i}" version="1.1" viewBox="-${a/2} 0 ${a} ${i}" style="${d}"><path d="`+u+'" style="'+t+'" /></svg>',w:a,h:i}}}),BN=Ct.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:R0,compassClass:DN,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const s=Ct.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);s.title=t.strings.title,s.href="#",s.setAttribute("role","button");const a=Ct.DomUtil.create(t.iconElementTag,t.icon,s);if(t.strings.text!==void 0){const i=Ct.DomUtil.create(t.textElementTag,"leaflet-locate-text",s);i.textContent=t.strings.text,s.classList.add("leaflet-locate-text-active"),s.parentNode.style.display="flex",t.icon.length>0&&a.classList.add("leaflet-locate-icon")}return{link:s,icon:a}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?Ct.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=Ct.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=Ct.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=Ct.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=Ct.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new Ct.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const s=this.options.createButtonCallback(t,this.options);return this._link=s.link,this._icon=s.icon,Ct.DomEvent.on(this._link,"click",function(a){Ct.DomEvent.stopPropagation(a),Ct.DomEvent.preventDefault(a),this._onClick()},this).on(this._link,"dblclick",Ct.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let s=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(s=e?t.inView:t.inViewNotFollowing),t[s]&&(s=t[s]),s){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,s=function(){Ct.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(a){a==="granted"&&s()}):s()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?Ct.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&Ct.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),Ct.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const d=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(d):this._circle=Ct.circle(t,e,d).addTo(this._layer)}let s,a;if(this.options.metric?(s=e.toFixed(0),a=this.options.strings.metersUnit):(s=(e*3.2808399).toFixed(0),a=this.options.strings.feetUnit),this.options.drawMarker){const d=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(d)):this._marker=new this.options.markerClass(t,d).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function u(){return typeof i=="string"?Ct.Util.template(i,{distance:s,unit:a}):typeof i=="function"?i({distance:s,unit:a}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(u())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(u())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,Ct.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(ea(this._container,"active following"),Qs(this._container,"requesting"),ea(this._icon,this.options.icon),Qs(this._icon,this.options.iconLoading)):e=="active"?(ea(this._container,"requesting following"),Qs(this._container,"active"),ea(this._icon,this.options.iconLoading),Qs(this._icon,this.options.icon)):e=="following"&&(ea(this._container,"requesting"),Qs(this._container,"active following"),ea(this._icon,this.options.iconLoading),Qs(this._icon,this.options.icon))},_cleanClasses(){Ct.DomUtil.removeClass(this._container,"requesting"),Ct.DomUtil.removeClass(this._container,"active"),Ct.DomUtil.removeClass(this._container,"following"),ea(this._icon,this.options.iconLoading),Qs(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}}),FN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",zN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";L.Draw.Polyline.prototype._onTouch=L.Util.falseFn;const D0=L.icon({iconUrl:FN,shadowUrl:zN,iconAnchor:[12,41]});function GN(e){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},marker:{icon:D0},circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:e,remove:!1}}}L.GeometryUtil=L.extend(L.GeometryUtil||{},{readableArea:function(e,t,h){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},i,u,d,h=L.Util.extend({},a,h);return t?(u=["ha","m"],d=typeof t,d==="string"?u=[t]:d!=="boolean"&&(u=t),e>=1e6&&u.indexOf("km")!==-1?i=L.GeometryUtil.formattedNumber(e*1e-6,h.km)+" km":e>=1e4&&u.indexOf("ha")!==-1?i=L.GeometryUtil.formattedNumber(e*1e-4,h.ha)+" ha":i=L.GeometryUtil.formattedNumber(e,h.m)+" m"):(e/=.836127,e>=3097600?i=L.GeometryUtil.formattedNumber(e/3097600,h.mi)+" mi":e>=4840?i=L.GeometryUtil.formattedNumber(e/4840,h.ac)+" acres":i=L.GeometryUtil.formattedNumber(e,h.yd)+" yd"),i}});function UN(e,t){new ResizeObserver(a=>{for(let i of a)i.target.id===t&&e.invalidateSize()}).observe(document.getElementById(t))}const $N={class:"search-wrapper"},VN=["title"],HN={key:0,class:"search-content"},qN=["placeholder"],jN={key:0,class:"results-dropdown"},WN={key:0,class:"loading"},ZN={key:1,class:"error"},YN={key:2,class:"no-results"},XN=["onClick"],KN={class:"result-name"},JN={class:"result-address"},QN={__name:"PlaceSearchForm",props:{placeholder:{type:String},loadingText:{type:String},errorText:{type:String},noResultsText:{type:String},maxResults:{type:Number,default:5},debounceDelay:{type:Number,default:500}},emits:["location-selected"],setup(e,{expose:t,emit:s}){const{lang:a}=zt.getInstance(),i=e,u=s,d=Ie(!1),h=Ie(""),m=Ie([]),y=Ie(!1),v=Ie(!1),b=Ie(!1),T=Ie(null),P=P0(()=>{R()},i.debounceDelay);function O(){d.value=!d.value,d.value?li(()=>{var _;(_=T.value)==null||_.focus()}):z()}function B(){!h.value.trim()&&!b.value&&setTimeout(()=>{d.value=!1},200)}function z(){d.value=!1,h.value="",b.value=!1,m.value=[],P.cancel()}async function R(){if(h.value.trim()){y.value=!0,v.value=!1,b.value=!0,m.value=[];try{const x=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(h.value)}&limit=${i.maxResults}&addressdetails=1&accept-language=${a.value}`,{headers:{"Accept-Language":a.value}})).json();m.value=x}catch(_){v.value=!0,console.error("Search error:",_)}finally{y.value=!1}}}function $(_){return _.display_name.split(",")[0]}function q(_){const x=parseFloat(_.lat),k=parseFloat(_.lon);u("location-selected",{lat:x,lon:k,name:_.display_name,location:_}),z()}return t({clearResults:()=>{b.value=!1,m.value=[],P.cancel()},closeForm:z}),tt(h,_=>{if(!_.trim()){b.value=!1,m.value=[],P.cancel();return}P()}),(_,x)=>{const k=Wf("prevent-zoom");return fe(),xe("div",$N,[ne("div",{class:ht(["search-container",{"is-expanded":d.value}])},[ne("button",{class:"search-btn round-btn",onClick:O,onMousedown:x[0]||(x[0]=_r(()=>{},["prevent"])),type:"button",title:e.placeholder,"aria-label":"Button to toggle the search place form"},[...x[3]||(x[3]=[ne("i",{class:"bi bi-search"},null,-1)])],40,VN),Be(qi,{name:"slide"},{default:Ze(()=>[d.value?(fe(),xe("div",HN,[Xt(ne("input",{ref_key:"searchInputRef",ref:T,type:"text",class:"search-input","onUpdate:modelValue":x[1]||(x[1]=C=>h.value=C),onKeypress:vk(R,["enter"]),onBlur:B,placeholder:e.placeholder,autocomplete:"off"},null,40,qN),[[Yr,h.value],[k]]),ne("button",{class:"close-btn",onClick:z,onMousedown:x[2]||(x[2]=_r(()=>{},["prevent"])),type:"button","aria-label":"button to close the search place form"},[...x[4]||(x[4]=[ne("i",{class:"bi bi-x-lg"},null,-1)])],32)])):nt("",!0)]),_:1})],2),Be(qi,{name:"results-fade"},{default:Ze(()=>[b.value&&d.value?(fe(),xe("div",jN,[y.value?(fe(),xe("div",WN,Re(e.loadingText),1)):v.value?(fe(),xe("div",ZN,Re(e.errorText),1)):m.value.length===0?(fe(),xe("div",YN,Re(e.noResultsText),1)):(fe(!0),xe(pt,{key:3},ri(m.value,C=>(fe(),xe("div",{key:C.place_id,class:"result-item",onClick:F=>q(C)},[ne("div",KN,Re($(C)),1),ne("div",JN,Re(C.display_name),1)],8,XN))),128))])):nt("",!0)]),_:1})])}}},eM=jt(QN,[["__scopeId","data-v-1bbcfddc"]]),tM={style:{position:"relative"}},nM=["id"],iM="100vh",rM="https://tile.openstreetmap.org/{z}/{x}/{y}.png",sM='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',aM={__name:"Map",props:{height:{type:String,default:iM},editable:{type:Boolean,default:!0},forceEditable:{type:Boolean,default:!1}},emits:["update:wkt"],setup(e,{emit:t}){const{t:s}=Yi(),a=e,i=t,{buffer:u,wkt:d,sourceGeometry:h,mapEditable:m,lang:y,x:v,y:b}=zt.getInstance(),T=Dn(),P=Ie(null),O=Dn(new Or.FeatureGroup),B=Ie(null);let z=null;const R=(Math.random()+1).toString(36).substring(7),$=ge(()=>!!d.value),q=ge(()=>`height: ${a.height} !important;`);function _(){d.value&&(O.value.clearLayers(),Or.geoJSON().addTo(O.value).addData(Wn.parse(d.value)),x(),setTimeout(()=>i("update:wkt",d.value),1e3))}function x(){T.value&&T.value.fitBounds(O.value.getBounds())}function k(){if(!z)return;O.value.clearLayers();let X=z.layer,W=X.toGeoJSON();Ru(W)||(W=s0(W));const j=FS(W,z.layerType==="circle"?X.getRadius():null,z.layerType,u.value/1e3);(z.layerType==="marker"||z.layerType==="polyline")&&Or.geoJSON().addTo(O.value).addData(Wn.parse(j)),d.value=j;const te=z.layerType==="marker"?X._latlng:null;v.value=(te==null?void 0:te.lng)??null,b.value=(te==null?void 0:te.lat)??null,h.value=null}function C(X){O.value.clearLayers();const W=Or.marker([X.lat,X.lon],{icon:D0});z={layer:W,layerType:"marker"},O.value.addLayer(W),k(),x()}function F(X){O.value.clearLayers();const W=Or.marker(X.latlng);z={layer:W,layerType:"marker"},O.value.addLayer(W),k(),P.value.stop()}function D(X){let W=X.layer;z=X,O.value.clearLayers(),O.value.addLayer(W),k()}function A(){const X={center:T.value.getCenter(),zoom:T.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(X))}function Y(){T.value=Or.map(`map-${R}`),zS(T.value),Or.tileLayer(rM,{maxZoom:19,attribution:sM}).addTo(T.value),UN(T.value,`map-${R}`),T.value.addLayer(O.value),$.value&&x(),m.value&&(T.value.addControl(new Or.Control.Draw(GN(O.value))),P.value=new BN({icon:"fa-solid fa-location-crosshairs fa-xl"}).addTo(T.value)),T.value.on(Or.Draw.Event.CREATED,D),T.value.on("locationfound",F),T.value.on("click",()=>{B.value&&B.value.clearResults()})}return Mi(()=>{Y(),window.addEventListener("beforeunload",A),d.value||P.value.start()}),_(),tt(d,_),tt([u,O],k),a.forceEditable||tt(m,()=>{T.value.off(),T.value.remove(),Y()}),(X,W)=>(fe(),xe("div",tM,[J(m)?(fe(),st(eM,{key:0,ref_key:"searchFormRef",ref:B,placeholder:J(s)("searchPlace.placeholder"),"loading-text":J(s)("searchPlace.loadingText"),"error-text":J(s)("searchPlace.errorText"),"no-results-text":J(s)("searchPlace.noResultsText"),language:J(y),onLocationSelected:C,debounceDelay:300},null,8,["placeholder","loading-text","error-text","no-results-text","language"])):nt("",!0),ne("div",{class:"mapC",id:`map-${J(R)}`,style:Tn(q.value),"data-testid":"Map container"},null,12,nM)]))}},Df=jt(aM,[["__scopeId","data-v-4e4380a8"]]),oM={class:"container-fluid position-relative px-0"},uM={key:0,class:"row g-0"},lM={class:"col-xs-12 col-sm-6 col-lg-6 col-md-6 padding"},cM={class:"col-xs-12 col-sm-6 col-lg-6 col-md-6 padding"},dM={key:1,class:"mobile-container","data-testid":"Mobile map list widget"},fM={key:0,class:"fa-solid fa-list"},hM={key:1,class:"fa-solid fa-map"},pM={__name:"MapListWidget",props:{height:{type:String,default:"100vh"}},setup(e){const{isMobile:t}=zt.getInstance(),s=e,a=Ie(!0);return(i,u)=>{const d=Wf("prevent-zoom");return fe(),xe("div",oM,[J(t)?Xt((fe(),xe("div",dM,[Xt(Be(Df,{height:"100svh","onUpdate:wkt":u[0]||(u[0]=h=>a.value=!1)},null,512),[[io,a.value]]),Xt(Be(Rf,{height:"100svh"},null,512),[[io,!a.value]]),ne("button",{class:"toggle-btn",onClick:u[1]||(u[1]=h=>a.value=!a.value),"data-testid":"Mobile map list toggle"},[a.value?(fe(),xe("i",fM)):(fe(),xe("i",hM)),it(" "+Re(a.value?"Liste":"Carte"),1)])])),[[d]]):(fe(),xe("div",uM,[ne("div",lM,[Be(Df,{height:s.height},null,8,["height"])]),ne("div",cM,[Be(Rf,{style:Tn("height:"+s.height)},null,8,["style"])])]))])}}},Ih=jt(pM,[["__scopeId","data-v-844d4f3b"]]),mM={key:0},gM={key:1},_M={class:"col-12 text-center m-3"},Nh={__name:"ListWidget",props:{height:{type:String,default:"100vh"}},setup(e){const t=zt.getInstance(),s=e;return(a,i)=>(fe(),xe("div",null,[J(t).wkt.value.length>0?(fe(),xe("div",mM,[Be(Rf,{style:Tn("height:"+s.height)},null,8,["style"])])):(fe(),xe("div",gM,[ne("h2",_M,Re(a.$t("noGeometry")),1)]))]))}},vM={class:"row g-1 mt-1",id:"classTaxonFilters"},yM={__name:"TaxonClassFilter",setup(e){const t=zt.getInstance().class;function s(a){t.value=t.value==a?null:a}return(a,i)=>{const u=to;return fe(),xe(pt,null,[ne("label",null,[ne("strong",null,[it(Re(a.$t("taxon.class"))+" ",1),i[0]||(i[0]=ne("i",{class:"fa-solid fa-leaf"},null,-1)),i[1]||(i[1]=ne("i",{class:"fa-solid fa-paw"},null,-1))])]),ne("div",null,[ne("div",vM,[(fe(!0),xe(pt,null,ri(Object.keys(J(Za).Animalia),d=>(fe(),xe("div",{key:d,class:"col"},[Be(u,{pill:"",variant:"outline-primary","aria-label":`Button to select ${d} class of taxon`,pressed:J(t)==d,onClick:h=>s(d),"data-testid":"Animalia button parameter"},{default:Ze(()=>[it(Re(a.$t(`taxonsClass.Animalia.${d}`)),1)]),_:2},1032,["aria-label","pressed","onClick"])]))),128)),(fe(!0),xe(pt,null,ri(Object.keys(J(Za).Plantae),d=>(fe(),xe("div",{key:d,class:"col"},[Be(u,{pill:"",variant:"outline-success",pressed:J(t)==d,onClick:h=>s(d),"data-testid":"Plantae button parameter","aria-label":`Button to select ${d} class of taxon`},{default:Ze(()=>[it(Re(a.$t(`taxonsClass.Plantae.${d}`)),1)]),_:2},1032,["pressed","onClick","aria-label"])]))),128))])])],64)}}},bM=jt(yM,[["__scopeId","data-v-6ea37464"]]),wM=["for"],kM=["id"],Gg={__name:"DateFilter",props:{label:{type:String,required:!0},id:String,currentDate:Date},emits:["update:date"],setup(e,{emit:t}){const s=e,a=Ie(null),i=t;return tt(a,()=>{i("update:date",a.value)}),(u,d)=>(fe(),xe(pt,null,[ne("label",{for:s.id},[ne("strong",null,[it(Re(s.label)+" ",1),d[1]||(d[1]=ne("i",{class:"fa-solid fa-calendar-days"},null,-1))])],8,wM),Xt(ne("input",{id:s.id,class:"form-control",type:"date","onUpdate:modelValue":d[0]||(d[0]=h=>a.value=h),"data-testid":"Date input form"},null,8,kM),[[Yr,a.value]])],64))}},LM={class:"row"},EM={for:"buffer",class:"form-label col-6"},xM={__name:"BufferSizeFilter",setup(e){const{buffer:t}=zt.getInstance();return(s,a)=>(fe(),xe("div",LM,[ne("label",EM,[ne("strong",null,[it(Re(s.$t("bufferSize"))+" ",1),a[1]||(a[1]=ne("i",{class:"fa-solid fa-up-right-and-down-left-from-center"},null,-1))])]),Xt(ne("input",{type:"number",class:"form-number",min:"1",max:"3000","onUpdate:modelValue":a[0]||(a[0]=i=>wt(t)?t.value=i:null),id:"buffer","data-testid":"Buffer selection form"},null,512),[[Yr,J(t)]])]))}},TM=jt(xM,[["__scopeId","data-v-f6725c95"]]),SM={class:"text-center col-12"},CM={class:"sourceParam"},PM={for:"sourceName"},IM=["value"],NM={class:"parameters"},MM=["for"],OM=["placeholder","onUpdate:modelValue"],AM=["type","placeholder","onUpdate:modelValue"],RM=["onUpdate:modelValue"],DM=["value"],BM={key:3,class:"text-danger"},FM={__name:"SourceFilter",props:{variant:{type:String,default:"primary"}},setup(e){const t=e,{connector:s}=zt.getInstance(),a={[Xr.GBIF]:new Cf().getParamsSchema(),[Xr.GeoNature]:new d0().getParamsSchema()},i=Ie(s.value.name);let u=da(Object.fromEntries(a[i.value].map(h=>[h.name,s.value[h.name]||h.default])));tt([i],()=>{u=da(Object.fromEntries(a[i.value].map(h=>[h.name,h.default])))});function d(h){s.value=Pf(i.value,u)}return(h,m)=>{const y=to,v=kx,b=sL;return fe(),xe(pt,null,[ne("div",SM,[Xt((fe(),st(y,{variant:t.variant,size:"md","data-testid":"button to open the source change modal","aria-label":"button to open the source change modal",class:"col-12 mb-3"},{default:Ze(()=>[m[1]||(m[1]=ne("i",{class:"fa fa-leaf"},null,-1)),it(" "+Re(h.$t("source.modify"))+" ("+Re(i.value)+")",1)]),_:1},8,["variant"])),[[b,void 0,void 0,{"modal-center":!0}]])]),Be(v,{id:"modal-center",centered:"",title:h.$t("source.title"),onOk:d},{default:Ze(()=>[ne("div",CM,[ne("label",PM,Re(h.$t("source.select")),1),Xt(ne("select",{"onUpdate:modelValue":m[0]||(m[0]=T=>i.value=T),class:"form-select","data-testid":"Source selection select form"},[(fe(),xe(pt,null,ri(a,(T,P)=>ne("option",{value:P},Re(P),9,IM)),64))],512),[[Pu,i.value]]),(fe(!0),xe(pt,null,ri(a[i.value],T=>(fe(),xe("div",NM,[ne("label",{for:T.name},Re(T.label),9,MM),T.type===String?Xt((fe(),xe("input",{key:0,class:"form-control",placeholder:T.default,"onUpdate:modelValue":P=>J(u)[T.name]=P},null,8,OM)),[[Yr,J(u)[T.name]]]):T.type===Number?Xt((fe(),xe("input",{key:1,type:T.type,class:"form-control",placeholder:T.default,"onUpdate:modelValue":P=>J(u)[T.name]=P},null,8,AM)),[[hk,J(u)[T.name]]]):Array.isArray(T.type)?Xt((fe(),xe("select",{key:2,class:"form-select","onUpdate:modelValue":P=>J(u)[T.name]=P},[(fe(!0),xe(pt,null,ri(T.values,P=>(fe(),xe("option",{key:P,value:P},Re(P),9,DM))),128))],8,RM)),[[Pu,J(u)[T.name]]]):(fe(),xe("div",BM,"Unsupported input type"))]))),256))])]),_:1},8,["title"])],64)}}},zM={for:"mediaSourceSelect"},Ug={__name:"MediaSourceSelector",props:{mediaSourceID:{type:String,required:!0},typeMedia:{type:Zn,required:!0}},setup(e){const{connector:t}=zt.getInstance(),s=e,a=Ie(s.mediaSourceID);return tt(t,()=>{a.value=s.mediaSourceID},{deep:!1}),tt(a,()=>{const i=`${s.typeMedia===Zn.image?Zn.sound:Zn.image}Source`,u={[s.typeMedia+"Source"]:Ts(a.value),[i]:Ts(t.value[i].id)};t.value=new t.value.constructor(Object.assign({},t.value.getParams(),u))}),(i,u)=>{const d=fh,h=Jv;return fe(),xe(pt,null,[ne("label",zM,[ne("strong",null,[it(Re(i.$t(`media.${e.typeMedia}`))+" ",1),u[1]||(u[1]=ne("i",{class:"fa-solid fa-photo-film"},null,-1))])]),Be(h,{id:"mediaSourceSelect",options:J(t).getCompatibleMediaSource(),modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=m=>a.value=m)},{first:Ze(()=>[Be(d,{value:null,disabled:"","data-testid":"Media Source Selector for"+s.typeMedia},{default:Ze(()=>[it(Re(i.$t("media.select")),1)]),_:1},8,["data-testid"])]),_:1},8,["options","modelValue"])],64)}}},GM={class:"card"},UM={class:"card-header d-flex align-items-center justify-content-between"},$M={class:"card-body"},VM={class:"input-group mb-3"},HM=["value"],qM={key:0},jM={key:1},WM={class:"input-group mb-3"},ZM={class:"input-group-text"},YM={class:"input-group-text"},XM={__name:"HTMLBuilder",props:{link:String,required:!0},emits:["update:width","update:height"],setup(e,{emit:t}){const s=e,a=Ie("100%"),i=Ie("600px"),u=Ie(!1);function d(){navigator.clipboard.writeText(m.value),u.value=!0,setTimeout(()=>{u.value=!1},3e3)}const h=t;tt([a,i],()=>{h("update:width",a.value),h("update:height",i.value)});const m=ge(()=>`<iframe src="${s.link}" type="" style="width: ${a.value}; height: ${i.value}" allow="geolocation"></iframe>`);return(y,v)=>(fe(),xe("div",GM,[ne("div",UM,[ne("h3",null,[v[2]||(v[2]=ne("i",{class:"bi bi-code-slash",style:{"margin-right":"0.5em"}},null,-1)),it(" "+Re(y.$t("browserIntegration")),1)])]),ne("div",$M,[ne("div",VM,[ne("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:m.value,style:{height:"80px"},"data-testid":"Embed URL value"},null,8,HM),ne("button",{class:"btn btn-outline-secondary",onClick:d,"aria-label":"Button to get the iframe code","data-testid":"embed tag copy button"},[u.value?(fe(),xe("div",qM,[v[3]||(v[3]=ne("i",{class:"bi bi-check2-circle"},null,-1)),it(" "+Re(y.$t("copied"))+"! ",1)])):(fe(),xe("div",jM,[...v[4]||(v[4]=[ne("i",{class:"bi bi-copy"},null,-1)])]))])]),ne("div",WM,[ne("span",ZM,Re(y.$t("size.width")),1),Xt(ne("input",{class:"form-control",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":v[0]||(v[0]=b=>a.value=b),"data-testid":"Width widget input form"},null,512),[[Yr,a.value]]),ne("span",YM,Re(y.$t("size.height")),1),Xt(ne("input",{class:"form-control",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":v[1]||(v[1]=b=>i.value=b),"data-testid":"Height widget input form"},null,512),[[Yr,i.value]])])])]))}},KM={id:"left-panel"},JM={class:"card"},QM={class:"card-header"},eO={class:"card-body",id:"parameters","data-testid":"Parameters list div"},tO={class:"col text-center p-2"},nO={class:"col text-center mt-3"},iO={class:"parameter-section text-center"},rO={class:"parameter-section"},sO={key:0,class:"parameter-section"},aO={class:"parameter-section"},oO={class:"row"},uO={class:"col-6"},lO={class:"col-6"},cO={class:"parameter-section"},dO={class:"parameter-section"},fO={class:"parameter-section"},hO={class:"parameter-section"},pO={class:"parameter-section"},mO={class:"parameter-section"},gO={class:"parameter-section"},_O={class:"parameter-section"},vO={class:"d-flex align-items-center gap-2 mt-1"},yO={class:"parameter-section"},bO={class:"parameter-section"},wO={class:"parameter-section"},kO={class:"parameter-section"},LO={class:"d-flex justify-content-center parameter-section"},EO={class:"mt-2"},xO={__name:"Parameters",setup(e){const{t}=Yi(),{dateMin:s,dateMax:a,showFilters:i,mapEditable:u,sourceGeometry:d,mode:h,widgetType:m,nbTaxonPerLine:y,switchModeAvailable:v,connector:b,customDetailPage:T,getParams:P,nbDisplayedSpecies:O,primaryColor:B,filtersOnList:z}=zt.getInstance(),R=E0(),$=Ph(),q=window.location.origin,_=window.location.pathname,x=ge(()=>{const D=Object.entries(zt.getInstance().getParams()).map(([Y,X])=>`${Y}=${X}`),A=D.length?`?${D.join("&")}`:"";return`${q}${_}#/${A}`}),k=ge(()=>[{value:gr.gallery,text:t("mode.galleryMode")},{value:gr.detailedList,text:t("mode.detailedList")}]),C=ge(()=>[{value:Ui.mapList,text:t("widgetType.default")},{value:Ui.list,text:t("widgetType.list")}]),F=ge({get:()=>B.value?`#${B.value}`:"#000000",set:D=>{B.value=D.replace("#","")}});return(D,A)=>{const Y=Df,X=AE,W=IE,j=Jv,te=to;return fe(),xe("div",KM,[ne("div",JM,[ne("h3",QM,[A[15]||(A[15]=ne("i",{class:"bi bi-gear-fill"},null,-1)),it(" "+Re(D.$t("parameters")),1)]),ne("div",eO,[ne("div",tO,[ne("label",null,[it(Re(D.$t("drawGeometry"))+" ",1),A[16]||(A[16]=ne("i",{class:"fa-solid fa-location-dot"},null,-1))]),Be(Y,{forceEditable:!0,editable:!0,height:"350px",class:"mt-2"})]),ne("div",nO,[ne("h5",null,Re(D.$t("or")),1)]),ne("div",iO,[Be(X,{modelValue:J(d),"onUpdate:modelValue":A[0]||(A[0]=G=>wt(d)?d.value=G:null),placeholder:D.$t("IndicateGeoJSONUrl"),"data-testid":"GeoJSON form"},null,8,["modelValue","placeholder"])]),A[27]||(A[27]=ne("hr",null,null,-1)),ne("div",rO,[Be(W,{switch:"",modelValue:J(i),"onUpdate:modelValue":A[1]||(A[1]=G=>wt(i)?i.value=G:null),"data-testid":"Show/Hide results filters checkbox"},{default:Ze(()=>[ne("strong",null,[it(Re(D.$t("showFilters"))+" ",1),A[17]||(A[17]=ne("i",{class:"bi bi-sort-down"},null,-1))])]),_:1},8,["modelValue"])]),J(m)===J(Ui).mapList?(fe(),xe("div",sO,[Be(W,{switch:"",modelValue:J(u),"onUpdate:modelValue":A[2]||(A[2]=G=>wt(u)?u.value=G:null),"data-testid":"Show/Hide drawing tools checkbox"},{default:Ze(()=>[ne("strong",null,[it(Re(D.$t("mapEditable"))+" ",1),A[18]||(A[18]=ne("i",{class:"fa-solid fa-map"},null,-1))])]),_:1},8,["modelValue"])])):nt("",!0),ne("div",aO,[Be(TM)]),ne("div",oO,[ne("div",uO,[Be(Gg,{id:"startDate",label:"Date min.",currentDate:J(s),"onUpdate:date":A[3]||(A[3]=G=>s.value=G)},null,8,["currentDate"])]),ne("div",lO,[Be(Gg,{id:"endDate",label:"Date max.",currentDate:J(a),"onUpdate:date":A[4]||(A[4]=G=>a.value=G)},null,8,["currentDate"])])]),ne("div",cO,[Be(bM)]),ne("div",dO,[ne("label",null,[it(Re(D.$t("UseCustomDetailPage"))+" ",1),A[19]||(A[19]=ne("i",{class:"fa-solid fa-link"},null,-1))]),Be(X,{modelValue:J(T),"onUpdate:modelValue":A[5]||(A[5]=G=>wt(T)?T.value=G:null),"data-testid":"Custom detail page form",placeholder:D.$t("IndicateDetailTemplateUrl")+"{taxonID}"},null,8,["modelValue","placeholder"])]),ne("div",fO,[ne("label",null,[it(Re(D.$t("TaxonListModeSelection"))+" ",1),A[20]||(A[20]=ne("span",null,[ne("i",{class:"fa-solid fa-list"}),it(" | "),ne("i",{class:"fa-solid fa-grip-vertical"})],-1))]),Be(j,{modelValue:J(h),"onUpdate:modelValue":A[6]||(A[6]=G=>wt(h)?h.value=G:null),options:k.value,class:"mt-1","aria-label":"ModeSelection","data-testid":"Mode select form"},null,8,["modelValue","options"])]),ne("div",hO,[Be(W,{switch:"",modelValue:J(v),"onUpdate:modelValue":A[7]||(A[7]=G=>wt(v)?v.value=G:null),"data-testid":"Show/Hide taxon list mode switch"},{default:Ze(()=>[ne("strong",null,Re(D.$t("mode.isTaxonListHybrid")),1)]),_:1},8,["modelValue"])]),ne("div",pO,[ne("label",null,[it(Re(D.$t("widgetTypeSelection"))+" ",1),A[21]||(A[21]=ne("i",{class:"fa-solid fa-display"},null,-1))]),Be(j,{modelValue:J(m),"onUpdate:modelValue":A[8]||(A[8]=G=>wt(m)?m.value=G:null),options:C.value,class:"mt-1","data-testid":"Widget type selection form"},null,8,["modelValue","options"])]),ne("div",mO,[ne("label",null,[it(Re(D.$t("numberOfTaxonPerLine"))+" ",1),A[22]||(A[22]=ne("i",{class:"bi bi-123"},null,-1))]),Be(X,{type:"number",modelValue:J(y),"onUpdate:modelValue":A[9]||(A[9]=G=>wt(y)?y.value=G:null),"data-testid":"Number of taxon per line form"},null,8,["modelValue"])]),ne("div",gO,[ne("label",null,[it(Re(D.$t("nbDisplayedSpecies"))+" ",1),A[23]||(A[23]=ne("i",{class:"bi bi-123"},null,-1))]),Be(X,{type:"number",modelValue:J(O),"onUpdate:modelValue":A[10]||(A[10]=G=>wt(O)?O.value=G:null),min:"0","data-testid":"Number of displayed species form"},null,8,["modelValue"])]),ne("div",_O,[ne("label",null,[it(Re(D.$t("primaryColor"))+" ",1),A[24]||(A[24]=ne("i",{class:"bi bi-palette-fill"},null,-1))]),ne("div",vO,[Be(X,{type:"color",modelValue:F.value,"onUpdate:modelValue":A[11]||(A[11]=G=>F.value=G),class:"color-picker"},null,8,["modelValue"]),Be(X,{type:"text",modelValue:J(B),"onUpdate:modelValue":A[12]||(A[12]=G=>wt(B)?B.value=G:null),placeholder:"FFFFFF",maxlength:"6",class:"flex-grow-1","data-testid":"Primary color form"},null,8,["modelValue"])])]),ne("div",yO,[Be(W,{switch:"",modelValue:J(z),"onUpdate:modelValue":A[13]||(A[13]=G=>wt(z)?z.value=G:null),"data-testid":"Show/Hide filters on list checkbox"},{default:Ze(()=>[ne("strong",null,[it(Re(D.$t("filtersOnList"))+" ",1),A[25]||(A[25]=ne("i",{class:"bi bi-funnel-fill"},null,-1))])]),_:1},8,["modelValue"])]),ne("div",bO,[Be(Ug,{mediaSourceID:J(b).imageSource.id,typeMedia:J(Zn).image},null,8,["mediaSourceID","typeMedia"])]),ne("div",wO,[Be(Ug,{mediaSourceID:J(b).soundSource.id,typeMedia:J(Zn).sound},null,8,["mediaSourceID","typeMedia"])]),ne("div",kO,[Be(FM)]),ne("div",LO,[Be(te,{variant:"danger","data-testid":"Refresh parameters button","aria-label":"Button to refresh the parameter form",onClick:A[14]||(A[14]=G=>J(zt).clearParameters(J($),J(R)))},{default:Ze(()=>[A[26]||(A[26]=ne("i",{class:"bi bi-arrow-clockwise"},null,-1)),it(" "+Re(D.$t("RefreshFilters")),1)]),_:1})])])]),ne("div",EO,[Be(XM,{link:x.value},null,8,["link"])])])}}},TO=jt(xO,[["__scopeId","data-v-e65ef77c"]]),SO={},CO={class:"locale-changer input-group"},PO=["value"];function IO(e,t){return fe(),xe("div",CO,[t[1]||(t[1]=ne("label",{for:"languageSelect",class:"input-group-text"},[ne("i",{class:"bi bi-translate"})],-1)),Xt(ne("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.$i18n.locale=s),class:"form-select",id:"languageSelect","data-testid":"Language select form"},[(fe(!0),xe(pt,null,ri(e.$i18n.availableLocales,s=>(fe(),xe("option",{key:`locale-${s}`,value:s},Re(s),9,PO))),128))],512),[[Pu,e.$i18n.locale]])])}const B0=jt(SO,[["render",IO],["__scopeId","data-v-20e60e97"]]),NO="/BAM-widget/assets/BAM-logo-B7M8Ftx4.png",MO=["src"],OO={__name:"HeaderNav",setup(e){return(t,s)=>{const a=uy,i=cy,u=sy,d=ay,h=ly,m=Wv,y=oy,v=Sv;return fe(),xe("header",null,[Xt((fe(),st(y,{toggleable:"lg",variant:"light",class:"mb-3","data-testid":"Toolbar"},{default:Ze(()=>[Be(a,{href:"#/config"},{default:Ze(()=>[ne("img",{style:{width:"35px"},src:J(NO)},null,8,MO),it(" "+Re(t.$t("title")),1)]),_:1}),Be(i,{target:"nav-collapse"}),Be(m,{id:"nav-collapse","is-nav":""},{default:Ze(()=>[Be(h,{class:"ms-auto mb-2 mb-lg-0"},{default:Ze(()=>[Be(u,{class:"d-flex",right:""},{default:Ze(()=>[Be(B0)]),_:1}),Be(d,{href:"https://pnx-si.github.io/BAM-widget/docs/#/"},{default:Ze(()=>[...s[0]||(s[0]=[ne("i",{class:"bi bi-file-text-fill"},null,-1),it(" Documentation",-1)])]),_:1})]),_:1})]),_:1})]),_:1})),[[v,"ligth"]])])}}},AO={class:"container-fluid"},RO={class:"row"},DO={class:"col-12 col-lg-4 col-md-2",style:{height:"80vh"},"data-testid":"Parameter block"},BO={class:"col"},FO={class:"card"},zO={class:"card-header"},GO={class:"card-body","data-testid":"Preview area",id:"preview"},UO={__name:"Configurator",setup(e){var a;const{widgetType:t}=zt.getInstance();return(a=Ph().query)!=null&&a.widgetType||(t.value=Ui.list),(i,u)=>{const d=Nh,h=Ih;return fe(),xe("main",AO,[Be(OO),ne("div",RO,[ne("div",DO,[Be(TO)]),ne("div",BO,[ne("div",FO,[ne("h3",zO,[u[0]||(u[0]=ne("i",{class:"bi bi-easel"},null,-1)),it(" "+Re(i.$t("widgetPreview")),1)]),ne("div",GO,[J(t)==J(Ui).list?(fe(),st(d,{key:0,height:"70vh"})):(fe(),st(h,{key:1,height:"70vh"}))])])])])])}}},$O=jt(UO,[["__scopeId","data-v-dabeb673"]]),VO={class:"row justify-content-center p-3"},HO={class:"col-12 col-lg-12 col-md-6 d-flex justify-content-center align-items-center"},qO={for:"shareButton",class:"mb-0 me-2 fw-bold"},jO={key:0},WO={key:1},ZO={__name:"ShareButton",setup(e){const t=ge(()=>window.location.href),s=Ie(!1);function a(){navigator.clipboard.writeText(t.value),s.value=!0,setTimeout(()=>{s.value=!1},3e3)}return(i,u)=>(fe(),xe("div",VO,[ne("div",HO,[ne("label",qO,Re(i.$t("shareDiscover")),1),ne("button",{class:"btn btn-outline-secondary",id:"shareButton",onClick:a,"aria-label":"Share button"},[s.value?(fe(),xe("div",jO,[u[0]||(u[0]=ne("i",{class:"bi bi-check2-circle"},null,-1)),it(" "+Re(i.$t("copied"))+"! ",1)])):(fe(),xe("div",WO,[u[1]||(u[1]=ne("i",{class:"bi bi-link-45deg"},null,-1)),it(" "+Re(i.$t("copy")),1)]))])])]))}},YO={},XO={id:"intro"};function KO(e,t){const s=U_("VueShowdown");return fe(),xe("div",XO,[ne("h2",null,Re(e.$t("introTitle")),1),Be(s,{markdown:e.$t("intro"),flavor:"github",options:{emoji:!0}},null,8,["markdown"])])}const JO=jt(YO,[["render",KO]]),QO={class:"container-fluid"},eA={class:"row"},tA={class:"col-sm-3"},nA={class:"col-sm-9"},iA={__name:"Explorer",setup(e){const{widgetType:t}=zt.getInstance();return(s,a)=>{const i=uy,u=cy,d=B0,h=sy,m=ay,y=ly,v=Wv,b=oy,T=ZO,P=Nh,O=Ih,B=Sv;return fe(),xe(pt,null,[Xt((fe(),st(b,{toggleable:"lg",variant:"success",class:"mb-3"},{default:Ze(()=>[Be(i,null,{default:Ze(()=>[it("   "+Re(s.$t("discover.title")),1)]),_:1}),Be(u,{target:"nav-collapse"}),Be(v,{id:"nav-collapse","is-nav":""},{default:Ze(()=>[Be(y,{class:"ms-auto mb-2 mb-lg-0"},{default:Ze(()=>[Be(h,{class:"d-flex",right:""},{default:Ze(()=>[Be(d)]),_:1}),Be(m,{href:"https://pnx-si.github.io/widget-gtsi/docs/#/"},{default:Ze(()=>[...a[0]||(a[0]=[ne("i",{class:"bi bi-file-text-fill"},null,-1),it(" Documentation",-1)])]),_:1})]),_:1})]),_:1})]),_:1})),[[B,"dark"]]),ne("main",QO,[ne("div",eA,[ne("div",tA,[Be(JO),Be(T,{class:"margin-top:1em"})]),ne("div",nA,[J(t)==J(Ui).list?(fe(),st(P,{key:0,height:"70vh"})):(fe(),st(O,{key:1,height:"90vh"}))])])])],64)}}},rA=jt(iA,[["__scopeId","data-v-30bccb3f"]]),sA={},aA={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},oA={class:"text-center"},uA={class:"lead","data-testid":"Error 404 label"};function lA(e,t){return fe(),xe("div",aA,[ne("div",oA,[t[0]||(t[0]=ne("h1",{class:"display-1"},"404",-1)),ne("p",uA,Re(e.$t("error404.title")),1),ne("p",null,Re(e.$t("error404.subtitle")),1)])])}const cA=jt(sA,[["render",lA]]);var jl={exports:{}},dA=jl.exports,$g;function fA(){return $g||($g=1,(function(e){(function(){function t(_){var x={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(_===!1)return JSON.parse(JSON.stringify(x));var k={};for(var C in x)x.hasOwnProperty(C)&&(k[C]=x[C].defaultValue);return k}function s(){var _=t(!0),x={};for(var k in _)_.hasOwnProperty(k)&&(x[k]=!0);return x}var a={},i={},u={},d=t(!0),h="vanilla",m={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:s()};a.helper={},a.extensions={},a.setOption=function(_,x){return d[_]=x,this},a.getOption=function(_){return d[_]},a.getOptions=function(){return d},a.resetOptions=function(){d=t(!0)},a.setFlavor=function(_){if(!m.hasOwnProperty(_))throw Error(_+" flavor was not found");a.resetOptions();var x=m[_];h=_;for(var k in x)x.hasOwnProperty(k)&&(d[k]=x[k])},a.getFlavor=function(){return h},a.getFlavorOptions=function(_){if(m.hasOwnProperty(_))return m[_]},a.getDefaultOptions=function(_){return t(_)},a.subParser=function(_,x){if(a.helper.isString(_))if(typeof x<"u")i[_]=x;else{if(i.hasOwnProperty(_))return i[_];throw Error("SubParser named "+_+" not registered!")}},a.extension=function(_,x){if(!a.helper.isString(_))throw Error("Extension 'name' must be a string");if(_=a.helper.stdExtName(_),a.helper.isUndefined(x)){if(!u.hasOwnProperty(_))throw Error("Extension named "+_+" is not registered!");return u[_]}else{typeof x=="function"&&(x=x()),a.helper.isArray(x)||(x=[x]);var k=y(x,_);if(k.valid)u[_]=x;else throw Error(k.error)}},a.getAllExtensions=function(){return u},a.removeExtension=function(_){delete u[_]},a.resetExtensions=function(){u={}};function y(_,x){var k=x?"Error in "+x+" extension->":"Error in unnamed extension",C={valid:!0,error:""};a.helper.isArray(_)||(_=[_]);for(var F=0;F<_.length;++F){var D=k+" sub-extension "+F+": ",A=_[F];if(typeof A!="object")return C.valid=!1,C.error=D+"must be an object, but "+typeof A+" given",C;if(!a.helper.isString(A.type))return C.valid=!1,C.error=D+'property "type" must be a string, but '+typeof A.type+" given",C;var Y=A.type=A.type.toLowerCase();if(Y==="language"&&(Y=A.type="lang"),Y==="html"&&(Y=A.type="output"),Y!=="lang"&&Y!=="output"&&Y!=="listener")return C.valid=!1,C.error=D+"type "+Y+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',C;if(Y==="listener"){if(a.helper.isUndefined(A.listeners))return C.valid=!1,C.error=D+'. Extensions of type "listener" must have a property called "listeners"',C}else if(a.helper.isUndefined(A.filter)&&a.helper.isUndefined(A.regex))return C.valid=!1,C.error=D+Y+' extensions must define either a "regex" property or a "filter" method',C;if(A.listeners){if(typeof A.listeners!="object")return C.valid=!1,C.error=D+'"listeners" property must be an object but '+typeof A.listeners+" given",C;for(var X in A.listeners)if(A.listeners.hasOwnProperty(X)&&typeof A.listeners[X]!="function")return C.valid=!1,C.error=D+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+X+" must be a function but "+typeof A.listeners[X]+" given",C}if(A.filter){if(typeof A.filter!="function")return C.valid=!1,C.error=D+'"filter" must be a function, but '+typeof A.filter+" given",C}else if(A.regex){if(a.helper.isString(A.regex)&&(A.regex=new RegExp(A.regex,"g")),!(A.regex instanceof RegExp))return C.valid=!1,C.error=D+'"regex" property must either be a string or a RegExp object, but '+typeof A.regex+" given",C;if(a.helper.isUndefined(A.replace))return C.valid=!1,C.error=D+'"regex" extensions must implement a replace string or function',C}}return C}a.validateExtension=function(_){var x=y(_,null);return x.valid?!0:(console.warn(x.error),!1)},a.hasOwnProperty("helper")||(a.helper={}),a.helper.isString=function(_){return typeof _=="string"||_ instanceof String},a.helper.isFunction=function(_){var x={};return _&&x.toString.call(_)==="[object Function]"},a.helper.isArray=function(_){return Array.isArray(_)},a.helper.isUndefined=function(_){return typeof _>"u"},a.helper.forEach=function(_,x){if(a.helper.isUndefined(_))throw new Error("obj param is required");if(a.helper.isUndefined(x))throw new Error("callback param is required");if(!a.helper.isFunction(x))throw new Error("callback param must be a function/closure");if(typeof _.forEach=="function")_.forEach(x);else if(a.helper.isArray(_))for(var k=0;k<_.length;k++)x(_[k],k,_);else if(typeof _=="object")for(var C in _)_.hasOwnProperty(C)&&x(_[C],C,_);else throw new Error("obj does not seem to be an array or an iterable object")},a.helper.stdExtName=function(_){return _.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function v(_,x){var k=x.charCodeAt(0);return"E"+k+"E"}a.helper.escapeCharactersCallback=v,a.helper.escapeCharacters=function(_,x,k){var C="(["+x.replace(/([\[\]\\])/g,"\\$1")+"])";k&&(C="\\\\"+C);var F=new RegExp(C,"g");return _=_.replace(F,v),_},a.helper.unescapeHTMLEntities=function(_){return _.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var b=function(_,x,k,C){var F=C||"",D=F.indexOf("g")>-1,A=new RegExp(x+"|"+k,"g"+F.replace(/g/g,"")),Y=new RegExp(x,F.replace(/g/g,"")),X=[],W,j,te,G,ae;do for(W=0;te=A.exec(_);)if(Y.test(te[0]))W++||(j=A.lastIndex,G=j-te[0].length);else if(W&&!--W){ae=te.index+te[0].length;var se={left:{start:G,end:j},match:{start:j,end:te.index},right:{start:te.index,end:ae},wholeMatch:{start:G,end:ae}};if(X.push(se),!D)return X}while(W&&(A.lastIndex=j));return X};a.helper.matchRecursiveRegExp=function(_,x,k,C){for(var F=b(_,x,k,C),D=[],A=0;A<F.length;++A)D.push([_.slice(F[A].wholeMatch.start,F[A].wholeMatch.end),_.slice(F[A].match.start,F[A].match.end),_.slice(F[A].left.start,F[A].left.end),_.slice(F[A].right.start,F[A].right.end)]);return D},a.helper.replaceRecursiveRegExp=function(_,x,k,C,F){if(!a.helper.isFunction(x)){var D=x;x=function(){return D}}var A=b(_,k,C,F),Y=_,X=A.length;if(X>0){var W=[];A[0].wholeMatch.start!==0&&W.push(_.slice(0,A[0].wholeMatch.start));for(var j=0;j<X;++j)W.push(x(_.slice(A[j].wholeMatch.start,A[j].wholeMatch.end),_.slice(A[j].match.start,A[j].match.end),_.slice(A[j].left.start,A[j].left.end),_.slice(A[j].right.start,A[j].right.end))),j<X-1&&W.push(_.slice(A[j].wholeMatch.end,A[j+1].wholeMatch.start));A[X-1].wholeMatch.end<_.length&&W.push(_.slice(A[X-1].wholeMatch.end)),Y=W.join("")}return Y},a.helper.regexIndexOf=function(_,x,k){if(!a.helper.isString(_))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(x instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var C=_.substring(k||0).search(x);return C>=0?C+(k||0):C},a.helper.splitAtIndex=function(_,x){if(!a.helper.isString(_))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[_.substring(0,x),_.substring(x)]},a.helper.encodeEmailAddress=function(_){var x=[function(k){return"&#"+k.charCodeAt(0)+";"},function(k){return"&#x"+k.charCodeAt(0).toString(16)+";"},function(k){return k}];return _=_.replace(/./g,function(k){if(k==="@")k=x[Math.floor(Math.random()*2)](k);else{var C=Math.random();k=C>.9?x[2](k):C>.45?x[1](k):x[0](k)}return k}),_},a.helper.padEnd=function(x,k,C){return k=k>>0,C=String(C||" "),x.length>k?String(x):(k=k-x.length,k>C.length&&(C+=C.repeat(k/C.length)),String(x)+C.slice(0,k))},typeof console>"u"&&(console={warn:function(_){alert(_)},log:function(_){alert(_)},error:function(_){throw _}}),a.helper.regexes={asteriskDashAndColon:/([*_:~])/g},a.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},a.Converter=function(_){var x={},k=[],C=[],F={},D=h,A={parsed:{},raw:"",format:""};Y();function Y(){_=_||{};for(var G in d)d.hasOwnProperty(G)&&(x[G]=d[G]);if(typeof _=="object")for(var ae in _)_.hasOwnProperty(ae)&&(x[ae]=_[ae]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof _+" was passed instead.");x.extensions&&a.helper.forEach(x.extensions,X)}function X(G,ae){if(ae=ae||null,a.helper.isString(G))if(G=a.helper.stdExtName(G),ae=G,a.extensions[G]){console.warn("DEPRECATION WARNING: "+G+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),W(a.extensions[G],G);return}else if(!a.helper.isUndefined(u[G]))G=u[G];else throw Error('Extension "'+G+'" could not be loaded. It was either not found or is not a valid extension.');typeof G=="function"&&(G=G()),a.helper.isArray(G)||(G=[G]);var se=y(G,ae);if(!se.valid)throw Error(se.error);for(var ve=0;ve<G.length;++ve){switch(G[ve].type){case"lang":k.push(G[ve]);break;case"output":C.push(G[ve]);break}if(G[ve].hasOwnProperty("listeners"))for(var ce in G[ve].listeners)G[ve].listeners.hasOwnProperty(ce)&&j(ce,G[ve].listeners[ce])}}function W(G,ae){typeof G=="function"&&(G=G(new a.Converter)),a.helper.isArray(G)||(G=[G]);var se=y(G,ae);if(!se.valid)throw Error(se.error);for(var ve=0;ve<G.length;++ve)switch(G[ve].type){case"lang":k.push(G[ve]);break;case"output":C.push(G[ve]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(G,ae){if(!a.helper.isString(G))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof G+" given");if(typeof ae!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof ae+" given");F.hasOwnProperty(G)||(F[G]=[]),F[G].push(ae)}function te(G){var ae=G.match(/^\s*/)[0].length,se=new RegExp("^\\s{0,"+ae+"}","gm");return G.replace(se,"")}this._dispatch=function(ae,se,ve,ce){if(F.hasOwnProperty(ae))for(var ke=0;ke<F[ae].length;++ke){var Fe=F[ae][ke](ae,se,this,ve,ce);Fe&&typeof Fe<"u"&&(se=Fe)}return se},this.listen=function(G,ae){return j(G,ae),this},this.makeHtml=function(G){if(!G)return G;var ae={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:k,outputModifiers:C,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return G=G.replace(//g,"T"),G=G.replace(/\$/g,"D"),G=G.replace(/\r\n/g,`
`),G=G.replace(/\r/g,`
`),G=G.replace(/\u00A0/g,"&nbsp;"),x.smartIndentationFix&&(G=te(G)),G=`

`+G+`

`,G=a.subParser("detab")(G,x,ae),G=G.replace(/^[ \t]+$/mg,""),a.helper.forEach(k,function(se){G=a.subParser("runExtension")(se,G,x,ae)}),G=a.subParser("metadata")(G,x,ae),G=a.subParser("hashPreCodeTags")(G,x,ae),G=a.subParser("githubCodeBlocks")(G,x,ae),G=a.subParser("hashHTMLBlocks")(G,x,ae),G=a.subParser("hashCodeTags")(G,x,ae),G=a.subParser("stripLinkDefinitions")(G,x,ae),G=a.subParser("blockGamut")(G,x,ae),G=a.subParser("unhashHTMLSpans")(G,x,ae),G=a.subParser("unescapeSpecialChars")(G,x,ae),G=G.replace(/D/g,"$$"),G=G.replace(/T/g,""),G=a.subParser("completeHTMLDocument")(G,x,ae),a.helper.forEach(C,function(se){G=a.subParser("runExtension")(se,G,x,ae)}),A=ae.metadata,G},this.makeMarkdown=this.makeMd=function(G,ae){if(G=G.replace(/\r\n/g,`
`),G=G.replace(/\r/g,`
`),G=G.replace(/>[ \t]+</,">NBSP;<"),!ae)if(window&&window.document)ae=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var se=ae.createElement("div");se.innerHTML=G;var ve={preList:Oe(se)};$e(se);for(var ce=se.childNodes,ke="",Fe=0;Fe<ce.length;Fe++)ke+=a.subParser("makeMarkdown.node")(ce[Fe],ve);function $e(Ee){for(var Te=0;Te<Ee.childNodes.length;++Te){var de=Ee.childNodes[Te];de.nodeType===3?!/\S/.test(de.nodeValue)&&!/^[ ]+$/.test(de.nodeValue)?(Ee.removeChild(de),--Te):(de.nodeValue=de.nodeValue.split(`
`).join(" "),de.nodeValue=de.nodeValue.replace(/(\s)+/g,"$1")):de.nodeType===1&&$e(de)}}function Oe(Ee){for(var Te=Ee.querySelectorAll("pre"),de=[],K=0;K<Te.length;++K)if(Te[K].childElementCount===1&&Te[K].firstChild.tagName.toLowerCase()==="code"){var Se=Te[K].firstChild.innerHTML.trim(),Ae=Te[K].firstChild.getAttribute("data-language")||"";if(Ae==="")for(var Ne=Te[K].firstChild.className.split(" "),N=0;N<Ne.length;++N){var ee=Ne[N].match(/^language-(.+)$/);if(ee!==null){Ae=ee[1];break}}Se=a.helper.unescapeHTMLEntities(Se),de.push(Se),Te[K].outerHTML='<precode language="'+Ae+'" precodenum="'+K.toString()+'"></precode>'}else de.push(Te[K].innerHTML),Te[K].innerHTML="",Te[K].setAttribute("prenum",K.toString());return de}return ke},this.setOption=function(G,ae){x[G]=ae},this.getOption=function(G){return x[G]},this.getOptions=function(){return x},this.addExtension=function(G,ae){ae=ae||null,X(G,ae)},this.useExtension=function(G){X(G)},this.setFlavor=function(G){if(!m.hasOwnProperty(G))throw Error(G+" flavor was not found");var ae=m[G];D=G;for(var se in ae)ae.hasOwnProperty(se)&&(x[se]=ae[se])},this.getFlavor=function(){return D},this.removeExtension=function(G){a.helper.isArray(G)||(G=[G]);for(var ae=0;ae<G.length;++ae){for(var se=G[ae],ve=0;ve<k.length;++ve)k[ve]===se&&k.splice(ve,1);for(var ce=0;ce<C.length;++ce)C[ce]===se&&C.splice(ce,1)}},this.getAllExtensions=function(){return{language:k,output:C}},this.getMetadata=function(G){return G?A.raw:A.parsed},this.getMetadataFormat=function(){return A.format},this._setMetadataPair=function(G,ae){A.parsed[G]=ae},this._setMetadataFormat=function(G){A.format=G},this._setMetadataRaw=function(G){A.raw=G}},a.subParser("anchors",function(_,x,k){_=k.converter._dispatch("anchors.before",_,x,k);var C=function(F,D,A,Y,X,W,j){if(a.helper.isUndefined(j)&&(j=""),A=A.toLowerCase(),F.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)Y="";else if(!Y)if(A||(A=D.toLowerCase().replace(/ ?\n/g," ")),Y="#"+A,!a.helper.isUndefined(k.gUrls[A]))Y=k.gUrls[A],a.helper.isUndefined(k.gTitles[A])||(j=k.gTitles[A]);else return F;Y=Y.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var te='<a href="'+Y+'"';return j!==""&&j!==null&&(j=j.replace(/"/g,"&quot;"),j=j.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),te+=' title="'+j+'"'),x.openLinksInNewWindow&&!/^#/.test(Y)&&(te+=' rel="noopener noreferrer" target="E95Eblank"'),te+=">"+D+"</a>",te};return _=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,C),_=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,C),_=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,C),_=_.replace(/\[([^\[\]]+)]()()()()()/g,C),x.ghMentions&&(_=_.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(F,D,A,Y,X){if(A==="\\")return D+Y;if(!a.helper.isString(x.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var W=x.ghMentionsLink.replace(/\{u}/g,X),j="";return x.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="E95Eblank"'),D+'<a href="'+W+'"'+j+">"+Y+"</a>"})),_=k.converter._dispatch("anchors.after",_,x,k),_});var T=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,P=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,O=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,B=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,z=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,R=function(_){return function(x,k,C,F,D,A,Y){C=C.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var X=C,W="",j="",te=k||"",G=Y||"";return/^www\./i.test(C)&&(C=C.replace(/^www\./i,"http://www.")),_.excludeTrailingPunctuationFromURLs&&A&&(W=A),_.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="E95Eblank"'),te+'<a href="'+C+'"'+j+">"+X+"</a>"+W+G}},$=function(_,x){return function(k,C,F){var D="mailto:";return C=C||"",F=a.subParser("unescapeSpecialChars")(F,_,x),_.encodeEmails?(D=a.helper.encodeEmailAddress(D+F),F=a.helper.encodeEmailAddress(F)):D=D+F,C+'<a href="'+D+'">'+F+"</a>"}};a.subParser("autoLinks",function(_,x,k){return _=k.converter._dispatch("autoLinks.before",_,x,k),_=_.replace(O,R(x)),_=_.replace(z,$(x,k)),_=k.converter._dispatch("autoLinks.after",_,x,k),_}),a.subParser("simplifiedAutoLinks",function(_,x,k){return x.simplifiedAutoLink&&(_=k.converter._dispatch("simplifiedAutoLinks.before",_,x,k),x.excludeTrailingPunctuationFromURLs?_=_.replace(P,R(x)):_=_.replace(T,R(x)),_=_.replace(B,$(x,k)),_=k.converter._dispatch("simplifiedAutoLinks.after",_,x,k)),_}),a.subParser("blockGamut",function(_,x,k){return _=k.converter._dispatch("blockGamut.before",_,x,k),_=a.subParser("blockQuotes")(_,x,k),_=a.subParser("headers")(_,x,k),_=a.subParser("horizontalRule")(_,x,k),_=a.subParser("lists")(_,x,k),_=a.subParser("codeBlocks")(_,x,k),_=a.subParser("tables")(_,x,k),_=a.subParser("hashHTMLBlocks")(_,x,k),_=a.subParser("paragraphs")(_,x,k),_=k.converter._dispatch("blockGamut.after",_,x,k),_}),a.subParser("blockQuotes",function(_,x,k){_=k.converter._dispatch("blockQuotes.before",_,x,k),_=_+`

`;var C=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return x.splitAdjacentBlockquotes&&(C=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),_=_.replace(C,function(F){return F=F.replace(/^[ \t]*>[ \t]?/gm,""),F=F.replace(/0/g,""),F=F.replace(/^[ \t]+$/gm,""),F=a.subParser("githubCodeBlocks")(F,x,k),F=a.subParser("blockGamut")(F,x,k),F=F.replace(/(^|\n)/g,"$1  "),F=F.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(D,A){var Y=A;return Y=Y.replace(/^  /mg,"0"),Y=Y.replace(/0/g,""),Y}),a.subParser("hashBlock")(`<blockquote>
`+F+`
</blockquote>`,x,k)}),_=k.converter._dispatch("blockQuotes.after",_,x,k),_}),a.subParser("codeBlocks",function(_,x,k){_=k.converter._dispatch("codeBlocks.before",_,x,k),_+="0";var C=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return _=_.replace(C,function(F,D,A){var Y=D,X=A,W=`
`;return Y=a.subParser("outdent")(Y,x,k),Y=a.subParser("encodeCode")(Y,x,k),Y=a.subParser("detab")(Y,x,k),Y=Y.replace(/^\n+/g,""),Y=Y.replace(/\n+$/g,""),x.omitExtraWLInCodeBlocks&&(W=""),Y="<pre><code>"+Y+W+"</code></pre>",a.subParser("hashBlock")(Y,x,k)+X}),_=_.replace(/0/,""),_=k.converter._dispatch("codeBlocks.after",_,x,k),_}),a.subParser("codeSpans",function(_,x,k){return _=k.converter._dispatch("codeSpans.before",_,x,k),typeof _>"u"&&(_=""),_=_.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(C,F,D,A){var Y=A;return Y=Y.replace(/^([ \t]*)/g,""),Y=Y.replace(/[ \t]*$/g,""),Y=a.subParser("encodeCode")(Y,x,k),Y=F+"<code>"+Y+"</code>",Y=a.subParser("hashHTMLSpans")(Y,x,k),Y}),_=k.converter._dispatch("codeSpans.after",_,x,k),_}),a.subParser("completeHTMLDocument",function(_,x,k){if(!x.completeHTMLDocument)return _;_=k.converter._dispatch("completeHTMLDocument.before",_,x,k);var C="html",F=`<!DOCTYPE HTML>
`,D="",A=`<meta charset="utf-8">
`,Y="",X="";typeof k.metadata.parsed.doctype<"u"&&(F="<!DOCTYPE "+k.metadata.parsed.doctype+`>
`,C=k.metadata.parsed.doctype.toString().toLowerCase(),(C==="html"||C==="html5")&&(A='<meta charset="utf-8">'));for(var W in k.metadata.parsed)if(k.metadata.parsed.hasOwnProperty(W))switch(W.toLowerCase()){case"doctype":break;case"title":D="<title>"+k.metadata.parsed.title+`</title>
`;break;case"charset":C==="html"||C==="html5"?A='<meta charset="'+k.metadata.parsed.charset+`">
`:A='<meta name="charset" content="'+k.metadata.parsed.charset+`">
`;break;case"language":case"lang":Y=' lang="'+k.metadata.parsed[W]+'"',X+='<meta name="'+W+'" content="'+k.metadata.parsed[W]+`">
`;break;default:X+='<meta name="'+W+'" content="'+k.metadata.parsed[W]+`">
`}return _=F+"<html"+Y+`>
<head>
`+D+A+X+`</head>
<body>
`+_.trim()+`
</body>
</html>`,_=k.converter._dispatch("completeHTMLDocument.after",_,x,k),_}),a.subParser("detab",function(_,x,k){return _=k.converter._dispatch("detab.before",_,x,k),_=_.replace(/\t(?=\t)/g,"    "),_=_.replace(/\t/g,"AB"),_=_.replace(/B(.+?)A/g,function(C,F){for(var D=F,A=4-D.length%4,Y=0;Y<A;Y++)D+=" ";return D}),_=_.replace(/A/g,"    "),_=_.replace(/B/g,""),_=k.converter._dispatch("detab.after",_,x,k),_}),a.subParser("ellipsis",function(_,x,k){return x.ellipsis&&(_=k.converter._dispatch("ellipsis.before",_,x,k),_=_.replace(/\.\.\./g,""),_=k.converter._dispatch("ellipsis.after",_,x,k)),_}),a.subParser("emoji",function(_,x,k){if(!x.emoji)return _;_=k.converter._dispatch("emoji.before",_,x,k);var C=/:([\S]+?):/g;return _=_.replace(C,function(F,D){return a.helper.emojis.hasOwnProperty(D)?a.helper.emojis[D]:F}),_=k.converter._dispatch("emoji.after",_,x,k),_}),a.subParser("encodeAmpsAndAngles",function(_,x,k){return _=k.converter._dispatch("encodeAmpsAndAngles.before",_,x,k),_=_.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),_=_.replace(/<(?![a-z\/?$!])/gi,"&lt;"),_=_.replace(/</g,"&lt;"),_=_.replace(/>/g,"&gt;"),_=k.converter._dispatch("encodeAmpsAndAngles.after",_,x,k),_}),a.subParser("encodeBackslashEscapes",function(_,x,k){return _=k.converter._dispatch("encodeBackslashEscapes.before",_,x,k),_=_.replace(/\\(\\)/g,a.helper.escapeCharactersCallback),_=_.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,a.helper.escapeCharactersCallback),_=k.converter._dispatch("encodeBackslashEscapes.after",_,x,k),_}),a.subParser("encodeCode",function(_,x,k){return _=k.converter._dispatch("encodeCode.before",_,x,k),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,a.helper.escapeCharactersCallback),_=k.converter._dispatch("encodeCode.after",_,x,k),_}),a.subParser("escapeSpecialCharsWithinTagAttributes",function(_,x,k){_=k.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",_,x,k);var C=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,F=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return _=_.replace(C,function(D){return D.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)}),_=_.replace(F,function(D){return D.replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)}),_=k.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",_,x,k),_}),a.subParser("githubCodeBlocks",function(_,x,k){return x.ghCodeBlocks?(_=k.converter._dispatch("githubCodeBlocks.before",_,x,k),_+="0",_=_.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(C,F,D,A){var Y=x.omitExtraWLInCodeBlocks?"":`
`;return A=a.subParser("encodeCode")(A,x,k),A=a.subParser("detab")(A,x,k),A=A.replace(/^\n+/g,""),A=A.replace(/\n+$/g,""),A="<pre><code"+(D?' class="'+D+" language-"+D+'"':"")+">"+A+Y+"</code></pre>",A=a.subParser("hashBlock")(A,x,k),`

G`+(k.ghCodeBlocks.push({text:C,codeblock:A})-1)+`G

`}),_=_.replace(/0/,""),k.converter._dispatch("githubCodeBlocks.after",_,x,k)):_}),a.subParser("hashBlock",function(_,x,k){return _=k.converter._dispatch("hashBlock.before",_,x,k),_=_.replace(/(^\n+|\n+$)/g,""),_=`

K`+(k.gHtmlBlocks.push(_)-1)+`K

`,_=k.converter._dispatch("hashBlock.after",_,x,k),_}),a.subParser("hashCodeTags",function(_,x,k){_=k.converter._dispatch("hashCodeTags.before",_,x,k);var C=function(F,D,A,Y){var X=A+a.subParser("encodeCode")(D,x,k)+Y;return"C"+(k.gHtmlSpans.push(X)-1)+"C"};return _=a.helper.replaceRecursiveRegExp(_,C,"<code\\b[^>]*>","</code>","gim"),_=k.converter._dispatch("hashCodeTags.after",_,x,k),_}),a.subParser("hashElement",function(_,x,k){return function(C,F){var D=F;return D=D.replace(/\n\n/g,`
`),D=D.replace(/^\n/,""),D=D.replace(/\n+$/g,""),D=`

K`+(k.gHtmlBlocks.push(D)-1)+`K

`,D}}),a.subParser("hashHTMLBlocks",function(_,x,k){_=k.converter._dispatch("hashHTMLBlocks.before",_,x,k);var C=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],F=function(G,ae,se,ve){var ce=G;return se.search(/\bmarkdown\b/)!==-1&&(ce=se+k.converter.makeHtml(ae)+ve),`

K`+(k.gHtmlBlocks.push(ce)-1)+`K

`};x.backslashEscapesHTMLTags&&(_=_.replace(/\\<(\/?[^>]+?)>/g,function(G,ae){return"&lt;"+ae+"&gt;"}));for(var D=0;D<C.length;++D)for(var A,Y=new RegExp("^ {0,3}(<"+C[D]+"\\b[^>]*>)","im"),X="<"+C[D]+"\\b[^>]*>",W="</"+C[D]+">";(A=a.helper.regexIndexOf(_,Y))!==-1;){var j=a.helper.splitAtIndex(_,A),te=a.helper.replaceRecursiveRegExp(j[1],F,X,W,"im");if(te===j[1])break;_=j[0].concat(te)}return _=_.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(_,x,k)),_=a.helper.replaceRecursiveRegExp(_,function(G){return`

K`+(k.gHtmlBlocks.push(G)-1)+`K

`},"^ {0,3}<!--","-->","gm"),_=_.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(_,x,k)),_=k.converter._dispatch("hashHTMLBlocks.after",_,x,k),_}),a.subParser("hashHTMLSpans",function(_,x,k){_=k.converter._dispatch("hashHTMLSpans.before",_,x,k);function C(F){return"C"+(k.gHtmlSpans.push(F)-1)+"C"}return _=_.replace(/<[^>]+?\/>/gi,function(F){return C(F)}),_=_.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(F){return C(F)}),_=_.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(F){return C(F)}),_=_.replace(/<[^>]+?>/gi,function(F){return C(F)}),_=k.converter._dispatch("hashHTMLSpans.after",_,x,k),_}),a.subParser("unhashHTMLSpans",function(_,x,k){_=k.converter._dispatch("unhashHTMLSpans.before",_,x,k);for(var C=0;C<k.gHtmlSpans.length;++C){for(var F=k.gHtmlSpans[C],D=0;/C(\d+)C/.test(F);){var A=RegExp.$1;if(F=F.replace("C"+A+"C",k.gHtmlSpans[A]),D===10){console.error("maximum nesting of 10 spans reached!!!");break}++D}_=_.replace("C"+C+"C",F)}return _=k.converter._dispatch("unhashHTMLSpans.after",_,x,k),_}),a.subParser("hashPreCodeTags",function(_,x,k){_=k.converter._dispatch("hashPreCodeTags.before",_,x,k);var C=function(F,D,A,Y){var X=A+a.subParser("encodeCode")(D,x,k)+Y;return`

G`+(k.ghCodeBlocks.push({text:F,codeblock:X})-1)+`G

`};return _=a.helper.replaceRecursiveRegExp(_,C,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),_=k.converter._dispatch("hashPreCodeTags.after",_,x,k),_}),a.subParser("headers",function(_,x,k){_=k.converter._dispatch("headers.before",_,x,k);var C=isNaN(parseInt(x.headerLevelStart))?1:parseInt(x.headerLevelStart),F=x.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,D=x.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;_=_.replace(F,function(X,W){var j=a.subParser("spanGamut")(W,x,k),te=x.noHeaderId?"":' id="'+Y(W)+'"',G=C,ae="<h"+G+te+">"+j+"</h"+G+">";return a.subParser("hashBlock")(ae,x,k)}),_=_.replace(D,function(X,W){var j=a.subParser("spanGamut")(W,x,k),te=x.noHeaderId?"":' id="'+Y(W)+'"',G=C+1,ae="<h"+G+te+">"+j+"</h"+G+">";return a.subParser("hashBlock")(ae,x,k)});var A=x.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;_=_.replace(A,function(X,W,j){var te=j;x.customizedHeaderId&&(te=j.replace(/\s?\{([^{]+?)}\s*$/,""));var G=a.subParser("spanGamut")(te,x,k),ae=x.noHeaderId?"":' id="'+Y(j)+'"',se=C-1+W.length,ve="<h"+se+ae+">"+G+"</h"+se+">";return a.subParser("hashBlock")(ve,x,k)});function Y(X){var W,j;if(x.customizedHeaderId){var te=X.match(/\{([^{]+?)}\s*$/);te&&te[1]&&(X=te[1])}return W=X,a.helper.isString(x.prefixHeaderId)?j=x.prefixHeaderId:x.prefixHeaderId===!0?j="section-":j="",x.rawPrefixHeaderId||(W=j+W),x.ghCompatibleHeaderId?W=W.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():x.rawHeaderId?W=W.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():W=W.replace(/[^\w]/g,"").toLowerCase(),x.rawPrefixHeaderId&&(W=j+W),k.hashLinkCounts[W]?W=W+"-"+k.hashLinkCounts[W]++:k.hashLinkCounts[W]=1,W}return _=k.converter._dispatch("headers.after",_,x,k),_}),a.subParser("horizontalRule",function(_,x,k){_=k.converter._dispatch("horizontalRule.before",_,x,k);var C=a.subParser("hashBlock")("<hr />",x,k);return _=_.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,C),_=_.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,C),_=_.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,C),_=k.converter._dispatch("horizontalRule.after",_,x,k),_}),a.subParser("images",function(_,x,k){_=k.converter._dispatch("images.before",_,x,k);var C=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,F=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,D=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,A=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,Y=/!\[([^\[\]]+)]()()()()()/g;function X(j,te,G,ae,se,ve,ce,ke){return ae=ae.replace(/\s/g,""),W(j,te,G,ae,se,ve,ce,ke)}function W(j,te,G,ae,se,ve,ce,ke){var Fe=k.gUrls,$e=k.gTitles,Oe=k.gDimensions;if(G=G.toLowerCase(),ke||(ke=""),j.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)ae="";else if(ae===""||ae===null)if((G===""||G===null)&&(G=te.toLowerCase().replace(/ ?\n/g," ")),ae="#"+G,!a.helper.isUndefined(Fe[G]))ae=Fe[G],a.helper.isUndefined($e[G])||(ke=$e[G]),a.helper.isUndefined(Oe[G])||(se=Oe[G].width,ve=Oe[G].height);else return j;te=te.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),ae=ae.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var Ee='<img src="'+ae+'" alt="'+te+'"';return ke&&a.helper.isString(ke)&&(ke=ke.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),Ee+=' title="'+ke+'"'),se&&ve&&(se=se==="*"?"auto":se,ve=ve==="*"?"auto":ve,Ee+=' width="'+se+'"',Ee+=' height="'+ve+'"'),Ee+=" />",Ee}return _=_.replace(A,W),_=_.replace(D,X),_=_.replace(F,W),_=_.replace(C,W),_=_.replace(Y,W),_=k.converter._dispatch("images.after",_,x,k),_}),a.subParser("italicsAndBold",function(_,x,k){_=k.converter._dispatch("italicsAndBold.before",_,x,k);function C(F,D,A){return D+F+A}return x.literalMidWordUnderscores?(_=_.replace(/\b___(\S[\s\S]*?)___\b/g,function(F,D){return C(D,"<strong><em>","</em></strong>")}),_=_.replace(/\b__(\S[\s\S]*?)__\b/g,function(F,D){return C(D,"<strong>","</strong>")}),_=_.replace(/\b_(\S[\s\S]*?)_\b/g,function(F,D){return C(D,"<em>","</em>")})):(_=_.replace(/___(\S[\s\S]*?)___/g,function(F,D){return/\S$/.test(D)?C(D,"<strong><em>","</em></strong>"):F}),_=_.replace(/__(\S[\s\S]*?)__/g,function(F,D){return/\S$/.test(D)?C(D,"<strong>","</strong>"):F}),_=_.replace(/_([^\s_][\s\S]*?)_/g,function(F,D){return/\S$/.test(D)?C(D,"<em>","</em>"):F})),x.literalMidWordAsterisks?(_=_.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(F,D,A){return C(A,D+"<strong><em>","</em></strong>")}),_=_.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(F,D,A){return C(A,D+"<strong>","</strong>")}),_=_.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(F,D,A){return C(A,D+"<em>","</em>")})):(_=_.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(F,D){return/\S$/.test(D)?C(D,"<strong><em>","</em></strong>"):F}),_=_.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(F,D){return/\S$/.test(D)?C(D,"<strong>","</strong>"):F}),_=_.replace(/\*([^\s*][\s\S]*?)\*/g,function(F,D){return/\S$/.test(D)?C(D,"<em>","</em>"):F})),_=k.converter._dispatch("italicsAndBold.after",_,x,k),_}),a.subParser("lists",function(_,x,k){function C(A,Y){k.gListLevel++,A=A.replace(/\n{2,}$/,`
`),A+="0";var X=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,W=/\n[ \t]*\n(?!0)/.test(A);return x.disableForced4SpacesIndentedSublists&&(X=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),A=A.replace(X,function(j,te,G,ae,se,ve,ce){ce=ce&&ce.trim()!=="";var ke=a.subParser("outdent")(se,x,k),Fe="";return ve&&x.tasklists&&(Fe=' class="task-list-item" style="list-style-type: none;"',ke=ke.replace(/^[ \t]*\[(x|X| )?]/m,function(){var $e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ce&&($e+=" checked"),$e+=">",$e})),ke=ke.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function($e){return"A"+$e}),te||ke.search(/\n{2,}/)>-1?(ke=a.subParser("githubCodeBlocks")(ke,x,k),ke=a.subParser("blockGamut")(ke,x,k)):(ke=a.subParser("lists")(ke,x,k),ke=ke.replace(/\n$/,""),ke=a.subParser("hashHTMLBlocks")(ke,x,k),ke=ke.replace(/\n\n+/g,`

`),W?ke=a.subParser("paragraphs")(ke,x,k):ke=a.subParser("spanGamut")(ke,x,k)),ke=ke.replace("A",""),ke="<li"+Fe+">"+ke+`</li>
`,ke}),A=A.replace(/0/g,""),k.gListLevel--,Y&&(A=A.replace(/\s+$/,"")),A}function F(A,Y){if(Y==="ol"){var X=A.match(/^ *(\d+)\./);if(X&&X[1]!=="1")return' start="'+X[1]+'"'}return""}function D(A,Y,X){var W=x.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,j=x.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,te=Y==="ul"?W:j,G="";if(A.search(te)!==-1)(function se(ve){var ce=ve.search(te),ke=F(A,Y);ce!==-1?(G+=`

<`+Y+ke+`>
`+C(ve.slice(0,ce),!!X)+"</"+Y+`>
`,Y=Y==="ul"?"ol":"ul",te=Y==="ul"?W:j,se(ve.slice(ce))):G+=`

<`+Y+ke+`>
`+C(ve,!!X)+"</"+Y+`>
`})(A);else{var ae=F(A,Y);G=`

<`+Y+ae+`>
`+C(A,!!X)+"</"+Y+`>
`}return G}return _=k.converter._dispatch("lists.before",_,x,k),_+="0",k.gListLevel?_=_.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(A,Y,X){var W=X.search(/[*+-]/g)>-1?"ul":"ol";return D(Y,W,!0)}):_=_.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(A,Y,X,W){var j=W.search(/[*+-]/g)>-1?"ul":"ol";return D(X,j,!1)}),_=_.replace(/0/,""),_=k.converter._dispatch("lists.after",_,x,k),_}),a.subParser("metadata",function(_,x,k){if(!x.metadata)return _;_=k.converter._dispatch("metadata.before",_,x,k);function C(F){k.metadata.raw=F,F=F.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),F=F.replace(/\n {4}/g," "),F.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(D,A,Y){return k.metadata.parsed[A]=Y,""})}return _=_.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(F,D,A){return C(A),"M"}),_=_.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(F,D,A){return D&&(k.metadata.format=D),C(A),"M"}),_=_.replace(/M/g,""),_=k.converter._dispatch("metadata.after",_,x,k),_}),a.subParser("outdent",function(_,x,k){return _=k.converter._dispatch("outdent.before",_,x,k),_=_.replace(/^(\t|[ ]{1,4})/gm,"0"),_=_.replace(/0/g,""),_=k.converter._dispatch("outdent.after",_,x,k),_}),a.subParser("paragraphs",function(_,x,k){_=k.converter._dispatch("paragraphs.before",_,x,k),_=_.replace(/^\n+/g,""),_=_.replace(/\n+$/g,"");for(var C=_.split(/\n{2,}/g),F=[],D=C.length,A=0;A<D;A++){var Y=C[A];Y.search(/(K|G)(\d+)\1/g)>=0?F.push(Y):Y.search(/\S/)>=0&&(Y=a.subParser("spanGamut")(Y,x,k),Y=Y.replace(/^([ \t]*)/g,"<p>"),Y+="</p>",F.push(Y))}for(D=F.length,A=0;A<D;A++){for(var X="",W=F[A],j=!1;/(K|G)(\d+)\1/.test(W);){var te=RegExp.$1,G=RegExp.$2;te==="K"?X=k.gHtmlBlocks[G]:j?X=a.subParser("encodeCode")(k.ghCodeBlocks[G].text,x,k):X=k.ghCodeBlocks[G].codeblock,X=X.replace(/\$/g,"$$$$"),W=W.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,X),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(W)&&(j=!0)}F[A]=W}return _=F.join(`
`),_=_.replace(/^\n+/g,""),_=_.replace(/\n+$/g,""),k.converter._dispatch("paragraphs.after",_,x,k)}),a.subParser("runExtension",function(_,x,k,C){if(_.filter)x=_.filter(x,C.converter,k);else if(_.regex){var F=_.regex;F instanceof RegExp||(F=new RegExp(F,"g")),x=x.replace(F,_.replace)}return x}),a.subParser("spanGamut",function(_,x,k){return _=k.converter._dispatch("spanGamut.before",_,x,k),_=a.subParser("codeSpans")(_,x,k),_=a.subParser("escapeSpecialCharsWithinTagAttributes")(_,x,k),_=a.subParser("encodeBackslashEscapes")(_,x,k),_=a.subParser("images")(_,x,k),_=a.subParser("anchors")(_,x,k),_=a.subParser("autoLinks")(_,x,k),_=a.subParser("simplifiedAutoLinks")(_,x,k),_=a.subParser("emoji")(_,x,k),_=a.subParser("underline")(_,x,k),_=a.subParser("italicsAndBold")(_,x,k),_=a.subParser("strikethrough")(_,x,k),_=a.subParser("ellipsis")(_,x,k),_=a.subParser("hashHTMLSpans")(_,x,k),_=a.subParser("encodeAmpsAndAngles")(_,x,k),x.simpleLineBreaks?/\n\nK/.test(_)||(_=_.replace(/\n+/g,`<br />
`)):_=_.replace(/  +\n/g,`<br />
`),_=k.converter._dispatch("spanGamut.after",_,x,k),_}),a.subParser("strikethrough",function(_,x,k){function C(F){return x.simplifiedAutoLink&&(F=a.subParser("simplifiedAutoLinks")(F,x,k)),"<del>"+F+"</del>"}return x.strikethrough&&(_=k.converter._dispatch("strikethrough.before",_,x,k),_=_.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(F,D){return C(D)}),_=k.converter._dispatch("strikethrough.after",_,x,k)),_}),a.subParser("stripLinkDefinitions",function(_,x,k){var C=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,F=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;_+="0";var D=function(A,Y,X,W,j,te,G){return Y=Y.toLowerCase(),_.toLowerCase().split(Y).length-1<2?A:(X.match(/^data:.+?\/.+?;base64,/)?k.gUrls[Y]=X.replace(/\s/g,""):k.gUrls[Y]=a.subParser("encodeAmpsAndAngles")(X,x,k),te?te+G:(G&&(k.gTitles[Y]=G.replace(/"|'/g,"&quot;")),x.parseImgDimensions&&W&&j&&(k.gDimensions[Y]={width:W,height:j}),""))};return _=_.replace(F,D),_=_.replace(C,D),_=_.replace(/0/,""),_}),a.subParser("tables",function(_,x,k){if(!x.tables)return _;var C=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,F=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function D(j){return/^:[ \t]*--*$/.test(j)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(j)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(j)?' style="text-align:center;"':""}function A(j,te){var G="";return j=j.trim(),(x.tablesHeaderId||x.tableHeaderId)&&(G=' id="'+j.replace(/ /g,"_").toLowerCase()+'"'),j=a.subParser("spanGamut")(j,x,k),"<th"+G+te+">"+j+`</th>
`}function Y(j,te){var G=a.subParser("spanGamut")(j,x,k);return"<td"+te+">"+G+`</td>
`}function X(j,te){for(var G=`<table>
<thead>
<tr>
`,ae=j.length,se=0;se<ae;++se)G+=j[se];for(G+=`</tr>
</thead>
<tbody>
`,se=0;se<te.length;++se){G+=`<tr>
`;for(var ve=0;ve<ae;++ve)G+=te[se][ve];G+=`</tr>
`}return G+=`</tbody>
</table>
`,G}function W(j){var te,G=j.split(`
`);for(te=0;te<G.length;++te)/^ {0,3}\|/.test(G[te])&&(G[te]=G[te].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(G[te])&&(G[te]=G[te].replace(/\|[ \t]*$/,"")),G[te]=a.subParser("codeSpans")(G[te],x,k);var ae=G[0].split("|").map(function(Ee){return Ee.trim()}),se=G[1].split("|").map(function(Ee){return Ee.trim()}),ve=[],ce=[],ke=[],Fe=[];for(G.shift(),G.shift(),te=0;te<G.length;++te)G[te].trim()!==""&&ve.push(G[te].split("|").map(function(Ee){return Ee.trim()}));if(ae.length<se.length)return j;for(te=0;te<se.length;++te)ke.push(D(se[te]));for(te=0;te<ae.length;++te)a.helper.isUndefined(ke[te])&&(ke[te]=""),ce.push(A(ae[te],ke[te]));for(te=0;te<ve.length;++te){for(var $e=[],Oe=0;Oe<ce.length;++Oe)a.helper.isUndefined(ve[te][Oe]),$e.push(Y(ve[te][Oe],ke[Oe]));Fe.push($e)}return X(ce,Fe)}return _=k.converter._dispatch("tables.before",_,x,k),_=_.replace(/\\(\|)/g,a.helper.escapeCharactersCallback),_=_.replace(C,W),_=_.replace(F,W),_=k.converter._dispatch("tables.after",_,x,k),_}),a.subParser("underline",function(_,x,k){return x.underline&&(_=k.converter._dispatch("underline.before",_,x,k),x.literalMidWordUnderscores?(_=_.replace(/\b___(\S[\s\S]*?)___\b/g,function(C,F){return"<u>"+F+"</u>"}),_=_.replace(/\b__(\S[\s\S]*?)__\b/g,function(C,F){return"<u>"+F+"</u>"})):(_=_.replace(/___(\S[\s\S]*?)___/g,function(C,F){return/\S$/.test(F)?"<u>"+F+"</u>":C}),_=_.replace(/__(\S[\s\S]*?)__/g,function(C,F){return/\S$/.test(F)?"<u>"+F+"</u>":C})),_=_.replace(/(_)/g,a.helper.escapeCharactersCallback),_=k.converter._dispatch("underline.after",_,x,k)),_}),a.subParser("unescapeSpecialChars",function(_,x,k){return _=k.converter._dispatch("unescapeSpecialChars.before",_,x,k),_=_.replace(/E(\d+)E/g,function(C,F){var D=parseInt(F);return String.fromCharCode(D)}),_=k.converter._dispatch("unescapeSpecialChars.after",_,x,k),_}),a.subParser("makeMarkdown.blockquote",function(_,x){var k="";if(_.hasChildNodes())for(var C=_.childNodes,F=C.length,D=0;D<F;++D){var A=a.subParser("makeMarkdown.node")(C[D],x);A!==""&&(k+=A)}return k=k.trim(),k="> "+k.split(`
`).join(`
> `),k}),a.subParser("makeMarkdown.codeBlock",function(_,x){var k=_.getAttribute("language"),C=_.getAttribute("precodenum");return"```"+k+`
`+x.preList[C]+"\n```"}),a.subParser("makeMarkdown.codeSpan",function(_){return"`"+_.innerHTML+"`"}),a.subParser("makeMarkdown.emphasis",function(_,x){var k="";if(_.hasChildNodes()){k+="*";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)k+=a.subParser("makeMarkdown.node")(C[D],x);k+="*"}return k}),a.subParser("makeMarkdown.header",function(_,x,k){var C=new Array(k+1).join("#"),F="";if(_.hasChildNodes()){F=C+" ";for(var D=_.childNodes,A=D.length,Y=0;Y<A;++Y)F+=a.subParser("makeMarkdown.node")(D[Y],x)}return F}),a.subParser("makeMarkdown.hr",function(){return"---"}),a.subParser("makeMarkdown.image",function(_){var x="";return _.hasAttribute("src")&&(x+="!["+_.getAttribute("alt")+"](",x+="<"+_.getAttribute("src")+">",_.hasAttribute("width")&&_.hasAttribute("height")&&(x+=" ="+_.getAttribute("width")+"x"+_.getAttribute("height")),_.hasAttribute("title")&&(x+=' "'+_.getAttribute("title")+'"'),x+=")"),x}),a.subParser("makeMarkdown.links",function(_,x){var k="";if(_.hasChildNodes()&&_.hasAttribute("href")){var C=_.childNodes,F=C.length;k="[";for(var D=0;D<F;++D)k+=a.subParser("makeMarkdown.node")(C[D],x);k+="](",k+="<"+_.getAttribute("href")+">",_.hasAttribute("title")&&(k+=' "'+_.getAttribute("title")+'"'),k+=")"}return k}),a.subParser("makeMarkdown.list",function(_,x,k){var C="";if(!_.hasChildNodes())return"";for(var F=_.childNodes,D=F.length,A=_.getAttribute("start")||1,Y=0;Y<D;++Y)if(!(typeof F[Y].tagName>"u"||F[Y].tagName.toLowerCase()!=="li")){var X="";k==="ol"?X=A.toString()+". ":X="- ",C+=X+a.subParser("makeMarkdown.listItem")(F[Y],x),++A}return C+=`
<!-- -->
`,C.trim()}),a.subParser("makeMarkdown.listItem",function(_,x){for(var k="",C=_.childNodes,F=C.length,D=0;D<F;++D)k+=a.subParser("makeMarkdown.node")(C[D],x);return/\n$/.test(k)?k=k.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):k+=`
`,k}),a.subParser("makeMarkdown.node",function(_,x,k){k=k||!1;var C="";if(_.nodeType===3)return a.subParser("makeMarkdown.txt")(_,x);if(_.nodeType===8)return"<!--"+_.data+`-->

`;if(_.nodeType!==1)return"";var F=_.tagName.toLowerCase();switch(F){case"h1":k||(C=a.subParser("makeMarkdown.header")(_,x,1)+`

`);break;case"h2":k||(C=a.subParser("makeMarkdown.header")(_,x,2)+`

`);break;case"h3":k||(C=a.subParser("makeMarkdown.header")(_,x,3)+`

`);break;case"h4":k||(C=a.subParser("makeMarkdown.header")(_,x,4)+`

`);break;case"h5":k||(C=a.subParser("makeMarkdown.header")(_,x,5)+`

`);break;case"h6":k||(C=a.subParser("makeMarkdown.header")(_,x,6)+`

`);break;case"p":k||(C=a.subParser("makeMarkdown.paragraph")(_,x)+`

`);break;case"blockquote":k||(C=a.subParser("makeMarkdown.blockquote")(_,x)+`

`);break;case"hr":k||(C=a.subParser("makeMarkdown.hr")(_,x)+`

`);break;case"ol":k||(C=a.subParser("makeMarkdown.list")(_,x,"ol")+`

`);break;case"ul":k||(C=a.subParser("makeMarkdown.list")(_,x,"ul")+`

`);break;case"precode":k||(C=a.subParser("makeMarkdown.codeBlock")(_,x)+`

`);break;case"pre":k||(C=a.subParser("makeMarkdown.pre")(_,x)+`

`);break;case"table":k||(C=a.subParser("makeMarkdown.table")(_,x)+`

`);break;case"code":C=a.subParser("makeMarkdown.codeSpan")(_,x);break;case"em":case"i":C=a.subParser("makeMarkdown.emphasis")(_,x);break;case"strong":case"b":C=a.subParser("makeMarkdown.strong")(_,x);break;case"del":C=a.subParser("makeMarkdown.strikethrough")(_,x);break;case"a":C=a.subParser("makeMarkdown.links")(_,x);break;case"img":C=a.subParser("makeMarkdown.image")(_,x);break;default:C=_.outerHTML+`

`}return C}),a.subParser("makeMarkdown.paragraph",function(_,x){var k="";if(_.hasChildNodes())for(var C=_.childNodes,F=C.length,D=0;D<F;++D)k+=a.subParser("makeMarkdown.node")(C[D],x);return k=k.trim(),k}),a.subParser("makeMarkdown.pre",function(_,x){var k=_.getAttribute("prenum");return"<pre>"+x.preList[k]+"</pre>"}),a.subParser("makeMarkdown.strikethrough",function(_,x){var k="";if(_.hasChildNodes()){k+="~~";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)k+=a.subParser("makeMarkdown.node")(C[D],x);k+="~~"}return k}),a.subParser("makeMarkdown.strong",function(_,x){var k="";if(_.hasChildNodes()){k+="**";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)k+=a.subParser("makeMarkdown.node")(C[D],x);k+="**"}return k}),a.subParser("makeMarkdown.table",function(_,x){var k="",C=[[],[]],F=_.querySelectorAll("thead>tr>th"),D=_.querySelectorAll("tbody>tr"),A,Y;for(A=0;A<F.length;++A){var X=a.subParser("makeMarkdown.tableCell")(F[A],x),W="---";if(F[A].hasAttribute("style")){var j=F[A].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(j){case"text-align:left;":W=":---";break;case"text-align:right;":W="---:";break;case"text-align:center;":W=":---:";break}}C[0][A]=X.trim(),C[1][A]=W}for(A=0;A<D.length;++A){var te=C.push([])-1,G=D[A].getElementsByTagName("td");for(Y=0;Y<F.length;++Y){var ae=" ";typeof G[Y]<"u"&&(ae=a.subParser("makeMarkdown.tableCell")(G[Y],x)),C[te].push(ae)}}var se=3;for(A=0;A<C.length;++A)for(Y=0;Y<C[A].length;++Y){var ve=C[A][Y].length;ve>se&&(se=ve)}for(A=0;A<C.length;++A){for(Y=0;Y<C[A].length;++Y)A===1?C[A][Y].slice(-1)===":"?C[A][Y]=a.helper.padEnd(C[A][Y].slice(-1),se-1,"-")+":":C[A][Y]=a.helper.padEnd(C[A][Y],se,"-"):C[A][Y]=a.helper.padEnd(C[A][Y],se);k+="| "+C[A].join(" | ")+` |
`}return k.trim()}),a.subParser("makeMarkdown.tableCell",function(_,x){var k="";if(!_.hasChildNodes())return"";for(var C=_.childNodes,F=C.length,D=0;D<F;++D)k+=a.subParser("makeMarkdown.node")(C[D],x,!0);return k.trim()}),a.subParser("makeMarkdown.txt",function(_){var x=_.nodeValue;return x=x.replace(/ +/g," "),x=x.replace(/NBSP;/g," "),x=a.helper.unescapeHTMLEntities(x),x=x.replace(/([*_~|`])/g,"\\$1"),x=x.replace(/^(\s*)>/g,"\\$1>"),x=x.replace(/^#/gm,"\\#"),x=x.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),x=x.replace(/^( {0,3}\d+)\./gm,"$1\\."),x=x.replace(/^( {0,3})([+-])/gm,"$1\\$2"),x=x.replace(/]([\s]*)\(/g,"\\]$1\\("),x=x.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),x});var q=this;e.exports?e.exports=a:q.showdown=a}).call(dA)})(jl)),jl.exports}var hA=fA();const pA=Lh(hA);/*!
 * vue-showdown - Use showdown as a vue component
 *
 * @version v4.2.0
 * @link https://vue-showdown.js.org
 * @license MIT
 * @copyright 2018-2023 meteorlxy
 */const mA=yt({name:"VueShowdown",props:{markdown:{type:String,required:!1,default:null},tag:{type:String,required:!1,default:"div"},flavor:{type:String,required:!1,default:null},options:{type:Object,required:!1,default:()=>({})},extensions:{type:Array,required:!1,default:null},vueTemplate:{type:Boolean,required:!1,default:!1},vueTemplateComponents:{type:Object,required:!1,default:()=>({})},vueTemplateData:{type:Object,required:!1,default:()=>({})}},setup(e,{slots:t}){const s=ge(()=>{const u=new pA.Converter({extensions:e.extensions??void 0});return e.flavor!==null&&u.setFlavor(e.flavor),Object.entries(e.options).forEach(([d,h])=>{u.setOption(d,h)}),u}),a=ge(()=>{var d;if(e.markdown!==null)return e.markdown;const u=(d=t.default)==null?void 0:d.call(t)[0];return(u==null?void 0:u.type)===vo?u.children:""}),i=ge(()=>s.value.makeHtml(a.value));return()=>e.vueTemplate?Zr({components:e.vueTemplateComponents,setup:()=>e.vueTemplateData,template:`<${e.tag}>${i.value}</${e.tag}>`}):Zr(e.tag,{innerHTML:i.value})}}),gA={fr:{title:"BAM - Biodiversit autour de moi",discover:{title:"Explore"},subtitle:"Rechercher des espces autour de moi",howto:"Comment a marche ?",introTitle:"Qu'est-ce que Biodiversit autour de moi ?",intro:`*Biodiversit autour de moi* est un widget ddi  **l'exploration des espces ** !

Cette interface vous permet de **rechercher les espces observes dans une zone gographique spcifique **.

**Utilisez la carte interactive ** pour slectionner la zone o vous souhaitez effectuer votre recherche.

La **liste des espces ** trouves dans la zone slectionne s'affichera  ct de la carte .

Vous pouvez galement **partager vos rsultats ** pour collaborer avec d'autres utilisateurs.
`,parameters:"Paramtres",nbDisplayedSpecies:"Nombre d'espces affiches",filters:"Filtres",showFilters:"Afficher les filtres",RefreshFilters:"Rafrachir les paramtres",IndicateGeoJSONUrl:"Indiquer une URL vers un GeoJSON",IndicateDetailTemplateUrl:"https://<urlFicheDeTaxon>/",TaxonListModeSelection:"Mode d'affichage des espces",widgetTypeSelection:"Mode d'affichage du widget",UseGeoJSONSource:"Utiliser une source GeoJSON",UseCustomDetailPage:'Modifier la redirection du bouton "En Savoir Plus" ',filtersTitle:"Filtres",filtersOnList:"Afficher les filtres sur la liste",primaryColor:"Changer la couleur primaire",mapEditable:" Zone de recherche ditable",bufferSize:"Taille du buffer (en mtre)",dateMin:"Date min",dateMax:"Date max",search:"Rechercher",reset:"Rinitialiser",limit:"Limite",nbPages:"Nombre de pages",searchResults:"Rsultats de la recherche",noResults:"Aucun rsultat",previousPage:"Prcedent",nextPage:"Suivant",loading:"Chargement en cours",loadingError:"Une erreur est survenue lors du chargement",noObservations:"Aucune observation trouve",noSpeciesObserved:"Aucune espce observe dans cette zone !",emptySearch:"Aucune espce ne correspond  votre recherche",noGeometry:"Aucune gometrie trouve",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},browserIntegration:"Intgrer le widget dans votre site",drawGeometry:"Dessiner une zone pour afficher les espces",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type de widget",default:"Carte et liste",list:"Liste d'espces",config:"Configurateur"},sortBy:"Trier par",sortOrder:"Ordre",copy:"Copier",copied:"Copi",share:"Partager",shareLink:"Partager un lien",shareDiscover:"Partager votre recherche",source:{title:"Source de donnes",select:"Slectionner une source",modify:"Modifier la source de donnes des observations",gbifWarning:"Le nombre d'observations et leurs dates sont bass sur une agrgation des dernires observations effectues dans la zone slectionne et limite  {nbObs} maximum."},gbif:{apiEndpoint:"Adresse de l'API du GBIF"},geonature:{api_endpoint:"Adresse de l'API de GeoNature",id_export:"Identifiant de l'export"},desc:"Dcroissant",asc:"Croissant",media:{source:"Source de mdias",image:"Source d'image",sound:"Source de son",select:"Slectionner une source de mdia",linkToOrigin:"Source",licenseUnder:"Sous licence "},taxon:{scientificName:"Nom scientifique",vernacularName:"Nom vernaculaire",nbObservations:"Nombre d'observations",lastSeenDate:"Date de la dernire observation",taxonFilter:"Filtre par espce",classFilter:"Filtrer par classe",learnMore:"En savoir plus",class:"Classe d'espce",taxonFound:"espces trouves"},mode:{galleryMode:"Galerie",detailedList:"Dtaill",hybrid:"Hybride",isTaxonListHybrid:"Mode de la liste d'espce modifiable"},widgetType:{list:"Liste",default:"Carte Liste"},numberOfTaxonPerLine:"Nombre d'espces par ligne",widgetPreview:"Prvisualisation",taxonsClass:{Animalia:{Mammalia:"Mammifres",Aves:"Oiseaux",Reptilia:"Reptiles",Amphibia:"Amphibiens",Insecta:"Insectes",Arachnida:"Arachnides",Gastropoda:"Gastropodes",Bivalvia:"Bivalves"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Monocotyldone",Pinopsida:"Conifres"}},Animalia:"Animal",Plantae:"Plante",or:"ou",in:"dans",datasetList:"jeux de donnes associs",observation:"observation",observations:"observations",searchPlace:{loadingText:"Recherche en cours",placeholder:"Rechercher un lieu",errorText:"Erreur lors de la recherche",noResultsText:"Aucun rsultat trouv"},searchTaxon:"Recherche une espce"}},_A={en:{title:"BAM - Biodiversity around me",discover:{title:"Explore"},subtitle:"Search for species around me",howto:"How does it work?",introTitle:"What is Biodiversity around me ?",intro:`*Biodiversity Around Me* is a widget dedicated to **exploring species **!

This interface allows you to **search for species observed in a specific geographic area **.

**Use the interactive map ** to select the area where you want to conduct your search.

The **list of species ** found in the selected area will be displayed next to the map .

You can also **share your results ** to collaborate with other users.

    `,parameters:"Parameters",nbDisplayedSpecies:"Number of species displayed",filters:"Filters",showFilters:"Show Filters",RefreshFilters:"Refresh parameters",IndicateGeoJSONUrl:"Indicate a URL towards a GeoJSON",IndicateDetailTemplateUrl:"https://<urlTaxonSheet>/",TaxonListModeSelection:"Species list display mode",widgetTypeSelection:"Widget display mode",UseGeoJSONSource:"Use a GeoJSON from the web",UseCustomDetailPage:'Change the redirection of the "Learn More" button',filtersTitle:"Filters",filtersOnList:"Show filters on list",primaryColor:"Change the main color",mapEditable:"Editable research zone",bufferSize:"Buffer Size (in meter):",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",limit:"Limite",nbPages:"Number of pages",searchResults:"Search results",noResults:"No results",noSpeciesObserved:"No species observed in this area !",previousPage:"Previous",nextPage:"Next",loading:"Loading",loadingError:"An error occurred while loading",noObservations:"No observation found",emptySearch:"No species match your search",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},browserIntegration:"Integrate the widget into your site",drawGeometry:"Draw an area to display species",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type of widget",default:"Map and List",list:"List of species",config:"Configuration"},sortBy:"Sort by",sortOrder:"Order",copy:"Copy",copied:"Copied",share:"Share",shareLink:"Share a link",shareDiscover:"Share your research",source:{title:"Data Source",select:"Select a data source",modify:"Change the observations data source",gbifWarning:"The number of observations and the dates of the latest sightings are based on an aggregation of the latest observations made within the selected area and limited to {nbObs} maximum."},gbif:{apiEndpoint:"API endpoint of the GBIF"},geonature:{api_endpoint:"GeoNature  API endpoint",id_export:"Export's id"},desc:"Dcroissant",asc:"Croissant",media:{source:"Media source",image:"Image Source",sound:"Sound Source",select:"Select a media source",linkToOrigin:"Source",licenseUnder:"Under license "},taxon:{scientificName:"Scientific Name",vernacularName:"Vernacular name",nbObservations:"Number of observations",lastSeenDate:"Last observation date",taxonFilter:"Filter by species",classFilter:"Filter by class",learnMore:"Learn more",class:"Species' class",taxonFound:"species found"},mode:{galleryMode:"Gallery",detailedList:"Detailed",hybrid:"Hybrid",isTaxonListHybrid:"Species list mode customizable"},widgetType:{list:"List",default:"Map List"},numberOfTaxonPerLine:"Number of species per line",widgetPreview:"Preview",taxonsClass:{Animalia:{Mammalia:"Mammals",Aves:"Birds",Reptilia:"Reptiles",Amphibia:"Amphibians",Insecta:"Insects",Arachnida:"Arachnids",Gastropoda:"Gastropods",Bivalvia:"Bivalves"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Monocotyledons",Pinopsida:"Conifers"}},Animalia:"Animal",Plantae:"Plant",or:"or",in:"in",datasetList:"associated datasets",observation:"observation",observations:"observations",searchPlace:{loadingText:"Search in progress",placeholder:"Search a place",errorText:"Error while searching",noResultsText:"No results found"},searchTaxon:"Search a species"}},vA={es:{title:"BAM - Biodiversidad alrededor mo",discover:{title:"Explorar"},subtitle:"Buscar especies a mi alrededor",howto:"Cmo funciona?",introTitle:"Qu es Biodiversidad alrededor mo?",intro:`*Biodiversidad Alrededor Mo* es un widget dedicado a **explorar especies **!
Esta interfaz te permite **buscar especies observadas en un rea geogrfica especfica **.
**Usa el mapa interactivo ** para seleccionar el rea donde deseas realizar tu bsqueda.
La **lista de especies ** encontradas en el rea seleccionada se mostrar junto al mapa .
Tambin puedes **compartir tus resultados ** para colaborar con otros usuarios.
    `,parameters:"Parmetros",nbDisplayedSpecies:"Nmero de especies mostradas",filters:"Filtros",showFilters:"Mostrar filtros",RefreshFilters:"Actualizar parmetros",IndicateGeoJSONUrl:"Indicar una URL hacia un GeoJSON",IndicateDetailTemplateUrl:"https://<urlTaxonSheet>/",TaxonListModeSelection:"Modo de visualizacin de la lista de especies",widgetTypeSelection:"Modo de visualizacin del Widget",UseGeoJSONSource:"Usar un GeoJSON",UseCustomDetailPage:'Cambiar la redireccin del botn "Ms informacin"',filtersTitle:"Filtros",filtersOnList:"Mostrar filtros en la lista",primaryColor:"Cambiar el color primario",mapEditable:"Zona de bsqueda editable",bufferSize:"Tamao del buffer (en metro)",dateMin:"Fecha Mnima",dateMax:"Fecha Mxima",search:"Buscar",reset:"Reiniciar",limit:"Lmite",nbPages:"Nmero de pginas",searchResults:"Resultados de la bsqueda",noResults:"No hay resultados",noSpeciesObserved:"No se han observado especies en esta rea!",previousPage:"Anterior",nextPage:"Siguiente",loading:"Cargando",loadingError:"Error al cargar los datos",noObservations:"Ninguna observacin encontrada",emptySearch:"No se encontraron especies que coincidan con tu bsqueda",noGeometry:"No se encontr geometra",error404:{title:"Pgina no encontrada",subtitle:"La pgina que buscas no existe"},browserIntegration:"Integrar el widget en tu pgina web",drawGeometry:"Dibujar un rea para mostrar especies",size:{width:"Anchura",height:"Altura"},embed:"Integrar",typeWidget:{title:"Tipo de widget",default:"Mapa y Lista",list:"Lista de especies",config:"Configuracin"},sortBy:"Ordenar por",sortOrder:"Orden",copy:"Copiar",copied:"Copiado",share:"Compartir",shareLink:"Compartir un enlace",shareDiscover:"Compartir tu bsqueda",source:{title:"Fuente de datos",select:"Seleccionar una fuente de datos",modify:"Cambiar la fuente de datos de las observaciones",gbifWarning:"El nmero de observaciones y sus fechas se basan en una agregacin de las ltimas observaciones realizadas en el rea seleccionada y estn limitadas a un mximo de {nbObs}."},gbif:{apiEndpoint:"Punto final de la API de GBIF"},geonature:{api_endpoint:"Direccin de la API de GeoNature",id_export:"ID de exportacin"},desc:"Descendente",asc:"Ascendente",media:{source:"Fuente de medios",image:"Fuente de imagen",sound:"Fuente de sonido",select:"Seleccionar una fuente de medios",linkToOrigin:"Fuente",licenseUnder:"Bajo licencia "},taxon:{scientificName:"Nombre Cientfico",vernacularName:"Nombre Vernacular",nbObservations:"Nmero de observaciones",lastSeenDate:"Fecha de ltima observacin",taxonFilter:"Filtrar por especie",learnMore:"Ms informacin",class:"Clase de especie",taxonFound:"especies encontradas",classFilter:"Filtrar por clase"},mode:{galleryMode:"Galera",detailedList:"Detallado",hybrid:"Hbrido",isTaxonListHybrid:"Modo de lista de especie modificable"},widgetType:{list:"Lista",default:"Carta Lista"},numberOfTaxonPerLine:"Nmero de especies por lnea",widgetPreview:"Vista previa",taxonsClass:{Animalia:{Mammalia:"Mamferos",Aves:"Aves",Reptilia:"Reptiles",Amphibia:"Anfibios",Insecta:"Insectos",Arachnida:"Arcnidos",Gastropoda:"Gasterpodos",Bivalvia:"Bivalvos"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Monocotiledneas",Pinopsida:"Conferas"}},Animalia:"Animal",Plantae:"Planta",or:"o",in:"en",datasetList:"conjuntos de datos relacionados",observation:"observacin",observations:"observaciones",searchPlace:{loadingText:"Bsqueda en curso",placeholder:"Buscar un lugar",errorText:"Error al buscar",noResultsText:"Ningn resultado encontrado"},searchTaxon:"Buscar especie"}},yA={__name:"Widget",setup(e){const{widgetType:t}=zt.getInstance();return(s,a)=>{const i=Nh,u=Ih;return J(t)==J(Ui).list?(fe(),st(i,{key:0,height:"100vh"})):(fe(),st(u,{key:1,height:"100vh"}))}}},bA={cs:{title:"BAM - Biodiverzita kolem m",discover:{title:"Prozkoumat"},subtitle:"Vyhledat druhy kolem m",howto:"Jak to funguje?",introTitle:"Co je Biodiverzita kolem m?",intro:`*Biodiverzita kolem m* je widget vnovan **prozkoumvn druh **!

Toto rozhran vm umouje **vyhledvat druhy pozorovan v urit geografick oblasti **.

**Pouijte interaktivn mapu ** k vbru oblasti, ve kter chcete provst vyhledvn.

**Seznam druh ** nalezench ve vybran oblasti se zobraz vedle mapy .

Vsledky mete tak **sdlet ** a spolupracovat s ostatnmi uivateli.

    `,parameters:"Parametry",nbDisplayedSpecies:"Poet zobrazench druh",filters:"Filtry",showFilters:"Zobrazit filtry",RefreshFilters:"Obnovit parametry",IndicateGeoJSONUrl:"Uvete URL k GeoJSON",IndicateDetailTemplateUrl:"https://<urlTaxonSheet>/",TaxonListModeSelection:"Reim zobrazen seznamu druh",widgetTypeSelection:"Reim zobrazen widgetu",UseGeoJSONSource:"Pout GeoJSON z webu",UseCustomDetailPage:'Zmnit pesmrovn tlatka "Vce informac"',filtersTitle:"Filtry",filtersOnList:"Zobrazit filtry v seznamu",primaryColor:"Zmnit barvu patky",mapEditable:"Editovateln oblast vyhledvn",bufferSize:"Velikost bufferu (v metrech):",dateMin:"Minimln datum",dateMax:"Maximln datum",search:"Vyhledat",reset:"Resetovat",limit:"Limit",nbPages:"Poet strnek",searchResults:"Vsledky vyhledvn",noResults:"dn vsledky",noSpeciesObserved:"V tto oblasti nebyly pozorovny dn druhy!",previousPage:"Pedchoz",nextPage:"Dal",loading:"Natn",loadingError:"Chyba natn dat",noObservations:"Nebyla nalezena dn pozorovn",emptySearch:"dn druhy neodpovdaj vsledk vyhledvn",noGeometry:"Nebyla nalezena dn geometrie",error404:{title:"Strnka nenalezena",subtitle:"Strnka, kterou hledte, neexistuje"},browserIntegration:"Integrujte widget do svho webu",drawGeometry:"Nakreslete oblast pro zobrazen druh",size:{width:"ka",height:"Vka"},embed:"Vloit",typeWidget:{title:"Typ widgetu",default:"Mapa a seznam",list:"Seznam druh",config:"Konfigurace"},sortBy:"Seradit podle",sortOrder:"Poradie",copy:"Koprovat",copied:"Zkoprovno",share:"Sdlet",shareLink:"Sdlet odkaz",shareDiscover:"Sdlet svj vzkum",source:{title:"Datov zdroj",select:"Vyberte datov zdroj",modify:"Zmnit datov zdroj pozorovn",gbifWarning:"Poet pozorovn a data poslednch pozorovn jsou zaloeny na agregaci poslednch pozorovn v rmci vybran oblasti a jsou omezeny na maximln {nbObs}."},gbif:{apiEndpoint:"API endpoint GBIF"},geonature:{api_endpoint:"API endpoint GeoNature",id_export:"ID exportu"},desc:"Sestupn",asc:"Vzestupn",media:{source:"Zdroj mdi",image:"Zdroj obrzku",sound:"Zdroj zvuku",select:"Vyberte zdroj mdi",linkToOrigin:"Zdroj",licenseUnder:"Pod licenc "},taxon:{scientificName:"Vdeck nzev",vernacularName:"Obecn nzev",nbObservations:"Poet pozorovn",lastSeenDate:"Datum poslednho pozorovn",taxonFilter:"Filtrovat podle druhu",classFilter:"Filtrovat podle tdy",learnMore:"Vce informac",class:"Tda druhu",taxonFound:"nalezen druhy"},mode:{galleryMode:"Galerie",detailedList:"Detailn",hybrid:"Hybridn",isTaxonListHybrid:"Reim seznamu druh je pizpsobiteln"},widgetType:{list:"Seznam",default:"Mapa a seznam"},numberOfTaxonPerLine:"Poet druh na dek",widgetPreview:"Nhled",taxonsClass:{Animalia:{Mammalia:"Savci",Aves:"Ptci",Reptilia:"Plazi",Amphibia:"Obojivelnci",Insecta:"Hmyz",Arachnida:"Pavoukovci",Gastropoda:"Pli",Bivalvia:"Mli"},Plantae:{Magnoliopsida:"Dvoudlon",Liliopsida:"Jednodlon",Pinopsida:"Jehlinany"}},Animalia:"Zvierata",Plantae:"Rostlina",or:"nebo",in:"v",datasetList:"piazen datov sady",observation:"pozorovn",observations:"pozorovn",searchPlace:{loadingText:"Probh vyhledvn",placeholder:"Vyhledat nzev msta",errorText:"Chyba pi vyhledvn",noResultsText:"Nenalezeny dn vsledky"},searchTaxon:"Hledn druhu"}},wA={de:{title:"BAM  Biodiversitt um mich herum",discover:{title:"Entdecken"},subtitle:"Arten in meiner Umgebung suchen",howto:"Wie funktioniert das?",introTitle:"Was ist Biodiversitt um mich herum?",intro:`*Biodiversitt um mich herum* ist ein Widget zur **Erkundung von Arten **!

Mit dieser Oberflche knnen Sie **Arten suchen, die in einem bestimmten geografischen Gebiet  beobachtet wurden**.

**Nutzen Sie die interaktive Karte **, um das Gebiet auszuwhlen, in dem Sie Ihre Suche durchfhren mchten.

Die **Liste der Arten **, die im ausgewhlten Gebiet gefunden wurden, erscheint neben der Karte .

Sie knnen Ihre Ergebnisse auerdem **teilen **, um mit anderen Nutzern zusammenzuarbeiten.
`,parameters:"Parameter",nbDisplayedSpecies:"Anzahl der angezeigten Arten",filters:"Filter",showFilters:"Filter anzeigen",RefreshFilters:"Parameter aktualisieren",IndicateGeoJSONUrl:"Eine URL zu einem GeoJSON angeben",IndicateDetailTemplateUrl:"https://<urlTaxonSteckbrief>/",TaxonListModeSelection:"Anzeigemodus der Artenliste",widgetTypeSelection:"Anzeigeart des Widgets",UseGeoJSONSource:"GeoJSON-Quelle verwenden",UseCustomDetailPage:"Weiterleitung der Schaltflche Mehr erfahren anpassen",filtersTitle:"Filter",filtersOnList:"Filter auf der Liste anzeigen",primaryColor:"Hauptfarbe ndern",mapEditable:"Bearbeitbares Suchgebiet",bufferSize:"Puffergre (in Metern)",dateMin:"Mindestdatum",dateMax:"Hchstdatum",search:"Suchen",reset:"Zurcksetzen",limit:"Limit",nbPages:"Anzahl der Seiten",searchResults:"Suchergebnisse",noResults:"Keine Ergebnisse",previousPage:"Zurck",nextPage:"Weiter",loading:"Ladevorgang luft",loadingError:"Beim Laden ist ein Fehler aufgetreten",noObservations:"Keine Beobachtungen gefunden",noSpeciesObserved:"In diesem Gebiet wurde keine Art beobachtet!",emptySearch:"Keine Art entspricht Ihrer Suche",noGeometry:"Keine Geometrie gefunden",error404:{title:"Seite nicht gefunden",subtitle:"Die gesuchte Seite existiert nicht"},browserIntegration:"Widget in Ihre Website einbinden",drawGeometry:"Zeichnen Sie ein Gebiet, um Arten anzuzeigen",size:{width:"Breite",height:"Hhe"},embed:"HTML-Code",typeWidget:{title:"Widget-Typ",default:"Karte und Liste",list:"Artenliste",config:"Konfigurator"},sortBy:"Sortieren nach",sortOrder:"Reihenfolge",copy:"Kopieren",copied:"Kopiert",share:"Teilen",shareLink:"Link teilen",shareDiscover:"Ihre Suche teilen",source:{title:"Datenquelle",select:"Quelle auswhlen",modify:"Beobachtungsdatenquelle ndern",gbifWarning:"Die Anzahl der Beobachtungen und deren Datum basieren auf einer Aggregation der letzten Beobachtungen im ausgewhlten Gebiet und sind auf maximal {nbObs} begrenzt."},gbif:{apiEndpoint:"API-Adresse von GBIF"},geonature:{api_endpoint:"API-Adresse von GeoNature",id_export:"Export-Kennung"},desc:"Absteigend",asc:"Aufsteigend",media:{source:"Medienquelle",image:"Bildquelle",sound:"Tonquelle",select:"Medienquelle auswhlen",linkToOrigin:"Quelle",licenseUnder:"Lizenziert unter "},taxon:{scientificName:"Wissenschaftlicher Name",vernacularName:"Trivialname",nbObservations:"Anzahl der Beobachtungen",lastSeenDate:"Datum der letzten Beobachtung",taxonFilter:"Art filtern",classFilter:"Nach Klasse filtern",learnMore:"Mehr erfahren",class:"Artklasse",taxonFound:"gefundene Arten"},mode:{galleryMode:"Galerie",detailedList:"Detailliert",hybrid:"Hybrid",isTaxonListHybrid:"Modus der Artenliste anpassbar"},widgetType:{list:"Liste",default:"Karte und Liste"},numberOfTaxonPerLine:"Anzahl der Arten pro Zeile",widgetPreview:"Vorschau",taxonsClass:{Animalia:{Mammalia:"Sugetiere",Aves:"Vgel",Reptilia:"Reptilien",Amphibia:"Amphibien",Insecta:"Insekten",Arachnida:"Spinnentiere",Gastropoda:"Schnecken",Bivalvia:"Muscheln"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Einkferblttrige",Pinopsida:"Nadelbume"}},Animalia:"Tier",Plantae:"Pflanze",or:"oder",in:"in",datasetList:"zugehrige Datenstze",observation:"Beobachtung",observations:"Beobachtungen",searchPlace:{loadingText:"Suche luft",placeholder:"Suchen Sie einen Ort",errorText:"Fehler whrend der Suche",noResultsText:"Keine Ergebnisse gefunden"},searchTaxon:"Eine Art suchen"}},kA={it:{title:"BAM  Biodiversit intorno a me",discover:{title:"Esplora"},subtitle:"Cerca le specie intorno a me",howto:"Come funziona?",introTitle:"Che cos Biodiversit intorno a me?",intro:`*Biodiversit intorno a me*  un widget dedicato all**esplorazione delle specie **!

Questa interfaccia permette di **cercare le specie osservate in una specifica area geografica **.

**Usa la mappa interattiva ** per selezionare larea in cui desideri effettuare la ricerca.

L**elenco delle specie ** trovate nellarea selezionata apparir accanto alla mappa .

Puoi anche **condividere i tuoi risultati ** per collaborare con altri utenti.
`,parameters:"Parametri",nbDisplayedSpecies:"Numero di specie visualizzate",filters:"Filtri",showFilters:"Mostra filtri",RefreshFilters:"Aggiorna parametri",IndicateGeoJSONUrl:"Indica un URL verso un GeoJSON",IndicateDetailTemplateUrl:"https://<urlSchedaTaxon>/",TaxonListModeSelection:"Modalit di visualizzazione della lista delle specie",widgetTypeSelection:"Modalit di visualizzazione del widget",UseGeoJSONSource:"Usa una sorgente GeoJSON",UseCustomDetailPage:'Modifica il reindirizzamento del pulsante "Scopri di pi"',filtersTitle:"Filtri",filtersOnList:"Mostra i filtri sulla lista",primaryColor:"Cambia il colore principale",mapEditable:"Area di ricerca modificabile",bufferSize:"Dimensione del buffer (in metri)",dateMin:"Data minima",dateMax:"Data massima",search:"Cerca",reset:"Reimposta",limit:"Limite",nbPages:"Numero di pagine",searchResults:"Risultati della ricerca",noResults:"Nessun risultato",previousPage:"Precedente",nextPage:"Successivo",loading:"Caricamento in corso",loadingError:"Si  verificato un errore durante il caricamento",noObservations:"Nessuna osservazione trovata",noSpeciesObserved:"Nessuna specie osservata in questarea!",emptySearch:"Nessuna specie corrisponde alla tua ricerca",noGeometry:"Nessuna geometria trovata",error404:{title:"Pagina non trovata",subtitle:"La pagina che cerchi non esiste"},browserIntegration:"Integra il widget nel tuo sito",drawGeometry:"Disegna unarea per visualizzare le specie",size:{width:"Larghezza",height:"Altezza"},embed:"Codice HTML",typeWidget:{title:"Tipo di widget",default:"Mappa e lista",list:"Lista delle specie",config:"Configuratore"},sortBy:"Ordina per",sortOrder:"Ordine",copy:"Copia",copied:"Copiato",share:"Condividi",shareLink:"Condividi un link",shareDiscover:"Condividi la tua ricerca",source:{title:"Fonte dei dati",select:"Seleziona una fonte",modify:"Modifica la fonte dei dati delle osservazioni",gbifWarning:"Il numero di osservazioni e le loro date si basa su unaggregazione delle ultime osservazioni effettuate nellarea selezionata e limitata a un massimo di {nbObs}."},gbif:{apiEndpoint:"Indirizzo API del GBIF"},geonature:{api_endpoint:"Indirizzo API di GeoNature",id_export:"Identificativo dellesportazione"},desc:"Decrescente",asc:"Crescente",media:{source:"Fonte dei media",image:"Fonte delle immagini",sound:"Fonte dei suoni",select:"Seleziona una fonte multimediale",linkToOrigin:"Fonte",licenseUnder:"Sotto licenza "},taxon:{scientificName:"Nome scientifico",vernacularName:"Nome comune",nbObservations:"Numero di osservazioni",lastSeenDate:"Data dellultima osservazione",taxonFilter:"Filtro per specie",classFilter:"Filtra per classe",learnMore:"Scopri di pi",class:"Classe della specie",taxonFound:"specie trovate"},mode:{galleryMode:"Galleria",detailedList:"Dettagliata",hybrid:"Ibrida",isTaxonListHybrid:"Modalit della lista delle specie modificabile"},widgetType:{list:"Lista",default:"Mappa e lista"},numberOfTaxonPerLine:"Numero di specie per riga",widgetPreview:"Anteprima",taxonsClass:{Animalia:{Mammalia:"Mammiferi",Aves:"Uccelli",Reptilia:"Rettili",Amphibia:"Anfibi",Insecta:"Insetti",Arachnida:"Aracnidi",Gastropoda:"Gasteropodi",Bivalvia:"Bivalvi"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Monocotiledoni",Pinopsida:"Conifere"}},Animalia:"Animale",Plantae:"Pianta",or:"o",in:"in",datasetList:"set di dati associati",observation:"osservazione",observations:"osservazioni",searchPlace:{loadingText:"Ricerca in corso",placeholder:"Cerca un luogo",errorText:"Errore durante la ricerca",noResultsText:"Nessun risultato trovato"},searchTaxon:"Cerca una specie"}};let Bf="";function Vg(){const e=document.querySelector('meta[name="viewport"]');e&&(Bf=e.getAttribute("content")||"",e.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"))}function Hg(){const e=document.querySelector('meta[name="viewport"]');e&&Bf&&e.setAttribute("content",Bf)}function qg(e){var t;((t=e.touches)==null?void 0:t.length)>1&&e.preventDefault()}const LA={mounted(e){e.addEventListener("focus",Vg),e.addEventListener("blur",Hg),e.addEventListener("touchstart",qg,{passive:!1})},unmounted(e){e.removeEventListener("focus",Vg),e.removeEventListener("blur",Hg),e.removeEventListener("touchstart",qg)}},jg=window.navigator.language.split("-")[0],EA=IT({locale:["en","fr","es","cs","it","de"].includes(jg)?jg:"en",fallbackLocale:"en",messages:{...gA,..._A,...vA,...bA,...wA,...kA}}),xA=[{path:"/",component:yA},{path:"/config",component:$O},{path:"/explorer",component:rA},{path:"/:pathMatch(.*)*",name:"NotFound",component:cA}],TA=iP({history:RC(),routes:xA});Object.defineProperty(String.prototype,"capitalize",{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1});const _a=wk(GT);_a.use(TA);_a.use(EA);_a.use(zx());_a.component("VueShowdown",mA);_a.directive("prevent-zoom",LA);_a.config.errorHandler=(e,t,s)=>{console.group("%c Vue Global Error Handler","color:red; font-weight:bold;"),console.error("Erreur attrape :",e),t&&console.warn("Instance du composant :",t.$options.name||t),console.info("Contexte :",s),console.groupEnd()};_a.mount("#app");
