(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&h(g)}).observe(document,{childList:!0,subtree:!0});function l(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function h(s){if(s.ep)return;s.ep=!0;const c=l(s);fetch(s.href,c)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bl(t){const r=Object.create(null);for(const l of t.split(","))r[l]=1;return l=>l in r}const ve={},os=[],di=()=>{},Pg=()=>!1,Wa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Tl=t=>t.startsWith("onUpdate:"),an=Object.assign,Il=(t,r)=>{const l=t.indexOf(r);l>-1&&t.splice(l,1)},Cg=Object.prototype.hasOwnProperty,he=(t,r)=>Cg.call(t,r),qt=Array.isArray,as=t=>Do(t)==="[object Map]",$a=t=>Do(t)==="[object Set]",_c=t=>Do(t)==="[object Date]",Wt=t=>typeof t=="function",Be=t=>typeof t=="string",gi=t=>typeof t=="symbol",ye=t=>t!==null&&typeof t=="object",ff=t=>(ye(t)||Wt(t))&&Wt(t.then)&&Wt(t.catch),df=Object.prototype.toString,Do=t=>df.call(t),Ng=t=>Do(t).slice(8,-1),gf=t=>Do(t)==="[object Object]",Sl=t=>Be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,go=bl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xa=t=>{const r=Object.create(null);return l=>r[l]||(r[l]=t(l))},Mg=/-(\w)/g,qn=Xa(t=>t.replace(Mg,(r,l)=>l?l.toUpperCase():"")),Og=/\B([A-Z])/g,Mr=Xa(t=>t.replace(Og,"-$1").toLowerCase()),ja=Xa(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pu=Xa(t=>t?`on${ja(t)}`:""),Qi=(t,r)=>!Object.is(t,r),La=(t,...r)=>{for(let l=0;l<t.length;l++)t[l](...r)},_f=(t,r,l,h=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:h,value:l})},Sa=t=>{const r=parseFloat(t);return isNaN(r)?t:r};let mc;const Ka=()=>mc||(mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gs(t){if(qt(t)){const r={};for(let l=0;l<t.length;l++){const h=t[l],s=Be(h)?Fg(h):gs(h);if(s)for(const c in s)r[c]=s[c]}return r}else if(Be(t)||ye(t))return t}const Rg=/;(?![^(]*\))/g,Ag=/:([^]+)/,Dg=/\/\*[^]*?\*\//g;function Fg(t){const r={};return t.replace(Dg,"").split(Rg).forEach(l=>{if(l){const h=l.split(Ag);h.length>1&&(r[h[0].trim()]=h[1].trim())}}),r}function us(t){let r="";if(Be(t))r=t;else if(qt(t))for(let l=0;l<t.length;l++){const h=us(t[l]);h&&(r+=h+" ")}else if(ye(t))for(const l in t)t[l]&&(r+=l+" ");return r.trim()}const zg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bg=bl(zg);function mf(t){return!!t||t===""}function Gg(t,r){if(t.length!==r.length)return!1;let l=!0;for(let h=0;l&&h<t.length;h++)l=Ja(t[h],r[h]);return l}function Ja(t,r){if(t===r)return!0;let l=_c(t),h=_c(r);if(l||h)return l&&h?t.getTime()===r.getTime():!1;if(l=gi(t),h=gi(r),l||h)return t===r;if(l=qt(t),h=qt(r),l||h)return l&&h?Gg(t,r):!1;if(l=ye(t),h=ye(r),l||h){if(!l||!h)return!1;const s=Object.keys(t).length,c=Object.keys(r).length;if(s!==c)return!1;for(const g in t){const _=t.hasOwnProperty(g),v=r.hasOwnProperty(g);if(_&&!v||!_&&v||!Ja(t[g],r[g]))return!1}}return String(t)===String(r)}function Ug(t,r){return t.findIndex(l=>Ja(l,r))}const pf=t=>!!(t&&t.__v_isRef===!0),we=t=>Be(t)?t:t==null?"":qt(t)||ye(t)&&(t.toString===df||!Wt(t.toString))?pf(t)?we(t.value):JSON.stringify(t,vf,2):String(t),vf=(t,r)=>pf(r)?vf(t,r.value):as(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((l,[h,s],c)=>(l[Cu(h,c)+" =>"]=s,l),{})}:$a(r)?{[`Set(${r.size})`]:[...r.values()].map(l=>Cu(l))}:gi(r)?Cu(r):ye(r)&&!qt(r)&&!gf(r)?String(r):r,Cu=(t,r="")=>{var l;return gi(t)?`Symbol(${(l=t.description)!=null?l:r})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _n;class yf{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_n,!r&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].pause();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].resume();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].resume()}}run(r){if(this._active){const l=_n;try{return _n=this,r()}finally{_n=l}}}on(){_n=this}off(){_n=this.parent}stop(r){if(this._active){this._active=!1;let l,h;for(l=0,h=this.effects.length;l<h;l++)this.effects[l].stop();for(this.effects.length=0,l=0,h=this.cleanups.length;l<h;l++)this.cleanups[l]();if(this.cleanups.length=0,this.scopes){for(l=0,h=this.scopes.length;l<h;l++)this.scopes[l].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Hg(t){return new yf(t)}function Lf(){return _n}function Zg(t,r=!1){_n&&_n.cleanups.push(t)}let Le;const Nu=new WeakSet;class Ef{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_n&&_n.active&&_n.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nu.has(this)&&(Nu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pc(this),wf(this);const r=Le,l=jn;Le=this,jn=!0;try{return this.fn()}finally{bf(this),Le=r,jn=l,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)Nl(r);this.deps=this.depsTail=void 0,pc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xu(this)&&this.run()}get dirty(){return Xu(this)}}let kf=0,_o,mo;function xf(t,r=!1){if(t.flags|=8,r){t.next=mo,mo=t;return}t.next=_o,_o=t}function Pl(){kf++}function Cl(){if(--kf>0)return;if(mo){let r=mo;for(mo=void 0;r;){const l=r.next;r.next=void 0,r.flags&=-9,r=l}}let t;for(;_o;){let r=_o;for(_o=void 0;r;){const l=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(h){t||(t=h)}r=l}}if(t)throw t}function wf(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function bf(t){let r,l=t.depsTail,h=l;for(;h;){const s=h.prevDep;h.version===-1?(h===l&&(l=s),Nl(h),qg(h)):r=h,h.dep.activeLink=h.prevActiveLink,h.prevActiveLink=void 0,h=s}t.deps=r,t.depsTail=l}function Xu(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(Tf(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function Tf(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===wo))return;t.globalVersion=wo;const r=t.dep;if(t.flags|=2,r.version>0&&!t.isSSR&&t.deps&&!Xu(t)){t.flags&=-3;return}const l=Le,h=jn;Le=t,jn=!0;try{wf(t);const s=t.fn(t._value);(r.version===0||Qi(s,t._value))&&(t._value=s,r.version++)}catch(s){throw r.version++,s}finally{Le=l,jn=h,bf(t),t.flags&=-3}}function Nl(t,r=!1){const{dep:l,prevSub:h,nextSub:s}=t;if(h&&(h.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=h,t.nextSub=void 0),l.subs===t&&(l.subs=h,!h&&l.computed)){l.computed.flags&=-5;for(let c=l.computed.deps;c;c=c.nextDep)Nl(c,!0)}!r&&!--l.sc&&l.map&&l.map.delete(l.key)}function qg(t){const{prevDep:r,nextDep:l}=t;r&&(r.nextDep=l,t.prevDep=void 0),l&&(l.prevDep=r,t.nextDep=void 0)}let jn=!0;const If=[];function er(){If.push(jn),jn=!1}function nr(){const t=If.pop();jn=t===void 0?!0:t}function pc(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const l=Le;Le=void 0;try{r()}finally{Le=l}}}let wo=0;class Yg{constructor(r,l){this.sub=r,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qa{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!Le||!jn||Le===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==Le)l=this.activeLink=new Yg(Le,this),Le.deps?(l.prevDep=Le.depsTail,Le.depsTail.nextDep=l,Le.depsTail=l):Le.deps=Le.depsTail=l,Sf(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const h=l.nextDep;h.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=h),l.prevDep=Le.depsTail,l.nextDep=void 0,Le.depsTail.nextDep=l,Le.depsTail=l,Le.deps===l&&(Le.deps=h)}return l}trigger(r){this.version++,wo++,this.notify(r)}notify(r){Pl();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{Cl()}}}function Sf(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let h=r.deps;h;h=h.nextDep)Sf(h)}const l=t.dep.subs;l!==t&&(t.prevSub=l,l&&(l.nextSub=t)),t.dep.subs=t}}const Pa=new WeakMap,Sr=Symbol(""),ju=Symbol(""),bo=Symbol("");function sn(t,r,l){if(jn&&Le){let h=Pa.get(t);h||Pa.set(t,h=new Map);let s=h.get(l);s||(h.set(l,s=new Qa),s.map=h,s.key=l),s.track()}}function Pi(t,r,l,h,s,c){const g=Pa.get(t);if(!g){wo++;return}const _=v=>{v&&v.trigger()};if(Pl(),r==="clear")g.forEach(_);else{const v=qt(t),x=v&&Sl(l);if(v&&l==="length"){const E=Number(h);g.forEach((k,I)=>{(I==="length"||I===bo||!gi(I)&&I>=E)&&_(k)})}else switch((l!==void 0||g.has(void 0))&&_(g.get(l)),x&&_(g.get(bo)),r){case"add":v?x&&_(g.get("length")):(_(g.get(Sr)),as(t)&&_(g.get(ju)));break;case"delete":v||(_(g.get(Sr)),as(t)&&_(g.get(ju)));break;case"set":as(t)&&_(g.get(Sr));break}}Cl()}function Vg(t,r){const l=Pa.get(t);return l&&l.get(r)}function ns(t){const r=se(t);return r===t?r:(sn(r,"iterate",bo),Zn(t)?r:r.map(on))}function tu(t){return sn(t=se(t),"iterate",bo),t}const Wg={__proto__:null,[Symbol.iterator](){return Mu(this,Symbol.iterator,on)},concat(...t){return ns(this).concat(...t.map(r=>qt(r)?ns(r):r))},entries(){return Mu(this,"entries",t=>(t[1]=on(t[1]),t))},every(t,r){return bi(this,"every",t,r,void 0,arguments)},filter(t,r){return bi(this,"filter",t,r,l=>l.map(on),arguments)},find(t,r){return bi(this,"find",t,r,on,arguments)},findIndex(t,r){return bi(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return bi(this,"findLast",t,r,on,arguments)},findLastIndex(t,r){return bi(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return bi(this,"forEach",t,r,void 0,arguments)},includes(...t){return Ou(this,"includes",t)},indexOf(...t){return Ou(this,"indexOf",t)},join(t){return ns(this).join(t)},lastIndexOf(...t){return Ou(this,"lastIndexOf",t)},map(t,r){return bi(this,"map",t,r,void 0,arguments)},pop(){return ro(this,"pop")},push(...t){return ro(this,"push",t)},reduce(t,...r){return vc(this,"reduce",t,r)},reduceRight(t,...r){return vc(this,"reduceRight",t,r)},shift(){return ro(this,"shift")},some(t,r){return bi(this,"some",t,r,void 0,arguments)},splice(...t){return ro(this,"splice",t)},toReversed(){return ns(this).toReversed()},toSorted(t){return ns(this).toSorted(t)},toSpliced(...t){return ns(this).toSpliced(...t)},unshift(...t){return ro(this,"unshift",t)},values(){return Mu(this,"values",on)}};function Mu(t,r,l){const h=tu(t),s=h[r]();return h!==t&&!Zn(t)&&(s._next=s.next,s.next=()=>{const c=s._next();return c.value&&(c.value=l(c.value)),c}),s}const $g=Array.prototype;function bi(t,r,l,h,s,c){const g=tu(t),_=g!==t&&!Zn(t),v=g[r];if(v!==$g[r]){const k=v.apply(t,c);return _?on(k):k}let x=l;g!==t&&(_?x=function(k,I){return l.call(this,on(k),I,t)}:l.length>2&&(x=function(k,I){return l.call(this,k,I,t)}));const E=v.call(g,x,h);return _&&s?s(E):E}function vc(t,r,l,h){const s=tu(t);let c=l;return s!==t&&(Zn(t)?l.length>3&&(c=function(g,_,v){return l.call(this,g,_,v,t)}):c=function(g,_,v){return l.call(this,g,on(_),v,t)}),s[r](c,...h)}function Ou(t,r,l){const h=se(t);sn(h,"iterate",bo);const s=h[r](...l);return(s===-1||s===!1)&&Rl(l[0])?(l[0]=se(l[0]),h[r](...l)):s}function ro(t,r,l=[]){er(),Pl();const h=se(t)[r].apply(t,l);return Cl(),nr(),h}const Xg=bl("__proto__,__v_isRef,__isVue"),Pf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gi));function jg(t){gi(t)||(t=String(t));const r=se(this);return sn(r,"has",t),r.hasOwnProperty(t)}class Cf{constructor(r=!1,l=!1){this._isReadonly=r,this._isShallow=l}get(r,l,h){if(l==="__v_skip")return r.__v_skip;const s=this._isReadonly,c=this._isShallow;if(l==="__v_isReactive")return!s;if(l==="__v_isReadonly")return s;if(l==="__v_isShallow")return c;if(l==="__v_raw")return h===(s?c?o_:Rf:c?Of:Mf).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(h)?r:void 0;const g=qt(r);if(!s){let v;if(g&&(v=Wg[l]))return v;if(l==="hasOwnProperty")return jg}const _=Reflect.get(r,l,He(r)?r:h);return(gi(l)?Pf.has(l):Xg(l))||(s||sn(r,"get",l),c)?_:He(_)?g&&Sl(l)?_:_.value:ye(_)?s?eu(_):Fo(_):_}}class Nf extends Cf{constructor(r=!1){super(!1,r)}set(r,l,h,s){let c=r[l];if(!this._isShallow){const v=Pr(c);if(!Zn(h)&&!Pr(h)&&(c=se(c),h=se(h)),!qt(r)&&He(c)&&!He(h))return v?!1:(c.value=h,!0)}const g=qt(r)&&Sl(l)?Number(l)<r.length:he(r,l),_=Reflect.set(r,l,h,He(r)?r:s);return r===se(s)&&(g?Qi(h,c)&&Pi(r,"set",l,h):Pi(r,"add",l,h)),_}deleteProperty(r,l){const h=he(r,l);r[l];const s=Reflect.deleteProperty(r,l);return s&&h&&Pi(r,"delete",l,void 0),s}has(r,l){const h=Reflect.has(r,l);return(!gi(l)||!Pf.has(l))&&sn(r,"has",l),h}ownKeys(r){return sn(r,"iterate",qt(r)?"length":Sr),Reflect.ownKeys(r)}}class Kg extends Cf{constructor(r=!1){super(!0,r)}set(r,l){return!0}deleteProperty(r,l){return!0}}const Jg=new Nf,Qg=new Kg,t_=new Nf(!0);const Ku=t=>t,la=t=>Reflect.getPrototypeOf(t);function e_(t,r,l){return function(...h){const s=this.__v_raw,c=se(s),g=as(c),_=t==="entries"||t===Symbol.iterator&&g,v=t==="keys"&&g,x=s[t](...h),E=l?Ku:r?Ju:on;return!r&&sn(c,"iterate",v?ju:Sr),{next(){const{value:k,done:I}=x.next();return I?{value:k,done:I}:{value:_?[E(k[0]),E(k[1])]:E(k),done:I}},[Symbol.iterator](){return this}}}}function ca(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function n_(t,r){const l={get(s){const c=this.__v_raw,g=se(c),_=se(s);t||(Qi(s,_)&&sn(g,"get",s),sn(g,"get",_));const{has:v}=la(g),x=r?Ku:t?Ju:on;if(v.call(g,s))return x(c.get(s));if(v.call(g,_))return x(c.get(_));c!==g&&c.get(s)},get size(){const s=this.__v_raw;return!t&&sn(se(s),"iterate",Sr),Reflect.get(s,"size",s)},has(s){const c=this.__v_raw,g=se(c),_=se(s);return t||(Qi(s,_)&&sn(g,"has",s),sn(g,"has",_)),s===_?c.has(s):c.has(s)||c.has(_)},forEach(s,c){const g=this,_=g.__v_raw,v=se(_),x=r?Ku:t?Ju:on;return!t&&sn(v,"iterate",Sr),_.forEach((E,k)=>s.call(c,x(E),x(k),g))}};return an(l,t?{add:ca("add"),set:ca("set"),delete:ca("delete"),clear:ca("clear")}:{add(s){!r&&!Zn(s)&&!Pr(s)&&(s=se(s));const c=se(this);return la(c).has.call(c,s)||(c.add(s),Pi(c,"add",s,s)),this},set(s,c){!r&&!Zn(c)&&!Pr(c)&&(c=se(c));const g=se(this),{has:_,get:v}=la(g);let x=_.call(g,s);x||(s=se(s),x=_.call(g,s));const E=v.call(g,s);return g.set(s,c),x?Qi(c,E)&&Pi(g,"set",s,c):Pi(g,"add",s,c),this},delete(s){const c=se(this),{has:g,get:_}=la(c);let v=g.call(c,s);v||(s=se(s),v=g.call(c,s)),_&&_.call(c,s);const x=c.delete(s);return v&&Pi(c,"delete",s,void 0),x},clear(){const s=se(this),c=s.size!==0,g=s.clear();return c&&Pi(s,"clear",void 0,void 0),g}}),["keys","values","entries",Symbol.iterator].forEach(s=>{l[s]=e_(s,t,r)}),l}function Ml(t,r){const l=n_(t,r);return(h,s,c)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?h:Reflect.get(he(l,s)&&s in h?l:h,s,c)}const i_={get:Ml(!1,!1)},r_={get:Ml(!1,!0)},s_={get:Ml(!0,!1)};const Mf=new WeakMap,Of=new WeakMap,Rf=new WeakMap,o_=new WeakMap;function a_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function u_(t){return t.__v_skip||!Object.isExtensible(t)?0:a_(Ng(t))}function Fo(t){return Pr(t)?t:Ol(t,!1,Jg,i_,Mf)}function Af(t){return Ol(t,!1,t_,r_,Of)}function eu(t){return Ol(t,!0,Qg,s_,Rf)}function Ol(t,r,l,h,s){if(!ye(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const c=s.get(t);if(c)return c;const g=u_(t);if(g===0)return t;const _=new Proxy(t,g===2?h:l);return s.set(t,_),_}function ls(t){return Pr(t)?ls(t.__v_raw):!!(t&&t.__v_isReactive)}function Pr(t){return!!(t&&t.__v_isReadonly)}function Zn(t){return!!(t&&t.__v_isShallow)}function Rl(t){return t?!!t.__v_raw:!1}function se(t){const r=t&&t.__v_raw;return r?se(r):t}function l_(t){return!he(t,"__v_skip")&&Object.isExtensible(t)&&_f(t,"__v_skip",!0),t}const on=t=>ye(t)?Fo(t):t,Ju=t=>ye(t)?eu(t):t;function He(t){return t?t.__v_isRef===!0:!1}function Zt(t){return Df(t,!1)}function _s(t){return Df(t,!0)}function Df(t,r){return He(t)?t:new c_(t,r)}class c_{constructor(r,l){this.dep=new Qa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?r:se(r),this._value=l?r:on(r),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(r){const l=this._rawValue,h=this.__v_isShallow||Zn(r)||Pr(r);r=h?r:se(r),Qi(r,l)&&(this._rawValue=r,this._value=h?r:on(r),this.dep.trigger())}}function tr(t){return He(t)?t.value:t}function Oi(t){return Wt(t)?t():tr(t)}const h_={get:(t,r,l)=>r==="__v_raw"?t:tr(Reflect.get(t,r,l)),set:(t,r,l,h)=>{const s=t[r];return He(s)&&!He(l)?(s.value=l,!0):Reflect.set(t,r,l,h)}};function Ff(t){return ls(t)?t:new Proxy(t,h_)}class f_{constructor(r){this.__v_isRef=!0,this._value=void 0;const l=this.dep=new Qa,{get:h,set:s}=r(l.track.bind(l),l.trigger.bind(l));this._get=h,this._set=s}get value(){return this._value=this._get()}set value(r){this._set(r)}}function d_(t){return new f_(t)}class g_{constructor(r,l,h){this._object=r,this._key=l,this._defaultValue=h,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return Vg(se(this._object),this._key)}}class __{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function m_(t,r,l){return He(t)?t:Wt(t)?new __(t):ye(t)&&arguments.length>1?p_(t,r,l):Zt(t)}function p_(t,r,l){const h=t[r];return He(h)?h:new g_(t,r,l)}class v_{constructor(r,l,h){this.fn=r,this.setter=l,this._value=void 0,this.dep=new Qa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!l,this.isSSR=h}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return xf(this,!0),!0}get value(){const r=this.dep.track();return Tf(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function y_(t,r,l=!1){let h,s;return Wt(t)?h=t:(h=t.get,s=t.set),new v_(h,s,l)}const ha={},Ca=new WeakMap;let br;function L_(t,r=!1,l=br){if(l){let h=Ca.get(l);h||Ca.set(l,h=[]),h.push(t)}}function E_(t,r,l=ve){const{immediate:h,deep:s,once:c,scheduler:g,augmentJob:_,call:v}=l,x=B=>s?B:Zn(B)||s===!1||s===0?Ci(B,1):Ci(B);let E,k,I,N,O=!1,Z=!1;if(He(t)?(k=()=>t.value,O=Zn(t)):ls(t)?(k=()=>x(t),O=!0):qt(t)?(Z=!0,O=t.some(B=>ls(B)||Zn(B)),k=()=>t.map(B=>{if(He(B))return B.value;if(ls(B))return x(B);if(Wt(B))return v?v(B,2):B()})):Wt(t)?r?k=v?()=>v(t,2):t:k=()=>{if(I){er();try{I()}finally{nr()}}const B=br;br=E;try{return v?v(t,3,[N]):t(N)}finally{br=B}}:k=di,r&&s){const B=k,X=s===!0?1/0:s;k=()=>Ci(B(),X)}const j=Lf(),A=()=>{E.stop(),j&&j.active&&Il(j.effects,E)};if(c&&r){const B=r;r=(...X)=>{B(...X),A()}}let z=Z?new Array(t.length).fill(ha):ha;const G=B=>{if(!(!(E.flags&1)||!E.dirty&&!B))if(r){const X=E.run();if(s||O||(Z?X.some((W,Y)=>Qi(W,z[Y])):Qi(X,z))){I&&I();const W=br;br=E;try{const Y=[X,z===ha?void 0:Z&&z[0]===ha?[]:z,N];v?v(r,3,Y):r(...Y),z=X}finally{br=W}}}else E.run()};return _&&_(G),E=new Ef(k),E.scheduler=g?()=>g(G,!1):G,N=B=>L_(B,!1,E),I=E.onStop=()=>{const B=Ca.get(E);if(B){if(v)v(B,4);else for(const X of B)X();Ca.delete(E)}},r?h?G(!0):z=E.run():g?g(G.bind(null,!0),!0):E.run(),A.pause=E.pause.bind(E),A.resume=E.resume.bind(E),A.stop=A,A}function Ci(t,r=1/0,l){if(r<=0||!ye(t)||t.__v_skip||(l=l||new Set,l.has(t)))return t;if(l.add(t),r--,He(t))Ci(t.value,r,l);else if(qt(t))for(let h=0;h<t.length;h++)Ci(t[h],r,l);else if($a(t)||as(t))t.forEach(h=>{Ci(h,r,l)});else if(gf(t)){for(const h in t)Ci(t[h],r,l);for(const h of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,h)&&Ci(t[h],r,l)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zo(t,r,l,h){try{return h?t(...h):t()}catch(s){nu(s,r,l)}}function _i(t,r,l,h){if(Wt(t)){const s=zo(t,r,l,h);return s&&ff(s)&&s.catch(c=>{nu(c,r,l)}),s}if(qt(t)){const s=[];for(let c=0;c<t.length;c++)s.push(_i(t[c],r,l,h));return s}}function nu(t,r,l,h=!0){const s=r?r.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:g}=r&&r.appContext.config||ve;if(r){let _=r.parent;const v=r.proxy,x=`https://vuejs.org/error-reference/#runtime-${l}`;for(;_;){const E=_.ec;if(E){for(let k=0;k<E.length;k++)if(E[k](t,v,x)===!1)return}_=_.parent}if(c){er(),zo(c,null,10,[t,v,x]),nr();return}}k_(t,l,s,h,g)}function k_(t,r,l,h=!0,s=!1){if(s)throw t;console.error(t)}const mn=[];let ci=-1;const cs=[];let ji=null,is=0;const zf=Promise.resolve();let Na=null;function Al(t){const r=Na||zf;return t?r.then(this?t.bind(this):t):r}function x_(t){let r=ci+1,l=mn.length;for(;r<l;){const h=r+l>>>1,s=mn[h],c=To(s);c<t||c===t&&s.flags&2?r=h+1:l=h}return r}function Dl(t){if(!(t.flags&1)){const r=To(t),l=mn[mn.length-1];!l||!(t.flags&2)&&r>=To(l)?mn.push(t):mn.splice(x_(r),0,t),t.flags|=1,Bf()}}function Bf(){Na||(Na=zf.then(Uf))}function w_(t){qt(t)?cs.push(...t):ji&&t.id===-1?ji.splice(is+1,0,t):t.flags&1||(cs.push(t),t.flags|=1),Bf()}function yc(t,r,l=ci+1){for(;l<mn.length;l++){const h=mn[l];if(h&&h.flags&2){if(t&&h.id!==t.uid)continue;mn.splice(l,1),l--,h.flags&4&&(h.flags&=-2),h(),h.flags&4||(h.flags&=-2)}}}function Gf(t){if(cs.length){const r=[...new Set(cs)].sort((l,h)=>To(l)-To(h));if(cs.length=0,ji){ji.push(...r);return}for(ji=r,is=0;is<ji.length;is++){const l=ji[is];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}ji=null,is=0}}const To=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Uf(t){try{for(ci=0;ci<mn.length;ci++){const r=mn[ci];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),zo(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;ci<mn.length;ci++){const r=mn[ci];r&&(r.flags&=-2)}ci=-1,mn.length=0,Gf(),Na=null,(mn.length||cs.length)&&Uf()}}let wn=null,Hf=null;function Ma(t){const r=wn;return wn=t,Hf=t&&t.type.__scopeId||null,r}function Zf(t,r=wn,l){if(!r||t._n)return t;const h=(...s)=>{h._d&&Pc(-1);const c=Ma(r);let g;try{g=t(...s)}finally{Ma(c),h._d&&Pc(1)}return g};return h._n=!0,h._c=!0,h._d=!0,h}function hs(t,r){if(wn===null)return t;const l=ou(wn),h=t.dirs||(t.dirs=[]);for(let s=0;s<r.length;s++){let[c,g,_,v=ve]=r[s];c&&(Wt(c)&&(c={mounted:c,updated:c}),c.deep&&Ci(g),h.push({dir:c,instance:l,value:g,oldValue:void 0,arg:_,modifiers:v}))}return t}function kr(t,r,l,h){const s=t.dirs,c=r&&r.dirs;for(let g=0;g<s.length;g++){const _=s[g];c&&(_.oldValue=c[g].value);let v=_.dir[h];v&&(er(),_i(v,l,8,[t.el,_,t,r]),nr())}}const b_=Symbol("_vte"),T_=t=>t.__isTeleport;function Fl(t,r){t.shapeFlag&6&&t.component?(t.transition=r,Fl(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}/*! #__NO_SIDE_EFFECTS__ */function Is(t,r){return Wt(t)?an({name:t.name},r,{setup:t}):t}function qf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Oa(t,r,l,h,s=!1){if(qt(t)){t.forEach((O,Z)=>Oa(O,r&&(qt(r)?r[Z]:r),l,h,s));return}if(po(h)&&!s){h.shapeFlag&512&&h.type.__asyncResolved&&h.component.subTree.component&&Oa(t,r,l,h.component.subTree);return}const c=h.shapeFlag&4?ou(h.component):h.el,g=s?null:c,{i:_,r:v}=t,x=r&&r.r,E=_.refs===ve?_.refs={}:_.refs,k=_.setupState,I=se(k),N=k===ve?()=>!1:O=>he(I,O);if(x!=null&&x!==v&&(Be(x)?(E[x]=null,N(x)&&(k[x]=null)):He(x)&&(x.value=null)),Wt(v))zo(v,_,12,[g,E]);else{const O=Be(v),Z=He(v);if(O||Z){const j=()=>{if(t.f){const A=O?N(v)?k[v]:E[v]:v.value;s?qt(A)&&Il(A,c):qt(A)?A.includes(c)||A.push(c):O?(E[v]=[c],N(v)&&(k[v]=E[v])):(v.value=[c],t.k&&(E[t.k]=v.value))}else O?(E[v]=g,N(v)&&(k[v]=g)):Z&&(v.value=g,t.k&&(E[t.k]=g))};g?(j.id=-1,Pn(j,l)):j()}}}Ka().requestIdleCallback;Ka().cancelIdleCallback;const po=t=>!!t.type.__asyncLoader,Yf=t=>t.type.__isKeepAlive;function I_(t,r){Vf(t,"a",r)}function S_(t,r){Vf(t,"da",r)}function Vf(t,r,l=en){const h=t.__wdc||(t.__wdc=()=>{let s=l;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(iu(r,h,l),l){let s=l.parent;for(;s&&s.parent;)Yf(s.parent.vnode)&&P_(h,r,l,s),s=s.parent}}function P_(t,r,l,h){const s=iu(r,t,h,!0);zl(()=>{Il(h[r],s)},l)}function iu(t,r,l=en,h=!1){if(l){const s=l[t]||(l[t]=[]),c=r.__weh||(r.__weh=(...g)=>{er();const _=Uo(l),v=_i(r,l,t,g);return _(),nr(),v});return h?s.unshift(c):s.push(c),c}}const Ri=t=>(r,l=en)=>{(!So||t==="sp")&&iu(t,(...h)=>r(...h),l)},C_=Ri("bm"),ru=Ri("m"),N_=Ri("bu"),M_=Ri("u"),O_=Ri("bum"),zl=Ri("um"),R_=Ri("sp"),A_=Ri("rtg"),D_=Ri("rtc");function F_(t,r=en){iu("ec",t,r)}const z_="components";function B_(t,r){return U_(z_,t,!0,r)||t}const G_=Symbol.for("v-ndc");function U_(t,r,l=!0,h=!1){const s=wn||en;if(s){const c=s.type;{const _=Im(c,!1);if(_&&(_===r||_===qn(r)||_===ja(qn(r))))return c}const g=Lc(s[t]||c[t],r)||Lc(s.appContext[t],r);return!g&&h?c:g}}function Lc(t,r){return t&&(t[r]||t[qn(r)]||t[ja(qn(r))])}function Wf(t,r,l,h){let s;const c=l,g=qt(t);if(g||Be(t)){const _=g&&ls(t);let v=!1;_&&(v=!Zn(t),t=tu(t)),s=new Array(t.length);for(let x=0,E=t.length;x<E;x++)s[x]=r(v?on(t[x]):t[x],x,void 0,c)}else if(typeof t=="number"){s=new Array(t);for(let _=0;_<t;_++)s[_]=r(_+1,_,void 0,c)}else if(ye(t))if(t[Symbol.iterator])s=Array.from(t,(_,v)=>r(_,v,void 0,c));else{const _=Object.keys(t);s=new Array(_.length);for(let v=0,x=_.length;v<x;v++){const E=_[v];s[v]=r(t[E],E,v,c)}}else s=[];return s}const Qu=t=>t?dd(t)?ou(t):Qu(t.parent):null,vo=an(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qu(t.parent),$root:t=>Qu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Xf(t),$forceUpdate:t=>t.f||(t.f=()=>{Dl(t.update)}),$nextTick:t=>t.n||(t.n=Al.bind(t.proxy)),$watch:t=>um.bind(t)}),Ru=(t,r)=>t!==ve&&!t.__isScriptSetup&&he(t,r),H_={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:l,setupState:h,data:s,props:c,accessCache:g,type:_,appContext:v}=t;let x;if(r[0]!=="$"){const N=g[r];if(N!==void 0)switch(N){case 1:return h[r];case 2:return s[r];case 4:return l[r];case 3:return c[r]}else{if(Ru(h,r))return g[r]=1,h[r];if(s!==ve&&he(s,r))return g[r]=2,s[r];if((x=t.propsOptions[0])&&he(x,r))return g[r]=3,c[r];if(l!==ve&&he(l,r))return g[r]=4,l[r];tl&&(g[r]=0)}}const E=vo[r];let k,I;if(E)return r==="$attrs"&&sn(t.attrs,"get",""),E(t);if((k=_.__cssModules)&&(k=k[r]))return k;if(l!==ve&&he(l,r))return g[r]=4,l[r];if(I=v.config.globalProperties,he(I,r))return I[r]},set({_:t},r,l){const{data:h,setupState:s,ctx:c}=t;return Ru(s,r)?(s[r]=l,!0):h!==ve&&he(h,r)?(h[r]=l,!0):he(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(c[r]=l,!0)},has({_:{data:t,setupState:r,accessCache:l,ctx:h,appContext:s,propsOptions:c}},g){let _;return!!l[g]||t!==ve&&he(t,g)||Ru(r,g)||(_=c[0])&&he(_,g)||he(h,g)||he(vo,g)||he(s.config.globalProperties,g)},defineProperty(t,r,l){return l.get!=null?t._.accessCache[r]=0:he(l,"value")&&this.set(t,r,l.value,null),Reflect.defineProperty(t,r,l)}};function Ec(t){return qt(t)?t.reduce((r,l)=>(r[l]=null,r),{}):t}let tl=!0;function Z_(t){const r=Xf(t),l=t.proxy,h=t.ctx;tl=!1,r.beforeCreate&&kc(r.beforeCreate,t,"bc");const{data:s,computed:c,methods:g,watch:_,provide:v,inject:x,created:E,beforeMount:k,mounted:I,beforeUpdate:N,updated:O,activated:Z,deactivated:j,beforeDestroy:A,beforeUnmount:z,destroyed:G,unmounted:B,render:X,renderTracked:W,renderTriggered:Y,errorCaptured:ht,serverPrefetch:ct,expose:Ot,inheritAttrs:Pt,components:Tt,directives:jt,filters:dt}=r;if(x&&q_(x,h,null),g)for(const Nt in g){const ft=g[Nt];Wt(ft)&&(h[Nt]=ft.bind(l))}if(s){const Nt=s.call(l,l);ye(Nt)&&(t.data=Fo(Nt))}if(tl=!0,c)for(const Nt in c){const ft=c[Nt],Kt=Wt(ft)?ft.bind(l,l):Wt(ft.get)?ft.get.bind(l,l):di,st=!Wt(ft)&&Wt(ft.set)?ft.set.bind(l):di,Ft=fe({get:Kt,set:st});Object.defineProperty(h,Nt,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:Ut=>Ft.value=Ut})}if(_)for(const Nt in _)$f(_[Nt],h,l,Nt);if(v){const Nt=Wt(v)?v.call(l):v;Reflect.ownKeys(Nt).forEach(ft=>{Ea(ft,Nt[ft])})}E&&kc(E,t,"c");function It(Nt,ft){qt(ft)?ft.forEach(Kt=>Nt(Kt.bind(l))):ft&&Nt(ft.bind(l))}if(It(C_,k),It(ru,I),It(N_,N),It(M_,O),It(I_,Z),It(S_,j),It(F_,ht),It(D_,W),It(A_,Y),It(O_,z),It(zl,B),It(R_,ct),qt(Ot))if(Ot.length){const Nt=t.exposed||(t.exposed={});Ot.forEach(ft=>{Object.defineProperty(Nt,ft,{get:()=>l[ft],set:Kt=>l[ft]=Kt})})}else t.exposed||(t.exposed={});X&&t.render===di&&(t.render=X),Pt!=null&&(t.inheritAttrs=Pt),Tt&&(t.components=Tt),jt&&(t.directives=jt),ct&&qf(t)}function q_(t,r,l=di){qt(t)&&(t=el(t));for(const h in t){const s=t[h];let c;ye(s)?"default"in s?c=Kn(s.from||h,s.default,!0):c=Kn(s.from||h):c=Kn(s),He(c)?Object.defineProperty(r,h,{enumerable:!0,configurable:!0,get:()=>c.value,set:g=>c.value=g}):r[h]=c}}function kc(t,r,l){_i(qt(t)?t.map(h=>h.bind(r.proxy)):t.bind(r.proxy),r,l)}function $f(t,r,l,h){let s=h.includes(".")?ud(l,h):()=>l[h];if(Be(t)){const c=r[t];Wt(c)&&nn(s,c)}else if(Wt(t))nn(s,t.bind(l));else if(ye(t))if(qt(t))t.forEach(c=>$f(c,r,l,h));else{const c=Wt(t.handler)?t.handler.bind(l):r[t.handler];Wt(c)&&nn(s,c,t)}}function Xf(t){const r=t.type,{mixins:l,extends:h}=r,{mixins:s,optionsCache:c,config:{optionMergeStrategies:g}}=t.appContext,_=c.get(r);let v;return _?v=_:!s.length&&!l&&!h?v=r:(v={},s.length&&s.forEach(x=>Ra(v,x,g,!0)),Ra(v,r,g)),ye(r)&&c.set(r,v),v}function Ra(t,r,l,h=!1){const{mixins:s,extends:c}=r;c&&Ra(t,c,l,!0),s&&s.forEach(g=>Ra(t,g,l,!0));for(const g in r)if(!(h&&g==="expose")){const _=Y_[g]||l&&l[g];t[g]=_?_(t[g],r[g]):r[g]}return t}const Y_={data:xc,props:wc,emits:wc,methods:lo,computed:lo,beforeCreate:dn,created:dn,beforeMount:dn,mounted:dn,beforeUpdate:dn,updated:dn,beforeDestroy:dn,beforeUnmount:dn,destroyed:dn,unmounted:dn,activated:dn,deactivated:dn,errorCaptured:dn,serverPrefetch:dn,components:lo,directives:lo,watch:W_,provide:xc,inject:V_};function xc(t,r){return r?t?function(){return an(Wt(t)?t.call(this,this):t,Wt(r)?r.call(this,this):r)}:r:t}function V_(t,r){return lo(el(t),el(r))}function el(t){if(qt(t)){const r={};for(let l=0;l<t.length;l++)r[t[l]]=t[l];return r}return t}function dn(t,r){return t?[...new Set([].concat(t,r))]:r}function lo(t,r){return t?an(Object.create(null),t,r):r}function wc(t,r){return t?qt(t)&&qt(r)?[...new Set([...t,...r])]:an(Object.create(null),Ec(t),Ec(r??{})):r}function W_(t,r){if(!t)return r;if(!r)return t;const l=an(Object.create(null),t);for(const h in r)l[h]=dn(t[h],r[h]);return l}function jf(){return{app:null,config:{isNativeTag:Pg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $_=0;function X_(t,r){return function(h,s=null){Wt(h)||(h=an({},h)),s!=null&&!ye(s)&&(s=null);const c=jf(),g=new WeakSet,_=[];let v=!1;const x=c.app={_uid:$_++,_component:h,_props:s,_container:null,_context:c,_instance:null,version:Pm,get config(){return c.config},set config(E){},use(E,...k){return g.has(E)||(E&&Wt(E.install)?(g.add(E),E.install(x,...k)):Wt(E)&&(g.add(E),E(x,...k))),x},mixin(E){return c.mixins.includes(E)||c.mixins.push(E),x},component(E,k){return k?(c.components[E]=k,x):c.components[E]},directive(E,k){return k?(c.directives[E]=k,x):c.directives[E]},mount(E,k,I){if(!v){const N=x._ceVNode||Se(h,s);return N.appContext=c,I===!0?I="svg":I===!1&&(I=void 0),t(N,E,I),v=!0,x._container=E,E.__vue_app__=x,ou(N.component)}},onUnmount(E){_.push(E)},unmount(){v&&(_i(_,x._instance,16),t(null,x._container),delete x._container.__vue_app__)},provide(E,k){return c.provides[E]=k,x},runWithContext(E){const k=fs;fs=x;try{return E()}finally{fs=k}}};return x}}let fs=null;function Ea(t,r){if(en){let l=en.provides;const h=en.parent&&en.parent.provides;h===l&&(l=en.provides=Object.create(h)),l[t]=r}}function Kn(t,r,l=!1){const h=en||wn;if(h||fs){const s=fs?fs._context.provides:h?h.parent==null?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return l&&Wt(r)?r.call(h&&h.proxy):r}}const Kf={},Jf=()=>Object.create(Kf),Qf=t=>Object.getPrototypeOf(t)===Kf;function j_(t,r,l,h=!1){const s={},c=Jf();t.propsDefaults=Object.create(null),td(t,r,s,c);for(const g in t.propsOptions[0])g in s||(s[g]=void 0);l?t.props=h?s:Af(s):t.type.props?t.props=s:t.props=c,t.attrs=c}function K_(t,r,l,h){const{props:s,attrs:c,vnode:{patchFlag:g}}=t,_=se(s),[v]=t.propsOptions;let x=!1;if((h||g>0)&&!(g&16)){if(g&8){const E=t.vnode.dynamicProps;for(let k=0;k<E.length;k++){let I=E[k];if(su(t.emitsOptions,I))continue;const N=r[I];if(v)if(he(c,I))N!==c[I]&&(c[I]=N,x=!0);else{const O=qn(I);s[O]=nl(v,_,O,N,t,!1)}else N!==c[I]&&(c[I]=N,x=!0)}}}else{td(t,r,s,c)&&(x=!0);let E;for(const k in _)(!r||!he(r,k)&&((E=Mr(k))===k||!he(r,E)))&&(v?l&&(l[k]!==void 0||l[E]!==void 0)&&(s[k]=nl(v,_,k,void 0,t,!0)):delete s[k]);if(c!==_)for(const k in c)(!r||!he(r,k))&&(delete c[k],x=!0)}x&&Pi(t.attrs,"set","")}function td(t,r,l,h){const[s,c]=t.propsOptions;let g=!1,_;if(r)for(let v in r){if(go(v))continue;const x=r[v];let E;s&&he(s,E=qn(v))?!c||!c.includes(E)?l[E]=x:(_||(_={}))[E]=x:su(t.emitsOptions,v)||(!(v in h)||x!==h[v])&&(h[v]=x,g=!0)}if(c){const v=se(l),x=_||ve;for(let E=0;E<c.length;E++){const k=c[E];l[k]=nl(s,v,k,x[k],t,!he(x,k))}}return g}function nl(t,r,l,h,s,c){const g=t[l];if(g!=null){const _=he(g,"default");if(_&&h===void 0){const v=g.default;if(g.type!==Function&&!g.skipFactory&&Wt(v)){const{propsDefaults:x}=s;if(l in x)h=x[l];else{const E=Uo(s);h=x[l]=v.call(null,r),E()}}else h=v;s.ce&&s.ce._setProp(l,h)}g[0]&&(c&&!_?h=!1:g[1]&&(h===""||h===Mr(l))&&(h=!0))}return h}const J_=new WeakMap;function ed(t,r,l=!1){const h=l?J_:r.propsCache,s=h.get(t);if(s)return s;const c=t.props,g={},_=[];let v=!1;if(!Wt(t)){const E=k=>{v=!0;const[I,N]=ed(k,r,!0);an(g,I),N&&_.push(...N)};!l&&r.mixins.length&&r.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}if(!c&&!v)return ye(t)&&h.set(t,os),os;if(qt(c))for(let E=0;E<c.length;E++){const k=qn(c[E]);bc(k)&&(g[k]=ve)}else if(c)for(const E in c){const k=qn(E);if(bc(k)){const I=c[E],N=g[k]=qt(I)||Wt(I)?{type:I}:an({},I),O=N.type;let Z=!1,j=!0;if(qt(O))for(let A=0;A<O.length;++A){const z=O[A],G=Wt(z)&&z.name;if(G==="Boolean"){Z=!0;break}else G==="String"&&(j=!1)}else Z=Wt(O)&&O.name==="Boolean";N[0]=Z,N[1]=j,(Z||he(N,"default"))&&_.push(k)}}const x=[g,_];return ye(t)&&h.set(t,x),x}function bc(t){return t[0]!=="$"&&!go(t)}const nd=t=>t[0]==="_"||t==="$stable",Bl=t=>qt(t)?t.map(hi):[hi(t)],Q_=(t,r,l)=>{if(r._n)return r;const h=Zf((...s)=>Bl(r(...s)),l);return h._c=!1,h},id=(t,r,l)=>{const h=t._ctx;for(const s in t){if(nd(s))continue;const c=t[s];if(Wt(c))r[s]=Q_(s,c,h);else if(c!=null){const g=Bl(c);r[s]=()=>g}}},rd=(t,r)=>{const l=Bl(r);t.slots.default=()=>l},sd=(t,r,l)=>{for(const h in r)(l||h!=="_")&&(t[h]=r[h])},tm=(t,r,l)=>{const h=t.slots=Jf();if(t.vnode.shapeFlag&32){const s=r._;s?(sd(h,r,l),l&&_f(h,"_",s,!0)):id(r,h)}else r&&rd(t,r)},em=(t,r,l)=>{const{vnode:h,slots:s}=t;let c=!0,g=ve;if(h.shapeFlag&32){const _=r._;_?l&&_===1?c=!1:sd(s,r,l):(c=!r.$stable,id(r,s)),g=r}else r&&(rd(t,r),g={default:1});if(c)for(const _ in s)!nd(_)&&g[_]==null&&delete s[_]},Pn=_m;function nm(t){return im(t)}function im(t,r){const l=Ka();l.__VUE__=!0;const{insert:h,remove:s,patchProp:c,createElement:g,createText:_,createComment:v,setText:x,setElementText:E,parentNode:k,nextSibling:I,setScopeId:N=di,insertStaticContent:O}=t,Z=(T,D,$,nt=null,ot=null,rt=null,R=void 0,C=null,V=!!D.dynamicChildren)=>{if(T===D)return;T&&!so(T,D)&&(nt=it(T),Ut(T,ot,rt,!0),T=null),D.patchFlag===-2&&(V=!1,D.dynamicChildren=null);const{type:Q,ref:vt,shapeFlag:at}=D;switch(Q){case Go:j(T,D,$,nt);break;case Cr:A(T,D,$,nt);break;case Du:T==null&&z(D,$,nt,R);break;case xn:Tt(T,D,$,nt,ot,rt,R,C,V);break;default:at&1?X(T,D,$,nt,ot,rt,R,C,V):at&6?jt(T,D,$,nt,ot,rt,R,C,V):(at&64||at&128)&&Q.process(T,D,$,nt,ot,rt,R,C,V,gt)}vt!=null&&ot&&Oa(vt,T&&T.ref,rt,D||T,!D)},j=(T,D,$,nt)=>{if(T==null)h(D.el=_(D.children),$,nt);else{const ot=D.el=T.el;D.children!==T.children&&x(ot,D.children)}},A=(T,D,$,nt)=>{T==null?h(D.el=v(D.children||""),$,nt):D.el=T.el},z=(T,D,$,nt)=>{[T.el,T.anchor]=O(T.children,D,$,nt,T.el,T.anchor)},G=({el:T,anchor:D},$,nt)=>{let ot;for(;T&&T!==D;)ot=I(T),h(T,$,nt),T=ot;h(D,$,nt)},B=({el:T,anchor:D})=>{let $;for(;T&&T!==D;)$=I(T),s(T),T=$;s(D)},X=(T,D,$,nt,ot,rt,R,C,V)=>{D.type==="svg"?R="svg":D.type==="math"&&(R="mathml"),T==null?W(D,$,nt,ot,rt,R,C,V):ct(T,D,ot,rt,R,C,V)},W=(T,D,$,nt,ot,rt,R,C)=>{let V,Q;const{props:vt,shapeFlag:at,transition:H,dirs:et}=T;if(V=T.el=g(T.type,rt,vt&&vt.is,vt),at&8?E(V,T.children):at&16&&ht(T.children,V,null,nt,ot,Au(T,rt),R,C),et&&kr(T,null,nt,"created"),Y(V,T,T.scopeId,R,nt),vt){for(const zt in vt)zt!=="value"&&!go(zt)&&c(V,zt,null,vt[zt],rt,nt);"value"in vt&&c(V,"value",null,vt.value,rt),(Q=vt.onVnodeBeforeMount)&&ui(Q,nt,T)}et&&kr(T,null,nt,"beforeMount");const xt=rm(ot,H);xt&&H.beforeEnter(V),h(V,D,$),((Q=vt&&vt.onVnodeMounted)||xt||et)&&Pn(()=>{Q&&ui(Q,nt,T),xt&&H.enter(V),et&&kr(T,null,nt,"mounted")},ot)},Y=(T,D,$,nt,ot)=>{if($&&N(T,$),nt)for(let rt=0;rt<nt.length;rt++)N(T,nt[rt]);if(ot){let rt=ot.subTree;if(D===rt||cd(rt.type)&&(rt.ssContent===D||rt.ssFallback===D)){const R=ot.vnode;Y(T,R,R.scopeId,R.slotScopeIds,ot.parent)}}},ht=(T,D,$,nt,ot,rt,R,C,V=0)=>{for(let Q=V;Q<T.length;Q++){const vt=T[Q]=C?Ki(T[Q]):hi(T[Q]);Z(null,vt,D,$,nt,ot,rt,R,C)}},ct=(T,D,$,nt,ot,rt,R)=>{const C=D.el=T.el;let{patchFlag:V,dynamicChildren:Q,dirs:vt}=D;V|=T.patchFlag&16;const at=T.props||ve,H=D.props||ve;let et;if($&&xr($,!1),(et=H.onVnodeBeforeUpdate)&&ui(et,$,D,T),vt&&kr(D,T,$,"beforeUpdate"),$&&xr($,!0),(at.innerHTML&&H.innerHTML==null||at.textContent&&H.textContent==null)&&E(C,""),Q?Ot(T.dynamicChildren,Q,C,$,nt,Au(D,ot),rt):R||ft(T,D,C,null,$,nt,Au(D,ot),rt,!1),V>0){if(V&16)Pt(C,at,H,$,ot);else if(V&2&&at.class!==H.class&&c(C,"class",null,H.class,ot),V&4&&c(C,"style",at.style,H.style,ot),V&8){const xt=D.dynamicProps;for(let zt=0;zt<xt.length;zt++){const mt=xt[zt],be=at[mt],Rt=H[mt];(Rt!==be||mt==="value")&&c(C,mt,be,Rt,ot,$)}}V&1&&T.children!==D.children&&E(C,D.children)}else!R&&Q==null&&Pt(C,at,H,$,ot);((et=H.onVnodeUpdated)||vt)&&Pn(()=>{et&&ui(et,$,D,T),vt&&kr(D,T,$,"updated")},nt)},Ot=(T,D,$,nt,ot,rt,R)=>{for(let C=0;C<D.length;C++){const V=T[C],Q=D[C],vt=V.el&&(V.type===xn||!so(V,Q)||V.shapeFlag&70)?k(V.el):$;Z(V,Q,vt,null,nt,ot,rt,R,!0)}},Pt=(T,D,$,nt,ot)=>{if(D!==$){if(D!==ve)for(const rt in D)!go(rt)&&!(rt in $)&&c(T,rt,D[rt],null,ot,nt);for(const rt in $){if(go(rt))continue;const R=$[rt],C=D[rt];R!==C&&rt!=="value"&&c(T,rt,C,R,ot,nt)}"value"in $&&c(T,"value",D.value,$.value,ot)}},Tt=(T,D,$,nt,ot,rt,R,C,V)=>{const Q=D.el=T?T.el:_(""),vt=D.anchor=T?T.anchor:_("");let{patchFlag:at,dynamicChildren:H,slotScopeIds:et}=D;et&&(C=C?C.concat(et):et),T==null?(h(Q,$,nt),h(vt,$,nt),ht(D.children||[],$,vt,ot,rt,R,C,V)):at>0&&at&64&&H&&T.dynamicChildren?(Ot(T.dynamicChildren,H,$,ot,rt,R,C),(D.key!=null||ot&&D===ot.subTree)&&od(T,D,!0)):ft(T,D,$,vt,ot,rt,R,C,V)},jt=(T,D,$,nt,ot,rt,R,C,V)=>{D.slotScopeIds=C,T==null?D.shapeFlag&512?ot.ctx.activate(D,$,nt,R,V):dt(D,$,nt,ot,rt,R,V):Gt(T,D,V)},dt=(T,D,$,nt,ot,rt,R)=>{const C=T.component=km(T,nt,ot);if(Yf(T)&&(C.ctx.renderer=gt),xm(C,!1,R),C.asyncDep){if(ot&&ot.registerDep(C,It,R),!T.el){const V=C.subTree=Se(Cr);A(null,V,D,$)}}else It(C,T,D,$,ot,rt,R)},Gt=(T,D,$)=>{const nt=D.component=T.component;if(dm(T,D,$))if(nt.asyncDep&&!nt.asyncResolved){Nt(nt,D,$);return}else nt.next=D,nt.update();else D.el=T.el,nt.vnode=D},It=(T,D,$,nt,ot,rt,R)=>{const C=()=>{if(T.isMounted){let{next:at,bu:H,u:et,parent:xt,vnode:zt}=T;{const un=ad(T);if(un){at&&(at.el=zt.el,Nt(T,at,R)),un.asyncDep.then(()=>{T.isUnmounted||C()});return}}let mt=at,be;xr(T,!1),at?(at.el=zt.el,Nt(T,at,R)):at=zt,H&&La(H),(be=at.props&&at.props.onVnodeBeforeUpdate)&&ui(be,xt,at,zt),xr(T,!0);const Rt=Ic(T),Mt=T.subTree;T.subTree=Rt,Z(Mt,Rt,k(Mt.el),it(Mt),T,ot,rt),at.el=Rt.el,mt===null&&gm(T,Rt.el),et&&Pn(et,ot),(be=at.props&&at.props.onVnodeUpdated)&&Pn(()=>ui(be,xt,at,zt),ot)}else{let at;const{el:H,props:et}=D,{bm:xt,m:zt,parent:mt,root:be,type:Rt}=T,Mt=po(D);xr(T,!1),xt&&La(xt),!Mt&&(at=et&&et.onVnodeBeforeMount)&&ui(at,mt,D),xr(T,!0);{be.ce&&be.ce._injectChildStyle(Rt);const un=T.subTree=Ic(T);Z(null,un,$,nt,T,ot,rt),D.el=un.el}if(zt&&Pn(zt,ot),!Mt&&(at=et&&et.onVnodeMounted)){const un=D;Pn(()=>ui(at,mt,un),ot)}(D.shapeFlag&256||mt&&po(mt.vnode)&&mt.vnode.shapeFlag&256)&&T.a&&Pn(T.a,ot),T.isMounted=!0,D=$=nt=null}};T.scope.on();const V=T.effect=new Ef(C);T.scope.off();const Q=T.update=V.run.bind(V),vt=T.job=V.runIfDirty.bind(V);vt.i=T,vt.id=T.uid,V.scheduler=()=>Dl(vt),xr(T,!0),Q()},Nt=(T,D,$)=>{D.component=T;const nt=T.vnode.props;T.vnode=D,T.next=null,K_(T,D.props,nt,$),em(T,D.children,$),er(),yc(T),nr()},ft=(T,D,$,nt,ot,rt,R,C,V=!1)=>{const Q=T&&T.children,vt=T?T.shapeFlag:0,at=D.children,{patchFlag:H,shapeFlag:et}=D;if(H>0){if(H&128){st(Q,at,$,nt,ot,rt,R,C,V);return}else if(H&256){Kt(Q,at,$,nt,ot,rt,R,C,V);return}}et&8?(vt&16&&Bt(Q,ot,rt),at!==Q&&E($,at)):vt&16?et&16?st(Q,at,$,nt,ot,rt,R,C,V):Bt(Q,ot,rt,!0):(vt&8&&E($,""),et&16&&ht(at,$,nt,ot,rt,R,C,V))},Kt=(T,D,$,nt,ot,rt,R,C,V)=>{T=T||os,D=D||os;const Q=T.length,vt=D.length,at=Math.min(Q,vt);let H;for(H=0;H<at;H++){const et=D[H]=V?Ki(D[H]):hi(D[H]);Z(T[H],et,$,null,ot,rt,R,C,V)}Q>vt?Bt(T,ot,rt,!0,!1,at):ht(D,$,nt,ot,rt,R,C,V,at)},st=(T,D,$,nt,ot,rt,R,C,V)=>{let Q=0;const vt=D.length;let at=T.length-1,H=vt-1;for(;Q<=at&&Q<=H;){const et=T[Q],xt=D[Q]=V?Ki(D[Q]):hi(D[Q]);if(so(et,xt))Z(et,xt,$,null,ot,rt,R,C,V);else break;Q++}for(;Q<=at&&Q<=H;){const et=T[at],xt=D[H]=V?Ki(D[H]):hi(D[H]);if(so(et,xt))Z(et,xt,$,null,ot,rt,R,C,V);else break;at--,H--}if(Q>at){if(Q<=H){const et=H+1,xt=et<vt?D[et].el:nt;for(;Q<=H;)Z(null,D[Q]=V?Ki(D[Q]):hi(D[Q]),$,xt,ot,rt,R,C,V),Q++}}else if(Q>H)for(;Q<=at;)Ut(T[Q],ot,rt,!0),Q++;else{const et=Q,xt=Q,zt=new Map;for(Q=xt;Q<=H;Q++){const St=D[Q]=V?Ki(D[Q]):hi(D[Q]);St.key!=null&&zt.set(St.key,Q)}let mt,be=0;const Rt=H-xt+1;let Mt=!1,un=0;const qe=new Array(Rt);for(Q=0;Q<Rt;Q++)qe[Q]=0;for(Q=et;Q<=at;Q++){const St=T[Q];if(be>=Rt){Ut(St,ot,rt,!0);continue}let vn;if(St.key!=null)vn=zt.get(St.key);else for(mt=xt;mt<=H;mt++)if(qe[mt-xt]===0&&so(St,D[mt])){vn=mt;break}vn===void 0?Ut(St,ot,rt,!0):(qe[vn-xt]=Q+1,vn>=un?un=vn:Mt=!0,Z(St,D[vn],$,null,ot,rt,R,C,V),be++)}const Ai=Mt?sm(qe):os;for(mt=Ai.length-1,Q=Rt-1;Q>=0;Q--){const St=xt+Q,vn=D[St],Qn=St+1<vt?D[St+1].el:nt;qe[Q]===0?Z(null,vn,$,Qn,ot,rt,R,C,V):Mt&&(mt<0||Q!==Ai[mt]?Ft(vn,$,Qn,2):mt--)}}},Ft=(T,D,$,nt,ot=null)=>{const{el:rt,type:R,transition:C,children:V,shapeFlag:Q}=T;if(Q&6){Ft(T.component.subTree,D,$,nt);return}if(Q&128){T.suspense.move(D,$,nt);return}if(Q&64){R.move(T,D,$,gt);return}if(R===xn){h(rt,D,$);for(let at=0;at<V.length;at++)Ft(V[at],D,$,nt);h(T.anchor,D,$);return}if(R===Du){G(T,D,$);return}if(nt!==2&&Q&1&&C)if(nt===0)C.beforeEnter(rt),h(rt,D,$),Pn(()=>C.enter(rt),ot);else{const{leave:at,delayLeave:H,afterLeave:et}=C,xt=()=>h(rt,D,$),zt=()=>{at(rt,()=>{xt(),et&&et()})};H?H(rt,xt,zt):zt()}else h(rt,D,$)},Ut=(T,D,$,nt=!1,ot=!1)=>{const{type:rt,props:R,ref:C,children:V,dynamicChildren:Q,shapeFlag:vt,patchFlag:at,dirs:H,cacheIndex:et}=T;if(at===-2&&(ot=!1),C!=null&&Oa(C,null,$,T,!0),et!=null&&(D.renderCache[et]=void 0),vt&256){D.ctx.deactivate(T);return}const xt=vt&1&&H,zt=!po(T);let mt;if(zt&&(mt=R&&R.onVnodeBeforeUnmount)&&ui(mt,D,T),vt&6)Yt(T.component,$,nt);else{if(vt&128){T.suspense.unmount($,nt);return}xt&&kr(T,null,D,"beforeUnmount"),vt&64?T.type.remove(T,D,$,gt,nt):Q&&!Q.hasOnce&&(rt!==xn||at>0&&at&64)?Bt(Q,D,$,!1,!0):(rt===xn&&at&384||!ot&&vt&16)&&Bt(V,D,$),nt&&Qt(T)}(zt&&(mt=R&&R.onVnodeUnmounted)||xt)&&Pn(()=>{mt&&ui(mt,D,T),xt&&kr(T,null,D,"unmounted")},$)},Qt=T=>{const{type:D,el:$,anchor:nt,transition:ot}=T;if(D===xn){kt($,nt);return}if(D===Du){B(T);return}const rt=()=>{s($),ot&&!ot.persisted&&ot.afterLeave&&ot.afterLeave()};if(T.shapeFlag&1&&ot&&!ot.persisted){const{leave:R,delayLeave:C}=ot,V=()=>R($,rt);C?C(T.el,rt,V):V()}else rt()},kt=(T,D)=>{let $;for(;T!==D;)$=I(T),s(T),T=$;s(D)},Yt=(T,D,$)=>{const{bum:nt,scope:ot,job:rt,subTree:R,um:C,m:V,a:Q}=T;Tc(V),Tc(Q),nt&&La(nt),ot.stop(),rt&&(rt.flags|=8,Ut(R,T,D,$)),C&&Pn(C,D),Pn(()=>{T.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Bt=(T,D,$,nt=!1,ot=!1,rt=0)=>{for(let R=rt;R<T.length;R++)Ut(T[R],D,$,nt,ot)},it=T=>{if(T.shapeFlag&6)return it(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const D=I(T.anchor||T.el),$=D&&D[b_];return $?I($):D};let F=!1;const yt=(T,D,$)=>{T==null?D._vnode&&Ut(D._vnode,null,null,!0):Z(D._vnode||null,T,D,null,null,null,$),D._vnode=T,F||(F=!0,yc(),Gf(),F=!1)},gt={p:Z,um:Ut,m:Ft,r:Qt,mt:dt,mc:ht,pc:ft,pbc:Ot,n:it,o:t};return{render:yt,hydrate:void 0,createApp:X_(yt)}}function Au({type:t,props:r},l){return l==="svg"&&t==="foreignObject"||l==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:l}function xr({effect:t,job:r},l){l?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function rm(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function od(t,r,l=!1){const h=t.children,s=r.children;if(qt(h)&&qt(s))for(let c=0;c<h.length;c++){const g=h[c];let _=s[c];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=s[c]=Ki(s[c]),_.el=g.el),!l&&_.patchFlag!==-2&&od(g,_)),_.type===Go&&(_.el=g.el)}}function sm(t){const r=t.slice(),l=[0];let h,s,c,g,_;const v=t.length;for(h=0;h<v;h++){const x=t[h];if(x!==0){if(s=l[l.length-1],t[s]<x){r[h]=s,l.push(h);continue}for(c=0,g=l.length-1;c<g;)_=c+g>>1,t[l[_]]<x?c=_+1:g=_;x<t[l[c]]&&(c>0&&(r[h]=l[c-1]),l[c]=h)}}for(c=l.length,g=l[c-1];c-- >0;)l[c]=g,g=r[g];return l}function ad(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:ad(r)}function Tc(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const om=Symbol.for("v-scx"),am=()=>Kn(om);function Bo(t,r){return Gl(t,null,r)}function nn(t,r,l){return Gl(t,r,l)}function Gl(t,r,l=ve){const{immediate:h,deep:s,flush:c,once:g}=l,_=an({},l),v=r&&h||!r&&c!=="post";let x;if(So){if(c==="sync"){const N=am();x=N.__watcherHandles||(N.__watcherHandles=[])}else if(!v){const N=()=>{};return N.stop=di,N.resume=di,N.pause=di,N}}const E=en;_.call=(N,O,Z)=>_i(N,E,O,Z);let k=!1;c==="post"?_.scheduler=N=>{Pn(N,E&&E.suspense)}:c!=="sync"&&(k=!0,_.scheduler=(N,O)=>{O?N():Dl(N)}),_.augmentJob=N=>{r&&(N.flags|=4),k&&(N.flags|=2,E&&(N.id=E.uid,N.i=E))};const I=E_(t,r,_);return So&&(x?x.push(I):v&&I()),I}function um(t,r,l){const h=this.proxy,s=Be(t)?t.includes(".")?ud(h,t):()=>h[t]:t.bind(h,h);let c;Wt(r)?c=r:(c=r.handler,l=r);const g=Uo(this),_=Gl(s,c.bind(h),l);return g(),_}function ud(t,r){const l=r.split(".");return()=>{let h=t;for(let s=0;s<l.length&&h;s++)h=h[l[s]];return h}}const lm=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${qn(r)}Modifiers`]||t[`${Mr(r)}Modifiers`];function cm(t,r,...l){if(t.isUnmounted)return;const h=t.vnode.props||ve;let s=l;const c=r.startsWith("update:"),g=c&&lm(h,r.slice(7));g&&(g.trim&&(s=l.map(E=>Be(E)?E.trim():E)),g.number&&(s=l.map(Sa)));let _,v=h[_=Pu(r)]||h[_=Pu(qn(r))];!v&&c&&(v=h[_=Pu(Mr(r))]),v&&_i(v,t,6,s);const x=h[_+"Once"];if(x){if(!t.emitted)t.emitted={};else if(t.emitted[_])return;t.emitted[_]=!0,_i(x,t,6,s)}}function ld(t,r,l=!1){const h=r.emitsCache,s=h.get(t);if(s!==void 0)return s;const c=t.emits;let g={},_=!1;if(!Wt(t)){const v=x=>{const E=ld(x,r,!0);E&&(_=!0,an(g,E))};!l&&r.mixins.length&&r.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}return!c&&!_?(ye(t)&&h.set(t,null),null):(qt(c)?c.forEach(v=>g[v]=null):an(g,c),ye(t)&&h.set(t,g),g)}function su(t,r){return!t||!Wa(r)?!1:(r=r.slice(2).replace(/Once$/,""),he(t,r[0].toLowerCase()+r.slice(1))||he(t,Mr(r))||he(t,r))}function Ic(t){const{type:r,vnode:l,proxy:h,withProxy:s,propsOptions:[c],slots:g,attrs:_,emit:v,render:x,renderCache:E,props:k,data:I,setupState:N,ctx:O,inheritAttrs:Z}=t,j=Ma(t);let A,z;try{if(l.shapeFlag&4){const B=s||h,X=B;A=hi(x.call(X,B,E,k,N,I,O)),z=_}else{const B=r;A=hi(B.length>1?B(k,{attrs:_,slots:g,emit:v}):B(k,null)),z=r.props?_:hm(_)}}catch(B){yo.length=0,nu(B,t,1),A=Se(Cr)}let G=A;if(z&&Z!==!1){const B=Object.keys(z),{shapeFlag:X}=G;B.length&&X&7&&(c&&B.some(Tl)&&(z=fm(z,c)),G=ms(G,z,!1,!0))}return l.dirs&&(G=ms(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(l.dirs):l.dirs),l.transition&&Fl(G,l.transition),A=G,Ma(j),A}const hm=t=>{let r;for(const l in t)(l==="class"||l==="style"||Wa(l))&&((r||(r={}))[l]=t[l]);return r},fm=(t,r)=>{const l={};for(const h in t)(!Tl(h)||!(h.slice(9)in r))&&(l[h]=t[h]);return l};function dm(t,r,l){const{props:h,children:s,component:c}=t,{props:g,children:_,patchFlag:v}=r,x=c.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&v>=0){if(v&1024)return!0;if(v&16)return h?Sc(h,g,x):!!g;if(v&8){const E=r.dynamicProps;for(let k=0;k<E.length;k++){const I=E[k];if(g[I]!==h[I]&&!su(x,I))return!0}}}else return(s||_)&&(!_||!_.$stable)?!0:h===g?!1:h?g?Sc(h,g,x):!0:!!g;return!1}function Sc(t,r,l){const h=Object.keys(r);if(h.length!==Object.keys(t).length)return!0;for(let s=0;s<h.length;s++){const c=h[s];if(r[c]!==t[c]&&!su(l,c))return!0}return!1}function gm({vnode:t,parent:r},l){for(;r;){const h=r.subTree;if(h.suspense&&h.suspense.activeBranch===t&&(h.el=t.el),h===t)(t=r.vnode).el=l,r=r.parent;else break}}const cd=t=>t.__isSuspense;function _m(t,r){r&&r.pendingBranch?qt(t)?r.effects.push(...t):r.effects.push(t):w_(t)}const xn=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),Cr=Symbol.for("v-cmt"),Du=Symbol.for("v-stc"),yo=[];let Cn=null;function Ie(t=!1){yo.push(Cn=t?null:[])}function mm(){yo.pop(),Cn=yo[yo.length-1]||null}let Io=1;function Pc(t,r=!1){Io+=t,t<0&&Cn&&r&&(Cn.hasOnce=!0)}function hd(t){return t.dynamicChildren=Io>0?Cn||os:null,mm(),Io>0&&Cn&&Cn.push(t),t}function ze(t,r,l,h,s,c){return hd(Et(t,r,l,h,s,c,!0))}function Aa(t,r,l,h,s){return hd(Se(t,r,l,h,s,!0))}function Da(t){return t?t.__v_isVNode===!0:!1}function so(t,r){return t.type===r.type&&t.key===r.key}const fd=({key:t})=>t??null,ka=({ref:t,ref_key:r,ref_for:l})=>(typeof t=="number"&&(t=""+t),t!=null?Be(t)||He(t)||Wt(t)?{i:wn,r:t,k:r,f:!!l}:t:null);function Et(t,r=null,l=null,h=0,s=null,c=t===xn?0:1,g=!1,_=!1){const v={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&fd(r),ref:r&&ka(r),scopeId:Hf,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:h,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:wn};return _?(Ul(v,l),c&128&&t.normalize(v)):l&&(v.shapeFlag|=Be(l)?8:16),Io>0&&!g&&Cn&&(v.patchFlag>0||c&6)&&v.patchFlag!==32&&Cn.push(v),v}const Se=pm;function pm(t,r=null,l=null,h=0,s=null,c=!1){if((!t||t===G_)&&(t=Cr),Da(t)){const _=ms(t,r,!0);return l&&Ul(_,l),Io>0&&!c&&Cn&&(_.shapeFlag&6?Cn[Cn.indexOf(t)]=_:Cn.push(_)),_.patchFlag=-2,_}if(Sm(t)&&(t=t.__vccOpts),r){r=vm(r);let{class:_,style:v}=r;_&&!Be(_)&&(r.class=us(_)),ye(v)&&(Rl(v)&&!qt(v)&&(v=an({},v)),r.style=gs(v))}const g=Be(t)?1:cd(t)?128:T_(t)?64:ye(t)?4:Wt(t)?2:0;return Et(t,r,l,h,s,g,c,!0)}function vm(t){return t?Rl(t)||Qf(t)?an({},t):t:null}function ms(t,r,l=!1,h=!1){const{props:s,ref:c,patchFlag:g,children:_,transition:v}=t,x=r?ym(s||{},r):s,E={__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&fd(x),ref:r&&r.ref?l&&c?qt(c)?c.concat(ka(r)):[c,ka(r)]:ka(r):c,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==xn?g===-1?16:g|16:g,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:v,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ms(t.ssContent),ssFallback:t.ssFallback&&ms(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return v&&h&&Fl(E,v.clone(E)),E}function ps(t=" ",r=0){return Se(Go,null,t,r)}function il(t="",r=!1){return r?(Ie(),Aa(Cr,null,t)):Se(Cr,null,t)}function hi(t){return t==null||typeof t=="boolean"?Se(Cr):qt(t)?Se(xn,null,t.slice()):Da(t)?Ki(t):Se(Go,null,String(t))}function Ki(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ms(t)}function Ul(t,r){let l=0;const{shapeFlag:h}=t;if(r==null)r=null;else if(qt(r))l=16;else if(typeof r=="object")if(h&65){const s=r.default;s&&(s._c&&(s._d=!1),Ul(t,s()),s._c&&(s._d=!0));return}else{l=32;const s=r._;!s&&!Qf(r)?r._ctx=wn:s===3&&wn&&(wn.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Wt(r)?(r={default:r,_ctx:wn},l=32):(r=String(r),h&64?(l=16,r=[ps(r)]):l=8);t.children=r,t.shapeFlag|=l}function ym(...t){const r={};for(let l=0;l<t.length;l++){const h=t[l];for(const s in h)if(s==="class")r.class!==h.class&&(r.class=us([r.class,h.class]));else if(s==="style")r.style=gs([r.style,h.style]);else if(Wa(s)){const c=r[s],g=h[s];g&&c!==g&&!(qt(c)&&c.includes(g))&&(r[s]=c?[].concat(c,g):g)}else s!==""&&(r[s]=h[s])}return r}function ui(t,r,l,h=null){_i(t,r,7,[l,h])}const Lm=jf();let Em=0;function km(t,r,l){const h=t.type,s=(r?r.appContext:t.appContext)||Lm,c={uid:Em++,vnode:t,type:h,parent:r,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(s.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ed(h,s),emitsOptions:ld(h,s),emit:null,emitted:null,propsDefaults:ve,inheritAttrs:h.inheritAttrs,ctx:ve,data:ve,props:ve,attrs:ve,slots:ve,refs:ve,setupState:ve,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=r?r.root:c,c.emit=cm.bind(null,c),t.ce&&t.ce(c),c}let en=null;const vs=()=>en||wn;let Fa,rl;{const t=Ka(),r=(l,h)=>{let s;return(s=t[l])||(s=t[l]=[]),s.push(h),c=>{s.length>1?s.forEach(g=>g(c)):s[0](c)}};Fa=r("__VUE_INSTANCE_SETTERS__",l=>en=l),rl=r("__VUE_SSR_SETTERS__",l=>So=l)}const Uo=t=>{const r=en;return Fa(t),t.scope.on(),()=>{t.scope.off(),Fa(r)}},Cc=()=>{en&&en.scope.off(),Fa(null)};function dd(t){return t.vnode.shapeFlag&4}let So=!1;function xm(t,r=!1,l=!1){r&&rl(r);const{props:h,children:s}=t.vnode,c=dd(t);j_(t,h,c,r),tm(t,s,l);const g=c?wm(t,r):void 0;return r&&rl(!1),g}function wm(t,r){const l=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,H_);const{setup:h}=l;if(h){er();const s=t.setupContext=h.length>1?Tm(t):null,c=Uo(t),g=zo(h,t,0,[t.props,s]),_=ff(g);if(nr(),c(),(_||t.sp)&&!po(t)&&qf(t),_){if(g.then(Cc,Cc),r)return g.then(v=>{Nc(t,v)}).catch(v=>{nu(v,t,0)});t.asyncDep=g}else Nc(t,g)}else gd(t)}function Nc(t,r,l){Wt(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:ye(r)&&(t.setupState=Ff(r)),gd(t)}function gd(t,r,l){const h=t.type;t.render||(t.render=h.render||di);{const s=Uo(t);er();try{Z_(t)}finally{nr(),s()}}}const bm={get(t,r){return sn(t,"get",""),t[r]}};function Tm(t){const r=l=>{t.exposed=l||{}};return{attrs:new Proxy(t.attrs,bm),slots:t.slots,emit:t.emit,expose:r}}function ou(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ff(l_(t.exposed)),{get(r,l){if(l in r)return r[l];if(l in vo)return vo[l](t)},has(r,l){return l in r||l in vo}})):t.proxy}function Im(t,r=!0){return Wt(t)?t.displayName||t.name:t.name||r&&t.__name}function Sm(t){return Wt(t)&&"__vccOpts"in t}const fe=(t,r)=>y_(t,r,So);function au(t,r,l){const h=arguments.length;return h===2?ye(r)&&!qt(r)?Da(r)?Se(t,null,[r]):Se(t,r):Se(t,null,r):(h>3?l=Array.prototype.slice.call(arguments,2):h===3&&Da(l)&&(l=[l]),Se(t,r,l))}const Pm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sl;const Mc=typeof window<"u"&&window.trustedTypes;if(Mc)try{sl=Mc.createPolicy("vue",{createHTML:t=>t})}catch{}const _d=sl?t=>sl.createHTML(t):t=>t,Cm="http://www.w3.org/2000/svg",Nm="http://www.w3.org/1998/Math/MathML",Si=typeof document<"u"?document:null,Oc=Si&&Si.createElement("template"),Mm={insert:(t,r,l)=>{r.insertBefore(t,l||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,l,h)=>{const s=r==="svg"?Si.createElementNS(Cm,t):r==="mathml"?Si.createElementNS(Nm,t):l?Si.createElement(t,{is:l}):Si.createElement(t);return t==="select"&&h&&h.multiple!=null&&s.setAttribute("multiple",h.multiple),s},createText:t=>Si.createTextNode(t),createComment:t=>Si.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Si.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,l,h,s,c){const g=l?l.previousSibling:r.lastChild;if(s&&(s===c||s.nextSibling))for(;r.insertBefore(s.cloneNode(!0),l),!(s===c||!(s=s.nextSibling)););else{Oc.innerHTML=_d(h==="svg"?`<svg>${t}</svg>`:h==="mathml"?`<math>${t}</math>`:t);const _=Oc.content;if(h==="svg"||h==="mathml"){const v=_.firstChild;for(;v.firstChild;)_.appendChild(v.firstChild);_.removeChild(v)}r.insertBefore(_,l)}return[g?g.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}},Om=Symbol("_vtc");function Rm(t,r,l){const h=t[Om];h&&(r=(r?[r,...h]:[...h]).join(" ")),r==null?t.removeAttribute("class"):l?t.setAttribute("class",r):t.className=r}const Rc=Symbol("_vod"),Am=Symbol("_vsh"),Dm=Symbol(""),Fm=/(^|;)\s*display\s*:/;function zm(t,r,l){const h=t.style,s=Be(l);let c=!1;if(l&&!s){if(r)if(Be(r))for(const g of r.split(";")){const _=g.slice(0,g.indexOf(":")).trim();l[_]==null&&xa(h,_,"")}else for(const g in r)l[g]==null&&xa(h,g,"");for(const g in l)g==="display"&&(c=!0),xa(h,g,l[g])}else if(s){if(r!==l){const g=h[Dm];g&&(l+=";"+g),h.cssText=l,c=Fm.test(l)}}else r&&t.removeAttribute("style");Rc in t&&(t[Rc]=c?h.display:"",t[Am]&&(h.display="none"))}const Ac=/\s*!important$/;function xa(t,r,l){if(qt(l))l.forEach(h=>xa(t,r,h));else if(l==null&&(l=""),r.startsWith("--"))t.setProperty(r,l);else{const h=Bm(t,r);Ac.test(l)?t.setProperty(Mr(h),l.replace(Ac,""),"important"):t[h]=l}}const Dc=["Webkit","Moz","ms"],Fu={};function Bm(t,r){const l=Fu[r];if(l)return l;let h=qn(r);if(h!=="filter"&&h in t)return Fu[r]=h;h=ja(h);for(let s=0;s<Dc.length;s++){const c=Dc[s]+h;if(c in t)return Fu[r]=c}return r}const Fc="http://www.w3.org/1999/xlink";function zc(t,r,l,h,s,c=Bg(r)){h&&r.startsWith("xlink:")?l==null?t.removeAttributeNS(Fc,r.slice(6,r.length)):t.setAttributeNS(Fc,r,l):l==null||c&&!mf(l)?t.removeAttribute(r):t.setAttribute(r,c?"":gi(l)?String(l):l)}function Bc(t,r,l,h,s){if(r==="innerHTML"||r==="textContent"){l!=null&&(t[r]=r==="innerHTML"?_d(l):l);return}const c=t.tagName;if(r==="value"&&c!=="PROGRESS"&&!c.includes("-")){const _=c==="OPTION"?t.getAttribute("value")||"":t.value,v=l==null?t.type==="checkbox"?"on":"":String(l);(_!==v||!("_value"in t))&&(t.value=v),l==null&&t.removeAttribute(r),t._value=l;return}let g=!1;if(l===""||l==null){const _=typeof t[r];_==="boolean"?l=mf(l):l==null&&_==="string"?(l="",g=!0):_==="number"&&(l=0,g=!0)}try{t[r]=l}catch{}g&&t.removeAttribute(s||r)}function Tr(t,r,l,h){t.addEventListener(r,l,h)}function Gm(t,r,l,h){t.removeEventListener(r,l,h)}const Gc=Symbol("_vei");function Um(t,r,l,h,s=null){const c=t[Gc]||(t[Gc]={}),g=c[r];if(h&&g)g.value=h;else{const[_,v]=Hm(r);if(h){const x=c[r]=Ym(h,s);Tr(t,_,x,v)}else g&&(Gm(t,_,g,v),c[r]=void 0)}}const Uc=/(?:Once|Passive|Capture)$/;function Hm(t){let r;if(Uc.test(t)){r={};let h;for(;h=t.match(Uc);)t=t.slice(0,t.length-h[0].length),r[h[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mr(t.slice(2)),r]}let zu=0;const Zm=Promise.resolve(),qm=()=>zu||(Zm.then(()=>zu=0),zu=Date.now());function Ym(t,r){const l=h=>{if(!h._vts)h._vts=Date.now();else if(h._vts<=l.attached)return;_i(Vm(h,l.value),r,5,[h])};return l.value=t,l.attached=qm(),l}function Vm(t,r){if(qt(r)){const l=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{l.call(t),t._stopped=!0},r.map(h=>s=>!s._stopped&&h&&h(s))}else return r}const Hc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wm=(t,r,l,h,s,c)=>{const g=s==="svg";r==="class"?Rm(t,h,g):r==="style"?zm(t,l,h):Wa(r)?Tl(r)||Um(t,r,l,h,c):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):$m(t,r,h,g))?(Bc(t,r,h),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&zc(t,r,h,g,c,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!Be(h))?Bc(t,qn(r),h,c,r):(r==="true-value"?t._trueValue=h:r==="false-value"&&(t._falseValue=h),zc(t,r,h,g))};function $m(t,r,l,h){if(h)return!!(r==="innerHTML"||r==="textContent"||r in t&&Hc(r)&&Wt(l));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Hc(r)&&Be(l)?!1:r in t}const za=t=>{const r=t.props["onUpdate:modelValue"]||!1;return qt(r)?l=>La(r,l):r};function Xm(t){t.target.composing=!0}function Zc(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const ds=Symbol("_assign"),Lo={created(t,{modifiers:{lazy:r,trim:l,number:h}},s){t[ds]=za(s);const c=h||s.props&&s.props.type==="number";Tr(t,r?"change":"input",g=>{if(g.target.composing)return;let _=t.value;l&&(_=_.trim()),c&&(_=Sa(_)),t[ds](_)}),l&&Tr(t,"change",()=>{t.value=t.value.trim()}),r||(Tr(t,"compositionstart",Xm),Tr(t,"compositionend",Zc),Tr(t,"change",Zc))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:l,modifiers:{lazy:h,trim:s,number:c}},g){if(t[ds]=za(g),t.composing)return;const _=(c||t.type==="number")&&!/^0\d/.test(t.value)?Sa(t.value):t.value,v=r??"";_!==v&&(document.activeElement===t&&t.type!=="range"&&(h&&r===l||s&&t.value.trim()===v)||(t.value=v))}},jm={deep:!0,created(t,{value:r,modifiers:{number:l}},h){const s=$a(r);Tr(t,"change",()=>{const c=Array.prototype.filter.call(t.options,g=>g.selected).map(g=>l?Sa(Ba(g)):Ba(g));t[ds](t.multiple?s?new Set(c):c:c[0]),t._assigning=!0,Al(()=>{t._assigning=!1})}),t[ds]=za(h)},mounted(t,{value:r}){qc(t,r)},beforeUpdate(t,r,l){t[ds]=za(l)},updated(t,{value:r}){t._assigning||qc(t,r)}};function qc(t,r){const l=t.multiple,h=qt(r);if(!(l&&!h&&!$a(r))){for(let s=0,c=t.options.length;s<c;s++){const g=t.options[s],_=Ba(g);if(l)if(h){const v=typeof _;v==="string"||v==="number"?g.selected=r.some(x=>String(x)===String(_)):g.selected=Ug(r,_)>-1}else g.selected=r.has(_);else if(Ja(Ba(g),r)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!l&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ba(t){return"_value"in t?t._value:t.value}const Km=an({patchProp:Wm},Mm);let Yc;function Jm(){return Yc||(Yc=nm(Km))}const Qm=(...t)=>{const r=Jm().createApp(...t),{mount:l}=r;return r.mount=h=>{const s=ep(h);if(!s)return;const c=r._component;!Wt(c)&&!c.render&&!c.template&&(c.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const g=l(s,!1,tp(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),g},r};function tp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ep(t){return Be(t)?document.querySelector(t):t}const Ss=(t,r)=>{const l=t.__vccOpts||t;for(const[h,s]of r)l[h]=s;return l},np={};function ip(t,r){const l=B_("RouterView");return Ie(),Aa(l)}const rp=Ss(np,[["render",ip]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rs=typeof document<"u";function md(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&md(t.default)}const ce=Object.assign;function Bu(t,r){const l={};for(const h in r){const s=r[h];l[h]=Jn(s)?s.map(t):t(s)}return l}const Eo=()=>{},Jn=Array.isArray,pd=/#/g,op=/&/g,ap=/\//g,up=/=/g,lp=/\?/g,vd=/\+/g,cp=/%5B/g,hp=/%5D/g,yd=/%5E/g,fp=/%60/g,Ld=/%7B/g,dp=/%7C/g,Ed=/%7D/g,gp=/%20/g;function Hl(t){return encodeURI(""+t).replace(dp,"|").replace(cp,"[").replace(hp,"]")}function _p(t){return Hl(t).replace(Ld,"{").replace(Ed,"}").replace(yd,"^")}function ol(t){return Hl(t).replace(vd,"%2B").replace(gp,"+").replace(pd,"%23").replace(op,"%26").replace(fp,"`").replace(Ld,"{").replace(Ed,"}").replace(yd,"^")}function mp(t){return ol(t).replace(up,"%3D")}function pp(t){return Hl(t).replace(pd,"%23").replace(lp,"%3F")}function vp(t){return t==null?"":pp(t).replace(ap,"%2F")}function Po(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const yp=/\/$/,Lp=t=>t.replace(yp,"");function Gu(t,r,l="/"){let h,s={},c="",g="";const _=r.indexOf("#");let v=r.indexOf("?");return _<v&&_>=0&&(v=-1),v>-1&&(h=r.slice(0,v),c=r.slice(v+1,_>-1?_:r.length),s=t(c)),_>-1&&(h=h||r.slice(0,_),g=r.slice(_,r.length)),h=wp(h??r,l),{fullPath:h+(c&&"?")+c+g,path:h,query:s,hash:Po(g)}}function Ep(t,r){const l=r.query?t(r.query):"";return r.path+(l&&"?")+l+(r.hash||"")}function Vc(t,r){return!r||!t.toLowerCase().startsWith(r.toLowerCase())?t:t.slice(r.length)||"/"}function kp(t,r,l){const h=r.matched.length-1,s=l.matched.length-1;return h>-1&&h===s&&ys(r.matched[h],l.matched[s])&&kd(r.params,l.params)&&t(r.query)===t(l.query)&&r.hash===l.hash}function ys(t,r){return(t.aliasOf||t)===(r.aliasOf||r)}function kd(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const l in t)if(!xp(t[l],r[l]))return!1;return!0}function xp(t,r){return Jn(t)?Wc(t,r):Jn(r)?Wc(r,t):t===r}function Wc(t,r){return Jn(r)?t.length===r.length&&t.every((l,h)=>l===r[h]):t.length===1&&t[0]===r}function wp(t,r){if(t.startsWith("/"))return t;if(!t)return r;const l=r.split("/"),h=t.split("/"),s=h[h.length-1];(s===".."||s===".")&&h.push("");let c=l.length-1,g,_;for(g=0;g<h.length;g++)if(_=h[g],_!==".")if(_==="..")c>1&&c--;else break;return l.slice(0,c).join("/")+"/"+h.slice(g).join("/")}const Wi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Co;(function(t){t.pop="pop",t.push="push"})(Co||(Co={}));var ko;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ko||(ko={}));function bp(t){if(!t)if(rs){const r=document.querySelector("base");t=r&&r.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Lp(t)}const Tp=/^[^#]+#/;function Ip(t,r){return t.replace(Tp,"#")+r}function Sp(t,r){const l=document.documentElement.getBoundingClientRect(),h=t.getBoundingClientRect();return{behavior:r.behavior,left:h.left-l.left-(r.left||0),top:h.top-l.top-(r.top||0)}}const uu=()=>({left:window.scrollX,top:window.scrollY});function Pp(t){let r;if("el"in t){const l=t.el,h=typeof l=="string"&&l.startsWith("#"),s=typeof l=="string"?h?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!s)return;r=Sp(s,t)}else r=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.scrollX,r.top!=null?r.top:window.scrollY)}function $c(t,r){return(history.state?history.state.position-r:-1)+t}const al=new Map;function Cp(t,r){al.set(t,r)}function Np(t){const r=al.get(t);return al.delete(t),r}let Mp=()=>location.protocol+"//"+location.host;function xd(t,r){const{pathname:l,search:h,hash:s}=r,c=t.indexOf("#");if(c>-1){let _=s.includes(t.slice(c))?t.slice(c).length:1,v=s.slice(_);return v[0]!=="/"&&(v="/"+v),Vc(v,"")}return Vc(l,t)+h+s}function Op(t,r,l,h){let s=[],c=[],g=null;const _=({state:I})=>{const N=xd(t,location),O=l.value,Z=r.value;let j=0;if(I){if(l.value=N,r.value=I,g&&g===O){g=null;return}j=Z?I.position-Z.position:0}else h(N);s.forEach(A=>{A(l.value,O,{delta:j,type:Co.pop,direction:j?j>0?ko.forward:ko.back:ko.unknown})})};function v(){g=l.value}function x(I){s.push(I);const N=()=>{const O=s.indexOf(I);O>-1&&s.splice(O,1)};return c.push(N),N}function E(){const{history:I}=window;I.state&&I.replaceState(ce({},I.state,{scroll:uu()}),"")}function k(){for(const I of c)I();c=[],window.removeEventListener("popstate",_),window.removeEventListener("beforeunload",E)}return window.addEventListener("popstate",_),window.addEventListener("beforeunload",E,{passive:!0}),{pauseListeners:v,listen:x,destroy:k}}function Xc(t,r,l,h=!1,s=!1){return{back:t,current:r,forward:l,replaced:h,position:window.history.length,scroll:s?uu():null}}function Rp(t){const{history:r,location:l}=window,h={value:xd(t,l)},s={value:r.state};s.value||c(h.value,{back:null,current:h.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function c(v,x,E){const k=t.indexOf("#"),I=k>-1?(l.host&&document.querySelector("base")?t:t.slice(k))+v:Mp()+t+v;try{r[E?"replaceState":"pushState"](x,"",I),s.value=x}catch(N){console.error(N),l[E?"replace":"assign"](I)}}function g(v,x){const E=ce({},r.state,Xc(s.value.back,v,s.value.forward,!0),x,{position:s.value.position});c(v,E,!0),h.value=v}function _(v,x){const E=ce({},s.value,r.state,{forward:v,scroll:uu()});c(E.current,E,!0);const k=ce({},Xc(h.value,v,null),{position:E.position+1},x);c(v,k,!1),h.value=v}return{location:h,state:s,push:_,replace:g}}function Ap(t){t=bp(t);const r=Rp(t),l=Op(t,r.state,r.location,r.replace);function h(c,g=!0){g||l.pauseListeners(),history.go(c)}const s=ce({location:"",base:t,go:h,createHref:Ip.bind(null,t)},r,l);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>r.state.value}),s}function Dp(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ap(t)}function Fp(t){return typeof t=="string"||t&&typeof t=="object"}function wd(t){return typeof t=="string"||typeof t=="symbol"}const bd=Symbol("");var jc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(jc||(jc={}));function Ls(t,r){return ce(new Error,{type:t,[bd]:!0},r)}function Ti(t,r){return t instanceof Error&&bd in t&&(r==null||!!(t.type&r))}const Kc="[^/]+?",zp={sensitive:!1,strict:!1,start:!0,end:!0},Bp=/[.+*?^${}()[\]/\\]/g;function Gp(t,r){const l=ce({},zp,r),h=[];let s=l.start?"^":"";const c=[];for(const x of t){const E=x.length?[]:[90];l.strict&&!x.length&&(s+="/");for(let k=0;k<x.length;k++){const I=x[k];let N=40+(l.sensitive?.25:0);if(I.type===0)k||(s+="/"),s+=I.value.replace(Bp,"\\$&"),N+=40;else if(I.type===1){const{value:O,repeatable:Z,optional:j,regexp:A}=I;c.push({name:O,repeatable:Z,optional:j});const z=A||Kc;if(z!==Kc){N+=10;try{new RegExp(`(${z})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${O}" (${z}): `+B.message)}}let G=Z?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;k||(G=j&&x.length<2?`(?:/${G})`:"/"+G),j&&(G+="?"),s+=G,N+=20,j&&(N+=-8),Z&&(N+=-20),z===".*"&&(N+=-50)}E.push(N)}h.push(E)}if(l.strict&&l.end){const x=h.length-1;h[x][h[x].length-1]+=.7000000000000001}l.strict||(s+="/?"),l.end?s+="$":l.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const g=new RegExp(s,l.sensitive?"":"i");function _(x){const E=x.match(g),k={};if(!E)return null;for(let I=1;I<E.length;I++){const N=E[I]||"",O=c[I-1];k[O.name]=N&&O.repeatable?N.split("/"):N}return k}function v(x){let E="",k=!1;for(const I of t){(!k||!E.endsWith("/"))&&(E+="/"),k=!1;for(const N of I)if(N.type===0)E+=N.value;else if(N.type===1){const{value:O,repeatable:Z,optional:j}=N,A=O in x?x[O]:"";if(Jn(A)&&!Z)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const z=Jn(A)?A.join("/"):A;if(!z)if(j)I.length<2&&(E.endsWith("/")?E=E.slice(0,-1):k=!0);else throw new Error(`Missing required param "${O}"`);E+=z}}return E||"/"}return{re:g,score:h,keys:c,parse:_,stringify:v}}function Up(t,r){let l=0;for(;l<t.length&&l<r.length;){const h=r[l]-t[l];if(h)return h;l++}return t.length<r.length?t.length===1&&t[0]===80?-1:1:t.length>r.length?r.length===1&&r[0]===80?1:-1:0}function Td(t,r){let l=0;const h=t.score,s=r.score;for(;l<h.length&&l<s.length;){const c=Up(h[l],s[l]);if(c)return c;l++}if(Math.abs(s.length-h.length)===1){if(Jc(h))return 1;if(Jc(s))return-1}return s.length-h.length}function Jc(t){const r=t[t.length-1];return t.length>0&&r[r.length-1]<0}const Hp={type:0,value:""},Zp=/[a-zA-Z0-9_]/;function qp(t){if(!t)return[[]];if(t==="/")return[[Hp]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function r(N){throw new Error(`ERR (${l})/"${x}": ${N}`)}let l=0,h=l;const s=[];let c;function g(){c&&s.push(c),c=[]}let _=0,v,x="",E="";function k(){x&&(l===0?c.push({type:0,value:x}):l===1||l===2||l===3?(c.length>1&&(v==="*"||v==="+")&&r(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:x,regexp:E,repeatable:v==="*"||v==="+",optional:v==="*"||v==="?"})):r("Invalid state to consume buffer"),x="")}function I(){x+=v}for(;_<t.length;){if(v=t[_++],v==="\\"&&l!==2){h=l,l=4;continue}switch(l){case 0:v==="/"?(x&&k(),g()):v===":"?(k(),l=1):I();break;case 4:I(),l=h;break;case 1:v==="("?l=2:Zp.test(v)?I():(k(),l=0,v!=="*"&&v!=="?"&&v!=="+"&&_--);break;case 2:v===")"?E[E.length-1]=="\\"?E=E.slice(0,-1)+v:l=3:E+=v;break;case 3:k(),l=0,v!=="*"&&v!=="?"&&v!=="+"&&_--,E="";break;default:r("Unknown state");break}}return l===2&&r(`Unfinished custom RegExp for param "${x}"`),k(),g(),s}function Yp(t,r,l){const h=Gp(qp(t.path),l),s=ce(h,{record:t,parent:r,children:[],alias:[]});return r&&!s.record.aliasOf==!r.record.aliasOf&&r.children.push(s),s}function Vp(t,r){const l=[],h=new Map;r=nh({strict:!1,end:!0,sensitive:!1},r);function s(k){return h.get(k)}function c(k,I,N){const O=!N,Z=th(k);Z.aliasOf=N&&N.record;const j=nh(r,k),A=[Z];if("alias"in k){const B=typeof k.alias=="string"?[k.alias]:k.alias;for(const X of B)A.push(th(ce({},Z,{components:N?N.record.components:Z.components,path:X,aliasOf:N?N.record:Z})))}let z,G;for(const B of A){const{path:X}=B;if(I&&X[0]!=="/"){const W=I.record.path,Y=W[W.length-1]==="/"?"":"/";B.path=I.record.path+(X&&Y+X)}if(z=Yp(B,I,j),N?N.alias.push(z):(G=G||z,G!==z&&G.alias.push(z),O&&k.name&&!eh(z)&&g(k.name)),Id(z)&&v(z),Z.children){const W=Z.children;for(let Y=0;Y<W.length;Y++)c(W[Y],z,N&&N.children[Y])}N=N||z}return G?()=>{g(G)}:Eo}function g(k){if(wd(k)){const I=h.get(k);I&&(h.delete(k),l.splice(l.indexOf(I),1),I.children.forEach(g),I.alias.forEach(g))}else{const I=l.indexOf(k);I>-1&&(l.splice(I,1),k.record.name&&h.delete(k.record.name),k.children.forEach(g),k.alias.forEach(g))}}function _(){return l}function v(k){const I=Xp(k,l);l.splice(I,0,k),k.record.name&&!eh(k)&&h.set(k.record.name,k)}function x(k,I){let N,O={},Z,j;if("name"in k&&k.name){if(N=h.get(k.name),!N)throw Ls(1,{location:k});j=N.record.name,O=ce(Qc(I.params,N.keys.filter(G=>!G.optional).concat(N.parent?N.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),k.params&&Qc(k.params,N.keys.map(G=>G.name))),Z=N.stringify(O)}else if(k.path!=null)Z=k.path,N=l.find(G=>G.re.test(Z)),N&&(O=N.parse(Z),j=N.record.name);else{if(N=I.name?h.get(I.name):l.find(G=>G.re.test(I.path)),!N)throw Ls(1,{location:k,currentLocation:I});j=N.record.name,O=ce({},I.params,k.params),Z=N.stringify(O)}const A=[];let z=N;for(;z;)A.unshift(z.record),z=z.parent;return{name:j,path:Z,params:O,matched:A,meta:$p(A)}}t.forEach(k=>c(k));function E(){l.length=0,h.clear()}return{addRoute:c,resolve:x,removeRoute:g,clearRoutes:E,getRoutes:_,getRecordMatcher:s}}function Qc(t,r){const l={};for(const h of r)h in t&&(l[h]=t[h]);return l}function th(t){const r={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Wp(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(r,"mods",{value:{}}),r}function Wp(t){const r={},l=t.props||!1;if("component"in t)r.default=l;else for(const h in t.components)r[h]=typeof l=="object"?l[h]:l;return r}function eh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $p(t){return t.reduce((r,l)=>ce(r,l.meta),{})}function nh(t,r){const l={};for(const h in t)l[h]=h in r?r[h]:t[h];return l}function Xp(t,r){let l=0,h=r.length;for(;l!==h;){const c=l+h>>1;Td(t,r[c])<0?h=c:l=c+1}const s=jp(t);return s&&(h=r.lastIndexOf(s,h-1)),h}function jp(t){let r=t;for(;r=r.parent;)if(Id(r)&&Td(t,r)===0)return r}function Id({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Kp(t){const r={};if(t===""||t==="?")return r;const h=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<h.length;++s){const c=h[s].replace(vd," "),g=c.indexOf("="),_=Po(g<0?c:c.slice(0,g)),v=g<0?null:Po(c.slice(g+1));if(_ in r){let x=r[_];Jn(x)||(x=r[_]=[x]),x.push(v)}else r[_]=v}return r}function ih(t){let r="";for(let l in t){const h=t[l];if(l=mp(l),h==null){h!==void 0&&(r+=(r.length?"&":"")+l);continue}(Jn(h)?h.map(c=>c&&ol(c)):[h&&ol(h)]).forEach(c=>{c!==void 0&&(r+=(r.length?"&":"")+l,c!=null&&(r+="="+c))})}return r}function Jp(t){const r={};for(const l in t){const h=t[l];h!==void 0&&(r[l]=Jn(h)?h.map(s=>s==null?null:""+s):h==null?h:""+h)}return r}const Qp=Symbol(""),rh=Symbol(""),Zl=Symbol(""),ql=Symbol(""),ul=Symbol("");function oo(){let t=[];function r(h){return t.push(h),()=>{const s=t.indexOf(h);s>-1&&t.splice(s,1)}}function l(){t=[]}return{add:r,list:()=>t.slice(),reset:l}}function Ji(t,r,l,h,s,c=g=>g()){const g=h&&(h.enterCallbacks[s]=h.enterCallbacks[s]||[]);return()=>new Promise((_,v)=>{const x=I=>{I===!1?v(Ls(4,{from:l,to:r})):I instanceof Error?v(I):Fp(I)?v(Ls(2,{from:r,to:I})):(g&&h.enterCallbacks[s]===g&&typeof I=="function"&&g.push(I),_())},E=c(()=>t.call(h&&h.instances[s],r,l,x));let k=Promise.resolve(E);t.length<3&&(k=k.then(x)),k.catch(I=>v(I))})}function Uu(t,r,l,h,s=c=>c()){const c=[];for(const g of t)for(const _ in g.components){let v=g.components[_];if(!(r!=="beforeRouteEnter"&&!g.instances[_]))if(md(v)){const E=(v.__vccOpts||v)[r];E&&c.push(Ji(E,l,h,g,_,s))}else{let x=v();c.push(()=>x.then(E=>{if(!E)throw new Error(`Couldn't resolve component "${_}" at "${g.path}"`);const k=sp(E)?E.default:E;g.mods[_]=E,g.components[_]=k;const N=(k.__vccOpts||k)[r];return N&&Ji(N,l,h,g,_,s)()}))}}return c}function sh(t){const r=Kn(Zl),l=Kn(ql),h=fe(()=>{const v=tr(t.to);return r.resolve(v)}),s=fe(()=>{const{matched:v}=h.value,{length:x}=v,E=v[x-1],k=l.matched;if(!E||!k.length)return-1;const I=k.findIndex(ys.bind(null,E));if(I>-1)return I;const N=oh(v[x-2]);return x>1&&oh(E)===N&&k[k.length-1].path!==N?k.findIndex(ys.bind(null,v[x-2])):I}),c=fe(()=>s.value>-1&&rv(l.params,h.value.params)),g=fe(()=>s.value>-1&&s.value===l.matched.length-1&&kd(l.params,h.value.params));function _(v={}){if(iv(v)){const x=r[tr(t.replace)?"replace":"push"](tr(t.to)).catch(Eo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>x),x}return Promise.resolve()}return{route:h,href:fe(()=>h.value.href),isActive:c,isExactActive:g,navigate:_}}function tv(t){return t.length===1?t[0]:t}const ev=Is({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sh,setup(t,{slots:r}){const l=Fo(sh(t)),{options:h}=Kn(Zl),s=fe(()=>({[ah(t.activeClass,h.linkActiveClass,"router-link-active")]:l.isActive,[ah(t.exactActiveClass,h.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const c=r.default&&tv(r.default(l));return t.custom?c:au("a",{"aria-current":l.isExactActive?t.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:s.value},c)}}}),nv=ev;function iv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const r=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return t.preventDefault&&t.preventDefault(),!0}}function rv(t,r){for(const l in r){const h=r[l],s=t[l];if(typeof h=="string"){if(h!==s)return!1}else if(!Jn(s)||s.length!==h.length||h.some((c,g)=>c!==s[g]))return!1}return!0}function oh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ah=(t,r,l)=>t??r??l,sv=Is({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:r,slots:l}){const h=Kn(ul),s=fe(()=>t.route||h.value),c=Kn(rh,0),g=fe(()=>{let x=tr(c);const{matched:E}=s.value;let k;for(;(k=E[x])&&!k.components;)x++;return x}),_=fe(()=>s.value.matched[g.value]);Ea(rh,fe(()=>g.value+1)),Ea(Qp,_),Ea(ul,s);const v=Zt();return nn(()=>[v.value,_.value,t.name],([x,E,k],[I,N,O])=>{E&&(E.instances[k]=x,N&&N!==E&&x&&x===I&&(E.leaveGuards.size||(E.leaveGuards=N.leaveGuards),E.updateGuards.size||(E.updateGuards=N.updateGuards))),x&&E&&(!N||!ys(E,N)||!I)&&(E.enterCallbacks[k]||[]).forEach(Z=>Z(x))},{flush:"post"}),()=>{const x=s.value,E=t.name,k=_.value,I=k&&k.components[E];if(!I)return uh(l.default,{Component:I,route:x});const N=k.props[E],O=N?N===!0?x.params:typeof N=="function"?N(x):N:null,j=au(I,ce({},O,r,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(k.instances[E]=null)},ref:v}));return uh(l.default,{Component:j,route:x})||j}}});function uh(t,r){if(!t)return null;const l=t(r);return l.length===1?l[0]:l}const ov=sv;function av(t){const r=Vp(t.routes,t),l=t.parseQuery||Kp,h=t.stringifyQuery||ih,s=t.history,c=oo(),g=oo(),_=oo(),v=_s(Wi);let x=Wi;rs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=Bu.bind(null,it=>""+it),k=Bu.bind(null,vp),I=Bu.bind(null,Po);function N(it,F){let yt,gt;return wd(it)?(yt=r.getRecordMatcher(it),gt=F):gt=it,r.addRoute(gt,yt)}function O(it){const F=r.getRecordMatcher(it);F&&r.removeRoute(F)}function Z(){return r.getRoutes().map(it=>it.record)}function j(it){return!!r.getRecordMatcher(it)}function A(it,F){if(F=ce({},F||v.value),typeof it=="string"){const $=Gu(l,it,F.path),nt=r.resolve({path:$.path},F),ot=s.createHref($.fullPath);return ce($,nt,{params:I(nt.params),hash:Po($.hash),redirectedFrom:void 0,href:ot})}let yt;if(it.path!=null)yt=ce({},it,{path:Gu(l,it.path,F.path).path});else{const $=ce({},it.params);for(const nt in $)$[nt]==null&&delete $[nt];yt=ce({},it,{params:k($)}),F.params=k(F.params)}const gt=r.resolve(yt,F),_t=it.hash||"";gt.params=E(I(gt.params));const T=Ep(h,ce({},it,{hash:_p(_t),path:gt.path})),D=s.createHref(T);return ce({fullPath:T,hash:_t,query:h===ih?Jp(it.query):it.query||{}},gt,{redirectedFrom:void 0,href:D})}function z(it){return typeof it=="string"?Gu(l,it,v.value.path):ce({},it)}function G(it,F){if(x!==it)return Ls(8,{from:F,to:it})}function B(it){return Y(it)}function X(it){return B(ce(z(it),{replace:!0}))}function W(it){const F=it.matched[it.matched.length-1];if(F&&F.redirect){const{redirect:yt}=F;let gt=typeof yt=="function"?yt(it):yt;return typeof gt=="string"&&(gt=gt.includes("?")||gt.includes("#")?gt=z(gt):{path:gt},gt.params={}),ce({query:it.query,hash:it.hash,params:gt.path!=null?{}:it.params},gt)}}function Y(it,F){const yt=x=A(it),gt=v.value,_t=it.state,T=it.force,D=it.replace===!0,$=W(yt);if($)return Y(ce(z($),{state:typeof $=="object"?ce({},_t,$.state):_t,force:T,replace:D}),F||yt);const nt=yt;nt.redirectedFrom=F;let ot;return!T&&kp(h,gt,yt)&&(ot=Ls(16,{to:nt,from:gt}),Ft(gt,gt,!0,!1)),(ot?Promise.resolve(ot):Ot(nt,gt)).catch(rt=>Ti(rt)?Ti(rt,2)?rt:st(rt):ft(rt,nt,gt)).then(rt=>{if(rt){if(Ti(rt,2))return Y(ce({replace:D},z(rt.to),{state:typeof rt.to=="object"?ce({},_t,rt.to.state):_t,force:T}),F||nt)}else rt=Tt(nt,gt,!0,D,_t);return Pt(nt,gt,rt),rt})}function ht(it,F){const yt=G(it,F);return yt?Promise.reject(yt):Promise.resolve()}function ct(it){const F=kt.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(it):it()}function Ot(it,F){let yt;const[gt,_t,T]=uv(it,F);yt=Uu(gt.reverse(),"beforeRouteLeave",it,F);for(const $ of gt)$.leaveGuards.forEach(nt=>{yt.push(Ji(nt,it,F))});const D=ht.bind(null,it,F);return yt.push(D),Bt(yt).then(()=>{yt=[];for(const $ of c.list())yt.push(Ji($,it,F));return yt.push(D),Bt(yt)}).then(()=>{yt=Uu(_t,"beforeRouteUpdate",it,F);for(const $ of _t)$.updateGuards.forEach(nt=>{yt.push(Ji(nt,it,F))});return yt.push(D),Bt(yt)}).then(()=>{yt=[];for(const $ of T)if($.beforeEnter)if(Jn($.beforeEnter))for(const nt of $.beforeEnter)yt.push(Ji(nt,it,F));else yt.push(Ji($.beforeEnter,it,F));return yt.push(D),Bt(yt)}).then(()=>(it.matched.forEach($=>$.enterCallbacks={}),yt=Uu(T,"beforeRouteEnter",it,F,ct),yt.push(D),Bt(yt))).then(()=>{yt=[];for(const $ of g.list())yt.push(Ji($,it,F));return yt.push(D),Bt(yt)}).catch($=>Ti($,8)?$:Promise.reject($))}function Pt(it,F,yt){_.list().forEach(gt=>ct(()=>gt(it,F,yt)))}function Tt(it,F,yt,gt,_t){const T=G(it,F);if(T)return T;const D=F===Wi,$=rs?history.state:{};yt&&(gt||D?s.replace(it.fullPath,ce({scroll:D&&$&&$.scroll},_t)):s.push(it.fullPath,_t)),v.value=it,Ft(it,F,yt,D),st()}let jt;function dt(){jt||(jt=s.listen((it,F,yt)=>{if(!Yt.listening)return;const gt=A(it),_t=W(gt);if(_t){Y(ce(_t,{replace:!0,force:!0}),gt).catch(Eo);return}x=gt;const T=v.value;rs&&Cp($c(T.fullPath,yt.delta),uu()),Ot(gt,T).catch(D=>Ti(D,12)?D:Ti(D,2)?(Y(ce(z(D.to),{force:!0}),gt).then($=>{Ti($,20)&&!yt.delta&&yt.type===Co.pop&&s.go(-1,!1)}).catch(Eo),Promise.reject()):(yt.delta&&s.go(-yt.delta,!1),ft(D,gt,T))).then(D=>{D=D||Tt(gt,T,!1),D&&(yt.delta&&!Ti(D,8)?s.go(-yt.delta,!1):yt.type===Co.pop&&Ti(D,20)&&s.go(-1,!1)),Pt(gt,T,D)}).catch(Eo)}))}let Gt=oo(),It=oo(),Nt;function ft(it,F,yt){st(it);const gt=It.list();return gt.length?gt.forEach(_t=>_t(it,F,yt)):console.error(it),Promise.reject(it)}function Kt(){return Nt&&v.value!==Wi?Promise.resolve():new Promise((it,F)=>{Gt.add([it,F])})}function st(it){return Nt||(Nt=!it,dt(),Gt.list().forEach(([F,yt])=>it?yt(it):F()),Gt.reset()),it}function Ft(it,F,yt,gt){const{scrollBehavior:_t}=t;if(!rs||!_t)return Promise.resolve();const T=!yt&&Np($c(it.fullPath,0))||(gt||!yt)&&history.state&&history.state.scroll||null;return Al().then(()=>_t(it,F,T)).then(D=>D&&Pp(D)).catch(D=>ft(D,it,F))}const Ut=it=>s.go(it);let Qt;const kt=new Set,Yt={currentRoute:v,listening:!0,addRoute:N,removeRoute:O,clearRoutes:r.clearRoutes,hasRoute:j,getRoutes:Z,resolve:A,options:t,push:B,replace:X,go:Ut,back:()=>Ut(-1),forward:()=>Ut(1),beforeEach:c.add,beforeResolve:g.add,afterEach:_.add,onError:It.add,isReady:Kt,install(it){const F=this;it.component("RouterLink",nv),it.component("RouterView",ov),it.config.globalProperties.$router=F,Object.defineProperty(it.config.globalProperties,"$route",{enumerable:!0,get:()=>tr(v)}),rs&&!Qt&&v.value===Wi&&(Qt=!0,B(s.location).catch(_t=>{}));const yt={};for(const _t in Wi)Object.defineProperty(yt,_t,{get:()=>v.value[_t],enumerable:!0});it.provide(Zl,F),it.provide(ql,Af(yt)),it.provide(ul,v);const gt=it.unmount;kt.add(it),it.unmount=function(){kt.delete(it),kt.size<1&&(x=Wi,jt&&jt(),jt=null,v.value=Wi,Qt=!1,Nt=!1),gt()}}};function Bt(it){return it.reduce((F,yt)=>F.then(()=>ct(yt)),Promise.resolve())}return Yt}function uv(t,r){const l=[],h=[],s=[],c=Math.max(r.matched.length,t.matched.length);for(let g=0;g<c;g++){const _=r.matched[g];_&&(t.matched.find(x=>ys(x,_))?h.push(_):l.push(_));const v=t.matched[g];v&&(r.matched.find(x=>ys(x,v))||s.push(v))}return[l,h,s]}function Yl(t){return Kn(ql)}const lv={key:0},cv={class:"d-flex justify-content-center"},hv={class:"d-flex justify-content-center"},fv={class:"spinner-border",role:"status"},dv={class:"visually-hidden"},gv={__name:"Loading",props:{loadingStatus:Boolean},setup(t){const r=t;nn(r,()=>{l.value=r.loadingStatus});const l=Zt(r.loadingStatus!=null?r.loadingStatus:!1);return(h,s)=>l.value?(Ie(),ze("div",lv,[Et("div",cv,[Et("h3",null,we(h.$t("loading")),1)]),Et("div",hv,[Et("div",fv,[Et("span",dv,we(h.$t("loading")),1)])])])):il("",!0)}};function Sd(t,r={},l=null,h=null){let s=`https://api.gbif.org/v1/occurrence/search?geometry=${t}`;s+=l?`&limit=${l}`:"",s+=h?`&offset=${h}`:"";for(const[c,g]of Object.entries(r))s+=`&${c}=${g}`;return fetch(s).then(c=>c.json())}function _v(t){return Sd(t,{},1).then(r=>r.count)}function mv(t,r={},l={limit:300,maxPage:10}){return _v(t).then(async function(h){let s=Math.ceil(h/l.limit);s>l.maxPage&&(s=l.maxPage);let c=[];for(let _=0;_<s;_++){const v=_*l.limit;c.push(Sd(t,r,l.limit,v))}let g={};return await Promise.all(c).then(_=>{_.map(v=>v.results).forEach(v=>{v.forEach(x=>{let E=(g[x.species]||{}).occCount||0;g[x.species]={lat:x.decimalLatitude,lng:x.decimalLongitude,acceptedScientificName:x.acceptedScientificName,eventDate:x.eventDate,gbifID:x.gbifID,taxonKey:x.taxonKey,taxonId:x.taxonKey,occCount:E+1}})})}),g})}class pv{constructor(r){this.options=r}fetchOccurrence(r){throw new Error("Not implemented")}fetchMedia(r){throw new Error("Not implemented")}fetchTaxonInfo(r){throw new Error("Not implemented")}fetchTaxonStatus(r){throw new Error("Not implemented")}}const vv="https://api.gbif.org/v1";class yv extends pv{fetchOccurrence(r){let l=new URL(`${vv}/occurrence/search`);for(const[s,c]of Object.entries(r))l.searchParams.append(s,c);const h=l.toString();return fetch(h).then(s=>s.json())}fetchMedia(r){const l=`https://api.gbif.org/v1/species/${r}/media`;return fetch(l).then(h=>h.json()).then(function(h){let s=[];return Object.values(h.results).forEach(c=>{c.audience!=="biologists"&&s.push({url:c.identifier,licence:c.licence,source:c.source})}),s})}fetchTaxonInfo(r){const l=`https://api.gbif.org/v1/species/${r}`;return fetch(l).then(h=>h.json()).then(function(h){return{scientificName:h.scientificName,vernacularName:h.vernacularName,rank:h.rank,taxonKey:h.key}})}fetchTaxonStatus(r){const l=`https://api.gbif.org/v1/species/${r}/iucnRedListCategory`;return fetch(l).then(h=>h.json()).then(function(h){return{iucnRedListCategory:h.category,code:h.code}})}}var kn=63710088e-1,Pd={centimeters:kn*100,centimetres:kn*100,degrees:360/(2*Math.PI),feet:kn*3.28084,inches:kn*39.37,kilometers:kn/1e3,kilometres:kn/1e3,meters:kn,metres:kn,miles:kn/1609.344,millimeters:kn*1e3,millimetres:kn*1e3,nauticalmiles:kn/1852,radians:1,yards:kn*1.0936};function Cd(t,r,l={}){const h={type:"Feature"};return(l.id===0||l.id)&&(h.id=l.id),l.bbox&&(h.bbox=l.bbox),h.properties=r||{},h.geometry=t,h}function Lv(t,r,l={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!lh(t[0])||!lh(t[1]))throw new Error("coordinates must contain numbers");return Cd({type:"Point",coordinates:t},r,l)}function ll(t,r={}){const l={type:"FeatureCollection"};return r.id&&(l.id=r.id),r.bbox&&(l.bbox=r.bbox),l.features=t,l}function Ev(t,r="kilometers"){const l=Pd[r];if(!l)throw new Error(r+" units is invalid");return t*l}function kv(t,r="kilometers"){const l=Pd[r];if(!l)throw new Error(r+" units is invalid");return t/l}function lh(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Nd(t,r,l){if(t!==null)for(var h,s,c,g,_,v,x,E=0,k=0,I,N=t.type,O=N==="FeatureCollection",Z=N==="Feature",j=O?t.features.length:1,A=0;A<j;A++){x=O?t.features[A].geometry:Z?t.geometry:t,I=x?x.type==="GeometryCollection":!1,_=I?x.geometries.length:1;for(var z=0;z<_;z++){var G=0,B=0;if(g=I?x.geometries[z]:x,g!==null){v=g.coordinates;var X=g.type;switch(E=0,X){case null:break;case"Point":if(r(v,k,A,G,B)===!1)return!1;k++,G++;break;case"LineString":case"MultiPoint":for(h=0;h<v.length;h++){if(r(v[h],k,A,G,B)===!1)return!1;k++,X==="MultiPoint"&&G++}X==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(h=0;h<v.length;h++){for(s=0;s<v[h].length-E;s++){if(r(v[h][s],k,A,G,B)===!1)return!1;k++}X==="MultiLineString"&&G++,X==="Polygon"&&B++}X==="Polygon"&&G++;break;case"MultiPolygon":for(h=0;h<v.length;h++){for(B=0,s=0;s<v[h].length;s++){for(c=0;c<v[h][s].length-E;c++){if(r(v[h][s][c],k,A,G,B)===!1)return!1;k++}B++}G++}break;case"GeometryCollection":for(h=0;h<g.geometries.length;h++)if(Nd(g.geometries[h],r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ch(t,r){if(t.type==="Feature")r(t,0);else if(t.type==="FeatureCollection")for(var l=0;l<t.features.length&&r(t.features[l],l)!==!1;l++);}function Md(t,r){var l,h,s,c,g,_,v,x,E,k,I=0,N=t.type==="FeatureCollection",O=t.type==="Feature",Z=N?t.features.length:1;for(l=0;l<Z;l++){for(_=N?t.features[l].geometry:O?t.geometry:t,x=N?t.features[l].properties:O?t.properties:{},E=N?t.features[l].bbox:O?t.bbox:void 0,k=N?t.features[l].id:O?t.id:void 0,v=_?_.type==="GeometryCollection":!1,g=v?_.geometries.length:1,s=0;s<g;s++){if(c=v?_.geometries[s]:_,c===null){if(r(null,I,x,E,k)===!1)return!1;continue}switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(c,I,x,E,k)===!1)return!1;break}case"GeometryCollection":{for(h=0;h<c.geometries.length;h++)if(r(c.geometries[h],I,x,E,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function xv(t,r={}){if(t.bbox!=null&&r.recompute!==!0)return t.bbox;const l=[1/0,1/0,-1/0,-1/0];return Nd(t,h=>{l[0]>h[0]&&(l[0]=h[0]),l[1]>h[1]&&(l[1]=h[1]),l[2]<h[0]&&(l[2]=h[0]),l[3]<h[1]&&(l[3]=h[1])}),l}function Od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wv(t,r={}){const l=xv(t),h=(l[0]+l[2])/2,s=(l[1]+l[3])/2;return Lv([h,s],r.properties,r)}var wa={exports:{}},bv=wa.exports,hh;function Tv(){return hh||(hh=1,function(t,r){(function(l,h){t.exports=h()})(bv,function(){function l(a,e){(e==null||e>a.length)&&(e=a.length);for(var n=0,o=Array(e);n<e;n++)o[n]=a[n];return o}function h(a,e,n){return e=E(e),function(o,f){if(f&&(typeof f=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(o)}(a,I()?Reflect.construct(e,n||[],E(a).constructor):e.apply(a,n))}function s(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function c(a,e,n){if(I())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var f=new(a.bind.apply(a,o));return n&&N(f,n.prototype),f}function g(a,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,j(o.key),o)}}function _(a,e,n){return e&&g(a.prototype,e),n&&g(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function v(a,e){var n=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=A(a))||e){n&&(a=n);var o=0,f=function(){};return{s:f,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(S){throw S},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,y=!0,b=!1;return{s:function(){n=n.call(a)},n:function(){var S=n.next();return y=S.done,S},e:function(S){b=!0,m=S},f:function(){try{y||n.return==null||n.return()}finally{if(b)throw m}}}}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,e,n){var o=function(m,y){for(;!{}.hasOwnProperty.call(m,y)&&(m=E(m))!==null;);return m}(a,e);if(o){var f=Object.getOwnPropertyDescriptor(o,e);return f.get?f.get.call(arguments.length<3?a:n):f.value}},x.apply(null,arguments)}function E(a){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(a)}function k(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&N(a,e)}function I(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!a})()}function N(a,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},N(a,e)}function O(a,e,n,o){var f=x(E(1&o?a.prototype:a),e,n);return 2&o&&typeof f=="function"?function(m){return f.apply(n,m)}:f}function Z(a){return function(e){if(Array.isArray(e))return l(e)}(a)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(a)||A(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(a){var e=function(n,o){if(typeof n!="object"||!n)return n;var f=n[Symbol.toPrimitive];if(f!==void 0){var m=f.call(n,o);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(a,"string");return typeof e=="symbol"?e:e+""}function A(a,e){if(a){if(typeof a=="string")return l(a,e);var n={}.toString.call(a).slice(8,-1);return n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set"?Array.from(a):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(a,e):void 0}}function z(a){var e=typeof Map=="function"?new Map:void 0;return z=function(n){if(n===null||!function(f){try{return Function.toString.call(f).indexOf("[native code]")!==-1}catch{return typeof f=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return c(n,arguments,E(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),N(o,n)},z(a)}var G=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=a.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=a.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==a.JOIN_ROUND&&(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=a.CAP_ROUND,this._joinStyle=a.JOIN_ROUND,this._mitreLimit=a.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=a.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setQuadrantSegments(e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(o)}else if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3];this.setQuadrantSegments(f),this.setEndCapStyle(m),this.setJoinStyle(y),this.setMitreLimit(b)}}}},{key:"bufferDistanceError",value:function(e){var n=Math.PI/2/e;return 1-Math.cos(n/2)}}])}();G.CAP_ROUND=1,G.CAP_FLAT=2,G.CAP_SQUARE=3,G.JOIN_ROUND=1,G.JOIN_MITRE=2,G.JOIN_BEVEL=3,G.DEFAULT_QUADRANT_SEGMENTS=8,G.DEFAULT_MITRE_LIMIT=5,G.DEFAULT_SIMPLIFY_FACTOR=.01;var B=function(a){function e(n){var o;return s(this,e),(o=h(this,e,[n])).name=Object.keys({Exception:e})[0],o}return k(e,a),_(e,[{key:"toString",value:function(){return this.message}}])}(z(Error)),X=function(a){function e(n){var o;return s(this,e),(o=h(this,e,[n])).name=Object.keys({IllegalArgumentException:e})[0],o}return k(e,a),_(e)}(B),W=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a){}}])}();function Y(){}function ht(){}function ct(){}var Ot,Pt,Tt,jt,dt,Gt,It,Nt,ft=function(){return _(function a(){s(this,a)},null,[{key:"equalsWithTolerance",value:function(a,e,n){return Math.abs(a-e)<=n}}])}(),Kt=function(){return _(function a(e,n){s(this,a),this.low=n||0,this.high=e||0},null,[{key:"toBinaryString",value:function(a){var e,n="";for(e=2147483648;e>0;e>>>=1)n+=(a.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)n+=(a.low&e)===e?"1":"0";return n}}])}();function st(){}function Ft(){}st.NaN=NaN,st.isNaN=function(a){return Number.isNaN(a)},st.isInfinite=function(a){return!Number.isFinite(a)},st.MAX_VALUE=Number.MAX_VALUE,st.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,st.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(Gt=2146435072,It=new Float64Array(1),Nt=new Int32Array(It.buffer),st.doubleToLongBits=function(a){It[0]=a;var e=0|Nt[0],n=0|Nt[1];return(n&Gt)===Gt&&1048575&n&&e!==0&&(e=0,n=2146959360),new Kt(n,e)},st.longBitsToDouble=function(a){return Nt[0]=a.low,Nt[1]=a.high,It[0]}):(Ot=1023,Pt=Math.log2,Tt=Math.floor,jt=Math.pow,dt=function(){for(var a=53;a>0;a--){var e=jt(2,a)-1;if(Tt(Pt(e))+1===a)return e}return 0}(),st.doubleToLongBits=function(a){var e,n,o,f,m,y,b,S,M;if(a<0||1/a===Number.NEGATIVE_INFINITY?(y=1<<31,a=-a):y=0,a===0)return new Kt(S=y,M=0);if(a===1/0)return new Kt(S=2146435072|y,M=0);if(a!=a)return new Kt(S=2146959360,M=0);if(f=0,M=0,(e=Tt(a))>1)if(e<=dt)(f=Tt(Pt(e)))<=20?(M=0,S=e<<20-f&1048575):(M=e%(n=jt(2,o=f-20))<<32-o,S=e/n&1048575);else for(o=e,M=0;(o=Tt(n=o/2))!==0;)f++,M>>>=1,M|=(1&S)<<31,S>>>=1,n!==o&&(S|=524288);if(b=f+Ot,m=e===0,e=a-e,f<52&&e!==0)for(o=0;;){if((n=2*e)>=1?(e=n-1,m?(b--,m=!1):(o<<=1,o|=1,f++)):(e=n,m?--b==0&&(f++,m=!1):(o<<=1,f++)),f===20)S|=o,o=0;else if(f===52){M|=o;break}if(n===1){f<20?S|=o<<20-f:f<52&&(M|=o<<52-f);break}}return S|=b<<20,new Kt(S|=y,M)},st.longBitsToDouble=function(a){var e,n,o,f,m=a.high,y=a.low,b=m&1<<31?-1:1;for(o=((2146435072&m)>>20)-Ot,f=0,n=1<<19,e=1;e<=20;e++)m&n&&(f+=jt(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)y&n&&(f+=jt(2,-e)),n>>>=1;if(o===-1023){if(f===0)return 0*b;o=-1022}else{if(o===1024)return f===0?b/0:NaN;f+=1}return b*f*jt(2,o)});var Ut=function(a){function e(n){var o;return s(this,e),(o=h(this,e,[n])).name=Object.keys({RuntimeException:e})[0],o}return k(e,a),_(e)}(B),Qt=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,null,[{key:"constructor_",value:function(){if(arguments.length===0)Ut.constructor_.call(this);else if(arguments.length===1){var n=arguments[0];Ut.constructor_.call(this,n)}}}])}(Ut),kt=function(){function a(){s(this,a)}return _(a,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)a.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new Qt("Should never reach here"+(e!==null?": "+e:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var e=arguments[0];a.isTrue(e,null)}else if(arguments.length===2){var n=arguments[1];if(!arguments[0])throw n===null?new Qt:new Qt(n)}}},{key:"equals",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];a.equals(e,n,null)}else if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2];if(!f.equals(o))throw new Qt("Expected "+o+" but encountered "+f+(m!==null?": "+m:""))}}}])}(),Yt=new ArrayBuffer(8),Bt=new Float64Array(Yt),it=new Int32Array(Yt),F=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getM",value:function(){return st.NaN}},{key:"setOrdinate",value:function(e,n){switch(e){case a.X:this.x=n;break;case a.Y:this.y=n;break;case a.Z:this.setZ(n);break;default:throw new X("Invalid ordinate index: "+e)}}},{key:"equals2D",value:function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var n=arguments[0],o=arguments[1];return!!ft.equalsWithTolerance(this.x,n.x,o)&&!!ft.equalsWithTolerance(this.y,n.y,o)}}},{key:"setM",value:function(e){throw new X("Invalid ordinate index: "+a.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(e){switch(e){case a.X:return this.x;case a.Y:return this.y;case a.Z:return this.getZ()}throw new X("Invalid ordinate index: "+e)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||st.isNaN(this.getZ())&&st.isNaN(e.getZ()))}},{key:"equals",value:function(e){return e instanceof a&&this.equals2D(e)}},{key:"equalInZ",value:function(e,n){return ft.equalsWithTolerance(this.getZ(),e.getZ(),n)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var n=e;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return kt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var n=this.x-e.x,o=this.y-e.y,f=this.getZ()-e.getZ();return Math.sqrt(n*n+o*o+f*f)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var n=this.x-e.x,o=this.y-e.y;return Math.sqrt(n*n+o*o)}},{key:"hashCode",value:function(){var e=17;return e=37*(e=37*e+a.hashCode(this.x))+a.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[Y,ht,ct]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)a.constructor_.call(this,0,0);else if(arguments.length===1){var e=arguments[0];a.constructor_.call(this,e.x,e.y,e.getZ())}else if(arguments.length===2){var n=arguments[0],o=arguments[1];a.constructor_.call(this,n,o,a.NULL_ORDINATE)}else if(arguments.length===3){var f=arguments[0],m=arguments[1],y=arguments[2];this.x=f,this.y=m,this.z=y}}},{key:"hashCode",value:function(e){return Bt[0]=e,it[0]^it[1]}}])}(),yt=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"compare",value:function(e,n){var o=a.compare(e.x,n.x);if(o!==0)return o;var f=a.compare(e.y,n.y);return f!==0?f:this._dimensionsToTest<=2?0:a.compare(e.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[Ft]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)a.constructor_.call(this,2);else if(arguments.length===1){var e=arguments[0];if(e!==2&&e!==3)throw new X("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}},{key:"compare",value:function(e,n){return e<n?-1:e>n?1:st.isNaN(e)?st.isNaN(n)?0:-1:st.isNaN(n)?1:0}}])}();F.DimensionalComparator=yt,F.NULL_ORDINATE=st.NaN,F.X=0,F.Y=1,F.Z=2,F.M=3;var gt=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(e){if(!(e instanceof a))return!1;var n=e;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new a;var n=this._minx>e._minx?this._minx:e._minx,o=this._miny>e._miny?this._miny:e._miny;return new a(n,this._maxx<e._maxx?this._maxx:e._maxx,o,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof a){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&f>=this._miny&&f<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof F){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){if(arguments[0]instanceof F&&arguments[1]instanceof F){var o=arguments[0],f=arguments[1];return!this.isNull()&&!((o.x<f.x?o.x:f.x)>this._maxx)&&!((o.x>f.x?o.x:f.x)<this._minx)&&!((o.y<f.y?o.y:f.y)>this._maxy)&&!((o.y>f.y?o.y:f.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1];return!this.isNull()&&!(m>this._maxx||m<this._minx||y>this._maxy||y<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return Math.sqrt(e*e+n*n)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof a){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=f,this._maxy=f):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),f<this._miny&&(this._miny=f),f>this._maxy&&(this._maxy=f))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return e<n?e:n}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var n=e;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0}},{key:"translate",value:function(e,n){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+n,this.getMaxY()+n)}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return e>n?e:n}},{key:"expandBy",value:function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof F){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];return this.covers(o,f)}}},{key:"centre",value:function(){return this.isNull()?null:new F((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof a){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.init(o.x,f.x,o.y,f.y)}else if(arguments.length===4){var m=arguments[0],y=arguments[1],b=arguments[2],S=arguments[3];m<y?(this._minx=m,this._maxx=y):(this._minx=y,this._maxx=m),b<S?(this._miny=b,this._maxy=S):(this._miny=S,this._maxy=b)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var n=0;this._maxx<e._minx?n=e._minx-this._maxx:this._minx>e._maxx&&(n=this._minx-e._maxx);var o=0;return this._maxy<e._miny?o=e._miny-this._maxy:this._miny>e._maxy&&(o=this._miny-e._maxy),n===0?o:o===0?n:Math.sqrt(n*n+o*o)}},{key:"hashCode",value:function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+F.hashCode(this._minx))+F.hashCode(this._maxx))+F.hashCode(this._miny))+F.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[Y,ct]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof a){var n=arguments[0];this.init(n)}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.init(o.x,f.x,o.y,f.y)}else if(arguments.length===4){var m=arguments[0],y=arguments[1],b=arguments[2],S=arguments[3];this.init(m,y,b,S)}}},{key:"intersects",value:function(){if(arguments.length===3){var e=arguments[0],n=arguments[1],o=arguments[2];return o.x>=(e.x<n.x?e.x:n.x)&&o.x<=(e.x>n.x?e.x:n.x)&&o.y>=(e.y<n.y?e.y:n.y)&&o.y<=(e.y>n.y?e.y:n.y)}if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=Math.min(y.x,b.x),M=Math.max(y.x,b.x),q=Math.min(f.x,m.x),K=Math.max(f.x,m.x);return!(q>M)&&!(K<S)&&(S=Math.min(y.y,b.y),M=Math.max(y.y,b.y),q=Math.min(f.y,m.y),K=Math.max(f.y,m.y),!(q>M)&&!(K<S))}}}])}(),_t=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(a.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return e!==null&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(arguments.length===1){var n=arguments[0];return e=n,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n)}if(arguments.length===2){var o=arguments[0],f=arguments[1];return e=o,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(o,f)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(e){if(e.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION)throw new X("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,n,o){return o===0?e.equals(n):e.distance(n)<=o}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return this.envelope!=null&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=this._envelope==null?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new gt(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,n){for(var o=e.iterator(),f=n.iterator();o.hasNext()&&f.hasNext();){var m=o.next(),y=f.next(),b=m.compareTo(y);if(b!==0)return b}return o.hasNext()?1:f.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===a.TYPECODE_MULTIPOINT||this.getTypeCode()===a.TYPECODE_MULTILINESTRING||this.getTypeCode()===a.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[ht,Y,ct]}},{key:"getClass",value:function(){return a}}],[{key:"hasNonEmptyElements",value:function(e){for(var n=0;n<e.length;n++)if(!e[n].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var n=0;n<e.length;n++)if(e[n]===null)return!0;return!1}}])}();_t.constructor_=function(a){a&&(this._envelope=null,this._userData=null,this._factory=a,this._SRID=a.getSRID())},_t.TYPECODE_POINT=0,_t.TYPECODE_MULTIPOINT=1,_t.TYPECODE_LINESTRING=2,_t.TYPECODE_LINEARRING=3,_t.TYPECODE_MULTILINESTRING=4,_t.TYPECODE_POLYGON=5,_t.TYPECODE_MULTIPOLYGON=6,_t.TYPECODE_GEOMETRYCOLLECTION=7,_t.TYPENAME_POINT="Point",_t.TYPENAME_MULTIPOINT="MultiPoint",_t.TYPENAME_LINESTRING="LineString",_t.TYPENAME_LINEARRING="LinearRing",_t.TYPENAME_MULTILINESTRING="MultiLineString",_t.TYPENAME_POLYGON="Polygon",_t.TYPENAME_MULTIPOLYGON="MultiPolygon",_t.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",_t.geometryChangedFilter={get interfaces_(){return[W]},filter:function(a){a.geometryChangedAction()}};var T=function(){function a(){s(this,a)}return _(a,null,[{key:"toLocationSymbol",value:function(e){switch(e){case a.EXTERIOR:return"e";case a.BOUNDARY:return"b";case a.INTERIOR:return"i";case a.NONE:return"-"}throw new X("Unknown location value: "+e)}}])}();T.INTERIOR=0,T.BOUNDARY=1,T.EXTERIOR=2,T.NONE=-1;var D=function(){return _(function a(){s(this,a)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),$=function(a){function e(n){var o;return s(this,e),(o=h(this,e,[n])).name=Object.keys({NoSuchElementException:e})[0],o}return k(e,a),_(e)}(B),nt=function(a){function e(n){var o;return s(this,e),(o=h(this,e,[n])).name=Object.keys({UnsupportedOperationException:e})[0],o}return k(e,a),_(e)}(B),ot=function(a){function e(){return s(this,e),h(this,e,arguments)}return k(e,a),_(e,[{key:"contains",value:function(){}}])}(D),rt=function(a){function e(n){var o;return s(this,e),(o=h(this,e)).map=new Map,n instanceof D&&o.addAll(n),o}return k(e,a),_(e,[{key:"contains",value:function(n){var o=n.hashCode?n.hashCode():n;return!!this.map.has(o)}},{key:"add",value:function(n){var o=n.hashCode?n.hashCode():n;return!this.map.has(o)&&!!this.map.set(o,n)}},{key:"addAll",value:function(n){var o,f=v(n);try{for(f.s();!(o=f.n()).done;){var m=o.value;this.add(m)}}catch(y){f.e(y)}finally{f.f()}return!0}},{key:"remove",value:function(){throw new nt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new R(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(ot),R=function(){return _(function a(e){s(this,a),this.iterator=e.values();var n=this.iterator.next(),o=n.done,f=n.value;this.done=o,this.value=f},[{key:"next",value:function(){if(this.done)throw new $;var a=this.value,e=this.iterator.next(),n=e.done,o=e.value;return this.done=n,this.value=o,a}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new nt}}])}(),C=function(){function a(){s(this,a)}return _(a,null,[{key:"opposite",value:function(e){return e===a.LEFT?a.RIGHT:e===a.RIGHT?a.LEFT:e}}])}();C.ON=0,C.LEFT=1,C.RIGHT=2;var V=function(a){function e(n){var o;return s(this,e),(o=h(this,e,[n])).name=Object.keys({EmptyStackException:e})[0],o}return k(e,a),_(e)}(B),Q=function(a){function e(n){var o;return s(this,e),(o=h(this,e,[n])).name=Object.keys({IndexOutOfBoundsException:e})[0],o}return k(e,a),_(e)}(B),vt=function(a){function e(){return s(this,e),h(this,e,arguments)}return k(e,a),_(e,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(D),at=function(a){function e(){var n;return s(this,e),(n=h(this,e)).array=[],n}return k(e,a),_(e,[{key:"add",value:function(n){return this.array.push(n),!0}},{key:"get",value:function(n){if(n<0||n>=this.size())throw new Q;return this.array[n]}},{key:"push",value:function(n){return this.array.push(n),n}},{key:"pop",value:function(){if(this.array.length===0)throw new V;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new V;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(n){return this.array.indexOf(n)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(vt);function H(a,e){return a.interfaces_&&a.interfaces_.indexOf(e)>-1}var et=function(){return _(function a(e){s(this,a),this.str=e},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,e){this.str=this.str.substr(0,a)+e+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),xt=function(){function a(e){s(this,a),this.value=e}return _(a,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,n){return e<n?-1:e>n?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(e){return new a(e)}}])}(),zt=function(){return _(function a(){s(this,a)},null,[{key:"isWhitespace",value:function(a){return a<=32&&a>=0||a===127}},{key:"toUpperCase",value:function(a){return a.toUpperCase()}}])}(),mt=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(e,n){var o=this.abs(),f=a.magnitude(o._hi),m=a.TEN.pow(f);(o=o.divide(m)).gt(a.TEN)?(o=o.divide(a.TEN),f+=1):o.lt(a.ONE)&&(o=o.multiply(a.TEN),f-=1);for(var y=f+1,b=new et,S=a.MAX_PRINT_DIGITS-1,M=0;M<=S;M++){e&&M===y&&b.append(".");var q=Math.trunc(o._hi);if(q<0)break;var K=!1,ut=0;q>9?(K=!0,ut="9"):ut="0"+q,b.append(ut),o=o.subtract(a.valueOf(q)).multiply(a.TEN),K&&o.selfAdd(a.TEN);var Lt=!0,Ct=a.magnitude(o._hi);if(Ct<0&&Math.abs(Ct)>=S-M&&(Lt=!1),!Lt)break}return n[0]=f,b.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof a){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var o,f,m,y,b=arguments[0],S=arguments[1],M=null,q=null,K=null,ut=null;return m=this._hi/b,ut=(M=(K=a.SPLIT*m)-(M=K-m))*(q=(ut=a.SPLIT*b)-(q=ut-b))-(y=m*b)+M*(f=b-q)+(o=m-M)*q+o*f,ut=m+(K=(this._hi-y-ut+this._lo-m*S)/b),this._hi=ut,this._lo=m-ut+K,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof a){var e,n,o,f,m=arguments[0],y=null,b=null,S=null,M=null;return e=(o=this._hi/m._hi)-(y=(S=a.SPLIT*o)-(y=S-o)),M=y*(b=(M=a.SPLIT*m._hi)-(b=M-m._hi))-(f=o*m._hi)+y*(n=m._hi-b)+e*b+e*n,new a(M=o+(S=(this._hi-f-M+this._lo-o*m._lo)/m._hi),o-M+S)}if(typeof arguments[0]=="number"){var q=arguments[0];return st.isNaN(q)?a.createNaN():a.copy(this).selfDivide(q,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(e){if(e===0)return a.valueOf(1);var n=new a(this),o=a.valueOf(1),f=Math.abs(e);if(f>1)for(;f>0;)f%2==1&&o.selfMultiply(n),(f/=2)>0&&(n=n.sqr());else o=n;return e<0?o.reciprocal():o}},{key:"ceil",value:function(){if(this.isNaN())return a.NaN;var e=Math.ceil(this._hi),n=0;return e===this._hi&&(n=Math.ceil(this._lo)),new a(e,n)}},{key:"compareTo",value:function(e){var n=e;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return a.valueOf(0);if(this.isNegative())return a.NaN;var e=1/Math.sqrt(this._hi),n=this._hi*e,o=a.valueOf(n),f=this.subtract(o.sqr())._hi*(.5*e);return o.add(f)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n,o,f,m,y,b=arguments[0],S=null;return S=(f=this._hi+b)-(m=f-this._hi),o=(y=(S=b-m+(this._hi-S))+this._lo)+(f-(n=f+y)),this._hi=n+o,this._lo=o+(n-this._hi),this}}else if(arguments.length===2){var M,q,K,ut,Lt=arguments[0],Ct=arguments[1],Dt=null,ie=null,Jt=null;K=this._hi+Lt,q=this._lo+Ct,ie=K-(Jt=K-this._hi),Dt=q-(ut=q-this._lo);var _e=(M=K+(Jt=(ie=Lt-Jt+(this._hi-ie))+q))+(Jt=(Dt=Ct-ut+(this._lo-Dt))+(Jt+(K-M))),Te=Jt+(M-_e);return this._hi=_e,this._lo=Te,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var o,f,m=arguments[0],y=arguments[1],b=null,S=null,M=null,q=null;b=(M=a.SPLIT*this._hi)-this._hi,q=a.SPLIT*m,b=M-b,o=this._hi-b,S=q-m;var K=(M=this._hi*m)+(q=b*(S=q-S)-M+b*(f=m-S)+o*S+o*f+(this._hi*y+this._lo*m)),ut=q+(b=M-K);return this._hi=K,this._lo=ut,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return a.NaN;var e=Math.floor(this._hi),n=0;return e===this._hi&&(n=Math.floor(this._lo)),new a(e,n)}},{key:"negate",value:function(){return this.isNaN()?this:new a(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}}},{key:"multiply",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return e.isNaN()?a.createNaN():a.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var n=arguments[0];return st.isNaN(n)?a.createNaN():a.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return st.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var e=a.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var e=this.getSpecialNumberString();if(e!==null)return e;var n=new Array(1).fill(null),o=this.extractSignificantDigits(!0,n),f=n[0]+1,m=o;if(o.charAt(0)===".")m="0"+o;else if(f<0)m="0."+a.stringOfChar("0",-f)+o;else if(o.indexOf(".")===-1){var y=f-o.length;m=o+a.stringOfChar("0",y)+".0"}return this.isNegative()?"-"+m:m}},{key:"reciprocal",value:function(){var e,n,o,f,m=null,y=null,b=null,S=null;e=(o=1/this._hi)-(m=(b=a.SPLIT*o)-(m=b-o)),y=(S=a.SPLIT*this._hi)-this._hi;var M=o+(b=(1-(f=o*this._hi)-(S=m*(y=S-y)-f+m*(n=this._hi-y)+e*y+e*n)-o*this._lo)/this._hi);return new a(M,o-M+b)}},{key:"toSciNotation",value:function(){if(this.isZero())return a.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var n=new Array(1).fill(null),o=this.extractSignificantDigits(!1,n),f=a.SCI_NOT_EXPONENT_CHAR+n[0];if(o.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+o);var m="";o.length>1&&(m=o.substring(1));var y=o.charAt(0)+"."+m;return this.isNegative()?"-"+y+f:y+f}},{key:"abs",value:function(){return this.isNaN()?a.NaN:this.isNegative()?this.negate():new a(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return a.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var n=arguments[0];return a.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof a){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this._hi=o,this._lo=f}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?a.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[ct,Y,ht]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof a){var n=arguments[0];this.init(n)}else if(typeof arguments[0]=="string"){var o=arguments[0];a.constructor_.call(this,a.parse(o))}}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this.init(f,m)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1],o=arguments[2],f=arguments[3];return a.determinant(a.valueOf(e),a.valueOf(n),a.valueOf(o),a.valueOf(f))}if(arguments[3]instanceof a&&arguments[2]instanceof a&&arguments[0]instanceof a&&arguments[1]instanceof a){var m=arguments[1],y=arguments[2],b=arguments[3];return arguments[0].multiply(b).selfSubtract(m.multiply(y))}}},{key:"sqr",value:function(e){return a.valueOf(e).selfMultiply(e)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var e=arguments[0];return a.parse(e)}if(typeof arguments[0]=="number")return new a(arguments[0])}},{key:"sqrt",value:function(e){return a.valueOf(e).sqrt()}},{key:"parse",value:function(e){for(var n=0,o=e.length;zt.isWhitespace(e.charAt(n));)n++;var f=!1;if(n<o){var m=e.charAt(n);m!=="-"&&m!=="+"||(n++,m==="-"&&(f=!0))}for(var y=new a,b=0,S=0,M=0,q=!1;!(n>=o);){var K=e.charAt(n);if(n++,zt.isDigit(K)){var ut=K-"0";y.selfMultiply(a.TEN),y.selfAdd(ut),b++}else{if(K!=="."){if(K==="e"||K==="E"){var Lt=e.substring(n);try{M=xt.parseInt(Lt)}catch(_e){throw _e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Lt+" in string "+e):_e}break}throw new NumberFormatException("Unexpected character '"+K+"' at position "+n+" in string "+e)}S=b,q=!0}}var Ct=y;q||(S=b);var Dt=b-S-M;if(Dt===0)Ct=y;else if(Dt>0){var ie=a.TEN.pow(Dt);Ct=y.divide(ie)}else if(Dt<0){var Jt=a.TEN.pow(-Dt);Ct=y.multiply(Jt)}return f?Ct.negate():Ct}},{key:"createNaN",value:function(){return new a(st.NaN,st.NaN)}},{key:"copy",value:function(e){return new a(e)}},{key:"magnitude",value:function(e){var n=Math.abs(e),o=Math.log(n)/Math.log(10),f=Math.trunc(Math.floor(o));return 10*Math.pow(10,f)<=n&&(f+=1),f}},{key:"stringOfChar",value:function(e,n){for(var o=new et,f=0;f<n;f++)o.append(e);return o.toString()}}])}();mt.PI=new mt(3.141592653589793,12246467991473532e-32),mt.TWO_PI=new mt(6.283185307179586,24492935982947064e-32),mt.PI_2=new mt(1.5707963267948966,6123233995736766e-32),mt.E=new mt(2.718281828459045,14456468917292502e-32),mt.NaN=new mt(st.NaN,st.NaN),mt.EPS=123259516440783e-46,mt.SPLIT=134217729,mt.MAX_PRINT_DIGITS=32,mt.TEN=mt.valueOf(10),mt.ONE=mt.valueOf(1),mt.SCI_NOT_EXPONENT_CHAR="E",mt.SCI_NOT_ZERO="0.0E0";var be=function(){function a(){s(this,a)}return _(a,null,[{key:"orientationIndex",value:function(e,n,o){var f=a.orientationIndexFilter(e,n,o);if(f<=1)return f;var m=mt.valueOf(n.x).selfAdd(-e.x),y=mt.valueOf(n.y).selfAdd(-e.y),b=mt.valueOf(o.x).selfAdd(-n.x),S=mt.valueOf(o.y).selfAdd(-n.y);return m.selfMultiply(S).selfSubtract(y.selfMultiply(b)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof mt&&arguments[2]instanceof mt&&arguments[0]instanceof mt&&arguments[1]instanceof mt){var e=arguments[1],n=arguments[2],o=arguments[3];return arguments[0].multiply(o).selfSubtract(e.multiply(n)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=mt.valueOf(f),M=mt.valueOf(m),q=mt.valueOf(y),K=mt.valueOf(b);return S.multiply(K).selfSubtract(M.multiply(q)).signum()}}},{key:"intersection",value:function(e,n,o,f){var m=new mt(e.y).selfSubtract(n.y),y=new mt(n.x).selfSubtract(e.x),b=new mt(e.x).selfMultiply(n.y).selfSubtract(new mt(n.x).selfMultiply(e.y)),S=new mt(o.y).selfSubtract(f.y),M=new mt(f.x).selfSubtract(o.x),q=new mt(o.x).selfMultiply(f.y).selfSubtract(new mt(f.x).selfMultiply(o.y)),K=y.multiply(q).selfSubtract(M.multiply(b)),ut=S.multiply(b).selfSubtract(m.multiply(q)),Lt=m.multiply(M).selfSubtract(S.multiply(y)),Ct=K.selfDivide(Lt).doubleValue(),Dt=ut.selfDivide(Lt).doubleValue();return st.isNaN(Ct)||st.isInfinite(Ct)||st.isNaN(Dt)||st.isInfinite(Dt)?null:new F(Ct,Dt)}},{key:"orientationIndexFilter",value:function(e,n,o){var f=null,m=(e.x-o.x)*(n.y-o.y),y=(e.y-o.y)*(n.x-o.x),b=m-y;if(m>0){if(y<=0)return a.signum(b);f=m+y}else{if(!(m<0)||y>=0)return a.signum(b);f=-m-y}var S=a.DP_SAFE_EPSILON*f;return b>=S||-b>=S?a.signum(b):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}])}();be.DP_SAFE_EPSILON=1e-15;var Rt=function(){return _(function a(){s(this,a)},[{key:"getM",value:function(a){if(this.hasM()){var e=this.getDimension()-this.getMeasures();return this.getOrdinate(a,e)}return st.NaN}},{key:"setOrdinate",value:function(a,e,n){}},{key:"getZ",value:function(a){return this.hasZ()?this.getOrdinate(a,2):st.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(a,e){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(a){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(a){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(a){}},{key:"copy",value:function(){}},{key:"getY",value:function(a){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[ht]}}])}();Rt.X=0,Rt.Y=1,Rt.Z=2,Rt.M=3;var Mt=function(){function a(){s(this,a)}return _(a,null,[{key:"index",value:function(e,n,o){return be.orientationIndex(e,n,o)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],n=e.length-1;if(n<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=e[0],f=0,m=1;m<=n;m++){var y=e[m];y.y>o.y&&(o=y,f=m)}var b=f;do(b-=1)<0&&(b=n);while(e[b].equals2D(o)&&b!==f);var S=f;do S=(S+1)%n;while(e[S].equals2D(o)&&S!==f);var M=e[b],q=e[S];if(M.equals2D(o)||q.equals2D(o)||M.equals2D(q))return!1;var K=a.index(M,o,q);return K===0?M.x>q.x:K>0}if(H(arguments[0],Rt)){var ut=arguments[0],Lt=ut.size()-1;if(Lt<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var Ct=ut.getCoordinate(0),Dt=0,ie=1;ie<=Lt;ie++){var Jt=ut.getCoordinate(ie);Jt.y>Ct.y&&(Ct=Jt,Dt=ie)}var _e=null,Te=Dt;do(Te-=1)<0&&(Te=Lt),_e=ut.getCoordinate(Te);while(_e.equals2D(Ct)&&Te!==Dt);var Ue=null,ai=Dt;do ai=(ai+1)%Lt,Ue=ut.getCoordinate(ai);while(Ue.equals2D(Ct)&&ai!==Dt);if(_e.equals2D(Ct)||Ue.equals2D(Ct)||_e.equals2D(Ue))return!1;var Lr=a.index(_e,Ct,Ue);return Lr===0?_e.x>Ue.x:Lr>0}}}])}();Mt.CLOCKWISE=-1,Mt.RIGHT=Mt.CLOCKWISE,Mt.COUNTERCLOCKWISE=1,Mt.LEFT=Mt.COUNTERCLOCKWISE,Mt.COLLINEAR=0,Mt.STRAIGHT=Mt.COLLINEAR;var un=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(a,e){var n=this.getRightmostSideOfSegment(a,e);return n<0&&(n=this.getRightmostSideOfSegment(a,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var a=this._minDe.getEdge().getCoordinates();kt.isTrue(this._minIndex>0&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var e=a[this._minIndex-1],n=a[this._minIndex+1],o=Mt.index(this._minCoord,n,e),f=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&o===Mt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&o===Mt.CLOCKWISE)&&(f=!0),f&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(a,e){var n=a.getEdge().getCoordinates();if(e<0||e+1>=n.length||n[e].y===n[e+1].y)return-1;var o=C.LEFT;return n[e].y<n[e+1].y&&(o=C.RIGHT),o}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(a){for(var e=a.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(this._minCoord===null||e[n].x>this._minCoord.x)&&(this._minDe=a,this._minIndex=n,this._minCoord=e[n])}},{key:"findRightmostEdgeAtNode",value:function(){var a=this._minDe.getNode().getEdges();this._minDe=a.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(a){for(var e=a.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}kt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===C.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),qe=function(a){function e(n,o){var f;return s(this,e),(f=h(this,e,[o?n+" [ "+o+" ]":n])).pt=o?new F(o):void 0,f.name=Object.keys({TopologyException:e})[0],f}return k(e,a),_(e,[{key:"getCoordinate",value:function(){return this.pt}}])}(Ut),Ai=function(){return _(function a(){s(this,a),this.array=[]},[{key:"addLast",value:function(a){this.array.push(a)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),St=function(a){function e(n){var o;return s(this,e),(o=h(this,e)).array=[],n instanceof D&&o.addAll(n),o}return k(e,a),_(e,[{key:"interfaces_",get:function(){return[vt,D]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(n){return arguments.length===1?this.array.push(n):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(n){var o,f=v(n);try{for(f.s();!(o=f.n()).done;){var m=o.value;this.array.push(m)}}catch(y){f.e(y)}finally{f.f()}}},{key:"set",value:function(n,o){var f=this.array[n];return this.array[n]=o,f}},{key:"iterator",value:function(){return new vn(this)}},{key:"get",value:function(n){if(n<0||n>=this.size())throw new Q;return this.array[n]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(n){n?this.array.sort(function(o,f){return n.compare(o,f)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(n){for(var o=0,f=this.array.length;o<f;o++)if(this.array[o]===n)return!!this.array.splice(o,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(vt),vn=function(){return _(function a(e){s(this,a),this.arrayList=e,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new $;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(a){return this.arrayList.set(this.position-1,a)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),Qn=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(a){for(var e=null,n=a.getEdges().iterator();n.hasNext();){var o=n.next();if(o.isVisited()||o.getSym().isVisited()){e=o;break}}if(e===null)throw new qe("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(e);for(var f=a.getEdges().iterator();f.hasNext();){var m=f.next();m.setVisited(!0),this.copySymDepths(m)}}},{key:"computeDepth",value:function(a){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(C.RIGHT,a),this.copySymDepths(e),this.computeDepths(e)}},{key:"create",value:function(a){this.addReachable(a),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var e=a.next();e.getDepth(C.RIGHT)>=1&&e.getDepth(C.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}},{key:"computeDepths",value:function(a){var e=new rt,n=new Ai,o=a.getNode();for(n.addLast(o),e.add(o),a.setVisited(!0);!n.isEmpty();){var f=n.removeFirst();e.add(f),this.computeNodeDepth(f);for(var m=f.getEdges().iterator();m.hasNext();){var y=m.next().getSym();if(!y.isVisited()){var b=y.getNode();e.contains(b)||(n.addLast(b),e.add(b))}}}}},{key:"compareTo",value:function(a){var e=a;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var a=new gt,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),o=0;o<n.length-1;o++)a.expandToInclude(n[o]);this._env=a}return this._env}},{key:"addReachable",value:function(a){var e=new at;for(e.add(a);!e.empty();){var n=e.pop();this.add(n,e)}}},{key:"copySymDepths",value:function(a){var e=a.getSym();e.setDepth(C.LEFT,a.getDepth(C.RIGHT)),e.setDepth(C.RIGHT,a.getDepth(C.LEFT))}},{key:"add",value:function(a,e){a.setVisited(!0),this._nodes.add(a);for(var n=a.getEdges().iterator();n.hasNext();){var o=n.next();this._dirEdgeList.add(o);var f=o.getSym().getNode();f.isVisited()||e.push(f)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new St,this._nodes=new St,this._rightMostCoord=null,this._env=null,this._finder=new un}}])}(),Cs=function(){return _(function a(){s(this,a)},null,[{key:"intersection",value:function(a,e,n,o){var f=a.x<e.x?a.x:e.x,m=a.y<e.y?a.y:e.y,y=a.x>e.x?a.x:e.x,b=a.y>e.y?a.y:e.y,S=n.x<o.x?n.x:o.x,M=n.y<o.y?n.y:o.y,q=n.x>o.x?n.x:o.x,K=n.y>o.y?n.y:o.y,ut=((f>S?f:S)+(y<q?y:q))/2,Lt=((m>M?m:M)+(b<K?b:K))/2,Ct=a.x-ut,Dt=a.y-Lt,ie=e.x-ut,Jt=e.y-Lt,_e=n.x-ut,Te=n.y-Lt,Ue=o.x-ut,ai=o.y-Lt,Lr=Dt-Jt,Bn=ie-Ct,no=Ct*Jt-ie*Dt,io=Te-ai,Vi=Ue-_e,aa=_e*ai-Ue*Te,Er=Lr*Vi-io*Bn,wi=(Bn*aa-Vi*no)/Er,ts=(io*no-Lr*aa)/Er;return st.isNaN(wi)||st.isInfinite(wi)||st.isNaN(ts)||st.isInfinite(ts)?null:new F(wi+ut,ts+Lt)}}])}(),yn=function(){return _(function a(){s(this,a)},null,[{key:"arraycopy",value:function(a,e,n,o,f){for(var m=0,y=e;y<e+f;y++)n[o+m]=a[y],m++}},{key:"getProperty",value:function(a){return{"line.separator":`
`}[a]}}])}(),Di=function(){function a(){s(this,a)}return _(a,null,[{key:"log10",value:function(e){var n=Math.log(e);return st.isInfinite(n)||st.isNaN(n)?n:n/a.LOG_10}},{key:"min",value:function(e,n,o,f){var m=e;return n<m&&(m=n),o<m&&(m=o),f<m&&(m=f),m}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1],o=arguments[2];return e<n?n:e>o?o:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var f=arguments[0],m=arguments[1],y=arguments[2];return f<m?m:f>y?y:f}}},{key:"wrap",value:function(e,n){return e<0?n- -e%n:e%n}},{key:"max",value:function(){if(arguments.length===3){var e=arguments[1],n=arguments[2],o=arguments[0];return e>o&&(o=e),n>o&&(o=n),o}if(arguments.length===4){var f=arguments[1],m=arguments[2],y=arguments[3],b=arguments[0];return f>b&&(b=f),m>b&&(b=m),y>b&&(b=y),b}}},{key:"average",value:function(e,n){return(e+n)/2}}])}();Di.LOG_10=Math.log(10);var Tn=function(){function a(){s(this,a)}return _(a,null,[{key:"segmentToSegment",value:function(e,n,o,f){if(e.equals(n))return a.pointToSegment(e,o,f);if(o.equals(f))return a.pointToSegment(f,e,n);var m=!1;if(gt.intersects(e,n,o,f)){var y=(n.x-e.x)*(f.y-o.y)-(n.y-e.y)*(f.x-o.x);if(y===0)m=!0;else{var b=(e.y-o.y)*(f.x-o.x)-(e.x-o.x)*(f.y-o.y),S=((e.y-o.y)*(n.x-e.x)-(e.x-o.x)*(n.y-e.y))/y,M=b/y;(M<0||M>1||S<0||S>1)&&(m=!0)}}else m=!0;return m?Di.min(a.pointToSegment(e,o,f),a.pointToSegment(n,o,f),a.pointToSegment(o,e,n),a.pointToSegment(f,e,n)):0}},{key:"pointToSegment",value:function(e,n,o){if(n.x===o.x&&n.y===o.y)return e.distance(n);var f=(o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y),m=((e.x-n.x)*(o.x-n.x)+(e.y-n.y)*(o.y-n.y))/f;if(m<=0)return e.distance(n);if(m>=1)return e.distance(o);var y=((n.y-e.y)*(o.x-n.x)-(n.x-e.x)*(o.y-n.y))/f;return Math.abs(y)*Math.sqrt(f)}},{key:"pointToLinePerpendicular",value:function(e,n,o){var f=(o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y),m=((n.y-e.y)*(o.x-n.x)-(n.x-e.x)*(o.y-n.y))/f;return Math.abs(m)*Math.sqrt(f)}},{key:"pointToSegmentString",value:function(e,n){if(n.length===0)throw new X("Line array must contain at least one vertex");for(var o=e.distance(n[0]),f=0;f<n.length-1;f++){var m=a.pointToSegment(e,n[f],n[f+1]);m<o&&(o=m)}return o}}])}(),Ns=function(){return _(function a(){s(this,a)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||H(arguments[0],Rt);else if(arguments.length!==2){if(arguments.length===3){var a=arguments[0],e=arguments[1];return this.create(a,e)}}}}])}(),Or=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a){}}])}(),du=function(){return _(function a(){s(this,a)},null,[{key:"ofLine",value:function(a){var e=a.size();if(e<=1)return 0;var n=0,o=new F;a.getCoordinate(0,o);for(var f=o.x,m=o.y,y=1;y<e;y++){a.getCoordinate(y,o);var b=o.x,S=o.y,M=b-f,q=S-m;n+=Math.sqrt(M*M+q*q),f=b,m=S}return n}}])}(),Zo=_(function a(){s(this,a)}),pi=function(){function a(){s(this,a)}return _(a,null,[{key:"copyCoord",value:function(e,n,o,f){for(var m=Math.min(e.getDimension(),o.getDimension()),y=0;y<m;y++)o.setOrdinate(f,y,e.getOrdinate(n,y))}},{key:"isRing",value:function(e){var n=e.size();return n===0||!(n<=3)&&e.getOrdinate(0,Rt.X)===e.getOrdinate(n-1,Rt.X)&&e.getOrdinate(0,Rt.Y)===e.getOrdinate(n-1,Rt.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(H(arguments[0],Rt)&&Number.isInteger(arguments[1])){var e=arguments[0],n=arguments[1];a.scroll(e,n,a.isRing(e))}else if(H(arguments[0],Rt)&&arguments[1]instanceof F){var o=arguments[0],f=arguments[1],m=a.indexOf(f,o);if(m<=0)return null;a.scroll(o,m)}}else if(arguments.length===3){var y=arguments[0],b=arguments[1],S=arguments[2];if(b<=0)return null;for(var M=y.copy(),q=S?y.size()-1:y.size(),K=0;K<q;K++)for(var ut=0;ut<y.getDimension();ut++)y.setOrdinate(K,ut,M.getOrdinate((b+K)%q,ut));if(S)for(var Lt=0;Lt<y.getDimension();Lt++)y.setOrdinate(q,Lt,y.getOrdinate(0,Lt))}}},{key:"isEqual",value:function(e,n){var o=e.size();if(o!==n.size())return!1;for(var f=Math.min(e.getDimension(),n.getDimension()),m=0;m<o;m++)for(var y=0;y<f;y++){var b=e.getOrdinate(m,y),S=n.getOrdinate(m,y);if(e.getOrdinate(m,y)!==n.getOrdinate(m,y)&&(!st.isNaN(b)||!st.isNaN(S)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var e=arguments[0];return a.minCoordinateIndex(e,0,e.size()-1)}if(arguments.length===3){for(var n=arguments[0],o=arguments[2],f=-1,m=null,y=arguments[1];y<=o;y++){var b=n.getCoordinate(y);(m===null||m.compareTo(b)>0)&&(m=b,f=y)}return f}}},{key:"extend",value:function(e,n,o){var f=e.create(o,n.getDimension()),m=n.size();if(a.copy(n,0,f,0,m),m>0)for(var y=m;y<o;y++)a.copy(n,m-1,f,y,1);return f}},{key:"reverse",value:function(e){for(var n=e.size()-1,o=Math.trunc(n/2),f=0;f<=o;f++)a.swap(e,f,n-f)}},{key:"swap",value:function(e,n,o){if(n===o)return null;for(var f=0;f<e.getDimension();f++){var m=e.getOrdinate(n,f);e.setOrdinate(n,f,e.getOrdinate(o,f)),e.setOrdinate(o,f,m)}}},{key:"copy",value:function(e,n,o,f,m){for(var y=0;y<m;y++)a.copyCoord(e,n+y,o,f+y)}},{key:"ensureValidRing",value:function(e,n){var o=n.size();return o===0?n:o<=3?a.createClosedRing(e,n,4):n.getOrdinate(0,Rt.X)===n.getOrdinate(o-1,Rt.X)&&n.getOrdinate(0,Rt.Y)===n.getOrdinate(o-1,Rt.Y)?n:a.createClosedRing(e,n,o+1)}},{key:"indexOf",value:function(e,n){for(var o=0;o<n.size();o++)if(e.x===n.getOrdinate(o,Rt.X)&&e.y===n.getOrdinate(o,Rt.Y))return o;return-1}},{key:"createClosedRing",value:function(e,n,o){var f=e.create(o,n.getDimension()),m=n.size();a.copy(n,0,f,0,m);for(var y=m;y<o;y++)a.copy(n,0,f,y,1);return f}},{key:"minCoordinate",value:function(e){for(var n=null,o=0;o<e.size();o++){var f=e.getCoordinate(o);(n===null||n.compareTo(f)>0)&&(n=f)}return n}}])}(),pt=function(){function a(){s(this,a)}return _(a,null,[{key:"toDimensionSymbol",value:function(e){switch(e){case a.FALSE:return a.SYM_FALSE;case a.TRUE:return a.SYM_TRUE;case a.DONTCARE:return a.SYM_DONTCARE;case a.P:return a.SYM_P;case a.L:return a.SYM_L;case a.A:return a.SYM_A}throw new X("Unknown dimension value: "+e)}},{key:"toDimensionValue",value:function(e){switch(zt.toUpperCase(e)){case a.SYM_FALSE:return a.FALSE;case a.SYM_TRUE:return a.TRUE;case a.SYM_DONTCARE:return a.DONTCARE;case a.SYM_P:return a.P;case a.SYM_L:return a.L;case a.SYM_A:return a.A}throw new X("Unknown dimension symbol: "+e)}}])}();pt.P=0,pt.L=1,pt.A=2,pt.FALSE=-1,pt.TRUE=-2,pt.DONTCARE=-3,pt.SYM_FALSE="F",pt.SYM_TRUE="T",pt.SYM_DONTCARE="*",pt.SYM_P="0",pt.SYM_L="1",pt.SYM_A="2";var Rr=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a){}}])}(),Fi=function(){return _(function a(){s(this,a)},[{key:"filter",value:function(a,e){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),ar=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new gt:this._points.expandEnvelope(new gt)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new e(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];if(!this.isEquivalentClass(n))return!1;var f=n;if(this._points.size()!==f._points.size())return!1;for(var m=0;m<this._points.size();m++)if(!this.equal(this._points.getCoordinate(m),f._points.getCoordinate(m),o))return!1;return!0}return O(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var n=0;n<Math.trunc(this._points.size()/2);n++){var o=this._points.size()-1-n;if(!this._points.getCoordinate(n).equals(this._points.getCoordinate(o))){if(this._points.getCoordinate(n).compareTo(this._points.getCoordinate(o))>0){var f=this._points.copy();pi.reverse(f),this._points=f}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?pt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var n=this._points.copy();return pi.reverse(n),this.getFactory().createLineString(n)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return du.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var n=arguments[0],o=0,f=0;o<this._points.size()&&f<n._points.size();){var m=this._points.getCoordinate(o).compareTo(n._points.getCoordinate(f));if(m!==0)return m;o++,f++}return o<this._points.size()?1:f<n._points.size()?-1:0}if(arguments.length===2){var y=arguments[0];return arguments[1].compare(this._points,y._points)}}},{key:"apply",value:function(){if(H(arguments[0],Or))for(var n=arguments[0],o=0;o<this._points.size();o++)n.filter(this._points.getCoordinate(o));else if(H(arguments[0],Fi)){var f=arguments[0];if(this._points.size()===0)return null;for(var m=0;m<this._points.size()&&(f.filter(this._points,m),!f.isDone());m++);f.isGeometryChanged()&&this.geometryChanged()}else H(arguments[0],Rr)?arguments[0].filter(this):H(arguments[0],W)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new nt}},{key:"isEquivalentClass",value:function(n){return n instanceof e}},{key:"getCoordinateN",value:function(n){return this._points.getCoordinate(n)}},{key:"getGeometryType",value:function(){return _t.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(n){if(n===null&&(n=this.getFactory().getCoordinateSequenceFactory().create([])),n.size()===1)throw new X("Invalid number of points in LineString (found "+n.size()+" - must be 0 or >= 2)");this._points=n}},{key:"isCoordinate",value:function(n){for(var o=0;o<this._points.size();o++)if(this._points.getCoordinate(o).equals(n))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(n){return this.getFactory().createPoint(this._points.getCoordinate(n))}},{key:"interfaces_",get:function(){return[Zo]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var n=arguments[0],o=arguments[1];_t.constructor_.call(this,o),this.init(n)}}}}])}(_t),qo=_(function a(){s(this,a)}),Ms=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new gt;var n=new gt;return n.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),n}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new e(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&(!(!this.isEmpty()||!n.isEmpty())||this.isEmpty()===n.isEmpty()&&this.equal(n.getCoordinate(),this.getCoordinate(),o))}return O(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return pt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return _t.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var n=arguments[0];return this.getCoordinate().compareTo(n.getCoordinate())}if(arguments.length===2){var o=arguments[0];return arguments[1].compare(this._coordinates,o._coordinates)}}},{key:"apply",value:function(){if(H(arguments[0],Or)){var n=arguments[0];if(this.isEmpty())return null;n.filter(this.getCoordinate())}else if(H(arguments[0],Fi)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this._coordinates,0),o.isGeometryChanged()&&this.geometryChanged()}else H(arguments[0],Rr)?arguments[0].filter(this):H(arguments[0],W)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return _t.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(n){n===null&&(n=this.getFactory().getCoordinateSequenceFactory().create([])),kt.isTrue(n.size()<=1),this._coordinates=n}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[qo]}}],[{key:"constructor_",value:function(){this._coordinates=null;var n=arguments[0],o=arguments[1];_t.constructor_.call(this,o),this.init(n)}}])}(_t),Yo=function(){function a(){s(this,a)}return _(a,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(a.ofRingSigned(e))}if(H(arguments[0],Rt)){var n=arguments[0];return Math.abs(a.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var n=0,o=e[0].x,f=1;f<e.length-1;f++){var m=e[f].x-o,y=e[f+1].y;n+=m*(e[f-1].y-y)}return n/2}if(H(arguments[0],Rt)){var b=arguments[0],S=b.size();if(S<3)return 0;var M=new F,q=new F,K=new F;b.getCoordinate(0,q),b.getCoordinate(1,K);var ut=q.x;K.x-=ut;for(var Lt=0,Ct=1;Ct<S-1;Ct++)M.y=q.y,q.x=K.x,q.y=K.y,b.getCoordinate(Ct+1,K),K.x-=ut,Lt+=q.x*(M.y-K.y);return Lt/2}}}])}(),Ye=function(){return _(function a(){s(this,a)},null,[{key:"sort",value:function(){var a=arguments,e=arguments[0];if(arguments.length===1)e.sort(function(ut,Lt){return ut.compareTo(Lt)});else if(arguments.length===2)e.sort(function(ut,Lt){return a[1].compare(ut,Lt)});else if(arguments.length===3){var n=e.slice(arguments[1],arguments[2]);n.sort();var o=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));e.splice(0,e.length);var f,m=v(o);try{for(m.s();!(f=m.n()).done;){var y=f.value;e.push(y)}}catch(ut){m.e(ut)}finally{m.f()}}else if(arguments.length===4){var b=e.slice(arguments[1],arguments[2]);b.sort(function(ut,Lt){return a[3].compare(ut,Lt)});var S=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length));e.splice(0,e.length);var M,q=v(S);try{for(q.s();!(M=q.n()).done;){var K=M.value;e.push(K)}}catch(ut){q.e(ut)}finally{q.f()}}}},{key:"asList",value:function(a){var e,n=new St,o=v(a);try{for(o.s();!(e=o.n()).done;){var f=e.value;n.add(f)}}catch(m){o.e(m)}finally{o.f()}return n}},{key:"copyOf",value:function(a,e){return a.slice(0,e)}}])}(),At=_(function a(){s(this,a)}),ur=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var n=new Array(this.getNumPoints()).fill(null),o=-1,f=this._shell.getCoordinates(),m=0;m<f.length;m++)n[++o]=f[m];for(var y=0;y<this._holes.length;y++)for(var b=this._holes[y].getCoordinates(),S=0;S<b.length;S++)n[++o]=b[S];return n}},{key:"getArea",value:function(){var n=0;n+=Yo.ofRing(this._shell.getCoordinateSequence());for(var o=0;o<this._holes.length;o++)n-=Yo.ofRing(this._holes[o].getCoordinateSequence());return n}},{key:"copyInternal",value:function(){for(var n=this._shell.copy(),o=new Array(this._holes.length).fill(null),f=0;f<this._holes.length;f++)o[f]=this._holes[f].copy();return new e(n,o,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var n=this._shell.getCoordinateSequence(),o=this.getEnvelopeInternal(),f=0;f<5;f++){var m=n.getX(f);if(m!==o.getMinX()&&m!==o.getMaxX())return!1;var y=n.getY(f);if(y!==o.getMinY()&&y!==o.getMaxY())return!1}for(var b=n.getX(0),S=n.getY(0),M=1;M<=4;M++){var q=n.getX(M),K=n.getY(M);if(q!==b==(K!==S))return!1;b=q,S=K}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];if(!this.isEquivalentClass(n))return!1;var f=n,m=this._shell,y=f._shell;if(!m.equalsExact(y,o)||this._holes.length!==f._holes.length)return!1;for(var b=0;b<this._holes.length;b++)if(!this._holes[b].equalsExact(f._holes[b],o))return!1;return!0}return O(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var n=0;n<this._holes.length;n++)this._holes[n]=this.normalized(this._holes[n],!1);Ye.sort(this._holes)}else if(arguments.length===2){var o=arguments[0],f=arguments[1];if(o.isEmpty())return null;var m=o.getCoordinateSequence(),y=pi.minCoordinateIndex(m,0,m.size()-2);pi.scroll(m,y,!0),Mt.isCCW(m)===f&&pi.reverse(m)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var n=this.getExteriorRing().reverse(),o=new Array(this.getNumInteriorRing()).fill(null),f=0;f<o.length;f++)o[f]=this.getInteriorRingN(f).reverse();return this.getFactory().createPolygon(n,o)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var n=0;n+=this._shell.getLength();for(var o=0;o<this._holes.length;o++)n+=this._holes[o].getLength();return n}},{key:"getNumPoints",value:function(){for(var n=this._shell.getNumPoints(),o=0;o<this._holes.length;o++)n+=this._holes[o].getNumPoints();return n}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(n,o){var f=n.copy();return this.normalize(f,o),f}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var n=arguments[0],o=this._shell,f=n._shell;return o.compareToSameClass(f)}if(arguments.length===2){var m=arguments[1],y=arguments[0],b=this._shell,S=y._shell,M=b.compareToSameClass(S,m);if(M!==0)return M;for(var q=this.getNumInteriorRing(),K=y.getNumInteriorRing(),ut=0;ut<q&&ut<K;){var Lt=this.getInteriorRingN(ut),Ct=y.getInteriorRingN(ut),Dt=Lt.compareToSameClass(Ct,m);if(Dt!==0)return Dt;ut++}return ut<q?1:ut<K?-1:0}}},{key:"apply",value:function(){if(H(arguments[0],Or)){var n=arguments[0];this._shell.apply(n);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(n)}else if(H(arguments[0],Fi)){var f=arguments[0];if(this._shell.apply(f),!f.isDone())for(var m=0;m<this._holes.length&&(this._holes[m].apply(f),!f.isDone());m++);f.isGeometryChanged()&&this.geometryChanged()}else if(H(arguments[0],Rr))arguments[0].filter(this);else if(H(arguments[0],W)){var y=arguments[0];y.filter(this),this._shell.apply(y);for(var b=0;b<this._holes.length;b++)this._holes[b].apply(y)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var n=new Array(this._holes.length+1).fill(null);n[0]=this._shell;for(var o=0;o<this._holes.length;o++)n[o+1]=this._holes[o];return n.length<=1?this.getFactory().createLinearRing(n[0].getCoordinateSequence()):this.getFactory().createMultiLineString(n)}},{key:"getGeometryType",value:function(){return _t.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(n){return this._holes[n]}},{key:"interfaces_",get:function(){return[At]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var n=arguments[0],o=arguments[1],f=arguments[2];if(_t.constructor_.call(this,f),n===null&&(n=this.getFactory().createLinearRing()),o===null&&(o=[]),_t.hasNullElements(o))throw new X("holes must not contain null elements");if(n.isEmpty()&&_t.hasNonEmptyElements(o))throw new X("shell is empty but holes are not");this._shell=n,this._holes=o}}])}(_t),Vo=function(a){function e(){return s(this,e),h(this,e,arguments)}return k(e,a),_(e)}(ot),Os=function(a){function e(n){var o;return s(this,e),(o=h(this,e)).array=[],n instanceof D&&o.addAll(n),o}return k(e,a),_(e,[{key:"contains",value:function(n){var o,f=v(this.array);try{for(f.s();!(o=f.n()).done;)if(o.value.compareTo(n)===0)return!0}catch(m){f.e(m)}finally{f.f()}return!1}},{key:"add",value:function(n){if(this.contains(n))return!1;for(var o=0,f=this.array.length;o<f;o++)if(this.array[o].compareTo(n)===1)return!!this.array.splice(o,0,n);return this.array.push(n),!0}},{key:"addAll",value:function(n){var o,f=v(n);try{for(f.s();!(o=f.n()).done;){var m=o.value;this.add(m)}}catch(y){f.e(y)}finally{f.f()}return!0}},{key:"remove",value:function(){throw new nt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Wo(this.array)}}])}(Vo),Wo=function(){return _(function a(e){s(this,a),this.array=e,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new $;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new nt}}])}(),Ke=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeEnvelopeInternal",value:function(){for(var n=new gt,o=0;o<this._geometries.length;o++)n.expandToInclude(this._geometries[o].getEnvelopeInternal());return n}},{key:"getGeometryN",value:function(n){return this._geometries[n]}},{key:"getCoordinates",value:function(){for(var n=new Array(this.getNumPoints()).fill(null),o=-1,f=0;f<this._geometries.length;f++)for(var m=this._geometries[f].getCoordinates(),y=0;y<m.length;y++)n[++o]=m[y];return n}},{key:"getArea",value:function(){for(var n=0,o=0;o<this._geometries.length;o++)n+=this._geometries[o].getArea();return n}},{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];if(!this.isEquivalentClass(n))return!1;var f=n;if(this._geometries.length!==f._geometries.length)return!1;for(var m=0;m<this._geometries.length;m++)if(!this._geometries[m].equalsExact(f._geometries[m],o))return!1;return!0}return O(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var n=0;n<this._geometries.length;n++)this._geometries[n].normalize();Ye.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var n=pt.FALSE,o=0;o<this._geometries.length;o++)n=Math.max(n,this._geometries[o].getBoundaryDimension());return n}},{key:"reverseInternal",value:function(){for(var n=this._geometries.length,o=new St(n),f=0;f<n;f++)o.add(this._geometries[f].reverse());return this.getFactory().buildGeometry(o)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var n=pt.FALSE,o=0;o<this._geometries.length;o++)n=Math.max(n,this._geometries[o].getDimension());return n}},{key:"getLength",value:function(){for(var n=0,o=0;o<this._geometries.length;o++)n+=this._geometries[o].getLength();return n}},{key:"getNumPoints",value:function(){for(var n=0,o=0;o<this._geometries.length;o++)n+=this._geometries[o].getNumPoints();return n}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var n=arguments[0],o=new Os(Ye.asList(this._geometries)),f=new Os(Ye.asList(n._geometries));return this.compare(o,f)}if(arguments.length===2){for(var m=arguments[1],y=arguments[0],b=this.getNumGeometries(),S=y.getNumGeometries(),M=0;M<b&&M<S;){var q=this.getGeometryN(M),K=y.getGeometryN(M),ut=q.compareToSameClass(K,m);if(ut!==0)return ut;M++}return M<b?1:M<S?-1:0}}},{key:"apply",value:function(){if(H(arguments[0],Or))for(var n=arguments[0],o=0;o<this._geometries.length;o++)this._geometries[o].apply(n);else if(H(arguments[0],Fi)){var f=arguments[0];if(this._geometries.length===0)return null;for(var m=0;m<this._geometries.length&&(this._geometries[m].apply(f),!f.isDone());m++);f.isGeometryChanged()&&this.geometryChanged()}else if(H(arguments[0],Rr)){var y=arguments[0];y.filter(this);for(var b=0;b<this._geometries.length;b++)this._geometries[b].apply(y)}else if(H(arguments[0],W)){var S=arguments[0];S.filter(this);for(var M=0;M<this._geometries.length;M++)this._geometries[M].apply(S)}}},{key:"getBoundary",value:function(){return _t.checkNotGeometryCollection(this),kt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return _t.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var n=0;n<this._geometries.length;n++)if(!this._geometries[n].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var n=arguments[0],o=arguments[1];if(_t.constructor_.call(this,o),n===null&&(n=[]),_t.hasNullElements(n))throw new X("geometries must not contain null elements");this._geometries=n}}}}])}(_t),Ar=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&O(e,"equalsExact",this,1).call(this,n,o)}return O(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var n=arguments[0];return this._geometries[n].getCoordinate()}return O(e,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return pt.FALSE}},{key:"getTypeCode",value:function(){return _t.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return _t.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[qo]}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];Ke.constructor_.call(this,n,o)}}])}(Ke),Nn=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){return new e(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return pt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||O(e,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var n=this._points.copy();return pi.reverse(n),this.getFactory().createLinearRing(n)}},{key:"getTypeCode",value:function(){return _t.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!O(e,"isClosed",this,1).call(this))throw new X("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new X("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return _t.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];ar.constructor_.call(this,n,o),this.validateConstruction()}}])}(ar);Nn.MINIMUM_VALID_SIZE=4;var ti=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"setOrdinate",value:function(n,o){switch(n){case e.X:this.x=o;break;case e.Y:this.y=o;break;default:throw new X("Invalid ordinate index: "+n)}}},{key:"getZ",value:function(){return F.NULL_ORDINATE}},{key:"getOrdinate",value:function(n){switch(n){case e.X:return this.x;case e.Y:return this.y}throw new X("Invalid ordinate index: "+n)}},{key:"setZ",value:function(n){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)F.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof e){var n=arguments[0];F.constructor_.call(this,n.x,n.y)}else if(arguments[0]instanceof F){var o=arguments[0];F.constructor_.call(this,o.x,o.y)}}else if(arguments.length===2){var f=arguments[0],m=arguments[1];F.constructor_.call(this,f,m,F.NULL_ORDINATE)}}}])}(F);ti.X=0,ti.Y=1,ti.Z=-1,ti.M=-1;var vi=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(n,o){switch(n){case e.X:this.x=o;break;case e.Y:this.y=o;break;case e.M:this._m=o;break;default:throw new X("Invalid ordinate index: "+n)}}},{key:"setM",value:function(n){this._m=n}},{key:"getZ",value:function(){return F.NULL_ORDINATE}},{key:"getOrdinate",value:function(n){switch(n){case e.X:return this.x;case e.Y:return this.y;case e.M:return this._m}throw new X("Invalid ordinate index: "+n)}},{key:"setZ",value:function(n){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ(),this._m=n.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)F.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof e){var n=arguments[0];F.constructor_.call(this,n.x,n.y),this._m=n._m}else if(arguments[0]instanceof F){var o=arguments[0];F.constructor_.call(this,o.x,o.y),this._m=this.getM()}}else if(arguments.length===3){var f=arguments[0],m=arguments[1],y=arguments[2];F.constructor_.call(this,f,m,F.NULL_ORDINATE),this._m=y}}}])}(F);vi.X=0,vi.Y=1,vi.Z=-1,vi.M=2;var Rs=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(n,o){switch(n){case F.X:this.x=o;break;case F.Y:this.y=o;break;case F.Z:this.z=o;break;case F.M:this._m=o;break;default:throw new X("Invalid ordinate index: "+n)}}},{key:"setM",value:function(n){this._m=n}},{key:"getOrdinate",value:function(n){switch(n){case F.X:return this.x;case F.Y:return this.y;case F.Z:return this.getZ();case F.M:return this.getM()}throw new X("Invalid ordinate index: "+n)}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ(),this._m=n.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)F.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof e){var n=arguments[0];F.constructor_.call(this,n),this._m=n._m}else if(arguments[0]instanceof F){var o=arguments[0];F.constructor_.call(this,o),this._m=this.getM()}}else if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3];F.constructor_.call(this,f,m,y),this._m=b}}}])}(F),Dr=function(){function a(){s(this,a)}return _(a,null,[{key:"measures",value:function(e){return e instanceof ti?0:e instanceof vi||e instanceof Rs?1:0}},{key:"dimension",value:function(e){return e instanceof ti?2:e instanceof vi?3:e instanceof Rs?4:3}},{key:"create",value:function(){if(arguments.length===1){var e=arguments[0];return a.create(e,0)}if(arguments.length===2){var n=arguments[0],o=arguments[1];return n===2?new ti:n===3&&o===0?new F:n===3&&o===1?new vi:n===4&&o===1?new Rs:new F}}}])}(),lr=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getCoordinate",value:function(n){return this.get(n)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&H(arguments[0],D)){for(var n=arguments[1],o=!1,f=arguments[0].iterator();f.hasNext();)this.add(f.next(),n),o=!0;return o}return O(e,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var n=O(e,"clone",this,1).call(this),o=0;o<this.size();o++)n.add(o,this.get(o).clone());return n}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(e.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(e.coordArrayType);for(var n=this.size(),o=new Array(n).fill(null),f=0;f<n;f++)o[f]=this.get(n-f-1);return o}}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];return O(e,"add",this,1).call(this,n)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var o=arguments[0],f=arguments[1];return this.add(o,f,!0),!0}if(arguments[0]instanceof F&&typeof arguments[1]=="boolean"){var m=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(m))return null;O(e,"add",this,1).call(this,m)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var y=arguments[0],b=arguments[1];return this.add(y,b),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var S=arguments[0],M=arguments[1];if(arguments[2])for(var q=0;q<S.length;q++)this.add(S[q],M);else for(var K=S.length-1;K>=0;K--)this.add(S[K],M);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof F){var ut=arguments[0],Lt=arguments[1];if(!arguments[2]){var Ct=this.size();if(Ct>0&&(ut>0&&this.get(ut-1).equals2D(Lt)||ut<Ct&&this.get(ut).equals2D(Lt)))return null}O(e,"add",this,1).call(this,ut,Lt)}}else if(arguments.length===4){var Dt=arguments[0],ie=arguments[1],Jt=arguments[2],_e=arguments[3],Te=1;Jt>_e&&(Te=-1);for(var Ue=Jt;Ue!==_e;Ue+=Te)this.add(Dt[Ue],ie);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var n=this.get(0).copy();this.add(n,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.ensureCapacity(n.length),this.add(n,!0)}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.ensureCapacity(o.length),this.add(o,f)}}}}])}(St);lr.coordArrayType=new Array(0).fill(null);var Me=function(){function a(){s(this,a)}return _(a,null,[{key:"isRing",value:function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])}},{key:"ptNotInList",value:function(e,n){for(var o=0;o<e.length;o++){var f=e[o];if(a.indexOf(f,n)<0)return f}return null}},{key:"scroll",value:function(e,n){var o=a.indexOf(n,e);if(o<0)return null;var f=new Array(e.length).fill(null);yn.arraycopy(e,o,f,0,e.length-o),yn.arraycopy(e,0,f,e.length-o,o),yn.arraycopy(f,0,e,0,e.length)}},{key:"equals",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];if(e===n)return!0;if(e===null||n===null||e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(!e[o].equals(n[o]))return!1;return!0}if(arguments.length===3){var f=arguments[0],m=arguments[1],y=arguments[2];if(f===m)return!0;if(f===null||m===null||f.length!==m.length)return!1;for(var b=0;b<f.length;b++)if(y.compare(f[b],m[b])!==0)return!1;return!0}}},{key:"intersection",value:function(e,n){for(var o=new lr,f=0;f<e.length;f++)n.intersects(e[f])&&o.add(e[f],!0);return o.toCoordinateArray()}},{key:"measures",value:function(e){if(e===null||e.length===0)return 0;var n,o=0,f=v(e);try{for(f.s();!(n=f.n()).done;){var m=n.value;o=Math.max(o,Dr.measures(m))}}catch(y){f.e(y)}finally{f.f()}return o}},{key:"hasRepeatedPoints",value:function(e){for(var n=1;n<e.length;n++)if(e[n-1].equals(e[n]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(e){return a.hasRepeatedPoints(e)?new lr(e,!1).toCoordinateArray():e}},{key:"reverse",value:function(e){for(var n=e.length-1,o=Math.trunc(n/2),f=0;f<=o;f++){var m=e[f];e[f]=e[n-f],e[n-f]=m}}},{key:"removeNull",value:function(e){for(var n=0,o=0;o<e.length;o++)e[o]!==null&&n++;var f=new Array(n).fill(null);if(n===0)return f;for(var m=0,y=0;y<e.length;y++)e[y]!==null&&(f[m++]=e[y]);return f}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var e=arguments[0],n=new Array(e.length).fill(null),o=0;o<e.length;o++)n[o]=e[o].copy();return n}if(arguments.length===5)for(var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=arguments[4],M=0;M<S;M++)y[b+M]=f[m+M].copy()}},{key:"isEqualReversed",value:function(e,n){for(var o=0;o<e.length;o++){var f=e[o],m=n[e.length-o-1];if(f.compareTo(m)!==0)return!1}return!0}},{key:"envelope",value:function(e){for(var n=new gt,o=0;o<e.length;o++)n.expandToInclude(e[o]);return n}},{key:"toCoordinateArray",value:function(e){return e.toArray(a.coordArrayType)}},{key:"dimension",value:function(e){if(e===null||e.length===0)return 3;var n,o=0,f=v(e);try{for(f.s();!(n=f.n()).done;){var m=n.value;o=Math.max(o,Dr.dimension(m))}}catch(y){f.e(y)}finally{f.f()}return o}},{key:"atLeastNCoordinatesOrNothing",value:function(e,n){return n.length>=e?n:[]}},{key:"indexOf",value:function(e,n){for(var o=0;o<n.length;o++)if(e.equals(n[o]))return o;return-1}},{key:"increasingDirection",value:function(e){for(var n=0;n<Math.trunc(e.length/2);n++){var o=e.length-1-n,f=e[n].compareTo(e[o]);if(f!==0)return f}return 1}},{key:"compare",value:function(e,n){for(var o=0;o<e.length&&o<n.length;){var f=e[o].compareTo(n[o]);if(f!==0)return f;o++}return o<n.length?-1:o<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var n=null,o=0;o<e.length;o++)(n===null||n.compareTo(e[o])>0)&&(n=e[o]);return n}},{key:"extract",value:function(e,n,o){n=Di.clamp(n,0,e.length);var f=(o=Di.clamp(o,-1,e.length))-n+1;o<0&&(f=0),n>=e.length&&(f=0),o<n&&(f=0);var m=new Array(f).fill(null);if(f===0)return m;for(var y=0,b=n;b<=o;b++)m[y++]=e[b];return m}}])}(),gu=function(){return _(function a(){s(this,a)},[{key:"compare",value:function(a,e){var n=a,o=e;return Me.compare(n,o)}},{key:"interfaces_",get:function(){return[Ft]}}])}(),Fr=function(){return _(function a(){s(this,a)},[{key:"compare",value:function(a,e){var n=a,o=e;if(n.length<o.length)return-1;if(n.length>o.length)return 1;if(n.length===0)return 0;var f=Me.compare(n,o);return Me.isEqualReversed(n,o)?0:f}},{key:"OLDcompare",value:function(a,e){var n=a,o=e;if(n.length<o.length)return-1;if(n.length>o.length)return 1;if(n.length===0)return 0;for(var f=Me.increasingDirection(n),m=Me.increasingDirection(o),y=f>0?0:n.length-1,b=m>0?0:n.length-1,S=0;S<n.length;S++){var M=n[y].compareTo(o[b]);if(M!==0)return M;y+=f,b+=m}return 0}},{key:"interfaces_",get:function(){return[Ft]}}])}();Me.ForwardComparator=gu,Me.BidirectionalComparator=Fr,Me.coordArrayType=new Array(0).fill(null);var zr=function(){return _(function a(e){s(this,a),this.str=e},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,e){this.str=this.str.substr(0,a)+e+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),cr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():st.NaN}},{key:"setOrdinate",value:function(e,n,o){switch(n){case Rt.X:this._coordinates[e].x=o;break;case Rt.Y:this._coordinates[e].y=o;break;default:this._coordinates[e].setOrdinate(n,o)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():st.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,n){switch(n){case Rt.X:return this._coordinates[e].x;case Rt.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(n)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var n=arguments[0];arguments[1].setCoordinate(this._coordinates[n])}}},{key:"getCoordinateCopy",value:function(e){var n=this.createCoordinate();return n.setCoordinate(this._coordinates[e]),n}},{key:"createCoordinate",value:function(){return Dr.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var n=0;n<this._coordinates.length;n++)e.expandToInclude(this._coordinates[n]);return e}},{key:"copy",value:function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var o=this.createCoordinate();o.setCoordinate(this._coordinates[n]),e[n]=o}return new a(e,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new zr(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)e.append(", "),e.append(this._coordinates[n]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Rt,ct]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];a.constructor_.call(this,e,Me.dimension(e),Me.measures(e))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var o=0;o<n;o++)this._coordinates[o]=new F}else if(H(arguments[0],Rt)){var f=arguments[0];if(f===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=f.getDimension(),this._measures=f.getMeasures(),this._coordinates=new Array(f.size()).fill(null);for(var m=0;m<this._coordinates.length;m++)this._coordinates[m]=f.getCoordinateCopy(m)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var y=arguments[0],b=arguments[1];a.constructor_.call(this,y,b,Me.measures(y))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],M=arguments[1];this._coordinates=new Array(S).fill(null),this._dimension=M;for(var q=0;q<S;q++)this._coordinates[q]=Dr.create(M)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var K=arguments[0],ut=arguments[1],Lt=arguments[2];this._dimension=ut,this._measures=Lt,this._coordinates=K===null?new Array(0).fill(null):K}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Ct=arguments[0],Dt=arguments[1],ie=arguments[2];this._coordinates=new Array(Ct).fill(null),this._dimension=Dt,this._measures=ie;for(var Jt=0;Jt<Ct;Jt++)this._coordinates[Jt]=this.createCoordinate()}}}}])}(),As=function(){function a(){s(this,a)}return _(a,[{key:"readResolve",value:function(){return a.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new cr(arguments[0]);if(H(arguments[0],Rt))return new cr(arguments[0])}else{if(arguments.length===2){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new cr(arguments[0],e)}if(arguments.length===3){var n=arguments[2],o=arguments[1]-n;return n>1&&(n=1),o>3&&(o=3),o<2&&(o=2),new cr(arguments[0],o+n,n)}}}},{key:"interfaces_",get:function(){return[Ns,ct]}}],[{key:"instance",value:function(){return a.instanceObject}}])}();As.instanceObject=new As;var Ds=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&O(e,"equalsExact",this,1).call(this,n,o)}return O(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return _t.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var n=new St,o=0;o<this._geometries.length;o++)for(var f=this._geometries[o].getBoundary(),m=0;m<f.getNumGeometries();m++)n.add(f.getGeometryN(m));var y=new Array(n.size()).fill(null);return this.getFactory().createMultiLineString(n.toArray(y))}},{key:"getGeometryType",value:function(){return _t.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[At]}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];Ke.constructor_.call(this,n,o)}}])}(Ke),$o=function(){return _(function a(){s(this,a)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),Fs=function(a){function e(){var n;return s(this,e),(n=h(this,e)).map=new Map,n}return k(e,a),_(e,[{key:"get",value:function(n){return this.map.get(n)||null}},{key:"put",value:function(n,o){return this.map.set(n,o),o}},{key:"values",value:function(){for(var n=new St,o=this.map.values(),f=o.next();!f.done;)n.add(f.value),f=o.next();return n}},{key:"entrySet",value:function(){var n=new rt;return this.map.entries().forEach(function(o){return n.add(o)}),n}},{key:"size",value:function(){return this.map.size()}}])}($o),Je=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"equals",value:function(e){if(!(e instanceof a))return!1;var n=e;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(e){var n=e,o=this.getMaximumSignificantDigits(),f=n.getMaximumSignificantDigits();return xt.compare(o,f)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===a.FLOATING||this._modelType===a.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var e="UNKNOWN";return this._modelType===a.FLOATING?e="Floating":this._modelType===a.FLOATING_SINGLE?e="Floating-Single":this._modelType===a.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var e=arguments[0];return st.isNaN(e)||this._modelType===a.FLOATING_SINGLE?e:this._modelType===a.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof F){var n=arguments[0];if(this._modelType===a.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var e=16;return this._modelType===a.FLOATING?e=16:this._modelType===a.FLOATING_SINGLE?e=6:this._modelType===a.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[ct,Y]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=a.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof yi){var e=arguments[0];this._modelType=e,e===a.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var n=arguments[0];this._modelType=a.FIXED,this.setScale(n)}else if(arguments[0]instanceof a){var o=arguments[0];this._modelType=o._modelType,this._scale=o._scale}}}},{key:"mostPrecise",value:function(e,n){return e.compareTo(n)>=0?e:n}}])}(),yi=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"readResolve",value:function(){return a.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[ct]}}],[{key:"constructor_",value:function(){this._name=null;var e=arguments[0];this._name=e,a.nameToTypeMap.put(e,this)}}])}();yi.nameToTypeMap=new Fs,Je.Type=yi,Je.FIXED=new yi("FIXED"),Je.FLOATING=new yi("FLOATING"),Je.FLOATING_SINGLE=new yi("FLOATING SINGLE"),Je.maximumPreciseValue=9007199254740992;var Br=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"copyInternal",value:function(){for(var n=new Array(this._geometries.length).fill(null),o=0;o<n.length;o++)n[o]=this._geometries[o].copy();return new e(n,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof _t){var n=arguments[0],o=arguments[1];return!!this.isEquivalentClass(n)&&O(e,"equalsExact",this,1).call(this,n,o)}return O(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?pt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var n=0;n<this._geometries.length;n++)if(!this._geometries[n].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return _t.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new nt}},{key:"getGeometryType",value:function(){return _t.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Zo]}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];Ke.constructor_.call(this,n,o)}}])}(Ke),Mn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new X("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new F(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new F(e.getMinX(),e.getMinY()),new F(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new F(e.getMinX(),e.getMinY()),new F(e.getMinX(),e.getMaxY()),new F(e.getMaxX(),e.getMaxY()),new F(e.getMaxX(),e.getMinY()),new F(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(H(arguments[0],Rt))return new ar(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Br(null,this):arguments.length===1?new Br(arguments[0],this):void 0}},{key:"buildGeometry",value:function(e){for(var n=null,o=!1,f=!1,m=e.iterator();m.hasNext();){var y=m.next(),b=y.getTypeCode();n===null&&(n=b),b!==n&&(o=!0),y instanceof Ke&&(f=!0)}if(n===null)return this.createGeometryCollection();if(o||f)return this.createGeometryCollection(a.toGeometryArray(e));var S=e.iterator().next();if(e.size()>1){if(S instanceof ur)return this.createMultiPolygon(a.toPolygonArray(e));if(S instanceof ar)return this.createMultiLineString(a.toLineStringArray(e));if(S instanceof Ms)return this.createMultiPoint(a.toPointArray(e));kt.shouldNeverReachHere("Unhandled geometry type: "+S.getGeometryType())}return S}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof F){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(H(arguments[0],Rt))return new Ms(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(H(arguments[0],Rt)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Nn){var o=arguments[0];return this.createPolygon(o,null)}}else if(arguments.length===2)return new ur(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new Ke(null,this):arguments.length===1?new Ke(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(H(arguments[0],Rt))return new Nn(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Ds(null,this):arguments.length===1?new Ds(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Ar(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Ar(arguments[0],this);if(H(arguments[0],Rt)){var e=arguments[0];if(e===null)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),o=0;o<e.size();o++){var f=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());pi.copy(e,o,f,0,1),n[o]=this.createPoint(f)}return this.createMultiPoint(n)}}}},{key:"interfaces_",get:function(){return[ct]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)a.constructor_.call(this,new Je,0);else if(arguments.length===1){if(H(arguments[0],Ns)){var e=arguments[0];a.constructor_.call(this,new Je,0,e)}else if(arguments[0]instanceof Je){var n=arguments[0];a.constructor_.call(this,n,0,a.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];a.constructor_.call(this,o,f,a.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this._precisionModel=m,this._coordinateSequenceFactory=b,this._SRID=y}}},{key:"toMultiPolygonArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toGeometryArray",value:function(e){if(e===null)return null;var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return As.instance()}},{key:"toMultiLineStringArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toLineStringArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toMultiPointArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toLinearRingArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toPointArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"toPolygonArray",value:function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)}},{key:"createPointFromInternalCoord",value:function(e,n){return n.getPrecisionModel().makePrecise(e),n.getFactory().createPoint(e)}}])}(),ne="XY",ke="XYZ",Gr="XYM",zi="XYZM",Li={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Ur="EMPTY",Vt=1,ue=2,On=3,hr=4,Ge=5,_u=6;for(var Hr in Li)Li[Hr].toUpperCase();var Ei=function(){return _(function a(e){s(this,a),this.wkt=e,this.index_=-1},[{key:"isAlpha_",value:function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"}},{key:"isNumeric_",value:function(a,e){return a>="0"&&a<="9"||a=="."&&!(e!==void 0&&e)}},{key:"isWhiteSpace_",value:function(a){return a==" "||a=="	"||a=="\r"||a==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var a,e=this.nextChar_(),n=this.index_,o=e;if(e=="(")a=ue;else if(e==",")a=Ge;else if(e==")")a=On;else if(this.isNumeric_(e)||e=="-")a=hr,o=this.readNumber_();else if(this.isAlpha_(e))a=Vt,o=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e!=="")throw new Error("Unexpected character: "+e);a=_u}return{position:n,value:o,type:a}}},{key:"readNumber_",value:function(){var a,e=this.index_,n=!1,o=!1;do a=="."?n=!0:a!="e"&&a!="E"||(o=!0),a=this.nextChar_();while(this.isNumeric_(a,n)||!o&&(a=="e"||a=="E")||o&&(a=="-"||a=="+"));return parseFloat(this.wkt.substring(e,this.index_--))}},{key:"readText_",value:function(){var a,e=this.index_;do a=this.nextChar_();while(this.isAlpha_(a));return this.wkt.substring(e,this.index_--).toUpperCase()}}])}(),Oe=function(){return _(function a(e,n){s(this,a),this.lexer_=e,this.token_,this.layout_=ne,this.factory=n},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(a){return this.token_.type==a}},{key:"match",value:function(a){var e=this.isTokenType(a);return e&&this.consume_(),e}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var a=ne,e=this.token_;if(this.isTokenType(Vt)){var n=e.value;n==="Z"?a=ke:n==="M"?a=Gr:n==="ZM"&&(a=zi),a!==ne&&this.consume_()}return a}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(ue)){var a=[];do a.push(this.parseGeometry_());while(this.match(Ge));if(this.match(On))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(ue)){var a=this.parsePoint_();if(this.match(On))return a}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(ue)){var a=this.parsePointList_();if(this.match(On))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(ue)){var a=this.parseLineStringTextList_();if(this.match(On))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var a;if(this.match(ue)){if(a=this.token_.type==ue?this.parsePointTextList_():this.parsePointList_(),this.match(On))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(ue)){var a=this.parseLineStringTextList_();if(this.match(On))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(ue)){var a=this.parsePolygonTextList_();if(this.match(On))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var a=[],e=this.layout_.length,n=0;n<e;++n){var o=this.token_;if(!this.match(hr))break;a.push(o.value)}if(a.length==e)return a;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var a=[this.parsePoint_()];this.match(Ge);)a.push(this.parsePoint_());return a}},{key:"parsePointTextList_",value:function(){for(var a=[this.parsePointText_()];this.match(Ge);)a.push(this.parsePointText_());return a}},{key:"parseLineStringTextList_",value:function(){for(var a=[this.parseLineStringText_()];this.match(Ge);)a.push(this.parseLineStringText_());return a}},{key:"parsePolygonTextList_",value:function(){for(var a=[this.parsePolygonText_()];this.match(Ge);)a.push(this.parsePolygonText_());return a}},{key:"isEmptyGeometry_",value:function(){var a=this.isTokenType(Vt)&&this.token_.value==Ur;return a&&this.consume_(),a}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var a=this.factory,e=function(Dt){return c(F,Z(Dt))},n=function(Dt){var ie=Dt.map(function(Jt){return a.createLinearRing(Jt.map(e))});return ie.length>1?a.createPolygon(ie[0],ie.slice(1)):a.createPolygon(ie[0])},o=this.token_;if(this.match(Vt)){var f=o.value;if(this.layout_=this.parseGeometryLayout_(),f=="GEOMETRYCOLLECTION"){var m=this.parseGeometryCollectionText_();return a.createGeometryCollection(m)}switch(f){case"POINT":var y=this.parsePointText_();return y?a.createPoint(c(F,Z(y))):a.createPoint();case"LINESTRING":var b=this.parseLineStringText_().map(e);return a.createLineString(b);case"LINEARRING":var S=this.parseLineStringText_().map(e);return a.createLinearRing(S);case"POLYGON":var M=this.parsePolygonText_();return M&&M.length!==0?n(M):a.createPolygon();case"MULTIPOINT":var q=this.parseMultiPointText_();if(!q||q.length===0)return a.createMultiPoint();var K=q.map(e).map(function(Dt){return a.createPoint(Dt)});return a.createMultiPoint(K);case"MULTILINESTRING":var ut=this.parseMultiLineStringText_().map(function(Dt){return a.createLineString(Dt.map(e))});return a.createMultiLineString(ut);case"MULTIPOLYGON":var Lt=this.parseMultiPolygonText_();if(!Lt||Lt.length===0)return a.createMultiPolygon();var Ct=Lt.map(n);return a.createMultiPolygon(Ct);default:throw new Error("Invalid geometry type: "+f)}}throw new Error(this.formatErrorMessage_())}}])}();function ei(a){if(a.isEmpty())return"";var e=a.getCoordinate(),n=[e.x,e.y];return e.z===void 0||Number.isNaN(e.z)||n.push(e.z),e.m===void 0||Number.isNaN(e.m)||n.push(e.m),n.join(" ")}function Yn(a){for(var e=a.getCoordinates().map(function(m){var y=[m.x,m.y];return m.z===void 0||Number.isNaN(m.z)||y.push(m.z),m.m===void 0||Number.isNaN(m.m)||y.push(m.m),y}),n=[],o=0,f=e.length;o<f;++o)n.push(e[o].join(" "));return n.join(", ")}function Bi(a){var e=[];e.push("("+Yn(a.getExteriorRing())+")");for(var n=0,o=a.getNumInteriorRing();n<o;++n)e.push("("+Yn(a.getInteriorRingN(n))+")");return e.join(", ")}var zs={Point:ei,LineString:Yn,LinearRing:Yn,Polygon:Bi,MultiPoint:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push("("+ei(a.getGeometryN(n))+")");return e.join(", ")},MultiLineString:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push("("+Yn(a.getGeometryN(n))+")");return e.join(", ")},MultiPolygon:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push("("+Bi(a.getGeometryN(n))+")");return e.join(", ")},GeometryCollection:function(a){for(var e=[],n=0,o=a.getNumGeometries();n<o;++n)e.push(Gi(a.getGeometryN(n)));return e.join(", ")}};function Gi(a){var e=a.getGeometryType(),n=zs[e];e=e.toUpperCase();var o=function(f){var m="";if(f.isEmpty())return m;var y=f.getCoordinate();return y.z===void 0||Number.isNaN(y.z)||(m+="Z"),y.m===void 0||Number.isNaN(y.m)||(m+="M"),m}(a);return o.length>0&&(e+=" "+o),a.isEmpty()?e+" "+Ur:e+" ("+n(a)+")"}var Bs=function(){return _(function a(e){s(this,a),this.geometryFactory=e||new Mn,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(a){var e=new Ei(a);return new Oe(e,this.geometryFactory).parse()}},{key:"write",value:function(a){return Gi(a)}}])}(),fr=function(){return _(function a(e){s(this,a),this.parser=new Bs(e)},[{key:"write",value:function(a){return this.parser.write(a)}}],[{key:"toLineString",value:function(a,e){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+e.x+" "+e.y+" )"}}])}(),de=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getIndexAlongSegment",value:function(e,n){return this.computeIntLineIndex(),this._intLineIndex[e][n]}},{key:"getTopologySummary",value:function(){var e=new zr;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,n,o,f){this._inputLines[0][0]=e,this._inputLines[0][1]=n,this._inputLines[1][0]=o,this._inputLines[1][1]=f,this._result=this.computeIntersect(e,n,o,f)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var e=arguments[0],n=0;n<this._result;n++)if(!this._intPt[n].equals2D(this._inputLines[e][0])&&!this._intPt[n].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==a.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(e,n){return a.computeEdgeDistance(this._intPt[n],this._inputLines[e][0],this._inputLines[e][1])}},{key:"isCollinear",value:function(){return this._result===a.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return fr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+fr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,n){return this._inputLines[e][n]}},{key:"isIntersection",value:function(e){for(var n=0;n<this._result;n++)if(this._intPt[n].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][n]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new F,this._intPt[1]=new F,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,n,o){var f=Math.abs(o.x-n.x),m=Math.abs(o.y-n.y),y=-1;if(e.equals(n))y=0;else if(e.equals(o))y=f>m?f:m;else{var b=Math.abs(e.x-n.x),S=Math.abs(e.y-n.y);(y=f>m?b:S)!==0||e.equals(n)||(y=Math.max(b,S))}return kt.isTrue(!(y===0&&!e.equals(n)),"Bad distance calculation"),y}},{key:"nonRobustComputeEdgeDistance",value:function(e,n,o){var f=e.x-n.x,m=e.y-n.y,y=Math.sqrt(f*f+m*m);return kt.isTrue(!(y===0&&!e.equals(n)),"Invalid distance calculation"),y}}])}();de.DONT_INTERSECT=0,de.DO_INTERSECT=1,de.COLLINEAR=2,de.NO_INTERSECTION=0,de.POINT_INTERSECTION=1,de.COLLINEAR_INTERSECTION=2;var Vn=function(a){function e(){return s(this,e),h(this,e)}return k(e,a),_(e,[{key:"isInSegmentEnvelopes",value:function(n){var o=new gt(this._inputLines[0][0],this._inputLines[0][1]),f=new gt(this._inputLines[1][0],this._inputLines[1][1]);return o.contains(n)&&f.contains(n)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return O(e,"computeIntersection",this,1).apply(this,arguments);var n=arguments[0],o=arguments[1],f=arguments[2];if(this._isProper=!1,gt.intersects(o,f,n)&&Mt.index(o,f,n)===0&&Mt.index(f,o,n)===0)return this._isProper=!0,(n.equals(o)||n.equals(f))&&(this._isProper=!1),this._result=de.POINT_INTERSECTION,null;this._result=de.NO_INTERSECTION}},{key:"intersection",value:function(n,o,f,m){var y=this.intersectionSafe(n,o,f,m);return this.isInSegmentEnvelopes(y)||(y=new F(e.nearestEndpoint(n,o,f,m))),this._precisionModel!==null&&this._precisionModel.makePrecise(y),y}},{key:"checkDD",value:function(n,o,f,m,y){var b=be.intersection(n,o,f,m),S=this.isInSegmentEnvelopes(b);yn.out.println("DD in env = "+S+"  --------------------- "+b),y.distance(b)>1e-4&&yn.out.println("Distance = "+y.distance(b))}},{key:"intersectionSafe",value:function(n,o,f,m){var y=Cs.intersection(n,o,f,m);return y===null&&(y=e.nearestEndpoint(n,o,f,m)),y}},{key:"computeCollinearIntersection",value:function(n,o,f,m){var y=gt.intersects(n,o,f),b=gt.intersects(n,o,m),S=gt.intersects(f,m,n),M=gt.intersects(f,m,o);return y&&b?(this._intPt[0]=f,this._intPt[1]=m,de.COLLINEAR_INTERSECTION):S&&M?(this._intPt[0]=n,this._intPt[1]=o,de.COLLINEAR_INTERSECTION):y&&S?(this._intPt[0]=f,this._intPt[1]=n,!f.equals(n)||b||M?de.COLLINEAR_INTERSECTION:de.POINT_INTERSECTION):y&&M?(this._intPt[0]=f,this._intPt[1]=o,!f.equals(o)||b||S?de.COLLINEAR_INTERSECTION:de.POINT_INTERSECTION):b&&S?(this._intPt[0]=m,this._intPt[1]=n,!m.equals(n)||y||M?de.COLLINEAR_INTERSECTION:de.POINT_INTERSECTION):b&&M?(this._intPt[0]=m,this._intPt[1]=o,!m.equals(o)||y||S?de.COLLINEAR_INTERSECTION:de.POINT_INTERSECTION):de.NO_INTERSECTION}},{key:"computeIntersect",value:function(n,o,f,m){if(this._isProper=!1,!gt.intersects(n,o,f,m))return de.NO_INTERSECTION;var y=Mt.index(n,o,f),b=Mt.index(n,o,m);if(y>0&&b>0||y<0&&b<0)return de.NO_INTERSECTION;var S=Mt.index(f,m,n),M=Mt.index(f,m,o);return S>0&&M>0||S<0&&M<0?de.NO_INTERSECTION:y===0&&b===0&&S===0&&M===0?this.computeCollinearIntersection(n,o,f,m):(y===0||b===0||S===0||M===0?(this._isProper=!1,n.equals2D(f)||n.equals2D(m)?this._intPt[0]=n:o.equals2D(f)||o.equals2D(m)?this._intPt[0]=o:y===0?this._intPt[0]=new F(f):b===0?this._intPt[0]=new F(m):S===0?this._intPt[0]=new F(n):M===0&&(this._intPt[0]=new F(o))):(this._isProper=!0,this._intPt[0]=this.intersection(n,o,f,m)),de.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(n,o,f,m){var y=n,b=Tn.pointToSegment(n,f,m),S=Tn.pointToSegment(o,f,m);return S<b&&(b=S,y=o),(S=Tn.pointToSegment(f,n,o))<b&&(b=S,y=f),(S=Tn.pointToSegment(m,n,o))<b&&(b=S,y=m),y}}])}(de),Gs=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"countSegment",value:function(e,n){if(e.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&n.y===this._p.y){var o=e.x,f=n.x;return o>f&&(o=n.x,f=e.x),this._p.x>=o&&this._p.x<=f&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&e.y<=this._p.y){var m=Mt.index(e,n,this._p);if(m===Mt.COLLINEAR)return this._isPointOnSegment=!0,null;n.y<e.y&&(m=-m),m===Mt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==T.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?T.BOUNDARY:this._crossingCount%2==1?T.INTERIOR:T.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof F&&H(arguments[1],Rt)){for(var e=arguments[1],n=new a(arguments[0]),o=new F,f=new F,m=1;m<e.size();m++)if(e.getCoordinate(m,o),e.getCoordinate(m-1,f),n.countSegment(o,f),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof F&&arguments[1]instanceof Array){for(var y=arguments[1],b=new a(arguments[0]),S=1;S<y.length;S++){var M=y[S],q=y[S-1];if(b.countSegment(M,q),b.isOnSegment())return b.getLocation()}return b.getLocation()}}}])}(),Ui=function(){function a(){s(this,a)}return _(a,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof F&&H(arguments[1],Rt)){for(var e=arguments[0],n=arguments[1],o=new Vn,f=new F,m=new F,y=n.size(),b=1;b<y;b++)if(n.getCoordinate(b-1,f),n.getCoordinate(b,m),o.computeIntersection(e,f,m),o.hasIntersection())return!0;return!1}if(arguments[0]instanceof F&&arguments[1]instanceof Array){for(var S=arguments[0],M=arguments[1],q=new Vn,K=1;K<M.length;K++){var ut=M[K-1],Lt=M[K];if(q.computeIntersection(S,ut,Lt),q.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,n){return Gs.locatePointInRing(e,n)}},{key:"isInRing",value:function(e,n){return a.locateInRing(e,n)!==T.EXTERIOR}}])}(),ln=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"setAllLocations",value:function(e){for(var n=0;n<this.location.length;n++)this.location[n]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==T.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var n=0;n<this.location.length;n++)this.location[n]===T.NONE&&(this.location[n]=e)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var n=new Array(3).fill(null);n[C.ON]=this.location[C.ON],n[C.LEFT]=T.NONE,n[C.RIGHT]=T.NONE,this.location=n}for(var o=0;o<this.location.length;o++)this.location[o]===T.NONE&&o<e.location.length&&(this.location[o]=e.location[o])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[C.LEFT];this.location[C.LEFT]=this.location[C.RIGHT],this.location[C.RIGHT]=e}},{key:"toString",value:function(){var e=new et;return this.location.length>1&&e.append(T.toLocationSymbol(this.location[C.LEFT])),e.append(T.toLocationSymbol(this.location[C.ON])),this.location.length>1&&e.append(T.toLocationSymbol(this.location[C.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,n,o){this.location[C.ON]=e,this.location[C.LEFT]=n,this.location[C.RIGHT]=o}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:T.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===T.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var e=arguments[0];this.setLocation(C.ON,e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.location[n]=o}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(T.NONE)}},{key:"isEqualOnSide",value:function(e,n){return this.location[n]===e.location[n]}},{key:"allPositionsEqual",value:function(e){for(var n=0;n<this.location.length;n++)if(this.location[n]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[C.ON]=n}else if(arguments[0]instanceof a){var o=arguments[0];if(this.init(o.location.length),o!==null)for(var f=0;f<this.location.length;f++)this.location[f]=o.location[f]}}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this.init(3),this.location[C.ON]=m,this.location[C.LEFT]=y,this.location[C.RIGHT]=b}}}])}(),rn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,n){this.elt[e].setAllLocations(n)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.elt[n].setAllLocationsIfNull(o)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var n=0;n<2;n++)this.elt[n]===null&&e.elt[n]!==null?this.elt[n]=new ln(e.elt[n]):this.elt[n].merge(e.elt[n])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(C.ON)}if(arguments.length===2){var n=arguments[0],o=arguments[1];return this.elt[n].get(o)}}},{key:"toString",value:function(){var e=new et;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];this.elt[e].setLocation(C.ON,n)}else if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2];this.elt[o].setLocation(f,m)}}},{key:"isEqualOnSide",value:function(e,n){return this.elt[0].isEqualOnSide(e.elt[0],n)&&this.elt[1].isEqualOnSide(e.elt[1],n)}},{key:"allPositionsEqual",value:function(e,n){return this.elt[e].allPositionsEqual(n)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new ln(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new ln(e),this.elt[1]=new ln(e)}else if(arguments[0]instanceof a){var n=arguments[0];this.elt[0]=new ln(n.elt[0]),this.elt[1]=new ln(n.elt[1])}}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.elt[0]=new ln(T.NONE),this.elt[1]=new ln(T.NONE),this.elt[o].setLocation(f)}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this.elt[0]=new ln(m,y,b),this.elt[1]=new ln(m,y,b)}else if(arguments.length===4){var S=arguments[0],M=arguments[1],q=arguments[2],K=arguments[3];this.elt[0]=new ln(T.NONE,T.NONE,T.NONE),this.elt[1]=new ln(T.NONE,T.NONE,T.NONE),this.elt[S].setLocations(M,q,K)}}},{key:"toLineLabel",value:function(e){for(var n=new a(T.NONE),o=0;o<2;o++)n.setLocation(o,e.getLocation(o));return n}}])}(),Zr=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var a=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)a[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(a),this._isHole=Mt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(a){this._startDe=a;var e=a,n=!0;do{if(e===null)throw new qe("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new qe("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var o=e.getLabel();kt.isTrue(o.isArea()),this.mergeLabel(o),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(a){return this._pts.get(a)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var a=this._startDe;do{var e=a.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(a,e,n){var o=a.getCoordinates();if(e){var f=1;n&&(f=0);for(var m=f;m<o.length;m++)this._pts.add(o[m])}else{var y=o.length-2;n&&(y=o.length-1);for(var b=y;b>=0;b--)this._pts.add(o[b])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var a=this._startDe;do a.getEdge().setInResult(!0),a=a.getNext();while(a!==this._startDe)}},{key:"containsPoint",value:function(a){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(a)||!Ui.isInRing(a,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(a))return!1;return!0}},{key:"addHole",value:function(a){this._holes.add(a)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(arguments.length===2){var e=arguments[1],n=arguments[0].getLocation(e,C.RIGHT);if(n===T.NONE)return null;if(this._label.getLocation(e)===T.NONE)return this._label.setLocation(e,n),null}}},{key:"setShell",value:function(a){this._shell=a,a!==null&&a.addHole(this)}},{key:"toPolygon",value:function(a){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return a.createPolygon(this.getLinearRing(),e)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new St,this._pts=new St,this._label=new rn(T.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new St,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var a=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(a),this.computeRing()}}}}])}(),$t=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"setEdgeRing",value:function(n,o){n.setMinEdgeRing(o)}},{key:"getNext",value:function(n){return n.getNextMin()}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];Zr.constructor_.call(this,n,o)}}])}(Zr),Rn=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"buildMinimalRings",value:function(){var n=new St,o=this._startDe;do{if(o.getMinEdgeRing()===null){var f=new $t(o,this._geometryFactory);n.add(f)}o=o.getNext()}while(o!==this._startDe);return n}},{key:"setEdgeRing",value:function(n,o){n.setEdgeRing(o)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var n=this._startDe;do n.getNode().getEdges().linkMinimalDirectedEdges(this),n=n.getNext();while(n!==this._startDe)}},{key:"getNext",value:function(n){return n.getNext()}}],[{key:"constructor_",value:function(){var n=arguments[0],o=arguments[1];Zr.constructor_.call(this,n,o)}}])}(Zr),ge=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(a){this._isVisited=a}},{key:"setInResult",value:function(a){this._isInResult=a}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(a){this._label=a}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(a){this._isCovered=a,this._isCoveredSet=!0}},{key:"updateIM",value:function(a){kt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._label=a}}}}])}(),dr=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"isIncidentEdgeInResult",value:function(){for(var n=this.getEdges().getEdges().iterator();n.hasNext();)if(n.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(n){n.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(n){}},{key:"computeMergedLocation",value:function(n,o){var f=T.NONE;if(f=this._label.getLocation(o),!n.isNull(o)){var m=n.getLocation(o);f!==T.BOUNDARY&&(f=m)}return f}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return O(e,"setLabel",this,1).apply(this,arguments);var n=arguments[0],o=arguments[1];this._label===null?this._label=new rn(n,o):this._label.setLocation(n,o)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof e){var n=arguments[0];this.mergeLabel(n._label)}else if(arguments[0]instanceof rn)for(var o=arguments[0],f=0;f<2;f++){var m=this.computeMergedLocation(o,f);this._label.getLocation(f)===T.NONE&&this._label.setLocation(f,m)}}},{key:"add",value:function(n){this._edges.insert(n),n.setNode(this)}},{key:"setLabelBoundary",value:function(n){if(this._label===null)return null;var o=T.NONE;this._label!==null&&(o=this._label.getLocation(n));var f=null;switch(o){case T.BOUNDARY:f=T.INTERIOR;break;case T.INTERIOR:default:f=T.BOUNDARY}this._label.setLocation(n,f)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var n=arguments[0],o=arguments[1];this._coord=n,this._edges=o,this._label=new rn(0,T.NONE)}}])}(ge),Us=function(a){function e(){return s(this,e),h(this,e,arguments)}return k(e,a),_(e)}($o);function qr(a){return a==null?0:a.color}function re(a){return a==null?null:a.parent}function Ve(a,e){a!==null&&(a.color=e)}function gr(a){return a==null?null:a.left}function Hi(a){return a==null?null:a.right}var Pe=function(a){function e(){var n;return s(this,e),(n=h(this,e)).root_=null,n.size_=0,n}return k(e,a),_(e,[{key:"get",value:function(n){for(var o=this.root_;o!==null;){var f=n.compareTo(o.key);if(f<0)o=o.left;else{if(!(f>0))return o.value;o=o.right}}return null}},{key:"put",value:function(n,o){if(this.root_===null)return this.root_={key:n,value:o,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var f,m,y=this.root_;do if(f=y,(m=n.compareTo(y.key))<0)y=y.left;else{if(!(m>0)){var b=y.value;return y.value=o,b}y=y.right}while(y!==null);var S={key:n,left:null,right:null,value:o,parent:f,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return m<0?f.left=S:f.right=S,this.fixAfterInsertion(S),this.size_++,null}},{key:"fixAfterInsertion",value:function(n){var o;for(n.color=1;n!=null&&n!==this.root_&&n.parent.color===1;)re(n)===gr(re(re(n)))?qr(o=Hi(re(re(n))))===1?(Ve(re(n),0),Ve(o,0),Ve(re(re(n)),1),n=re(re(n))):(n===Hi(re(n))&&(n=re(n),this.rotateLeft(n)),Ve(re(n),0),Ve(re(re(n)),1),this.rotateRight(re(re(n)))):qr(o=gr(re(re(n))))===1?(Ve(re(n),0),Ve(o,0),Ve(re(re(n)),1),n=re(re(n))):(n===gr(re(n))&&(n=re(n),this.rotateRight(n)),Ve(re(n),0),Ve(re(re(n)),1),this.rotateLeft(re(re(n))));this.root_.color=0}},{key:"values",value:function(){var n=new St,o=this.getFirstEntry();if(o!==null)for(n.add(o.value);(o=e.successor(o))!==null;)n.add(o.value);return n}},{key:"entrySet",value:function(){var n=new rt,o=this.getFirstEntry();if(o!==null)for(n.add(o);(o=e.successor(o))!==null;)n.add(o);return n}},{key:"rotateLeft",value:function(n){if(n!=null){var o=n.right;n.right=o.left,o.left!=null&&(o.left.parent=n),o.parent=n.parent,n.parent==null?this.root_=o:n.parent.left===n?n.parent.left=o:n.parent.right=o,o.left=n,n.parent=o}}},{key:"rotateRight",value:function(n){if(n!=null){var o=n.left;n.left=o.right,o.right!=null&&(o.right.parent=n),o.parent=n.parent,n.parent==null?this.root_=o:n.parent.right===n?n.parent.right=o:n.parent.left=o,o.right=n,n.parent=o}}},{key:"getFirstEntry",value:function(){var n=this.root_;if(n!=null)for(;n.left!=null;)n=n.left;return n}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(n){for(var o=this.root_;o!==null;){var f=n.compareTo(o.key);if(f<0)o=o.left;else{if(!(f>0))return!0;o=o.right}}return!1}}],[{key:"successor",value:function(n){var o;if(n===null)return null;if(n.right!==null){for(o=n.right;o.left!==null;)o=o.left;return o}o=n.parent;for(var f=n;o!==null&&f===o.right;)f=o,o=o.parent;return o}}])}(Us),ni=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"find",value:function(a){return this.nodeMap.get(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof F){var a=arguments[0],e=this.nodeMap.get(a);return e===null&&(e=this.nodeFact.createNode(a),this.nodeMap.put(a,e)),e}if(arguments[0]instanceof dr){var n=arguments[0],o=this.nodeMap.get(n.getCoordinate());return o===null?(this.nodeMap.put(n.getCoordinate(),n),n):(o.mergeLabel(n),o)}}},{key:"print",value:function(a){for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(a){for(var e=new St,n=this.iterator();n.hasNext();){var o=n.next();o.getLabel().getLocation(a)===T.BOUNDARY&&e.add(o)}return e}},{key:"add",value:function(a){var e=a.getCoordinate();this.addNode(e).add(a)}}],[{key:"constructor_",value:function(){this.nodeMap=new Pe,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}}])}(),We=function(){function a(){s(this,a)}return _(a,null,[{key:"isNorthern",value:function(e){return e===a.NE||e===a.NW}},{key:"isOpposite",value:function(e,n){return e!==n&&(e-n+4)%4===2}},{key:"commonHalfPlane",value:function(e,n){if(e===n)return e;if((e-n+4)%4===2)return-1;var o=e<n?e:n;return o===0&&(e>n?e:n)===3?3:o}},{key:"isInHalfPlane",value:function(e,n){return n===a.SE?e===a.SE||e===a.SW:e===n||e===n+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];if(e===0&&n===0)throw new X("Cannot compute the quadrant for point ( "+e+", "+n+" )");return e>=0?n>=0?a.NE:a.SE:n>=0?a.NW:a.SW}if(arguments[0]instanceof F&&arguments[1]instanceof F){var o=arguments[0],f=arguments[1];if(f.x===o.x&&f.y===o.y)throw new X("Cannot compute the quadrant for two identical points "+o);return f.x>=o.x?f.y>=o.y?a.NE:a.SE:f.y>=o.y?a.NW:a.SW}}}])}();We.NE=0,We.NW=1,We.SW=2,We.SE=3;var Hs=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:Mt.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var n=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),f=o.lastIndexOf("."),m=o.substring(f+1);e.print("  "+m+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)}},{key:"compareTo",value:function(e){var n=e;return this.compareDirection(n)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),o=n.lastIndexOf(".");return"  "+n.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,n){this._p0=e,this._p1=n,this._dx=n.x-e.x,this._dy=n.y-e.y,this._quadrant=We.quadrant(this._dx,this._dy),kt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var n=arguments[0],o=arguments[1],f=arguments[2];a.constructor_.call(this,n,o,f,null)}else if(arguments.length===4){var m=arguments[0],y=arguments[1],b=arguments[2],S=arguments[3];a.constructor_.call(this,m),this.init(y,b),this._label=S}}}])}(),Zs=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(n){return this._depth[n]}},{key:"setVisited",value:function(n){this._isVisited=n}},{key:"computeDirectedLabel",value:function(){this._label=new rn(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(n,o){if(this._depth[n]!==-999&&this._depth[n]!==o)throw new qe("assigned depths do not match",this.getCoordinate());this._depth[n]=o}},{key:"isInteriorAreaEdge",value:function(){for(var n=!0,o=0;o<2;o++)this._label.isArea(o)&&this._label.getLocation(o,C.LEFT)===T.INTERIOR&&this._label.getLocation(o,C.RIGHT)===T.INTERIOR||(n=!1);return n}},{key:"setNextMin",value:function(n){this._nextMin=n}},{key:"print",value:function(n){O(e,"print",this,1).call(this,n),n.print(" "+this._depth[C.LEFT]+"/"+this._depth[C.RIGHT]),n.print(" ("+this.getDepthDelta()+")"),this._isInResult&&n.print(" inResult")}},{key:"setMinEdgeRing",value:function(n){this._minEdgeRing=n}},{key:"isLineEdge",value:function(){var n=this._label.isLine(0)||this._label.isLine(1),o=!this._label.isArea(0)||this._label.allPositionsEqual(0,T.EXTERIOR),f=!this._label.isArea(1)||this._label.allPositionsEqual(1,T.EXTERIOR);return n&&o&&f}},{key:"setEdgeRing",value:function(n){this._edgeRing=n}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var n=this._edge.getDepthDelta();return this._isForward||(n=-n),n}},{key:"setInResult",value:function(n){this._isInResult=n}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(n){this.print(n),n.print(" "),this._isForward?this._edge.print(n):this._edge.printReverse(n)}},{key:"setSym",value:function(n){this._sym=n}},{key:"setVisitedEdge",value:function(n){this.setVisited(n),this._sym.setVisited(n)}},{key:"setEdgeDepths",value:function(n,o){var f=this.getEdge().getDepthDelta();this._isForward||(f=-f);var m=1;n===C.LEFT&&(m=-1);var y=C.opposite(n),b=o+f*m;this.setDepth(n,o),this.setDepth(y,b)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(n){this._next=n}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var n=arguments[0],o=arguments[1];if(Hs.constructor_.call(this,n),this._isForward=o,o)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var f=n.getNumPoints()-1;this.init(n.getCoordinate(f),n.getCoordinate(f-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(n,o){return n===T.EXTERIOR&&o===T.INTERIOR?1:n===T.INTERIOR&&o===T.EXTERIOR?-1:0}}])}(Hs),qs=function(){return _(function a(){s(this,a)},[{key:"createNode",value:function(a){return new dr(a,null)}}])}(),Yr=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(a){a.println("Edges:");for(var e=0;e<this._edges.size();e++){a.println("edge "+e+":");var n=this._edges.get(e);n.print(a),n.eiList.print(a)}}},{key:"find",value:function(a){return this._nodes.find(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof dr){var a=arguments[0];return this._nodes.addNode(a)}if(arguments[0]instanceof F){var e=arguments[0];return this._nodes.addNode(e)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(a){yn.out.println(a)}},{key:"isBoundaryNode",value:function(a,e){var n=this._nodes.find(e);if(n===null)return!1;var o=n.getLabel();return o!==null&&o.getLocation(a)===T.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(a,e,n,o){return!!a.equals(n)&&Mt.index(a,e,o)===Mt.COLLINEAR&&We.quadrant(a,e)===We.quadrant(n,o)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(a){yn.out.print(a)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(a,e){for(var n=0;n<this._edges.size();n++){var o=this._edges.get(n),f=o.getCoordinates();if(this.matchInSameDirection(a,e,f[0],f[1])||this.matchInSameDirection(a,e,f[f.length-1],f[f.length-2]))return o}return null}},{key:"insertEdge",value:function(a){this._edges.add(a)}},{key:"findEdgeEnd",value:function(a){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===a)return n}return null}},{key:"addEdges",value:function(a){for(var e=a.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var o=new Zs(n,!0),f=new Zs(n,!1);o.setSym(f),f.setSym(o),this.add(o),this.add(f)}}},{key:"add",value:function(a){this._nodes.add(a),this._edgeEndList.add(a)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(a,e){for(var n=0;n<this._edges.size();n++){var o=this._edges.get(n),f=o.getCoordinates();if(a.equals(f[0])&&e.equals(f[1]))return o}return null}}],[{key:"constructor_",value:function(){if(this._edges=new St,this._nodes=null,this._edgeEndList=new St,arguments.length===0)this._nodes=new ni(new qs);else if(arguments.length===1){var a=arguments[0];this._nodes=new ni(a)}}},{key:"linkResultDirectedEdges",value:function(a){for(var e=a.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}}])}(),mu=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"sortShellsAndHoles",value:function(e,n,o){for(var f=e.iterator();f.hasNext();){var m=f.next();m.isHole()?o.add(m):n.add(m)}}},{key:"computePolygons",value:function(e){for(var n=new St,o=e.iterator();o.hasNext();){var f=o.next().toPolygon(this._geometryFactory);n.add(f)}return n}},{key:"placeFreeHoles",value:function(e,n){for(var o=n.iterator();o.hasNext();){var f=o.next();if(f.getShell()===null){var m=a.findEdgeRingContaining(f,e);if(m===null)throw new qe("unable to assign hole to a shell",f.getCoordinate(0));f.setShell(m)}}}},{key:"buildMinimalEdgeRings",value:function(e,n,o){for(var f=new St,m=e.iterator();m.hasNext();){var y=m.next();if(y.getMaxNodeDegree()>2){y.linkDirectedEdgesForMinimalEdgeRings();var b=y.buildMinimalRings(),S=this.findShell(b);S!==null?(this.placePolygonHoles(S,b),n.add(S)):o.addAll(b)}else f.add(y)}return f}},{key:"buildMaximalEdgeRings",value:function(e){for(var n=new St,o=e.iterator();o.hasNext();){var f=o.next();if(f.isInResult()&&f.getLabel().isArea()&&f.getEdgeRing()===null){var m=new Rn(f,this._geometryFactory);n.add(m),m.setInResult()}}return n}},{key:"placePolygonHoles",value:function(e,n){for(var o=n.iterator();o.hasNext();){var f=o.next();f.isHole()&&f.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var n=0,o=null,f=e.iterator();f.hasNext();){var m=f.next();m.isHole()||(o=m,n++)}return kt.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),o}},{key:"add",value:function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var n=arguments[0],o=arguments[1];Yr.linkResultDirectedEdges(o);var f=this.buildMaximalEdgeRings(n),m=new St,y=this.buildMinimalEdgeRings(f,this._shellList,m);this.sortShellsAndHoles(y,this._shellList,m),this.placeFreeHoles(this._shellList,m)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new St;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,n){for(var o=e.getLinearRing(),f=o.getEnvelopeInternal(),m=o.getCoordinateN(0),y=null,b=null,S=n.iterator();S.hasNext();){var M=S.next(),q=M.getLinearRing(),K=q.getEnvelopeInternal();if(!K.equals(f)&&K.contains(f)){m=Me.ptNotInList(o.getCoordinates(),q.getCoordinates());var ut=!1;Ui.isInRing(m,q.getCoordinates())&&(ut=!0),ut&&(y===null||b.contains(K))&&(b=(y=M).getLinearRing().getEnvelopeInternal())}}return y}}])}(),Ys=function(){return _(function a(){s(this,a)},[{key:"getBounds",value:function(){}}])}(),Xt=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Ys,ct]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var a=arguments[0],e=arguments[1];this._bounds=a,this._item=e}}])}(),Vr=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var a=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),a}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(a){for(var e=null,n=this._items.get(a);2*a<=this._size&&((e=2*a)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);a=e)this._items.set(a,this._items.get(e));this._items.set(a,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(a){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,a);a.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,a)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new St,this._items.add(null)}}])}(),In=function(){return _(function a(){s(this,a)},[{key:"insert",value:function(a,e){}},{key:"remove",value:function(a,e){}},{key:"query",value:function(){}}])}(),$e=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(a){kt.isTrue(this._bounds===null),this._childBoundables.add(a)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Ys,ct]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new St,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._level=a}}}}])}(),ki={reverseOrder:function(){return{compare:function(a,e){return e.compareTo(a)}}},min:function(a){return ki.sort(a),a.get(0)},sort:function(a,e){var n=a.toArray();e?Ye.sort(n,e):Ye.sort(n);for(var o=a.iterator(),f=0,m=n.length;f<m;f++)o.next(),o.set(n[f])},singletonList:function(a){var e=new St;return e.add(a),e}},pu=function(){function a(){s(this,a)}return _(a,null,[{key:"maxDistance",value:function(e,n,o,f,m,y,b,S){var M=a.distance(e,n,m,y);return M=Math.max(M,a.distance(e,n,b,S)),M=Math.max(M,a.distance(o,f,m,y)),M=Math.max(M,a.distance(o,f,b,S))}},{key:"distance",value:function(e,n,o,f){var m=o-e,y=f-n;return Math.sqrt(m*m+y*y)}},{key:"maximumDistance",value:function(e,n){var o=Math.min(e.getMinX(),n.getMinX()),f=Math.min(e.getMinY(),n.getMinY()),m=Math.max(e.getMaxX(),n.getMaxX()),y=Math.max(e.getMaxY(),n.getMaxY());return a.distance(o,f,m,y)}},{key:"minMaxDistance",value:function(e,n){var o=e.getMinX(),f=e.getMinY(),m=e.getMaxX(),y=e.getMaxY(),b=n.getMinX(),S=n.getMinY(),M=n.getMaxX(),q=n.getMaxY(),K=a.maxDistance(o,f,o,y,b,S,b,q);return K=Math.min(K,a.maxDistance(o,f,o,y,b,S,M,S)),K=Math.min(K,a.maxDistance(o,f,o,y,M,q,b,q)),K=Math.min(K,a.maxDistance(o,f,o,y,M,q,M,S)),K=Math.min(K,a.maxDistance(o,f,m,f,b,S,b,q)),K=Math.min(K,a.maxDistance(o,f,m,f,b,S,M,S)),K=Math.min(K,a.maxDistance(o,f,m,f,M,q,b,q)),K=Math.min(K,a.maxDistance(o,f,m,f,M,q,M,S)),K=Math.min(K,a.maxDistance(m,y,o,y,b,S,b,q)),K=Math.min(K,a.maxDistance(m,y,o,y,b,S,M,S)),K=Math.min(K,a.maxDistance(m,y,o,y,M,q,b,q)),K=Math.min(K,a.maxDistance(m,y,o,y,M,q,M,S)),K=Math.min(K,a.maxDistance(m,y,m,f,b,S,b,q)),K=Math.min(K,a.maxDistance(m,y,m,f,b,S,M,S)),K=Math.min(K,a.maxDistance(m,y,m,f,M,q,b,q)),K=Math.min(K,a.maxDistance(m,y,m,f,M,q,M,S))}}])}(),ii=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"maximumDistance",value:function(){return pu.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(e,n){var o=a.isComposite(this._boundable1),f=a.isComposite(this._boundable2);if(o&&f)return a.area(this._boundable1)>a.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,n),null):(this.expand(this._boundable2,this._boundable1,!0,e,n),null);if(o)return this.expand(this._boundable1,this._boundable2,!1,e,n),null;if(f)return this.expand(this._boundable2,this._boundable1,!0,e,n),null;throw new X("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(a.isComposite(this._boundable1)||a.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var n=e;return this._distance<n._distance?-1:this._distance>n._distance?1:0}},{key:"expand",value:function(e,n,o,f,m){for(var y=e.getChildBoundables().iterator();y.hasNext();){var b=y.next(),S=null;(S=o?new a(n,b,this._itemDistance):new a(b,n,this._itemDistance)).getDistance()<m&&f.add(S)}}},{key:"getBoundable",value:function(e){return e===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],n=arguments[1],o=arguments[2];this._boundable1=e,this._boundable2=n,this._itemDistance=o,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof $e}}])}(),Xo=function(){return _(function a(){s(this,a)},[{key:"visitItem",value:function(a){}}])}(),xi=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"queryInternal",value:function(){if(H(arguments[2],Xo)&&arguments[0]instanceof Object&&arguments[1]instanceof $e)for(var e=arguments[0],n=arguments[2],o=arguments[1].getChildBoundables(),f=0;f<o.size();f++){var m=o.get(f);this.getIntersectsOp().intersects(m.getBounds(),e)&&(m instanceof $e?this.queryInternal(e,m,n):m instanceof Xt?n.visitItem(m.getItem()):kt.shouldNeverReachHere())}else if(H(arguments[2],vt)&&arguments[0]instanceof Object&&arguments[1]instanceof $e)for(var y=arguments[0],b=arguments[2],S=arguments[1].getChildBoundables(),M=0;M<S.size();M++){var q=S.get(M);this.getIntersectsOp().intersects(q.getBounds(),y)&&(q instanceof $e?this.queryInternal(y,q,b):q instanceof Xt?b.add(q.getItem()):kt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var o=n.next();o instanceof $e?e+=this.size(o):o instanceof Xt&&(e+=1)}return e}}},{key:"removeItem",value:function(e,n){for(var o=null,f=e.getChildBoundables().iterator();f.hasNext();){var m=f.next();m instanceof Xt&&m.getItem()===n&&(o=m)}return o!==null&&(e.getChildBoundables().remove(o),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var e=this.itemsTree(this._root);return e===null?new St:e}if(arguments.length===1){for(var n=arguments[0],o=new St,f=n.getChildBoundables().iterator();f.hasNext();){var m=f.next();if(m instanceof $e){var y=this.itemsTree(m);y!==null&&o.add(y)}else m instanceof Xt?o.add(m.getItem()):kt.shouldNeverReachHere()}return o.size()<=0?null:o}}},{key:"insert",value:function(e,n){kt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Xt(e,n))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var e=arguments[0],n=new St;return this.boundablesAtLevel(e,this._root,n),n}if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2];if(kt.isTrue(o>-2),f.getLevel()===o)return m.add(f),null;for(var y=f.getChildBoundables().iterator();y.hasNext();){var b=y.next();b instanceof $e?this.boundablesAtLevel(o,b,m):(kt.isTrue(b instanceof Xt),o===-1&&m.add(b))}return null}}},{key:"query",value:function(){if(arguments.length===1){var e=arguments[0];this.build();var n=new St;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,n),n}if(arguments.length===2){var o=arguments[0],f=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.queryInternal(o,this._root,f)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,n)}if(arguments.length===3){var o=arguments[0],f=arguments[1],m=arguments[2],y=this.removeItem(f,m);if(y)return!0;for(var b=null,S=f.getChildBoundables().iterator();S.hasNext();){var M=S.next();if(this.getIntersectsOp().intersects(M.getBounds(),o)&&M instanceof $e&&(y=this.remove(o,M,m))){b=M;break}}return b!==null&&b.getChildBoundables().isEmpty()&&f.getChildBoundables().remove(b),y}}},{key:"createHigherLevels",value:function(e,n){kt.isTrue(!e.isEmpty());var o=this.createParentBoundables(e,n+1);return o.size()===1?o.get(0):this.createHigherLevels(o,n+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var o=n.next();if(o instanceof $e){var f=this.depth(o);f>e&&(e=f)}}return e+1}}},{key:"createParentBoundables",value:function(e,n){kt.isTrue(!e.isEmpty());var o=new St;o.add(this.createNode(n));var f=new St(e);ki.sort(f,this.getComparator());for(var m=f.iterator();m.hasNext();){var y=m.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(n)),this.lastNode(o).addChildBoundable(y)}return o}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[ct]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new St,this._nodeCapacity=null,arguments.length===0)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var e=arguments[0];kt.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}}},{key:"compareDoubles",value:function(e,n){return e>n?1:e<n?-1:0}}])}();xi.IntersectsOp=function(){},xi.DEFAULT_NODE_CAPACITY=10;var vu=function(){return _(function a(){s(this,a)},[{key:"distance",value:function(a,e){}}])}(),An=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"createParentBoundablesFromVerticalSlices",value:function(n,o){kt.isTrue(n.length>0);for(var f=new St,m=0;m<n.length;m++)f.addAll(this.createParentBoundablesFromVerticalSlice(n[m],o));return f}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var n=arguments[0],o=arguments[1];return this.nearestNeighbourK(n,st.POSITIVE_INFINITY,o)}if(arguments.length===3){var f=arguments[0],m=arguments[2],y=arguments[1],b=new Vr;b.add(f);for(var S=new Vr;!b.isEmpty()&&y>=0;){var M=b.poll(),q=M.getDistance();if(q>=y)break;M.isLeaves()?S.size()<m?S.add(M):(S.peek().getDistance()>q&&(S.poll(),S.add(M)),y=S.peek().getDistance()):M.expandToQueue(b,y)}return e.getItems(S)}}},{key:"createNode",value:function(n){return new Wr(n)}},{key:"size",value:function(){return arguments.length===0?O(e,"size",this,1).call(this):O(e,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof gt))return O(e,"insert",this,1).apply(this,arguments);var n=arguments[0],o=arguments[1];if(n.isNull())return null;O(e,"insert",this,1).call(this,n,o)}},{key:"getIntersectsOp",value:function(){return e.intersectsOp}},{key:"verticalSlices",value:function(n,o){for(var f=Math.trunc(Math.ceil(n.size()/o)),m=new Array(o).fill(null),y=n.iterator(),b=0;b<o;b++){m[b]=new St;for(var S=0;y.hasNext()&&S<f;){var M=y.next();m[b].add(M),S++}}return m}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];return O(e,"query",this,1).call(this,n)}if(arguments.length===2){var o=arguments[0],f=arguments[1];O(e,"query",this,1).call(this,o,f)}}},{key:"getComparator",value:function(){return e.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(n,o){return O(e,"createParentBoundables",this,1).call(this,n,o)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof gt){var n=arguments[0],o=arguments[1];return O(e,"remove",this,1).call(this,n,o)}return O(e,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?O(e,"depth",this,1).call(this):O(e,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(n,o){kt.isTrue(!n.isEmpty());var f=Math.trunc(Math.ceil(n.size()/this.getNodeCapacity())),m=new St(n);ki.sort(m,e.xComparator);var y=this.verticalSlices(m,Math.trunc(Math.ceil(Math.sqrt(f))));return this.createParentBoundablesFromVerticalSlices(y,o)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(H(arguments[0],vu)){var n=arguments[0];if(this.isEmpty())return null;var o=new ii(this.getRoot(),this.getRoot(),n);return this.nearestNeighbour(o)}if(arguments[0]instanceof ii){var f=arguments[0],m=st.POSITIVE_INFINITY,y=null,b=new Vr;for(b.add(f);!b.isEmpty()&&m>0;){var S=b.poll(),M=S.getDistance();if(M>=m)break;S.isLeaves()?(m=M,y=S):S.expandToQueue(b,m)}return y===null?null:[y.getBoundable(0).getItem(),y.getBoundable(1).getItem()]}}else{if(arguments.length===2){var q=arguments[0],K=arguments[1];if(this.isEmpty()||q.isEmpty())return null;var ut=new ii(this.getRoot(),q.getRoot(),K);return this.nearestNeighbour(ut)}if(arguments.length===3){var Lt=arguments[2],Ct=new Xt(arguments[0],arguments[1]),Dt=new ii(this.getRoot(),Ct,Lt);return this.nearestNeighbour(Dt)[0]}if(arguments.length===4){var ie=arguments[2],Jt=arguments[3],_e=new Xt(arguments[0],arguments[1]),Te=new ii(this.getRoot(),_e,ie);return this.nearestNeighbourK(Te,Jt)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var n=arguments[0],o=arguments[1],f=st.POSITIVE_INFINITY,m=new Vr;for(m.add(n);!m.isEmpty();){var y=m.poll(),b=y.getDistance();if(b>o)return!1;if(y.maximumDistance()<=o)return!0;if(y.isLeaves()){if((f=b)<=o)return!0}else y.expandToQueue(m,f)}return!1}if(arguments.length===3){var S=arguments[0],M=arguments[1],q=arguments[2],K=new ii(this.getRoot(),S.getRoot(),M);return this.isWithinDistance(K,q)}}},{key:"interfaces_",get:function(){return[In,ct]}}],[{key:"constructor_",value:function(){if(arguments.length===0)e.constructor_.call(this,e.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];xi.constructor_.call(this,n)}}},{key:"centreX",value:function(n){return e.avg(n.getMinX(),n.getMaxX())}},{key:"avg",value:function(n,o){return(n+o)/2}},{key:"getItems",value:function(n){for(var o=new Array(n.size()).fill(null),f=0;!n.isEmpty();){var m=n.poll();o[f]=m.getBoundable(0).getItem(),f++}return o}},{key:"centreY",value:function(n){return e.avg(n.getMinY(),n.getMaxY())}}])}(xi),Wr=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"computeBounds",value:function(){for(var n=null,o=this.getChildBoundables().iterator();o.hasNext();){var f=o.next();n===null?n=new gt(f.getBounds()):n.expandToInclude(f.getBounds())}return n}}],[{key:"constructor_",value:function(){var n=arguments[0];$e.constructor_.call(this,n)}}])}($e);An.STRtreeNode=Wr,An.xComparator=new(function(){return _(function a(){s(this,a)},[{key:"interfaces_",get:function(){return[Ft]}},{key:"compare",value:function(a,e){return xi.compareDoubles(An.centreX(a.getBounds()),An.centreX(e.getBounds()))}}])}()),An.yComparator=new(function(){return _(function a(){s(this,a)},[{key:"interfaces_",get:function(){return[Ft]}},{key:"compare",value:function(a,e){return xi.compareDoubles(An.centreY(a.getBounds()),An.centreY(e.getBounds()))}}])}()),An.intersectsOp=new(function(){return _(function a(){s(this,a)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(a,e){return a.intersects(e)}}])}()),An.DEFAULT_NODE_CAPACITY=10;var yu=function(){function a(){s(this,a)}return _(a,null,[{key:"relativeSign",value:function(e,n){return e<n?-1:e>n?1:0}},{key:"compare",value:function(e,n,o){if(n.equals2D(o))return 0;var f=a.relativeSign(n.x,o.x),m=a.relativeSign(n.y,o.y);switch(e){case 0:return a.compareValue(f,m);case 1:return a.compareValue(m,f);case 2:return a.compareValue(m,-f);case 3:return a.compareValue(-f,m);case 4:return a.compareValue(-f,-m);case 5:return a.compareValue(-m,-f);case 6:return a.compareValue(-m,f);case 7:return a.compareValue(f,-m)}return kt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,n){return e<0?-1:e>0?1:n<0?-1:n>0?1:0}}])}(),Dn=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(a){var e=a;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:this._isInterior?e._isInterior?yu.compare(this._segmentOctant,this.coord,e.coord):1:-1}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===a}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var a=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3];this._segString=a,this.coord=new F(e),this.segmentIndex=n,this._segmentOctant=o,this._isInterior=!e.equals2D(a.getCoordinate(n))}}])}(),Lu=function(){return _(function a(){s(this,a)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),jo=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var a=new lr;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var o=e.next();this.addEdgeCoordinates(n,o,a),n=o}return a.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var a=new St;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var e=a.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(a,e){var n=e.segmentIndex-a.segmentIndex+2;if(n===2)return[new F(a.coord),new F(e.coord)];var o=this._edge.getCoordinate(e.segmentIndex),f=e.isInterior()||!e.coord.equals2D(o);f||n--;var m=new Array(n).fill(null),y=0;m[y++]=new F(a.coord);for(var b=a.segmentIndex+1;b<=e.segmentIndex;b++)m[y++]=this._edge.getCoordinate(b);return f&&(m[y]=new F(e.coord)),m}},{key:"print",value:function(a){a.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"findCollapsesFromExistingVertices",value:function(a){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e);this._edge.getCoordinate(e+1);var o=this._edge.getCoordinate(e+2);n.equals2D(o)&&a.add(xt.valueOf(e+1))}}},{key:"addEdgeCoordinates",value:function(a,e,n){var o=this.createSplitEdgePts(a,e);n.add(o,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var o=e.next(),f=this.createSplitEdge(n,o);a.add(f),n=o}}},{key:"findCollapseIndex",value:function(a,e,n){if(!a.coord.equals2D(e.coord))return!1;var o=e.segmentIndex-a.segmentIndex;return e.isInterior()||o--,o===1&&(n[0]=a.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(a){for(var e=new Array(1).fill(null),n=this.iterator(),o=n.next();n.hasNext();){var f=n.next();this.findCollapseIndex(o,f,e)&&a.add(xt.valueOf(e[0])),o=f}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(a),a)}},{key:"createSplitEdge",value:function(a,e){var n=this.createSplitEdgePts(a,e);return new Wn(n,this._edge.getData())}},{key:"add",value:function(a,e){var n=new Dn(this._edge,a,e,this._edge.getSegmentOctant(e)),o=this._nodeMap.get(n);return o!==null?(kt.isTrue(o.coord.equals2D(a),"Found equal nodes with different coordinates"),o):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(a){var e=this._edge.getCoordinates(),n=a.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Ut("bad split edge start point at "+n);var o=a.get(a.size()-1).getCoordinates(),f=o[o.length-1];if(!f.equals2D(e[e.length-1]))throw new Ut("bad split edge end point at "+f)}}],[{key:"constructor_",value:function(){this._nodeMap=new Pe,this._edge=null;var a=arguments[0];this._edge=a}}])}(),ri=function(){function a(){s(this,a)}return _(a,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];if(e===0&&n===0)throw new X("Cannot compute the octant for point ( "+e+", "+n+" )");var o=Math.abs(e),f=Math.abs(n);return e>=0?n>=0?o>=f?0:1:o>=f?7:6:n>=0?o>=f?3:2:o>=f?4:5}if(arguments[0]instanceof F&&arguments[1]instanceof F){var m=arguments[0],y=arguments[1],b=y.x-m.x,S=y.y-m.y;if(b===0&&S===0)throw new X("Cannot compute the octant for two identical points "+m);return a.octant(b,S)}}}])}(),Ko=function(){return _(function a(){s(this,a)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(a){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(a){}},{key:"getData",value:function(){}}])}(),Jo=function(){return _(function a(){s(this,a)},[{key:"addIntersection",value:function(a,e){}},{key:"interfaces_",get:function(){return[Ko]}}])}(),Wn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,n){return e.equals2D(n)?0:ri.octant(e,n)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];this.addIntersectionNode(e,n)}else if(arguments.length===4){var o=arguments[1],f=arguments[3],m=new F(arguments[0].getIntersection(f));this.addIntersection(m,o)}}},{key:"toString",value:function(){return fr.toLineString(new cr(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,n){var o=n,f=o+1;if(f<this._pts.length){var m=this._pts[f];e.equals2D(m)&&(o=f)}return this._nodeList.add(e,o)}},{key:"addIntersections",value:function(e,n,o){for(var f=0;f<e.getIntersectionNum();f++)this.addIntersection(e,n,o,f)}},{key:"interfaces_",get:function(){return[Jo]}}],[{key:"constructor_",value:function(){this._nodeList=new jo(this),this._pts=null,this._data=null;var e=arguments[0],n=arguments[1];this._pts=e,this._data=n}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var e=arguments[0],n=new St;return a.getNodedSubstrings(e,n),n}if(arguments.length===2)for(var o=arguments[1],f=arguments[0].iterator();f.hasNext();)f.next().getNodeList().addSplitEdges(o)}}])}(),cn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof a){var e=arguments[0],n=Mt.index(this.p0,this.p1,e.p0),o=Mt.index(this.p0,this.p1,e.p1);return n>=0&&o>=0||n<=0&&o<=0?Math.max(n,o):0}if(arguments[0]instanceof F){var f=arguments[0];return Mt.index(this.p0,this.p1,f)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(e){if(!(e instanceof a))return!1;var n=e;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(e){var n=new Vn;return n.computeIntersection(this.p0,this.p1,e.p0,e.p1),n.hasIntersection()?n.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof F){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new F(e);var n=this.projectionFactor(e),o=new F;return o.x=this.p0.x+n*(this.p1.x-this.p0.x),o.y=this.p0.y+n*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof a){var f=arguments[0],m=this.projectionFactor(f.p0),y=this.projectionFactor(f.p1);if(m>=1&&y>=1||m<=0&&y<=0)return null;var b=this.project(f.p0);m<0&&(b=this.p0),m>1&&(b=this.p1);var S=this.project(f.p1);return y<0&&(S=this.p0),y>1&&(S=this.p1),new a(b,S)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return e===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return Tn.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return a.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,f=n*n+o*o;return f<=0?st.NaN:((e.x-this.p0.x)*n+(e.y-this.p0.y)*o)/f}},{key:"closestPoints",value:function(e){var n=this.intersection(e);if(n!==null)return[n,n];var o=new Array(2).fill(null),f=st.MAX_VALUE,m=null,y=this.closestPoint(e.p0);f=y.distance(e.p0),o[0]=y,o[1]=e.p0;var b=this.closestPoint(e.p1);(m=b.distance(e.p1))<f&&(f=m,o[0]=b,o[1]=e.p1);var S=e.closestPoint(this.p0);(m=S.distance(this.p0))<f&&(f=m,o[0]=this.p0,o[1]=S);var M=e.closestPoint(this.p1);return(m=M.distance(this.p1))<f&&(f=m,o[0]=this.p1,o[1]=M),o}},{key:"closestPoint",value:function(e){var n=this.projectionFactor(e);return n>0&&n<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var n=e,o=this.p0.compareTo(n.p0);return o!==0?o:this.p1.compareTo(n.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return Cs.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,n){var o=this.p0.x+e*(this.p1.x-this.p0.x),f=this.p0.y+e*(this.p1.y-this.p0.y),m=this.p1.x-this.p0.x,y=this.p1.y-this.p0.y,b=Math.sqrt(m*m+y*y),S=0,M=0;if(n!==0){if(b<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");S=n*m/b,M=n*y/b}return new F(o-M,f+S)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=o.x,this.p1.y=o.y}}},{key:"segmentFraction",value:function(e){var n=this.projectionFactor(e);return n<0?n=0:(n>1||st.isNaN(n))&&(n=1),n}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var n=this.p1.getY()-this.p0.getY(),o=this.p0.getX()-this.p1.getX(),f=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),m=n*n+o*o,y=n*n-o*o,b=e.getX(),S=e.getY();return new F((-y*b-2*n*o*S-2*n*f)/m,(y*S-2*n*o*b-2*o*f)/m)}},{key:"distance",value:function(){if(arguments[0]instanceof a){var e=arguments[0];return Tn.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof F){var n=arguments[0];return Tn.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var n=new F;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}},{key:"hashCode",value:function(){var e=st.doubleToLongBits(this.p0.x);e^=31*st.doubleToLongBits(this.p0.y);var n=Math.trunc(e)^Math.trunc(e>>32),o=st.doubleToLongBits(this.p1.x);return o^=31*st.doubleToLongBits(this.p1.y),n^(Math.trunc(o)^Math.trunc(o>>32))}},{key:"interfaces_",get:function(){return[Y,ct]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)a.constructor_.call(this,new F,new F);else if(arguments.length===1){var e=arguments[0];a.constructor_.call(this,e.p0,e.p1)}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this.p0=n,this.p1=o}else if(arguments.length===4){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3];a.constructor_.call(this,new F(f,m),new F(y,b))}}},{key:"midPoint",value:function(e,n){return new F((e.x+n.x)/2,(e.y+n.y)/2)}}])}(),Qo=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var a=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(a,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new cn,this._overlapSeg2=new cn}}])}(),Vs=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(a,e){e.p0=this._pts[a],e.p1=this._pts[a+1]}},{key:"computeSelect",value:function(a,e,n,o){var f=this._pts[e],m=this._pts[n];if(n-e==1)return o.select(this,e),null;if(!a.intersects(f,m))return null;var y=Math.trunc((e+n)/2);e<y&&this.computeSelect(a,e,y,o),y<n&&this.computeSelect(a,y,n,o)}},{key:"getCoordinates",value:function(){for(var a=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)a[e++]=this._pts[n];return a}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var a=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,a,a._start,a._end,e)}else if(arguments.length===6){var n=arguments[0],o=arguments[1],f=arguments[2],m=arguments[3],y=arguments[4],b=arguments[5];if(o-n==1&&y-m==1)return b.overlap(this,n,f,m),null;if(!this.overlaps(n,o,f,m,y))return null;var S=Math.trunc((n+o)/2),M=Math.trunc((m+y)/2);n<S&&(m<M&&this.computeOverlaps(n,S,f,m,M,b),M<y&&this.computeOverlaps(n,S,f,M,y,b)),S<o&&(m<M&&this.computeOverlaps(S,o,f,m,M,b),M<y&&this.computeOverlaps(S,o,f,M,y,b))}}},{key:"setId",value:function(a){this._id=a}},{key:"select",value:function(a,e){this.computeSelect(a,this._start,this._end,e)}},{key:"getEnvelope",value:function(){if(this._env===null){var a=this._pts[this._start],e=this._pts[this._end];this._env=new gt(a,e)}return this._env}},{key:"overlaps",value:function(a,e,n,o,f){return gt.intersects(this._pts[a],this._pts[e],n._pts[o],n._pts[f])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3];this._pts=a,this._start=e,this._end=n,this._context=o}}])}(),Eu=function(){function a(){s(this,a)}return _(a,null,[{key:"findChainEnd",value:function(e,n){for(var o=n;o<e.length-1&&e[o].equals2D(e[o+1]);)o++;if(o>=e.length-1)return e.length-1;for(var f=We.quadrant(e[o],e[o+1]),m=n+1;m<e.length&&!(!e[m-1].equals2D(e[m])&&We.quadrant(e[m-1],e[m])!==f);)m++;return m-1}},{key:"getChains",value:function(){if(arguments.length===1){var e=arguments[0];return a.getChains(e,null)}if(arguments.length===2){var n=arguments[0],o=arguments[1],f=new St,m=0;do{var y=a.findChainEnd(n,m),b=new Vs(n,m,y,o);f.add(b),m=y}while(m<n.length-1);return f}}}])}(),Ws=function(){return _(function a(){s(this,a)},[{key:"computeNodes",value:function(a){}},{key:"getNodedSubstrings",value:function(){}}])}(),$r=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(a){this._segInt=a}},{key:"interfaces_",get:function(){return[Ws]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.setSegmentIntersector(a)}}}}])}(),$s=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Wn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(n){for(var o=Eu.getChains(n.getCoordinates(),n).iterator();o.hasNext();){var f=o.next();f.setId(this._idCounter++),this._index.insert(f.getEnvelope(),f),this._monoChains.add(f)}}},{key:"computeNodes",value:function(n){this._nodedSegStrings=n;for(var o=n.iterator();o.hasNext();)this.add(o.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var n=new Xs(this._segInt),o=this._monoChains.iterator();o.hasNext();)for(var f=o.next(),m=this._index.query(f.getEnvelope()).iterator();m.hasNext();){var y=m.next();if(y.getId()>f.getId()&&(f.computeOverlaps(y,n),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new St,this._index=new An,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var n=arguments[0];$r.constructor_.call(this,n)}}}}])}($r),Xs=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"overlap",value:function(){if(arguments.length!==4)return O(e,"overlap",this,1).apply(this,arguments);var n=arguments[1],o=arguments[2],f=arguments[3],m=arguments[0].getContext(),y=o.getContext();this._si.processIntersections(m,n,y,f)}}],[{key:"constructor_",value:function(){this._si=null;var n=arguments[0];this._si=n}}])}(Qo);$s.SegmentOverlapAction=Xs;var Ln=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isDeletable",value:function(e,n,o,f){var m=this._inputLine[e],y=this._inputLine[n],b=this._inputLine[o];return!!this.isConcave(m,y,b)&&!!this.isShallow(m,y,b,f)&&this.isShallowSampled(m,y,e,o,f)}},{key:"deleteShallowConcavities",value:function(){for(var e=1,n=this.findNextNonDeletedIndex(e),o=this.findNextNonDeletedIndex(n),f=!1;o<this._inputLine.length;){var m=!1;this.isDeletable(e,n,o,this._distanceTol)&&(this._isDeleted[n]=a.DELETE,m=!0,f=!0),e=m?o:n,n=this.findNextNonDeletedIndex(e),o=this.findNextNonDeletedIndex(n)}return f}},{key:"isShallowConcavity",value:function(e,n,o,f){return Mt.index(e,n,o)===this._angleOrientation&&Tn.pointToSegment(n,e,o)<f}},{key:"isShallowSampled",value:function(e,n,o,f,m){var y=Math.trunc((f-o)/a.NUM_PTS_TO_CHECK);y<=0&&(y=1);for(var b=o;b<f;b+=y)if(!this.isShallow(e,n,this._inputLine[b],m))return!1;return!0}},{key:"isConcave",value:function(e,n,o){var f=Mt.index(e,n,o)===this._angleOrientation;return f}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=Mt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=this.deleteShallowConcavities();while(n);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(e){for(var n=e+1;n<this._inputLine.length&&this._isDeleted[n]===a.DELETE;)n++;return n}},{key:"isShallow",value:function(e,n,o,f){return Tn.pointToSegment(n,e,o)<f}},{key:"collapseLine",value:function(){for(var e=new lr,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==a.DELETE&&e.add(this._inputLine[n]);return e.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Mt.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(e,n){return new a(e).simplify(n)}}])}();Ln.INIT=0,Ln.DELETE=1,Ln.KEEP=1,Ln.NUM_PTS_TO_CHECK=10;var _r=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getCoordinates",value:function(){return this._ptList.toArray(a.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var n=new F(e);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,n){if(n)for(var o=0;o<e.length;o++)this.addPt(e[o]);else for(var f=e.length-1;f>=0;f--)this.addPt(e[f])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1);return e.distance(n)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Mn().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new F(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(e.equals(n))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new St}}])}();_r.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Ae=function(){function a(){s(this,a)}return _(a,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(e){for(;e>Math.PI;)e-=a.PI_TIMES_2;for(;e<=-Math.PI;)e+=a.PI_TIMES_2;return e}},{key:"angle",value:function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var n=arguments[0],o=arguments[1],f=o.x-n.x,m=o.y-n.y;return Math.atan2(m,f)}}},{key:"isAcute",value:function(e,n,o){var f=e.x-n.x,m=e.y-n.y;return f*(o.x-n.x)+m*(o.y-n.y)>0}},{key:"isObtuse",value:function(e,n,o){var f=e.x-n.x,m=e.y-n.y;return f*(o.x-n.x)+m*(o.y-n.y)<0}},{key:"interiorAngle",value:function(e,n,o){var f=a.angle(n,e),m=a.angle(n,o);return Math.abs(m-f)}},{key:"normalizePositive",value:function(e){if(e<0){for(;e<0;)e+=a.PI_TIMES_2;e>=a.PI_TIMES_2&&(e=0)}else{for(;e>=a.PI_TIMES_2;)e-=a.PI_TIMES_2;e<0&&(e=0)}return e}},{key:"angleBetween",value:function(e,n,o){var f=a.angle(n,e),m=a.angle(n,o);return a.diff(f,m)}},{key:"diff",value:function(e,n){var o=null;return(o=e<n?n-e:e-n)>Math.PI&&(o=2*Math.PI-o),o}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(e,n){var o=Math.sin(n-e);return o>0?a.COUNTERCLOCKWISE:o<0?a.CLOCKWISE:a.NONE}},{key:"angleBetweenOriented",value:function(e,n,o){var f=a.angle(n,e),m=a.angle(n,o)-f;return m<=-Math.PI?m+a.PI_TIMES_2:m>Math.PI?m-a.PI_TIMES_2:m}}])}();Ae.PI_TIMES_2=2*Math.PI,Ae.PI_OVER_2=Math.PI/2,Ae.PI_OVER_4=Math.PI/4,Ae.COUNTERCLOCKWISE=Mt.COUNTERCLOCKWISE,Ae.CLOCKWISE=Mt.CLOCKWISE,Ae.NONE=Mt.COLLINEAR;var mr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"addNextSegment",value:function(e,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=Mt.index(this._s0,this._s1,this._s2),f=o===Mt.CLOCKWISE&&this._side===C.LEFT||o===Mt.COUNTERCLOCKWISE&&this._side===C.RIGHT;o===0?this.addCollinear(n):f?this.addOutsideTurn(o,n):this.addInsideTurn(o,n)}},{key:"addLineEndCap",value:function(e,n){var o=new cn(e,n),f=new cn;this.computeOffsetSegment(o,C.LEFT,this._distance,f);var m=new cn;this.computeOffsetSegment(o,C.RIGHT,this._distance,m);var y=n.x-e.x,b=n.y-e.y,S=Math.atan2(b,y);switch(this._bufParams.getEndCapStyle()){case G.CAP_ROUND:this._segList.addPt(f.p1),this.addDirectedFillet(n,S+Math.PI/2,S-Math.PI/2,Mt.CLOCKWISE,this._distance),this._segList.addPt(m.p1);break;case G.CAP_FLAT:this._segList.addPt(f.p1),this._segList.addPt(m.p1);break;case G.CAP_SQUARE:var M=new F;M.x=Math.abs(this._distance)*Math.cos(S),M.y=Math.abs(this._distance)*Math.sin(S);var q=new F(f.p1.x+M.x,f.p1.y+M.y),K=new F(m.p1.x+M.x,m.p1.y+M.y);this._segList.addPt(q),this._segList.addPt(K)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,n,o,f){var m=Cs.intersection(n.p0,n.p1,o.p0,o.p1);if(m!==null&&(f<=0?1:m.distance(e)/Math.abs(f))<=this._bufParams.getMitreLimit())return this._segList.addPt(m),null;this.addLimitedMitreJoin(n,o,f,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(e,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*a.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===G.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===G.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new F(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new F(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new F(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new F(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,n){this._segList.addPts(e,n)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,n,o,f,m){var y=n.x-e.x,b=n.y-e.y,S=Math.atan2(b,y),M=o.x-e.x,q=o.y-e.y,K=Math.atan2(q,M);f===Mt.CLOCKWISE?S<=K&&(S+=2*Math.PI):S>=K&&(S-=2*Math.PI),this._segList.addPt(n),this.addDirectedFillet(e,S,K,f,m),this._segList.addPt(o)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,n,o){this._s1=e,this._s2=n,this._side=o,this._seg1.setCoordinates(e,n),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,n,o,f){var m=this._seg0.p1,y=Ae.angle(m,this._seg0.p0),b=Ae.angleBetweenOriented(this._seg0.p0,m,this._seg1.p1)/2,S=Ae.normalize(y+b),M=Ae.normalize(S+Math.PI),q=f*o,K=o-q*Math.abs(Math.sin(b)),ut=m.x+q*Math.cos(M),Lt=m.y+q*Math.sin(M),Ct=new F(ut,Lt),Dt=new cn(m,Ct),ie=Dt.pointAlongOffset(1,K),Jt=Dt.pointAlongOffset(1,-K);this._side===C.LEFT?(this._segList.addPt(ie),this._segList.addPt(Jt)):(this._segList.addPt(Jt),this._segList.addPt(ie))}},{key:"addDirectedFillet",value:function(e,n,o,f,m){var y=f===Mt.CLOCKWISE?-1:1,b=Math.abs(n-o),S=Math.trunc(b/this._filletAngleQuantum+.5);if(S<1)return null;for(var M=b/S,q=new F,K=0;K<S;K++){var ut=n+y*K*M;q.x=e.x+m*Math.cos(ut),q.y=e.y+m*Math.sin(ut),this._segList.addPt(q)}}},{key:"computeOffsetSegment",value:function(e,n,o,f){var m=n===C.LEFT?1:-1,y=e.p1.x-e.p0.x,b=e.p1.y-e.p0.y,S=Math.sqrt(y*y+b*b),M=m*o*y/S,q=m*o*b/S;f.p0.x=e.p0.x-q,f.p0.y=e.p0.y+M,f.p1.x=e.p1.x-q,f.p1.y=e.p1.y+M}},{key:"addInsideTurn",value:function(e,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*a.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new F((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var f=new F((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(f)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var n=new F(e.x+this._distance,e.y);this._segList.addPt(n),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,n){this._segList.addPt(e.p1),this._segList.addPt(n.p0)}},{key:"init",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new _r,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*a.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===G.JOIN_BEVEL||this._bufParams.getJoinStyle()===G.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Mt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new cn,this._seg1=new cn,this._offset0=new cn,this._offset1=new cn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],o=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Vn,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===G.JOIN_ROUND&&(this._closingSegLengthFactor=a.MAX_CLOSING_SEG_LEN_FACTOR),this.init(o)}}])}();mr.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,mr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,mr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,mr.MAX_CLOSING_SEG_LEN_FACTOR=80;var pr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getOffsetCurve",value:function(e,n){if(this._distance=n,n===0)return null;var o=n<0,f=Math.abs(n),m=this.getSegGen(f);e.length<=1?this.computePointCurve(e[0],m):this.computeOffsetCurve(e,o,m);var y=m.getCoordinates();return o&&Me.reverse(y),y}},{key:"computeSingleSidedBufferCurve",value:function(e,n,o){var f=this.simplifyTolerance(this._distance);if(n){o.addSegments(e,!0);var m=Ln.simplify(e,-f),y=m.length-1;o.initSideSegments(m[y],m[y-1],C.LEFT),o.addFirstSegment();for(var b=y-2;b>=0;b--)o.addNextSegment(m[b],!0)}else{o.addSegments(e,!1);var S=Ln.simplify(e,f),M=S.length-1;o.initSideSegments(S[0],S[1],C.LEFT),o.addFirstSegment();for(var q=2;q<=M;q++)o.addNextSegment(S[q],!0)}o.addLastSegment(),o.closeRing()}},{key:"computeRingBufferCurve",value:function(e,n,o){var f=this.simplifyTolerance(this._distance);n===C.RIGHT&&(f=-f);var m=Ln.simplify(e,f),y=m.length-1;o.initSideSegments(m[y-1],m[0],n);for(var b=1;b<=y;b++){var S=b!==1;o.addNextSegment(m[b],S)}o.closeRing()}},{key:"computeLineBufferCurve",value:function(e,n){var o=this.simplifyTolerance(this._distance),f=Ln.simplify(e,o),m=f.length-1;n.initSideSegments(f[0],f[1],C.LEFT);for(var y=2;y<=m;y++)n.addNextSegment(f[y],!0);n.addLastSegment(),n.addLineEndCap(f[m-1],f[m]);var b=Ln.simplify(e,-o),S=b.length-1;n.initSideSegments(b[S],b[S-1],C.LEFT);for(var M=S-2;M>=0;M--)n.addNextSegment(b[M],!0);n.addLastSegment(),n.addLineEndCap(b[1],b[0]),n.closeRing()}},{key:"computePointCurve",value:function(e,n){switch(this._bufParams.getEndCapStyle()){case G.CAP_ROUND:n.createCircle(e);break;case G.CAP_SQUARE:n.createSquare(e)}}},{key:"getLineCurve",value:function(e,n){if(this._distance=n,this.isLineOffsetEmpty(n))return null;var o=Math.abs(n),f=this.getSegGen(o);if(e.length<=1)this.computePointCurve(e[0],f);else if(this._bufParams.isSingleSided()){var m=n<0;this.computeSingleSidedBufferCurve(e,m,f)}else this.computeLineBufferCurve(e,f);return f.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(e,n,o){if(this._distance=o,e.length<=2)return this.getLineCurve(e,o);if(o===0)return a.copyCoordinates(e);var f=this.getSegGen(o);return this.computeRingBufferCurve(e,n,f),f.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,n,o){var f=this.simplifyTolerance(this._distance);if(n){var m=Ln.simplify(e,-f),y=m.length-1;o.initSideSegments(m[y],m[y-1],C.LEFT),o.addFirstSegment();for(var b=y-2;b>=0;b--)o.addNextSegment(m[b],!0)}else{var S=Ln.simplify(e,f),M=S.length-1;o.initSideSegments(S[0],S[1],C.LEFT),o.addFirstSegment();for(var q=2;q<=M;q++)o.addNextSegment(S[q],!0)}o.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return e===0||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new mr(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],n=arguments[1];this._precisionModel=e,this._bufParams=n}},{key:"copyCoordinates",value:function(e){for(var n=new Array(e.length).fill(null),o=0;o<n.length;o++)n[o]=new F(e[o]);return n}}])}(),hn=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var a=arguments[0],e=new St,n=this._subgraphs.iterator();n.hasNext();){var o=n.next(),f=o.getEnvelope();a.y<f.getMinY()||a.y>f.getMaxY()||this.findStabbedSegments(a,o.getDirectedEdges(),e)}return e}if(arguments.length===3){if(H(arguments[2],vt)&&arguments[0]instanceof F&&arguments[1]instanceof Zs){for(var m=arguments[0],y=arguments[1],b=arguments[2],S=y.getEdge().getCoordinates(),M=0;M<S.length-1;M++)if(this._seg.p0=S[M],this._seg.p1=S[M+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<m.x||this._seg.isHorizontal()||m.y<this._seg.p0.y||m.y>this._seg.p1.y||Mt.index(this._seg.p0,this._seg.p1,m)===Mt.RIGHT)){var q=y.getDepth(C.LEFT);this._seg.p0.equals(S[M])||(q=y.getDepth(C.RIGHT));var K=new js(this._seg,q);b.add(K)}}else if(H(arguments[2],vt)&&arguments[0]instanceof F&&H(arguments[1],vt))for(var ut=arguments[0],Lt=arguments[2],Ct=arguments[1].iterator();Ct.hasNext();){var Dt=Ct.next();Dt.isForward()&&this.findStabbedSegments(ut,Dt,Lt)}}}},{key:"getDepth",value:function(a){var e=this.findStabbedSegments(a);return e.size()===0?0:ki.min(e)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new cn;var a=arguments[0];this._subgraphs=a}}])}(),js=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(a){var e=a;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return n!==0||(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))!==0?n:this._upwardSeg.compareTo(e._upwardSeg)}},{key:"compareX",value:function(a,e){var n=a.p0.compareTo(e.p0);return n!==0?n:a.p1.compareTo(e.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[0],e=arguments[1];this._upwardSeg=new cn(a),this._leftDepth=e}}])}();hn.DepthSegment=js;var Ks=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,null,[{key:"constructor_",value:function(){B.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(B),Js=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getY",value:function(){var e=this.y/this.w;if(st.isNaN(e)||st.isInfinite(e))throw new Ks;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(st.isNaN(e)||st.isInfinite(e))throw new Ks;return e}},{key:"getCoordinate",value:function(){var e=new F;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],o=arguments[1];this.x=n,this.y=o,this.w=1}else if(arguments[0]instanceof a&&arguments[1]instanceof a){var f=arguments[0],m=arguments[1];this.x=f.y*m.w-m.y*f.w,this.y=m.x*f.w-f.x*m.w,this.w=f.x*m.y-m.x*f.y}else if(arguments[0]instanceof F&&arguments[1]instanceof F){var y=arguments[0],b=arguments[1];this.x=y.y-b.y,this.y=b.x-y.x,this.w=y.x*b.y-b.x*y.y}}else if(arguments.length===3){var S=arguments[0],M=arguments[1],q=arguments[2];this.x=S,this.y=M,this.w=q}else if(arguments.length===4){var K=arguments[0],ut=arguments[1],Lt=arguments[2],Ct=arguments[3],Dt=K.y-ut.y,ie=ut.x-K.x,Jt=K.x*ut.y-ut.x*K.y,_e=Lt.y-Ct.y,Te=Ct.x-Lt.x,Ue=Lt.x*Ct.y-Ct.x*Lt.y;this.x=ie*Ue-Te*Jt,this.y=_e*Jt-Dt*Ue,this.w=Dt*Te-_e*ie}}}])}(),Qs=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"area",value:function(){return a.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return a.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(e){if(e===null)throw new X("Supplied point is null.");return a.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return a.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return a.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return a.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return a.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return a.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return a.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],n=arguments[1],o=arguments[2];this.p0=e,this.p1=n,this.p2=o}},{key:"area",value:function(e,n,o){return Math.abs(((o.x-e.x)*(n.y-e.y)-(n.x-e.x)*(o.y-e.y))/2)}},{key:"signedArea",value:function(e,n,o){return((o.x-e.x)*(n.y-e.y)-(n.x-e.x)*(o.y-e.y))/2}},{key:"det",value:function(e,n,o,f){return e*f-n*o}},{key:"interpolateZ",value:function(e,n,o,f){var m=n.x,y=n.y,b=o.x-m,S=f.x-m,M=o.y-y,q=f.y-y,K=b*q-S*M,ut=e.x-m,Lt=e.y-y,Ct=(q*ut-S*Lt)/K,Dt=(-M*ut+b*Lt)/K;return n.getZ()+Ct*(o.getZ()-n.getZ())+Dt*(f.getZ()-n.getZ())}},{key:"longestSideLength",value:function(e,n,o){var f=e.distance(n),m=n.distance(o),y=o.distance(e),b=f;return m>b&&(b=m),y>b&&(b=y),b}},{key:"circumcentreDD",value:function(e,n,o){var f=mt.valueOf(e.x).subtract(o.x),m=mt.valueOf(e.y).subtract(o.y),y=mt.valueOf(n.x).subtract(o.x),b=mt.valueOf(n.y).subtract(o.y),S=mt.determinant(f,m,y,b).multiply(2),M=f.sqr().add(m.sqr()),q=y.sqr().add(b.sqr()),K=mt.determinant(m,M,b,q),ut=mt.determinant(f,M,y,q),Lt=mt.valueOf(o.x).subtract(K.divide(S)).doubleValue(),Ct=mt.valueOf(o.y).add(ut.divide(S)).doubleValue();return new F(Lt,Ct)}},{key:"isAcute",value:function(e,n,o){return!!Ae.isAcute(e,n,o)&&!!Ae.isAcute(n,o,e)&&!!Ae.isAcute(o,e,n)}},{key:"circumcentre",value:function(e,n,o){var f=o.x,m=o.y,y=e.x-f,b=e.y-m,S=n.x-f,M=n.y-m,q=2*a.det(y,b,S,M),K=a.det(b,y*y+b*b,M,S*S+M*M),ut=a.det(y,y*y+b*b,S,S*S+M*M);return new F(f-K/q,m+ut/q)}},{key:"perpendicularBisector",value:function(e,n){var o=n.x-e.x,f=n.y-e.y,m=new Js(e.x+o/2,e.y+f/2,1),y=new Js(e.x-f+o/2,e.y+o+f/2,1);return new Js(m,y)}},{key:"angleBisector",value:function(e,n,o){var f=n.distance(e),m=f/(f+n.distance(o)),y=o.x-e.x,b=o.y-e.y;return new F(e.x+m*y,e.y+m*b)}},{key:"area3D",value:function(e,n,o){var f=n.x-e.x,m=n.y-e.y,y=n.getZ()-e.getZ(),b=o.x-e.x,S=o.y-e.y,M=o.getZ()-e.getZ(),q=m*M-y*S,K=y*b-f*M,ut=f*S-m*b,Lt=q*q+K*K+ut*ut,Ct=Math.sqrt(Lt)/2;return Ct}},{key:"centroid",value:function(e,n,o){var f=(e.x+n.x+o.x)/3,m=(e.y+n.y+o.y)/3;return new F(f,m)}},{key:"inCentre",value:function(e,n,o){var f=n.distance(o),m=e.distance(o),y=e.distance(n),b=f+m+y,S=(f*e.x+m*n.x+y*o.x)/b,M=(f*e.y+m*n.y+y*o.y)/b;return new F(S,M)}}])}(),to=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(a,e,n,o,f){if(e===0&&a.length<Nn.MINIMUM_VALID_SIZE)return null;var m=o,y=f;a.length>=Nn.MINIMUM_VALID_SIZE&&Mt.isCCW(a)&&(m=f,y=o,n=C.opposite(n));var b=this._curveBuilder.getRingCurve(a,n,e);this.addCurve(b,m,y)}},{key:"addRingBothSides",value:function(a,e){this.addRingSide(a,e,C.LEFT,T.EXTERIOR,T.INTERIOR),this.addRingSide(a,e,C.RIGHT,T.INTERIOR,T.EXTERIOR)}},{key:"addPoint",value:function(a){if(this._distance<=0)return null;var e=a.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)}},{key:"addPolygon",value:function(a){var e=this._distance,n=C.LEFT;this._distance<0&&(e=-this._distance,n=C.RIGHT);var o=a.getExteriorRing(),f=Me.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance)||this._distance<=0&&f.length<3)return null;this.addRingSide(f,e,n,T.EXTERIOR,T.INTERIOR);for(var m=0;m<a.getNumInteriorRing();m++){var y=a.getInteriorRingN(m),b=Me.removeRepeatedPoints(y.getCoordinates());this._distance>0&&this.isErodedCompletely(y,-this._distance)||this.addRingSide(b,e,C.opposite(n),T.INTERIOR,T.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(a,e){var n=new Qs(a[0],a[1],a[2]),o=n.inCentre();return Tn.pointToSegment(o,n.p0,n.p1)<Math.abs(e)}},{key:"addLineString",value:function(a){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var e=Me.removeRepeatedPoints(a.getCoordinates());if(Me.isRing(e)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(e,this._distance);else{var n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)}}},{key:"addCurve",value:function(a,e,n){if(a===null||a.length<2)return null;var o=new Wn(a,new rn(0,T.BOUNDARY,e,n));this._curveList.add(o)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(a){if(a.isEmpty())return null;if(a instanceof ur)this.addPolygon(a);else if(a instanceof ar)this.addLineString(a);else if(a instanceof Ms)this.addPoint(a);else if(a instanceof Ar)this.addCollection(a);else if(a instanceof Br)this.addCollection(a);else if(a instanceof Ds)this.addCollection(a);else{if(!(a instanceof Ke))throw new nt(a.getGeometryType());this.addCollection(a)}}},{key:"isErodedCompletely",value:function(a,e){var n=a.getCoordinates();if(n.length<4)return e<0;if(n.length===4)return this.isTriangleErodedCompletely(n,e);var o=a.getEnvelopeInternal(),f=Math.min(o.getHeight(),o.getWidth());return e<0&&2*Math.abs(e)>f}},{key:"addCollection",value:function(a){for(var e=0;e<a.getNumGeometries();e++){var n=a.getGeometryN(e);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new St;var a=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=a,this._distance=e,this._curveBuilder=n}}])}(),ku=function(){return _(function a(){s(this,a)},[{key:"locate",value:function(a){}}])}(),xu=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,a.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new $;var e=this._parent.getGeometryN(this._index++);return e instanceof Ke?(this._subcollectionIterator=new a(e),this._subcollectionIterator.next()):e}},{key:"remove",value:function(){throw new nt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Lu]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof Ke)}}])}(),ta=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"locate",value:function(e){return a.locate(e,this._geom)}},{key:"interfaces_",get:function(){return[ku]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(e,n){if(n.isEmpty())return T.EXTERIOR;var o=n.getExteriorRing(),f=a.locatePointInRing(e,o);if(f!==T.INTERIOR)return f;for(var m=0;m<n.getNumInteriorRing();m++){var y=n.getInteriorRingN(m),b=a.locatePointInRing(e,y);if(b===T.BOUNDARY)return T.BOUNDARY;if(b===T.INTERIOR)return T.EXTERIOR}return T.INTERIOR}},{key:"locatePointInRing",value:function(e,n){return n.getEnvelopeInternal().intersects(e)?Ui.locateInRing(e,n.getCoordinates()):T.EXTERIOR}},{key:"containsPointInPolygon",value:function(e,n){return T.EXTERIOR!==a.locatePointInPolygon(e,n)}},{key:"locateInGeometry",value:function(e,n){if(n instanceof ur)return a.locatePointInPolygon(e,n);if(n instanceof Ke)for(var o=new xu(n);o.hasNext();){var f=o.next();if(f!==n){var m=a.locateInGeometry(e,f);if(m!==T.EXTERIOR)return m}}return T.EXTERIOR}},{key:"isContained",value:function(e,n){return T.EXTERIOR!==a.locate(e,n)}},{key:"locate",value:function(e,n){return n.isEmpty()?T.EXTERIOR:n.getEnvelopeInternal().intersects(e)?a.locateInGeometry(e,n):T.EXTERIOR}}])}(),wu=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(a){this.getEdges();var e=this._edgeList.indexOf(a),n=e-1;return e===0&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(a){for(var e=T.NONE,n=this.iterator();n.hasNext();){var o=n.next().getLabel();o.isArea(a)&&o.getLocation(a,C.LEFT)!==T.NONE&&(e=o.getLocation(a,C.LEFT))}if(e===T.NONE)return null;for(var f=e,m=this.iterator();m.hasNext();){var y=m.next(),b=y.getLabel();if(b.getLocation(a,C.ON)===T.NONE&&b.setLocation(a,C.ON,f),b.isArea(a)){var S=b.getLocation(a,C.LEFT),M=b.getLocation(a,C.RIGHT);if(M!==T.NONE){if(M!==f)throw new qe("side location conflict",y.getCoordinate());S===T.NONE&&kt.shouldNeverReachHere("found single null side (at "+y.getCoordinate()+")"),f=S}else kt.isTrue(b.getLocation(a,C.LEFT)===T.NONE,"found single null side"),b.setLocation(a,C.RIGHT,f),b.setLocation(a,C.LEFT,f)}}}},{key:"getCoordinate",value:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null}},{key:"print",value:function(a){yn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"isAreaLabelsConsistent",value:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(a){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,o=e.get(n).getLabel().getLocation(a,C.LEFT);kt.isTrue(o!==T.NONE,"Found unlabelled area edge");for(var f=o,m=this.iterator();m.hasNext();){var y=m.next().getLabel();kt.isTrue(y.isArea(a),"Found non-area edge");var b=y.getLocation(a,C.LEFT),S=y.getLocation(a,C.RIGHT);if(b===S||S!==f)return!1;f=b}return!0}},{key:"findIndex",value:function(a){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===a)return e;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new St(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(a,e,n){return this._ptInAreaLocation[a]===T.NONE&&(this._ptInAreaLocation[a]=ta.locate(e,n[a].getGeometry())),this._ptInAreaLocation[a]}},{key:"toString",value:function(){var a=new et;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append(`
`);for(var e=this.iterator();e.hasNext();){var n=e.next();a.append(n),a.append(`
`)}return a.toString()}},{key:"computeEdgeEndLabels",value:function(a){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(a)}},{key:"computeLabelling",value:function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var o=n.next().getLabel(),f=0;f<2;f++)o.isLine(f)&&o.getLocation(f)===T.BOUNDARY&&(e[f]=!0);for(var m=this.iterator();m.hasNext();)for(var y=m.next(),b=y.getLabel(),S=0;S<2;S++)if(b.isAnyNull(S)){var M=T.NONE;if(e[S])M=T.EXTERIOR;else{var q=y.getCoordinate();M=this.getLocation(S,q,a)}b.setAllLocationsIfNull(S,M)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(a,e){this._edgeMap.put(a,e),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Pe,this._edgeList=null,this._ptInAreaLocation=[T.NONE,T.NONE]}}])}(),Sn=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var n=null,o=null,f=this._SCANNING_FOR_INCOMING,m=0;m<this._resultAreaEdgeList.size();m++){var y=this._resultAreaEdgeList.get(m),b=y.getSym();if(y.getLabel().isArea())switch(n===null&&y.isInResult()&&(n=y),f){case this._SCANNING_FOR_INCOMING:if(!b.isInResult())continue;o=b,f=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!y.isInResult())continue;o.setNext(y),f=this._SCANNING_FOR_INCOMING}}if(f===this._LINKING_TO_OUTGOING){if(n===null)throw new qe("no outgoing dirEdge found",this.getCoordinate());kt.isTrue(n.isInResult(),"unable to link last incoming dirEdge"),o.setNext(n)}}},{key:"insert",value:function(n){var o=n;this.insertEdgeEnd(o,o)}},{key:"getRightmostEdge",value:function(){var n=this.getEdges(),o=n.size();if(o<1)return null;var f=n.get(0);if(o===1)return f;var m=n.get(o-1),y=f.getQuadrant(),b=m.getQuadrant();return We.isNorthern(y)&&We.isNorthern(b)?f:We.isNorthern(y)||We.isNorthern(b)?f.getDy()!==0?f:m.getDy()!==0?m:(kt.shouldNeverReachHere("found two horizontal edges incident on node"),null):m}},{key:"print",value:function(n){yn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var o=this.iterator();o.hasNext();){var f=o.next();n.print("out "),f.print(n),n.println(),n.print("in "),f.getSym().print(n),n.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new St;for(var n=this.iterator();n.hasNext();){var o=n.next();(o.isInResult()||o.getSym().isInResult())&&this._resultAreaEdgeList.add(o)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(n){for(var o=this.iterator();o.hasNext();){var f=o.next().getLabel();f.setAllLocationsIfNull(0,n.getLocation(0)),f.setAllLocationsIfNull(1,n.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var n=null,o=null,f=this._edgeList.size()-1;f>=0;f--){var m=this._edgeList.get(f),y=m.getSym();o===null&&(o=y),n!==null&&y.setNext(n),n=m}o.setNext(n)}},{key:"computeDepths",value:function(){if(arguments.length===1){var n=arguments[0],o=this.findIndex(n),f=n.getDepth(C.LEFT),m=n.getDepth(C.RIGHT),y=this.computeDepths(o+1,this._edgeList.size(),f);if(this.computeDepths(0,o,y)!==m)throw new qe("depth mismatch at "+n.getCoordinate())}else if(arguments.length===3){for(var b=arguments[1],S=arguments[2],M=arguments[0];M<b;M++){var q=this._edgeList.get(M);q.setEdgeDepths(C.RIGHT,S),S=q.getDepth(C.LEFT)}return S}}},{key:"mergeSymLabels",value:function(){for(var n=this.iterator();n.hasNext();){var o=n.next();o.getLabel().merge(o.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(n){for(var o=null,f=null,m=this._SCANNING_FOR_INCOMING,y=this._resultAreaEdgeList.size()-1;y>=0;y--){var b=this._resultAreaEdgeList.get(y),S=b.getSym();switch(o===null&&b.getEdgeRing()===n&&(o=b),m){case this._SCANNING_FOR_INCOMING:if(S.getEdgeRing()!==n)continue;f=S,m=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(b.getEdgeRing()!==n)continue;f.setNextMin(b),m=this._SCANNING_FOR_INCOMING}}m===this._LINKING_TO_OUTGOING&&(kt.isTrue(o!==null,"found null for first outgoing dirEdge"),kt.isTrue(o.getEdgeRing()===n,"unable to link last incoming dirEdge"),f.setNextMin(o))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var n=0,o=this.iterator();o.hasNext();)o.next().isInResult()&&n++;return n}if(arguments.length===1){for(var f=arguments[0],m=0,y=this.iterator();y.hasNext();)y.next().getEdgeRing()===f&&m++;return m}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var n=T.NONE,o=this.iterator();o.hasNext();){var f=o.next(),m=f.getSym();if(!f.isLineEdge()){if(f.isInResult()){n=T.INTERIOR;break}if(m.isInResult()){n=T.EXTERIOR;break}}}if(n===T.NONE)return null;for(var y=n,b=this.iterator();b.hasNext();){var S=b.next(),M=S.getSym();S.isLineEdge()?S.getEdge().setCovered(y===T.INTERIOR):(S.isInResult()&&(y=T.EXTERIOR),M.isInResult()&&(y=T.INTERIOR))}}},{key:"computeLabelling",value:function(n){O(e,"computeLabelling",this,1).call(this,n),this._label=new rn(T.NONE);for(var o=this.iterator();o.hasNext();)for(var f=o.next().getEdge().getLabel(),m=0;m<2;m++){var y=f.getLocation(m);y!==T.INTERIOR&&y!==T.BOUNDARY||this._label.setLocation(m,T.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(wu),Zi=function(a){function e(){return s(this,e),h(this,e)}return k(e,a),_(e,[{key:"createNode",value:function(n){return new dr(n,new Sn)}}])}(qs),ea=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"compareTo",value:function(e){var n=e;return a.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=a.orientation(e)}},{key:"orientation",value:function(e){return Me.increasingDirection(e)===1}},{key:"compareOriented",value:function(e,n,o,f){for(var m=n?1:-1,y=f?1:-1,b=n?e.length:-1,S=f?o.length:-1,M=n?0:e.length-1,q=f?0:o.length-1;;){var K=e[M].compareTo(o[q]);if(K!==0)return K;var ut=(M+=m)===b,Lt=(q+=y)===S;if(ut&&!Lt)return-1;if(!ut&&Lt)return 1;if(ut&&Lt)return 0}}}])}(),$n=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&a.print(","),a.print("(");for(var o=n.getCoordinates(),f=0;f<o.length;f++)f>0&&a.print(","),a.print(o[f].x+" "+o[f].y);a.println(")")}a.print(")  ")}},{key:"addAll",value:function(a){for(var e=a.iterator();e.hasNext();)this.add(e.next())}},{key:"findEdgeIndex",value:function(a){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(a))return e;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(a){return this._edges.get(a)}},{key:"findEqualEdge",value:function(a){var e=new ea(a.getCoordinates());return this._ocaMap.get(e)}},{key:"add",value:function(a){this._edges.add(a);var e=new ea(a.getCoordinates());this._ocaMap.put(e,a)}}],[{key:"constructor_",value:function(){this._edges=new St,this._ocaMap=new Pe}}])}(),na=function(){return _(function a(){s(this,a)},[{key:"processIntersections",value:function(a,e,n,o){}},{key:"isDone",value:function(){}}])}(),qi=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isTrivialIntersection",value:function(e,n,o,f){if(e===o&&this._li.getIntersectionNum()===1){if(a.isAdjacentSegments(n,f))return!0;if(e.isClosed()){var m=e.size()-1;if(n===0&&f===m||f===0&&n===m)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,n,o,f){if(e===o&&n===f)return null;this.numTests++;var m=e.getCoordinates()[n],y=e.getCoordinates()[n+1],b=o.getCoordinates()[f],S=o.getCoordinates()[f+1];this._li.computeIntersection(m,y,b,S),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,n,o,f)||(this._hasIntersection=!0,e.addIntersections(this._li,n,0),o.addIntersections(this._li,f,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[na]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,n){return Math.abs(e-n)===1}}])}(),bu=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)}},{key:"compareTo",value:function(a){var e=a;return this.compare(e.segmentIndex,e.dist)}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===a}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(a,e){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<e?-1:this.dist>e?1:0}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],e=arguments[1],n=arguments[2];this.coord=new F(a),this.segmentIndex=e,this.dist=n}}])}(),vr=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(a)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var o=e.next(),f=this.createSplitEdge(n,o);a.add(f),n=o}}},{key:"addEndpoints",value:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)}},{key:"createSplitEdge",value:function(a,e){var n=e.segmentIndex-a.segmentIndex+2,o=this.edge.pts[e.segmentIndex],f=e.dist>0||!e.coord.equals2D(o);f||n--;var m=new Array(n).fill(null),y=0;m[y++]=new F(a.coord);for(var b=a.segmentIndex+1;b<=e.segmentIndex;b++)m[y++]=this.edge.pts[b];return f&&(m[y]=e.coord),new ra(m,new rn(this.edge._label))}},{key:"add",value:function(a,e,n){var o=new bu(a,e,n),f=this._nodeMap.get(o);return f!==null?f:(this._nodeMap.put(o,o),o)}},{key:"isIntersection",value:function(a){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(a))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Pe,this.edge=null;var a=arguments[0];this.edge=a}}])}(),ia=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])||a.isTrue(this._matrix[T.INTERIOR][T.BOUNDARY])||a.isTrue(this._matrix[T.BOUNDARY][T.INTERIOR])||a.isTrue(this._matrix[T.BOUNDARY][T.BOUNDARY]))&&this._matrix[T.EXTERIOR][T.INTERIOR]===pt.FALSE&&this._matrix[T.EXTERIOR][T.BOUNDARY]===pt.FALSE}},{key:"isCoveredBy",value:function(){return(a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])||a.isTrue(this._matrix[T.INTERIOR][T.BOUNDARY])||a.isTrue(this._matrix[T.BOUNDARY][T.INTERIOR])||a.isTrue(this._matrix[T.BOUNDARY][T.BOUNDARY]))&&this._matrix[T.INTERIOR][T.EXTERIOR]===pt.FALSE&&this._matrix[T.BOUNDARY][T.EXTERIOR]===pt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var e=arguments[0],n=0;n<e.length;n++){var o=Math.trunc(n/3),f=n%3;this._matrix[o][f]=pt.toDimensionValue(e.charAt(n))}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this._matrix[m][y]=b}}},{key:"isContains",value:function(){return a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&this._matrix[T.EXTERIOR][T.INTERIOR]===pt.FALSE&&this._matrix[T.EXTERIOR][T.BOUNDARY]===pt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var e=arguments[0],n=0;n<e.length;n++){var o=Math.trunc(n/3),f=n%3;this.setAtLeast(o,f,pt.toDimensionValue(e.charAt(n)))}else if(arguments.length===3){var m=arguments[0],y=arguments[1],b=arguments[2];this._matrix[m][y]<b&&(this._matrix[m][y]=b)}}},{key:"setAtLeastIfValid",value:function(e,n,o){e>=0&&n>=0&&this.setAtLeast(e,n,o)}},{key:"isWithin",value:function(){return a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&this._matrix[T.INTERIOR][T.EXTERIOR]===pt.FALSE&&this._matrix[T.BOUNDARY][T.EXTERIOR]===pt.FALSE}},{key:"isTouches",value:function(e,n){return e>n?this.isTouches(n,e):(e===pt.A&&n===pt.A||e===pt.L&&n===pt.L||e===pt.L&&n===pt.A||e===pt.P&&n===pt.A||e===pt.P&&n===pt.L)&&this._matrix[T.INTERIOR][T.INTERIOR]===pt.FALSE&&(a.isTrue(this._matrix[T.INTERIOR][T.BOUNDARY])||a.isTrue(this._matrix[T.BOUNDARY][T.INTERIOR])||a.isTrue(this._matrix[T.BOUNDARY][T.BOUNDARY]))}},{key:"isOverlaps",value:function(e,n){return e===pt.P&&n===pt.P||e===pt.A&&n===pt.A?a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&a.isTrue(this._matrix[T.INTERIOR][T.EXTERIOR])&&a.isTrue(this._matrix[T.EXTERIOR][T.INTERIOR]):e===pt.L&&n===pt.L&&this._matrix[T.INTERIOR][T.INTERIOR]===1&&a.isTrue(this._matrix[T.INTERIOR][T.EXTERIOR])&&a.isTrue(this._matrix[T.EXTERIOR][T.INTERIOR])}},{key:"isEquals",value:function(e,n){return e===n&&a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&this._matrix[T.INTERIOR][T.EXTERIOR]===pt.FALSE&&this._matrix[T.BOUNDARY][T.EXTERIOR]===pt.FALSE&&this._matrix[T.EXTERIOR][T.INTERIOR]===pt.FALSE&&this._matrix[T.EXTERIOR][T.BOUNDARY]===pt.FALSE}},{key:"toString",value:function(){for(var e=new zr("123456789"),n=0;n<3;n++)for(var o=0;o<3;o++)e.setCharAt(3*n+o,pt.toDimensionSymbol(this._matrix[n][o]));return e.toString()}},{key:"setAll",value:function(e){for(var n=0;n<3;n++)for(var o=0;o<3;o++)this._matrix[n][o]=e}},{key:"get",value:function(e,n){return this._matrix[e][n]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(e){if(e.length!==9)throw new X("Should be length 9: "+e);for(var n=0;n<3;n++)for(var o=0;o<3;o++)if(!a.matches(this._matrix[n][o],e.charAt(3*n+o)))return!1;return!0}},{key:"add",value:function(e){for(var n=0;n<3;n++)for(var o=0;o<3;o++)this.setAtLeast(n,o,e.get(n,o))}},{key:"isDisjoint",value:function(){return this._matrix[T.INTERIOR][T.INTERIOR]===pt.FALSE&&this._matrix[T.INTERIOR][T.BOUNDARY]===pt.FALSE&&this._matrix[T.BOUNDARY][T.INTERIOR]===pt.FALSE&&this._matrix[T.BOUNDARY][T.BOUNDARY]===pt.FALSE}},{key:"isCrosses",value:function(e,n){return e===pt.P&&n===pt.L||e===pt.P&&n===pt.A||e===pt.L&&n===pt.A?a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&a.isTrue(this._matrix[T.INTERIOR][T.EXTERIOR]):e===pt.L&&n===pt.P||e===pt.A&&n===pt.P||e===pt.A&&n===pt.L?a.isTrue(this._matrix[T.INTERIOR][T.INTERIOR])&&a.isTrue(this._matrix[T.EXTERIOR][T.INTERIOR]):e===pt.L&&n===pt.L&&this._matrix[T.INTERIOR][T.INTERIOR]===0}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(pt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var e=arguments[0];a.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof a){var n=arguments[0];a.constructor_.call(this),this._matrix[T.INTERIOR][T.INTERIOR]=n._matrix[T.INTERIOR][T.INTERIOR],this._matrix[T.INTERIOR][T.BOUNDARY]=n._matrix[T.INTERIOR][T.BOUNDARY],this._matrix[T.INTERIOR][T.EXTERIOR]=n._matrix[T.INTERIOR][T.EXTERIOR],this._matrix[T.BOUNDARY][T.INTERIOR]=n._matrix[T.BOUNDARY][T.INTERIOR],this._matrix[T.BOUNDARY][T.BOUNDARY]=n._matrix[T.BOUNDARY][T.BOUNDARY],this._matrix[T.BOUNDARY][T.EXTERIOR]=n._matrix[T.BOUNDARY][T.EXTERIOR],this._matrix[T.EXTERIOR][T.INTERIOR]=n._matrix[T.EXTERIOR][T.INTERIOR],this._matrix[T.EXTERIOR][T.BOUNDARY]=n._matrix[T.EXTERIOR][T.BOUNDARY],this._matrix[T.EXTERIOR][T.EXTERIOR]=n._matrix[T.EXTERIOR][T.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var e=arguments[0],n=arguments[1];return n===pt.SYM_DONTCARE||n===pt.SYM_TRUE&&(e>=0||e===pt.TRUE)||n===pt.SYM_FALSE&&e===pt.FALSE||n===pt.SYM_P&&e===pt.P||n===pt.SYM_L&&e===pt.L||n===pt.SYM_A&&e===pt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var o=arguments[1];return new a(arguments[0]).matches(o)}}},{key:"isTrue",value:function(e){return e>=0||e===pt.TRUE}}])}(),Xr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return e===null||e.length===0?null:(this.ensureCapacity(this._size+e.length),yn.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var n=Math.max(e,2*this._data.length);this._data=Ye.copyOf(this._data,n)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return yn.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)a.constructor_.call(this,10);else if(arguments.length===1){var e=arguments[0];this._data=new Array(e).fill(null)}}}])}(),Tu=function(){function a(){s(this,a)}return _(a,[{key:"getChainStartIndices",value:function(e){var n=0,o=new Xr(Math.trunc(e.length/2));o.add(n);do{var f=this.findChainEnd(e,n);o.add(f),n=f}while(n<e.length-1);return o.toArray()}},{key:"findChainEnd",value:function(e,n){for(var o=We.quadrant(e[n],e[n+1]),f=n+1;f<e.length&&We.quadrant(e[f-1],e[f])===o;)f++;return f-1}},{key:"OLDgetChainStartIndices",value:function(e){var n=0,o=new St;o.add(n);do{var f=this.findChainEnd(e,n);o.add(f),n=f}while(n<e.length-1);return a.toIntArray(o)}}],[{key:"toIntArray",value:function(e){for(var n=new Array(e.size()).fill(null),o=0;o<n.length;o++)n[o]=e.get(o).intValue();return n}}])}(),si=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(a){var e=this.pts[this.startIndex[a]].x,n=this.pts[this.startIndex[a+1]].x;return e>n?e:n}},{key:"getMinX",value:function(a){var e=this.pts[this.startIndex[a]].x,n=this.pts[this.startIndex[a+1]].x;return e<n?e:n}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var a=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],e,e.startIndex[n],e.startIndex[n+1],o)}else if(arguments.length===6){var f=arguments[0],m=arguments[1],y=arguments[2],b=arguments[3],S=arguments[4],M=arguments[5];if(m-f==1&&S-b==1)return M.addIntersections(this.e,f,y.e,b),null;if(!this.overlaps(f,m,y,b,S))return null;var q=Math.trunc((f+m)/2),K=Math.trunc((b+S)/2);f<q&&(b<K&&this.computeIntersectsForChain(f,q,y,b,K,M),K<S&&this.computeIntersectsForChain(f,q,y,K,S,M)),q<m&&(b<K&&this.computeIntersectsForChain(q,m,y,b,K,M),K<S&&this.computeIntersectsForChain(q,m,y,K,S,M))}}},{key:"overlaps",value:function(a,e,n,o,f){return gt.intersects(this.pts[a],this.pts[e],n.pts[o],n.pts[f])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(a,e){for(var n=0;n<this.startIndex.length-1;n++)for(var o=0;o<a.startIndex.length-1;o++)this.computeIntersectsForChain(n,a,o,e)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var e=new Tu;this.startIndex=e.getChainStartIndices(this.pts)}}])}(),yr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"getDepth",value:function(e,n){return this._depth[e][n]}},{key:"setDepth",value:function(e,n,o){this._depth[e][n]=o}},{key:"isNull",value:function(){if(arguments.length===0){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(this._depth[e][n]!==a.NULL_VALUE)return!1;return!0}if(arguments.length===1){var o=arguments[0];return this._depth[o][1]===a.NULL_VALUE}if(arguments.length===2){var f=arguments[0],m=arguments[1];return this._depth[f][m]===a.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var n=this._depth[e][1];this._depth[e][2]<n&&(n=this._depth[e][2]),n<0&&(n=0);for(var o=1;o<3;o++){var f=0;this._depth[e][o]>n&&(f=1),this._depth[e][o]=f}}}},{key:"getDelta",value:function(e){return this._depth[e][C.RIGHT]-this._depth[e][C.LEFT]}},{key:"getLocation",value:function(e,n){return this._depth[e][n]<=0?T.EXTERIOR:T.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var e=arguments[0],n=0;n<2;n++)for(var o=1;o<3;o++){var f=e.getLocation(n,o);f!==T.EXTERIOR&&f!==T.INTERIOR||(this.isNull(n,o)?this._depth[n][o]=a.depthAtLocation(f):this._depth[n][o]+=a.depthAtLocation(f))}else if(arguments.length===3){var m=arguments[0],y=arguments[1];arguments[2]===T.INTERIOR&&this._depth[m][y]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=a.NULL_VALUE}},{key:"depthAtLocation",value:function(e){return e===T.EXTERIOR?0:e===T.INTERIOR?1:a.NULL_VALUE}}])}();yr.NULL_VALUE=-1;var ra=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var n=new Array(2).fill(null);return n[0]=this.pts[0],n[1]=this.pts[1],new e(n,rn.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(n){this._isIsolated=n}},{key:"setName",value:function(n){this._name=n}},{key:"equals",value:function(n){if(!(n instanceof e))return!1;var o=n;if(this.pts.length!==o.pts.length)return!1;for(var f=!0,m=!0,y=this.pts.length,b=0;b<this.pts.length;b++)if(this.pts[b].equals2D(o.pts[b])||(f=!1),this.pts[b].equals2D(o.pts[--y])||(m=!1),!f&&!m)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var n=arguments[0];return this.pts[n]}}},{key:"print",value:function(n){n.print("edge "+this._name+": "),n.print("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&n.print(","),n.print(this.pts[o].x+" "+this.pts[o].y);n.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(n){e.updateIM(this._label,n)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(n){n.print("edge "+this._name+": ");for(var o=this.pts.length-1;o>=0;o--)n.print(this.pts[o]+" ");n.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new si(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new gt;for(var n=0;n<this.pts.length;n++)this._env.expandToInclude(this.pts[n])}return this._env}},{key:"addIntersection",value:function(n,o,f,m){var y=new F(n.getIntersection(m)),b=o,S=n.getEdgeDistance(f,m),M=b+1;if(M<this.pts.length){var q=this.pts[M];y.equals2D(q)&&(b=M,S=0)}this.eiList.add(y,b,S)}},{key:"toString",value:function(){var n=new zr;n.append("edge "+this._name+": "),n.append("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&n.append(","),n.append(this.pts[o].x+" "+this.pts[o].y);return n.append(")  "+this._label+" "+this._depthDelta),n.toString()}},{key:"isPointwiseEqual",value:function(n){if(this.pts.length!==n.pts.length)return!1;for(var o=0;o<this.pts.length;o++)if(!this.pts[o].equals2D(n.pts[o]))return!1;return!0}},{key:"setDepthDelta",value:function(n){this._depthDelta=n}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(n,o,f){for(var m=0;m<n.getIntersectionNum();m++)this.addIntersection(n,o,f,m)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new vr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new yr,this._depthDelta=0,arguments.length===1){var n=arguments[0];e.constructor_.call(this,n,null)}else if(arguments.length===2){var o=arguments[0],f=arguments[1];this.pts=o,this._label=f}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof ia&&arguments[0]instanceof rn))return O(e,"updateIM",this).apply(this,arguments);var n=arguments[0],o=arguments[1];o.setAtLeastIfValid(n.getLocation(0,C.ON),n.getLocation(1,C.ON),1),n.isArea()&&(o.setAtLeastIfValid(n.getLocation(0,C.LEFT),n.getLocation(1,C.LEFT),2),o.setAtLeastIfValid(n.getLocation(0,C.RIGHT),n.getLocation(1,C.RIGHT),2))}}])}(ge),jr=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(e){var n=this._edgeList.findEqualEdge(e);if(n!==null){var o=n.getLabel(),f=e.getLabel();n.isPointwiseEqual(e)||(f=new rn(e.getLabel())).flip(),o.merge(f);var m=a.depthDelta(f),y=n.getDepthDelta()+m;n.setDepthDelta(y)}else this._edgeList.add(e),e.setDepthDelta(a.depthDelta(e.getLabel()))}},{key:"buildSubgraphs",value:function(e,n){for(var o=new St,f=e.iterator();f.hasNext();){var m=f.next(),y=m.getRightmostCoordinate(),b=new hn(o).getDepth(y);m.computeDepth(b),m.findResultEdges(),o.add(m),n.add(m.getDirectedEdges(),m.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var n=new St,o=e.getNodes().iterator();o.hasNext();){var f=o.next();if(!f.isVisited()){var m=new Qn;m.create(f),n.add(m)}}return ki.sort(n,ki.reverseOrder()),n}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(this._workingNoder!==null)return this._workingNoder;var n=new $s,o=new Vn;return o.setPrecisionModel(e),n.setSegmentIntersector(new qi(o)),n}},{key:"buffer",value:function(e,n){var o=this._workingPrecisionModel;o===null&&(o=e.getPrecisionModel()),this._geomFact=e.getFactory();var f=new pr(o,this._bufParams),m=new to(e,n,f).getCurves();if(m.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(m,o),this._graph=new Yr(new Zi),this._graph.addEdges(this._edgeList.getEdges());var y=this.createSubgraphs(this._graph),b=new mu(this._geomFact);this.buildSubgraphs(y,b);var S=b.getPolygons();return S.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(S)}},{key:"computeNodedEdges",value:function(e,n){var o=this.getNoder(n);o.computeNodes(e);for(var f=o.getNodedSubstrings().iterator();f.hasNext();){var m=f.next(),y=m.getCoordinates();if(y.length!==2||!y[0].equals2D(y[1])){var b=m.getData(),S=new ra(m.getCoordinates(),new rn(b));this.insertUniqueEdge(S)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new $n;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var n=e.getLocation(0,C.LEFT),o=e.getLocation(0,C.RIGHT);return n===T.INTERIOR&&o===T.EXTERIOR?1:n===T.EXTERIOR&&o===T.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var n=new Mn,o=new St;e.hasNext();){var f=e.next(),m=n.createLineString(f.getCoordinates());o.add(m)}return n.buildGeometry(o)}}])}(),Iu=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"rescale",value:function(){if(H(arguments[0],D))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],f=0;f<o.length;f++)o[f].x=o[f].x/this._scaleFactor+this._offsetX,o[f].y=o[f].y/this._scaleFactor+this._offsetY;o.length===2&&o[0].equals2D(o[1])&&yn.out.println(o)}}},{key:"scale",value:function(){if(H(arguments[0],D)){for(var e=arguments[0],n=new St(e.size()),o=e.iterator();o.hasNext();){var f=o.next();n.add(new Wn(this.scale(f.getCoordinates()),f.getData()))}return n}if(arguments[0]instanceof Array){for(var m=arguments[0],y=new Array(m.length).fill(null),b=0;b<m.length;b++)y[b]=new F(Math.round((m[b].x-this._offsetX)*this._scaleFactor),Math.round((m[b].y-this._offsetY)*this._scaleFactor),m[b].getZ());return Me.removeRepeatedPoints(y)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var n=e;this._isScaled&&(n=this.scale(e)),this._noder.computeNodes(n)}},{key:"interfaces_",get:function(){return[Ws]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],n=arguments[1];a.constructor_.call(this,e,n,0,0)}else if(arguments.length===4){var o=arguments[0],f=arguments[1];this._noder=o,this._scaleFactor=f,this._isScaled=!this.isIntegerPrecision()}}}])}(),Fn=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next().getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(arguments.length===2){for(var o=arguments[0],f=arguments[1].iterator();f.hasNext();)for(var m=f.next().getCoordinates(),y=1;y<m.length-1;y++)if(m[y].equals(o))throw new Ut("found endpt/interior pt intersection at index "+y+" :pt "+o)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();)for(var n=e.next(),o=this._segStrings.iterator();o.hasNext();){var f=o.next();this.checkInteriorIntersections(n,f)}else if(arguments.length===2)for(var m=arguments[0],y=arguments[1],b=m.getCoordinates(),S=y.getCoordinates(),M=0;M<b.length-1;M++)for(var q=0;q<S.length-1;q++)this.checkInteriorIntersections(m,M,y,q);else if(arguments.length===4){var K=arguments[0],ut=arguments[1],Lt=arguments[2],Ct=arguments[3];if(K===Lt&&ut===Ct)return null;var Dt=K.getCoordinates()[ut],ie=K.getCoordinates()[ut+1],Jt=Lt.getCoordinates()[Ct],_e=Lt.getCoordinates()[Ct+1];if(this._li.computeIntersection(Dt,ie,Jt,_e),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Dt,ie)||this.hasInteriorIntersection(this._li,Jt,_e)))throw new Ut("found non-noded intersection at "+Dt+"-"+ie+" and "+Jt+"-"+_e)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next();this.checkCollapses(n)}else if(arguments.length===1)for(var o=arguments[0].getCoordinates(),f=0;f<o.length-2;f++)this.checkCollapse(o[f],o[f+1],o[f+2])}},{key:"hasInteriorIntersection",value:function(e,n,o){for(var f=0;f<e.getIntersectionNum();f++){var m=e.getIntersection(f);if(!m.equals(n)&&!m.equals(o))return!0}return!1}},{key:"checkCollapse",value:function(e,n,o){if(e.equals(o))throw new Ut("found non-noded collapse at "+a.fact.createLineString([e,n,o]))}}],[{key:"constructor_",value:function(){this._li=new Vn,this._segStrings=null;var e=arguments[0];this._segStrings=e}}])}();Fn.fact=new Mn;var eo=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"intersectsScaled",value:function(e,n){var o=Math.min(e.x,n.x),f=Math.max(e.x,n.x),m=Math.min(e.y,n.y),y=Math.max(e.y,n.y),b=this._maxx<o||this._minx>f||this._maxy<m||this._miny>y;if(b)return!1;var S=this.intersectsToleranceSquare(e,n);return kt.isTrue(!(b&&S),"Found bad envelope test"),S}},{key:"initCorners",value:function(e){var n=.5;this._minx=e.x-n,this._maxx=e.x+n,this._miny=e.y-n,this._maxy=e.y+n,this._corner[0]=new F(this._maxx,this._maxy),this._corner[1]=new F(this._minx,this._maxy),this._corner[2]=new F(this._minx,this._miny),this._corner[3]=new F(this._maxx,this._miny)}},{key:"intersects",value:function(e,n){return this._scaleFactor===1?this.intersectsScaled(e,n):(this.copyScaled(e,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,n){n.x=this.scale(e.x),n.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var e=a.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new gt(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,n){return this._li.computeIntersection(e,n,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(e,n){var o=!1,f=!1;return this._li.computeIntersection(e,n,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,n,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(e,n,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(f=!0),this._li.computeIntersection(e,n,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!o||!f)||!!e.equals(this._pt)||!!n.equals(this._pt))))}},{key:"addSnappedNode",value:function(e,n){var o=e.getCoordinate(n),f=e.getCoordinate(n+1);return!!this.intersects(o,f)&&(e.addIntersection(this.getCoordinate(),n),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],n=arguments[1],o=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=n,this._li=o,n<=0)throw new X("Scale factor must be non-zero");n!==1&&(this._pt=new F(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new F,this._p1Scaled=new F),this.initCorners(this._pt)}}])}();eo.SAFE_ENV_EXPANSION_FACTOR=.75;var Yi=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var a=arguments[1];arguments[0].getLineSegment(a,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new cn}}])}(),sa=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var a=arguments[0];return this.snap(a,null,-1)}if(arguments.length===3){var e=arguments[0],n=arguments[1],o=arguments[2],f=e.getSafeEnvelope(),m=new zn(e,n,o);return this._index.query(f,new(function(){return _(function y(){s(this,y)},[{key:"interfaces_",get:function(){return[Xo]}},{key:"visitItem",value:function(y){y.select(f,m)}}])}())),m.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var a=arguments[0];this._index=a}}])}(),zn=function(a){function e(){var n;return s(this,e),n=h(this,e),e.constructor_.apply(n,arguments),n}return k(e,a),_(e,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Vs))return O(e,"select",this,1).apply(this,arguments);var n=arguments[1],o=arguments[0].getContext();if(this._parentEdge===o&&(n===this._hotPixelVertexIndex||n+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(o,n)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],o=arguments[1],f=arguments[2];this._hotPixel=n,this._parentEdge=o,this._hotPixelVertexIndex=f}}])}(Yi);sa.HotPixelSnapAction=zn;var Kr=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(a,e,n,o){if(a===n&&e===o)return null;var f=a.getCoordinates()[e],m=a.getCoordinates()[e+1],y=n.getCoordinates()[o],b=n.getCoordinates()[o+1];if(this._li.computeIntersection(f,m,y,b),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var S=0;S<this._li.getIntersectionNum();S++)this._interiorIntersections.add(this._li.getIntersection(S));a.addIntersections(this._li,e,0),n.addIntersections(this._li,o,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[na]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var a=arguments[0];this._li=a,this._interiorIntersections=new St}}])}(),oa=function(){return _(function a(){s(this,a),a.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(a){var e=Wn.getNodedSubstrings(a),n=new Fn(e);try{n.checkValid()}catch(o){if(!(o instanceof B))throw o;o.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Wn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(a,e){var n=this.findInteriorIntersections(a,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(a)}},{key:"findInteriorIntersections",value:function(a,e){var n=new Kr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(a),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(H(arguments[0],D))for(var a=arguments[0].iterator();a.hasNext();){var e=a.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Wn)for(var n=arguments[0],o=n.getCoordinates(),f=0;f<o.length;f++){var m=new eo(o[f],this._scaleFactor,this._li);this._pointSnapper.snap(m,n,f)&&n.addIntersection(o[f],f)}}},{key:"computeNodes",value:function(a){this._nodedSegStrings=a,this._noder=new $s,this._pointSnapper=new sa(this._noder.getIndex()),this.snapRound(a,this._li)}},{key:"computeIntersectionSnaps",value:function(a){for(var e=a.iterator();e.hasNext();){var n=e.next(),o=new eo(n,this._scaleFactor,this._li);this._pointSnapper.snap(o)}}},{key:"interfaces_",get:function(){return[Ws]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var a=arguments[0];this._pm=a,this._li=new Vn,this._li.setPrecisionModel(a),this._scaleFactor=a.getScale()}}])}(),oi=function(){function a(){s(this,a),a.constructor_.apply(this,arguments)}return _(a,[{key:"bufferFixedPrecision",value:function(e){var n=new Iu(new oa(new Je(1)),e.getScale()),o=new jr(this._bufParams);o.setWorkingPrecisionModel(e),o.setNoder(n),this._resultGeometry=o.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var e=a.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(m){if(!(m instanceof qe))throw m;this._saveException=m}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var n=arguments[0],o=a.precisionScaleFactor(this._argGeom,this._distance,n),f=new Je(o);this.bufferFixedPrecision(f)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Je.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new jr(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(n){if(!(n instanceof Ut))throw n;this._saveException=n}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new G,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var n=arguments[0],o=arguments[1];this._argGeom=n,this._bufParams=o}}},{key:"bufferOp",value:function(){if(arguments.length===2){var e=arguments[1];return new a(arguments[0]).getResultGeometry(e)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof _t&&typeof arguments[1]=="number"){var n=arguments[1],o=arguments[2],f=new a(arguments[0]);return f.setQuadrantSegments(o),f.getResultGeometry(n)}if(arguments[2]instanceof G&&arguments[0]instanceof _t&&typeof arguments[1]=="number"){var m=arguments[1];return new a(arguments[0],arguments[2]).getResultGeometry(m)}}else if(arguments.length===4){var y=arguments[1],b=arguments[2],S=arguments[3],M=new a(arguments[0]);return M.setQuadrantSegments(b),M.setEndCapStyle(S),M.getResultGeometry(y)}}},{key:"precisionScaleFactor",value:function(e,n,o){var f=e.getEnvelopeInternal(),m=Di.max(Math.abs(f.getMaxX()),Math.abs(f.getMaxY()),Math.abs(f.getMinX()),Math.abs(f.getMinY()))+2*(n>0?n:0),y=o-Math.trunc(Math.log(m)/Math.log(10)+1);return Math.pow(10,y)}}])}();oi.CAP_ROUND=G.CAP_ROUND,oi.CAP_BUTT=G.CAP_FLAT,oi.CAP_FLAT=G.CAP_FLAT,oi.CAP_SQUARE=G.CAP_SQUARE,oi.MAX_PRECISION_DIGITS=12;var Jr=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Qr=function(){return _(function a(e){s(this,a),this.geometryFactory=e||new Mn},[{key:"read",value:function(a){var e,n=(e=typeof a=="string"?JSON.parse(a):a).type;if(!Qe[n])throw new Error("Unknown GeoJSON type: "+e.type);return Jr.indexOf(n)!==-1?Qe[n].call(this,e.coordinates):n==="GeometryCollection"?Qe[n].call(this,e.geometries):Qe[n].call(this,e)}},{key:"write",value:function(a){var e=a.getGeometryType();if(!tn[e])throw new Error("Geometry is not supported");return tn[e].call(this,a)}}])}(),Qe={Feature:function(a){var e={};for(var n in a)e[n]=a[n];if(a.geometry){var o=a.geometry.type;if(!Qe[o])throw new Error("Unknown GeoJSON type: "+a.type);e.geometry=this.read(a.geometry)}return a.bbox&&(e.bbox=Qe.bbox.call(this,a.bbox)),e},FeatureCollection:function(a){var e={};if(a.features){e.features=[];for(var n=0;n<a.features.length;++n)e.features.push(this.read(a.features[n]))}return a.bbox&&(e.bbox=this.parse.bbox.call(this,a.bbox)),e},coordinates:function(a){for(var e=[],n=0;n<a.length;++n){var o=a[n];e.push(c(F,Z(o)))}return e},bbox:function(a){return this.geometryFactory.createLinearRing([new F(a[0],a[1]),new F(a[2],a[1]),new F(a[2],a[3]),new F(a[0],a[3]),new F(a[0],a[1])])},Point:function(a){var e=c(F,Z(a));return this.geometryFactory.createPoint(e)},MultiPoint:function(a){for(var e=[],n=0;n<a.length;++n)e.push(Qe.Point.call(this,a[n]));return this.geometryFactory.createMultiPoint(e)},LineString:function(a){var e=Qe.coordinates.call(this,a);return this.geometryFactory.createLineString(e)},MultiLineString:function(a){for(var e=[],n=0;n<a.length;++n)e.push(Qe.LineString.call(this,a[n]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(a){for(var e=Qe.coordinates.call(this,a[0]),n=this.geometryFactory.createLinearRing(e),o=[],f=1;f<a.length;++f){var m=a[f],y=Qe.coordinates.call(this,m),b=this.geometryFactory.createLinearRing(y);o.push(b)}return this.geometryFactory.createPolygon(n,o)},MultiPolygon:function(a){for(var e=[],n=0;n<a.length;++n){var o=a[n];e.push(Qe.Polygon.call(this,o))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(a){for(var e=[],n=0;n<a.length;++n){var o=a[n];e.push(this.read(o))}return this.geometryFactory.createGeometryCollection(e)}},tn={coordinate:function(a){var e=[a.x,a.y];return a.z&&e.push(a.z),a.m&&e.push(a.m),e},Point:function(a){return{type:"Point",coordinates:tn.coordinate.call(this,a.getCoordinate())}},MultiPoint:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=tn.Point.call(this,o);e.push(f.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(a){for(var e=[],n=a.getCoordinates(),o=0;o<n.length;++o){var f=n[o];e.push(tn.coordinate.call(this,f))}return{type:"LineString",coordinates:e}},MultiLineString:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=tn.LineString.call(this,o);e.push(f.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(a){var e=[],n=tn.LineString.call(this,a._shell);e.push(n.coordinates);for(var o=0;o<a._holes.length;++o){var f=a._holes[o],m=tn.LineString.call(this,f);e.push(m.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=tn.Polygon.call(this,o);e.push(f.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(a){for(var e=[],n=0;n<a._geometries.length;++n){var o=a._geometries[n],f=o.getGeometryType();e.push(tn[f].call(this,o))}return{type:"GeometryCollection",geometries:e}}};return{BufferOp:oi,GeoJSONReader:function(){return _(function a(e){s(this,a),this.parser=new Qr(e||new Mn)},[{key:"read",value:function(a){return this.parser.read(a)}}])}(),GeoJSONWriter:function(){return _(function a(){s(this,a),this.parser=new Qr(this.geometryFactory)},[{key:"write",value:function(a){return this.parser.write(a)}}])}()}})}(wa)),wa.exports}var Iv=Tv();const Sv=Od(Iv);function ir(){return new Ga}function Ga(){this.reset()}Ga.prototype={constructor:Ga,reset:function(){this.s=this.t=0},add:function(t){fh(fa,t,this.t),fh(this,fa.s,this.s),this.s?this.t+=fa.t:this.s=fa.t},valueOf:function(){return this.s}};var fa=new Ga;function fh(t,r,l){var h=t.s=r+l,s=h-r,c=h-s;t.t=r-c+(l-s)}var Ee=1e-6,oe=Math.PI,fi=oe/2,dh=oe/4,mi=oe*2,$i=180/oe,Un=oe/180,je=Math.abs,Pv=Math.atan,Es=Math.atan2,Ce=Math.cos,Ne=Math.sin,Ps=Math.sqrt;function Rd(t){return t>1?0:t<-1?oe:Math.acos(t)}function Nr(t){return t>1?fi:t<-1?-fi:Math.asin(t)}function co(){}function Ua(t,r){t&&_h.hasOwnProperty(t.type)&&_h[t.type](t,r)}var gh={Feature:function(t,r){Ua(t.geometry,r)},FeatureCollection:function(t,r){for(var l=t.features,h=-1,s=l.length;++h<s;)Ua(l[h].geometry,r)}},_h={Sphere:function(t,r){r.sphere()},Point:function(t,r){t=t.coordinates,r.point(t[0],t[1],t[2])},MultiPoint:function(t,r){for(var l=t.coordinates,h=-1,s=l.length;++h<s;)t=l[h],r.point(t[0],t[1],t[2])},LineString:function(t,r){cl(t.coordinates,r,0)},MultiLineString:function(t,r){for(var l=t.coordinates,h=-1,s=l.length;++h<s;)cl(l[h],r,0)},Polygon:function(t,r){mh(t.coordinates,r)},MultiPolygon:function(t,r){for(var l=t.coordinates,h=-1,s=l.length;++h<s;)mh(l[h],r)},GeometryCollection:function(t,r){for(var l=t.geometries,h=-1,s=l.length;++h<s;)Ua(l[h],r)}};function cl(t,r,l){var h=-1,s=t.length-l,c;for(r.lineStart();++h<s;)c=t[h],r.point(c[0],c[1],c[2]);r.lineEnd()}function mh(t,r){var l=-1,h=t.length;for(r.polygonStart();++l<h;)cl(t[l],r,1);r.polygonEnd()}function Cv(t,r){t&&gh.hasOwnProperty(t.type)?gh[t.type](t,r):Ua(t,r)}ir();ir();function hl(t){return[Es(t[1],t[0]),Nr(t[2])]}function ks(t){var r=t[0],l=t[1],h=Ce(l);return[h*Ce(r),h*Ne(r),Ne(l)]}function da(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function Ha(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]}function Hu(t,r){t[0]+=r[0],t[1]+=r[1],t[2]+=r[2]}function ga(t,r){return[t[0]*r,t[1]*r,t[2]*r]}function fl(t){var r=Ps(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=r,t[1]/=r,t[2]/=r}ir();function Ad(t,r){function l(h,s){return h=t(h,s),r(h[0],h[1])}return t.invert&&r.invert&&(l.invert=function(h,s){return h=r.invert(h,s),h&&t.invert(h[0],h[1])}),l}function dl(t,r){return[t>oe?t-mi:t<-oe?t+mi:t,r]}dl.invert=dl;function Nv(t,r,l){return(t%=mi)?r||l?Ad(vh(t),yh(r,l)):vh(t):r||l?yh(r,l):dl}function ph(t){return function(r,l){return r+=t,[r>oe?r-mi:r<-oe?r+mi:r,l]}}function vh(t){var r=ph(t);return r.invert=ph(-t),r}function yh(t,r){var l=Ce(t),h=Ne(t),s=Ce(r),c=Ne(r);function g(_,v){var x=Ce(v),E=Ce(_)*x,k=Ne(_)*x,I=Ne(v),N=I*l+E*h;return[Es(k*s-N*c,E*l-I*h),Nr(N*s+k*c)]}return g.invert=function(_,v){var x=Ce(v),E=Ce(_)*x,k=Ne(_)*x,I=Ne(v),N=I*s-k*c;return[Es(k*s+I*c,E*l+N*h),Nr(N*l-E*h)]},g}function Mv(t,r,l,h,s,c){if(l){var g=Ce(r),_=Ne(r),v=h*l;s==null?(s=r+h*mi,c=r-v/2):(s=Lh(g,s),c=Lh(g,c),(h>0?s<c:s>c)&&(s+=h*mi));for(var x,E=s;h>0?E>c:E<c;E-=v)x=hl([g,-_*Ce(E),-_*Ne(E)]),t.point(x[0],x[1])}}function Lh(t,r){r=ks(r),r[0]-=t,fl(r);var l=Rd(-r[1]);return((-r[2]<0?-l:l)+mi-Ee)%mi}function Dd(){var t=[],r;return{point:function(l,h){r.push([l,h])},lineStart:function(){t.push(r=[])},lineEnd:co,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var l=t;return t=[],r=null,l}}}function Ov(t,r,l,h,s,c){var g=t[0],_=t[1],v=r[0],x=r[1],E=0,k=1,I=v-g,N=x-_,O;if(O=l-g,!(!I&&O>0)){if(O/=I,I<0){if(O<E)return;O<k&&(k=O)}else if(I>0){if(O>k)return;O>E&&(E=O)}if(O=s-g,!(!I&&O<0)){if(O/=I,I<0){if(O>k)return;O>E&&(E=O)}else if(I>0){if(O<E)return;O<k&&(k=O)}if(O=h-_,!(!N&&O>0)){if(O/=N,N<0){if(O<E)return;O<k&&(k=O)}else if(N>0){if(O>k)return;O>E&&(E=O)}if(O=c-_,!(!N&&O<0)){if(O/=N,N<0){if(O>k)return;O>E&&(E=O)}else if(N>0){if(O<E)return;O<k&&(k=O)}return E>0&&(t[0]=g+E*I,t[1]=_+E*N),k<1&&(r[0]=g+k*I,r[1]=_+k*N),!0}}}}}function ba(t,r){return je(t[0]-r[0])<Ee&&je(t[1]-r[1])<Ee}function _a(t,r,l,h){this.x=t,this.z=r,this.o=l,this.e=h,this.v=!1,this.n=this.p=null}function Fd(t,r,l,h,s){var c=[],g=[],_,v;if(t.forEach(function(O){if(!((Z=O.length-1)<=0)){var Z,j=O[0],A=O[Z],z;if(ba(j,A)){for(s.lineStart(),_=0;_<Z;++_)s.point((j=O[_])[0],j[1]);s.lineEnd();return}c.push(z=new _a(j,O,null,!0)),g.push(z.o=new _a(j,null,z,!1)),c.push(z=new _a(A,O,null,!1)),g.push(z.o=new _a(A,null,z,!0))}}),!!c.length){for(g.sort(r),Eh(c),Eh(g),_=0,v=g.length;_<v;++_)g[_].e=l=!l;for(var x=c[0],E,k;;){for(var I=x,N=!0;I.v;)if((I=I.n)===x)return;E=I.z,s.lineStart();do{if(I.v=I.o.v=!0,I.e){if(N)for(_=0,v=E.length;_<v;++_)s.point((k=E[_])[0],k[1]);else h(I.x,I.n.x,1,s);I=I.n}else{if(N)for(E=I.p.z,_=E.length-1;_>=0;--_)s.point((k=E[_])[0],k[1]);else h(I.x,I.p.x,-1,s);I=I.p}I=I.o,E=I.z,N=!N}while(!I.v);s.lineEnd()}}}function Eh(t){if(r=t.length){for(var r,l=0,h=t[0],s;++l<r;)h.n=s=t[l],s.p=h,h=s;h.n=s=t[0],s.p=h}}function zd(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Rv(t){return t.length===1&&(t=Av(t)),{left:function(r,l,h,s){for(h==null&&(h=0),s==null&&(s=r.length);h<s;){var c=h+s>>>1;t(r[c],l)<0?h=c+1:s=c}return h},right:function(r,l,h,s){for(h==null&&(h=0),s==null&&(s=r.length);h<s;){var c=h+s>>>1;t(r[c],l)>0?s=c:h=c+1}return h}}}function Av(t){return function(r,l){return zd(t(r),l)}}Rv(zd);function Bd(t){for(var r=t.length,l,h=-1,s=0,c,g;++h<r;)s+=t[h].length;for(c=new Array(s);--r>=0;)for(g=t[r],l=g.length;--l>=0;)c[--s]=g[l];return c}var ho=1e9,ma=-ho;function Dv(t,r,l,h){function s(x,E){return t<=x&&x<=l&&r<=E&&E<=h}function c(x,E,k,I){var N=0,O=0;if(x==null||(N=g(x,k))!==(O=g(E,k))||v(x,E)<0^k>0)do I.point(N===0||N===3?t:l,N>1?h:r);while((N=(N+k+4)%4)!==O);else I.point(E[0],E[1])}function g(x,E){return je(x[0]-t)<Ee?E>0?0:3:je(x[0]-l)<Ee?E>0?2:1:je(x[1]-r)<Ee?E>0?1:0:E>0?3:2}function _(x,E){return v(x.x,E.x)}function v(x,E){var k=g(x,1),I=g(E,1);return k!==I?k-I:k===0?E[1]-x[1]:k===1?x[0]-E[0]:k===2?x[1]-E[1]:E[0]-x[0]}return function(x){var E=x,k=Dd(),I,N,O,Z,j,A,z,G,B,X,W,Y={point:ht,lineStart:Tt,lineEnd:jt,polygonStart:Ot,polygonEnd:Pt};function ht(Gt,It){s(Gt,It)&&E.point(Gt,It)}function ct(){for(var Gt=0,It=0,Nt=N.length;It<Nt;++It)for(var ft=N[It],Kt=1,st=ft.length,Ft=ft[0],Ut,Qt,kt=Ft[0],Yt=Ft[1];Kt<st;++Kt)Ut=kt,Qt=Yt,Ft=ft[Kt],kt=Ft[0],Yt=Ft[1],Qt<=h?Yt>h&&(kt-Ut)*(h-Qt)>(Yt-Qt)*(t-Ut)&&++Gt:Yt<=h&&(kt-Ut)*(h-Qt)<(Yt-Qt)*(t-Ut)&&--Gt;return Gt}function Ot(){E=k,I=[],N=[],W=!0}function Pt(){var Gt=ct(),It=W&&Gt,Nt=(I=Bd(I)).length;(It||Nt)&&(x.polygonStart(),It&&(x.lineStart(),c(null,null,1,x),x.lineEnd()),Nt&&Fd(I,_,Gt,c,x),x.polygonEnd()),E=x,I=N=O=null}function Tt(){Y.point=dt,N&&N.push(O=[]),X=!0,B=!1,z=G=NaN}function jt(){I&&(dt(Z,j),A&&B&&k.rejoin(),I.push(k.result())),Y.point=ht,B&&E.lineEnd()}function dt(Gt,It){var Nt=s(Gt,It);if(N&&O.push([Gt,It]),X)Z=Gt,j=It,A=Nt,X=!1,Nt&&(E.lineStart(),E.point(Gt,It));else if(Nt&&B)E.point(Gt,It);else{var ft=[z=Math.max(ma,Math.min(ho,z)),G=Math.max(ma,Math.min(ho,G))],Kt=[Gt=Math.max(ma,Math.min(ho,Gt)),It=Math.max(ma,Math.min(ho,It))];Ov(ft,Kt,t,r,l,h)?(B||(E.lineStart(),E.point(ft[0],ft[1])),E.point(Kt[0],Kt[1]),Nt||E.lineEnd(),W=!1):Nt&&(E.lineStart(),E.point(Gt,It),W=!1)}z=Gt,G=It,B=Nt}return Y}}var Zu=ir();function Fv(t,r){var l=r[0],h=r[1],s=[Ne(l),-Ce(l),0],c=0,g=0;Zu.reset();for(var _=0,v=t.length;_<v;++_)if(E=(x=t[_]).length)for(var x,E,k=x[E-1],I=k[0],N=k[1]/2+dh,O=Ne(N),Z=Ce(N),j=0;j<E;++j,I=z,O=B,Z=X,k=A){var A=x[j],z=A[0],G=A[1]/2+dh,B=Ne(G),X=Ce(G),W=z-I,Y=W>=0?1:-1,ht=Y*W,ct=ht>oe,Ot=O*B;if(Zu.add(Es(Ot*Y*Ne(ht),Z*X+Ot*Ce(ht))),c+=ct?W+Y*mi:W,ct^I>=l^z>=l){var Pt=Ha(ks(k),ks(A));fl(Pt);var Tt=Ha(s,Pt);fl(Tt);var jt=(ct^W>=0?-1:1)*Nr(Tt[2]);(h>jt||h===jt&&(Pt[0]||Pt[1]))&&(g+=ct^W>=0?1:-1)}}return(c<-Ee||c<Ee&&Zu<-Ee)^g&1}ir();function kh(t){return t}ir();ir();var xs=1/0,Za=xs,No=-xs,qa=No,xh={point:zv,lineStart:co,lineEnd:co,polygonStart:co,polygonEnd:co,result:function(){var t=[[xs,Za],[No,qa]];return No=qa=-(Za=xs=1/0),t}};function zv(t,r){t<xs&&(xs=t),t>No&&(No=t),r<Za&&(Za=r),r>qa&&(qa=r)}ir();function Gd(t,r,l,h){return function(s,c){var g=r(c),_=s.invert(h[0],h[1]),v=Dd(),x=r(v),E=!1,k,I,N,O={point:Z,lineStart:A,lineEnd:z,polygonStart:function(){O.point=G,O.lineStart=B,O.lineEnd=X,I=[],k=[]},polygonEnd:function(){O.point=Z,O.lineStart=A,O.lineEnd=z,I=Bd(I);var W=Fv(k,_);I.length?(E||(c.polygonStart(),E=!0),Fd(I,Gv,W,l,c)):W&&(E||(c.polygonStart(),E=!0),c.lineStart(),l(null,null,1,c),c.lineEnd()),E&&(c.polygonEnd(),E=!1),I=k=null},sphere:function(){c.polygonStart(),c.lineStart(),l(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function Z(W,Y){var ht=s(W,Y);t(W=ht[0],Y=ht[1])&&c.point(W,Y)}function j(W,Y){var ht=s(W,Y);g.point(ht[0],ht[1])}function A(){O.point=j,g.lineStart()}function z(){O.point=Z,g.lineEnd()}function G(W,Y){N.push([W,Y]);var ht=s(W,Y);x.point(ht[0],ht[1])}function B(){x.lineStart(),N=[]}function X(){G(N[0][0],N[0][1]),x.lineEnd();var W=x.clean(),Y=v.result(),ht,ct=Y.length,Ot,Pt,Tt;if(N.pop(),k.push(N),N=null,!!ct){if(W&1){if(Pt=Y[0],(Ot=Pt.length-1)>0){for(E||(c.polygonStart(),E=!0),c.lineStart(),ht=0;ht<Ot;++ht)c.point((Tt=Pt[ht])[0],Tt[1]);c.lineEnd()}return}ct>1&&W&2&&Y.push(Y.pop().concat(Y.shift())),I.push(Y.filter(Bv))}}return O}}function Bv(t){return t.length>1}function Gv(t,r){return((t=t.x)[0]<0?t[1]-fi-Ee:fi-t[1])-((r=r.x)[0]<0?r[1]-fi-Ee:fi-r[1])}const wh=Gd(function(){return!0},Uv,Zv,[-oe,-fi]);function Uv(t){var r=NaN,l=NaN,h=NaN,s;return{lineStart:function(){t.lineStart(),s=1},point:function(c,g){var _=c>0?oe:-oe,v=je(c-r);je(v-oe)<Ee?(t.point(r,l=(l+g)/2>0?fi:-fi),t.point(h,l),t.lineEnd(),t.lineStart(),t.point(_,l),t.point(c,l),s=0):h!==_&&v>=oe&&(je(r-h)<Ee&&(r-=h*Ee),je(c-_)<Ee&&(c-=_*Ee),l=Hv(r,l,c,g),t.point(h,l),t.lineEnd(),t.lineStart(),t.point(_,l),s=0),t.point(r=c,l=g),h=_},lineEnd:function(){t.lineEnd(),r=l=NaN},clean:function(){return 2-s}}}function Hv(t,r,l,h){var s,c,g=Ne(t-l);return je(g)>Ee?Pv((Ne(r)*(c=Ce(h))*Ne(l)-Ne(h)*(s=Ce(r))*Ne(t))/(s*c*g)):(r+h)/2}function Zv(t,r,l,h){var s;if(t==null)s=l*fi,h.point(-oe,s),h.point(0,s),h.point(oe,s),h.point(oe,0),h.point(oe,-s),h.point(0,-s),h.point(-oe,-s),h.point(-oe,0),h.point(-oe,s);else if(je(t[0]-r[0])>Ee){var c=t[0]<r[0]?oe:-oe;s=l*c/2,h.point(-c,s),h.point(0,s),h.point(c,s)}else h.point(r[0],r[1])}function qv(t,r){var l=Ce(t),h=l>0,s=je(l)>Ee;function c(E,k,I,N){Mv(N,t,r,I,E,k)}function g(E,k){return Ce(E)*Ce(k)>l}function _(E){var k,I,N,O,Z;return{lineStart:function(){O=N=!1,Z=1},point:function(j,A){var z=[j,A],G,B=g(j,A),X=h?B?0:x(j,A):B?x(j+(j<0?oe:-oe),A):0;if(!k&&(O=N=B)&&E.lineStart(),B!==N&&(G=v(k,z),(!G||ba(k,G)||ba(z,G))&&(z[0]+=Ee,z[1]+=Ee,B=g(z[0],z[1]))),B!==N)Z=0,B?(E.lineStart(),G=v(z,k),E.point(G[0],G[1])):(G=v(k,z),E.point(G[0],G[1]),E.lineEnd()),k=G;else if(s&&k&&h^B){var W;!(X&I)&&(W=v(z,k,!0))&&(Z=0,h?(E.lineStart(),E.point(W[0][0],W[0][1]),E.point(W[1][0],W[1][1]),E.lineEnd()):(E.point(W[1][0],W[1][1]),E.lineEnd(),E.lineStart(),E.point(W[0][0],W[0][1])))}B&&(!k||!ba(k,z))&&E.point(z[0],z[1]),k=z,N=B,I=X},lineEnd:function(){N&&E.lineEnd(),k=null},clean:function(){return Z|(O&&N)<<1}}}function v(E,k,I){var N=ks(E),O=ks(k),Z=[1,0,0],j=Ha(N,O),A=da(j,j),z=j[0],G=A-z*z;if(!G)return!I&&E;var B=l*A/G,X=-l*z/G,W=Ha(Z,j),Y=ga(Z,B),ht=ga(j,X);Hu(Y,ht);var ct=W,Ot=da(Y,ct),Pt=da(ct,ct),Tt=Ot*Ot-Pt*(da(Y,Y)-1);if(!(Tt<0)){var jt=Ps(Tt),dt=ga(ct,(-Ot-jt)/Pt);if(Hu(dt,Y),dt=hl(dt),!I)return dt;var Gt=E[0],It=k[0],Nt=E[1],ft=k[1],Kt;It<Gt&&(Kt=Gt,Gt=It,It=Kt);var st=It-Gt,Ft=je(st-oe)<Ee,Ut=Ft||st<Ee;if(!Ft&&ft<Nt&&(Kt=Nt,Nt=ft,ft=Kt),Ut?Ft?Nt+ft>0^dt[1]<(je(dt[0]-Gt)<Ee?Nt:ft):Nt<=dt[1]&&dt[1]<=ft:st>oe^(Gt<=dt[0]&&dt[0]<=It)){var Qt=ga(ct,(-Ot+jt)/Pt);return Hu(Qt,Y),[dt,hl(Qt)]}}}function x(E,k){var I=h?t:oe-t,N=0;return E<-I?N|=1:E>I&&(N|=2),k<-I?N|=4:k>I&&(N|=8),N}return Gd(g,_,c,h?[0,-t]:[-oe,t-oe])}function Ud(t){return function(r){var l=new gl;for(var h in t)l[h]=t[h];return l.stream=r,l}}function gl(){}gl.prototype={constructor:gl,point:function(t,r){this.stream.point(t,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Hd(t,r,l){var h=r[1][0]-r[0][0],s=r[1][1]-r[0][1],c=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),c!=null&&t.clipExtent(null),Cv(l,t.stream(xh));var g=xh.result(),_=Math.min(h/(g[1][0]-g[0][0]),s/(g[1][1]-g[0][1])),v=+r[0][0]+(h-_*(g[1][0]+g[0][0]))/2,x=+r[0][1]+(s-_*(g[1][1]+g[0][1]))/2;return c!=null&&t.clipExtent(c),t.scale(_*150).translate([v,x])}function Yv(t,r,l){return Hd(t,[[0,0],r],l)}var bh=16,Vv=Ce(30*Un);function Th(t,r){return+r?$v(t,r):Wv(t)}function Wv(t){return Ud({point:function(r,l){r=t(r,l),this.stream.point(r[0],r[1])}})}function $v(t,r){function l(h,s,c,g,_,v,x,E,k,I,N,O,Z,j){var A=x-h,z=E-s,G=A*A+z*z;if(G>4*r&&Z--){var B=g+I,X=_+N,W=v+O,Y=Ps(B*B+X*X+W*W),ht=Nr(W/=Y),ct=je(je(W)-1)<Ee||je(c-k)<Ee?(c+k)/2:Es(X,B),Ot=t(ct,ht),Pt=Ot[0],Tt=Ot[1],jt=Pt-h,dt=Tt-s,Gt=z*jt-A*dt;(Gt*Gt/G>r||je((A*jt+z*dt)/G-.5)>.3||g*I+_*N+v*O<Vv)&&(l(h,s,c,g,_,v,Pt,Tt,ct,B/=Y,X/=Y,W,Z,j),j.point(Pt,Tt),l(Pt,Tt,ct,B,X,W,x,E,k,I,N,O,Z,j))}}return function(h){var s,c,g,_,v,x,E,k,I,N,O,Z,j={point:A,lineStart:z,lineEnd:B,polygonStart:function(){h.polygonStart(),j.lineStart=X},polygonEnd:function(){h.polygonEnd(),j.lineStart=z}};function A(ht,ct){ht=t(ht,ct),h.point(ht[0],ht[1])}function z(){k=NaN,j.point=G,h.lineStart()}function G(ht,ct){var Ot=ks([ht,ct]),Pt=t(ht,ct);l(k,I,E,N,O,Z,k=Pt[0],I=Pt[1],E=ht,N=Ot[0],O=Ot[1],Z=Ot[2],bh,h),h.point(k,I)}function B(){j.point=A,h.lineEnd()}function X(){z(),j.point=W,j.lineEnd=Y}function W(ht,ct){G(s=ht,ct),c=k,g=I,_=N,v=O,x=Z,j.point=G}function Y(){l(k,I,E,N,O,Z,c,g,s,_,v,x,bh,h),j.lineEnd=B,B()}return j}}var Xv=Ud({point:function(t,r){this.stream.point(t*Un,r*Un)}});function jv(t){return Kv(function(){return t})()}function Kv(t){var r,l=150,h=480,s=250,c,g,_=0,v=0,x=0,E=0,k=0,I,N,O=null,Z=wh,j=null,A,z,G,B=kh,X=.5,W=Th(Pt,X),Y,ht;function ct(dt){return dt=N(dt[0]*Un,dt[1]*Un),[dt[0]*l+c,g-dt[1]*l]}function Ot(dt){return dt=N.invert((dt[0]-c)/l,(g-dt[1])/l),dt&&[dt[0]*$i,dt[1]*$i]}function Pt(dt,Gt){return dt=r(dt,Gt),[dt[0]*l+c,g-dt[1]*l]}ct.stream=function(dt){return Y&&ht===dt?Y:Y=Xv(Z(I,W(B(ht=dt))))},ct.clipAngle=function(dt){return arguments.length?(Z=+dt?qv(O=dt*Un,6*Un):(O=null,wh),jt()):O*$i},ct.clipExtent=function(dt){return arguments.length?(B=dt==null?(j=A=z=G=null,kh):Dv(j=+dt[0][0],A=+dt[0][1],z=+dt[1][0],G=+dt[1][1]),jt()):j==null?null:[[j,A],[z,G]]},ct.scale=function(dt){return arguments.length?(l=+dt,Tt()):l},ct.translate=function(dt){return arguments.length?(h=+dt[0],s=+dt[1],Tt()):[h,s]},ct.center=function(dt){return arguments.length?(_=dt[0]%360*Un,v=dt[1]%360*Un,Tt()):[_*$i,v*$i]},ct.rotate=function(dt){return arguments.length?(x=dt[0]%360*Un,E=dt[1]%360*Un,k=dt.length>2?dt[2]%360*Un:0,Tt()):[x*$i,E*$i,k*$i]},ct.precision=function(dt){return arguments.length?(W=Th(Pt,X=dt*dt),jt()):Ps(X)},ct.fitExtent=function(dt,Gt){return Hd(ct,dt,Gt)},ct.fitSize=function(dt,Gt){return Yv(ct,dt,Gt)};function Tt(){N=Ad(I=Nv(x,E,k),r);var dt=r(_,v);return c=h-dt[0]*l,g=s+dt[1]*l,jt()}function jt(){return Y=ht=null,ct}return function(){return r=t.apply(this,arguments),ct.invert=r.invert&&Ot,Tt()}}function Zd(t){return function(r,l){var h=Ce(r),s=Ce(l),c=t(h*s);return[c*s*Ne(r),c*Ne(l)]}}function qd(t){return function(r,l){var h=Ps(r*r+l*l),s=t(h),c=Ne(s),g=Ce(s);return[Es(r*c,h*g),Nr(h&&l*c/h)]}}var Jv=Zd(function(t){return Ps(2/(1+t))});Jv.invert=qd(function(t){return 2*Nr(t/2)});var Yd=Zd(function(t){return(t=Rd(t))&&t/Ne(t)});Yd.invert=qd(function(t){return t});function Qv(){return jv(Yd).scale(79.4188).clipAngle(180-.001)}function Ih(t,r){return[t,r]}Ih.invert=Ih;var{BufferOp:ty,GeoJSONReader:ey,GeoJSONWriter:ny}=Sv;function Sh(t,r,l){l=l||{};var h=l.units||"kilometers",s=l.steps||8;if(!t)throw new Error("geojson is required");if(typeof l!="object")throw new Error("options must be an object");if(typeof s!="number")throw new Error("steps must be an number");if(r===void 0)throw new Error("radius is required");if(s<=0)throw new Error("steps must be greater than 0");var c=[];switch(t.type){case"GeometryCollection":return Md(t,function(g){var _=Ta(g,r,h,s);_&&c.push(_)}),ll(c);case"FeatureCollection":return ch(t,function(g){var _=Ta(g,r,h,s);_&&ch(_,function(v){v&&c.push(v)})}),ll(c)}return Ta(t,r,h,s)}function Ta(t,r,l,h){var s=t.properties||{},c=t.type==="Feature"?t.geometry:t;if(c.type==="GeometryCollection"){var g=[];return Md(t,function(Z){var j=Ta(Z,r,l,h);j&&g.push(j)}),ll(g)}var _=iy(c),v={type:c.type,coordinates:Wd(c.coordinates,_)},x=new ey,E=x.read(v),k=Ev(kv(r,l),"meters"),I=ty.bufferOp(E,k,h),N=new ny;if(I=N.write(I),!Vd(I.coordinates)){var O={type:I.type,coordinates:$d(I.coordinates,_)};return Cd(O,s)}}function Vd(t){return Array.isArray(t[0])?Vd(t[0]):isNaN(t[0])}function Wd(t,r){return typeof t[0]!="object"?r(t):t.map(function(l){return Wd(l,r)})}function $d(t,r){return typeof t[0]!="object"?r.invert(t):t.map(function(l){return $d(l,r)})}function iy(t){var r=wv(t).geometry.coordinates,l=[-r[0],-r[1]];return Qv().rotate(l).scale(kn)}const ry={class:"card mb-3"},sy={class:"row"},oy={class:"col-md-4 p-0"},ay=["src","alt"],uy={class:"col-md-8"},ly={class:"card-body"},cy={class:"card-title"},hy={class:"card-text"},fy={class:"text-body-secondary"},dy={__name:"Taxon",props:{taxonId:Number,name:String,description:String,observationDate:String,count:Number},setup(t){const r=t,l=Zt([]),h=fe(()=>l.value.length==0?{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg"}:l.value[0]);function s(){l.value=[],r.taxonId&&new yv().fetchMedia(r.taxonId).then(c=>{l.value=c})}return Bo(()=>{s()}),(c,g)=>{var _,v;return Ie(),ze("div",ry,[Et("div",sy,[Et("div",oy,[Et("img",{src:(_=h.value)==null?void 0:_.url,class:"card-img-top",alt:(v=h.value)==null?void 0:v.url},null,8,ay)]),Et("div",uy,[Et("div",ly,[Et("h5",cy,we(r.name),1),Et("p",hy,[Et("small",fy,"Observé le : "+we(r.observationDate),1)])])])])])}}},gy={"aria-label":"..."},_y={class:"pagination"},my={class:"page-link"},py=["onClick"],vy={class:"page-link"},yy={class:"page-link"},Ly={__name:"Pagination",props:{itemPerPage:Number,pageIndex:Number,totalItems:Number},emits:["page"],setup(t,{emit:r}){const l=t,h=Zt(l.pageIndex),s=Zt(l.itemPerPage),c=Zt(l.totalItems);nn(l,()=>{s.value=l.itemPerPage,h.value=l.pageIndex,c.value=l.totalItems});const g=r;nn(h,()=>{g("page",h.value)});function _(N){return N==h.value?"page-item active":"page-item"}function v(N,O=False){return O?N==0?"page-item disabled":"page-item":N==k.value-1?"page-item disabled":"page-item"}function x(){h.value<=k.value-1&&h.value++}function E(){h.value>0&&h.value--}const k=fe(()=>Math.ceil(c.value/s.value)),I=fe(()=>{if(k.value>5){const N=h.value>0?0:1;let O=[];for(let Z=N;Z<5;Z++)O.push(h.value+Z);return O}return k.value});return(N,O)=>(Ie(),ze("nav",gy,[Et("ul",_y,[Et("li",{onClick:O[0]||(O[0]=Z=>h.value!=0?E():""),id:"previous",class:us(v(h.value,!0))},[Et("a",my,we(N.$t("previousPage")),1)],2),(Ie(!0),ze(xn,null,Wf(I.value,Z=>(Ie(),ze("li",{key:Z,class:us(_(Z-1)),onClick:j=>h.value=Z-1},[Et("a",vy,we(Z),1)],10,py))),128)),Et("li",{id:"next",onClick:O[1]||(O[1]=Z=>h.value<k.value-1?x():""),class:us(v(h.value,!1))},[Et("a",yy,we(N.$t("nextPage")),1)],2)])]))}},Ey={class:"col-12 text-center mb-3 mt-0 p-3"},ky={key:0,id:"no-observation-message"},xy={class:"col-12 text-center mb-3 mt-0 p-3"},wy={class:"d-flex justify-content-center m-3"},Vl={__name:"TaxonList",props:{wkt:String,itemPerPage:Number,dateMin:String,dateMax:{type:String,default:"2025-01-01"},width:{type:String,default:"400px"},height:{type:String,default:"100vh"}},setup(t){const r=Zt(null),l=Zt(null),h=Zt(null),s=Zt([]),c=Zt(!1),g=Zt(0),_=Zt(10),v=t,x=fe(()=>`height : ${v.height}`),E=fe(()=>{const N=parseFloat(v.height.match(/\d+(?:\.\d+)?/)[0]),O=v.height.replace(/\d+(?:\.\d+)?/,"");return`height : ${N*.7+O}`});v.wkt&&(r.value=v.wkt,I(r.value)),Bo(()=>{r.value=v.wkt;const N=l.value!=v.dateMin||h.value!=v.dateMax;l.value=v.dateMin,h.value=v.dateMax,r.value&&N&&I(r.value),_.value=v.itemPerPage});const k=fe(()=>s.value.sort((N,O)=>O.occCount-N.occCount).slice(g.value*_.value,(g.value+1)*_.value));function I(N){c.value=!0,s.value=[];let O={};l.value&&h.value&&(O={eventDate:`${l.value},${h.value}`}),mv(N,O,{maxPage:2,limit:300}).then(Z=>{Object.values(Z).forEach(j=>{s.value.push(j)}),c.value=!1})}return nn(r,()=>{r.value&&I(r.value)}),(N,O)=>(Ie(),ze("div",{id:"liste-taxons",class:"mb-3",style:gs(x.value)},[Et("h2",Ey,[O[1]||(O[1]=Et("i",{class:"bi bi-search"},null,-1)),ps(" "+we(N.$t("searchResults")),1)]),Se(gv,{loadingStatus:c.value},null,8,["loadingStatus"]),k.value.length==0&&!c.value?(Ie(),ze("div",ky,[Et("h4",xy,[O[2]||(O[2]=Et("i",{class:"bi bi-pin-map"},null,-1)),ps(we(N.$t("drawGeometry")),1)])])):il("",!0),Et("div",{id:"species-listing",style:gs(E.value)},[(Ie(!0),ze(xn,null,Wf(k.value,Z=>(Ie(),Aa(dy,{taxonId:Z.taxonId,name:Z.acceptedScientificName,description:Z.acceptedScientificName,observationDate:Z.eventDate,count:Z.occCount},null,8,["taxonId","name","description","observationDate","count"]))),256))],4),Et("div",wy,[k.value.length>0?(Ie(),Aa(Ly,{key:0,pageIndex:g.value,"total-items":s.value.length,itemPerPage:_.value,onPage:O[0]||(O[0]=Z=>g.value=Z)},null,8,["pageIndex","total-items","itemPerPage"])):il("",!0)])],4))}};var fo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var by=fo.exports,Ph;function Ty(){return Ph||(Ph=1,function(t,r){(function(l,h){h(r)})(by,function(l){var h="1.9.4";function s(i){var u,d,p,w;for(d=1,p=arguments.length;d<p;d++){w=arguments[d];for(u in w)i[u]=w[u]}return i}var c=Object.create||function(){function i(){}return function(u){return i.prototype=u,new i}}();function g(i,u){var d=Array.prototype.slice;if(i.bind)return i.bind.apply(i,d.call(arguments,1));var p=d.call(arguments,2);return function(){return i.apply(u,p.length?p.concat(d.call(arguments)):arguments)}}var _=0;function v(i){return"_leaflet_id"in i||(i._leaflet_id=++_),i._leaflet_id}function x(i,u,d){var p,w,P,U;return U=function(){p=!1,w&&(P.apply(d,w),w=!1)},P=function(){p?w=arguments:(i.apply(d,arguments),setTimeout(U,u),p=!0)},P}function E(i,u,d){var p=u[1],w=u[0],P=p-w;return i===p&&d?i:((i-w)%P+P)%P+w}function k(){return!1}function I(i,u){if(u===!1)return i;var d=Math.pow(10,u===void 0?6:u);return Math.round(i*d)/d}function N(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function O(i){return N(i).split(/\s+/)}function Z(i,u){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?c(i.options):{});for(var d in u)i.options[d]=u[d];return i.options}function j(i,u,d){var p=[];for(var w in i)p.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(i[w]));return(!u||u.indexOf("?")===-1?"?":"&")+p.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function z(i,u){return i.replace(A,function(d,p){var w=u[p];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var G=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function B(i,u){for(var d=0;d<i.length;d++)if(i[d]===u)return d;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Y=0;function ht(i){var u=+new Date,d=Math.max(0,16-(u-Y));return Y=u+d,window.setTimeout(i,d)}var ct=window.requestAnimationFrame||W("RequestAnimationFrame")||ht,Ot=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Pt(i,u,d){if(d&&ct===ht)i.call(u);else return ct.call(window,g(i,u))}function Tt(i){i&&Ot.call(window,i)}var jt={__proto__:null,extend:s,create:c,bind:g,get lastId(){return _},stamp:v,throttle:x,wrapNum:E,falseFn:k,formatNum:I,trim:N,splitWords:O,setOptions:Z,getParamString:j,template:z,isArray:G,indexOf:B,emptyImageUrl:X,requestFn:ct,cancelFn:Ot,requestAnimFrame:Pt,cancelAnimFrame:Tt};function dt(){}dt.extend=function(i){var u=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,p=c(d);p.constructor=u,u.prototype=p;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return i.statics&&s(u,i.statics),i.includes&&(Gt(i.includes),s.apply(null,[p].concat(i.includes))),s(p,i),delete p.statics,delete p.includes,p.options&&(p.options=d.options?c(d.options):{},s(p.options,i.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,U=p._initHooks.length;P<U;P++)p._initHooks[P].call(this)}},u},dt.include=function(i){var u=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=u,this.mergeOptions(i.options)),this},dt.mergeOptions=function(i){return s(this.prototype.options,i),this},dt.addInitHook=function(i){var u=Array.prototype.slice.call(arguments,1),d=typeof i=="function"?i:function(){this[i].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Gt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=G(i)?i:[i];for(var u=0;u<i.length;u++)i[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var It={on:function(i,u,d){if(typeof i=="object")for(var p in i)this._on(p,i[p],u);else{i=O(i);for(var w=0,P=i.length;w<P;w++)this._on(i[w],u,d)}return this},off:function(i,u,d){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var p in i)this._off(p,i[p],u);else{i=O(i);for(var w=arguments.length===1,P=0,U=i.length;P<U;P++)w?this._off(i[P]):this._off(i[P],u,d)}return this},_on:function(i,u,d,p){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(i,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};p&&(w.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(w)}},_off:function(i,u,d){var p,w,P;if(this._events&&(p=this._events[i],!!p)){if(arguments.length===1){if(this._firingCount)for(w=0,P=p.length;w<P;w++)p[w].fn=k;delete this._events[i];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var U=this._listens(i,u,d);if(U!==!1){var J=p[U];this._firingCount&&(J.fn=k,this._events[i]=p=p.slice()),p.splice(U,1)}}},fire:function(i,u,d){if(!this.listens(i,d))return this;var p=s({},u,{type:i,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[i];if(w){this._firingCount=this._firingCount+1||1;for(var P=0,U=w.length;P<U;P++){var J=w[P],tt=J.fn;J.once&&this.off(i,tt,J.ctx),tt.call(J.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(i,u,d,p){typeof i!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(p=!!u,w=void 0,d=void 0);var P=this._events&&this._events[i];if(P&&P.length&&this._listens(i,w,d)!==!1)return!0;if(p){for(var U in this._eventParents)if(this._eventParents[U].listens(i,u,d,p))return!0}return!1},_listens:function(i,u,d){if(!this._events)return!1;var p=this._events[i]||[];if(!u)return!!p.length;d===this&&(d=void 0);for(var w=0,P=p.length;w<P;w++)if(p[w].fn===u&&p[w].ctx===d)return w;return!1},once:function(i,u,d){if(typeof i=="object")for(var p in i)this._on(p,i[p],u,!0);else{i=O(i);for(var w=0,P=i.length;w<P;w++)this._on(i[w],u,d,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[v(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[v(i)],this},_propagateEvent:function(i){for(var u in this._eventParents)this._eventParents[u].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};It.addEventListener=It.on,It.removeEventListener=It.clearAllEventListeners=It.off,It.addOneTimeEventListener=It.once,It.fireEvent=It.fire,It.hasEventListeners=It.listens;var Nt=dt.extend(It);function ft(i,u,d){this.x=d?Math.round(i):i,this.y=d?Math.round(u):u}var Kt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(i){return this.clone()._add(st(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(st(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ft(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ft(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Kt(this.x),this.y=Kt(this.y),this},distanceTo:function(i){i=st(i);var u=i.x-this.x,d=i.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(i){return i=st(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=st(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function st(i,u,d){return i instanceof ft?i:G(i)?new ft(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ft(i.x,i.y):new ft(i,u,d)}function Ft(i,u){if(i)for(var d=u?[i,u]:i,p=0,w=d.length;p<w;p++)this.extend(d[p])}Ft.prototype={extend:function(i){var u,d;if(!i)return this;if(i instanceof ft||typeof i[0]=="number"||"x"in i)u=d=st(i);else if(i=Ut(i),u=i.min,d=i.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(i){return st((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return st(this.min.x,this.max.y)},getTopRight:function(){return st(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var u,d;return typeof i[0]=="number"||i instanceof ft?i=st(i):i=Ut(i),i instanceof Ft?(u=i.min,d=i.max):u=d=i,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(i){i=Ut(i);var u=this.min,d=this.max,p=i.min,w=i.max,P=w.x>=u.x&&p.x<=d.x,U=w.y>=u.y&&p.y<=d.y;return P&&U},overlaps:function(i){i=Ut(i);var u=this.min,d=this.max,p=i.min,w=i.max,P=w.x>u.x&&p.x<d.x,U=w.y>u.y&&p.y<d.y;return P&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var u=this.min,d=this.max,p=Math.abs(u.x-d.x)*i,w=Math.abs(u.y-d.y)*i;return Ut(st(u.x-p,u.y-w),st(d.x+p,d.y+w))},equals:function(i){return i?(i=Ut(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function Ut(i,u){return!i||i instanceof Ft?i:new Ft(i,u)}function Qt(i,u){if(i)for(var d=u?[i,u]:i,p=0,w=d.length;p<w;p++)this.extend(d[p])}Qt.prototype={extend:function(i){var u=this._southWest,d=this._northEast,p,w;if(i instanceof Yt)p=i,w=i;else if(i instanceof Qt){if(p=i._southWest,w=i._northEast,!p||!w)return this}else return i?this.extend(Bt(i)||kt(i)):this;return!u&&!d?(this._southWest=new Yt(p.lat,p.lng),this._northEast=new Yt(w.lat,w.lng)):(u.lat=Math.min(p.lat,u.lat),u.lng=Math.min(p.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(i){var u=this._southWest,d=this._northEast,p=Math.abs(u.lat-d.lat)*i,w=Math.abs(u.lng-d.lng)*i;return new Qt(new Yt(u.lat-p,u.lng-w),new Yt(d.lat+p,d.lng+w))},getCenter:function(){return new Yt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Yt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Yt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof Yt||"lat"in i?i=Bt(i):i=kt(i);var u=this._southWest,d=this._northEast,p,w;return i instanceof Qt?(p=i.getSouthWest(),w=i.getNorthEast()):p=w=i,p.lat>=u.lat&&w.lat<=d.lat&&p.lng>=u.lng&&w.lng<=d.lng},intersects:function(i){i=kt(i);var u=this._southWest,d=this._northEast,p=i.getSouthWest(),w=i.getNorthEast(),P=w.lat>=u.lat&&p.lat<=d.lat,U=w.lng>=u.lng&&p.lng<=d.lng;return P&&U},overlaps:function(i){i=kt(i);var u=this._southWest,d=this._northEast,p=i.getSouthWest(),w=i.getNorthEast(),P=w.lat>u.lat&&p.lat<d.lat,U=w.lng>u.lng&&p.lng<d.lng;return P&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,u){return i?(i=kt(i),this._southWest.equals(i.getSouthWest(),u)&&this._northEast.equals(i.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function kt(i,u){return i instanceof Qt?i:new Qt(i,u)}function Yt(i,u,d){if(isNaN(i)||isNaN(u))throw new Error("Invalid LatLng object: ("+i+", "+u+")");this.lat=+i,this.lng=+u,d!==void 0&&(this.alt=+d)}Yt.prototype={equals:function(i,u){if(!i)return!1;i=Bt(i);var d=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return d<=(u===void 0?1e-9:u)},toString:function(i){return"LatLng("+I(this.lat,i)+", "+I(this.lng,i)+")"},distanceTo:function(i){return F.distance(this,Bt(i))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(i){var u=180*i/40075017,d=u/Math.cos(Math.PI/180*this.lat);return kt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Yt(this.lat,this.lng,this.alt)}};function Bt(i,u,d){return i instanceof Yt?i:G(i)&&typeof i[0]!="object"?i.length===3?new Yt(i[0],i[1],i[2]):i.length===2?new Yt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new Yt(i.lat,"lng"in i?i.lng:i.lon,i.alt):u===void 0?null:new Yt(i,u,d)}var it={latLngToPoint:function(i,u){var d=this.projection.project(i),p=this.scale(u);return this.transformation._transform(d,p)},pointToLatLng:function(i,u){var d=this.scale(u),p=this.transformation.untransform(i,d);return this.projection.unproject(p)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(i),p=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new Ft(p,w)},infinite:!1,wrapLatLng:function(i){var u=this.wrapLng?E(i.lng,this.wrapLng,!0):i.lng,d=this.wrapLat?E(i.lat,this.wrapLat,!0):i.lat,p=i.alt;return new Yt(d,u,p)},wrapLatLngBounds:function(i){var u=i.getCenter(),d=this.wrapLatLng(u),p=u.lat-d.lat,w=u.lng-d.lng;if(p===0&&w===0)return i;var P=i.getSouthWest(),U=i.getNorthEast(),J=new Yt(P.lat-p,P.lng-w),tt=new Yt(U.lat-p,U.lng-w);return new Qt(J,tt)}},F=s({},it,{wrapLng:[-180,180],R:6371e3,distance:function(i,u){var d=Math.PI/180,p=i.lat*d,w=u.lat*d,P=Math.sin((u.lat-i.lat)*d/2),U=Math.sin((u.lng-i.lng)*d/2),J=P*P+Math.cos(p)*Math.cos(w)*U*U,tt=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*tt}}),yt=6378137,gt={R:yt,MAX_LATITUDE:85.0511287798,project:function(i){var u=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,i.lat),-d),w=Math.sin(p*u);return new ft(this.R*i.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(i){var u=180/Math.PI;return new Yt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*u,i.x*u/this.R)},bounds:function(){var i=yt*Math.PI;return new Ft([-i,-i],[i,i])}()};function _t(i,u,d,p){if(G(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=u,this._c=d,this._d=p}_t.prototype={transform:function(i,u){return this._transform(i.clone(),u)},_transform:function(i,u){return u=u||1,i.x=u*(this._a*i.x+this._b),i.y=u*(this._c*i.y+this._d),i},untransform:function(i,u){return u=u||1,new ft((i.x/u-this._b)/this._a,(i.y/u-this._d)/this._c)}};function T(i,u,d,p){return new _t(i,u,d,p)}var D=s({},F,{code:"EPSG:3857",projection:gt,transformation:function(){var i=.5/(Math.PI*gt.R);return T(i,.5,-i,.5)}()}),$=s({},D,{code:"EPSG:900913"});function nt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ot(i,u){var d="",p,w,P,U,J,tt;for(p=0,P=i.length;p<P;p++){for(J=i[p],w=0,U=J.length;w<U;w++)tt=J[w],d+=(w?"L":"M")+tt.x+" "+tt.y;d+=u?At.svg?"z":"x":""}return d||"M0 0"}var rt=document.documentElement.style,R="ActiveXObject"in window,C=R&&!document.addEventListener,V="msLaunchUri"in navigator&&!("documentMode"in document),Q=Ye("webkit"),vt=Ye("android"),at=Ye("android 2")||Ye("android 3"),H=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),et=vt&&Ye("Google")&&H<537&&!("AudioNode"in window),xt=!!window.opera,zt=!V&&Ye("chrome"),mt=Ye("gecko")&&!Q&&!xt&&!R,be=!zt&&Ye("safari"),Rt=Ye("phantom"),Mt="OTransition"in rt,un=navigator.platform.indexOf("Win")===0,qe=R&&"transition"in rt,Ai="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,St="MozPerspective"in rt,vn=!window.L_DISABLE_3D&&(qe||Ai||St)&&!Mt&&!Rt,Qn=typeof orientation<"u"||Ye("mobile"),Cs=Qn&&Q,yn=Qn&&Ai,Di=!window.PointerEvent&&window.MSPointerEvent,Tn=!!(window.PointerEvent||Di),Ns="ontouchstart"in window||!!window.TouchEvent,Or=!window.L_NO_TOUCH&&(Ns||Tn),du=Qn&&xt,Zo=Qn&&mt,pi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pt=function(){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",k,u),window.removeEventListener("testPassiveEventSupport",k,u)}catch{}return i}(),Rr=function(){return!!document.createElement("canvas").getContext}(),Fi=!!(document.createElementNS&&nt("svg").createSVGRect),ar=!!Fi&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qo=!Fi&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var u=i.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Ms=navigator.platform.indexOf("Mac")===0,Yo=navigator.platform.indexOf("Linux")===0;function Ye(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var At={ie:R,ielt9:C,edge:V,webkit:Q,android:vt,android23:at,androidStock:et,opera:xt,chrome:zt,gecko:mt,safari:be,phantom:Rt,opera12:Mt,win:un,ie3d:qe,webkit3d:Ai,gecko3d:St,any3d:vn,mobile:Qn,mobileWebkit:Cs,mobileWebkit3d:yn,msPointer:Di,pointer:Tn,touch:Or,touchNative:Ns,mobileOpera:du,mobileGecko:Zo,retina:pi,passiveEvents:pt,canvas:Rr,svg:Fi,vml:qo,inlineSvg:ar,mac:Ms,linux:Yo},ur=At.msPointer?"MSPointerDown":"pointerdown",Vo=At.msPointer?"MSPointerMove":"pointermove",Os=At.msPointer?"MSPointerUp":"pointerup",Wo=At.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:ur,touchmove:Vo,touchend:Os,touchcancel:Wo},Ar={touchstart:zr,touchmove:Fr,touchend:Fr,touchcancel:Fr},Nn={},ti=!1;function vi(i,u,d){return u==="touchstart"&&gu(),Ar[u]?(d=Ar[u].bind(this,d),i.addEventListener(Ke[u],d,!1),d):(console.warn("wrong event specified:",u),k)}function Rs(i,u,d){if(!Ke[u]){console.warn("wrong event specified:",u);return}i.removeEventListener(Ke[u],d,!1)}function Dr(i){Nn[i.pointerId]=i}function lr(i){Nn[i.pointerId]&&(Nn[i.pointerId]=i)}function Me(i){delete Nn[i.pointerId]}function gu(){ti||(document.addEventListener(ur,Dr,!0),document.addEventListener(Vo,lr,!0),document.addEventListener(Os,Me,!0),document.addEventListener(Wo,Me,!0),ti=!0)}function Fr(i,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Nn)u.touches.push(Nn[d]);u.changedTouches=[u],i(u)}}function zr(i,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Pe(u),Fr(i,u)}function cr(i){var u={},d,p;for(p in i)d=i[p],u[p]=d&&d.bind?d.bind(i):d;return i=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var As=200;function Ds(i,u){i.addEventListener("dblclick",u);var d=0,p;function w(P){if(P.detail!==1){p=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var U=We(P);if(!(U.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!U.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var J=Date.now();J-d<=As?(p++,p===2&&u(cr(P))):p=1,d=J}}}return i.addEventListener("click",w),{dblclick:u,simDblclick:w}}function $o(i,u){i.removeEventListener("dblclick",u.dblclick),i.removeEventListener("click",u.simDblclick)}var Fs=Hr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Je=Hr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yi=Je==="webkitTransition"||Je==="OTransition"?Je+"End":"transitionend";function Br(i){return typeof i=="string"?document.getElementById(i):i}function Mn(i,u){var d=i.style[u]||i.currentStyle&&i.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(i,null);d=p?p[u]:null}return d==="auto"?null:d}function ne(i,u,d){var p=document.createElement(i);return p.className=u||"",d&&d.appendChild(p),p}function ke(i){var u=i.parentNode;u&&u.removeChild(i)}function Gr(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function zi(i){var u=i.parentNode;u&&u.lastChild!==i&&u.appendChild(i)}function Li(i){var u=i.parentNode;u&&u.firstChild!==i&&u.insertBefore(i,u.firstChild)}function Ur(i,u){if(i.classList!==void 0)return i.classList.contains(u);var d=hr(i);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function Vt(i,u){if(i.classList!==void 0)for(var d=O(u),p=0,w=d.length;p<w;p++)i.classList.add(d[p]);else if(!Ur(i,u)){var P=hr(i);On(i,(P?P+" ":"")+u)}}function ue(i,u){i.classList!==void 0?i.classList.remove(u):On(i,N((" "+hr(i)+" ").replace(" "+u+" "," ")))}function On(i,u){i.className.baseVal===void 0?i.className=u:i.className.baseVal=u}function hr(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ge(i,u){"opacity"in i.style?i.style.opacity=u:"filter"in i.style&&_u(i,u)}function _u(i,u){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=i.filters.item(p)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):i.style.filter+=" progid:"+p+"(opacity="+u+")"}function Hr(i){for(var u=document.documentElement.style,d=0;d<i.length;d++)if(i[d]in u)return i[d];return!1}function Ei(i,u,d){var p=u||new ft(0,0);i.style[Fs]=(At.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function Oe(i,u){i._leaflet_pos=u,At.any3d?Ei(i,u):(i.style.left=u.x+"px",i.style.top=u.y+"px")}function ei(i){return i._leaflet_pos||new ft(0,0)}var Yn,Bi,zs;if("onselectstart"in document)Yn=function(){$t(window,"selectstart",Pe)},Bi=function(){ge(window,"selectstart",Pe)};else{var Gi=Hr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yn=function(){if(Gi){var i=document.documentElement.style;zs=i[Gi],i[Gi]="none"}},Bi=function(){Gi&&(document.documentElement.style[Gi]=zs,zs=void 0)}}function Bs(){$t(window,"dragstart",Pe)}function fr(){ge(window,"dragstart",Pe)}var de,Vn;function Gs(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Ui(),de=i,Vn=i.style.outlineStyle,i.style.outlineStyle="none",$t(window,"keydown",Ui))}function Ui(){de&&(de.style.outlineStyle=Vn,de=void 0,Vn=void 0,ge(window,"keydown",Ui))}function ln(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function rn(i){var u=i.getBoundingClientRect();return{x:u.width/i.offsetWidth||1,y:u.height/i.offsetHeight||1,boundingClientRect:u}}var Zr={__proto__:null,TRANSFORM:Fs,TRANSITION:Je,TRANSITION_END:yi,get:Br,getStyle:Mn,create:ne,remove:ke,empty:Gr,toFront:zi,toBack:Li,hasClass:Ur,addClass:Vt,removeClass:ue,setClass:On,getClass:hr,setOpacity:Ge,testProp:Hr,setTransform:Ei,setPosition:Oe,getPosition:ei,get disableTextSelection(){return Yn},get enableTextSelection(){return Bi},disableImageDrag:Bs,enableImageDrag:fr,preventOutline:Gs,restoreOutline:Ui,getSizedParentNode:ln,getScale:rn};function $t(i,u,d,p){if(u&&typeof u=="object")for(var w in u)qr(i,w,u[w],d);else{u=O(u);for(var P=0,U=u.length;P<U;P++)qr(i,u[P],d,p)}return this}var Rn="_leaflet_events";function ge(i,u,d,p){if(arguments.length===1)dr(i),delete i[Rn];else if(u&&typeof u=="object")for(var w in u)re(i,w,u[w],d);else if(u=O(u),arguments.length===2)dr(i,function(J){return B(u,J)!==-1});else for(var P=0,U=u.length;P<U;P++)re(i,u[P],d,p);return this}function dr(i,u){for(var d in i[Rn]){var p=d.split(/\d/)[0];(!u||u(p))&&re(i,p,null,null,d)}}var Us={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qr(i,u,d,p){var w=u+v(d)+(p?"_"+v(p):"");if(i[Rn]&&i[Rn][w])return this;var P=function(J){return d.call(p||i,J||window.event)},U=P;!At.touchNative&&At.pointer&&u.indexOf("touch")===0?P=vi(i,u,P):At.touch&&u==="dblclick"?P=Ds(i,P):"addEventListener"in i?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?i.addEventListener(Us[u]||u,P,At.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(J){J=J||window.event,Yr(i,J)&&U(J)},i.addEventListener(Us[u],P,!1)):i.addEventListener(u,U,!1):i.attachEvent("on"+u,P),i[Rn]=i[Rn]||{},i[Rn][w]=P}function re(i,u,d,p,w){w=w||u+v(d)+(p?"_"+v(p):"");var P=i[Rn]&&i[Rn][w];if(!P)return this;!At.touchNative&&At.pointer&&u.indexOf("touch")===0?Rs(i,u,P):At.touch&&u==="dblclick"?$o(i,P):"removeEventListener"in i?i.removeEventListener(Us[u]||u,P,!1):i.detachEvent("on"+u,P),i[Rn][w]=null}function Ve(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function gr(i){return qr(i,"wheel",Ve),this}function Hi(i){return $t(i,"mousedown touchstart dblclick contextmenu",Ve),i._leaflet_disable_click=!0,this}function Pe(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ni(i){return Pe(i),Ve(i),this}function We(i){if(i.composedPath)return i.composedPath();for(var u=[],d=i.target;d;)u.push(d),d=d.parentNode;return u}function Hs(i,u){if(!u)return new ft(i.clientX,i.clientY);var d=rn(u),p=d.boundingClientRect;return new ft((i.clientX-p.left)/d.x-u.clientLeft,(i.clientY-p.top)/d.y-u.clientTop)}var Zs=At.linux&&At.chrome?window.devicePixelRatio:At.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qs(i){return At.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Zs:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Yr(i,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==i;)d=d.parentNode}catch{return!1}return d!==i}var mu={__proto__:null,on:$t,off:ge,stopPropagation:Ve,disableScrollPropagation:gr,disableClickPropagation:Hi,preventDefault:Pe,stop:ni,getPropagationPath:We,getMousePosition:Hs,getWheelDelta:qs,isExternalTarget:Yr,addListener:$t,removeListener:ge},Ys=Nt.extend({run:function(i,u,d,p){this.stop(),this._el=i,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=ei(i),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pt(this._animate,this),this._step()},_step:function(i){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),i):(this._runFrame(1),this._complete())},_runFrame:function(i,u){var d=this._startPos.add(this._offset.multiplyBy(i));u&&d._round(),Oe(this._el,d),this.fire("step")},_complete:function(){Tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Xt=Nt.extend({options:{crs:D,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,u){u=Z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Bt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Je&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$t(this._proxy,yi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),i=this._limitCenter(Bt(i),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=s({animate:d.animate},d.zoom),d.pan=s({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,u,d.zoom):this._tryAnimatedPan(i,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(i,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(i,u){return this._loaded?this.setView(this.getCenter(),i,{zoom:u}):(this._zoom=i,this)},zoomIn:function(i,u){return i=i||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,u)},zoomOut:function(i,u){return i=i||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,u)},setZoomAround:function(i,u,d){var p=this.getZoomScale(u),w=this.getSize().divideBy(2),P=i instanceof ft?i:this.latLngToContainerPoint(i),U=P.subtract(w).multiplyBy(1-1/p),J=this.containerPointToLatLng(w.add(U));return this.setView(J,u,{zoom:d})},_getBoundsCenterZoom:function(i,u){u=u||{},i=i.getBounds?i.getBounds():kt(i);var d=st(u.paddingTopLeft||u.padding||[0,0]),p=st(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(i,!1,d.add(p));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:i.getCenter(),zoom:w};var P=p.subtract(d).divideBy(2),U=this.project(i.getSouthWest(),w),J=this.project(i.getNorthEast(),w),tt=this.unproject(U.add(J).divideBy(2).add(P),w);return{center:tt,zoom:w}},fitBounds:function(i,u){if(i=kt(i),!i.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(i,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,u){return this.setView(i,this._zoom,{pan:u})},panBy:function(i,u){if(i=st(i).round(),u=u||{},!i.x&&!i.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ys,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Vt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,u,d){if(d=d||{},d.animate===!1||!At.any3d)return this.setView(i,u,d);this._stop();var p=this.project(this.getCenter()),w=this.project(i),P=this.getSize(),U=this._zoom;i=Bt(i),u=u===void 0?U:u;var J=Math.max(P.x,P.y),tt=J*this.getZoomScale(U,u),lt=w.distanceTo(p)||1,wt=1.42,Ht=wt*wt;function ee(Fe){var ua=Fe?-1:1,bg=Fe?tt:J,Tg=tt*tt-J*J+ua*Ht*Ht*lt*lt,Ig=2*bg*Ht*lt,Su=Tg/Ig,gc=Math.sqrt(Su*Su+1)-Su,Sg=gc<1e-9?-18:Math.log(gc);return Sg}function fn(Fe){return(Math.exp(Fe)-Math.exp(-Fe))/2}function Xe(Fe){return(Math.exp(Fe)+Math.exp(-Fe))/2}function Gn(Fe){return fn(Fe)/Xe(Fe)}var En=ee(0);function es(Fe){return J*(Xe(En)/Xe(En+wt*Fe))}function Eg(Fe){return J*(Xe(En)*Gn(En+wt*Fe)-fn(En))/Ht}function kg(Fe){return 1-Math.pow(1-Fe,1.5)}var xg=Date.now(),fc=(ee(1)-En)/wt,wg=d.duration?1e3*d.duration:1e3*fc*.8;function dc(){var Fe=(Date.now()-xg)/wg,ua=kg(Fe)*fc;Fe<=1?(this._flyToFrame=Pt(dc,this),this._move(this.unproject(p.add(w.subtract(p).multiplyBy(Eg(ua)/lt)),U),this.getScaleZoom(J/es(ua),U),{flyTo:!0})):this._move(i,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),dc.call(this),this},flyToBounds:function(i,u){var d=this._getBoundsCenterZoom(i,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(i){return i=kt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var u=this.options.minZoom;return this.options.minZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var u=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,u){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,kt(i));return d.equals(p)||this.panTo(p,u),this._enforcingBounds=!1,this},panInside:function(i,u){u=u||{};var d=st(u.paddingTopLeft||u.padding||[0,0]),p=st(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),P=this.project(i),U=this.getPixelBounds(),J=Ut([U.min.add(d),U.max.subtract(p)]),tt=J.getSize();if(!J.contains(P)){this._enforcingBounds=!0;var lt=P.subtract(J.getCenter()),wt=J.extend(P).getSize().subtract(tt);w.x+=lt.x<0?-wt.x:wt.x,w.y+=lt.y<0?-wt.y:wt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=u.divideBy(2).round(),w=d.divideBy(2).round(),P=p.subtract(w);return!P.x&&!P.y?this:(i.animate&&i.pan?this.panBy(P):(i.pan&&this._rawPanBy(P),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=g(this._handleGeolocationResponse,this),d=g(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,i):navigator.geolocation.getCurrentPosition(u,d,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var u=i.code,d=i.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var u=i.coords.latitude,d=i.coords.longitude,p=new Yt(u,d),w=p.toBounds(i.coords.accuracy*2),P=this._locateOptions;if(P.setView){var U=this.getBoundsZoom(w);this.setView(p,P.maxZoom?Math.min(U,P.maxZoom):U)}var J={latlng:p,bounds:w,timestamp:i.timestamp};for(var tt in i.coords)typeof i.coords[tt]=="number"&&(J[tt]=i.coords[tt]);this.fire("locationfound",J)}},addHandler:function(i,u){if(!u)return this;var d=this[i]=new u(this);return this._handlers.push(d),this.options[i]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ke(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,u){var d="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),p=ne("div",d,u||this._mapPane);return i&&(this._panes[i]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),u=this.unproject(i.getBottomLeft()),d=this.unproject(i.getTopRight());return new Qt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,u,d){i=kt(i),d=st(d||[0,0]);var p=this.getZoom()||0,w=this.getMinZoom(),P=this.getMaxZoom(),U=i.getNorthWest(),J=i.getSouthEast(),tt=this.getSize().subtract(d),lt=Ut(this.project(J,p),this.project(U,p)).getSize(),wt=At.any3d?this.options.zoomSnap:1,Ht=tt.x/lt.x,ee=tt.y/lt.y,fn=u?Math.max(Ht,ee):Math.min(Ht,ee);return p=this.getScaleZoom(fn,p),wt&&(p=Math.round(p/(wt/100))*(wt/100),p=u?Math.ceil(p/wt)*wt:Math.floor(p/wt)*wt),Math.max(w,Math.min(P,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,u){var d=this._getTopLeftPoint(i,u);return new Ft(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(i)/d.scale(u)},getScaleZoom:function(i,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var p=d.zoom(i*d.scale(u));return isNaN(p)?1/0:p},project:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Bt(i),u)},unproject:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(st(i),u)},layerPointToLatLng:function(i){var u=st(i).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(i){var u=this.project(Bt(i))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Bt(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(kt(i))},distance:function(i,u){return this.options.crs.distance(Bt(i),Bt(u))},containerPointToLayerPoint:function(i){return st(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return st(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var u=this.containerPointToLayerPoint(st(i));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Bt(i)))},mouseEventToContainerPoint:function(i){return Hs(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var u=this._container=Br(i);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$t(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,Vt(i,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Mn(i,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Oe(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Vt(i.markerPane,"leaflet-zoom-hide"),Vt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,u,d){Oe(this._mapPane,new ft(0,0));var p=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(i,u)._moveEnd(w),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(i,u){return i&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(i,u,d,p){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),p?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Oe(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[v(this._container)]=this;var u=i?ge:$t;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Tt(this._resizeRequest),this._resizeRequest=Pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,u){for(var d=[],p,w=u==="mouseout"||u==="mouseover",P=i.target||i.srcElement,U=!1;P;){if(p=this._targets[v(P)],p&&(u==="click"||u==="preclick")&&this._draggableMoved(p)){U=!0;break}if(p&&p.listens(u,!0)&&(w&&!Yr(P,i)||(d.push(p),w))||P===this._container)break;P=P.parentNode}return!d.length&&!U&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var u=i.target||i.srcElement;if(!(!this._loaded||u._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(u))){var d=i.type;d==="mousedown"&&Gs(u),this._fireDOMEvent(i,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,u,d){if(i.type==="click"){var p=s({},i);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var w=this._findEventTargets(i,u);if(d){for(var P=[],U=0;U<d.length;U++)d[U].listens(u,!0)&&P.push(d[U]);w=P.concat(w)}if(w.length){u==="contextmenu"&&Pe(i);var J=w[0],tt={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var lt=J.getLatLng&&(!J._radius||J._radius<=10);tt.containerPoint=lt?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(i),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=lt?J.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(U=0;U<w.length;U++)if(w[U].fire(u,tt,!0),tt.originalEvent._stopped||w[U].options.bubblingMouseEvents===!1&&B(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,u=this._handlers.length;i<u;i++)this._handlers[i].disable()},whenReady:function(i,u){return this._loaded?i.call(u||this,{target:this}):this.on("load",i,u),this},_getMapPanePos:function(){return ei(this._mapPane)||new ft(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,u){var d=i&&u!==void 0?this._getNewPixelOrigin(i,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,u){var d=this.getSize()._divideBy(2);return this.project(i,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,u,d){var p=this._getNewPixelOrigin(d,u);return this.project(i,u)._subtract(p)},_latLngBoundsToNewLayerBounds:function(i,u,d){var p=this._getNewPixelOrigin(d,u);return Ut([this.project(i.getSouthWest(),u)._subtract(p),this.project(i.getNorthWest(),u)._subtract(p),this.project(i.getSouthEast(),u)._subtract(p),this.project(i.getNorthEast(),u)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,u,d){if(!d)return i;var p=this.project(i,u),w=this.getSize().divideBy(2),P=new Ft(p.subtract(w),p.add(w)),U=this._getBoundsOffset(P,d,u);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?i:this.unproject(p.add(U),u)},_limitOffset:function(i,u){if(!u)return i;var d=this.getPixelBounds(),p=new Ft(d.min.add(i),d.max.add(i));return i.add(this._getBoundsOffset(p,u))},_getBoundsOffset:function(i,u,d){var p=Ut(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=p.min.subtract(i.min),P=p.max.subtract(i.max),U=this._rebound(w.x,-P.x),J=this._rebound(w.y,-P.y);return new ft(U,J)},_rebound:function(i,u){return i+u>0?Math.round(i-u)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(u))},_limitZoom:function(i){var u=this.getMinZoom(),d=this.getMaxZoom(),p=At.any3d?this.options.zoomSnap:1;return p&&(i=Math.round(i/p)*p),Math.max(u,Math.min(d,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ue(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,u){var d=this._getCenterOffset(i)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var i=this._proxy=ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(u){var d=Fs,p=this._proxy.style[d];Ei(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),u=this.getZoom();Ei(this._proxy,this.project(i,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(u),w=this._getCenterOffset(i)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(w)?!1:(Pt(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(i,u,!0)},this),!0)},_animateZoom:function(i,u,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=u,Vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:u,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ue(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vr(i,u){return new Xt(i,u)}var In=dt.extend({options:{position:"topright"},initialize:function(i){Z(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var u=this._map;return u&&u.removeControl(this),this.options.position=i,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var u=this._container=this.onAdd(i),d=this.getPosition(),p=i._controlCorners[d];return Vt(u,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(u,p.firstChild):p.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),$e=function(i){return new In(i)};Xt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},u="leaflet-",d=this._controlContainer=ne("div",u+"control-container",this._container);function p(w,P){var U=u+w+" "+u+P;i[w+P]=ne("div",U,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ke(this._controlCorners[i]);ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ki=In.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,u,d,p){return d<p?-1:p<d?1:0}},initialize:function(i,u,d){Z(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in i)this._addLayer(i[p],p);for(p in u)this._addLayer(u[p],p,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return In.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,u){return this._addLayer(i,u),this._map?this._update():this},addOverlay:function(i,u){return this._addLayer(i,u,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(i));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):ue(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ue(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",u=this._container=ne("div",i),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Hi(u),gr(u);var p=this._section=ne("section",i+"-list");d&&(this._map.on("click",this.collapse,this),$t(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=ne("a",i+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),$t(w,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Pe(P),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ne("div",i+"-base",p),this._separator=ne("div",i+"-separator",p),this._overlaysList=ne("div",i+"-overlays",p),u.appendChild(p)},_getLayer:function(i){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===i)return this._layers[u]},_addLayer:function(i,u,d){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(g(function(p,w){return this.options.sortFunction(p.layer,w.layer,p.name,w.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gr(this._baseLayersList),Gr(this._overlaysList),this._layerControlInputs=[];var i,u,d,p,w=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),u=u||p.overlay,i=i||!p.overlay,w+=p.overlay?0:1;return this.options.hideSingleBase&&(i=i&&w>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=u&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var u=this._getLayer(v(i.target)),d=u.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(i,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(u?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(i){var u=document.createElement("label"),d=this._map.hasLayer(i.layer),p;i.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(p),p.layerId=v(i.layer),$t(p,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+i.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(p),P.appendChild(w);var U=i.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,u,d,p=[],w=[];this._handlingClick=!0;for(var P=i.length-1;P>=0;P--)u=i[P],d=this._getLayer(u.layerId).layer,u.checked?p.push(d):u.checked||w.push(d);for(P=0;P<w.length;P++)this._map.hasLayer(w[P])&&this._map.removeLayer(w[P]);for(P=0;P<p.length;P++)this._map.hasLayer(p[P])||this._map.addLayer(p[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,u,d,p=this._map.getZoom(),w=i.length-1;w>=0;w--)u=i[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,$t(i,"click",Pe),this.expand();var u=this;setTimeout(function(){ge(i,"click",Pe),u._preventClick=!1})}}),pu=function(i,u,d){return new ki(i,u,d)},ii=In.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var u="leaflet-control-zoom",d=ne("div",u+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,u,d,p,w){var P=ne("a",d,p);return P.innerHTML=i,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),Hi(P),$t(P,"click",ni),$t(P,"click",w,this),$t(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var i=this._map,u="leaflet-disabled";ue(this._zoomInButton,u),ue(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Vt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Vt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ii,this.addControl(this.zoomControl))});var Xo=function(i){return new ii(i)},xi=In.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var u="leaflet-control-scale",d=ne("div",u),p=this.options;return this._addScales(p,u+"-line",d),i.on(p.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),d},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,u,d){i.metric&&(this._mScale=ne("div",u,d)),i.imperial&&(this._iScale=ne("div",u,d))},_update:function(){var i=this._map,u=i.getSize().y/2,d=i.distance(i.containerPointToLatLng([0,u]),i.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var u=this._getRoundNum(i),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/i)},_updateImperial:function(i){var u=i*3.2808399,d,p,w;u>5280?(d=u/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(i,u,d){i.style.width=Math.round(this.options.maxWidth*d)+"px",i.innerHTML=u},_getRoundNum:function(i){var u=Math.pow(10,(Math.floor(i)+"").length-1),d=i/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),vu=function(i){return new xi(i)},An='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wr=In.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?An+" ":"")+"Leaflet</a>"},initialize:function(i){Z(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ne("div","leaflet-control-attribution"),Hi(this._container);for(var u in i._layers)i._layers[u].getAttribution&&this.addAttribution(i._layers[u].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var u in this._attributions)this._attributions[u]&&i.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),i.length&&d.push(i.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new Wr().addTo(this)});var yu=function(i){return new Wr(i)};In.Layers=ki,In.Zoom=ii,In.Scale=xi,In.Attribution=Wr,$e.layers=pu,$e.zoom=Xo,$e.scale=vu,$e.attribution=yu;var Dn=dt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dn.addTo=function(i,u){return i.addHandler(u,this),this};var Lu={Events:It},jo=At.touch?"touchstart mousedown":"mousedown",ri=Nt.extend({options:{clickTolerance:3},initialize:function(i,u,d,p){Z(this,p),this._element=i,this._dragStartTarget=u||i,this._preventOutline=d},enable:function(){this._enabled||($t(this._dragStartTarget,jo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,jo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ur(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ri._dragging===this&&this.finishDrag();return}if(!(ri._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ri._dragging=this,this._preventOutline&&Gs(this._element),Bs(),Yn(),!this._moving)){this.fire("down");var u=i.touches?i.touches[0]:i,d=ln(this._element);this._startPoint=new ft(u.clientX,u.clientY),this._startPos=ei(this._element),this._parentScale=rn(d);var p=i.type==="mousedown";$t(document,p?"mousemove":"touchmove",this._onMove,this),$t(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var u=i.touches&&i.touches.length===1?i.touches[0]:i,d=new ft(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Pe(i),this._moved||(this.fire("dragstart"),this._moved=!0,Vt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Oe(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){ue(document.body,"leaflet-dragging"),this._lastTarget&&(ue(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),fr(),Bi();var u=this._moved&&this._moving;this._moving=!1,ri._dragging=!1,u&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Ko(i,u,d){var p,w=[1,4,2,8],P,U,J,tt,lt,wt,Ht,ee;for(P=0,wt=i.length;P<wt;P++)i[P]._code=Ae(i[P],u);for(J=0;J<4;J++){for(Ht=w[J],p=[],P=0,wt=i.length,U=wt-1;P<wt;U=P++)tt=i[P],lt=i[U],tt._code&Ht?lt._code&Ht||(ee=_r(lt,tt,Ht,u,d),ee._code=Ae(ee,u),p.push(ee)):(lt._code&Ht&&(ee=_r(lt,tt,Ht,u,d),ee._code=Ae(ee,u),p.push(ee)),p.push(tt));i=p}return i}function Jo(i,u){var d,p,w,P,U,J,tt,lt,wt;if(!i||i.length===0)throw new Error("latlngs not passed");hn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ht=Bt([0,0]),ee=kt(i),fn=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());fn<1700&&(Ht=Wn(i));var Xe=i.length,Gn=[];for(d=0;d<Xe;d++){var En=Bt(i[d]);Gn.push(u.project(Bt([En.lat-Ht.lat,En.lng-Ht.lng])))}for(J=tt=lt=0,d=0,p=Xe-1;d<Xe;p=d++)w=Gn[d],P=Gn[p],U=w.y*P.x-P.y*w.x,tt+=(w.x+P.x)*U,lt+=(w.y+P.y)*U,J+=U*3;J===0?wt=Gn[0]:wt=[tt/J,lt/J];var es=u.unproject(st(wt));return Bt([es.lat+Ht.lat,es.lng+Ht.lng])}function Wn(i){for(var u=0,d=0,p=0,w=0;w<i.length;w++){var P=Bt(i[w]);u+=P.lat,d+=P.lng,p++}return Bt([u/p,d/p])}var cn={__proto__:null,clipPolygon:Ko,polygonCenter:Jo,centroid:Wn};function Qo(i,u){if(!u||!i.length)return i.slice();var d=u*u;return i=$s(i,d),i=Ws(i,d),i}function Vs(i,u,d){return Math.sqrt(pr(i,u,d,!0))}function Eu(i,u,d){return pr(i,u,d)}function Ws(i,u){var d=i.length,p=typeof Uint8Array<"u"?Uint8Array:Array,w=new p(d);w[0]=w[d-1]=1,$r(i,w,u,0,d-1);var P,U=[];for(P=0;P<d;P++)w[P]&&U.push(i[P]);return U}function $r(i,u,d,p,w){var P=0,U,J,tt;for(J=p+1;J<=w-1;J++)tt=pr(i[J],i[p],i[w],!0),tt>P&&(U=J,P=tt);P>d&&(u[U]=1,$r(i,u,d,p,U),$r(i,u,d,U,w))}function $s(i,u){for(var d=[i[0]],p=1,w=0,P=i.length;p<P;p++)mr(i[p],i[w])>u&&(d.push(i[p]),w=p);return w<P-1&&d.push(i[P-1]),d}var Xs;function Ln(i,u,d,p,w){var P=p?Xs:Ae(i,d),U=Ae(u,d),J,tt,lt;for(Xs=U;;){if(!(P|U))return[i,u];if(P&U)return!1;J=P||U,tt=_r(i,u,J,d,w),lt=Ae(tt,d),J===P?(i=tt,P=lt):(u=tt,U=lt)}}function _r(i,u,d,p,w){var P=u.x-i.x,U=u.y-i.y,J=p.min,tt=p.max,lt,wt;return d&8?(lt=i.x+P*(tt.y-i.y)/U,wt=tt.y):d&4?(lt=i.x+P*(J.y-i.y)/U,wt=J.y):d&2?(lt=tt.x,wt=i.y+U*(tt.x-i.x)/P):d&1&&(lt=J.x,wt=i.y+U*(J.x-i.x)/P),new ft(lt,wt,w)}function Ae(i,u){var d=0;return i.x<u.min.x?d|=1:i.x>u.max.x&&(d|=2),i.y<u.min.y?d|=4:i.y>u.max.y&&(d|=8),d}function mr(i,u){var d=u.x-i.x,p=u.y-i.y;return d*d+p*p}function pr(i,u,d,p){var w=u.x,P=u.y,U=d.x-w,J=d.y-P,tt=U*U+J*J,lt;return tt>0&&(lt=((i.x-w)*U+(i.y-P)*J)/tt,lt>1?(w=d.x,P=d.y):lt>0&&(w+=U*lt,P+=J*lt)),U=i.x-w,J=i.y-P,p?U*U+J*J:new ft(w,P)}function hn(i){return!G(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function js(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hn(i)}function Ks(i,u){var d,p,w,P,U,J,tt,lt;if(!i||i.length===0)throw new Error("latlngs not passed");hn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var wt=Bt([0,0]),Ht=kt(i),ee=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());ee<1700&&(wt=Wn(i));var fn=i.length,Xe=[];for(d=0;d<fn;d++){var Gn=Bt(i[d]);Xe.push(u.project(Bt([Gn.lat-wt.lat,Gn.lng-wt.lng])))}for(d=0,p=0;d<fn-1;d++)p+=Xe[d].distanceTo(Xe[d+1])/2;if(p===0)lt=Xe[0];else for(d=0,P=0;d<fn-1;d++)if(U=Xe[d],J=Xe[d+1],w=U.distanceTo(J),P+=w,P>p){tt=(P-p)/w,lt=[J.x-tt*(J.x-U.x),J.y-tt*(J.y-U.y)];break}var En=u.unproject(st(lt));return Bt([En.lat+wt.lat,En.lng+wt.lng])}var Js={__proto__:null,simplify:Qo,pointToSegmentDistance:Vs,closestPointOnSegment:Eu,clipSegment:Ln,_getEdgeIntersection:_r,_getBitCode:Ae,_sqClosestPointOnSegment:pr,isFlat:hn,_flat:js,polylineCenter:Ks},Qs={project:function(i){return new ft(i.lng,i.lat)},unproject:function(i){return new Yt(i.y,i.x)},bounds:new Ft([-180,-90],[180,90])},to={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ft([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var u=Math.PI/180,d=this.R,p=i.lat*u,w=this.R_MINOR/d,P=Math.sqrt(1-w*w),U=P*Math.sin(p),J=Math.tan(Math.PI/4-p/2)/Math.pow((1-U)/(1+U),P/2);return p=-d*Math.log(Math.max(J,1e-10)),new ft(i.lng*u*d,p)},unproject:function(i){for(var u=180/Math.PI,d=this.R,p=this.R_MINOR/d,w=Math.sqrt(1-p*p),P=Math.exp(-i.y/d),U=Math.PI/2-2*Math.atan(P),J=0,tt=.1,lt;J<15&&Math.abs(tt)>1e-7;J++)lt=w*Math.sin(U),lt=Math.pow((1-lt)/(1+lt),w/2),tt=Math.PI/2-2*Math.atan(P*lt)-U,U+=tt;return new Yt(U*u,i.x*u/d)}},ku={__proto__:null,LonLat:Qs,Mercator:to,SphericalMercator:gt},xu=s({},F,{code:"EPSG:3395",projection:to,transformation:function(){var i=.5/(Math.PI*to.R);return T(i,.5,-i,.5)}()}),ta=s({},F,{code:"EPSG:4326",projection:Qs,transformation:T(1/180,1,-1/180,.5)}),wu=s({},it,{projection:Qs,transformation:T(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,u){var d=u.lng-i.lng,p=u.lat-i.lat;return Math.sqrt(d*d+p*p)},infinite:!0});it.Earth=F,it.EPSG3395=xu,it.EPSG3857=D,it.EPSG900913=$,it.EPSG4326=ta,it.Simple=wu;var Sn=Nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[v(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[v(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var u=i.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(i);return this._layers[u]?this:(this._layers[u]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var u=v(i);return this._layers[u]?(this._loaded&&i.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return v(i)in this._layers},eachLayer:function(i,u){for(var d in this._layers)i.call(u,this._layers[d]);return this},_addLayers:function(i){i=i?G(i)?i:[i]:[];for(var u=0,d=i.length;u<d;u++)this.addLayer(i[u])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[v(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var u=v(i);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,u=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var w=this._zoomBoundLayers[p].options;i=w.minZoom===void 0?i:Math.min(i,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=i===1/0?void 0:i,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zi=Sn.extend({initialize:function(i,u){Z(this,u),this._layers={};var d,p;if(i)for(d=0,p=i.length;d<p;d++)this.addLayer(i[d])},addLayer:function(i){var u=this.getLayerId(i);return this._layers[u]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var u=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(i){var u=typeof i=="number"?i:this.getLayerId(i);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var u=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[i]&&p[i].apply(p,u);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,u){for(var d in this._layers)i.call(u,this._layers[d]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return v(i)}}),ea=function(i,u){return new Zi(i,u)},$n=Zi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Zi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Zi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Qt;for(var u in this._layers){var d=this._layers[u];i.extend(d.getBounds?d.getBounds():d.getLatLng())}return i}}),na=function(i,u){return new $n(i,u)},qi=dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){Z(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,u){var d=this._getIconUrl(i);if(!d){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(p,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(i,u){var d=this.options,p=d[u+"Size"];typeof p=="number"&&(p=[p,p]);var w=st(p),P=st(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));i.className="leaflet-marker-"+u+" "+(d.className||""),P&&(i.style.marginLeft=-P.x+"px",i.style.marginTop=-P.y+"px"),w&&(i.style.width=w.x+"px",i.style.height=w.y+"px")},_createImg:function(i,u){return u=u||document.createElement("img"),u.src=i,u},_getIconUrl:function(i){return At.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function bu(i){return new qi(i)}var vr=qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof vr.imagePath!="string"&&(vr.imagePath=this._detectIconPath()),(this.options.imagePath||vr.imagePath)+qi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var u=function(d,p,w){var P=p.exec(d);return P&&P[w]};return i=u(i,/^url\((['"])?(.+)\1\)$/,2),i&&u(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ne("div","leaflet-default-icon-path",document.body),u=Mn(i,"background-image")||Mn(i,"backgroundImage");if(document.body.removeChild(i),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),ia=Dn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ri(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Vt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ue(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var u=this._marker,d=u._map,p=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,P=ei(u._icon),U=d.getPixelBounds(),J=d.getPixelOrigin(),tt=Ut(U.min._subtract(J).add(w),U.max._subtract(J).subtract(w));if(!tt.contains(P)){var lt=st((Math.max(tt.max.x,P.x)-tt.max.x)/(U.max.x-tt.max.x)-(Math.min(tt.min.x,P.x)-tt.min.x)/(U.min.x-tt.min.x),(Math.max(tt.max.y,P.y)-tt.max.y)/(U.max.y-tt.max.y)-(Math.min(tt.min.y,P.y)-tt.min.y)/(U.min.y-tt.min.y)).multiplyBy(p);d.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),Oe(u._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Pt(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Tt(this._panRequest),this._panRequest=Pt(this._adjustPan.bind(this,i)))},_onDrag:function(i){var u=this._marker,d=u._shadow,p=ei(u._icon),w=u._map.layerPointToLatLng(p);d&&Oe(d,p),u._latlng=w,i.latlng=w,i.oldLatLng=this._oldLatLng,u.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Xr=Sn.extend({options:{icon:new vr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,u){Z(this,u),this._latlng=Bt(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var u=this._latlng;return this._latlng=Bt(i),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=i.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,i.title&&(d.title=i.title),d.tagName==="IMG"&&(d.alt=i.alt||"")),Vt(d,u),i.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$t(d,"focus",this._panOnFocus,this);var w=i.icon.createShadow(this._shadow),P=!1;w!==this._shadow&&(this._removeShadow(),P=!0),w&&(Vt(w,u),w.alt=""),this._shadow=w,i.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&P&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ke(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Oe(this._icon,i),this._shadow&&Oe(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ia)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ia(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ge(this._icon,i),this._shadow&&Ge(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var u=this.options.icon.options,d=u.iconSize?st(u.iconSize):st(0,0),p=u.iconAnchor?st(u.iconAnchor):st(0,0);i.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Tu(i,u){return new Xr(i,u)}var si=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return Z(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yr=si.extend({options:{fill:!0,radius:10},initialize:function(i,u){Z(this,u),this._latlng=Bt(i),this._radius=this.options.radius},setLatLng:function(i){var u=this._latlng;return this._latlng=Bt(i),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var u=i&&i.radius||this._radius;return si.prototype.setStyle.call(this,i),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,u=this._radiusY||i,d=this._clickTolerance(),p=[i+d,u+d];this._pxBounds=new Ft(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ra(i,u){return new yr(i,u)}var jr=yr.extend({initialize:function(i,u,d){if(typeof u=="number"&&(u=s({},d,{radius:u})),Z(this,u),this._latlng=Bt(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Qt(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:si.prototype.setStyle,_project:function(){var i=this._latlng.lng,u=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===F.distance){var w=Math.PI/180,P=this._mRadius/F.R/w,U=d.project([u+P,i]),J=d.project([u-P,i]),tt=U.add(J).divideBy(2),lt=d.unproject(tt).lat,wt=Math.acos((Math.cos(P*w)-Math.sin(u*w)*Math.sin(lt*w))/(Math.cos(u*w)*Math.cos(lt*w)))/w;(isNaN(wt)||wt===0)&&(wt=P/Math.cos(Math.PI/180*u)),this._point=tt.subtract(d.getPixelOrigin()),this._radius=isNaN(wt)?0:tt.x-d.project([lt,i-wt]).x,this._radiusY=tt.y-U.y}else{var Ht=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ht).x}this._updateBounds()}});function Iu(i,u,d){return new jr(i,u,d)}var Fn=si.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,u){Z(this,u),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var u=1/0,d=null,p=pr,w,P,U=0,J=this._parts.length;U<J;U++)for(var tt=this._parts[U],lt=1,wt=tt.length;lt<wt;lt++){w=tt[lt-1],P=tt[lt];var Ht=p(i,w,P,!0);Ht<u&&(u=Ht,d=p(i,w,P))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ks(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,u){return u=u||this._defaultShape(),i=Bt(i),u.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Qt,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var u=[],d=hn(i),p=0,w=i.length;p<w;p++)d?(u[p]=Bt(i[p]),this._bounds.extend(u[p])):u[p]=this._convertLatLngs(i[p]);return u},_project:function(){var i=new Ft;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),u=new ft(i,i);this._rawPxBounds&&(this._pxBounds=new Ft([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(i,u,d){var p=i[0]instanceof Yt,w=i.length,P,U;if(p){for(U=[],P=0;P<w;P++)U[P]=this._map.latLngToLayerPoint(i[P]),d.extend(U[P]);u.push(U)}else for(P=0;P<w;P++)this._projectLatlngs(i[P],u,d)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,p,w,P,U,J,tt;for(d=0,w=0,P=this._rings.length;d<P;d++)for(tt=this._rings[d],p=0,U=tt.length;p<U-1;p++)J=Ln(tt[p],tt[p+1],i,p,!0),J&&(u[w]=u[w]||[],u[w].push(J[0]),(J[1]!==tt[p+1]||p===U-2)&&(u[w].push(J[1]),w++))}},_simplifyPoints:function(){for(var i=this._parts,u=this.options.smoothFactor,d=0,p=i.length;d<p;d++)i[d]=Qo(i[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,u){var d,p,w,P,U,J,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(d=0,P=this._parts.length;d<P;d++)for(J=this._parts[d],p=0,U=J.length,w=U-1;p<U;w=p++)if(!(!u&&p===0)&&Vs(i,J[w],J[p])<=tt)return!0;return!1}});function eo(i,u){return new Fn(i,u)}Fn._flat=js;var Yi=Fn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var u=Fn.prototype._convertLatLngs.call(this,i),d=u.length;return d>=2&&u[0]instanceof Yt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(i){Fn.prototype._setLatLngs.call(this,i),hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,u=this.options.weight,d=new ft(u,u);if(i=new Ft(i.min.subtract(d),i.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,w=this._rings.length,P;p<w;p++)P=Ko(this._rings[p],i,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var u=!1,d,p,w,P,U,J,tt,lt;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(P=0,tt=this._parts.length;P<tt;P++)for(d=this._parts[P],U=0,lt=d.length,J=lt-1;U<lt;J=U++)p=d[U],w=d[J],p.y>i.y!=w.y>i.y&&i.x<(w.x-p.x)*(i.y-p.y)/(w.y-p.y)+p.x&&(u=!u);return u||Fn.prototype._containsPoint.call(this,i,!0)}});function sa(i,u){return new Yi(i,u)}var zn=$n.extend({initialize:function(i,u){Z(this,u),this._layers={},i&&this.addData(i)},addData:function(i){var u=G(i)?i:i.features,d,p,w;if(u){for(d=0,p=u.length;d<p;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var P=this.options;if(P.filter&&!P.filter(i))return this;var U=Kr(i,P);return U?(U.feature=a(i),U.defaultOptions=U.options,this.resetStyle(U),P.onEachFeature&&P.onEachFeature(i,U),this.addLayer(U)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(u){this._setLayerStyle(u,i)},this)},_setLayerStyle:function(i,u){i.setStyle&&(typeof u=="function"&&(u=u(i.feature)),i.setStyle(u))}});function Kr(i,u){var d=i.type==="Feature"?i.geometry:i,p=d?d.coordinates:null,w=[],P=u&&u.pointToLayer,U=u&&u.coordsToLatLng||oi,J,tt,lt,wt;if(!p&&!d)return null;switch(d.type){case"Point":return J=U(p),oa(P,i,J,u);case"MultiPoint":for(lt=0,wt=p.length;lt<wt;lt++)J=U(p[lt]),w.push(oa(P,i,J,u));return new $n(w);case"LineString":case"MultiLineString":return tt=Jr(p,d.type==="LineString"?0:1,U),new Fn(tt,u);case"Polygon":case"MultiPolygon":return tt=Jr(p,d.type==="Polygon"?1:2,U),new Yi(tt,u);case"GeometryCollection":for(lt=0,wt=d.geometries.length;lt<wt;lt++){var Ht=Kr({geometry:d.geometries[lt],type:"Feature",properties:i.properties},u);Ht&&w.push(Ht)}return new $n(w);case"FeatureCollection":for(lt=0,wt=d.features.length;lt<wt;lt++){var ee=Kr(d.features[lt],u);ee&&w.push(ee)}return new $n(w);default:throw new Error("Invalid GeoJSON object.")}}function oa(i,u,d,p){return i?i(u,d):new Xr(d,p&&p.markersInheritOptions&&p)}function oi(i){return new Yt(i[1],i[0],i[2])}function Jr(i,u,d){for(var p=[],w=0,P=i.length,U;w<P;w++)U=u?Jr(i[w],u-1,d):(d||oi)(i[w]),p.push(U);return p}function Qr(i,u){return i=Bt(i),i.alt!==void 0?[I(i.lng,u),I(i.lat,u),I(i.alt,u)]:[I(i.lng,u),I(i.lat,u)]}function Qe(i,u,d,p){for(var w=[],P=0,U=i.length;P<U;P++)w.push(u?Qe(i[P],hn(i[P])?0:u-1,d,p):Qr(i[P],p));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function tn(i,u){return i.feature?s({},i.feature,{geometry:u}):a(u)}function a(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var e={toGeoJSON:function(i){return tn(this,{type:"Point",coordinates:Qr(this.getLatLng(),i)})}};Xr.include(e),jr.include(e),yr.include(e),Fn.include({toGeoJSON:function(i){var u=!hn(this._latlngs),d=Qe(this._latlngs,u?1:0,!1,i);return tn(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),Yi.include({toGeoJSON:function(i){var u=!hn(this._latlngs),d=u&&!hn(this._latlngs[0]),p=Qe(this._latlngs,d?2:u?1:0,!0,i);return u||(p=[p]),tn(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),Zi.include({toMultiPoint:function(i){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(i).geometry.coordinates)}),tn(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(i){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(i);var d=u==="GeometryCollection",p=[];return this.eachLayer(function(w){if(w.toGeoJSON){var P=w.toGeoJSON(i);if(d)p.push(P.geometry);else{var U=a(P);U.type==="FeatureCollection"?p.push.apply(p,U.features):p.push(U)}}}),d?tn(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function n(i,u){return new zn(i,u)}var o=n,f=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,u,d){this._url=i,this._bounds=kt(u),Z(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&zi(this._image),this},bringToBack:function(){return this._map&&Li(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=kt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",u=this._image=i?this._url:ne("img");if(Vt(u,"leaflet-image-layer"),this._zoomAnimated&&Vt(u,"leaflet-zoom-animated"),this.options.className&&Vt(u,this.options.className),u.onselectstart=k,u.onmousemove=k,u.onload=g(this.fire,this,"load"),u.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(i){var u=this._map.getZoomScale(i.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Ei(this._image,d,u)},_reset:function(){var i=this._image,u=new Ft(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Oe(i,u.min),i.style.width=d.x+"px",i.style.height=d.y+"px"},_updateOpacity:function(){Ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),m=function(i,u,d){return new f(i,u,d)},y=f.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",u=this._image=i?this._url:ne("video");if(Vt(u,"leaflet-image-layer"),this._zoomAnimated&&Vt(u,"leaflet-zoom-animated"),this.options.className&&Vt(u,this.options.className),u.onselectstart=k,u.onmousemove=k,u.onloadeddata=g(this.fire,this,"load"),i){for(var d=u.getElementsByTagName("source"),p=[],w=0;w<d.length;w++)p.push(d[w].src);this._url=d.length>0?p:[u.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var U=ne("source");U.src=this._url[P],u.appendChild(U)}}});function b(i,u,d){return new y(i,u,d)}var S=f.extend({_initImage:function(){var i=this._image=this._url;Vt(i,"leaflet-image-layer"),this._zoomAnimated&&Vt(i,"leaflet-zoom-animated"),this.options.className&&Vt(i,this.options.className),i.onselectstart=k,i.onmousemove=k}});function M(i,u,d){return new S(i,u,d)}var q=Sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,u){i&&(i instanceof Yt||G(i))?(this._latlng=Bt(i),Z(this,u)):(Z(this,i),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ge(this._container,1),this.bringToFront(),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ge(this._container,0),this._removeTimeout=setTimeout(g(ke,void 0,this._container),200)):ke(this._container),this.options.interactive&&(ue(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Bt(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zi(this._container),this},bringToBack:function(){return this._map&&Li(this._container),this},_prepareOpen:function(i){var u=this._source;if(!u._map)return!1;if(u instanceof $n){u=null;var d=this._source._layers;for(var p in d)if(d[p]._map){u=d[p];break}if(!u)return!1;this._source=u}if(!i)if(u.getCenter)i=u.getCenter();else if(u.getLatLng)i=u.getLatLng();else if(u.getBounds)i=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")i.innerHTML=u;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),u=st(this.options.offset),d=this._getAnchor();this._zoomAnimated?Oe(this._container,i.add(d)):u=u.add(i).add(d);var p=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=p+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(i,u,d,p){var w=u;return w instanceof i||(w=new i(p).setContent(u)),d&&w.setLatLng(d),w}}),Sn.include({_initOverlay:function(i,u,d,p){var w=d;return w instanceof i?(Z(w,p),w._source=this):(w=u&&!p?u:new i(p,this),w.setContent(d)),w}});var K=q.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,q.prototype.openOn.call(this,i)},onAdd:function(i){q.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof si||this._source.on("preclick",Ve))},onRemove:function(i){q.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof si||this._source.off("preclick",Ve))},getEvents:function(){var i=q.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",u=this._container=ne("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ne("div",i+"-content-wrapper",u);if(this._contentNode=ne("div",i+"-content",d),Hi(u),gr(this._contentNode),$t(u,"contextmenu",Ve),this._tipContainer=ne("div",i+"-tip-container",u),this._tip=ne("div",i+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ne("a",i+"-close-button",u);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',$t(p,"click",function(w){Pe(w),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,u=i.style;u.width="",u.whiteSpace="nowrap";var d=i.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var p=i.offsetHeight,w=this.options.maxHeight,P="leaflet-popup-scrolled";w&&p>w?(u.height=w+"px",Vt(i,P)):ue(i,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),d=this._getAnchor();Oe(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,u=parseInt(Mn(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,p=this._containerWidth,w=new ft(this._containerLeft,-d-this._containerBottom);w._add(ei(this._container));var P=i.layerPointToContainerPoint(w),U=st(this.options.autoPanPadding),J=st(this.options.autoPanPaddingTopLeft||U),tt=st(this.options.autoPanPaddingBottomRight||U),lt=i.getSize(),wt=0,Ht=0;P.x+p+tt.x>lt.x&&(wt=P.x+p-lt.x+tt.x),P.x-wt-J.x<0&&(wt=P.x-J.x),P.y+d+tt.y>lt.y&&(Ht=P.y+d-lt.y+tt.y),P.y-Ht-J.y<0&&(Ht=P.y-J.y),(wt||Ht)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([wt,Ht]))}},_getAnchor:function(){return st(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ut=function(i,u){return new K(i,u)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(i,u,d){return this._initOverlay(K,i,u,d).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Sn.include({bindPopup:function(i,u){return this._popup=this._initOverlay(K,this._popup,i,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof $n||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ni(i);var u=i.layer||i.target;if(this._popup._source===u&&!(u instanceof si)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=u,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Lt=q.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){q.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){q.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=q.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",u=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ne("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var u,d,p=this._map,w=this._container,P=p.latLngToContainerPoint(p.getCenter()),U=p.layerPointToContainerPoint(i),J=this.options.direction,tt=w.offsetWidth,lt=w.offsetHeight,wt=st(this.options.offset),Ht=this._getAnchor();J==="top"?(u=tt/2,d=lt):J==="bottom"?(u=tt/2,d=0):J==="center"?(u=tt/2,d=lt/2):J==="right"?(u=0,d=lt/2):J==="left"?(u=tt,d=lt/2):U.x<P.x?(J="right",u=0,d=lt/2):(J="left",u=tt+(wt.x+Ht.x)*2,d=lt/2),i=i.subtract(st(u,d,!0)).add(wt).add(Ht),ue(w,"leaflet-tooltip-right"),ue(w,"leaflet-tooltip-left"),ue(w,"leaflet-tooltip-top"),ue(w,"leaflet-tooltip-bottom"),Vt(w,"leaflet-tooltip-"+J),Oe(w,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ge(this._container,i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(u)},_getAnchor:function(){return st(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ct=function(i,u){return new Lt(i,u)};Xt.include({openTooltip:function(i,u,d){return this._initOverlay(Lt,i,u,d).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Sn.include({bindTooltip:function(i,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lt,this._tooltip,i,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var u=i?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof $n||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&($t(u,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),$t(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var u=i.latlng,d,p;this._tooltip.options.sticky&&i.originalEvent&&(d=this._map.mouseEventToContainerPoint(i.originalEvent),p=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(u)}});var Dt=qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var u=i&&i.tagName==="DIV"?i:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Gr(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=st(d.bgPos);u.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function ie(i){return new Dt(i)}qi.Default=vr;var Jt=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){Z(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ke(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ft?i:new ft(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var u=this.getPane().children,d=-i(-1/0,1/0),p=0,w=u.length,P;p<w;p++)P=u[p].style.zIndex,u[p]!==this._container&&P&&(d=i(d,+P));isFinite(d)&&(this.options.zIndex=d+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){Ge(this._container,this.options.opacity);var i=+new Date,u=!1,d=!1;for(var p in this._tiles){var w=this._tiles[p];if(!(!w.current||!w.loaded)){var P=Math.min(1,(i-w.loaded)/200);Ge(w.el,P),P<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(Tt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,u=this.options.maxZoom;if(i!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===i?(this._levels[d].el.style.zIndex=u-Math.abs(i-d),this._onUpdateLevel(d)):(ke(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[i],w=this._map;return p||(p=this._levels[i]={},p.el=ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=u,p.origin=w.project(w.unproject(w.getPixelOrigin()),i).round(),p.zoom=i,this._setZoomTransform(p,w.getCenter(),w.getZoom()),k(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var i,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)u=this._tiles[i],u.retain=u.current;for(i in this._tiles)if(u=this._tiles[i],u.current&&!u.active){var p=u.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var u in this._tiles)this._tiles[u].coords.z===i&&this._removeTile(u)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ke(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,u,d,p){var w=Math.floor(i/2),P=Math.floor(u/2),U=d-1,J=new ft(+w,+P);J.z=+U;var tt=this._tileCoordsToKey(J),lt=this._tiles[tt];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),U>p?this._retainParent(w,P,U,p):!1)},_retainChildren:function(i,u,d,p){for(var w=2*i;w<2*i+2;w++)for(var P=2*u;P<2*u+2;P++){var U=new ft(w,P);U.z=d+1;var J=this._tileCoordsToKey(U),tt=this._tiles[J];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);d+1<p&&this._retainChildren(w,P,d+1,p)}},_resetView:function(i){var u=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var u=this.options;return u.minNativeZoom!==void 0&&i<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<i?u.maxNativeZoom:i},_setView:function(i,u,d,p){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var P=this.options.updateWhenZooming&&w!==this._tileZoom;(!p||P)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(i),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(i,u)},_setZoomTransforms:function(i,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],i,u)},_setZoomTransform:function(i,u,d){var p=this._map.getZoomScale(d,i.zoom),w=i.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(u,d)).round();At.any3d?Ei(i.el,w,p):Oe(i.el,w)},_resetGrid:function(){var i=this._map,u=i.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,u.wrapLng[0]],p).x/d.x),Math.ceil(i.project([0,u.wrapLng[1]],p).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([u.wrapLat[0],0],p).y/d.x),Math.ceil(i.project([u.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),p=u.getZoomScale(d,this._tileZoom),w=u.project(i,this._tileZoom).floor(),P=u.getSize().divideBy(p*2);return new Ft(w.subtract(P),w.add(P))},_update:function(i){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(i===void 0&&(i=u.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(i),w=this._pxBoundsToTileRange(p),P=w.getCenter(),U=[],J=this.options.keepBuffer,tt=new Ft(w.getBottomLeft().subtract([J,-J]),w.getTopRight().add([J,-J]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var wt=this._tiles[lt].coords;(wt.z!==this._tileZoom||!tt.contains(new ft(wt.x,wt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(i,d);return}for(var Ht=w.min.y;Ht<=w.max.y;Ht++)for(var ee=w.min.x;ee<=w.max.x;ee++){var fn=new ft(ee,Ht);if(fn.z=this._tileZoom,!!this._isValidTile(fn)){var Xe=this._tiles[this._tileCoordsToKey(fn)];Xe?Xe.current=!0:U.push(fn)}}if(U.sort(function(En,es){return En.distanceTo(P)-es.distanceTo(P)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(ee=0;ee<U.length;ee++)this._addTile(U[ee],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(i){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(i.x<d.min.x||i.x>d.max.x)||!u.wrapLat&&(i.y<d.min.y||i.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(i);return kt(this.options.bounds).overlaps(p)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var u=this._map,d=this.getTileSize(),p=i.scaleBy(d),w=p.add(d),P=u.unproject(p,i.z),U=u.unproject(w,i.z);return[P,U]},_tileCoordsToBounds:function(i){var u=this._tileCoordsToNwSe(i),d=new Qt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var u=i.split(":"),d=new ft(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(i){var u=this._tiles[i];u&&(ke(u.el),delete this._tiles[i],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Vt(i,"leaflet-tile");var u=this.getTileSize();i.style.width=u.x+"px",i.style.height=u.y+"px",i.onselectstart=k,i.onmousemove=k,At.ielt9&&this.options.opacity<1&&Ge(i,this.options.opacity)},_addTile:function(i,u){var d=this._getTilePos(i),p=this._tileCoordsToKey(i),w=this.createTile(this._wrapCoords(i),g(this._tileReady,this,i));this._initTile(w),this.createTile.length<2&&Pt(g(this._tileReady,this,i,null,w)),Oe(w,d),this._tiles[p]={el:w,coords:i,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:i})},_tileReady:function(i,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:i});var p=this._tileCoordsToKey(i);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ge(d.el,0),Tt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(Vt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?Pt(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var u=new ft(this._wrapX?E(i.x,this._wrapX):i.x,this._wrapY?E(i.y,this._wrapY):i.y);return u.z=i.z,u},_pxBoundsToTileRange:function(i){var u=this.getTileSize();return new Ft(i.min.unscaleBy(u).floor(),i.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function _e(i){return new Jt(i)}var Te=Jt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,u){this._url=i,u=Z(this,u),u.detectRetina&&At.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,u){return this._url===i&&u===void 0&&(u=!0),this._url=i,u||this.redraw(),this},createTile:function(i,u){var d=document.createElement("img");return $t(d,"load",g(this._tileOnLoad,this,u,d)),$t(d,"error",g(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(i),d},getTileUrl:function(i){var u={r:At.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-i.y;this.options.tms&&(u.y=d),u["-y"]=d}return z(this._url,s(u,this.options))},_tileOnLoad:function(i,u){At.ielt9?setTimeout(g(i,this,null,u),0):i(null,u)},_tileOnError:function(i,u,d){var p=this.options.errorTileUrl;p&&u.getAttribute("src")!==p&&(u.src=p),i(d,u)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(i=u-i),i+p},_getSubdomain:function(i){var u=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var i,u;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(u=this._tiles[i].el,u.onload=k,u.onerror=k,!u.complete)){u.src=X;var d=this._tiles[i].coords;ke(u),delete this._tiles[i],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(i){var u=this._tiles[i];if(u)return u.el.setAttribute("src",X),Jt.prototype._removeTile.call(this,i)},_tileReady:function(i,u,d){if(!(!this._map||d&&d.getAttribute("src")===X))return Jt.prototype._tileReady.call(this,i,u,d)}});function Ue(i,u){return new Te(i,u)}var ai=Te.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,u){this._url=i;var d=s({},this.defaultWmsParams);for(var p in u)p in this.options||(d[p]=u[p]);u=Z(this,u);var w=u.detectRetina&&At.retina?2:1,P=this.getTileSize();d.width=P.x*w,d.height=P.y*w,this.wmsParams=d},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Te.prototype.onAdd.call(this,i)},getTileUrl:function(i){var u=this._tileCoordsToNwSe(i),d=this._crs,p=Ut(d.project(u[0]),d.project(u[1])),w=p.min,P=p.max,U=(this._wmsVersion>=1.3&&this._crs===ta?[w.y,w.x,P.y,P.x]:[w.x,w.y,P.x,P.y]).join(","),J=Te.prototype.getTileUrl.call(this,i);return J+j(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(i,u){return s(this.wmsParams,i),u||this.redraw(),this}});function Lr(i,u){return new ai(i,u)}Te.WMS=ai,Ue.wms=Lr;var Bn=Sn.extend({options:{padding:.1},initialize:function(i){Z(this,i),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,u){var d=this._map.getZoomScale(u,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),P=p.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(i,u));At.any3d?Ei(this._container,P,d):Oe(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-i)).round();this._bounds=new Ft(d,d.add(u.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),no=Bn.extend({options:{tolerance:0},getEvents:function(){var i=Bn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Bn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");$t(i,"mousemove",this._onMouseMove,this),$t(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$t(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Tt(this._redrawRequest),delete this._ctx,ke(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var u in this._layers)i=this._layers[u],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var i=this._bounds,u=this._container,d=i.getSize(),p=At.retina?2:1;Oe(u,i.min),u.width=p*d.x,u.height=p*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Bn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[v(i)]=i;var u=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var u=i._order,d=u.next,p=u.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete i._order,delete this._layers[v(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var u=i.options.dashArray.split(/[, ]+/),d=[],p,w;for(w=0;w<u.length;w++){if(p=Number(u[w]),isNaN(p))return;d.push(p)}i.options._dashArray=d}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Pt(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var u=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ft,this._redrawBounds.extend(i._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(i._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var u=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)i=p.layer,(!u||i._pxBounds&&i._pxBounds.intersects(u))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,u){if(this._drawing){var d,p,w,P,U=i._parts,J=U.length,tt=this._ctx;if(J){for(tt.beginPath(),d=0;d<J;d++){for(p=0,w=U[d].length;p<w;p++)P=U[d][p],tt[p?"lineTo":"moveTo"](P.x,P.y);u&&tt.closePath()}this._fillStroke(tt,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var u=i._point,d=this._ctx,p=Math.max(Math.round(i._radius),1),w=(Math.max(Math.round(i._radiusY),1)||p)/p;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,p,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,i)}},_fillStroke:function(i,u){var d=u.options;d.fill&&(i.globalAlpha=d.fillOpacity,i.fillStyle=d.fillColor||d.color,i.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(i.setLineDash&&i.setLineDash(u.options&&u.options._dashArray||[]),i.globalAlpha=d.opacity,i.lineWidth=d.weight,i.strokeStyle=d.color,i.lineCap=d.lineCap,i.lineJoin=d.lineJoin,i.stroke())},_onClick:function(i){for(var u=this._map.mouseEventToLayerPoint(i),d,p,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,u)}},_handleMouseOut:function(i){var u=this._hoveredLayer;u&&(ue(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,u){if(!this._mouseHoverThrottled){for(var d,p,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(i),p&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([p],i,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,u,d){this._map._fireDOMEvent(u,d||u.type,i)},_bringToFront:function(i){var u=i._order;if(u){var d=u.next,p=u.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(i)}},_bringToBack:function(i){var u=i._order;if(u){var d=u.next,p=u.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(i)}}});function io(i){return At.canvas?new no(i):null}var Vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),aa={_initContainer:function(){this._container=ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Bn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var u=i._container=Vi("shape");Vt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",i._path=Vi("path"),u.appendChild(i._path),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){var u=i._container;this._container.appendChild(u),i.options.interactive&&i.addInteractiveTarget(u)},_removePath:function(i){var u=i._container;ke(u),i.removeInteractiveTarget(u),delete this._layers[v(i)]},_updateStyle:function(i){var u=i._stroke,d=i._fill,p=i.options,w=i._container;w.stroked=!!p.stroke,w.filled=!!p.fill,p.stroke?(u||(u=i._stroke=Vi("stroke")),w.appendChild(u),u.weight=p.weight+"px",u.color=p.color,u.opacity=p.opacity,p.dashArray?u.dashStyle=G(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=p.lineCap.replace("butt","flat"),u.joinstyle=p.lineJoin):u&&(w.removeChild(u),i._stroke=null),p.fill?(d||(d=i._fill=Vi("fill")),w.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(w.removeChild(d),i._fill=null)},_updateCircle:function(i){var u=i._point.round(),d=Math.round(i._radius),p=Math.round(i._radiusY||d);this._setPath(i,i._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(i,u){i._path.v=u},_bringToFront:function(i){zi(i._container)},_bringToBack:function(i){Li(i._container)}},Er=At.vml?Vi:nt,wi=Bn.extend({_initContainer:function(){this._container=Er("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Er("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ke(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var i=this._bounds,u=i.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Oe(d,i.min),d.setAttribute("viewBox",[i.min.x,i.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(i){var u=i._path=Er("path");i.options.className&&Vt(u,i.options.className),i.options.interactive&&Vt(u,"leaflet-interactive"),this._updateStyle(i),this._layers[v(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ke(i._path),i.removeInteractiveTarget(i._path),delete this._layers[v(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var u=i._path,d=i.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(i,u){this._setPath(i,ot(i._parts,u))},_updateCircle:function(i){var u=i._point,d=Math.max(Math.round(i._radius),1),p=Math.max(Math.round(i._radiusY),1)||d,w="a"+d+","+p+" 0 1,0 ",P=i._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(i,P)},_setPath:function(i,u){i._path.setAttribute("d",u)},_bringToFront:function(i){zi(i._path)},_bringToBack:function(i){Li(i._path)}});At.vml&&wi.include(aa);function ts(i){return At.svg||At.vml?new wi(i):null}Xt.include({getRenderer:function(i){var u=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var u=this._paneRenderers[i];return u===void 0&&(u=this._createRenderer({pane:i}),this._paneRenderers[i]=u),u},_createRenderer:function(i){return this.options.preferCanvas&&io(i)||ts(i)}});var rc=Yi.extend({initialize:function(i,u){Yi.prototype.initialize.call(this,this._boundsToLatLngs(i),u)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=kt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function vg(i,u){return new rc(i,u)}wi.create=Er,wi.pointsToPath=ot,zn.geometryToLayer=Kr,zn.coordsToLatLng=oi,zn.coordsToLatLngs=Jr,zn.latLngToCoords=Qr,zn.latLngsToCoords=Qe,zn.getFeature=tn,zn.asFeature=a,Xt.mergeOptions({boxZoom:!0});var sc=Dn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yn(),Bs(),this._startPoint=this._map.mouseEventToContainerPoint(i),$t(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ne("div","leaflet-zoom-box",this._container),Vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var u=new Ft(this._point,this._startPoint),d=u.getSize();Oe(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ke(this._box),ue(this._container,"leaflet-crosshair")),Bi(),fr(),ge(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var u=new Qt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",sc),Xt.mergeOptions({doubleClickZoom:!0});var oc=Dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var u=this._map,d=u.getZoom(),p=u.options.zoomDelta,w=i.originalEvent.shiftKey?d-p:d+p;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(i.containerPoint,w)}});Xt.addInitHook("addHandler","doubleClickZoom",oc),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ac=Dn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ri(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ue(this._map._container,"leaflet-grab"),ue(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=kt(this._map.options.maxBounds);this._offsetLimit=Ut(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,u){return i-(i-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;i.x<u.min.x&&(i.x=this._viscousLimit(i.x,u.min.x)),i.y<u.min.y&&(i.y=this._viscousLimit(i.y,u.min.y)),i.x>u.max.x&&(i.x=this._viscousLimit(i.x,u.max.x)),i.y>u.max.y&&(i.y=this._viscousLimit(i.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,u=Math.round(i/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,w=(p-u+d)%i+u-d,P=(p+u+d)%i-u-d,U=Math.abs(w+d)<Math.abs(P+d)?w:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(i){var u=this._map,d=u.options,p=!d.inertia||i.noInertia||this._times.length<2;if(u.fire("dragend",i),p)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,U=d.easeLinearity,J=w.multiplyBy(U/P),tt=J.distanceTo([0,0]),lt=Math.min(d.inertiaMaxSpeed,tt),wt=J.multiplyBy(lt/tt),Ht=lt/(d.inertiaDeceleration*U),ee=wt.multiplyBy(-Ht/2).round();!ee.x&&!ee.y?u.fire("moveend"):(ee=u._limitOffset(ee,u.options.maxBounds),Pt(function(){u.panBy(ee,{duration:Ht,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",ac),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var uc=Dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),$t(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,u=document.documentElement,d=i.scrollTop||u.scrollTop,p=i.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var u=this._panKeys={},d=this.keyCodes,p,w;for(p=0,w=d.left.length;p<w;p++)u[d.left[p]]=[-1*i,0];for(p=0,w=d.right.length;p<w;p++)u[d.right[p]]=[i,0];for(p=0,w=d.down.length;p<w;p++)u[d.down[p]]=[0,i];for(p=0,w=d.up.length;p<w;p++)u[d.up[p]]=[0,-1*i]},_setZoomDelta:function(i){var u=this._zoomKeys={},d=this.keyCodes,p,w;for(p=0,w=d.zoomIn.length;p<w;p++)u[d.zoomIn[p]]=i;for(p=0,w=d.zoomOut.length;p<w;p++)u[d.zoomOut[p]]=-i},_addHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var u=i.keyCode,d=this._map,p;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[u],i.shiftKey&&(p=st(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(st(p),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(w)}else d.panBy(p)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;ni(i)}}});Xt.addInitHook("addHandler","keyboard",uc),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lc=Dn.extend({addHooks:function(){$t(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var u=qs(i),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),p),ni(i)},_performZoom:function(){var i=this._map,u=i.getZoom(),d=this._map.options.zoomSnap||0;i._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,P=d?Math.ceil(w/d)*d:w,U=i._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,U&&(i.options.scrollWheelZoom==="center"?i.setZoom(u+U):i.setZoomAround(this._lastMousePos,u+U))}});Xt.addInitHook("addHandler","scrollWheelZoom",lc);var yg=600;Xt.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var cc=Dn.extend({addHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var u=i.touches[0];this._startPos=this._newPos=new ft(u.clientX,u.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&($t(document,"touchend",Pe),$t(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),yg),$t(document,"touchend touchcancel contextmenu",this._cancel,this),$t(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ge(document,"touchend",Pe),ge(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(i){var u=i.touches[0];this._newPos=new ft(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,u){var d=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Xt.addInitHook("addHandler","tapHold",cc),Xt.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var hc=Dn.extend({addHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var u=this._map;if(!(!i.touches||i.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(i.touches[0]),p=u.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend touchcancel",this._onTouchEnd,this),Pe(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(i.touches[0]),p=u.mouseEventToContainerPoint(i.touches[1]),w=d.distanceTo(p)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var P=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(w===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Tt(this._animRequest);var U=g(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pt(U,this,!0),Pe(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Tt(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",hc),Xt.BoxZoom=sc,Xt.DoubleClickZoom=oc,Xt.Drag=ac,Xt.Keyboard=uc,Xt.ScrollWheelZoom=lc,Xt.TapHold=cc,Xt.TouchZoom=hc,l.Bounds=Ft,l.Browser=At,l.CRS=it,l.Canvas=no,l.Circle=jr,l.CircleMarker=yr,l.Class=dt,l.Control=In,l.DivIcon=Dt,l.DivOverlay=q,l.DomEvent=mu,l.DomUtil=Zr,l.Draggable=ri,l.Evented=Nt,l.FeatureGroup=$n,l.GeoJSON=zn,l.GridLayer=Jt,l.Handler=Dn,l.Icon=qi,l.ImageOverlay=f,l.LatLng=Yt,l.LatLngBounds=Qt,l.Layer=Sn,l.LayerGroup=Zi,l.LineUtil=Js,l.Map=Xt,l.Marker=Xr,l.Mixin=Lu,l.Path=si,l.Point=ft,l.PolyUtil=cn,l.Polygon=Yi,l.Polyline=Fn,l.Popup=K,l.PosAnimation=Ys,l.Projection=ku,l.Rectangle=rc,l.Renderer=Bn,l.SVG=wi,l.SVGOverlay=S,l.TileLayer=Te,l.Tooltip=Lt,l.Transformation=_t,l.Util=jt,l.VideoOverlay=y,l.bind=g,l.bounds=Ut,l.canvas=io,l.circle=Iu,l.circleMarker=ra,l.control=$e,l.divIcon=ie,l.extend=s,l.featureGroup=na,l.geoJSON=n,l.geoJson=o,l.gridLayer=_e,l.icon=bu,l.imageOverlay=m,l.latLng=Bt,l.latLngBounds=kt,l.layerGroup=ea,l.map=Vr,l.marker=Tu,l.point=st,l.polygon=sa,l.polyline=eo,l.popup=ut,l.rectangle=vg,l.setOptions=Z,l.stamp=v,l.svg=ts,l.svgOverlay=M,l.tileLayer=Ue,l.tooltip=Ct,l.transformation=T,l.version=h,l.videoOverlay=b;var Lg=window.L;l.noConflict=function(){return window.L=Lg,this},window.L=l})}(fo,fo.exports)),fo.exports}var Iy=Ty();const wr=Od(Iy);(function(t,r,l){function h(s,c){for(;(s=s.parentElement)&&!s.classList.contains(c););return s}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(s,c){this._map=s,this._container=s._container,this._overlayPane=s._panes.overlayPane,this._popupPane=s._panes.popupPane,c&&c.shapeOptions&&(c.shapeOptions=L.Util.extend({},this.options.shapeOptions,c.shapeOptions)),L.setOptions(this,c);var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var s=this._map;s&&(L.DomUtil.disableTextSelection(),s.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(s){L.setOptions(this,s)},_fireCreatedEvent:function(s){this._map.fire(L.Draw.Event.CREATED,{layer:s,layerType:this.type})},_cancelDrawing:function(s){s.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(s,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,s,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var s=this._markers.pop(),c=this._poly,g=c.getLatLngs(),_=g.splice(-1,1)[0];this._poly.setLatLngs(g),this._markerGroup.removeLayer(s),c.getLatLngs().length<2&&this._map.removeLayer(c),this._vertexChanged(_,!1)}},addVertex:function(s){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(s))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(s)),this._poly.addLatLng(s),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(s,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var s=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),c=this._poly.newLatLngIntersects(s[s.length-1]);if(!this.options.allowIntersection&&c||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(s){var c=this._map.mouseEventToLayerPoint(s.originalEvent),g=this._map.layerPointToLatLng(c);this._currentLatLng=g,this._updateTooltip(g),this._updateGuide(c),this._mouseMarker.setLatLng(g),L.DomEvent.preventDefault(s.originalEvent)},_vertexChanged:function(s,c){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(s,c),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(s){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(s),this._clickHandled=!0,this._disableNewMarkers();var c=s.originalEvent,g=c.clientX,_=c.clientY;this._startPoint.call(this,g,_)}},_startPoint:function(s,c){this._mouseDownOrigin=L.point(s,c)},_onMouseUp:function(s){var c=s.originalEvent,g=c.clientX,_=c.clientY;this._endPoint.call(this,g,_,s),this._clickHandled=null},_endPoint:function(s,c,g){if(this._mouseDownOrigin){var _=L.point(s,c).distanceTo(this._mouseDownOrigin),v=this._calculateFinishDistance(g.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(g.latlng),this._finishShape()):v<10&&L.Browser.touch?this._finishShape():Math.abs(_)<9*(t.devicePixelRatio||1)&&this.addVertex(g.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(s){var c,g,_=s.originalEvent;!_.touches||!_.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(c=_.touches[0].clientX,g=_.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,c,g),this._endPoint.call(this,c,g,s),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(s){var c;if(this._markers.length>0){var g;if(this.type===L.Draw.Polyline.TYPE)g=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;g=this._markers[0]}var _=this._map.latLngToContainerPoint(g.getLatLng()),v=new L.Marker(s,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),x=this._map.latLngToContainerPoint(v.getLatLng());c=_.distanceTo(x)}else c=1/0;return c},_updateFinishHandler:function(){var s=this._markers.length;s>1&&this._markers[s-1].on("click",this._finishShape,this),s>2&&this._markers[s-2].off("click",this._finishShape,this)},_createMarker:function(s){var c=new L.Marker(s,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(c),c},_updateGuide:function(s){var c=this._markers?this._markers.length:0;c>0&&(s=s||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[c-1].getLatLng()),s))},_updateTooltip:function(s){var c=this._getTooltipText();s&&this._tooltip.updatePosition(s),this._errorShown||this._tooltip.updateContent(c)},_drawGuide:function(s,c){var g,_,v,x=Math.floor(Math.sqrt(Math.pow(c.x-s.x,2)+Math.pow(c.y-s.y,2))),E=this.options.guidelineDistance,k=this.options.maxGuideLineLength,I=x>k?x-k:E;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));I<x;I+=this.options.guidelineDistance)g=I/x,_={x:Math.floor(s.x*(1-g)+g*c.x),y:Math.floor(s.y*(1-g)+g*c.y)},v=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),v.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(v,_)},_updateGuideColor:function(s){if(this._guidesContainer)for(var c=0,g=this._guidesContainer.childNodes.length;c<g;c++)this._guidesContainer.childNodes[c].style.backgroundColor=s},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var s,c,g=this.options.showLength;return this._markers.length===0?s={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(c=g?this._getMeasurementString():"",s=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:c}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:c}),s},_updateRunningMeasure:function(s,c){var g,_,v=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(g=v-(c?2:1),_=L.GeometryUtil.isVersion07x()?s.distanceTo(this._markers[g].getLatLng())*(this.options.factor||1):this._map.distance(s,this._markers[g].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=_*(c?1:-1))},_getMeasurementString:function(){var s,c=this._currentLatLng,g=this._markers[this._markers.length-1].getLatLng();return s=L.GeometryUtil.isVersion07x()?g&&c&&c.distanceTo?this._measurementRunningTotal+c.distanceTo(g)*(this.options.factor||1):this._measurementRunningTotal||0:g&&c?this._measurementRunningTotal+this._map.distance(c,g)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(s,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var s=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,s)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(s,c){L.Draw.Polyline.prototype.initialize.call(this,s,c),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var s=this._markers.length;s===1&&this._markers[0].on("click",this._finishShape,this),s>2&&(this._markers[s-1].on("dblclick",this._finishShape,this),s>3&&this._markers[s-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var s,c;return this._markers.length===0?s=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(s=L.drawLocal.draw.handlers.polygon.tooltip.cont,c=this._getMeasurementString()):(s=L.drawLocal.draw.handlers.polygon.tooltip.end,c=this._getMeasurementString()),{text:s,subtext:c}},_getMeasurementString:function(){var s=this._area,c="";return s||this.options.showLength?(this.options.showLength&&(c=L.Draw.Polyline.prototype._getMeasurementString.call(this)),s&&(c+="<br>"+L.GeometryUtil.readableArea(s,this.options.metric,this.options.precision)),c):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(s,c){var g;!this.options.allowIntersection&&this.options.showArea&&(g=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(g)),L.Draw.Polyline.prototype._vertexChanged.call(this,s,c)},_cleanUpShape:function(){var s=this._markers.length;s>0&&(this._markers[0].off("click",this._finishShape,this),s>2&&this._markers[s-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(s,c){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,s,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),r.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(r,"mouseup",this._onMouseUp,this),L.DomEvent.off(r,"touchend",this._onMouseUp,this),r.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(s){this._isDrawing=!0,this._startLatLng=s.latlng,L.DomEvent.on(r,"mouseup",this._onMouseUp,this).on(r,"touchend",this._onMouseUp,this).preventDefault(s.originalEvent)},_onMouseMove:function(s){var c=s.latlng;this._tooltip.updatePosition(c),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(c))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(s,c){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,s,c)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(s){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!h(s.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(s){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,s)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,s),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var s=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,s)},_getTooltipText:function(){var s,c,g,_=L.Draw.SimpleShape.prototype._getTooltipText.call(this),v=this._shape,x=this.options.showArea;return v&&(s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),c=L.GeometryUtil.geodesicArea(s),g=x?L.GeometryUtil.readableArea(c,this.options.metric):""),{text:_.text,subtext:g}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(s,c){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,s,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(s){var c=s.latlng;this._tooltip.updatePosition(c),this._mouseMarker.setLatLng(c),this._marker?(c=this._mouseMarker.getLatLng(),this._marker.setLatLng(c)):(this._marker=this._createMarker(c),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(s){return new L.Marker(s,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(s){this._onMouseMove(s),this._onClick()},_fireCreatedEvent:function(){var s=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,s)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(s,c){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,s,c)},_fireCreatedEvent:function(){var s=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,s)},_createMarker:function(s){return new L.CircleMarker(s,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(s,c){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,s,c)},_drawShape:function(s){if(L.GeometryUtil.isVersion07x())var c=this._startLatLng.distanceTo(s);else var c=this._map.distance(this._startLatLng,s);this._shape?this._shape.setRadius(c):(this._shape=new L.Circle(this._startLatLng,c,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var s=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,s)},_onMouseMove:function(s){var c,g=s.latlng,_=this.options.showRadius,v=this.options.metric;if(this._tooltip.updatePosition(g),this._isDrawing){this._drawShape(g),c=this._shape.getRadius().toFixed(1);var x="";_&&(x=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(c,v,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:x})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(s,c){this._marker=s,L.setOptions(this,c)},addHooks:function(){var s=this._marker;s.dragging.enable(),s.on("dragend",this._onDragEnd,s),this._toggleMarkerHighlight()},removeHooks:function(){var s=this._marker;s.dragging.disable(),s.off("dragend",this._onDragEnd,s),this._toggleMarkerHighlight()},_onDragEnd:function(s){var c=s.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_toggleMarkerHighlight:function(){var s=this._marker._icon;s&&(s.style.display="none",L.DomUtil.hasClass(s,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(s,"leaflet-edit-marker-selected"),this._offsetMarker(s,-4)):(L.DomUtil.addClass(s,"leaflet-edit-marker-selected"),this._offsetMarker(s,4)),s.style.display="")},_offsetMarker:function(s,c){var g=parseInt(s.style.marginTop,10)-c,_=parseInt(s.style.marginLeft,10)-c;s.style.marginTop=g+"px",s.style.marginLeft=_+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(s){this.latlngs=[s._latlngs],s._holes&&(this.latlngs=this.latlngs.concat(s._holes)),this._poly=s,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(s){for(var c=0;c<this._verticesHandlers.length;c++)s(this._verticesHandlers[c])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(s){s.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(s){s.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(s){s.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var s=0;s<this.latlngs.length;s++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[s],this._poly.options.poly))},_updateLatLngs:function(s){this.latlngs=[s.layer._latlngs],s.layer._holes&&(this.latlngs=this.latlngs.concat(s.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(s,c,g){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=s,g&&g.drawError&&(g.drawError=L.Util.extend({},this.options.drawError,g.drawError)),this._latlngs=c,L.setOptions(this,g)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var s=this._poly,c=s._path;s instanceof L.Polygon||(s.options.fill=!1,s.options.editing&&(s.options.editing.fill=!1)),c&&s.options.editing&&s.options.editing.className&&(s.options.original.className&&s.options.original.className.split(" ").forEach(function(g){L.DomUtil.removeClass(c,g)}),s.options.editing.className.split(" ").forEach(function(g){L.DomUtil.addClass(c,g)})),s.setStyle(s.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var s=this._poly,c=s._path;c&&s.options.editing&&s.options.editing.className&&(s.options.editing.className.split(" ").forEach(function(g){L.DomUtil.removeClass(c,g)}),s.options.original.className&&s.options.original.className.split(" ").forEach(function(g){L.DomUtil.addClass(c,g)})),s.setStyle(s.options.original),s._map&&(s._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var s,c,g,_,v=this._defaultShape();for(s=0,g=v.length;s<g;s++)_=this._createMarker(v[s],s),_.on("click",this._onMarkerClick,this),_.on("contextmenu",this._onContextMenu,this),this._markers.push(_);var x,E;for(s=0,c=g-1;s<g;c=s++)(s!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(x=this._markers[c],E=this._markers[s],this._createMiddleMarker(x,E),this._updatePrevNext(x,E))},_createMarker:function(s,c){var g=new L.Marker.Touch(s,{draggable:!0,icon:this.options.icon});return g._origLatLng=s,g._index=c,g.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(g),g},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var s=this._defaultShape(),c=[].splice.apply(s,arguments);return this._poly._convertLatLngs(s,!0),this._poly.redraw(),c},_removeMarker:function(s){var c=s._index;this._markerGroup.removeLayer(s),this._markers.splice(c,1),this._spliceLatLngs(c,1),this._updateIndexes(c,-1),s.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(s){var c=s.target,g=this._poly,_=L.LatLngUtil.cloneLatLng(c._origLatLng);if(L.extend(c._origLatLng,c._latlng),g.options.poly){var v=g._map._editTooltip;if(!g.options.poly.allowIntersection&&g.intersects()){L.extend(c._origLatLng,_),c.setLatLng(_);var x=g.options.color;g.setStyle({color:this.options.drawError.color}),v&&v.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){g.setStyle({color:x}),v&&v.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}c._middleLeft&&c._middleLeft.setLatLng(this._getMiddleLatLng(c._prev,c)),c._middleRight&&c._middleRight.setLatLng(this._getMiddleLatLng(c,c._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var E=this._poly.getLatLngs();this._poly._convertLatLngs(E,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(s){var c=L.Polygon&&this._poly instanceof L.Polygon?4:3,g=s.target;this._defaultShape().length<c||(this._removeMarker(g),this._updatePrevNext(g._prev,g._next),g._middleLeft&&this._markerGroup.removeLayer(g._middleLeft),g._middleRight&&this._markerGroup.removeLayer(g._middleRight),g._prev&&g._next?this._createMiddleMarker(g._prev,g._next):g._prev?g._next||(g._prev._middleRight=null):g._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(s){var c=s.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:c,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(s){var c=this._map.mouseEventToLayerPoint(s.originalEvent.touches[0]),g=this._map.layerPointToLatLng(c),_=s.target;L.extend(_._origLatLng,g),_._middleLeft&&_._middleLeft.setLatLng(this._getMiddleLatLng(_._prev,_)),_._middleRight&&_._middleRight.setLatLng(this._getMiddleLatLng(_,_._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(s,c){this._markerGroup.eachLayer(function(g){g._index>s&&(g._index+=c)})},_createMiddleMarker:function(s,c){var g,_,v,x=this._getMiddleLatLng(s,c),E=this._createMarker(x);E.setOpacity(.6),s._middleRight=c._middleLeft=E,_=function(){E.off("touchmove",_,this);var k=c._index;E._index=k,E.off("click",g,this).on("click",this._onMarkerClick,this),x.lat=E.getLatLng().lat,x.lng=E.getLatLng().lng,this._spliceLatLngs(k,0,x),this._markers.splice(k,0,E),E.setOpacity(1),this._updateIndexes(k,1),c._index++,this._updatePrevNext(s,E),this._updatePrevNext(E,c),this._poly.fire("editstart")},v=function(){E.off("dragstart",_,this),E.off("dragend",v,this),E.off("touchmove",_,this),this._createMiddleMarker(s,E),this._createMiddleMarker(E,c)},g=function(){_.call(this),v.call(this),this._fireEdit()},E.on("click",g,this).on("dragstart",_,this).on("dragend",v,this).on("touchmove",_,this),this._markerGroup.addLayer(E)},_updatePrevNext:function(s,c){s&&(s._next=c),c&&(c._prev=s)},_getMiddleLatLng:function(s,c){var g=this._poly._map,_=g.project(s.getLatLng()),v=g.project(c.getLatLng());return g.unproject(_._add(v)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(s,c){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=s,L.Util.setOptions(this,c)},addHooks:function(){var s=this._shape;this._shape._map&&(this._map=this._shape._map,s.setStyle(s.options.editing),s._map&&(this._map=s._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var s=this._shape;if(s.setStyle(s.options.original),s._map){this._unbindMarker(this._moveMarker);for(var c=0,g=this._resizeMarkers.length;c<g;c++)this._unbindMarker(this._resizeMarkers[c]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(s,c){var g=new L.Marker.Touch(s,{draggable:!0,icon:c,zIndexOffset:10});return this._bindMarker(g),this._markerGroup.addLayer(g),g},_bindMarker:function(s){s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(s){s.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(s){s.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(s){var c=s.target,g=c.getLatLng();c===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(s){s.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(s){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,s),typeof this._getCorners=="function"){var c=this._getCorners(),g=s.target,_=g._cornerIndex;g.setOpacity(0),this._oppositeCorner=c[(_+2)%4],this._toggleCornerMarkers(0,_)}this._shape.fire("editstart")},_onTouchMove:function(s){var c=this._map.mouseEventToLayerPoint(s.originalEvent.touches[0]),g=this._map.layerPointToLatLng(c);return s.target===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),!1},_onTouchEnd:function(s){s.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var s=this._shape.getBounds(),c=s.getCenter();this._moveMarker=this._createMarker(c,this.options.moveIcon)},_createResizeMarker:function(){var s=this._getCorners();this._resizeMarkers=[];for(var c=0,g=s.length;c<g;c++)this._resizeMarkers.push(this._createMarker(s[c],this.options.resizeIcon)),this._resizeMarkers[c]._cornerIndex=c},_onMarkerDragStart:function(s){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,s);var c=this._getCorners(),g=s.target,_=g._cornerIndex;this._oppositeCorner=c[(_+2)%4],this._toggleCornerMarkers(0,_)},_onMarkerDragEnd:function(s){var c,g,_=s.target;_===this._moveMarker&&(c=this._shape.getBounds(),g=c.getCenter(),_.setLatLng(g)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,s)},_move:function(s){for(var c,g=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),_=this._shape.getBounds(),v=_.getCenter(),x=[],E=0,k=g.length;E<k;E++)c=[g[E].lat-v.lat,g[E].lng-v.lng],x.push([s.lat+c[0],s.lng+c[1]]);this._shape.setLatLngs(x),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(s){var c;this._shape.setBounds(L.latLngBounds(s,this._oppositeCorner)),c=this._shape.getBounds(),this._moveMarker.setLatLng(c.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var s=this._shape.getBounds();return[s.getNorthWest(),s.getNorthEast(),s.getSouthEast(),s.getSouthWest()]},_toggleCornerMarkers:function(s){for(var c=0,g=this._resizeMarkers.length;c<g;c++)this._resizeMarkers[c].setOpacity(s)},_repositionCornerMarkers:function(){for(var s=this._getCorners(),c=0,g=this._resizeMarkers.length;c<g;c++)this._resizeMarkers[c].setLatLng(s[c])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var s=this._shape.getLatLng();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(s){if(this._resizeMarkers.length){var c=this._getResizeMarkerPoint(s);this._resizeMarkers[0].setLatLng(c)}this._shape.setLatLng(s),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var s=this._shape.getLatLng(),c=this._getResizeMarkerPoint(s);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(c,this.options.resizeIcon))},_getResizeMarkerPoint:function(s){var c=this._shape._radius*Math.cos(Math.PI/4),g=this._map.project(s);return this._map.unproject([g.x+c,g.y-c])},_resize:function(s){var c=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=c.distanceTo(s):radius=this._map.distance(c,s),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(s,c){var g={};if(s.touches!==void 0){if(!s.touches.length)return;g=s.touches[0]}else if(s.pointerType!=="touch"||(g=s,!this._filterClick(s)))return;var _=this._map.mouseEventToContainerPoint(g),v=this._map.mouseEventToLayerPoint(g),x=this._map.layerPointToLatLng(v);this._map.fire(c,{latlng:x,layerPoint:v,containerPoint:_,pageX:g.pageX,pageY:g.pageY,originalEvent:s})},_filterClick:function(s){var c=s.timeStamp||s.originalEvent.timeStamp,g=L.DomEvent._lastClick&&c-L.DomEvent._lastClick;return g&&g>100&&g<500||s.target._simulatedClick&&!s._simulated?(L.DomEvent.stop(s),!1):(L.DomEvent._lastClick=c,!0)},_onTouchStart:function(s){this._map._loaded&&this._touchEvent(s,"touchstart")},_onTouchEnd:function(s){this._map._loaded&&this._touchEvent(s,"touchend")},_onTouchCancel:function(s){if(this._map._loaded){var c="touchcancel";this._detectIE()&&(c="pointercancel"),this._touchEvent(s,c)}},_onTouchLeave:function(s){this._map._loaded&&this._touchEvent(s,"touchleave")},_onTouchMove:function(s){this._map._loaded&&this._touchEvent(s,"touchmove")},_detectIE:function(){var s=t.navigator.userAgent,c=s.indexOf("MSIE ");if(c>0)return parseInt(s.substring(c+5,s.indexOf(".",c)),10);if(s.indexOf("Trident/")>0){var g=s.indexOf("rv:");return parseInt(s.substring(g+3,s.indexOf(".",g)),10)}var _=s.indexOf("Edge/");return _>0&&parseInt(s.substring(_+5,s.indexOf(".",_)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var s=this._icon,c=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?c.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):c.concat(["touchcancel"]),L.DomUtil.addClass(s,"leaflet-clickable"),L.DomEvent.on(s,"click",this._onMouseClick,this),L.DomEvent.on(s,"keypress",this._onKeyPress,this);for(var g=0;g<c.length;g++)L.DomEvent.on(s,c[g],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var s=t.navigator.userAgent,c=s.indexOf("MSIE ");if(c>0)return parseInt(s.substring(c+5,s.indexOf(".",c)),10);if(s.indexOf("Trident/")>0){var g=s.indexOf("rv:");return parseInt(s.substring(g+3,s.indexOf(".",g)),10)}var _=s.indexOf("Edge/");return _>0&&parseInt(s.substring(_+5,s.indexOf(".",_)),10)}}),L.LatLngUtil={cloneLatLngs:function(s){for(var c=[],g=0,_=s.length;g<_;g++)Array.isArray(s[g])?c.push(L.LatLngUtil.cloneLatLngs(s[g])):c.push(this.cloneLatLng(s[g]));return c},cloneLatLng:function(s){return L.latLng(s.lat,s.lng)}},function(){var s={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(c){var g,_,v=c.length,x=0,E=Math.PI/180;if(v>2){for(var k=0;k<v;k++)g=c[k],_=c[(k+1)%v],x+=(_.lng-g.lng)*E*(2+Math.sin(g.lat*E)+Math.sin(_.lat*E));x=6378137*x*6378137/2}return Math.abs(x)},formattedNumber:function(c,g){var _=parseFloat(c).toFixed(g),v=L.drawLocal.format&&L.drawLocal.format.numeric,x=v&&v.delimiters,E=x&&x.thousands,k=x&&x.decimal;if(E||k){var I=_.split(".");_=E?I[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+E):I[0],k=k||".",I.length>1&&(_=_+k+I[1])}return _},readableArea:function(c,g,E){var v,x,E=L.Util.extend({},s,E);return g?(x=["ha","m"],type=typeof g,type==="string"?x=[g]:type!=="boolean"&&(x=g),v=c>=1e6&&x.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*c,E.km)+" km²":c>=1e4&&x.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*c,E.ha)+" ha":L.GeometryUtil.formattedNumber(c,E.m)+" m²"):(c/=.836127,v=c>=3097600?L.GeometryUtil.formattedNumber(c/3097600,E.mi)+" mi²":c>=4840?L.GeometryUtil.formattedNumber(c/4840,E.ac)+" acres":L.GeometryUtil.formattedNumber(c,E.yd)+" yd²"),v},readableDistance:function(c,g,_,v,k){var E,k=L.Util.extend({},s,k);switch(g?typeof g=="string"?g:"metric":_?"feet":v?"nauticalMile":"yards"){case"metric":E=c>1e3?L.GeometryUtil.formattedNumber(c/1e3,k.km)+" km":L.GeometryUtil.formattedNumber(c,k.m)+" m";break;case"feet":c*=3.28083,E=L.GeometryUtil.formattedNumber(c,k.ft)+" ft";break;case"nauticalMile":c*=.53996,E=L.GeometryUtil.formattedNumber(c/1e3,k.nm)+" nm";break;case"yards":default:c*=1.09361,E=c>1760?L.GeometryUtil.formattedNumber(c/1760,k.mi)+" miles":L.GeometryUtil.formattedNumber(c,k.yd)+" yd"}return E},isVersion07x:function(){var c=L.version.split(".");return parseInt(c[0],10)===0&&parseInt(c[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(s,c,g,_){return this._checkCounterclockwise(s,g,_)!==this._checkCounterclockwise(c,g,_)&&this._checkCounterclockwise(s,c,g)!==this._checkCounterclockwise(s,c,_)},_checkCounterclockwise:function(s,c,g){return(g.y-s.y)*(c.x-s.x)>(c.y-s.y)*(g.x-s.x)}}),L.Polyline.include({intersects:function(){var s,c,g,_=this._getProjectedPoints(),v=_?_.length:0;if(this._tooFewPointsForIntersection())return!1;for(s=v-1;s>=3;s--)if(c=_[s-1],g=_[s],this._lineSegmentsIntersectsRange(c,g,s-2))return!0;return!1},newLatLngIntersects:function(s,c){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(s),c)},newPointIntersects:function(s,c){var g=this._getProjectedPoints(),_=g?g.length:0,v=g?g[_-1]:null,x=_-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(v,s,x,c?1:0)},_tooFewPointsForIntersection:function(s){var c=this._getProjectedPoints(),g=c?c.length:0;return g+=s||0,!c||g<=3},_lineSegmentsIntersectsRange:function(s,c,g,_){var v,x,E=this._getProjectedPoints();_=_||0;for(var k=g;k>_;k--)if(v=E[k-1],x=E[k],L.LineUtil.segmentsIntersect(s,c,v,x))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var s=[],c=this._defaultShape(),g=0;g<c.length;g++)s.push(this._map.latLngToLayerPoint(c[g]));return s}}),L.Polygon.include({intersects:function(){var s,c,g,_,v=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(s=v.length,c=v[0],g=v[s-1],_=s-2,this._lineSegmentsIntersectsRange(g,c,_,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(s){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,s);var c;this._toolbars={},L.DrawToolbar&&this.options.draw&&(c=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=c,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(c=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=c,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(s){var c,g=L.DomUtil.create("div","leaflet-draw"),_=!1;for(var v in this._toolbars)this._toolbars.hasOwnProperty(v)&&(c=this._toolbars[v].addToolbar(s))&&(_||(L.DomUtil.hasClass(c,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(c.childNodes[0],"leaflet-draw-toolbar-top"),_=!0),g.appendChild(c));return g},onRemove:function(){for(var s in this._toolbars)this._toolbars.hasOwnProperty(s)&&this._toolbars[s].removeToolbar()},setDrawingOptions:function(s){for(var c in this._toolbars)this._toolbars[c]instanceof L.DrawToolbar&&this._toolbars[c].setOptions(s)},_toolbarEnabled:function(s){var c=s.target;for(var g in this._toolbars)this._toolbars[g]!==c&&this._toolbars[g].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(s){L.setOptions(this,s),this._modes={},this._actionButtons=[],this._activeMode=null;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(s){var c,g=L.DomUtil.create("div","leaflet-draw-section"),_=0,v=this._toolbarClass||"",x=this.getModeHandlers(s);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=s,c=0;c<x.length;c++)x[c].enabled&&this._initModeHandler(x[c].handler,this._toolbarContainer,_++,v,x[c].title);if(_)return this._lastButtonIndex=--_,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),g.appendChild(this._toolbarContainer),g.appendChild(this._actionsContainer),g},removeToolbar:function(){for(var s in this._modes)this._modes.hasOwnProperty(s)&&(this._disposeButton(this._modes[s].button,this._modes[s].handler.enable,this._modes[s].handler),this._modes[s].handler.disable(),this._modes[s].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var c=0,g=this._actionButtons.length;c<g;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(s,c,g,_,v){var x=s.type;this._modes[x]={},this._modes[x].handler=s,this._modes[x].button=this._createButton({type:x,title:v,className:_+"-"+x,container:c,callback:this._modes[x].handler.enable,context:this._modes[x].handler}),this._modes[x].buttonIndex=g,this._modes[x].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(s){var c=L.DomUtil.create("a",s.className||"",s.container),g=L.DomUtil.create("span","sr-only",s.container);c.href="#",c.appendChild(g),s.title&&(c.title=s.title,g.innerHTML=s.title),s.text&&(c.innerHTML=s.text,g.innerHTML=s.text);var _=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(c,"click",L.DomEvent.stopPropagation).on(c,"mousedown",L.DomEvent.stopPropagation).on(c,"dblclick",L.DomEvent.stopPropagation).on(c,"touchstart",L.DomEvent.stopPropagation).on(c,"click",L.DomEvent.preventDefault).on(c,_,s.callback,s.context),c},_disposeButton:function(s,c){var g=this._detectIOS()?"touchstart":"click";L.DomEvent.off(s,"click",L.DomEvent.stopPropagation).off(s,"mousedown",L.DomEvent.stopPropagation).off(s,"dblclick",L.DomEvent.stopPropagation).off(s,"touchstart",L.DomEvent.stopPropagation).off(s,"click",L.DomEvent.preventDefault).off(s,g,c)},_handlerActivated:function(s){this.disable(),this._activeMode=this._modes[s.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(s){var c,g,_,v,x=this._actionsContainer,E=this.getActions(s),k=E.length;for(g=0,_=this._actionButtons.length;g<_;g++)this._disposeButton(this._actionButtons[g].button,this._actionButtons[g].callback);for(this._actionButtons=[];x.firstChild;)x.removeChild(x.firstChild);for(var I=0;I<k;I++)"enabled"in E[I]&&!E[I].enabled||(c=L.DomUtil.create("li","",x),v=this._createButton({title:E[I].title,text:E[I].text,container:c,callback:E[I].callback,context:E[I].context}),this._actionButtons.push({button:v,callback:E[I].callback}))},_showActionsToolbar:function(){var s=this._activeMode.buttonIndex,c=this._lastButtonIndex,g=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=g+"px",s===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),s===c&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(s){this._map=s,this._popupPane=s._panes.popupPane,this._visible=!1,this._container=s.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(s){return this._container?(s.subtext=s.subtext||"",s.subtext.length!==0||this._singleLineLabel?s.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(s.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+s.subtext+"</span><br />":"")+"<span>"+s.text+"</span>",s.text||s.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(s){var c=this._map.latLngToLayerPoint(s),g=this._container;return this._container&&(this._visible&&(g.style.visibility="inherit"),L.DomUtil.setPosition(g,c)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(s){for(var c in this.options)this.options.hasOwnProperty(c)&&s[c]&&(s[c]=L.extend({},this.options[c],s[c]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,s)},getModeHandlers:function(s){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(s,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(s,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(s,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(s,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(s,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(s,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(s){return[{enabled:s.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:s.completeShape,context:s},{enabled:s.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:s.deleteLastVertex,context:s},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(s){L.setOptions(this,s);for(var c in this._modes)this._modes.hasOwnProperty(c)&&s.hasOwnProperty(c)&&this._modes[c].handler.setOptions(s[c])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(s){s.edit&&(s.edit.selectedPathOptions===void 0&&(s.edit.selectedPathOptions=this.options.edit.selectedPathOptions),s.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,s.edit.selectedPathOptions)),s.remove&&(s.remove=L.extend({},this.options.remove,s.remove)),s.poly&&(s.poly=L.extend({},this.options.poly,s.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,s),this._selectedFeatureCount=0},getModeHandlers:function(s){var c=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(s,{featureGroup:c,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(s,{featureGroup:c}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(s){var c=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return s.removeAllLayers&&c.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),c},addToolbar:function(s){var c=L.Toolbar.prototype.addToolbar.call(this,s);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),c},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var s,c=this.options.featureGroup,g=c.getLayers().length!==0;this.options.edit&&(s=this._modes[L.EditToolbar.Edit.TYPE].button,g?L.DomUtil.removeClass(s,"leaflet-disabled"):L.DomUtil.addClass(s,"leaflet-disabled"),s.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(s=this._modes[L.EditToolbar.Delete.TYPE].button,g?L.DomUtil.removeClass(s,"leaflet-disabled"):L.DomUtil.addClass(s,"leaflet-disabled"),s.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(s,c){if(L.Handler.prototype.initialize.call(this,s),L.setOptions(this,c),this._featureGroup=c.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var s=this._map;s&&(s.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),s._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(s){this._revertLayer(s)},this)},save:function(){var s=new L.LayerGroup;this._featureGroup.eachLayer(function(c){c.edited&&(s.addLayer(c),c.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:s})},_backupLayer:function(s){var c=L.Util.stamp(s);this._uneditedLayerProps[c]||(s instanceof L.Polyline||s instanceof L.Polygon||s instanceof L.Rectangle?this._uneditedLayerProps[c]={latlngs:L.LatLngUtil.cloneLatLngs(s.getLatLngs())}:s instanceof L.Circle?this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(s.getLatLng()),radius:s.getRadius()}:(s instanceof L.Marker||s instanceof L.CircleMarker)&&(this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(s.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(s){var c=L.Util.stamp(s);s.edited=!1,this._uneditedLayerProps.hasOwnProperty(c)&&(s instanceof L.Polyline||s instanceof L.Polygon||s instanceof L.Rectangle?s.setLatLngs(this._uneditedLayerProps[c].latlngs):s instanceof L.Circle?(s.setLatLng(this._uneditedLayerProps[c].latlng),s.setRadius(this._uneditedLayerProps[c].radius)):(s instanceof L.Marker||s instanceof L.CircleMarker)&&s.setLatLng(this._uneditedLayerProps[c].latlng),s.fire("revert-edited",{layer:s}))},_enableLayerEdit:function(s){var c,g,_=s.layer||s.target||s;this._backupLayer(_),this.options.poly&&(g=L.Util.extend({},this.options.poly),_.options.poly=g),this.options.selectedPathOptions&&(c=L.Util.extend({},this.options.selectedPathOptions),c.maintainColor&&(c.color=_.options.color,c.fillColor=_.options.fillColor),_.options.original=L.extend({},_.options),_.options.editing=c),_ instanceof L.Marker?(_.editing&&_.editing.enable(),_.dragging.enable(),_.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):_.editing.enable()},_disableLayerEdit:function(s){var c=s.layer||s.target||s;c.edited=!1,c.editing&&c.editing.disable(),delete c.options.editing,delete c.options.original,this._selectedPathOptions&&(c instanceof L.Marker?this._toggleMarkerHighlight(c):(c.setStyle(c.options.previousOptions),delete c.options.previousOptions)),c instanceof L.Marker?(c.dragging.disable(),c.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):c.editing.disable()},_onMouseMove:function(s){this._tooltip.updatePosition(s.latlng)},_onMarkerDragEnd:function(s){var c=s.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_onTouchMove:function(s){var c=s.originalEvent.changedTouches[0],g=this._map.mouseEventToLayerPoint(c),_=this._map.layerPointToLatLng(g);s.target.setLatLng(_)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(s,c){if(L.Handler.prototype.initialize.call(this,s),L.Util.setOptions(this,c),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var s=this._map;s&&(s.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(s){this._deletableLayers.addLayer(s),s.fire("revert-deleted",{layer:s})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(s){this._removeLayer({layer:s})},this),this.save()},_enableLayerDelete:function(s){(s.layer||s.target||s).on("click",this._removeLayer,this)},_disableLayerDelete:function(s){var c=s.layer||s.target||s;c.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(c)},_removeLayer:function(s){var c=s.layer||s.target||s;this._deletableLayers.removeLayer(c),this._deletedLayers.addLayer(c),c.fire("deleted")},_onMouseMove:function(s){this._tooltip.updatePosition(s.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var ao={exports:{}},Ch;function Sy(){if(Ch)return ao.exports;Ch=1,ao.exports=l,ao.exports.parse=l,ao.exports.stringify=h;var t=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,r=new RegExp("^"+t.source+"(\\s"+t.source+"){1,}");function l(s){var c=s.split(";"),g=c.pop(),_=(c.shift()||"").split("=").pop(),v=0;function x(W){var Y=g.substring(v).match(W);return Y?(v+=Y[0].length,Y[0]):null}function E(W){return W&&_.match(/\d+/)&&(W.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+_}}),W}function k(){x(/^\s*/)}function I(){k();for(var W=0,Y=[],ht=[Y],ct=Y,Ot;Ot=x(/^(\()/)||x(/^(\))/)||x(/^(,)/)||x(r);){if(Ot==="(")ht.push(ct),ct=[],ht[ht.length-1].push(ct),W++;else if(Ot===")"){if(ct.length===0||(ct=ht.pop(),!ct))return null;if(W--,W===0)break}else if(Ot===",")ct=[],ht[ht.length-1].push(ct);else if(!Ot.split(/\s/g).some(isNaN))Array.prototype.push.apply(ct,Ot.split(/\s/g).map(parseFloat));else return null;k()}return W!==0?null:Y}function N(){for(var W=[],Y,ht;ht=x(r)||x(/^(,)/);)ht===","?(W.push(Y),Y=[]):ht.split(/\s/g).some(isNaN)||(Y||(Y=[]),Array.prototype.push.apply(Y,ht.split(/\s/g).map(parseFloat))),k();if(Y)W.push(Y);else return null;return W.length?W:null}function O(){if(!x(/^(point(\sz)?)/i)||(k(),!x(/^(\()/)))return null;var W=N();return!W||(k(),!x(/^(\))/))?null:{type:"Point",coordinates:W[0]}}function Z(){if(!x(/^(multipoint)/i))return null;k();var W=g.substring(g.indexOf("(")+1,g.length-1).replace(/\(/g,"").replace(/\)/g,"");g="MULTIPOINT ("+W+")";var Y=I();return Y?(k(),{type:"MultiPoint",coordinates:Y}):null}function j(){if(!x(/^(multilinestring)/i))return null;k();var W=I();return W?(k(),{type:"MultiLineString",coordinates:W}):null}function A(){if(!x(/^(linestring(\sz)?)/i)||(k(),!x(/^(\()/)))return null;var W=N();return!W||!x(/^(\))/)?null:{type:"LineString",coordinates:W}}function z(){if(!x(/^(polygon(\sz)?)/i))return null;k();var W=I();return W?{type:"Polygon",coordinates:W}:null}function G(){if(!x(/^(multipolygon)/i))return null;k();var W=I();return W?{type:"MultiPolygon",coordinates:W}:null}function B(){var W=[],Y;if(!x(/^(geometrycollection)/i)||(k(),!x(/^(\()/)))return null;for(;Y=X();)W.push(Y),k(),x(/^(,)/),k();return x(/^(\))/)?{type:"GeometryCollection",geometries:W}:null}function X(){return O()||A()||z()||Z()||j()||G()||B()}return E(X())}function h(s){s.type==="Feature"&&(s=s.geometry);function c(E){return E.join(" ")}function g(E){return E.map(c).join(", ")}function _(E){return E.map(g).map(x).join(", ")}function v(E){return E.map(_).map(x).join(", ")}function x(E){return"("+E+")"}switch(s.type){case"Point":return"POINT ("+c(s.coordinates)+")";case"LineString":return"LINESTRING ("+g(s.coordinates)+")";case"Polygon":return"POLYGON ("+_(s.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+g(s.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+v(s.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+_(s.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+s.geometries.map(h).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return ao.exports}var xo=Sy();function Py(t,r,l){let h=xo.stringify(t.toGeoJSON());if(r=="marker"||r=="polyline"){var s=Sh(t.toGeoJSON(),l);h=xo.stringify(s)}if(r=="circle"){console.log(t.getRadius());var s=Sh(t.toGeoJSON(),t.getRadius()/1e3);h=xo.stringify(s)}return h}function Cy(t){const r=localStorage.getItem("mapState");if(r){const l=JSON.parse(r);t.setView([l.center.lat,l.center.lng],l.zoom)}else t.setView([48.8566,2.3522],13)}function Ny(t){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:t,remove:!1}}}const My={__name:"Map",props:{radius:{type:Number,default:1},wkt:String,height:{type:String,default:"100vh"},editable:{type:Boolean,default:!0}},emits:["wkt","geojson"],setup(t,{emit:r}){const l=t,h=_s(),s=_s(new wr.FeatureGroup),c=Zt(1),g=Zt(null),_=fe(()=>!!l.wkt),v=fe(()=>"height: "+l.height+";");l.wkt&&(g.value=l.wkt,wr.geoJSON().addTo(s.value).addData(xo.parse(g.value))),c.value=l.radius,Bo(()=>{c.value=l.radius,g.value=l.wkt});const x=r;return ru(()=>{h.value=wr.map("map"),Cy(h.value),wr.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(h.value),h.value.addLayer(s.value),_.value&&h.value.fitBounds(s.value.getBounds()),l.editable&&h.value.addControl(new wr.Control.Draw(Ny(s.value))),h.value.on(wr.Draw.Event.CREATED,E=>{let k=E.layer;s.value.clearLayers(),s.value.addLayer(k);const I=Py(k,E.layerType,c.value);(E.layerType=="marker"||E.layerType=="polyline")&&wr.geoJSON().addTo(s.value).addData(xo.parse(I)),x("wkt",I)}),window.addEventListener("beforeunload",function(E){const k={center:h.value.getCenter(),zoom:h.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(k))})}),(E,k)=>(Ie(),ze("div",{id:"map",style:gs(v.value)},null,4))}},Xd=Ss(My,[["__scopeId","data-v-95724d07"]]),Oy={class:"container-fluid"},Ry={class:"row"},Ay={class:"col-12 col-lg-6 col-md-6"},Dy={class:"col-12 col-lg-6 col-md-6"},Fy={__name:"MapListWidget",setup(t){const r=Zt(1),l=Zt(null),h=Zt(null),s=Zt(null),g=Yl().query;return"radius"in g&&(r.value=parseInt(g.get("radius"))),"wkt"in g&&(l.value=g.wkt),"dateMin"in g&&(h.value=g.get("dateMin")),"dateMax"in g&&(s.value=g.get("dateMax")),(_,v)=>(Ie(),ze("div",Oy,[Et("div",Ry,[Et("div",Ay,[Se(Xd,{radius:r.value,height:"100vh",wkt:l.value,editable:!1},null,8,["radius","wkt"])]),Et("div",Dy,[Se(Vl,{wkt:l.value,dateMin:h.value,dateMax:s.value,itemPerPage:10},null,8,["wkt","dateMin","dateMax"])])])]))}},zy=Ss(Fy,[["__scopeId","data-v-d3654b62"]]),By={class:"container"},Gy={key:0},Uy={key:1},Hy={__name:"ListWidget",setup(t){const r=Zt(1),l=Zt(),h=Zt(null),s=Zt(null),g=Yl().query;return"radius"in g&&(r.value=parseInt(g.get("radius"))),"wkt"in g&&(l.value=g.wkt),"dateMin"in g&&(h.value=g.get("dateMin")),"dateMax"in g&&(s.value=g.get("dateMax")),(_,v)=>(Ie(),ze("div",By,[l.value?(Ie(),ze("div",Gy,[Se(Vl,{wkt:l.value,dateMin:h.value,dateMax:s.value,itemPerPage:10},null,8,["wkt","dateMin","dateMax"])])):(Ie(),ze("div",Uy,v[0]||(v[0]=[Et("h2",{class:"col-12 text-center m-3"},"Aucune géométrie fournie !",-1)])))]))}},Zy=Ss(Hy,[["__scopeId","data-v-c3dadd35"]]),qy={class:"row g-3 mb-3",id:"filters"},Yy={class:"col-12 col-md-12 col-lg-1",id:"filtersTitle"},Vy={class:"col-12 col-md-4 col-lg-3"},Wy={for:"radius",class:"form-label"},$y={class:"col-12 col-md-4 col-lg-3"},Xy={class:"col-12 col-md-4 col-lg-3"},jy={__name:"Filters",props:{radius:Number,dateMin:Date,dateMax:Date},emits:["radius","dateMin","dateMax"],setup(t,{emit:r}){const l=Zt(10),h=Zt(null),s=Zt(null);Zt(300),Zt(10);const c=t;Bo(()=>{l.value=c.radius,h.value=c.dateMin,s.value=c.dateMax});const g=r;return nn([l,h,s],()=>{g("radius",l.value),g("dateMin",h.value),g("dateMax",s.value)}),(_,v)=>(Ie(),ze("div",qy,[Et("div",Yy,[Et("h3",null,[v[3]||(v[3]=Et("i",{class:"bi bi-filter"},null,-1)),ps(" "+we(_.$t("filtersTitle")),1)])]),Et("div",Vy,[Et("label",Wy,"Buffer Size: "+we(l.value)+" km",1),hs(Et("input",{type:"range",class:"form-range",min:"0",max:"100","onUpdate:modelValue":v[0]||(v[0]=x=>l.value=x),id:"radius"},null,512),[[Lo,l.value]])]),Et("div",$y,[v[4]||(v[4]=Et("label",{for:"startDate"},"Date Min",-1)),hs(Et("input",{id:"startDate",class:"form-control",type:"date","onUpdate:modelValue":v[1]||(v[1]=x=>h.value=x)},null,512),[[Lo,h.value]])]),Et("div",Xy,[v[5]||(v[5]=Et("label",{for:"endDate"},"Date Max",-1)),hs(Et("input",{id:"endDate",class:"form-control",type:"date","onUpdate:modelValue":v[2]||(v[2]=x=>s.value=x)},null,512),[[Lo,s.value]])])]))}},Ky={class:"input-group-text"},Jy=["value"],Qy={class:"input-group mb-3"},t0={class:"input-group-text"},e0={class:"input-group-text"},n0={class:"input-group-text"},i0={value:""},r0={value:"list"},s0={value:"config"},o0={__name:"HTMLBuilder",props:{link:String},emits:["width","height","typeWidget"],setup(t,{emit:r}){const l=Zt("100wv"),h=Zt("100vh"),s=Zt(""),c=t,g=r;nn([s,l,h],()=>{g("width",l.value),g("height",h.value),g("typeWidget",s.value)});const _=fe(()=>`<embed src="${c.link}" type="" style="width: ${l.value}; height: ${h.value}" />`);return(v,x)=>(Ie(),ze(xn,null,[Et("span",Ky,we(v.$t("embed")),1),Et("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:_.value},null,8,Jy),Et("div",Qy,[Et("span",t0,we(v.$t("size.width")),1),hs(Et("input",{class:"form-control form-control-lg",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":x[0]||(x[0]=E=>l.value=E)},null,512),[[Lo,l.value]]),Et("span",e0,we(v.$t("size.height")),1),hs(Et("input",{class:"form-control form-control-lg",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":x[1]||(x[1]=E=>h.value=E)},null,512),[[Lo,h.value]]),Et("span",n0,we(v.$t("typeWidget.title")),1),hs(Et("select",{class:"form-select","onUpdate:modelValue":x[2]||(x[2]=E=>s.value=E)},[Et("option",i0,we(v.$t("typeWidget.default")),1),Et("option",r0,we(v.$t("typeWidget.list")),1),Et("option",s0,we(v.$t("typeWidget.config")),1)],512),[[jm,s.value]])])],64))}};function lu(t){return Lf()?(Zg(t),!0):!1}const Ho=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const a0=Object.prototype.toString,jd=t=>a0.call(t)==="[object Object]",Wl=()=>{},Nh=u0();function u0(){var t,r;return Ho&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((r=window==null?void 0:window.navigator)==null?void 0:r.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function l0(t){let r;function l(){return r||(r=t()),r}return l.reset=async()=>{const h=r;r=void 0,h&&await h},l}function Ya(t){return Array.isArray(t)?t:[t]}function c0(...t){if(t.length!==1)return m_(...t);const r=t[0];return typeof r=="function"?eu(d_(()=>({get:r,set:Wl}))):Zt(r)}function h0(t,r,l={}){const{immediate:h=!0}=l,s=Zt(!1);let c=null;function g(){c&&(clearTimeout(c),c=null)}function _(){s.value=!1,g()}function v(...x){g(),s.value=!0,c=setTimeout(()=>{s.value=!1,c=null,t(...x)},Oi(r))}return h&&(s.value=!0,Ho&&v()),lu(_),{isPending:eu(s),start:v,stop:_}}const f0=Ho?window:void 0,Kd=Ho?window.navigator:void 0;function d0(t){var r;const l=Oi(t);return(r=l==null?void 0:l.$el)!=null?r:l}function Jd(...t){let r,l,h,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([l,h,s]=t,r=f0):[r,l,h,s]=t,!r)return Wl;l=Ya(l),h=Ya(h);const c=[],g=()=>{c.forEach(E=>E()),c.length=0},_=(E,k,I,N)=>(E.addEventListener(k,I,N),()=>E.removeEventListener(k,I,N)),v=nn(()=>[d0(r),Oi(s)],([E,k])=>{if(g(),!E)return;const I=jd(k)?{...k}:k;c.push(...l.flatMap(N=>h.map(O=>_(E,N,O,I))))},{immediate:!0,flush:"post"}),x=()=>{v(),g()};return lu(x),x}function g0(){const t=Zt(!1),r=vs();return r&&ru(()=>{t.value=!0},r),t}function Qd(t){const r=g0();return fe(()=>(r.value,!!t()))}function Mh(t,r={}){const{controls:l=!1,navigator:h=Kd}=r,s=Qd(()=>h&&"permissions"in h),c=_s(),g=typeof t=="string"?{name:t}:t,_=_s(),v=()=>{var E,k;_.value=(k=(E=c.value)==null?void 0:E.state)!=null?k:"prompt"};Jd(c,"change",v);const x=l0(async()=>{if(s.value){if(!c.value)try{c.value=await h.permissions.query(g)}catch{c.value=void 0}finally{v()}if(l)return se(c.value)}});return x(),l?{state:_,isSupported:s,query:x}:_}function _0(t={}){const{navigator:r=Kd,read:l=!1,source:h,copiedDuring:s=1500,legacy:c=!1}=t,g=Qd(()=>r&&"clipboard"in r),_=Mh("clipboard-read"),v=Mh("clipboard-write"),x=fe(()=>g.value||c),E=Zt(""),k=Zt(!1),I=h0(()=>k.value=!1,s,{immediate:!1});function N(){g.value&&A(_.value)?r.clipboard.readText().then(z=>{E.value=z}):E.value=j()}x.value&&l&&Jd(["copy","cut"],N);async function O(z=Oi(h)){x.value&&z!=null&&(g.value&&A(v.value)?await r.clipboard.writeText(z):Z(z),E.value=z,k.value=!0,I.start())}function Z(z){const G=document.createElement("textarea");G.value=z??"",G.style.position="absolute",G.style.opacity="0",document.body.appendChild(G),G.select(),document.execCommand("copy"),G.remove()}function j(){var z,G,B;return(B=(G=(z=document==null?void 0:document.getSelection)==null?void 0:z.call(document))==null?void 0:G.toString())!=null?B:""}function A(z){return z==="granted"||z==="prompt"}return{isSupported:x,text:E,copied:k,copy:O}}const m0=Ho?window:void 0;function p0(t){var r;const l=Oi(t);return(r=l==null?void 0:l.$el)!=null?r:l}function v0(...t){let r,l,h,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([l,h,s]=t,r=m0):[r,l,h,s]=t,!r)return Wl;l=Ya(l),h=Ya(h);const c=[],g=()=>{c.forEach(E=>E()),c.length=0},_=(E,k,I,N)=>(E.addEventListener(k,I,N),()=>E.removeEventListener(k,I,N)),v=nn(()=>[p0(r),Oi(s)],([E,k])=>{if(g(),!E)return;const I=jd(k)?{...k}:k;c.push(...l.flatMap(N=>h.map(O=>_(E,N,O,I))))},{immediate:!0,flush:"post"}),x=()=>{v(),g()};return lu(x),x}const y0=Is({name:"UseClipboard",props:["source","read","navigator","copiedDuring","legacy"],setup(t,{slots:r}){const l=Fo(_0(t));return()=>{var h;return(h=r.default)==null?void 0:h.call(r,l)}}});function qu(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function tg(t){const r=window.getComputedStyle(t);if(r.overflowX==="scroll"||r.overflowY==="scroll"||r.overflowX==="auto"&&t.clientWidth<t.scrollWidth||r.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const l=t.parentNode;return!l||l.tagName==="BODY"?!1:tg(l)}}function L0(t){const r=t||window.event,l=r.target;return tg(l)?!1:r.touches.length>1?!0:(r.preventDefault&&r.preventDefault(),!1)}const Yu=new WeakMap;function E0(t,r=!1){const l=Zt(r);let h=null,s="";nn(c0(t),_=>{const v=qu(Oi(_));if(v){const x=v;if(Yu.get(x)||Yu.set(x,x.style.overflow),x.style.overflow!=="hidden"&&(s=x.style.overflow),x.style.overflow==="hidden")return l.value=!0;if(l.value)return x.style.overflow="hidden"}},{immediate:!0});const c=()=>{const _=qu(Oi(t));!_||l.value||(Nh&&(h=v0(_,"touchmove",v=>{L0(v)},{passive:!1})),_.style.overflow="hidden",l.value=!0)},g=()=>{const _=qu(Oi(t));!_||!l.value||(Nh&&(h==null||h()),_.style.overflow=s,Yu.delete(_),l.value=!1)};return lu(g),fe({get(){return l.value},set(_){_?c():g()}})}function k0(){let t=!1;const r=Zt(!1);return(l,h)=>{if(r.value=h.value,t)return;t=!0;const s=E0(l,h.value);nn(r,c=>s.value=c)}}k0();const x0={class:"row justify-content-center"},w0={class:"col-12 col-lg-6 col-md-6 m-3"},b0={class:"input-group"},T0=["value"],I0=["onClick"],S0={key:0},P0={key:1},C0={__name:"Share",props:{wkt:String,dateMin:String,dateMax:String},setup(t){const r=t,l=Zt("100wv"),h=Zt("100vh"),s=Zt(""),c=Zt(""),g=window.location.origin,_=window.location.pathname,v=fe(()=>{switch(s.value){case"list":return"/list";case"config":return"/config";default:return"/"}});Bo(()=>{console.log("WKT",r.wkt),c.value=r.wkt});const x=fe(()=>{let E=[];r.wkt&&E.push(`wkt=${r.wkt}`),r.dateMin&&E.push(`dateMin=${r.dateMin}`),r.dateMax&&E.push(`dateMax=${r.dateMax}`);const k=E.length?`?${E.join("&")}`:"";return`${g}${_}#${v.value}${k}`});return(E,k)=>(Ie(),ze("div",x0,[Et("div",w0,[Et("h4",null,we(E.$t("shareLink")),1),Et("div",b0,[Et("input",{class:"form-control",type:"text",value:x.value},null,8,T0),Se(tr(y0),{source:x.value},{default:Zf(({copy:I,copied:N})=>[Et("button",{class:"btn btn-outline-secondary",onClick:O=>I()},[N?(Ie(),ze("div",S0,[k[3]||(k[3]=Et("i",{class:"bi bi-check2-circle"},null,-1)),ps(" "+we(E.$t("copied"))+" ! ",1)])):(Ie(),ze("div",P0,[k[4]||(k[4]=Et("i",{class:"bi bi-copy"},null,-1)),ps(" "+we(E.$t("copy")),1)]))],8,I0)]),_:1},8,["source"])]),k[5]||(k[5]=Et("h4",null,"Intégrer le widget dans votre site",-1)),Se(o0,{link:x.value,onTypeWidget:k[0]||(k[0]=I=>s.value=I),onWidth:k[1]||(k[1]=I=>l.value=I),onHeight:k[2]||(k[2]=I=>h.value=I)},null,8,["link"])])]))}},N0={class:"container-fluid"},M0={id:"title",class:"col-12 text-center m-3"},O0={class:"row"},R0={class:"col m-2 mt-1 mb-3"},A0={class:"row"},D0={class:"col-12 col-lg-6 col-md-6"},F0={class:"col-12 col-lg-6 col-md-6"},z0={__name:"ConfiguratorWidget",setup(t){const r=Zt(1),l=Zt(""),h=Zt(null),s=Zt(null),g=Yl().query;return"radius"in g&&(r.value=parseInt(g.get("radius"))),"wkt"in g&&(l.value=g.wkt),"dateMin"in g&&(h.value=g.get("dateMin")),"dateMax"in g&&(s.value=g.get("dateMax")),(_,v)=>(Ie(),ze("div",N0,[Et("h1",M0,"🐦"+we(_.$t("title"))+"🐛",1),Et("div",O0,[Et("div",R0,[Se(jy,{radius:r.value,onDateMin:v[0]||(v[0]=x=>h.value=x),onDateMax:v[1]||(v[1]=x=>s.value=x),onRadius:v[2]||(v[2]=x=>r.value=parseInt(x))},null,8,["radius"])])]),Et("div",A0,[Et("div",D0,[Se(Xd,{radius:r.value,height:"70vh",wkt:l.value,onWkt:v[3]||(v[3]=x=>l.value=x)},null,8,["radius","wkt"])]),Et("div",F0,[Se(Vl,{wkt:l.value,dateMin:h.value,dateMax:s.value,itemPerPage:10,height:"70vh"},null,8,["wkt","dateMin","dateMax"])]),Se(C0,{wkt:l.value,dateMin:h.value,dateMax:s.value},null,8,["wkt","dateMin","dateMax"])])]))}},B0=Ss(z0,[["__scopeId","data-v-a42cb269"]]),G0={},U0={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},H0={class:"text-center"},Z0={class:"lead"};function q0(t,r){return Ie(),ze("div",U0,[Et("div",H0,[r[0]||(r[0]=Et("h1",{class:"display-1"},"404",-1)),Et("p",Z0,we(t.$t("error404.title")),1),Et("p",null,we(t.$t("error404.subtitle")),1)])])}const Y0=Ss(G0,[["render",q0]]);/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Va=typeof window<"u",rr=(t,r=!1)=>r?Symbol.for(t):Symbol(t),V0=(t,r,l)=>W0({l:t,k:r,s:l}),W0=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),De=t=>typeof t=="number"&&isFinite(t),$0=t=>$l(t)==="[object Date]",ws=t=>$l(t)==="[object RegExp]",cu=t=>te(t)&&Object.keys(t).length===0,Ze=Object.assign,X0=Object.create,pe=(t=null)=>X0(t);let Oh;const Ir=()=>Oh||(Oh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:pe());function Rh(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const j0=Object.prototype.hasOwnProperty;function Xn(t,r){return j0.call(t,r)}const Re=Array.isArray,xe=t=>typeof t=="function",bt=t=>typeof t=="string",ae=t=>typeof t=="boolean",le=t=>t!==null&&typeof t=="object",K0=t=>le(t)&&xe(t.then)&&xe(t.catch),eg=Object.prototype.toString,$l=t=>eg.call(t),te=t=>$l(t)==="[object Object]",J0=t=>t==null?"":Re(t)||te(t)&&t.toString===eg?JSON.stringify(t,null,2):String(t);function Xl(t,r=""){return t.reduce((l,h,s)=>s===0?l+h:l+r+h,"")}function Q0(t,r){typeof console<"u"&&(console.warn("[intlify] "+t),r&&console.warn(r.stack))}const pa=t=>!le(t)||Re(t);function Ia(t,r){if(pa(t)||pa(r))throw new Error("Invalid value");const l=[{src:t,des:r}];for(;l.length;){const{src:h,des:s}=l.pop();Object.keys(h).forEach(c=>{c!=="__proto__"&&(le(h[c])&&!le(s[c])&&(s[c]=Array.isArray(h[c])?[]:pe()),pa(s[c])||pa(h[c])?s[c]=h[c]:l.push({src:h[c],des:s[c]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function tL(t,r,l){return{line:t,column:r,offset:l}}function _l(t,r,l){return{start:t,end:r}}const me={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},eL=17;function hu(t,r,l={}){const{domain:h,messages:s,args:c}=l,g=t,_=new SyntaxError(String(g));return _.code=t,r&&(_.location=r),_.domain=h,_}function nL(t){throw t}const Ii=" ",iL="\r",gn=`
`,rL="\u2028",sL="\u2029";function oL(t){const r=t;let l=0,h=1,s=1,c=0;const g=Y=>r[Y]===iL&&r[Y+1]===gn,_=Y=>r[Y]===gn,v=Y=>r[Y]===sL,x=Y=>r[Y]===rL,E=Y=>g(Y)||_(Y)||v(Y)||x(Y),k=()=>l,I=()=>h,N=()=>s,O=()=>c,Z=Y=>g(Y)||v(Y)||x(Y)?gn:r[Y],j=()=>Z(l),A=()=>Z(l+c);function z(){return c=0,E(l)&&(h++,s=0),g(l)&&l++,l++,s++,r[l]}function G(){return g(l+c)&&c++,c++,r[l+c]}function B(){l=0,h=1,s=1,c=0}function X(Y=0){c=Y}function W(){const Y=l+c;for(;Y!==l;)z();c=0}return{index:k,line:I,column:N,peekOffset:O,charAt:Z,currentChar:j,currentPeek:A,next:z,peek:G,reset:B,resetPeek:X,skipToPeek:W}}const Xi=void 0,aL=".",Ah="'",uL="tokenizer";function lL(t,r={}){const l=r.location!==!1,h=oL(t),s=()=>h.index(),c=()=>tL(h.line(),h.column(),h.index()),g=c(),_=s(),v={currentType:13,offset:_,startLoc:g,endLoc:g,lastType:13,lastOffset:_,lastStartLoc:g,lastEndLoc:g,braceNest:0,inLinked:!1,text:""},x=()=>v,{onError:E}=r;function k(R,C,V,...Q){const vt=x();if(C.column+=V,C.offset+=V,E){const at=l?_l(vt.startLoc,C):null,H=hu(R,at,{domain:uL,args:Q});E(H)}}function I(R,C,V){R.endLoc=c(),R.currentType=C;const Q={type:C};return l&&(Q.loc=_l(R.startLoc,R.endLoc)),V!=null&&(Q.value=V),Q}const N=R=>I(R,13);function O(R,C){return R.currentChar()===C?(R.next(),C):(k(me.EXPECTED_TOKEN,c(),0,C),"")}function Z(R){let C="";for(;R.currentPeek()===Ii||R.currentPeek()===gn;)C+=R.currentPeek(),R.peek();return C}function j(R){const C=Z(R);return R.skipToPeek(),C}function A(R){if(R===Xi)return!1;const C=R.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C===95}function z(R){if(R===Xi)return!1;const C=R.charCodeAt(0);return C>=48&&C<=57}function G(R,C){const{currentType:V}=C;if(V!==2)return!1;Z(R);const Q=A(R.currentPeek());return R.resetPeek(),Q}function B(R,C){const{currentType:V}=C;if(V!==2)return!1;Z(R);const Q=R.currentPeek()==="-"?R.peek():R.currentPeek(),vt=z(Q);return R.resetPeek(),vt}function X(R,C){const{currentType:V}=C;if(V!==2)return!1;Z(R);const Q=R.currentPeek()===Ah;return R.resetPeek(),Q}function W(R,C){const{currentType:V}=C;if(V!==7)return!1;Z(R);const Q=R.currentPeek()===".";return R.resetPeek(),Q}function Y(R,C){const{currentType:V}=C;if(V!==8)return!1;Z(R);const Q=A(R.currentPeek());return R.resetPeek(),Q}function ht(R,C){const{currentType:V}=C;if(!(V===7||V===11))return!1;Z(R);const Q=R.currentPeek()===":";return R.resetPeek(),Q}function ct(R,C){const{currentType:V}=C;if(V!==9)return!1;const Q=()=>{const at=R.currentPeek();return at==="{"?A(R.peek()):at==="@"||at==="|"||at===":"||at==="."||at===Ii||!at?!1:at===gn?(R.peek(),Q()):Pt(R,!1)},vt=Q();return R.resetPeek(),vt}function Ot(R){Z(R);const C=R.currentPeek()==="|";return R.resetPeek(),C}function Pt(R,C=!0){const V=(vt=!1,at="")=>{const H=R.currentPeek();return H==="{"||H==="@"||!H?vt:H==="|"?!(at===Ii||at===gn):H===Ii?(R.peek(),V(!0,Ii)):H===gn?(R.peek(),V(!0,gn)):!0},Q=V();return C&&R.resetPeek(),Q}function Tt(R,C){const V=R.currentChar();return V===Xi?Xi:C(V)?(R.next(),V):null}function jt(R){const C=R.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36}function dt(R){return Tt(R,jt)}function Gt(R){const C=R.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36||C===45}function It(R){return Tt(R,Gt)}function Nt(R){const C=R.charCodeAt(0);return C>=48&&C<=57}function ft(R){return Tt(R,Nt)}function Kt(R){const C=R.charCodeAt(0);return C>=48&&C<=57||C>=65&&C<=70||C>=97&&C<=102}function st(R){return Tt(R,Kt)}function Ft(R){let C="",V="";for(;C=ft(R);)V+=C;return V}function Ut(R){let C="";for(;;){const V=R.currentChar();if(V==="{"||V==="}"||V==="@"||V==="|"||!V)break;if(V===Ii||V===gn)if(Pt(R))C+=V,R.next();else{if(Ot(R))break;C+=V,R.next()}else C+=V,R.next()}return C}function Qt(R){j(R);let C="",V="";for(;C=It(R);)V+=C;return R.currentChar()===Xi&&k(me.UNTERMINATED_CLOSING_BRACE,c(),0),V}function kt(R){j(R);let C="";return R.currentChar()==="-"?(R.next(),C+=`-${Ft(R)}`):C+=Ft(R),R.currentChar()===Xi&&k(me.UNTERMINATED_CLOSING_BRACE,c(),0),C}function Yt(R){return R!==Ah&&R!==gn}function Bt(R){j(R),O(R,"'");let C="",V="";for(;C=Tt(R,Yt);)C==="\\"?V+=it(R):V+=C;const Q=R.currentChar();return Q===gn||Q===Xi?(k(me.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,c(),0),Q===gn&&(R.next(),O(R,"'")),V):(O(R,"'"),V)}function it(R){const C=R.currentChar();switch(C){case"\\":case"'":return R.next(),`\\${C}`;case"u":return F(R,C,4);case"U":return F(R,C,6);default:return k(me.UNKNOWN_ESCAPE_SEQUENCE,c(),0,C),""}}function F(R,C,V){O(R,C);let Q="";for(let vt=0;vt<V;vt++){const at=st(R);if(!at){k(me.INVALID_UNICODE_ESCAPE_SEQUENCE,c(),0,`\\${C}${Q}${R.currentChar()}`);break}Q+=at}return`\\${C}${Q}`}function yt(R){return R!=="{"&&R!=="}"&&R!==Ii&&R!==gn}function gt(R){j(R);let C="",V="";for(;C=Tt(R,yt);)V+=C;return V}function _t(R){let C="",V="";for(;C=dt(R);)V+=C;return V}function T(R){const C=V=>{const Q=R.currentChar();return Q==="{"||Q==="@"||Q==="|"||Q==="("||Q===")"||!Q||Q===Ii?V:(V+=Q,R.next(),C(V))};return C("")}function D(R){j(R);const C=O(R,"|");return j(R),C}function $(R,C){let V=null;switch(R.currentChar()){case"{":return C.braceNest>=1&&k(me.NOT_ALLOW_NEST_PLACEHOLDER,c(),0),R.next(),V=I(C,2,"{"),j(R),C.braceNest++,V;case"}":return C.braceNest>0&&C.currentType===2&&k(me.EMPTY_PLACEHOLDER,c(),0),R.next(),V=I(C,3,"}"),C.braceNest--,C.braceNest>0&&j(R),C.inLinked&&C.braceNest===0&&(C.inLinked=!1),V;case"@":return C.braceNest>0&&k(me.UNTERMINATED_CLOSING_BRACE,c(),0),V=nt(R,C)||N(C),C.braceNest=0,V;default:{let vt=!0,at=!0,H=!0;if(Ot(R))return C.braceNest>0&&k(me.UNTERMINATED_CLOSING_BRACE,c(),0),V=I(C,1,D(R)),C.braceNest=0,C.inLinked=!1,V;if(C.braceNest>0&&(C.currentType===4||C.currentType===5||C.currentType===6))return k(me.UNTERMINATED_CLOSING_BRACE,c(),0),C.braceNest=0,ot(R,C);if(vt=G(R,C))return V=I(C,4,Qt(R)),j(R),V;if(at=B(R,C))return V=I(C,5,kt(R)),j(R),V;if(H=X(R,C))return V=I(C,6,Bt(R)),j(R),V;if(!vt&&!at&&!H)return V=I(C,12,gt(R)),k(me.INVALID_TOKEN_IN_PLACEHOLDER,c(),0,V.value),j(R),V;break}}return V}function nt(R,C){const{currentType:V}=C;let Q=null;const vt=R.currentChar();switch((V===7||V===8||V===11||V===9)&&(vt===gn||vt===Ii)&&k(me.INVALID_LINKED_FORMAT,c(),0),vt){case"@":return R.next(),Q=I(C,7,"@"),C.inLinked=!0,Q;case".":return j(R),R.next(),I(C,8,".");case":":return j(R),R.next(),I(C,9,":");default:return Ot(R)?(Q=I(C,1,D(R)),C.braceNest=0,C.inLinked=!1,Q):W(R,C)||ht(R,C)?(j(R),nt(R,C)):Y(R,C)?(j(R),I(C,11,_t(R))):ct(R,C)?(j(R),vt==="{"?$(R,C)||Q:I(C,10,T(R))):(V===7&&k(me.INVALID_LINKED_FORMAT,c(),0),C.braceNest=0,C.inLinked=!1,ot(R,C))}}function ot(R,C){let V={type:13};if(C.braceNest>0)return $(R,C)||N(C);if(C.inLinked)return nt(R,C)||N(C);switch(R.currentChar()){case"{":return $(R,C)||N(C);case"}":return k(me.UNBALANCED_CLOSING_BRACE,c(),0),R.next(),I(C,3,"}");case"@":return nt(R,C)||N(C);default:{if(Ot(R))return V=I(C,1,D(R)),C.braceNest=0,C.inLinked=!1,V;if(Pt(R))return I(C,0,Ut(R));break}}return V}function rt(){const{currentType:R,offset:C,startLoc:V,endLoc:Q}=v;return v.lastType=R,v.lastOffset=C,v.lastStartLoc=V,v.lastEndLoc=Q,v.offset=s(),v.startLoc=c(),h.currentChar()===Xi?I(v,13):ot(h,v)}return{nextToken:rt,currentOffset:s,currentPosition:c,context:x}}const cL="parser",hL=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fL(t,r,l){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const h=parseInt(r||l,16);return h<=55295||h>=57344?String.fromCodePoint(h):"�"}}}function dL(t={}){const r=t.location!==!1,{onError:l}=t;function h(A,z,G,B,...X){const W=A.currentPosition();if(W.offset+=B,W.column+=B,l){const Y=r?_l(G,W):null,ht=hu(z,Y,{domain:cL,args:X});l(ht)}}function s(A,z,G){const B={type:A};return r&&(B.start=z,B.end=z,B.loc={start:G,end:G}),B}function c(A,z,G,B){r&&(A.end=z,A.loc&&(A.loc.end=G))}function g(A,z){const G=A.context(),B=s(3,G.offset,G.startLoc);return B.value=z,c(B,A.currentOffset(),A.currentPosition()),B}function _(A,z){const G=A.context(),{lastOffset:B,lastStartLoc:X}=G,W=s(5,B,X);return W.index=parseInt(z,10),A.nextToken(),c(W,A.currentOffset(),A.currentPosition()),W}function v(A,z){const G=A.context(),{lastOffset:B,lastStartLoc:X}=G,W=s(4,B,X);return W.key=z,A.nextToken(),c(W,A.currentOffset(),A.currentPosition()),W}function x(A,z){const G=A.context(),{lastOffset:B,lastStartLoc:X}=G,W=s(9,B,X);return W.value=z.replace(hL,fL),A.nextToken(),c(W,A.currentOffset(),A.currentPosition()),W}function E(A){const z=A.nextToken(),G=A.context(),{lastOffset:B,lastStartLoc:X}=G,W=s(8,B,X);return z.type!==11?(h(A,me.UNEXPECTED_EMPTY_LINKED_MODIFIER,G.lastStartLoc,0),W.value="",c(W,B,X),{nextConsumeToken:z,node:W}):(z.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,G.lastStartLoc,0,li(z)),W.value=z.value||"",c(W,A.currentOffset(),A.currentPosition()),{node:W})}function k(A,z){const G=A.context(),B=s(7,G.offset,G.startLoc);return B.value=z,c(B,A.currentOffset(),A.currentPosition()),B}function I(A){const z=A.context(),G=s(6,z.offset,z.startLoc);let B=A.nextToken();if(B.type===8){const X=E(A);G.modifier=X.node,B=X.nextConsumeToken||A.nextToken()}switch(B.type!==9&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(B)),B=A.nextToken(),B.type===2&&(B=A.nextToken()),B.type){case 10:B.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(B)),G.key=k(A,B.value||"");break;case 4:B.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(B)),G.key=v(A,B.value||"");break;case 5:B.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(B)),G.key=_(A,B.value||"");break;case 6:B.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(B)),G.key=x(A,B.value||"");break;default:{h(A,me.UNEXPECTED_EMPTY_LINKED_KEY,z.lastStartLoc,0);const X=A.context(),W=s(7,X.offset,X.startLoc);return W.value="",c(W,X.offset,X.startLoc),G.key=W,c(G,X.offset,X.startLoc),{nextConsumeToken:B,node:G}}}return c(G,A.currentOffset(),A.currentPosition()),{node:G}}function N(A){const z=A.context(),G=z.currentType===1?A.currentOffset():z.offset,B=z.currentType===1?z.endLoc:z.startLoc,X=s(2,G,B);X.items=[];let W=null;do{const ct=W||A.nextToken();switch(W=null,ct.type){case 0:ct.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(ct)),X.items.push(g(A,ct.value||""));break;case 5:ct.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(ct)),X.items.push(_(A,ct.value||""));break;case 4:ct.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(ct)),X.items.push(v(A,ct.value||""));break;case 6:ct.value==null&&h(A,me.UNEXPECTED_LEXICAL_ANALYSIS,z.lastStartLoc,0,li(ct)),X.items.push(x(A,ct.value||""));break;case 7:{const Ot=I(A);X.items.push(Ot.node),W=Ot.nextConsumeToken||null;break}}}while(z.currentType!==13&&z.currentType!==1);const Y=z.currentType===1?z.lastOffset:A.currentOffset(),ht=z.currentType===1?z.lastEndLoc:A.currentPosition();return c(X,Y,ht),X}function O(A,z,G,B){const X=A.context();let W=B.items.length===0;const Y=s(1,z,G);Y.cases=[],Y.cases.push(B);do{const ht=N(A);W||(W=ht.items.length===0),Y.cases.push(ht)}while(X.currentType!==13);return W&&h(A,me.MUST_HAVE_MESSAGES_IN_PLURAL,G,0),c(Y,A.currentOffset(),A.currentPosition()),Y}function Z(A){const z=A.context(),{offset:G,startLoc:B}=z,X=N(A);return z.currentType===13?X:O(A,G,B,X)}function j(A){const z=lL(A,Ze({},t)),G=z.context(),B=s(0,G.offset,G.startLoc);return r&&B.loc&&(B.loc.source=A),B.body=Z(z),t.onCacheKey&&(B.cacheKey=t.onCacheKey(A)),G.currentType!==13&&h(z,me.UNEXPECTED_LEXICAL_ANALYSIS,G.lastStartLoc,0,A[G.offset]||""),c(B,z.currentOffset(),z.currentPosition()),B}return{parse:j}}function li(t){if(t.type===13)return"EOF";const r=(t.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"…":r}function gL(t,r={}){const l={ast:t,helpers:new Set};return{context:()=>l,helper:c=>(l.helpers.add(c),c)}}function Dh(t,r){for(let l=0;l<t.length;l++)jl(t[l],r)}function jl(t,r){switch(t.type){case 1:Dh(t.cases,r),r.helper("plural");break;case 2:Dh(t.items,r);break;case 6:{jl(t.key,r),r.helper("linked"),r.helper("type");break}case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function _L(t,r={}){const l=gL(t);l.helper("normalize"),t.body&&jl(t.body,l);const h=l.context();t.helpers=Array.from(h.helpers)}function mL(t){const r=t.body;return r.type===2?Fh(r):r.cases.forEach(l=>Fh(l)),t}function Fh(t){if(t.items.length===1){const r=t.items[0];(r.type===3||r.type===9)&&(t.static=r.value,delete r.value)}else{const r=[];for(let l=0;l<t.items.length;l++){const h=t.items[l];if(!(h.type===3||h.type===9)||h.value==null)break;r.push(h.value)}if(r.length===t.items.length){t.static=Xl(r);for(let l=0;l<t.items.length;l++){const h=t.items[l];(h.type===3||h.type===9)&&delete h.value}}}}function ss(t){switch(t.t=t.type,t.type){case 0:{const r=t;ss(r.body),r.b=r.body,delete r.body;break}case 1:{const r=t,l=r.cases;for(let h=0;h<l.length;h++)ss(l[h]);r.c=l,delete r.cases;break}case 2:{const r=t,l=r.items;for(let h=0;h<l.length;h++)ss(l[h]);r.i=l,delete r.items,r.static&&(r.s=r.static,delete r.static);break}case 3:case 9:case 8:case 7:{const r=t;r.value&&(r.v=r.value,delete r.value);break}case 6:{const r=t;ss(r.key),r.k=r.key,delete r.key,r.modifier&&(ss(r.modifier),r.m=r.modifier,delete r.modifier);break}case 5:{const r=t;r.i=r.index,delete r.index;break}case 4:{const r=t;r.k=r.key,delete r.key;break}}delete t.type}function pL(t,r){const{sourceMap:l,filename:h,breakLineCode:s,needIndent:c}=r,g=r.location!==!1,_={filename:h,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:c,indentLevel:0};g&&t.loc&&(_.source=t.loc.source);const v=()=>_;function x(j,A){_.code+=j}function E(j,A=!0){const z=A?s:"";x(c?z+"  ".repeat(j):z)}function k(j=!0){const A=++_.indentLevel;j&&E(A)}function I(j=!0){const A=--_.indentLevel;j&&E(A)}function N(){E(_.indentLevel)}return{context:v,push:x,indent:k,deindent:I,newline:N,helper:j=>`_${j}`,needIndent:()=>_.needIndent}}function vL(t,r){const{helper:l}=t;t.push(`${l("linked")}(`),bs(t,r.key),r.modifier?(t.push(", "),bs(t,r.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function yL(t,r){const{helper:l,needIndent:h}=t;t.push(`${l("normalize")}([`),t.indent(h());const s=r.items.length;for(let c=0;c<s&&(bs(t,r.items[c]),c!==s-1);c++)t.push(", ");t.deindent(h()),t.push("])")}function LL(t,r){const{helper:l,needIndent:h}=t;if(r.cases.length>1){t.push(`${l("plural")}([`),t.indent(h());const s=r.cases.length;for(let c=0;c<s&&(bs(t,r.cases[c]),c!==s-1);c++)t.push(", ");t.deindent(h()),t.push("])")}}function EL(t,r){r.body?bs(t,r.body):t.push("null")}function bs(t,r){const{helper:l}=t;switch(r.type){case 0:EL(t,r);break;case 1:LL(t,r);break;case 2:yL(t,r);break;case 6:vL(t,r);break;case 8:t.push(JSON.stringify(r.value),r);break;case 7:t.push(JSON.stringify(r.value),r);break;case 5:t.push(`${l("interpolate")}(${l("list")}(${r.index}))`,r);break;case 4:t.push(`${l("interpolate")}(${l("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:t.push(JSON.stringify(r.value),r);break;case 3:t.push(JSON.stringify(r.value),r);break}}const kL=(t,r={})=>{const l=bt(r.mode)?r.mode:"normal",h=bt(r.filename)?r.filename:"message.intl",s=!!r.sourceMap,c=r.breakLineCode!=null?r.breakLineCode:l==="arrow"?";":`
`,g=r.needIndent?r.needIndent:l!=="arrow",_=t.helpers||[],v=pL(t,{mode:l,filename:h,sourceMap:s,breakLineCode:c,needIndent:g});v.push(l==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),v.indent(g),_.length>0&&(v.push(`const { ${Xl(_.map(k=>`${k}: _${k}`),", ")} } = ctx`),v.newline()),v.push("return "),bs(v,t),v.deindent(g),v.push("}"),delete t.helpers;const{code:x,map:E}=v.context();return{ast:t,code:x,map:E?E.toJSON():void 0}};function xL(t,r={}){const l=Ze({},r),h=!!l.jit,s=!!l.minify,c=l.optimize==null?!0:l.optimize,_=dL(l).parse(t);return h?(c&&mL(_),s&&ss(_),{ast:_,code:""}):(_L(_,l),kL(_,l))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function wL(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ir().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ir().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Vu(t){return l=>bL(l,t)}function bL(t,r){const l=IL(r);if(l==null)throw Mo(0);if(Kl(l)===1){const c=PL(l);return t.plural(c.reduce((g,_)=>[...g,zh(t,_)],[]))}else return zh(t,l)}const TL=["b","body"];function IL(t){return sr(t,TL)}const SL=["c","cases"];function PL(t){return sr(t,SL,[])}function zh(t,r){const l=NL(r);if(l!=null)return t.type==="text"?l:t.normalize([l]);{const h=OL(r).reduce((s,c)=>[...s,ml(t,c)],[]);return t.normalize(h)}}const CL=["s","static"];function NL(t){return sr(t,CL)}const ML=["i","items"];function OL(t){return sr(t,ML,[])}function ml(t,r){const l=Kl(r);switch(l){case 3:return va(r,l);case 9:return va(r,l);case 4:{const h=r;if(Xn(h,"k")&&h.k)return t.interpolate(t.named(h.k));if(Xn(h,"key")&&h.key)return t.interpolate(t.named(h.key));throw Mo(l)}case 5:{const h=r;if(Xn(h,"i")&&De(h.i))return t.interpolate(t.list(h.i));if(Xn(h,"index")&&De(h.index))return t.interpolate(t.list(h.index));throw Mo(l)}case 6:{const h=r,s=FL(h),c=BL(h);return t.linked(ml(t,c),s?ml(t,s):void 0,t.type)}case 7:return va(r,l);case 8:return va(r,l);default:throw new Error(`unhandled node on format message part: ${l}`)}}const RL=["t","type"];function Kl(t){return sr(t,RL)}const AL=["v","value"];function va(t,r){const l=sr(t,AL);if(l)return l;throw Mo(r)}const DL=["m","modifier"];function FL(t){return sr(t,DL)}const zL=["k","key"];function BL(t){const r=sr(t,zL);if(r)return r;throw Mo(6)}function sr(t,r,l){for(let h=0;h<r.length;h++){const s=r[h];if(Xn(t,s)&&t[s]!=null)return t[s]}return l}function Mo(t){return new Error(`unhandled node type: ${t}`)}const GL=t=>t;let ya=pe();function Ts(t){return le(t)&&Kl(t)===0&&(Xn(t,"b")||Xn(t,"body"))}function UL(t,r={}){let l=!1;const h=r.onError||nL;return r.onError=s=>{l=!0,h(s)},{...xL(t,r),detectError:l}}function HL(t,r){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&bt(t)){ae(r.warnHtmlMessage)&&r.warnHtmlMessage;const h=(r.onCacheKey||GL)(t),s=ya[h];if(s)return s;const{ast:c,detectError:g}=UL(t,{...r,location:!1,jit:!0}),_=Vu(c);return g?_:ya[h]=_}else{const l=t.cacheKey;if(l){const h=ya[l];return h||(ya[l]=Vu(t))}else return Vu(t)}}let Oo=null;function ZL(t){Oo=t}function qL(t,r,l){Oo&&Oo.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:r,meta:l})}const YL=VL("function:translate");function VL(t){return r=>Oo&&Oo.emit(t,r)}const Ni={INVALID_ARGUMENT:eL,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},WL=24;function Mi(t){return hu(t,null,void 0)}function Jl(t,r){return r.locale!=null?Bh(r.locale):Bh(t.locale)}let Wu;function Bh(t){if(bt(t))return t;if(xe(t)){if(t.resolvedOnce&&Wu!=null)return Wu;if(t.constructor.name==="Function"){const r=t();if(K0(r))throw Mi(Ni.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Wu=r}else throw Mi(Ni.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Mi(Ni.NOT_SUPPORT_LOCALE_TYPE)}function $L(t,r,l){return[...new Set([l,...Re(r)?r:le(r)?Object.keys(r):bt(r)?[r]:[l]])]}function ng(t,r,l){const h=bt(l)?l:Ro,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let c=s.__localeChainCache.get(h);if(!c){c=[];let g=[l];for(;Re(g);)g=Gh(c,g,r);const _=Re(r)||!te(r)?r:r.default?r.default:null;g=bt(_)?[_]:_,Re(g)&&Gh(c,g,!1),s.__localeChainCache.set(h,c)}return c}function Gh(t,r,l){let h=!0;for(let s=0;s<r.length&&ae(h);s++){const c=r[s];bt(c)&&(h=XL(t,r[s],l))}return h}function XL(t,r,l){let h;const s=r.split("-");do{const c=s.join("-");h=jL(t,c,l),s.splice(-1,1)}while(s.length&&h===!0);return h}function jL(t,r,l){let h=!1;if(!t.includes(r)&&(h=!0,r)){h=r[r.length-1]!=="!";const s=r.replace(/!/g,"");t.push(s),(Re(l)||te(l))&&l[s]&&(h=l[s])}return h}const or=[];or[0]={w:[0],i:[3,0],"[":[4],o:[7]};or[1]={w:[1],".":[2],"[":[4],o:[7]};or[2]={w:[2],i:[3,0],0:[3,0]};or[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};or[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};or[5]={"'":[4,0],o:8,l:[5,0]};or[6]={'"':[4,0],o:8,l:[6,0]};const KL=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function JL(t){return KL.test(t)}function QL(t){const r=t.charCodeAt(0),l=t.charCodeAt(t.length-1);return r===l&&(r===34||r===39)?t.slice(1,-1):t}function tE(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function eE(t){const r=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:JL(r)?QL(r):"*"+r}function nE(t){const r=[];let l=-1,h=0,s=0,c,g,_,v,x,E,k;const I=[];I[0]=()=>{g===void 0?g=_:g+=_},I[1]=()=>{g!==void 0&&(r.push(g),g=void 0)},I[2]=()=>{I[0](),s++},I[3]=()=>{if(s>0)s--,h=4,I[0]();else{if(s=0,g===void 0||(g=eE(g),g===!1))return!1;I[1]()}};function N(){const O=t[l+1];if(h===5&&O==="'"||h===6&&O==='"')return l++,_="\\"+O,I[0](),!0}for(;h!==null;)if(l++,c=t[l],!(c==="\\"&&N())){if(v=tE(c),k=or[h],x=k[v]||k.l||8,x===8||(h=x[0],x[1]!==void 0&&(E=I[x[1]],E&&(_=c,E()===!1))))return;if(h===7)return r}}const Uh=new Map;function iE(t,r){return le(t)?t[r]:null}function rE(t,r){if(!le(t))return null;let l=Uh.get(r);if(l||(l=nE(r),l&&Uh.set(r,l)),!l)return null;const h=l.length;let s=t,c=0;for(;c<h;){const g=s[l[c]];if(g===void 0||xe(s))return null;s=g,c++}return s}const sE="10.0.5",fu=-1,Ro="en-US",Hh="",Zh=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function oE(){return{upper:(t,r)=>r==="text"&&bt(t)?t.toUpperCase():r==="vnode"&&le(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,r)=>r==="text"&&bt(t)?t.toLowerCase():r==="vnode"&&le(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,r)=>r==="text"&&bt(t)?Zh(t):r==="vnode"&&le(t)&&"__v_isVNode"in t?Zh(t.children):t}}let ig;function aE(t){ig=t}let rg;function uE(t){rg=t}let sg;function lE(t){sg=t}let og=null;const cE=t=>{og=t},hE=()=>og;let ag=null;const qh=t=>{ag=t},fE=()=>ag;let Yh=0;function dE(t={}){const r=xe(t.onWarn)?t.onWarn:Q0,l=bt(t.version)?t.version:sE,h=bt(t.locale)||xe(t.locale)?t.locale:Ro,s=xe(h)?Ro:h,c=Re(t.fallbackLocale)||te(t.fallbackLocale)||bt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,g=te(t.messages)?t.messages:$u(s),_=te(t.datetimeFormats)?t.datetimeFormats:$u(s),v=te(t.numberFormats)?t.numberFormats:$u(s),x=Ze(pe(),t.modifiers,oE()),E=t.pluralRules||pe(),k=xe(t.missing)?t.missing:null,I=ae(t.missingWarn)||ws(t.missingWarn)?t.missingWarn:!0,N=ae(t.fallbackWarn)||ws(t.fallbackWarn)?t.fallbackWarn:!0,O=!!t.fallbackFormat,Z=!!t.unresolving,j=xe(t.postTranslation)?t.postTranslation:null,A=te(t.processor)?t.processor:null,z=ae(t.warnHtmlMessage)?t.warnHtmlMessage:!0,G=!!t.escapeParameter,B=xe(t.messageCompiler)?t.messageCompiler:ig,X=xe(t.messageResolver)?t.messageResolver:rg||iE,W=xe(t.localeFallbacker)?t.localeFallbacker:sg||$L,Y=le(t.fallbackContext)?t.fallbackContext:void 0,ht=t,ct=le(ht.__datetimeFormatters)?ht.__datetimeFormatters:new Map,Ot=le(ht.__numberFormatters)?ht.__numberFormatters:new Map,Pt=le(ht.__meta)?ht.__meta:{};Yh++;const Tt={version:l,cid:Yh,locale:h,fallbackLocale:c,messages:g,modifiers:x,pluralRules:E,missing:k,missingWarn:I,fallbackWarn:N,fallbackFormat:O,unresolving:Z,postTranslation:j,processor:A,warnHtmlMessage:z,escapeParameter:G,messageCompiler:B,messageResolver:X,localeFallbacker:W,fallbackContext:Y,onWarn:r,__meta:Pt};return Tt.datetimeFormats=_,Tt.numberFormats=v,Tt.__datetimeFormatters=ct,Tt.__numberFormatters=Ot,__INTLIFY_PROD_DEVTOOLS__&&qL(Tt,l,Pt),Tt}const $u=t=>({[t]:pe()});function Ql(t,r,l,h,s){const{missing:c,onWarn:g}=t;if(c!==null){const _=c(t,l,r,s);return bt(_)?_:r}else return r}function uo(t,r,l){const h=t;h.__localeChainCache=new Map,t.localeFallbacker(t,l,r)}function gE(t,r){return t===r?!1:t.split("-")[0]===r.split("-")[0]}function _E(t,r){const l=r.indexOf(t);if(l===-1)return!1;for(let h=l+1;h<r.length;h++)if(gE(t,r[h]))return!0;return!1}function Vh(t,...r){const{datetimeFormats:l,unresolving:h,fallbackLocale:s,onWarn:c,localeFallbacker:g}=t,{__datetimeFormatters:_}=t,[v,x,E,k]=pl(...r),I=ae(E.missingWarn)?E.missingWarn:t.missingWarn;ae(E.fallbackWarn)?E.fallbackWarn:t.fallbackWarn;const N=!!E.part,O=Jl(t,E),Z=g(t,s,O);if(!bt(v)||v==="")return new Intl.DateTimeFormat(O,k).format(x);let j={},A,z=null;const G="datetime format";for(let W=0;W<Z.length&&(A=Z[W],j=l[A]||{},z=j[v],!te(z));W++)Ql(t,v,A,I,G);if(!te(z)||!bt(A))return h?fu:v;let B=`${A}__${v}`;cu(k)||(B=`${B}__${JSON.stringify(k)}`);let X=_.get(B);return X||(X=new Intl.DateTimeFormat(A,Ze({},z,k)),_.set(B,X)),N?X.formatToParts(x):X.format(x)}const ug=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function pl(...t){const[r,l,h,s]=t,c=pe();let g=pe(),_;if(bt(r)){const v=r.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!v)throw Mi(Ni.INVALID_ISO_DATE_ARGUMENT);const x=v[3]?v[3].trim().startsWith("T")?`${v[1].trim()}${v[3].trim()}`:`${v[1].trim()}T${v[3].trim()}`:v[1].trim();_=new Date(x);try{_.toISOString()}catch{throw Mi(Ni.INVALID_ISO_DATE_ARGUMENT)}}else if($0(r)){if(isNaN(r.getTime()))throw Mi(Ni.INVALID_DATE_ARGUMENT);_=r}else if(De(r))_=r;else throw Mi(Ni.INVALID_ARGUMENT);return bt(l)?c.key=l:te(l)&&Object.keys(l).forEach(v=>{ug.includes(v)?g[v]=l[v]:c[v]=l[v]}),bt(h)?c.locale=h:te(h)&&(g=h),te(s)&&(g=s),[c.key||"",_,c,g]}function Wh(t,r,l){const h=t;for(const s in l){const c=`${r}__${s}`;h.__datetimeFormatters.has(c)&&h.__datetimeFormatters.delete(c)}}function $h(t,...r){const{numberFormats:l,unresolving:h,fallbackLocale:s,onWarn:c,localeFallbacker:g}=t,{__numberFormatters:_}=t,[v,x,E,k]=vl(...r),I=ae(E.missingWarn)?E.missingWarn:t.missingWarn;ae(E.fallbackWarn)?E.fallbackWarn:t.fallbackWarn;const N=!!E.part,O=Jl(t,E),Z=g(t,s,O);if(!bt(v)||v==="")return new Intl.NumberFormat(O,k).format(x);let j={},A,z=null;const G="number format";for(let W=0;W<Z.length&&(A=Z[W],j=l[A]||{},z=j[v],!te(z));W++)Ql(t,v,A,I,G);if(!te(z)||!bt(A))return h?fu:v;let B=`${A}__${v}`;cu(k)||(B=`${B}__${JSON.stringify(k)}`);let X=_.get(B);return X||(X=new Intl.NumberFormat(A,Ze({},z,k)),_.set(B,X)),N?X.formatToParts(x):X.format(x)}const lg=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function vl(...t){const[r,l,h,s]=t,c=pe();let g=pe();if(!De(r))throw Mi(Ni.INVALID_ARGUMENT);const _=r;return bt(l)?c.key=l:te(l)&&Object.keys(l).forEach(v=>{lg.includes(v)?g[v]=l[v]:c[v]=l[v]}),bt(h)?c.locale=h:te(h)&&(g=h),te(s)&&(g=s),[c.key||"",_,c,g]}function Xh(t,r,l){const h=t;for(const s in l){const c=`${r}__${s}`;h.__numberFormatters.has(c)&&h.__numberFormatters.delete(c)}}const mE=t=>t,pE=t=>"",vE="text",yE=t=>t.length===0?"":Xl(t),LE=J0;function jh(t,r){return t=Math.abs(t),r===2?t?t>1?1:0:1:t?Math.min(t,2):0}function EE(t){const r=De(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(De(t.named.count)||De(t.named.n))?De(t.named.count)?t.named.count:De(t.named.n)?t.named.n:r:r}function kE(t,r){r.count||(r.count=t),r.n||(r.n=t)}function xE(t={}){const r=t.locale,l=EE(t),h=le(t.pluralRules)&&bt(r)&&xe(t.pluralRules[r])?t.pluralRules[r]:jh,s=le(t.pluralRules)&&bt(r)&&xe(t.pluralRules[r])?jh:void 0,c=A=>A[h(l,A.length,s)],g=t.list||[],_=A=>g[A],v=t.named||pe();De(t.pluralIndex)&&kE(l,v);const x=A=>v[A];function E(A,z){const G=xe(t.messages)?t.messages(A,!!z):le(t.messages)?t.messages[A]:!1;return G||(t.parent?t.parent.message(A):pE)}const k=A=>t.modifiers?t.modifiers[A]:mE,I=te(t.processor)&&xe(t.processor.normalize)?t.processor.normalize:yE,N=te(t.processor)&&xe(t.processor.interpolate)?t.processor.interpolate:LE,O=te(t.processor)&&bt(t.processor.type)?t.processor.type:vE,j={list:_,named:x,plural:c,linked:(A,...z)=>{const[G,B]=z;let X="text",W="";z.length===1?le(G)?(W=G.modifier||W,X=G.type||X):bt(G)&&(W=G||W):z.length===2&&(bt(G)&&(W=G||W),bt(B)&&(X=B||X));const Y=E(A,!0)(j),ht=X==="vnode"&&Re(Y)&&W?Y[0]:Y;return W?k(W)(ht,X):ht},message:E,type:O,interpolate:N,normalize:I,values:Ze(pe(),g,v)};return j}const Kh=()=>"",Hn=t=>xe(t);function Jh(t,...r){const{fallbackFormat:l,postTranslation:h,unresolving:s,messageCompiler:c,fallbackLocale:g,messages:_}=t,[v,x]=yl(...r),E=ae(x.missingWarn)?x.missingWarn:t.missingWarn,k=ae(x.fallbackWarn)?x.fallbackWarn:t.fallbackWarn,I=ae(x.escapeParameter)?x.escapeParameter:t.escapeParameter,N=!!x.resolvedMessage,O=bt(x.default)||ae(x.default)?ae(x.default)?c?v:()=>v:x.default:l?c?v:()=>v:null,Z=l||O!=null&&(bt(O)||xe(O)),j=Jl(t,x);I&&wE(x);let[A,z,G]=N?[v,j,_[j]||pe()]:cg(t,v,j,g,k,E),B=A,X=v;if(!N&&!(bt(B)||Ts(B)||Hn(B))&&Z&&(B=O,X=B),!N&&(!(bt(B)||Ts(B)||Hn(B))||!bt(z)))return s?fu:v;let W=!1;const Y=()=>{W=!0},ht=Hn(B)?B:hg(t,v,z,B,X,Y);if(W)return B;const ct=IE(t,z,G,x),Ot=xE(ct),Pt=bE(t,ht,Ot),Tt=h?h(Pt,v):Pt;if(__INTLIFY_PROD_DEVTOOLS__){const jt={timestamp:Date.now(),key:bt(v)?v:Hn(B)?B.key:"",locale:z||(Hn(B)?B.locale:""),format:bt(B)?B:Hn(B)?B.source:"",message:Tt};jt.meta=Ze({},t.__meta,hE()||{}),YL(jt)}return Tt}function wE(t){Re(t.list)?t.list=t.list.map(r=>bt(r)?Rh(r):r):le(t.named)&&Object.keys(t.named).forEach(r=>{bt(t.named[r])&&(t.named[r]=Rh(t.named[r]))})}function cg(t,r,l,h,s,c){const{messages:g,onWarn:_,messageResolver:v,localeFallbacker:x}=t,E=x(t,h,l);let k=pe(),I,N=null;const O="translate";for(let Z=0;Z<E.length&&(I=E[Z],k=g[I]||pe(),(N=v(k,r))===null&&(N=k[r]),!(bt(N)||Ts(N)||Hn(N)));Z++)if(!_E(I,E)){const j=Ql(t,r,I,c,O);j!==r&&(N=j)}return[N,I,k]}function hg(t,r,l,h,s,c){const{messageCompiler:g,warnHtmlMessage:_}=t;if(Hn(h)){const x=h;return x.locale=x.locale||l,x.key=x.key||r,x}if(g==null){const x=()=>h;return x.locale=l,x.key=r,x}const v=g(h,TE(t,l,s,h,_,c));return v.locale=l,v.key=r,v.source=h,v}function bE(t,r,l){return r(l)}function yl(...t){const[r,l,h]=t,s=pe();if(!bt(r)&&!De(r)&&!Hn(r)&&!Ts(r))throw Mi(Ni.INVALID_ARGUMENT);const c=De(r)?String(r):(Hn(r),r);return De(l)?s.plural=l:bt(l)?s.default=l:te(l)&&!cu(l)?s.named=l:Re(l)&&(s.list=l),De(h)?s.plural=h:bt(h)?s.default=h:te(h)&&Ze(s,h),[c,s]}function TE(t,r,l,h,s,c){return{locale:r,key:l,warnHtmlMessage:s,onError:g=>{throw c&&c(g),g},onCacheKey:g=>V0(r,l,g)}}function IE(t,r,l,h){const{modifiers:s,pluralRules:c,messageResolver:g,fallbackLocale:_,fallbackWarn:v,missingWarn:x,fallbackContext:E}=t,I={locale:r,modifiers:s,pluralRules:c,messages:(N,O)=>{let Z=g(l,N);if(Z==null&&(E||O)){const[,,j]=cg(E||t,N,r,_,v,x);Z=g(j,N)}if(bt(Z)||Ts(Z)){let j=!1;const z=hg(t,N,r,Z,N,()=>{j=!0});return j?Kh:z}else return Hn(Z)?Z:Kh}};return t.processor&&(I.processor=t.processor),h.list&&(I.list=h.list),h.named&&(I.named=h.named),De(h.plural)&&(I.pluralIndex=h.plural),I}wL();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const SE="10.0.5";function PE(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ir().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ir().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ir().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ir().__INTLIFY_PROD_DEVTOOLS__=!1)}const pn={UNEXPECTED_RETURN_TYPE:WL,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function bn(t,...r){return hu(t,null,void 0)}const Ll=rr("__translateVNode"),El=rr("__datetimeParts"),kl=rr("__numberParts"),fg=rr("__setPluralRules"),dg=rr("__injectWithOption"),xl=rr("__dispose");function Ao(t){if(!le(t))return t;for(const r in t)if(Xn(t,r))if(!r.includes("."))le(t[r])&&Ao(t[r]);else{const l=r.split("."),h=l.length-1;let s=t,c=!1;for(let g=0;g<h;g++){if(l[g]in s||(s[l[g]]=pe()),!le(s[l[g]])){c=!0;break}s=s[l[g]]}c||(s[l[h]]=t[r],delete t[r]),le(s[l[h]])&&Ao(s[l[h]])}return t}function tc(t,r){const{messages:l,__i18n:h,messageResolver:s,flatJson:c}=r,g=te(l)?l:Re(h)?pe():{[t]:pe()};if(Re(h)&&h.forEach(_=>{if("locale"in _&&"resource"in _){const{locale:v,resource:x}=_;v?(g[v]=g[v]||pe(),Ia(x,g[v])):Ia(x,g)}else bt(_)&&Ia(JSON.parse(_),g)}),s==null&&c)for(const _ in g)Xn(g,_)&&Ao(g[_]);return g}function gg(t){return t.type}function _g(t,r,l){let h=le(r.messages)?r.messages:pe();"__i18nGlobal"in l&&(h=tc(t.locale.value,{messages:h,__i18n:l.__i18nGlobal}));const s=Object.keys(h);s.length&&s.forEach(c=>{t.mergeLocaleMessage(c,h[c])});{if(le(r.datetimeFormats)){const c=Object.keys(r.datetimeFormats);c.length&&c.forEach(g=>{t.mergeDateTimeFormat(g,r.datetimeFormats[g])})}if(le(r.numberFormats)){const c=Object.keys(r.numberFormats);c.length&&c.forEach(g=>{t.mergeNumberFormat(g,r.numberFormats[g])})}}}function Qh(t){return Se(Go,null,t,0)}const tf="__INTLIFY_META__",ef=()=>[],CE=()=>!1;let nf=0;function rf(t){return(r,l,h,s)=>t(l,h,vs()||void 0,s)}const NE=()=>{const t=vs();let r=null;return t&&(r=gg(t)[tf])?{[tf]:r}:null};function ec(t={}){const{__root:r,__injectWithOption:l}=t,h=r===void 0,s=t.flatJson,c=Va?Zt:_s;let g=ae(t.inheritLocale)?t.inheritLocale:!0;const _=c(r&&g?r.locale.value:bt(t.locale)?t.locale:Ro),v=c(r&&g?r.fallbackLocale.value:bt(t.fallbackLocale)||Re(t.fallbackLocale)||te(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:_.value),x=c(tc(_.value,t)),E=c(te(t.datetimeFormats)?t.datetimeFormats:{[_.value]:{}}),k=c(te(t.numberFormats)?t.numberFormats:{[_.value]:{}});let I=r?r.missingWarn:ae(t.missingWarn)||ws(t.missingWarn)?t.missingWarn:!0,N=r?r.fallbackWarn:ae(t.fallbackWarn)||ws(t.fallbackWarn)?t.fallbackWarn:!0,O=r?r.fallbackRoot:ae(t.fallbackRoot)?t.fallbackRoot:!0,Z=!!t.fallbackFormat,j=xe(t.missing)?t.missing:null,A=xe(t.missing)?rf(t.missing):null,z=xe(t.postTranslation)?t.postTranslation:null,G=r?r.warnHtmlMessage:ae(t.warnHtmlMessage)?t.warnHtmlMessage:!0,B=!!t.escapeParameter;const X=r?r.modifiers:te(t.modifiers)?t.modifiers:{};let W=t.pluralRules||r&&r.pluralRules,Y;Y=(()=>{h&&qh(null);const H={version:SE,locale:_.value,fallbackLocale:v.value,messages:x.value,modifiers:X,pluralRules:W,missing:A===null?void 0:A,missingWarn:I,fallbackWarn:N,fallbackFormat:Z,unresolving:!0,postTranslation:z===null?void 0:z,warnHtmlMessage:G,escapeParameter:B,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};H.datetimeFormats=E.value,H.numberFormats=k.value,H.__datetimeFormatters=te(Y)?Y.__datetimeFormatters:void 0,H.__numberFormatters=te(Y)?Y.__numberFormatters:void 0;const et=dE(H);return h&&qh(et),et})(),uo(Y,_.value,v.value);function ct(){return[_.value,v.value,x.value,E.value,k.value]}const Ot=fe({get:()=>_.value,set:H=>{_.value=H,Y.locale=_.value}}),Pt=fe({get:()=>v.value,set:H=>{v.value=H,Y.fallbackLocale=v.value,uo(Y,_.value,H)}}),Tt=fe(()=>x.value),jt=fe(()=>E.value),dt=fe(()=>k.value);function Gt(){return xe(z)?z:null}function It(H){z=H,Y.postTranslation=H}function Nt(){return j}function ft(H){H!==null&&(A=rf(H)),j=H,Y.missing=A}const Kt=(H,et,xt,zt,mt,be)=>{ct();let Rt;try{__INTLIFY_PROD_DEVTOOLS__,h||(Y.fallbackContext=r?fE():void 0),Rt=H(Y)}finally{__INTLIFY_PROD_DEVTOOLS__,h||(Y.fallbackContext=void 0)}if(xt!=="translate exists"&&De(Rt)&&Rt===fu||xt==="translate exists"&&!Rt){const[Mt,un]=et();return r&&O?zt(r):mt(Mt)}else{if(be(Rt))return Rt;throw bn(pn.UNEXPECTED_RETURN_TYPE)}};function st(...H){return Kt(et=>Reflect.apply(Jh,null,[et,...H]),()=>yl(...H),"translate",et=>Reflect.apply(et.t,et,[...H]),et=>et,et=>bt(et))}function Ft(...H){const[et,xt,zt]=H;if(zt&&!le(zt))throw bn(pn.INVALID_ARGUMENT);return st(et,xt,Ze({resolvedMessage:!0},zt||{}))}function Ut(...H){return Kt(et=>Reflect.apply(Vh,null,[et,...H]),()=>pl(...H),"datetime format",et=>Reflect.apply(et.d,et,[...H]),()=>Hh,et=>bt(et))}function Qt(...H){return Kt(et=>Reflect.apply($h,null,[et,...H]),()=>vl(...H),"number format",et=>Reflect.apply(et.n,et,[...H]),()=>Hh,et=>bt(et))}function kt(H){return H.map(et=>bt(et)||De(et)||ae(et)?Qh(String(et)):et)}const Bt={normalize:kt,interpolate:H=>H,type:"vnode"};function it(...H){return Kt(et=>{let xt;const zt=et;try{zt.processor=Bt,xt=Reflect.apply(Jh,null,[zt,...H])}finally{zt.processor=null}return xt},()=>yl(...H),"translate",et=>et[Ll](...H),et=>[Qh(et)],et=>Re(et))}function F(...H){return Kt(et=>Reflect.apply($h,null,[et,...H]),()=>vl(...H),"number format",et=>et[kl](...H),ef,et=>bt(et)||Re(et))}function yt(...H){return Kt(et=>Reflect.apply(Vh,null,[et,...H]),()=>pl(...H),"datetime format",et=>et[El](...H),ef,et=>bt(et)||Re(et))}function gt(H){W=H,Y.pluralRules=W}function _t(H,et){return Kt(()=>{if(!H)return!1;const xt=bt(et)?et:_.value,zt=$(xt),mt=Y.messageResolver(zt,H);return Ts(mt)||Hn(mt)||bt(mt)},()=>[H],"translate exists",xt=>Reflect.apply(xt.te,xt,[H,et]),CE,xt=>ae(xt))}function T(H){let et=null;const xt=ng(Y,v.value,_.value);for(let zt=0;zt<xt.length;zt++){const mt=x.value[xt[zt]]||{},be=Y.messageResolver(mt,H);if(be!=null){et=be;break}}return et}function D(H){const et=T(H);return et??(r?r.tm(H)||{}:{})}function $(H){return x.value[H]||{}}function nt(H,et){if(s){const xt={[H]:et};for(const zt in xt)Xn(xt,zt)&&Ao(xt[zt]);et=xt[H]}x.value[H]=et,Y.messages=x.value}function ot(H,et){x.value[H]=x.value[H]||{};const xt={[H]:et};if(s)for(const zt in xt)Xn(xt,zt)&&Ao(xt[zt]);et=xt[H],Ia(et,x.value[H]),Y.messages=x.value}function rt(H){return E.value[H]||{}}function R(H,et){E.value[H]=et,Y.datetimeFormats=E.value,Wh(Y,H,et)}function C(H,et){E.value[H]=Ze(E.value[H]||{},et),Y.datetimeFormats=E.value,Wh(Y,H,et)}function V(H){return k.value[H]||{}}function Q(H,et){k.value[H]=et,Y.numberFormats=k.value,Xh(Y,H,et)}function vt(H,et){k.value[H]=Ze(k.value[H]||{},et),Y.numberFormats=k.value,Xh(Y,H,et)}nf++,r&&Va&&(nn(r.locale,H=>{g&&(_.value=H,Y.locale=H,uo(Y,_.value,v.value))}),nn(r.fallbackLocale,H=>{g&&(v.value=H,Y.fallbackLocale=H,uo(Y,_.value,v.value))}));const at={id:nf,locale:Ot,fallbackLocale:Pt,get inheritLocale(){return g},set inheritLocale(H){g=H,H&&r&&(_.value=r.locale.value,v.value=r.fallbackLocale.value,uo(Y,_.value,v.value))},get availableLocales(){return Object.keys(x.value).sort()},messages:Tt,get modifiers(){return X},get pluralRules(){return W||{}},get isGlobal(){return h},get missingWarn(){return I},set missingWarn(H){I=H,Y.missingWarn=I},get fallbackWarn(){return N},set fallbackWarn(H){N=H,Y.fallbackWarn=N},get fallbackRoot(){return O},set fallbackRoot(H){O=H},get fallbackFormat(){return Z},set fallbackFormat(H){Z=H,Y.fallbackFormat=Z},get warnHtmlMessage(){return G},set warnHtmlMessage(H){G=H,Y.warnHtmlMessage=H},get escapeParameter(){return B},set escapeParameter(H){B=H,Y.escapeParameter=H},t:st,getLocaleMessage:$,setLocaleMessage:nt,mergeLocaleMessage:ot,getPostTranslationHandler:Gt,setPostTranslationHandler:It,getMissingHandler:Nt,setMissingHandler:ft,[fg]:gt};return at.datetimeFormats=jt,at.numberFormats=dt,at.rt=Ft,at.te=_t,at.tm=D,at.d=Ut,at.n=Qt,at.getDateTimeFormat=rt,at.setDateTimeFormat=R,at.mergeDateTimeFormat=C,at.getNumberFormat=V,at.setNumberFormat=Q,at.mergeNumberFormat=vt,at[dg]=l,at[Ll]=it,at[El]=yt,at[kl]=F,at}function ME(t){const r=bt(t.locale)?t.locale:Ro,l=bt(t.fallbackLocale)||Re(t.fallbackLocale)||te(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,h=xe(t.missing)?t.missing:void 0,s=ae(t.silentTranslationWarn)||ws(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,c=ae(t.silentFallbackWarn)||ws(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,g=ae(t.fallbackRoot)?t.fallbackRoot:!0,_=!!t.formatFallbackMessages,v=te(t.modifiers)?t.modifiers:{},x=t.pluralizationRules,E=xe(t.postTranslation)?t.postTranslation:void 0,k=bt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,I=!!t.escapeParameterHtml,N=ae(t.sync)?t.sync:!0;let O=t.messages;if(te(t.sharedMessages)){const X=t.sharedMessages;O=Object.keys(X).reduce((Y,ht)=>{const ct=Y[ht]||(Y[ht]={});return Ze(ct,X[ht]),Y},O||{})}const{__i18n:Z,__root:j,__injectWithOption:A}=t,z=t.datetimeFormats,G=t.numberFormats,B=t.flatJson;return{locale:r,fallbackLocale:l,messages:O,flatJson:B,datetimeFormats:z,numberFormats:G,missing:h,missingWarn:s,fallbackWarn:c,fallbackRoot:g,fallbackFormat:_,modifiers:v,pluralRules:x,postTranslation:E,warnHtmlMessage:k,escapeParameter:I,messageResolver:t.messageResolver,inheritLocale:N,__i18n:Z,__root:j,__injectWithOption:A}}function wl(t={}){const r=ec(ME(t)),{__extender:l}=t,h={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return ae(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=ae(s)?!s:s},get silentFallbackWarn(){return ae(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=ae(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){return Reflect.apply(r.t,r,[...s])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[c,g,_]=s,v={plural:1};let x=null,E=null;if(!bt(c))throw bn(pn.INVALID_ARGUMENT);const k=c;return bt(g)?v.locale=g:De(g)?v.plural=g:Re(g)?x=g:te(g)&&(E=g),bt(_)?v.locale=_:Re(_)?x=_:te(_)&&(E=_),Reflect.apply(r.t,r,[k,x||E||{},v])},te(s,c){return r.te(s,c)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,c){r.setLocaleMessage(s,c)},mergeLocaleMessage(s,c){r.mergeLocaleMessage(s,c)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,c){r.setDateTimeFormat(s,c)},mergeDateTimeFormat(s,c){r.mergeDateTimeFormat(s,c)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,c){r.setNumberFormat(s,c)},mergeNumberFormat(s,c){r.mergeNumberFormat(s,c)}};return h.__extender=l,h}function OE(t,r,l){return{beforeCreate(){const h=vs();if(!h)throw bn(pn.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const c=s.i18n;if(s.__i18n&&(c.__i18n=s.__i18n),c.__root=r,this===this.$root)this.$i18n=sf(t,c);else{c.__injectWithOption=!0,c.__extender=l.__vueI18nExtend,this.$i18n=wl(c);const g=this.$i18n;g.__extender&&(g.__disposer=g.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=sf(t,s);else{this.$i18n=wl({__i18n:s.__i18n,__injectWithOption:!0,__extender:l.__vueI18nExtend,__root:r});const c=this.$i18n;c.__extender&&(c.__disposer=c.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&_g(r,s,s),this.$t=(...c)=>this.$i18n.t(...c),this.$rt=(...c)=>this.$i18n.rt(...c),this.$tc=(...c)=>this.$i18n.tc(...c),this.$te=(c,g)=>this.$i18n.te(c,g),this.$d=(...c)=>this.$i18n.d(...c),this.$n=(...c)=>this.$i18n.n(...c),this.$tm=c=>this.$i18n.tm(c),l.__setInstance(h,this.$i18n)},mounted(){},unmounted(){const h=vs();if(!h)throw bn(pn.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),l.__deleteInstance(h),delete this.$i18n}}}function sf(t,r){t.locale=r.locale||t.locale,t.fallbackLocale=r.fallbackLocale||t.fallbackLocale,t.missing=r.missing||t.missing,t.silentTranslationWarn=r.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=r.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=r.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=r.postTranslation||t.postTranslation,t.warnHtmlInMessage=r.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=r.escapeParameterHtml||t.escapeParameterHtml,t.sync=r.sync||t.sync,t.__composer[fg](r.pluralizationRules||t.pluralizationRules);const l=tc(t.locale,{messages:r.messages,__i18n:r.__i18n});return Object.keys(l).forEach(h=>t.mergeLocaleMessage(h,l[h])),r.datetimeFormats&&Object.keys(r.datetimeFormats).forEach(h=>t.mergeDateTimeFormat(h,r.datetimeFormats[h])),r.numberFormats&&Object.keys(r.numberFormats).forEach(h=>t.mergeNumberFormat(h,r.numberFormats[h])),t}const nc={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function RE({slots:t},r){return r.length===1&&r[0]==="default"?(t.default?t.default():[]).reduce((h,s)=>[...h,...s.type===xn?s.children:[s]],[]):r.reduce((l,h)=>{const s=t[h];return s&&(l[h]=s()),l},pe())}function mg(){return xn}const AE=Is({name:"i18n-t",props:Ze({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>De(t)||!isNaN(t)}},nc),setup(t,r){const{slots:l,attrs:h}=r,s=t.i18n||ic({useScope:t.scope,__useComponent:!0});return()=>{const c=Object.keys(l).filter(k=>k!=="_"),g=pe();t.locale&&(g.locale=t.locale),t.plural!==void 0&&(g.plural=bt(t.plural)?+t.plural:t.plural);const _=RE(r,c),v=s[Ll](t.keypath,_,g),x=Ze(pe(),h),E=bt(t.tag)||le(t.tag)?t.tag:mg();return au(E,x,v)}}}),of=AE;function DE(t){return Re(t)&&!bt(t[0])}function pg(t,r,l,h){const{slots:s,attrs:c}=r;return()=>{const g={part:!0};let _=pe();t.locale&&(g.locale=t.locale),bt(t.format)?g.key=t.format:le(t.format)&&(bt(t.format.key)&&(g.key=t.format.key),_=Object.keys(t.format).reduce((I,N)=>l.includes(N)?Ze(pe(),I,{[N]:t.format[N]}):I,pe()));const v=h(t.value,g,_);let x=[g.key];Re(v)?x=v.map((I,N)=>{const O=s[I.type],Z=O?O({[I.type]:I.value,index:N,parts:v}):[I.value];return DE(Z)&&(Z[0].key=`${I.type}-${N}`),Z}):bt(v)&&(x=[v]);const E=Ze(pe(),c),k=bt(t.tag)||le(t.tag)?t.tag:mg();return au(k,E,x)}}const FE=Is({name:"i18n-n",props:Ze({value:{type:Number,required:!0},format:{type:[String,Object]}},nc),setup(t,r){const l=t.i18n||ic({useScope:t.scope,__useComponent:!0});return pg(t,r,lg,(...h)=>l[kl](...h))}}),af=FE,zE=Is({name:"i18n-d",props:Ze({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},nc),setup(t,r){const l=t.i18n||ic({useScope:t.scope,__useComponent:!0});return pg(t,r,ug,(...h)=>l[El](...h))}}),uf=zE;function BE(t,r){const l=t;if(t.mode==="composition")return l.__getInstance(r)||t.global;{const h=l.__getInstance(r);return h!=null?h.__composer:t.global.__composer}}function GE(t){const r=g=>{const{instance:_,value:v}=g;if(!_||!_.$)throw bn(pn.UNEXPECTED_ERROR);const x=BE(t,_.$),E=lf(v);return[Reflect.apply(x.t,x,[...cf(E)]),x]};return{created:(g,_)=>{const[v,x]=r(_);Va&&t.global===x&&(g.__i18nWatcher=nn(x.locale,()=>{_.instance&&_.instance.$forceUpdate()})),g.__composer=x,g.textContent=v},unmounted:g=>{Va&&g.__i18nWatcher&&(g.__i18nWatcher(),g.__i18nWatcher=void 0,delete g.__i18nWatcher),g.__composer&&(g.__composer=void 0,delete g.__composer)},beforeUpdate:(g,{value:_})=>{if(g.__composer){const v=g.__composer,x=lf(_);g.textContent=Reflect.apply(v.t,v,[...cf(x)])}},getSSRProps:g=>{const[_]=r(g);return{textContent:_}}}}function lf(t){if(bt(t))return{path:t};if(te(t)){if(!("path"in t))throw bn(pn.REQUIRED_VALUE,"path");return t}else throw bn(pn.INVALID_VALUE)}function cf(t){const{path:r,locale:l,args:h,choice:s,plural:c}=t,g={},_=h||{};return bt(l)&&(g.locale=l),De(s)&&(g.plural=s),De(c)&&(g.plural=c),[r,_,g]}function UE(t,r,...l){const h=te(l[0])?l[0]:{};(ae(h.globalInstall)?h.globalInstall:!0)&&([of.name,"I18nT"].forEach(c=>t.component(c,of)),[af.name,"I18nN"].forEach(c=>t.component(c,af)),[uf.name,"I18nD"].forEach(c=>t.component(c,uf))),t.directive("t",GE(r))}const HE=rr("global-vue-i18n");function ZE(t={},r){const l=__VUE_I18N_LEGACY_API__&&ae(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,h=ae(t.globalInjection)?t.globalInjection:!0,s=new Map,[c,g]=qE(t,l),_=rr("");function v(I){return s.get(I)||null}function x(I,N){s.set(I,N)}function E(I){s.delete(I)}const k={get mode(){return __VUE_I18N_LEGACY_API__&&l?"legacy":"composition"},async install(I,...N){if(I.__VUE_I18N_SYMBOL__=_,I.provide(I.__VUE_I18N_SYMBOL__,k),te(N[0])){const j=N[0];k.__composerExtend=j.__composerExtend,k.__vueI18nExtend=j.__vueI18nExtend}let O=null;!l&&h&&(O=JE(I,k.global)),__VUE_I18N_FULL_INSTALL__&&UE(I,k,...N),__VUE_I18N_LEGACY_API__&&l&&I.mixin(OE(g,g.__composer,k));const Z=I.unmount;I.unmount=()=>{O&&O(),k.dispose(),Z()}},get global(){return g},dispose(){c.stop()},__instances:s,__getInstance:v,__setInstance:x,__deleteInstance:E};return k}function ic(t={}){const r=vs();if(r==null)throw bn(pn.MUST_BE_CALL_SETUP_TOP);if(!r.isCE&&r.appContext.app!=null&&!r.appContext.app.__VUE_I18N_SYMBOL__)throw bn(pn.NOT_INSTALLED);const l=YE(r),h=WE(l),s=gg(r),c=VE(t,s);if(c==="global")return _g(h,t,s),h;if(c==="parent"){let v=$E(l,r,t.__useComponent);return v==null&&(v=h),v}const g=l;let _=g.__getInstance(r);if(_==null){const v=Ze({},t);"__i18n"in s&&(v.__i18n=s.__i18n),h&&(v.__root=h),_=ec(v),g.__composerExtend&&(_[xl]=g.__composerExtend(_)),jE(g,r,_),g.__setInstance(r,_)}return _}function qE(t,r,l){const h=Hg(),s=__VUE_I18N_LEGACY_API__&&r?h.run(()=>wl(t)):h.run(()=>ec(t));if(s==null)throw bn(pn.UNEXPECTED_ERROR);return[h,s]}function YE(t){const r=Kn(t.isCE?HE:t.appContext.app.__VUE_I18N_SYMBOL__);if(!r)throw bn(t.isCE?pn.NOT_INSTALLED_WITH_PROVIDE:pn.UNEXPECTED_ERROR);return r}function VE(t,r){return cu(t)?"__i18n"in r?"local":"global":t.useScope?t.useScope:"local"}function WE(t){return t.mode==="composition"?t.global:t.global.__composer}function $E(t,r,l=!1){let h=null;const s=r.root;let c=XE(r,l);for(;c!=null;){const g=t;if(t.mode==="composition")h=g.__getInstance(c);else if(__VUE_I18N_LEGACY_API__){const _=g.__getInstance(c);_!=null&&(h=_.__composer,l&&h&&!h[dg]&&(h=null))}if(h!=null||s===c)break;c=c.parent}return h}function XE(t,r=!1){return t==null?null:r&&t.vnode.ctx||t.parent}function jE(t,r,l){ru(()=>{},r),zl(()=>{const h=l;t.__deleteInstance(r);const s=h[xl];s&&(s(),delete h[xl])},r)}const KE=["locale","fallbackLocale","availableLocales"],hf=["t","rt","d","n","tm","te"];function JE(t,r){const l=Object.create(null);return KE.forEach(s=>{const c=Object.getOwnPropertyDescriptor(r,s);if(!c)throw bn(pn.UNEXPECTED_ERROR);const g=He(c.value)?{get(){return c.value.value},set(_){c.value.value=_}}:{get(){return c.get&&c.get()}};Object.defineProperty(l,s,g)}),t.config.globalProperties.$i18n=l,hf.forEach(s=>{const c=Object.getOwnPropertyDescriptor(r,s);if(!c||!c.value)throw bn(pn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,c)}),()=>{delete t.config.globalProperties.$i18n,hf.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}PE();aE(HL);uE(rE);lE(ng);if(__INTLIFY_PROD_DEVTOOLS__){const t=Ir();t.__INTLIFY__=!0,ZL(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const QE={fr:{title:"Taxons autour de moi",subtitle:"Rechercher des taxons autour de moi",filters:"Filtres",filtersTitle:"Filtres",radius:"Rayon",dateMin:"Date Min",dateMax:"Date Max",search:"Rechercher",reset:"Reinitialiser",searchResults:"Résultats de la recherche",noResults:"Aucun résultat",previousPage:"Page precedente",nextPage:"Page suivante",loading:"Chargement en cours ...",noObservations:"Aucune observation trouvable",noGeometry:"Aucune geometrie trouvable",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},drawGeometry:"Dessiner une geometrie",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type",default:"Par défaut",list:"Liste de taxons",config:"Configurateur"},copy:"Copier",copied:"Copié",shareLink:"Partager le lien"}},tk={en:{title:"Taxons around me",subtitle:"Search for taxons around me",filters:"Filters",filtersTitle:"Filters",radius:"Radius",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",searchResults:"Search results",noResults:"No results",previousPage:"Previous page",nextPage:"Next page",loading:"Loading...",noObservations:"No observations found",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},drawGeometry:"Draw geometry",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type",default:"Default",list:"List of species",config:"Configuration"},copy:"Copy",copied:"Copied",shareLink:"Share link"}},ek=ZE({locale:"fr",fallbackLocale:"en",messages:{...QE,...tk}}),nk=[{path:"/",component:zy},{path:"/list",component:Zy},{path:"/config",component:B0},{path:"/:pathMatch(.*)*",name:"NotFound",component:Y0}],ik=av({history:Dp(),routes:nk});Qm(rp).use(ik).use(ek).mount("#app");
