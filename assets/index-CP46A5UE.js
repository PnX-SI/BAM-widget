var p0=Object.defineProperty;var m0=(e,t,s)=>t in e?p0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Vs=(e,t,s)=>m0(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Of(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const wt={},Zo=[],lr=()=>{},g0=()=>!1,xc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Mf=e=>e.startsWith("onUpdate:"),fn=Object.assign,Af=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},v0=Object.prototype.hasOwnProperty,It=(e,t)=>v0.call(e,t),Je=Array.isArray,Yo=e=>Fl(e)==="[object Map]",ga=e=>Fl(e)==="[object Set]",Rd=e=>Fl(e)==="[object Date]",it=e=>typeof e=="function",Wt=e=>typeof e=="string",$i=e=>typeof e=="symbol",Ft=e=>e!==null&&typeof e=="object",wg=e=>(Ft(e)||it(e))&&it(e.then)&&it(e.catch),Lg=Object.prototype.toString,Fl=e=>Lg.call(e),_0=e=>Fl(e).slice(8,-1),Eg=e=>Fl(e)==="[object Object]",Rf=e=>Wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ol=Of(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tc=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},y0=/-(\w)/g,fi=Tc(e=>e.replace(y0,(t,s)=>s?s.toUpperCase():"")),b0=/\B([A-Z])/g,vs=Tc(e=>e.replace(b0,"-$1").toLowerCase()),Sc=Tc(e=>e.charAt(0).toUpperCase()+e.slice(1)),gh=Tc(e=>e?`on${Sc(e)}`:""),ei=(e,t)=>!Object.is(e,t),Ou=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},kg=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},Yu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},w0=e=>{const t=Wt(e)?Number(e):NaN;return isNaN(t)?e:t};let Dd;const Cc=()=>Dd||(Dd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zr(e){if(Je(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],i=Wt(a)?x0(a):zr(a);if(i)for(const l in i)t[l]=i[l]}return t}else if(Wt(e)||Ft(e))return e}const L0=/;(?![^(]*\))/g,E0=/:([^]+)/,k0=/\/\*[^]*?\*\//g;function x0(e){const t={};return e.replace(k0,"").split(L0).forEach(s=>{if(s){const a=s.split(E0);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Nt(e){let t="";if(Wt(e))t=e;else if(Je(e))for(let s=0;s<e.length;s++){const a=Nt(e[s]);a&&(t+=a+" ")}else if(Ft(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function xi(e){if(!e)return null;let{class:t,style:s}=e;return t&&!Wt(t)&&(e.class=Nt(t)),s&&(e.style=zr(s)),e}const T0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",S0=Of(T0);function xg(e){return!!e||e===""}function C0(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=ro(e[a],t[a]);return s}function ro(e,t){if(e===t)return!0;let s=Rd(e),a=Rd(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=$i(e),a=$i(t),s||a)return e===t;if(s=Je(e),a=Je(t),s||a)return s&&a?C0(e,t):!1;if(s=Ft(e),a=Ft(t),s||a){if(!s||!a)return!1;const i=Object.keys(e).length,l=Object.keys(t).length;if(i!==l)return!1;for(const f in e){const d=e.hasOwnProperty(f),m=t.hasOwnProperty(f);if(d&&!m||!d&&m||!ro(e[f],t[f]))return!1}}return String(e)===String(t)}function Df(e,t){return e.findIndex(s=>ro(s,t))}const Tg=e=>!!(e&&e.__v_isRef===!0),qe=e=>Wt(e)?e:e==null?"":Je(e)||Ft(e)&&(e.toString===Lg||!it(e.toString))?Tg(e)?qe(e.value):JSON.stringify(e,Sg,2):String(e),Sg=(e,t)=>Tg(t)?Sg(e,t.value):Yo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,i],l)=>(s[vh(a,l)+" =>"]=i,s),{})}:ga(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>vh(s))}:$i(t)?vh(t):Ft(t)&&!Je(t)&&!Eg(t)?String(t):t,vh=(e,t="")=>{var s;return $i(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Un;class Cg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Un,!t&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Un;try{return Un=this,t()}finally{Un=s}}}on(){Un=this}off(){Un=this.parent}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ig(e){return new Cg(e)}function Bf(){return Un}function ju(e,t=!1){Un&&Un.cleanups.push(e)}let $t;const _h=new WeakSet;class Pg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Un&&Un.active&&Un.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_h.has(this)&&(_h.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Og(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bd(this),Mg(this);const t=$t,s=Fi;$t=this,Fi=!0;try{return this.fn()}finally{Ag(this),$t=t,Fi=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$f(t);this.deps=this.depsTail=void 0,Bd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_h.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vh(this)&&this.run()}get dirty(){return Vh(this)}}let Ng=0,al,ll;function Og(e,t=!1){if(e.flags|=8,t){e.next=ll,ll=e;return}e.next=al,al=e}function Ff(){Ng++}function zf(){if(--Ng>0)return;if(ll){let t=ll;for(ll=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;al;){let t=al;for(al=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Mg(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ag(e){let t,s=e.depsTail,a=s;for(;a;){const i=a.prevDep;a.version===-1?(a===s&&(s=i),$f(a),I0(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=i}e.deps=t,e.depsTail=s}function Vh(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Rg(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Rg(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===yl))return;e.globalVersion=yl;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Vh(e)){e.flags&=-3;return}const s=$t,a=Fi;$t=e,Fi=!0;try{Mg(e);const i=e.fn(e._value);(t.version===0||ei(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{$t=s,Fi=a,Ag(e),e.flags&=-3}}function $f(e,t=!1){const{dep:s,prevSub:a,nextSub:i}=e;if(a&&(a.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)$f(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function I0(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Fi=!0;const Dg=[];function _s(){Dg.push(Fi),Fi=!1}function ys(){const e=Dg.pop();Fi=e===void 0?!0:e}function Bd(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=$t;$t=void 0;try{t()}finally{$t=s}}}let yl=0;class P0{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ic{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!$t||!Fi||$t===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==$t)s=this.activeLink=new P0($t,this),$t.deps?(s.prevDep=$t.depsTail,$t.depsTail.nextDep=s,$t.depsTail=s):$t.deps=$t.depsTail=s,Bg(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=$t.depsTail,s.nextDep=void 0,$t.depsTail.nextDep=s,$t.depsTail=s,$t.deps===s&&($t.deps=a)}return s}trigger(t){this.version++,yl++,this.notify(t)}notify(t){Ff();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{zf()}}}function Bg(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Bg(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Xu=new WeakMap,io=Symbol(""),Hh=Symbol(""),bl=Symbol("");function Cn(e,t,s){if(Fi&&$t){let a=Xu.get(e);a||Xu.set(e,a=new Map);let i=a.get(s);i||(a.set(s,i=new Ic),i.map=a,i.key=s),i.track()}}function Or(e,t,s,a,i,l){const f=Xu.get(e);if(!f){yl++;return}const d=m=>{m&&m.trigger()};if(Ff(),t==="clear")f.forEach(d);else{const m=Je(e),_=m&&Rf(s);if(m&&s==="length"){const v=Number(a);f.forEach((b,E)=>{(E==="length"||E===bl||!$i(E)&&E>=v)&&d(b)})}else switch((s!==void 0||f.has(void 0))&&d(f.get(s)),_&&d(f.get(bl)),t){case"add":m?_&&d(f.get("length")):(d(f.get(io)),Yo(e)&&d(f.get(Hh)));break;case"delete":m||(d(f.get(io)),Yo(e)&&d(f.get(Hh)));break;case"set":Yo(e)&&d(f.get(io));break}}zf()}function N0(e,t){const s=Xu.get(e);return s&&s.get(t)}function $o(e){const t=at(e);return t===e?t:(Cn(t,"iterate",bl),Si(e)?t:t.map(In))}function Pc(e){return Cn(e=at(e),"iterate",bl),e}const O0={__proto__:null,[Symbol.iterator](){return yh(this,Symbol.iterator,In)},concat(...e){return $o(this).concat(...e.map(t=>Je(t)?$o(t):t))},entries(){return yh(this,"entries",e=>(e[1]=In(e[1]),e))},every(e,t){return Tr(this,"every",e,t,void 0,arguments)},filter(e,t){return Tr(this,"filter",e,t,s=>s.map(In),arguments)},find(e,t){return Tr(this,"find",e,t,In,arguments)},findIndex(e,t){return Tr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Tr(this,"findLast",e,t,In,arguments)},findLastIndex(e,t){return Tr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Tr(this,"forEach",e,t,void 0,arguments)},includes(...e){return bh(this,"includes",e)},indexOf(...e){return bh(this,"indexOf",e)},join(e){return $o(this).join(e)},lastIndexOf(...e){return bh(this,"lastIndexOf",e)},map(e,t){return Tr(this,"map",e,t,void 0,arguments)},pop(){return Za(this,"pop")},push(...e){return Za(this,"push",e)},reduce(e,...t){return Fd(this,"reduce",e,t)},reduceRight(e,...t){return Fd(this,"reduceRight",e,t)},shift(){return Za(this,"shift")},some(e,t){return Tr(this,"some",e,t,void 0,arguments)},splice(...e){return Za(this,"splice",e)},toReversed(){return $o(this).toReversed()},toSorted(e){return $o(this).toSorted(e)},toSpliced(...e){return $o(this).toSpliced(...e)},unshift(...e){return Za(this,"unshift",e)},values(){return yh(this,"values",In)}};function yh(e,t,s){const a=Pc(e),i=a[t]();return a!==e&&!Si(e)&&(i._next=i.next,i.next=()=>{const l=i._next();return l.value&&(l.value=s(l.value)),l}),i}const M0=Array.prototype;function Tr(e,t,s,a,i,l){const f=Pc(e),d=f!==e&&!Si(e),m=f[t];if(m!==M0[t]){const b=m.apply(e,l);return d?In(b):b}let _=s;f!==e&&(d?_=function(b,E){return s.call(this,In(b),E,e)}:s.length>2&&(_=function(b,E){return s.call(this,b,E,e)}));const v=m.call(f,_,a);return d&&i?i(v):v}function Fd(e,t,s,a){const i=Pc(e);let l=s;return i!==e&&(Si(e)?s.length>3&&(l=function(f,d,m){return s.call(this,f,d,m,e)}):l=function(f,d,m){return s.call(this,f,In(d),m,e)}),i[t](l,...a)}function bh(e,t,s){const a=at(e);Cn(a,"iterate",bl);const i=a[t](...s);return(i===-1||i===!1)&&Uf(s[0])?(s[0]=at(s[0]),a[t](...s)):i}function Za(e,t,s=[]){_s(),Ff();const a=at(e)[t].apply(e,s);return zf(),ys(),a}const A0=Of("__proto__,__v_isRef,__isVue"),Fg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($i));function R0(e){$i(e)||(e=String(e));const t=at(this);return Cn(t,"has",e),t.hasOwnProperty(e)}class zg{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return l;if(s==="__v_raw")return a===(i?l?qg:Hg:l?Vg:Gg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const f=Je(t);if(!i){let m;if(f&&(m=O0[s]))return m;if(s==="hasOwnProperty")return R0}const d=Reflect.get(t,s,Dt(t)?t:a);return($i(s)?Fg.has(s):A0(s))||(i||Cn(t,"get",s),l)?d:Dt(d)?f&&Rf(s)?d:d.value:Ft(d)?i?qn(d):ni(d):d}}class $g extends zg{constructor(t=!1){super(!1,t)}set(t,s,a,i){let l=t[s];if(!this._isShallow){const m=so(l);if(!Si(a)&&!so(a)&&(l=at(l),a=at(a)),!Je(t)&&Dt(l)&&!Dt(a))return m?!1:(l.value=a,!0)}const f=Je(t)&&Rf(s)?Number(s)<t.length:It(t,s),d=Reflect.set(t,s,a,Dt(t)?t:i);return t===at(i)&&(f?ei(a,l)&&Or(t,"set",s,a):Or(t,"add",s,a)),d}deleteProperty(t,s){const a=It(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&a&&Or(t,"delete",s,void 0),i}has(t,s){const a=Reflect.has(t,s);return(!$i(s)||!Fg.has(s))&&Cn(t,"has",s),a}ownKeys(t){return Cn(t,"iterate",Je(t)?"length":io),Reflect.ownKeys(t)}}class Ug extends zg{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const D0=new $g,B0=new Ug,F0=new $g(!0),z0=new Ug(!0),qh=e=>e,du=e=>Reflect.getPrototypeOf(e);function $0(e,t,s){return function(...a){const i=this.__v_raw,l=at(i),f=Yo(l),d=e==="entries"||e===Symbol.iterator&&f,m=e==="keys"&&f,_=i[e](...a),v=s?qh:t?Wh:In;return!t&&Cn(l,"iterate",m?Hh:io),{next(){const{value:b,done:E}=_.next();return E?{value:b,done:E}:{value:d?[v(b[0]),v(b[1])]:v(b),done:E}},[Symbol.iterator](){return this}}}}function pu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function U0(e,t){const s={get(i){const l=this.__v_raw,f=at(l),d=at(i);e||(ei(i,d)&&Cn(f,"get",i),Cn(f,"get",d));const{has:m}=du(f),_=t?qh:e?Wh:In;if(m.call(f,i))return _(l.get(i));if(m.call(f,d))return _(l.get(d));l!==f&&l.get(i)},get size(){const i=this.__v_raw;return!e&&Cn(at(i),"iterate",io),Reflect.get(i,"size",i)},has(i){const l=this.__v_raw,f=at(l),d=at(i);return e||(ei(i,d)&&Cn(f,"has",i),Cn(f,"has",d)),i===d?l.has(i):l.has(i)||l.has(d)},forEach(i,l){const f=this,d=f.__v_raw,m=at(d),_=t?qh:e?Wh:In;return!e&&Cn(m,"iterate",io),d.forEach((v,b)=>i.call(l,_(v),_(b),f))}};return fn(s,e?{add:pu("add"),set:pu("set"),delete:pu("delete"),clear:pu("clear")}:{add(i){!t&&!Si(i)&&!so(i)&&(i=at(i));const l=at(this);return du(l).has.call(l,i)||(l.add(i),Or(l,"add",i,i)),this},set(i,l){!t&&!Si(l)&&!so(l)&&(l=at(l));const f=at(this),{has:d,get:m}=du(f);let _=d.call(f,i);_||(i=at(i),_=d.call(f,i));const v=m.call(f,i);return f.set(i,l),_?ei(l,v)&&Or(f,"set",i,l):Or(f,"add",i,l),this},delete(i){const l=at(this),{has:f,get:d}=du(l);let m=f.call(l,i);m||(i=at(i),m=f.call(l,i)),d&&d.call(l,i);const _=l.delete(i);return m&&Or(l,"delete",i,void 0),_},clear(){const i=at(this),l=i.size!==0,f=i.clear();return l&&Or(i,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=$0(i,e,t)}),s}function Nc(e,t){const s=U0(e,t);return(a,i,l)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?a:Reflect.get(It(s,i)&&i in a?s:a,i,l)}const G0={get:Nc(!1,!1)},V0={get:Nc(!1,!0)},H0={get:Nc(!0,!1)},q0={get:Nc(!0,!0)},Gg=new WeakMap,Vg=new WeakMap,Hg=new WeakMap,qg=new WeakMap;function W0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Z0(e){return e.__v_skip||!Object.isExtensible(e)?0:W0(_0(e))}function ni(e){return so(e)?e:Oc(e,!1,D0,G0,Gg)}function Wg(e){return Oc(e,!1,F0,V0,Vg)}function qn(e){return Oc(e,!0,B0,H0,Hg)}function Uo(e){return Oc(e,!0,z0,q0,qg)}function Oc(e,t,s,a,i){if(!Ft(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=i.get(e);if(l)return l;const f=Z0(e);if(f===0)return e;const d=new Proxy(e,f===2?a:s);return i.set(e,d),d}function jo(e){return so(e)?jo(e.__v_raw):!!(e&&e.__v_isReactive)}function so(e){return!!(e&&e.__v_isReadonly)}function Si(e){return!!(e&&e.__v_isShallow)}function Uf(e){return e?!!e.__v_raw:!1}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function cs(e){return!It(e,"__v_skip")&&Object.isExtensible(e)&&kg(e,"__v_skip",!0),e}const In=e=>Ft(e)?ni(e):e,Wh=e=>Ft(e)?qn(e):e;function Dt(e){return e?e.__v_isRef===!0:!1}function Fe(e){return Zg(e,!1)}function Nn(e){return Zg(e,!0)}function Zg(e,t){return Dt(e)?e:new Y0(e,t)}class Y0{constructor(t,s){this.dep=new Ic,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:at(t),this._value=s?t:In(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||Si(t)||so(t);t=a?t:at(t),ei(t,s)&&(this._rawValue=t,this._value=a?t:In(t),this.dep.trigger())}}function U(e){return Dt(e)?e.value:e}function ft(e){return it(e)?e():U(e)}const j0={get:(e,t,s)=>t==="__v_raw"?e:U(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const i=e[t];return Dt(i)&&!Dt(s)?(i.value=s,!0):Reflect.set(e,t,s,a)}};function Yg(e){return jo(e)?e:new Proxy(e,j0)}class X0{constructor(t){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Ic,{get:a,set:i}=t(s.track.bind(s),s.trigger.bind(s));this._get=a,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function jg(e){return new X0(e)}class K0{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return N0(at(this._object),this._key)}}class J0{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tn(e,t,s){return Dt(e)?e:it(e)?new J0(e):Ft(e)&&arguments.length>1?Q0(e,t,s):Fe(e)}function Q0(e,t,s){const a=e[t];return Dt(a)?a:new K0(e,t,s)}class eb{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ic(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&$t!==this)return Og(this,!0),!0}get value(){const t=this.dep.track();return Rg(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tb(e,t,s=!1){let a,i;return it(e)?a=e:(a=e.get,i=e.set),new eb(a,i,s)}const mu={},Ku=new WeakMap;let Js;function nb(e,t=!1,s=Js){if(s){let a=Ku.get(s);a||Ku.set(s,a=[]),a.push(e)}}function ib(e,t,s=wt){const{immediate:a,deep:i,once:l,scheduler:f,augmentJob:d,call:m}=s,_=F=>i?F:Si(F)||i===!1||i===0?Mr(F,1):Mr(F);let v,b,E,x,I=!1,O=!1;if(Dt(e)?(b=()=>e.value,I=Si(e)):jo(e)?(b=()=>_(e),I=!0):Je(e)?(O=!0,I=e.some(F=>jo(F)||Si(F)),b=()=>e.map(F=>{if(Dt(F))return F.value;if(jo(F))return _(F);if(it(F))return m?m(F,2):F()})):it(e)?t?b=m?()=>m(e,2):e:b=()=>{if(E){_s();try{E()}finally{ys()}}const F=Js;Js=v;try{return m?m(e,3,[x]):e(x)}finally{Js=F}}:b=lr,t&&i){const F=b,W=i===!0?1/0:i;b=()=>Mr(F(),W)}const B=Bf(),P=()=>{v.stop(),B&&B.active&&Af(B.effects,v)};if(l&&t){const F=t;t=(...W)=>{F(...W),P()}}let N=O?new Array(e.length).fill(mu):mu;const D=F=>{if(!(!(v.flags&1)||!v.dirty&&!F))if(t){const W=v.run();if(i||I||(O?W.some((G,z)=>ei(G,N[z])):ei(W,N))){E&&E();const G=Js;Js=v;try{const z=[W,N===mu?void 0:O&&N[0]===mu?[]:N,x];m?m(t,3,z):t(...z),N=W}finally{Js=G}}}else v.run()};return d&&d(D),v=new Pg(b),v.scheduler=f?()=>f(D,!1):D,x=F=>nb(F,!1,v),E=v.onStop=()=>{const F=Ku.get(v);if(F){if(m)m(F,4);else for(const W of F)W();Ku.delete(v)}},t?a?D(!0):N=v.run():f?f(D.bind(null,!0),!0):v.run(),P.pause=v.pause.bind(v),P.resume=v.resume.bind(v),P.stop=P,P}function Mr(e,t=1/0,s){if(t<=0||!Ft(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Dt(e))Mr(e.value,t,s);else if(Je(e))for(let a=0;a<e.length;a++)Mr(e[a],t,s);else if(ga(e)||Yo(e))e.forEach(a=>{Mr(a,t,s)});else if(Eg(e)){for(const a in e)Mr(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Mr(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zl(e,t,s,a){try{return a?e(...a):e()}catch(i){Mc(i,t,s)}}function Ui(e,t,s,a){if(it(e)){const i=zl(e,t,s,a);return i&&wg(i)&&i.catch(l=>{Mc(l,t,s)}),i}if(Je(e)){const i=[];for(let l=0;l<e.length;l++)i.push(Ui(e[l],t,s,a));return i}}function Mc(e,t,s,a=!0){const i=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:f}=t&&t.appContext.config||wt;if(t){let d=t.parent;const m=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const v=d.ec;if(v){for(let b=0;b<v.length;b++)if(v[b](e,m,_)===!1)return}d=d.parent}if(l){_s(),zl(l,null,10,[e,m,_]),ys();return}}rb(e,s,i,a,f)}function rb(e,t,s,a=!0,i=!1){if(i)throw e;console.error(e)}const Gn=[];let rr=-1;const Xo=[];let ss=null,Vo=0;const Xg=Promise.resolve();let Ju=null;function Hn(e){const t=Ju||Xg;return e?t.then(this?e.bind(this):e):t}function sb(e){let t=rr+1,s=Gn.length;for(;t<s;){const a=t+s>>>1,i=Gn[a],l=wl(i);l<e||l===e&&i.flags&2?t=a+1:s=a}return t}function Gf(e){if(!(e.flags&1)){const t=wl(e),s=Gn[Gn.length-1];!s||!(e.flags&2)&&t>=wl(s)?Gn.push(e):Gn.splice(sb(t),0,e),e.flags|=1,Kg()}}function Kg(){Ju||(Ju=Xg.then(Qg))}function ob(e){Je(e)?Xo.push(...e):ss&&e.id===-1?ss.splice(Vo+1,0,e):e.flags&1||(Xo.push(e),e.flags|=1),Kg()}function zd(e,t,s=rr+1){for(;s<Gn.length;s++){const a=Gn[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;Gn.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Jg(e){if(Xo.length){const t=[...new Set(Xo)].sort((s,a)=>wl(s)-wl(a));if(Xo.length=0,ss){ss.push(...t);return}for(ss=t,Vo=0;Vo<ss.length;Vo++){const s=ss[Vo];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ss=null,Vo=0}}const wl=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Qg(e){try{for(rr=0;rr<Gn.length;rr++){const t=Gn[rr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),zl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;rr<Gn.length;rr++){const t=Gn[rr];t&&(t.flags&=-2)}rr=-1,Gn.length=0,Jg(),Ju=null,(Gn.length||Xo.length)&&Qg()}}let yn=null,ev=null;function Qu(e){const t=yn;return yn=e,ev=e&&e.type.__scopeId||null,t}function et(e,t=yn,s){if(!t||e._n)return e;const a=(...i)=>{a._d&&Jd(-1);const l=Qu(t);let f;try{f=e(...i)}finally{Qu(l),a._d&&Jd(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function Qt(e,t){if(yn===null)return e;const s=zc(yn),a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[l,f,d,m=wt]=t[i];l&&(it(l)&&(l={mounted:l,updated:l}),l.deep&&Mr(f),a.push({dir:l,instance:s,value:f,oldValue:void 0,arg:d,modifiers:m}))}return e}function Hs(e,t,s,a){const i=e.dirs,l=t&&t.dirs;for(let f=0;f<i.length;f++){const d=i[f];l&&(d.oldValue=l[f].value);let m=d.dir[a];m&&(_s(),Ui(m,s,8,[e.el,d,e,t]),ys())}}const tv=Symbol("_vte"),nv=e=>e.__isTeleport,ul=e=>e&&(e.disabled||e.disabled===""),$d=e=>e&&(e.defer||e.defer===""),Ud=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Gd=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Zh=(e,t)=>{const s=e&&e.to;return Wt(s)?t?t(s):null:s},iv={name:"Teleport",__isTeleport:!0,process(e,t,s,a,i,l,f,d,m,_){const{mc:v,pc:b,pbc:E,o:{insert:x,querySelector:I,createText:O,createComment:B}}=_,P=ul(t.props);let{shapeFlag:N,children:D,dynamicChildren:F}=t;if(e==null){const W=t.el=O(""),G=t.anchor=O("");x(W,s,a),x(G,s,a);const z=(Z,ie)=>{N&16&&(i&&i.isCE&&(i.ce._teleportTarget=Z),v(D,Z,ie,i,l,f,d,m))},ee=()=>{const Z=t.target=Zh(t.props,I),ie=rv(Z,t,O,x);Z&&(f!=="svg"&&Ud(Z)?f="svg":f!=="mathml"&&Gd(Z)&&(f="mathml"),P||(z(Z,ie),Mu(t,!1)))};P&&(z(s,G),Mu(t,!0)),$d(t.props)?$n(()=>{ee(),t.el.__isMounted=!0},l):ee()}else{if($d(t.props)&&!e.el.__isMounted){$n(()=>{iv.process(e,t,s,a,i,l,f,d,m,_),delete e.el.__isMounted},l);return}t.el=e.el,t.targetStart=e.targetStart;const W=t.anchor=e.anchor,G=t.target=e.target,z=t.targetAnchor=e.targetAnchor,ee=ul(e.props),Z=ee?s:G,ie=ee?W:z;if(f==="svg"||Ud(G)?f="svg":(f==="mathml"||Gd(G))&&(f="mathml"),F?(E(e.dynamicChildren,F,Z,i,l,f,d),qf(e,t,!0)):m||b(e,t,Z,ie,i,l,f,d,!1),P)ee?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gu(t,s,W,_,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ge=t.target=Zh(t.props,I);ge&&gu(t,ge,null,_,0)}else ee&&gu(t,G,z,_,1);Mu(t,P)}},remove(e,t,s,{um:a,o:{remove:i}},l){const{shapeFlag:f,children:d,anchor:m,targetStart:_,targetAnchor:v,target:b,props:E}=e;if(b&&(i(_),i(v)),l&&i(m),f&16){const x=l||!ul(E);for(let I=0;I<d.length;I++){const O=d[I];a(O,t,s,x,!!O.dynamicChildren)}}},move:gu,hydrate:ab};function gu(e,t,s,{o:{insert:a},m:i},l=2){l===0&&a(e.targetAnchor,t,s);const{el:f,anchor:d,shapeFlag:m,children:_,props:v}=e,b=l===2;if(b&&a(f,t,s),(!b||ul(v))&&m&16)for(let E=0;E<_.length;E++)i(_[E],t,s,2);b&&a(d,t,s)}function ab(e,t,s,a,i,l,{o:{nextSibling:f,parentNode:d,querySelector:m,insert:_,createText:v}},b){const E=t.target=Zh(t.props,m);if(E){const x=ul(t.props),I=E._lpa||E.firstChild;if(t.shapeFlag&16)if(x)t.anchor=b(f(e),t,d(e),s,a,i,l),t.targetStart=I,t.targetAnchor=I&&f(I);else{t.anchor=f(e);let O=I;for(;O;){if(O&&O.nodeType===8){if(O.data==="teleport start anchor")t.targetStart=O;else if(O.data==="teleport anchor"){t.targetAnchor=O,E._lpa=t.targetAnchor&&f(t.targetAnchor);break}}O=f(O)}t.targetAnchor||rv(E,t,v,_),b(I&&f(I),t,E,s,a,i,l)}Mu(t,x)}return t.anchor&&f(t.anchor)}const lb=iv;function Mu(e,t){const s=e.ctx;if(s&&s.ut){let a,i;for(t?(a=e.el,i=e.anchor):(a=e.targetStart,i=e.targetAnchor);a&&a!==i;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function rv(e,t,s,a){const i=t.targetStart=s(""),l=t.targetAnchor=s("");return i[tv]=l,e&&(a(i,e),a(l,e)),l}const os=Symbol("_leaveCb"),vu=Symbol("_enterCb");function ub(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pi(()=>{e.isMounted=!0}),Dc(()=>{e.isUnmounting=!0}),e}const Ei=[Function,Array],sv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ei,onEnter:Ei,onAfterEnter:Ei,onEnterCancelled:Ei,onBeforeLeave:Ei,onLeave:Ei,onAfterLeave:Ei,onLeaveCancelled:Ei,onBeforeAppear:Ei,onAppear:Ei,onAfterAppear:Ei,onAppearCancelled:Ei},ov=e=>{const t=e.subTree;return t.component?ov(t.component):t},cb={name:"BaseTransition",props:sv,setup(e,{slots:t}){const s=ri(),a=ub();return()=>{const i=t.default&&uv(t.default(),!0);if(!i||!i.length)return;const l=av(i),f=at(e),{mode:d}=f;if(a.isLeaving)return wh(l);const m=Vd(l);if(!m)return wh(l);let _=Yh(m,f,a,s,b=>_=b);m.type!==Vn&&Ll(m,_);let v=s.subTree&&Vd(s.subTree);if(v&&v.type!==Vn&&!Qs(m,v)&&ov(s).type!==Vn){let b=Yh(v,f,a,s);if(Ll(v,b),d==="out-in"&&m.type!==Vn)return a.isLeaving=!0,b.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete b.afterLeave,v=void 0},wh(l);d==="in-out"&&m.type!==Vn?b.delayLeave=(E,x,I)=>{const O=lv(a,v);O[String(v.key)]=v,E[os]=()=>{x(),E[os]=void 0,delete _.delayedLeave,v=void 0},_.delayedLeave=()=>{I(),delete _.delayedLeave,v=void 0}}:v=void 0}else v&&(v=void 0);return l}}};function av(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==Vn){t=s;break}}return t}const hb=cb;function lv(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function Yh(e,t,s,a,i){const{appear:l,mode:f,persisted:d=!1,onBeforeEnter:m,onEnter:_,onAfterEnter:v,onEnterCancelled:b,onBeforeLeave:E,onLeave:x,onAfterLeave:I,onLeaveCancelled:O,onBeforeAppear:B,onAppear:P,onAfterAppear:N,onAppearCancelled:D}=t,F=String(e.key),W=lv(s,e),G=(Z,ie)=>{Z&&Ui(Z,a,9,ie)},z=(Z,ie)=>{const ge=ie[1];G(Z,ie),Je(Z)?Z.every(ne=>ne.length<=1)&&ge():Z.length<=1&&ge()},ee={mode:f,persisted:d,beforeEnter(Z){let ie=m;if(!s.isMounted)if(l)ie=B||m;else return;Z[os]&&Z[os](!0);const ge=W[F];ge&&Qs(e,ge)&&ge.el[os]&&ge.el[os](),G(ie,[Z])},enter(Z){let ie=_,ge=v,ne=b;if(!s.isMounted)if(l)ie=P||_,ge=N||v,ne=D||b;else return;let Q=!1;const X=Z[vu]=_e=>{Q||(Q=!0,_e?G(ne,[Z]):G(ge,[Z]),ee.delayedLeave&&ee.delayedLeave(),Z[vu]=void 0)};ie?z(ie,[Z,X]):X()},leave(Z,ie){const ge=String(e.key);if(Z[vu]&&Z[vu](!0),s.isUnmounting)return ie();G(E,[Z]);let ne=!1;const Q=Z[os]=X=>{ne||(ne=!0,ie(),X?G(O,[Z]):G(I,[Z]),Z[os]=void 0,W[ge]===e&&delete W[ge])};W[ge]=e,x?z(x,[Z,Q]):Q()},clone(Z){const ie=Yh(Z,t,s,a,i);return i&&i(ie),ie}};return ee}function wh(e){if(Ac(e))return e=$r(e),e.children=null,e}function Vd(e){if(!Ac(e))return nv(e.type)&&e.children?av(e.children):e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&it(s.default))return s.default()}}function Ll(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ll(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function uv(e,t=!1,s){let a=[],i=0;for(let l=0;l<e.length;l++){let f=e[l];const d=s==null?f.key:String(s)+String(f.key!=null?f.key:l);f.type===ct?(f.patchFlag&128&&i++,a=a.concat(uv(f.children,t,d))):(t||f.type!==Vn)&&a.push(d!=null?$r(f,{key:d}):f)}if(i>1)for(let l=0;l<a.length;l++)a[l].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function Tt(e,t){return it(e)?fn({name:e.name},t,{setup:e}):e}function cv(){const e=ri();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function hv(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function an(e){const t=ri(),s=Nn(null);if(t){const i=t.refs===wt?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>s.value,set:l=>s.value=l})}return s}function ec(e,t,s,a,i=!1){if(Je(e)){e.forEach((I,O)=>ec(I,t&&(Je(t)?t[O]:t),s,a,i));return}if(Ko(a)&&!i){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&ec(e,t,s,a.component.subTree);return}const l=a.shapeFlag&4?zc(a.component):a.el,f=i?null:l,{i:d,r:m}=e,_=t&&t.r,v=d.refs===wt?d.refs={}:d.refs,b=d.setupState,E=at(b),x=b===wt?()=>!1:I=>It(E,I);if(_!=null&&_!==m&&(Wt(_)?(v[_]=null,x(_)&&(b[_]=null)):Dt(_)&&(_.value=null)),it(m))zl(m,d,12,[f,v]);else{const I=Wt(m),O=Dt(m);if(I||O){const B=()=>{if(e.f){const P=I?x(m)?b[m]:v[m]:m.value;i?Je(P)&&Af(P,l):Je(P)?P.includes(l)||P.push(l):I?(v[m]=[l],x(m)&&(b[m]=v[m])):(m.value=[l],e.k&&(v[e.k]=m.value))}else I?(v[m]=f,x(m)&&(b[m]=f)):O&&(m.value=f,e.k&&(v[e.k]=f))};f?(B.id=-1,$n(B,s)):B()}}}Cc().requestIdleCallback;Cc().cancelIdleCallback;const Ko=e=>!!e.type.__asyncLoader,Ac=e=>e.type.__isKeepAlive;function fv(e,t){dv(e,"a",t)}function fb(e,t){dv(e,"da",t)}function dv(e,t,s=Tn){const a=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Rc(t,a,s),s){let i=s.parent;for(;i&&i.parent;)Ac(i.parent.vnode)&&db(a,t,s,i),i=i.parent}}function db(e,t,s,a){const i=Rc(t,e,a,!0);va(()=>{Af(a[t],i)},s)}function Rc(e,t,s=Tn,a=!1){if(s){const i=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...f)=>{_s();const d=Gl(s),m=Ui(t,s,e,f);return d(),ys(),m});return a?i.unshift(l):i.push(l),l}}const Ur=e=>(t,s=Tn)=>{(!kl||e==="sp")&&Rc(e,(...a)=>t(...a),s)},pb=Ur("bm"),Pi=Ur("m"),mb=Ur("bu"),gb=Ur("u"),Dc=Ur("bum"),va=Ur("um"),vb=Ur("sp"),_b=Ur("rtg"),yb=Ur("rtc");function bb(e,t=Tn){Rc("ec",e,t)}const pv="components";function wb(e,t){return gv(pv,e,!0,t)||e}const mv=Symbol.for("v-ndc");function bs(e){return Wt(e)?gv(pv,e,!1)||e:e||mv}function gv(e,t,s=!0,a=!1){const i=yn||Tn;if(i){const l=i.type;{const d=sw(l,!1);if(d&&(d===t||d===fi(t)||d===Sc(fi(t))))return l}const f=Hd(i[e]||l[e],t)||Hd(i.appContext[e],t);return!f&&a?l:f}}function Hd(e,t){return e&&(e[t]||e[fi(t)]||e[Sc(fi(t))])}function ur(e,t,s,a){let i;const l=s,f=Je(e);if(f||Wt(e)){const d=f&&jo(e);let m=!1;d&&(m=!Si(e),e=Pc(e)),i=new Array(e.length);for(let _=0,v=e.length;_<v;_++)i[_]=t(m?In(e[_]):e[_],_,void 0,l)}else if(typeof e=="number"){i=new Array(e);for(let d=0;d<e;d++)i[d]=t(d+1,d,void 0,l)}else if(Ft(e))if(e[Symbol.iterator])i=Array.from(e,(d,m)=>t(d,m,void 0,l));else{const d=Object.keys(e);i=new Array(d.length);for(let m=0,_=d.length;m<_;m++){const v=d[m];i[m]=t(e[v],v,m,l)}}else i=[];return i}function Lb(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(Je(a))for(let i=0;i<a.length;i++)e[a[i].name]=a[i].fn;else a&&(e[a.name]=a.key?(...i)=>{const l=a.fn(...i);return l&&(l.key=a.key),l}:a.fn)}return e}function ut(e,t,s={},a,i){if(yn.ce||yn.parent&&Ko(yn.parent)&&yn.parent.ce)return t!=="default"&&(s.name=t),be(),pt(ct,null,[$e("slot",s,a&&a())],64);let l=e[t];l&&l._c&&(l._d=!1),be();const f=l&&vv(l(s)),d=s.key||f&&f.key,m=pt(ct,{key:(d&&!$i(d)?d:`_${t}`)+(!f&&a?"_fb":"")},f||(a?a():[]),f&&e._===1?64:-2);return!i&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),l&&l._c&&(l._d=!0),m}function vv(e){return e.some(t=>oo(t)?!(t.type===Vn||t.type===ct&&!vv(t.children)):!0)?e:null}const jh=e=>e?Fv(e)?zc(e):jh(e.parent):null,cl=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jh(e.parent),$root:e=>jh(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>bv(e),$forceUpdate:e=>e.f||(e.f=()=>{Gf(e.update)}),$nextTick:e=>e.n||(e.n=Hn.bind(e.proxy)),$watch:e=>Hb.bind(e)}),Lh=(e,t)=>e!==wt&&!e.__isScriptSetup&&It(e,t),Eb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:i,props:l,accessCache:f,type:d,appContext:m}=e;let _;if(t[0]!=="$"){const x=f[t];if(x!==void 0)switch(x){case 1:return a[t];case 2:return i[t];case 4:return s[t];case 3:return l[t]}else{if(Lh(a,t))return f[t]=1,a[t];if(i!==wt&&It(i,t))return f[t]=2,i[t];if((_=e.propsOptions[0])&&It(_,t))return f[t]=3,l[t];if(s!==wt&&It(s,t))return f[t]=4,s[t];Xh&&(f[t]=0)}}const v=cl[t];let b,E;if(v)return t==="$attrs"&&Cn(e.attrs,"get",""),v(e);if((b=d.__cssModules)&&(b=b[t]))return b;if(s!==wt&&It(s,t))return f[t]=4,s[t];if(E=m.config.globalProperties,It(E,t))return E[t]},set({_:e},t,s){const{data:a,setupState:i,ctx:l}=e;return Lh(i,t)?(i[t]=s,!0):a!==wt&&It(a,t)?(a[t]=s,!0):It(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:i,propsOptions:l}},f){let d;return!!s[f]||e!==wt&&It(e,f)||Lh(t,f)||(d=l[0])&&It(d,f)||It(a,f)||It(cl,f)||It(i.config.globalProperties,f)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:It(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function $l(){return _v().slots}function Vf(){return _v().attrs}function _v(){const e=ri();return e.setupContext||(e.setupContext=$v(e))}function tc(e){return Je(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}function ii(e,t){return!e||!t?e||t:Je(e)&&Je(t)?e.concat(t):fn({},tc(e),tc(t))}let Xh=!0;function kb(e){const t=bv(e),s=e.proxy,a=e.ctx;Xh=!1,t.beforeCreate&&qd(t.beforeCreate,e,"bc");const{data:i,computed:l,methods:f,watch:d,provide:m,inject:_,created:v,beforeMount:b,mounted:E,beforeUpdate:x,updated:I,activated:O,deactivated:B,beforeDestroy:P,beforeUnmount:N,destroyed:D,unmounted:F,render:W,renderTracked:G,renderTriggered:z,errorCaptured:ee,serverPrefetch:Z,expose:ie,inheritAttrs:ge,components:ne,directives:Q,filters:X}=t;if(_&&xb(_,a,null),f)for(const we in f){const pe=f[we];it(pe)&&(a[we]=pe.bind(s))}if(i){const we=i.call(s,s);Ft(we)&&(e.data=ni(we))}if(Xh=!0,l)for(const we in l){const pe=l[we],Ne=it(pe)?pe.bind(s,s):it(pe.get)?pe.get.bind(s,s):lr,ue=!it(pe)&&it(pe.set)?pe.set.bind(s):lr,Ae=oe({get:Ne,set:ue});Object.defineProperty(a,we,{enumerable:!0,configurable:!0,get:()=>Ae.value,set:Ue=>Ae.value=Ue})}if(d)for(const we in d)yv(d[we],a,s,we);if(m){const we=it(m)?m.call(s):m;Reflect.ownKeys(we).forEach(pe=>{hs(pe,we[pe])})}v&&qd(v,e,"c");function ye(we,pe){Je(pe)?pe.forEach(Ne=>we(Ne.bind(s))):pe&&we(pe.bind(s))}if(ye(pb,b),ye(Pi,E),ye(mb,x),ye(gb,I),ye(fv,O),ye(fb,B),ye(bb,ee),ye(yb,G),ye(_b,z),ye(Dc,N),ye(va,F),ye(vb,Z),Je(ie))if(ie.length){const we=e.exposed||(e.exposed={});ie.forEach(pe=>{Object.defineProperty(we,pe,{get:()=>s[pe],set:Ne=>s[pe]=Ne})})}else e.exposed||(e.exposed={});W&&e.render===lr&&(e.render=W),ge!=null&&(e.inheritAttrs=ge),ne&&(e.components=ne),Q&&(e.directives=Q),Z&&hv(e)}function xb(e,t,s=lr){Je(e)&&(e=Kh(e));for(const a in e){const i=e[a];let l;Ft(i)?"default"in i?l=nn(i.from||a,i.default,!0):l=nn(i.from||a):l=nn(i),Dt(l)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:f=>l.value=f}):t[a]=l}}function qd(e,t,s){Ui(Je(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function yv(e,t,s,a){let i=a.includes(".")?Ov(s,a):()=>s[a];if(Wt(e)){const l=t[e];it(l)&&tt(i,l)}else if(it(e))tt(i,e.bind(s));else if(Ft(e))if(Je(e))e.forEach(l=>yv(l,t,s,a));else{const l=it(e.handler)?e.handler.bind(s):t[e.handler];it(l)&&tt(i,l,e)}}function bv(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:i,optionsCache:l,config:{optionMergeStrategies:f}}=e.appContext,d=l.get(t);let m;return d?m=d:!i.length&&!s&&!a?m=t:(m={},i.length&&i.forEach(_=>nc(m,_,f,!0)),nc(m,t,f)),Ft(t)&&l.set(t,m),m}function nc(e,t,s,a=!1){const{mixins:i,extends:l}=t;l&&nc(e,l,s,!0),i&&i.forEach(f=>nc(e,f,s,!0));for(const f in t)if(!(a&&f==="expose")){const d=Tb[f]||s&&s[f];e[f]=d?d(e[f],t[f]):t[f]}return e}const Tb={data:Wd,props:Zd,emits:Zd,methods:tl,computed:tl,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:tl,directives:tl,watch:Cb,provide:Wd,inject:Sb};function Wd(e,t){return t?e?function(){return fn(it(e)?e.call(this,this):e,it(t)?t.call(this,this):t)}:t:e}function Sb(e,t){return tl(Kh(e),Kh(t))}function Kh(e){if(Je(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Fn(e,t){return e?[...new Set([].concat(e,t))]:t}function tl(e,t){return e?fn(Object.create(null),e,t):t}function Zd(e,t){return e?Je(e)&&Je(t)?[...new Set([...e,...t])]:fn(Object.create(null),tc(e),tc(t??{})):t}function Cb(e,t){if(!e)return t;if(!t)return e;const s=fn(Object.create(null),e);for(const a in t)s[a]=Fn(e[a],t[a]);return s}function wv(){return{app:null,config:{isNativeTag:g0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ib=0;function Pb(e,t){return function(a,i=null){it(a)||(a=fn({},a)),i!=null&&!Ft(i)&&(i=null);const l=wv(),f=new WeakSet,d=[];let m=!1;const _=l.app={_uid:Ib++,_component:a,_props:i,_container:null,_context:l,_instance:null,version:aw,get config(){return l.config},set config(v){},use(v,...b){return f.has(v)||(v&&it(v.install)?(f.add(v),v.install(_,...b)):it(v)&&(f.add(v),v(_,...b))),_},mixin(v){return l.mixins.includes(v)||l.mixins.push(v),_},component(v,b){return b?(l.components[v]=b,_):l.components[v]},directive(v,b){return b?(l.directives[v]=b,_):l.directives[v]},mount(v,b,E){if(!m){const x=_._ceVNode||$e(a,i);return x.appContext=l,E===!0?E="svg":E===!1&&(E=void 0),e(x,v,E),m=!0,_._container=v,v.__vue_app__=_,zc(x.component)}},onUnmount(v){d.push(v)},unmount(){m&&(Ui(d,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(v,b){return l.provides[v]=b,_},runWithContext(v){const b=Jo;Jo=_;try{return v()}finally{Jo=b}}};return _}}let Jo=null;function hs(e,t){if(Tn){let s=Tn.provides;const a=Tn.parent&&Tn.parent.provides;a===s&&(s=Tn.provides=Object.create(a)),s[e]=t}}function nn(e,t,s=!1){const a=Tn||yn;if(a||Jo){const i=Jo?Jo._context.provides:a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&it(t)?t.call(a&&a.proxy):t}}const Lv={},Ev=()=>Object.create(Lv),kv=e=>Object.getPrototypeOf(e)===Lv;function Nb(e,t,s,a=!1){const i={},l=Ev();e.propsDefaults=Object.create(null),xv(e,t,i,l);for(const f in e.propsOptions[0])f in i||(i[f]=void 0);s?e.props=a?i:Wg(i):e.type.props?e.props=i:e.props=l,e.attrs=l}function Ob(e,t,s,a){const{props:i,attrs:l,vnode:{patchFlag:f}}=e,d=at(i),[m]=e.propsOptions;let _=!1;if((a||f>0)&&!(f&16)){if(f&8){const v=e.vnode.dynamicProps;for(let b=0;b<v.length;b++){let E=v[b];if(Fc(e.emitsOptions,E))continue;const x=t[E];if(m)if(It(l,E))x!==l[E]&&(l[E]=x,_=!0);else{const I=fi(E);i[I]=Jh(m,d,I,x,e,!1)}else x!==l[E]&&(l[E]=x,_=!0)}}}else{xv(e,t,i,l)&&(_=!0);let v;for(const b in d)(!t||!It(t,b)&&((v=vs(b))===b||!It(t,v)))&&(m?s&&(s[b]!==void 0||s[v]!==void 0)&&(i[b]=Jh(m,d,b,void 0,e,!0)):delete i[b]);if(l!==d)for(const b in l)(!t||!It(t,b))&&(delete l[b],_=!0)}_&&Or(e.attrs,"set","")}function xv(e,t,s,a){const[i,l]=e.propsOptions;let f=!1,d;if(t)for(let m in t){if(ol(m))continue;const _=t[m];let v;i&&It(i,v=fi(m))?!l||!l.includes(v)?s[v]=_:(d||(d={}))[v]=_:Fc(e.emitsOptions,m)||(!(m in a)||_!==a[m])&&(a[m]=_,f=!0)}if(l){const m=at(s),_=d||wt;for(let v=0;v<l.length;v++){const b=l[v];s[b]=Jh(i,m,b,_[b],e,!It(_,b))}}return f}function Jh(e,t,s,a,i,l){const f=e[s];if(f!=null){const d=It(f,"default");if(d&&a===void 0){const m=f.default;if(f.type!==Function&&!f.skipFactory&&it(m)){const{propsDefaults:_}=i;if(s in _)a=_[s];else{const v=Gl(i);a=_[s]=m.call(null,t),v()}}else a=m;i.ce&&i.ce._setProp(s,a)}f[0]&&(l&&!d?a=!1:f[1]&&(a===""||a===vs(s))&&(a=!0))}return a}const Mb=new WeakMap;function Tv(e,t,s=!1){const a=s?Mb:t.propsCache,i=a.get(e);if(i)return i;const l=e.props,f={},d=[];let m=!1;if(!it(e)){const v=b=>{m=!0;const[E,x]=Tv(b,t,!0);fn(f,E),x&&d.push(...x)};!s&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!l&&!m)return Ft(e)&&a.set(e,Zo),Zo;if(Je(l))for(let v=0;v<l.length;v++){const b=fi(l[v]);Yd(b)&&(f[b]=wt)}else if(l)for(const v in l){const b=fi(v);if(Yd(b)){const E=l[v],x=f[b]=Je(E)||it(E)?{type:E}:fn({},E),I=x.type;let O=!1,B=!0;if(Je(I))for(let P=0;P<I.length;++P){const N=I[P],D=it(N)&&N.name;if(D==="Boolean"){O=!0;break}else D==="String"&&(B=!1)}else O=it(I)&&I.name==="Boolean";x[0]=O,x[1]=B,(O||It(x,"default"))&&d.push(b)}}const _=[f,d];return Ft(e)&&a.set(e,_),_}function Yd(e){return e[0]!=="$"&&!ol(e)}const Sv=e=>e[0]==="_"||e==="$stable",Hf=e=>Je(e)?e.map(or):[or(e)],Ab=(e,t,s)=>{if(t._n)return t;const a=et((...i)=>Hf(t(...i)),s);return a._c=!1,a},Cv=(e,t,s)=>{const a=e._ctx;for(const i in e){if(Sv(i))continue;const l=e[i];if(it(l))t[i]=Ab(i,l,a);else if(l!=null){const f=Hf(l);t[i]=()=>f}}},Iv=(e,t)=>{const s=Hf(t);e.slots.default=()=>s},Pv=(e,t,s)=>{for(const a in t)(s||a!=="_")&&(e[a]=t[a])},Rb=(e,t,s)=>{const a=e.slots=Ev();if(e.vnode.shapeFlag&32){const i=t._;i?(Pv(a,t,s),s&&kg(a,"_",i,!0)):Cv(t,a)}else t&&Iv(e,t)},Db=(e,t,s)=>{const{vnode:a,slots:i}=e;let l=!0,f=wt;if(a.shapeFlag&32){const d=t._;d?s&&d===1?l=!1:Pv(i,t,s):(l=!t.$stable,Cv(t,i)),f=t}else t&&(Iv(e,t),f={default:1});if(l)for(const d in i)!Sv(d)&&f[d]==null&&delete i[d]},$n=Xb;function Bb(e){return Fb(e)}function Fb(e,t){const s=Cc();s.__VUE__=!0;const{insert:a,remove:i,patchProp:l,createElement:f,createText:d,createComment:m,setText:_,setElementText:v,parentNode:b,nextSibling:E,setScopeId:x=lr,insertStaticContent:I}=e,O=(S,q,K,ce=null,ve=null,me=null,$=void 0,M=null,J=!!q.dynamicChildren)=>{if(S===q)return;S&&!Qs(S,q)&&(ce=re(S),Ue(S,ve,me,!0),S=null),q.patchFlag===-2&&(J=!1,q.dynamicChildren=null);const{type:le,ref:De,shapeFlag:ke}=q;switch(le){case Ul:B(S,q,K,ce);break;case Vn:P(S,q,K,ce);break;case kh:S==null&&N(q,K,ce,$);break;case ct:ne(S,q,K,ce,ve,me,$,M,J);break;default:ke&1?W(S,q,K,ce,ve,me,$,M,J):ke&6?Q(S,q,K,ce,ve,me,$,M,J):(ke&64||ke&128)&&le.process(S,q,K,ce,ve,me,$,M,J,Ce)}De!=null&&ve&&ec(De,S&&S.ref,me,q||S,!q)},B=(S,q,K,ce)=>{if(S==null)a(q.el=d(q.children),K,ce);else{const ve=q.el=S.el;q.children!==S.children&&_(ve,q.children)}},P=(S,q,K,ce)=>{S==null?a(q.el=m(q.children||""),K,ce):q.el=S.el},N=(S,q,K,ce)=>{[S.el,S.anchor]=I(S.children,q,K,ce,S.el,S.anchor)},D=({el:S,anchor:q},K,ce)=>{let ve;for(;S&&S!==q;)ve=E(S),a(S,K,ce),S=ve;a(q,K,ce)},F=({el:S,anchor:q})=>{let K;for(;S&&S!==q;)K=E(S),i(S),S=K;i(q)},W=(S,q,K,ce,ve,me,$,M,J)=>{q.type==="svg"?$="svg":q.type==="math"&&($="mathml"),S==null?G(q,K,ce,ve,me,$,M,J):Z(S,q,ve,me,$,M,J)},G=(S,q,K,ce,ve,me,$,M)=>{let J,le;const{props:De,shapeFlag:ke,transition:j,dirs:de}=S;if(J=S.el=f(S.type,me,De&&De.is,De),ke&8?v(J,S.children):ke&16&&ee(S.children,J,null,ce,ve,Eh(S,me),$,M),de&&Hs(S,null,ce,"created"),z(J,S,S.scopeId,$,ce),De){for(const Qe in De)Qe!=="value"&&!ol(Qe)&&l(J,Qe,null,De[Qe],me,ce);"value"in De&&l(J,"value",null,De.value,me),(le=De.onVnodeBeforeMount)&&nr(le,ce,S)}de&&Hs(S,null,ce,"beforeMount");const Ge=zb(ve,j);Ge&&j.beforeEnter(J),a(J,q,K),((le=De&&De.onVnodeMounted)||Ge||de)&&$n(()=>{le&&nr(le,ce,S),Ge&&j.enter(J),de&&Hs(S,null,ce,"mounted")},ve)},z=(S,q,K,ce,ve)=>{if(K&&x(S,K),ce)for(let me=0;me<ce.length;me++)x(S,ce[me]);if(ve){let me=ve.subTree;if(q===me||Rv(me.type)&&(me.ssContent===q||me.ssFallback===q)){const $=ve.vnode;z(S,$,$.scopeId,$.slotScopeIds,ve.parent)}}},ee=(S,q,K,ce,ve,me,$,M,J=0)=>{for(let le=J;le<S.length;le++){const De=S[le]=M?as(S[le]):or(S[le]);O(null,De,q,K,ce,ve,me,$,M)}},Z=(S,q,K,ce,ve,me,$)=>{const M=q.el=S.el;let{patchFlag:J,dynamicChildren:le,dirs:De}=q;J|=S.patchFlag&16;const ke=S.props||wt,j=q.props||wt;let de;if(K&&qs(K,!1),(de=j.onVnodeBeforeUpdate)&&nr(de,K,q,S),De&&Hs(q,S,K,"beforeUpdate"),K&&qs(K,!0),(ke.innerHTML&&j.innerHTML==null||ke.textContent&&j.textContent==null)&&v(M,""),le?ie(S.dynamicChildren,le,M,K,ce,Eh(q,ve),me):$||pe(S,q,M,null,K,ce,Eh(q,ve),me,!1),J>0){if(J&16)ge(M,ke,j,K,ve);else if(J&2&&ke.class!==j.class&&l(M,"class",null,j.class,ve),J&4&&l(M,"style",ke.style,j.style,ve),J&8){const Ge=q.dynamicProps;for(let Qe=0;Qe<Ge.length;Qe++){const Oe=Ge[Qe],Ht=ke[Oe],je=j[Oe];(je!==Ht||Oe==="value")&&l(M,Oe,Ht,je,ve,K)}}J&1&&S.children!==q.children&&v(M,q.children)}else!$&&le==null&&ge(M,ke,j,K,ve);((de=j.onVnodeUpdated)||De)&&$n(()=>{de&&nr(de,K,q,S),De&&Hs(q,S,K,"updated")},ce)},ie=(S,q,K,ce,ve,me,$)=>{for(let M=0;M<q.length;M++){const J=S[M],le=q[M],De=J.el&&(J.type===ct||!Qs(J,le)||J.shapeFlag&70)?b(J.el):K;O(J,le,De,null,ce,ve,me,$,!0)}},ge=(S,q,K,ce,ve)=>{if(q!==K){if(q!==wt)for(const me in q)!ol(me)&&!(me in K)&&l(S,me,q[me],null,ve,ce);for(const me in K){if(ol(me))continue;const $=K[me],M=q[me];$!==M&&me!=="value"&&l(S,me,M,$,ve,ce)}"value"in K&&l(S,"value",q.value,K.value,ve)}},ne=(S,q,K,ce,ve,me,$,M,J)=>{const le=q.el=S?S.el:d(""),De=q.anchor=S?S.anchor:d("");let{patchFlag:ke,dynamicChildren:j,slotScopeIds:de}=q;de&&(M=M?M.concat(de):de),S==null?(a(le,K,ce),a(De,K,ce),ee(q.children||[],K,De,ve,me,$,M,J)):ke>0&&ke&64&&j&&S.dynamicChildren?(ie(S.dynamicChildren,j,K,ve,me,$,M),(q.key!=null||ve&&q===ve.subTree)&&qf(S,q,!0)):pe(S,q,K,De,ve,me,$,M,J)},Q=(S,q,K,ce,ve,me,$,M,J)=>{q.slotScopeIds=M,S==null?q.shapeFlag&512?ve.ctx.activate(q,K,ce,$,J):X(q,K,ce,ve,me,$,J):_e(S,q,J)},X=(S,q,K,ce,ve,me,$)=>{const M=S.component=tw(S,ce,ve);if(Ac(S)&&(M.ctx.renderer=Ce),nw(M,!1,$),M.asyncDep){if(ve&&ve.registerDep(M,ye,$),!S.el){const J=M.subTree=$e(Vn);P(null,J,q,K)}}else ye(M,S,q,K,ve,me,$)},_e=(S,q,K)=>{const ce=q.component=S.component;if(Yb(S,q,K))if(ce.asyncDep&&!ce.asyncResolved){we(ce,q,K);return}else ce.next=q,ce.update();else q.el=S.el,ce.vnode=q},ye=(S,q,K,ce,ve,me,$)=>{const M=()=>{if(S.isMounted){let{next:ke,bu:j,u:de,parent:Ge,vnode:Qe}=S;{const On=Nv(S);if(On){ke&&(ke.el=Qe.el,we(S,ke,$)),On.asyncDep.then(()=>{S.isUnmounted||M()});return}}let Oe=ke,Ht;qs(S,!1),ke?(ke.el=Qe.el,we(S,ke,$)):ke=Qe,j&&Ou(j),(Ht=ke.props&&ke.props.onVnodeBeforeUpdate)&&nr(Ht,Ge,ke,Qe),qs(S,!0);const je=Xd(S),Ye=S.subTree;S.subTree=je,O(Ye,je,b(Ye.el),re(Ye),S,ve,me),ke.el=je.el,Oe===null&&jb(S,je.el),de&&$n(de,ve),(Ht=ke.props&&ke.props.onVnodeUpdated)&&$n(()=>nr(Ht,Ge,ke,Qe),ve)}else{let ke;const{el:j,props:de}=q,{bm:Ge,m:Qe,parent:Oe,root:Ht,type:je}=S,Ye=Ko(q);qs(S,!1),Ge&&Ou(Ge),!Ye&&(ke=de&&de.onVnodeBeforeMount)&&nr(ke,Oe,q),qs(S,!0);{Ht.ce&&Ht.ce._injectChildStyle(je);const On=S.subTree=Xd(S);O(null,On,K,ce,S,ve,me),q.el=On.el}if(Qe&&$n(Qe,ve),!Ye&&(ke=de&&de.onVnodeMounted)){const On=q;$n(()=>nr(ke,Oe,On),ve)}(q.shapeFlag&256||Oe&&Ko(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&S.a&&$n(S.a,ve),S.isMounted=!0,q=K=ce=null}};S.scope.on();const J=S.effect=new Pg(M);S.scope.off();const le=S.update=J.run.bind(J),De=S.job=J.runIfDirty.bind(J);De.i=S,De.id=S.uid,J.scheduler=()=>Gf(De),qs(S,!0),le()},we=(S,q,K)=>{q.component=S;const ce=S.vnode.props;S.vnode=q,S.next=null,Ob(S,q.props,ce,K),Db(S,q.children,K),_s(),zd(S),ys()},pe=(S,q,K,ce,ve,me,$,M,J=!1)=>{const le=S&&S.children,De=S?S.shapeFlag:0,ke=q.children,{patchFlag:j,shapeFlag:de}=q;if(j>0){if(j&128){ue(le,ke,K,ce,ve,me,$,M,J);return}else if(j&256){Ne(le,ke,K,ce,ve,me,$,M,J);return}}de&8?(De&16&&Te(le,ve,me),ke!==le&&v(K,ke)):De&16?de&16?ue(le,ke,K,ce,ve,me,$,M,J):Te(le,ve,me,!0):(De&8&&v(K,""),de&16&&ee(ke,K,ce,ve,me,$,M,J))},Ne=(S,q,K,ce,ve,me,$,M,J)=>{S=S||Zo,q=q||Zo;const le=S.length,De=q.length,ke=Math.min(le,De);let j;for(j=0;j<ke;j++){const de=q[j]=J?as(q[j]):or(q[j]);O(S[j],de,K,null,ve,me,$,M,J)}le>De?Te(S,ve,me,!0,!1,ke):ee(q,K,ce,ve,me,$,M,J,ke)},ue=(S,q,K,ce,ve,me,$,M,J)=>{let le=0;const De=q.length;let ke=S.length-1,j=De-1;for(;le<=ke&&le<=j;){const de=S[le],Ge=q[le]=J?as(q[le]):or(q[le]);if(Qs(de,Ge))O(de,Ge,K,null,ve,me,$,M,J);else break;le++}for(;le<=ke&&le<=j;){const de=S[ke],Ge=q[j]=J?as(q[j]):or(q[j]);if(Qs(de,Ge))O(de,Ge,K,null,ve,me,$,M,J);else break;ke--,j--}if(le>ke){if(le<=j){const de=j+1,Ge=de<De?q[de].el:ce;for(;le<=j;)O(null,q[le]=J?as(q[le]):or(q[le]),K,Ge,ve,me,$,M,J),le++}}else if(le>j)for(;le<=ke;)Ue(S[le],ve,me,!0),le++;else{const de=le,Ge=le,Qe=new Map;for(le=Ge;le<=j;le++){const We=q[le]=J?as(q[le]):or(q[le]);We.key!=null&&Qe.set(We.key,le)}let Oe,Ht=0;const je=j-Ge+1;let Ye=!1,On=0;const dn=new Array(je);for(le=0;le<je;le++)dn[le]=0;for(le=de;le<=ke;le++){const We=S[le];if(Ht>=je){Ue(We,ve,me,!0);continue}let jn;if(We.key!=null)jn=Qe.get(We.key);else for(Oe=Ge;Oe<=j;Oe++)if(dn[Oe-Ge]===0&&Qs(We,q[Oe])){jn=Oe;break}jn===void 0?Ue(We,ve,me,!0):(dn[jn-Ge]=le+1,jn>=On?On=jn:Ye=!0,O(We,q[jn],K,null,ve,me,$,M,J),Ht++)}const Vr=Ye?$b(dn):Zo;for(Oe=Vr.length-1,le=je-1;le>=0;le--){const We=Ge+le,jn=q[We],Zi=We+1<De?q[We+1].el:ce;dn[le]===0?O(null,jn,K,Zi,ve,me,$,M,J):Ye&&(Oe<0||le!==Vr[Oe]?Ae(jn,K,Zi,2):Oe--)}}},Ae=(S,q,K,ce,ve=null)=>{const{el:me,type:$,transition:M,children:J,shapeFlag:le}=S;if(le&6){Ae(S.component.subTree,q,K,ce);return}if(le&128){S.suspense.move(q,K,ce);return}if(le&64){$.move(S,q,K,Ce);return}if($===ct){a(me,q,K);for(let ke=0;ke<J.length;ke++)Ae(J[ke],q,K,ce);a(S.anchor,q,K);return}if($===kh){D(S,q,K);return}if(ce!==2&&le&1&&M)if(ce===0)M.beforeEnter(me),a(me,q,K),$n(()=>M.enter(me),ve);else{const{leave:ke,delayLeave:j,afterLeave:de}=M,Ge=()=>a(me,q,K),Qe=()=>{ke(me,()=>{Ge(),de&&de()})};j?j(me,Ge,Qe):Qe()}else a(me,q,K)},Ue=(S,q,K,ce=!1,ve=!1)=>{const{type:me,props:$,ref:M,children:J,dynamicChildren:le,shapeFlag:De,patchFlag:ke,dirs:j,cacheIndex:de}=S;if(ke===-2&&(ve=!1),M!=null&&ec(M,null,K,S,!0),de!=null&&(q.renderCache[de]=void 0),De&256){q.ctx.deactivate(S);return}const Ge=De&1&&j,Qe=!Ko(S);let Oe;if(Qe&&(Oe=$&&$.onVnodeBeforeUnmount)&&nr(Oe,q,S),De&6)Le(S.component,K,ce);else{if(De&128){S.suspense.unmount(K,ce);return}Ge&&Hs(S,null,q,"beforeUnmount"),De&64?S.type.remove(S,q,K,Ce,ce):le&&!le.hasOnce&&(me!==ct||ke>0&&ke&64)?Te(le,q,K,!1,!0):(me===ct&&ke&384||!ve&&De&16)&&Te(J,q,K),ce&&Me(S)}(Qe&&(Oe=$&&$.onVnodeUnmounted)||Ge)&&$n(()=>{Oe&&nr(Oe,q,S),Ge&&Hs(S,null,q,"unmounted")},K)},Me=S=>{const{type:q,el:K,anchor:ce,transition:ve}=S;if(q===ct){Pe(K,ce);return}if(q===kh){F(S);return}const me=()=>{i(K),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(S.shapeFlag&1&&ve&&!ve.persisted){const{leave:$,delayLeave:M}=ve,J=()=>$(K,me);M?M(S.el,me,J):J()}else me()},Pe=(S,q)=>{let K;for(;S!==q;)K=E(S),i(S),S=K;i(q)},Le=(S,q,K)=>{const{bum:ce,scope:ve,job:me,subTree:$,um:M,m:J,a:le}=S;jd(J),jd(le),ce&&Ou(ce),ve.stop(),me&&(me.flags|=8,Ue($,S,q,K)),M&&$n(M,q),$n(()=>{S.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},Te=(S,q,K,ce=!1,ve=!1,me=0)=>{for(let $=me;$<S.length;$++)Ue(S[$],q,K,ce,ve)},re=S=>{if(S.shapeFlag&6)return re(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const q=E(S.anchor||S.el),K=q&&q[tv];return K?E(K):q};let H=!1;const Ee=(S,q,K)=>{S==null?q._vnode&&Ue(q._vnode,null,null,!0):O(q._vnode||null,S,q,null,null,null,K),q._vnode=S,H||(H=!0,zd(),Jg(),H=!1)},Ce={p:O,um:Ue,m:Ae,r:Me,mt:X,mc:ee,pc:pe,pbc:ie,n:re,o:e};return{render:Ee,hydrate:void 0,createApp:Pb(Ee)}}function Eh({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qf(e,t,s=!1){const a=e.children,i=t.children;if(Je(a)&&Je(i))for(let l=0;l<a.length;l++){const f=a[l];let d=i[l];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=i[l]=as(i[l]),d.el=f.el),!s&&d.patchFlag!==-2&&qf(f,d)),d.type===Ul&&(d.el=f.el)}}function $b(e){const t=e.slice(),s=[0];let a,i,l,f,d;const m=e.length;for(a=0;a<m;a++){const _=e[a];if(_!==0){if(i=s[s.length-1],e[i]<_){t[a]=i,s.push(a);continue}for(l=0,f=s.length-1;l<f;)d=l+f>>1,e[s[d]]<_?l=d+1:f=d;_<e[s[l]]&&(l>0&&(t[a]=s[l-1]),s[l]=a)}}for(l=s.length,f=s[l-1];l-- >0;)s[l]=f,f=t[f];return s}function Nv(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Nv(t)}function jd(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ub=Symbol.for("v-scx"),Gb=()=>nn(Ub);function hl(e,t){return Bc(e,null,t)}function Vb(e,t){return Bc(e,null,{flush:"sync"})}function tt(e,t,s){return Bc(e,t,s)}function Bc(e,t,s=wt){const{immediate:a,deep:i,flush:l,once:f}=s,d=fn({},s),m=t&&a||!t&&l!=="post";let _;if(kl){if(l==="sync"){const x=Gb();_=x.__watcherHandles||(x.__watcherHandles=[])}else if(!m){const x=()=>{};return x.stop=lr,x.resume=lr,x.pause=lr,x}}const v=Tn;d.call=(x,I,O)=>Ui(x,v,I,O);let b=!1;l==="post"?d.scheduler=x=>{$n(x,v&&v.suspense)}:l!=="sync"&&(b=!0,d.scheduler=(x,I)=>{I?x():Gf(x)}),d.augmentJob=x=>{t&&(x.flags|=4),b&&(x.flags|=2,v&&(x.id=v.uid,x.i=v))};const E=ib(e,t,d);return kl&&(_?_.push(E):m&&E()),E}function Hb(e,t,s){const a=this.proxy,i=Wt(e)?e.includes(".")?Ov(a,e):()=>a[e]:e.bind(a,a);let l;it(t)?l=t:(l=t.handler,s=t);const f=Gl(this),d=Bc(i,l.bind(a),s);return f(),d}function Ov(e,t){const s=t.split(".");return()=>{let a=e;for(let i=0;i<s.length&&a;i++)a=a[s[i]];return a}}function fr(e,t,s=wt){const a=ri(),i=fi(t),l=vs(t),f=Mv(e,i),d=jg((m,_)=>{let v,b=wt,E;return Vb(()=>{const x=e[i];ei(v,x)&&(v=x,_())}),{get(){return m(),s.get?s.get(v):v},set(x){const I=s.set?s.set(x):x;if(!ei(I,v)&&!(b!==wt&&ei(x,b)))return;const O=a.vnode.props;O&&(t in O||i in O||l in O)&&(`onUpdate:${t}`in O||`onUpdate:${i}`in O||`onUpdate:${l}`in O)||(v=x,_()),a.emit(`update:${t}`,I),ei(x,I)&&ei(x,b)&&!ei(I,E)&&_(),b=x,E=I}}});return d[Symbol.iterator]=()=>{let m=0;return{next(){return m<2?{value:m++?f||wt:d,done:!1}:{done:!0}}}},d}const Mv=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${fi(t)}Modifiers`]||e[`${vs(t)}Modifiers`];function qb(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||wt;let i=s;const l=t.startsWith("update:"),f=l&&Mv(a,t.slice(7));f&&(f.trim&&(i=s.map(v=>Wt(v)?v.trim():v)),f.number&&(i=s.map(Yu)));let d,m=a[d=gh(t)]||a[d=gh(fi(t))];!m&&l&&(m=a[d=gh(vs(t))]),m&&Ui(m,e,6,i);const _=a[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,Ui(_,e,6,i)}}function Av(e,t,s=!1){const a=t.emitsCache,i=a.get(e);if(i!==void 0)return i;const l=e.emits;let f={},d=!1;if(!it(e)){const m=_=>{const v=Av(_,t,!0);v&&(d=!0,fn(f,v))};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!l&&!d?(Ft(e)&&a.set(e,null),null):(Je(l)?l.forEach(m=>f[m]=null):fn(f,l),Ft(e)&&a.set(e,f),f)}function Fc(e,t){return!e||!xc(t)?!1:(t=t.slice(2).replace(/Once$/,""),It(e,t[0].toLowerCase()+t.slice(1))||It(e,vs(t))||It(e,t))}function Xd(e){const{type:t,vnode:s,proxy:a,withProxy:i,propsOptions:[l],slots:f,attrs:d,emit:m,render:_,renderCache:v,props:b,data:E,setupState:x,ctx:I,inheritAttrs:O}=e,B=Qu(e);let P,N;try{if(s.shapeFlag&4){const F=i||a,W=F;P=or(_.call(W,F,v,b,x,E,I)),N=d}else{const F=t;P=or(F.length>1?F(b,{attrs:d,slots:f,emit:m}):F(b,null)),N=t.props?d:Wb(d)}}catch(F){fl.length=0,Mc(F,e,1),P=$e(Vn)}let D=P;if(N&&O!==!1){const F=Object.keys(N),{shapeFlag:W}=D;F.length&&W&7&&(l&&F.some(Mf)&&(N=Zb(N,l)),D=$r(D,N,!1,!0))}return s.dirs&&(D=$r(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Ll(D,s.transition),P=D,Qu(B),P}const Wb=e=>{let t;for(const s in e)(s==="class"||s==="style"||xc(s))&&((t||(t={}))[s]=e[s]);return t},Zb=(e,t)=>{const s={};for(const a in e)(!Mf(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Yb(e,t,s){const{props:a,children:i,component:l}=e,{props:f,children:d,patchFlag:m}=t,_=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return a?Kd(a,f,_):!!f;if(m&8){const v=t.dynamicProps;for(let b=0;b<v.length;b++){const E=v[b];if(f[E]!==a[E]&&!Fc(_,E))return!0}}}else return(i||d)&&(!d||!d.$stable)?!0:a===f?!1:a?f?Kd(a,f,_):!0:!!f;return!1}function Kd(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let i=0;i<a.length;i++){const l=a[i];if(t[l]!==e[l]&&!Fc(s,l))return!0}return!1}function jb({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Rv=e=>e.__isSuspense;function Xb(e,t){t&&t.pendingBranch?Je(e)?t.effects.push(...e):t.effects.push(e):ob(e)}const ct=Symbol.for("v-fgt"),Ul=Symbol.for("v-txt"),Vn=Symbol.for("v-cmt"),kh=Symbol.for("v-stc"),fl=[];let ci=null;function be(e=!1){fl.push(ci=e?null:[])}function Kb(){fl.pop(),ci=fl[fl.length-1]||null}let El=1;function Jd(e,t=!1){El+=e,e<0&&ci&&t&&(ci.hasOnce=!0)}function Dv(e){return e.dynamicChildren=El>0?ci||Zo:null,Kb(),El>0&&ci&&ci.push(e),e}function ze(e,t,s,a,i,l){return Dv(he(e,t,s,a,i,l,!0))}function pt(e,t,s,a,i){return Dv($e(e,t,s,a,i,!0))}function oo(e){return e?e.__v_isVNode===!0:!1}function Qs(e,t){return e.type===t.type&&e.key===t.key}const Bv=({key:e})=>e??null,Au=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Wt(e)||Dt(e)||it(e)?{i:yn,r:e,k:t,f:!!s}:e:null);function he(e,t=null,s=null,a=0,i=null,l=e===ct?0:1,f=!1,d=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bv(t),ref:t&&Au(t),scopeId:ev,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:yn};return d?(Wf(m,s),l&128&&e.normalize(m)):s&&(m.shapeFlag|=Wt(s)?8:16),El>0&&!f&&ci&&(m.patchFlag>0||l&6)&&m.patchFlag!==32&&ci.push(m),m}const $e=Jb;function Jb(e,t=null,s=null,a=0,i=null,l=!1){if((!e||e===mv)&&(e=Vn),oo(e)){const d=$r(e,t,!0);return s&&Wf(d,s),El>0&&!l&&ci&&(d.shapeFlag&6?ci[ci.indexOf(e)]=d:ci.push(d)),d.patchFlag=-2,d}if(ow(e)&&(e=e.__vccOpts),t){t=sr(t);let{class:d,style:m}=t;d&&!Wt(d)&&(t.class=Nt(d)),Ft(m)&&(Uf(m)&&!Je(m)&&(m=fn({},m)),t.style=zr(m))}const f=Wt(e)?1:Rv(e)?128:nv(e)?64:Ft(e)?4:it(e)?2:0;return he(e,t,s,a,i,f,l,!0)}function sr(e){return e?Uf(e)||kv(e)?fn({},e):e:null}function $r(e,t,s=!1,a=!1){const{props:i,ref:l,patchFlag:f,children:d,transition:m}=e,_=t?yt(i||{},t):i,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&Bv(_),ref:t&&t.ref?s&&l?Je(l)?l.concat(Au(t)):[l,Au(t)]:Au(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ct?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:m,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$r(e.ssContent),ssFallback:e.ssFallback&&$r(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return m&&a&&Ll(v,m.clone(v)),v}function vt(e=" ",t=0){return $e(Ul,null,e,t)}function kt(e="",t=!1){return t?(be(),pt(Vn,null,e)):$e(Vn,null,e)}function or(e){return e==null||typeof e=="boolean"?$e(Vn):Je(e)?$e(ct,null,e.slice()):oo(e)?as(e):$e(Ul,null,String(e))}function as(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$r(e)}function Wf(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Je(t))s=16;else if(typeof t=="object")if(a&65){const i=t.default;i&&(i._c&&(i._d=!1),Wf(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!kv(t)?t._ctx=yn:i===3&&yn&&(yn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else it(t)?(t={default:t,_ctx:yn},s=32):(t=String(t),a&64?(s=16,t=[vt(t)]):s=8);e.children=t,e.shapeFlag|=s}function yt(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const i in a)if(i==="class")t.class!==a.class&&(t.class=Nt([t.class,a.class]));else if(i==="style")t.style=zr([t.style,a.style]);else if(xc(i)){const l=t[i],f=a[i];f&&l!==f&&!(Je(l)&&l.includes(f))&&(t[i]=l?[].concat(l,f):f)}else i!==""&&(t[i]=a[i])}return t}function nr(e,t,s,a=null){Ui(e,t,7,[s,a])}const Qb=wv();let ew=0;function tw(e,t,s){const a=e.type,i=(t?t.appContext:e.appContext)||Qb,l={uid:ew++,vnode:e,type:a,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tv(a,i),emitsOptions:Av(a,i),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:a.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=qb.bind(null,l),e.ce&&e.ce(l),l}let Tn=null;const ri=()=>Tn||yn;let ic,Qh;{const e=Cc(),t=(s,a)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(a),l=>{i.length>1?i.forEach(f=>f(l)):i[0](l)}};ic=t("__VUE_INSTANCE_SETTERS__",s=>Tn=s),Qh=t("__VUE_SSR_SETTERS__",s=>kl=s)}const Gl=e=>{const t=Tn;return ic(e),e.scope.on(),()=>{e.scope.off(),ic(t)}},Qd=()=>{Tn&&Tn.scope.off(),ic(null)};function Fv(e){return e.vnode.shapeFlag&4}let kl=!1;function nw(e,t=!1,s=!1){t&&Qh(t);const{props:a,children:i}=e.vnode,l=Fv(e);Nb(e,a,l,t),Rb(e,i,s);const f=l?iw(e,t):void 0;return t&&Qh(!1),f}function iw(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Eb);const{setup:a}=s;if(a){_s();const i=e.setupContext=a.length>1?$v(e):null,l=Gl(e),f=zl(a,e,0,[e.props,i]),d=wg(f);if(ys(),l(),(d||e.sp)&&!Ko(e)&&hv(e),d){if(f.then(Qd,Qd),t)return f.then(m=>{ep(e,m)}).catch(m=>{Mc(m,e,0)});e.asyncDep=f}else ep(e,f)}else zv(e)}function ep(e,t,s){it(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ft(t)&&(e.setupState=Yg(t)),zv(e)}function zv(e,t,s){const a=e.type;e.render||(e.render=a.render||lr);{const i=Gl(e);_s();try{kb(e)}finally{ys(),i()}}}const rw={get(e,t){return Cn(e,"get",""),e[t]}};function $v(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,rw),slots:e.slots,emit:e.emit,expose:t}}function zc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Yg(cs(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in cl)return cl[s](e)},has(t,s){return s in t||s in cl}})):e.proxy}function sw(e,t=!0){return it(e)?e.displayName||e.name:e.name||t&&e.__name}function ow(e){return it(e)&&"__vccOpts"in e}const oe=(e,t)=>tb(e,t,kl);function Di(e,t,s){const a=arguments.length;return a===2?Ft(t)&&!Je(t)?oo(t)?$e(e,null,[t]):$e(e,t):$e(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&oo(s)&&(s=[s]),$e(e,t,s))}const aw="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ef;const tp=typeof window<"u"&&window.trustedTypes;if(tp)try{ef=tp.createPolicy("vue",{createHTML:e=>e})}catch{}const Uv=ef?e=>ef.createHTML(e):e=>e,lw="http://www.w3.org/2000/svg",uw="http://www.w3.org/1998/Math/MathML",Nr=typeof document<"u"?document:null,np=Nr&&Nr.createElement("template"),cw={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const i=t==="svg"?Nr.createElementNS(lw,e):t==="mathml"?Nr.createElementNS(uw,e):s?Nr.createElement(e,{is:s}):Nr.createElement(e);return e==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:e=>Nr.createTextNode(e),createComment:e=>Nr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,i,l){const f=s?s.previousSibling:t.lastChild;if(i&&(i===l||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===l||!(i=i.nextSibling)););else{np.innerHTML=Uv(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const d=np.content;if(a==="svg"||a==="mathml"){const m=d.firstChild;for(;m.firstChild;)d.appendChild(m.firstChild);d.removeChild(m)}t.insertBefore(d,s)}return[f?f.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ts="transition",Ya="animation",xl=Symbol("_vtc"),Gv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hw=fn({},sv,Gv),fw=e=>(e.displayName="Transition",e.props=hw,e),Tl=fw((e,{slots:t})=>Di(hb,dw(e),t)),Ws=(e,t=[])=>{Je(e)?e.forEach(s=>s(...t)):e&&e(...t)},ip=e=>e?Je(e)?e.some(t=>t.length>1):e.length>1:!1;function dw(e){const t={};for(const ne in e)ne in Gv||(t[ne]=e[ne]);if(e.css===!1)return t;const{name:s="v",type:a,duration:i,enterFromClass:l=`${s}-enter-from`,enterActiveClass:f=`${s}-enter-active`,enterToClass:d=`${s}-enter-to`,appearFromClass:m=l,appearActiveClass:_=f,appearToClass:v=d,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:E=`${s}-leave-active`,leaveToClass:x=`${s}-leave-to`}=e,I=pw(i),O=I&&I[0],B=I&&I[1],{onBeforeEnter:P,onEnter:N,onEnterCancelled:D,onLeave:F,onLeaveCancelled:W,onBeforeAppear:G=P,onAppear:z=N,onAppearCancelled:ee=D}=t,Z=(ne,Q,X,_e)=>{ne._enterCancelled=_e,Zs(ne,Q?v:d),Zs(ne,Q?_:f),X&&X()},ie=(ne,Q)=>{ne._isLeaving=!1,Zs(ne,b),Zs(ne,x),Zs(ne,E),Q&&Q()},ge=ne=>(Q,X)=>{const _e=ne?z:N,ye=()=>Z(Q,ne,X);Ws(_e,[Q,ye]),rp(()=>{Zs(Q,ne?m:l),Sr(Q,ne?v:d),ip(_e)||sp(Q,a,O,ye)})};return fn(t,{onBeforeEnter(ne){Ws(P,[ne]),Sr(ne,l),Sr(ne,f)},onBeforeAppear(ne){Ws(G,[ne]),Sr(ne,m),Sr(ne,_)},onEnter:ge(!1),onAppear:ge(!0),onLeave(ne,Q){ne._isLeaving=!0;const X=()=>ie(ne,Q);Sr(ne,b),ne._enterCancelled?(Sr(ne,E),lp()):(lp(),Sr(ne,E)),rp(()=>{ne._isLeaving&&(Zs(ne,b),Sr(ne,x),ip(F)||sp(ne,a,B,X))}),Ws(F,[ne,X])},onEnterCancelled(ne){Z(ne,!1,void 0,!0),Ws(D,[ne])},onAppearCancelled(ne){Z(ne,!0,void 0,!0),Ws(ee,[ne])},onLeaveCancelled(ne){ie(ne),Ws(W,[ne])}})}function pw(e){if(e==null)return null;if(Ft(e))return[xh(e.enter),xh(e.leave)];{const t=xh(e);return[t,t]}}function xh(e){return w0(e)}function Sr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[xl]||(e[xl]=new Set)).add(t)}function Zs(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const s=e[xl];s&&(s.delete(t),s.size||(e[xl]=void 0))}function rp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let mw=0;function sp(e,t,s,a){const i=e._endId=++mw,l=()=>{i===e._endId&&a()};if(s!=null)return setTimeout(l,s);const{type:f,timeout:d,propCount:m}=gw(e,t);if(!f)return a();const _=f+"end";let v=0;const b=()=>{e.removeEventListener(_,E),l()},E=x=>{x.target===e&&++v>=m&&b()};setTimeout(()=>{v<m&&b()},d+1),e.addEventListener(_,E)}function gw(e,t){const s=window.getComputedStyle(e),a=I=>(s[I]||"").split(", "),i=a(`${ts}Delay`),l=a(`${ts}Duration`),f=op(i,l),d=a(`${Ya}Delay`),m=a(`${Ya}Duration`),_=op(d,m);let v=null,b=0,E=0;t===ts?f>0&&(v=ts,b=f,E=l.length):t===Ya?_>0&&(v=Ya,b=_,E=m.length):(b=Math.max(f,_),v=b>0?f>_?ts:Ya:null,E=v?v===ts?l.length:m.length:0);const x=v===ts&&/\b(transform|all)(,|$)/.test(a(`${ts}Property`).toString());return{type:v,timeout:b,propCount:E,hasTransform:x}}function op(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>ap(s)+ap(e[a])))}function ap(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function lp(){return document.body.offsetHeight}function vw(e,t,s){const a=e[xl];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const rc=Symbol("_vod"),Vv=Symbol("_vsh"),Sl={beforeMount(e,{value:t},{transition:s}){e[rc]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ja(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),ja(e,!0),a.enter(e)):a.leave(e,()=>{ja(e,!1)}):ja(e,t))},beforeUnmount(e,{value:t}){ja(e,t)}};function ja(e,t){e.style.display=t?e[rc]:"none",e[Vv]=!t}const _w=Symbol(""),yw=/(^|;)\s*display\s*:/;function bw(e,t,s){const a=e.style,i=Wt(s);let l=!1;if(s&&!i){if(t)if(Wt(t))for(const f of t.split(";")){const d=f.slice(0,f.indexOf(":")).trim();s[d]==null&&Ru(a,d,"")}else for(const f in t)s[f]==null&&Ru(a,f,"");for(const f in s)f==="display"&&(l=!0),Ru(a,f,s[f])}else if(i){if(t!==s){const f=a[_w];f&&(s+=";"+f),a.cssText=s,l=yw.test(s)}}else t&&e.removeAttribute("style");rc in e&&(e[rc]=l?a.display:"",e[Vv]&&(a.display="none"))}const up=/\s*!important$/;function Ru(e,t,s){if(Je(s))s.forEach(a=>Ru(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=ww(e,t);up.test(s)?e.setProperty(vs(a),s.replace(up,""),"important"):e[a]=s}}const cp=["Webkit","Moz","ms"],Th={};function ww(e,t){const s=Th[t];if(s)return s;let a=fi(t);if(a!=="filter"&&a in e)return Th[t]=a;a=Sc(a);for(let i=0;i<cp.length;i++){const l=cp[i]+a;if(l in e)return Th[t]=l}return t}const hp="http://www.w3.org/1999/xlink";function fp(e,t,s,a,i,l=S0(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(hp,t.slice(6,t.length)):e.setAttributeNS(hp,t,s):s==null||l&&!xg(s)?e.removeAttribute(t):e.setAttribute(t,l?"":$i(s)?String(s):s)}function dp(e,t,s,a,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Uv(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,m=s==null?e.type==="checkbox"?"on":"":String(s);(d!==m||!("_value"in e))&&(e.value=m),s==null&&e.removeAttribute(t),e._value=s;return}let f=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=xg(s):s==null&&d==="string"?(s="",f=!0):d==="number"&&(s=0,f=!0)}try{e[t]=s}catch{}f&&e.removeAttribute(i||t)}function Ar(e,t,s,a){e.addEventListener(t,s,a)}function Lw(e,t,s,a){e.removeEventListener(t,s,a)}const pp=Symbol("_vei");function Ew(e,t,s,a,i=null){const l=e[pp]||(e[pp]={}),f=l[t];if(a&&f)f.value=a;else{const[d,m]=kw(t);if(a){const _=l[t]=Sw(a,i);Ar(e,d,_,m)}else f&&(Lw(e,d,f,m),l[t]=void 0)}}const mp=/(?:Once|Passive|Capture)$/;function kw(e){let t;if(mp.test(e)){t={};let a;for(;a=e.match(mp);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vs(e.slice(2)),t]}let Sh=0;const xw=Promise.resolve(),Tw=()=>Sh||(xw.then(()=>Sh=0),Sh=Date.now());function Sw(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Ui(Cw(a,s.value),t,5,[a])};return s.value=e,s.attached=Tw(),s}function Cw(e,t){if(Je(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>i=>!i._stopped&&a&&a(i))}else return t}const gp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Iw=(e,t,s,a,i,l)=>{const f=i==="svg";t==="class"?vw(e,a,f):t==="style"?bw(e,s,a):xc(t)?Mf(t)||Ew(e,t,s,a,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Pw(e,t,a,f))?(dp(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&fp(e,t,a,f,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Wt(a))?dp(e,fi(t),a,l,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),fp(e,t,a,f))};function Pw(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&gp(t)&&it(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return gp(t)&&Wt(s)?!1:t in e}const ds=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Je(t)?s=>Ou(t,s):t};function Nw(e){e.target.composing=!0}function vp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ci=Symbol("_assign"),ps={created(e,{modifiers:{lazy:t,trim:s,number:a}},i){e[Ci]=ds(i);const l=a||i.props&&i.props.type==="number";Ar(e,t?"change":"input",f=>{if(f.target.composing)return;let d=e.value;s&&(d=d.trim()),l&&(d=Yu(d)),e[Ci](d)}),s&&Ar(e,"change",()=>{e.value=e.value.trim()}),t||(Ar(e,"compositionstart",Nw),Ar(e,"compositionend",vp),Ar(e,"change",vp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:i,number:l}},f){if(e[Ci]=ds(f),e.composing)return;const d=(l||e.type==="number")&&!/^0\d/.test(e.value)?Yu(e.value):e.value,m=t??"";d!==m&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||i&&e.value.trim()===m)||(e.value=m))}},Hv={deep:!0,created(e,t,s){e[Ci]=ds(s),Ar(e,"change",()=>{const a=e._modelValue,i=ta(e),l=e.checked,f=e[Ci];if(Je(a)){const d=Df(a,i),m=d!==-1;if(l&&!m)f(a.concat(i));else if(!l&&m){const _=[...a];_.splice(d,1),f(_)}}else if(ga(a)){const d=new Set(a);l?d.add(i):d.delete(i),f(d)}else f(qv(e,l))})},mounted:_p,beforeUpdate(e,t,s){e[Ci]=ds(s),_p(e,t,s)}};function _p(e,{value:t,oldValue:s},a){e._modelValue=t;let i;if(Je(t))i=Df(t,a.props.value)>-1;else if(ga(t))i=t.has(a.props.value);else{if(t===s)return;i=ro(t,qv(e,!0))}e.checked!==i&&(e.checked=i)}const Ow={created(e,{value:t},s){e.checked=ro(t,s.props.value),e[Ci]=ds(s),Ar(e,"change",()=>{e[Ci](ta(e))})},beforeUpdate(e,{value:t,oldValue:s},a){e[Ci]=ds(a),t!==s&&(e.checked=ro(t,a.props.value))}},ao={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const i=ga(t);Ar(e,"change",()=>{const l=Array.prototype.filter.call(e.options,f=>f.selected).map(f=>s?Yu(ta(f)):ta(f));e[Ci](e.multiple?i?new Set(l):l:l[0]),e._assigning=!0,Hn(()=>{e._assigning=!1})}),e[Ci]=ds(a)},mounted(e,{value:t}){yp(e,t)},beforeUpdate(e,t,s){e[Ci]=ds(s)},updated(e,{value:t}){e._assigning||yp(e,t)}};function yp(e,t){const s=e.multiple,a=Je(t);if(!(s&&!a&&!ga(t))){for(let i=0,l=e.options.length;i<l;i++){const f=e.options[i],d=ta(f);if(s)if(a){const m=typeof d;m==="string"||m==="number"?f.selected=t.some(_=>String(_)===String(d)):f.selected=Df(t,d)>-1}else f.selected=t.has(d);else if(ro(ta(f),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ta(e){return"_value"in e?e._value:e.value}function qv(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Mw={created(e,t,s){_u(e,t,s,null,"created")},mounted(e,t,s){_u(e,t,s,null,"mounted")},beforeUpdate(e,t,s,a){_u(e,t,s,a,"beforeUpdate")},updated(e,t,s,a){_u(e,t,s,a,"updated")}};function Aw(e,t){switch(e){case"SELECT":return ao;case"TEXTAREA":return ps;default:switch(t){case"checkbox":return Hv;case"radio":return Ow;default:return ps}}}function _u(e,t,s,a,i){const f=Aw(e.tagName,s.props&&s.props.type)[i];f&&f(e,t,s,a)}const Rw=["ctrl","shift","alt","meta"],Dw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Rw.some(s=>e[`${s}Key`]&&!t.includes(s))},Wv=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(i,...l)=>{for(let f=0;f<t.length;f++){const d=Dw[t[f]];if(d&&d(i,t))return}return e(i,...l)})},Bw=fn({patchProp:Iw},cw);let bp;function Fw(){return bp||(bp=Bb(Bw))}const Zv=(...e)=>{const t=Fw().createApp(...e),{mount:s}=t;return t.mount=a=>{const i=$w(a);if(!i)return;const l=t._component;!it(l)&&!l.render&&!l.template&&(l.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const f=s(i,!1,zw(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),f},t};function zw(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $w(e){return Wt(e)?document.querySelector(e):e}const Yv="BootstrapVueNext__",Zf=(e,t="")=>{const s=`${t}___`;return`${Yv}ID__${e}__${t?s:""}`},fo=e=>Zf(e),ws=e=>Zf(`${e}__plugin`),Uw=fo("checkboxGroup"),jv=fo("collapse"),$c=ws("globalShowHideStorage"),Gw=fo("dropdown"),Xv=fo("navbar"),Vw=ws("rtl"),wp=`${Yv}global_breadcrumb`,Hw=ws("breadcrumbPlugin"),Kv=ws("modalManager"),Du=ws("defaults"),qw=fo("inputGroup"),Ww=fo("buttonGroup"),Zw=ws("toast"),Yw=ws("modalController"),jw=ws("popover"),Xw=fo("formGroupPlugin");function po(e){return Bf()?(ju(e),!0):!1}function Jv(e){let t=0,s,a;const i=()=>{t-=1,a&&t<=0&&(a.stop(),s=void 0,a=void 0)};return(...l)=>(t+=1,a||(a=Ig(!0),s=a.run(()=>e(...l))),po(i),s)}const Qv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const e_=e=>e!=null,Kw=Object.prototype.toString,Jw=e=>Kw.call(e)==="[object Object]",Ri=()=>{},tf=Qw();function Qw(){var e,t;return Qv&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function eL(...e){if(e.length!==1)return tn(...e);const t=e[0];return typeof t=="function"?qn(jg(()=>({get:t,set:Ri}))):Fe(t)}function t_(e,t){function s(...a){return new Promise((i,l)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(i).catch(l)})}return s}function tL(e,t={}){let s,a,i=Ri;const l=m=>{clearTimeout(m),i(),i=Ri};let f;return m=>{const _=ft(e),v=ft(t.maxWait);return s&&l(s),_<=0||v!==void 0&&v<=0?(a&&(l(a),a=null),Promise.resolve(m())):new Promise((b,E)=>{i=t.rejectOnCancel?E:b,f=m,v&&!a&&(a=setTimeout(()=>{s&&l(s),a=null,b(f())},v)),s=setTimeout(()=>{a&&l(a),a=null,b(m())},_)})}}function nL(...e){let t=0,s,a=!0,i=Ri,l,f,d,m,_;!Dt(e[0])&&typeof e[0]=="object"?{delay:f,trailing:d=!0,leading:m=!0,rejectOnCancel:_=!1}=e[0]:[f,d=!0,m=!0,_=!1]=e;const v=()=>{s&&(clearTimeout(s),s=void 0,i(),i=Ri)};return E=>{const x=ft(f),I=Date.now()-t,O=()=>l=E();return v(),x<=0?(t=Date.now(),O()):(I>x&&(m||!a)?(t=Date.now(),O()):d&&(l=new Promise((B,P)=>{i=_?P:B,s=setTimeout(()=>{t=Date.now(),a=!0,B(O()),v()},Math.max(0,x-I))})),!m&&!s&&(s=setTimeout(()=>a=!0,x)),a=!1,l)}}function dl(e){return Array.isArray(e)?e:[e]}function iL(e,t=200,s={}){return t_(tL(t,s),e)}function Lp(e,t=200,s=!1,a=!0,i=!1){return t_(nL(t,s,a,i),e)}function Cl(e,t={}){const{method:s="parseFloat",radix:a,nanToZero:i}=t;return oe(()=>{let l=ft(e);return typeof s=="function"?l=s(l):typeof l=="string"&&(l=Number[s](l,a)),i&&Number.isNaN(l)&&(l=0),l})}function rL(e,t,s){return tt(e,t,{...s,immediate:!0})}const Vl=Qv?window:void 0;function Rr(e){var t;const s=ft(e);return(t=s==null?void 0:s.$el)!=null?t:s}function ti(...e){const t=[],s=()=>{t.forEach(d=>d()),t.length=0},a=(d,m,_,v)=>(d.addEventListener(m,_,v),()=>d.removeEventListener(m,_,v)),i=oe(()=>{const d=dl(ft(e[0])).filter(m=>m!=null);return d.every(m=>typeof m!="string")?d:void 0}),l=rL(()=>{var d,m;return[(m=(d=i.value)==null?void 0:d.map(_=>Rr(_)))!=null?m:[Vl].filter(_=>_!=null),dl(ft(i.value?e[1]:e[0])),dl(U(i.value?e[2]:e[1])),ft(i.value?e[3]:e[2])]},([d,m,_,v])=>{if(s(),!(d!=null&&d.length)||!(m!=null&&m.length)||!(_!=null&&_.length))return;const b=Jw(v)?{...v}:v;t.push(...d.flatMap(E=>m.flatMap(x=>_.map(I=>a(E,x,I,b)))))},{flush:"post"}),f=()=>{l(),s()};return po(s),f}let Ep=!1;function n_(e,t,s={}){const{window:a=Vl,ignore:i=[],capture:l=!0,detectIframe:f=!1,controls:d=!1}=s;if(!a)return d?{stop:Ri,cancel:Ri,trigger:Ri}:Ri;if(tf&&!Ep){Ep=!0;const B={passive:!0};Array.from(a.document.body.children).forEach(P=>ti(P,"click",Ri,B)),ti(a.document.documentElement,"click",Ri,B)}let m=!0;const _=B=>ft(i).some(P=>{if(typeof P=="string")return Array.from(a.document.querySelectorAll(P)).some(N=>N===B.target||B.composedPath().includes(N));{const N=Rr(P);return N&&(B.target===N||B.composedPath().includes(N))}});function v(B){const P=ft(B);return P&&P.$.subTree.shapeFlag===16}function b(B,P){const N=ft(B),D=N.$.subTree&&N.$.subTree.children;return D==null||!Array.isArray(D)?!1:D.some(F=>F.el===P.target||P.composedPath().includes(F.el))}const E=B=>{const P=Rr(e);if(B.target!=null&&!(!(P instanceof Element)&&v(e)&&b(e,B))&&!(!P||P===B.target||B.composedPath().includes(P))){if("detail"in B&&B.detail===0&&(m=!_(B)),!m){m=!0;return}t(B)}};let x=!1;const I=[ti(a,"click",B=>{x||(x=!0,setTimeout(()=>{x=!1},0),E(B))},{passive:!0,capture:l}),ti(a,"pointerdown",B=>{const P=Rr(e);m=!_(B)&&!!(P&&!B.composedPath().includes(P))},{passive:!0}),f&&ti(a,"blur",B=>{setTimeout(()=>{var P;const N=Rr(e);((P=a.document.activeElement)==null?void 0:P.tagName)==="IFRAME"&&!(N!=null&&N.contains(a.document.activeElement))&&t(B)},0)},{passive:!0})].filter(Boolean),O=()=>I.forEach(B=>B());return d?{stop:O,cancel:()=>{m=!1},trigger:B=>{m=!0,E(B),m=!1}}:O}function sL(){const e=Nn(!1),t=ri();return t&&Pi(()=>{e.value=!0},t),e}function oL(e){const t=sL();return oe(()=>(t.value,!!e()))}function aL(e,t,s={}){const{window:a=Vl,...i}=s;let l;const f=oL(()=>a&&"MutationObserver"in a),d=()=>{l&&(l.disconnect(),l=void 0)},m=oe(()=>{const E=ft(e),x=dl(E).map(Rr).filter(e_);return new Set(x)}),_=tt(()=>m.value,E=>{d(),f.value&&E.size&&(l=new MutationObserver(t),E.forEach(x=>l.observe(x,i)))},{immediate:!0,flush:"post"}),v=()=>l==null?void 0:l.takeRecords(),b=()=>{_(),d()};return po(b),{isSupported:f,stop:b,takeRecords:v}}function lL(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ls(...e){let t,s,a={};e.length===3?(t=e[0],s=e[1],a=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,s=e[0],a=e[1]):(t=e[0],s=e[1]):(t=!0,s=e[0]);const{target:i=Vl,eventName:l="keydown",passive:f=!1,dedupe:d=!1}=a,m=lL(t);return ti(i,l,v=>{v.repeat&&ft(d)||m(v)&&s(v)},f)}const yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bu="__vueuse_ssr_handlers__",uL=cL();function cL(){return bu in yu||(yu[bu]=yu[bu]||{}),yu[bu]}function hL(e,t){return uL[e]||t}function to(e,t={}){const{initialValue:s=!1,focusVisible:a=!1,preventScroll:i=!1}=t,l=Nn(!1),f=oe(()=>Rr(e)),d={passive:!0};ti(f,"focus",_=>{var v,b;(!a||(b=(v=_.target).matches)!=null&&b.call(v,":focus-visible"))&&(l.value=!0)},d),ti(f,"blur",()=>l.value=!1,d);const m=oe({get:()=>l.value,set(_){var v,b;!_&&l.value?(v=f.value)==null||v.blur():_&&!l.value&&((b=f.value)==null||b.focus({preventScroll:i}))}});return tt(f,()=>{m.value=s},{immediate:!0,flush:"post"}),{focused:m}}function Ch(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const fL={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function dL(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:a=!1,initialValue:i={x:0,y:0},window:l=Vl,target:f=l,scroll:d=!0,eventFilter:m}=e;let _=null,v=0,b=0;const E=Nn(i.x),x=Nn(i.y),I=Nn(null),O=typeof t=="function"?t:fL[t],B=z=>{const ee=O(z);_=z,ee&&([E.value,x.value]=ee,I.value="mouse"),l&&(v=l.scrollX,b=l.scrollY)},P=z=>{if(z.touches.length>0){const ee=O(z.touches[0]);ee&&([E.value,x.value]=ee,I.value="touch")}},N=()=>{if(!_||!l)return;const z=O(_);_ instanceof MouseEvent&&z&&(E.value=z[0]+l.scrollX-v,x.value=z[1]+l.scrollY-b)},D=()=>{E.value=i.x,x.value=i.y},F=m?z=>m(()=>B(z),{}):z=>B(z),W=m?z=>m(()=>P(z),{}):z=>P(z),G=m?()=>m(()=>N(),{}):()=>N();if(f){const z={passive:!0};ti(f,["mousemove","dragover"],F,z),s&&t!=="movement"&&(ti(f,["touchstart","touchmove"],W,z),a&&ti(f,"touchend",D,z)),d&&t==="page"&&ti(l,"scroll",G,z)}return{x:E,y:x,sourceType:I}}function i_(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const s=e.parentNode;return!s||s.tagName==="BODY"?!1:i_(s)}}function pL(e){const t=e||window.event,s=t.target;return i_(s)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const Ih=new WeakMap;function mL(e,t=!1){const s=Nn(t);let a=null,i="";tt(eL(e),d=>{const m=Ch(ft(d));if(m){const _=m;if(Ih.get(_)||Ih.set(_,_.style.overflow),_.style.overflow!=="hidden"&&(i=_.style.overflow),_.style.overflow==="hidden")return s.value=!0;if(s.value)return _.style.overflow="hidden"}},{immediate:!0});const l=()=>{const d=Ch(ft(e));!d||s.value||(tf&&(a=ti(d,"touchmove",m=>{pL(m)},{passive:!1})),d.style.overflow="hidden",s.value=!0)},f=()=>{const d=Ch(ft(e));!d||!s.value||(tf&&(a==null||a()),d.style.overflow=i,Ih.delete(d),s.value=!1)};return po(f),oe({get(){return s.value},set(d){d?l():f()}})}const Ph="modal-open",gL=()=>{const e=nn(Kv),t=a=>{e==null||e.removeStack(a),e==null||e.removeRegistry(a)},s=hL("updateHTMLAttrs",(a,i,l)=>{const f=typeof a=="string"?window==null?void 0:window.document.querySelector(a):Rr(a);f&&(i==="class"?f.classList.toggle(Ph,l===Ph):f.setAttribute(i,l))});return po(()=>{s("body","class","")}),tt(()=>e==null?void 0:e.countStack.value,a=>{a!==void 0&&s("body","class",a>0?Ph:"")}),{...e,dispose:t}},vL=(e,t)=>{const{pushRegistry:s,pushStack:a,removeStack:i,stack:l,dispose:f,countStack:d}=gL(),m=ri();if(!m||m.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");s==null||s(m),po(()=>{f(m)});const _=(v,b)=>{v?a==null||a(m):b&&!v&&(i==null||i(m))};return _(t,t),tt(e,_),{activePosition:oe(()=>l==null?void 0:l.value.findIndex(v=>{var b,E;return ft((b=v.exposed)==null?void 0:b.id)===ft((E=m.exposed)==null?void 0:E.id)})),activeModalCount:d,stackWithoutSelf:oe(()=>(l==null?void 0:l.value.filter(v=>{var b,E;return ft((b=v.exposed)==null?void 0:b.id)!==ft((E=m.exposed)==null?void 0:E.id)}))??[])}},sc=e=>{if(e)return typeof e=="string"?typeof document>"u"?void 0:document.getElementById(e)??document.querySelector(e)??void 0:e.$el??e},kp=(e,t)=>e.setAttribute("data-bs-theme",t),_L={mounted(e,t){kp(e,t.value)},updated(e,t){kp(e,t.value)}},yL=/\s+/,bL=/^#/,wL=/^#[A-Za-z]+[\w\-:.]*$/;function LL(e,t){var s,a;return(t.ctx===e.instance.$?(s=EL(t,e.instance.$))==null?void 0:s.provides:(a=t.ctx)==null?void 0:a.provides)??e.instance.$.provides}function EL(e,t){const s=new Set,a=l=>{var f,d;for(const m of l){if(!m)continue;if(m===e||m.el&&e.el&&m.el===e.el)return!0;s.add(m);let _;if(m.suspense?_=a([m.ssContent]):Array.isArray(m.children)?_=a(m.children):(f=m.component)!=null&&f.vnode&&(_=a([(d=m.component)==null?void 0:d.subTree])),_)return _;s.delete(m)}return!1};if(!a([t.subTree]))return console.error("Could not find original vnode,  will not inherit provides"),t;const i=Array.from(s).reverse();for(const l of i)if(l.component)return l.component;return t}const kL=(e,t)=>{const{modifiers:s,arg:a,value:i}=e,l=Object.keys(s||{}),f=typeof i=="string"?i.split(yL):i;if(t.tagName.toLowerCase()==="a"){const d=t.getAttribute("href")||"";wL.test(d)&&l.push(d.replace(bL,""))}return Array.prototype.concat.apply([],[a,f]).forEach(d=>typeof d=="string"&&l.push(d)),l.filter((d,m,_)=>d&&_.indexOf(d)===m)},xp=(e,t,s,a)=>{var i;const f=(i=LL(s,a)[$c])==null?void 0:i.map;e.forEach(d=>{if(f!=null&&f[d]){f[d].toggle();return}const m=document.getElementById(d);m!==null&&m.dispatchEvent(new Event("bv-toggle"))}),setTimeout(()=>r_(e,t),50)},r_=(e,t)=>{let s=!1;e.forEach(a=>{const i=document.getElementById(a);i!=null&&i.classList.contains("show")&&(s=!0),i!=null&&i.classList.contains("closing")&&(s=!1)}),t.setAttribute("aria-expanded",s?"true":"false"),t.classList.remove(s?"collapsed":"not-collapsed"),t.classList.add(s?"not-collapsed":"collapsed")},Tp=(e,t,s)=>{const a=kL(t,e);a.length!==0&&(e.__toggle?setTimeout(()=>{e.removeEventListener("click",e.__toggle),e.__toggle=()=>xp(a,e,t,s),e.addEventListener("click",e.__toggle)},0):(e.__toggle=()=>xp(a,e,t,s),e.addEventListener("click",e.__toggle)),e.setAttribute("aria-controls",a.join(" ")),r_(a,e))},s_={mounted:Tp,updated:Tp,unmounted(e){e.removeEventListener("click",e.__toggle),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded")}};function xL(e,t=o_("injectSelf")){const{provides:s}=t;if(s&&e in s)return s[e]}function o_(e,t){const s=ri();if(!s)throw new Error(`[Bvn] ${e} must be called from inside a setup function`);return s}const TL=(e="")=>e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase(),Sp=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);function a_(e={},t={},s){const a={};for(const i in e)a[i]=e[i];for(const i in t){const l=e[i],f=t[i];if(Sp(l)&&Sp(f)){a[i]=a_(l,f);continue}a[i]=f}return a}const SL=(e,t)=>{var s,a;return typeof((s=e.props)==null?void 0:s[t])<"u"||typeof((a=e.props)==null?void 0:a[TL(t)])<"u"};function CL(e={},t){const s=nn(Du,Fe({})),a=o_("useDefaults");if(t=t??a.type.name??a.type.__name,!t)throw new Error("[Bvn] Could not determine component name");const i=oe(()=>{var m;return(m=s.value)==null?void 0:m[e._as??t]}),l=new Proxy(e,{get(m,_){var v,b,E,x;const I=Reflect.get(m,_);return _==="class"||_==="style"?[(v=i.value)==null?void 0:v[_],I].filter(O=>O!=null):typeof _=="string"&&!SL(a.vnode,_)?((b=i.value)==null?void 0:b[_])??((x=(E=s.value)==null?void 0:E.global)==null?void 0:x[_])??I:I}}),f=Nn();hl(()=>{if(i.value){const m=Object.entries(i.value).filter(([_])=>_.startsWith(_[0].toUpperCase()));f.value=m.length?Object.fromEntries(m):void 0}else f.value=void 0});function d(){const m=xL(Du,a);hs(Du,oe(()=>f.value?a_((m==null?void 0:m.value)??{},f.value):m==null?void 0:m.value))}return{props:l,provideSubDefaults:d}}function ln(e,t){const{props:s,provideSubDefaults:a}=CL(e,t);return a(),s}const mo=(e,t)=>{const s=cv();return oe(()=>ft(e)||Zf(s||"",t))},Yf=Tt({name:"ConditionalTeleport",inheritAttrs:!1,props:{to:{type:[String,Object],default:null},disabled:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t}){return()=>{var s,a;return e.to?Di(lb,{to:e.to,disabled:e.disabled||!e.to},[(a=t.default)==null?void 0:a.call(t,{})]):(s=t.default)==null?void 0:s.call(t,{})}}});var IL=Object.defineProperty,PL=(e,t,s)=>t in e?IL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Pr=(e,t,s)=>PL(e,typeof t!="symbol"?t+"":t,s);class oc{constructor(t,s={}){if(Pr(this,"cancelable",!0),Pr(this,"componentId",null),Pr(this,"_defaultPrevented",!1),Pr(this,"eventType",""),Pr(this,"nativeEvent",null),Pr(this,"_preventDefault"),Pr(this,"relatedTarget",null),Pr(this,"target",null),!t)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,oc.Defaults,s,{eventType:t}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(t){this._defaultPrevented=t}get preventDefault(){return this._preventDefault}set preventDefault(t){this._preventDefault=t}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class NL extends oc{constructor(t,s={}){super(t,s),Pr(this,"trigger",null),Object.assign(this,oc.Defaults,s,{eventType:t})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Cp={name:"fade",enterActiveClass:"",enterFromClass:"showing",enterToClass:"",leaveActiveClass:"",leaveFromClass:"",leaveToClass:"showing",css:!0},Uc=(e,t,s,a,i,l={transitionProps:{},showFn:()=>{},hideFn:()=>{}})=>{var f;let d=!1;const m=!!e.value&&!t.initialAnimation||t.visible||!1,_=Fe(m),v=Fe(m),b=Fe(m);let E=typeof e.value!="boolean";tt(e,()=>{if(E=typeof e.value!="boolean",d){d=!1;return}e.value?D():F()});const x=Fe(m),I=Fe(!1),O=oe(()=>t.noAnimation||t.noFade||x.value||!1);Pi(()=>{var Le;if(!t.show&&m){const Te=B("show",{cancelable:!0});if(s("show",Te),Te.defaultPrevented){s("show-prevented",B("show-prevented"));return}x.value=!0,e.value||(d=!0,e.value=!0),v.value=!0,b.value=!0,Q.value=!0,Ue.value=!0,Me.value=!0,_.value=!0,(Le=l.showFn)==null||Le.call(l)}else(t.show||e.value&&t.initialAnimation)&&D()}),tt(()=>t.visible,Le=>{x.value=!0,Hn(()=>{Le&&(Q.value=!0),Le?D():F()})}),tt(()=>t.show,Le=>{Le?D():F()}),ti(a,"bv-toggle",()=>{e.value=!e.value});const B=(Le,Te={})=>new NL(Le,{cancelable:!1,target:(a==null?void 0:a.value)||null,relatedTarget:null,trigger:null,...Te,componentId:i==null?void 0:i.value});let P,N;const D=()=>{if(_.value&&!N)return;const Le=B("show",{cancelable:!0});if(s("show",Le),Le.defaultPrevented){s("show-prevented",B("show-prevented")),Q.value&&(Q.value=!1),e.value&&!E&&(d=!0,Hn(()=>{e.value=!1}));return}N&&(clearTimeout(N),N=void 0),v.value=!0,b.value=!0,requestAnimationFrame(()=>{var Te;P=setTimeout(()=>{var re;P=void 0,_.value=!0,(re=l.showFn)==null||re.call(l),e.value||(d=!0,Hn(()=>{e.value=!0}))},x.value?0:typeof t.delay=="number"?t.delay:((Te=t.delay)==null?void 0:Te.show)||0)})},F=Le=>{var Te;if(!_.value&&!P)return;const re=B("hide",{cancelable:!0,trigger:Le}),H=B(Le||"ignore",{cancelable:!0,trigger:Le});if(Le==="backdrop"&&t.noCloseOnBackdrop||Le==="esc"&&t.noCloseOnEsc){s("hide-prevented",B("hide-prevented"));return}if(Le&&s(Le,H),s("hide",re),re.defaultPrevented||H.defaultPrevented){s("hide-prevented",B("hide-prevented")),e.value||Hn(()=>{d=!0,e.value=!0});return}P&&(clearTimeout(P),P=void 0,I.value||(v.value=!1),b.value=!1),N=setTimeout(()=>{var Ee;N=void 0,ge.value=!0,_.value=!1,(Ee=l.hideFn)==null||Ee.call(l),e.value&&(d=!0,e.value=E?0:!1)},x.value?0:typeof t.delay=="number"?t.delay:((Te=t.delay)==null?void 0:Te.hide)||0)},W=Lp(Le=>F(Le),500),G=Lp(()=>D(),500),z=()=>{const Le=B("toggle",{cancelable:!0});if(s("toggle",Le),Le.defaultPrevented){s("toggle-prevented",B("toggle-prevented"));return}_.value?F():D()},ee=(f=nn($c,void 0))==null?void 0:f({id:i.value,toggle:z,show:D,hide:F,value:qn(_)});Dc(()=>{ee==null||ee.unregister()});const Z=Fe(!1),ie=()=>{t.lazy===!0&&(Z.value=!0)},ge=Fe(!1),ne=Fe(m),Q=Fe(m),X=Le=>{var Te,re,H,Ee;(re=(Te=l.transitionProps)==null?void 0:Te.onBeforeEnter)==null||re.call(Te,Le),(Ee=(H=t.transitionProps)==null?void 0:H.onBeforeEnter)==null||Ee.call(H,Le),ne.value=!0},_e=Le=>{var Te,re,H,Ee;requestAnimationFrame(()=>{requestAnimationFrame(()=>{Q.value=!0})}),(re=(Te=l.transitionProps)==null?void 0:Te.onEnter)==null||re.call(Te,Le),(Ee=(H=t.transitionProps)==null?void 0:H.onEnter)==null||Ee.call(H,Le)},ye=Le=>{var Te,re,H,Ee;s("shown",B("shown")),ie(),(re=(Te=l.transitionProps)==null?void 0:Te.onAfterEnter)==null||re.call(Te,Le),(Ee=(H=t.transitionProps)==null?void 0:H.onAfterEnter)==null||Ee.call(H,Le),x.value&&requestAnimationFrame(()=>{x.value=!1}),I.value&&(I.value=!1)},we=Le=>{var Te,re,H,Ee;ge.value||(ge.value=!0),(re=(Te=l.transitionProps)==null?void 0:Te.onBeforeLeave)==null||re.call(Te,Le),(Ee=(H=t.transitionProps)==null?void 0:H.onBeforeLeave)==null||Ee.call(H,Le)},pe=Le=>{var Te,re,H,Ee;Q.value=!1,(re=(Te=l.transitionProps)==null?void 0:Te.onLeave)==null||re.call(Te,Le),(Ee=(H=t.transitionProps)==null?void 0:H.onLeave)==null||Ee.call(H,Le)},Ne=Le=>{var Te,re,H,Ee;s("hidden",B("hidden")),(re=(Te=l.transitionProps)==null?void 0:Te.onAfterLeave)==null||re.call(Te,Le),(Ee=(H=t.transitionProps)==null?void 0:H.onAfterLeave)==null||Ee.call(H,Le),ge.value=!1,ne.value=!1,x.value&&requestAnimationFrame(()=>{x.value=!1}),requestAnimationFrame(()=>{I.value||(v.value=!1)})},ue=oe(()=>I.value===!0||ne.value===!0||t.lazy===!1||t.lazy===!0&&Z.value===!0&&t.unmountLazy===!1),Ae=Fe(!1);tt(Q,Le=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{Ae.value=Le},32)})})})})});const Ue=Fe(!1),Me=Fe(!1),Pe={...l.transitionProps,onBeforeEnter:X,onEnter:_e,onAfterEnter:ye,onBeforeLeave:we,onLeave:pe,onAfterLeave:Ne};return{showRef:_,renderRef:v,renderBackdropRef:b,isVisible:Q,isActive:ne,trapActive:Ae,show:D,hide:F,toggle:z,throttleHide:W,throttleShow:G,buildTriggerableEvent:B,computedNoAnimation:O,localNoAnimation:x,localTemporaryHide:I,isLeaving:ge,transitionProps:{...Cp,...t.transitionProps,...Pe},lazyLoadCompleted:Z,markLazyLoadCompleted:ie,contentShowing:ue,backdropReady:Me,backdropVisible:Ue,backdropTransitionProps:{...Cp,onBeforeEnter:()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ue.value=!0})}),Me.value=!1},onAfterEnter:()=>{Me.value=!0},onBeforeLeave:()=>{Ue.value=!1},onAfterLeave:()=>{Me.value=!1,requestAnimationFrame(()=>{b.value=!1})}}}},jf=(e,t)=>{const s=e.__vccOpts||e;for(const[a,i]of t)s[a]=i;return s},l_=["top","right","bottom","left"],Ip=["start","end"],Pp=l_.reduce((e,t)=>e.concat(t,t+"-"+Ip[0],t+"-"+Ip[1]),[]),Gi=Math.min,Pn=Math.max,ac=Math.round,wu=Math.floor,cr=e=>({x:e,y:e}),OL={left:"right",right:"left",bottom:"top",top:"bottom"},ML={start:"end",end:"start"};function nf(e,t,s){return Pn(e,Gi(t,s))}function Gr(e,t){return typeof e=="function"?e(t):e}function Ii(e){return e.split("-")[0]}function zi(e){return e.split("-")[1]}function u_(e){return e==="x"?"y":"x"}function Xf(e){return e==="y"?"height":"width"}function ms(e){return["top","bottom"].includes(Ii(e))?"y":"x"}function Kf(e){return u_(ms(e))}function c_(e,t,s){s===void 0&&(s=!1);const a=zi(e),i=Kf(e),l=Xf(i);let f=i==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(f=uc(f)),[f,uc(f)]}function AL(e){const t=uc(e);return[lc(e),t,lc(t)]}function lc(e){return e.replace(/start|end/g,t=>ML[t])}function RL(e,t,s){const a=["left","right"],i=["right","left"],l=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:a:t?a:i;case"left":case"right":return t?l:f;default:return[]}}function DL(e,t,s,a){const i=zi(e);let l=RL(Ii(e),s==="start",a);return i&&(l=l.map(f=>f+"-"+i),t&&(l=l.concat(l.map(lc)))),l}function uc(e){return e.replace(/left|right|bottom|top/g,t=>OL[t])}function BL(e){return{top:0,right:0,bottom:0,left:0,...e}}function Jf(e){return typeof e!="number"?BL(e):{top:e,right:e,bottom:e,left:e}}function na(e){const{x:t,y:s,width:a,height:i}=e;return{width:a,height:i,top:s,left:t,right:t+a,bottom:s+i,x:t,y:s}}function Np(e,t,s){let{reference:a,floating:i}=e;const l=ms(t),f=Kf(t),d=Xf(f),m=Ii(t),_=l==="y",v=a.x+a.width/2-i.width/2,b=a.y+a.height/2-i.height/2,E=a[d]/2-i[d]/2;let x;switch(m){case"top":x={x:v,y:a.y-i.height};break;case"bottom":x={x:v,y:a.y+a.height};break;case"right":x={x:a.x+a.width,y:b};break;case"left":x={x:a.x-i.width,y:b};break;default:x={x:a.x,y:a.y}}switch(zi(t)){case"start":x[f]-=E*(s&&_?-1:1);break;case"end":x[f]+=E*(s&&_?-1:1);break}return x}const FL=async(e,t,s)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:f}=s,d=l.filter(Boolean),m=await(f.isRTL==null?void 0:f.isRTL(t));let _=await f.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y:b}=Np(_,a,m),E=a,x={},I=0;for(let O=0;O<d.length;O++){const{name:B,fn:P}=d[O],{x:N,y:D,data:F,reset:W}=await P({x:v,y:b,initialPlacement:a,placement:E,strategy:i,middlewareData:x,rects:_,platform:f,elements:{reference:e,floating:t}});v=N??v,b=D??b,x={...x,[B]:{...x[B],...F}},W&&I<=50&&(I++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(_=W.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:i}):W.rects),{x:v,y:b}=Np(_,E,m)),O=-1)}return{x:v,y:b,placement:E,strategy:i,middlewareData:x}};async function ia(e,t){var s;t===void 0&&(t={});const{x:a,y:i,platform:l,rects:f,elements:d,strategy:m}=e,{boundary:_="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:E=!1,padding:x=0}=Gr(t,e),I=Jf(x),B=d[E?b==="floating"?"reference":"floating":b],P=na(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(B)))==null||s?B:B.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:_,rootBoundary:v,strategy:m})),N=b==="floating"?{x:a,y:i,width:f.floating.width,height:f.floating.height}:f.reference,D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),F=await(l.isElement==null?void 0:l.isElement(D))?await(l.getScale==null?void 0:l.getScale(D))||{x:1,y:1}:{x:1,y:1},W=na(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:D,strategy:m}):N);return{top:(P.top-W.top+I.top)/F.y,bottom:(W.bottom-P.bottom+I.bottom)/F.y,left:(P.left-W.left+I.left)/F.x,right:(W.right-P.right+I.right)/F.x}}const zL=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:i,rects:l,platform:f,elements:d,middlewareData:m}=t,{element:_,padding:v=0}=Gr(e,t)||{};if(_==null)return{};const b=Jf(v),E={x:s,y:a},x=Kf(i),I=Xf(x),O=await f.getDimensions(_),B=x==="y",P=B?"top":"left",N=B?"bottom":"right",D=B?"clientHeight":"clientWidth",F=l.reference[I]+l.reference[x]-E[x]-l.floating[I],W=E[x]-l.reference[x],G=await(f.getOffsetParent==null?void 0:f.getOffsetParent(_));let z=G?G[D]:0;(!z||!await(f.isElement==null?void 0:f.isElement(G)))&&(z=d.floating[D]||l.floating[I]);const ee=F/2-W/2,Z=z/2-O[I]/2-1,ie=Gi(b[P],Z),ge=Gi(b[N],Z),ne=ie,Q=z-O[I]-ge,X=z/2-O[I]/2+ee,_e=nf(ne,X,Q),ye=!m.arrow&&zi(i)!=null&&X!==_e&&l.reference[I]/2-(X<ne?ie:ge)-O[I]/2<0,we=ye?X<ne?X-ne:X-Q:0;return{[x]:E[x]+we,data:{[x]:_e,centerOffset:X-_e-we,...ye&&{alignmentOffset:we}},reset:ye}}});function $L(e,t,s){return(e?[...s.filter(i=>zi(i)===e),...s.filter(i=>zi(i)!==e)]:s.filter(i=>Ii(i)===i)).filter(i=>e?zi(i)===e||(t?lc(i)!==i:!1):!0)}const UL=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var s,a,i;const{rects:l,middlewareData:f,placement:d,platform:m,elements:_}=t,{crossAxis:v=!1,alignment:b,allowedPlacements:E=Pp,autoAlignment:x=!0,...I}=Gr(e,t),O=b!==void 0||E===Pp?$L(b||null,x,E):E,B=await ia(t,I),P=((s=f.autoPlacement)==null?void 0:s.index)||0,N=O[P];if(N==null)return{};const D=c_(N,l,await(m.isRTL==null?void 0:m.isRTL(_.floating)));if(d!==N)return{reset:{placement:O[0]}};const F=[B[Ii(N)],B[D[0]],B[D[1]]],W=[...((a=f.autoPlacement)==null?void 0:a.overflows)||[],{placement:N,overflows:F}],G=O[P+1];if(G)return{data:{index:P+1,overflows:W},reset:{placement:G}};const z=W.map(ie=>{const ge=zi(ie.placement);return[ie.placement,ge&&v?ie.overflows.slice(0,2).reduce((ne,Q)=>ne+Q,0):ie.overflows[0],ie.overflows]}).sort((ie,ge)=>ie[1]-ge[1]),Z=((i=z.filter(ie=>ie[2].slice(0,zi(ie[0])?2:3).every(ge=>ge<=0))[0])==null?void 0:i[0])||z[0][0];return Z!==d?{data:{index:P+1,overflows:W},reset:{placement:Z}}:{}}}},GL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:i,middlewareData:l,rects:f,initialPlacement:d,platform:m,elements:_}=t,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:O=!0,...B}=Gr(e,t);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const P=Ii(i),N=ms(d),D=Ii(d)===d,F=await(m.isRTL==null?void 0:m.isRTL(_.floating)),W=E||(D||!O?[uc(d)]:AL(d)),G=I!=="none";!E&&G&&W.push(...DL(d,O,I,F));const z=[d,...W],ee=await ia(t,B),Z=[];let ie=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&Z.push(ee[P]),b){const X=c_(i,f,F);Z.push(ee[X[0]],ee[X[1]])}if(ie=[...ie,{placement:i,overflows:Z}],!Z.every(X=>X<=0)){var ge,ne;const X=(((ge=l.flip)==null?void 0:ge.index)||0)+1,_e=z[X];if(_e)return{data:{index:X,overflows:ie},reset:{placement:_e}};let ye=(ne=ie.filter(we=>we.overflows[0]<=0).sort((we,pe)=>we.overflows[1]-pe.overflows[1])[0])==null?void 0:ne.placement;if(!ye)switch(x){case"bestFit":{var Q;const we=(Q=ie.filter(pe=>{if(G){const Ne=ms(pe.placement);return Ne===N||Ne==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(Ne=>Ne>0).reduce((Ne,ue)=>Ne+ue,0)]).sort((pe,Ne)=>pe[1]-Ne[1])[0])==null?void 0:Q[0];we&&(ye=we);break}case"initialPlacement":ye=d;break}if(i!==ye)return{reset:{placement:ye}}}return{}}}};function Op(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mp(e){return l_.some(t=>e[t]>=0)}const VL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...i}=Gr(e,t);switch(a){case"referenceHidden":{const l=await ia(t,{...i,elementContext:"reference"}),f=Op(l,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:Mp(f)}}}case"escaped":{const l=await ia(t,{...i,altBoundary:!0}),f=Op(l,s.floating);return{data:{escapedOffsets:f,escaped:Mp(f)}}}default:return{}}}}};function h_(e){const t=Gi(...e.map(l=>l.left)),s=Gi(...e.map(l=>l.top)),a=Pn(...e.map(l=>l.right)),i=Pn(...e.map(l=>l.bottom));return{x:t,y:s,width:a-t,height:i-s}}function HL(e){const t=e.slice().sort((i,l)=>i.y-l.y),s=[];let a=null;for(let i=0;i<t.length;i++){const l=t[i];!a||l.y-a.y>a.height/2?s.push([l]):s[s.length-1].push(l),a=l}return s.map(i=>na(h_(i)))}const qL=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:s,elements:a,rects:i,platform:l,strategy:f}=t,{padding:d=2,x:m,y:_}=Gr(e,t),v=Array.from(await(l.getClientRects==null?void 0:l.getClientRects(a.reference))||[]),b=HL(v),E=na(h_(v)),x=Jf(d);function I(){if(b.length===2&&b[0].left>b[1].right&&m!=null&&_!=null)return b.find(B=>m>B.left-x.left&&m<B.right+x.right&&_>B.top-x.top&&_<B.bottom+x.bottom)||E;if(b.length>=2){if(ms(s)==="y"){const ie=b[0],ge=b[b.length-1],ne=Ii(s)==="top",Q=ie.top,X=ge.bottom,_e=ne?ie.left:ge.left,ye=ne?ie.right:ge.right,we=ye-_e,pe=X-Q;return{top:Q,bottom:X,left:_e,right:ye,width:we,height:pe,x:_e,y:Q}}const B=Ii(s)==="left",P=Pn(...b.map(ie=>ie.right)),N=Gi(...b.map(ie=>ie.left)),D=b.filter(ie=>B?ie.left===N:ie.right===P),F=D[0].top,W=D[D.length-1].bottom,G=N,z=P,ee=z-G,Z=W-F;return{top:F,bottom:W,left:G,right:z,width:ee,height:Z,x:G,y:F}}return E}const O=await l.getElementRects({reference:{getBoundingClientRect:I},floating:a.floating,strategy:f});return i.reference.x!==O.reference.x||i.reference.y!==O.reference.y||i.reference.width!==O.reference.width||i.reference.height!==O.reference.height?{reset:{rects:O}}:{}}}};async function WL(e,t){const{placement:s,platform:a,elements:i}=e,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),f=Ii(s),d=zi(s),m=ms(s)==="y",_=["left","top"].includes(f)?-1:1,v=l&&m?-1:1,b=Gr(t,e);let{mainAxis:E,crossAxis:x,alignmentAxis:I}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof I=="number"&&(x=d==="end"?I*-1:I),m?{x:x*v,y:E*_}:{x:E*_,y:x*v}}const ZL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:i,y:l,placement:f,middlewareData:d}=t,m=await WL(t,e);return f===((s=d.offset)==null?void 0:s.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:f}}}}},YL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:i}=t,{mainAxis:l=!0,crossAxis:f=!1,limiter:d={fn:B=>{let{x:P,y:N}=B;return{x:P,y:N}}},...m}=Gr(e,t),_={x:s,y:a},v=await ia(t,m),b=ms(Ii(i)),E=u_(b);let x=_[E],I=_[b];if(l){const B=E==="y"?"top":"left",P=E==="y"?"bottom":"right",N=x+v[B],D=x-v[P];x=nf(N,x,D)}if(f){const B=b==="y"?"top":"left",P=b==="y"?"bottom":"right",N=I+v[B],D=I-v[P];I=nf(N,I,D)}const O=d.fn({...t,[E]:x,[b]:I});return{...O,data:{x:O.x-s,y:O.y-a,enabled:{[E]:l,[b]:f}}}}}},jL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:i,rects:l,platform:f,elements:d}=t,{apply:m=()=>{},..._}=Gr(e,t),v=await ia(t,_),b=Ii(i),E=zi(i),x=ms(i)==="y",{width:I,height:O}=l.floating;let B,P;b==="top"||b==="bottom"?(B=b,P=E===(await(f.isRTL==null?void 0:f.isRTL(d.floating))?"start":"end")?"left":"right"):(P=b,B=E==="end"?"top":"bottom");const N=O-v.top-v.bottom,D=I-v.left-v.right,F=Gi(O-v[B],N),W=Gi(I-v[P],D),G=!t.middlewareData.shift;let z=F,ee=W;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(ee=D),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(z=N),G&&!E){const ie=Pn(v.left,0),ge=Pn(v.right,0),ne=Pn(v.top,0),Q=Pn(v.bottom,0);x?ee=I-2*(ie!==0||ge!==0?ie+ge:Pn(v.left,v.right)):z=O-2*(ne!==0||Q!==0?ne+Q:Pn(v.top,v.bottom))}await m({...t,availableWidth:ee,availableHeight:z});const Z=await f.getDimensions(d.floating);return I!==Z.width||O!==Z.height?{reset:{rects:!0}}:{}}}};function Gc(){return typeof window<"u"}function go(e){return Qf(e)?(e.nodeName||"").toLowerCase():"#document"}function hi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gr(e){var t;return(t=(Qf(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qf(e){return Gc()?e instanceof Node||e instanceof hi(e).Node:!1}function Vi(e){return Gc()?e instanceof Element||e instanceof hi(e).Element:!1}function dr(e){return Gc()?e instanceof HTMLElement||e instanceof hi(e).HTMLElement:!1}function Ap(e){return!Gc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hi(e).ShadowRoot}function Hl(e){const{overflow:t,overflowX:s,overflowY:a,display:i}=Hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!["inline","contents"].includes(i)}function XL(e){return["table","td","th"].includes(go(e))}function Vc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ed(e){const t=td(),s=Vi(e)?Hi(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function KL(e){let t=gs(e);for(;dr(t)&&!ra(t);){if(ed(t))return t;if(Vc(t))return null;t=gs(t)}return null}function td(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ra(e){return["html","body","#document"].includes(go(e))}function Hi(e){return hi(e).getComputedStyle(e)}function Hc(e){return Vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gs(e){if(go(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ap(e)&&e.host||gr(e);return Ap(t)?t.host:t}function f_(e){const t=gs(e);return ra(t)?e.ownerDocument?e.ownerDocument.body:e.body:dr(t)&&Hl(t)?t:f_(t)}function Il(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=f_(e),l=i===((a=e.ownerDocument)==null?void 0:a.body),f=hi(i);if(l){const d=rf(f);return t.concat(f,f.visualViewport||[],Hl(i)?i:[],d&&s?Il(d):[])}return t.concat(i,Il(i,[],s))}function rf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function d_(e){const t=Hi(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const i=dr(e),l=i?e.offsetWidth:s,f=i?e.offsetHeight:a,d=ac(s)!==l||ac(a)!==f;return d&&(s=l,a=f),{width:s,height:a,$:d}}function nd(e){return Vi(e)?e:e.contextElement}function Qo(e){const t=nd(e);if(!dr(t))return cr(1);const s=t.getBoundingClientRect(),{width:a,height:i,$:l}=d_(t);let f=(l?ac(s.width):s.width)/a,d=(l?ac(s.height):s.height)/i;return(!f||!Number.isFinite(f))&&(f=1),(!d||!Number.isFinite(d))&&(d=1),{x:f,y:d}}const JL=cr(0);function p_(e){const t=hi(e);return!td()||!t.visualViewport?JL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QL(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==hi(e)?!1:t}function lo(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),l=nd(e);let f=cr(1);t&&(a?Vi(a)&&(f=Qo(a)):f=Qo(e));const d=QL(l,s,a)?p_(l):cr(0);let m=(i.left+d.x)/f.x,_=(i.top+d.y)/f.y,v=i.width/f.x,b=i.height/f.y;if(l){const E=hi(l),x=a&&Vi(a)?hi(a):a;let I=E,O=rf(I);for(;O&&a&&x!==I;){const B=Qo(O),P=O.getBoundingClientRect(),N=Hi(O),D=P.left+(O.clientLeft+parseFloat(N.paddingLeft))*B.x,F=P.top+(O.clientTop+parseFloat(N.paddingTop))*B.y;m*=B.x,_*=B.y,v*=B.x,b*=B.y,m+=D,_+=F,I=hi(O),O=rf(I)}}return na({width:v,height:b,x:m,y:_})}function id(e,t){const s=Hc(e).scrollLeft;return t?t.left+s:lo(gr(e)).left+s}function m_(e,t,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=a.left+t.scrollLeft-(s?0:id(e,a)),l=a.top+t.scrollTop;return{x:i,y:l}}function eE(e){let{elements:t,rect:s,offsetParent:a,strategy:i}=e;const l=i==="fixed",f=gr(a),d=t?Vc(t.floating):!1;if(a===f||d&&l)return s;let m={scrollLeft:0,scrollTop:0},_=cr(1);const v=cr(0),b=dr(a);if((b||!b&&!l)&&((go(a)!=="body"||Hl(f))&&(m=Hc(a)),dr(a))){const x=lo(a);_=Qo(a),v.x=x.x+a.clientLeft,v.y=x.y+a.clientTop}const E=f&&!b&&!l?m_(f,m,!0):cr(0);return{width:s.width*_.x,height:s.height*_.y,x:s.x*_.x-m.scrollLeft*_.x+v.x+E.x,y:s.y*_.y-m.scrollTop*_.y+v.y+E.y}}function tE(e){return Array.from(e.getClientRects())}function nE(e){const t=gr(e),s=Hc(e),a=e.ownerDocument.body,i=Pn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=Pn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-s.scrollLeft+id(e);const d=-s.scrollTop;return Hi(a).direction==="rtl"&&(f+=Pn(t.clientWidth,a.clientWidth)-i),{width:i,height:l,x:f,y:d}}function iE(e,t){const s=hi(e),a=gr(e),i=s.visualViewport;let l=a.clientWidth,f=a.clientHeight,d=0,m=0;if(i){l=i.width,f=i.height;const _=td();(!_||_&&t==="fixed")&&(d=i.offsetLeft,m=i.offsetTop)}return{width:l,height:f,x:d,y:m}}function rE(e,t){const s=lo(e,!0,t==="fixed"),a=s.top+e.clientTop,i=s.left+e.clientLeft,l=dr(e)?Qo(e):cr(1),f=e.clientWidth*l.x,d=e.clientHeight*l.y,m=i*l.x,_=a*l.y;return{width:f,height:d,x:m,y:_}}function Rp(e,t,s){let a;if(t==="viewport")a=iE(e,s);else if(t==="document")a=nE(gr(e));else if(Vi(t))a=rE(t,s);else{const i=p_(e);a={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return na(a)}function g_(e,t){const s=gs(e);return s===t||!Vi(s)||ra(s)?!1:Hi(s).position==="fixed"||g_(s,t)}function sE(e,t){const s=t.get(e);if(s)return s;let a=Il(e,[],!1).filter(d=>Vi(d)&&go(d)!=="body"),i=null;const l=Hi(e).position==="fixed";let f=l?gs(e):e;for(;Vi(f)&&!ra(f);){const d=Hi(f),m=ed(f);!m&&d.position==="fixed"&&(i=null),(l?!m&&!i:!m&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Hl(f)&&!m&&g_(e,f))?a=a.filter(v=>v!==f):i=d,f=gs(f)}return t.set(e,a),a}function oE(e){let{element:t,boundary:s,rootBoundary:a,strategy:i}=e;const f=[...s==="clippingAncestors"?Vc(t)?[]:sE(t,this._c):[].concat(s),a],d=f[0],m=f.reduce((_,v)=>{const b=Rp(t,v,i);return _.top=Pn(b.top,_.top),_.right=Gi(b.right,_.right),_.bottom=Gi(b.bottom,_.bottom),_.left=Pn(b.left,_.left),_},Rp(t,d,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function aE(e){const{width:t,height:s}=d_(e);return{width:t,height:s}}function lE(e,t,s){const a=dr(t),i=gr(t),l=s==="fixed",f=lo(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const m=cr(0);if(a||!a&&!l)if((go(t)!=="body"||Hl(i))&&(d=Hc(t)),a){const E=lo(t,!0,l,t);m.x=E.x+t.clientLeft,m.y=E.y+t.clientTop}else i&&(m.x=id(i));const _=i&&!a&&!l?m_(i,d):cr(0),v=f.left+d.scrollLeft-m.x-_.x,b=f.top+d.scrollTop-m.y-_.y;return{x:v,y:b,width:f.width,height:f.height}}function Nh(e){return Hi(e).position==="static"}function Dp(e,t){if(!dr(e)||Hi(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return gr(e)===s&&(s=s.ownerDocument.body),s}function v_(e,t){const s=hi(e);if(Vc(e))return s;if(!dr(e)){let i=gs(e);for(;i&&!ra(i);){if(Vi(i)&&!Nh(i))return i;i=gs(i)}return s}let a=Dp(e,t);for(;a&&XL(a)&&Nh(a);)a=Dp(a,t);return a&&ra(a)&&Nh(a)&&!ed(a)?s:a||KL(e)||s}const uE=async function(e){const t=this.getOffsetParent||v_,s=this.getDimensions,a=await s(e.floating);return{reference:lE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function cE(e){return Hi(e).direction==="rtl"}const hE={convertOffsetParentRelativeRectToViewportRelativeRect:eE,getDocumentElement:gr,getClippingRect:oE,getOffsetParent:v_,getElementRects:uE,getClientRects:tE,getDimensions:aE,getScale:Qo,isElement:Vi,isRTL:cE};function fE(e,t){let s=null,a;const i=gr(e);function l(){var d;clearTimeout(a),(d=s)==null||d.disconnect(),s=null}function f(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const{left:_,top:v,width:b,height:E}=e.getBoundingClientRect();if(d||t(),!b||!E)return;const x=wu(v),I=wu(i.clientWidth-(_+b)),O=wu(i.clientHeight-(v+E)),B=wu(_),N={rootMargin:-x+"px "+-I+"px "+-O+"px "+-B+"px",threshold:Pn(0,Gi(1,m))||1};let D=!0;function F(W){const G=W[0].intersectionRatio;if(G!==m){if(!D)return f();G?f(!1,G):a=setTimeout(()=>{f(!1,1e-7)},1e3)}D=!1}try{s=new IntersectionObserver(F,{...N,root:i.ownerDocument})}catch{s=new IntersectionObserver(F,N)}s.observe(e)}return f(!0),l}function __(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,_=nd(e),v=i||l?[..._?Il(_):[],...Il(t)]:[];v.forEach(P=>{i&&P.addEventListener("scroll",s,{passive:!0}),l&&P.addEventListener("resize",s)});const b=_&&d?fE(_,s):null;let E=-1,x=null;f&&(x=new ResizeObserver(P=>{let[N]=P;N&&N.target===_&&x&&(x.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var D;(D=x)==null||D.observe(t)})),s()}),_&&!m&&x.observe(_),x.observe(t));let I,O=m?lo(e):null;m&&B();function B(){const P=lo(e);O&&(P.x!==O.x||P.y!==O.y||P.width!==O.width||P.height!==O.height)&&s(),O=P,I=requestAnimationFrame(B)}return s(),()=>{var P;v.forEach(N=>{i&&N.removeEventListener("scroll",s),l&&N.removeEventListener("resize",s)}),b==null||b(),(P=x)==null||P.disconnect(),x=null,m&&cancelAnimationFrame(I)}}const y_=ZL,dE=UL,b_=YL,w_=GL,L_=jL,pE=VL,mE=zL,gE=qL,vE=(e,t,s)=>{const a=new Map,i={platform:hE,...s},l={...i.platform,_c:a};return FL(e,t,{...i,platform:l})};function _E(e){return e!=null&&typeof e=="object"&&"$el"in e}function sf(e){if(_E(e)){const t=e.$el;return Qf(t)&&go(t)==="#comment"?null:t}return e}function Ho(e){return typeof e=="function"?e():U(e)}function yE(e){return{name:"arrow",options:e,fn(t){const s=sf(Ho(e.element));return s==null?{}:mE({element:s,padding:e.padding}).fn(t)}}}function E_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Bp(e,t){const s=E_(e);return Math.round(t*s)/s}function k_(e,t,s){s===void 0&&(s={});const a=s.whileElementsMounted,i=oe(()=>{var z;return(z=Ho(s.open))!=null?z:!0}),l=oe(()=>Ho(s.middleware)),f=oe(()=>{var z;return(z=Ho(s.placement))!=null?z:"bottom"}),d=oe(()=>{var z;return(z=Ho(s.strategy))!=null?z:"absolute"}),m=oe(()=>{var z;return(z=Ho(s.transform))!=null?z:!0}),_=oe(()=>sf(e.value)),v=oe(()=>sf(t.value)),b=Fe(0),E=Fe(0),x=Fe(d.value),I=Fe(f.value),O=Nn({}),B=Fe(!1),P=oe(()=>{const z={position:x.value,left:"0",top:"0"};if(!v.value)return z;const ee=Bp(v.value,b.value),Z=Bp(v.value,E.value);return m.value?{...z,transform:"translate("+ee+"px, "+Z+"px)",...E_(v.value)>=1.5&&{willChange:"transform"}}:{position:x.value,left:ee+"px",top:Z+"px"}});let N;function D(){if(_.value==null||v.value==null)return;const z=i.value;vE(_.value,v.value,{middleware:l.value,placement:f.value,strategy:d.value}).then(ee=>{b.value=ee.x,E.value=ee.y,x.value=ee.strategy,I.value=ee.placement,O.value=ee.middlewareData,B.value=z!==!1})}function F(){typeof N=="function"&&(N(),N=void 0)}function W(){if(F(),a===void 0){D();return}if(_.value!=null&&v.value!=null){N=a(_.value,v.value,D);return}}function G(){i.value||(B.value=!1)}return tt([l,f,d,i],D,{flush:"sync"}),tt([_,v],W,{flush:"sync"}),tt(i,G,{flush:"sync"}),Bf()&&ju(F),{x:Uo(b),y:Uo(E),strategy:Uo(x),placement:Uo(I),middlewareData:Uo(O),isPositioned:Uo(B),floatingStyles:P,update:D}}const bE=Jv(dL),wE=["id"],LE=["id"],EE=Tt({inheritAttrs:!1,__name:"BPopover",props:ii({boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},click:{type:Boolean,default:!1},closeOnHide:{type:Boolean,default:!1},content:{default:void 0},customClass:{default:""},delay:{default:()=>({show:100,hide:300})},floatingMiddleware:{default:void 0},hideMargin:{default:2},id:{default:void 0},inline:{type:Boolean,default:!1},manual:{type:Boolean,default:!1},noAutoClose:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noHide:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},noninteractive:{type:Boolean,default:!1},offset:{default:null},placement:{default:"top"},realtime:{type:Boolean,default:!1},reference:{default:null},strategy:{default:"absolute"},target:{default:null},title:{default:void 0},tooltip:{type:Boolean,default:!1},variant:{default:null},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["pointerleave","blur","click-outside","close-on-hide","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=ln(e,"BPopover"),l=s,f=$l(),d=fr(e,"modelValue"),m=mo(()=>i.id,"popover"),_=Fe(!1),v=an("_element"),b=an("_content"),E=an("_arrow"),x=an("_placeholder"),I=Fe(null),O=Fe(null),B=oe(()=>i.placement.startsWith("auto")),P=Cl(()=>i.offset??NaN),N=oe(()=>rd(i.boundary)?i.boundary:void 0),D=oe(()=>T_(i.boundary)?i.boundary:void 0),F=Fe({}),W=oe(()=>{if(i.floatingMiddleware!==void 0)return i.floatingMiddleware;const q=i.offset!==null?P.value:i.tooltip?6:8,K=[y_(q)];return i.noFlip===!1&&!B.value&&K.push(w_({boundary:N.value,rootBoundary:D.value,padding:i.boundaryPadding})),B.value&&K.push(dE({alignment:i.placement.split("-")[1]||void 0,boundary:N.value,rootBoundary:D.value,padding:i.boundaryPadding})),i.noShift===!1&&K.push(b_({boundary:N.value,rootBoundary:D.value,padding:i.boundaryPadding})),i.noHide===!1&&K.push(pE({boundary:N.value,rootBoundary:D.value,padding:i.boundaryPadding})),i.inline===!0&&K.push(gE()),K.push(yE({element:E,padding:10})),i.noSize===!1&&K.push(L_({boundary:N.value,rootBoundary:D.value,padding:i.boundaryPadding,apply({availableWidth:ce,availableHeight:ve}){var me,$;F.value={maxHeight:ve>=(((me=b.value)==null?void 0:me.scrollHeight)??0)?void 0:ve?`${Math.max(0,ve)}px`:void 0,maxWidth:ce>=((($=b.value)==null?void 0:$.scrollWidth)??0)?void 0:ce?`${Math.max(0,ce)}px`:void 0}}})),K}),G=oe(()=>B.value?void 0:i.placement),{floatingStyles:z,middlewareData:ee,placement:Z,update:ie}=k_(I,v,{placement:G,middleware:W,strategy:tn(()=>i.strategy)}),ge=Fe({position:"absolute"});tt(ee,q=>{var K,ce;if(i.noHide===!1&&((K=q.hide)!=null&&K.referenceHidden&&!_.value&&Q.value?i.closeOnHide&&!i.noAutoClose&&!i.manual?we("close-on-hide"):(Me.value=!0,_.value=!0):Me.value&&!((ce=q.hide)!=null&&ce.referenceHidden)&&(Me.value=!1,_.value=!1)),q.arrow){const{x:ve,y:me}=q.arrow;ge.value={position:"absolute",top:me?`${me}px`:"",left:ve?`${ve}px`:""}}});let ne;const{showRef:Q,hide:X,show:_e,toggle:ye,throttleHide:we,computedNoAnimation:pe,transitionProps:Ne,contentShowing:ue,isVisible:Ae,renderRef:Ue,localTemporaryHide:Me}=Uc(d,i,l,v,m,{showFn:()=>{ie(),Hn(()=>{ne=__(I.value,v.value,ie,{animationFrame:i.realtime})})},hideFn:()=>{ne&&(ne(),ne=void 0)}}),Pe=oe(()=>{const q=i.tooltip?"tooltip":"popover";return[q,`b-${q}`,{[`b-${q}-${i.variant}`]:i.variant!==null,show:Ae.value&&!_.value,fade:!pe.value,[`${i.customClass}`]:i.customClass!==void 0,[`bs-${q}-${kE(Z.value)}`]:Z.value!==void 0}]}),{x:Le,y:Te}=bE(),re=()=>{var q,K;const ce=(q=O.value)==null?void 0:q.getBoundingClientRect(),ve=(K=v.value)==null?void 0:K.getBoundingClientRect(),me=parseInt(i.hideMargin,10)||0,$=(window==null?void 0:window.scrollX)||0,M=(window==null?void 0:window.scrollY)||0,J=!ce||Le.value<ce.left+$-me||Le.value>ce.right+$+me||Te.value<ce.top+M-me||Te.value>ce.bottom+M+me,le=!ve||Le.value<ve.left+$-me||Le.value>ve.right+$+me||Te.value<ve.top+M-me||Te.value>ve.bottom+M+me;return{triggerIsOutside:J,isOutside:le}};let H;const Ee=q=>{var K,ce;const{triggerIsOutside:ve,isOutside:me}=re();!i.noninteractive&&me&&ve&&!((K=v.value)!=null&&K.contains(document==null?void 0:document.activeElement))&&!((ce=O.value)!=null&&ce.contains(document==null?void 0:document.activeElement))||i.noninteractive&&ve?X(q==null?void 0:q.type):(H&&clearTimeout(H),H=setTimeout(()=>{Ee(q)},50))};tt(Ae,()=>{ie()}),t({hide:X,show:_e,toggle:ye});const Ce=q=>{Q.value?X(q.type==="click"?"click":"toggle"):_e()},Ie=()=>{var q;if(i.target){const K=sc(ft(i.target));K?O.value=K:console.warn("Target element not found",i.target)}else O.value=(q=x.value)==null?void 0:q.nextElementSibling;if(i.reference){const K=sc(ft(i.reference));K?I.value=K:console.warn("Reference element not found",i.reference)}else I.value=O.value;if(!(!O.value||i.manual)){if(i.click){O.value.addEventListener("click",Ce);return}O.value.addEventListener("pointerenter",_e),O.value.addEventListener("pointerleave",Ee),O.value.addEventListener("focus",_e),O.value.addEventListener("blur",Ee)}},S=()=>{O.value&&(O.value.removeEventListener("click",Ce),O.value.removeEventListener("pointerenter",_e),O.value.removeEventListener("pointerleave",Ee),O.value.removeEventListener("focus",_e),O.value.removeEventListener("blur",Ee))};return n_(v,()=>{Q.value&&i.click&&!i.noAutoClose&&!i.manual&&X("click-outside")},{ignore:[O]}),tt([()=>i.click,()=>i.target,()=>i.reference],()=>{S(),Ie()}),Pi(()=>{Ie(),Hn(()=>{ie()})}),Dc(S),(q,K)=>(be(),ze(ct,null,[he("span",{id:U(m)+"_placeholder",ref:"_placeholder",style:{display:"none"}},null,8,wE),ut(q.$slots,"target",{show:U(_e),hide:U(X),toggle:U(ye),visible:U(Q)},void 0,!0),$e(Yf,{to:U(i).teleportTo,disabled:!U(i).teleportTo||U(i).teleportDisabled},{default:et(()=>[U(Ue)||U(ue)?(be(),pt(Tl,yt({key:0},U(Ne),{appear:d.value||U(i).visible}),{default:et(()=>[Qt(he("div",yt({id:U(m)},q.$attrs,{ref:"_element",class:Pe.value,role:"tooltip",tabindex:"-1",style:U(z)}),[he("div",{ref:"_arrow",class:Nt(`${U(i).tooltip?"tooltip":"popover"}-arrow`),style:zr(ge.value),"data-popper-arrow":""},null,6),he("div",{ref:"_content",class:"overflow-auto",style:zr(F.value)},[U(i).title||f.title?(be(),ze("div",{key:0,class:Nt(["position-sticky top-0",U(i).tooltip?"tooltip-inner":"popover-header"])},[ut(q.$slots,"title",{},()=>[vt(qe(U(i).title),1)],!0)],2)):kt("",!0),U(i).tooltip&&!f.title&&!U(i).title||!U(i).tooltip?(be(),ze("div",{key:1,class:Nt(U(i).tooltip?"tooltip-inner":"popover-body")},[ut(q.$slots,"default",{},()=>[vt(qe(U(i).content),1)],!0)],2)):kt("",!0)],4)],16,LE),[[Sl,U(Q)&&!_.value]])]),_:3},16,["appear"])):kt("",!0)]),_:3},8,["to","disabled"])],64))}}),x_=jf(EE,[["__scopeId","data-v-d4670342"]]),kE=e=>{const[t]=e.split("-");switch(t){case"left":return"start";case"right":return"end";default:return t}},xE=e=>{const[t]=e.split("-");switch(t){case"left":return"start";case"right":return"end";case"top":return"up";case"bottom":return"down";default:return t}},rd=e=>e==="clippingAncestors"||e instanceof Element||Array.isArray(e),T_=e=>!rd(e),TE=(e,t)=>[...t].reduce((s,a)=>(s[a]=e[a],s),{}),Xa=(e,t,s)=>{const a=t.split(/[.[\]]/g);let i=e;for(const l of a){if(i===null||i===void 0)return s;l.trim()!==""&&(i=i[l])}return i===void 0?s:i},S_=Tt({inheritAttrs:!1,__name:"BCollapse",props:ii({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},tag:{default:"div"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noFade:{type:Boolean},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=ln(e,"BCollapse"),l=s,f=fr(e,"modelValue"),d=mo(()=>i.id,"collapse"),m=an("_element");let _=!1;const v=ie=>{_=!0,requestAnimationFrame(()=>{i.horizontal?ie.style.width=`${ie.scrollWidth}px`:ie.style.height=`${ie.scrollHeight}px`})},b=ie=>{_||(i.horizontal?ie.style.width=`${ie.scrollWidth}px`:ie.style.height=`${ie.scrollHeight}px`,ie.offsetHeight)},E=ie=>{requestAnimationFrame(()=>{i.horizontal?ie.style.width="":ie.style.height=""})},x=ie=>{ie.style.height="",ie.style.width="",_=!1},I=ie=>{ie.style.height="",ie.style.width="",_=!1},{showRef:O,renderRef:B,hide:P,show:N,toggle:D,isActive:F,computedNoAnimation:W,contentShowing:G,transitionProps:z}=Uc(f,i,l,m,d,{transitionProps:{onBeforeLeave:b,onEnter:v,onLeave:E,onAfterEnter:x,onAfterLeave:I,enterToClass:"",leaveToClass:"",enterFromClass:"",leaveFromClass:"",enterActiveClass:"",leaveActiveClass:""}}),ee=oe(()=>({show:F.value,"navbar-collapse":i.isNav,"collapse-horizontal":i.horizontal})),Z=oe(()=>({toggle:D,show:N,hide:P,id:d.value,visible:O.value}));return t({hide:P,isNav:i.isNav,show:N,toggle:D,visible:qn(O)}),hs(jv,{id:d,hide:P,show:N,toggle:D,visible:qn(O),isNav:tn(()=>i.isNav)}),(ie,ge)=>(be(),ze(ct,null,[ut(ie.$slots,"header",xi(sr(Z.value))),U(B)||U(G)?(be(),pt(Tl,yt({key:0},U(z),{"enter-active-class":U(W)?"":"collapsing","leave-active-class":U(W)?"":"collapsing",appear:f.value||U(i).visible}),{default:et(()=>[Qt((be(),pt(bs(U(i).tag),yt({id:U(d),ref:"_element",class:["collapse",ee.value],"is-nav":U(i).isNav},ie.$attrs),{default:et(()=>[U(G)?ut(ie.$slots,"default",xi(yt({key:0},Z.value))):kt("",!0)]),_:3},16,["id","class","is-nav"])),[[Sl,U(O)]])]),_:3},16,["enter-active-class","leave-active-class","appear"])):kt("",!0),ut(ie.$slots,"footer",xi(sr(Z.value)))],64))}}),SE=["type","disabled","aria-label"],CE=Tt({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const a=ln(e,"BCloseButton"),i=t;return(l,f)=>(be(),ze("button",{type:U(a).type,class:"btn-close",disabled:U(a).disabled,"aria-label":U(a).ariaLabel,onClick:f[0]||(f[0]=d=>i("click",d))},null,8,SE))}}),sd=e=>((e==null?void 0:e())??[]).length===0,pl=e=>oe(()=>{let t=ft(e);return t={variant:t.variant??null,bgVariant:t.bgVariant??null,textVariant:t.textVariant??null,borderVariant:t.borderVariant??null},{[`text-bg-${t.variant}`]:t.variant!==null,[`text-${t.textVariant}`]:t.textVariant!==null,[`bg-${t.bgVariant}`]:t.bgVariant!==null,[`border-${t.borderVariant}`]:t.borderVariant!==null}}),IE={key:0,class:"visually-hidden"},PE=Tt({__name:"BSpinner",props:{label:{default:void 0},role:{default:"status"},small:{type:Boolean,default:!1},tag:{default:"span"},type:{default:"border"},variant:{default:null}},setup(e){const s=ln(e,"BSpinner"),a=$l(),i=pl(oe(()=>({textVariant:s.variant}))),l=oe(()=>[`spinner-${s.type}`,i.value,{[`spinner-${s.type}-sm`]:s.small}]),f=oe(()=>!sd(a.label));return(d,m)=>(be(),pt(bs(U(s).tag),{class:Nt(l.value),role:U(s).label||f.value?U(s).role:null,"aria-hidden":U(s).label||f.value?null:!0},{default:et(()=>[U(s).label||f.value?(be(),ze("span",IE,[ut(d.$slots,"label",{},()=>[vt(qe(U(s).label),1)])])):kt("",!0)]),_:3},8,["class","role","aria-hidden"]))}}),NE=e=>e.replace(/-./g,t=>t.charAt(1).toUpperCase()).replace(/\b\w/g,t=>t.toUpperCase()).replace(/\s+/g,""),OE=e=>!!(e.href||e.to),C_=(e,t)=>{const s=qn(tn(t)),a=qn(tn(e)),i=oe(()=>OE(a.value)),l=oe(()=>i.value?TE(a.value,s.value??["active","activeClass","append","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover"]):{});return{computedLink:i,computedLinkProps:l}},ME=e=>{const t=ri(),s=t==null?void 0:t.appContext.app.config.globalProperties.$router,a=t==null?void 0:t.appContext.app.config.globalProperties.$route,i=bs("RouterLink"),l=typeof i=="string"?null:i.useLink,f=tn(e),d=tn(()=>f.value.to||""),m=tn(()=>f.value.replace),_=oe(()=>NE(f.value.routerComponentName)),v=oe(()=>!((t==null?void 0:t.appContext.app.component(_.value))!==void 0)||f.value.disabled||!f.value.to?"a":_.value),b=oe(()=>v.value==="RouterLink"),E=oe(()=>b.value&&typeof(t==null?void 0:t.appContext.app.$nuxt)<"u"),x=oe(()=>v.value!=="a"&&!b.value&&!E.value),I=oe(()=>b.value||E.value),O=oe(()=>({to:d.value,replace:m.value})),B=l==null?void 0:l({to:d,replace:m}),P=oe(()=>I.value?B:null),N=oe(()=>{var D;if((D=P.value)!=null&&D.href.value)return P.value.href.value;const F="#";if(f.value.href)return f.value.href;if(typeof f.value.to=="string")return f.value.to||F;const{to:W}=f.value;if(W!==void 0&&"path"in W){const G=W.path||"",z=W.query?`?${Object.keys(W.query).map(Z=>{var ie;return`${Z}=${(ie=W.query)==null?void 0:ie[Z]}`}).join("=")}`:"",ee=!W.hash||W.hash.charAt(0)==="#"?W.hash||"":`#${W.hash}`;return`${G}${z}${ee}`||F}return F});return{isNonStandardTag:x,tag:v,isRouterLink:b,isNuxtLink:E,computedHref:N,routerName:_,router:s,route:a,link:P,linkProps:O}},I_=e=>oe(()=>{const t=ft(e);return{[`link-${t.variant}`]:t.variant!==null,[`link-opacity-${t.opacity}`]:t.opacity!==void 0,[`link-opacity-${t.opacityHover}-hover`]:t.opacityHover!==void 0,[`link-underline-${t.underlineVariant}`]:t.underlineVariant!==null,[`link-offset-${t.underlineOffset}`]:t.underlineOffset!==void 0,[`link-offset-${t.underlineOffsetHover}-hover`]:t.underlineOffsetHover!==void 0,"link-underline":t.underlineVariant===null&&(t.underlineOpacity!==void 0||t.underlineOpacityHover!==void 0),[`link-underline-opacity-${t.underlineOpacity}`]:t.underlineOpacity!==void 0,[`link-underline-opacity-${t.underlineOpacityHover}-hover`]:t.underlineOpacityHover!==void 0,"icon-link":t.icon===!0}}),Fp="active",P_=Tt({__name:"BLink",props:{active:{type:Boolean,default:void 0},activeClass:{default:"router-link-active"},disabled:{type:Boolean,default:!1},exactActiveClass:{default:"router-link-exact-active"},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean,default:!1},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean,default:void 0},prefetchOn:{default:void 0},noPrefetch:{type:Boolean,default:void 0},prefetchedClass:{default:void 0},rel:{default:void 0},replace:{type:Boolean,default:!1},routerComponentName:{default:"router-link"},routerTag:{default:"a"},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null},variant:{default:null}},emits:["click"],setup(e,{emit:t}){const a=ln(e,"BLink"),i=t,l=Vf(),{computedHref:f,tag:d,link:m,isNuxtLink:_,isRouterLink:v,linkProps:b,isNonStandardTag:E}=ME(oe(()=>({routerComponentName:a.routerComponentName,disabled:a.disabled,to:a.to,replace:a.replace,href:a.href}))),x=nn(jv,null),I=nn(Xv,null),O=I_(a),B=oe(()=>{var z,ee;return[O.value,l.class,P.value,{[Fp]:a.active,[a.activeClass]:((z=m.value)==null?void 0:z.isActive.value)||!1,[a.exactActiveClass]:((ee=m.value)==null?void 0:ee.isExactActive.value)||!1,"stretched-link":a.stretched===!0}]}),P=oe(()=>({[Fp]:a.active,disabled:a.disabled})),N=z=>{var ee,Z,ie;if(a.disabled){z.preventDefault(),z.stopImmediatePropagation();return}(((ee=x==null?void 0:x.isNav)==null?void 0:ee.value)===!0&&I===null||I!==null&&((Z=I.autoClose)==null?void 0:Z.value)===!0)&&((ie=x==null?void 0:x.hide)==null||ie.call(x)),i("click",z)},D=oe(()=>a.target==="_blank"?!a.rel&&a.noRel?"noopener":a.rel:void 0),F=oe(()=>a.disabled?"-1":typeof l.tabindex>"u"?null:l.tabindex),W=oe(()=>({prefetch:a.prefetch,noPrefetch:a.noPrefetch,prefetchOn:a.prefetchOn,prefetchedClass:a.prefetchedClass,...b.value})),G=oe(()=>({...v.value?b.value:void 0,..._.value||E.value?W.value:void 0}));return(z,ee)=>(be(),pt(bs(U(d)),yt({class:B.value,target:U(a).target,href:U(f),rel:D.value,tabindex:F.value,"aria-disabled":U(a).disabled?!0:null},G.value,{onClick:ee[0]||(ee[0]=Z=>{var ie;N(Z),(ie=U(m))==null||ie.navigate(Z)})}),{default:et(()=>[ut(z.$slots,"default")]),_:3},16,["class","target","href","rel","tabindex","aria-disabled"]))}}),Fr=Tt({__name:"BButton",props:ii({loading:{type:Boolean,default:!1},loadingFill:{type:Boolean,default:!1},loadingText:{default:"Loading..."},pill:{type:Boolean,default:!1},size:{default:"md"},squared:{type:Boolean,default:!1},tag:{default:"button"},type:{default:"button"},variant:{default:"secondary"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},routerTag:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null}},{pressed:{type:Boolean,default:void 0},pressedModifiers:{}}),emits:ii(["click"],["update:pressed"]),setup(e,{emit:t}){const a=ln(e,"BButton"),i=t,l=an("_element"),f=fr(e,"pressed"),{computedLink:d,computedLinkProps:m}=C_(a,["active-class","exact-active-class","replace","routerComponentName","routerTag"]),_=oe(()=>typeof f.value=="boolean"),v=oe(()=>a.tag==="button"&&a.href===void 0&&a.to===void 0),b=oe(()=>a.to!==void 0),E=oe(()=>a.href!==void 0?!1:!v.value),x=oe(()=>b.value?m.value:[]),I=oe(()=>a.href==="#"&&a.disabled?!0:E.value?a.disabled:null),O=oe(()=>{var W;return((W=a.variant)==null?void 0:W.startsWith("link"))||!1}),B=oe(()=>{var W;return((W=a.variant)==null?void 0:W.startsWith("link-"))||!1}),P=I_(oe(()=>{var W;return{...O.value?{icon:a.icon,opacity:a.opacity,opacityHover:a.opacityHover,underlineOffset:a.underlineOffset,underlineOffsetHover:a.underlineOffsetHover,underlineOpacity:a.underlineOpacity,underlineOpacityHover:a.underlineOpacityHover,underlineVariant:a.underlineVariant,variant:B.value===!0?(W=a.variant)==null?void 0:W.slice(5):null}:void 0}})),N=oe(()=>[O.value===!0&&d.value===!1?P.value:void 0,[`btn-${a.size}`],{[`btn-${a.variant}`]:a.variant!==null&&B.value===!1,active:a.active||f.value,"rounded-pill":a.pill,"rounded-0":a.squared,disabled:a.disabled}]),D=oe(()=>b.value?P_:a.href?"a":a.tag),F=W=>{if(a.disabled){W.preventDefault(),W.stopPropagation();return}i("click",W),_.value&&(f.value=!f.value)};return ls([" ","enter"],W=>{var G;a.href==="#"&&(W.preventDefault(),(G=l.value)==null||G.click())},{target:l}),(W,G)=>(be(),pt(bs(D.value),yt({ref:"_element",class:"btn"},x.value,{class:N.value,"aria-disabled":I.value,"aria-pressed":_.value?f.value:null,autocomplete:_.value?"off":null,disabled:v.value?U(a).disabled:null,href:U(a).href,rel:U(d)?U(a).rel:null,role:E.value||U(d)?"button":null,target:U(d)?U(a).target:null,type:v.value?U(a).type:null,to:v.value?null:U(a).to,onClick:F}),{default:et(()=>[U(a).loading?ut(W.$slots,"loading",{key:0},()=>[U(a).loadingFill?kt("",!0):(be(),ze(ct,{key:0},[vt(qe(U(a).loadingText),1)],64)),ut(W.$slots,"loading-spinner",{},()=>[$e(PE,{small:U(a).size!=="lg",label:U(a).loadingFill?U(a).loadingText:void 0},null,8,["small","label"])])]):ut(W.$slots,"default",{key:1})]),_:3},16,["class","aria-disabled","aria-pressed","autocomplete","disabled","href","rel","role","target","type","to"]))}}),N_=Tt({name:"ConditionalWrapper",inheritAttrs:!1,props:{tag:{type:String,default:"div"},skip:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t,attrs:s}){return()=>{var a,i;return e.skip?(a=t.default)==null?void 0:a.call(t,{}):Di(e.tag,{...s},[(i=t.default)==null?void 0:i.call(t,{})])}}}),AE=e=>oe(()=>{const t=ft(e);return t?`justify-content-${t}`:""}),RE={class:"visually-hidden"},DE=["id","aria-labelledby","role"],BE=Tt({__name:"BDropdown",props:ii({ariaLabel:{default:void 0},autoClose:{type:[Boolean,String],default:!0},boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},disabled:{type:Boolean,default:!1},floatingMiddleware:{default:void 0},id:{default:void 0},isNav:{type:Boolean,default:!1},menuClass:{default:void 0},noCaret:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},offset:{default:0},role:{default:"menu"},size:{default:"md"},noWrapper:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitButtonType:{default:"button"},splitClass:{default:void 0},splitDisabled:{type:Boolean,default:void 0},splitHref:{default:void 0},splitTo:{default:void 0},splitVariant:{default:void 0},strategy:{default:"absolute"},text:{default:void 0},toggleClass:{default:void 0},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"},wrapperClass:{default:void 0},placement:{default:"bottom-start"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["split-click","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=ln(e,"BDropdown"),l=s,f=mo(()=>i.id,"dropdown"),d=fr(e,"modelValue"),m=nn(qw,!1),_=nn(Ww,!1),v=oe(()=>typeof i.offset=="string"||typeof i.offset=="number"?i.offset:NaN),b=Cl(v),E=an("_floating"),x=an("_button"),I=an("_splitButton"),O=oe(()=>rd(i.boundary)?i.boundary:void 0),B=oe(()=>T_(i.boundary)?i.boundary:void 0),P=oe(()=>i.split?x.value:I.value),{showRef:N,renderRef:D,hide:F,show:W,toggle:G,computedNoAnimation:z,transitionProps:ee,contentShowing:Z,isVisible:ie}=Uc(d,i,l,P,f),ge=oe(()=>[{show:ie.value,fade:!z.value}]);ls("Escape",()=>{var Me;F(),(Me=sc(P.value))==null||Me.focus()},{target:P}),ls("Escape",()=>{var Me;F(),(Me=sc(P.value))==null||Me.focus()},{target:E});const ne=(Me,Pe)=>{var Le,Te,re,H,Ee,Ce,Ie;if((Te=E.value)!=null&&Te.contains((Le=Me.target)==null?void 0:Le.closest("form"))||/input|select|option|textarea|form/i.test((re=Me.target)==null?void 0:re.tagName))return;if(Me.preventDefault(),!N.value){W();const q=setInterval(()=>{ie.value&&(clearInterval(q),Hn(()=>ne(Me,Pe)))},16);return}const S=(H=E.value)==null?void 0:H.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)");if(S)if((Ee=E.value)!=null&&Ee.contains(document.activeElement)){const q=E.value.querySelector(".dropdown-item:focus"),K=Array.prototype.indexOf.call(S,q)+Pe;K>=0&&K<(S==null?void 0:S.length)&&((Ce=S[K])==null||Ce.focus())}else(Ie=S[Pe===-1?S.length-1:0])==null||Ie.focus()};ls("ArrowUp",Me=>ne(Me,-1),{target:P}),ls("ArrowDown",Me=>ne(Me,1),{target:P}),ls("ArrowUp",Me=>ne(Me,-1),{target:E}),ls("ArrowDown",Me=>ne(Me,1),{target:E});const Q=Fe({}),X=oe(()=>{if(i.floatingMiddleware!==void 0)return i.floatingMiddleware;const Me=typeof i.offset=="string"||typeof i.offset=="number"?b.value:i.offset,Pe=[y_(Me)];return i.noFlip===!1&&Pe.push(w_({boundary:O.value,rootBoundary:B.value,padding:i.boundaryPadding})),i.noShift===!1&&Pe.push(b_({boundary:O.value,rootBoundary:B.value,padding:i.boundaryPadding})),i.noSize===!1&&Pe.push(L_({boundary:O.value,rootBoundary:B.value,padding:i.boundaryPadding,apply({availableWidth:Le,availableHeight:Te}){var re,H;Q.value={maxHeight:Te>=(((re=E.value)==null?void 0:re.scrollHeight)??0)?void 0:Te?`${Math.max(0,Te)}px`:void 0,maxWidth:Le>=(((H=E.value)==null?void 0:H.scrollWidth)??0)?void 0:Le?`${Math.max(0,Le)}px`:void 0}}})),Pe}),{update:_e,floatingStyles:ye}=k_(P,E,{placement:()=>i.placement,middleware:X,strategy:tn(()=>i.strategy),whileElementsMounted:__}),we=_?{class:"btn-group",role:"group"}:void 0,pe=oe(()=>[we==null?void 0:we.class,i.wrapperClass,{"btn-group":!i.wrapperClass&&i.split,[`drop${xE(i.placement)}`]:!i.wrapperClass,"position-static":i.boundary!=="clippingAncestors"&&!i.isNav}]),Ne=oe(()=>[i.split?i.splitClass:i.toggleClass,{"nav-link":i.isNav,"dropdown-toggle":!i.split,"dropdown-toggle-no-caret":i.noCaret&&!i.split,show:i.split?void 0:N.value}]),ue=()=>{G()},Ae=Me=>{if(i.split){l("split-click",Me);return}ue()};n_(E,()=>{N.value&&(i.autoClose===!0||i.autoClose==="outside")&&F()},{ignore:[x,I]});const Ue=()=>{N.value&&(i.autoClose===!0||i.autoClose==="inside")&&F()};return tt(ie,()=>{_e()}),t({hide:F,show:W,toggle:G}),hs(Gw,{id:f,show:W,hide:F,toggle:G,visible:tn(()=>N.value),isNav:tn(()=>i.isNav)}),(Me,Pe)=>{var Le;return be(),pt(N_,{skip:U(m)||U(i).noWrapper,class:Nt(pe.value),role:(Le=U(we))==null?void 0:Le.role},{default:et(()=>[$e(Fr,{id:U(f),ref:"_splitButton",variant:U(i).splitVariant||U(i).variant,size:U(i).size,class:Nt(Ne.value),disabled:U(i).splitDisabled||U(i).disabled,type:U(i).splitButtonType,"aria-label":U(i).ariaLabel,"aria-expanded":U(i).split?void 0:U(N),"aria-haspopup":U(i).split?void 0:"menu",href:U(i).split?U(i).splitHref:void 0,to:U(i).split&&U(i).splitTo?U(i).splitTo:void 0,onClick:Ae},{default:et(()=>[ut(Me.$slots,"button-content",{},()=>[vt(qe(U(i).text),1)],!0)]),_:3},8,["id","variant","size","class","disabled","type","aria-label","aria-expanded","aria-haspopup","href","to"]),U(i).split?(be(),pt(Fr,{key:0,id:U(f)+"-split",ref:"_button",variant:U(i).variant,size:U(i).size,disabled:U(i).disabled,class:Nt([[U(i).toggleClass,{show:U(N)}],"dropdown-toggle-split dropdown-toggle"]),"aria-expanded":U(N),"aria-haspopup":"menu",onClick:ue},{default:et(()=>[he("span",RE,[ut(Me.$slots,"toggle-text",{},()=>[vt(qe(U(i).toggleText),1)],!0)])]),_:3},8,["id","variant","size","disabled","class","aria-expanded"])):kt("",!0),$e(Yf,{to:U(i).teleportTo,disabled:!U(i).teleportTo||U(i).teleportDisabled},{default:et(()=>[U(D)||U(Z)?(be(),pt(Tl,yt({key:0},U(ee),{appear:d.value||U(i).visible}),{default:et(()=>[Qt(he("ul",{id:U(f)+"-menu",ref:"_floating",style:zr([U(ye),Q.value]),class:Nt(["dropdown-menu overflow-auto",[U(i).menuClass,ge.value]]),"aria-labelledby":U(f),role:U(i).role,onClick:Ue},[U(Z)?ut(Me.$slots,"default",{key:0,hide:U(F),show:U(W),visible:U(N)},void 0,!0):kt("",!0)],14,DE),[[Sl,U(N)]])]),_:3},16,["appear"])):kt("",!0)]),_:3},8,["to","disabled"])]),_:3},8,["skip","class","role"])}}}),FE=jf(BE,[["__scopeId","data-v-8ac2524d"]]),zE=["id","novalidate"],$E=Tt({__name:"BForm",props:{floating:{type:Boolean,default:!1},id:{default:void 0},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},setup(e,{expose:t}){const a=ln(e,"BForm"),i=an("_element"),l=oe(()=>({"form-floating":a.floating,"was-validated":a.validated}));return t({element:i}),(f,d)=>(be(),ze("form",{id:U(a).id,ref:"_element",novalidate:U(a).novalidate,class:Nt(l.value)},[ut(f.$slots,"default")],10,zE))}}),UE=["value","disabled"],od=Tt({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(e){const s=ln(e,"BFormSelectOption");return(a,i)=>(be(),ze("option",{value:U(s).value,disabled:U(s).disabled},[ut(a.$slots,"default")],8,UE))}}),O_=(e,t)=>{const s=f=>typeof f=="object"&&f!==null&&"label"in f,a=f=>{const d=ft(t);if(typeof f=="string")return{value:f,text:f};if(typeof f=="number")return{value:f,text:`${f}`};if(f instanceof Date)return{value:f,text:f.toLocaleString()};const m=Xa(f,d.valueField),_=Xa(f,d.textField),v=Xa(f,d.disabledField),b=d.optionsField?Xa(f,d.optionsField):void 0;return b!==void 0?{label:Xa(f,d.labelField)||_,options:b}:{...typeof f=="object"?f:void 0,value:m,text:_,disabled:v}},i=f=>f.map(d=>a(d));return{normalizedOptions:oe(()=>i(ft(e))),isComplex:s}},M_=(e,t)=>oe(()=>{const s=ft(e),a=ft(t);return s===!0?"true":typeof s=="string"?s:a===!1?"true":s===!1?"false":void 0}),ad=e=>oe(()=>{const t=ft(e);return t===!0?"is-valid":t===!1?"is-invalid":null}),GE=e=>oe(()=>{const t=ft(e);return{"form-check":t.plain===!1&&t.button===!1&&t.hasDefaultSlot,"form-check-reverse":t.reverse===!0,"form-check-inline":t.inline===!0,"form-switch":t.switch===!0,[`form-control-${t.size}`]:t.size!==void 0&&t.size!=="md"&&t.button===!1}}),VE=e=>{const t=qn(tn(e)),s=ad(()=>t.value.state??null);return oe(()=>[s.value,{"form-check-input":t.value.plain===!1&&t.value.button===!1,"btn-check":t.value.button===!0}])},HE=e=>oe(()=>{const t=ft(e);return{"form-check-label":t.plain===!1&&t.button===!1,btn:t.button===!0,[`btn-${t.buttonVariant}`]:t.button===!0&&t.buttonVariant!==void 0&&t.buttonVariant!==null,[`btn-${t.size}`]:t.button&&t.size&&t.size!=="md"}}),qE=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","true-value","false-value","indeterminate"],WE=["for"],ZE=Tt({inheritAttrs:!1,__name:"BFormCheckbox",props:ii({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},autofocus:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonGroup:{type:Boolean,default:!1},buttonVariant:{default:null},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},inline:{type:Boolean,default:!1},name:{default:void 0},plain:{type:Boolean,default:!1},required:{type:Boolean,default:void 0},reverse:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null},switch:{type:Boolean,default:!1},uncheckedValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:!1},wrapperAttrs:{default:void 0},inputClass:{default:void 0},value:{type:[String,Boolean,Array,Set,Object,Number,null],default:!0}},{modelValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:void 0},modelModifiers:{},indeterminate:{type:Boolean,default:!1},indeterminateModifiers:{}}),emits:["update:modelValue","update:indeterminate"],setup(e,{expose:t}){const s=Vf(),a=oe(()=>{const{class:z,...ee}=s;return{wrapperClass:z,inputAttrs:ee}}),l=ln(e,"BFormCheckbox"),f=$l(),d=fr(e,"modelValue"),m=fr(e,"indeterminate"),_=mo(()=>l.id,"form-check"),v=nn(Uw,null),b=an("_input"),{focused:E}=to(b,{initialValue:l.autofocus}),x=oe(()=>!sd(f.default)),I=oe({get:()=>v?v.modelValue.value:d.value,set:z=>{if(z!==void 0){if(m.value=!1,v!==null&&Array.isArray(z)){v.modelValue.value=z;return}d.value=z}}}),O=oe(()=>!!(l.name??(v==null?void 0:v.name.value))&&(l.required||(v==null?void 0:v.required.value))),B=oe(()=>l.buttonGroup||((v==null?void 0:v.buttons.value)??!1)),P=oe(()=>({plain:l.plain||((v==null?void 0:v.plain.value)??!1),button:l.button||((v==null?void 0:v.buttons.value)??!1),inline:l.inline||((v==null?void 0:v.inline.value)??!1),reverse:l.reverse||((v==null?void 0:v.reverse.value)??!1),switch:l.switch||((v==null?void 0:v.switch.value)??!1),state:l.state===!0||l.state===!1?l.state:(v==null?void 0:v.state.value)??null,size:l.size??(v==null?void 0:v.size.value)??"md",buttonVariant:l.buttonVariant??(v==null?void 0:v.buttonVariant.value)??"secondary",hasDefaultSlot:x.value})),N=GE(P),D=oe(()=>[N.value,a.value.wrapperClass]),F=VE(P),W=oe(()=>[F.value,l.inputClass]),G=HE(P);return t({blur:()=>{E.value=!1},element:b,focus:()=>{E.value=!0}}),(z,ee)=>(be(),pt(N_,yt({skip:B.value},U(l).wrapperAttrs,{class:D.value}),{default:et(()=>{var Z,ie,ge;return[Qt(he("input",yt({id:U(_),ref:"_input","onUpdate:modelValue":ee[0]||(ee[0]=ne=>I.value=ne),class:W.value,type:"checkbox",disabled:U(l).disabled||((Z=U(v))==null?void 0:Z.disabled.value),required:O.value||void 0,name:U(l).name||((ie=U(v))==null?void 0:ie.name.value),form:U(l).form||((ge=U(v))==null?void 0:ge.form.value),"aria-label":U(l).ariaLabel,"aria-labelledby":U(l).ariaLabelledby,"aria-required":O.value||void 0,value:U(l).value,"true-value":U(l).value,"false-value":U(l).uncheckedValue,indeterminate:m.value||void 0},a.value.inputAttrs),null,16,qE),[[Hv,I.value]]),x.value||U(l).plain===!1?(be(),ze("label",{key:0,for:U(_),class:Nt(U(G))},[ut(z.$slots,"default")],10,WE)):kt("",!0)]}),_:3},16,["skip","class"]))}}),YE=(e,t)=>{if(e===null)return;let s=e;if(t.number&&typeof s=="string"&&s!==""){const a=Number.parseFloat(s);s=Number.isNaN(a)?s:a}return s},jE=(e,t,s,a)=>{var i;const l=Fe(0),f=mo(()=>e.id,"input"),d=Cl(()=>e.debounce??0),m=Cl(()=>e.debounceMaxWait??NaN),_=(i=nn(Xw,null))==null?void 0:i(f),v=oe(()=>e.state!==void 0?e.state:(_==null?void 0:_.state.value)??null),b=M_(()=>e.ariaInvalid,v),E=ad(v),x=iL(G=>{s.value=G},()=>a.lazy===!0?0:d.value,{maxWait:()=>a.lazy===!0?NaN:m.value}),I=(G,z=!1)=>{a.lazy===!0&&z===!1||x(G)},{focused:O}=to(t,{initialValue:e.autofocus}),B=(G,z,ee=!1)=>e.formatter!==void 0&&(!e.lazyFormatter||ee)?e.formatter(G,z):G;return Pi(()=>{var G;t.value&&(t.value.value=((G=s.value)==null?void 0:G.toString())??"")}),fv(()=>{Hn(()=>{e.autofocus&&(O.value=!0)})}),{input:t,computedId:f,computedAriaInvalid:b,onInput:G=>{const{value:z}=G.target,ee=B(z,G);if(G.defaultPrevented){G.preventDefault();return}I(ee)},onChange:G=>{const{value:z}=G.target,ee=B(z,G);if(G.defaultPrevented){G.preventDefault();return}const Z=ee;s.value!==Z&&I(ee,!0)},onBlur:G=>{if(!a.lazy&&!e.lazyFormatter&&!a.trim)return;const{value:z}=G.target,ee=B(z,G,!0),Z=a.trim?ee.trim():ee,ie=Z.length!==ee.length;s.value!==Z&&I(ee,!0),a.trim&&ie&&(l.value=l.value+1)},focus:()=>{e.disabled||(O.value=!0)},blur:()=>{e.disabled||(O.value=!1)},forceUpdateKey:l,stateClass:E}},XE=["id","value","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"],KE=Tt({__name:"BFormInput",props:ii({max:{default:void 0},min:{default:void 0},step:{default:void 0},type:{default:"text"},ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},formatter:{type:Function,default:void 0},id:{default:void 0},lazyFormatter:{type:Boolean,default:!1},list:{default:void 0},name:{default:void 0},placeholder:{default:void 0},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:void 0},debounce:{default:0},debounceMaxWait:{default:NaN}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const a=ln(e,"BFormInput"),[i,l]=fr(e,"modelValue",{set:P=>YE(P,l)}),f=an("_input"),{computedId:d,computedAriaInvalid:m,onInput:_,onChange:v,onBlur:b,stateClass:E,focus:x,blur:I,forceUpdateKey:O}=jE(a,f,i,l),B=oe(()=>{const P=a.type==="range",N=a.type==="color";return[E.value,{"form-range":P,"form-control":N||!a.plaintext&&!P,"form-control-color":N,"form-control-plaintext":a.plaintext&&!P&&!N,[`form-control-${a.size}`]:!!a.size}]});return t({blur:I,element:f,focus:x}),(P,N)=>(be(),ze("input",{id:U(d),ref:"_input",key:U(O),value:U(i),class:Nt(B.value),name:U(a).name||void 0,form:U(a).form||void 0,type:U(a).type,disabled:U(a).disabled,placeholder:U(a).placeholder,required:U(a).required||void 0,autocomplete:U(a).autocomplete||void 0,readonly:U(a).readonly||U(a).plaintext,min:U(a).min,max:U(a).max,step:U(a).step,list:U(a).type!=="password"?U(a).list:void 0,"aria-required":U(a).required||void 0,"aria-invalid":U(m),onInput:N[0]||(N[0]=(...D)=>U(_)&&U(_)(...D)),onChange:N[1]||(N[1]=(...D)=>U(v)&&U(v)(...D)),onBlur:N[2]||(N[2]=(...D)=>U(b)&&U(b)(...D))},null,42,XE))}}),JE=["label"],QE=Tt({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const s=ln(e,"BFormSelectOptionGroup"),{normalizedOptions:a}=O_(()=>s.options,s);return(i,l)=>(be(),ze("optgroup",{label:U(s).label},[ut(i.$slots,"first"),(be(!0),ze(ct,null,ur(U(a),(f,d)=>(be(),pt(od,yt({key:d,disabled:f.disabled,value:f.value,ref_for:!0},i.$attrs),{default:et(()=>[ut(i.$slots,"option",yt({ref_for:!0},f),()=>[vt(qe(f.text),1)])]),_:2},1040,["disabled","value"]))),128)),ut(i.$slots,"default")],8,JE))}}),ek=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],A_=Tt({__name:"BFormSelect",props:ii({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const a=ln(e,"BFormSelect"),i=fr(e,"modelValue"),l=mo(()=>a.id,"input"),f=Cl(()=>a.selectSize),d=ad(()=>a.state),m=an("_input"),{focused:_}=to(m,{initialValue:a.autofocus}),v=oe(()=>[d.value,{"form-control":a.plain,[`form-control-${a.size}`]:a.size!=="md"&&a.plain,"form-select":!a.plain,[`form-select-${a.size}`]:a.size!=="md"&&!a.plain}]),b=oe(()=>f.value||a.plain?f.value:void 0),E=M_(()=>a.ariaInvalid,()=>a.state),{normalizedOptions:x,isComplex:I}=O_(()=>a.options,a),O=oe(()=>x.value),B=oe({get:()=>i.value,set:P=>{i.value=P}});return t({blur:()=>{_.value=!1},element:m,focus:()=>{_.value=!0}}),(P,N)=>Qt((be(),ze("select",{id:U(l),ref:"_input","onUpdate:modelValue":N[0]||(N[0]=D=>B.value=D),class:Nt(v.value),name:U(a).name,form:U(a).form||void 0,multiple:U(a).multiple||void 0,size:b.value,disabled:U(a).disabled,required:U(a).required||void 0,"aria-required":U(a).required||void 0,"aria-invalid":U(E)},[ut(P.$slots,"first"),(be(!0),ze(ct,null,ur(O.value,(D,F)=>(be(),ze(ct,{key:F},[U(I)(D)?(be(),pt(QE,{key:0,label:D.label,options:D.options,"value-field":U(a).valueField,"text-field":U(a).textField,"disabled-field":U(a).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(be(),pt(od,{key:1,value:D.value,disabled:D.disabled},{default:et(()=>[ut(P.$slots,"option",yt({ref_for:!0},D),()=>[vt(qe(D.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),ut(P.$slots,"default")],10,ek)),[[ao,B.value]])}});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var R_=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],cc=R_.join(","),D_=typeof Element>"u",uo=D_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,hc=!D_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},fc=function e(t,s){var a;s===void 0&&(s=!0);var i=t==null||(a=t.getAttribute)===null||a===void 0?void 0:a.call(t,"inert"),l=i===""||i==="true",f=l||s&&t&&e(t.parentNode);return f},tk=function(t){var s,a=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"contenteditable");return a===""||a==="true"},B_=function(t,s,a){if(fc(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(cc));return s&&uo.call(t,cc)&&i.unshift(t),i=i.filter(a),i},F_=function e(t,s,a){for(var i=[],l=Array.from(t);l.length;){var f=l.shift();if(!fc(f,!1))if(f.tagName==="SLOT"){var d=f.assignedElements(),m=d.length?d:f.children,_=e(m,!0,a);a.flatten?i.push.apply(i,_):i.push({scopeParent:f,candidates:_})}else{var v=uo.call(f,cc);v&&a.filter(f)&&(s||!t.includes(f))&&i.push(f);var b=f.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(f),E=!fc(b,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(f));if(b&&E){var x=e(b===!0?f.children:b.children,!0,a);a.flatten?i.push.apply(i,x):i.push({scopeParent:f,candidates:x})}else l.unshift.apply(l,f.children)}}return i},z_=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},eo=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||tk(t))&&!z_(t)?0:t.tabIndex},nk=function(t,s){var a=eo(t);return a<0&&s&&!z_(t)?0:a},ik=function(t,s){return t.tabIndex===s.tabIndex?t.documentOrder-s.documentOrder:t.tabIndex-s.tabIndex},$_=function(t){return t.tagName==="INPUT"},rk=function(t){return $_(t)&&t.type==="hidden"},sk=function(t){var s=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(a){return a.tagName==="SUMMARY"});return s},ok=function(t,s){for(var a=0;a<t.length;a++)if(t[a].checked&&t[a].form===s)return t[a]},ak=function(t){if(!t.name)return!0;var s=t.form||hc(t),a=function(d){return s.querySelectorAll('input[type="radio"][name="'+d+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=a(window.CSS.escape(t.name));else try{i=a(t.name)}catch(f){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",f.message),!1}var l=ok(i,t.form);return!l||l===t},lk=function(t){return $_(t)&&t.type==="radio"},uk=function(t){return lk(t)&&!ak(t)},ck=function(t){var s,a=t&&hc(t),i=(s=a)===null||s===void 0?void 0:s.host,l=!1;if(a&&a!==t){var f,d,m;for(l=!!((f=i)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(i)||t!=null&&(m=t.ownerDocument)!==null&&m!==void 0&&m.contains(t));!l&&i;){var _,v,b;a=hc(i),i=(_=a)===null||_===void 0?void 0:_.host,l=!!((v=i)!==null&&v!==void 0&&(b=v.ownerDocument)!==null&&b!==void 0&&b.contains(i))}}return l},zp=function(t){var s=t.getBoundingClientRect(),a=s.width,i=s.height;return a===0&&i===0},hk=function(t,s){var a=s.displayCheck,i=s.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var l=uo.call(t,"details>summary:first-of-type"),f=l?t.parentElement:t;if(uo.call(f,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof i=="function"){for(var d=t;t;){var m=t.parentElement,_=hc(t);if(m&&!m.shadowRoot&&i(m)===!0)return zp(t);t.assignedSlot?t=t.assignedSlot:!m&&_!==t.ownerDocument?t=_.host:t=m}t=d}if(ck(t))return!t.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return zp(t);return!1},fk=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var s=t.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var a=0;a<s.children.length;a++){var i=s.children.item(a);if(i.tagName==="LEGEND")return uo.call(s,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}s=s.parentElement}return!1},dc=function(t,s){return!(s.disabled||fc(s)||rk(s)||hk(s,t)||sk(s)||fk(s))},of=function(t,s){return!(uk(s)||eo(s)<0||!dc(t,s))},dk=function(t){var s=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},pk=function e(t){var s=[],a=[];return t.forEach(function(i,l){var f=!!i.scopeParent,d=f?i.scopeParent:i,m=nk(d,f),_=f?e(i.candidates):d;m===0?f?s.push.apply(s,_):s.push(d):a.push({documentOrder:l,tabIndex:m,item:i,isScope:f,content:_})}),a.sort(ik).reduce(function(i,l){return l.isScope?i.push.apply(i,l.content):i.push(l.content),i},[]).concat(s)},mk=function(t,s){s=s||{};var a;return s.getShadowRoot?a=F_([t],s.includeContainer,{filter:of.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:dk}):a=B_(t,s.includeContainer,of.bind(null,s)),pk(a)},gk=function(t,s){s=s||{};var a;return s.getShadowRoot?a=F_([t],s.includeContainer,{filter:dc.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):a=B_(t,s.includeContainer,dc.bind(null,s)),a},Go=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return uo.call(t,cc)===!1?!1:of(s,t)},vk=R_.concat("iframe").join(","),Oh=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return uo.call(t,vk)===!1?!1:dc(s,t)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function af(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function _k(e){if(Array.isArray(e))return af(e)}function yk(e,t,s){return(t=kk(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function bk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,a)}return s}function Up(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$p(Object(s),!0).forEach(function(a){yk(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$p(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Lk(e){return _k(e)||bk(e)||xk(e)||wk()}function Ek(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kk(e){var t=Ek(e,"string");return typeof t=="symbol"?t:t+""}function xk(e,t){if(e){if(typeof e=="string")return af(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?af(e,t):void 0}}var Gp={activateTrap:function(t,s){if(t.length>0){var a=t[t.length-1];a!==s&&a._setPausedState(!0)}var i=t.indexOf(s);i===-1||t.splice(i,1),t.push(s)},deactivateTrap:function(t,s){var a=t.indexOf(s);a!==-1&&t.splice(a,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},Tk=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Sk=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},ml=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},Ck=function(t){return ml(t)&&!t.shiftKey},Ik=function(t){return ml(t)&&t.shiftKey},Vp=function(t){return setTimeout(t,0)},Ka=function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,a):t},Lu=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},Pk=[],Nk=function(t,s){var a=(s==null?void 0:s.document)||document,i=(s==null?void 0:s.trapStack)||Pk,l=Up({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Ck,isKeyBackward:Ik},s),f={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,m=function(Q,X,_e){return Q&&Q[X]!==void 0?Q[X]:l[_e||X]},_=function(Q,X){var _e=typeof(X==null?void 0:X.composedPath)=="function"?X.composedPath():void 0;return f.containerGroups.findIndex(function(ye){var we=ye.container,pe=ye.tabbableNodes;return we.contains(Q)||(_e==null?void 0:_e.includes(we))||pe.find(function(Ne){return Ne===Q})})},v=function(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=X.hasFallback,ye=_e===void 0?!1:_e,we=X.params,pe=we===void 0?[]:we,Ne=l[Q];if(typeof Ne=="function"&&(Ne=Ne.apply(void 0,Lk(pe))),Ne===!0&&(Ne=void 0),!Ne){if(Ne===void 0||Ne===!1)return Ne;throw new Error("`".concat(Q,"` was specified but was not a node, or did not return a node"))}var ue=Ne;if(typeof Ne=="string"){try{ue=a.querySelector(Ne)}catch(Ae){throw new Error("`".concat(Q,'` appears to be an invalid selector; error="').concat(Ae.message,'"'))}if(!ue&&!ye)throw new Error("`".concat(Q,"` as selector refers to no known node"))}return ue},b=function(){var Q=v("initialFocus",{hasFallback:!0});if(Q===!1)return!1;if(Q===void 0||Q&&!Oh(Q,l.tabbableOptions))if(_(a.activeElement)>=0)Q=a.activeElement;else{var X=f.tabbableGroups[0],_e=X&&X.firstTabbableNode;Q=_e||v("fallbackFocus")}else Q===null&&(Q=v("fallbackFocus"));if(!Q)throw new Error("Your focus-trap needs to have at least one focusable element");return Q},E=function(){if(f.containerGroups=f.containers.map(function(Q){var X=mk(Q,l.tabbableOptions),_e=gk(Q,l.tabbableOptions),ye=X.length>0?X[0]:void 0,we=X.length>0?X[X.length-1]:void 0,pe=_e.find(function(Ae){return Go(Ae)}),Ne=_e.slice().reverse().find(function(Ae){return Go(Ae)}),ue=!!X.find(function(Ae){return eo(Ae)>0});return{container:Q,tabbableNodes:X,focusableNodes:_e,posTabIndexesFound:ue,firstTabbableNode:ye,lastTabbableNode:we,firstDomTabbableNode:pe,lastDomTabbableNode:Ne,nextTabbableNode:function(Ue){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Pe=X.indexOf(Ue);return Pe<0?Me?_e.slice(_e.indexOf(Ue)+1).find(function(Le){return Go(Le)}):_e.slice(0,_e.indexOf(Ue)).reverse().find(function(Le){return Go(Le)}):X[Pe+(Me?1:-1)]}}}),f.tabbableGroups=f.containerGroups.filter(function(Q){return Q.tabbableNodes.length>0}),f.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(f.containerGroups.find(function(Q){return Q.posTabIndexesFound})&&f.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},x=function(Q){var X=Q.activeElement;if(X)return X.shadowRoot&&X.shadowRoot.activeElement!==null?x(X.shadowRoot):X},I=function(Q){if(Q!==!1&&Q!==x(document)){if(!Q||!Q.focus){I(b());return}Q.focus({preventScroll:!!l.preventScroll}),f.mostRecentlyFocusedNode=Q,Tk(Q)&&Q.select()}},O=function(Q){var X=v("setReturnFocus",{params:[Q]});return X||(X===!1?!1:Q)},B=function(Q){var X=Q.target,_e=Q.event,ye=Q.isBackward,we=ye===void 0?!1:ye;X=X||Lu(_e),E();var pe=null;if(f.tabbableGroups.length>0){var Ne=_(X,_e),ue=Ne>=0?f.containerGroups[Ne]:void 0;if(Ne<0)we?pe=f.tabbableGroups[f.tabbableGroups.length-1].lastTabbableNode:pe=f.tabbableGroups[0].firstTabbableNode;else if(we){var Ae=f.tabbableGroups.findIndex(function(re){var H=re.firstTabbableNode;return X===H});if(Ae<0&&(ue.container===X||Oh(X,l.tabbableOptions)&&!Go(X,l.tabbableOptions)&&!ue.nextTabbableNode(X,!1))&&(Ae=Ne),Ae>=0){var Ue=Ae===0?f.tabbableGroups.length-1:Ae-1,Me=f.tabbableGroups[Ue];pe=eo(X)>=0?Me.lastTabbableNode:Me.lastDomTabbableNode}else ml(_e)||(pe=ue.nextTabbableNode(X,!1))}else{var Pe=f.tabbableGroups.findIndex(function(re){var H=re.lastTabbableNode;return X===H});if(Pe<0&&(ue.container===X||Oh(X,l.tabbableOptions)&&!Go(X,l.tabbableOptions)&&!ue.nextTabbableNode(X))&&(Pe=Ne),Pe>=0){var Le=Pe===f.tabbableGroups.length-1?0:Pe+1,Te=f.tabbableGroups[Le];pe=eo(X)>=0?Te.firstTabbableNode:Te.firstDomTabbableNode}else ml(_e)||(pe=ue.nextTabbableNode(X))}}else pe=v("fallbackFocus");return pe},P=function(Q){var X=Lu(Q);if(!(_(X,Q)>=0)){if(Ka(l.clickOutsideDeactivates,Q)){d.deactivate({returnFocus:l.returnFocusOnDeactivate});return}Ka(l.allowOutsideClick,Q)||Q.preventDefault()}},N=function(Q){var X=Lu(Q),_e=_(X,Q)>=0;if(_e||X instanceof Document)_e&&(f.mostRecentlyFocusedNode=X);else{Q.stopImmediatePropagation();var ye,we=!0;if(f.mostRecentlyFocusedNode)if(eo(f.mostRecentlyFocusedNode)>0){var pe=_(f.mostRecentlyFocusedNode),Ne=f.containerGroups[pe].tabbableNodes;if(Ne.length>0){var ue=Ne.findIndex(function(Ae){return Ae===f.mostRecentlyFocusedNode});ue>=0&&(l.isKeyForward(f.recentNavEvent)?ue+1<Ne.length&&(ye=Ne[ue+1],we=!1):ue-1>=0&&(ye=Ne[ue-1],we=!1))}}else f.containerGroups.some(function(Ae){return Ae.tabbableNodes.some(function(Ue){return eo(Ue)>0})})||(we=!1);else we=!1;we&&(ye=B({target:f.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(f.recentNavEvent)})),I(ye||f.mostRecentlyFocusedNode||b())}f.recentNavEvent=void 0},D=function(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;f.recentNavEvent=Q;var _e=B({event:Q,isBackward:X});_e&&(ml(Q)&&Q.preventDefault(),I(_e))},F=function(Q){(l.isKeyForward(Q)||l.isKeyBackward(Q))&&D(Q,l.isKeyBackward(Q))},W=function(Q){Sk(Q)&&Ka(l.escapeDeactivates,Q)!==!1&&(Q.preventDefault(),d.deactivate())},G=function(Q){var X=Lu(Q);_(X,Q)>=0||Ka(l.clickOutsideDeactivates,Q)||Ka(l.allowOutsideClick,Q)||(Q.preventDefault(),Q.stopImmediatePropagation())},z=function(){if(f.active)return Gp.activateTrap(i,d),f.delayInitialFocusTimer=l.delayInitialFocus?Vp(function(){I(b())}):I(b()),a.addEventListener("focusin",N,!0),a.addEventListener("mousedown",P,{capture:!0,passive:!1}),a.addEventListener("touchstart",P,{capture:!0,passive:!1}),a.addEventListener("click",G,{capture:!0,passive:!1}),a.addEventListener("keydown",F,{capture:!0,passive:!1}),a.addEventListener("keydown",W),d},ee=function(){if(f.active)return a.removeEventListener("focusin",N,!0),a.removeEventListener("mousedown",P,!0),a.removeEventListener("touchstart",P,!0),a.removeEventListener("click",G,!0),a.removeEventListener("keydown",F,!0),a.removeEventListener("keydown",W),d},Z=function(Q){var X=Q.some(function(_e){var ye=Array.from(_e.removedNodes);return ye.some(function(we){return we===f.mostRecentlyFocusedNode})});X&&I(b())},ie=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Z):void 0,ge=function(){ie&&(ie.disconnect(),f.active&&!f.paused&&f.containers.map(function(Q){ie.observe(Q,{subtree:!0,childList:!0})}))};return d={get active(){return f.active},get paused(){return f.paused},activate:function(Q){if(f.active)return this;var X=m(Q,"onActivate"),_e=m(Q,"onPostActivate"),ye=m(Q,"checkCanFocusTrap");ye||E(),f.active=!0,f.paused=!1,f.nodeFocusedBeforeActivation=a.activeElement,X==null||X();var we=function(){ye&&E(),z(),ge(),_e==null||_e()};return ye?(ye(f.containers.concat()).then(we,we),this):(we(),this)},deactivate:function(Q){if(!f.active)return this;var X=Up({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},Q);clearTimeout(f.delayInitialFocusTimer),f.delayInitialFocusTimer=void 0,ee(),f.active=!1,f.paused=!1,ge(),Gp.deactivateTrap(i,d);var _e=m(X,"onDeactivate"),ye=m(X,"onPostDeactivate"),we=m(X,"checkCanReturnFocus"),pe=m(X,"returnFocus","returnFocusOnDeactivate");_e==null||_e();var Ne=function(){Vp(function(){pe&&I(O(f.nodeFocusedBeforeActivation)),ye==null||ye()})};return pe&&we?(we(O(f.nodeFocusedBeforeActivation)).then(Ne,Ne),this):(Ne(),this)},pause:function(Q){return f.active?(f.manuallyPaused=!0,this._setPausedState(!0,Q)):this},unpause:function(Q){return f.active?(f.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,Q)):this},updateContainerElements:function(Q){var X=[].concat(Q).filter(Boolean);return f.containers=X.map(function(_e){return typeof _e=="string"?a.querySelector(_e):_e}),f.active&&E(),ge(),this}},Object.defineProperties(d,{_isManuallyPaused:{value:function(){return f.manuallyPaused}},_setPausedState:{value:function(Q,X){if(f.paused===Q)return this;if(f.paused=Q,Q){var _e=m(X,"onPause"),ye=m(X,"onPostPause");_e==null||_e(),ee(),ge(),ye==null||ye()}else{var we=m(X,"onUnpause"),pe=m(X,"onPostUnpause");we==null||we(),E(),z(),ge(),pe==null||pe()}return this}}}),d.updateContainerElements(t),d};function Ok(e,t={}){let s;const{immediate:a,...i}=t,l=Nn(!1),f=Nn(!1),d=E=>s&&s.activate(E),m=E=>s&&s.deactivate(E),_=()=>{s&&(s.pause(),f.value=!0)},v=()=>{s&&(s.unpause(),f.value=!1)},b=oe(()=>{const E=ft(e);return dl(E).map(x=>{const I=ft(x);return typeof I=="string"?I:Rr(I)}).filter(e_)});return tt(b,E=>{E.length&&(s=Nk(E,{...i,onActivate(){l.value=!0,t.onActivate&&t.onActivate()},onDeactivate(){l.value=!1,t.onDeactivate&&t.onDeactivate()}}),a&&d())},{flush:"post"}),po(()=>m()),{hasFocus:l,isPaused:f,activate:d,deactivate:m,pause:_,unpause:v}}const Mk=({element:e,isActive:t,noTrap:s,fallbackFocus:a},i={allowOutsideClick:!0,fallbackFocus:a.ref.value??void 0,escapeDeactivates:!1})=>{const l=qn(tn(t)),f=qn(tn(s)),d=()=>{var v;const b=(v=e.value)==null?void 0:v.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${a.classSelector})`);return!(b!=null&&b.length)},m=Fe(!1);Pi(()=>{m.value=d(),aL(e,()=>{m.value=d()},{childList:!0,subtree:!0})});const _=Ok(e,i);return tt(l,async v=>{await Hn(),v&&f.value===!1?_.activate():_.deactivate()}),tt(f,v=>{v===!0&&_.deactivate()}),{needsFallback:qn(m)}},Ak=Jv(mL);let Eu="";const Ys=new Map,Rk=(e,t)=>{const s=qn(tn(e)),a=cv(),i=oe(()=>!ft(t)),l=Ak(typeof document<"u"?document.body:null,s.value&&i.value);Pi(()=>{typeof document>"u"||(Ys.set(a,!1),tt([s,i],([f,d])=>{const m=window.innerWidth-document.documentElement.clientWidth,_=Array.from(Ys.values()).some(E=>E===!0),v=f&&d;Ys.set(a,v),v&&!_&&!l.value&&(l.value=!0,m>0&&(Eu=document.body.style.paddingRight,document.body.style.paddingRight=`${m+Eu}px`));const b=Array.from(Ys.values()).some(E=>E===!0);_&&!b&&(Ys.set(a,!1),l.value=!1,document.body.style.paddingRight=Eu)},{immediate:!0}))}),va(()=>{Ys.delete(a),Array.from(Ys.values()).some(d=>d===!0)||(document.body.style.paddingRight=Eu,l.value=!1)})},Dk=["id","aria-labelledby","aria-describedby"],Bk=["id"],Hp="modal-fallback-focus",qp=1056,Fk=Tt({inheritAttrs:!1,__name:"BModal",props:ii({autofocus:{type:Boolean,default:!0},autofocusButton:{default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ii(["backdrop","cancel","close","esc","ok","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const i=ln(e,"BModal"),l=s,f=$l(),d=mo(()=>i.id,"modal"),m=fr(e,"modelValue"),_=an("_element"),v=an("_fallbackFocusElement"),b=an("_okButton"),E=an("_cancelButton"),x=an("_closeButton"),I=()=>{i.autofocus!==!1&&(i.autofocusButton==="ok"?we.value=!0:i.autofocusButton==="close"?Ne.value=!0:i.autofocusButton==="cancel"?pe.value=!0:ye.value=!0)},O=()=>{I()},{showRef:B,renderRef:P,renderBackdropRef:N,hide:D,show:F,toggle:W,computedNoAnimation:G,transitionProps:z,backdropTransitionProps:ee,isLeaving:Z,isVisible:ie,trapActive:ge,contentShowing:ne,backdropReady:Q,backdropVisible:X}=Uc(m,i,l,_,d,{transitionProps:{onAfterEnter:O}}),{needsFallback:_e}=Mk({element:_,isActive:ge,noTrap:()=>i.noTrap,fallbackFocus:{ref:v,classSelector:Hp}});ls("Escape",()=>{D("esc")},{target:_}),Rk(B,()=>i.bodyScrolling);const{focused:ye}=to(_,{initialValue:m.value&&i.autofocusButton===void 0&&i.autofocus===!0}),{focused:we}=to(b,{initialValue:m.value&&i.autofocusButton==="ok"&&i.autofocus===!0}),{focused:pe}=to(E,{initialValue:m.value&&i.autofocusButton==="cancel"&&i.autofocus===!0}),{focused:Ne}=to(x,{initialValue:m.value&&i.autofocusButton==="close"&&i.autofocus===!0}),ue=oe(()=>!sd(f["header-close"])),Ae=oe(()=>[i.dialogClass,{"modal-fullscreen":i.fullscreen===!0,[`modal-fullscreen-${i.fullscreen}-down`]:typeof i.fullscreen=="string",[`modal-${i.size}`]:i.size!=="md","modal-dialog-centered":i.centered,"modal-dialog-scrollable":i.scrollable}]),Ue=pl(()=>({bgVariant:i.bodyBgVariant,textVariant:i.bodyTextVariant,variant:i.bodyVariant})),Me=oe(()=>[i.bodyClass,Ue.value]),Pe=pl(()=>({bgVariant:i.headerBgVariant,textVariant:i.headerTextVariant,variant:i.headerVariant,borderVariant:i.headerBorderVariant})),Le=oe(()=>[i.headerClass,Pe.value]),Te=oe(()=>({variant:ue.value?i.headerCloseVariant:void 0,class:i.headerCloseClass})),re=pl(()=>({bgVariant:i.footerBgVariant,textVariant:i.footerTextVariant,variant:i.footerVariant,borderVariant:i.footerBorderVariant})),H=oe(()=>[i.footerClass,re.value]),Ee=oe(()=>[i.titleClass,{"visually-hidden":i.titleVisuallyHidden}]),Ce=oe(()=>i.cancelDisabled||i.busy),Ie=oe(()=>i.okDisabled||i.busy),{activePosition:S,activeModalCount:q,stackWithoutSelf:K}=vL(B,m.value);tt(K,(M,J)=>{M.length>J.length&&B.value===!0&&i.noStacking===!0&&D()});const ce=oe(()=>B.value||Z.value?qp-(((q==null?void 0:q.value)??0)*2-((S==null?void 0:S.value)??0)*2):qp),ve=oe(()=>({"z-index":ce.value})),me=oe(()=>({"z-index":ce.value-1})),$=oe(()=>({cancel:()=>{D("cancel")},close:()=>{D("close")},hide:D,ok:()=>{D("ok")},active:B.value,visible:B.value}));return t({hide:D,id:d,show:F,toggle:W}),(M,J)=>(be(),pt(Yf,{to:U(i).teleportTo,disabled:U(i).teleportDisabled},{default:et(()=>[U(P)||U(ne)?(be(),pt(Tl,yt({key:0},U(z),{appear:m.value||U(i).visible,onAfterEnter:O}),{default:et(()=>[Qt(he("div",yt({id:U(d),ref:"_element",class:["modal",[U(i).modalClass,{fade:!U(G),show:U(ie)}]],role:"dialog","aria-labelledby":U(i).noHeader?void 0:`${U(d)}-label`,"aria-describedby":`${U(d)}-body`,tabindex:"-1"},M.$attrs,{style:ve.value,onClick:J[4]||(J[4]=Wv(le=>U(D)("backdrop"),["self"]))}),[he("div",{class:Nt(["modal-dialog",Ae.value])},[U(ne)?(be(),ze("div",{key:0,class:Nt(["modal-content",U(i).contentClass])},[U(i).noHeader?kt("",!0):(be(),ze("div",{key:0,class:Nt(["modal-header",Le.value])},[ut(M.$slots,"header",xi(sr($.value)),()=>[(be(),pt(bs(U(i).titleTag),{id:`${U(d)}-label`,class:Nt(["modal-title",Ee.value])},{default:et(()=>[ut(M.$slots,"title",xi(sr($.value)),()=>[vt(qe(U(i).title),1)],!0)]),_:3},8,["id","class"])),U(i).noHeaderClose?kt("",!0):(be(),ze(ct,{key:0},[ue.value?(be(),pt(Fr,yt({key:0},Te.value,{onClick:J[0]||(J[0]=le=>U(D)("close"))}),{default:et(()=>[ut(M.$slots,"header-close",{},void 0,!0)]),_:3},16)):(be(),pt(CE,yt({key:1,"aria-label":U(i).headerCloseLabel},Te.value,{onClick:J[1]||(J[1]=le=>U(D)("close"))}),null,16,["aria-label"]))],64))],!0)],2)),he("div",yt({id:`${U(d)}-body`,class:["modal-body",Me.value]},U(i).bodyAttrs),[ut(M.$slots,"default",xi(sr($.value)),()=>[vt(qe(U(i).body),1)],!0)],16,Bk),U(i).noFooter?kt("",!0):(be(),ze("div",{key:1,class:Nt(["modal-footer",H.value])},[ut(M.$slots,"footer",xi(sr($.value)),()=>[ut(M.$slots,"cancel",xi(sr($.value)),()=>[U(i).okOnly?kt("",!0):(be(),pt(Fr,{key:0,ref:"_cancelButton",disabled:Ce.value,size:U(i).buttonSize,variant:U(i).cancelVariant,onClick:J[2]||(J[2]=le=>U(D)("cancel"))},{default:et(()=>[vt(qe(U(i).cancelTitle),1)]),_:1},8,["disabled","size","variant"]))],!0),ut(M.$slots,"ok",xi(sr($.value)),()=>[$e(Fr,{ref:"_okButton",disabled:Ie.value,size:U(i).buttonSize,variant:U(i).okVariant,onClick:J[3]||(J[3]=le=>U(D)("ok"))},{default:et(()=>[vt(qe(U(i).okTitle),1)]),_:1},8,["disabled","size","variant"])],!0)],!0)],2))],2)):kt("",!0)],2),U(_e)?(be(),ze("div",{key:0,ref:"_fallbackFocusElement",class:Nt(Hp),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):kt("",!0)],16,Dk),[[Sl,U(B)&&(U(Q)&&U(i).backdropFirst||!U(i).backdropFirst)]])]),_:3},16,["appear"])):kt("",!0),U(i).noBackdrop?kt("",!0):ut(M.$slots,"backdrop",xi(yt({key:1},$.value)),()=>[U(N)?(be(),pt(Tl,xi(yt({key:0},U(ee))),{default:et(()=>[Qt(he("div",{class:Nt(["modal-backdrop",{fade:!U(G),show:U(X)||U(G)}]),style:zr(me.value),onClick:J[5]||(J[5]=le=>U(D)("backdrop"))},null,6),[[Sl,U(B)||U(Z)&&U(i).backdropFirst&&!U(G)]])]),_:1},16)):kt("",!0)],!0)]),_:3},8,["to","disabled"]))}}),zk=jf(Fk,[["__scopeId","data-v-93972863"]]),$k=Tt({inheritAttrs:!1,__name:"BNavForm",props:{role:{default:void 0},wrapperAttrs:{default:void 0},formClass:{default:void 0},floating:{type:Boolean,default:void 0},id:{default:void 0},novalidate:{type:Boolean,default:void 0},validated:{type:Boolean,default:void 0}},emits:["submit"],setup(e,{emit:t}){const a=ln(e,"BNavForm"),i=t,l=Vf(),f=oe(()=>{const{class:_,...v}=l;return{wrapperClass:_,formAttrs:v}}),d=_=>{i("submit",_)},m=oe(()=>["d-flex","flex-row","align-items-center","flex-wrap",f.value.wrapperClass]);return(_,v)=>(be(),ze("li",yt({class:m.value},_.wrapperAttrs),[$e($E,yt(f.value.formAttrs,{id:U(a).id,floating:U(a).floating,role:U(a).role,novalidate:U(a).novalidate,validated:U(a).validated,class:["d-flex",U(a).formClass],onSubmit:Wv(d,["prevent"])}),{default:et(()=>[ut(_.$slots,"default")]),_:3},16,["id","floating","role","novalidate","validated","class"])],16))}}),Uk=e=>oe(()=>{const t=ft(e);return{container:t===!0,[`container-${t}`]:typeof t=="string"}}),Gk=Tt({__name:"BNavbar",props:{autoClose:{type:Boolean,default:!0},container:{type:[Boolean,String],default:"fluid"},fixed:{default:void 0},print:{type:Boolean,default:!1},sticky:{default:void 0},tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},variant:{default:null}},setup(e){const s=ln(e,"BNavbar"),a=oe(()=>s.tag==="nav"?void 0:"navigation"),i=Uk(()=>s.container),l=pl(oe(()=>({bgVariant:s.variant}))),f=oe(()=>[l.value,{"d-print":s.print,[`sticky-${s.sticky}`]:s.sticky!==void 0,[`fixed-${s.fixed}`]:s.fixed!==void 0,"navbar-expand":s.toggleable===!1,[`navbar-expand-${s.toggleable}`]:typeof s.toggleable=="string"}]);return hs(Xv,{tag:tn(()=>s.tag),autoClose:tn(()=>s.autoClose)}),(d,m)=>(be(),pt(bs(U(s).tag),{class:Nt(["navbar",f.value]),role:a.value},{default:et(()=>[U(s).container!==!1?(be(),ze("div",{key:0,class:Nt(U(i))},[ut(d.$slots,"default")],2)):ut(d.$slots,"default",{key:1})]),_:3},8,["class","role"]))}}),Vk=Tt({__name:"BNavbarBrand",props:{tag:{default:"div"},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(e){const s=ln(e,"BNavbarBrand"),{computedLink:a,computedLinkProps:i}=C_(s,["active","activeClass","append","disabled","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon"]),l=oe(()=>a.value?P_:s.tag);return(f,d)=>(be(),pt(bs(l.value),yt({class:"navbar-brand"},U(i)),{default:et(()=>[ut(f.$slots,"default")]),_:3},16))}}),Hk=Tt({__name:"BNavbarNav",props:{align:{default:void 0},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tag:{default:"ul"}},setup(e){const s=ln(e,"BNavbarNav"),a=AE(()=>s.align),i=oe(()=>({"nav-fill":s.fill,"nav-justified":s.justified,[a.value]:s.align!==void 0,small:s.small}));return(l,f)=>(be(),ze("ul",{class:Nt(["navbar-nav",i.value])},[ut(l.$slots,"default")],2))}}),qk=["disabled","aria-label"],Wk=Tt({__name:"BNavbarToggle",props:{disabled:{type:Boolean,default:!1},label:{default:"Toggle navigation"},target:{default:void 0}},emits:["click"],setup(e,{emit:t}){const a=ln(e,"BNavbarToggle"),i=t,l=oe(()=>({disabled:a.disabled})),f=nn($c,void 0),d=oe(()=>{var v;return!a.target||!f?!1:typeof a.target=="string"?((v=f.map[a.target])==null?void 0:v.value)||!1:a.target.some(b=>{var E;return(E=f.map[b])==null?void 0:E.value})}),m=()=>{var v;if(!(!a.target||!f)){if(typeof a.target=="string"){(v=f.map[a.target])==null||v.toggle();return}a.target.forEach(b=>{var E;return(E=f.map[b])==null?void 0:E.toggle()})}},_=v=>{a.disabled||(i("click",v),m())};return(v,b)=>(be(),ze("button",{class:Nt(["navbar-toggler",l.value]),type:"button",disabled:U(a).disabled,"aria-label":U(a).label,onClick:_},[ut(v.$slots,"default",{expanded:d.value},()=>[b[0]||(b[0]=he("span",{class:"navbar-toggler-icon"},null,-1))])],10,qk))}}),Zk=Tt({__name:"BTooltip",props:ii({interactive:{type:Boolean,default:void 0},boundary:{},boundaryPadding:{},click:{type:Boolean,default:void 0},closeOnHide:{type:Boolean},content:{default:void 0},customClass:{default:void 0},delay:{default:void 0},floatingMiddleware:{default:void 0},hideMargin:{},id:{default:void 0},inline:{type:Boolean,default:void 0},manual:{type:Boolean,default:void 0},noAutoClose:{type:Boolean,default:void 0},noFlip:{type:Boolean,default:void 0},noHide:{type:Boolean,default:void 0},noShift:{type:Boolean,default:void 0},noSize:{type:Boolean},noninteractive:{type:Boolean,default:void 0},offset:{default:void 0},placement:{default:void 0},realtime:{type:Boolean,default:void 0},reference:{default:void 0},strategy:{default:void 0},target:{default:void 0},title:{default:void 0},variant:{default:void 0},teleportDisabled:{type:Boolean,default:void 0},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:void 0},lazy:{type:Boolean,default:void 0},unmountLazy:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},transProps:{},visible:{type:Boolean,default:void 0}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const a=ln(e,"BTooltip"),i=$l(),l=fr(e,"modelValue"),f=oe(()=>{const{interactive:m,noninteractive:_,...v}=a;return{noninteractive:_!==void 0?_:!m,...v}}),d=an("_popover");return t({hide:()=>{var m;(m=d.value)==null||m.hide()},show:()=>{var m;(m=d.value)==null||m.show()},toggle:()=>{var m;(m=d.value)==null||m.toggle()}}),(m,_)=>(be(),pt(x_,yt({ref:"_popover"},f.value,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=v=>l.value=v),tooltip:""}),Lb({_:2},[i.default?{name:"default",fn:et(()=>[ut(m.$slots,"default")]),key:"0"}:void 0,i.target?{name:"target",fn:et(v=>[ut(m.$slots,"target",xi(sr(v)))]),key:"1"}:void 0,i.title?{name:"title",fn:et(()=>[ut(m.$slots,"title")]),key:"2"}:void 0]),1040,["modelValue"]))}});Object.freeze(Object.keys({bordered:0,borderless:0,borderVariant:0,captionTop:0,dark:0,fixed:0,hover:0,id:0,noBorderCollapse:0,outlined:0,responsive:0,small:0,stacked:0,stickyHeader:0,striped:0,stripedColumns:0,variant:0,tableAttrs:0,tableClass:0}));Object.freeze(Object.keys({align:0,caption:0,detailsTdClass:0,fieldColumnClass:0,fields:0,footClone:0,footRowVariant:0,footVariant:0,headRowVariant:0,headVariant:0,items:0,labelStacked:0,modelValue:0,primaryKey:0,tbodyClass:0,tbodyTrAttrs:0,tbodyTrClass:0,tfootClass:0,tfootTrClass:0,theadClass:0,theadTrClass:0}));const U_={BAccordion:"/components/BAccordion",BAccordionItem:"/components/BAccordion",BAlert:"/components/BAlert",BAvatar:"/components/BAvatar",BAvatarGroup:"/components/BAvatar",BBadge:"/components/BBadge",BBreadcrumb:"/components/BBreadcrumb",BBreadcrumbItem:"/components/BBreadcrumb",BButton:"/components/BButton",BButtonGroup:"/components/BButton",BButtonToolbar:"/components/BButton",BCloseButton:"/components/BButton",BCard:"/components/BCard",BCardBody:"/components/BCard",BCardFooter:"/components/BCard",BCardGroup:"/components/BCard",BCardHeader:"/components/BCard",BCardImg:"/components/BCard",BCardSubtitle:"/components/BCard",BCardText:"/components/BCard",BCardTitle:"/components/BCard",BCarousel:"/components/BCarousel",BCarouselSlide:"/components/BCarousel",BCol:"/components/BContainer",BCollapse:"/components/BCollapse",BContainer:"/components/BContainer",BDropdown:"/components/BDropdown",BDropdownDivider:"/components/BDropdown",BDropdownForm:"/components/BDropdown",BDropdownGroup:"/components/BDropdown",BDropdownHeader:"/components/BDropdown",BDropdownItem:"/components/BDropdown",BDropdownItemButton:"/components/BDropdown",BDropdownText:"/components/BDropdown",BForm:"/components/BForm",BFormCheckbox:"/components/BFormCheckbox",BFormCheckboxGroup:"/components/BFormCheckbox",BFormDatalist:"/components/BForm",BFormFile:"/components/BFormFile",BFormFloatingLabel:"/components/BForm",BFormGroup:"/components/BFormGroup",BFormInput:"/components/BFormInput",BFormInvalidFeedback:"/components/BForm",BFormRadio:"/components/BFormRadio",BFormRadioGroup:"/components/BFormRadio",BFormRow:"/components/BForm",BFormSelect:"/components/BFormSelect",BFormSelectOption:"/components/BFormSelect",BFormSelectOptionGroup:"/components/BFormSelect",BFormSpinbutton:"/components/BFormSpinbutton",BFormTag:"/components/BFormTags",BFormTags:"/components/BFormTags",BFormText:"/components/BForm",BFormTextarea:"/components/BFormTextarea",BFormValidFeedback:"/components/BForm",BImg:"/components/BImg",BInput:"/components/BFormInput",BInputGroup:"/components/BInputGroup",BInputGroupText:"/components/BInputGroup",BListGroup:"/components/BListGroup",BListGroupItem:"/components/BListGroup",BModal:"/components/BModal",BModalOrchestrator:"/components/BModal",BNav:"/components/BNav",BNavForm:"/components/BNav",BNavItem:"/components/BNav",BNavItemDropdown:"/components/BNav",BNavText:"/components/BNav",BNavbar:"/components/BNavbar",BNavbarBrand:"/components/BNavbar",BNavbarNav:"/components/BNavbar",BNavbarToggle:"/components/BNavbar",BOffcanvas:"/components/BOffcanvas",BOverlay:"/components/BOverlay",BPagination:"/components/BPagination",BPlaceholder:"/components/BPlaceholder",BPlaceholderButton:"/components/BPlaceholder",BPlaceholderCard:"/components/BPlaceholder",BPlaceholderTable:"/components/BPlaceholder",BPlaceholderWrapper:"/components/BPlaceholder",BPopover:"/components/BPopover",BProgress:"/components/BProgress",BRow:"/components/BContainer",BSpinner:"/components/BSpinner",BTab:"/components/BTabs",BTabs:"/components/BTabs",BToast:"/components/BToast",BToastOrchestrator:"/components/BToast",BTooltip:"/components/BTooltip",BLink:"/components/BLink",BProgressBar:"/components/BProgress",BTableSimple:"/components/BTable",BTableLite:"/components/BTable",BTable:"/components/BTable",BTbody:"/components/BTable",BTd:"/components/BTable",BTh:"/components/BTable",BThead:"/components/BTable",BTfoot:"/components/BTable",BTr:"/components/BTable",BPopoverOrchestrator:"/components/BPopover"},Yk=Object.freeze(Object.keys(U_)),G_={vBColorMode:"/directives/BColorMode",vBModal:"/directives/BModal",vBPopover:"/directives/BPopover",vBScrollspy:"/directives/BScrollspy",vBToggle:"/directives/BToggle",vBTooltip:"/directives/BTooltip"},jk=Object.freeze(Object.keys(G_)),Xk={useBreadcrumb:"/composables/useBreadcrumb",useColorMode:"/composables/useColorMode",useModal:"/composables/useModal",useModalController:"/composables/useModalController",useScrollspy:"/composables/useScrollspy",useToastController:"/composables/useToastController",usePopoverController:"/composables/usePopoverController"};Object.freeze(Object.keys(Xk));const Wp="bootstrap-vue-next",Zp=(e,t)=>{const{all:s,...a}=e,i={};s&&t.forEach(f=>{i[f]=s});const l={...i,...a};return Object.entries(l).filter(([f,d])=>!!d&&t.includes(f)).map(([f])=>f)},Mh=new Set,Yp=new Set;Object.assign(({aliases:e={},directives:t=!0,components:s=!0}={})=>{const i=Zp(typeof s=="boolean"?{all:s}:s,Yk).reduce((m,_)=>(m.set(_,`${Wp}${U_[_]}`),m),new Map),f=Zp(typeof t=="boolean"?{all:t}:t,jk).reduce((m,_)=>{const v=_.toLowerCase().startsWith("v")?_:`v${_}`;return m.set(v,`${Wp}${G_[v]}`),m},new Map);return[{type:"component",resolve(m){const _=i.get(m),v=i.get(e[m]);if(v){const b=e[m];return Mh.add(b),{name:b,from:v}}if(_)return Mh.add(m),{name:m,from:_}}},{type:"directive",resolve(m){const _=`v${m}`,v=f.get(_);if(v)return Yp.add(_),{name:_,from:v}}}]},{__usedComponents:Mh,__usedDirectives:Yp});const Kk={install(e,t){const s=(t==null?void 0:t.components)??{};e.provide(Du,Fe(s))}},Jk={install(e){const t=Fe({[wp]:[]}),s=(a=wp)=>{t.value[a]=[]};e.provide(Hw,{items:t,reset:s})}},Qk={install(e){const t=Fe(new Map),s=()=>{let m=()=>{};return{value:new Promise(v=>{m=v}),resolve:m}},a=m=>[s(),m||Symbol("Modals controller"),!0],i=(m={})=>{var _;const v=tn(m.props),[b,E,x]=a((_=v.value)==null?void 0:_.id);return t.value.set(E,{component:m.component?cs(m.component):void 0,props:{...v.value,_isConfirm:!1,_promise:b,_modelValue:x}}),tt(v,I=>{const O=t.value.get(E);O&&t.value.set(E,{component:m.component?cs(m.component):void 0,props:{...O.props,...I}})}),b.value},l=(m={})=>{var _;const v=tn(m.props),[b,E,x]=a((_=v.value)==null?void 0:_.id);return t.value.set(E,{component:m.component?cs(m.component):void 0,props:{...v.value,_isConfirm:!0,_promise:b,_modelValue:x}}),tt(v,I=>{const O=t.value.get(E);O&&t.value.set(E,{component:m.component?cs(m.component):void 0,props:{...O.props,...I}})}),b.value},f=m=>{const _=t.value.get(m);_!=null&&_.props&&(_.props={..._.props,_modelValue:!1})},d=m=>{t.value.delete(m)};e.provide(Yw,{modals:t,remove:d,show:i,confirm:l,leave:f})}},e1={install(e){const t=Fe(new Map),s=oe(()=>t.value.size),a=oe(()=>[...t.value.values()]),i=oe(()=>a.value[a.value.length-1]),l=v=>{t.value.set(v.uid,v)},f=v=>{t.value.delete(v.uid)},d=Fe(new Map),m=v=>{d.value.set(v.uid,v)},_=v=>{d.value.delete(v.uid)};e.provide(Kv,{countStack:s,lastStack:i,registry:qn(d),stack:a,pushStack:l,removeStack:f,pushRegistry:m,removeRegistry:_})}},t1={install(e){const t=Fe(new Map),s=_=>{var v;const b=tn(_),E=((v=b.value)==null?void 0:v.id)||Symbol("Popover controller");return tt(b,x=>{t.value.set(E,{...x,...typeof x.modelValue<"u"&&Dt(_)?{"onUpdate:modelValue":I=>{var O;(O=x["onUpdate:modelValue"])==null||O.call(x,I),_.value.modelValue=I}}:{}})},{immediate:!0,deep:!0}),ju(()=>t.value.delete(E),!0),E},a=(_,v)=>{const b=t.value.get(_);b&&t.value.set(_,{...b,...ft(v)})},i=_=>t.value.delete(_),l=Fe(new Map),f=_=>{var v;const b=tn(_),E=((v=b.value)==null?void 0:v.id)||Symbol("Tooltip controller");return tt(b,x=>{t.value.set(E,{...x,...typeof x.modelValue<"u"&&Dt(_)?{"onUpdate:modelValue":I=>{var O;(O=x["onUpdate:modelValue"])==null||O.call(x,I),_.value.modelValue=I}}:{}})},{immediate:!0,deep:!0}),ju(()=>l.value.delete(E),!0),E},d=(_,v)=>{const b=l.value.get(_);b&&l.value.set(_,{...b,...ft(v)})},m=_=>l.value.delete(_);e.provide(jw,{popovers:t,tooltips:l,tooltip:f,popover:s,setPopover:a,setTooltip:d,removePopover:i,removeTooltip:m})}},n1={install(e,t){var s,a;const f=typeof(t==null?void 0:t.rtl)=="boolean"?!1:((s=t==null?void 0:t.rtl)==null?void 0:s.rtlInitial)??!1,d=typeof(t==null?void 0:t.rtl)=="boolean"?void 0:((a=t==null?void 0:t.rtl)==null?void 0:a.localeInitial)??void 0,m=Fe(f),_=Fe(d);e.provide(Vw,{isRtl:m,locale:_})}},i1="top-end",r1={install(e){const t=Fe([]),s=Fe(!1),a=d=>{s.value=d},i=(d={})=>{var m,_,v,b;const E=tn(d.props),x=((m=E.value)==null?void 0:m.id)||Symbol("Toast controller"),I={component:d.component?cs(d.component):void 0,props:{...E.value,pos:((_=E.value)==null?void 0:_.pos)||i1,_modelValue:((v=E.value)==null?void 0:v.value)||5e3,_self:x}};return(((b=E.value)==null?void 0:b.appendToast)!==void 0?E.value.appendToast:s.value)?t.value.push(I):t.value.unshift(I),tt(E,O=>{const B=t.value.findIndex(P=>P.props._self===x);B!==-1&&t.value.splice(B,1,{component:d.component?cs(d.component):void 0,props:{...t.value[B].props,...O,_modelValue:(O==null?void 0:O.value)||t.value[B].props._modelValue||5e3}})}),x},l=d=>{t.value=t.value.filter(m=>m.props._self!==d)},f=d=>{const m=t.value.findIndex(_=>_.props._self===d);m!==-1&&t.value.splice(m,1,{component:t.value[m].component?cs(t.value[m].component):void 0,props:{...t.value[m].props,_modelValue:!1}})};e.provide(Zw,{_setIsAppend:a,toasts:t,show:i,remove:l,leave:f})}},s1={install(e){const t=ni({}),s=({id:a,value:i,toggle:l,show:f,hide:d})=>(t[a]=oe(()=>({value:i.value,toggle:l,show:f,hide:d})),{unregister(){delete t[a]}});s.map=qn(t),e.provide($c,s)}},o1=(e={})=>({install(t){(e.breadcrumb??!0)&&t.use(Jk),(e.modalController??!0)&&t.use(Qk),(e.modalManager??!0)&&t.use(e1),((e.rtl??!0)||typeof e.rtl=="object")&&t.use(n1,e),(e.toast??!0)&&t.use(r1),(e.popover??!0)&&t.use(t1),t.use(s1),t.use(Kk,e)}});/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const pc=typeof window<"u",Ls=(e,t=!1)=>t?Symbol.for(e):Symbol(e),a1=(e,t,s)=>l1({l:e,k:t,s}),l1=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),sn=e=>typeof e=="number"&&isFinite(e),u1=e=>ld(e)==="[object Date]",sa=e=>ld(e)==="[object RegExp]",qc=e=>ht(e)&&Object.keys(e).length===0,hn=Object.assign,c1=Object.create,Bt=(e=null)=>c1(e);let jp;const no=()=>jp||(jp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Bt());function Xp(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const h1=Object.prototype.hasOwnProperty;function Bi(e,t){return h1.call(e,t)}const en=Array.isArray,Vt=e=>typeof e=="function",He=e=>typeof e=="string",Lt=e=>typeof e=="boolean",xt=e=>e!==null&&typeof e=="object",f1=e=>xt(e)&&Vt(e.then)&&Vt(e.catch),V_=Object.prototype.toString,ld=e=>V_.call(e),ht=e=>ld(e)==="[object Object]",d1=e=>e==null?"":en(e)||ht(e)&&e.toString===V_?JSON.stringify(e,null,2):String(e);function ud(e,t=""){return e.reduce((s,a,i)=>i===0?s+a:s+t+a,"")}function p1(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const ku=e=>!xt(e)||en(e);function Bu(e,t){if(ku(e)||ku(t))throw new Error("Invalid value");const s=[{src:e,des:t}];for(;s.length;){const{src:a,des:i}=s.pop();Object.keys(a).forEach(l=>{l!=="__proto__"&&(xt(a[l])&&!xt(i[l])&&(i[l]=Array.isArray(a[l])?[]:Bt()),ku(i[l])||ku(a[l])?i[l]=a[l]:s.push({src:a[l],des:i[l]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function m1(e,t,s){return{line:e,column:t,offset:s}}function lf(e,t,s){return{start:e,end:t}}const Rt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},g1=17;function Wc(e,t,s={}){const{domain:a,messages:i,args:l}=s,f=e,d=new SyntaxError(String(f));return d.code=e,t&&(d.location=t),d.domain=a,d}function v1(e){throw e}const Cr=" ",_1="\r",zn=`
`,y1="\u2028",b1="\u2029";function w1(e){const t=e;let s=0,a=1,i=1,l=0;const f=z=>t[z]===_1&&t[z+1]===zn,d=z=>t[z]===zn,m=z=>t[z]===b1,_=z=>t[z]===y1,v=z=>f(z)||d(z)||m(z)||_(z),b=()=>s,E=()=>a,x=()=>i,I=()=>l,O=z=>f(z)||m(z)||_(z)?zn:t[z],B=()=>O(s),P=()=>O(s+l);function N(){return l=0,v(s)&&(a++,i=0),f(s)&&s++,s++,i++,t[s]}function D(){return f(s+l)&&l++,l++,t[s+l]}function F(){s=0,a=1,i=1,l=0}function W(z=0){l=z}function G(){const z=s+l;for(;z!==s;)N();l=0}return{index:b,line:E,column:x,peekOffset:I,charAt:O,currentChar:B,currentPeek:P,next:N,peek:D,reset:F,resetPeek:W,skipToPeek:G}}const ns=void 0,L1=".",Kp="'",E1="tokenizer";function k1(e,t={}){const s=t.location!==!1,a=w1(e),i=()=>a.index(),l=()=>m1(a.line(),a.column(),a.index()),f=l(),d=i(),m={currentType:13,offset:d,startLoc:f,endLoc:f,lastType:13,lastOffset:d,lastStartLoc:f,lastEndLoc:f,braceNest:0,inLinked:!1,text:""},_=()=>m,{onError:v}=t;function b($,M,J,...le){const De=_();if(M.column+=J,M.offset+=J,v){const ke=s?lf(De.startLoc,M):null,j=Wc($,ke,{domain:E1,args:le});v(j)}}function E($,M,J){$.endLoc=l(),$.currentType=M;const le={type:M};return s&&(le.loc=lf($.startLoc,$.endLoc)),J!=null&&(le.value=J),le}const x=$=>E($,13);function I($,M){return $.currentChar()===M?($.next(),M):(b(Rt.EXPECTED_TOKEN,l(),0,M),"")}function O($){let M="";for(;$.currentPeek()===Cr||$.currentPeek()===zn;)M+=$.currentPeek(),$.peek();return M}function B($){const M=O($);return $.skipToPeek(),M}function P($){if($===ns)return!1;const M=$.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M===95}function N($){if($===ns)return!1;const M=$.charCodeAt(0);return M>=48&&M<=57}function D($,M){const{currentType:J}=M;if(J!==2)return!1;O($);const le=P($.currentPeek());return $.resetPeek(),le}function F($,M){const{currentType:J}=M;if(J!==2)return!1;O($);const le=$.currentPeek()==="-"?$.peek():$.currentPeek(),De=N(le);return $.resetPeek(),De}function W($,M){const{currentType:J}=M;if(J!==2)return!1;O($);const le=$.currentPeek()===Kp;return $.resetPeek(),le}function G($,M){const{currentType:J}=M;if(J!==7)return!1;O($);const le=$.currentPeek()===".";return $.resetPeek(),le}function z($,M){const{currentType:J}=M;if(J!==8)return!1;O($);const le=P($.currentPeek());return $.resetPeek(),le}function ee($,M){const{currentType:J}=M;if(!(J===7||J===11))return!1;O($);const le=$.currentPeek()===":";return $.resetPeek(),le}function Z($,M){const{currentType:J}=M;if(J!==9)return!1;const le=()=>{const ke=$.currentPeek();return ke==="{"?P($.peek()):ke==="@"||ke==="|"||ke===":"||ke==="."||ke===Cr||!ke?!1:ke===zn?($.peek(),le()):ge($,!1)},De=le();return $.resetPeek(),De}function ie($){O($);const M=$.currentPeek()==="|";return $.resetPeek(),M}function ge($,M=!0){const J=(De=!1,ke="")=>{const j=$.currentPeek();return j==="{"||j==="@"||!j?De:j==="|"?!(ke===Cr||ke===zn):j===Cr?($.peek(),J(!0,Cr)):j===zn?($.peek(),J(!0,zn)):!0},le=J();return M&&$.resetPeek(),le}function ne($,M){const J=$.currentChar();return J===ns?ns:M(J)?($.next(),J):null}function Q($){const M=$.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===95||M===36}function X($){return ne($,Q)}function _e($){const M=$.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===95||M===36||M===45}function ye($){return ne($,_e)}function we($){const M=$.charCodeAt(0);return M>=48&&M<=57}function pe($){return ne($,we)}function Ne($){const M=$.charCodeAt(0);return M>=48&&M<=57||M>=65&&M<=70||M>=97&&M<=102}function ue($){return ne($,Ne)}function Ae($){let M="",J="";for(;M=pe($);)J+=M;return J}function Ue($){let M="";for(;;){const J=$.currentChar();if(J==="{"||J==="}"||J==="@"||J==="|"||!J)break;if(J===Cr||J===zn)if(ge($))M+=J,$.next();else{if(ie($))break;M+=J,$.next()}else M+=J,$.next()}return M}function Me($){B($);let M="",J="";for(;M=ye($);)J+=M;return $.currentChar()===ns&&b(Rt.UNTERMINATED_CLOSING_BRACE,l(),0),J}function Pe($){B($);let M="";return $.currentChar()==="-"?($.next(),M+=`-${Ae($)}`):M+=Ae($),$.currentChar()===ns&&b(Rt.UNTERMINATED_CLOSING_BRACE,l(),0),M}function Le($){return $!==Kp&&$!==zn}function Te($){B($),I($,"'");let M="",J="";for(;M=ne($,Le);)M==="\\"?J+=re($):J+=M;const le=$.currentChar();return le===zn||le===ns?(b(Rt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,l(),0),le===zn&&($.next(),I($,"'")),J):(I($,"'"),J)}function re($){const M=$.currentChar();switch(M){case"\\":case"'":return $.next(),`\\${M}`;case"u":return H($,M,4);case"U":return H($,M,6);default:return b(Rt.UNKNOWN_ESCAPE_SEQUENCE,l(),0,M),""}}function H($,M,J){I($,M);let le="";for(let De=0;De<J;De++){const ke=ue($);if(!ke){b(Rt.INVALID_UNICODE_ESCAPE_SEQUENCE,l(),0,`\\${M}${le}${$.currentChar()}`);break}le+=ke}return`\\${M}${le}`}function Ee($){return $!=="{"&&$!=="}"&&$!==Cr&&$!==zn}function Ce($){B($);let M="",J="";for(;M=ne($,Ee);)J+=M;return J}function Ie($){let M="",J="";for(;M=X($);)J+=M;return J}function S($){const M=J=>{const le=$.currentChar();return le==="{"||le==="@"||le==="|"||le==="("||le===")"||!le||le===Cr?J:(J+=le,$.next(),M(J))};return M("")}function q($){B($);const M=I($,"|");return B($),M}function K($,M){let J=null;switch($.currentChar()){case"{":return M.braceNest>=1&&b(Rt.NOT_ALLOW_NEST_PLACEHOLDER,l(),0),$.next(),J=E(M,2,"{"),B($),M.braceNest++,J;case"}":return M.braceNest>0&&M.currentType===2&&b(Rt.EMPTY_PLACEHOLDER,l(),0),$.next(),J=E(M,3,"}"),M.braceNest--,M.braceNest>0&&B($),M.inLinked&&M.braceNest===0&&(M.inLinked=!1),J;case"@":return M.braceNest>0&&b(Rt.UNTERMINATED_CLOSING_BRACE,l(),0),J=ce($,M)||x(M),M.braceNest=0,J;default:{let De=!0,ke=!0,j=!0;if(ie($))return M.braceNest>0&&b(Rt.UNTERMINATED_CLOSING_BRACE,l(),0),J=E(M,1,q($)),M.braceNest=0,M.inLinked=!1,J;if(M.braceNest>0&&(M.currentType===4||M.currentType===5||M.currentType===6))return b(Rt.UNTERMINATED_CLOSING_BRACE,l(),0),M.braceNest=0,ve($,M);if(De=D($,M))return J=E(M,4,Me($)),B($),J;if(ke=F($,M))return J=E(M,5,Pe($)),B($),J;if(j=W($,M))return J=E(M,6,Te($)),B($),J;if(!De&&!ke&&!j)return J=E(M,12,Ce($)),b(Rt.INVALID_TOKEN_IN_PLACEHOLDER,l(),0,J.value),B($),J;break}}return J}function ce($,M){const{currentType:J}=M;let le=null;const De=$.currentChar();switch((J===7||J===8||J===11||J===9)&&(De===zn||De===Cr)&&b(Rt.INVALID_LINKED_FORMAT,l(),0),De){case"@":return $.next(),le=E(M,7,"@"),M.inLinked=!0,le;case".":return B($),$.next(),E(M,8,".");case":":return B($),$.next(),E(M,9,":");default:return ie($)?(le=E(M,1,q($)),M.braceNest=0,M.inLinked=!1,le):G($,M)||ee($,M)?(B($),ce($,M)):z($,M)?(B($),E(M,11,Ie($))):Z($,M)?(B($),De==="{"?K($,M)||le:E(M,10,S($))):(J===7&&b(Rt.INVALID_LINKED_FORMAT,l(),0),M.braceNest=0,M.inLinked=!1,ve($,M))}}function ve($,M){let J={type:13};if(M.braceNest>0)return K($,M)||x(M);if(M.inLinked)return ce($,M)||x(M);switch($.currentChar()){case"{":return K($,M)||x(M);case"}":return b(Rt.UNBALANCED_CLOSING_BRACE,l(),0),$.next(),E(M,3,"}");case"@":return ce($,M)||x(M);default:{if(ie($))return J=E(M,1,q($)),M.braceNest=0,M.inLinked=!1,J;if(ge($))return E(M,0,Ue($));break}}return J}function me(){const{currentType:$,offset:M,startLoc:J,endLoc:le}=m;return m.lastType=$,m.lastOffset=M,m.lastStartLoc=J,m.lastEndLoc=le,m.offset=i(),m.startLoc=l(),a.currentChar()===ns?E(m,13):ve(a,m)}return{nextToken:me,currentOffset:i,currentPosition:l,context:_}}const x1="parser",T1=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function S1(e,t,s){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const a=parseInt(t||s,16);return a<=55295||a>=57344?String.fromCodePoint(a):"�"}}}function C1(e={}){const t=e.location!==!1,{onError:s}=e;function a(P,N,D,F,...W){const G=P.currentPosition();if(G.offset+=F,G.column+=F,s){const z=t?lf(D,G):null,ee=Wc(N,z,{domain:x1,args:W});s(ee)}}function i(P,N,D){const F={type:P};return t&&(F.start=N,F.end=N,F.loc={start:D,end:D}),F}function l(P,N,D,F){t&&(P.end=N,P.loc&&(P.loc.end=D))}function f(P,N){const D=P.context(),F=i(3,D.offset,D.startLoc);return F.value=N,l(F,P.currentOffset(),P.currentPosition()),F}function d(P,N){const D=P.context(),{lastOffset:F,lastStartLoc:W}=D,G=i(5,F,W);return G.index=parseInt(N,10),P.nextToken(),l(G,P.currentOffset(),P.currentPosition()),G}function m(P,N){const D=P.context(),{lastOffset:F,lastStartLoc:W}=D,G=i(4,F,W);return G.key=N,P.nextToken(),l(G,P.currentOffset(),P.currentPosition()),G}function _(P,N){const D=P.context(),{lastOffset:F,lastStartLoc:W}=D,G=i(9,F,W);return G.value=N.replace(T1,S1),P.nextToken(),l(G,P.currentOffset(),P.currentPosition()),G}function v(P){const N=P.nextToken(),D=P.context(),{lastOffset:F,lastStartLoc:W}=D,G=i(8,F,W);return N.type!==11?(a(P,Rt.UNEXPECTED_EMPTY_LINKED_MODIFIER,D.lastStartLoc,0),G.value="",l(G,F,W),{nextConsumeToken:N,node:G}):(N.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ir(N)),G.value=N.value||"",l(G,P.currentOffset(),P.currentPosition()),{node:G})}function b(P,N){const D=P.context(),F=i(7,D.offset,D.startLoc);return F.value=N,l(F,P.currentOffset(),P.currentPosition()),F}function E(P){const N=P.context(),D=i(6,N.offset,N.startLoc);let F=P.nextToken();if(F.type===8){const W=v(P);D.modifier=W.node,F=W.nextConsumeToken||P.nextToken()}switch(F.type!==9&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(F)),F=P.nextToken(),F.type===2&&(F=P.nextToken()),F.type){case 10:F.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(F)),D.key=b(P,F.value||"");break;case 4:F.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(F)),D.key=m(P,F.value||"");break;case 5:F.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(F)),D.key=d(P,F.value||"");break;case 6:F.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(F)),D.key=_(P,F.value||"");break;default:{a(P,Rt.UNEXPECTED_EMPTY_LINKED_KEY,N.lastStartLoc,0);const W=P.context(),G=i(7,W.offset,W.startLoc);return G.value="",l(G,W.offset,W.startLoc),D.key=G,l(D,W.offset,W.startLoc),{nextConsumeToken:F,node:D}}}return l(D,P.currentOffset(),P.currentPosition()),{node:D}}function x(P){const N=P.context(),D=N.currentType===1?P.currentOffset():N.offset,F=N.currentType===1?N.endLoc:N.startLoc,W=i(2,D,F);W.items=[];let G=null;do{const Z=G||P.nextToken();switch(G=null,Z.type){case 0:Z.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(Z)),W.items.push(f(P,Z.value||""));break;case 5:Z.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(Z)),W.items.push(d(P,Z.value||""));break;case 4:Z.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(Z)),W.items.push(m(P,Z.value||""));break;case 6:Z.value==null&&a(P,Rt.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,ir(Z)),W.items.push(_(P,Z.value||""));break;case 7:{const ie=E(P);W.items.push(ie.node),G=ie.nextConsumeToken||null;break}}}while(N.currentType!==13&&N.currentType!==1);const z=N.currentType===1?N.lastOffset:P.currentOffset(),ee=N.currentType===1?N.lastEndLoc:P.currentPosition();return l(W,z,ee),W}function I(P,N,D,F){const W=P.context();let G=F.items.length===0;const z=i(1,N,D);z.cases=[],z.cases.push(F);do{const ee=x(P);G||(G=ee.items.length===0),z.cases.push(ee)}while(W.currentType!==13);return G&&a(P,Rt.MUST_HAVE_MESSAGES_IN_PLURAL,D,0),l(z,P.currentOffset(),P.currentPosition()),z}function O(P){const N=P.context(),{offset:D,startLoc:F}=N,W=x(P);return N.currentType===13?W:I(P,D,F,W)}function B(P){const N=k1(P,hn({},e)),D=N.context(),F=i(0,D.offset,D.startLoc);return t&&F.loc&&(F.loc.source=P),F.body=O(N),e.onCacheKey&&(F.cacheKey=e.onCacheKey(P)),D.currentType!==13&&a(N,Rt.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,P[D.offset]||""),l(F,N.currentOffset(),N.currentPosition()),F}return{parse:B}}function ir(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function I1(e,t={}){const s={ast:e,helpers:new Set};return{context:()=>s,helper:l=>(s.helpers.add(l),l)}}function Jp(e,t){for(let s=0;s<e.length;s++)cd(e[s],t)}function cd(e,t){switch(e.type){case 1:Jp(e.cases,t),t.helper("plural");break;case 2:Jp(e.items,t);break;case 6:{cd(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function P1(e,t={}){const s=I1(e);s.helper("normalize"),e.body&&cd(e.body,s);const a=s.context();e.helpers=Array.from(a.helpers)}function N1(e){const t=e.body;return t.type===2?Qp(t):t.cases.forEach(s=>Qp(s)),e}function Qp(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let s=0;s<e.items.length;s++){const a=e.items[s];if(!(a.type===3||a.type===9)||a.value==null)break;t.push(a.value)}if(t.length===e.items.length){e.static=ud(t);for(let s=0;s<e.items.length;s++){const a=e.items[s];(a.type===3||a.type===9)&&delete a.value}}}}function qo(e){switch(e.t=e.type,e.type){case 0:{const t=e;qo(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,s=t.cases;for(let a=0;a<s.length;a++)qo(s[a]);t.c=s,delete t.cases;break}case 2:{const t=e,s=t.items;for(let a=0;a<s.length;a++)qo(s[a]);t.i=s,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;qo(t.key),t.k=t.key,delete t.key,t.modifier&&(qo(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function O1(e,t){const{sourceMap:s,filename:a,breakLineCode:i,needIndent:l}=t,f=t.location!==!1,d={filename:a,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:l,indentLevel:0};f&&e.loc&&(d.source=e.loc.source);const m=()=>d;function _(B,P){d.code+=B}function v(B,P=!0){const N=P?i:"";_(l?N+"  ".repeat(B):N)}function b(B=!0){const P=++d.indentLevel;B&&v(P)}function E(B=!0){const P=--d.indentLevel;B&&v(P)}function x(){v(d.indentLevel)}return{context:m,push:_,indent:b,deindent:E,newline:x,helper:B=>`_${B}`,needIndent:()=>d.needIndent}}function M1(e,t){const{helper:s}=e;e.push(`${s("linked")}(`),oa(e,t.key),t.modifier?(e.push(", "),oa(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function A1(e,t){const{helper:s,needIndent:a}=e;e.push(`${s("normalize")}([`),e.indent(a());const i=t.items.length;for(let l=0;l<i&&(oa(e,t.items[l]),l!==i-1);l++)e.push(", ");e.deindent(a()),e.push("])")}function R1(e,t){const{helper:s,needIndent:a}=e;if(t.cases.length>1){e.push(`${s("plural")}([`),e.indent(a());const i=t.cases.length;for(let l=0;l<i&&(oa(e,t.cases[l]),l!==i-1);l++)e.push(", ");e.deindent(a()),e.push("])")}}function D1(e,t){t.body?oa(e,t.body):e.push("null")}function oa(e,t){const{helper:s}=e;switch(t.type){case 0:D1(e,t);break;case 1:R1(e,t);break;case 2:A1(e,t);break;case 6:M1(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${s("interpolate")}(${s("list")}(${t.index}))`,t);break;case 4:e.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const B1=(e,t={})=>{const s=He(t.mode)?t.mode:"normal",a=He(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,l=t.breakLineCode!=null?t.breakLineCode:s==="arrow"?";":`
`,f=t.needIndent?t.needIndent:s!=="arrow",d=e.helpers||[],m=O1(e,{mode:s,filename:a,sourceMap:i,breakLineCode:l,needIndent:f});m.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),m.indent(f),d.length>0&&(m.push(`const { ${ud(d.map(b=>`${b}: _${b}`),", ")} } = ctx`),m.newline()),m.push("return "),oa(m,e),m.deindent(f),m.push("}"),delete e.helpers;const{code:_,map:v}=m.context();return{ast:e,code:_,map:v?v.toJSON():void 0}};function F1(e,t={}){const s=hn({},t),a=!!s.jit,i=!!s.minify,l=s.optimize==null?!0:s.optimize,d=C1(s).parse(e);return a?(l&&N1(d),i&&qo(d),{ast:d,code:""}):(P1(d,s),B1(d,s))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function z1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(no().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(no().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Ah(e){return s=>$1(s,e)}function $1(e,t){const s=G1(t);if(s==null)throw Pl(0);if(hd(s)===1){const l=H1(s);return e.plural(l.reduce((f,d)=>[...f,em(e,d)],[]))}else return em(e,s)}const U1=["b","body"];function G1(e){return Es(e,U1)}const V1=["c","cases"];function H1(e){return Es(e,V1,[])}function em(e,t){const s=W1(t);if(s!=null)return e.type==="text"?s:e.normalize([s]);{const a=Y1(t).reduce((i,l)=>[...i,uf(e,l)],[]);return e.normalize(a)}}const q1=["s","static"];function W1(e){return Es(e,q1)}const Z1=["i","items"];function Y1(e){return Es(e,Z1,[])}function uf(e,t){const s=hd(t);switch(s){case 3:return xu(t,s);case 9:return xu(t,s);case 4:{const a=t;if(Bi(a,"k")&&a.k)return e.interpolate(e.named(a.k));if(Bi(a,"key")&&a.key)return e.interpolate(e.named(a.key));throw Pl(s)}case 5:{const a=t;if(Bi(a,"i")&&sn(a.i))return e.interpolate(e.list(a.i));if(Bi(a,"index")&&sn(a.index))return e.interpolate(e.list(a.index));throw Pl(s)}case 6:{const a=t,i=J1(a),l=ex(a);return e.linked(uf(e,l),i?uf(e,i):void 0,e.type)}case 7:return xu(t,s);case 8:return xu(t,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const j1=["t","type"];function hd(e){return Es(e,j1)}const X1=["v","value"];function xu(e,t){const s=Es(e,X1);if(s)return s;throw Pl(t)}const K1=["m","modifier"];function J1(e){return Es(e,K1)}const Q1=["k","key"];function ex(e){const t=Es(e,Q1);if(t)return t;throw Pl(6)}function Es(e,t,s){for(let a=0;a<t.length;a++){const i=t[a];if(Bi(e,i)&&e[i]!=null)return e[i]}return s}function Pl(e){return new Error(`unhandled node type: ${e}`)}const tx=e=>e;let Tu=Bt();function aa(e){return xt(e)&&hd(e)===0&&(Bi(e,"b")||Bi(e,"body"))}function nx(e,t={}){let s=!1;const a=t.onError||v1;return t.onError=i=>{s=!0,a(i)},{...F1(e,t),detectError:s}}function ix(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&He(e)){Lt(t.warnHtmlMessage)&&t.warnHtmlMessage;const a=(t.onCacheKey||tx)(e),i=Tu[a];if(i)return i;const{ast:l,detectError:f}=nx(e,{...t,location:!1,jit:!0}),d=Ah(l);return f?d:Tu[a]=d}else{const s=e.cacheKey;if(s){const a=Tu[s];return a||(Tu[s]=Ah(e))}else return Ah(e)}}let Nl=null;function rx(e){Nl=e}function sx(e,t,s){Nl&&Nl.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:s})}const ox=ax("function:translate");function ax(e){return t=>Nl&&Nl.emit(e,t)}const Dr={INVALID_ARGUMENT:g1,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},lx=24;function Br(e){return Wc(e,null,void 0)}function fd(e,t){return t.locale!=null?tm(t.locale):tm(e.locale)}let Rh;function tm(e){if(He(e))return e;if(Vt(e)){if(e.resolvedOnce&&Rh!=null)return Rh;if(e.constructor.name==="Function"){const t=e();if(f1(t))throw Br(Dr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Rh=t}else throw Br(Dr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Br(Dr.NOT_SUPPORT_LOCALE_TYPE)}function ux(e,t,s){return[...new Set([s,...en(t)?t:xt(t)?Object.keys(t):He(t)?[t]:[s]])]}function H_(e,t,s){const a=He(s)?s:Ol,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let l=i.__localeChainCache.get(a);if(!l){l=[];let f=[s];for(;en(f);)f=nm(l,f,t);const d=en(t)||!ht(t)?t:t.default?t.default:null;f=He(d)?[d]:d,en(f)&&nm(l,f,!1),i.__localeChainCache.set(a,l)}return l}function nm(e,t,s){let a=!0;for(let i=0;i<t.length&&Lt(a);i++){const l=t[i];He(l)&&(a=cx(e,t[i],s))}return a}function cx(e,t,s){let a;const i=t.split("-");do{const l=i.join("-");a=hx(e,l,s),i.splice(-1,1)}while(i.length&&a===!0);return a}function hx(e,t,s){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(en(s)||ht(s))&&s[i]&&(a=s[i])}return a}const ks=[];ks[0]={w:[0],i:[3,0],"[":[4],o:[7]};ks[1]={w:[1],".":[2],"[":[4],o:[7]};ks[2]={w:[2],i:[3,0],0:[3,0]};ks[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ks[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ks[5]={"'":[4,0],o:8,l:[5,0]};ks[6]={'"':[4,0],o:8,l:[6,0]};const fx=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function dx(e){return fx.test(e)}function px(e){const t=e.charCodeAt(0),s=e.charCodeAt(e.length-1);return t===s&&(t===34||t===39)?e.slice(1,-1):e}function mx(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function gx(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:dx(t)?px(t):"*"+t}function vx(e){const t=[];let s=-1,a=0,i=0,l,f,d,m,_,v,b;const E=[];E[0]=()=>{f===void 0?f=d:f+=d},E[1]=()=>{f!==void 0&&(t.push(f),f=void 0)},E[2]=()=>{E[0](),i++},E[3]=()=>{if(i>0)i--,a=4,E[0]();else{if(i=0,f===void 0||(f=gx(f),f===!1))return!1;E[1]()}};function x(){const I=e[s+1];if(a===5&&I==="'"||a===6&&I==='"')return s++,d="\\"+I,E[0](),!0}for(;a!==null;)if(s++,l=e[s],!(l==="\\"&&x())){if(m=mx(l),b=ks[a],_=b[m]||b.l||8,_===8||(a=_[0],_[1]!==void 0&&(v=E[_[1]],v&&(d=l,v()===!1))))return;if(a===7)return t}}const im=new Map;function _x(e,t){return xt(e)?e[t]:null}function yx(e,t){if(!xt(e))return null;let s=im.get(t);if(s||(s=vx(t),s&&im.set(t,s)),!s)return null;const a=s.length;let i=e,l=0;for(;l<a;){const f=i[s[l]];if(f===void 0||Vt(i))return null;i=f,l++}return i}const bx="10.0.5",Zc=-1,Ol="en-US",rm="",sm=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function wx(){return{upper:(e,t)=>t==="text"&&He(e)?e.toUpperCase():t==="vnode"&&xt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&He(e)?e.toLowerCase():t==="vnode"&&xt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&He(e)?sm(e):t==="vnode"&&xt(e)&&"__v_isVNode"in e?sm(e.children):e}}let q_;function Lx(e){q_=e}let W_;function Ex(e){W_=e}let Z_;function kx(e){Z_=e}let Y_=null;const xx=e=>{Y_=e},Tx=()=>Y_;let j_=null;const om=e=>{j_=e},Sx=()=>j_;let am=0;function Cx(e={}){const t=Vt(e.onWarn)?e.onWarn:p1,s=He(e.version)?e.version:bx,a=He(e.locale)||Vt(e.locale)?e.locale:Ol,i=Vt(a)?Ol:a,l=en(e.fallbackLocale)||ht(e.fallbackLocale)||He(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,f=ht(e.messages)?e.messages:Dh(i),d=ht(e.datetimeFormats)?e.datetimeFormats:Dh(i),m=ht(e.numberFormats)?e.numberFormats:Dh(i),_=hn(Bt(),e.modifiers,wx()),v=e.pluralRules||Bt(),b=Vt(e.missing)?e.missing:null,E=Lt(e.missingWarn)||sa(e.missingWarn)?e.missingWarn:!0,x=Lt(e.fallbackWarn)||sa(e.fallbackWarn)?e.fallbackWarn:!0,I=!!e.fallbackFormat,O=!!e.unresolving,B=Vt(e.postTranslation)?e.postTranslation:null,P=ht(e.processor)?e.processor:null,N=Lt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,D=!!e.escapeParameter,F=Vt(e.messageCompiler)?e.messageCompiler:q_,W=Vt(e.messageResolver)?e.messageResolver:W_||_x,G=Vt(e.localeFallbacker)?e.localeFallbacker:Z_||ux,z=xt(e.fallbackContext)?e.fallbackContext:void 0,ee=e,Z=xt(ee.__datetimeFormatters)?ee.__datetimeFormatters:new Map,ie=xt(ee.__numberFormatters)?ee.__numberFormatters:new Map,ge=xt(ee.__meta)?ee.__meta:{};am++;const ne={version:s,cid:am,locale:a,fallbackLocale:l,messages:f,modifiers:_,pluralRules:v,missing:b,missingWarn:E,fallbackWarn:x,fallbackFormat:I,unresolving:O,postTranslation:B,processor:P,warnHtmlMessage:N,escapeParameter:D,messageCompiler:F,messageResolver:W,localeFallbacker:G,fallbackContext:z,onWarn:t,__meta:ge};return ne.datetimeFormats=d,ne.numberFormats=m,ne.__datetimeFormatters=Z,ne.__numberFormatters=ie,__INTLIFY_PROD_DEVTOOLS__&&sx(ne,s,ge),ne}const Dh=e=>({[e]:Bt()});function dd(e,t,s,a,i){const{missing:l,onWarn:f}=e;if(l!==null){const d=l(e,s,t,i);return He(d)?d:t}else return t}function Ja(e,t,s){const a=e;a.__localeChainCache=new Map,e.localeFallbacker(e,s,t)}function Ix(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Px(e,t){const s=t.indexOf(e);if(s===-1)return!1;for(let a=s+1;a<t.length;a++)if(Ix(e,t[a]))return!0;return!1}function lm(e,...t){const{datetimeFormats:s,unresolving:a,fallbackLocale:i,onWarn:l,localeFallbacker:f}=e,{__datetimeFormatters:d}=e,[m,_,v,b]=cf(...t),E=Lt(v.missingWarn)?v.missingWarn:e.missingWarn;Lt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const x=!!v.part,I=fd(e,v),O=f(e,i,I);if(!He(m)||m==="")return new Intl.DateTimeFormat(I,b).format(_);let B={},P,N=null;const D="datetime format";for(let G=0;G<O.length&&(P=O[G],B=s[P]||{},N=B[m],!ht(N));G++)dd(e,m,P,E,D);if(!ht(N)||!He(P))return a?Zc:m;let F=`${P}__${m}`;qc(b)||(F=`${F}__${JSON.stringify(b)}`);let W=d.get(F);return W||(W=new Intl.DateTimeFormat(P,hn({},N,b)),d.set(F,W)),x?W.formatToParts(_):W.format(_)}const X_=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function cf(...e){const[t,s,a,i]=e,l=Bt();let f=Bt(),d;if(He(t)){const m=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!m)throw Br(Dr.INVALID_ISO_DATE_ARGUMENT);const _=m[3]?m[3].trim().startsWith("T")?`${m[1].trim()}${m[3].trim()}`:`${m[1].trim()}T${m[3].trim()}`:m[1].trim();d=new Date(_);try{d.toISOString()}catch{throw Br(Dr.INVALID_ISO_DATE_ARGUMENT)}}else if(u1(t)){if(isNaN(t.getTime()))throw Br(Dr.INVALID_DATE_ARGUMENT);d=t}else if(sn(t))d=t;else throw Br(Dr.INVALID_ARGUMENT);return He(s)?l.key=s:ht(s)&&Object.keys(s).forEach(m=>{X_.includes(m)?f[m]=s[m]:l[m]=s[m]}),He(a)?l.locale=a:ht(a)&&(f=a),ht(i)&&(f=i),[l.key||"",d,l,f]}function um(e,t,s){const a=e;for(const i in s){const l=`${t}__${i}`;a.__datetimeFormatters.has(l)&&a.__datetimeFormatters.delete(l)}}function cm(e,...t){const{numberFormats:s,unresolving:a,fallbackLocale:i,onWarn:l,localeFallbacker:f}=e,{__numberFormatters:d}=e,[m,_,v,b]=hf(...t),E=Lt(v.missingWarn)?v.missingWarn:e.missingWarn;Lt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const x=!!v.part,I=fd(e,v),O=f(e,i,I);if(!He(m)||m==="")return new Intl.NumberFormat(I,b).format(_);let B={},P,N=null;const D="number format";for(let G=0;G<O.length&&(P=O[G],B=s[P]||{},N=B[m],!ht(N));G++)dd(e,m,P,E,D);if(!ht(N)||!He(P))return a?Zc:m;let F=`${P}__${m}`;qc(b)||(F=`${F}__${JSON.stringify(b)}`);let W=d.get(F);return W||(W=new Intl.NumberFormat(P,hn({},N,b)),d.set(F,W)),x?W.formatToParts(_):W.format(_)}const K_=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function hf(...e){const[t,s,a,i]=e,l=Bt();let f=Bt();if(!sn(t))throw Br(Dr.INVALID_ARGUMENT);const d=t;return He(s)?l.key=s:ht(s)&&Object.keys(s).forEach(m=>{K_.includes(m)?f[m]=s[m]:l[m]=s[m]}),He(a)?l.locale=a:ht(a)&&(f=a),ht(i)&&(f=i),[l.key||"",d,l,f]}function hm(e,t,s){const a=e;for(const i in s){const l=`${t}__${i}`;a.__numberFormatters.has(l)&&a.__numberFormatters.delete(l)}}const Nx=e=>e,Ox=e=>"",Mx="text",Ax=e=>e.length===0?"":ud(e),Rx=d1;function fm(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Dx(e){const t=sn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(sn(e.named.count)||sn(e.named.n))?sn(e.named.count)?e.named.count:sn(e.named.n)?e.named.n:t:t}function Bx(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Fx(e={}){const t=e.locale,s=Dx(e),a=xt(e.pluralRules)&&He(t)&&Vt(e.pluralRules[t])?e.pluralRules[t]:fm,i=xt(e.pluralRules)&&He(t)&&Vt(e.pluralRules[t])?fm:void 0,l=P=>P[a(s,P.length,i)],f=e.list||[],d=P=>f[P],m=e.named||Bt();sn(e.pluralIndex)&&Bx(s,m);const _=P=>m[P];function v(P,N){const D=Vt(e.messages)?e.messages(P,!!N):xt(e.messages)?e.messages[P]:!1;return D||(e.parent?e.parent.message(P):Ox)}const b=P=>e.modifiers?e.modifiers[P]:Nx,E=ht(e.processor)&&Vt(e.processor.normalize)?e.processor.normalize:Ax,x=ht(e.processor)&&Vt(e.processor.interpolate)?e.processor.interpolate:Rx,I=ht(e.processor)&&He(e.processor.type)?e.processor.type:Mx,B={list:d,named:_,plural:l,linked:(P,...N)=>{const[D,F]=N;let W="text",G="";N.length===1?xt(D)?(G=D.modifier||G,W=D.type||W):He(D)&&(G=D||G):N.length===2&&(He(D)&&(G=D||G),He(F)&&(W=F||W));const z=v(P,!0)(B),ee=W==="vnode"&&en(z)&&G?z[0]:z;return G?b(G)(ee,W):ee},message:v,type:I,interpolate:x,normalize:E,values:hn(Bt(),f,m)};return B}const dm=()=>"",Ti=e=>Vt(e);function pm(e,...t){const{fallbackFormat:s,postTranslation:a,unresolving:i,messageCompiler:l,fallbackLocale:f,messages:d}=e,[m,_]=ff(...t),v=Lt(_.missingWarn)?_.missingWarn:e.missingWarn,b=Lt(_.fallbackWarn)?_.fallbackWarn:e.fallbackWarn,E=Lt(_.escapeParameter)?_.escapeParameter:e.escapeParameter,x=!!_.resolvedMessage,I=He(_.default)||Lt(_.default)?Lt(_.default)?l?m:()=>m:_.default:s?l?m:()=>m:null,O=s||I!=null&&(He(I)||Vt(I)),B=fd(e,_);E&&zx(_);let[P,N,D]=x?[m,B,d[B]||Bt()]:J_(e,m,B,f,b,v),F=P,W=m;if(!x&&!(He(F)||aa(F)||Ti(F))&&O&&(F=I,W=F),!x&&(!(He(F)||aa(F)||Ti(F))||!He(N)))return i?Zc:m;let G=!1;const z=()=>{G=!0},ee=Ti(F)?F:Q_(e,m,N,F,W,z);if(G)return F;const Z=Gx(e,N,D,_),ie=Fx(Z),ge=$x(e,ee,ie),ne=a?a(ge,m):ge;if(__INTLIFY_PROD_DEVTOOLS__){const Q={timestamp:Date.now(),key:He(m)?m:Ti(F)?F.key:"",locale:N||(Ti(F)?F.locale:""),format:He(F)?F:Ti(F)?F.source:"",message:ne};Q.meta=hn({},e.__meta,Tx()||{}),ox(Q)}return ne}function zx(e){en(e.list)?e.list=e.list.map(t=>He(t)?Xp(t):t):xt(e.named)&&Object.keys(e.named).forEach(t=>{He(e.named[t])&&(e.named[t]=Xp(e.named[t]))})}function J_(e,t,s,a,i,l){const{messages:f,onWarn:d,messageResolver:m,localeFallbacker:_}=e,v=_(e,a,s);let b=Bt(),E,x=null;const I="translate";for(let O=0;O<v.length&&(E=v[O],b=f[E]||Bt(),(x=m(b,t))===null&&(x=b[t]),!(He(x)||aa(x)||Ti(x)));O++)if(!Px(E,v)){const B=dd(e,t,E,l,I);B!==t&&(x=B)}return[x,E,b]}function Q_(e,t,s,a,i,l){const{messageCompiler:f,warnHtmlMessage:d}=e;if(Ti(a)){const _=a;return _.locale=_.locale||s,_.key=_.key||t,_}if(f==null){const _=()=>a;return _.locale=s,_.key=t,_}const m=f(a,Ux(e,s,i,a,d,l));return m.locale=s,m.key=t,m.source=a,m}function $x(e,t,s){return t(s)}function ff(...e){const[t,s,a]=e,i=Bt();if(!He(t)&&!sn(t)&&!Ti(t)&&!aa(t))throw Br(Dr.INVALID_ARGUMENT);const l=sn(t)?String(t):(Ti(t),t);return sn(s)?i.plural=s:He(s)?i.default=s:ht(s)&&!qc(s)?i.named=s:en(s)&&(i.list=s),sn(a)?i.plural=a:He(a)?i.default=a:ht(a)&&hn(i,a),[l,i]}function Ux(e,t,s,a,i,l){return{locale:t,key:s,warnHtmlMessage:i,onError:f=>{throw l&&l(f),f},onCacheKey:f=>a1(t,s,f)}}function Gx(e,t,s,a){const{modifiers:i,pluralRules:l,messageResolver:f,fallbackLocale:d,fallbackWarn:m,missingWarn:_,fallbackContext:v}=e,E={locale:t,modifiers:i,pluralRules:l,messages:(x,I)=>{let O=f(s,x);if(O==null&&(v||I)){const[,,B]=J_(v||e,x,t,d,m,_);O=f(B,x)}if(He(O)||aa(O)){let B=!1;const N=Q_(e,x,t,O,x,()=>{B=!0});return B?dm:N}else return Ti(O)?O:dm}};return e.processor&&(E.processor=e.processor),a.list&&(E.list=a.list),a.named&&(E.named=a.named),sn(a.plural)&&(E.pluralIndex=a.plural),E}z1();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Vx="10.0.5";function Hx(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(no().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(no().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(no().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(no().__INTLIFY_PROD_DEVTOOLS__=!1)}const Wn={UNEXPECTED_RETURN_TYPE:lx,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function si(e,...t){return Wc(e,null,void 0)}const df=Ls("__translateVNode"),pf=Ls("__datetimeParts"),mf=Ls("__numberParts"),ey=Ls("__setPluralRules"),ty=Ls("__injectWithOption"),gf=Ls("__dispose");function Ml(e){if(!xt(e))return e;for(const t in e)if(Bi(e,t))if(!t.includes("."))xt(e[t])&&Ml(e[t]);else{const s=t.split("."),a=s.length-1;let i=e,l=!1;for(let f=0;f<a;f++){if(s[f]in i||(i[s[f]]=Bt()),!xt(i[s[f]])){l=!0;break}i=i[s[f]]}l||(i[s[a]]=e[t],delete e[t]),xt(i[s[a]])&&Ml(i[s[a]])}return e}function pd(e,t){const{messages:s,__i18n:a,messageResolver:i,flatJson:l}=t,f=ht(s)?s:en(a)?Bt():{[e]:Bt()};if(en(a)&&a.forEach(d=>{if("locale"in d&&"resource"in d){const{locale:m,resource:_}=d;m?(f[m]=f[m]||Bt(),Bu(_,f[m])):Bu(_,f)}else He(d)&&Bu(JSON.parse(d),f)}),i==null&&l)for(const d in f)Bi(f,d)&&Ml(f[d]);return f}function ny(e){return e.type}function iy(e,t,s){let a=xt(t.messages)?t.messages:Bt();"__i18nGlobal"in s&&(a=pd(e.locale.value,{messages:a,__i18n:s.__i18nGlobal}));const i=Object.keys(a);i.length&&i.forEach(l=>{e.mergeLocaleMessage(l,a[l])});{if(xt(t.datetimeFormats)){const l=Object.keys(t.datetimeFormats);l.length&&l.forEach(f=>{e.mergeDateTimeFormat(f,t.datetimeFormats[f])})}if(xt(t.numberFormats)){const l=Object.keys(t.numberFormats);l.length&&l.forEach(f=>{e.mergeNumberFormat(f,t.numberFormats[f])})}}}function mm(e){return $e(Ul,null,e,0)}const gm="__INTLIFY_META__",vm=()=>[],qx=()=>!1;let _m=0;function ym(e){return(t,s,a,i)=>e(s,a,ri()||void 0,i)}const Wx=()=>{const e=ri();let t=null;return e&&(t=ny(e)[gm])?{[gm]:t}:null};function md(e={}){const{__root:t,__injectWithOption:s}=e,a=t===void 0,i=e.flatJson,l=pc?Fe:Nn;let f=Lt(e.inheritLocale)?e.inheritLocale:!0;const d=l(t&&f?t.locale.value:He(e.locale)?e.locale:Ol),m=l(t&&f?t.fallbackLocale.value:He(e.fallbackLocale)||en(e.fallbackLocale)||ht(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:d.value),_=l(pd(d.value,e)),v=l(ht(e.datetimeFormats)?e.datetimeFormats:{[d.value]:{}}),b=l(ht(e.numberFormats)?e.numberFormats:{[d.value]:{}});let E=t?t.missingWarn:Lt(e.missingWarn)||sa(e.missingWarn)?e.missingWarn:!0,x=t?t.fallbackWarn:Lt(e.fallbackWarn)||sa(e.fallbackWarn)?e.fallbackWarn:!0,I=t?t.fallbackRoot:Lt(e.fallbackRoot)?e.fallbackRoot:!0,O=!!e.fallbackFormat,B=Vt(e.missing)?e.missing:null,P=Vt(e.missing)?ym(e.missing):null,N=Vt(e.postTranslation)?e.postTranslation:null,D=t?t.warnHtmlMessage:Lt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,F=!!e.escapeParameter;const W=t?t.modifiers:ht(e.modifiers)?e.modifiers:{};let G=e.pluralRules||t&&t.pluralRules,z;z=(()=>{a&&om(null);const j={version:Vx,locale:d.value,fallbackLocale:m.value,messages:_.value,modifiers:W,pluralRules:G,missing:P===null?void 0:P,missingWarn:E,fallbackWarn:x,fallbackFormat:O,unresolving:!0,postTranslation:N===null?void 0:N,warnHtmlMessage:D,escapeParameter:F,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};j.datetimeFormats=v.value,j.numberFormats=b.value,j.__datetimeFormatters=ht(z)?z.__datetimeFormatters:void 0,j.__numberFormatters=ht(z)?z.__numberFormatters:void 0;const de=Cx(j);return a&&om(de),de})(),Ja(z,d.value,m.value);function Z(){return[d.value,m.value,_.value,v.value,b.value]}const ie=oe({get:()=>d.value,set:j=>{d.value=j,z.locale=d.value}}),ge=oe({get:()=>m.value,set:j=>{m.value=j,z.fallbackLocale=m.value,Ja(z,d.value,j)}}),ne=oe(()=>_.value),Q=oe(()=>v.value),X=oe(()=>b.value);function _e(){return Vt(N)?N:null}function ye(j){N=j,z.postTranslation=j}function we(){return B}function pe(j){j!==null&&(P=ym(j)),B=j,z.missing=P}const Ne=(j,de,Ge,Qe,Oe,Ht)=>{Z();let je;try{__INTLIFY_PROD_DEVTOOLS__,a||(z.fallbackContext=t?Sx():void 0),je=j(z)}finally{__INTLIFY_PROD_DEVTOOLS__,a||(z.fallbackContext=void 0)}if(Ge!=="translate exists"&&sn(je)&&je===Zc||Ge==="translate exists"&&!je){const[Ye,On]=de();return t&&I?Qe(t):Oe(Ye)}else{if(Ht(je))return je;throw si(Wn.UNEXPECTED_RETURN_TYPE)}};function ue(...j){return Ne(de=>Reflect.apply(pm,null,[de,...j]),()=>ff(...j),"translate",de=>Reflect.apply(de.t,de,[...j]),de=>de,de=>He(de))}function Ae(...j){const[de,Ge,Qe]=j;if(Qe&&!xt(Qe))throw si(Wn.INVALID_ARGUMENT);return ue(de,Ge,hn({resolvedMessage:!0},Qe||{}))}function Ue(...j){return Ne(de=>Reflect.apply(lm,null,[de,...j]),()=>cf(...j),"datetime format",de=>Reflect.apply(de.d,de,[...j]),()=>rm,de=>He(de))}function Me(...j){return Ne(de=>Reflect.apply(cm,null,[de,...j]),()=>hf(...j),"number format",de=>Reflect.apply(de.n,de,[...j]),()=>rm,de=>He(de))}function Pe(j){return j.map(de=>He(de)||sn(de)||Lt(de)?mm(String(de)):de)}const Te={normalize:Pe,interpolate:j=>j,type:"vnode"};function re(...j){return Ne(de=>{let Ge;const Qe=de;try{Qe.processor=Te,Ge=Reflect.apply(pm,null,[Qe,...j])}finally{Qe.processor=null}return Ge},()=>ff(...j),"translate",de=>de[df](...j),de=>[mm(de)],de=>en(de))}function H(...j){return Ne(de=>Reflect.apply(cm,null,[de,...j]),()=>hf(...j),"number format",de=>de[mf](...j),vm,de=>He(de)||en(de))}function Ee(...j){return Ne(de=>Reflect.apply(lm,null,[de,...j]),()=>cf(...j),"datetime format",de=>de[pf](...j),vm,de=>He(de)||en(de))}function Ce(j){G=j,z.pluralRules=G}function Ie(j,de){return Ne(()=>{if(!j)return!1;const Ge=He(de)?de:d.value,Qe=K(Ge),Oe=z.messageResolver(Qe,j);return aa(Oe)||Ti(Oe)||He(Oe)},()=>[j],"translate exists",Ge=>Reflect.apply(Ge.te,Ge,[j,de]),qx,Ge=>Lt(Ge))}function S(j){let de=null;const Ge=H_(z,m.value,d.value);for(let Qe=0;Qe<Ge.length;Qe++){const Oe=_.value[Ge[Qe]]||{},Ht=z.messageResolver(Oe,j);if(Ht!=null){de=Ht;break}}return de}function q(j){const de=S(j);return de??(t?t.tm(j)||{}:{})}function K(j){return _.value[j]||{}}function ce(j,de){if(i){const Ge={[j]:de};for(const Qe in Ge)Bi(Ge,Qe)&&Ml(Ge[Qe]);de=Ge[j]}_.value[j]=de,z.messages=_.value}function ve(j,de){_.value[j]=_.value[j]||{};const Ge={[j]:de};if(i)for(const Qe in Ge)Bi(Ge,Qe)&&Ml(Ge[Qe]);de=Ge[j],Bu(de,_.value[j]),z.messages=_.value}function me(j){return v.value[j]||{}}function $(j,de){v.value[j]=de,z.datetimeFormats=v.value,um(z,j,de)}function M(j,de){v.value[j]=hn(v.value[j]||{},de),z.datetimeFormats=v.value,um(z,j,de)}function J(j){return b.value[j]||{}}function le(j,de){b.value[j]=de,z.numberFormats=b.value,hm(z,j,de)}function De(j,de){b.value[j]=hn(b.value[j]||{},de),z.numberFormats=b.value,hm(z,j,de)}_m++,t&&pc&&(tt(t.locale,j=>{f&&(d.value=j,z.locale=j,Ja(z,d.value,m.value))}),tt(t.fallbackLocale,j=>{f&&(m.value=j,z.fallbackLocale=j,Ja(z,d.value,m.value))}));const ke={id:_m,locale:ie,fallbackLocale:ge,get inheritLocale(){return f},set inheritLocale(j){f=j,j&&t&&(d.value=t.locale.value,m.value=t.fallbackLocale.value,Ja(z,d.value,m.value))},get availableLocales(){return Object.keys(_.value).sort()},messages:ne,get modifiers(){return W},get pluralRules(){return G||{}},get isGlobal(){return a},get missingWarn(){return E},set missingWarn(j){E=j,z.missingWarn=E},get fallbackWarn(){return x},set fallbackWarn(j){x=j,z.fallbackWarn=x},get fallbackRoot(){return I},set fallbackRoot(j){I=j},get fallbackFormat(){return O},set fallbackFormat(j){O=j,z.fallbackFormat=O},get warnHtmlMessage(){return D},set warnHtmlMessage(j){D=j,z.warnHtmlMessage=j},get escapeParameter(){return F},set escapeParameter(j){F=j,z.escapeParameter=j},t:ue,getLocaleMessage:K,setLocaleMessage:ce,mergeLocaleMessage:ve,getPostTranslationHandler:_e,setPostTranslationHandler:ye,getMissingHandler:we,setMissingHandler:pe,[ey]:Ce};return ke.datetimeFormats=Q,ke.numberFormats=X,ke.rt=Ae,ke.te=Ie,ke.tm=q,ke.d=Ue,ke.n=Me,ke.getDateTimeFormat=me,ke.setDateTimeFormat=$,ke.mergeDateTimeFormat=M,ke.getNumberFormat=J,ke.setNumberFormat=le,ke.mergeNumberFormat=De,ke[ty]=s,ke[df]=re,ke[pf]=Ee,ke[mf]=H,ke}function Zx(e){const t=He(e.locale)?e.locale:Ol,s=He(e.fallbackLocale)||en(e.fallbackLocale)||ht(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,a=Vt(e.missing)?e.missing:void 0,i=Lt(e.silentTranslationWarn)||sa(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,l=Lt(e.silentFallbackWarn)||sa(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,f=Lt(e.fallbackRoot)?e.fallbackRoot:!0,d=!!e.formatFallbackMessages,m=ht(e.modifiers)?e.modifiers:{},_=e.pluralizationRules,v=Vt(e.postTranslation)?e.postTranslation:void 0,b=He(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,E=!!e.escapeParameterHtml,x=Lt(e.sync)?e.sync:!0;let I=e.messages;if(ht(e.sharedMessages)){const W=e.sharedMessages;I=Object.keys(W).reduce((z,ee)=>{const Z=z[ee]||(z[ee]={});return hn(Z,W[ee]),z},I||{})}const{__i18n:O,__root:B,__injectWithOption:P}=e,N=e.datetimeFormats,D=e.numberFormats,F=e.flatJson;return{locale:t,fallbackLocale:s,messages:I,flatJson:F,datetimeFormats:N,numberFormats:D,missing:a,missingWarn:i,fallbackWarn:l,fallbackRoot:f,fallbackFormat:d,modifiers:m,pluralRules:_,postTranslation:v,warnHtmlMessage:b,escapeParameter:E,messageResolver:e.messageResolver,inheritLocale:x,__i18n:O,__root:B,__injectWithOption:P}}function vf(e={}){const t=md(Zx(e)),{__extender:s}=e,a={id:t.id,get locale(){return t.locale.value},set locale(i){t.locale.value=i},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(i){t.fallbackLocale.value=i},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(i){t.setMissingHandler(i)},get silentTranslationWarn(){return Lt(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(i){t.missingWarn=Lt(i)?!i:i},get silentFallbackWarn(){return Lt(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(i){t.fallbackWarn=Lt(i)?!i:i},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(i){t.fallbackFormat=i},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(i){t.setPostTranslationHandler(i)},get sync(){return t.inheritLocale},set sync(i){t.inheritLocale=i},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){t.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(i){t.escapeParameter=i},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...i){return Reflect.apply(t.t,t,[...i])},rt(...i){return Reflect.apply(t.rt,t,[...i])},tc(...i){const[l,f,d]=i,m={plural:1};let _=null,v=null;if(!He(l))throw si(Wn.INVALID_ARGUMENT);const b=l;return He(f)?m.locale=f:sn(f)?m.plural=f:en(f)?_=f:ht(f)&&(v=f),He(d)?m.locale=d:en(d)?_=d:ht(d)&&(v=d),Reflect.apply(t.t,t,[b,_||v||{},m])},te(i,l){return t.te(i,l)},tm(i){return t.tm(i)},getLocaleMessage(i){return t.getLocaleMessage(i)},setLocaleMessage(i,l){t.setLocaleMessage(i,l)},mergeLocaleMessage(i,l){t.mergeLocaleMessage(i,l)},d(...i){return Reflect.apply(t.d,t,[...i])},getDateTimeFormat(i){return t.getDateTimeFormat(i)},setDateTimeFormat(i,l){t.setDateTimeFormat(i,l)},mergeDateTimeFormat(i,l){t.mergeDateTimeFormat(i,l)},n(...i){return Reflect.apply(t.n,t,[...i])},getNumberFormat(i){return t.getNumberFormat(i)},setNumberFormat(i,l){t.setNumberFormat(i,l)},mergeNumberFormat(i,l){t.mergeNumberFormat(i,l)}};return a.__extender=s,a}function Yx(e,t,s){return{beforeCreate(){const a=ri();if(!a)throw si(Wn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const l=i.i18n;if(i.__i18n&&(l.__i18n=i.__i18n),l.__root=t,this===this.$root)this.$i18n=bm(e,l);else{l.__injectWithOption=!0,l.__extender=s.__vueI18nExtend,this.$i18n=vf(l);const f=this.$i18n;f.__extender&&(f.__disposer=f.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=bm(e,i);else{this.$i18n=vf({__i18n:i.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:t});const l=this.$i18n;l.__extender&&(l.__disposer=l.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&iy(t,i,i),this.$t=(...l)=>this.$i18n.t(...l),this.$rt=(...l)=>this.$i18n.rt(...l),this.$tc=(...l)=>this.$i18n.tc(...l),this.$te=(l,f)=>this.$i18n.te(l,f),this.$d=(...l)=>this.$i18n.d(...l),this.$n=(...l)=>this.$i18n.n(...l),this.$tm=l=>this.$i18n.tm(l),s.__setInstance(a,this.$i18n)},mounted(){},unmounted(){const a=ri();if(!a)throw si(Wn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),s.__deleteInstance(a),delete this.$i18n}}}function bm(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ey](t.pluralizationRules||e.pluralizationRules);const s=pd(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(s).forEach(a=>e.mergeLocaleMessage(a,s[a])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(a=>e.mergeDateTimeFormat(a,t.datetimeFormats[a])),t.numberFormats&&Object.keys(t.numberFormats).forEach(a=>e.mergeNumberFormat(a,t.numberFormats[a])),e}const gd={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function jx({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((a,i)=>[...a,...i.type===ct?i.children:[i]],[]):t.reduce((s,a)=>{const i=e[a];return i&&(s[a]=i()),s},Bt())}function ry(){return ct}const Xx=Tt({name:"i18n-t",props:hn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>sn(e)||!isNaN(e)}},gd),setup(e,t){const{slots:s,attrs:a}=t,i=e.i18n||xs({useScope:e.scope,__useComponent:!0});return()=>{const l=Object.keys(s).filter(b=>b!=="_"),f=Bt();e.locale&&(f.locale=e.locale),e.plural!==void 0&&(f.plural=He(e.plural)?+e.plural:e.plural);const d=jx(t,l),m=i[df](e.keypath,d,f),_=hn(Bt(),a),v=He(e.tag)||xt(e.tag)?e.tag:ry();return Di(v,_,m)}}}),wm=Xx;function Kx(e){return en(e)&&!He(e[0])}function sy(e,t,s,a){const{slots:i,attrs:l}=t;return()=>{const f={part:!0};let d=Bt();e.locale&&(f.locale=e.locale),He(e.format)?f.key=e.format:xt(e.format)&&(He(e.format.key)&&(f.key=e.format.key),d=Object.keys(e.format).reduce((E,x)=>s.includes(x)?hn(Bt(),E,{[x]:e.format[x]}):E,Bt()));const m=a(e.value,f,d);let _=[f.key];en(m)?_=m.map((E,x)=>{const I=i[E.type],O=I?I({[E.type]:E.value,index:x,parts:m}):[E.value];return Kx(O)&&(O[0].key=`${E.type}-${x}`),O}):He(m)&&(_=[m]);const v=hn(Bt(),l),b=He(e.tag)||xt(e.tag)?e.tag:ry();return Di(b,v,_)}}const Jx=Tt({name:"i18n-n",props:hn({value:{type:Number,required:!0},format:{type:[String,Object]}},gd),setup(e,t){const s=e.i18n||xs({useScope:e.scope,__useComponent:!0});return sy(e,t,K_,(...a)=>s[mf](...a))}}),Lm=Jx,Qx=Tt({name:"i18n-d",props:hn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},gd),setup(e,t){const s=e.i18n||xs({useScope:e.scope,__useComponent:!0});return sy(e,t,X_,(...a)=>s[pf](...a))}}),Em=Qx;function eT(e,t){const s=e;if(e.mode==="composition")return s.__getInstance(t)||e.global;{const a=s.__getInstance(t);return a!=null?a.__composer:e.global.__composer}}function tT(e){const t=f=>{const{instance:d,value:m}=f;if(!d||!d.$)throw si(Wn.UNEXPECTED_ERROR);const _=eT(e,d.$),v=km(m);return[Reflect.apply(_.t,_,[...xm(v)]),_]};return{created:(f,d)=>{const[m,_]=t(d);pc&&e.global===_&&(f.__i18nWatcher=tt(_.locale,()=>{d.instance&&d.instance.$forceUpdate()})),f.__composer=_,f.textContent=m},unmounted:f=>{pc&&f.__i18nWatcher&&(f.__i18nWatcher(),f.__i18nWatcher=void 0,delete f.__i18nWatcher),f.__composer&&(f.__composer=void 0,delete f.__composer)},beforeUpdate:(f,{value:d})=>{if(f.__composer){const m=f.__composer,_=km(d);f.textContent=Reflect.apply(m.t,m,[...xm(_)])}},getSSRProps:f=>{const[d]=t(f);return{textContent:d}}}}function km(e){if(He(e))return{path:e};if(ht(e)){if(!("path"in e))throw si(Wn.REQUIRED_VALUE,"path");return e}else throw si(Wn.INVALID_VALUE)}function xm(e){const{path:t,locale:s,args:a,choice:i,plural:l}=e,f={},d=a||{};return He(s)&&(f.locale=s),sn(i)&&(f.plural=i),sn(l)&&(f.plural=l),[t,d,f]}function nT(e,t,...s){const a=ht(s[0])?s[0]:{};(Lt(a.globalInstall)?a.globalInstall:!0)&&([wm.name,"I18nT"].forEach(l=>e.component(l,wm)),[Lm.name,"I18nN"].forEach(l=>e.component(l,Lm)),[Em.name,"I18nD"].forEach(l=>e.component(l,Em))),e.directive("t",tT(t))}const iT=Ls("global-vue-i18n");function rT(e={},t){const s=__VUE_I18N_LEGACY_API__&&Lt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,a=Lt(e.globalInjection)?e.globalInjection:!0,i=new Map,[l,f]=sT(e,s),d=Ls("");function m(E){return i.get(E)||null}function _(E,x){i.set(E,x)}function v(E){i.delete(E)}const b={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},async install(E,...x){if(E.__VUE_I18N_SYMBOL__=d,E.provide(E.__VUE_I18N_SYMBOL__,b),ht(x[0])){const B=x[0];b.__composerExtend=B.__composerExtend,b.__vueI18nExtend=B.__vueI18nExtend}let I=null;!s&&a&&(I=dT(E,b.global)),__VUE_I18N_FULL_INSTALL__&&nT(E,b,...x),__VUE_I18N_LEGACY_API__&&s&&E.mixin(Yx(f,f.__composer,b));const O=E.unmount;E.unmount=()=>{I&&I(),b.dispose(),O()}},get global(){return f},dispose(){l.stop()},__instances:i,__getInstance:m,__setInstance:_,__deleteInstance:v};return b}function xs(e={}){const t=ri();if(t==null)throw si(Wn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw si(Wn.NOT_INSTALLED);const s=oT(t),a=lT(s),i=ny(t),l=aT(e,i);if(l==="global")return iy(a,e,i),a;if(l==="parent"){let m=uT(s,t,e.__useComponent);return m==null&&(m=a),m}const f=s;let d=f.__getInstance(t);if(d==null){const m=hn({},e);"__i18n"in i&&(m.__i18n=i.__i18n),a&&(m.__root=a),d=md(m),f.__composerExtend&&(d[gf]=f.__composerExtend(d)),hT(f,t,d),f.__setInstance(t,d)}return d}function sT(e,t,s){const a=Ig(),i=__VUE_I18N_LEGACY_API__&&t?a.run(()=>vf(e)):a.run(()=>md(e));if(i==null)throw si(Wn.UNEXPECTED_ERROR);return[a,i]}function oT(e){const t=nn(e.isCE?iT:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw si(e.isCE?Wn.NOT_INSTALLED_WITH_PROVIDE:Wn.UNEXPECTED_ERROR);return t}function aT(e,t){return qc(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function lT(e){return e.mode==="composition"?e.global:e.global.__composer}function uT(e,t,s=!1){let a=null;const i=t.root;let l=cT(t,s);for(;l!=null;){const f=e;if(e.mode==="composition")a=f.__getInstance(l);else if(__VUE_I18N_LEGACY_API__){const d=f.__getInstance(l);d!=null&&(a=d.__composer,s&&a&&!a[ty]&&(a=null))}if(a!=null||i===l)break;l=l.parent}return a}function cT(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function hT(e,t,s){Pi(()=>{},t),va(()=>{const a=s;e.__deleteInstance(t);const i=a[gf];i&&(i(),delete a[gf])},t)}const fT=["locale","fallbackLocale","availableLocales"],Tm=["t","rt","d","n","tm","te"];function dT(e,t){const s=Object.create(null);return fT.forEach(i=>{const l=Object.getOwnPropertyDescriptor(t,i);if(!l)throw si(Wn.UNEXPECTED_ERROR);const f=Dt(l.value)?{get(){return l.value.value},set(d){l.value.value=d}}:{get(){return l.get&&l.get()}};Object.defineProperty(s,i,f)}),e.config.globalProperties.$i18n=s,Tm.forEach(i=>{const l=Object.getOwnPropertyDescriptor(t,i);if(!l||!l.value)throw si(Wn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,l)}),()=>{delete e.config.globalProperties.$i18n,Tm.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}Hx();Lx(ix);Ex(yx);kx(H_);if(__INTLIFY_PROD_DEVTOOLS__){const e=no();e.__INTLIFY__=!0,rx(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const pT={__name:"App",setup(e){const{t,locale:s}=xs();return document.title=t("title"),tt(s,()=>{document.title=t("title")}),(a,i)=>{const l=wb("RouterView");return be(),pt(l)}}},mT={key:0},gT={class:"d-flex justify-content-center"},vT={class:"d-flex justify-content-center"},_T={class:"spinner-border",role:"status"},yT={class:"visually-hidden"},bT={__name:"Loading",props:{loadingStatus:Boolean},setup(e){const t=e;tt(t,()=>{s.value=t.loadingStatus});const s=Fe(t.loadingStatus!=null?t.loadingStatus:!1);return(a,i)=>s.value?(be(),ze("div",mT,[he("div",gT,[he("h3",null,qe(a.$t("loading")),1)]),he("div",vT,[he("div",_T,[he("span",yT,qe(a.$t("loading")),1)])])])):kt("",!0)}},wT={class:"input-group"},LT=["value"],ET={key:0,class:"bi bi-sort-up"},kT={key:1,class:"bi bi-sort-down"},xT={__name:"SortBy",props:{sortByAvailable:{type:Array,required:!0},sortBy:{type:String,required:!0},orderBy:{type:String,default:"asc"}},emits:["update:sortBy","update:orderBy"],setup(e,{emit:t}){const s=e,a=s.sortByAvailable,i=Fe(s.sortBy),l=Fe(s.orderBy),f=t;function d(){l.value=l.value==="asc"?"desc":"asc",f("update:orderBy",l.value)}return tt(i,m=>{f("update:sortBy",m)}),(m,_)=>(be(),ze(ct,null,[he("div",wT,[Qt(he("select",{"onUpdate:modelValue":_[0]||(_[0]=v=>i.value=v),class:"form-select",id:"sortby"},[(be(!0),ze(ct,null,ur(U(a),v=>(be(),ze("option",{key:`sort-${v.field_name}`,value:v.field_name},qe(v.label),9,LT))),128))],512),[[ao,i.value]]),he("button",{class:"btn btn-outline-secondary",onClick:d},[l.value==="asc"?(be(),ze("i",ET)):(be(),ze("i",kT))])]),_[1]||(_[1]=he("div",null,null,-1))],64))}},TT={class:"input-group mb-2"},ST={__name:"SearchForm",emits:["update:searchString"],setup(e,{emit:t}){const s=Fe(""),a=t;return tt(s,()=>{a("update:searchString",s.value)}),(i,l)=>(be(),ze("div",TT,[Qt(he("input",{type:"text",class:"form-control",id:"search","onUpdate:modelValue":l[0]||(l[0]=f=>s.value=f)},null,512),[[ps,s.value]]),l[1]||(l[1]=he("label",{for:"search",class:"input-group-text"},[he("i",{class:"bi bi-search"})],-1))]))}};function CT(e){return typeof e=="object"&&e!==null}function IT(e){return CT(e)&&typeof e.length=="number"}function Sm(e){return Array.isArray(e)?e:e===void 0?[]:IT(e)||e instanceof Set?Array.from(e):[e]}function PT(e){return!isNaN(parseFloat(e))}function NT(e){return!isNaN(parseFloat(e))&&isFinite(e)}function OT(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function MT(e){return oy(e)&&typeof e.length=="number"}function oy(e){return typeof e=="object"&&e!==null}function ql(e){return typeof e<"u"}function AT(e){return!ql(e)}function ay(e){return e===null}function RT(e){return ql(e)&&!ay(e)&&!Number.isNaN(e)}function DT(e){return typeof e=="function"?/^class /.test(Function.prototype.toString.call(e)):!1}function BT(e){if(e===null)return!0;switch(typeof e){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function FT(e){if(e){const t=ql(Promise)&&e instanceof Promise,s=e.then&&typeof e.then=="function";return!!(t||s)}else return!1}function zT(e){return e===null||!ql(e)?!1:typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function"}function $T(e){return typeof e=="string"}function UT(e){return typeof e=="function"}function GT(e){return typeof e=="function"&&e.constructor.name==="AsyncFunction"}const Bn={isNumber:PT,isFiniteNumber:NT,isPlainObject:OT,isArrayLike:MT,isObject:oy,isDefined:ql,isUndefined:AT,isNull:ay,isDefinedValue:RT,isClass:DT,isPrimitive:BT,isPromise:FT,isIterable:zT,isString:$T,isFunction:UT,isAsyncFunction:GT};function VT(e,t={}){return t=Object.assign({computed:{},customOrders:{},nullRank:1,undefinedRank:1},t),e.sort(HT(t)),e}function HT(e={}){const t=Sm(e.by),s=Sm(e.order),{customOrders:a,computed:i}=e;return function l(f,d,m=0){const _=s[m]||"asc";if(!(_==="asc"||_==="desc"||a[_]))return 0;let v,b,E;return t.length?(b=Bn.isDefined(f[t[m]])?f[t[m]]:i[t[m]]&&i[t[m]](f),E=Bn.isDefined(d[t[m]])?d[t[m]]:i[t[m]]&&i[t[m]](d)):(b=f,E=d),a&&a[_]?v=a[_].indexOf(b)-a[_].indexOf(E):b===E?v=0:Bn.isNull(b)&&Bn.isUndefined(E)?v=_==="asc"?1:_==="desc"?-1:0:Bn.isUndefined(b)&&Bn.isNull(E)?v=_==="asc"?-1:_==="desc"?1:0:Bn.isNull(b)&&Bn.isDefinedValue(E)?v=e.nullRank:Bn.isUndefined(b)&&Bn.isDefinedValue(E)?v=e.undefinedRank:Bn.isNull(E)&&Bn.isDefinedValue(b)?v=-e.nullRank:Bn.isUndefined(E)&&Bn.isDefinedValue(b)?v=-e.undefinedRank:(v=b<E?-1:b>E?1:0,_==="desc"&&(v=v*-1)),v===0&&Bn.isDefined(t[m+1])&&(v=l(f,d,m+1)),v}}class vd{constructor(t){this.taxonId=t.taxonId,this.acceptedScientificName=t.acceptedScientificName;const{vernacularName:s="",nbObservations:a=0,mediaUrl:i="",taxonRank:l="",description:f="",taxonSheetUrl:d="",lastSeenDate:m=null,kingdom:_="",class:v=""}=t;this.vernacularName=s,this.nbObservations=a,this.mediaUrl=i,this.taxonRank=l,this.description=f,this.taxonSheetUrl=d,this.lastSeenDate=m,this.kingdom=_,this.class=v}}class qi{constructor(t){this.url=t.url,this.source=t.source,this.typeMedia=t.typeMedia;const{license:s="",author:a=""}=t;this.license=s,this.author=a}}class _d{constructor(t,s){Vs(this,"name");if(this.name=t,!Object.values(hr).includes(s))throw new Error("Source identifier is not declared in `mediaIdentifier.js`");this.id=s}fetchPicture(t,s){throw this.isCompatible(s)?new Error("Not implemented"):new Error("This media source is not available !")}fetchSound(t,s){if(!this.isCompatible(s))throw new Error("This media source is not available !");return new Promise(a=>null)}isCompatible(t){throw new Error("Not Implemented")}}const co=Object.freeze({GBIF:"GBIF",TAXREF:"TAXREF"});class qT extends _d{constructor(t){super("GBIFMediaSource",hr.GBIF)}isCompatible(t){return t.referential==co.GBIF}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const a=`${s.GBIF_ENDPOINT}/species/${t}/media`;return fetch(a).then(i=>i.json()).then(i=>{let l=this.processMedia(i.results);return l.length===0?this.fetchMediaOccurence(t,s.GBIF_ENDPOINT):l})}fetchSound(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const a=`${s.GBIF_ENDPOINT}/occurrence/search?limit=10&mediaType=Sound&speciesKey=${t}`;return fetch(a).then(i=>i.json()).then(i=>{if(i.results.length>0){i.results[0].media[0];for(let l of i.results)for(let f of l.media)if(!["png","jpg","jpeg","bmp","gif"].includes(f.identifier.split(".").pop()))return new qi({url:f.identifier,typeMedia:"sound",license:f.license,source:`${f.rightsHolder} (${f.license})`})}})}processMedia(t){return Object.values(t).filter(s=>s.hasOwnProperty("license")&&s.hasOwnProperty("rightsHolder")).map(s=>new qi({url:s.identifier,license:s.licence,source:`${s.rightsHolder} (${s.license})`,typeMedia:"image"}))}fetchMediaOccurence(t,s){const a=`${s}/occurrence/search?limit=10&mediaType=StillImage&speciesKey=${t}`;return fetch(a).then(i=>i.json()).then(i=>{const l=i.results.flatMap(f=>f.media);return this.processMedia(l)})}}class WT extends _d{constructor(t){super("Taxref",hr.TAXREF_ODATA)}fetchPicture(t,s){const a=`https://odata-inpn.mnhn.fr/photos/taxa?taxrefId=${t}&visibility=PUBLIC`;return fetch(a).then(i=>i.json()).then(function(i){var f;let l=[];try{return Object.values((f=i==null?void 0:i._embedded)==null?void 0:f.photos).forEach(d=>{l.push(new qi({url:d._links.thumbnail.href,license:d.licence,source:d.copyright,typeMedia:"image"}))}),l}catch{return[]}})}isCompatible(t){return t.referential==co.TAXREF}}const{GBIF:ZT,TAXREF:YT}=co;function jT(e){const t="https://query.wikidata.org/sparql",s=`
    SELECT ?item WHERE {
      ?item wdt:P3186 "${e}" .
    }`;return fetch(t+"?format=json&query="+encodeURIComponent(s)).then(a=>a.json()).then(a=>a.results.bindings.length?a.results.bindings[0].item.value.split("/").pop():null)}function XT(e){const t="https://query.wikidata.org/sparql",s=`
    SELECT ?item WHERE {
      ?item wdt:P846 "${e}" .
    }`;return fetch(t+"?format=json&query="+encodeURIComponent(s)).then(a=>a.json()).then(a=>a.results.bindings.length?a.results.bindings[0].item.value.split("/").pop():null)}function Cm(e){if(!e)return;const t=`https://www.wikidata.org/wiki/Special:EntityData/${e}.json`;return fetch(t).then(s=>s.json()).then(s=>{const l=(s.entities[e].claims||{}).P18||[];if(!l.length)return"No image found for this entity.";const d=`https://commons.wikimedia.org/w/thumb.php?width=500&f=${l[0].mainsnak.datavalue.value}`;return[new qi({url:d,source:"Wikidata",typeMedia:"image"})]})}function KT(e,t,s=null){if(!e)throw new Error("No taxonId given !");if(s)return Cm(s);if(e){let a=null;switch(t.referential){case co.GBIF:a=XT(e);break;case co.TAXREF:a=jT(e);break}return a?a.then(i=>{if(i)return Cm(i)}):void 0}}class JT extends _d{constructor(){super("WikidataMediaSource",hr.WIKIDATA)}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error("Wikidata Image source is only compatible with the GBIF and a TAXREF referential based connector ");return KT(t,s)}isCompatible(t){return!![ZT,YT].includes(t.referential)}}const hr=Object.freeze({GBIF:"gbif",TAXREF_ODATA:"taxref_odata",WIKIDATA:"wikidata"});function la(e,t={}){switch(e){case hr.GBIF:return new qT(t);case hr.TAXREF_ODATA:return new WT(t);case hr.WIKIDATA:return new JT(t)}}const Wl={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ua={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Zn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},QT={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},ly={dangerouslyHTMLString:!1,multiple:!0,position:Wl.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},eS={rtl:!1,newestOnTop:!1,toastClassName:""},uy={...ly,...eS};({...ly,type:Zn.DEFAULT});var Pt=(e=>(e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e))(Pt||{}),_f=(e=>(e.ENTRANCE_ANIMATION_END="d",e))(_f||{});const tS={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},nS={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},iS={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},rS={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Im="Toastify--animate Toastify__none-enter";function cy(e,t=!1){var s;let a=tS;if(!e||typeof e=="string")switch(e){case"flip":a=rS;break;case"zoom":a=iS;break;case"slide":a=nS;break}else a=e;if(t)a.enter=Im;else if(a.enter===Im){const i=(s=a.exit.split("__")[1])==null?void 0:s.split("-")[0];a.enter=`Toastify--animate Toastify__${i}-enter`}return a}function sS(e){return e.containerId||String(e.position)}const Yc="will-unmount";function oS(e=Wl.TOP_RIGHT){return!!document.querySelector(`.${Pt.CSS_NAMESPACE}__toast-container--${e}`)}function aS(e=Wl.TOP_RIGHT){return`${Pt.CSS_NAMESPACE}__toast-container--${e}`}function lS(e,t,s=!1){const a=[`${Pt.CSS_NAMESPACE}__toast-container`,`${Pt.CSS_NAMESPACE}__toast-container--${e}`,s?`${Pt.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return ea(t)?t({position:e,rtl:s,defaultClassName:a}):`${a} ${t||""}`}function uS(e){var t;const{position:s,containerClassName:a,rtl:i=!1,style:l={}}=e,f=Pt.CSS_NAMESPACE,d=aS(s),m=document.querySelector(`.${f}`),_=document.querySelector(`.${d}`),v=!!_&&!((t=_.className)!=null&&t.includes(Yc)),b=m||document.createElement("div"),E=document.createElement("div");E.className=lS(s,a,i),E.dataset.testid=`${Pt.CSS_NAMESPACE}__toast-container--${s}`,E.id=sS(e);for(const x in l)if(Object.prototype.hasOwnProperty.call(l,x)){const I=l[x];E.style[x]=I}return m||(b.className=Pt.CSS_NAMESPACE,document.body.appendChild(b)),v||b.appendChild(E),E}function yf(e){var t,s,a;const i=typeof e=="string"?e:((t=e.currentTarget)==null?void 0:t.id)||((s=e.target)==null?void 0:s.id),l=document.getElementById(i);l&&l.removeEventListener("animationend",yf,!1);try{Al[i].unmount(),(a=document.getElementById(i))==null||a.remove(),delete Al[i],delete xn[i]}catch{}}const Al=ni({});function cS(e,t){const s=document.getElementById(String(t));s&&(Al[s.id]=e)}function bf(e,t=!0){const s=String(e);if(!Al[s])return;const a=document.getElementById(s);a&&a.classList.add(Yc),t?(fS(e),a&&a.addEventListener("animationend",yf,!1)):yf(s),pr.items=pr.items.filter(i=>i.containerId!==e)}function hS(e){for(const t in Al)bf(t,e);pr.items=[]}function hy(e,t){const s=document.getElementById(e.toastId);if(s){let a=e;a={...a,...cy(a.transition)};const i=a.appendPosition?`${a.exit}--${a.position}`:a.exit;s.className+=` ${i}`,t&&t(s)}}function fS(e){for(const t in xn)if(t===e)for(const s of xn[t]||[])hy(s)}function dS(e){const t=ca().find(s=>s.toastId===e);return t==null?void 0:t.containerId}function yd(e){return document.getElementById(e)}function pS(e){const t=yd(e.containerId);return t&&t.classList.contains(Yc)}function Pm(e){var t;const s=oo(e.content)?at(e.content.props):null;return s??at((t=e.data)!=null?t:{})}function mS(e){return e?pr.items.filter(t=>t.containerId===e).length>0:pr.items.length>0}function gS(){if(pr.items.length>0){const e=pr.items.shift();Fu(e==null?void 0:e.toastContent,e==null?void 0:e.toastProps)}}const xn=ni({}),pr=ni({items:[]});function ca(){const e=at(xn);return Object.values(e).reduce((t,s)=>[...t,...s],[])}function vS(e){return ca().find(t=>t.toastId===e)}function Fu(e,t={}){if(pS(t)){const s=yd(t.containerId);s&&s.addEventListener("animationend",wf.bind(null,e,t),!1)}else wf(e,t)}function wf(e,t={}){const s=yd(t.containerId);s&&s.removeEventListener("animationend",wf.bind(null,e,t),!1);const a=xn[t.containerId]||[],i=a.length>0;if(!i&&!oS(t.position)){const l=uS(t),f=Zv(BS,t);t.useHandler&&t.useHandler(f),f.mount(l),cS(f,l.id)}i&&!t.updateId&&(t.position=a[0].position),Hn(()=>{t.updateId?ui.update(t):ui.add(e,t)})}const ui={add(e,t){const{containerId:s=""}=t;s&&(xn[s]=xn[s]||[],xn[s].find(a=>a.toastId===t.toastId)||setTimeout(()=>{var a,i;t.newestOnTop?(a=xn[s])==null||a.unshift(t):(i=xn[s])==null||i.push(t),t.onOpen&&t.onOpen(Pm(t))},t.delay||0))},remove(e){if(e){const t=dS(e);if(t){const s=xn[t];let a=s.find(i=>i.toastId===e);xn[t]=s.filter(i=>i.toastId!==e),!xn[t].length&&!mS(t)&&bf(t,!1),gS(),Hn(()=>{a!=null&&a.onClose&&(a.onClose(Pm(a)),a=void 0)})}}},update(e={}){const{containerId:t=""}=e;if(t&&e.updateId){xn[t]=xn[t]||[];const s=xn[t].find(l=>l.toastId===e.toastId),a=(s==null?void 0:s.position)!==e.position||(s==null?void 0:s.transition)!==e.transition,i={...e,disabledEnterTransition:!a,updateId:void 0};ui.dismissForce(e==null?void 0:e.toastId),setTimeout(()=>{zt(i.content,i)},e.delay||0)}},clear(e,t=!0){e?bf(e,t):hS(t)},dismissCallback(e){var t;const s=(t=e.currentTarget)==null?void 0:t.id,a=document.getElementById(s);a&&(a.removeEventListener("animationend",ui.dismissCallback,!1),setTimeout(()=>{ui.remove(s)}))},dismiss(e){if(e){const t=ca();for(const s of t)if(s.toastId===e){hy(s,a=>{a.addEventListener("animationend",ui.dismissCallback,!1)});break}}},dismissForce(e){if(e){const t=ca();for(const s of t)if(s.toastId===e){const a=document.getElementById(e);a&&(a.remove(),a.removeEventListener("animationend",ui.dismissCallback,!1),ui.remove(e));break}}}},_S=ni({useHandler:void 0}),fy=ni({}),mc=ni({});function dy(){return Math.random().toString(36).substring(2,9)}function yS(e){return typeof e=="number"&&!isNaN(e)}function Lf(e){return typeof e=="string"}function ea(e){return typeof e=="function"}function jc(...e){return yt(...e)}function zu(e){return typeof e=="object"&&(!!(e!=null&&e.render)||!!(e!=null&&e.setup)||typeof(e==null?void 0:e.type)=="object")}function bS(e={}){fy[`${Pt.CSS_NAMESPACE}-default-options`]=e}function wS(){return fy[`${Pt.CSS_NAMESPACE}-default-options`]||uy}function LS(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||e?"dark":"light"}var $u=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e))($u||{});const py={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Wl.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:ua.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Zn.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},ES={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Zn.DEFAULT},theme:{type:String,required:!1,default:ua.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},kS=Tt({name:"ProgressBar",props:ES,setup(e,{attrs:t}){const s=Fe(),a=oe(()=>e.hide?"true":"false"),i=oe(()=>({...t.style||{},animationDuration:`${e.autoClose===!0?5e3:e.autoClose}ms`,animationPlayState:e.isRunning?"running":"paused",opacity:e.hide||e.autoClose===!1?0:1,transform:e.controlledProgress?`scaleX(${e.progress})`:"none"})),l=oe(()=>[`${Pt.CSS_NAMESPACE}__progress-bar`,e.controlledProgress?`${Pt.CSS_NAMESPACE}__progress-bar--controlled`:`${Pt.CSS_NAMESPACE}__progress-bar--animated`,`${Pt.CSS_NAMESPACE}__progress-bar-theme--${e.theme}`,`${Pt.CSS_NAMESPACE}__progress-bar--${e.type}`,e.rtl?`${Pt.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),f=oe(()=>`${l.value} ${(t==null?void 0:t.class)||""}`),d=()=>{s.value&&(s.value.onanimationend=null,s.value.ontransitionend=null)},m=()=>{e.isIn&&e.closeToast&&e.autoClose!==!1&&(e.closeToast(),d())},_=oe(()=>e.controlledProgress?null:m),v=oe(()=>e.controlledProgress?m:null);return hl(()=>{s.value&&(d(),s.value.onanimationend=_.value,s.value.ontransitionend=v.value)}),()=>$e("div",{ref:s,role:"progressbar","aria-hidden":a.value,"aria-label":"notification timer",class:f.value,style:i.value},null)}}),xS=Tt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:ua.AUTO},type:{type:String,required:!1,default:ua.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(e){return()=>$e("button",{class:`${Pt.CSS_NAMESPACE}__close-button ${Pt.CSS_NAMESPACE}__close-button--${e.theme}`,type:"button",onClick:t=>{t.stopPropagation(),e.closeToast&&e.closeToast(t)},"aria-label":e.ariaLabel},[$e("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[$e("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Xc=({theme:e,type:t,path:s,...a})=>$e("svg",yt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},a),[$e("path",{d:s},null)]);function TS(e){return $e(Xc,yt(e,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function SS(e){return $e(Xc,yt(e,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function CS(e){return $e(Xc,yt(e,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function IS(e){return $e(Xc,yt(e,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function PS(){return $e("div",{class:`${Pt.CSS_NAMESPACE}__spinner`},null)}const Uu={info:SS,warning:TS,success:CS,error:IS,spinner:PS},NS=e=>e in Uu;function OS({theme:e,type:t,isLoading:s,icon:a}){let i;const l=!!s||t==="loading",f={theme:e,type:t};if(l&&(a===void 0||typeof a=="boolean"))return Uu.spinner();if(a!==!1){if(zu(a))i=at(a);else if(ea(a)){const d=a;f.type=l?"loading":t,i=d(f),i=!i&&l?Uu.spinner():i}else oo(a)?i=$r(a,f):Lf(a)||yS(a)?i=a:NS(t)&&(i=Uu[t](f));return i}}const MS=()=>{};function AS(e,t,s=Pt.COLLAPSE_DURATION){const{scrollHeight:a,style:i}=e,l=s;requestAnimationFrame(()=>{i.minHeight="initial",i.height=a+"px",i.transition=`all ${l}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,l)})})}function RS(e){const t=Fe(!1),s=Fe(!1),a=Fe(!1),i=Fe($u.Enter),l=ni({...e,appendPosition:e.appendPosition||!1,collapse:typeof e.collapse>"u"?!0:e.collapse,collapseDuration:e.collapseDuration||Pt.COLLAPSE_DURATION}),f=l.done||MS,d=oe(()=>l.appendPosition?`${l.enter}--${l.position}`:l.enter),m=oe(()=>l.appendPosition?`${l.exit}--${l.position}`:l.exit),_=oe(()=>e.pauseOnHover?{onMouseenter:B,onMouseleave:O}:{});function v(){const N=d.value.split(" ");E().addEventListener(_f.ENTRANCE_ANIMATION_END,O,{once:!0});const D=W=>{const G=E();W.target===G&&(G.dispatchEvent(new Event(_f.ENTRANCE_ANIMATION_END)),G.removeEventListener("animationend",D),G.removeEventListener("animationcancel",D),i.value===$u.Enter&&W.type!=="animationcancel"&&G.classList.remove(...N))},F=()=>{const W=E();W.classList.add(...N),W.addEventListener("animationend",D),W.addEventListener("animationcancel",D)};e.pauseOnFocusLoss&&x(),F()}function b(){if(!E())return;const N=()=>{const F=E();F.removeEventListener("animationend",N),l.collapse?AS(F,f,l.collapseDuration):f()},D=()=>{const F=E();i.value=$u.Exit,F&&(F.className+=` ${m.value}`,F.addEventListener("animationend",N))};s.value||(a.value?N():setTimeout(D))}function E(){return e.toastRef.value}function x(){document.hasFocus()||B(),window.addEventListener("focus",O),window.addEventListener("blur",B)}function I(){window.removeEventListener("focus",O),window.removeEventListener("blur",B)}function O(){(!e.loading.value||e.isLoading===void 0)&&(t.value=!0)}function B(){t.value=!1}function P(N){N&&(N.stopPropagation(),N.preventDefault()),s.value=!1}return hl(b),hl(()=>{const N=ca();s.value=N.findIndex(D=>D.toastId===l.toastId)>-1}),hl(()=>{e.isLoading!==void 0&&(e.loading.value?B():O())}),Pi(v),va(()=>{e.pauseOnFocusLoss&&I()}),{isIn:s,isRunning:t,hideToast:P,eventHandlers:_}}const DS=Tt({name:"ToastItem",inheritAttrs:!1,props:py,setup(e){const t=Fe(),s=oe(()=>!!e.isLoading),a=oe(()=>e.progress!==void 0&&e.progress!==null),i=oe(()=>OS(e)),l=oe(()=>[`${Pt.CSS_NAMESPACE}__toast`,`${Pt.CSS_NAMESPACE}__toast-theme--${e.theme}`,`${Pt.CSS_NAMESPACE}__toast--${e.type}`,e.rtl?`${Pt.CSS_NAMESPACE}__toast--rtl`:void 0,e.toastClassName||""].filter(Boolean).join(" ")),{isRunning:f,isIn:d,hideToast:m,eventHandlers:_}=RS({toastRef:t,loading:s,done:()=>{ui.remove(e.toastId)},...cy(e.transition,e.disabledEnterTransition),...e});return()=>$e("div",yt({id:e.toastId,class:l.value,style:e.toastStyle||{},ref:t,"data-testid":`toast-item-${e.toastId}`,onClick:v=>{e.closeOnClick&&m(),e.onClick&&e.onClick(v)}},_.value),[$e("div",{role:e.role,"data-testid":"toast-body",class:`${Pt.CSS_NAMESPACE}__toast-body ${e.bodyClassName||""}`},[i.value!=null&&$e("div",{"data-testid":`toast-icon-${e.type}`,class:[`${Pt.CSS_NAMESPACE}__toast-icon`,e.isLoading?"":`${Pt.CSS_NAMESPACE}--animate-icon ${Pt.CSS_NAMESPACE}__zoom-enter`].join(" ")},[zu(i.value)?Di(at(i.value),{theme:e.theme,type:e.type}):ea(i.value)?i.value({theme:e.theme,type:e.type}):i.value]),$e("div",{"data-testid":"toast-content"},[zu(e.content)?Di(at(e.content),{toastProps:at(e),closeToast:m,data:e.data,...e.expandCustomProps?e.contentProps:{contentProps:e.contentProps||{}}}):ea(e.content)?e.content({toastProps:at(e),closeToast:m,data:e.data}):e.dangerouslyHTMLString?Di("div",{innerHTML:e.content}):e.content])]),(e.closeButton===void 0||e.closeButton===!0)&&$e(xS,{theme:e.theme,closeToast:v=>{v.stopPropagation(),v.preventDefault(),m()}},null),zu(e.closeButton)?Di(at(e.closeButton),{closeToast:m,type:e.type,theme:e.theme}):ea(e.closeButton)?e.closeButton({closeToast:m,type:e.type,theme:e.theme}):null,$e(kS,{className:e.progressClassName,style:e.progressStyle,rtl:e.rtl,theme:e.theme,isIn:d.value,type:e.type,hide:e.hideProgressBar,isRunning:f.value,autoClose:e.autoClose,controlledProgress:a.value,progress:e.progress,closeToast:e.isLoading?void 0:m},null)])}});let gl=0;function my(){typeof window>"u"||(gl&&window.cancelAnimationFrame(gl),gl=window.requestAnimationFrame(my),mc.lastUrl!==window.location.href&&(mc.lastUrl=window.location.href,ui.clear()))}const BS=Tt({name:"ToastifyContainer",inheritAttrs:!1,props:py,setup(e){const t=oe(()=>e.containerId),s=oe(()=>xn[t.value]||[]),a=oe(()=>s.value.filter(i=>i.position===e.position));return Pi(()=>{typeof window<"u"&&e.clearOnUrlChange&&window.requestAnimationFrame(my)}),va(()=>{typeof window<"u"&&gl&&(window.cancelAnimationFrame(gl),mc.lastUrl="")}),()=>$e(ct,null,[a.value.map(i=>{const{toastId:l=""}=i;return $e(DS,yt({key:l},i),null)})])}});let Bh=!1;const gy={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function vy(){const e=[];return ca().forEach(t=>{const s=document.getElementById(t.containerId);s&&!s.classList.contains(Yc)&&e.push(t)}),e}function FS(e){const t=vy().length,s=e??0;return s>0&&t+pr.items.length>=s}function zS(e){FS(e.limit)&&!e.updateId&&pr.items.push({toastId:e.toastId,containerId:e.containerId,toastContent:e.content,toastProps:e})}function Ts(e,t,s={}){if(Bh)return;s=jc(wS(),{type:t},at(s)),(!s.toastId||typeof s.toastId!="string"&&typeof s.toastId!="number")&&(s.toastId=dy()),s={...s,...s.type==="loading"?gy:{},content:e,containerId:s.containerId||String(s.position)};const a=Number(s==null?void 0:s.progress);return!isNaN(a)&&a<0&&(s.progress=0),a>1&&(s.progress=1),s.theme==="auto"&&(s.theme=LS()),zS(s),mc.lastUrl=window.location.href,s.multiple?pr.items.length?s.updateId&&Fu(e,s):Fu(e,s):(Bh=!0,zt.clearAll(void 0,!1),setTimeout(()=>{Fu(e,s)},0),setTimeout(()=>{Bh=!1},390)),s.toastId}const zt=(e,t)=>Ts(e,Zn.DEFAULT,t);zt.info=(e,t)=>Ts(e,Zn.DEFAULT,{...t,type:Zn.INFO});zt.error=(e,t)=>Ts(e,Zn.DEFAULT,{...t,type:Zn.ERROR});zt.warning=(e,t)=>Ts(e,Zn.DEFAULT,{...t,type:Zn.WARNING});zt.warn=zt.warning;zt.success=(e,t)=>Ts(e,Zn.DEFAULT,{...t,type:Zn.SUCCESS});zt.loading=(e,t)=>Ts(e,Zn.DEFAULT,jc(t,gy));zt.dark=(e,t)=>Ts(e,Zn.DEFAULT,jc(t,{theme:ua.DARK}));zt.remove=e=>{e?ui.dismiss(e):ui.clear()};zt.clearAll=(e,t)=>{Hn(()=>{ui.clear(e,t)})};zt.isActive=e=>{let t=!1;return t=vy().findIndex(s=>s.toastId===e)>-1,t};zt.update=(e,t={})=>{setTimeout(()=>{const s=vS(e);if(s){const a=at(s),{content:i}=a,l={...a,...t,toastId:t.toastId||e,updateId:dy()},f=l.render||i;delete l.render,Ts(f,l.type,l)}},0)};zt.done=e=>{zt.update(e,{isLoading:!1,progress:1})};zt.promise=$S;function $S(e,{pending:t,error:s,success:a},i){var l,f,d;let m;const _={...i||{},autoClose:!1};t&&(m=Lf(t)?zt.loading(t,_):zt.loading(t.render,{..._,...t}));const v={autoClose:(l=i==null?void 0:i.autoClose)!=null?l:!0,closeOnClick:(f=i==null?void 0:i.closeOnClick)!=null?f:!0,closeButton:(d=i==null?void 0:i.autoClose)!=null?d:null,isLoading:void 0,draggable:null,delay:100},b=(x,I,O)=>{if(I==null){zt.remove(m);return}const B={type:x,...v,...i,data:O},P=Lf(I)?{render:I}:I;return m?zt.update(m,{...B,...P,isLoading:!1}):zt(P.render,{...B,...P,isLoading:!1}),O},E=ea(e)?e():e;return E.then(x=>{b("success",a,x)}).catch(x=>{b("error",s,x)}),E}zt.POSITION=Wl;zt.THEME=ua;zt.TYPE=Zn;zt.TRANSITIONS=QT;const US={install(e,t={}){_S.useHandler=t.useHandler||(()=>{}),GS(t)}};typeof window<"u"&&(window.Vue3Toastify=US);function GS(e={}){const t=jc(uy,e);bS(t)}class _y{constructor(t){Vs(this,"name");Vs(this,"taxonClass2SourceID",{});Vs(this,"referential");this.options=t,this.mediaSource=t==null?void 0:t.mediaSource}verifyOptions(t=[]){t.forEach(s=>{this.options.hasOwnProperty(s)||zt.error(`Please indicate the ${s} parameter`)})}getParams(){const t={};return Object.entries(this).filter(([s,a])=>!["options","params","name","taxonClass2SourceID","referential","mediaSource"].includes(s)).filter(([s,a])=>typeof a!=typeof{}).forEach(([s,a])=>{t[s]=a}),this.mediaSource&&(t.mediaSource=this.mediaSource.id),t}fetchOccurrence(t){throw new Error("Not implemented")}fetchMedia(t){if(!this.mediaSource.isCompatible(this))throw new Error("Media Source incompatible");return this.mediaSource.fetchPicture(t,this)}fetchTaxonInfo(t){throw new Error("Not implemented")}fetchTaxonStatus(t){throw new Error("Not implemented")}searchTaxon(t="",s={}){}getTaxonDetailPage(t){throw new Error("Not implemented")}fetchVernacularName(t){throw new Error("Not implemented")}sourceDetailMessage(){return""}getCompatibleMediaSource(){const t=[];return Object.values(hr).filter(s=>la(s).isCompatible(this)).forEach(s=>{t.push({value:s,text:la(s).name})}),t}}const gc="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg",yy="https://api.gbif.org/v1";function Nm(e={}){const t=new URL(`${yy}/occurrence/search`);return Object.entries(e).forEach(([s,a])=>{t.searchParams.append(s,a)}),fetch(t.toString()).then(s=>s.json())}class Om extends _y{constructor(t){super(t),this.name="GBIF",this.GBIF_ENDPOINT=this.options.GBIF_ENDPOINT||yy,this.referential=co.GBIF,this.mediaSource=this.mediaSource||la(hr.GBIF),this.taxonClass2SourceID={Aves:212,Mammalia:359,Reptilia:358,Amphibia:131,Insecta:216,Arachnida:367,Gastropoda:225,Bivalvia:137,Magnoliopsida:220,Liliopsida:196,Pinopsida:194}}countOccurrence(t={}){return Nm(t).then(s=>s.count)}fetchVernacularName(t){const s={en:"eng",fr:"fra"},a=Yn.getInstance().lang.value;return fetch(`${this.GBIF_ENDPOINT}/species/${t}/vernacularNames?limit=100`).then(i=>i.json()).then(i=>{const l=i.results.find(f=>f.language===s[a]);return l?l.vernacularName.capitalize():void 0})}fetchOccurrence(t){let s={limit:300,maxPage:10,...t};return s.dateMin&&s.dateMax&&(s.eventDate=`${s.dateMin},${s.dateMax}`),t!=null&&t.class&&(s={...s,classKey:this.taxonClass2SourceID[t==null?void 0:t.class]}),this.countOccurrence(s).then(a=>{const i=Math.min(Math.ceil(a/s.limit),s.maxPage),l={},f=d=>{if(d>=i)return Promise.resolve();const m=d*s.limit;return Nm({...s,offset:m}).then(_=>(_.results.forEach(v=>{l[v.taxonKey]||(l[v.taxonKey]=new vd({acceptedScientificName:v.acceptedScientificName,vernacularName:v.vernacularName,taxonId:v.taxonKey,mediaUrl:gc,taxonRank:v.taxonRank,kingdom:v.kingdom,class:v.class,nbObservations:0,description:"",lastSeenDate:new Date(v.eventDate).getTime()})),l[v.taxonKey].nbObservations+=1,l[v.taxonKey].lastSeenDate=new Date(Math.max(new Date(v.eventDate).getTime(),new Date(l[v.taxonKey].lastSeenDate).getTime()))}),f(d+1)))};return f(0).then(()=>l)})}fetchTaxonInfo(t){const s=`${this.GBIF_ENDPOINT}/species/${t}`;return fetch(s).then(a=>a.json()).then(a=>({scientificName:a.scientificName,vernacularName:a.vernacularName,rank:a.rank,taxonKey:a.key}))}fetchTaxonStatus(t){const s=`${this.GBIF_ENDPOINT}/species/${t}/iucnRedListCategory`;return fetch(s).then(a=>a.json()).then(a=>({iucnRedListCategory:a.category,code:a.code}))}searchTaxon(t="",s={}){const a=`${this.GBIF_ENDPOINT}/species/search?q=${t}&limit=20`;return fetch(a).then(i=>i.json()).then(i=>i.results.map(l=>({scientificName:l.scientificName,taxonKey:l.key})))}getTaxonDetailPage(t){return`https://www.gbif.org/species/${t}`}sourceDetailMessage(){return xs().t("source.gbifWarning")}}class VS extends _y{constructor(s){super(s);Vs(this,"EXPORT_API_ENDPOINT");this.name="GeoNature",this.EXPORT_API_ENDPOINT=s==null?void 0:s.EXPORT_API_ENDPOINT,this.referential=co.TAXREF,this.mediaSource=this.mediaSource??la(hr.TAXREF_ODATA)}fetchOccurrence(s={}){let a=new URL(this.EXPORT_API_ENDPOINT);s={...s,limit:"ALL"};for(const[l,f]of Object.entries(s))a.searchParams.append(l,f);const i=a.toString();return fetch(i).then(l=>l.json()).then(l=>{let f={};return l.items.features.forEach(d=>{d=d.properties,f.hasOwnProperty(d.cd_ref)||(f[d.cd_ref]=new vd({acceptedScientificName:d.nom_scientifique,vernacularName:d.nom_vernaculaire,taxonId:d.cd_ref,taxonKey:d.cd_ref,mediaUrl:gc,taxonRank:"",nbObservations:0,description:"",lastSeenDate:new Date(d.date_max).getTime()})),f[d.cd_ref].nbObservations+=1,f[d.cd_ref].lastSeenDate=new Date(Math.max(new Date(d.date_max).getTime(),new Date(f[d.cd_ref].lastSeenDate).getTime()))}),f})}fetchTaxonInfo(s){const a=`https://odata-inpn.mnhn.fr/taxa/${s}`;return fetch(a).then(i=>i.json()).then(function(i){return{scientificName:i.names.scientific,vernacularName:i.names.vernacular.fr[0],rank:i.rank,taxonKey:i.taxrefId}})}fetchTaxonStatus(s){const a=`https://taxref.mnhn.fr/api/taxa/${s}/status/columns`;return fetch(a).then(i=>i.json()).then(i=>{var l;return(l=i._embedded)==null?void 0:l.status})}getTaxonDetailPage(s){return`https://inpn.mnhn.fr/espece/cd_nom/${s}`}fetchVernacularName(s){return Promise.resolve(null)}}function Gu(e="GBIF",t={}){switch(t.hasOwnProperty("mediaSource")&&(t.mediaSource=la(t.mediaSource)),e){case"GBIF":return new Om(t);case"GeoNature":return new VS(t);default:return new Om(t)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Wo=typeof document<"u";function by(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function HS(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&by(e.default)}const Ct=Object.assign;function Fh(e,t){const s={};for(const a in t){const i=t[a];s[a]=Wi(i)?i.map(e):e(i)}return s}const vl=()=>{},Wi=Array.isArray,wy=/#/g,qS=/&/g,WS=/\//g,ZS=/=/g,YS=/\?/g,Ly=/\+/g,jS=/%5B/g,XS=/%5D/g,Ey=/%5E/g,KS=/%60/g,ky=/%7B/g,JS=/%7C/g,xy=/%7D/g,QS=/%20/g;function bd(e){return encodeURI(""+e).replace(JS,"|").replace(jS,"[").replace(XS,"]")}function eC(e){return bd(e).replace(ky,"{").replace(xy,"}").replace(Ey,"^")}function Ef(e){return bd(e).replace(Ly,"%2B").replace(QS,"+").replace(wy,"%23").replace(qS,"%26").replace(KS,"`").replace(ky,"{").replace(xy,"}").replace(Ey,"^")}function tC(e){return Ef(e).replace(ZS,"%3D")}function nC(e){return bd(e).replace(wy,"%23").replace(YS,"%3F")}function iC(e){return e==null?"":nC(e).replace(WS,"%2F")}function Rl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const rC=/\/$/,sC=e=>e.replace(rC,"");function zh(e,t,s="/"){let a,i={},l="",f="";const d=t.indexOf("#");let m=t.indexOf("?");return d<m&&d>=0&&(m=-1),m>-1&&(a=t.slice(0,m),l=t.slice(m+1,d>-1?d:t.length),i=e(l)),d>-1&&(a=a||t.slice(0,d),f=t.slice(d,t.length)),a=uC(a??t,s),{fullPath:a+(l&&"?")+l+f,path:a,query:i,hash:Rl(f)}}function oC(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Mm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function aC(e,t,s){const a=t.matched.length-1,i=s.matched.length-1;return a>-1&&a===i&&ha(t.matched[a],s.matched[i])&&Ty(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function ha(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ty(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!lC(e[s],t[s]))return!1;return!0}function lC(e,t){return Wi(e)?Am(e,t):Wi(t)?Am(t,e):e===t}function Am(e,t){return Wi(t)?e.length===t.length&&e.every((s,a)=>s===t[a]):e.length===1&&e[0]===t}function uC(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),a=e.split("/"),i=a[a.length-1];(i===".."||i===".")&&a.push("");let l=s.length-1,f,d;for(f=0;f<a.length;f++)if(d=a[f],d!==".")if(d==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+a.slice(f).join("/")}const is={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Dl;(function(e){e.pop="pop",e.push="push"})(Dl||(Dl={}));var _l;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_l||(_l={}));function cC(e){if(!e)if(Wo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),sC(e)}const hC=/^[^#]+#/;function fC(e,t){return e.replace(hC,"#")+t}function dC(e,t){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-s.left-(t.left||0),top:a.top-s.top-(t.top||0)}}const Kc=()=>({left:window.scrollX,top:window.scrollY});function pC(e){let t;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=dC(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Rm(e,t){return(history.state?history.state.position-t:-1)+e}const kf=new Map;function mC(e,t){kf.set(e,t)}function gC(e){const t=kf.get(e);return kf.delete(e),t}let vC=()=>location.protocol+"//"+location.host;function Sy(e,t){const{pathname:s,search:a,hash:i}=t,l=e.indexOf("#");if(l>-1){let d=i.includes(e.slice(l))?e.slice(l).length:1,m=i.slice(d);return m[0]!=="/"&&(m="/"+m),Mm(m,"")}return Mm(s,e)+a+i}function _C(e,t,s,a){let i=[],l=[],f=null;const d=({state:E})=>{const x=Sy(e,location),I=s.value,O=t.value;let B=0;if(E){if(s.value=x,t.value=E,f&&f===I){f=null;return}B=O?E.position-O.position:0}else a(x);i.forEach(P=>{P(s.value,I,{delta:B,type:Dl.pop,direction:B?B>0?_l.forward:_l.back:_l.unknown})})};function m(){f=s.value}function _(E){i.push(E);const x=()=>{const I=i.indexOf(E);I>-1&&i.splice(I,1)};return l.push(x),x}function v(){const{history:E}=window;E.state&&E.replaceState(Ct({},E.state,{scroll:Kc()}),"")}function b(){for(const E of l)E();l=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:m,listen:_,destroy:b}}function Dm(e,t,s,a=!1,i=!1){return{back:e,current:t,forward:s,replaced:a,position:window.history.length,scroll:i?Kc():null}}function yC(e){const{history:t,location:s}=window,a={value:Sy(e,s)},i={value:t.state};i.value||l(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(m,_,v){const b=e.indexOf("#"),E=b>-1?(s.host&&document.querySelector("base")?e:e.slice(b))+m:vC()+e+m;try{t[v?"replaceState":"pushState"](_,"",E),i.value=_}catch(x){console.error(x),s[v?"replace":"assign"](E)}}function f(m,_){const v=Ct({},t.state,Dm(i.value.back,m,i.value.forward,!0),_,{position:i.value.position});l(m,v,!0),a.value=m}function d(m,_){const v=Ct({},i.value,t.state,{forward:m,scroll:Kc()});l(v.current,v,!0);const b=Ct({},Dm(a.value,m,null),{position:v.position+1},_);l(m,b,!1),a.value=m}return{location:a,state:i,push:d,replace:f}}function bC(e){e=cC(e);const t=yC(e),s=_C(e,t.state,t.location,t.replace);function a(l,f=!0){f||s.pauseListeners(),history.go(l)}const i=Ct({location:"",base:e,go:a,createHref:fC.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function wC(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),bC(e)}function LC(e){return typeof e=="string"||e&&typeof e=="object"}function Cy(e){return typeof e=="string"||typeof e=="symbol"}const Iy=Symbol("");var Bm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Bm||(Bm={}));function fa(e,t){return Ct(new Error,{type:e,[Iy]:!0},t)}function Ir(e,t){return e instanceof Error&&Iy in e&&(t==null||!!(e.type&t))}const Fm="[^/]+?",EC={sensitive:!1,strict:!1,start:!0,end:!0},kC=/[.+*?^${}()[\]/\\]/g;function xC(e,t){const s=Ct({},EC,t),a=[];let i=s.start?"^":"";const l=[];for(const _ of e){const v=_.length?[]:[90];s.strict&&!_.length&&(i+="/");for(let b=0;b<_.length;b++){const E=_[b];let x=40+(s.sensitive?.25:0);if(E.type===0)b||(i+="/"),i+=E.value.replace(kC,"\\$&"),x+=40;else if(E.type===1){const{value:I,repeatable:O,optional:B,regexp:P}=E;l.push({name:I,repeatable:O,optional:B});const N=P||Fm;if(N!==Fm){x+=10;try{new RegExp(`(${N})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${I}" (${N}): `+F.message)}}let D=O?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;b||(D=B&&_.length<2?`(?:/${D})`:"/"+D),B&&(D+="?"),i+=D,x+=20,B&&(x+=-8),O&&(x+=-20),N===".*"&&(x+=-50)}v.push(x)}a.push(v)}if(s.strict&&s.end){const _=a.length-1;a[_][a[_].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const f=new RegExp(i,s.sensitive?"":"i");function d(_){const v=_.match(f),b={};if(!v)return null;for(let E=1;E<v.length;E++){const x=v[E]||"",I=l[E-1];b[I.name]=x&&I.repeatable?x.split("/"):x}return b}function m(_){let v="",b=!1;for(const E of e){(!b||!v.endsWith("/"))&&(v+="/"),b=!1;for(const x of E)if(x.type===0)v+=x.value;else if(x.type===1){const{value:I,repeatable:O,optional:B}=x,P=I in _?_[I]:"";if(Wi(P)&&!O)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const N=Wi(P)?P.join("/"):P;if(!N)if(B)E.length<2&&(v.endsWith("/")?v=v.slice(0,-1):b=!0);else throw new Error(`Missing required param "${I}"`);v+=N}}return v||"/"}return{re:f,score:a,keys:l,parse:d,stringify:m}}function TC(e,t){let s=0;for(;s<e.length&&s<t.length;){const a=t[s]-e[s];if(a)return a;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Py(e,t){let s=0;const a=e.score,i=t.score;for(;s<a.length&&s<i.length;){const l=TC(a[s],i[s]);if(l)return l;s++}if(Math.abs(i.length-a.length)===1){if(zm(a))return 1;if(zm(i))return-1}return i.length-a.length}function zm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const SC={type:0,value:""},CC=/[a-zA-Z0-9_]/;function IC(e){if(!e)return[[]];if(e==="/")return[[SC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(x){throw new Error(`ERR (${s})/"${_}": ${x}`)}let s=0,a=s;const i=[];let l;function f(){l&&i.push(l),l=[]}let d=0,m,_="",v="";function b(){_&&(s===0?l.push({type:0,value:_}):s===1||s===2||s===3?(l.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${_}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:_,regexp:v,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),_="")}function E(){_+=m}for(;d<e.length;){if(m=e[d++],m==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:m==="/"?(_&&b(),f()):m===":"?(b(),s=1):E();break;case 4:E(),s=a;break;case 1:m==="("?s=2:CC.test(m)?E():(b(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&d--);break;case 2:m===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+m:s=3:v+=m;break;case 3:b(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&d--,v="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${_}"`),b(),f(),i}function PC(e,t,s){const a=xC(IC(e.path),s),i=Ct(a,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function NC(e,t){const s=[],a=new Map;t=Vm({strict:!1,end:!0,sensitive:!1},t);function i(b){return a.get(b)}function l(b,E,x){const I=!x,O=Um(b);O.aliasOf=x&&x.record;const B=Vm(t,b),P=[O];if("alias"in b){const F=typeof b.alias=="string"?[b.alias]:b.alias;for(const W of F)P.push(Um(Ct({},O,{components:x?x.record.components:O.components,path:W,aliasOf:x?x.record:O})))}let N,D;for(const F of P){const{path:W}=F;if(E&&W[0]!=="/"){const G=E.record.path,z=G[G.length-1]==="/"?"":"/";F.path=E.record.path+(W&&z+W)}if(N=PC(F,E,B),x?x.alias.push(N):(D=D||N,D!==N&&D.alias.push(N),I&&b.name&&!Gm(N)&&f(b.name)),Ny(N)&&m(N),O.children){const G=O.children;for(let z=0;z<G.length;z++)l(G[z],N,x&&x.children[z])}x=x||N}return D?()=>{f(D)}:vl}function f(b){if(Cy(b)){const E=a.get(b);E&&(a.delete(b),s.splice(s.indexOf(E),1),E.children.forEach(f),E.alias.forEach(f))}else{const E=s.indexOf(b);E>-1&&(s.splice(E,1),b.record.name&&a.delete(b.record.name),b.children.forEach(f),b.alias.forEach(f))}}function d(){return s}function m(b){const E=AC(b,s);s.splice(E,0,b),b.record.name&&!Gm(b)&&a.set(b.record.name,b)}function _(b,E){let x,I={},O,B;if("name"in b&&b.name){if(x=a.get(b.name),!x)throw fa(1,{location:b});B=x.record.name,I=Ct($m(E.params,x.keys.filter(D=>!D.optional).concat(x.parent?x.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),b.params&&$m(b.params,x.keys.map(D=>D.name))),O=x.stringify(I)}else if(b.path!=null)O=b.path,x=s.find(D=>D.re.test(O)),x&&(I=x.parse(O),B=x.record.name);else{if(x=E.name?a.get(E.name):s.find(D=>D.re.test(E.path)),!x)throw fa(1,{location:b,currentLocation:E});B=x.record.name,I=Ct({},E.params,b.params),O=x.stringify(I)}const P=[];let N=x;for(;N;)P.unshift(N.record),N=N.parent;return{name:B,path:O,params:I,matched:P,meta:MC(P)}}e.forEach(b=>l(b));function v(){s.length=0,a.clear()}return{addRoute:l,resolve:_,removeRoute:f,clearRoutes:v,getRoutes:d,getRecordMatcher:i}}function $m(e,t){const s={};for(const a of t)a in e&&(s[a]=e[a]);return s}function Um(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:OC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function OC(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const a in e.components)t[a]=typeof s=="object"?s[a]:s;return t}function Gm(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function MC(e){return e.reduce((t,s)=>Ct(t,s.meta),{})}function Vm(e,t){const s={};for(const a in e)s[a]=a in t?t[a]:e[a];return s}function AC(e,t){let s=0,a=t.length;for(;s!==a;){const l=s+a>>1;Py(e,t[l])<0?a=l:s=l+1}const i=RC(e);return i&&(a=t.lastIndexOf(i,a-1)),a}function RC(e){let t=e;for(;t=t.parent;)if(Ny(t)&&Py(e,t)===0)return t}function Ny({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function DC(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<a.length;++i){const l=a[i].replace(Ly," "),f=l.indexOf("="),d=Rl(f<0?l:l.slice(0,f)),m=f<0?null:Rl(l.slice(f+1));if(d in t){let _=t[d];Wi(_)||(_=t[d]=[_]),_.push(m)}else t[d]=m}return t}function Hm(e){let t="";for(let s in e){const a=e[s];if(s=tC(s),a==null){a!==void 0&&(t+=(t.length?"&":"")+s);continue}(Wi(a)?a.map(l=>l&&Ef(l)):[a&&Ef(a)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function BC(e){const t={};for(const s in e){const a=e[s];a!==void 0&&(t[s]=Wi(a)?a.map(i=>i==null?null:""+i):a==null?a:""+a)}return t}const FC=Symbol(""),qm=Symbol(""),Jc=Symbol(""),wd=Symbol(""),xf=Symbol("");function Qa(){let e=[];function t(a){return e.push(a),()=>{const i=e.indexOf(a);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function us(e,t,s,a,i,l=f=>f()){const f=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((d,m)=>{const _=E=>{E===!1?m(fa(4,{from:s,to:t})):E instanceof Error?m(E):LC(E)?m(fa(2,{from:t,to:E})):(f&&a.enterCallbacks[i]===f&&typeof E=="function"&&f.push(E),d())},v=l(()=>e.call(a&&a.instances[i],t,s,_));let b=Promise.resolve(v);e.length<3&&(b=b.then(_)),b.catch(E=>m(E))})}function $h(e,t,s,a,i=l=>l()){const l=[];for(const f of e)for(const d in f.components){let m=f.components[d];if(!(t!=="beforeRouteEnter"&&!f.instances[d]))if(by(m)){const v=(m.__vccOpts||m)[t];v&&l.push(us(v,s,a,f,d,i))}else{let _=m();l.push(()=>_.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${d}" at "${f.path}"`);const b=HS(v)?v.default:v;f.mods[d]=v,f.components[d]=b;const x=(b.__vccOpts||b)[t];return x&&us(x,s,a,f,d,i)()}))}}return l}function Wm(e){const t=nn(Jc),s=nn(wd),a=oe(()=>{const m=U(e.to);return t.resolve(m)}),i=oe(()=>{const{matched:m}=a.value,{length:_}=m,v=m[_-1],b=s.matched;if(!v||!b.length)return-1;const E=b.findIndex(ha.bind(null,v));if(E>-1)return E;const x=Zm(m[_-2]);return _>1&&Zm(v)===x&&b[b.length-1].path!==x?b.findIndex(ha.bind(null,m[_-2])):E}),l=oe(()=>i.value>-1&&VC(s.params,a.value.params)),f=oe(()=>i.value>-1&&i.value===s.matched.length-1&&Ty(s.params,a.value.params));function d(m={}){if(GC(m)){const _=t[U(e.replace)?"replace":"push"](U(e.to)).catch(vl);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>_),_}return Promise.resolve()}return{route:a,href:oe(()=>a.value.href),isActive:l,isExactActive:f,navigate:d}}function zC(e){return e.length===1?e[0]:e}const $C=Tt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wm,setup(e,{slots:t}){const s=ni(Wm(e)),{options:a}=nn(Jc),i=oe(()=>({[Ym(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[Ym(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&zC(t.default(s));return e.custom?l:Di("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},l)}}}),UC=$C;function GC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function VC(e,t){for(const s in t){const a=t[s],i=e[s];if(typeof a=="string"){if(a!==i)return!1}else if(!Wi(i)||i.length!==a.length||a.some((l,f)=>l!==i[f]))return!1}return!0}function Zm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ym=(e,t,s)=>e??t??s,HC=Tt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const a=nn(xf),i=oe(()=>e.route||a.value),l=nn(qm,0),f=oe(()=>{let _=U(l);const{matched:v}=i.value;let b;for(;(b=v[_])&&!b.components;)_++;return _}),d=oe(()=>i.value.matched[f.value]);hs(qm,oe(()=>f.value+1)),hs(FC,d),hs(xf,i);const m=Fe();return tt(()=>[m.value,d.value,e.name],([_,v,b],[E,x,I])=>{v&&(v.instances[b]=_,x&&x!==v&&_&&_===E&&(v.leaveGuards.size||(v.leaveGuards=x.leaveGuards),v.updateGuards.size||(v.updateGuards=x.updateGuards))),_&&v&&(!x||!ha(v,x)||!E)&&(v.enterCallbacks[b]||[]).forEach(O=>O(_))},{flush:"post"}),()=>{const _=i.value,v=e.name,b=d.value,E=b&&b.components[v];if(!E)return jm(s.default,{Component:E,route:_});const x=b.props[v],I=x?x===!0?_.params:typeof x=="function"?x(_):x:null,B=Di(E,Ct({},I,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(b.instances[v]=null)},ref:m}));return jm(s.default,{Component:B,route:_})||B}}});function jm(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const qC=HC;function WC(e){const t=NC(e.routes,e),s=e.parseQuery||DC,a=e.stringifyQuery||Hm,i=e.history,l=Qa(),f=Qa(),d=Qa(),m=Nn(is);let _=is;Wo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=Fh.bind(null,re=>""+re),b=Fh.bind(null,iC),E=Fh.bind(null,Rl);function x(re,H){let Ee,Ce;return Cy(re)?(Ee=t.getRecordMatcher(re),Ce=H):Ce=re,t.addRoute(Ce,Ee)}function I(re){const H=t.getRecordMatcher(re);H&&t.removeRoute(H)}function O(){return t.getRoutes().map(re=>re.record)}function B(re){return!!t.getRecordMatcher(re)}function P(re,H){if(H=Ct({},H||m.value),typeof re=="string"){const K=zh(s,re,H.path),ce=t.resolve({path:K.path},H),ve=i.createHref(K.fullPath);return Ct(K,ce,{params:E(ce.params),hash:Rl(K.hash),redirectedFrom:void 0,href:ve})}let Ee;if(re.path!=null)Ee=Ct({},re,{path:zh(s,re.path,H.path).path});else{const K=Ct({},re.params);for(const ce in K)K[ce]==null&&delete K[ce];Ee=Ct({},re,{params:b(K)}),H.params=b(H.params)}const Ce=t.resolve(Ee,H),Ie=re.hash||"";Ce.params=v(E(Ce.params));const S=oC(a,Ct({},re,{hash:eC(Ie),path:Ce.path})),q=i.createHref(S);return Ct({fullPath:S,hash:Ie,query:a===Hm?BC(re.query):re.query||{}},Ce,{redirectedFrom:void 0,href:q})}function N(re){return typeof re=="string"?zh(s,re,m.value.path):Ct({},re)}function D(re,H){if(_!==re)return fa(8,{from:H,to:re})}function F(re){return z(re)}function W(re){return F(Ct(N(re),{replace:!0}))}function G(re){const H=re.matched[re.matched.length-1];if(H&&H.redirect){const{redirect:Ee}=H;let Ce=typeof Ee=="function"?Ee(re):Ee;return typeof Ce=="string"&&(Ce=Ce.includes("?")||Ce.includes("#")?Ce=N(Ce):{path:Ce},Ce.params={}),Ct({query:re.query,hash:re.hash,params:Ce.path!=null?{}:re.params},Ce)}}function z(re,H){const Ee=_=P(re),Ce=m.value,Ie=re.state,S=re.force,q=re.replace===!0,K=G(Ee);if(K)return z(Ct(N(K),{state:typeof K=="object"?Ct({},Ie,K.state):Ie,force:S,replace:q}),H||Ee);const ce=Ee;ce.redirectedFrom=H;let ve;return!S&&aC(a,Ce,Ee)&&(ve=fa(16,{to:ce,from:Ce}),Ae(Ce,Ce,!0,!1)),(ve?Promise.resolve(ve):ie(ce,Ce)).catch(me=>Ir(me)?Ir(me,2)?me:ue(me):pe(me,ce,Ce)).then(me=>{if(me){if(Ir(me,2))return z(Ct({replace:q},N(me.to),{state:typeof me.to=="object"?Ct({},Ie,me.to.state):Ie,force:S}),H||ce)}else me=ne(ce,Ce,!0,q,Ie);return ge(ce,Ce,me),me})}function ee(re,H){const Ee=D(re,H);return Ee?Promise.reject(Ee):Promise.resolve()}function Z(re){const H=Pe.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(re):re()}function ie(re,H){let Ee;const[Ce,Ie,S]=ZC(re,H);Ee=$h(Ce.reverse(),"beforeRouteLeave",re,H);for(const K of Ce)K.leaveGuards.forEach(ce=>{Ee.push(us(ce,re,H))});const q=ee.bind(null,re,H);return Ee.push(q),Te(Ee).then(()=>{Ee=[];for(const K of l.list())Ee.push(us(K,re,H));return Ee.push(q),Te(Ee)}).then(()=>{Ee=$h(Ie,"beforeRouteUpdate",re,H);for(const K of Ie)K.updateGuards.forEach(ce=>{Ee.push(us(ce,re,H))});return Ee.push(q),Te(Ee)}).then(()=>{Ee=[];for(const K of S)if(K.beforeEnter)if(Wi(K.beforeEnter))for(const ce of K.beforeEnter)Ee.push(us(ce,re,H));else Ee.push(us(K.beforeEnter,re,H));return Ee.push(q),Te(Ee)}).then(()=>(re.matched.forEach(K=>K.enterCallbacks={}),Ee=$h(S,"beforeRouteEnter",re,H,Z),Ee.push(q),Te(Ee))).then(()=>{Ee=[];for(const K of f.list())Ee.push(us(K,re,H));return Ee.push(q),Te(Ee)}).catch(K=>Ir(K,8)?K:Promise.reject(K))}function ge(re,H,Ee){d.list().forEach(Ce=>Z(()=>Ce(re,H,Ee)))}function ne(re,H,Ee,Ce,Ie){const S=D(re,H);if(S)return S;const q=H===is,K=Wo?history.state:{};Ee&&(Ce||q?i.replace(re.fullPath,Ct({scroll:q&&K&&K.scroll},Ie)):i.push(re.fullPath,Ie)),m.value=re,Ae(re,H,Ee,q),ue()}let Q;function X(){Q||(Q=i.listen((re,H,Ee)=>{if(!Le.listening)return;const Ce=P(re),Ie=G(Ce);if(Ie){z(Ct(Ie,{replace:!0,force:!0}),Ce).catch(vl);return}_=Ce;const S=m.value;Wo&&mC(Rm(S.fullPath,Ee.delta),Kc()),ie(Ce,S).catch(q=>Ir(q,12)?q:Ir(q,2)?(z(Ct(N(q.to),{force:!0}),Ce).then(K=>{Ir(K,20)&&!Ee.delta&&Ee.type===Dl.pop&&i.go(-1,!1)}).catch(vl),Promise.reject()):(Ee.delta&&i.go(-Ee.delta,!1),pe(q,Ce,S))).then(q=>{q=q||ne(Ce,S,!1),q&&(Ee.delta&&!Ir(q,8)?i.go(-Ee.delta,!1):Ee.type===Dl.pop&&Ir(q,20)&&i.go(-1,!1)),ge(Ce,S,q)}).catch(vl)}))}let _e=Qa(),ye=Qa(),we;function pe(re,H,Ee){ue(re);const Ce=ye.list();return Ce.length?Ce.forEach(Ie=>Ie(re,H,Ee)):console.error(re),Promise.reject(re)}function Ne(){return we&&m.value!==is?Promise.resolve():new Promise((re,H)=>{_e.add([re,H])})}function ue(re){return we||(we=!re,X(),_e.list().forEach(([H,Ee])=>re?Ee(re):H()),_e.reset()),re}function Ae(re,H,Ee,Ce){const{scrollBehavior:Ie}=e;if(!Wo||!Ie)return Promise.resolve();const S=!Ee&&gC(Rm(re.fullPath,0))||(Ce||!Ee)&&history.state&&history.state.scroll||null;return Hn().then(()=>Ie(re,H,S)).then(q=>q&&pC(q)).catch(q=>pe(q,re,H))}const Ue=re=>i.go(re);let Me;const Pe=new Set,Le={currentRoute:m,listening:!0,addRoute:x,removeRoute:I,clearRoutes:t.clearRoutes,hasRoute:B,getRoutes:O,resolve:P,options:e,push:F,replace:W,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:l.add,beforeResolve:f.add,afterEach:d.add,onError:ye.add,isReady:Ne,install(re){const H=this;re.component("RouterLink",UC),re.component("RouterView",qC),re.config.globalProperties.$router=H,Object.defineProperty(re.config.globalProperties,"$route",{enumerable:!0,get:()=>U(m)}),Wo&&!Me&&m.value===is&&(Me=!0,F(i.location).catch(Ie=>{}));const Ee={};for(const Ie in is)Object.defineProperty(Ee,Ie,{get:()=>m.value[Ie],enumerable:!0});re.provide(Jc,H),re.provide(wd,Wg(Ee)),re.provide(xf,m);const Ce=re.unmount;Pe.add(re),re.unmount=function(){Pe.delete(re),Pe.size<1&&(_=is,Q&&Q(),Q=null,m.value=is,Me=!1,we=!1),Ce()}}};function Te(re){return re.reduce((H,Ee)=>H.then(()=>Z(Ee)),Promise.resolve())}return Le}function ZC(e,t){const s=[],a=[],i=[],l=Math.max(t.matched.length,e.matched.length);for(let f=0;f<l;f++){const d=t.matched[f];d&&(e.matched.find(_=>ha(_,d))?a.push(d):s.push(d));const m=e.matched[f];m&&(t.matched.find(_=>ha(_,m))||i.push(m))}return[s,a,i]}function Oy(){return nn(Jc)}function Vu(e){return nn(wd)}function My(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var el={exports:{}},Xm;function YC(){if(Xm)return el.exports;Xm=1,el.exports=s,el.exports.parse=s,el.exports.stringify=a;var e=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,t=new RegExp("^"+e.source+"(\\s"+e.source+"){1,}");function s(i){var l=i.split(";"),f=l.pop(),d=(l.shift()||"").split("=").pop(),m=0;function _(G){var z=f.substring(m).match(G);return z?(m+=z[0].length,z[0]):null}function v(G){return G&&d.match(/\d+/)&&(G.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+d}}),G}function b(){_(/^\s*/)}function E(){b();for(var G=0,z=[],ee=[z],Z=z,ie;ie=_(/^(\()/)||_(/^(\))/)||_(/^(,)/)||_(t);){if(ie==="(")ee.push(Z),Z=[],ee[ee.length-1].push(Z),G++;else if(ie===")"){if(Z.length===0||(Z=ee.pop(),!Z))return null;if(G--,G===0)break}else if(ie===",")Z=[],ee[ee.length-1].push(Z);else if(!ie.split(/\s/g).some(isNaN))Array.prototype.push.apply(Z,ie.split(/\s/g).map(parseFloat));else return null;b()}return G!==0?null:z}function x(){for(var G=[],z,ee;ee=_(t)||_(/^(,)/);)ee===","?(G.push(z),z=[]):ee.split(/\s/g).some(isNaN)||(z||(z=[]),Array.prototype.push.apply(z,ee.split(/\s/g).map(parseFloat))),b();if(z)G.push(z);else return null;return G.length?G:null}function I(){if(!_(/^(point(\sz)?)/i)||(b(),!_(/^(\()/)))return null;var G=x();return!G||(b(),!_(/^(\))/))?null:{type:"Point",coordinates:G[0]}}function O(){if(!_(/^(multipoint)/i))return null;b();var G=f.substring(f.indexOf("(")+1,f.length-1).replace(/\(/g,"").replace(/\)/g,"");f="MULTIPOINT ("+G+")";var z=E();return z?(b(),{type:"MultiPoint",coordinates:z}):null}function B(){if(!_(/^(multilinestring)/i))return null;b();var G=E();return G?(b(),{type:"MultiLineString",coordinates:G}):null}function P(){if(!_(/^(linestring(\sz)?)/i)||(b(),!_(/^(\()/)))return null;var G=x();return!G||!_(/^(\))/)?null:{type:"LineString",coordinates:G}}function N(){if(!_(/^(polygon(\sz)?)/i))return null;b();var G=E();return G?{type:"Polygon",coordinates:G}:null}function D(){if(!_(/^(multipolygon)/i))return null;b();var G=E();return G?{type:"MultiPolygon",coordinates:G}:null}function F(){var G=[],z;if(!_(/^(geometrycollection)/i)||(b(),!_(/^(\()/)))return null;for(;z=W();)G.push(z),b(),_(/^(,)/),b();return _(/^(\))/)?{type:"GeometryCollection",geometries:G}:null}function W(){return I()||P()||N()||O()||B()||D()||F()}return v(W())}function a(i){i.type==="Feature"&&(i=i.geometry);function l(v){return v.join(" ")}function f(v){return v.map(l).join(", ")}function d(v){return v.map(f).map(_).join(", ")}function m(v){return v.map(d).map(_).join(", ")}function _(v){return"("+v+")"}switch(i.type){case"Point":return"POINT ("+l(i.coordinates)+")";case"LineString":return"LINESTRING ("+f(i.coordinates)+")";case"Polygon":return"POLYGON ("+d(i.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+f(i.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+m(i.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+d(i.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+i.geometries.map(a).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return el.exports}var fs=YC(),Qn=63710088e-1,Ay={centimeters:Qn*100,centimetres:Qn*100,degrees:360/(2*Math.PI),feet:Qn*3.28084,inches:Qn*39.37,kilometers:Qn/1e3,kilometres:Qn/1e3,meters:Qn,metres:Qn,miles:Qn/1609.344,millimeters:Qn*1e3,millimetres:Qn*1e3,nauticalmiles:Qn/1852,radians:1,yards:Qn*1.0936};function Ry(e,t,s={}){const a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=t||{},a.geometry=e,a}function jC(e,t,s={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Km(e[0])||!Km(e[1]))throw new Error("coordinates must contain numbers");return Ry({type:"Point",coordinates:e},t,s)}function vc(e,t={}){const s={type:"FeatureCollection"};return t.id&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.features=e,s}function XC(e,t="kilometers"){const s=Ay[t];if(!s)throw new Error(t+" units is invalid");return e*s}function KC(e,t="kilometers"){const s=Ay[t];if(!s)throw new Error(t+" units is invalid");return e/s}function Km(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function JC(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function nl(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Dy(e,t,s){if(e!==null)for(var a,i,l,f,d,m,_,v=0,b=0,E,x=e.type,I=x==="FeatureCollection",O=x==="Feature",B=I?e.features.length:1,P=0;P<B;P++){_=I?e.features[P].geometry:O?e.geometry:e,E=_?_.type==="GeometryCollection":!1,d=E?_.geometries.length:1;for(var N=0;N<d;N++){var D=0,F=0;if(f=E?_.geometries[N]:_,f!==null){m=f.coordinates;var W=f.type;switch(v=0,W){case null:break;case"Point":if(t(m,b,P,D,F)===!1)return!1;b++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<m.length;a++){if(t(m[a],b,P,D,F)===!1)return!1;b++,W==="MultiPoint"&&D++}W==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<m.length;a++){for(i=0;i<m[a].length-v;i++){if(t(m[a][i],b,P,D,F)===!1)return!1;b++}W==="MultiLineString"&&D++,W==="Polygon"&&F++}W==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<m.length;a++){for(F=0,i=0;i<m[a].length;i++){for(l=0;l<m[a][i].length-v;l++){if(t(m[a][i][l],b,P,D,F)===!1)return!1;b++}F++}D++}break;case"GeometryCollection":for(a=0;a<f.geometries.length;a++)if(Dy(f.geometries[a],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function _c(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&t(e.features[s],s)!==!1;s++);}function Qc(e,t){var s,a,i,l,f,d,m,_,v,b,E=0,x=e.type==="FeatureCollection",I=e.type==="Feature",O=x?e.features.length:1;for(s=0;s<O;s++){for(d=x?e.features[s].geometry:I?e.geometry:e,_=x?e.features[s].properties:I?e.properties:{},v=x?e.features[s].bbox:I?e.bbox:void 0,b=x?e.features[s].id:I?e.id:void 0,m=d?d.type==="GeometryCollection":!1,f=m?d.geometries.length:1,i=0;i<f;i++){if(l=m?d.geometries[i]:d,l===null){if(t(null,E,_,v,b)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,E,_,v,b)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<l.geometries.length;a++)if(t(l.geometries[a],E,_,v,b)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}E++}}function QC(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const s=[1/0,1/0,-1/0,-1/0];return Dy(e,a=>{s[0]>a[0]&&(s[0]=a[0]),s[1]>a[1]&&(s[1]=a[1]),s[2]<a[0]&&(s[2]=a[0]),s[3]<a[1]&&(s[3]=a[1])}),s}function yc(e){const t=nl(e);let s=0,a=1,i,l;for(;a<t.length;)i=l||t[0],l=t[a],s+=(l[0]-i[0])*(l[1]+i[1]),a++;return s>0}function eI(e,t={}){const s=QC(e),a=(s[0]+s[2])/2,i=(s[1]+s[3])/2;return jC([a,i],t.properties,t)}var Hu={exports:{}},tI=Hu.exports,Jm;function nI(){return Jm||(Jm=1,function(e,t){(function(s,a){e.exports=a()})(tI,function(){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var r=0,u=Array(n);r<n;r++)u[r]=c[r];return u}function a(c,n,r){return n=v(n),function(u,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(u)}(c,E()?Reflect.construct(n,r||[],v(c).constructor):n.apply(c,r))}function i(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function l(c,n,r){if(E())return Reflect.construct.apply(null,arguments);var u=[null];u.push.apply(u,n);var p=new(c.bind.apply(c,u));return r&&x(p,r.prototype),p}function f(c,n){for(var r=0;r<n.length;r++){var u=n[r];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,B(u.key),u)}}function d(c,n,r){return n&&f(c.prototype,n),r&&f(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c,n){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=P(c))||n){r&&(c=r);var u=0,p=function(){};return{s:p,n:function(){return u>=c.length?{done:!0}:{done:!1,value:c[u++]}},e:function(A){throw A},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,k=!0,C=!1;return{s:function(){r=r.call(c)},n:function(){var A=r.next();return k=A.done,A},e:function(A){C=!0,y=A},f:function(){try{k||r.return==null||r.return()}finally{if(C)throw y}}}}function _(){return _=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,n,r){var u=function(y,k){for(;!{}.hasOwnProperty.call(y,k)&&(y=v(y))!==null;);return y}(c,n);if(u){var p=Object.getOwnPropertyDescriptor(u,n);return p.get?p.get.call(arguments.length<3?c:r):p.value}},_.apply(null,arguments)}function v(c){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v(c)}function b(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),n&&x(c,n)}function E(){try{var c=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!c})()}function x(c,n){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,u){return r.__proto__=u,r},x(c,n)}function I(c,n,r,u){var p=_(v(1&u?c.prototype:c),n,r);return 2&u&&typeof p=="function"?function(y){return p.apply(r,y)}:p}function O(c){return function(n){if(Array.isArray(n))return s(n)}(c)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(c)||P(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B(c){var n=function(r,u){if(typeof r!="object"||!r)return r;var p=r[Symbol.toPrimitive];if(p!==void 0){var y=p.call(r,u);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(c,"string");return typeof n=="symbol"?n:n+""}function P(c,n){if(c){if(typeof c=="string")return s(c,n);var r={}.toString.call(c).slice(8,-1);return r==="Object"&&c.constructor&&(r=c.constructor.name),r==="Map"||r==="Set"?Array.from(c):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(c,n):void 0}}function N(c){var n=typeof Map=="function"?new Map:void 0;return N=function(r){if(r===null||!function(p){try{return Function.toString.call(p).indexOf("[native code]")!==-1}catch{return typeof p=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,u)}function u(){return l(r,arguments,v(this).constructor)}return u.prototype=Object.create(r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),x(u,r)},N(c)}var D=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(n){this._quadrantSegments=n,this._quadrantSegments===0&&(this._joinStyle=c.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=c.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),n<=0&&(this._quadrantSegments=1),this._joinStyle!==c.JOIN_ROUND&&(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(n){this._joinStyle=n}},{key:"setSimplifyFactor",value:function(n){this._simplifyFactor=n<0?0:n}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(n){this._endCapStyle=n}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(n){this._mitreLimit=n}},{key:"setSingleSided",value:function(n){this._isSingleSided=n}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=c.CAP_ROUND,this._joinStyle=c.JOIN_ROUND,this._mitreLimit=c.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=c.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.setQuadrantSegments(r),this.setEndCapStyle(u)}else if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],C=arguments[3];this.setQuadrantSegments(p),this.setEndCapStyle(y),this.setJoinStyle(k),this.setMitreLimit(C)}}}},{key:"bufferDistanceError",value:function(n){var r=Math.PI/2/n;return 1-Math.cos(r/2)}}])}();D.CAP_ROUND=1,D.CAP_FLAT=2,D.CAP_SQUARE=3,D.JOIN_ROUND=1,D.JOIN_MITRE=2,D.JOIN_BEVEL=3,D.DEFAULT_QUADRANT_SEGMENTS=8,D.DEFAULT_MITRE_LIMIT=5,D.DEFAULT_SIMPLIFY_FACTOR=.01;var F=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({Exception:n})[0],u}return b(n,c),d(n,[{key:"toString",value:function(){return this.message}}])}(N(Error)),W=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({IllegalArgumentException:n})[0],u}return b(n,c),d(n)}(F),G=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}();function z(){}function ee(){}function Z(){}var ie,ge,ne,Q,X,_e,ye,we,pe=function(){return d(function c(){i(this,c)},null,[{key:"equalsWithTolerance",value:function(c,n,r){return Math.abs(c-n)<=r}}])}(),Ne=function(){return d(function c(n,r){i(this,c),this.low=r||0,this.high=n||0},null,[{key:"toBinaryString",value:function(c){var n,r="";for(n=2147483648;n>0;n>>>=1)r+=(c.high&n)===n?"1":"0";for(n=2147483648;n>0;n>>>=1)r+=(c.low&n)===n?"1":"0";return r}}])}();function ue(){}function Ae(){}ue.NaN=NaN,ue.isNaN=function(c){return Number.isNaN(c)},ue.isInfinite=function(c){return!Number.isFinite(c)},ue.MAX_VALUE=Number.MAX_VALUE,ue.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,ue.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(_e=2146435072,ye=new Float64Array(1),we=new Int32Array(ye.buffer),ue.doubleToLongBits=function(c){ye[0]=c;var n=0|we[0],r=0|we[1];return(r&_e)===_e&&1048575&r&&n!==0&&(n=0,r=2146959360),new Ne(r,n)},ue.longBitsToDouble=function(c){return we[0]=c.low,we[1]=c.high,ye[0]}):(ie=1023,ge=Math.log2,ne=Math.floor,Q=Math.pow,X=function(){for(var c=53;c>0;c--){var n=Q(2,c)-1;if(ne(ge(n))+1===c)return n}return 0}(),ue.doubleToLongBits=function(c){var n,r,u,p,y,k,C,A,V;if(c<0||1/c===Number.NEGATIVE_INFINITY?(k=1<<31,c=-c):k=0,c===0)return new Ne(A=k,V=0);if(c===1/0)return new Ne(A=2146435072|k,V=0);if(c!=c)return new Ne(A=2146959360,V=0);if(p=0,V=0,(n=ne(c))>1)if(n<=X)(p=ne(ge(n)))<=20?(V=0,A=n<<20-p&1048575):(V=n%(r=Q(2,u=p-20))<<32-u,A=n/r&1048575);else for(u=n,V=0;(u=ne(r=u/2))!==0;)p++,V>>>=1,V|=(1&A)<<31,A>>>=1,r!==u&&(A|=524288);if(C=p+ie,y=n===0,n=c-n,p<52&&n!==0)for(u=0;;){if((r=2*n)>=1?(n=r-1,y?(C--,y=!1):(u<<=1,u|=1,p++)):(n=r,y?--C==0&&(p++,y=!1):(u<<=1,p++)),p===20)A|=u,u=0;else if(p===52){V|=u;break}if(r===1){p<20?A|=u<<20-p:p<52&&(V|=u<<52-p);break}}return A|=C<<20,new Ne(A|=k,V)},ue.longBitsToDouble=function(c){var n,r,u,p,y=c.high,k=c.low,C=y&1<<31?-1:1;for(u=((2146435072&y)>>20)-ie,p=0,r=1<<19,n=1;n<=20;n++)y&r&&(p+=Q(2,-n)),r>>>=1;for(r=1<<31,n=21;n<=52;n++)k&r&&(p+=Q(2,-n)),r>>>=1;if(u===-1023){if(p===0)return 0*C;u=-1022}else{if(u===1024)return p===0?C/0:NaN;p+=1}return C*p*Q(2,u)});var Ue=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({RuntimeException:n})[0],u}return b(n,c),d(n)}(F),Me=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,null,[{key:"constructor_",value:function(){if(arguments.length===0)Ue.constructor_.call(this);else if(arguments.length===1){var r=arguments[0];Ue.constructor_.call(this,r)}}}])}(Ue),Pe=function(){function c(){i(this,c)}return d(c,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)c.shouldNeverReachHere(null);else if(arguments.length===1){var n=arguments[0];throw new Me("Should never reach here"+(n!==null?": "+n:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var n=arguments[0];c.isTrue(n,null)}else if(arguments.length===2){var r=arguments[1];if(!arguments[0])throw r===null?new Me:new Me(r)}}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];c.equals(n,r,null)}else if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2];if(!p.equals(u))throw new Me("Expected "+u+" but encountered "+p+(y!==null?": "+y:""))}}}])}(),Le=new ArrayBuffer(8),Te=new Float64Array(Le),re=new Int32Array(Le),H=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getM",value:function(){return ue.NaN}},{key:"setOrdinate",value:function(n,r){switch(n){case c.X:this.x=r;break;case c.Y:this.y=r;break;case c.Z:this.setZ(r);break;default:throw new W("Invalid ordinate index: "+n)}}},{key:"equals2D",value:function(){if(arguments.length===1){var n=arguments[0];return this.x===n.x&&this.y===n.y}if(arguments.length===2){var r=arguments[0],u=arguments[1];return!!pe.equalsWithTolerance(this.x,r.x,u)&&!!pe.equalsWithTolerance(this.y,r.y,u)}}},{key:"setM",value:function(n){throw new W("Invalid ordinate index: "+c.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(n){switch(n){case c.X:return this.x;case c.Y:return this.y;case c.Z:return this.getZ()}throw new W("Invalid ordinate index: "+n)}},{key:"equals3D",value:function(n){return this.x===n.x&&this.y===n.y&&(this.getZ()===n.getZ()||ue.isNaN(this.getZ())&&ue.isNaN(n.getZ()))}},{key:"equals",value:function(n){return n instanceof c&&this.equals2D(n)}},{key:"equalInZ",value:function(n,r){return pe.equalsWithTolerance(this.getZ(),n.getZ(),r)}},{key:"setX",value:function(n){this.x=n}},{key:"compareTo",value:function(n){var r=n;return this.x<r.x?-1:this.x>r.x?1:this.y<r.y?-1:this.y>r.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(n){this.z=n}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return Pe.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw n}}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(n){var r=this.x-n.x,u=this.y-n.y,p=this.getZ()-n.getZ();return Math.sqrt(r*r+u*u+p*p)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(n){this.y=n}},{key:"distance",value:function(n){var r=this.x-n.x,u=this.y-n.y;return Math.sqrt(r*r+u*u)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*n+c.hashCode(this.x))+c.hashCode(this.y)}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}},{key:"interfaces_",get:function(){return[z,ee,Z]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)c.constructor_.call(this,0,0);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.x,n.y,n.getZ())}else if(arguments.length===2){var r=arguments[0],u=arguments[1];c.constructor_.call(this,r,u,c.NULL_ORDINATE)}else if(arguments.length===3){var p=arguments[0],y=arguments[1],k=arguments[2];this.x=p,this.y=y,this.z=k}}},{key:"hashCode",value:function(n){return Te[0]=n,re[0]^re[1]}}])}(),Ee=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"compare",value:function(n,r){var u=c.compare(n.x,r.x);if(u!==0)return u;var p=c.compare(n.y,r.y);return p!==0?p:this._dimensionsToTest<=2?0:c.compare(n.getZ(),r.getZ())}},{key:"interfaces_",get:function(){return[Ae]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)c.constructor_.call(this,2);else if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new W("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}},{key:"compare",value:function(n,r){return n<r?-1:n>r?1:ue.isNaN(n)?ue.isNaN(r)?0:-1:ue.isNaN(r)?1:0}}])}();H.DimensionalComparator=Ee,H.NULL_ORDINATE=ue.NaN,H.X=0,H.Y=1,H.Z=2,H.M=3;var Ce=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.isNull()?r.isNull():this._maxx===r.getMaxX()&&this._maxy===r.getMaxY()&&this._minx===r.getMinX()&&this._miny===r.getMinY()}},{key:"intersection",value:function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new c;var r=this._minx>n._minx?this._minx:n._minx,u=this._miny>n._miny?this._miny:n._miny;return new c(r,this._maxx<n._maxx?this._maxx:n._maxx,u,this._maxy<n._maxy?this._maxy:n._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof H){var n=arguments[0];return this.covers(n.x,n.y)}if(arguments[0]instanceof c){var r=arguments[0];return!this.isNull()&&!r.isNull()&&r.getMinX()>=this._minx&&r.getMaxX()<=this._maxx&&r.getMinY()>=this._miny&&r.getMaxY()<=this._maxy}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];return!this.isNull()&&u>=this._minx&&u<=this._maxx&&p>=this._miny&&p<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return!this.isNull()&&!n.isNull()&&!(n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny)}if(arguments[0]instanceof H){var r=arguments[0];return this.intersects(r.x,r.y)}}else if(arguments.length===2){if(arguments[0]instanceof H&&arguments[1]instanceof H){var u=arguments[0],p=arguments[1];return!this.isNull()&&!((u.x<p.x?u.x:p.x)>this._maxx)&&!((u.x>p.x?u.x:p.x)<this._minx)&&!((u.y<p.y?u.y:p.y)>this._maxy)&&!((u.y>p.y?u.y:p.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var y=arguments[0],k=arguments[1];return!this.isNull()&&!(y>this._maxx||y<this._minx||k>this._maxy||k<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return Math.sqrt(n*n+r*r)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof H){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];if(r.isNull())return null;this.isNull()?(this._minx=r.getMinX(),this._maxx=r.getMaxX(),this._miny=r.getMinY(),this._maxy=r.getMaxY()):(r._minx<this._minx&&(this._minx=r._minx),r._maxx>this._maxx&&(this._maxx=r._maxx),r._miny<this._miny&&(this._miny=r._miny),r._maxy>this._maxy&&(this._maxy=r._maxy))}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.isNull()?(this._minx=u,this._maxx=u,this._miny=p,this._maxy=p):(u<this._minx&&(this._minx=u),u>this._maxx&&(this._maxx=u),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n<r?n:r}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(n){var r=n;return this.isNull()?r.isNull()?0:-1:r.isNull()?1:this._minx<r._minx?-1:this._minx>r._minx?1:this._miny<r._miny?-1:this._miny>r._miny?1:this._maxx<r._maxx?-1:this._maxx>r._maxx?1:this._maxy<r._maxy?-1:this._maxy>r._maxy?1:0}},{key:"translate",value:function(n,r){if(this.isNull())return null;this.init(this.getMinX()+n,this.getMaxX()+n,this.getMinY()+r,this.getMaxY()+r)}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(n){return!(!this.isNull()&&!n.isNull())||n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),r=this.getHeight();return n>r?n:r}},{key:"expandBy",value:function(){if(arguments.length===1){var n=arguments[0];this.expandBy(n,n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];if(this.isNull())return null;this._minx-=r,this._maxx+=r,this._miny-=u,this._maxy+=u,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.covers(n)}if(arguments[0]instanceof H){var r=arguments[0];return this.covers(r)}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];return this.covers(u,p)}}},{key:"centre",value:function(){return this.isNull()?null:new H((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof H){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this._minx=r._minx,this._maxx=r._maxx,this._miny=r._miny,this._maxy=r._maxy}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.init(u.x,p.x,u.y,p.y)}else if(arguments.length===4){var y=arguments[0],k=arguments[1],C=arguments[2],A=arguments[3];y<k?(this._minx=y,this._maxx=k):(this._minx=k,this._maxx=y),C<A?(this._miny=C,this._maxy=A):(this._miny=A,this._maxy=C)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(n){if(this.intersects(n))return 0;var r=0;this._maxx<n._minx?r=n._minx-this._maxx:this._minx>n._maxx&&(r=this._minx-n._maxx);var u=0;return this._maxy<n._miny?u=n._miny-this._maxy:this._miny>n._maxy&&(u=this._miny-n._maxy),r===0?u:u===0?r:Math.sqrt(r*r+u*u)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*(n=37*(n=37*n+H.hashCode(this._minx))+H.hashCode(this._maxx))+H.hashCode(this._miny))+H.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[z,Z]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof H){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.init(u.x,p.x,u.y,p.y)}else if(arguments.length===4){var y=arguments[0],k=arguments[1],C=arguments[2],A=arguments[3];this.init(y,k,C,A)}}},{key:"intersects",value:function(){if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2];return u.x>=(n.x<r.x?n.x:r.x)&&u.x<=(n.x>r.x?n.x:r.x)&&u.y>=(n.y<r.y?n.y:r.y)&&u.y<=(n.y>r.y?n.y:r.y)}if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],C=arguments[3],A=Math.min(k.x,C.x),V=Math.max(k.x,C.x),te=Math.min(p.x,y.x),se=Math.max(p.x,y.x);return!(te>V)&&!(se<A)&&(A=Math.min(k.y,C.y),V=Math.max(k.y,C.y),te=Math.min(p.y,y.y),se=Math.max(p.y,y.y),!(te>V)&&!(se<A))}}}])}(),Ie=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(n){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(n){return this===n||this.equalsExact(n,0)}},{key:"geometryChanged",value:function(){this.apply(c.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(n){return n!==null&&this.norm().equalsExact(n.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var n;if(arguments.length===1){var r=arguments[0];return n=r,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(r)}if(arguments.length===2){var u=arguments[0],p=arguments[1];return n=u,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(u,p)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(n){if(n.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION)throw new W("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(n,r,u){return u===0?n.equals(r):n.distance(r)<=u}},{key:"norm",value:function(){var n=this.copy();return n.normalize(),n}},{key:"reverse",value:function(){var n=this.reverseInternal();return this.envelope!=null&&(n.envelope=this.envelope.copy()),n.setSRID(this.getSRID()),n}},{key:"copy",value:function(){var n=this.copyInternal();return n.envelope=this._envelope==null?null:this._envelope.copy(),n._SRID=this._SRID,n._userData=this._userData,n}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Ce(this._envelope)}},{key:"setSRID",value:function(n){this._SRID=n}},{key:"setUserData",value:function(n){this._userData=n}},{key:"compare",value:function(n,r){for(var u=n.iterator(),p=r.iterator();u.hasNext()&&p.hasNext();){var y=u.next(),k=p.next(),C=y.compareTo(k);if(C!==0)return C}return u.hasNext()?1:p.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(n){return this.getClass()===n.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===c.TYPECODE_MULTIPOINT||this.getTypeCode()===c.TYPECODE_MULTILINESTRING||this.getTypeCode()===c.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[ee,z,Z]}},{key:"getClass",value:function(){return c}}],[{key:"hasNonEmptyElements",value:function(n){for(var r=0;r<n.length;r++)if(!n[r].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(n){for(var r=0;r<n.length;r++)if(n[r]===null)return!0;return!1}}])}();Ie.constructor_=function(c){c&&(this._envelope=null,this._userData=null,this._factory=c,this._SRID=c.getSRID())},Ie.TYPECODE_POINT=0,Ie.TYPECODE_MULTIPOINT=1,Ie.TYPECODE_LINESTRING=2,Ie.TYPECODE_LINEARRING=3,Ie.TYPECODE_MULTILINESTRING=4,Ie.TYPECODE_POLYGON=5,Ie.TYPECODE_MULTIPOLYGON=6,Ie.TYPECODE_GEOMETRYCOLLECTION=7,Ie.TYPENAME_POINT="Point",Ie.TYPENAME_MULTIPOINT="MultiPoint",Ie.TYPENAME_LINESTRING="LineString",Ie.TYPENAME_LINEARRING="LinearRing",Ie.TYPENAME_MULTILINESTRING="MultiLineString",Ie.TYPENAME_POLYGON="Polygon",Ie.TYPENAME_MULTIPOLYGON="MultiPolygon",Ie.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Ie.geometryChangedFilter={get interfaces_(){return[G]},filter:function(c){c.geometryChangedAction()}};var S=function(){function c(){i(this,c)}return d(c,null,[{key:"toLocationSymbol",value:function(n){switch(n){case c.EXTERIOR:return"e";case c.BOUNDARY:return"b";case c.INTERIOR:return"i";case c.NONE:return"-"}throw new W("Unknown location value: "+n)}}])}();S.INTERIOR=0,S.BOUNDARY=1,S.EXTERIOR=2,S.NONE=-1;var q=function(){return d(function c(){i(this,c)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),K=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({NoSuchElementException:n})[0],u}return b(n,c),d(n)}(F),ce=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({UnsupportedOperationException:n})[0],u}return b(n,c),d(n)}(F),ve=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n,[{key:"contains",value:function(){}}])}(q),me=function(c){function n(r){var u;return i(this,n),(u=a(this,n)).map=new Map,r instanceof q&&u.addAll(r),u}return b(n,c),d(n,[{key:"contains",value:function(r){var u=r.hashCode?r.hashCode():r;return!!this.map.has(u)}},{key:"add",value:function(r){var u=r.hashCode?r.hashCode():r;return!this.map.has(u)&&!!this.map.set(u,r)}},{key:"addAll",value:function(r){var u,p=m(r);try{for(p.s();!(u=p.n()).done;){var y=u.value;this.add(y)}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new ce}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new $(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(ve),$=function(){return d(function c(n){i(this,c),this.iterator=n.values();var r=this.iterator.next(),u=r.done,p=r.value;this.done=u,this.value=p},[{key:"next",value:function(){if(this.done)throw new K;var c=this.value,n=this.iterator.next(),r=n.done,u=n.value;return this.done=r,this.value=u,c}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new ce}}])}(),M=function(){function c(){i(this,c)}return d(c,null,[{key:"opposite",value:function(n){return n===c.LEFT?c.RIGHT:n===c.RIGHT?c.LEFT:n}}])}();M.ON=0,M.LEFT=1,M.RIGHT=2;var J=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({EmptyStackException:n})[0],u}return b(n,c),d(n)}(F),le=function(c){function n(r){var u;return i(this,n),(u=a(this,n,[r])).name=Object.keys({IndexOutOfBoundsException:n})[0],u}return b(n,c),d(n)}(F),De=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(q),ke=function(c){function n(){var r;return i(this,n),(r=a(this,n)).array=[],r}return b(n,c),d(n,[{key:"add",value:function(r){return this.array.push(r),!0}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new le;return this.array[r]}},{key:"push",value:function(r){return this.array.push(r),r}},{key:"pop",value:function(){if(this.array.length===0)throw new J;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new J;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(r){return this.array.indexOf(r)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(De);function j(c,n){return c.interfaces_&&c.interfaces_.indexOf(n)>-1}var de=function(){return d(function c(n){i(this,c),this.str=n},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),Ge=function(){function c(n){i(this,c),this.value=n}return d(c,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(n){return this.value<n?-1:this.value>n?1:0}}],[{key:"compare",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"isNan",value:function(n){return Number.isNaN(n)}},{key:"valueOf",value:function(n){return new c(n)}}])}(),Qe=function(){return d(function c(){i(this,c)},null,[{key:"isWhitespace",value:function(c){return c<=32&&c>=0||c===127}},{key:"toUpperCase",value:function(c){return c.toUpperCase()}}])}(),Oe=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"le",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<=n._lo}},{key:"extractSignificantDigits",value:function(n,r){var u=this.abs(),p=c.magnitude(u._hi),y=c.TEN.pow(p);(u=u.divide(y)).gt(c.TEN)?(u=u.divide(c.TEN),p+=1):u.lt(c.ONE)&&(u=u.multiply(c.TEN),p-=1);for(var k=p+1,C=new de,A=c.MAX_PRINT_DIGITS-1,V=0;V<=A;V++){n&&V===k&&C.append(".");var te=Math.trunc(u._hi);if(te<0)break;var se=!1,xe=0;te>9?(se=!0,xe="9"):xe="0"+te,C.append(xe),u=u.subtract(c.valueOf(te)).multiply(c.TEN),se&&u.selfAdd(c.TEN);var Be=!0,Ze=c.magnitude(u._hi);if(Ze<0&&Math.abs(Ze)>=A-V&&(Be=!1),!Be)break}return r[0]=p,C.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.add(n.negate())}if(typeof arguments[0]=="number"){var r=arguments[0];return this.add(-r)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof c){var n=arguments[0];return this._hi===n._hi&&this._lo===n._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n._hi,-n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.isNaN()?this:this.selfAdd(-r,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(n){return this.le(n)?this:n}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfDivide(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfDivide(r,0)}}else if(arguments.length===2){var u,p,y,k,C=arguments[0],A=arguments[1],V=null,te=null,se=null,xe=null;return y=this._hi/C,xe=(V=(se=c.SPLIT*y)-(V=se-y))*(te=(xe=c.SPLIT*C)-(te=xe-C))-(k=y*C)+V*(p=C-te)+(u=y-V)*te+u*p,xe=y+(se=(this._hi-k-xe+this._lo-y*A)/C),this._hi=xe,this._lo=y-xe+se,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof c){var n,r,u,p,y=arguments[0],k=null,C=null,A=null,V=null;return n=(u=this._hi/y._hi)-(k=(A=c.SPLIT*u)-(k=A-u)),V=k*(C=(V=c.SPLIT*y._hi)-(C=V-y._hi))-(p=u*y._hi)+k*(r=y._hi-C)+n*C+n*r,new c(V=u+(A=(this._hi-p-V+this._lo-u*y._lo)/y._hi),u-V+A)}if(typeof arguments[0]=="number"){var te=arguments[0];return ue.isNaN(te)?c.createNaN():c.copy(this).selfDivide(te,0)}}},{key:"ge",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>=n._lo}},{key:"pow",value:function(n){if(n===0)return c.valueOf(1);var r=new c(this),u=c.valueOf(1),p=Math.abs(n);if(p>1)for(;p>0;)p%2==1&&u.selfMultiply(r),(p/=2)>0&&(r=r.sqr());else u=r;return n<0?u.reciprocal():u}},{key:"ceil",value:function(){if(this.isNaN())return c.NaN;var n=Math.ceil(this._hi),r=0;return n===this._hi&&(r=Math.ceil(this._lo)),new c(n,r)}},{key:"compareTo",value:function(n){var r=n;return this._hi<r._hi?-1:this._hi>r._hi?1:this._lo<r._lo?-1:this._lo>r._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return this.init(n),this}if(typeof arguments[0]=="number"){var r=arguments[0];return this.init(r),this}}},{key:"max",value:function(n){return this.ge(n)?this:n}},{key:"sqrt",value:function(){if(this.isZero())return c.valueOf(0);if(this.isNegative())return c.NaN;var n=1/Math.sqrt(this._hi),r=this._hi*n,u=c.valueOf(r),p=this.subtract(u.sqr())._hi*(.5*n);return u.add(p)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfAdd(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r,u,p,y,k,C=arguments[0],A=null;return A=(p=this._hi+C)-(y=p-this._hi),u=(k=(A=C-y+(this._hi-A))+this._lo)+(p-(r=p+k)),this._hi=r+u,this._lo=u+(r-this._hi),this}}else if(arguments.length===2){var V,te,se,xe,Be=arguments[0],Ze=arguments[1],Ke=null,gt=null,lt=null;se=this._hi+Be,te=this._lo+Ze,gt=se-(lt=se-this._hi),Ke=te-(xe=te-this._lo);var At=(V=se+(lt=(gt=Be-lt+(this._hi-gt))+te))+(lt=(Ke=Ze-xe+(this._lo-Ke))+(lt+(se-V))),qt=lt+(V-At);return this._hi=At,this._lo=qt,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var n=arguments[0];return this.selfMultiply(n._hi,n._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfMultiply(r,0)}}else if(arguments.length===2){var u,p,y=arguments[0],k=arguments[1],C=null,A=null,V=null,te=null;C=(V=c.SPLIT*this._hi)-this._hi,te=c.SPLIT*y,C=V-C,u=this._hi-C,A=te-y;var se=(V=this._hi*y)+(te=C*(A=te-A)-V+C*(p=y-A)+u*A+u*p+(this._hi*k+this._lo*y)),xe=te+(C=V-se);return this._hi=se,this._lo=xe,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return c.NaN;var n=Math.floor(this._hi),r=0;return n===this._hi&&(r=Math.floor(this._lo)),new c(n,r)}},{key:"negate",value:function(){return this.isNaN()?this:new c(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return null;throw n}}},{key:"multiply",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return n.isNaN()?c.createNaN():c.copy(this).selfMultiply(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return ue.isNaN(r)?c.createNaN():c.copy(this).selfMultiply(r,0)}}},{key:"isNaN",value:function(){return ue.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var n=c.magnitude(this._hi);return n>=-3&&n<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),u=this.extractSignificantDigits(!0,r),p=r[0]+1,y=u;if(u.charAt(0)===".")y="0"+u;else if(p<0)y="0."+c.stringOfChar("0",-p)+u;else if(u.indexOf(".")===-1){var k=p-u.length;y=u+c.stringOfChar("0",k)+".0"}return this.isNegative()?"-"+y:y}},{key:"reciprocal",value:function(){var n,r,u,p,y=null,k=null,C=null,A=null;n=(u=1/this._hi)-(y=(C=c.SPLIT*u)-(y=C-u)),k=(A=c.SPLIT*this._hi)-this._hi;var V=u+(C=(1-(p=u*this._hi)-(A=y*(k=A-k)-p+y*(r=this._hi-k)+n*k+n*r)-u*this._lo)/this._hi);return new c(V,u-V+C)}},{key:"toSciNotation",value:function(){if(this.isZero())return c.SCI_NOT_ZERO;var n=this.getSpecialNumberString();if(n!==null)return n;var r=new Array(1).fill(null),u=this.extractSignificantDigits(!1,r),p=c.SCI_NOT_EXPONENT_CHAR+r[0];if(u.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+u);var y="";u.length>1&&(y=u.substring(1));var k=u.charAt(0)+"."+y;return this.isNegative()?"-"+k+p:k+p}},{key:"abs",value:function(){return this.isNaN()?c.NaN:this.isNegative()?this.negate():new c(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<n._lo}},{key:"add",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return c.copy(this).selfAdd(n)}if(typeof arguments[0]=="number"){var r=arguments[0];return c.copy(this).selfAdd(r)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this._hi=n,this._lo=0}else if(arguments[0]instanceof c){var r=arguments[0];this._hi=r._hi,this._lo=r._lo}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this._hi=u,this._lo=p}}},{key:"gt",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>n._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?c.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[Z,z,ee]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.init(r)}else if(typeof arguments[0]=="string"){var u=arguments[0];c.constructor_.call(this,c.parse(u))}}else if(arguments.length===2){var p=arguments[0],y=arguments[1];this.init(p,y)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],u=arguments[2],p=arguments[3];return c.determinant(c.valueOf(n),c.valueOf(r),c.valueOf(u),c.valueOf(p))}if(arguments[3]instanceof c&&arguments[2]instanceof c&&arguments[0]instanceof c&&arguments[1]instanceof c){var y=arguments[1],k=arguments[2],C=arguments[3];return arguments[0].multiply(C).selfSubtract(y.multiply(k))}}},{key:"sqr",value:function(n){return c.valueOf(n).selfMultiply(n)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var n=arguments[0];return c.parse(n)}if(typeof arguments[0]=="number")return new c(arguments[0])}},{key:"sqrt",value:function(n){return c.valueOf(n).sqrt()}},{key:"parse",value:function(n){for(var r=0,u=n.length;Qe.isWhitespace(n.charAt(r));)r++;var p=!1;if(r<u){var y=n.charAt(r);y!=="-"&&y!=="+"||(r++,y==="-"&&(p=!0))}for(var k=new c,C=0,A=0,V=0,te=!1;!(r>=u);){var se=n.charAt(r);if(r++,Qe.isDigit(se)){var xe=se-"0";k.selfMultiply(c.TEN),k.selfAdd(xe),C++}else{if(se!=="."){if(se==="e"||se==="E"){var Be=n.substring(r);try{V=Ge.parseInt(Be)}catch(At){throw At instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Be+" in string "+n):At}break}throw new NumberFormatException("Unexpected character '"+se+"' at position "+r+" in string "+n)}A=C,te=!0}}var Ze=k;te||(A=C);var Ke=C-A-V;if(Ke===0)Ze=k;else if(Ke>0){var gt=c.TEN.pow(Ke);Ze=k.divide(gt)}else if(Ke<0){var lt=c.TEN.pow(-Ke);Ze=k.multiply(lt)}return p?Ze.negate():Ze}},{key:"createNaN",value:function(){return new c(ue.NaN,ue.NaN)}},{key:"copy",value:function(n){return new c(n)}},{key:"magnitude",value:function(n){var r=Math.abs(n),u=Math.log(r)/Math.log(10),p=Math.trunc(Math.floor(u));return 10*Math.pow(10,p)<=r&&(p+=1),p}},{key:"stringOfChar",value:function(n,r){for(var u=new de,p=0;p<r;p++)u.append(n);return u.toString()}}])}();Oe.PI=new Oe(3.141592653589793,12246467991473532e-32),Oe.TWO_PI=new Oe(6.283185307179586,24492935982947064e-32),Oe.PI_2=new Oe(1.5707963267948966,6123233995736766e-32),Oe.E=new Oe(2.718281828459045,14456468917292502e-32),Oe.NaN=new Oe(ue.NaN,ue.NaN),Oe.EPS=123259516440783e-46,Oe.SPLIT=134217729,Oe.MAX_PRINT_DIGITS=32,Oe.TEN=Oe.valueOf(10),Oe.ONE=Oe.valueOf(1),Oe.SCI_NOT_EXPONENT_CHAR="E",Oe.SCI_NOT_ZERO="0.0E0";var Ht=function(){function c(){i(this,c)}return d(c,null,[{key:"orientationIndex",value:function(n,r,u){var p=c.orientationIndexFilter(n,r,u);if(p<=1)return p;var y=Oe.valueOf(r.x).selfAdd(-n.x),k=Oe.valueOf(r.y).selfAdd(-n.y),C=Oe.valueOf(u.x).selfAdd(-r.x),A=Oe.valueOf(u.y).selfAdd(-r.y);return y.selfMultiply(A).selfSubtract(k.selfMultiply(C)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Oe&&arguments[2]instanceof Oe&&arguments[0]instanceof Oe&&arguments[1]instanceof Oe){var n=arguments[1],r=arguments[2],u=arguments[3];return arguments[0].multiply(u).selfSubtract(n.multiply(r)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],y=arguments[1],k=arguments[2],C=arguments[3],A=Oe.valueOf(p),V=Oe.valueOf(y),te=Oe.valueOf(k),se=Oe.valueOf(C);return A.multiply(se).selfSubtract(V.multiply(te)).signum()}}},{key:"intersection",value:function(n,r,u,p){var y=new Oe(n.y).selfSubtract(r.y),k=new Oe(r.x).selfSubtract(n.x),C=new Oe(n.x).selfMultiply(r.y).selfSubtract(new Oe(r.x).selfMultiply(n.y)),A=new Oe(u.y).selfSubtract(p.y),V=new Oe(p.x).selfSubtract(u.x),te=new Oe(u.x).selfMultiply(p.y).selfSubtract(new Oe(p.x).selfMultiply(u.y)),se=k.multiply(te).selfSubtract(V.multiply(C)),xe=A.multiply(C).selfSubtract(y.multiply(te)),Be=y.multiply(V).selfSubtract(A.multiply(k)),Ze=se.selfDivide(Be).doubleValue(),Ke=xe.selfDivide(Be).doubleValue();return ue.isNaN(Ze)||ue.isInfinite(Ze)||ue.isNaN(Ke)||ue.isInfinite(Ke)?null:new H(Ze,Ke)}},{key:"orientationIndexFilter",value:function(n,r,u){var p=null,y=(n.x-u.x)*(r.y-u.y),k=(n.y-u.y)*(r.x-u.x),C=y-k;if(y>0){if(k<=0)return c.signum(C);p=y+k}else{if(!(y<0)||k>=0)return c.signum(C);p=-y-k}var A=c.DP_SAFE_EPSILON*p;return C>=A||-C>=A?c.signum(C):2}},{key:"signum",value:function(n){return n>0?1:n<0?-1:0}}])}();Ht.DP_SAFE_EPSILON=1e-15;var je=function(){return d(function c(){i(this,c)},[{key:"getM",value:function(c){if(this.hasM()){var n=this.getDimension()-this.getMeasures();return this.getOrdinate(c,n)}return ue.NaN}},{key:"setOrdinate",value:function(c,n,r){}},{key:"getZ",value:function(c){return this.hasZ()?this.getOrdinate(c,2):ue.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(c,n){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(c){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(c){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(c){}},{key:"copy",value:function(){}},{key:"getY",value:function(c){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[ee]}}])}();je.X=0,je.Y=1,je.Z=2,je.M=3;var Ye=function(){function c(){i(this,c)}return d(c,null,[{key:"index",value:function(n,r,u){return Ht.orientationIndex(n,r,u)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var n=arguments[0],r=n.length-1;if(r<3)throw new W("Ring has fewer than 4 points, so orientation cannot be determined");for(var u=n[0],p=0,y=1;y<=r;y++){var k=n[y];k.y>u.y&&(u=k,p=y)}var C=p;do(C-=1)<0&&(C=r);while(n[C].equals2D(u)&&C!==p);var A=p;do A=(A+1)%r;while(n[A].equals2D(u)&&A!==p);var V=n[C],te=n[A];if(V.equals2D(u)||te.equals2D(u)||V.equals2D(te))return!1;var se=c.index(V,u,te);return se===0?V.x>te.x:se>0}if(j(arguments[0],je)){var xe=arguments[0],Be=xe.size()-1;if(Be<3)throw new W("Ring has fewer than 4 points, so orientation cannot be determined");for(var Ze=xe.getCoordinate(0),Ke=0,gt=1;gt<=Be;gt++){var lt=xe.getCoordinate(gt);lt.y>Ze.y&&(Ze=lt,Ke=gt)}var At=null,qt=Ke;do(qt-=1)<0&&(qt=Be),At=xe.getCoordinate(qt);while(At.equals2D(Ze)&&qt!==Ke);var cn=null,tr=Ke;do tr=(tr+1)%Be,cn=xe.getCoordinate(tr);while(cn.equals2D(Ze)&&tr!==Ke);if(At.equals2D(Ze)||cn.equals2D(Ze)||At.equals2D(cn))return!1;var Us=c.index(At,Ze,cn);return Us===0?At.x>cn.x:Us>0}}}])}();Ye.CLOCKWISE=-1,Ye.RIGHT=Ye.CLOCKWISE,Ye.COUNTERCLOCKWISE=1,Ye.LEFT=Ye.COUNTERCLOCKWISE,Ye.COLLINEAR=0,Ye.STRAIGHT=Ye.COLLINEAR;var On=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(c,n){var r=this.getRightmostSideOfSegment(c,n);return r<0&&(r=this.getRightmostSideOfSegment(c,n-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(c)),r}},{key:"findRightmostEdgeAtVertex",value:function(){var c=this._minDe.getEdge().getCoordinates();Pe.isTrue(this._minIndex>0&&this._minIndex<c.length,"rightmost point expected to be interior vertex of edge");var n=c[this._minIndex-1],r=c[this._minIndex+1],u=Ye.index(this._minCoord,r,n),p=!1;(n.y<this._minCoord.y&&r.y<this._minCoord.y&&u===Ye.COUNTERCLOCKWISE||n.y>this._minCoord.y&&r.y>this._minCoord.y&&u===Ye.CLOCKWISE)&&(p=!0),p&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(c,n){var r=c.getEdge().getCoordinates();if(n<0||n+1>=r.length||r[n].y===r[n+1].y)return-1;var u=M.LEFT;return r[n].y<r[n+1].y&&(u=M.RIGHT),u}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(c){for(var n=c.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(this._minCoord===null||n[r].x>this._minCoord.x)&&(this._minDe=c,this._minIndex=r,this._minCoord=n[r])}},{key:"findRightmostEdgeAtNode",value:function(){var c=this._minDe.getNode().getEdges();this._minDe=c.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();r.isForward()&&this.checkForRightmostCoordinate(r)}Pe.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===M.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),dn=function(c){function n(r,u){var p;return i(this,n),(p=a(this,n,[u?r+" [ "+u+" ]":r])).pt=u?new H(u):void 0,p.name=Object.keys({TopologyException:n})[0],p}return b(n,c),d(n,[{key:"getCoordinate",value:function(){return this.pt}}])}(Ue),Vr=function(){return d(function c(){i(this,c),this.array=[]},[{key:"addLast",value:function(c){this.array.push(c)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),We=function(c){function n(r){var u;return i(this,n),(u=a(this,n)).array=[],r instanceof q&&u.addAll(r),u}return b(n,c),d(n,[{key:"interfaces_",get:function(){return[De,q]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(r){return arguments.length===1?this.array.push(r):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(r){var u,p=m(r);try{for(p.s();!(u=p.n()).done;){var y=u.value;this.array.push(y)}}catch(k){p.e(k)}finally{p.f()}}},{key:"set",value:function(r,u){var p=this.array[r];return this.array[r]=u,p}},{key:"iterator",value:function(){return new jn(this)}},{key:"get",value:function(r){if(r<0||r>=this.size())throw new le;return this.array[r]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(r){r?this.array.sort(function(u,p){return r.compare(u,p)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(r){for(var u=0,p=this.array.length;u<p;u++)if(this.array[u]===r)return!!this.array.splice(u,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(De),jn=function(){return d(function c(n){i(this,c),this.arrayList=n,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new K;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(c){return this.arrayList.set(this.position-1,c)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),Zi=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();)c.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(c){for(var n=null,r=c.getEdges().iterator();r.hasNext();){var u=r.next();if(u.isVisited()||u.getSym().isVisited()){n=u;break}}if(n===null)throw new dn("unable to find edge to compute depths at "+c.getCoordinate());c.getEdges().computeDepths(n);for(var p=c.getEdges().iterator();p.hasNext();){var y=p.next();y.setVisited(!0),this.copySymDepths(y)}}},{key:"computeDepth",value:function(c){this.clearVisitedEdges();var n=this._finder.getEdge();n.getNode(),n.getLabel(),n.setEdgeDepths(M.RIGHT,c),this.copySymDepths(n),this.computeDepths(n)}},{key:"create",value:function(c){this.addReachable(c),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();){var n=c.next();n.getDepth(M.RIGHT)>=1&&n.getDepth(M.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}}},{key:"computeDepths",value:function(c){var n=new me,r=new Vr,u=c.getNode();for(r.addLast(u),n.add(u),c.setVisited(!0);!r.isEmpty();){var p=r.removeFirst();n.add(p),this.computeNodeDepth(p);for(var y=p.getEdges().iterator();y.hasNext();){var k=y.next().getSym();if(!k.isVisited()){var C=k.getNode();n.contains(C)||(r.addLast(C),n.add(C))}}}}},{key:"compareTo",value:function(c){var n=c;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var c=new Ce,n=this._dirEdgeList.iterator();n.hasNext();)for(var r=n.next().getEdge().getCoordinates(),u=0;u<r.length-1;u++)c.expandToInclude(r[u]);this._env=c}return this._env}},{key:"addReachable",value:function(c){var n=new ke;for(n.add(c);!n.empty();){var r=n.pop();this.add(r,n)}}},{key:"copySymDepths",value:function(c){var n=c.getSym();n.setDepth(M.LEFT,c.getDepth(M.RIGHT)),n.setDepth(M.RIGHT,c.getDepth(M.LEFT))}},{key:"add",value:function(c,n){c.setVisited(!0),this._nodes.add(c);for(var r=c.getEdges().iterator();r.hasNext();){var u=r.next();this._dirEdgeList.add(u);var p=u.getSym().getNode();p.isVisited()||n.push(p)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new We,this._nodes=new We,this._rightMostCoord=null,this._env=null,this._finder=new On}}])}(),ya=function(){return d(function c(){i(this,c)},null,[{key:"intersection",value:function(c,n,r,u){var p=c.x<n.x?c.x:n.x,y=c.y<n.y?c.y:n.y,k=c.x>n.x?c.x:n.x,C=c.y>n.y?c.y:n.y,A=r.x<u.x?r.x:u.x,V=r.y<u.y?r.y:u.y,te=r.x>u.x?r.x:u.x,se=r.y>u.y?r.y:u.y,xe=((p>A?p:A)+(k<te?k:te))/2,Be=((y>V?y:V)+(C<se?C:se))/2,Ze=c.x-xe,Ke=c.y-Be,gt=n.x-xe,lt=n.y-Be,At=r.x-xe,qt=r.y-Be,cn=u.x-xe,tr=u.y-Be,Us=Ke-lt,wi=gt-Ze,qa=Ze*lt-gt*Ke,Wa=qt-tr,es=cn-At,hu=At*tr-cn*qt,Gs=Us*es-Wa*wi,xr=(wi*hu-es*qa)/Gs,Fo=(Wa*qa-Us*hu)/Gs;return ue.isNaN(xr)||ue.isInfinite(xr)||ue.isNaN(Fo)||ue.isInfinite(Fo)?null:new H(xr+xe,Fo+Be)}}])}(),Xn=function(){return d(function c(){i(this,c)},null,[{key:"arraycopy",value:function(c,n,r,u,p){for(var y=0,k=n;k<n+p;k++)r[u+y]=c[k],y++}},{key:"getProperty",value:function(c){return{"line.separator":`
`}[c]}}])}(),Hr=function(){function c(){i(this,c)}return d(c,null,[{key:"log10",value:function(n){var r=Math.log(n);return ue.isInfinite(r)||ue.isNaN(r)?r:r/c.LOG_10}},{key:"min",value:function(n,r,u,p){var y=n;return r<y&&(y=r),u<y&&(y=u),p<y&&(y=p),y}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1],u=arguments[2];return n<r?r:n>u?u:n}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],y=arguments[1],k=arguments[2];return p<y?y:p>k?k:p}}},{key:"wrap",value:function(n,r){return n<0?r- -n%r:n%r}},{key:"max",value:function(){if(arguments.length===3){var n=arguments[1],r=arguments[2],u=arguments[0];return n>u&&(u=n),r>u&&(u=r),u}if(arguments.length===4){var p=arguments[1],y=arguments[2],k=arguments[3],C=arguments[0];return p>C&&(C=p),y>C&&(C=y),k>C&&(C=k),C}}},{key:"average",value:function(n,r){return(n+r)/2}}])}();Hr.LOG_10=Math.log(10);var oi=function(){function c(){i(this,c)}return d(c,null,[{key:"segmentToSegment",value:function(n,r,u,p){if(n.equals(r))return c.pointToSegment(n,u,p);if(u.equals(p))return c.pointToSegment(p,n,r);var y=!1;if(Ce.intersects(n,r,u,p)){var k=(r.x-n.x)*(p.y-u.y)-(r.y-n.y)*(p.x-u.x);if(k===0)y=!0;else{var C=(n.y-u.y)*(p.x-u.x)-(n.x-u.x)*(p.y-u.y),A=((n.y-u.y)*(r.x-n.x)-(n.x-u.x)*(r.y-n.y))/k,V=C/k;(V<0||V>1||A<0||A>1)&&(y=!0)}}else y=!0;return y?Hr.min(c.pointToSegment(n,u,p),c.pointToSegment(r,u,p),c.pointToSegment(u,n,r),c.pointToSegment(p,n,r)):0}},{key:"pointToSegment",value:function(n,r,u){if(r.x===u.x&&r.y===u.y)return n.distance(r);var p=(u.x-r.x)*(u.x-r.x)+(u.y-r.y)*(u.y-r.y),y=((n.x-r.x)*(u.x-r.x)+(n.y-r.y)*(u.y-r.y))/p;if(y<=0)return n.distance(r);if(y>=1)return n.distance(u);var k=((r.y-n.y)*(u.x-r.x)-(r.x-n.x)*(u.y-r.y))/p;return Math.abs(k)*Math.sqrt(p)}},{key:"pointToLinePerpendicular",value:function(n,r,u){var p=(u.x-r.x)*(u.x-r.x)+(u.y-r.y)*(u.y-r.y),y=((r.y-n.y)*(u.x-r.x)-(r.x-n.x)*(u.y-r.y))/p;return Math.abs(y)*Math.sqrt(p)}},{key:"pointToSegmentString",value:function(n,r){if(r.length===0)throw new W("Line array must contain at least one vertex");for(var u=n.distance(r[0]),p=0;p<r.length-1;p++){var y=c.pointToSegment(n,r[p],r[p+1]);y<u&&(u=y)}return u}}])}(),ba=function(){return d(function c(){i(this,c)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||j(arguments[0],je);else if(arguments.length!==2){if(arguments.length===3){var c=arguments[0],n=arguments[1];return this.create(c,n)}}}}])}(),vo=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}(),eh=function(){return d(function c(){i(this,c)},null,[{key:"ofLine",value:function(c){var n=c.size();if(n<=1)return 0;var r=0,u=new H;c.getCoordinate(0,u);for(var p=u.x,y=u.y,k=1;k<n;k++){c.getCoordinate(k,u);var C=u.x,A=u.y,V=C-p,te=A-y;r+=Math.sqrt(V*V+te*te),p=C,y=A}return r}}])}(),Zl=d(function c(){i(this,c)}),_r=function(){function c(){i(this,c)}return d(c,null,[{key:"copyCoord",value:function(n,r,u,p){for(var y=Math.min(n.getDimension(),u.getDimension()),k=0;k<y;k++)u.setOrdinate(p,k,n.getOrdinate(r,k))}},{key:"isRing",value:function(n){var r=n.size();return r===0||!(r<=3)&&n.getOrdinate(0,je.X)===n.getOrdinate(r-1,je.X)&&n.getOrdinate(0,je.Y)===n.getOrdinate(r-1,je.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(j(arguments[0],je)&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1];c.scroll(n,r,c.isRing(n))}else if(j(arguments[0],je)&&arguments[1]instanceof H){var u=arguments[0],p=arguments[1],y=c.indexOf(p,u);if(y<=0)return null;c.scroll(u,y)}}else if(arguments.length===3){var k=arguments[0],C=arguments[1],A=arguments[2];if(C<=0)return null;for(var V=k.copy(),te=A?k.size()-1:k.size(),se=0;se<te;se++)for(var xe=0;xe<k.getDimension();xe++)k.setOrdinate(se,xe,V.getOrdinate((C+se)%te,xe));if(A)for(var Be=0;Be<k.getDimension();Be++)k.setOrdinate(te,Be,k.getOrdinate(0,Be))}}},{key:"isEqual",value:function(n,r){var u=n.size();if(u!==r.size())return!1;for(var p=Math.min(n.getDimension(),r.getDimension()),y=0;y<u;y++)for(var k=0;k<p;k++){var C=n.getOrdinate(y,k),A=r.getOrdinate(y,k);if(n.getOrdinate(y,k)!==r.getOrdinate(y,k)&&(!ue.isNaN(C)||!ue.isNaN(A)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var n=arguments[0];return c.minCoordinateIndex(n,0,n.size()-1)}if(arguments.length===3){for(var r=arguments[0],u=arguments[2],p=-1,y=null,k=arguments[1];k<=u;k++){var C=r.getCoordinate(k);(y===null||y.compareTo(C)>0)&&(y=C,p=k)}return p}}},{key:"extend",value:function(n,r,u){var p=n.create(u,r.getDimension()),y=r.size();if(c.copy(r,0,p,0,y),y>0)for(var k=y;k<u;k++)c.copy(r,y-1,p,k,1);return p}},{key:"reverse",value:function(n){for(var r=n.size()-1,u=Math.trunc(r/2),p=0;p<=u;p++)c.swap(n,p,r-p)}},{key:"swap",value:function(n,r,u){if(r===u)return null;for(var p=0;p<n.getDimension();p++){var y=n.getOrdinate(r,p);n.setOrdinate(r,p,n.getOrdinate(u,p)),n.setOrdinate(u,p,y)}}},{key:"copy",value:function(n,r,u,p,y){for(var k=0;k<y;k++)c.copyCoord(n,r+k,u,p+k)}},{key:"ensureValidRing",value:function(n,r){var u=r.size();return u===0?r:u<=3?c.createClosedRing(n,r,4):r.getOrdinate(0,je.X)===r.getOrdinate(u-1,je.X)&&r.getOrdinate(0,je.Y)===r.getOrdinate(u-1,je.Y)?r:c.createClosedRing(n,r,u+1)}},{key:"indexOf",value:function(n,r){for(var u=0;u<r.size();u++)if(n.x===r.getOrdinate(u,je.X)&&n.y===r.getOrdinate(u,je.Y))return u;return-1}},{key:"createClosedRing",value:function(n,r,u){var p=n.create(u,r.getDimension()),y=r.size();c.copy(r,0,p,0,y);for(var k=y;k<u;k++)c.copy(r,0,p,k,1);return p}},{key:"minCoordinate",value:function(n){for(var r=null,u=0;u<n.size();u++){var p=n.getCoordinate(u);(r===null||r.compareTo(p)>0)&&(r=p)}return r}}])}(),Re=function(){function c(){i(this,c)}return d(c,null,[{key:"toDimensionSymbol",value:function(n){switch(n){case c.FALSE:return c.SYM_FALSE;case c.TRUE:return c.SYM_TRUE;case c.DONTCARE:return c.SYM_DONTCARE;case c.P:return c.SYM_P;case c.L:return c.SYM_L;case c.A:return c.SYM_A}throw new W("Unknown dimension value: "+n)}},{key:"toDimensionValue",value:function(n){switch(Qe.toUpperCase(n)){case c.SYM_FALSE:return c.FALSE;case c.SYM_TRUE:return c.TRUE;case c.SYM_DONTCARE:return c.DONTCARE;case c.SYM_P:return c.P;case c.SYM_L:return c.L;case c.SYM_A:return c.A}throw new W("Unknown dimension symbol: "+n)}}])}();Re.P=0,Re.L=1,Re.A=2,Re.FALSE=-1,Re.TRUE=-2,Re.DONTCARE=-3,Re.SYM_FALSE="F",Re.SYM_TRUE="T",Re.SYM_DONTCARE="*",Re.SYM_P="0",Re.SYM_L="1",Re.SYM_A="2";var _o=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c){}}])}(),qr=function(){return d(function c(){i(this,c)},[{key:"filter",value:function(c,n){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),Cs=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Ce:this._points.expandEnvelope(new Ce)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ie){var r=arguments[0],u=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._points.size()!==p._points.size())return!1;for(var y=0;y<this._points.size();y++)if(!this.equal(this._points.getCoordinate(y),p._points.getCoordinate(y),u))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<Math.trunc(this._points.size()/2);r++){var u=this._points.size()-1-r;if(!this._points.getCoordinate(r).equals(this._points.getCoordinate(u))){if(this._points.getCoordinate(r).compareTo(this._points.getCoordinate(u))>0){var p=this._points.copy();_r.reverse(p),this._points=p}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Re.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var r=this._points.copy();return _r.reverse(r),this.getFactory().createLineString(r)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return eh.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var r=arguments[0],u=0,p=0;u<this._points.size()&&p<r._points.size();){var y=this._points.getCoordinate(u).compareTo(r._points.getCoordinate(p));if(y!==0)return y;u++,p++}return u<this._points.size()?1:p<r._points.size()?-1:0}if(arguments.length===2){var k=arguments[0];return arguments[1].compare(this._points,k._points)}}},{key:"apply",value:function(){if(j(arguments[0],vo))for(var r=arguments[0],u=0;u<this._points.size();u++)r.filter(this._points.getCoordinate(u));else if(j(arguments[0],qr)){var p=arguments[0];if(this._points.size()===0)return null;for(var y=0;y<this._points.size()&&(p.filter(this._points,y),!p.isDone());y++);p.isGeometryChanged()&&this.geometryChanged()}else j(arguments[0],_o)?arguments[0].filter(this):j(arguments[0],G)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new ce}},{key:"isEquivalentClass",value:function(r){return r instanceof n}},{key:"getCoordinateN",value:function(r){return this._points.getCoordinate(r)}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new W("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r}},{key:"isCoordinate",value:function(r){for(var u=0;u<this._points.size();u++)if(this._points.getCoordinate(u).equals(r))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))}},{key:"interfaces_",get:function(){return[Zl]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],u=arguments[1];Ie.constructor_.call(this,u),this.init(r)}}}}])}(Ie),Yl=d(function c(){i(this,c)}),wa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Ce;var r=new Ce;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ie){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&(!(!this.isEmpty()||!r.isEmpty())||this.isEmpty()===r.isEmpty()&&this.equal(r.getCoordinate(),this.getCoordinate(),u))}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Re.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0];return this.getCoordinate().compareTo(r.getCoordinate())}if(arguments.length===2){var u=arguments[0];return arguments[1].compare(this._coordinates,u._coordinates)}}},{key:"apply",value:function(){if(j(arguments[0],vo)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(j(arguments[0],qr)){var u=arguments[0];if(this.isEmpty())return null;u.filter(this._coordinates,0),u.isGeometryChanged()&&this.geometryChanged()}else j(arguments[0],_o)?arguments[0].filter(this):j(arguments[0],G)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),Pe.isTrue(r.size()<=1),this._coordinates=r}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Yl]}}],[{key:"constructor_",value:function(){this._coordinates=null;var r=arguments[0],u=arguments[1];Ie.constructor_.call(this,u),this.init(r)}}])}(Ie),jl=function(){function c(){i(this,c)}return d(c,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];return Math.abs(c.ofRingSigned(n))}if(j(arguments[0],je)){var r=arguments[0];return Math.abs(c.ofRingSigned(r))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];if(n.length<3)return 0;for(var r=0,u=n[0].x,p=1;p<n.length-1;p++){var y=n[p].x-u,k=n[p+1].y;r+=y*(n[p-1].y-k)}return r/2}if(j(arguments[0],je)){var C=arguments[0],A=C.size();if(A<3)return 0;var V=new H,te=new H,se=new H;C.getCoordinate(0,te),C.getCoordinate(1,se);var xe=te.x;se.x-=xe;for(var Be=0,Ze=1;Ze<A-1;Ze++)V.y=te.y,te.x=se.x,te.y=se.y,C.getCoordinate(Ze+1,se),se.x-=xe,Be+=te.x*(V.y-se.y);return Be/2}}}])}(),pn=function(){return d(function c(){i(this,c)},null,[{key:"sort",value:function(){var c=arguments,n=arguments[0];if(arguments.length===1)n.sort(function(xe,Be){return xe.compareTo(Be)});else if(arguments.length===2)n.sort(function(xe,Be){return c[1].compare(xe,Be)});else if(arguments.length===3){var r=n.slice(arguments[1],arguments[2]);r.sort();var u=n.slice(0,arguments[1]).concat(r,n.slice(arguments[2],n.length));n.splice(0,n.length);var p,y=m(u);try{for(y.s();!(p=y.n()).done;){var k=p.value;n.push(k)}}catch(xe){y.e(xe)}finally{y.f()}}else if(arguments.length===4){var C=n.slice(arguments[1],arguments[2]);C.sort(function(xe,Be){return c[3].compare(xe,Be)});var A=n.slice(0,arguments[1]).concat(C,n.slice(arguments[2],n.length));n.splice(0,n.length);var V,te=m(A);try{for(te.s();!(V=te.n()).done;){var se=V.value;n.push(se)}}catch(xe){te.e(xe)}finally{te.f()}}}},{key:"asList",value:function(c){var n,r=new We,u=m(c);try{for(u.s();!(n=u.n()).done;){var p=n.value;r.add(p)}}catch(y){u.e(y)}finally{u.f()}return r}},{key:"copyOf",value:function(c,n){return c.slice(0,n)}}])}(),Xe=d(function c(){i(this,c)}),Is=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var r=new Array(this.getNumPoints()).fill(null),u=-1,p=this._shell.getCoordinates(),y=0;y<p.length;y++)r[++u]=p[y];for(var k=0;k<this._holes.length;k++)for(var C=this._holes[k].getCoordinates(),A=0;A<C.length;A++)r[++u]=C[A];return r}},{key:"getArea",value:function(){var r=0;r+=jl.ofRing(this._shell.getCoordinateSequence());for(var u=0;u<this._holes.length;u++)r-=jl.ofRing(this._holes[u].getCoordinateSequence());return r}},{key:"copyInternal",value:function(){for(var r=this._shell.copy(),u=new Array(this._holes.length).fill(null),p=0;p<this._holes.length;p++)u[p]=this._holes[p].copy();return new n(r,u,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),u=this.getEnvelopeInternal(),p=0;p<5;p++){var y=r.getX(p);if(y!==u.getMinX()&&y!==u.getMaxX())return!1;var k=r.getY(p);if(k!==u.getMinY()&&k!==u.getMaxY())return!1}for(var C=r.getX(0),A=r.getY(0),V=1;V<=4;V++){var te=r.getX(V),se=r.getY(V);if(te!==C==(se!==A))return!1;C=te,A=se}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ie){var r=arguments[0],u=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r,y=this._shell,k=p._shell;if(!y.equalsExact(k,u)||this._holes.length!==p._holes.length)return!1;for(var C=0;C<this._holes.length;C++)if(!this._holes[C].equalsExact(p._holes[C],u))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var r=0;r<this._holes.length;r++)this._holes[r]=this.normalized(this._holes[r],!1);pn.sort(this._holes)}else if(arguments.length===2){var u=arguments[0],p=arguments[1];if(u.isEmpty())return null;var y=u.getCoordinateSequence(),k=_r.minCoordinateIndex(y,0,y.size()-2);_r.scroll(y,k,!0),Ye.isCCW(y)===p&&_r.reverse(y)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var r=this.getExteriorRing().reverse(),u=new Array(this.getNumInteriorRing()).fill(null),p=0;p<u.length;p++)u[p]=this.getInteriorRingN(p).reverse();return this.getFactory().createPolygon(r,u)}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var r=0;r+=this._shell.getLength();for(var u=0;u<this._holes.length;u++)r+=this._holes[u].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=this._shell.getNumPoints(),u=0;u<this._holes.length;u++)r+=this._holes[u].getNumPoints();return r}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(r,u){var p=r.copy();return this.normalize(p,u),p}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],u=this._shell,p=r._shell;return u.compareToSameClass(p)}if(arguments.length===2){var y=arguments[1],k=arguments[0],C=this._shell,A=k._shell,V=C.compareToSameClass(A,y);if(V!==0)return V;for(var te=this.getNumInteriorRing(),se=k.getNumInteriorRing(),xe=0;xe<te&&xe<se;){var Be=this.getInteriorRingN(xe),Ze=k.getInteriorRingN(xe),Ke=Be.compareToSameClass(Ze,y);if(Ke!==0)return Ke;xe++}return xe<te?1:xe<se?-1:0}}},{key:"apply",value:function(){if(j(arguments[0],vo)){var r=arguments[0];this._shell.apply(r);for(var u=0;u<this._holes.length;u++)this._holes[u].apply(r)}else if(j(arguments[0],qr)){var p=arguments[0];if(this._shell.apply(p),!p.isDone())for(var y=0;y<this._holes.length&&(this._holes[y].apply(p),!p.isDone());y++);p.isGeometryChanged()&&this.geometryChanged()}else if(j(arguments[0],_o))arguments[0].filter(this);else if(j(arguments[0],G)){var k=arguments[0];k.filter(this),this._shell.apply(k);for(var C=0;C<this._holes.length;C++)this._holes[C].apply(k)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var r=new Array(this._holes.length+1).fill(null);r[0]=this._shell;for(var u=0;u<this._holes.length;u++)r[u+1]=this._holes[u];return r.length<=1?this.getFactory().createLinearRing(r[0].getCoordinateSequence()):this.getFactory().createMultiLineString(r)}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(r){return this._holes[r]}},{key:"interfaces_",get:function(){return[Xe]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var r=arguments[0],u=arguments[1],p=arguments[2];if(Ie.constructor_.call(this,p),r===null&&(r=this.getFactory().createLinearRing()),u===null&&(u=[]),Ie.hasNullElements(u))throw new W("holes must not contain null elements");if(r.isEmpty()&&Ie.hasNonEmptyElements(u))throw new W("shell is empty but holes are not");this._shell=r,this._holes=u}}])}(Ie),Xl=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n)}(ve),La=function(c){function n(r){var u;return i(this,n),(u=a(this,n)).array=[],r instanceof q&&u.addAll(r),u}return b(n,c),d(n,[{key:"contains",value:function(r){var u,p=m(this.array);try{for(p.s();!(u=p.n()).done;)if(u.value.compareTo(r)===0)return!0}catch(y){p.e(y)}finally{p.f()}return!1}},{key:"add",value:function(r){if(this.contains(r))return!1;for(var u=0,p=this.array.length;u<p;u++)if(this.array[u].compareTo(r)===1)return!!this.array.splice(u,0,r);return this.array.push(r),!0}},{key:"addAll",value:function(r){var u,p=m(r);try{for(p.s();!(u=p.n()).done;){var y=u.value;this.add(y)}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new ce}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Kl(this.array)}}])}(Xl),Kl=function(){return d(function c(n){i(this,c),this.array=n,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new K;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new ce}}])}(),wn=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeEnvelopeInternal",value:function(){for(var r=new Ce,u=0;u<this._geometries.length;u++)r.expandToInclude(this._geometries[u].getEnvelopeInternal());return r}},{key:"getGeometryN",value:function(r){return this._geometries[r]}},{key:"getCoordinates",value:function(){for(var r=new Array(this.getNumPoints()).fill(null),u=-1,p=0;p<this._geometries.length;p++)for(var y=this._geometries[p].getCoordinates(),k=0;k<y.length;k++)r[++u]=y[k];return r}},{key:"getArea",value:function(){for(var r=0,u=0;u<this._geometries.length;u++)r+=this._geometries[u].getArea();return r}},{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ie){var r=arguments[0],u=arguments[1];if(!this.isEquivalentClass(r))return!1;var p=r;if(this._geometries.length!==p._geometries.length)return!1;for(var y=0;y<this._geometries.length;y++)if(!this._geometries[y].equalsExact(p._geometries[y],u))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var r=0;r<this._geometries.length;r++)this._geometries[r].normalize();pn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var r=Re.FALSE,u=0;u<this._geometries.length;u++)r=Math.max(r,this._geometries[u].getBoundaryDimension());return r}},{key:"reverseInternal",value:function(){for(var r=this._geometries.length,u=new We(r),p=0;p<r;p++)u.add(this._geometries[p].reverse());return this.getFactory().buildGeometry(u)}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var r=Re.FALSE,u=0;u<this._geometries.length;u++)r=Math.max(r,this._geometries[u].getDimension());return r}},{key:"getLength",value:function(){for(var r=0,u=0;u<this._geometries.length;u++)r+=this._geometries[u].getLength();return r}},{key:"getNumPoints",value:function(){for(var r=0,u=0;u<this._geometries.length;u++)r+=this._geometries[u].getNumPoints();return r}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var r=arguments[0],u=new La(pn.asList(this._geometries)),p=new La(pn.asList(r._geometries));return this.compare(u,p)}if(arguments.length===2){for(var y=arguments[1],k=arguments[0],C=this.getNumGeometries(),A=k.getNumGeometries(),V=0;V<C&&V<A;){var te=this.getGeometryN(V),se=k.getGeometryN(V),xe=te.compareToSameClass(se,y);if(xe!==0)return xe;V++}return V<C?1:V<A?-1:0}}},{key:"apply",value:function(){if(j(arguments[0],vo))for(var r=arguments[0],u=0;u<this._geometries.length;u++)this._geometries[u].apply(r);else if(j(arguments[0],qr)){var p=arguments[0];if(this._geometries.length===0)return null;for(var y=0;y<this._geometries.length&&(this._geometries[y].apply(p),!p.isDone());y++);p.isGeometryChanged()&&this.geometryChanged()}else if(j(arguments[0],_o)){var k=arguments[0];k.filter(this);for(var C=0;C<this._geometries.length;C++)this._geometries[C].apply(k)}else if(j(arguments[0],G)){var A=arguments[0];A.filter(this);for(var V=0;V<this._geometries.length;V++)this._geometries[V].apply(A)}}},{key:"getBoundary",value:function(){return Ie.checkNotGeometryCollection(this),Pe.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],u=arguments[1];if(Ie.constructor_.call(this,u),r===null&&(r=[]),Ie.hasNullElements(r))throw new W("geometries must not contain null elements");this._geometries=r}}}}])}(Ie),yo=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ie){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&I(n,"equalsExact",this,1).call(this,r,u)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var r=arguments[0];return this._geometries[r].getCoordinate()}return I(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Re.FALSE}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Yl]}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];wn.constructor_.call(this,r,u)}}])}(wn),di=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Re.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||I(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var r=this._points.copy();return _r.reverse(r),this.getFactory().createLinearRing(r)}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!I(n,"isClosed",this,1).call(this))throw new W("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new W("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];Cs.constructor_.call(this,r,u),this.validateConstruction()}}])}(Cs);di.MINIMUM_VALID_SIZE=4;var Yi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"setOrdinate",value:function(r,u){switch(r){case n.X:this.x=u;break;case n.Y:this.y=u;break;default:throw new W("Invalid ordinate index: "+r)}}},{key:"getZ",value:function(){return H.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y}throw new W("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new W("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)H.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];H.constructor_.call(this,r.x,r.y)}else if(arguments[0]instanceof H){var u=arguments[0];H.constructor_.call(this,u.x,u.y)}}else if(arguments.length===2){var p=arguments[0],y=arguments[1];H.constructor_.call(this,p,y,H.NULL_ORDINATE)}}}])}(H);Yi.X=0,Yi.Y=1,Yi.Z=-1,Yi.M=-1;var yr=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,u){switch(r){case n.X:this.x=u;break;case n.Y:this.y=u;break;case n.M:this._m=u;break;default:throw new W("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getZ",value:function(){return H.NULL_ORDINATE}},{key:"getOrdinate",value:function(r){switch(r){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new W("Invalid ordinate index: "+r)}},{key:"setZ",value:function(r){throw new W("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)H.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];H.constructor_.call(this,r.x,r.y),this._m=r._m}else if(arguments[0]instanceof H){var u=arguments[0];H.constructor_.call(this,u.x,u.y),this._m=this.getM()}}else if(arguments.length===3){var p=arguments[0],y=arguments[1],k=arguments[2];H.constructor_.call(this,p,y,H.NULL_ORDINATE),this._m=k}}}])}(H);yr.X=0,yr.Y=1,yr.Z=-1,yr.M=2;var Ea=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(r,u){switch(r){case H.X:this.x=u;break;case H.Y:this.y=u;break;case H.Z:this.z=u;break;case H.M:this._m=u;break;default:throw new W("Invalid ordinate index: "+r)}}},{key:"setM",value:function(r){this._m=r}},{key:"getOrdinate",value:function(r){switch(r){case H.X:return this.x;case H.Y:return this.y;case H.Z:return this.getZ();case H.M:return this.getM()}throw new W("Invalid ordinate index: "+r)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(r){this.x=r.x,this.y=r.y,this.z=r.getZ(),this._m=r.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)H.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var r=arguments[0];H.constructor_.call(this,r),this._m=r._m}else if(arguments[0]instanceof H){var u=arguments[0];H.constructor_.call(this,u),this._m=this.getM()}}else if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],C=arguments[3];H.constructor_.call(this,p,y,k),this._m=C}}}])}(H),bo=function(){function c(){i(this,c)}return d(c,null,[{key:"measures",value:function(n){return n instanceof Yi?0:n instanceof yr||n instanceof Ea?1:0}},{key:"dimension",value:function(n){return n instanceof Yi?2:n instanceof yr?3:n instanceof Ea?4:3}},{key:"create",value:function(){if(arguments.length===1){var n=arguments[0];return c.create(n,0)}if(arguments.length===2){var r=arguments[0],u=arguments[1];return r===2?new Yi:r===3&&u===0?new H:r===3&&u===1?new yr:r===4&&u===1?new Ea:new H}}}])}(),Ps=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getCoordinate",value:function(r){return this.get(r)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&j(arguments[0],q)){for(var r=arguments[1],u=!1,p=arguments[0].iterator();p.hasNext();)this.add(p.next(),r),u=!0;return u}return I(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var r=I(n,"clone",this,1).call(this),u=0;u<this.size();u++)r.add(u,this.get(u).clone());return r}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(n.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(n.coordArrayType);for(var r=this.size(),u=new Array(r).fill(null),p=0;p<r;p++)u[p]=this.get(r-p-1);return u}}},{key:"add",value:function(){if(arguments.length===1){var r=arguments[0];return I(n,"add",this,1).call(this,r)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var u=arguments[0],p=arguments[1];return this.add(u,p,!0),!0}if(arguments[0]instanceof H&&typeof arguments[1]=="boolean"){var y=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(y))return null;I(n,"add",this,1).call(this,y)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var k=arguments[0],C=arguments[1];return this.add(k,C),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var A=arguments[0],V=arguments[1];if(arguments[2])for(var te=0;te<A.length;te++)this.add(A[te],V);else for(var se=A.length-1;se>=0;se--)this.add(A[se],V);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof H){var xe=arguments[0],Be=arguments[1];if(!arguments[2]){var Ze=this.size();if(Ze>0&&(xe>0&&this.get(xe-1).equals2D(Be)||xe<Ze&&this.get(xe).equals2D(Be)))return null}I(n,"add",this,1).call(this,xe,Be)}}else if(arguments.length===4){var Ke=arguments[0],gt=arguments[1],lt=arguments[2],At=arguments[3],qt=1;lt>At&&(qt=-1);for(var cn=lt;cn!==At;cn+=qt)this.add(Ke[cn],gt);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var r=this.get(0).copy();this.add(r,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.ensureCapacity(u.length),this.add(u,p)}}}}])}(We);Ps.coordArrayType=new Array(0).fill(null);var Xt=function(){function c(){i(this,c)}return d(c,null,[{key:"isRing",value:function(n){return!(n.length<4)&&!!n[0].equals2D(n[n.length-1])}},{key:"ptNotInList",value:function(n,r){for(var u=0;u<n.length;u++){var p=n[u];if(c.indexOf(p,r)<0)return p}return null}},{key:"scroll",value:function(n,r){var u=c.indexOf(r,n);if(u<0)return null;var p=new Array(n.length).fill(null);Xn.arraycopy(n,u,p,0,n.length-u),Xn.arraycopy(n,0,p,n.length-u,u),Xn.arraycopy(p,0,n,0,n.length)}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];if(n===r)return!0;if(n===null||r===null||n.length!==r.length)return!1;for(var u=0;u<n.length;u++)if(!n[u].equals(r[u]))return!1;return!0}if(arguments.length===3){var p=arguments[0],y=arguments[1],k=arguments[2];if(p===y)return!0;if(p===null||y===null||p.length!==y.length)return!1;for(var C=0;C<p.length;C++)if(k.compare(p[C],y[C])!==0)return!1;return!0}}},{key:"intersection",value:function(n,r){for(var u=new Ps,p=0;p<n.length;p++)r.intersects(n[p])&&u.add(n[p],!0);return u.toCoordinateArray()}},{key:"measures",value:function(n){if(n===null||n.length===0)return 0;var r,u=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var y=r.value;u=Math.max(u,bo.measures(y))}}catch(k){p.e(k)}finally{p.f()}return u}},{key:"hasRepeatedPoints",value:function(n){for(var r=1;r<n.length;r++)if(n[r-1].equals(n[r]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(n){return c.hasRepeatedPoints(n)?new Ps(n,!1).toCoordinateArray():n}},{key:"reverse",value:function(n){for(var r=n.length-1,u=Math.trunc(r/2),p=0;p<=u;p++){var y=n[p];n[p]=n[r-p],n[r-p]=y}}},{key:"removeNull",value:function(n){for(var r=0,u=0;u<n.length;u++)n[u]!==null&&r++;var p=new Array(r).fill(null);if(r===0)return p;for(var y=0,k=0;k<n.length;k++)n[k]!==null&&(p[y++]=n[k]);return p}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var n=arguments[0],r=new Array(n.length).fill(null),u=0;u<n.length;u++)r[u]=n[u].copy();return r}if(arguments.length===5)for(var p=arguments[0],y=arguments[1],k=arguments[2],C=arguments[3],A=arguments[4],V=0;V<A;V++)k[C+V]=p[y+V].copy()}},{key:"isEqualReversed",value:function(n,r){for(var u=0;u<n.length;u++){var p=n[u],y=r[n.length-u-1];if(p.compareTo(y)!==0)return!1}return!0}},{key:"envelope",value:function(n){for(var r=new Ce,u=0;u<n.length;u++)r.expandToInclude(n[u]);return r}},{key:"toCoordinateArray",value:function(n){return n.toArray(c.coordArrayType)}},{key:"dimension",value:function(n){if(n===null||n.length===0)return 3;var r,u=0,p=m(n);try{for(p.s();!(r=p.n()).done;){var y=r.value;u=Math.max(u,bo.dimension(y))}}catch(k){p.e(k)}finally{p.f()}return u}},{key:"atLeastNCoordinatesOrNothing",value:function(n,r){return r.length>=n?r:[]}},{key:"indexOf",value:function(n,r){for(var u=0;u<r.length;u++)if(n.equals(r[u]))return u;return-1}},{key:"increasingDirection",value:function(n){for(var r=0;r<Math.trunc(n.length/2);r++){var u=n.length-1-r,p=n[r].compareTo(n[u]);if(p!==0)return p}return 1}},{key:"compare",value:function(n,r){for(var u=0;u<n.length&&u<r.length;){var p=n[u].compareTo(r[u]);if(p!==0)return p;u++}return u<r.length?-1:u<n.length?1:0}},{key:"minCoordinate",value:function(n){for(var r=null,u=0;u<n.length;u++)(r===null||r.compareTo(n[u])>0)&&(r=n[u]);return r}},{key:"extract",value:function(n,r,u){r=Hr.clamp(r,0,n.length);var p=(u=Hr.clamp(u,-1,n.length))-r+1;u<0&&(p=0),r>=n.length&&(p=0),u<r&&(p=0);var y=new Array(p).fill(null);if(p===0)return y;for(var k=0,C=r;C<=u;C++)y[k++]=n[C];return y}}])}(),th=function(){return d(function c(){i(this,c)},[{key:"compare",value:function(c,n){var r=c,u=n;return Xt.compare(r,u)}},{key:"interfaces_",get:function(){return[Ae]}}])}(),wo=function(){return d(function c(){i(this,c)},[{key:"compare",value:function(c,n){var r=c,u=n;if(r.length<u.length)return-1;if(r.length>u.length)return 1;if(r.length===0)return 0;var p=Xt.compare(r,u);return Xt.isEqualReversed(r,u)?0:p}},{key:"OLDcompare",value:function(c,n){var r=c,u=n;if(r.length<u.length)return-1;if(r.length>u.length)return 1;if(r.length===0)return 0;for(var p=Xt.increasingDirection(r),y=Xt.increasingDirection(u),k=p>0?0:r.length-1,C=y>0?0:r.length-1,A=0;A<r.length;A++){var V=r[k].compareTo(u[C]);if(V!==0)return V;k+=p,C+=y}return 0}},{key:"interfaces_",get:function(){return[Ae]}}])}();Xt.ForwardComparator=th,Xt.BidirectionalComparator=wo,Xt.coordArrayType=new Array(0).fill(null);var Lo=function(){return d(function c(n){i(this,c),this.str=n},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,n){this.str=this.str.substr(0,c)+n+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),Ns=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getM",value:function(n){return this.hasM()?this._coordinates[n].getM():ue.NaN}},{key:"setOrdinate",value:function(n,r,u){switch(r){case je.X:this._coordinates[n].x=u;break;case je.Y:this._coordinates[n].y=u;break;default:this._coordinates[n].setOrdinate(r,u)}}},{key:"getZ",value:function(n){return this.hasZ()?this._coordinates[n].getZ():ue.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(n,r){switch(r){case je.X:return this._coordinates[n].x;case je.Y:return this._coordinates[n].y;default:return this._coordinates[n].getOrdinate(r)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var n=arguments[0];return this._coordinates[n]}if(arguments.length===2){var r=arguments[0];arguments[1].setCoordinate(this._coordinates[r])}}},{key:"getCoordinateCopy",value:function(n){var r=this.createCoordinate();return r.setCoordinate(this._coordinates[n]),r}},{key:"createCoordinate",value:function(){return bo.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(n){return this._coordinates[n].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(n){for(var r=0;r<this._coordinates.length;r++)n.expandToInclude(this._coordinates[r]);return n}},{key:"copy",value:function(){for(var n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++){var u=this.createCoordinate();u.setCoordinate(this._coordinates[r]),n[r]=u}return new c(n,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var n=new Lo(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)n.append(", "),n.append(this._coordinates[r]);return n.append(")"),n.toString()}return"()"}},{key:"getY",value:function(n){return this._coordinates[n].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[je,Z]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];c.constructor_.call(this,n,Xt.dimension(n),Xt.measures(n))}else if(Number.isInteger(arguments[0])){var r=arguments[0];this._coordinates=new Array(r).fill(null);for(var u=0;u<r;u++)this._coordinates[u]=new H}else if(j(arguments[0],je)){var p=arguments[0];if(p===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=p.getDimension(),this._measures=p.getMeasures(),this._coordinates=new Array(p.size()).fill(null);for(var y=0;y<this._coordinates.length;y++)this._coordinates[y]=p.getCoordinateCopy(y)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var k=arguments[0],C=arguments[1];c.constructor_.call(this,k,C,Xt.measures(k))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var A=arguments[0],V=arguments[1];this._coordinates=new Array(A).fill(null),this._dimension=V;for(var te=0;te<A;te++)this._coordinates[te]=bo.create(V)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var se=arguments[0],xe=arguments[1],Be=arguments[2];this._dimension=xe,this._measures=Be,this._coordinates=se===null?new Array(0).fill(null):se}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Ze=arguments[0],Ke=arguments[1],gt=arguments[2];this._coordinates=new Array(Ze).fill(null),this._dimension=Ke,this._measures=gt;for(var lt=0;lt<Ze;lt++)this._coordinates[lt]=this.createCoordinate()}}}}])}(),ka=function(){function c(){i(this,c)}return d(c,[{key:"readResolve",value:function(){return c.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Ns(arguments[0]);if(j(arguments[0],je))return new Ns(arguments[0])}else{if(arguments.length===2){var n=arguments[1];return n>3&&(n=3),n<2&&(n=2),new Ns(arguments[0],n)}if(arguments.length===3){var r=arguments[2],u=arguments[1]-r;return r>1&&(r=1),u>3&&(u=3),u<2&&(u=2),new Ns(arguments[0],u+r,r)}}}},{key:"interfaces_",get:function(){return[ba,Z]}}],[{key:"instance",value:function(){return c.instanceObject}}])}();ka.instanceObject=new ka;var xa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ie){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&I(n,"equalsExact",this,1).call(this,r,u)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var r=new We,u=0;u<this._geometries.length;u++)for(var p=this._geometries[u].getBoundary(),y=0;y<p.getNumGeometries();y++)r.add(p.getGeometryN(y));var k=new Array(r.size()).fill(null);return this.getFactory().createMultiLineString(r.toArray(k))}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Xe]}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];wn.constructor_.call(this,r,u)}}])}(wn),Jl=function(){return d(function c(){i(this,c)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),Ta=function(c){function n(){var r;return i(this,n),(r=a(this,n)).map=new Map,r}return b(n,c),d(n,[{key:"get",value:function(r){return this.map.get(r)||null}},{key:"put",value:function(r,u){return this.map.set(r,u),u}},{key:"values",value:function(){for(var r=new We,u=this.map.values(),p=u.next();!p.done;)r.add(p.value),p=u.next();return r}},{key:"entrySet",value:function(){var r=new me;return this.map.entries().forEach(function(u){return r.add(u)}),r}},{key:"size",value:function(){return this.map.size()}}])}(Jl),Ln=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this._modelType===r._modelType&&this._scale===r._scale}},{key:"compareTo",value:function(n){var r=n,u=this.getMaximumSignificantDigits(),p=r.getMaximumSignificantDigits();return Ge.compare(u,p)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===c.FLOATING||this._modelType===c.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var n="UNKNOWN";return this._modelType===c.FLOATING?n="Floating":this._modelType===c.FLOATING_SINGLE?n="Floating-Single":this._modelType===c.FIXED&&(n="Fixed (Scale="+this.getScale()+")"),n}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var n=arguments[0];return ue.isNaN(n)||this._modelType===c.FLOATING_SINGLE?n:this._modelType===c.FIXED?Math.round(n*this._scale)/this._scale:n}if(arguments[0]instanceof H){var r=arguments[0];if(this._modelType===c.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}}},{key:"getMaximumSignificantDigits",value:function(){var n=16;return this._modelType===c.FLOATING?n=16:this._modelType===c.FLOATING_SINGLE?n=6:this._modelType===c.FIXED&&(n=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),n}},{key:"setScale",value:function(n){this._scale=Math.abs(n)}},{key:"interfaces_",get:function(){return[Z,z]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=c.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof br){var n=arguments[0];this._modelType=n,n===c.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var r=arguments[0];this._modelType=c.FIXED,this.setScale(r)}else if(arguments[0]instanceof c){var u=arguments[0];this._modelType=u._modelType,this._scale=u._scale}}}},{key:"mostPrecise",value:function(n,r){return n.compareTo(r)>=0?n:r}}])}(),br=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"readResolve",value:function(){return c.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){this._name=null;var n=arguments[0];this._name=n,c.nameToTypeMap.put(n,this)}}])}();br.nameToTypeMap=new Ta,Ln.Type=br,Ln.FIXED=new br("FIXED"),Ln.FLOATING=new br("FLOATING"),Ln.FLOATING_SINGLE=new br("FLOATING SINGLE"),Ln.maximumPreciseValue=9007199254740992;var Eo=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"copyInternal",value:function(){for(var r=new Array(this._geometries.length).fill(null),u=0;u<r.length;u++)r[u]=this._geometries[u].copy();return new n(r,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ie){var r=arguments[0],u=arguments[1];return!!this.isEquivalentClass(r)&&I(n,"equalsExact",this,1).call(this,r,u)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Re.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Ie.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new ce}},{key:"getGeometryType",value:function(){return Ie.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Zl]}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];wn.constructor_.call(this,r,u)}}])}(wn),pi=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"createEmpty",value:function(n){switch(n){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new W("Invalid dimension: "+n)}}},{key:"toGeometry",value:function(n){return n.isNull()?this.createPoint():n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new H(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new H(n.getMinX(),n.getMinY()),new H(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new H(n.getMinX(),n.getMinY()),new H(n.getMinX(),n.getMaxY()),new H(n.getMaxX(),n.getMaxY()),new H(n.getMaxX(),n.getMinY()),new H(n.getMinX(),n.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLineString(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(j(arguments[0],je))return new Cs(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Eo(null,this):arguments.length===1?new Eo(arguments[0],this):void 0}},{key:"buildGeometry",value:function(n){for(var r=null,u=!1,p=!1,y=n.iterator();y.hasNext();){var k=y.next(),C=k.getTypeCode();r===null&&(r=C),C!==r&&(u=!0),k instanceof wn&&(p=!0)}if(r===null)return this.createGeometryCollection();if(u||p)return this.createGeometryCollection(c.toGeometryArray(n));var A=n.iterator().next();if(n.size()>1){if(A instanceof Is)return this.createMultiPolygon(c.toPolygonArray(n));if(A instanceof Cs)return this.createMultiLineString(c.toLineStringArray(n));if(A instanceof wa)return this.createMultiPoint(c.toPointArray(n));Pe.shouldNeverReachHere("Unhandled geometry type: "+A.getGeometryType())}return A}},{key:"createMultiPointFromCoords",value:function(n){return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof H){var n=arguments[0];return this.createPoint(n!==null?this.getCoordinateSequenceFactory().create([n]):null)}if(j(arguments[0],je))return new wa(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(j(arguments[0],je)){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Array){var r=arguments[0];return this.createPolygon(this.createLinearRing(r))}if(arguments[0]instanceof di){var u=arguments[0];return this.createPolygon(u,null)}}else if(arguments.length===2)return new Is(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new wn(null,this):arguments.length===1?new wn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLinearRing(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(j(arguments[0],je))return new di(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new xa(null,this):arguments.length===1?new xa(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new yo(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new yo(arguments[0],this);if(j(arguments[0],je)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),u=0;u<n.size();u++){var p=this.getCoordinateSequenceFactory().create(1,n.getDimension(),n.getMeasures());_r.copy(n,u,p,0,1),r[u]=this.createPoint(p)}return this.createMultiPoint(r)}}}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)c.constructor_.call(this,new Ln,0);else if(arguments.length===1){if(j(arguments[0],ba)){var n=arguments[0];c.constructor_.call(this,new Ln,0,n)}else if(arguments[0]instanceof Ln){var r=arguments[0];c.constructor_.call(this,r,0,c.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];c.constructor_.call(this,u,p,c.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var y=arguments[0],k=arguments[1],C=arguments[2];this._precisionModel=y,this._coordinateSequenceFactory=C,this._SRID=k}}},{key:"toMultiPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toGeometryArray",value:function(n){if(n===null)return null;var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return ka.instance()}},{key:"toMultiLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLineStringArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toMultiPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toLinearRingArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPointArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"toPolygonArray",value:function(n){var r=new Array(n.size()).fill(null);return n.toArray(r)}},{key:"createPointFromInternalCoord",value:function(n,r){return r.getPrecisionModel().makePrecise(n),r.getFactory().createPoint(n)}}])}(),mt="XY",Gt="XYZ",ko="XYM",Wr="XYZM",wr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},xo="EMPTY",rt=1,Et=2,mi=3,Os=4,un=5,nh=6;for(var To in wr)wr[To].toUpperCase();var Lr=function(){return d(function c(n){i(this,c),this.wkt=n,this.index_=-1},[{key:"isAlpha_",value:function(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"}},{key:"isNumeric_",value:function(c,n){return c>="0"&&c<="9"||c=="."&&!(n!==void 0&&n)}},{key:"isWhiteSpace_",value:function(c){return c==" "||c=="	"||c=="\r"||c==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var c,n=this.nextChar_(),r=this.index_,u=n;if(n=="(")c=Et;else if(n==",")c=un;else if(n==")")c=mi;else if(this.isNumeric_(n)||n=="-")c=Os,u=this.readNumber_();else if(this.isAlpha_(n))c=rt,u=this.readText_();else{if(this.isWhiteSpace_(n))return this.nextToken();if(n!=="")throw new Error("Unexpected character: "+n);c=nh}return{position:r,value:u,type:c}}},{key:"readNumber_",value:function(){var c,n=this.index_,r=!1,u=!1;do c=="."?r=!0:c!="e"&&c!="E"||(u=!0),c=this.nextChar_();while(this.isNumeric_(c,r)||!u&&(c=="e"||c=="E")||u&&(c=="-"||c=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}},{key:"readText_",value:function(){var c,n=this.index_;do c=this.nextChar_();while(this.isAlpha_(c));return this.wkt.substring(n,this.index_--).toUpperCase()}}])}(),Kt=function(){return d(function c(n,r){i(this,c),this.lexer_=n,this.token_,this.layout_=mt,this.factory=r},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(c){return this.token_.type==c}},{key:"match",value:function(c){var n=this.isTokenType(c);return n&&this.consume_(),n}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var c=mt,n=this.token_;if(this.isTokenType(rt)){var r=n.value;r==="Z"?c=Gt:r==="M"?c=ko:r==="ZM"&&(c=Wr),c!==mt&&this.consume_()}return c}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Et)){var c=[];do c.push(this.parseGeometry_());while(this.match(un));if(this.match(mi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Et)){var c=this.parsePoint_();if(this.match(mi))return c}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Et)){var c=this.parsePointList_();if(this.match(mi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Et)){var c=this.parseLineStringTextList_();if(this.match(mi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var c;if(this.match(Et)){if(c=this.token_.type==Et?this.parsePointTextList_():this.parsePointList_(),this.match(mi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Et)){var c=this.parseLineStringTextList_();if(this.match(mi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Et)){var c=this.parsePolygonTextList_();if(this.match(mi))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var c=[],n=this.layout_.length,r=0;r<n;++r){var u=this.token_;if(!this.match(Os))break;c.push(u.value)}if(c.length==n)return c;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var c=[this.parsePoint_()];this.match(un);)c.push(this.parsePoint_());return c}},{key:"parsePointTextList_",value:function(){for(var c=[this.parsePointText_()];this.match(un);)c.push(this.parsePointText_());return c}},{key:"parseLineStringTextList_",value:function(){for(var c=[this.parseLineStringText_()];this.match(un);)c.push(this.parseLineStringText_());return c}},{key:"parsePolygonTextList_",value:function(){for(var c=[this.parsePolygonText_()];this.match(un);)c.push(this.parsePolygonText_());return c}},{key:"isEmptyGeometry_",value:function(){var c=this.isTokenType(rt)&&this.token_.value==xo;return c&&this.consume_(),c}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var c=this.factory,n=function(Ke){return l(H,O(Ke))},r=function(Ke){var gt=Ke.map(function(lt){return c.createLinearRing(lt.map(n))});return gt.length>1?c.createPolygon(gt[0],gt.slice(1)):c.createPolygon(gt[0])},u=this.token_;if(this.match(rt)){var p=u.value;if(this.layout_=this.parseGeometryLayout_(),p=="GEOMETRYCOLLECTION"){var y=this.parseGeometryCollectionText_();return c.createGeometryCollection(y)}switch(p){case"POINT":var k=this.parsePointText_();return k?c.createPoint(l(H,O(k))):c.createPoint();case"LINESTRING":var C=this.parseLineStringText_().map(n);return c.createLineString(C);case"LINEARRING":var A=this.parseLineStringText_().map(n);return c.createLinearRing(A);case"POLYGON":var V=this.parsePolygonText_();return V&&V.length!==0?r(V):c.createPolygon();case"MULTIPOINT":var te=this.parseMultiPointText_();if(!te||te.length===0)return c.createMultiPoint();var se=te.map(n).map(function(Ke){return c.createPoint(Ke)});return c.createMultiPoint(se);case"MULTILINESTRING":var xe=this.parseMultiLineStringText_().map(function(Ke){return c.createLineString(Ke.map(n))});return c.createMultiLineString(xe);case"MULTIPOLYGON":var Be=this.parseMultiPolygonText_();if(!Be||Be.length===0)return c.createMultiPolygon();var Ze=Be.map(r);return c.createMultiPolygon(Ze);default:throw new Error("Invalid geometry type: "+p)}}throw new Error(this.formatErrorMessage_())}}])}();function ji(c){if(c.isEmpty())return"";var n=c.getCoordinate(),r=[n.x,n.y];return n.z===void 0||Number.isNaN(n.z)||r.push(n.z),n.m===void 0||Number.isNaN(n.m)||r.push(n.m),r.join(" ")}function Ni(c){for(var n=c.getCoordinates().map(function(y){var k=[y.x,y.y];return y.z===void 0||Number.isNaN(y.z)||k.push(y.z),y.m===void 0||Number.isNaN(y.m)||k.push(y.m),k}),r=[],u=0,p=n.length;u<p;++u)r.push(n[u].join(" "));return r.join(", ")}function Zr(c){var n=[];n.push("("+Ni(c.getExteriorRing())+")");for(var r=0,u=c.getNumInteriorRing();r<u;++r)n.push("("+Ni(c.getInteriorRingN(r))+")");return n.join(", ")}var Sa={Point:ji,LineString:Ni,LinearRing:Ni,Polygon:Zr,MultiPoint:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push("("+ji(c.getGeometryN(r))+")");return n.join(", ")},MultiLineString:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push("("+Ni(c.getGeometryN(r))+")");return n.join(", ")},MultiPolygon:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push("("+Zr(c.getGeometryN(r))+")");return n.join(", ")},GeometryCollection:function(c){for(var n=[],r=0,u=c.getNumGeometries();r<u;++r)n.push(Yr(c.getGeometryN(r)));return n.join(", ")}};function Yr(c){var n=c.getGeometryType(),r=Sa[n];n=n.toUpperCase();var u=function(p){var y="";if(p.isEmpty())return y;var k=p.getCoordinate();return k.z===void 0||Number.isNaN(k.z)||(y+="Z"),k.m===void 0||Number.isNaN(k.m)||(y+="M"),y}(c);return u.length>0&&(n+=" "+u),c.isEmpty()?n+" "+xo:n+" ("+r(c)+")"}var Ca=function(){return d(function c(n){i(this,c),this.geometryFactory=n||new pi,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(c){var n=new Lr(c);return new Kt(n,this.geometryFactory).parse()}},{key:"write",value:function(c){return Yr(c)}}])}(),Ms=function(){return d(function c(n){i(this,c),this.parser=new Ca(n)},[{key:"write",value:function(c){return this.parser.write(c)}}],[{key:"toLineString",value:function(c,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+c.x+" "+c.y+", "+n.x+" "+n.y+" )"}}])}(),Ot=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getIndexAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intLineIndex[n][r]}},{key:"getTopologySummary",value:function(){var n=new Lo;return this.isEndPoint()&&n.append(" endpoint"),this._isProper&&n.append(" proper"),this.isCollinear()&&n.append(" collinear"),n.toString()}},{key:"computeIntersection",value:function(n,r,u,p){this._inputLines[0][0]=n,this._inputLines[0][1]=r,this._inputLines[1][0]=u,this._inputLines[1][1]=p,this._result=this.computeIntersect(n,r,u,p)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var n=arguments[0];this.getEdgeDistance(n,0)>this.getEdgeDistance(n,1)?(this._intLineIndex[n][0]=0,this._intLineIndex[n][1]=1):(this._intLineIndex[n][0]=1,this._intLineIndex[n][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],r=0;r<this._result;r++)if(!this._intPt[r].equals2D(this._inputLines[n][0])&&!this._intPt[r].equals2D(this._inputLines[n][1]))return!0;return!1}}},{key:"getIntersection",value:function(n){return this._intPt[n]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==c.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(n,r){return c.computeEdgeDistance(this._intPt[r],this._inputLines[n][0],this._inputLines[n][1])}},{key:"isCollinear",value:function(){return this._result===c.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Ms.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ms.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(n,r){return this._inputLines[n][r]}},{key:"isIntersection",value:function(n){for(var r=0;r<this._result;r++)if(this._intPt[r].equals2D(n))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(n,r){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[n][r]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new H,this._intPt[1]=new H,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(n,r,u){var p=Math.abs(u.x-r.x),y=Math.abs(u.y-r.y),k=-1;if(n.equals(r))k=0;else if(n.equals(u))k=p>y?p:y;else{var C=Math.abs(n.x-r.x),A=Math.abs(n.y-r.y);(k=p>y?C:A)!==0||n.equals(r)||(k=Math.max(C,A))}return Pe.isTrue(!(k===0&&!n.equals(r)),"Bad distance calculation"),k}},{key:"nonRobustComputeEdgeDistance",value:function(n,r,u){var p=n.x-r.x,y=n.y-r.y,k=Math.sqrt(p*p+y*y);return Pe.isTrue(!(k===0&&!n.equals(r)),"Invalid distance calculation"),k}}])}();Ot.DONT_INTERSECT=0,Ot.DO_INTERSECT=1,Ot.COLLINEAR=2,Ot.NO_INTERSECTION=0,Ot.POINT_INTERSECTION=1,Ot.COLLINEAR_INTERSECTION=2;var Oi=function(c){function n(){return i(this,n),a(this,n)}return b(n,c),d(n,[{key:"isInSegmentEnvelopes",value:function(r){var u=new Ce(this._inputLines[0][0],this._inputLines[0][1]),p=new Ce(this._inputLines[1][0],this._inputLines[1][1]);return u.contains(r)&&p.contains(r)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return I(n,"computeIntersection",this,1).apply(this,arguments);var r=arguments[0],u=arguments[1],p=arguments[2];if(this._isProper=!1,Ce.intersects(u,p,r)&&Ye.index(u,p,r)===0&&Ye.index(p,u,r)===0)return this._isProper=!0,(r.equals(u)||r.equals(p))&&(this._isProper=!1),this._result=Ot.POINT_INTERSECTION,null;this._result=Ot.NO_INTERSECTION}},{key:"intersection",value:function(r,u,p,y){var k=this.intersectionSafe(r,u,p,y);return this.isInSegmentEnvelopes(k)||(k=new H(n.nearestEndpoint(r,u,p,y))),this._precisionModel!==null&&this._precisionModel.makePrecise(k),k}},{key:"checkDD",value:function(r,u,p,y,k){var C=Ht.intersection(r,u,p,y),A=this.isInSegmentEnvelopes(C);Xn.out.println("DD in env = "+A+"  --------------------- "+C),k.distance(C)>1e-4&&Xn.out.println("Distance = "+k.distance(C))}},{key:"intersectionSafe",value:function(r,u,p,y){var k=ya.intersection(r,u,p,y);return k===null&&(k=n.nearestEndpoint(r,u,p,y)),k}},{key:"computeCollinearIntersection",value:function(r,u,p,y){var k=Ce.intersects(r,u,p),C=Ce.intersects(r,u,y),A=Ce.intersects(p,y,r),V=Ce.intersects(p,y,u);return k&&C?(this._intPt[0]=p,this._intPt[1]=y,Ot.COLLINEAR_INTERSECTION):A&&V?(this._intPt[0]=r,this._intPt[1]=u,Ot.COLLINEAR_INTERSECTION):k&&A?(this._intPt[0]=p,this._intPt[1]=r,!p.equals(r)||C||V?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):k&&V?(this._intPt[0]=p,this._intPt[1]=u,!p.equals(u)||C||A?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):C&&A?(this._intPt[0]=y,this._intPt[1]=r,!y.equals(r)||k||V?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):C&&V?(this._intPt[0]=y,this._intPt[1]=u,!y.equals(u)||k||A?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):Ot.NO_INTERSECTION}},{key:"computeIntersect",value:function(r,u,p,y){if(this._isProper=!1,!Ce.intersects(r,u,p,y))return Ot.NO_INTERSECTION;var k=Ye.index(r,u,p),C=Ye.index(r,u,y);if(k>0&&C>0||k<0&&C<0)return Ot.NO_INTERSECTION;var A=Ye.index(p,y,r),V=Ye.index(p,y,u);return A>0&&V>0||A<0&&V<0?Ot.NO_INTERSECTION:k===0&&C===0&&A===0&&V===0?this.computeCollinearIntersection(r,u,p,y):(k===0||C===0||A===0||V===0?(this._isProper=!1,r.equals2D(p)||r.equals2D(y)?this._intPt[0]=r:u.equals2D(p)||u.equals2D(y)?this._intPt[0]=u:k===0?this._intPt[0]=new H(p):C===0?this._intPt[0]=new H(y):A===0?this._intPt[0]=new H(r):V===0&&(this._intPt[0]=new H(u))):(this._isProper=!0,this._intPt[0]=this.intersection(r,u,p,y)),Ot.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(r,u,p,y){var k=r,C=oi.pointToSegment(r,p,y),A=oi.pointToSegment(u,p,y);return A<C&&(C=A,k=u),(A=oi.pointToSegment(p,r,u))<C&&(C=A,k=p),(A=oi.pointToSegment(y,r,u))<C&&(C=A,k=y),k}}])}(Ot),Ia=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"countSegment",value:function(n,r){if(n.x<this._p.x&&r.x<this._p.x)return null;if(this._p.x===r.x&&this._p.y===r.y)return this._isPointOnSegment=!0,null;if(n.y===this._p.y&&r.y===this._p.y){var u=n.x,p=r.x;return u>p&&(u=r.x,p=n.x),this._p.x>=u&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(n.y>this._p.y&&r.y<=this._p.y||r.y>this._p.y&&n.y<=this._p.y){var y=Ye.index(n,r,this._p);if(y===Ye.COLLINEAR)return this._isPointOnSegment=!0,null;r.y<n.y&&(y=-y),y===Ye.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==S.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?S.BOUNDARY:this._crossingCount%2==1?S.INTERIOR:S.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var n=arguments[0];this._p=n}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof H&&j(arguments[1],je)){for(var n=arguments[1],r=new c(arguments[0]),u=new H,p=new H,y=1;y<n.size();y++)if(n.getCoordinate(y,u),n.getCoordinate(y-1,p),r.countSegment(u,p),r.isOnSegment())return r.getLocation();return r.getLocation()}if(arguments[0]instanceof H&&arguments[1]instanceof Array){for(var k=arguments[1],C=new c(arguments[0]),A=1;A<k.length;A++){var V=k[A],te=k[A-1];if(C.countSegment(V,te),C.isOnSegment())return C.getLocation()}return C.getLocation()}}}])}(),jr=function(){function c(){i(this,c)}return d(c,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof H&&j(arguments[1],je)){for(var n=arguments[0],r=arguments[1],u=new Oi,p=new H,y=new H,k=r.size(),C=1;C<k;C++)if(r.getCoordinate(C-1,p),r.getCoordinate(C,y),u.computeIntersection(n,p,y),u.hasIntersection())return!0;return!1}if(arguments[0]instanceof H&&arguments[1]instanceof Array){for(var A=arguments[0],V=arguments[1],te=new Oi,se=1;se<V.length;se++){var xe=V[se-1],Be=V[se];if(te.computeIntersection(A,xe,Be),te.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(n,r){return Ia.locatePointInRing(n,r)}},{key:"isInRing",value:function(n,r){return c.locateInRing(n,r)!==S.EXTERIOR}}])}(),Mn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"setAllLocations",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]=n}},{key:"isNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==S.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(n){for(var r=0;r<this.location.length;r++)this.location[r]===S.NONE&&(this.location[r]=n)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(n){if(n.location.length>this.location.length){var r=new Array(3).fill(null);r[M.ON]=this.location[M.ON],r[M.LEFT]=S.NONE,r[M.RIGHT]=S.NONE,this.location=r}for(var u=0;u<this.location.length;u++)this.location[u]===S.NONE&&u<n.location.length&&(this.location[u]=n.location[u])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var n=this.location[M.LEFT];this.location[M.LEFT]=this.location[M.RIGHT],this.location[M.RIGHT]=n}},{key:"toString",value:function(){var n=new de;return this.location.length>1&&n.append(S.toLocationSymbol(this.location[M.LEFT])),n.append(S.toLocationSymbol(this.location[M.ON])),this.location.length>1&&n.append(S.toLocationSymbol(this.location[M.RIGHT])),n.toString()}},{key:"setLocations",value:function(n,r,u){this.location[M.ON]=n,this.location[M.LEFT]=r,this.location[M.RIGHT]=u}},{key:"get",value:function(n){return n<this.location.length?this.location[n]:S.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===S.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var n=arguments[0];this.setLocation(M.ON,n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.location[r]=u}}},{key:"init",value:function(n){this.location=new Array(n).fill(null),this.setAllLocations(S.NONE)}},{key:"isEqualOnSide",value:function(n,r){return this.location[r]===n.location[r]}},{key:"allPositionsEqual",value:function(n){for(var r=0;r<this.location.length;r++)if(this.location[r]!==n)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[M.ON]=r}else if(arguments[0]instanceof c){var u=arguments[0];if(this.init(u.location.length),u!==null)for(var p=0;p<this.location.length;p++)this.location[p]=u.location[p]}}else if(arguments.length===3){var y=arguments[0],k=arguments[1],C=arguments[2];this.init(3),this.location[M.ON]=y,this.location[M.LEFT]=k,this.location[M.RIGHT]=C}}}])}(),Sn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getGeometryCount",value:function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n}},{key:"setAllLocations",value:function(n,r){this.elt[n].setAllLocations(r)}},{key:"isNull",value:function(n){return this.elt[n].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var n=arguments[0];this.setAllLocationsIfNull(0,n),this.setAllLocationsIfNull(1,n)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.elt[r].setAllLocationsIfNull(u)}}},{key:"isLine",value:function(n){return this.elt[n].isLine()}},{key:"merge",value:function(n){for(var r=0;r<2;r++)this.elt[r]===null&&n.elt[r]!==null?this.elt[r]=new Mn(n.elt[r]):this.elt[r].merge(n.elt[r])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var n=arguments[0];return this.elt[n].get(M.ON)}if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.elt[r].get(u)}}},{key:"toString",value:function(){var n=new de;return this.elt[0]!==null&&(n.append("A:"),n.append(this.elt[0].toString())),this.elt[1]!==null&&(n.append(" B:"),n.append(this.elt[1].toString())),n.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var n=arguments[0];return this.elt[n].isArea()}}},{key:"isAnyNull",value:function(n){return this.elt[n].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[n].setLocation(M.ON,r)}else if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2];this.elt[u].setLocation(p,y)}}},{key:"isEqualOnSide",value:function(n,r){return this.elt[0].isEqualOnSide(n.elt[0],r)&&this.elt[1].isEqualOnSide(n.elt[1],r)}},{key:"allPositionsEqual",value:function(n,r){return this.elt[n].allPositionsEqual(r)}},{key:"toLine",value:function(n){this.elt[n].isArea()&&(this.elt[n]=new Mn(this.elt[n].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Mn(n),this.elt[1]=new Mn(n)}else if(arguments[0]instanceof c){var r=arguments[0];this.elt[0]=new Mn(r.elt[0]),this.elt[1]=new Mn(r.elt[1])}}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.elt[0]=new Mn(S.NONE),this.elt[1]=new Mn(S.NONE),this.elt[u].setLocation(p)}else if(arguments.length===3){var y=arguments[0],k=arguments[1],C=arguments[2];this.elt[0]=new Mn(y,k,C),this.elt[1]=new Mn(y,k,C)}else if(arguments.length===4){var A=arguments[0],V=arguments[1],te=arguments[2],se=arguments[3];this.elt[0]=new Mn(S.NONE,S.NONE,S.NONE),this.elt[1]=new Mn(S.NONE,S.NONE,S.NONE),this.elt[A].setLocations(V,te,se)}}},{key:"toLineLabel",value:function(n){for(var r=new c(S.NONE),u=0;u<2;u++)r.setLocation(u,n.getLocation(u));return r}}])}(),So=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var c=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)c[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(c),this._isHole=Ye.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(c){this._startDe=c;var n=c,r=!0;do{if(n===null)throw new dn("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new dn("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var u=n.getLabel();Pe.isTrue(u.isArea()),this.mergeLabel(u),this.addPoints(n.getEdge(),n.isForward(),r),r=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(c){return this._pts.get(c)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var c=this._startDe;do{var n=c.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),c=this.getNext(c)}while(c!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(c,n,r){var u=c.getCoordinates();if(n){var p=1;r&&(p=0);for(var y=p;y<u.length;y++)this._pts.add(u[y])}else{var k=u.length-2;r&&(k=u.length-1);for(var C=k;C>=0;C--)this._pts.add(u[C])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var c=this._startDe;do c.getEdge().setInResult(!0),c=c.getNext();while(c!==this._startDe)}},{key:"containsPoint",value:function(c){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(c)||!jr.isInRing(c,n.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();)if(r.next().containsPoint(c))return!1;return!0}},{key:"addHole",value:function(c){this._holes.add(c)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var c=arguments[0];this.mergeLabel(c,0),this.mergeLabel(c,1)}else if(arguments.length===2){var n=arguments[1],r=arguments[0].getLocation(n,M.RIGHT);if(r===S.NONE)return null;if(this._label.getLocation(n)===S.NONE)return this._label.setLocation(n,r),null}}},{key:"setShell",value:function(c){this._shell=c,c!==null&&c.addHole(this)}},{key:"toPolygon",value:function(c){for(var n=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)n[r]=this._holes.get(r).getLinearRing();return c.createPolygon(this.getLinearRing(),n)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new We,this._pts=new We,this._label=new Sn(S.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new We,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var c=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(c),this.computeRing()}}}}])}(),st=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"setEdgeRing",value:function(r,u){r.setMinEdgeRing(u)}},{key:"getNext",value:function(r){return r.getNextMin()}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];So.constructor_.call(this,r,u)}}])}(So),gi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"buildMinimalRings",value:function(){var r=new We,u=this._startDe;do{if(u.getMinEdgeRing()===null){var p=new st(u,this._geometryFactory);r.add(p)}u=u.getNext()}while(u!==this._startDe);return r}},{key:"setEdgeRing",value:function(r,u){r.setEdgeRing(u)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var r=this._startDe;do r.getNode().getEdges().linkMinimalDirectedEdges(this),r=r.getNext();while(r!==this._startDe)}},{key:"getNext",value:function(r){return r.getNext()}}],[{key:"constructor_",value:function(){var r=arguments[0],u=arguments[1];So.constructor_.call(this,r,u)}}])}(So),Mt=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(c){this._isVisited=c}},{key:"setInResult",value:function(c){this._isInResult=c}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(c){this._label=c}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(c){this._isCovered=c,this._isCoveredSet=!0}},{key:"updateIM",value:function(c){Pe.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(c)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._label=c}}}}])}(),As=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"isIncidentEdgeInResult",value:function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();)if(r.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(r){r.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(r){}},{key:"computeMergedLocation",value:function(r,u){var p=S.NONE;if(p=this._label.getLocation(u),!r.isNull(u)){var y=r.getLocation(u);p!==S.BOUNDARY&&(p=y)}return p}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return I(n,"setLabel",this,1).apply(this,arguments);var r=arguments[0],u=arguments[1];this._label===null?this._label=new Sn(r,u):this._label.setLocation(r,u)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Sn)for(var u=arguments[0],p=0;p<2;p++){var y=this.computeMergedLocation(u,p);this._label.getLocation(p)===S.NONE&&this._label.setLocation(p,y)}}},{key:"add",value:function(r){this._edges.insert(r),r.setNode(this)}},{key:"setLabelBoundary",value:function(r){if(this._label===null)return null;var u=S.NONE;this._label!==null&&(u=this._label.getLocation(r));var p=null;switch(u){case S.BOUNDARY:p=S.INTERIOR;break;case S.INTERIOR:default:p=S.BOUNDARY}this._label.setLocation(r,p)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var r=arguments[0],u=arguments[1];this._coord=r,this._edges=u,this._label=new Sn(0,S.NONE)}}])}(Mt),Pa=function(c){function n(){return i(this,n),a(this,n,arguments)}return b(n,c),d(n)}(Jl);function Co(c){return c==null?0:c.color}function _t(c){return c==null?null:c.parent}function mn(c,n){c!==null&&(c.color=n)}function Rs(c){return c==null?null:c.left}function Xr(c){return c==null?null:c.right}var Zt=function(c){function n(){var r;return i(this,n),(r=a(this,n)).root_=null,r.size_=0,r}return b(n,c),d(n,[{key:"get",value:function(r){for(var u=this.root_;u!==null;){var p=r.compareTo(u.key);if(p<0)u=u.left;else{if(!(p>0))return u.value;u=u.right}}return null}},{key:"put",value:function(r,u){if(this.root_===null)return this.root_={key:r,value:u,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var p,y,k=this.root_;do if(p=k,(y=r.compareTo(k.key))<0)k=k.left;else{if(!(y>0)){var C=k.value;return k.value=u,C}k=k.right}while(k!==null);var A={key:r,left:null,right:null,value:u,parent:p,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return y<0?p.left=A:p.right=A,this.fixAfterInsertion(A),this.size_++,null}},{key:"fixAfterInsertion",value:function(r){var u;for(r.color=1;r!=null&&r!==this.root_&&r.parent.color===1;)_t(r)===Rs(_t(_t(r)))?Co(u=Xr(_t(_t(r))))===1?(mn(_t(r),0),mn(u,0),mn(_t(_t(r)),1),r=_t(_t(r))):(r===Xr(_t(r))&&(r=_t(r),this.rotateLeft(r)),mn(_t(r),0),mn(_t(_t(r)),1),this.rotateRight(_t(_t(r)))):Co(u=Rs(_t(_t(r))))===1?(mn(_t(r),0),mn(u,0),mn(_t(_t(r)),1),r=_t(_t(r))):(r===Rs(_t(r))&&(r=_t(r),this.rotateRight(r)),mn(_t(r),0),mn(_t(_t(r)),1),this.rotateLeft(_t(_t(r))));this.root_.color=0}},{key:"values",value:function(){var r=new We,u=this.getFirstEntry();if(u!==null)for(r.add(u.value);(u=n.successor(u))!==null;)r.add(u.value);return r}},{key:"entrySet",value:function(){var r=new me,u=this.getFirstEntry();if(u!==null)for(r.add(u);(u=n.successor(u))!==null;)r.add(u);return r}},{key:"rotateLeft",value:function(r){if(r!=null){var u=r.right;r.right=u.left,u.left!=null&&(u.left.parent=r),u.parent=r.parent,r.parent==null?this.root_=u:r.parent.left===r?r.parent.left=u:r.parent.right=u,u.left=r,r.parent=u}}},{key:"rotateRight",value:function(r){if(r!=null){var u=r.left;r.left=u.right,u.right!=null&&(u.right.parent=r),u.parent=r.parent,r.parent==null?this.root_=u:r.parent.right===r?r.parent.right=u:r.parent.left=u,u.right=r,r.parent=u}}},{key:"getFirstEntry",value:function(){var r=this.root_;if(r!=null)for(;r.left!=null;)r=r.left;return r}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(r){for(var u=this.root_;u!==null;){var p=r.compareTo(u.key);if(p<0)u=u.left;else{if(!(p>0))return!0;u=u.right}}return!1}}],[{key:"successor",value:function(r){var u;if(r===null)return null;if(r.right!==null){for(u=r.right;u.left!==null;)u=u.left;return u}u=r.parent;for(var p=r;u!==null&&p===u.right;)p=u,u=u.parent;return u}}])}(Pa),Xi=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"find",value:function(c){return this.nodeMap.get(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof H){var c=arguments[0],n=this.nodeMap.get(c);return n===null&&(n=this.nodeFact.createNode(c),this.nodeMap.put(c,n)),n}if(arguments[0]instanceof As){var r=arguments[0],u=this.nodeMap.get(r.getCoordinate());return u===null?(this.nodeMap.put(r.getCoordinate(),r),r):(u.mergeLabel(r),u)}}},{key:"print",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(c){for(var n=new We,r=this.iterator();r.hasNext();){var u=r.next();u.getLabel().getLocation(c)===S.BOUNDARY&&n.add(u)}return n}},{key:"add",value:function(c){var n=c.getCoordinate();this.addNode(n).add(c)}}],[{key:"constructor_",value:function(){this.nodeMap=new Zt,this.nodeFact=null;var c=arguments[0];this.nodeFact=c}}])}(),gn=function(){function c(){i(this,c)}return d(c,null,[{key:"isNorthern",value:function(n){return n===c.NE||n===c.NW}},{key:"isOpposite",value:function(n,r){return n!==r&&(n-r+4)%4===2}},{key:"commonHalfPlane",value:function(n,r){if(n===r)return n;if((n-r+4)%4===2)return-1;var u=n<r?n:r;return u===0&&(n>r?n:r)===3?3:u}},{key:"isInHalfPlane",value:function(n,r){return r===c.SE?n===c.SE||n===c.SW:n===r||n===r+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new W("Cannot compute the quadrant for point ( "+n+", "+r+" )");return n>=0?r>=0?c.NE:c.SE:r>=0?c.NW:c.SW}if(arguments[0]instanceof H&&arguments[1]instanceof H){var u=arguments[0],p=arguments[1];if(p.x===u.x&&p.y===u.y)throw new W("Cannot compute the quadrant for two identical points "+u);return p.x>=u.x?p.y>=u.y?c.NE:c.SE:p.y>=u.y?c.NW:c.SW}}}])}();gn.NE=0,gn.NW=1,gn.SW=2,gn.SE=3;var Na=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"compareDirection",value:function(n){return this._dx===n._dx&&this._dy===n._dy?0:this._quadrant>n._quadrant?1:this._quadrant<n._quadrant?-1:Ye.index(n._p0,n._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(n){this._node=n}},{key:"print",value:function(n){var r=Math.atan2(this._dy,this._dx),u=this.getClass().getName(),p=u.lastIndexOf("."),y=u.substring(p+1);n.print("  "+y+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+r+"   "+this._label)}},{key:"compareTo",value:function(n){var r=n;return this.compareDirection(r)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var n=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),u=r.lastIndexOf(".");return"  "+r.substring(u+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label}},{key:"computeLabel",value:function(n){}},{key:"init",value:function(n,r){this._p0=n,this._p1=r,this._dx=r.x-n.x,this._dy=r.y-n.y,this._quadrant=gn.quadrant(this._dx,this._dy),Pe.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var n=arguments[0];this._edge=n}else if(arguments.length===3){var r=arguments[0],u=arguments[1],p=arguments[2];c.constructor_.call(this,r,u,p,null)}else if(arguments.length===4){var y=arguments[0],k=arguments[1],C=arguments[2],A=arguments[3];c.constructor_.call(this,y),this.init(k,C),this._label=A}}}])}(),Oa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(r){return this._depth[r]}},{key:"setVisited",value:function(r){this._isVisited=r}},{key:"computeDirectedLabel",value:function(){this._label=new Sn(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(r,u){if(this._depth[r]!==-999&&this._depth[r]!==u)throw new dn("assigned depths do not match",this.getCoordinate());this._depth[r]=u}},{key:"isInteriorAreaEdge",value:function(){for(var r=!0,u=0;u<2;u++)this._label.isArea(u)&&this._label.getLocation(u,M.LEFT)===S.INTERIOR&&this._label.getLocation(u,M.RIGHT)===S.INTERIOR||(r=!1);return r}},{key:"setNextMin",value:function(r){this._nextMin=r}},{key:"print",value:function(r){I(n,"print",this,1).call(this,r),r.print(" "+this._depth[M.LEFT]+"/"+this._depth[M.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")}},{key:"setMinEdgeRing",value:function(r){this._minEdgeRing=r}},{key:"isLineEdge",value:function(){var r=this._label.isLine(0)||this._label.isLine(1),u=!this._label.isArea(0)||this._label.allPositionsEqual(0,S.EXTERIOR),p=!this._label.isArea(1)||this._label.allPositionsEqual(1,S.EXTERIOR);return r&&u&&p}},{key:"setEdgeRing",value:function(r){this._edgeRing=r}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var r=this._edge.getDepthDelta();return this._isForward||(r=-r),r}},{key:"setInResult",value:function(r){this._isInResult=r}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(r){this.print(r),r.print(" "),this._isForward?this._edge.print(r):this._edge.printReverse(r)}},{key:"setSym",value:function(r){this._sym=r}},{key:"setVisitedEdge",value:function(r){this.setVisited(r),this._sym.setVisited(r)}},{key:"setEdgeDepths",value:function(r,u){var p=this.getEdge().getDepthDelta();this._isForward||(p=-p);var y=1;r===M.LEFT&&(y=-1);var k=M.opposite(r),C=u+p*y;this.setDepth(r,u),this.setDepth(k,C)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(r){this._next=r}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var r=arguments[0],u=arguments[1];if(Na.constructor_.call(this,r),this._isForward=u,u)this.init(r.getCoordinate(0),r.getCoordinate(1));else{var p=r.getNumPoints()-1;this.init(r.getCoordinate(p),r.getCoordinate(p-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(r,u){return r===S.EXTERIOR&&u===S.INTERIOR?1:r===S.INTERIOR&&u===S.EXTERIOR?-1:0}}])}(Na),Ma=function(){return d(function c(){i(this,c)},[{key:"createNode",value:function(c){return new As(c,null)}}])}(),Io=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(c){c.println("Edges:");for(var n=0;n<this._edges.size();n++){c.println("edge "+n+":");var r=this._edges.get(n);r.print(c),r.eiList.print(c)}}},{key:"find",value:function(c){return this._nodes.find(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof As){var c=arguments[0];return this._nodes.addNode(c)}if(arguments[0]instanceof H){var n=arguments[0];return this._nodes.addNode(n)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(c){Xn.out.println(c)}},{key:"isBoundaryNode",value:function(c,n){var r=this._nodes.find(n);if(r===null)return!1;var u=r.getLabel();return u!==null&&u.getLocation(c)===S.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(c,n,r,u){return!!c.equals(r)&&Ye.index(c,n,u)===Ye.COLLINEAR&&gn.quadrant(c,n)===gn.quadrant(r,u)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(c){Xn.out.print(c)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(c,n){for(var r=0;r<this._edges.size();r++){var u=this._edges.get(r),p=u.getCoordinates();if(this.matchInSameDirection(c,n,p[0],p[1])||this.matchInSameDirection(c,n,p[p.length-1],p[p.length-2]))return u}return null}},{key:"insertEdge",value:function(c){this._edges.add(c)}},{key:"findEdgeEnd",value:function(c){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var r=n.next();if(r.getEdge()===c)return r}return null}},{key:"addEdges",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next();this._edges.add(r);var u=new Oa(r,!0),p=new Oa(r,!1);u.setSym(p),p.setSym(u),this.add(u),this.add(p)}}},{key:"add",value:function(c){this._nodes.add(c),this._edgeEndList.add(c)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(c,n){for(var r=0;r<this._edges.size();r++){var u=this._edges.get(r),p=u.getCoordinates();if(c.equals(p[0])&&n.equals(p[1]))return u}return null}}],[{key:"constructor_",value:function(){if(this._edges=new We,this._nodes=null,this._edgeEndList=new We,arguments.length===0)this._nodes=new Xi(new Ma);else if(arguments.length===1){var c=arguments[0];this._nodes=new Xi(c)}}},{key:"linkResultDirectedEdges",value:function(c){for(var n=c.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()}}])}(),ih=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"sortShellsAndHoles",value:function(n,r,u){for(var p=n.iterator();p.hasNext();){var y=p.next();y.isHole()?u.add(y):r.add(y)}}},{key:"computePolygons",value:function(n){for(var r=new We,u=n.iterator();u.hasNext();){var p=u.next().toPolygon(this._geometryFactory);r.add(p)}return r}},{key:"placeFreeHoles",value:function(n,r){for(var u=r.iterator();u.hasNext();){var p=u.next();if(p.getShell()===null){var y=c.findEdgeRingContaining(p,n);if(y===null)throw new dn("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(y)}}}},{key:"buildMinimalEdgeRings",value:function(n,r,u){for(var p=new We,y=n.iterator();y.hasNext();){var k=y.next();if(k.getMaxNodeDegree()>2){k.linkDirectedEdgesForMinimalEdgeRings();var C=k.buildMinimalRings(),A=this.findShell(C);A!==null?(this.placePolygonHoles(A,C),r.add(A)):u.addAll(C)}else p.add(k)}return p}},{key:"buildMaximalEdgeRings",value:function(n){for(var r=new We,u=n.iterator();u.hasNext();){var p=u.next();if(p.isInResult()&&p.getLabel().isArea()&&p.getEdgeRing()===null){var y=new gi(p,this._geometryFactory);r.add(y),y.setInResult()}}return r}},{key:"placePolygonHoles",value:function(n,r){for(var u=r.iterator();u.hasNext();){var p=u.next();p.isHole()&&p.setShell(n)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(n){for(var r=0,u=null,p=n.iterator();p.hasNext();){var y=p.next();y.isHole()||(u=y,r++)}return Pe.isTrue(r<=1,"found two shells in MinimalEdgeRing list"),u}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];this.add(n.getEdgeEnds(),n.getNodes())}else if(arguments.length===2){var r=arguments[0],u=arguments[1];Io.linkResultDirectedEdges(u);var p=this.buildMaximalEdgeRings(r),y=new We,k=this.buildMinimalEdgeRings(p,this._shellList,y);this.sortShellsAndHoles(k,this._shellList,y),this.placeFreeHoles(this._shellList,y)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new We;var n=arguments[0];this._geometryFactory=n}},{key:"findEdgeRingContaining",value:function(n,r){for(var u=n.getLinearRing(),p=u.getEnvelopeInternal(),y=u.getCoordinateN(0),k=null,C=null,A=r.iterator();A.hasNext();){var V=A.next(),te=V.getLinearRing(),se=te.getEnvelopeInternal();if(!se.equals(p)&&se.contains(p)){y=Xt.ptNotInList(u.getCoordinates(),te.getCoordinates());var xe=!1;jr.isInRing(y,te.getCoordinates())&&(xe=!0),xe&&(k===null||C.contains(se))&&(C=(k=V).getLinearRing().getEnvelopeInternal())}}return k}}])}(),Aa=function(){return d(function c(){i(this,c)},[{key:"getBounds",value:function(){}}])}(),ot=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Aa,Z]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var c=arguments[0],n=arguments[1];this._bounds=c,this._item=n}}])}(),Po=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var c=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),c}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(c){for(var n=null,r=this._items.get(c);2*c<=this._size&&((n=2*c)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(r)<0);c=n)this._items.set(c,this._items.get(n));this._items.set(c,r)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(c){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,c);c.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,c)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new We,this._items.add(null)}}])}(),ai=function(){return d(function c(){i(this,c)},[{key:"insert",value:function(c,n){}},{key:"remove",value:function(c,n){}},{key:"query",value:function(){}}])}(),vn=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(c){Pe.isTrue(this._bounds===null),this._childBoundables.add(c)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Aa,Z]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new We,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._level=c}}}}])}(),Er={reverseOrder:function(){return{compare:function(c,n){return n.compareTo(c)}}},min:function(c){return Er.sort(c),c.get(0)},sort:function(c,n){var r=c.toArray();n?pn.sort(r,n):pn.sort(r);for(var u=c.iterator(),p=0,y=r.length;p<y;p++)u.next(),u.set(r[p])},singletonList:function(c){var n=new We;return n.add(c),n}},rh=function(){function c(){i(this,c)}return d(c,null,[{key:"maxDistance",value:function(n,r,u,p,y,k,C,A){var V=c.distance(n,r,y,k);return V=Math.max(V,c.distance(n,r,C,A)),V=Math.max(V,c.distance(u,p,y,k)),V=Math.max(V,c.distance(u,p,C,A))}},{key:"distance",value:function(n,r,u,p){var y=u-n,k=p-r;return Math.sqrt(y*y+k*k)}},{key:"maximumDistance",value:function(n,r){var u=Math.min(n.getMinX(),r.getMinX()),p=Math.min(n.getMinY(),r.getMinY()),y=Math.max(n.getMaxX(),r.getMaxX()),k=Math.max(n.getMaxY(),r.getMaxY());return c.distance(u,p,y,k)}},{key:"minMaxDistance",value:function(n,r){var u=n.getMinX(),p=n.getMinY(),y=n.getMaxX(),k=n.getMaxY(),C=r.getMinX(),A=r.getMinY(),V=r.getMaxX(),te=r.getMaxY(),se=c.maxDistance(u,p,u,k,C,A,C,te);return se=Math.min(se,c.maxDistance(u,p,u,k,C,A,V,A)),se=Math.min(se,c.maxDistance(u,p,u,k,V,te,C,te)),se=Math.min(se,c.maxDistance(u,p,u,k,V,te,V,A)),se=Math.min(se,c.maxDistance(u,p,y,p,C,A,C,te)),se=Math.min(se,c.maxDistance(u,p,y,p,C,A,V,A)),se=Math.min(se,c.maxDistance(u,p,y,p,V,te,C,te)),se=Math.min(se,c.maxDistance(u,p,y,p,V,te,V,A)),se=Math.min(se,c.maxDistance(y,k,u,k,C,A,C,te)),se=Math.min(se,c.maxDistance(y,k,u,k,C,A,V,A)),se=Math.min(se,c.maxDistance(y,k,u,k,V,te,C,te)),se=Math.min(se,c.maxDistance(y,k,u,k,V,te,V,A)),se=Math.min(se,c.maxDistance(y,k,y,p,C,A,C,te)),se=Math.min(se,c.maxDistance(y,k,y,p,C,A,V,A)),se=Math.min(se,c.maxDistance(y,k,y,p,V,te,C,te)),se=Math.min(se,c.maxDistance(y,k,y,p,V,te,V,A))}}])}(),Ki=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"maximumDistance",value:function(){return rh.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(n,r){var u=c.isComposite(this._boundable1),p=c.isComposite(this._boundable2);if(u&&p)return c.area(this._boundable1)>c.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,n,r),null):(this.expand(this._boundable2,this._boundable1,!0,n,r),null);if(u)return this.expand(this._boundable1,this._boundable2,!1,n,r),null;if(p)return this.expand(this._boundable2,this._boundable1,!0,n,r),null;throw new W("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(c.isComposite(this._boundable1)||c.isComposite(this._boundable2))}},{key:"compareTo",value:function(n){var r=n;return this._distance<r._distance?-1:this._distance>r._distance?1:0}},{key:"expand",value:function(n,r,u,p,y){for(var k=n.getChildBoundables().iterator();k.hasNext();){var C=k.next(),A=null;(A=u?new c(r,C,this._itemDistance):new c(C,r,this._itemDistance)).getDistance()<y&&p.add(A)}}},{key:"getBoundable",value:function(n){return n===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var n=arguments[0],r=arguments[1],u=arguments[2];this._boundable1=n,this._boundable2=r,this._itemDistance=u,this._distance=this.distance()}},{key:"area",value:function(n){return n.getBounds().getArea()}},{key:"isComposite",value:function(n){return n instanceof vn}}])}(),Ql=function(){return d(function c(){i(this,c)},[{key:"visitItem",value:function(c){}}])}(),kr=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"queryInternal",value:function(){if(j(arguments[2],Ql)&&arguments[0]instanceof Object&&arguments[1]instanceof vn)for(var n=arguments[0],r=arguments[2],u=arguments[1].getChildBoundables(),p=0;p<u.size();p++){var y=u.get(p);this.getIntersectsOp().intersects(y.getBounds(),n)&&(y instanceof vn?this.queryInternal(n,y,r):y instanceof ot?r.visitItem(y.getItem()):Pe.shouldNeverReachHere())}else if(j(arguments[2],De)&&arguments[0]instanceof Object&&arguments[1]instanceof vn)for(var k=arguments[0],C=arguments[2],A=arguments[1].getChildBoundables(),V=0;V<A.size();V++){var te=A.get(V);this.getIntersectsOp().intersects(te.getBounds(),k)&&(te instanceof vn?this.queryInternal(k,te,C):te instanceof ot?C.add(te.getItem()):Pe.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(n){return n.get(n.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var u=r.next();u instanceof vn?n+=this.size(u):u instanceof ot&&(n+=1)}return n}}},{key:"removeItem",value:function(n,r){for(var u=null,p=n.getChildBoundables().iterator();p.hasNext();){var y=p.next();y instanceof ot&&y.getItem()===r&&(u=y)}return u!==null&&(n.getChildBoundables().remove(u),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new We:n}if(arguments.length===1){for(var r=arguments[0],u=new We,p=r.getChildBoundables().iterator();p.hasNext();){var y=p.next();if(y instanceof vn){var k=this.itemsTree(y);k!==null&&u.add(k)}else y instanceof ot?u.add(y.getItem()):Pe.shouldNeverReachHere()}return u.size()<=0?null:u}}},{key:"insert",value:function(n,r){Pe.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ot(n,r))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var n=arguments[0],r=new We;return this.boundablesAtLevel(n,this._root,r),r}if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2];if(Pe.isTrue(u>-2),p.getLevel()===u)return y.add(p),null;for(var k=p.getChildBoundables().iterator();k.hasNext();){var C=k.next();C instanceof vn?this.boundablesAtLevel(u,C,y):(Pe.isTrue(C instanceof ot),u===-1&&y.add(C))}return null}}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];this.build();var r=new We;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,r),r}if(arguments.length===2){var u=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),u)&&this.queryInternal(u,this._root,p)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,r)}if(arguments.length===3){var u=arguments[0],p=arguments[1],y=arguments[2],k=this.removeItem(p,y);if(k)return!0;for(var C=null,A=p.getChildBoundables().iterator();A.hasNext();){var V=A.next();if(this.getIntersectsOp().intersects(V.getBounds(),u)&&V instanceof vn&&(k=this.remove(u,V,y))){C=V;break}}return C!==null&&C.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(C),k}}},{key:"createHigherLevels",value:function(n,r){Pe.isTrue(!n.isEmpty());var u=this.createParentBoundables(n,r+1);return u.size()===1?u.get(0):this.createHigherLevels(u,r+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=0,r=arguments[0].getChildBoundables().iterator();r.hasNext();){var u=r.next();if(u instanceof vn){var p=this.depth(u);p>n&&(n=p)}}return n+1}}},{key:"createParentBoundables",value:function(n,r){Pe.isTrue(!n.isEmpty());var u=new We;u.add(this.createNode(r));var p=new We(n);Er.sort(p,this.getComparator());for(var y=p.iterator();y.hasNext();){var k=y.next();this.lastNode(u).getChildBoundables().size()===this.getNodeCapacity()&&u.add(this.createNode(r)),this.lastNode(u).addChildBoundable(k)}return u}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[Z]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new We,this._nodeCapacity=null,arguments.length===0)c.constructor_.call(this,c.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];Pe.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}}},{key:"compareDoubles",value:function(n,r){return n>r?1:n<r?-1:0}}])}();kr.IntersectsOp=function(){},kr.DEFAULT_NODE_CAPACITY=10;var sh=function(){return d(function c(){i(this,c)},[{key:"distance",value:function(c,n){}}])}(),vi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(r,u){Pe.isTrue(r.length>0);for(var p=new We,y=0;y<r.length;y++)p.addAll(this.createParentBoundablesFromVerticalSlice(r[y],u));return p}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.nearestNeighbourK(r,ue.POSITIVE_INFINITY,u)}if(arguments.length===3){var p=arguments[0],y=arguments[2],k=arguments[1],C=new Po;C.add(p);for(var A=new Po;!C.isEmpty()&&k>=0;){var V=C.poll(),te=V.getDistance();if(te>=k)break;V.isLeaves()?A.size()<y?A.add(V):(A.peek().getDistance()>te&&(A.poll(),A.add(V)),k=A.peek().getDistance()):V.expandToQueue(C,k)}return n.getItems(A)}}},{key:"createNode",value:function(r){return new No(r)}},{key:"size",value:function(){return arguments.length===0?I(n,"size",this,1).call(this):I(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ce))return I(n,"insert",this,1).apply(this,arguments);var r=arguments[0],u=arguments[1];if(r.isNull())return null;I(n,"insert",this,1).call(this,r,u)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(r,u){for(var p=Math.trunc(Math.ceil(r.size()/u)),y=new Array(u).fill(null),k=r.iterator(),C=0;C<u;C++){y[C]=new We;for(var A=0;k.hasNext()&&A<p;){var V=k.next();y[C].add(V),A++}}return y}},{key:"query",value:function(){if(arguments.length===1){var r=arguments[0];return I(n,"query",this,1).call(this,r)}if(arguments.length===2){var u=arguments[0],p=arguments[1];I(n,"query",this,1).call(this,u,p)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(r,u){return I(n,"createParentBoundables",this,1).call(this,r,u)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ce){var r=arguments[0],u=arguments[1];return I(n,"remove",this,1).call(this,r,u)}return I(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?I(n,"depth",this,1).call(this):I(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(r,u){Pe.isTrue(!r.isEmpty());var p=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),y=new We(r);Er.sort(y,n.xComparator);var k=this.verticalSlices(y,Math.trunc(Math.ceil(Math.sqrt(p))));return this.createParentBoundablesFromVerticalSlices(k,u)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(j(arguments[0],sh)){var r=arguments[0];if(this.isEmpty())return null;var u=new Ki(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(u)}if(arguments[0]instanceof Ki){var p=arguments[0],y=ue.POSITIVE_INFINITY,k=null,C=new Po;for(C.add(p);!C.isEmpty()&&y>0;){var A=C.poll(),V=A.getDistance();if(V>=y)break;A.isLeaves()?(y=V,k=A):A.expandToQueue(C,y)}return k===null?null:[k.getBoundable(0).getItem(),k.getBoundable(1).getItem()]}}else{if(arguments.length===2){var te=arguments[0],se=arguments[1];if(this.isEmpty()||te.isEmpty())return null;var xe=new Ki(this.getRoot(),te.getRoot(),se);return this.nearestNeighbour(xe)}if(arguments.length===3){var Be=arguments[2],Ze=new ot(arguments[0],arguments[1]),Ke=new Ki(this.getRoot(),Ze,Be);return this.nearestNeighbour(Ke)[0]}if(arguments.length===4){var gt=arguments[2],lt=arguments[3],At=new ot(arguments[0],arguments[1]),qt=new Ki(this.getRoot(),At,gt);return this.nearestNeighbourK(qt,lt)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var r=arguments[0],u=arguments[1],p=ue.POSITIVE_INFINITY,y=new Po;for(y.add(r);!y.isEmpty();){var k=y.poll(),C=k.getDistance();if(C>u)return!1;if(k.maximumDistance()<=u)return!0;if(k.isLeaves()){if((p=C)<=u)return!0}else k.expandToQueue(y,p)}return!1}if(arguments.length===3){var A=arguments[0],V=arguments[1],te=arguments[2],se=new Ki(this.getRoot(),A.getRoot(),V);return this.isWithinDistance(se,te)}}},{key:"interfaces_",get:function(){return[ai,Z]}}],[{key:"constructor_",value:function(){if(arguments.length===0)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var r=arguments[0];kr.constructor_.call(this,r)}}},{key:"centreX",value:function(r){return n.avg(r.getMinX(),r.getMaxX())}},{key:"avg",value:function(r,u){return(r+u)/2}},{key:"getItems",value:function(r){for(var u=new Array(r.size()).fill(null),p=0;!r.isEmpty();){var y=r.poll();u[p]=y.getBoundable(0).getItem(),p++}return u}},{key:"centreY",value:function(r){return n.avg(r.getMinY(),r.getMaxY())}}])}(kr),No=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"computeBounds",value:function(){for(var r=null,u=this.getChildBoundables().iterator();u.hasNext();){var p=u.next();r===null?r=new Ce(p.getBounds()):r.expandToInclude(p.getBounds())}return r}}],[{key:"constructor_",value:function(){var r=arguments[0];vn.constructor_.call(this,r)}}])}(vn);vi.STRtreeNode=No,vi.xComparator=new(function(){return d(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[Ae]}},{key:"compare",value:function(c,n){return kr.compareDoubles(vi.centreX(c.getBounds()),vi.centreX(n.getBounds()))}}])}()),vi.yComparator=new(function(){return d(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[Ae]}},{key:"compare",value:function(c,n){return kr.compareDoubles(vi.centreY(c.getBounds()),vi.centreY(n.getBounds()))}}])}()),vi.intersectsOp=new(function(){return d(function c(){i(this,c)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(c,n){return c.intersects(n)}}])}()),vi.DEFAULT_NODE_CAPACITY=10;var oh=function(){function c(){i(this,c)}return d(c,null,[{key:"relativeSign",value:function(n,r){return n<r?-1:n>r?1:0}},{key:"compare",value:function(n,r,u){if(r.equals2D(u))return 0;var p=c.relativeSign(r.x,u.x),y=c.relativeSign(r.y,u.y);switch(n){case 0:return c.compareValue(p,y);case 1:return c.compareValue(y,p);case 2:return c.compareValue(y,-p);case 3:return c.compareValue(-p,y);case 4:return c.compareValue(-p,-y);case 5:return c.compareValue(-y,-p);case 6:return c.compareValue(-y,p);case 7:return c.compareValue(p,-y)}return Pe.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(n,r){return n<0?-1:n>0?1:r<0?-1:r>0?1:0}}])}(),_i=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(c){var n=c;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:this._isInterior?n._isInterior?oh.compare(this._segmentOctant,this.coord,n.coord):1:-1}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===c}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var c=arguments[0],n=arguments[1],r=arguments[2],u=arguments[3];this._segString=c,this.coord=new H(n),this.segmentIndex=r,this._segmentOctant=u,this._isInterior=!n.equals2D(c.getCoordinate(r))}}])}(),ah=function(){return d(function c(){i(this,c)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),eu=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var c=new Ps;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next();this.addEdgeCoordinates(r,u,c),r=u}return c.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var c=new We;this.findCollapsesFromInsertedNodes(c),this.findCollapsesFromExistingVertices(c);for(var n=c.iterator();n.hasNext();){var r=n.next().intValue();this.add(this._edge.getCoordinate(r),r)}}},{key:"createSplitEdgePts",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2;if(r===2)return[new H(c.coord),new H(n.coord)];var u=this._edge.getCoordinate(n.segmentIndex),p=n.isInterior()||!n.coord.equals2D(u);p||r--;var y=new Array(r).fill(null),k=0;y[k++]=new H(c.coord);for(var C=c.segmentIndex+1;C<=n.segmentIndex;C++)y[k++]=this._edge.getCoordinate(C);return p&&(y[k]=new H(n.coord)),y}},{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"findCollapsesFromExistingVertices",value:function(c){for(var n=0;n<this._edge.size()-2;n++){var r=this._edge.getCoordinate(n);this._edge.getCoordinate(n+1);var u=this._edge.getCoordinate(n+2);r.equals2D(u)&&c.add(Ge.valueOf(n+1))}}},{key:"addEdgeCoordinates",value:function(c,n,r){var u=this.createSplitEdgePts(c,n);r.add(u,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next(),p=this.createSplitEdge(r,u);c.add(p),r=u}}},{key:"findCollapseIndex",value:function(c,n,r){if(!c.coord.equals2D(n.coord))return!1;var u=n.segmentIndex-c.segmentIndex;return n.isInterior()||u--,u===1&&(r[0]=c.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(c){for(var n=new Array(1).fill(null),r=this.iterator(),u=r.next();r.hasNext();){var p=r.next();this.findCollapseIndex(u,p,n)&&c.add(Ge.valueOf(n[0])),u=p}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var c=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(c),c)}},{key:"createSplitEdge",value:function(c,n){var r=this.createSplitEdgePts(c,n);return new Mi(r,this._edge.getData())}},{key:"add",value:function(c,n){var r=new _i(this._edge,c,n,this._edge.getSegmentOctant(n)),u=this._nodeMap.get(r);return u!==null?(Pe.isTrue(u.coord.equals2D(c),"Found equal nodes with different coordinates"),u):(this._nodeMap.put(r,r),r)}},{key:"checkSplitEdgesCorrectness",value:function(c){var n=this._edge.getCoordinates(),r=c.get(0).getCoordinate(0);if(!r.equals2D(n[0]))throw new Ue("bad split edge start point at "+r);var u=c.get(c.size()-1).getCoordinates(),p=u[u.length-1];if(!p.equals2D(n[n.length-1]))throw new Ue("bad split edge end point at "+p)}}],[{key:"constructor_",value:function(){this._nodeMap=new Zt,this._edge=null;var c=arguments[0];this._edge=c}}])}(),Ji=function(){function c(){i(this,c)}return d(c,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];if(n===0&&r===0)throw new W("Cannot compute the octant for point ( "+n+", "+r+" )");var u=Math.abs(n),p=Math.abs(r);return n>=0?r>=0?u>=p?0:1:u>=p?7:6:r>=0?u>=p?3:2:u>=p?4:5}if(arguments[0]instanceof H&&arguments[1]instanceof H){var y=arguments[0],k=arguments[1],C=k.x-y.x,A=k.y-y.y;if(C===0&&A===0)throw new W("Cannot compute the octant for two identical points "+y);return c.octant(C,A)}}}])}(),tu=function(){return d(function c(){i(this,c)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(c){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(c){}},{key:"getData",value:function(){}}])}(),nu=function(){return d(function c(){i(this,c)},[{key:"addIntersection",value:function(c,n){}},{key:"interfaces_",get:function(){return[tu]}}])}(),Mi=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(n){return this._pts[n]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(n){return n===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))}},{key:"setData",value:function(n){this._data=n}},{key:"safeOctant",value:function(n,r){return n.equals2D(r)?0:Ji.octant(n,r)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this.addIntersectionNode(n,r)}else if(arguments.length===4){var u=arguments[1],p=arguments[3],y=new H(arguments[0].getIntersection(p));this.addIntersection(y,u)}}},{key:"toString",value:function(){return Ms.toLineString(new Ns(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(n,r){var u=r,p=u+1;if(p<this._pts.length){var y=this._pts[p];n.equals2D(y)&&(u=p)}return this._nodeList.add(n,u)}},{key:"addIntersections",value:function(n,r,u){for(var p=0;p<n.getIntersectionNum();p++)this.addIntersection(n,r,u,p)}},{key:"interfaces_",get:function(){return[nu]}}],[{key:"constructor_",value:function(){this._nodeList=new eu(this),this._pts=null,this._data=null;var n=arguments[0],r=arguments[1];this._pts=n,this._data=r}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var n=arguments[0],r=new We;return c.getNodedSubstrings(n,r),r}if(arguments.length===2)for(var u=arguments[1],p=arguments[0].iterator();p.hasNext();)p.next().getNodeList().addSplitEdges(u)}}])}(),An=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof c){var n=arguments[0],r=Ye.index(this.p0,this.p1,n.p0),u=Ye.index(this.p0,this.p1,n.p1);return r>=0&&u>=0||r<=0&&u<=0?Math.max(r,u):0}if(arguments[0]instanceof H){var p=arguments[0];return Ye.index(this.p0,this.p1,p)}}},{key:"toGeometry",value:function(n){return n.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(n){if(!(n instanceof c))return!1;var r=n;return this.p0.equals(r.p0)&&this.p1.equals(r.p1)}},{key:"intersection",value:function(n){var r=new Oi;return r.computeIntersection(this.p0,this.p1,n.p0,n.p1),r.hasIntersection()?r.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof H){var n=arguments[0];if(n.equals(this.p0)||n.equals(this.p1))return new H(n);var r=this.projectionFactor(n),u=new H;return u.x=this.p0.x+r*(this.p1.x-this.p0.x),u.y=this.p0.y+r*(this.p1.y-this.p0.y),u}if(arguments[0]instanceof c){var p=arguments[0],y=this.projectionFactor(p.p0),k=this.projectionFactor(p.p1);if(y>=1&&k>=1||y<=0&&k<=0)return null;var C=this.project(p.p0);y<0&&(C=this.p0),y>1&&(C=this.p1);var A=this.project(p.p1);return k<0&&(A=this.p0),k>1&&(A=this.p1),new c(C,A)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(n){return n===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(n){return oi.pointToLinePerpendicular(n,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return c.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var r=this.p1.x-this.p0.x,u=this.p1.y-this.p0.y,p=r*r+u*u;return p<=0?ue.NaN:((n.x-this.p0.x)*r+(n.y-this.p0.y)*u)/p}},{key:"closestPoints",value:function(n){var r=this.intersection(n);if(r!==null)return[r,r];var u=new Array(2).fill(null),p=ue.MAX_VALUE,y=null,k=this.closestPoint(n.p0);p=k.distance(n.p0),u[0]=k,u[1]=n.p0;var C=this.closestPoint(n.p1);(y=C.distance(n.p1))<p&&(p=y,u[0]=C,u[1]=n.p1);var A=n.closestPoint(this.p0);(y=A.distance(this.p0))<p&&(p=y,u[0]=this.p0,u[1]=A);var V=n.closestPoint(this.p1);return(y=V.distance(this.p1))<p&&(p=y,u[0]=this.p1,u[1]=V),u}},{key:"closestPoint",value:function(n){var r=this.projectionFactor(n);return r>0&&r<1?this.project(n):this.p0.distance(n)<this.p1.distance(n)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(n){var r=n,u=this.p0.compareTo(r.p0);return u!==0?u:this.p1.compareTo(r.p1)}},{key:"reverse",value:function(){var n=this.p0;this.p0=this.p1,this.p1=n}},{key:"equalsTopo",value:function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)}},{key:"lineIntersection",value:function(n){return ya.intersection(this.p0,this.p1,n.p0,n.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(n,r){var u=this.p0.x+n*(this.p1.x-this.p0.x),p=this.p0.y+n*(this.p1.y-this.p0.y),y=this.p1.x-this.p0.x,k=this.p1.y-this.p0.y,C=Math.sqrt(y*y+k*k),A=0,V=0;if(r!==0){if(C<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");A=r*y/C,V=r*k/C}return new H(u-V,p+A)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var n=arguments[0];this.setCoordinates(n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.p0.x=r.x,this.p0.y=r.y,this.p1.x=u.x,this.p1.y=u.y}}},{key:"segmentFraction",value:function(n){var r=this.projectionFactor(n);return r<0?r=0:(r>1||ue.isNaN(r))&&(r=1),r}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(n){var r=this.p1.getY()-this.p0.getY(),u=this.p0.getX()-this.p1.getX(),p=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),y=r*r+u*u,k=r*r-u*u,C=n.getX(),A=n.getY();return new H((-k*C-2*r*u*A-2*r*p)/y,(k*A-2*r*u*C-2*u*p)/y)}},{key:"distance",value:function(){if(arguments[0]instanceof c){var n=arguments[0];return oi.segmentToSegment(this.p0,this.p1,n.p0,n.p1)}if(arguments[0]instanceof H){var r=arguments[0];return oi.pointToSegment(r,this.p0,this.p1)}}},{key:"pointAlong",value:function(n){var r=new H;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}},{key:"hashCode",value:function(){var n=ue.doubleToLongBits(this.p0.x);n^=31*ue.doubleToLongBits(this.p0.y);var r=Math.trunc(n)^Math.trunc(n>>32),u=ue.doubleToLongBits(this.p1.x);return u^=31*ue.doubleToLongBits(this.p1.y),r^(Math.trunc(u)^Math.trunc(u>>32))}},{key:"interfaces_",get:function(){return[z,Z]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)c.constructor_.call(this,new H,new H);else if(arguments.length===1){var n=arguments[0];c.constructor_.call(this,n.p0,n.p1)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.p0=r,this.p1=u}else if(arguments.length===4){var p=arguments[0],y=arguments[1],k=arguments[2],C=arguments[3];c.constructor_.call(this,new H(p,y),new H(k,C))}}},{key:"midPoint",value:function(n,r){return new H((n.x+r.x)/2,(n.y+r.y)/2)}}])}(),iu=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var c=arguments[1],n=arguments[2],r=arguments[3];arguments[0].getLineSegment(c,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new An,this._overlapSeg2=new An}}])}(),Ra=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(c,n){n.p0=this._pts[c],n.p1=this._pts[c+1]}},{key:"computeSelect",value:function(c,n,r,u){var p=this._pts[n],y=this._pts[r];if(r-n==1)return u.select(this,n),null;if(!c.intersects(p,y))return null;var k=Math.trunc((n+r)/2);n<k&&this.computeSelect(c,n,k,u),k<r&&this.computeSelect(c,k,r,u)}},{key:"getCoordinates",value:function(){for(var c=new Array(this._end-this._start+1).fill(null),n=0,r=this._start;r<=this._end;r++)c[n++]=this._pts[r];return c}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var c=arguments[0],n=arguments[1];this.computeOverlaps(this._start,this._end,c,c._start,c._end,n)}else if(arguments.length===6){var r=arguments[0],u=arguments[1],p=arguments[2],y=arguments[3],k=arguments[4],C=arguments[5];if(u-r==1&&k-y==1)return C.overlap(this,r,p,y),null;if(!this.overlaps(r,u,p,y,k))return null;var A=Math.trunc((r+u)/2),V=Math.trunc((y+k)/2);r<A&&(y<V&&this.computeOverlaps(r,A,p,y,V,C),V<k&&this.computeOverlaps(r,A,p,V,k,C)),A<u&&(y<V&&this.computeOverlaps(A,u,p,y,V,C),V<k&&this.computeOverlaps(A,u,p,V,k,C))}}},{key:"setId",value:function(c){this._id=c}},{key:"select",value:function(c,n){this.computeSelect(c,this._start,this._end,n)}},{key:"getEnvelope",value:function(){if(this._env===null){var c=this._pts[this._start],n=this._pts[this._end];this._env=new Ce(c,n)}return this._env}},{key:"overlaps",value:function(c,n,r,u,p){return Ce.intersects(this._pts[c],this._pts[n],r._pts[u],r._pts[p])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var c=arguments[0],n=arguments[1],r=arguments[2],u=arguments[3];this._pts=c,this._start=n,this._end=r,this._context=u}}])}(),lh=function(){function c(){i(this,c)}return d(c,null,[{key:"findChainEnd",value:function(n,r){for(var u=r;u<n.length-1&&n[u].equals2D(n[u+1]);)u++;if(u>=n.length-1)return n.length-1;for(var p=gn.quadrant(n[u],n[u+1]),y=r+1;y<n.length&&!(!n[y-1].equals2D(n[y])&&gn.quadrant(n[y-1],n[y])!==p);)y++;return y-1}},{key:"getChains",value:function(){if(arguments.length===1){var n=arguments[0];return c.getChains(n,null)}if(arguments.length===2){var r=arguments[0],u=arguments[1],p=new We,y=0;do{var k=c.findChainEnd(r,y),C=new Ra(r,y,k,u);p.add(C),y=k}while(y<r.length-1);return p}}}])}(),Da=function(){return d(function c(){i(this,c)},[{key:"computeNodes",value:function(c){}},{key:"getNodedSubstrings",value:function(){}}])}(),Oo=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(c){this._segInt=c}},{key:"interfaces_",get:function(){return[Da]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this.setSegmentIntersector(c)}}}}])}(),Ba=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Mi.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(r){for(var u=lh.getChains(r.getCoordinates(),r).iterator();u.hasNext();){var p=u.next();p.setId(this._idCounter++),this._index.insert(p.getEnvelope(),p),this._monoChains.add(p)}}},{key:"computeNodes",value:function(r){this._nodedSegStrings=r;for(var u=r.iterator();u.hasNext();)this.add(u.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var r=new Fa(this._segInt),u=this._monoChains.iterator();u.hasNext();)for(var p=u.next(),y=this._index.query(p.getEnvelope()).iterator();y.hasNext();){var k=y.next();if(k.getId()>p.getId()&&(p.computeOverlaps(k,r),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new We,this._index=new vi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var r=arguments[0];Oo.constructor_.call(this,r)}}}}])}(Oo),Fa=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"overlap",value:function(){if(arguments.length!==4)return I(n,"overlap",this,1).apply(this,arguments);var r=arguments[1],u=arguments[2],p=arguments[3],y=arguments[0].getContext(),k=u.getContext();this._si.processIntersections(y,r,k,p)}}],[{key:"constructor_",value:function(){this._si=null;var r=arguments[0];this._si=r}}])}(iu);Ba.SegmentOverlapAction=Fa;var Kn=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isDeletable",value:function(n,r,u,p){var y=this._inputLine[n],k=this._inputLine[r],C=this._inputLine[u];return!!this.isConcave(y,k,C)&&!!this.isShallow(y,k,C,p)&&this.isShallowSampled(y,k,n,u,p)}},{key:"deleteShallowConcavities",value:function(){for(var n=1,r=this.findNextNonDeletedIndex(n),u=this.findNextNonDeletedIndex(r),p=!1;u<this._inputLine.length;){var y=!1;this.isDeletable(n,r,u,this._distanceTol)&&(this._isDeleted[r]=c.DELETE,y=!0,p=!0),n=y?u:r,r=this.findNextNonDeletedIndex(n),u=this.findNextNonDeletedIndex(r)}return p}},{key:"isShallowConcavity",value:function(n,r,u,p){return Ye.index(n,r,u)===this._angleOrientation&&oi.pointToSegment(r,n,u)<p}},{key:"isShallowSampled",value:function(n,r,u,p,y){var k=Math.trunc((p-u)/c.NUM_PTS_TO_CHECK);k<=0&&(k=1);for(var C=u;C<p;C+=k)if(!this.isShallow(n,r,this._inputLine[C],y))return!1;return!0}},{key:"isConcave",value:function(n,r,u){var p=Ye.index(n,r,u)===this._angleOrientation;return p}},{key:"simplify",value:function(n){this._distanceTol=Math.abs(n),n<0&&(this._angleOrientation=Ye.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=this.deleteShallowConcavities();while(r);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(n){for(var r=n+1;r<this._inputLine.length&&this._isDeleted[r]===c.DELETE;)r++;return r}},{key:"isShallow",value:function(n,r,u,p){return oi.pointToSegment(r,n,u)<p}},{key:"collapseLine",value:function(){for(var n=new Ps,r=0;r<this._inputLine.length;r++)this._isDeleted[r]!==c.DELETE&&n.add(this._inputLine[r]);return n.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ye.COUNTERCLOCKWISE;var n=arguments[0];this._inputLine=n}},{key:"simplify",value:function(n,r){return new c(n).simplify(r)}}])}();Kn.INIT=0,Kn.DELETE=1,Kn.KEEP=1,Kn.NUM_PTS_TO_CHECK=10;var Ds=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getCoordinates",value:function(){return this._ptList.toArray(c.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"addPt",value:function(n){var r=new H(n);if(this._precisionModel.makePrecise(r),this.isRedundant(r))return null;this._ptList.add(r)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(n,r){if(r)for(var u=0;u<n.length;u++)this.addPt(n[u]);else for(var p=n.length-1;p>=0;p--)this.addPt(n[p])}},{key:"isRedundant",value:function(n){if(this._ptList.size()<1)return!1;var r=this._ptList.get(this._ptList.size()-1);return n.distance(r)<this._minimimVertexDistance}},{key:"toString",value:function(){return new pi().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var n=new H(this._ptList.get(0)),r=this._ptList.get(this._ptList.size()-1);if(n.equals(r))return null;this._ptList.add(n)}},{key:"setMinimumVertexDistance",value:function(n){this._minimimVertexDistance=n}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new We}}])}();Ds.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var rn=function(){function c(){i(this,c)}return d(c,null,[{key:"toDegrees",value:function(n){return 180*n/Math.PI}},{key:"normalize",value:function(n){for(;n>Math.PI;)n-=c.PI_TIMES_2;for(;n<=-Math.PI;)n+=c.PI_TIMES_2;return n}},{key:"angle",value:function(){if(arguments.length===1){var n=arguments[0];return Math.atan2(n.y,n.x)}if(arguments.length===2){var r=arguments[0],u=arguments[1],p=u.x-r.x,y=u.y-r.y;return Math.atan2(y,p)}}},{key:"isAcute",value:function(n,r,u){var p=n.x-r.x,y=n.y-r.y;return p*(u.x-r.x)+y*(u.y-r.y)>0}},{key:"isObtuse",value:function(n,r,u){var p=n.x-r.x,y=n.y-r.y;return p*(u.x-r.x)+y*(u.y-r.y)<0}},{key:"interiorAngle",value:function(n,r,u){var p=c.angle(r,n),y=c.angle(r,u);return Math.abs(y-p)}},{key:"normalizePositive",value:function(n){if(n<0){for(;n<0;)n+=c.PI_TIMES_2;n>=c.PI_TIMES_2&&(n=0)}else{for(;n>=c.PI_TIMES_2;)n-=c.PI_TIMES_2;n<0&&(n=0)}return n}},{key:"angleBetween",value:function(n,r,u){var p=c.angle(r,n),y=c.angle(r,u);return c.diff(p,y)}},{key:"diff",value:function(n,r){var u=null;return(u=n<r?r-n:n-r)>Math.PI&&(u=2*Math.PI-u),u}},{key:"toRadians",value:function(n){return n*Math.PI/180}},{key:"getTurn",value:function(n,r){var u=Math.sin(r-n);return u>0?c.COUNTERCLOCKWISE:u<0?c.CLOCKWISE:c.NONE}},{key:"angleBetweenOriented",value:function(n,r,u){var p=c.angle(r,n),y=c.angle(r,u)-p;return y<=-Math.PI?y+c.PI_TIMES_2:y>Math.PI?y-c.PI_TIMES_2:y}}])}();rn.PI_TIMES_2=2*Math.PI,rn.PI_OVER_2=Math.PI/2,rn.PI_OVER_4=Math.PI/4,rn.COUNTERCLOCKWISE=Ye.COUNTERCLOCKWISE,rn.CLOCKWISE=Ye.CLOCKWISE,rn.NONE=Ye.COLLINEAR;var Bs=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"addNextSegment",value:function(n,r){if(this._s0=this._s1,this._s1=this._s2,this._s2=n,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var u=Ye.index(this._s0,this._s1,this._s2),p=u===Ye.CLOCKWISE&&this._side===M.LEFT||u===Ye.COUNTERCLOCKWISE&&this._side===M.RIGHT;u===0?this.addCollinear(r):p?this.addOutsideTurn(u,r):this.addInsideTurn(u,r)}},{key:"addLineEndCap",value:function(n,r){var u=new An(n,r),p=new An;this.computeOffsetSegment(u,M.LEFT,this._distance,p);var y=new An;this.computeOffsetSegment(u,M.RIGHT,this._distance,y);var k=r.x-n.x,C=r.y-n.y,A=Math.atan2(C,k);switch(this._bufParams.getEndCapStyle()){case D.CAP_ROUND:this._segList.addPt(p.p1),this.addDirectedFillet(r,A+Math.PI/2,A-Math.PI/2,Ye.CLOCKWISE,this._distance),this._segList.addPt(y.p1);break;case D.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(y.p1);break;case D.CAP_SQUARE:var V=new H;V.x=Math.abs(this._distance)*Math.cos(A),V.y=Math.abs(this._distance)*Math.sin(A);var te=new H(p.p1.x+V.x,p.p1.y+V.y),se=new H(y.p1.x+V.x,y.p1.y+V.y);this._segList.addPt(te),this._segList.addPt(se)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(n,r,u,p){var y=ya.intersection(r.p0,r.p1,u.p0,u.p1);if(y!==null&&(p<=0?1:y.distance(n)/Math.abs(p))<=this._bufParams.getMitreLimit())return this._segList.addPt(y),null;this.addLimitedMitreJoin(r,u,p,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(n,r){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*c.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===D.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===D.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(r&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,n,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(n){this._segList.addPt(new H(n.x+this._distance,n.y+this._distance)),this._segList.addPt(new H(n.x+this._distance,n.y-this._distance)),this._segList.addPt(new H(n.x-this._distance,n.y-this._distance)),this._segList.addPt(new H(n.x-this._distance,n.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(n,r){this._segList.addPts(n,r)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(n,r,u,p,y){var k=r.x-n.x,C=r.y-n.y,A=Math.atan2(C,k),V=u.x-n.x,te=u.y-n.y,se=Math.atan2(te,V);p===Ye.CLOCKWISE?A<=se&&(A+=2*Math.PI):A>=se&&(A-=2*Math.PI),this._segList.addPt(r),this.addDirectedFillet(n,A,se,p,y),this._segList.addPt(u)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(n,r,u){this._s1=n,this._s2=r,this._side=u,this._seg1.setCoordinates(n,r),this.computeOffsetSegment(this._seg1,u,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(n,r,u,p){var y=this._seg0.p1,k=rn.angle(y,this._seg0.p0),C=rn.angleBetweenOriented(this._seg0.p0,y,this._seg1.p1)/2,A=rn.normalize(k+C),V=rn.normalize(A+Math.PI),te=p*u,se=u-te*Math.abs(Math.sin(C)),xe=y.x+te*Math.cos(V),Be=y.y+te*Math.sin(V),Ze=new H(xe,Be),Ke=new An(y,Ze),gt=Ke.pointAlongOffset(1,se),lt=Ke.pointAlongOffset(1,-se);this._side===M.LEFT?(this._segList.addPt(gt),this._segList.addPt(lt)):(this._segList.addPt(lt),this._segList.addPt(gt))}},{key:"addDirectedFillet",value:function(n,r,u,p,y){var k=p===Ye.CLOCKWISE?-1:1,C=Math.abs(r-u),A=Math.trunc(C/this._filletAngleQuantum+.5);if(A<1)return null;for(var V=C/A,te=new H,se=0;se<A;se++){var xe=r+k*se*V;te.x=n.x+y*Math.cos(xe),te.y=n.y+y*Math.sin(xe),this._segList.addPt(te)}}},{key:"computeOffsetSegment",value:function(n,r,u,p){var y=r===M.LEFT?1:-1,k=n.p1.x-n.p0.x,C=n.p1.y-n.p0.y,A=Math.sqrt(k*k+C*C),V=y*u*k/A,te=y*u*C/A;p.p0.x=n.p0.x-te,p.p0.y=n.p0.y+V,p.p1.x=n.p1.x-te,p.p1.y=n.p1.y+V}},{key:"addInsideTurn",value:function(n,r){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*c.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var u=new H((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(u);var p=new H((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(n){var r=new H(n.x+this._distance,n.y);this._segList.addPt(r),this.addDirectedFillet(n,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(n,r){this._segList.addPt(n.p1),this._segList.addPt(r.p0)}},{key:"init",value:function(n){this._distance=n,this._maxCurveSegmentError=n*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ds,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(n*c.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(n){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===D.JOIN_BEVEL||this._bufParams.getJoinStyle()===D.JOIN_MITRE?(n&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Ye.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new An,this._seg1=new An,this._offset0=new An,this._offset1=new An,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],r=arguments[1],u=arguments[2];this._precisionModel=n,this._bufParams=r,this._li=new Oi,this._filletAngleQuantum=Math.PI/2/r.getQuadrantSegments(),r.getQuadrantSegments()>=8&&r.getJoinStyle()===D.JOIN_ROUND&&(this._closingSegLengthFactor=c.MAX_CLOSING_SEG_LEN_FACTOR),this.init(u)}}])}();Bs.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Bs.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Bs.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Bs.MAX_CLOSING_SEG_LEN_FACTOR=80;var Fs=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getOffsetCurve",value:function(n,r){if(this._distance=r,r===0)return null;var u=r<0,p=Math.abs(r),y=this.getSegGen(p);n.length<=1?this.computePointCurve(n[0],y):this.computeOffsetCurve(n,u,y);var k=y.getCoordinates();return u&&Xt.reverse(k),k}},{key:"computeSingleSidedBufferCurve",value:function(n,r,u){var p=this.simplifyTolerance(this._distance);if(r){u.addSegments(n,!0);var y=Kn.simplify(n,-p),k=y.length-1;u.initSideSegments(y[k],y[k-1],M.LEFT),u.addFirstSegment();for(var C=k-2;C>=0;C--)u.addNextSegment(y[C],!0)}else{u.addSegments(n,!1);var A=Kn.simplify(n,p),V=A.length-1;u.initSideSegments(A[0],A[1],M.LEFT),u.addFirstSegment();for(var te=2;te<=V;te++)u.addNextSegment(A[te],!0)}u.addLastSegment(),u.closeRing()}},{key:"computeRingBufferCurve",value:function(n,r,u){var p=this.simplifyTolerance(this._distance);r===M.RIGHT&&(p=-p);var y=Kn.simplify(n,p),k=y.length-1;u.initSideSegments(y[k-1],y[0],r);for(var C=1;C<=k;C++){var A=C!==1;u.addNextSegment(y[C],A)}u.closeRing()}},{key:"computeLineBufferCurve",value:function(n,r){var u=this.simplifyTolerance(this._distance),p=Kn.simplify(n,u),y=p.length-1;r.initSideSegments(p[0],p[1],M.LEFT);for(var k=2;k<=y;k++)r.addNextSegment(p[k],!0);r.addLastSegment(),r.addLineEndCap(p[y-1],p[y]);var C=Kn.simplify(n,-u),A=C.length-1;r.initSideSegments(C[A],C[A-1],M.LEFT);for(var V=A-2;V>=0;V--)r.addNextSegment(C[V],!0);r.addLastSegment(),r.addLineEndCap(C[1],C[0]),r.closeRing()}},{key:"computePointCurve",value:function(n,r){switch(this._bufParams.getEndCapStyle()){case D.CAP_ROUND:r.createCircle(n);break;case D.CAP_SQUARE:r.createSquare(n)}}},{key:"getLineCurve",value:function(n,r){if(this._distance=r,this.isLineOffsetEmpty(r))return null;var u=Math.abs(r),p=this.getSegGen(u);if(n.length<=1)this.computePointCurve(n[0],p);else if(this._bufParams.isSingleSided()){var y=r<0;this.computeSingleSidedBufferCurve(n,y,p)}else this.computeLineBufferCurve(n,p);return p.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(n){return n*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(n,r,u){if(this._distance=u,n.length<=2)return this.getLineCurve(n,u);if(u===0)return c.copyCoordinates(n);var p=this.getSegGen(u);return this.computeRingBufferCurve(n,r,p),p.getCoordinates()}},{key:"computeOffsetCurve",value:function(n,r,u){var p=this.simplifyTolerance(this._distance);if(r){var y=Kn.simplify(n,-p),k=y.length-1;u.initSideSegments(y[k],y[k-1],M.LEFT),u.addFirstSegment();for(var C=k-2;C>=0;C--)u.addNextSegment(y[C],!0)}else{var A=Kn.simplify(n,p),V=A.length-1;u.initSideSegments(A[0],A[1],M.LEFT),u.addFirstSegment();for(var te=2;te<=V;te++)u.addNextSegment(A[te],!0)}u.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(n){return n===0||n<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(n){return new Bs(this._precisionModel,this._bufParams,n)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var n=arguments[0],r=arguments[1];this._precisionModel=n,this._bufParams=r}},{key:"copyCoordinates",value:function(n){for(var r=new Array(n.length).fill(null),u=0;u<r.length;u++)r[u]=new H(n[u]);return r}}])}(),Rn=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var c=arguments[0],n=new We,r=this._subgraphs.iterator();r.hasNext();){var u=r.next(),p=u.getEnvelope();c.y<p.getMinY()||c.y>p.getMaxY()||this.findStabbedSegments(c,u.getDirectedEdges(),n)}return n}if(arguments.length===3){if(j(arguments[2],De)&&arguments[0]instanceof H&&arguments[1]instanceof Oa){for(var y=arguments[0],k=arguments[1],C=arguments[2],A=k.getEdge().getCoordinates(),V=0;V<A.length-1;V++)if(this._seg.p0=A[V],this._seg.p1=A[V+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<y.x||this._seg.isHorizontal()||y.y<this._seg.p0.y||y.y>this._seg.p1.y||Ye.index(this._seg.p0,this._seg.p1,y)===Ye.RIGHT)){var te=k.getDepth(M.LEFT);this._seg.p0.equals(A[V])||(te=k.getDepth(M.RIGHT));var se=new za(this._seg,te);C.add(se)}}else if(j(arguments[2],De)&&arguments[0]instanceof H&&j(arguments[1],De))for(var xe=arguments[0],Be=arguments[2],Ze=arguments[1].iterator();Ze.hasNext();){var Ke=Ze.next();Ke.isForward()&&this.findStabbedSegments(xe,Ke,Be)}}}},{key:"getDepth",value:function(c){var n=this.findStabbedSegments(c);return n.size()===0?0:Er.min(n)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new An;var c=arguments[0];this._subgraphs=c}}])}(),za=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(c){var n=c;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(n._upwardSeg);return r!==0||(r=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?r:this._upwardSeg.compareTo(n._upwardSeg)}},{key:"compareX",value:function(c,n){var r=c.p0.compareTo(n.p0);return r!==0?r:c.p1.compareTo(n.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var c=arguments[0],n=arguments[1];this._upwardSeg=new An(c),this._leftDepth=n}}])}();Rn.DepthSegment=za;var $a=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,null,[{key:"constructor_",value:function(){F.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(F),Ua=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getY",value:function(){var n=this.y/this.w;if(ue.isNaN(n)||ue.isInfinite(n))throw new $a;return n}},{key:"getX",value:function(){var n=this.x/this.w;if(ue.isNaN(n)||ue.isInfinite(n))throw new $a;return n}},{key:"getCoordinate",value:function(){var n=new H;return n.x=this.getX(),n.y=this.getY(),n}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var r=arguments[0],u=arguments[1];this.x=r,this.y=u,this.w=1}else if(arguments[0]instanceof c&&arguments[1]instanceof c){var p=arguments[0],y=arguments[1];this.x=p.y*y.w-y.y*p.w,this.y=y.x*p.w-p.x*y.w,this.w=p.x*y.y-y.x*p.y}else if(arguments[0]instanceof H&&arguments[1]instanceof H){var k=arguments[0],C=arguments[1];this.x=k.y-C.y,this.y=C.x-k.x,this.w=k.x*C.y-C.x*k.y}}else if(arguments.length===3){var A=arguments[0],V=arguments[1],te=arguments[2];this.x=A,this.y=V,this.w=te}else if(arguments.length===4){var se=arguments[0],xe=arguments[1],Be=arguments[2],Ze=arguments[3],Ke=se.y-xe.y,gt=xe.x-se.x,lt=se.x*xe.y-xe.x*se.y,At=Be.y-Ze.y,qt=Ze.x-Be.x,cn=Be.x*Ze.y-Ze.x*Be.y;this.x=gt*cn-qt*lt,this.y=At*lt-Ke*cn,this.w=Ke*qt-At*gt}}}])}(),Ga=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"area",value:function(){return c.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return c.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(n){if(n===null)throw new W("Supplied point is null.");return c.interpolateZ(n,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return c.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return c.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return c.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return c.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return c.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return c.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var n=arguments[0],r=arguments[1],u=arguments[2];this.p0=n,this.p1=r,this.p2=u}},{key:"area",value:function(n,r,u){return Math.abs(((u.x-n.x)*(r.y-n.y)-(r.x-n.x)*(u.y-n.y))/2)}},{key:"signedArea",value:function(n,r,u){return((u.x-n.x)*(r.y-n.y)-(r.x-n.x)*(u.y-n.y))/2}},{key:"det",value:function(n,r,u,p){return n*p-r*u}},{key:"interpolateZ",value:function(n,r,u,p){var y=r.x,k=r.y,C=u.x-y,A=p.x-y,V=u.y-k,te=p.y-k,se=C*te-A*V,xe=n.x-y,Be=n.y-k,Ze=(te*xe-A*Be)/se,Ke=(-V*xe+C*Be)/se;return r.getZ()+Ze*(u.getZ()-r.getZ())+Ke*(p.getZ()-r.getZ())}},{key:"longestSideLength",value:function(n,r,u){var p=n.distance(r),y=r.distance(u),k=u.distance(n),C=p;return y>C&&(C=y),k>C&&(C=k),C}},{key:"circumcentreDD",value:function(n,r,u){var p=Oe.valueOf(n.x).subtract(u.x),y=Oe.valueOf(n.y).subtract(u.y),k=Oe.valueOf(r.x).subtract(u.x),C=Oe.valueOf(r.y).subtract(u.y),A=Oe.determinant(p,y,k,C).multiply(2),V=p.sqr().add(y.sqr()),te=k.sqr().add(C.sqr()),se=Oe.determinant(y,V,C,te),xe=Oe.determinant(p,V,k,te),Be=Oe.valueOf(u.x).subtract(se.divide(A)).doubleValue(),Ze=Oe.valueOf(u.y).add(xe.divide(A)).doubleValue();return new H(Be,Ze)}},{key:"isAcute",value:function(n,r,u){return!!rn.isAcute(n,r,u)&&!!rn.isAcute(r,u,n)&&!!rn.isAcute(u,n,r)}},{key:"circumcentre",value:function(n,r,u){var p=u.x,y=u.y,k=n.x-p,C=n.y-y,A=r.x-p,V=r.y-y,te=2*c.det(k,C,A,V),se=c.det(C,k*k+C*C,V,A*A+V*V),xe=c.det(k,k*k+C*C,A,A*A+V*V);return new H(p-se/te,y+xe/te)}},{key:"perpendicularBisector",value:function(n,r){var u=r.x-n.x,p=r.y-n.y,y=new Ua(n.x+u/2,n.y+p/2,1),k=new Ua(n.x-p+u/2,n.y+u+p/2,1);return new Ua(y,k)}},{key:"angleBisector",value:function(n,r,u){var p=r.distance(n),y=p/(p+r.distance(u)),k=u.x-n.x,C=u.y-n.y;return new H(n.x+y*k,n.y+y*C)}},{key:"area3D",value:function(n,r,u){var p=r.x-n.x,y=r.y-n.y,k=r.getZ()-n.getZ(),C=u.x-n.x,A=u.y-n.y,V=u.getZ()-n.getZ(),te=y*V-k*A,se=k*C-p*V,xe=p*A-y*C,Be=te*te+se*se+xe*xe,Ze=Math.sqrt(Be)/2;return Ze}},{key:"centroid",value:function(n,r,u){var p=(n.x+r.x+u.x)/3,y=(n.y+r.y+u.y)/3;return new H(p,y)}},{key:"inCentre",value:function(n,r,u){var p=r.distance(u),y=n.distance(u),k=n.distance(r),C=p+y+k,A=(p*n.x+y*r.x+k*u.x)/C,V=(p*n.y+y*r.y+k*u.y)/C;return new H(A,V)}}])}(),Va=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(c,n,r,u,p){if(n===0&&c.length<di.MINIMUM_VALID_SIZE)return null;var y=u,k=p;c.length>=di.MINIMUM_VALID_SIZE&&Ye.isCCW(c)&&(y=p,k=u,r=M.opposite(r));var C=this._curveBuilder.getRingCurve(c,r,n);this.addCurve(C,y,k)}},{key:"addRingBothSides",value:function(c,n){this.addRingSide(c,n,M.LEFT,S.EXTERIOR,S.INTERIOR),this.addRingSide(c,n,M.RIGHT,S.INTERIOR,S.EXTERIOR)}},{key:"addPoint",value:function(c){if(this._distance<=0)return null;var n=c.getCoordinates(),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,S.EXTERIOR,S.INTERIOR)}},{key:"addPolygon",value:function(c){var n=this._distance,r=M.LEFT;this._distance<0&&(n=-this._distance,r=M.RIGHT);var u=c.getExteriorRing(),p=Xt.removeRepeatedPoints(u.getCoordinates());if(this._distance<0&&this.isErodedCompletely(u,this._distance)||this._distance<=0&&p.length<3)return null;this.addRingSide(p,n,r,S.EXTERIOR,S.INTERIOR);for(var y=0;y<c.getNumInteriorRing();y++){var k=c.getInteriorRingN(y),C=Xt.removeRepeatedPoints(k.getCoordinates());this._distance>0&&this.isErodedCompletely(k,-this._distance)||this.addRingSide(C,n,M.opposite(r),S.INTERIOR,S.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(c,n){var r=new Ga(c[0],c[1],c[2]),u=r.inCentre();return oi.pointToSegment(u,r.p0,r.p1)<Math.abs(n)}},{key:"addLineString",value:function(c){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var n=Xt.removeRepeatedPoints(c.getCoordinates());if(Xt.isRing(n)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(n,this._distance);else{var r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,S.EXTERIOR,S.INTERIOR)}}},{key:"addCurve",value:function(c,n,r){if(c===null||c.length<2)return null;var u=new Mi(c,new Sn(0,S.BOUNDARY,n,r));this._curveList.add(u)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(c){if(c.isEmpty())return null;if(c instanceof Is)this.addPolygon(c);else if(c instanceof Cs)this.addLineString(c);else if(c instanceof wa)this.addPoint(c);else if(c instanceof yo)this.addCollection(c);else if(c instanceof Eo)this.addCollection(c);else if(c instanceof xa)this.addCollection(c);else{if(!(c instanceof wn))throw new ce(c.getGeometryType());this.addCollection(c)}}},{key:"isErodedCompletely",value:function(c,n){var r=c.getCoordinates();if(r.length<4)return n<0;if(r.length===4)return this.isTriangleErodedCompletely(r,n);var u=c.getEnvelopeInternal(),p=Math.min(u.getHeight(),u.getWidth());return n<0&&2*Math.abs(n)>p}},{key:"addCollection",value:function(c){for(var n=0;n<c.getNumGeometries();n++){var r=c.getGeometryN(n);this.add(r)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new We;var c=arguments[0],n=arguments[1],r=arguments[2];this._inputGeom=c,this._distance=n,this._curveBuilder=r}}])}(),uh=function(){return d(function c(){i(this,c)},[{key:"locate",value:function(c){}}])}(),ch=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,c.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new K;var n=this._parent.getGeometryN(this._index++);return n instanceof wn?(this._subcollectionIterator=new c(n),this._subcollectionIterator.next()):n}},{key:"remove",value:function(){throw new ce(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[ah]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var n=arguments[0];this._parent=n,this._atStart=!0,this._index=0,this._max=n.getNumGeometries()}},{key:"isAtomic",value:function(n){return!(n instanceof wn)}}])}(),ru=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"locate",value:function(n){return c.locate(n,this._geom)}},{key:"interfaces_",get:function(){return[uh]}}],[{key:"constructor_",value:function(){this._geom=null;var n=arguments[0];this._geom=n}},{key:"locatePointInPolygon",value:function(n,r){if(r.isEmpty())return S.EXTERIOR;var u=r.getExteriorRing(),p=c.locatePointInRing(n,u);if(p!==S.INTERIOR)return p;for(var y=0;y<r.getNumInteriorRing();y++){var k=r.getInteriorRingN(y),C=c.locatePointInRing(n,k);if(C===S.BOUNDARY)return S.BOUNDARY;if(C===S.INTERIOR)return S.EXTERIOR}return S.INTERIOR}},{key:"locatePointInRing",value:function(n,r){return r.getEnvelopeInternal().intersects(n)?jr.locateInRing(n,r.getCoordinates()):S.EXTERIOR}},{key:"containsPointInPolygon",value:function(n,r){return S.EXTERIOR!==c.locatePointInPolygon(n,r)}},{key:"locateInGeometry",value:function(n,r){if(r instanceof Is)return c.locatePointInPolygon(n,r);if(r instanceof wn)for(var u=new ch(r);u.hasNext();){var p=u.next();if(p!==r){var y=c.locateInGeometry(n,p);if(y!==S.EXTERIOR)return y}}return S.EXTERIOR}},{key:"isContained",value:function(n,r){return S.EXTERIOR!==c.locate(n,r)}},{key:"locate",value:function(n,r){return r.isEmpty()?S.EXTERIOR:r.getEnvelopeInternal().intersects(n)?c.locateInGeometry(n,r):S.EXTERIOR}}])}(),hh=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(c){this.getEdges();var n=this._edgeList.indexOf(c),r=n-1;return n===0&&(r=this._edgeList.size()-1),this._edgeList.get(r)}},{key:"propagateSideLabels",value:function(c){for(var n=S.NONE,r=this.iterator();r.hasNext();){var u=r.next().getLabel();u.isArea(c)&&u.getLocation(c,M.LEFT)!==S.NONE&&(n=u.getLocation(c,M.LEFT))}if(n===S.NONE)return null;for(var p=n,y=this.iterator();y.hasNext();){var k=y.next(),C=k.getLabel();if(C.getLocation(c,M.ON)===S.NONE&&C.setLocation(c,M.ON,p),C.isArea(c)){var A=C.getLocation(c,M.LEFT),V=C.getLocation(c,M.RIGHT);if(V!==S.NONE){if(V!==p)throw new dn("side location conflict",k.getCoordinate());A===S.NONE&&Pe.shouldNeverReachHere("found single null side (at "+k.getCoordinate()+")"),p=A}else Pe.isTrue(C.getLocation(c,M.LEFT)===S.NONE,"found single null side"),C.setLocation(c,M.RIGHT,p),C.setLocation(c,M.LEFT,p)}}}},{key:"getCoordinate",value:function(){var c=this.iterator();return c.hasNext()?c.next().getCoordinate():null}},{key:"print",value:function(c){Xn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"isAreaLabelsConsistent",value:function(c){return this.computeEdgeEndLabels(c.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(c){var n=this.getEdges();if(n.size()<=0)return!0;var r=n.size()-1,u=n.get(r).getLabel().getLocation(c,M.LEFT);Pe.isTrue(u!==S.NONE,"Found unlabelled area edge");for(var p=u,y=this.iterator();y.hasNext();){var k=y.next().getLabel();Pe.isTrue(k.isArea(c),"Found non-area edge");var C=k.getLocation(c,M.LEFT),A=k.getLocation(c,M.RIGHT);if(C===A||A!==p)return!1;p=C}return!0}},{key:"findIndex",value:function(c){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===c)return n;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new We(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(c,n,r){return this._ptInAreaLocation[c]===S.NONE&&(this._ptInAreaLocation[c]=ru.locate(n,r[c].getGeometry())),this._ptInAreaLocation[c]}},{key:"toString",value:function(){var c=new de;c.append("EdgeEndStar:   "+this.getCoordinate()),c.append(`
`);for(var n=this.iterator();n.hasNext();){var r=n.next();c.append(r),c.append(`
`)}return c.toString()}},{key:"computeEdgeEndLabels",value:function(c){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(c)}},{key:"computeLabelling",value:function(c){this.computeEdgeEndLabels(c[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],r=this.iterator();r.hasNext();)for(var u=r.next().getLabel(),p=0;p<2;p++)u.isLine(p)&&u.getLocation(p)===S.BOUNDARY&&(n[p]=!0);for(var y=this.iterator();y.hasNext();)for(var k=y.next(),C=k.getLabel(),A=0;A<2;A++)if(C.isAnyNull(A)){var V=S.NONE;if(n[A])V=S.EXTERIOR;else{var te=k.getCoordinate();V=this.getLocation(A,te,c)}C.setAllLocationsIfNull(A,V)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(c,n){this._edgeMap.put(c,n),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Zt,this._edgeList=null,this._ptInAreaLocation=[S.NONE,S.NONE]}}])}(),li=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var r=null,u=null,p=this._SCANNING_FOR_INCOMING,y=0;y<this._resultAreaEdgeList.size();y++){var k=this._resultAreaEdgeList.get(y),C=k.getSym();if(k.getLabel().isArea())switch(r===null&&k.isInResult()&&(r=k),p){case this._SCANNING_FOR_INCOMING:if(!C.isInResult())continue;u=C,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!k.isInResult())continue;u.setNext(k),p=this._SCANNING_FOR_INCOMING}}if(p===this._LINKING_TO_OUTGOING){if(r===null)throw new dn("no outgoing dirEdge found",this.getCoordinate());Pe.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),u.setNext(r)}}},{key:"insert",value:function(r){var u=r;this.insertEdgeEnd(u,u)}},{key:"getRightmostEdge",value:function(){var r=this.getEdges(),u=r.size();if(u<1)return null;var p=r.get(0);if(u===1)return p;var y=r.get(u-1),k=p.getQuadrant(),C=y.getQuadrant();return gn.isNorthern(k)&&gn.isNorthern(C)?p:gn.isNorthern(k)||gn.isNorthern(C)?p.getDy()!==0?p:y.getDy()!==0?y:(Pe.shouldNeverReachHere("found two horizontal edges incident on node"),null):y}},{key:"print",value:function(r){Xn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var u=this.iterator();u.hasNext();){var p=u.next();r.print("out "),p.print(r),r.println(),r.print("in "),p.getSym().print(r),r.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new We;for(var r=this.iterator();r.hasNext();){var u=r.next();(u.isInResult()||u.getSym().isInResult())&&this._resultAreaEdgeList.add(u)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(r){for(var u=this.iterator();u.hasNext();){var p=u.next().getLabel();p.setAllLocationsIfNull(0,r.getLocation(0)),p.setAllLocationsIfNull(1,r.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var r=null,u=null,p=this._edgeList.size()-1;p>=0;p--){var y=this._edgeList.get(p),k=y.getSym();u===null&&(u=k),r!==null&&k.setNext(r),r=y}u.setNext(r)}},{key:"computeDepths",value:function(){if(arguments.length===1){var r=arguments[0],u=this.findIndex(r),p=r.getDepth(M.LEFT),y=r.getDepth(M.RIGHT),k=this.computeDepths(u+1,this._edgeList.size(),p);if(this.computeDepths(0,u,k)!==y)throw new dn("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var C=arguments[1],A=arguments[2],V=arguments[0];V<C;V++){var te=this._edgeList.get(V);te.setEdgeDepths(M.RIGHT,A),A=te.getDepth(M.LEFT)}return A}}},{key:"mergeSymLabels",value:function(){for(var r=this.iterator();r.hasNext();){var u=r.next();u.getLabel().merge(u.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(r){for(var u=null,p=null,y=this._SCANNING_FOR_INCOMING,k=this._resultAreaEdgeList.size()-1;k>=0;k--){var C=this._resultAreaEdgeList.get(k),A=C.getSym();switch(u===null&&C.getEdgeRing()===r&&(u=C),y){case this._SCANNING_FOR_INCOMING:if(A.getEdgeRing()!==r)continue;p=A,y=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(C.getEdgeRing()!==r)continue;p.setNextMin(C),y=this._SCANNING_FOR_INCOMING}}y===this._LINKING_TO_OUTGOING&&(Pe.isTrue(u!==null,"found null for first outgoing dirEdge"),Pe.isTrue(u.getEdgeRing()===r,"unable to link last incoming dirEdge"),p.setNextMin(u))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var r=0,u=this.iterator();u.hasNext();)u.next().isInResult()&&r++;return r}if(arguments.length===1){for(var p=arguments[0],y=0,k=this.iterator();k.hasNext();)k.next().getEdgeRing()===p&&y++;return y}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var r=S.NONE,u=this.iterator();u.hasNext();){var p=u.next(),y=p.getSym();if(!p.isLineEdge()){if(p.isInResult()){r=S.INTERIOR;break}if(y.isInResult()){r=S.EXTERIOR;break}}}if(r===S.NONE)return null;for(var k=r,C=this.iterator();C.hasNext();){var A=C.next(),V=A.getSym();A.isLineEdge()?A.getEdge().setCovered(k===S.INTERIOR):(A.isInResult()&&(k=S.EXTERIOR),V.isInResult()&&(k=S.INTERIOR))}}},{key:"computeLabelling",value:function(r){I(n,"computeLabelling",this,1).call(this,r),this._label=new Sn(S.NONE);for(var u=this.iterator();u.hasNext();)for(var p=u.next().getEdge().getLabel(),y=0;y<2;y++){var k=p.getLocation(y);k!==S.INTERIOR&&k!==S.BOUNDARY||this._label.setLocation(y,S.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(hh),Kr=function(c){function n(){return i(this,n),a(this,n)}return b(n,c),d(n,[{key:"createNode",value:function(r){return new As(r,new li)}}])}(Ma),su=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"compareTo",value:function(n){var r=n;return c.compareOriented(this._pts,this._orientation,r._pts,r._orientation)}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=c.orientation(n)}},{key:"orientation",value:function(n){return Xt.increasingDirection(n)===1}},{key:"compareOriented",value:function(n,r,u,p){for(var y=r?1:-1,k=p?1:-1,C=r?n.length:-1,A=p?u.length:-1,V=r?0:n.length-1,te=p?0:u.length-1;;){var se=n[V].compareTo(u[te]);if(se!==0)return se;var xe=(V+=y)===C,Be=(te+=k)===A;if(xe&&!Be)return-1;if(!xe&&Be)return 1;if(xe&&Be)return 0}}}])}(),Ai=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n);n>0&&c.print(","),c.print("(");for(var u=r.getCoordinates(),p=0;p<u.length;p++)p>0&&c.print(","),c.print(u[p].x+" "+u[p].y);c.println(")")}c.print(")  ")}},{key:"addAll",value:function(c){for(var n=c.iterator();n.hasNext();)this.add(n.next())}},{key:"findEdgeIndex",value:function(c){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(c))return n;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(c){return this._edges.get(c)}},{key:"findEqualEdge",value:function(c){var n=new su(c.getCoordinates());return this._ocaMap.get(n)}},{key:"add",value:function(c){this._edges.add(c);var n=new su(c.getCoordinates());this._ocaMap.put(n,c)}}],[{key:"constructor_",value:function(){this._edges=new We,this._ocaMap=new Zt}}])}(),ou=function(){return d(function c(){i(this,c)},[{key:"processIntersections",value:function(c,n,r,u){}},{key:"isDone",value:function(){}}])}(),Jr=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isTrivialIntersection",value:function(n,r,u,p){if(n===u&&this._li.getIntersectionNum()===1){if(c.isAdjacentSegments(r,p))return!0;if(n.isClosed()){var y=n.size()-1;if(r===0&&p===y||p===0&&r===y)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(n,r,u,p){if(n===u&&r===p)return null;this.numTests++;var y=n.getCoordinates()[r],k=n.getCoordinates()[r+1],C=u.getCoordinates()[p],A=u.getCoordinates()[p+1];this._li.computeIntersection(y,k,C,A),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(n,r,u,p)||(this._hasIntersection=!0,n.addIntersections(this._li,r,0),u.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[ou]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var n=arguments[0];this._li=n}},{key:"isAdjacentSegments",value:function(n,r){return Math.abs(n-r)===1}}])}(),fh=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex),c.println(" dist = "+this.dist)}},{key:"compareTo",value:function(c){var n=c;return this.compare(n.segmentIndex,n.dist)}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===c}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(c,n){return this.segmentIndex<c?-1:this.segmentIndex>c?1:this.dist<n?-1:this.dist>n?1:0}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var c=arguments[0],n=arguments[1],r=arguments[2];this.coord=new H(c),this.segmentIndex=n,this.dist=r}}])}(),zs=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(c)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var u=n.next(),p=this.createSplitEdge(r,u);c.add(p),r=u}}},{key:"addEndpoints",value:function(){var c=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[c],c,0)}},{key:"createSplitEdge",value:function(c,n){var r=n.segmentIndex-c.segmentIndex+2,u=this.edge.pts[n.segmentIndex],p=n.dist>0||!n.coord.equals2D(u);p||r--;var y=new Array(r).fill(null),k=0;y[k++]=new H(c.coord);for(var C=c.segmentIndex+1;C<=n.segmentIndex;C++)y[k++]=this.edge.pts[C];return p&&(y[k]=n.coord),new lu(y,new Sn(this.edge._label))}},{key:"add",value:function(c,n,r){var u=new fh(c,n,r),p=this._nodeMap.get(u);return p!==null?p:(this._nodeMap.put(u,u),u)}},{key:"isIntersection",value:function(c){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(c))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Zt,this.edge=null;var c=arguments[0];this.edge=c}}])}(),au=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])||c.isTrue(this._matrix[S.INTERIOR][S.BOUNDARY])||c.isTrue(this._matrix[S.BOUNDARY][S.INTERIOR])||c.isTrue(this._matrix[S.BOUNDARY][S.BOUNDARY]))&&this._matrix[S.EXTERIOR][S.INTERIOR]===Re.FALSE&&this._matrix[S.EXTERIOR][S.BOUNDARY]===Re.FALSE}},{key:"isCoveredBy",value:function(){return(c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])||c.isTrue(this._matrix[S.INTERIOR][S.BOUNDARY])||c.isTrue(this._matrix[S.BOUNDARY][S.INTERIOR])||c.isTrue(this._matrix[S.BOUNDARY][S.BOUNDARY]))&&this._matrix[S.INTERIOR][S.EXTERIOR]===Re.FALSE&&this._matrix[S.BOUNDARY][S.EXTERIOR]===Re.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var u=Math.trunc(r/3),p=r%3;this._matrix[u][p]=Re.toDimensionValue(n.charAt(r))}else if(arguments.length===3){var y=arguments[0],k=arguments[1],C=arguments[2];this._matrix[y][k]=C}}},{key:"isContains",value:function(){return c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])&&this._matrix[S.EXTERIOR][S.INTERIOR]===Re.FALSE&&this._matrix[S.EXTERIOR][S.BOUNDARY]===Re.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<n.length;r++){var u=Math.trunc(r/3),p=r%3;this.setAtLeast(u,p,Re.toDimensionValue(n.charAt(r)))}else if(arguments.length===3){var y=arguments[0],k=arguments[1],C=arguments[2];this._matrix[y][k]<C&&(this._matrix[y][k]=C)}}},{key:"setAtLeastIfValid",value:function(n,r,u){n>=0&&r>=0&&this.setAtLeast(n,r,u)}},{key:"isWithin",value:function(){return c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])&&this._matrix[S.INTERIOR][S.EXTERIOR]===Re.FALSE&&this._matrix[S.BOUNDARY][S.EXTERIOR]===Re.FALSE}},{key:"isTouches",value:function(n,r){return n>r?this.isTouches(r,n):(n===Re.A&&r===Re.A||n===Re.L&&r===Re.L||n===Re.L&&r===Re.A||n===Re.P&&r===Re.A||n===Re.P&&r===Re.L)&&this._matrix[S.INTERIOR][S.INTERIOR]===Re.FALSE&&(c.isTrue(this._matrix[S.INTERIOR][S.BOUNDARY])||c.isTrue(this._matrix[S.BOUNDARY][S.INTERIOR])||c.isTrue(this._matrix[S.BOUNDARY][S.BOUNDARY]))}},{key:"isOverlaps",value:function(n,r){return n===Re.P&&r===Re.P||n===Re.A&&r===Re.A?c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])&&c.isTrue(this._matrix[S.INTERIOR][S.EXTERIOR])&&c.isTrue(this._matrix[S.EXTERIOR][S.INTERIOR]):n===Re.L&&r===Re.L&&this._matrix[S.INTERIOR][S.INTERIOR]===1&&c.isTrue(this._matrix[S.INTERIOR][S.EXTERIOR])&&c.isTrue(this._matrix[S.EXTERIOR][S.INTERIOR])}},{key:"isEquals",value:function(n,r){return n===r&&c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])&&this._matrix[S.INTERIOR][S.EXTERIOR]===Re.FALSE&&this._matrix[S.BOUNDARY][S.EXTERIOR]===Re.FALSE&&this._matrix[S.EXTERIOR][S.INTERIOR]===Re.FALSE&&this._matrix[S.EXTERIOR][S.BOUNDARY]===Re.FALSE}},{key:"toString",value:function(){for(var n=new Lo("123456789"),r=0;r<3;r++)for(var u=0;u<3;u++)n.setCharAt(3*r+u,Re.toDimensionSymbol(this._matrix[r][u]));return n.toString()}},{key:"setAll",value:function(n){for(var r=0;r<3;r++)for(var u=0;u<3;u++)this._matrix[r][u]=n}},{key:"get",value:function(n,r){return this._matrix[n][r]}},{key:"transpose",value:function(){var n=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=n,n=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=n,n=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=n,this}},{key:"matches",value:function(n){if(n.length!==9)throw new W("Should be length 9: "+n);for(var r=0;r<3;r++)for(var u=0;u<3;u++)if(!c.matches(this._matrix[r][u],n.charAt(3*r+u)))return!1;return!0}},{key:"add",value:function(n){for(var r=0;r<3;r++)for(var u=0;u<3;u++)this.setAtLeast(r,u,n.get(r,u))}},{key:"isDisjoint",value:function(){return this._matrix[S.INTERIOR][S.INTERIOR]===Re.FALSE&&this._matrix[S.INTERIOR][S.BOUNDARY]===Re.FALSE&&this._matrix[S.BOUNDARY][S.INTERIOR]===Re.FALSE&&this._matrix[S.BOUNDARY][S.BOUNDARY]===Re.FALSE}},{key:"isCrosses",value:function(n,r){return n===Re.P&&r===Re.L||n===Re.P&&r===Re.A||n===Re.L&&r===Re.A?c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])&&c.isTrue(this._matrix[S.INTERIOR][S.EXTERIOR]):n===Re.L&&r===Re.P||n===Re.A&&r===Re.P||n===Re.A&&r===Re.L?c.isTrue(this._matrix[S.INTERIOR][S.INTERIOR])&&c.isTrue(this._matrix[S.EXTERIOR][S.INTERIOR]):n===Re.L&&r===Re.L&&this._matrix[S.INTERIOR][S.INTERIOR]===0}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Re.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var n=arguments[0];c.constructor_.call(this),this.set(n)}else if(arguments[0]instanceof c){var r=arguments[0];c.constructor_.call(this),this._matrix[S.INTERIOR][S.INTERIOR]=r._matrix[S.INTERIOR][S.INTERIOR],this._matrix[S.INTERIOR][S.BOUNDARY]=r._matrix[S.INTERIOR][S.BOUNDARY],this._matrix[S.INTERIOR][S.EXTERIOR]=r._matrix[S.INTERIOR][S.EXTERIOR],this._matrix[S.BOUNDARY][S.INTERIOR]=r._matrix[S.BOUNDARY][S.INTERIOR],this._matrix[S.BOUNDARY][S.BOUNDARY]=r._matrix[S.BOUNDARY][S.BOUNDARY],this._matrix[S.BOUNDARY][S.EXTERIOR]=r._matrix[S.BOUNDARY][S.EXTERIOR],this._matrix[S.EXTERIOR][S.INTERIOR]=r._matrix[S.EXTERIOR][S.INTERIOR],this._matrix[S.EXTERIOR][S.BOUNDARY]=r._matrix[S.EXTERIOR][S.BOUNDARY],this._matrix[S.EXTERIOR][S.EXTERIOR]=r._matrix[S.EXTERIOR][S.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var n=arguments[0],r=arguments[1];return r===Re.SYM_DONTCARE||r===Re.SYM_TRUE&&(n>=0||n===Re.TRUE)||r===Re.SYM_FALSE&&n===Re.FALSE||r===Re.SYM_P&&n===Re.P||r===Re.SYM_L&&n===Re.L||r===Re.SYM_A&&n===Re.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var u=arguments[1];return new c(arguments[0]).matches(u)}}},{key:"isTrue",value:function(n){return n>=0||n===Re.TRUE}}])}(),Mo=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(n){return n===null||n.length===0?null:(this.ensureCapacity(this._size+n.length),Xn.arraycopy(n,0,this._data,this._size,n.length),void(this._size+=n.length))}},{key:"ensureCapacity",value:function(n){if(n<=this._data.length)return null;var r=Math.max(n,2*this._data.length);this._data=pn.copyOf(this._data,r)}},{key:"toArray",value:function(){var n=new Array(this._size).fill(null);return Xn.arraycopy(this._data,0,n,0,this._size),n}},{key:"add",value:function(n){this.ensureCapacity(this._size+1),this._data[this._size]=n,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)c.constructor_.call(this,10);else if(arguments.length===1){var n=arguments[0];this._data=new Array(n).fill(null)}}}])}(),dh=function(){function c(){i(this,c)}return d(c,[{key:"getChainStartIndices",value:function(n){var r=0,u=new Mo(Math.trunc(n.length/2));u.add(r);do{var p=this.findChainEnd(n,r);u.add(p),r=p}while(r<n.length-1);return u.toArray()}},{key:"findChainEnd",value:function(n,r){for(var u=gn.quadrant(n[r],n[r+1]),p=r+1;p<n.length&&gn.quadrant(n[p-1],n[p])===u;)p++;return p-1}},{key:"OLDgetChainStartIndices",value:function(n){var r=0,u=new We;u.add(r);do{var p=this.findChainEnd(n,r);u.add(p),r=p}while(r<n.length-1);return c.toIntArray(u)}}],[{key:"toIntArray",value:function(n){for(var r=new Array(n.size()).fill(null),u=0;u<r.length;u++)r[u]=n.get(u).intValue();return r}}])}(),Qi=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n>r?n:r}},{key:"getMinX",value:function(c){var n=this.pts[this.startIndex[c]].x,r=this.pts[this.startIndex[c+1]].x;return n<r?n:r}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var c=arguments[0],n=arguments[1],r=arguments[2],u=arguments[3];this.computeIntersectsForChain(this.startIndex[c],this.startIndex[c+1],n,n.startIndex[r],n.startIndex[r+1],u)}else if(arguments.length===6){var p=arguments[0],y=arguments[1],k=arguments[2],C=arguments[3],A=arguments[4],V=arguments[5];if(y-p==1&&A-C==1)return V.addIntersections(this.e,p,k.e,C),null;if(!this.overlaps(p,y,k,C,A))return null;var te=Math.trunc((p+y)/2),se=Math.trunc((C+A)/2);p<te&&(C<se&&this.computeIntersectsForChain(p,te,k,C,se,V),se<A&&this.computeIntersectsForChain(p,te,k,se,A,V)),te<y&&(C<se&&this.computeIntersectsForChain(te,y,k,C,se,V),se<A&&this.computeIntersectsForChain(te,y,k,se,A,V))}}},{key:"overlaps",value:function(c,n,r,u,p){return Ce.intersects(this.pts[c],this.pts[n],r.pts[u],r.pts[p])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(c,n){for(var r=0;r<this.startIndex.length-1;r++)for(var u=0;u<c.startIndex.length-1;u++)this.computeIntersectsForChain(r,c,u,n)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var c=arguments[0];this.e=c,this.pts=c.getCoordinates();var n=new dh;this.startIndex=n.getChainStartIndices(this.pts)}}])}(),$s=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"getDepth",value:function(n,r){return this._depth[n][r]}},{key:"setDepth",value:function(n,r,u){this._depth[n][r]=u}},{key:"isNull",value:function(){if(arguments.length===0){for(var n=0;n<2;n++)for(var r=0;r<3;r++)if(this._depth[n][r]!==c.NULL_VALUE)return!1;return!0}if(arguments.length===1){var u=arguments[0];return this._depth[u][1]===c.NULL_VALUE}if(arguments.length===2){var p=arguments[0],y=arguments[1];return this._depth[p][y]===c.NULL_VALUE}}},{key:"normalize",value:function(){for(var n=0;n<2;n++)if(!this.isNull(n)){var r=this._depth[n][1];this._depth[n][2]<r&&(r=this._depth[n][2]),r<0&&(r=0);for(var u=1;u<3;u++){var p=0;this._depth[n][u]>r&&(p=1),this._depth[n][u]=p}}}},{key:"getDelta",value:function(n){return this._depth[n][M.RIGHT]-this._depth[n][M.LEFT]}},{key:"getLocation",value:function(n,r){return this._depth[n][r]<=0?S.EXTERIOR:S.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var n=arguments[0],r=0;r<2;r++)for(var u=1;u<3;u++){var p=n.getLocation(r,u);p!==S.EXTERIOR&&p!==S.INTERIOR||(this.isNull(r,u)?this._depth[r][u]=c.depthAtLocation(p):this._depth[r][u]+=c.depthAtLocation(p))}else if(arguments.length===3){var y=arguments[0],k=arguments[1];arguments[2]===S.INTERIOR&&this._depth[y][k]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var r=0;r<3;r++)this._depth[n][r]=c.NULL_VALUE}},{key:"depthAtLocation",value:function(n){return n===S.EXTERIOR?0:n===S.INTERIOR?1:c.NULL_VALUE}}])}();$s.NULL_VALUE=-1;var lu=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var r=new Array(2).fill(null);return r[0]=this.pts[0],r[1]=this.pts[1],new n(r,Sn.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(r){this._isIsolated=r}},{key:"setName",value:function(r){this._name=r}},{key:"equals",value:function(r){if(!(r instanceof n))return!1;var u=r;if(this.pts.length!==u.pts.length)return!1;for(var p=!0,y=!0,k=this.pts.length,C=0;C<this.pts.length;C++)if(this.pts[C].equals2D(u.pts[C])||(p=!1),this.pts[C].equals2D(u.pts[--k])||(y=!1),!p&&!y)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}}},{key:"print",value:function(r){r.print("edge "+this._name+": "),r.print("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&r.print(","),r.print(this.pts[u].x+" "+this.pts[u].y);r.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(r){n.updateIM(this._label,r)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(r){r.print("edge "+this._name+": ");for(var u=this.pts.length-1;u>=0;u--)r.print(this.pts[u]+" ");r.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Qi(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Ce;for(var r=0;r<this.pts.length;r++)this._env.expandToInclude(this.pts[r])}return this._env}},{key:"addIntersection",value:function(r,u,p,y){var k=new H(r.getIntersection(y)),C=u,A=r.getEdgeDistance(p,y),V=C+1;if(V<this.pts.length){var te=this.pts[V];k.equals2D(te)&&(C=V,A=0)}this.eiList.add(k,C,A)}},{key:"toString",value:function(){var r=new Lo;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&r.append(","),r.append(this.pts[u].x+" "+this.pts[u].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()}},{key:"isPointwiseEqual",value:function(r){if(this.pts.length!==r.pts.length)return!1;for(var u=0;u<this.pts.length;u++)if(!this.pts[u].equals2D(r.pts[u]))return!1;return!0}},{key:"setDepthDelta",value:function(r){this._depthDelta=r}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(r,u,p){for(var y=0;y<r.getIntersectionNum();y++)this.addIntersection(r,u,p,y)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new zs(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new $s,this._depthDelta=0,arguments.length===1){var r=arguments[0];n.constructor_.call(this,r,null)}else if(arguments.length===2){var u=arguments[0],p=arguments[1];this.pts=u,this._label=p}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof au&&arguments[0]instanceof Sn))return I(n,"updateIM",this).apply(this,arguments);var r=arguments[0],u=arguments[1];u.setAtLeastIfValid(r.getLocation(0,M.ON),r.getLocation(1,M.ON),1),r.isArea()&&(u.setAtLeastIfValid(r.getLocation(0,M.LEFT),r.getLocation(1,M.LEFT),2),u.setAtLeastIfValid(r.getLocation(0,M.RIGHT),r.getLocation(1,M.RIGHT),2))}}])}(Mt),Ao=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"setWorkingPrecisionModel",value:function(n){this._workingPrecisionModel=n}},{key:"insertUniqueEdge",value:function(n){var r=this._edgeList.findEqualEdge(n);if(r!==null){var u=r.getLabel(),p=n.getLabel();r.isPointwiseEqual(n)||(p=new Sn(n.getLabel())).flip(),u.merge(p);var y=c.depthDelta(p),k=r.getDepthDelta()+y;r.setDepthDelta(k)}else this._edgeList.add(n),n.setDepthDelta(c.depthDelta(n.getLabel()))}},{key:"buildSubgraphs",value:function(n,r){for(var u=new We,p=n.iterator();p.hasNext();){var y=p.next(),k=y.getRightmostCoordinate(),C=new Rn(u).getDepth(k);y.computeDepth(C),y.findResultEdges(),u.add(y),r.add(y.getDirectedEdges(),y.getNodes())}}},{key:"createSubgraphs",value:function(n){for(var r=new We,u=n.getNodes().iterator();u.hasNext();){var p=u.next();if(!p.isVisited()){var y=new Zi;y.create(p),r.add(y)}}return Er.sort(r,Er.reverseOrder()),r}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(n){if(this._workingNoder!==null)return this._workingNoder;var r=new Ba,u=new Oi;return u.setPrecisionModel(n),r.setSegmentIntersector(new Jr(u)),r}},{key:"buffer",value:function(n,r){var u=this._workingPrecisionModel;u===null&&(u=n.getPrecisionModel()),this._geomFact=n.getFactory();var p=new Fs(u,this._bufParams),y=new Va(n,r,p).getCurves();if(y.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(y,u),this._graph=new Io(new Kr),this._graph.addEdges(this._edgeList.getEdges());var k=this.createSubgraphs(this._graph),C=new ih(this._geomFact);this.buildSubgraphs(k,C);var A=C.getPolygons();return A.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(A)}},{key:"computeNodedEdges",value:function(n,r){var u=this.getNoder(r);u.computeNodes(n);for(var p=u.getNodedSubstrings().iterator();p.hasNext();){var y=p.next(),k=y.getCoordinates();if(k.length!==2||!k[0].equals2D(k[1])){var C=y.getData(),A=new lu(y.getCoordinates(),new Sn(C));this.insertUniqueEdge(A)}}}},{key:"setNoder",value:function(n){this._workingNoder=n}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ai;var n=arguments[0];this._bufParams=n}},{key:"depthDelta",value:function(n){var r=n.getLocation(0,M.LEFT),u=n.getLocation(0,M.RIGHT);return r===S.INTERIOR&&u===S.EXTERIOR?1:r===S.EXTERIOR&&u===S.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(n){for(var r=new pi,u=new We;n.hasNext();){var p=n.next(),y=r.createLineString(p.getCoordinates());u.add(y)}return r.buildGeometry(u)}}])}(),ph=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"rescale",value:function(){if(j(arguments[0],q))for(var n=arguments[0].iterator();n.hasNext();){var r=n.next();this.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var u=arguments[0],p=0;p<u.length;p++)u[p].x=u[p].x/this._scaleFactor+this._offsetX,u[p].y=u[p].y/this._scaleFactor+this._offsetY;u.length===2&&u[0].equals2D(u[1])&&Xn.out.println(u)}}},{key:"scale",value:function(){if(j(arguments[0],q)){for(var n=arguments[0],r=new We(n.size()),u=n.iterator();u.hasNext();){var p=u.next();r.add(new Mi(this.scale(p.getCoordinates()),p.getData()))}return r}if(arguments[0]instanceof Array){for(var y=arguments[0],k=new Array(y.length).fill(null),C=0;C<y.length;C++)k[C]=new H(Math.round((y[C].x-this._offsetX)*this._scaleFactor),Math.round((y[C].y-this._offsetY)*this._scaleFactor),y[C].getZ());return Xt.removeRepeatedPoints(k)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var n=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(n),n}},{key:"computeNodes",value:function(n){var r=n;this._isScaled&&(r=this.scale(n)),this._noder.computeNodes(r)}},{key:"interfaces_",get:function(){return[Da]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var n=arguments[0],r=arguments[1];c.constructor_.call(this,n,r,0,0)}else if(arguments.length===4){var u=arguments[0],p=arguments[1];this._noder=u,this._scaleFactor=p,this._isScaled=!this.isIntegerPrecision()}}}])}(),yi=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next().getCoordinates();this.checkEndPtVertexIntersections(r[0],this._segStrings),this.checkEndPtVertexIntersections(r[r.length-1],this._segStrings)}else if(arguments.length===2){for(var u=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var y=p.next().getCoordinates(),k=1;k<y.length-1;k++)if(y[k].equals(u))throw new Ue("found endpt/interior pt intersection at index "+k+" :pt "+u)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var r=n.next(),u=this._segStrings.iterator();u.hasNext();){var p=u.next();this.checkInteriorIntersections(r,p)}else if(arguments.length===2)for(var y=arguments[0],k=arguments[1],C=y.getCoordinates(),A=k.getCoordinates(),V=0;V<C.length-1;V++)for(var te=0;te<A.length-1;te++)this.checkInteriorIntersections(y,V,k,te);else if(arguments.length===4){var se=arguments[0],xe=arguments[1],Be=arguments[2],Ze=arguments[3];if(se===Be&&xe===Ze)return null;var Ke=se.getCoordinates()[xe],gt=se.getCoordinates()[xe+1],lt=Be.getCoordinates()[Ze],At=Be.getCoordinates()[Ze+1];if(this._li.computeIntersection(Ke,gt,lt,At),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Ke,gt)||this.hasInteriorIntersection(this._li,lt,At)))throw new Ue("found non-noded intersection at "+Ke+"-"+gt+" and "+lt+"-"+At)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkCollapses(r)}else if(arguments.length===1)for(var u=arguments[0].getCoordinates(),p=0;p<u.length-2;p++)this.checkCollapse(u[p],u[p+1],u[p+2])}},{key:"hasInteriorIntersection",value:function(n,r,u){for(var p=0;p<n.getIntersectionNum();p++){var y=n.getIntersection(p);if(!y.equals(r)&&!y.equals(u))return!0}return!1}},{key:"checkCollapse",value:function(n,r,u){if(n.equals(u))throw new Ue("found non-noded collapse at "+c.fact.createLineString([n,r,u]))}}],[{key:"constructor_",value:function(){this._li=new Oi,this._segStrings=null;var n=arguments[0];this._segStrings=n}}])}();yi.fact=new pi;var Ha=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"intersectsScaled",value:function(n,r){var u=Math.min(n.x,r.x),p=Math.max(n.x,r.x),y=Math.min(n.y,r.y),k=Math.max(n.y,r.y),C=this._maxx<u||this._minx>p||this._maxy<y||this._miny>k;if(C)return!1;var A=this.intersectsToleranceSquare(n,r);return Pe.isTrue(!(C&&A),"Found bad envelope test"),A}},{key:"initCorners",value:function(n){var r=.5;this._minx=n.x-r,this._maxx=n.x+r,this._miny=n.y-r,this._maxy=n.y+r,this._corner[0]=new H(this._maxx,this._maxy),this._corner[1]=new H(this._minx,this._maxy),this._corner[2]=new H(this._minx,this._miny),this._corner[3]=new H(this._maxx,this._miny)}},{key:"intersects",value:function(n,r){return this._scaleFactor===1?this.intersectsScaled(n,r):(this.copyScaled(n,this._p0Scaled),this.copyScaled(r,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(n){return Math.round(n*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(n,r){r.x=this.scale(n.x),r.y=this.scale(n.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var n=c.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ce(this._originalPt.x-n,this._originalPt.x+n,this._originalPt.y-n,this._originalPt.y+n)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(n,r){return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(n,r){var u=!1,p=!1;return this._li.computeIntersection(n,r,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(n,r,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(u=!0),this._li.computeIntersection(n,r,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(n,r,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!u||!p)||!!n.equals(this._pt)||!!r.equals(this._pt))))}},{key:"addSnappedNode",value:function(n,r){var u=n.getCoordinate(r),p=n.getCoordinate(r+1);return!!this.intersects(u,p)&&(n.addIntersection(this.getCoordinate(),r),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var n=arguments[0],r=arguments[1],u=arguments[2];if(this._originalPt=n,this._pt=n,this._scaleFactor=r,this._li=u,r<=0)throw new W("Scale factor must be non-zero");r!==1&&(this._pt=new H(this.scale(n.x),this.scale(n.y)),this._p0Scaled=new H,this._p1Scaled=new H),this.initCorners(this._pt)}}])}();Ha.SAFE_ENV_EXPANSION_FACTOR=.75;var Qr=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var c=arguments[1];arguments[0].getLineSegment(c,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new An}}])}(),uu=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var c=arguments[0];return this.snap(c,null,-1)}if(arguments.length===3){var n=arguments[0],r=arguments[1],u=arguments[2],p=n.getSafeEnvelope(),y=new bi(n,r,u);return this._index.query(p,new(function(){return d(function k(){i(this,k)},[{key:"interfaces_",get:function(){return[Ql]}},{key:"visitItem",value:function(k){k.select(p,y)}}])}())),y.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var c=arguments[0];this._index=c}}])}(),bi=function(c){function n(){var r;return i(this,n),r=a(this,n),n.constructor_.apply(r,arguments),r}return b(n,c),d(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Ra))return I(n,"select",this,1).apply(this,arguments);var r=arguments[1],u=arguments[0].getContext();if(this._parentEdge===u&&(r===this._hotPixelVertexIndex||r+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(u,r)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var r=arguments[0],u=arguments[1],p=arguments[2];this._hotPixel=r,this._parentEdge=u,this._hotPixelVertexIndex=p}}])}(Qr);uu.HotPixelSnapAction=bi;var Ro=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(c,n,r,u){if(c===r&&n===u)return null;var p=c.getCoordinates()[n],y=c.getCoordinates()[n+1],k=r.getCoordinates()[u],C=r.getCoordinates()[u+1];if(this._li.computeIntersection(p,y,k,C),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var A=0;A<this._li.getIntersectionNum();A++)this._interiorIntersections.add(this._li.getIntersection(A));c.addIntersections(this._li,n,0),r.addIntersections(this._li,u,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[ou]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var c=arguments[0];this._li=c,this._interiorIntersections=new We}}])}(),cu=function(){return d(function c(){i(this,c),c.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(c){var n=Mi.getNodedSubstrings(c),r=new yi(n);try{r.checkValid()}catch(u){if(!(u instanceof F))throw u;u.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Mi.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(c,n){var r=this.findInteriorIntersections(c,n);this.computeIntersectionSnaps(r),this.computeVertexSnaps(c)}},{key:"findInteriorIntersections",value:function(c,n){var r=new Ro(n);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(c),r.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(j(arguments[0],q))for(var c=arguments[0].iterator();c.hasNext();){var n=c.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Mi)for(var r=arguments[0],u=r.getCoordinates(),p=0;p<u.length;p++){var y=new Ha(u[p],this._scaleFactor,this._li);this._pointSnapper.snap(y,r,p)&&r.addIntersection(u[p],p)}}},{key:"computeNodes",value:function(c){this._nodedSegStrings=c,this._noder=new Ba,this._pointSnapper=new uu(this._noder.getIndex()),this.snapRound(c,this._li)}},{key:"computeIntersectionSnaps",value:function(c){for(var n=c.iterator();n.hasNext();){var r=n.next(),u=new Ha(r,this._scaleFactor,this._li);this._pointSnapper.snap(u)}}},{key:"interfaces_",get:function(){return[Da]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var c=arguments[0];this._pm=c,this._li=new Oi,this._li.setPrecisionModel(c),this._scaleFactor=c.getScale()}}])}(),er=function(){function c(){i(this,c),c.constructor_.apply(this,arguments)}return d(c,[{key:"bufferFixedPrecision",value:function(n){var r=new ph(new cu(new Ln(1)),n.getScale()),u=new Ao(this._bufParams);u.setWorkingPrecisionModel(n),u.setNoder(r),this._resultGeometry=u.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var n=c.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision(n)}catch(y){if(!(y instanceof dn))throw y;this._saveException=y}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var r=arguments[0],u=c.precisionScaleFactor(this._argGeom,this._distance,r),p=new Ln(u);this.bufferFixedPrecision(p)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var n=this._argGeom.getFactory().getPrecisionModel();n.getType()===Ln.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(n){this._bufParams.setQuadrantSegments(n)}},{key:"bufferOriginalPrecision",value:function(){try{var n=new Ao(this._bufParams);this._resultGeometry=n.buffer(this._argGeom,this._distance)}catch(r){if(!(r instanceof Ue))throw r;this._saveException=r}}},{key:"getResultGeometry",value:function(n){return this._distance=n,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(n){this._bufParams.setEndCapStyle(n)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new D,this._resultGeometry=null,this._saveException=null,arguments.length===1){var n=arguments[0];this._argGeom=n}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this._argGeom=r,this._bufParams=u}}},{key:"bufferOp",value:function(){if(arguments.length===2){var n=arguments[1];return new c(arguments[0]).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ie&&typeof arguments[1]=="number"){var r=arguments[1],u=arguments[2],p=new c(arguments[0]);return p.setQuadrantSegments(u),p.getResultGeometry(r)}if(arguments[2]instanceof D&&arguments[0]instanceof Ie&&typeof arguments[1]=="number"){var y=arguments[1];return new c(arguments[0],arguments[2]).getResultGeometry(y)}}else if(arguments.length===4){var k=arguments[1],C=arguments[2],A=arguments[3],V=new c(arguments[0]);return V.setQuadrantSegments(C),V.setEndCapStyle(A),V.getResultGeometry(k)}}},{key:"precisionScaleFactor",value:function(n,r,u){var p=n.getEnvelopeInternal(),y=Hr.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(r>0?r:0),k=u-Math.trunc(Math.log(y)/Math.log(10)+1);return Math.pow(10,k)}}])}();er.CAP_ROUND=D.CAP_ROUND,er.CAP_BUTT=D.CAP_FLAT,er.CAP_FLAT=D.CAP_FLAT,er.CAP_SQUARE=D.CAP_SQUARE,er.MAX_PRECISION_DIGITS=12;var Do=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Bo=function(){return d(function c(n){i(this,c),this.geometryFactory=n||new pi},[{key:"read",value:function(c){var n,r=(n=typeof c=="string"?JSON.parse(c):c).type;if(!En[r])throw new Error("Unknown GeoJSON type: "+n.type);return Do.indexOf(r)!==-1?En[r].call(this,n.coordinates):r==="GeometryCollection"?En[r].call(this,n.geometries):En[r].call(this,n)}},{key:"write",value:function(c){var n=c.getGeometryType();if(!kn[n])throw new Error("Geometry is not supported");return kn[n].call(this,c)}}])}(),En={Feature:function(c){var n={};for(var r in c)n[r]=c[r];if(c.geometry){var u=c.geometry.type;if(!En[u])throw new Error("Unknown GeoJSON type: "+c.type);n.geometry=this.read(c.geometry)}return c.bbox&&(n.bbox=En.bbox.call(this,c.bbox)),n},FeatureCollection:function(c){var n={};if(c.features){n.features=[];for(var r=0;r<c.features.length;++r)n.features.push(this.read(c.features[r]))}return c.bbox&&(n.bbox=this.parse.bbox.call(this,c.bbox)),n},coordinates:function(c){for(var n=[],r=0;r<c.length;++r){var u=c[r];n.push(l(H,O(u)))}return n},bbox:function(c){return this.geometryFactory.createLinearRing([new H(c[0],c[1]),new H(c[2],c[1]),new H(c[2],c[3]),new H(c[0],c[3]),new H(c[0],c[1])])},Point:function(c){var n=l(H,O(c));return this.geometryFactory.createPoint(n)},MultiPoint:function(c){for(var n=[],r=0;r<c.length;++r)n.push(En.Point.call(this,c[r]));return this.geometryFactory.createMultiPoint(n)},LineString:function(c){var n=En.coordinates.call(this,c);return this.geometryFactory.createLineString(n)},MultiLineString:function(c){for(var n=[],r=0;r<c.length;++r)n.push(En.LineString.call(this,c[r]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(c){for(var n=En.coordinates.call(this,c[0]),r=this.geometryFactory.createLinearRing(n),u=[],p=1;p<c.length;++p){var y=c[p],k=En.coordinates.call(this,y),C=this.geometryFactory.createLinearRing(k);u.push(C)}return this.geometryFactory.createPolygon(r,u)},MultiPolygon:function(c){for(var n=[],r=0;r<c.length;++r){var u=c[r];n.push(En.Polygon.call(this,u))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(c){for(var n=[],r=0;r<c.length;++r){var u=c[r];n.push(this.read(u))}return this.geometryFactory.createGeometryCollection(n)}},kn={coordinate:function(c){var n=[c.x,c.y];return c.z&&n.push(c.z),c.m&&n.push(c.m),n},Point:function(c){return{type:"Point",coordinates:kn.coordinate.call(this,c.getCoordinate())}},MultiPoint:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=kn.Point.call(this,u);n.push(p.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(c){for(var n=[],r=c.getCoordinates(),u=0;u<r.length;++u){var p=r[u];n.push(kn.coordinate.call(this,p))}return{type:"LineString",coordinates:n}},MultiLineString:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=kn.LineString.call(this,u);n.push(p.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(c){var n=[],r=kn.LineString.call(this,c._shell);n.push(r.coordinates);for(var u=0;u<c._holes.length;++u){var p=c._holes[u],y=kn.LineString.call(this,p);n.push(y.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=kn.Polygon.call(this,u);n.push(p.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(c){for(var n=[],r=0;r<c._geometries.length;++r){var u=c._geometries[r],p=u.getGeometryType();n.push(kn[p].call(this,u))}return{type:"GeometryCollection",geometries:n}}};return{BufferOp:er,GeoJSONReader:function(){return d(function c(n){i(this,c),this.parser=new Bo(n||new pi)},[{key:"read",value:function(c){return this.parser.read(c)}}])}(),GeoJSONWriter:function(){return d(function c(){i(this,c),this.parser=new Bo(this.geometryFactory)},[{key:"write",value:function(c){return this.parser.write(c)}}])}()}})}(Hu)),Hu.exports}var iI=nI();const rI=My(iI);function Ss(){return new bc}function bc(){this.reset()}bc.prototype={constructor:bc,reset:function(){this.s=this.t=0},add:function(e){Qm(Su,e,this.t),Qm(this,Su.s,this.s),this.s?this.t+=Su.t:this.s=Su.t},valueOf:function(){return this.s}};var Su=new bc;function Qm(e,t,s){var a=e.s=t+s,i=a-t,l=a-i;e.t=t-l+(s-i)}var Ut=1e-6,bt=Math.PI,ar=bt/2,eg=bt/4,mr=bt*2,rs=180/bt,ki=bt/180,bn=Math.abs,sI=Math.atan,da=Math.atan2,Yt=Math.cos,jt=Math.sin,_a=Math.sqrt;function By(e){return e>1?0:e<-1?bt:Math.acos(e)}function ho(e){return e>1?ar:e<-1?-ar:Math.asin(e)}function il(){}function wc(e,t){e&&ng.hasOwnProperty(e.type)&&ng[e.type](e,t)}var tg={Feature:function(e,t){wc(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,a=-1,i=s.length;++a<i;)wc(s[a].geometry,t)}},ng={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,a=-1,i=s.length;++a<i;)e=s[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){Tf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,a=-1,i=s.length;++a<i;)Tf(s[a],t,0)},Polygon:function(e,t){ig(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,a=-1,i=s.length;++a<i;)ig(s[a],t)},GeometryCollection:function(e,t){for(var s=e.geometries,a=-1,i=s.length;++a<i;)wc(s[a],t)}};function Tf(e,t,s){var a=-1,i=e.length-s,l;for(t.lineStart();++a<i;)l=e[a],t.point(l[0],l[1],l[2]);t.lineEnd()}function ig(e,t){var s=-1,a=e.length;for(t.polygonStart();++s<a;)Tf(e[s],t,1);t.polygonEnd()}function oI(e,t){e&&tg.hasOwnProperty(e.type)?tg[e.type](e,t):wc(e,t)}Ss();Ss();function Sf(e){return[da(e[1],e[0]),ho(e[2])]}function pa(e){var t=e[0],s=e[1],a=Yt(s);return[a*Yt(t),a*jt(t),jt(s)]}function Cu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Lc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Uh(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Iu(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Cf(e){var t=_a(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Ss();function Fy(e,t){function s(a,i){return a=e(a,i),t(a[0],a[1])}return e.invert&&t.invert&&(s.invert=function(a,i){return a=t.invert(a,i),a&&e.invert(a[0],a[1])}),s}function If(e,t){return[e>bt?e-mr:e<-bt?e+mr:e,t]}If.invert=If;function aI(e,t,s){return(e%=mr)?t||s?Fy(sg(e),og(t,s)):sg(e):t||s?og(t,s):If}function rg(e){return function(t,s){return t+=e,[t>bt?t-mr:t<-bt?t+mr:t,s]}}function sg(e){var t=rg(e);return t.invert=rg(-e),t}function og(e,t){var s=Yt(e),a=jt(e),i=Yt(t),l=jt(t);function f(d,m){var _=Yt(m),v=Yt(d)*_,b=jt(d)*_,E=jt(m),x=E*s+v*a;return[da(b*i-x*l,v*s-E*a),ho(x*i+b*l)]}return f.invert=function(d,m){var _=Yt(m),v=Yt(d)*_,b=jt(d)*_,E=jt(m),x=E*i-b*l;return[da(b*i+E*l,v*s+x*a),ho(x*s-v*a)]},f}function lI(e,t,s,a,i,l){if(s){var f=Yt(t),d=jt(t),m=a*s;i==null?(i=t+a*mr,l=t-m/2):(i=ag(f,i),l=ag(f,l),(a>0?i<l:i>l)&&(i+=a*mr));for(var _,v=i;a>0?v>l:v<l;v-=m)_=Sf([f,-d*Yt(v),-d*jt(v)]),e.point(_[0],_[1])}}function ag(e,t){t=pa(t),t[0]-=e,Cf(t);var s=By(-t[1]);return((-t[2]<0?-s:s)+mr-Ut)%mr}function zy(){var e=[],t;return{point:function(s,a){t.push([s,a])},lineStart:function(){e.push(t=[])},lineEnd:il,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function uI(e,t,s,a,i,l){var f=e[0],d=e[1],m=t[0],_=t[1],v=0,b=1,E=m-f,x=_-d,I;if(I=s-f,!(!E&&I>0)){if(I/=E,E<0){if(I<v)return;I<b&&(b=I)}else if(E>0){if(I>b)return;I>v&&(v=I)}if(I=i-f,!(!E&&I<0)){if(I/=E,E<0){if(I>b)return;I>v&&(v=I)}else if(E>0){if(I<v)return;I<b&&(b=I)}if(I=a-d,!(!x&&I>0)){if(I/=x,x<0){if(I<v)return;I<b&&(b=I)}else if(x>0){if(I>b)return;I>v&&(v=I)}if(I=l-d,!(!x&&I<0)){if(I/=x,x<0){if(I>b)return;I>v&&(v=I)}else if(x>0){if(I<v)return;I<b&&(b=I)}return v>0&&(e[0]=f+v*E,e[1]=d+v*x),b<1&&(t[0]=f+b*E,t[1]=d+b*x),!0}}}}}function qu(e,t){return bn(e[0]-t[0])<Ut&&bn(e[1]-t[1])<Ut}function Pu(e,t,s,a){this.x=e,this.z=t,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function $y(e,t,s,a,i){var l=[],f=[],d,m;if(e.forEach(function(I){if(!((O=I.length-1)<=0)){var O,B=I[0],P=I[O],N;if(qu(B,P)){for(i.lineStart(),d=0;d<O;++d)i.point((B=I[d])[0],B[1]);i.lineEnd();return}l.push(N=new Pu(B,I,null,!0)),f.push(N.o=new Pu(B,null,N,!1)),l.push(N=new Pu(P,I,null,!1)),f.push(N.o=new Pu(P,null,N,!0))}}),!!l.length){for(f.sort(t),lg(l),lg(f),d=0,m=f.length;d<m;++d)f[d].e=s=!s;for(var _=l[0],v,b;;){for(var E=_,x=!0;E.v;)if((E=E.n)===_)return;v=E.z,i.lineStart();do{if(E.v=E.o.v=!0,E.e){if(x)for(d=0,m=v.length;d<m;++d)i.point((b=v[d])[0],b[1]);else a(E.x,E.n.x,1,i);E=E.n}else{if(x)for(v=E.p.z,d=v.length-1;d>=0;--d)i.point((b=v[d])[0],b[1]);else a(E.x,E.p.x,-1,i);E=E.p}E=E.o,v=E.z,x=!x}while(!E.v);i.lineEnd()}}}function lg(e){if(t=e.length){for(var t,s=0,a=e[0],i;++s<t;)a.n=i=e[s],i.p=a,a=i;a.n=i=e[0],i.p=a}}function Uy(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function cI(e){return e.length===1&&(e=hI(e)),{left:function(t,s,a,i){for(a==null&&(a=0),i==null&&(i=t.length);a<i;){var l=a+i>>>1;e(t[l],s)<0?a=l+1:i=l}return a},right:function(t,s,a,i){for(a==null&&(a=0),i==null&&(i=t.length);a<i;){var l=a+i>>>1;e(t[l],s)>0?i=l:a=l+1}return a}}}function hI(e){return function(t,s){return Uy(e(t),s)}}cI(Uy);function Gy(e){for(var t=e.length,s,a=-1,i=0,l,f;++a<t;)i+=e[a].length;for(l=new Array(i);--t>=0;)for(f=e[t],s=f.length;--s>=0;)l[--i]=f[s];return l}var rl=1e9,Nu=-rl;function fI(e,t,s,a){function i(_,v){return e<=_&&_<=s&&t<=v&&v<=a}function l(_,v,b,E){var x=0,I=0;if(_==null||(x=f(_,b))!==(I=f(v,b))||m(_,v)<0^b>0)do E.point(x===0||x===3?e:s,x>1?a:t);while((x=(x+b+4)%4)!==I);else E.point(v[0],v[1])}function f(_,v){return bn(_[0]-e)<Ut?v>0?0:3:bn(_[0]-s)<Ut?v>0?2:1:bn(_[1]-t)<Ut?v>0?1:0:v>0?3:2}function d(_,v){return m(_.x,v.x)}function m(_,v){var b=f(_,1),E=f(v,1);return b!==E?b-E:b===0?v[1]-_[1]:b===1?_[0]-v[0]:b===2?_[1]-v[1]:v[0]-_[0]}return function(_){var v=_,b=zy(),E,x,I,O,B,P,N,D,F,W,G,z={point:ee,lineStart:ne,lineEnd:Q,polygonStart:ie,polygonEnd:ge};function ee(_e,ye){i(_e,ye)&&v.point(_e,ye)}function Z(){for(var _e=0,ye=0,we=x.length;ye<we;++ye)for(var pe=x[ye],Ne=1,ue=pe.length,Ae=pe[0],Ue,Me,Pe=Ae[0],Le=Ae[1];Ne<ue;++Ne)Ue=Pe,Me=Le,Ae=pe[Ne],Pe=Ae[0],Le=Ae[1],Me<=a?Le>a&&(Pe-Ue)*(a-Me)>(Le-Me)*(e-Ue)&&++_e:Le<=a&&(Pe-Ue)*(a-Me)<(Le-Me)*(e-Ue)&&--_e;return _e}function ie(){v=b,E=[],x=[],G=!0}function ge(){var _e=Z(),ye=G&&_e,we=(E=Gy(E)).length;(ye||we)&&(_.polygonStart(),ye&&(_.lineStart(),l(null,null,1,_),_.lineEnd()),we&&$y(E,d,_e,l,_),_.polygonEnd()),v=_,E=x=I=null}function ne(){z.point=X,x&&x.push(I=[]),W=!0,F=!1,N=D=NaN}function Q(){E&&(X(O,B),P&&F&&b.rejoin(),E.push(b.result())),z.point=ee,F&&v.lineEnd()}function X(_e,ye){var we=i(_e,ye);if(x&&I.push([_e,ye]),W)O=_e,B=ye,P=we,W=!1,we&&(v.lineStart(),v.point(_e,ye));else if(we&&F)v.point(_e,ye);else{var pe=[N=Math.max(Nu,Math.min(rl,N)),D=Math.max(Nu,Math.min(rl,D))],Ne=[_e=Math.max(Nu,Math.min(rl,_e)),ye=Math.max(Nu,Math.min(rl,ye))];uI(pe,Ne,e,t,s,a)?(F||(v.lineStart(),v.point(pe[0],pe[1])),v.point(Ne[0],Ne[1]),we||v.lineEnd(),G=!1):we&&(v.lineStart(),v.point(_e,ye),G=!1)}N=_e,D=ye,F=we}return z}}var Gh=Ss();function dI(e,t){var s=t[0],a=t[1],i=[jt(s),-Yt(s),0],l=0,f=0;Gh.reset();for(var d=0,m=e.length;d<m;++d)if(v=(_=e[d]).length)for(var _,v,b=_[v-1],E=b[0],x=b[1]/2+eg,I=jt(x),O=Yt(x),B=0;B<v;++B,E=N,I=F,O=W,b=P){var P=_[B],N=P[0],D=P[1]/2+eg,F=jt(D),W=Yt(D),G=N-E,z=G>=0?1:-1,ee=z*G,Z=ee>bt,ie=I*F;if(Gh.add(da(ie*z*jt(ee),O*W+ie*Yt(ee))),l+=Z?G+z*mr:G,Z^E>=s^N>=s){var ge=Lc(pa(b),pa(P));Cf(ge);var ne=Lc(i,ge);Cf(ne);var Q=(Z^G>=0?-1:1)*ho(ne[2]);(a>Q||a===Q&&(ge[0]||ge[1]))&&(f+=Z^G>=0?1:-1)}}return(l<-Ut||l<Ut&&Gh<-Ut)^f&1}Ss();function ug(e){return e}Ss();Ss();var ma=1/0,Ec=ma,Bl=-ma,kc=Bl,cg={point:pI,lineStart:il,lineEnd:il,polygonStart:il,polygonEnd:il,result:function(){var e=[[ma,Ec],[Bl,kc]];return Bl=kc=-(Ec=ma=1/0),e}};function pI(e,t){e<ma&&(ma=e),e>Bl&&(Bl=e),t<Ec&&(Ec=t),t>kc&&(kc=t)}Ss();function Vy(e,t,s,a){return function(i,l){var f=t(l),d=i.invert(a[0],a[1]),m=zy(),_=t(m),v=!1,b,E,x,I={point:O,lineStart:P,lineEnd:N,polygonStart:function(){I.point=D,I.lineStart=F,I.lineEnd=W,E=[],b=[]},polygonEnd:function(){I.point=O,I.lineStart=P,I.lineEnd=N,E=Gy(E);var G=dI(b,d);E.length?(v||(l.polygonStart(),v=!0),$y(E,gI,G,s,l)):G&&(v||(l.polygonStart(),v=!0),l.lineStart(),s(null,null,1,l),l.lineEnd()),v&&(l.polygonEnd(),v=!1),E=b=null},sphere:function(){l.polygonStart(),l.lineStart(),s(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function O(G,z){var ee=i(G,z);e(G=ee[0],z=ee[1])&&l.point(G,z)}function B(G,z){var ee=i(G,z);f.point(ee[0],ee[1])}function P(){I.point=B,f.lineStart()}function N(){I.point=O,f.lineEnd()}function D(G,z){x.push([G,z]);var ee=i(G,z);_.point(ee[0],ee[1])}function F(){_.lineStart(),x=[]}function W(){D(x[0][0],x[0][1]),_.lineEnd();var G=_.clean(),z=m.result(),ee,Z=z.length,ie,ge,ne;if(x.pop(),b.push(x),x=null,!!Z){if(G&1){if(ge=z[0],(ie=ge.length-1)>0){for(v||(l.polygonStart(),v=!0),l.lineStart(),ee=0;ee<ie;++ee)l.point((ne=ge[ee])[0],ne[1]);l.lineEnd()}return}Z>1&&G&2&&z.push(z.pop().concat(z.shift())),E.push(z.filter(mI))}}return I}}function mI(e){return e.length>1}function gI(e,t){return((e=e.x)[0]<0?e[1]-ar-Ut:ar-e[1])-((t=t.x)[0]<0?t[1]-ar-Ut:ar-t[1])}const hg=Vy(function(){return!0},vI,yI,[-bt,-ar]);function vI(e){var t=NaN,s=NaN,a=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(l,f){var d=l>0?bt:-bt,m=bn(l-t);bn(m-bt)<Ut?(e.point(t,s=(s+f)/2>0?ar:-ar),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(d,s),e.point(l,s),i=0):a!==d&&m>=bt&&(bn(t-a)<Ut&&(t-=a*Ut),bn(l-d)<Ut&&(l-=d*Ut),s=_I(t,s,l,f),e.point(a,s),e.lineEnd(),e.lineStart(),e.point(d,s),i=0),e.point(t=l,s=f),a=d},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-i}}}function _I(e,t,s,a){var i,l,f=jt(e-s);return bn(f)>Ut?sI((jt(t)*(l=Yt(a))*jt(s)-jt(a)*(i=Yt(t))*jt(e))/(i*l*f)):(t+a)/2}function yI(e,t,s,a){var i;if(e==null)i=s*ar,a.point(-bt,i),a.point(0,i),a.point(bt,i),a.point(bt,0),a.point(bt,-i),a.point(0,-i),a.point(-bt,-i),a.point(-bt,0),a.point(-bt,i);else if(bn(e[0]-t[0])>Ut){var l=e[0]<t[0]?bt:-bt;i=s*l/2,a.point(-l,i),a.point(0,i),a.point(l,i)}else a.point(t[0],t[1])}function bI(e,t){var s=Yt(e),a=s>0,i=bn(s)>Ut;function l(v,b,E,x){lI(x,e,t,E,v,b)}function f(v,b){return Yt(v)*Yt(b)>s}function d(v){var b,E,x,I,O;return{lineStart:function(){I=x=!1,O=1},point:function(B,P){var N=[B,P],D,F=f(B,P),W=a?F?0:_(B,P):F?_(B+(B<0?bt:-bt),P):0;if(!b&&(I=x=F)&&v.lineStart(),F!==x&&(D=m(b,N),(!D||qu(b,D)||qu(N,D))&&(N[0]+=Ut,N[1]+=Ut,F=f(N[0],N[1]))),F!==x)O=0,F?(v.lineStart(),D=m(N,b),v.point(D[0],D[1])):(D=m(b,N),v.point(D[0],D[1]),v.lineEnd()),b=D;else if(i&&b&&a^F){var G;!(W&E)&&(G=m(N,b,!0))&&(O=0,a?(v.lineStart(),v.point(G[0][0],G[0][1]),v.point(G[1][0],G[1][1]),v.lineEnd()):(v.point(G[1][0],G[1][1]),v.lineEnd(),v.lineStart(),v.point(G[0][0],G[0][1])))}F&&(!b||!qu(b,N))&&v.point(N[0],N[1]),b=N,x=F,E=W},lineEnd:function(){x&&v.lineEnd(),b=null},clean:function(){return O|(I&&x)<<1}}}function m(v,b,E){var x=pa(v),I=pa(b),O=[1,0,0],B=Lc(x,I),P=Cu(B,B),N=B[0],D=P-N*N;if(!D)return!E&&v;var F=s*P/D,W=-s*N/D,G=Lc(O,B),z=Iu(O,F),ee=Iu(B,W);Uh(z,ee);var Z=G,ie=Cu(z,Z),ge=Cu(Z,Z),ne=ie*ie-ge*(Cu(z,z)-1);if(!(ne<0)){var Q=_a(ne),X=Iu(Z,(-ie-Q)/ge);if(Uh(X,z),X=Sf(X),!E)return X;var _e=v[0],ye=b[0],we=v[1],pe=b[1],Ne;ye<_e&&(Ne=_e,_e=ye,ye=Ne);var ue=ye-_e,Ae=bn(ue-bt)<Ut,Ue=Ae||ue<Ut;if(!Ae&&pe<we&&(Ne=we,we=pe,pe=Ne),Ue?Ae?we+pe>0^X[1]<(bn(X[0]-_e)<Ut?we:pe):we<=X[1]&&X[1]<=pe:ue>bt^(_e<=X[0]&&X[0]<=ye)){var Me=Iu(Z,(-ie+Q)/ge);return Uh(Me,z),[X,Sf(Me)]}}}function _(v,b){var E=a?e:bt-e,x=0;return v<-E?x|=1:v>E&&(x|=2),b<-E?x|=4:b>E&&(x|=8),x}return Vy(f,d,l,a?[0,-e]:[-bt,e-bt])}function Hy(e){return function(t){var s=new Pf;for(var a in e)s[a]=e[a];return s.stream=t,s}}function Pf(){}Pf.prototype={constructor:Pf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function qy(e,t,s){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],l=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),l!=null&&e.clipExtent(null),oI(s,e.stream(cg));var f=cg.result(),d=Math.min(a/(f[1][0]-f[0][0]),i/(f[1][1]-f[0][1])),m=+t[0][0]+(a-d*(f[1][0]+f[0][0]))/2,_=+t[0][1]+(i-d*(f[1][1]+f[0][1]))/2;return l!=null&&e.clipExtent(l),e.scale(d*150).translate([m,_])}function wI(e,t,s){return qy(e,[[0,0],t],s)}var fg=16,LI=Yt(30*ki);function dg(e,t){return+t?kI(e,t):EI(e)}function EI(e){return Hy({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function kI(e,t){function s(a,i,l,f,d,m,_,v,b,E,x,I,O,B){var P=_-a,N=v-i,D=P*P+N*N;if(D>4*t&&O--){var F=f+E,W=d+x,G=m+I,z=_a(F*F+W*W+G*G),ee=ho(G/=z),Z=bn(bn(G)-1)<Ut||bn(l-b)<Ut?(l+b)/2:da(W,F),ie=e(Z,ee),ge=ie[0],ne=ie[1],Q=ge-a,X=ne-i,_e=N*Q-P*X;(_e*_e/D>t||bn((P*Q+N*X)/D-.5)>.3||f*E+d*x+m*I<LI)&&(s(a,i,l,f,d,m,ge,ne,Z,F/=z,W/=z,G,O,B),B.point(ge,ne),s(ge,ne,Z,F,W,G,_,v,b,E,x,I,O,B))}}return function(a){var i,l,f,d,m,_,v,b,E,x,I,O,B={point:P,lineStart:N,lineEnd:F,polygonStart:function(){a.polygonStart(),B.lineStart=W},polygonEnd:function(){a.polygonEnd(),B.lineStart=N}};function P(ee,Z){ee=e(ee,Z),a.point(ee[0],ee[1])}function N(){b=NaN,B.point=D,a.lineStart()}function D(ee,Z){var ie=pa([ee,Z]),ge=e(ee,Z);s(b,E,v,x,I,O,b=ge[0],E=ge[1],v=ee,x=ie[0],I=ie[1],O=ie[2],fg,a),a.point(b,E)}function F(){B.point=P,a.lineEnd()}function W(){N(),B.point=G,B.lineEnd=z}function G(ee,Z){D(i=ee,Z),l=b,f=E,d=x,m=I,_=O,B.point=D}function z(){s(b,E,v,x,I,O,l,f,i,d,m,_,fg,a),B.lineEnd=F,F()}return B}}var xI=Hy({point:function(e,t){this.stream.point(e*ki,t*ki)}});function TI(e){return SI(function(){return e})()}function SI(e){var t,s=150,a=480,i=250,l,f,d=0,m=0,_=0,v=0,b=0,E,x,I=null,O=hg,B=null,P,N,D,F=ug,W=.5,G=dg(ge,W),z,ee;function Z(X){return X=x(X[0]*ki,X[1]*ki),[X[0]*s+l,f-X[1]*s]}function ie(X){return X=x.invert((X[0]-l)/s,(f-X[1])/s),X&&[X[0]*rs,X[1]*rs]}function ge(X,_e){return X=t(X,_e),[X[0]*s+l,f-X[1]*s]}Z.stream=function(X){return z&&ee===X?z:z=xI(O(E,G(F(ee=X))))},Z.clipAngle=function(X){return arguments.length?(O=+X?bI(I=X*ki,6*ki):(I=null,hg),Q()):I*rs},Z.clipExtent=function(X){return arguments.length?(F=X==null?(B=P=N=D=null,ug):fI(B=+X[0][0],P=+X[0][1],N=+X[1][0],D=+X[1][1]),Q()):B==null?null:[[B,P],[N,D]]},Z.scale=function(X){return arguments.length?(s=+X,ne()):s},Z.translate=function(X){return arguments.length?(a=+X[0],i=+X[1],ne()):[a,i]},Z.center=function(X){return arguments.length?(d=X[0]%360*ki,m=X[1]%360*ki,ne()):[d*rs,m*rs]},Z.rotate=function(X){return arguments.length?(_=X[0]%360*ki,v=X[1]%360*ki,b=X.length>2?X[2]%360*ki:0,ne()):[_*rs,v*rs,b*rs]},Z.precision=function(X){return arguments.length?(G=dg(ge,W=X*X),Q()):_a(W)},Z.fitExtent=function(X,_e){return qy(Z,X,_e)},Z.fitSize=function(X,_e){return wI(Z,X,_e)};function ne(){x=Fy(E=aI(_,v,b),t);var X=t(d,m);return l=a-X[0]*s,f=i+X[1]*s,Q()}function Q(){return z=ee=null,Z}return function(){return t=e.apply(this,arguments),Z.invert=t.invert&&ie,ne()}}function Wy(e){return function(t,s){var a=Yt(t),i=Yt(s),l=e(a*i);return[l*i*jt(t),l*jt(s)]}}function Zy(e){return function(t,s){var a=_a(t*t+s*s),i=e(a),l=jt(i),f=Yt(i);return[da(t*l,a*f),ho(a&&s*l/a)]}}var CI=Wy(function(e){return _a(2/(1+e))});CI.invert=Zy(function(e){return 2*ho(e/2)});var Yy=Wy(function(e){return(e=By(e))&&e/jt(e)});Yy.invert=Zy(function(e){return e});function II(){return TI(Yy).scale(79.4188).clipAngle(180-.001)}function pg(e,t){return[e,t]}pg.invert=pg;var{BufferOp:PI,GeoJSONReader:NI,GeoJSONWriter:OI}=rI;function Nf(e,t,s){s=s||{};var a=s.units||"kilometers",i=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var l=[];switch(e.type){case"GeometryCollection":return Qc(e,function(f){var d=Wu(f,t,a,i);d&&l.push(d)}),vc(l);case"FeatureCollection":return _c(e,function(f){var d=Wu(f,t,a,i);d&&_c(d,function(m){m&&l.push(m)})}),vc(l)}return Wu(e,t,a,i)}function Wu(e,t,s,a){var i=e.properties||{},l=e.type==="Feature"?e.geometry:e;if(l.type==="GeometryCollection"){var f=[];return Qc(e,function(O){var B=Wu(O,t,s,a);B&&f.push(B)}),vc(f)}var d=MI(l),m={type:l.type,coordinates:Xy(l.coordinates,d)},_=new NI,v=_.read(m),b=XC(KC(t,s),"meters"),E=PI.bufferOp(v,b,a),x=new OI;if(E=x.write(E),!jy(E.coordinates)){var I={type:E.type,coordinates:Ky(E.coordinates,d)};return Ry(I,i)}}function jy(e){return Array.isArray(e[0])?jy(e[0]):isNaN(e[0])}function Xy(e,t){return typeof e[0]!="object"?t(e):e.map(function(s){return Xy(s,t)})}function Ky(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(s){return Ky(s,t)})}function MI(e){var t=eI(e).geometry.coordinates,s=[-t[0],-t[1]];return II().rotate(s).scale(Qn)}function AI(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Jy(e);case"FeatureCollection":return RI(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ld(e);default:throw new Error("unknown GeoJSON type")}}function Jy(e){const t={type:"Feature"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"properties":case"geometry":return;default:t[s]=e[s]}}),t.properties=Qy(e.properties),e.geometry==null?t.geometry=null:t.geometry=Ld(e.geometry),t}function Qy(e){const t={};return e&&Object.keys(e).forEach(s=>{const a=e[s];typeof a=="object"?a===null?t[s]=null:Array.isArray(a)?t[s]=a.map(i=>i):t[s]=Qy(a):t[s]=a}),t}function RI(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"features":return;default:t[s]=e[s]}}),t.features=e.features.map(s=>Jy(s)),t}function Ld(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(s=>Ld(s)),t):(t.coordinates=e0(e.coordinates),t)}function e0(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(s=>e0(s))}function DI(e,t={}){var s,a;if(t=t||{},!JC(t))throw new Error("options is invalid");const i=(s=t.mutate)!=null?s:!1,l=(a=t.reverse)!=null?a:!1;if(!e)throw new Error("<geojson> is required");if(typeof l!="boolean")throw new Error("<reverse> must be a boolean");if(typeof i!="boolean")throw new Error("<mutate> must be a boolean");!i&&e.type!=="Point"&&e.type!=="MultiPoint"&&(e=AI(e));const f=[];switch(e.type){case"GeometryCollection":return Qc(e,function(d){Zu(d,l)}),e;case"FeatureCollection":return _c(e,function(d){const m=Zu(d,l);_c(m,function(_){f.push(_)})}),vc(f)}return Zu(e,l)}function Zu(e,t){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return Qc(e,function(a){Zu(a,t)}),e;case"LineString":return mg(nl(e),t),e;case"Polygon":return gg(nl(e),t),e;case"MultiLineString":return nl(e).forEach(function(a){mg(a,t)}),e;case"MultiPolygon":return nl(e).forEach(function(a){gg(a,t)}),e;case"Point":case"MultiPoint":return e}}function mg(e,t){yc(e)===t&&e.reverse()}function gg(e,t){yc(e[0])!==t&&e[0].reverse();for(let s=1;s<e.length;s++)yc(e[s])===t&&e[s].reverse()}const Jt=class Jt{constructor(){if(Jt.instance)return Jt.instance;const{locale:t,availableLocales:s}=xs(),a=Vu(),i=Oy(),l=a==null?void 0:a.query;this.radius=Fe(1),this.wkt=Fe(""),this.dateMin=Fe(null),this.dateMax=Fe(null),this.connector=Nn(Gu(null,l)),this.nbTaxonPerLine=Fe(null),this.showFilters=Fe(!0),this.mapEditable=Fe(!0),this.lang=t,this.mode=Fe("detailedList"),this.sourceGeometry=Fe(null),this.class=Fe(null),this.initializeFromUrl(l,t,s),Jt.instance=this,"radius wkt dateMin dateMax nbTaxonPerLine showFilters lang mode class connector mapEditable sourceGeometry".split(" ").forEach(f=>{tt(this[f],()=>{i.replace({path:a.path,query:this.getParams()})})})}initializeFromUrl(t,s,a){t&&(this.setParameterFromUrl("radius",i=>parseInt(i)),this.setParameterFromUrl("wkt",i=>vg(i,this.radius.value)),this.setParameterFromUrl("sourceGeometry",async i=>{this.sourceGeometry.value=i;try{const f=await(await fetch(i)).json();this.wkt.value=vg(fs.stringify(f.geometry),this.radius.value)}catch(l){console.error(l)}},!0),this.setParameterFromUrl("dateMin",i=>i),this.setParameterFromUrl("dateMax",i=>i),this.setParameterFromUrl("connector",i=>Gu(i,{...t})),this.setParameterFromUrl("class",i=>{var l;return(l=Object.keys(this.connector.value.taxonClass2SourceID))!=null&&l.includes(i)?i:null}),this.setParameterFromUrl("nbTaxonPerLine",i=>parseInt(i)),this.setParameterFromUrl("showFilters",i=>i==="true"),this.setParameterFromUrl("mapEditable",i=>i==="true"),this.setParameterFromUrl("lang",i=>{if(a.includes(i))return i}),this.setParameterFromUrl("mode",i=>["detailedList","gallery"].includes(i)?i:"detailedList"))}setParameterFromUrl(t,s,a=!1){if(t in Vu().query){const i=Vu().query[t];a?s(i):this[t].value=s(i)}}getParams(){let t={};return Object.entries(this).filter(([s,a])=>a.value!==void 0&&a.value!==null&&a.value!=="").forEach(([s,a])=>{t[s]=a.value}),t.connector=this.connector.name,t={...t,...this.connector.value.getParams()},(t==null?void 0:t.sourceGeometry)!=null&&(t!=null&&t.wkt)&&delete t.wkt,t}static clearParameters(t,s){s.replace({path:t.path,query:{}}),Jt.instance.radius.value=1,Jt.instance.wkt.value="",Jt.instance.dateMin.value=null,Jt.instance.dateMax.value=null,Jt.instance.connector.value=Gu(null,{}),Jt.instance.nbTaxonPerLine.value=null,Jt.instance.showFilters.value=!0,Jt.instance.mapEditable.value=!0,Jt.instance.mode.value="detailedList",Jt.instance.sourceGeometry.value=null,Jt.instance.class.value=null,Jt.instance.initializeFromUrl()}static getInstance(){return Jt.instance||(Jt.instance=new Jt),Jt.instance}};Vs(Jt,"instance",null);let Yn=Jt;const vg=(e,t)=>{if(e&&(e.includes("POINT")||e.includes("LINESTRING"))){const s=Nf(fs.parse(e),t);return fs.stringify(s)}return e};var sl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var BI=sl.exports,_g;function FI(){return _g||(_g=1,function(e,t){(function(s,a){a(t)})(BI,function(s){var a="1.9.4";function i(o){var h,g,w,T;for(g=1,w=arguments.length;g<w;g++){T=arguments[g];for(h in T)o[h]=T[h]}return o}var l=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function f(o,h){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var w=g.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(g.call(arguments)):arguments)}}var d=0;function m(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function _(o,h,g){var w,T,R,Y;return Y=function(){w=!1,T&&(R.apply(g,T),T=!1)},R=function(){w?T=arguments:(o.apply(g,arguments),setTimeout(Y,h),w=!0)},R}function v(o,h,g){var w=h[1],T=h[0],R=w-T;return o===w&&g?o:((o-T)%R+R)%R+T}function b(){return!1}function E(o,h){if(h===!1)return o;var g=Math.pow(10,h===void 0?6:h);return Math.round(o*g)/g}function x(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function I(o){return x(o).split(/\s+/)}function O(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var g in h)o.options[g]=h[g];return o.options}function B(o,h,g){var w=[];for(var T in o)w.push(encodeURIComponent(g?T.toUpperCase():T)+"="+encodeURIComponent(o[T]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function N(o,h){return o.replace(P,function(g,w){var T=h[w];if(T===void 0)throw new Error("No value provided for variable "+g);return typeof T=="function"&&(T=T(h)),T})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function F(o,h){for(var g=0;g<o.length;g++)if(o[g]===h)return g;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var z=0;function ee(o){var h=+new Date,g=Math.max(0,16-(h-z));return z=h+g,window.setTimeout(o,g)}var Z=window.requestAnimationFrame||G("RequestAnimationFrame")||ee,ie=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function ge(o,h,g){if(g&&Z===ee)o.call(h);else return Z.call(window,f(o,h))}function ne(o){o&&ie.call(window,o)}var Q={__proto__:null,extend:i,create:l,bind:f,get lastId(){return d},stamp:m,throttle:_,wrapNum:v,falseFn:b,formatNum:E,trim:x,splitWords:I,setOptions:O,getParamString:B,template:N,isArray:D,indexOf:F,emptyImageUrl:W,requestFn:Z,cancelFn:ie,requestAnimFrame:ge,cancelAnimFrame:ne};function X(){}X.extend=function(o){var h=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=h.__super__=this.prototype,w=l(g);w.constructor=h,h.prototype=w;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(h[T]=this[T]);return o.statics&&i(h,o.statics),o.includes&&(_e(o.includes),i.apply(null,[w].concat(o.includes))),i(w,o),delete w.statics,delete w.includes,w.options&&(w.options=g.options?l(g.options):{},i(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,Y=w._initHooks.length;R<Y;R++)w._initHooks[R].call(this)}},h},X.include=function(o){var h=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},X.mergeOptions=function(o){return i(this.prototype.options,o),this},X.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function _e(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=I(o);for(var T=0,R=o.length;T<R;T++)this._on(o[T],h,g)}return this},off:function(o,h,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=I(o);for(var T=arguments.length===1,R=0,Y=o.length;R<Y;R++)T?this._off(o[R]):this._off(o[R],h,g)}return this},_on:function(o,h,g,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,g)===!1){g===this&&(g=void 0);var T={fn:h,ctx:g};w&&(T.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(T)}},_off:function(o,h,g){var w,T,R;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(T=0,R=w.length;T<R;T++)w[T].fn=b;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Y=this._listens(o,h,g);if(Y!==!1){var ae=w[Y];this._firingCount&&(ae.fn=b,this._events[o]=w=w.slice()),w.splice(Y,1)}}},fire:function(o,h,g){if(!this.listens(o,g))return this;var w=i({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var T=this._events[o];if(T){this._firingCount=this._firingCount+1||1;for(var R=0,Y=T.length;R<Y;R++){var ae=T[R],fe=ae.fn;ae.once&&this.off(o,fe,ae.ctx),fe.call(ae.ctx||this,w)}this._firingCount--}}return g&&this._propagateEvent(w),this},listens:function(o,h,g,w){typeof o!="string"&&console.warn('"string" type argument expected');var T=h;typeof h!="function"&&(w=!!h,T=void 0,g=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,T,g)!==!1)return!0;if(w){for(var Y in this._eventParents)if(this._eventParents[Y].listens(o,h,g,w))return!0}return!1},_listens:function(o,h,g){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;g===this&&(g=void 0);for(var T=0,R=w.length;T<R;T++)if(w[T].fn===h&&w[T].ctx===g)return T;return!1},once:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=I(o);for(var T=0,R=o.length;T<R;T++)this._on(o[T],h,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[m(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[m(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var we=X.extend(ye);function pe(o,h,g){this.x=g?Math.round(o):o,this.y=g?Math.round(h):h}var Ne=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(o){return this.clone()._add(ue(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ue(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new pe(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new pe(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ne(this.x),this.y=Ne(this.y),this},distanceTo:function(o){o=ue(o);var h=o.x-this.x,g=o.y-this.y;return Math.sqrt(h*h+g*g)},equals:function(o){return o=ue(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ue(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function ue(o,h,g){return o instanceof pe?o:D(o)?new pe(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new pe(o.x,o.y):new pe(o,h,g)}function Ae(o,h){if(o)for(var g=h?[o,h]:o,w=0,T=g.length;w<T;w++)this.extend(g[w])}Ae.prototype={extend:function(o){var h,g;if(!o)return this;if(o instanceof pe||typeof o[0]=="number"||"x"in o)h=g=ue(o);else if(o=Ue(o),h=o.min,g=o.max,!h||!g)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=g.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return ue((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ue(this.min.x,this.max.y)},getTopRight:function(){return ue(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,g;return typeof o[0]=="number"||o instanceof pe?o=ue(o):o=Ue(o),o instanceof Ae?(h=o.min,g=o.max):h=g=o,h.x>=this.min.x&&g.x<=this.max.x&&h.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=Ue(o);var h=this.min,g=this.max,w=o.min,T=o.max,R=T.x>=h.x&&w.x<=g.x,Y=T.y>=h.y&&w.y<=g.y;return R&&Y},overlaps:function(o){o=Ue(o);var h=this.min,g=this.max,w=o.min,T=o.max,R=T.x>h.x&&w.x<g.x,Y=T.y>h.y&&w.y<g.y;return R&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,g=this.max,w=Math.abs(h.x-g.x)*o,T=Math.abs(h.y-g.y)*o;return Ue(ue(h.x-w,h.y-T),ue(g.x+w,g.y+T))},equals:function(o){return o?(o=Ue(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Ue(o,h){return!o||o instanceof Ae?o:new Ae(o,h)}function Me(o,h){if(o)for(var g=h?[o,h]:o,w=0,T=g.length;w<T;w++)this.extend(g[w])}Me.prototype={extend:function(o){var h=this._southWest,g=this._northEast,w,T;if(o instanceof Le)w=o,T=o;else if(o instanceof Me){if(w=o._southWest,T=o._northEast,!w||!T)return this}else return o?this.extend(Te(o)||Pe(o)):this;return!h&&!g?(this._southWest=new Le(w.lat,w.lng),this._northEast=new Le(T.lat,T.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),g.lat=Math.max(T.lat,g.lat),g.lng=Math.max(T.lng,g.lng)),this},pad:function(o){var h=this._southWest,g=this._northEast,w=Math.abs(h.lat-g.lat)*o,T=Math.abs(h.lng-g.lng)*o;return new Me(new Le(h.lat-w,h.lng-T),new Le(g.lat+w,g.lng+T))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Le||"lat"in o?o=Te(o):o=Pe(o);var h=this._southWest,g=this._northEast,w,T;return o instanceof Me?(w=o.getSouthWest(),T=o.getNorthEast()):w=T=o,w.lat>=h.lat&&T.lat<=g.lat&&w.lng>=h.lng&&T.lng<=g.lng},intersects:function(o){o=Pe(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),T=o.getNorthEast(),R=T.lat>=h.lat&&w.lat<=g.lat,Y=T.lng>=h.lng&&w.lng<=g.lng;return R&&Y},overlaps:function(o){o=Pe(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),T=o.getNorthEast(),R=T.lat>h.lat&&w.lat<g.lat,Y=T.lng>h.lng&&w.lng<g.lng;return R&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Pe(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(o,h){return o instanceof Me?o:new Me(o,h)}function Le(o,h,g){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,g!==void 0&&(this.alt=+g)}Le.prototype={equals:function(o,h){if(!o)return!1;o=Te(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+E(this.lat,o)+", "+E(this.lng,o)+")"},distanceTo:function(o){return H.distance(this,Te(o))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,g=h/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-h,this.lng-g],[this.lat+h,this.lng+g])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function Te(o,h,g){return o instanceof Le?o:D(o)&&typeof o[0]!="object"?o.length===3?new Le(o[0],o[1],o[2]):o.length===2?new Le(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Le(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Le(o,h,g)}var re={latLngToPoint:function(o,h){var g=this.projection.project(o),w=this.scale(h);return this.transformation._transform(g,w)},pointToLatLng:function(o,h){var g=this.scale(h),w=this.transformation.untransform(o,g);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,g=this.scale(o),w=this.transformation.transform(h.min,g),T=this.transformation.transform(h.max,g);return new Ae(w,T)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?v(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?v(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Le(g,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),g=this.wrapLatLng(h),w=h.lat-g.lat,T=h.lng-g.lng;if(w===0&&T===0)return o;var R=o.getSouthWest(),Y=o.getNorthEast(),ae=new Le(R.lat-w,R.lng-T),fe=new Le(Y.lat-w,Y.lng-T);return new Me(ae,fe)}},H=i({},re,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var g=Math.PI/180,w=o.lat*g,T=h.lat*g,R=Math.sin((h.lat-o.lat)*g/2),Y=Math.sin((h.lng-o.lng)*g/2),ae=R*R+Math.cos(w)*Math.cos(T)*Y*Y,fe=2*Math.atan2(Math.sqrt(ae),Math.sqrt(1-ae));return this.R*fe}}),Ee=6378137,Ce={R:Ee,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,g=this.MAX_LATITUDE,w=Math.max(Math.min(g,o.lat),-g),T=Math.sin(w*h);return new pe(this.R*o.lng*h,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(o){var h=180/Math.PI;return new Le((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=Ee*Math.PI;return new Ae([-o,-o],[o,o])}()};function Ie(o,h,g,w){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=g,this._d=w}Ie.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new pe((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function S(o,h,g,w){return new Ie(o,h,g,w)}var q=i({},H,{code:"EPSG:3857",projection:Ce,transformation:function(){var o=.5/(Math.PI*Ce.R);return S(o,.5,-o,.5)}()}),K=i({},q,{code:"EPSG:900913"});function ce(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ve(o,h){var g="",w,T,R,Y,ae,fe;for(w=0,R=o.length;w<R;w++){for(ae=o[w],T=0,Y=ae.length;T<Y;T++)fe=ae[T],g+=(T?"L":"M")+fe.x+" "+fe.y;g+=h?Xe.svg?"z":"x":""}return g||"M0 0"}var me=document.documentElement.style,$="ActiveXObject"in window,M=$&&!document.addEventListener,J="msLaunchUri"in navigator&&!("documentMode"in document),le=pn("webkit"),De=pn("android"),ke=pn("android 2")||pn("android 3"),j=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),de=De&&pn("Google")&&j<537&&!("AudioNode"in window),Ge=!!window.opera,Qe=!J&&pn("chrome"),Oe=pn("gecko")&&!le&&!Ge&&!$,Ht=!Qe&&pn("safari"),je=pn("phantom"),Ye="OTransition"in me,On=navigator.platform.indexOf("Win")===0,dn=$&&"transition"in me,Vr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ke,We="MozPerspective"in me,jn=!window.L_DISABLE_3D&&(dn||Vr||We)&&!Ye&&!je,Zi=typeof orientation<"u"||pn("mobile"),ya=Zi&&le,Xn=Zi&&Vr,Hr=!window.PointerEvent&&window.MSPointerEvent,oi=!!(window.PointerEvent||Hr),ba="ontouchstart"in window||!!window.TouchEvent,vo=!window.L_NO_TOUCH&&(ba||oi),eh=Zi&&Ge,Zl=Zi&&Oe,_r=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Re=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",b,h),window.removeEventListener("testPassiveEventSupport",b,h)}catch{}return o}(),_o=function(){return!!document.createElement("canvas").getContext}(),qr=!!(document.createElementNS&&ce("svg").createSVGRect),Cs=!!qr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yl=!qr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),wa=navigator.platform.indexOf("Mac")===0,jl=navigator.platform.indexOf("Linux")===0;function pn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Xe={ie:$,ielt9:M,edge:J,webkit:le,android:De,android23:ke,androidStock:de,opera:Ge,chrome:Qe,gecko:Oe,safari:Ht,phantom:je,opera12:Ye,win:On,ie3d:dn,webkit3d:Vr,gecko3d:We,any3d:jn,mobile:Zi,mobileWebkit:ya,mobileWebkit3d:Xn,msPointer:Hr,pointer:oi,touch:vo,touchNative:ba,mobileOpera:eh,mobileGecko:Zl,retina:_r,passiveEvents:Re,canvas:_o,svg:qr,vml:Yl,inlineSvg:Cs,mac:wa,linux:jl},Is=Xe.msPointer?"MSPointerDown":"pointerdown",Xl=Xe.msPointer?"MSPointerMove":"pointermove",La=Xe.msPointer?"MSPointerUp":"pointerup",Kl=Xe.msPointer?"MSPointerCancel":"pointercancel",wn={touchstart:Is,touchmove:Xl,touchend:La,touchcancel:Kl},yo={touchstart:Lo,touchmove:wo,touchend:wo,touchcancel:wo},di={},Yi=!1;function yr(o,h,g){return h==="touchstart"&&th(),yo[h]?(g=yo[h].bind(this,g),o.addEventListener(wn[h],g,!1),g):(console.warn("wrong event specified:",h),b)}function Ea(o,h,g){if(!wn[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(wn[h],g,!1)}function bo(o){di[o.pointerId]=o}function Ps(o){di[o.pointerId]&&(di[o.pointerId]=o)}function Xt(o){delete di[o.pointerId]}function th(){Yi||(document.addEventListener(Is,bo,!0),document.addEventListener(Xl,Ps,!0),document.addEventListener(La,Xt,!0),document.addEventListener(Kl,Xt,!0),Yi=!0)}function wo(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var g in di)h.touches.push(di[g]);h.changedTouches=[h],o(h)}}function Lo(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Zt(h),wo(o,h)}function Ns(o){var h={},g,w;for(w in o)g=o[w],h[w]=g&&g.bind?g.bind(o):g;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ka=200;function xa(o,h){o.addEventListener("dblclick",h);var g=0,w;function T(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var Y=gn(R);if(!(Y.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!Y.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var ae=Date.now();ae-g<=ka?(w++,w===2&&h(Ns(R))):w=1,g=ae}}}return o.addEventListener("click",T),{dblclick:h,simDblclick:T}}function Jl(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Ta=To(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ln=To(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),br=Ln==="webkitTransition"||Ln==="OTransition"?Ln+"End":"transitionend";function Eo(o){return typeof o=="string"?document.getElementById(o):o}function pi(o,h){var g=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!g||g==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);g=w?w[h]:null}return g==="auto"?null:g}function mt(o,h,g){var w=document.createElement(o);return w.className=h||"",g&&g.appendChild(w),w}function Gt(o){var h=o.parentNode;h&&h.removeChild(o)}function ko(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Wr(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function wr(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function xo(o,h){if(o.classList!==void 0)return o.classList.contains(h);var g=Os(o);return g.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(g)}function rt(o,h){if(o.classList!==void 0)for(var g=I(h),w=0,T=g.length;w<T;w++)o.classList.add(g[w]);else if(!xo(o,h)){var R=Os(o);mi(o,(R?R+" ":"")+h)}}function Et(o,h){o.classList!==void 0?o.classList.remove(h):mi(o,x((" "+Os(o)+" ").replace(" "+h+" "," ")))}function mi(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Os(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function un(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&nh(o,h)}function nh(o,h){var g=!1,w="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),g?(g.Enabled=h!==100,g.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function To(o){for(var h=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in h)return o[g];return!1}function Lr(o,h,g){var w=h||new pe(0,0);o.style[Ta]=(Xe.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(g?" scale("+g+")":"")}function Kt(o,h){o._leaflet_pos=h,Xe.any3d?Lr(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function ji(o){return o._leaflet_pos||new pe(0,0)}var Ni,Zr,Sa;if("onselectstart"in document)Ni=function(){st(window,"selectstart",Zt)},Zr=function(){Mt(window,"selectstart",Zt)};else{var Yr=To(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ni=function(){if(Yr){var o=document.documentElement.style;Sa=o[Yr],o[Yr]="none"}},Zr=function(){Yr&&(document.documentElement.style[Yr]=Sa,Sa=void 0)}}function Ca(){st(window,"dragstart",Zt)}function Ms(){Mt(window,"dragstart",Zt)}var Ot,Oi;function Ia(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(jr(),Ot=o,Oi=o.style.outlineStyle,o.style.outlineStyle="none",st(window,"keydown",jr))}function jr(){Ot&&(Ot.style.outlineStyle=Oi,Ot=void 0,Oi=void 0,Mt(window,"keydown",jr))}function Mn(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Sn(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var So={__proto__:null,TRANSFORM:Ta,TRANSITION:Ln,TRANSITION_END:br,get:Eo,getStyle:pi,create:mt,remove:Gt,empty:ko,toFront:Wr,toBack:wr,hasClass:xo,addClass:rt,removeClass:Et,setClass:mi,getClass:Os,setOpacity:un,testProp:To,setTransform:Lr,setPosition:Kt,getPosition:ji,get disableTextSelection(){return Ni},get enableTextSelection(){return Zr},disableImageDrag:Ca,enableImageDrag:Ms,preventOutline:Ia,restoreOutline:jr,getSizedParentNode:Mn,getScale:Sn};function st(o,h,g,w){if(h&&typeof h=="object")for(var T in h)Co(o,T,h[T],g);else{h=I(h);for(var R=0,Y=h.length;R<Y;R++)Co(o,h[R],g,w)}return this}var gi="_leaflet_events";function Mt(o,h,g,w){if(arguments.length===1)As(o),delete o[gi];else if(h&&typeof h=="object")for(var T in h)_t(o,T,h[T],g);else if(h=I(h),arguments.length===2)As(o,function(ae){return F(h,ae)!==-1});else for(var R=0,Y=h.length;R<Y;R++)_t(o,h[R],g,w);return this}function As(o,h){for(var g in o[gi]){var w=g.split(/\d/)[0];(!h||h(w))&&_t(o,w,null,null,g)}}var Pa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Co(o,h,g,w){var T=h+m(g)+(w?"_"+m(w):"");if(o[gi]&&o[gi][T])return this;var R=function(ae){return g.call(w||o,ae||window.event)},Y=R;!Xe.touchNative&&Xe.pointer&&h.indexOf("touch")===0?R=yr(o,h,R):Xe.touch&&h==="dblclick"?R=xa(o,R):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Pa[h]||h,R,Xe.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(R=function(ae){ae=ae||window.event,Io(o,ae)&&Y(ae)},o.addEventListener(Pa[h],R,!1)):o.addEventListener(h,Y,!1):o.attachEvent("on"+h,R),o[gi]=o[gi]||{},o[gi][T]=R}function _t(o,h,g,w,T){T=T||h+m(g)+(w?"_"+m(w):"");var R=o[gi]&&o[gi][T];if(!R)return this;!Xe.touchNative&&Xe.pointer&&h.indexOf("touch")===0?Ea(o,h,R):Xe.touch&&h==="dblclick"?Jl(o,R):"removeEventListener"in o?o.removeEventListener(Pa[h]||h,R,!1):o.detachEvent("on"+h,R),o[gi][T]=null}function mn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Rs(o){return Co(o,"wheel",mn),this}function Xr(o){return st(o,"mousedown touchstart dblclick contextmenu",mn),o._leaflet_disable_click=!0,this}function Zt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Xi(o){return Zt(o),mn(o),this}function gn(o){if(o.composedPath)return o.composedPath();for(var h=[],g=o.target;g;)h.push(g),g=g.parentNode;return h}function Na(o,h){if(!h)return new pe(o.clientX,o.clientY);var g=Sn(h),w=g.boundingClientRect;return new pe((o.clientX-w.left)/g.x-h.clientLeft,(o.clientY-w.top)/g.y-h.clientTop)}var Oa=Xe.linux&&Xe.chrome?window.devicePixelRatio:Xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ma(o){return Xe.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Oa:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Io(o,h){var g=h.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var ih={__proto__:null,on:st,off:Mt,stopPropagation:mn,disableScrollPropagation:Rs,disableClickPropagation:Xr,preventDefault:Zt,stop:Xi,getPropagationPath:gn,getMousePosition:Na,getWheelDelta:Ma,isExternalTarget:Io,addListener:st,removeListener:Mt},Aa=we.extend({run:function(o,h,g,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=ji(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ge(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,g=this._duration*1e3;h<g?this._runFrame(this._easeOut(h/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var g=this._startPos.add(this._offset.multiplyBy(o));h&&g._round(),Kt(this._el,g),this.fire("step")},_complete:function(){ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ot=we.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=O(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Te(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ln&&Xe.any3d&&!Xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,br,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,g){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Te(o),h,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,g.zoom):this._tryAnimatedPan(o,g.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,g){var w=this.getZoomScale(h),T=this.getSize().divideBy(2),R=o instanceof pe?o:this.latLngToContainerPoint(o),Y=R.subtract(T).multiplyBy(1-1/w),ae=this.containerPointToLatLng(T.add(Y));return this.setView(ae,h,{zoom:g})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Pe(o);var g=ue(h.paddingTopLeft||h.padding||[0,0]),w=ue(h.paddingBottomRight||h.padding||[0,0]),T=this.getBoundsZoom(o,!1,g.add(w));if(T=typeof h.maxZoom=="number"?Math.min(h.maxZoom,T):T,T===1/0)return{center:o.getCenter(),zoom:T};var R=w.subtract(g).divideBy(2),Y=this.project(o.getSouthWest(),T),ae=this.project(o.getNorthEast(),T),fe=this.unproject(Y.add(ae).divideBy(2).add(R),T);return{center:fe,zoom:T}},fitBounds:function(o,h){if(o=Pe(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,h);return this.setView(g.center,g.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=ue(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Aa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,g){if(g=g||{},g.animate===!1||!Xe.any3d)return this.setView(o,h,g);this._stop();var w=this.project(this.getCenter()),T=this.project(o),R=this.getSize(),Y=this._zoom;o=Te(o),h=h===void 0?Y:h;var ae=Math.max(R.x,R.y),fe=ae*this.getZoomScale(Y,h),Se=T.distanceTo(w)||1,Ve=1.42,nt=Ve*Ve;function dt(on){var fu=on?-1:1,c0=on?fe:ae,h0=fe*fe-ae*ae+fu*nt*nt*Se*Se,f0=2*c0*nt*Se,mh=h0/f0,Ad=Math.sqrt(mh*mh+1)-mh,d0=Ad<1e-9?-18:Math.log(Ad);return d0}function Dn(on){return(Math.exp(on)-Math.exp(-on))/2}function _n(on){return(Math.exp(on)+Math.exp(-on))/2}function Li(on){return Dn(on)/_n(on)}var Jn=dt(0);function zo(on){return ae*(_n(Jn)/_n(Jn+Ve*on))}function o0(on){return ae*(_n(Jn)*Li(Jn+Ve*on)-Dn(Jn))/nt}function a0(on){return 1-Math.pow(1-on,1.5)}var l0=Date.now(),Od=(dt(1)-Jn)/Ve,u0=g.duration?1e3*g.duration:1e3*Od*.8;function Md(){var on=(Date.now()-l0)/u0,fu=a0(on)*Od;on<=1?(this._flyToFrame=ge(Md,this),this._move(this.unproject(w.add(T.subtract(w).multiplyBy(o0(fu)/Se)),Y),this.getScaleZoom(ae/zo(fu),Y),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Md.call(this),this},flyToBounds:function(o,h){var g=this._getBoundsCenterZoom(o,h);return this.flyTo(g.center,g.zoom,h)},setMaxBounds:function(o){return o=Pe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var g=this.getCenter(),w=this._limitCenter(g,this._zoom,Pe(o));return g.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var g=ue(h.paddingTopLeft||h.padding||[0,0]),w=ue(h.paddingBottomRight||h.padding||[0,0]),T=this.project(this.getCenter()),R=this.project(o),Y=this.getPixelBounds(),ae=Ue([Y.min.add(g),Y.max.subtract(w)]),fe=ae.getSize();if(!ae.contains(R)){this._enforcingBounds=!0;var Se=R.subtract(ae.getCenter()),Ve=ae.extend(R).getSize().subtract(fe);T.x+=Se.x<0?-Ve.x:Ve.x,T.y+=Se.y<0?-Ve.y:Ve.y,this.panTo(this.unproject(T),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),w=h.divideBy(2).round(),T=g.divideBy(2).round(),R=w.subtract(T);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=f(this._handleGeolocationResponse,this),g=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,g,o):navigator.geolocation.getCurrentPosition(h,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,g=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,g=o.coords.longitude,w=new Le(h,g),T=w.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var Y=this.getBoundsZoom(T);this.setView(w,R.maxZoom?Math.min(Y,R.maxZoom):Y)}var ae={latlng:w,bounds:T,timestamp:o.timestamp};for(var fe in o.coords)typeof o.coords[fe]=="number"&&(ae[fe]=o.coords[fe]);this.fire("locationfound",ae)}},addHandler:function(o,h){if(!h)return this;var g=this[o]=new h(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Gt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=mt("div",g,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new Me(h,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,g){o=Pe(o),g=ue(g||[0,0]);var w=this.getZoom()||0,T=this.getMinZoom(),R=this.getMaxZoom(),Y=o.getNorthWest(),ae=o.getSouthEast(),fe=this.getSize().subtract(g),Se=Ue(this.project(ae,w),this.project(Y,w)).getSize(),Ve=Xe.any3d?this.options.zoomSnap:1,nt=fe.x/Se.x,dt=fe.y/Se.y,Dn=h?Math.max(nt,dt):Math.min(nt,dt);return w=this.getScaleZoom(Dn,w),Ve&&(w=Math.round(w/(Ve/100))*(Ve/100),w=h?Math.ceil(w/Ve)*Ve:Math.floor(w/Ve)*Ve),Math.max(T,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var g=this._getTopLeftPoint(o,h);return new Ae(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var g=this.options.crs;return h=h===void 0?this._zoom:h,g.scale(o)/g.scale(h)},getScaleZoom:function(o,h){var g=this.options.crs;h=h===void 0?this._zoom:h;var w=g.zoom(o*g.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Te(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(ue(o),h)},layerPointToLatLng:function(o){var h=ue(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Te(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Te(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Pe(o))},distance:function(o,h){return this.options.crs.distance(Te(o),Te(h))},containerPointToLayerPoint:function(o){return ue(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ue(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(ue(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(o)))},mouseEventToContainerPoint:function(o){return Na(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Eo(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(h,"scroll",this._onScroll,this),this._containerId=m(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xe.any3d,rt(o,"leaflet-container"+(Xe.touch?" leaflet-touch":"")+(Xe.retina?" leaflet-retina":"")+(Xe.ielt9?" leaflet-oldie":"")+(Xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=pi(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kt(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(o.markerPane,"leaflet-zoom-hide"),rt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,g){Kt(this._mapPane,new pe(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var T=this._zoom!==h;this._moveStart(T,g)._move(o,h)._moveEnd(T),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,g,w){h===void 0&&(h=this._zoom);var T=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?g&&g.pinch&&this.fire("zoom",g):((T||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Kt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[m(this._container)]=this;var h=o?Mt:st;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Xe.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ne(this._resizeRequest),this._resizeRequest=ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var g=[],w,T=h==="mouseout"||h==="mouseover",R=o.target||o.srcElement,Y=!1;R;){if(w=this._targets[m(R)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){Y=!0;break}if(w&&w.listens(h,!0)&&(T&&!Io(R,o)||(g.push(w),T))||R===this._container)break;R=R.parentNode}return!g.length&&!Y&&!T&&this.listens(h,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var g=o.type;g==="mousedown"&&Ia(h),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,g){if(o.type==="click"){var w=i({},o);w.type="preclick",this._fireDOMEvent(w,w.type,g)}var T=this._findEventTargets(o,h);if(g){for(var R=[],Y=0;Y<g.length;Y++)g[Y].listens(h,!0)&&R.push(g[Y]);T=R.concat(T)}if(T.length){h==="contextmenu"&&Zt(o);var ae=T[0],fe={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Se=ae.getLatLng&&(!ae._radius||ae._radius<=10);fe.containerPoint=Se?this.latLngToContainerPoint(ae.getLatLng()):this.mouseEventToContainerPoint(o),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=Se?ae.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(Y=0;Y<T.length;Y++)if(T[Y].fire(h,fe,!0),fe.originalEvent._stopped||T[Y].options.bubblingMouseEvents===!1&&F(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return ji(this._mapPane)||new pe(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var g=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var g=this.getSize()._divideBy(2);return this.project(o,h)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return Ue([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,g){if(!g)return o;var w=this.project(o,h),T=this.getSize().divideBy(2),R=new Ae(w.subtract(T),w.add(T)),Y=this._getBoundsOffset(R,g,h);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?o:this.unproject(w.add(Y),h)},_limitOffset:function(o,h){if(!h)return o;var g=this.getPixelBounds(),w=new Ae(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,g){var w=Ue(this.project(h.getNorthEast(),g),this.project(h.getSouthWest(),g)),T=w.min.subtract(o.min),R=w.max.subtract(o.max),Y=this._rebound(T.x,-R.x),ae=this._rebound(T.y,-R.y);return new pe(Y,ae)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),g=this.getMaxZoom(),w=Xe.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Et(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var g=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,h),!0)},_createAnimProxy:function(){var o=this._proxy=mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var g=Ta,w=this._proxy.style[g];Lr(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Lr(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),T=this._getCenterOffset(o)._divideBy(1-1/w);return g.animate!==!0&&!this.getSize().contains(T)?!1:(ge(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,g,w){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Et(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Po(o,h){return new ot(o,h)}var ai=X.extend({options:{position:"topright"},initialize:function(o){O(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),g=this.getPosition(),w=o._controlCorners[g];return rt(h,"leaflet-control"),g.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),vn=function(o){return new ai(o)};ot.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",g=this._controlContainer=mt("div",h+"control-container",this._container);function w(T,R){var Y=h+T+" "+h+R;o[T+R]=mt("div",Y,g)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Gt(this._controlCorners[o]);Gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Er=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,g,w){return g<w?-1:w<g?1:0}},initialize:function(o,h,g){O(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ai.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(m(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Et(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Et(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=mt("div",o),g=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Xr(h),Rs(h);var w=this._section=mt("section",o+"-list");g&&(this._map.on("click",this.collapse,this),st(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=mt("a",o+"-toggle",h);T.href="#",T.title="Layers",T.setAttribute("role","button"),st(T,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Zt(R),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=mt("div",o+"-base",w),this._separator=mt("div",o+"-separator",w),this._overlaysList=mt("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&m(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:g}),this.options.sortLayers&&this._layers.sort(f(function(w,T){return this.options.sortFunction(w.layer,T.layer,w.name,T.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ko(this._baseLayersList),ko(this._overlaysList),this._layerControlInputs=[];var o,h,g,w,T=0;for(g=0;g<this._layers.length;g++)w=this._layers[g],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,T+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&T>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(m(o.target)),g=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,h)},_createRadioElement:function(o,h){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=g,w.firstChild},_addItem:function(o){var h=document.createElement("label"),g=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=g):w=this._createRadioElement("leaflet-base-layers_"+m(this),g),this._layerControlInputs.push(w),w.layerId=m(o.layer),st(w,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+o.name;var R=document.createElement("span");h.appendChild(R),R.appendChild(w),R.appendChild(T);var Y=o.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,g,w=[],T=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)h=o[R],g=this._getLayer(h.layerId).layer,h.checked?w.push(g):h.checked||T.push(g);for(R=0;R<T.length;R++)this._map.hasLayer(T[R])&&this._map.removeLayer(T[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,g,w=this._map.getZoom(),T=o.length-1;T>=0;T--)h=o[T],g=this._getLayer(h.layerId).layer,h.disabled=g.options.minZoom!==void 0&&w<g.options.minZoom||g.options.maxZoom!==void 0&&w>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,st(o,"click",Zt),this.expand();var h=this;setTimeout(function(){Mt(o,"click",Zt),h._preventClick=!1})}}),rh=function(o,h,g){return new Er(o,h,g)},Ki=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",g=mt("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,g,w,T){var R=mt("a",g,w);return R.innerHTML=o,R.href="#",R.title=h,R.setAttribute("role","button"),R.setAttribute("aria-label",h),Xr(R),st(R,"click",Xi),st(R,"click",T,this),st(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";Et(this._zoomInButton,h),Et(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(rt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(rt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ki,this.addControl(this.zoomControl))});var Ql=function(o){return new Ki(o)},kr=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",g=mt("div",h),w=this.options;return this._addScales(w,h+"-line",g),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,g){o.metric&&(this._mScale=mt("div",h,g)),o.imperial&&(this._iScale=mt("div",h,g))},_update:function(){var o=this._map,h=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),g=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,g,h/o)},_updateImperial:function(o){var h=o*3.2808399,g,w,T;h>5280?(g=h/5280,w=this._getRoundNum(g),this._updateScale(this._iScale,w+" mi",w/g)):(T=this._getRoundNum(h),this._updateScale(this._iScale,T+" ft",T/h))},_updateScale:function(o,h,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),g=o/h;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,h*g}}),sh=function(o){return new kr(o)},vi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',No=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xe.inlineSvg?vi+" ":"")+"Leaflet</a>"},initialize:function(o){O(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=mt("div","leaflet-control-attribution"),Xr(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new No().addTo(this)});var oh=function(o){return new No(o)};ai.Layers=Er,ai.Zoom=Ki,ai.Scale=kr,ai.Attribution=No,vn.layers=rh,vn.zoom=Ql,vn.scale=sh,vn.attribution=oh;var _i=X.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_i.addTo=function(o,h){return o.addHandler(h,this),this};var ah={Events:ye},eu=Xe.touch?"touchstart mousedown":"mousedown",Ji=we.extend({options:{clickTolerance:3},initialize:function(o,h,g,w){O(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=g},enable:function(){this._enabled||(st(this._dragStartTarget,eu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ji._dragging===this&&this.finishDrag(!0),Mt(this._dragStartTarget,eu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!xo(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ji._dragging===this&&this.finishDrag();return}if(!(Ji._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ji._dragging=this,this._preventOutline&&Ia(this._element),Ca(),Ni(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,g=Mn(this._element);this._startPoint=new pe(h.clientX,h.clientY),this._startPos=ji(this._element),this._parentScale=Sn(g);var w=o.type==="mousedown";st(document,w?"mousemove":"touchmove",this._onMove,this),st(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,g=new pe(h.clientX,h.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Zt(o),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Kt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Et(document.body,"leaflet-dragging"),this._lastTarget&&(Et(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mt(document,"mousemove touchmove",this._onMove,this),Mt(document,"mouseup touchend touchcancel",this._onUp,this),Ms(),Zr();var h=this._moved&&this._moving;this._moving=!1,Ji._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function tu(o,h,g){var w,T=[1,4,2,8],R,Y,ae,fe,Se,Ve,nt,dt;for(R=0,Ve=o.length;R<Ve;R++)o[R]._code=rn(o[R],h);for(ae=0;ae<4;ae++){for(nt=T[ae],w=[],R=0,Ve=o.length,Y=Ve-1;R<Ve;Y=R++)fe=o[R],Se=o[Y],fe._code&nt?Se._code&nt||(dt=Ds(Se,fe,nt,h,g),dt._code=rn(dt,h),w.push(dt)):(Se._code&nt&&(dt=Ds(Se,fe,nt,h,g),dt._code=rn(dt,h),w.push(dt)),w.push(fe));o=w}return o}function nu(o,h){var g,w,T,R,Y,ae,fe,Se,Ve;if(!o||o.length===0)throw new Error("latlngs not passed");Rn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var nt=Te([0,0]),dt=Pe(o),Dn=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());Dn<1700&&(nt=Mi(o));var _n=o.length,Li=[];for(g=0;g<_n;g++){var Jn=Te(o[g]);Li.push(h.project(Te([Jn.lat-nt.lat,Jn.lng-nt.lng])))}for(ae=fe=Se=0,g=0,w=_n-1;g<_n;w=g++)T=Li[g],R=Li[w],Y=T.y*R.x-R.y*T.x,fe+=(T.x+R.x)*Y,Se+=(T.y+R.y)*Y,ae+=Y*3;ae===0?Ve=Li[0]:Ve=[fe/ae,Se/ae];var zo=h.unproject(ue(Ve));return Te([zo.lat+nt.lat,zo.lng+nt.lng])}function Mi(o){for(var h=0,g=0,w=0,T=0;T<o.length;T++){var R=Te(o[T]);h+=R.lat,g+=R.lng,w++}return Te([h/w,g/w])}var An={__proto__:null,clipPolygon:tu,polygonCenter:nu,centroid:Mi};function iu(o,h){if(!h||!o.length)return o.slice();var g=h*h;return o=Ba(o,g),o=Da(o,g),o}function Ra(o,h,g){return Math.sqrt(Fs(o,h,g,!0))}function lh(o,h,g){return Fs(o,h,g)}function Da(o,h){var g=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,T=new w(g);T[0]=T[g-1]=1,Oo(o,T,h,0,g-1);var R,Y=[];for(R=0;R<g;R++)T[R]&&Y.push(o[R]);return Y}function Oo(o,h,g,w,T){var R=0,Y,ae,fe;for(ae=w+1;ae<=T-1;ae++)fe=Fs(o[ae],o[w],o[T],!0),fe>R&&(Y=ae,R=fe);R>g&&(h[Y]=1,Oo(o,h,g,w,Y),Oo(o,h,g,Y,T))}function Ba(o,h){for(var g=[o[0]],w=1,T=0,R=o.length;w<R;w++)Bs(o[w],o[T])>h&&(g.push(o[w]),T=w);return T<R-1&&g.push(o[R-1]),g}var Fa;function Kn(o,h,g,w,T){var R=w?Fa:rn(o,g),Y=rn(h,g),ae,fe,Se;for(Fa=Y;;){if(!(R|Y))return[o,h];if(R&Y)return!1;ae=R||Y,fe=Ds(o,h,ae,g,T),Se=rn(fe,g),ae===R?(o=fe,R=Se):(h=fe,Y=Se)}}function Ds(o,h,g,w,T){var R=h.x-o.x,Y=h.y-o.y,ae=w.min,fe=w.max,Se,Ve;return g&8?(Se=o.x+R*(fe.y-o.y)/Y,Ve=fe.y):g&4?(Se=o.x+R*(ae.y-o.y)/Y,Ve=ae.y):g&2?(Se=fe.x,Ve=o.y+Y*(fe.x-o.x)/R):g&1&&(Se=ae.x,Ve=o.y+Y*(ae.x-o.x)/R),new pe(Se,Ve,T)}function rn(o,h){var g=0;return o.x<h.min.x?g|=1:o.x>h.max.x&&(g|=2),o.y<h.min.y?g|=4:o.y>h.max.y&&(g|=8),g}function Bs(o,h){var g=h.x-o.x,w=h.y-o.y;return g*g+w*w}function Fs(o,h,g,w){var T=h.x,R=h.y,Y=g.x-T,ae=g.y-R,fe=Y*Y+ae*ae,Se;return fe>0&&(Se=((o.x-T)*Y+(o.y-R)*ae)/fe,Se>1?(T=g.x,R=g.y):Se>0&&(T+=Y*Se,R+=ae*Se)),Y=o.x-T,ae=o.y-R,w?Y*Y+ae*ae:new pe(T,R)}function Rn(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function za(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(o)}function $a(o,h){var g,w,T,R,Y,ae,fe,Se;if(!o||o.length===0)throw new Error("latlngs not passed");Rn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ve=Te([0,0]),nt=Pe(o),dt=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());dt<1700&&(Ve=Mi(o));var Dn=o.length,_n=[];for(g=0;g<Dn;g++){var Li=Te(o[g]);_n.push(h.project(Te([Li.lat-Ve.lat,Li.lng-Ve.lng])))}for(g=0,w=0;g<Dn-1;g++)w+=_n[g].distanceTo(_n[g+1])/2;if(w===0)Se=_n[0];else for(g=0,R=0;g<Dn-1;g++)if(Y=_n[g],ae=_n[g+1],T=Y.distanceTo(ae),R+=T,R>w){fe=(R-w)/T,Se=[ae.x-fe*(ae.x-Y.x),ae.y-fe*(ae.y-Y.y)];break}var Jn=h.unproject(ue(Se));return Te([Jn.lat+Ve.lat,Jn.lng+Ve.lng])}var Ua={__proto__:null,simplify:iu,pointToSegmentDistance:Ra,closestPointOnSegment:lh,clipSegment:Kn,_getEdgeIntersection:Ds,_getBitCode:rn,_sqClosestPointOnSegment:Fs,isFlat:Rn,_flat:za,polylineCenter:$a},Ga={project:function(o){return new pe(o.lng,o.lat)},unproject:function(o){return new Le(o.y,o.x)},bounds:new Ae([-180,-90],[180,90])},Va={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ae([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,g=this.R,w=o.lat*h,T=this.R_MINOR/g,R=Math.sqrt(1-T*T),Y=R*Math.sin(w),ae=Math.tan(Math.PI/4-w/2)/Math.pow((1-Y)/(1+Y),R/2);return w=-g*Math.log(Math.max(ae,1e-10)),new pe(o.lng*h*g,w)},unproject:function(o){for(var h=180/Math.PI,g=this.R,w=this.R_MINOR/g,T=Math.sqrt(1-w*w),R=Math.exp(-o.y/g),Y=Math.PI/2-2*Math.atan(R),ae=0,fe=.1,Se;ae<15&&Math.abs(fe)>1e-7;ae++)Se=T*Math.sin(Y),Se=Math.pow((1-Se)/(1+Se),T/2),fe=Math.PI/2-2*Math.atan(R*Se)-Y,Y+=fe;return new Le(Y*h,o.x*h/g)}},uh={__proto__:null,LonLat:Ga,Mercator:Va,SphericalMercator:Ce},ch=i({},H,{code:"EPSG:3395",projection:Va,transformation:function(){var o=.5/(Math.PI*Va.R);return S(o,.5,-o,.5)}()}),ru=i({},H,{code:"EPSG:4326",projection:Ga,transformation:S(1/180,1,-1/180,.5)}),hh=i({},re,{projection:Ga,transformation:S(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var g=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(g*g+w*w)},infinite:!0});re.Earth=H,re.EPSG3395=ch,re.EPSG3857=q,re.EPSG900913=K,re.EPSG4326=ru,re.Simple=hh;var li=we.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[m(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[m(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var g=this.getEvents();h.on(g,this),this.once("remove",function(){h.off(g,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=m(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=m(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return m(o)in this._layers},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var h=0,g=o.length;h<g;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[m(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=m(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,g=this._getZoomSpan();for(var w in this._zoomBoundLayers){var T=this._zoomBoundLayers[w].options;o=T.minZoom===void 0?o:Math.min(o,T.minZoom),h=T.maxZoom===void 0?h:Math.max(h,T.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kr=li.extend({initialize:function(o,h){O(this,h),this._layers={};var g,w;if(o)for(g=0,w=o.length;g<w;g++)this.addLayer(o[g])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),g,w;for(g in this._layers)w=this._layers[g],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return m(o)}}),su=function(o,h){return new Kr(o,h)},Ai=Kr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Kr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Kr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Me;for(var h in this._layers){var g=this._layers[h];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),ou=function(o,h){return new Ai(o,h)},Jr=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){O(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(g,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var g=this.options,w=g[h+"Size"];typeof w=="number"&&(w=[w,w]);var T=ue(w),R=ue(h==="shadow"&&g.shadowAnchor||g.iconAnchor||T&&T.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(g.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),T&&(o.style.width=T.x+"px",o.style.height=T.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Xe.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function fh(o){return new Jr(o)}var zs=Jr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof zs.imagePath!="string"&&(zs.imagePath=this._detectIconPath()),(this.options.imagePath||zs.imagePath)+Jr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(g,w,T){var R=w.exec(g);return R&&R[T]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=mt("div","leaflet-default-icon-path",document.body),h=pi(o,"background-image")||pi(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),au=_i.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ji(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Et(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,g=h._map,w=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,R=ji(h._icon),Y=g.getPixelBounds(),ae=g.getPixelOrigin(),fe=Ue(Y.min._subtract(ae).add(T),Y.max._subtract(ae).subtract(T));if(!fe.contains(R)){var Se=ue((Math.max(fe.max.x,R.x)-fe.max.x)/(Y.max.x-fe.max.x)-(Math.min(fe.min.x,R.x)-fe.min.x)/(Y.min.x-fe.min.x),(Math.max(fe.max.y,R.y)-fe.max.y)/(Y.max.y-fe.max.y)-(Math.min(fe.min.y,R.y)-fe.min.y)/(Y.min.y-fe.min.y)).multiplyBy(w);g.panBy(Se,{animate:!1}),this._draggable._newPos._add(Se),this._draggable._startPos._add(Se),Kt(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=ge(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ne(this._panRequest),this._panRequest=ge(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,g=h._shadow,w=ji(h._icon),T=h._map.layerPointToLatLng(w);g&&Kt(g,w),h._latlng=T,o.latlng=T,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Mo=li.extend({options:{icon:new zs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){O(this,h),this._latlng=Te(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Te(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),w=!1;g!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),rt(g,h),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(g,"focus",this._panOnFocus,this);var T=o.icon.createShadow(this._shadow),R=!1;T!==this._shadow&&(this._removeShadow(),R=!0),T&&(rt(T,h),T.alt=""),this._shadow=T,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(this._icon,"focus",this._panOnFocus,this),Gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Kt(this._icon,o),this._shadow&&Kt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),au)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new au(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&un(this._icon,o),this._shadow&&un(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,g=h.iconSize?ue(h.iconSize):ue(0,0),w=h.iconAnchor?ue(h.iconAnchor):ue(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:g.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dh(o,h){return new Mo(o,h)}var Qi=li.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return O(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$s=Qi.extend({options:{fill:!0,radius:10},initialize:function(o,h){O(this,h),this._latlng=Te(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Te(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Qi.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,g=this._clickTolerance(),w=[o+g,h+g];this._pxBounds=new Ae(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lu(o,h){return new $s(o,h)}var Ao=$s.extend({initialize:function(o,h,g){if(typeof h=="number"&&(h=i({},g,{radius:h})),O(this,h),this._latlng=Te(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Qi.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,g=this._map,w=g.options.crs;if(w.distance===H.distance){var T=Math.PI/180,R=this._mRadius/H.R/T,Y=g.project([h+R,o]),ae=g.project([h-R,o]),fe=Y.add(ae).divideBy(2),Se=g.unproject(fe).lat,Ve=Math.acos((Math.cos(R*T)-Math.sin(h*T)*Math.sin(Se*T))/(Math.cos(h*T)*Math.cos(Se*T)))/T;(isNaN(Ve)||Ve===0)&&(Ve=R/Math.cos(Math.PI/180*h)),this._point=fe.subtract(g.getPixelOrigin()),this._radius=isNaN(Ve)?0:fe.x-g.project([Se,o-Ve]).x,this._radiusY=fe.y-Y.y}else{var nt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(nt).x}this._updateBounds()}});function ph(o,h,g){return new Ao(o,h,g)}var yi=Qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){O(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,g=null,w=Fs,T,R,Y=0,ae=this._parts.length;Y<ae;Y++)for(var fe=this._parts[Y],Se=1,Ve=fe.length;Se<Ve;Se++){T=fe[Se-1],R=fe[Se];var nt=w(o,T,R,!0);nt<h&&(h=nt,g=w(o,T,R))}return g&&(g.distance=Math.sqrt(h)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $a(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Te(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Me,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],g=Rn(o),w=0,T=o.length;w<T;w++)g?(h[w]=Te(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new Ae;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new pe(o,o);this._rawPxBounds&&(this._pxBounds=new Ae([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,g){var w=o[0]instanceof Le,T=o.length,R,Y;if(w){for(Y=[],R=0;R<T;R++)Y[R]=this._map.latLngToLayerPoint(o[R]),g.extend(Y[R]);h.push(Y)}else for(R=0;R<T;R++)this._projectLatlngs(o[R],h,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,g,w,T,R,Y,ae,fe;for(g=0,T=0,R=this._rings.length;g<R;g++)for(fe=this._rings[g],w=0,Y=fe.length;w<Y-1;w++)ae=Kn(fe[w],fe[w+1],o,w,!0),ae&&(h[T]=h[T]||[],h[T].push(ae[0]),(ae[1]!==fe[w+1]||w===Y-2)&&(h[T].push(ae[1]),T++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,g=0,w=o.length;g<w;g++)o[g]=iu(o[g],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var g,w,T,R,Y,ae,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,R=this._parts.length;g<R;g++)for(ae=this._parts[g],w=0,Y=ae.length,T=Y-1;w<Y;T=w++)if(!(!h&&w===0)&&Ra(o,ae[T],ae[w])<=fe)return!0;return!1}});function Ha(o,h){return new yi(o,h)}yi._flat=za;var Qr=yi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=yi.prototype._convertLatLngs.call(this,o),g=h.length;return g>=2&&h[0]instanceof Le&&h[0].equals(h[g-1])&&h.pop(),h},_setLatLngs:function(o){yi.prototype._setLatLngs.call(this,o),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,g=new pe(h,h);if(o=new Ae(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,T=this._rings.length,R;w<T;w++)R=tu(this._rings[w],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,g,w,T,R,Y,ae,fe,Se;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,fe=this._parts.length;R<fe;R++)for(g=this._parts[R],Y=0,Se=g.length,ae=Se-1;Y<Se;ae=Y++)w=g[Y],T=g[ae],w.y>o.y!=T.y>o.y&&o.x<(T.x-w.x)*(o.y-w.y)/(T.y-w.y)+w.x&&(h=!h);return h||yi.prototype._containsPoint.call(this,o,!0)}});function uu(o,h){return new Qr(o,h)}var bi=Ai.extend({initialize:function(o,h){O(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=D(o)?o:o.features,g,w,T;if(h){for(g=0,w=h.length;g<w;g++)T=h[g],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var Y=Ro(o,R);return Y?(Y.feature=c(o),Y.defaultOptions=Y.options,this.resetStyle(Y),R.onEachFeature&&R.onEachFeature(o,Y),this.addLayer(Y)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Ro(o,h){var g=o.type==="Feature"?o.geometry:o,w=g?g.coordinates:null,T=[],R=h&&h.pointToLayer,Y=h&&h.coordsToLatLng||er,ae,fe,Se,Ve;if(!w&&!g)return null;switch(g.type){case"Point":return ae=Y(w),cu(R,o,ae,h);case"MultiPoint":for(Se=0,Ve=w.length;Se<Ve;Se++)ae=Y(w[Se]),T.push(cu(R,o,ae,h));return new Ai(T);case"LineString":case"MultiLineString":return fe=Do(w,g.type==="LineString"?0:1,Y),new yi(fe,h);case"Polygon":case"MultiPolygon":return fe=Do(w,g.type==="Polygon"?1:2,Y),new Qr(fe,h);case"GeometryCollection":for(Se=0,Ve=g.geometries.length;Se<Ve;Se++){var nt=Ro({geometry:g.geometries[Se],type:"Feature",properties:o.properties},h);nt&&T.push(nt)}return new Ai(T);case"FeatureCollection":for(Se=0,Ve=g.features.length;Se<Ve;Se++){var dt=Ro(g.features[Se],h);dt&&T.push(dt)}return new Ai(T);default:throw new Error("Invalid GeoJSON object.")}}function cu(o,h,g,w){return o?o(h,g):new Mo(g,w&&w.markersInheritOptions&&w)}function er(o){return new Le(o[1],o[0],o[2])}function Do(o,h,g){for(var w=[],T=0,R=o.length,Y;T<R;T++)Y=h?Do(o[T],h-1,g):(g||er)(o[T]),w.push(Y);return w}function Bo(o,h){return o=Te(o),o.alt!==void 0?[E(o.lng,h),E(o.lat,h),E(o.alt,h)]:[E(o.lng,h),E(o.lat,h)]}function En(o,h,g,w){for(var T=[],R=0,Y=o.length;R<Y;R++)T.push(h?En(o[R],Rn(o[R])?0:h-1,g,w):Bo(o[R],w));return!h&&g&&T.length>0&&T.push(T[0].slice()),T}function kn(o,h){return o.feature?i({},o.feature,{geometry:h}):c(h)}function c(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var n={toGeoJSON:function(o){return kn(this,{type:"Point",coordinates:Bo(this.getLatLng(),o)})}};Mo.include(n),Ao.include(n),$s.include(n),yi.include({toGeoJSON:function(o){var h=!Rn(this._latlngs),g=En(this._latlngs,h?1:0,!1,o);return kn(this,{type:(h?"Multi":"")+"LineString",coordinates:g})}}),Qr.include({toGeoJSON:function(o){var h=!Rn(this._latlngs),g=h&&!Rn(this._latlngs[0]),w=En(this._latlngs,g?2:h?1:0,!0,o);return h||(w=[w]),kn(this,{type:(g?"Multi":"")+"Polygon",coordinates:w})}}),Kr.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(g){h.push(g.toGeoJSON(o).geometry.coordinates)}),kn(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var g=h==="GeometryCollection",w=[];return this.eachLayer(function(T){if(T.toGeoJSON){var R=T.toGeoJSON(o);if(g)w.push(R.geometry);else{var Y=c(R);Y.type==="FeatureCollection"?w.push.apply(w,Y.features):w.push(Y)}}}),g?kn(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function r(o,h){return new bi(o,h)}var u=r,p=li.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,g){this._url=o,this._bounds=Pe(h),O(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Wr(this._image),this},bringToBack:function(){return this._map&&wr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Pe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:mt("img");if(rt(h,"leaflet-image-layer"),this._zoomAnimated&&rt(h,"leaflet-zoom-animated"),this.options.className&&rt(h,this.options.className),h.onselectstart=b,h.onmousemove=b,h.onload=f(this.fire,this,"load"),h.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Lr(this._image,g,h)},_reset:function(){var o=this._image,h=new Ae(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=h.getSize();Kt(o,h.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),y=function(o,h,g){return new p(o,h,g)},k=p.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:mt("video");if(rt(h,"leaflet-image-layer"),this._zoomAnimated&&rt(h,"leaflet-zoom-animated"),this.options.className&&rt(h,this.options.className),h.onselectstart=b,h.onmousemove=b,h.onloadeddata=f(this.fire,this,"load"),o){for(var g=h.getElementsByTagName("source"),w=[],T=0;T<g.length;T++)w.push(g[T].src);this._url=g.length>0?w:[h.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var Y=mt("source");Y.src=this._url[R],h.appendChild(Y)}}});function C(o,h,g){return new k(o,h,g)}var A=p.extend({_initImage:function(){var o=this._image=this._url;rt(o,"leaflet-image-layer"),this._zoomAnimated&&rt(o,"leaflet-zoom-animated"),this.options.className&&rt(o,this.options.className),o.onselectstart=b,o.onmousemove=b}});function V(o,h,g){return new A(o,h,g)}var te=li.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Le||D(o))?(this._latlng=Te(o),O(this,h)):(O(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&un(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(un(this._container,0),this._removeTimeout=setTimeout(f(Gt,void 0,this._container),200)):Gt(this._container),this.options.interactive&&(Et(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Te(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wr(this._container),this},bringToBack:function(){return this._map&&wr(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Ai){h=null;var g=this._source._layers;for(var w in g)if(g[w]._map){h=g[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=ue(this.options.offset),g=this._getAnchor();this._zoomAnimated?Kt(this._container,o.add(g)):h=h.add(o).add(g);var w=this._containerBottom=-h.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(o,h,g,w){var T=h;return T instanceof o||(T=new o(w).setContent(h)),g&&T.setLatLng(g),T}}),li.include({_initOverlay:function(o,h,g,w){var T=g;return T instanceof o?(O(T,w),T._source=this):(T=h&&!w?h:new o(w,this),T.setContent(g)),T}});var se=te.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,te.prototype.openOn.call(this,o)},onAdd:function(o){te.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qi||this._source.on("preclick",mn))},onRemove:function(o){te.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qi||this._source.off("preclick",mn))},getEvents:function(){var o=te.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=mt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=mt("div",o+"-content-wrapper",h);if(this._contentNode=mt("div",o+"-content",g),Xr(h),Rs(this._contentNode),st(h,"contextmenu",mn),this._tipContainer=mt("div",o+"-tip-container",h),this._tip=mt("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=mt("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',st(w,"click",function(T){Zt(T),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),h.width=g+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,T=this.options.maxHeight,R="leaflet-popup-scrolled";T&&w>T?(h.height=T+"px",rt(o,R)):Et(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();Kt(this._container,h.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(pi(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+h,w=this._containerWidth,T=new pe(this._containerLeft,-g-this._containerBottom);T._add(ji(this._container));var R=o.layerPointToContainerPoint(T),Y=ue(this.options.autoPanPadding),ae=ue(this.options.autoPanPaddingTopLeft||Y),fe=ue(this.options.autoPanPaddingBottomRight||Y),Se=o.getSize(),Ve=0,nt=0;R.x+w+fe.x>Se.x&&(Ve=R.x+w-Se.x+fe.x),R.x-Ve-ae.x<0&&(Ve=R.x-ae.x),R.y+g+fe.y>Se.y&&(nt=R.y+g-Se.y+fe.y),R.y-nt-ae.y<0&&(nt=R.y-ae.y),(Ve||nt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ve,nt]))}},_getAnchor:function(){return ue(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xe=function(o,h){return new se(o,h)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(o,h,g){return this._initOverlay(se,o,h,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),li.include({bindPopup:function(o,h){return this._popup=this._initOverlay(se,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ai||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Xi(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Qi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Be=te.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){te.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){te.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=te.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,g,w=this._map,T=this._container,R=w.latLngToContainerPoint(w.getCenter()),Y=w.layerPointToContainerPoint(o),ae=this.options.direction,fe=T.offsetWidth,Se=T.offsetHeight,Ve=ue(this.options.offset),nt=this._getAnchor();ae==="top"?(h=fe/2,g=Se):ae==="bottom"?(h=fe/2,g=0):ae==="center"?(h=fe/2,g=Se/2):ae==="right"?(h=0,g=Se/2):ae==="left"?(h=fe,g=Se/2):Y.x<R.x?(ae="right",h=0,g=Se/2):(ae="left",h=fe+(Ve.x+nt.x)*2,g=Se/2),o=o.subtract(ue(h,g,!0)).add(Ve).add(nt),Et(T,"leaflet-tooltip-right"),Et(T,"leaflet-tooltip-left"),Et(T,"leaflet-tooltip-top"),Et(T,"leaflet-tooltip-bottom"),rt(T,"leaflet-tooltip-"+ae),Kt(T,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&un(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return ue(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ze=function(o,h){return new Be(o,h)};ot.include({openTooltip:function(o,h,g){return this._initOverlay(Be,o,h,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),li.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Be,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[h](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ai||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(st(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),st(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,g,w;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(g),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Ke=Jr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(ko(h),h.appendChild(g.html)):h.innerHTML=g.html!==!1?g.html:"",g.bgPos){var w=ue(g.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function gt(o){return new Ke(o)}Jr.Default=zs;var lt=li.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){O(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Gt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof pe?o:new pe(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,g=-o(-1/0,1/0),w=0,T=h.length,R;w<T;w++)R=h[w].style.zIndex,h[w]!==this._container&&R&&(g=o(g,+R));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xe.ielt9){un(this._container,this.options.opacity);var o=+new Date,h=!1,g=!1;for(var w in this._tiles){var T=this._tiles[w];if(!(!T.current||!T.loaded)){var R=Math.min(1,(o-T.loaded)/200);un(T.el,R),R<1?h=!0:(T.active?g=!0:this._onOpaqueTile(T),T.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),h&&(ne(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=h-Math.abs(o-g),this._onUpdateLevel(g)):(Gt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var w=this._levels[o],T=this._map;return w||(w=this._levels[o]={},w.el=mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=T.project(T.unproject(T.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,T.getCenter(),T.getZoom()),b(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var o,h,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Gt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,g,w){var T=Math.floor(o/2),R=Math.floor(h/2),Y=g-1,ae=new pe(+T,+R);ae.z=+Y;var fe=this._tileCoordsToKey(ae),Se=this._tiles[fe];return Se&&Se.active?(Se.retain=!0,!0):(Se&&Se.loaded&&(Se.retain=!0),Y>w?this._retainParent(T,R,Y,w):!1)},_retainChildren:function(o,h,g,w){for(var T=2*o;T<2*o+2;T++)for(var R=2*h;R<2*h+2;R++){var Y=new pe(T,R);Y.z=g+1;var ae=this._tileCoordsToKey(Y),fe=this._tiles[ae];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);g+1<w&&this._retainChildren(T,R,g+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,g,w){var T=Math.round(h);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var R=this.options.updateWhenZooming&&T!==this._tileZoom;(!w||R)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,h)},_setZoomTransform:function(o,h,g){var w=this._map.getZoomScale(g,o.zoom),T=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,g)).round();Xe.any3d?Lr(o.el,T,w):Kt(o.el,T)},_resetGrid:function(){var o=this._map,h=o.options.crs,g=this._tileSize=this.getTileSize(),w=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/g.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/g.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/g.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,g=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(g,this._tileZoom),T=h.project(o,this._tileZoom).floor(),R=h.getSize().divideBy(w*2);return new Ae(T.subtract(R),T.add(R))},_update:function(o){var h=this._map;if(h){var g=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),T=this._pxBoundsToTileRange(w),R=T.getCenter(),Y=[],ae=this.options.keepBuffer,fe=new Ae(T.getBottomLeft().subtract([ae,-ae]),T.getTopRight().add([ae,-ae]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Se in this._tiles){var Ve=this._tiles[Se].coords;(Ve.z!==this._tileZoom||!fe.contains(new pe(Ve.x,Ve.y)))&&(this._tiles[Se].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var nt=T.min.y;nt<=T.max.y;nt++)for(var dt=T.min.x;dt<=T.max.x;dt++){var Dn=new pe(dt,nt);if(Dn.z=this._tileZoom,!!this._isValidTile(Dn)){var _n=this._tiles[this._tileCoordsToKey(Dn)];_n?_n.current=!0:Y.push(Dn)}}if(Y.sort(function(Jn,zo){return Jn.distanceTo(R)-zo.distanceTo(R)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Li=document.createDocumentFragment();for(dt=0;dt<Y.length;dt++)this._addTile(Y[dt],Li);this._level.el.appendChild(Li)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var g=this._globalTileRange;if(!h.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!h.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Pe(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,g=this.getTileSize(),w=o.scaleBy(g),T=w.add(g),R=h.unproject(w,o.z),Y=h.unproject(T,o.z);return[R,Y]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),g=new Me(h[0],h[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),g=new pe(+h[0],+h[1]);return g.z=+h[2],g},_removeTile:function(o){var h=this._tiles[o];h&&(Gt(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){rt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=b,o.onmousemove=b,Xe.ielt9&&this.options.opacity<1&&un(o,this.options.opacity)},_addTile:function(o,h){var g=this._getTilePos(o),w=this._tileCoordsToKey(o),T=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(T),this.createTile.length<2&&ge(f(this._tileReady,this,o,null,T)),Kt(T,g),this._tiles[w]={el:T,coords:o,current:!0},h.appendChild(T),this.fire("tileloadstart",{tile:T,coords:o})},_tileReady:function(o,h,g){h&&this.fire("tileerror",{error:h,tile:g,coords:o});var w=this._tileCoordsToKey(o);g=this._tiles[w],g&&(g.loaded=+new Date,this._map._fadeAnimated?(un(g.el,0),ne(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),h||(rt(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xe.ielt9||!this._map._fadeAnimated?ge(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new pe(this._wrapX?v(o.x,this._wrapX):o.x,this._wrapY?v(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new Ae(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function At(o){return new lt(o)}var qt=lt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=O(this,h),h.detectRetina&&Xe.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var g=document.createElement("img");return st(g,"load",f(this._tileOnLoad,this,h,g)),st(g,"error",f(this._tileOnError,this,h,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var h={r:Xe.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=g),h["-y"]=g}return N(this._url,i(h,this.options))},_tileOnLoad:function(o,h){Xe.ielt9?setTimeout(f(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,g){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(g,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,g=this.options.zoomReverse,w=this.options.zoomOffset;return g&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=b,h.onerror=b,!h.complete)){h.src=W;var g=this._tiles[o].coords;Gt(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:g})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",W),lt.prototype._removeTile.call(this,o)},_tileReady:function(o,h,g){if(!(!this._map||g&&g.getAttribute("src")===W))return lt.prototype._tileReady.call(this,o,h,g)}});function cn(o,h){return new qt(o,h)}var tr=qt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var g=i({},this.defaultWmsParams);for(var w in h)w in this.options||(g[w]=h[w]);h=O(this,h);var T=h.detectRetina&&Xe.retina?2:1,R=this.getTileSize();g.width=R.x*T,g.height=R.y*T,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,qt.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),g=this._crs,w=Ue(g.project(h[0]),g.project(h[1])),T=w.min,R=w.max,Y=(this._wmsVersion>=1.3&&this._crs===ru?[T.y,T.x,R.y,R.x]:[T.x,T.y,R.x,R.y]).join(","),ae=qt.prototype.getTileUrl.call(this,o);return ae+B(this.wmsParams,ae,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(o,h){return i(this.wmsParams,o),h||this.redraw(),this}});function Us(o,h){return new tr(o,h)}qt.WMS=tr,cn.wms=Us;var wi=li.extend({options:{padding:.1},initialize:function(o){O(this,o),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var g=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,h),R=w.multiplyBy(-g).add(T).subtract(this._map._getNewPixelOrigin(o,h));Xe.any3d?Lr(this._container,R,g):Kt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),g=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new Ae(g,g.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qa=wi.extend({options:{tolerance:0},getEvents:function(){var o=wi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");st(o,"mousemove",this._onMouseMove,this),st(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ne(this._redrawRequest),delete this._ctx,Gt(this._container),Mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wi.prototype._update.call(this);var o=this._bounds,h=this._container,g=o.getSize(),w=Xe.retina?2:1;Kt(h,o.min),h.width=w*g.x,h.height=w*g.y,h.style.width=g.x+"px",h.style.height=g.y+"px",Xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[m(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,g=h.next,w=h.prev;g?g.prev=w:this._drawLast=w,w?w.next=g:this._drawFirst=g,delete o._order,delete this._layers[m(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),g=[],w,T;for(T=0;T<h.length;T++){if(w=Number(h[T]),isNaN(w))return;g.push(w)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||ge(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ae,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var g=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var g,w,T,R,Y=o._parts,ae=Y.length,fe=this._ctx;if(ae){for(fe.beginPath(),g=0;g<ae;g++){for(w=0,T=Y[g].length;w<T;w++)R=Y[g][w],fe[w?"lineTo":"moveTo"](R.x,R.y);h&&fe.closePath()}this._fillStroke(fe,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,g=this._ctx,w=Math.max(Math.round(o._radius),1),T=(Math.max(Math.round(o._radiusY),1)||w)/w;T!==1&&(g.save(),g.scale(1,T)),g.beginPath(),g.arc(h.x,h.y/T,w,0,Math.PI*2,!1),T!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,h){var g=h.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),g,w,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(w=g);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(Et(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var g,w,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(h)&&(w=g);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(rt(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,g){this._map._fireDOMEvent(h,g||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(g)g.prev=w;else return;w?w.next=g:g&&(this._drawFirst=g),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(w)w.next=g;else return;g?g.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Wa(o){return Xe.canvas?new qa(o):null}var es=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),hu={_initContainer:function(){this._container=mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=es("shape");rt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=es("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Gt(h),o.removeInteractiveTarget(h),delete this._layers[m(o)]},_updateStyle:function(o){var h=o._stroke,g=o._fill,w=o.options,T=o._container;T.stroked=!!w.stroke,T.filled=!!w.fill,w.stroke?(h||(h=o._stroke=es("stroke")),T.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=D(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(T.removeChild(h),o._stroke=null),w.fill?(g||(g=o._fill=es("fill")),T.appendChild(g),g.color=w.fillColor||w.color,g.opacity=w.fillOpacity):g&&(T.removeChild(g),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),g=Math.round(o._radius),w=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+g+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Wr(o._container)},_bringToBack:function(o){wr(o._container)}},Gs=Xe.vml?es:ce,xr=wi.extend({_initContainer:function(){this._container=Gs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gt(this._container),Mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,g.setAttribute("width",h.x),g.setAttribute("height",h.y)),Kt(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Gs("path");o.options.className&&rt(h,o.options.className),o.options.interactive&&rt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Gt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[m(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,g=o.options;h&&(g.stroke?(h.setAttribute("stroke",g.color),h.setAttribute("stroke-opacity",g.opacity),h.setAttribute("stroke-width",g.weight),h.setAttribute("stroke-linecap",g.lineCap),h.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?h.setAttribute("stroke-dasharray",g.dashArray):h.removeAttribute("stroke-dasharray"),g.dashOffset?h.setAttribute("stroke-dashoffset",g.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),g.fill?(h.setAttribute("fill",g.fillColor||g.color),h.setAttribute("fill-opacity",g.fillOpacity),h.setAttribute("fill-rule",g.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,ve(o._parts,h))},_updateCircle:function(o){var h=o._point,g=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||g,T="a"+g+","+w+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(h.x-g)+","+h.y+T+g*2+",0 "+T+-g*2+",0 ";this._setPath(o,R)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Wr(o._path)},_bringToBack:function(o){wr(o._path)}});Xe.vml&&xr.include(hu);function Fo(o){return Xe.svg||Xe.vml?new xr(o):null}ot.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Wa(o)||Fo(o)}});var kd=Qr.extend({initialize:function(o,h){Qr.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Pe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function i0(o,h){return new kd(o,h)}xr.create=Gs,xr.pointsToPath=ve,bi.geometryToLayer=Ro,bi.coordsToLatLng=er,bi.coordsToLatLngs=Do,bi.latLngToCoords=Bo,bi.latLngsToCoords=En,bi.getFeature=kn,bi.asFeature=c,ot.mergeOptions({boxZoom:!0});var xd=_i.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ni(),Ca(),this._startPoint=this._map.mouseEventToContainerPoint(o),st(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=mt("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new Ae(this._point,this._startPoint),g=h.getSize();Kt(this._box,h.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Gt(this._box),Et(this._container,"leaflet-crosshair")),Zr(),Ms(),Mt(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var h=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",xd),ot.mergeOptions({doubleClickZoom:!0});var Td=_i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,g=h.getZoom(),w=h.options.zoomDelta,T=o.originalEvent.shiftKey?g-w:g+w;h.options.doubleClickZoom==="center"?h.setZoom(T):h.setZoomAround(o.containerPoint,T)}});ot.addInitHook("addHandler","doubleClickZoom",Td),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Sd=_i.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ji(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Et(this._map._container,"leaflet-grab"),Et(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Pe(this._map.options.maxBounds);this._offsetLimit=Ue(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),g=this._initialWorldOffset,w=this._draggable._newPos.x,T=(w-h+g)%o+h-g,R=(w+h+g)%o-h-g,Y=Math.abs(T+g)<Math.abs(R+g)?T:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(o){var h=this._map,g=h.options,w=!g.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,Y=g.easeLinearity,ae=T.multiplyBy(Y/R),fe=ae.distanceTo([0,0]),Se=Math.min(g.inertiaMaxSpeed,fe),Ve=ae.multiplyBy(Se/fe),nt=Se/(g.inertiaDeceleration*Y),dt=Ve.multiplyBy(-nt/2).round();!dt.x&&!dt.y?h.fire("moveend"):(dt=h._limitOffset(dt,h.options.maxBounds),ge(function(){h.panBy(dt,{duration:nt,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",Sd),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Cd=_i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),st(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,g=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},g=this.keyCodes,w,T;for(w=0,T=g.left.length;w<T;w++)h[g.left[w]]=[-1*o,0];for(w=0,T=g.right.length;w<T;w++)h[g.right[w]]=[o,0];for(w=0,T=g.down.length;w<T;w++)h[g.down[w]]=[0,o];for(w=0,T=g.up.length;w<T;w++)h[g.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},g=this.keyCodes,w,T;for(w=0,T=g.zoomIn.length;w<T;w++)h[g.zoomIn[w]]=o;for(w=0,T=g.zoomOut.length;w<T;w++)h[g.zoomOut[w]]=-o},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,g=this._map,w;if(h in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=ue(w).multiplyBy(3)),g.options.maxBounds&&(w=g._limitOffset(ue(w),g.options.maxBounds)),g.options.worldCopyJump){var T=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(w)));g.panTo(T)}else g.panBy(w)}else if(h in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Xi(o)}}});ot.addInitHook("addHandler","keyboard",Cd),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Id=_i.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=Ma(o),g=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),w),Xi(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=g?Math.ceil(T/g)*g:T,Y=o._limitZoom(h+(this._delta>0?R:-R))-h;this._delta=0,this._startTime=null,Y&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+Y):o.setZoomAround(this._lastMousePos,h+Y))}});ot.addInitHook("addHandler","scrollWheelZoom",Id);var r0=600;ot.mergeOptions({tapHold:Xe.touchNative&&Xe.safari&&Xe.mobile,tapTolerance:15});var Pd=_i.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new pe(h.clientX,h.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",Zt),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),r0),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Mt(document,"touchend",Zt),Mt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new pe(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});g._simulated=!0,h.target.dispatchEvent(g)}});ot.addInitHook("addHandler","tapHold",Pd),ot.mergeOptions({touchZoom:Xe.touch,bounceAtZoomLimits:!0});var Nd=_i.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Et(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(g.add(w)._divideBy(2))),this._startDist=g.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),Zt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),T=g.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(T,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&T<1||this._zoom>h.getMaxZoom()&&T>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var R=g._add(w)._divideBy(2)._subtract(this._centerPoint);if(T===1&&R.x===0&&R.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),ne(this._animRequest);var Y=f(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ge(Y,this,!0),Zt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ne(this._animRequest),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",Nd),ot.BoxZoom=xd,ot.DoubleClickZoom=Td,ot.Drag=Sd,ot.Keyboard=Cd,ot.ScrollWheelZoom=Id,ot.TapHold=Pd,ot.TouchZoom=Nd,s.Bounds=Ae,s.Browser=Xe,s.CRS=re,s.Canvas=qa,s.Circle=Ao,s.CircleMarker=$s,s.Class=X,s.Control=ai,s.DivIcon=Ke,s.DivOverlay=te,s.DomEvent=ih,s.DomUtil=So,s.Draggable=Ji,s.Evented=we,s.FeatureGroup=Ai,s.GeoJSON=bi,s.GridLayer=lt,s.Handler=_i,s.Icon=Jr,s.ImageOverlay=p,s.LatLng=Le,s.LatLngBounds=Me,s.Layer=li,s.LayerGroup=Kr,s.LineUtil=Ua,s.Map=ot,s.Marker=Mo,s.Mixin=ah,s.Path=Qi,s.Point=pe,s.PolyUtil=An,s.Polygon=Qr,s.Polyline=yi,s.Popup=se,s.PosAnimation=Aa,s.Projection=uh,s.Rectangle=kd,s.Renderer=wi,s.SVG=xr,s.SVGOverlay=A,s.TileLayer=qt,s.Tooltip=Be,s.Transformation=Ie,s.Util=Q,s.VideoOverlay=k,s.bind=f,s.bounds=Ue,s.canvas=Wa,s.circle=ph,s.circleMarker=lu,s.control=vn,s.divIcon=gt,s.extend=i,s.featureGroup=ou,s.geoJSON=r,s.geoJson=u,s.gridLayer=At,s.icon=fh,s.imageOverlay=y,s.latLng=Te,s.latLngBounds=Pe,s.layerGroup=su,s.map=Po,s.marker=dh,s.point=ue,s.polygon=uu,s.polyline=Ha,s.popup=xe,s.rectangle=i0,s.setOptions=O,s.stamp=m,s.svg=Fo,s.svgOverlay=V,s.tileLayer=cn,s.tooltip=Ze,s.transformation=S,s.version=a,s.videoOverlay=C;var s0=window.L;s.noConflict=function(){return window.L=s0,this},window.L=s})}(sl,sl.exports)),sl.exports}var St=FI();const js=My(St);function zI(e){var t=Math.floor(Math.random()*e.length);return e[t]}function $I(e,t,s,a){let i=fs.stringify(e);if(s=="marker"||s=="polyline"){var l=Nf(e,a);i=fs.stringify(l)}if(s=="circle"){var l=Nf(e,t/1e3);i=fs.stringify(l)}return i}function UI(e){const t=localStorage.getItem("mapState");if(t){const s=JSON.parse(t);e.setView([s.center.lat,s.center.lng],s.zoom)}else e.setView([48.8566,2.3522],13)}const GI={__name:"SingleButtonAudioPlayer",props:{audio:{type:qi,required:!0}},setup(e){const t=e,s=new Audio(t.audio.url),a=Fe(!1);s.addEventListener("ended",l=>{s.currentTime=0,a.value=!1});function i(){a.value?(s.pause(),s.currentTime=0,a.value=!1):(s.play(),a.value=!0)}return(l,f)=>(be(),ze("i",{onClick:f[0]||(f[0]=d=>i()),class:Nt(a.value?"bi bi-pause-circle":"bi bi-play-circle")},null,2))}},vr=(e,t)=>{const s=e.__vccOpts||e;for(const[a,i]of t)s[a]=i;return s},VI={class:"col card thumbnail"},HI=["src","alt","title"],qI={class:"card-img-overlay"},WI={class:"card-title h6"},ZI=["href"],YI={class:"player"},jI={__name:"TaxonThumbnail",props:{picture:{type:qi},audio:{type:qi},vernacularName:{type:String},acceptedScientificName:{type:String},urlDetailPage:{type:String}},setup(e){const t=e;return an("audio"),(s,a)=>{var f,d,m;const i=GI,l=x_;return be(),ze("div",VI,[he("img",{class:"card-img",src:(f=t.picture)==null?void 0:f.url,alt:(d=t.picture)==null?void 0:d.url,title:"Source: "+((m=t.picture)==null?void 0:m.source)},null,8,HI),he("div",qI,[he("div",WI,[he("a",{style:{color:"inherit","text-decoration":"inherit"},href:t.urlDetailPage,target:"_blank"},[he("span",null,qe(t.vernacularName),1)],8,ZI),he("div",YI,[t.audio?(be(),pt(i,{key:0,audio:t.audio},null,8,["audio"])):kt("",!0)]),t.picture.source?(be(),pt(l,{key:0,click:!0,"close-on-hide":!0,delay:{show:0,hide:0}},{target:et(()=>a[0]||(a[0]=[he("i",{class:"bi bi-c-square-fill copyright-icon"},null,-1)])),default:et(()=>[vt(" "+qe(t.picture.source),1)]),_:1})):kt("",!0)])])])}}},XI=vr(jI,[["__scopeId","data-v-f010c7a0"]]),KI={class:"col"},JI={class:"card h-100 mb-2"},QI=["src","alt","title"],eP={key:0,class:"caption"},tP={class:"card-body"},nP={class:"card-text"},iP={class:"card-title text-wrap"},rP={class:"text-body-secondary"},sP={key:0,class:"text-body-secondary"},oP={class:"text-body-secondary"},aP=["href"],lP=["src"],uP={class:"card-footer"},cP={class:"text-body-secondary"},hP={__name:"TaxonDetailed",props:{picture:{type:qi},audio:{type:qi},vernacularName:{type:String},acceptedScientificName:{type:String},urlDetailPage:{type:String},nbObservations:{type:Number},lastSeenDate:{type:Object}},setup(e){const t=e;return(s,a)=>{var i,l,f;return be(),ze("div",KI,[he("div",JI,[he("div",{class:Nt(["taxon-photo",t.picture.url?"":"placeholder"])},[he("img",{src:(i=t.picture)==null?void 0:i.url,alt:(l=t.picture)==null?void 0:l.url,title:"Source: "+((f=t.picture)==null?void 0:f.source)},null,8,QI),t.picture.source?(be(),ze("span",eP,qe(t.picture.source),1)):kt("",!0)],2),he("div",tP,[he("div",nP,[he("h5",iP,qe(t.vernacularName),1),he("small",rP,[he("strong",null,qe(s.$t("taxon.scientificName"))+" :",1),vt(" "+qe(t.acceptedScientificName),1)]),a[1]||(a[1]=he("br",null,null,-1)),t.nbObservations?(be(),ze("small",sP,[he("strong",null,qe(s.$t("taxon.nbObservations"))+" : ",1),vt(qe(t.nbObservations),1)])):kt("",!0),a[2]||(a[2]=he("br",null,null,-1)),he("small",oP,[he("a",{href:t.urlDetailPage,target:"_blank",class:"badge bg-light text-primary border border-primary text-decoration-none"},[he("strong",null,[vt(qe(s.$t("taxon.seeMore"))+" ",1),a[0]||(a[0]=he("i",{class:"bi bi-arrow-right"},null,-1))])],8,aP)]),a[3]||(a[3]=he("br",null,null,-1)),t.audio?(be(),ze("audio",{key:1,class:"audio",controls:"",src:t.audio.url,ref:"audio"},null,8,lP)):kt("",!0)])]),he("div",uP,[he("small",cP,qe(s.$t("taxon.lastSeenDate"))+" : "+qe(t==null?void 0:t.lastSeenDate.toLocaleDateString()),1)])])])}}},fP=vr(hP,[["__scopeId","data-v-af8df209"]]),dP={__name:"TaxonView",props:{taxon:vd},setup(e){const{mode:t,connector:s,lang:a}=Yn.getInstance(),l=e.taxon,f=Fe([]),d=Fe(null),m=Fe(l.vernacularName);function _(){f.value=[],l.taxonId&&s.value.fetchMedia(l.taxonId).then(x=>{f.value=x})}function v(){d.value=null,l.taxonId&&s.value.mediaSource.fetchSound(l.taxonId,s.value).then(x=>{d.value=x})}const b=oe(()=>f.value?f.value.length==0?new qi({url:gc,typeMedia:"image"}):zI(f.value):new qi({url:gc,typeMedia:"image"}));function E(){s.value.fetchVernacularName(l.taxonId).then(x=>{x&&(m.value=x.split(",")[0])})}return _(),v(),E(),tt(a,()=>{E()}),(x,I)=>{var O,B;return U(t)=="gallery"?(be(),pt(XI,{key:0,picture:b.value,audio:d.value,"vernacular-name":m.value||U(l).acceptedScientificName,"url-detail-page":U(s).getTaxonDetailPage(U(l).taxonId),"accepted-scientific-name":U(l).acceptedScientificName},null,8,["picture","audio","vernacular-name","url-detail-page","accepted-scientific-name"])):(be(),pt(fP,{key:1,picture:b.value,audio:d.value,"accepted-scientific-name":U(l).acceptedScientificName,"vernacular-name":m.value||U(l).acceptedScientificName,"url-detail-page":U(s).getTaxonDetailPage(U(l).taxonId),"nb-observations":(O=U(l))==null?void 0:O.nbObservations,"last-seen-date":(B=U(l))==null?void 0:B.lastSeenDate},null,8,["picture","audio","accepted-scientific-name","vernacular-name","url-detail-page","nb-observations","last-seen-date"]))}}},pP={id:"taxon-list",class:"card"},mP={key:0,class:"card-header"},gP={class:"card-body"},vP={key:0,id:"no-geometry-message",class:"col-6"},_P={key:1,id:"no-observations-message"},yP={key:2,id:"loading-error",class:"col-6 bg-danger"},bP={class:"justify-content-center toggleMode"},wP={key:0,class:"fa-solid fa-list"},LP={key:1,class:"fa-solid fa-grip-vertical"},EP={id:"data-source-credits"},kP={__name:"TaxonList",props:{nbTaxonPerLine:{type:Number,default:1},showFilters:{type:Boolean,default:!0},sortBy:{type:String,default:"nbObservations",validator:e=>["vernacularName","acceptedScientificName","nbObservations","lastSeenDate"].includes(e)},order:{type:String,default:"desc",validator:e=>["asc","desc"].includes(e)},mode:{type:String,validator:e=>["detailedList","gallery"].includes(e)}},setup(e){const{t}=xs(),{wkt:s,dateMin:a,dateMax:i,nbTaxonPerLine:l,showFilters:f,connector:d,mode:m}=Yn.getInstance(),_=Yn.getInstance().class,v=e,b=Fe([]);l.value=v.nbTaxonPerLine??l;let E=!1,x=!1;const I=Fe(0),O=Fe(v.sortBy||"lastSeenDate"),B=Fe(v.order||"desc"),P=Fe(""),N=[{field_name:"vernacularName",label:t("taxon.vernacularName")},{field_name:"acceptedScientificName",label:t("taxon.scientificName")},{field_name:"nbObservations",label:t("taxon.nbObservations")},{field_name:"lastSeenDate",label:t("taxon.lastSeenDate")}];m.value=v.mode??m.value;function D(){m.value=m.value=="gallery"?"detailedList":"gallery"}const F=oe(()=>{const ee=m.value==="gallery"?2:1,Z=l.value*ee,ie=l.value===1?1:Z/2;return`row row-cols-${ee} row-cols-lg-${Z} row-cols-md-${ie} g-4`}),W=oe(()=>{let ee=b.value;return P.value&&(ee=b.value.filter(Z=>(Z!=null&&Z.vernacularName?`${Z.vernacularName} ${Z.acceptedScientificName}`:Z.acceptedScientificName||"incertae sedis").toLowerCase().includes(P.value.toLowerCase()))),VT(ee,{by:O.value,order:B.value}).slice(0,(I.value+1)*20)}),G=ee=>{ee.length&&(E=!0,x=!1,b.value=[],d.value.fetchOccurrence({geometry:ee,dateMin:a.value,dateMax:i.value,class:_.value}).then(Z=>{b.value=Object.values(Z),b.value.length,E=!1,I.value=0}).catch(()=>{E=!1,x=!0}))};tt(P,()=>{I.value=0});function z(ee){const Z=ee.target;Z.scrollTop+Z.clientHeight>=Z.scrollHeight-50&&I.value++}return tt([s,_,a,i,d],()=>{b.value=[],s.value&&G(s.value)}),s.value&&G(s.value),(ee,Z)=>{const ie=Zk;return be(),ze("div",pP,[U(f)?(be(),ze("div",mP,[$e(ST,{"onUpdate:searchString":Z[0]||(Z[0]=ge=>P.value=ge)}),$e(xT,{"sort-by-available":N,"onUpdate:sortBy":Z[1]||(Z[1]=ge=>O.value=ge),"onUpdate:orderBy":Z[2]||(Z[2]=ge=>B.value=ge),sortBy:O.value,orderBy:B.value},null,8,["sortBy","orderBy"])])):kt("",!0),he("div",gP,[$e(bT,{id:"loadingObs",loadingStatus:U(E)},null,8,["loadingStatus"]),!U(s).length&&!U(E)&&!U(x)?(be(),ze("div",vP,[he("h5",null,qe(ee.$t("drawGeometry")),1),Z[4]||(Z[4]=he("h5",null,[he("i",{class:"bi bi-square-fill"}),vt(),he("i",{class:"bi bi-hexagon-fill"}),he("i",{class:"bi bi-circle-fill"}),vt(),he("i",{class:"bi bi-geo-fill"})],-1))])):kt("",!0),U(s).length&&!U(E)&&!U(x)&&!b.value.length?(be(),ze("div",_P,qe(ee.$t("noSpeciesObserved")),1)):kt("",!0),U(x)?(be(),ze("div",yP,Z[5]||(Z[5]=[he("h5",null,[he("i",{class:"bi bi-bug"}),vt(" Erreur de chargement des données")],-1)]))):kt("",!0),he("div",{id:"taxon-list-content",class:Nt(F.value),onScroll:z},[he("div",bP,[he("button",{class:"btn btn-secondary",onClick:Z[3]||(Z[3]=ge=>D())},[U(m)==="gallery"?(be(),ze("i",wP)):(be(),ze("i",LP))])]),(be(!0),ze(ct,null,ur(W.value,ge=>(be(),pt(dP,{key:ge.taxonId,taxon:ge},null,8,["taxon"]))),128))],34)]),he("div",EP,[vt(qe(ee.$t("source.title"))+" "+qe(U(d).name)+" ",1),U(d).sourceDetailMessage()?(be(),pt(ie,{key:0},{target:et(()=>Z[6]||(Z[6]=[he("a",{style:{color:"white","text-decoration":"underline"}},[he("i",{class:"bi bi-info-circle"})],-1)])),default:et(()=>[vt(" "+qe(U(d).sourceDetailMessage()),1)]),_:1})):kt("",!0)])])}}},Ed=vr(kP,[["__scopeId","data-v-6b9b9429"]]);(function(e,t,s){function a(i,l){for(;(i=i.parentElement)&&!i.classList.contains(l););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,l){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,l&&l.shapeOptions&&(l.shapeOptions=L.Util.extend({},this.options.shapeOptions,l.shapeOptions)),L.setOptions(this,l);var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,l){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,l&&l.drawError&&(l.drawError=L.Util.extend({},this.options.drawError,l.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,l)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),l=this._poly,f=l.getLatLngs(),d=f.splice(-1,1)[0];this._poly.setLatLngs(f),this._markerGroup.removeLayer(i),l.getLatLngs().length<2&&this._map.removeLayer(l),this._vertexChanged(d,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),l=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&l||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var l=this._map.mouseEventToLayerPoint(i.originalEvent),f=this._map.layerPointToLatLng(l);this._currentLatLng=f,this._updateTooltip(f),this._updateGuide(l),this._mouseMarker.setLatLng(f),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,l){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,l),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var l=i.originalEvent,f=l.clientX,d=l.clientY;this._startPoint.call(this,f,d)}},_startPoint:function(i,l){this._mouseDownOrigin=L.point(i,l)},_onMouseUp:function(i){var l=i.originalEvent,f=l.clientX,d=l.clientY;this._endPoint.call(this,f,d,i),this._clickHandled=null},_endPoint:function(i,l,f){if(this._mouseDownOrigin){var d=L.point(i,l).distanceTo(this._mouseDownOrigin),m=this._calculateFinishDistance(f.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(f.latlng),this._finishShape()):m<10&&L.Browser.touch?this._finishShape():Math.abs(d)<9*(e.devicePixelRatio||1)&&this.addVertex(f.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var l,f,d=i.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(l=d.touches[0].clientX,f=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,l,f),this._endPoint.call(this,l,f,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var l;if(this._markers.length>0){var f;if(this.type===L.Draw.Polyline.TYPE)f=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;f=this._markers[0]}var d=this._map.latLngToContainerPoint(f.getLatLng()),m=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),_=this._map.latLngToContainerPoint(m.getLatLng());l=d.distanceTo(_)}else l=1/0;return l},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var l=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(l),l},_updateGuide:function(i){var l=this._markers?this._markers.length:0;l>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[l-1].getLatLng()),i))},_updateTooltip:function(i){var l=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(l)},_drawGuide:function(i,l){var f,d,m,_=Math.floor(Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2))),v=this.options.guidelineDistance,b=this.options.maxGuideLineLength,E=_>b?_-b:v;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));E<_;E+=this.options.guidelineDistance)f=E/_,d={x:Math.floor(i.x*(1-f)+f*l.x),y:Math.floor(i.y*(1-f)+f*l.y)},m=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),m.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(m,d)},_updateGuideColor:function(i){if(this._guidesContainer)for(var l=0,f=this._guidesContainer.childNodes.length;l<f;l++)this._guidesContainer.childNodes[l].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,l,f=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(l=f?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:l}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:l}),i},_updateRunningMeasure:function(i,l){var f,d,m=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(f=m-(l?2:1),d=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[f].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[f].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(l?1:-1))},_getMeasurementString:function(){var i,l=this._currentLatLng,f=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?f&&l&&l.distanceTo?this._measurementRunningTotal+l.distanceTo(f)*(this.options.factor||1):this._measurementRunningTotal||0:f&&l?this._measurementRunningTotal+this._map.distance(l,f)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,l){L.Draw.Polyline.prototype.initialize.call(this,i,l),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,l;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,l=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,l=this._getMeasurementString()),{text:i,subtext:l}},_getMeasurementString:function(){var i=this._area,l="";return i||this.options.showLength?(this.options.showLength&&(l=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(l+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),l):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,l){var f;!this.options.allowIntersection&&this.options.showArea&&(f=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(f)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,l)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,l){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,l)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var l=i.latlng;this._tooltip.updatePosition(l),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(l))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,l){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,l)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!a(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,l,f,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),m=this._shape,_=this.options.showArea;return m&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),l=L.GeometryUtil.geodesicArea(i),f=_?L.GeometryUtil.readableArea(l,this.options.metric):""),{text:d.text,subtext:f}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,l){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,l)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var l=i.latlng;this._tooltip.updatePosition(l),this._mouseMarker.setLatLng(l),this._marker?(l=this._mouseMarker.getLatLng(),this._marker.setLatLng(l)):(this._marker=this._createMarker(l),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,l){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,l)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,l){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,l)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var l=this._startLatLng.distanceTo(i);else var l=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(l):(this._shape=new L.Circle(this._startLatLng,l,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var l,f=i.latlng,d=this.options.showRadius,m=this.options.metric;if(this._tooltip.updatePosition(f),this._isDrawing){this._drawShape(f),l=this._shape.getRadius().toFixed(1);var _="";d&&(_=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(l,m,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:_})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,l){this._marker=i,L.setOptions(this,l)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var l=i.target;l.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:l})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,l){var f=parseInt(i.style.marginTop,10)-l,d=parseInt(i.style.marginLeft,10)-l;i.style.marginTop=f+"px",i.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var l=0;l<this._verticesHandlers.length;l++)i(this._verticesHandlers[l])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,l,f){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,f&&f.drawError&&(f.drawError=L.Util.extend({},this.options.drawError,f.drawError)),this._latlngs=l,L.setOptions(this,f)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,l=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),l&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(f){L.DomUtil.removeClass(l,f)}),i.options.editing.className.split(" ").forEach(function(f){L.DomUtil.addClass(l,f)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,l=i._path;l&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(f){L.DomUtil.removeClass(l,f)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(f){L.DomUtil.addClass(l,f)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,l,f,d,m=this._defaultShape();for(i=0,f=m.length;i<f;i++)d=this._createMarker(m[i],i),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var _,v;for(i=0,l=f-1;i<f;l=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(_=this._markers[l],v=this._markers[i],this._createMiddleMarker(_,v),this._updatePrevNext(_,v))},_createMarker:function(i,l){var f=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return f._origLatLng=i,f._index=l,f.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(f),f},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),l=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),l},_removeMarker:function(i){var l=i._index;this._markerGroup.removeLayer(i),this._markers.splice(l,1),this._spliceLatLngs(l,1),this._updateIndexes(l,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var l=i.target,f=this._poly,d=L.LatLngUtil.cloneLatLng(l._origLatLng);if(L.extend(l._origLatLng,l._latlng),f.options.poly){var m=f._map._editTooltip;if(!f.options.poly.allowIntersection&&f.intersects()){L.extend(l._origLatLng,d),l.setLatLng(d);var _=f.options.color;f.setStyle({color:this.options.drawError.color}),m&&m.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){f.setStyle({color:_}),m&&m.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}l._middleLeft&&l._middleLeft.setLatLng(this._getMiddleLatLng(l._prev,l)),l._middleRight&&l._middleRight.setLatLng(this._getMiddleLatLng(l,l._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var v=this._poly.getLatLngs();this._poly._convertLatLngs(v,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var l=L.Polygon&&this._poly instanceof L.Polygon?4:3,f=i.target;this._defaultShape().length<l||(this._removeMarker(f),this._updatePrevNext(f._prev,f._next),f._middleLeft&&this._markerGroup.removeLayer(f._middleLeft),f._middleRight&&this._markerGroup.removeLayer(f._middleRight),f._prev&&f._next?this._createMiddleMarker(f._prev,f._next):f._prev?f._next||(f._prev._middleRight=null):f._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var l=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:l,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var l=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),f=this._map.layerPointToLatLng(l),d=i.target;L.extend(d._origLatLng,f),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,l){this._markerGroup.eachLayer(function(f){f._index>i&&(f._index+=l)})},_createMiddleMarker:function(i,l){var f,d,m,_=this._getMiddleLatLng(i,l),v=this._createMarker(_);v.setOpacity(.6),i._middleRight=l._middleLeft=v,d=function(){v.off("touchmove",d,this);var b=l._index;v._index=b,v.off("click",f,this).on("click",this._onMarkerClick,this),_.lat=v.getLatLng().lat,_.lng=v.getLatLng().lng,this._spliceLatLngs(b,0,_),this._markers.splice(b,0,v),v.setOpacity(1),this._updateIndexes(b,1),l._index++,this._updatePrevNext(i,v),this._updatePrevNext(v,l),this._poly.fire("editstart")},m=function(){v.off("dragstart",d,this),v.off("dragend",m,this),v.off("touchmove",d,this),this._createMiddleMarker(i,v),this._createMiddleMarker(v,l)},f=function(){d.call(this),m.call(this),this._fireEdit()},v.on("click",f,this).on("dragstart",d,this).on("dragend",m,this).on("touchmove",d,this),this._markerGroup.addLayer(v)},_updatePrevNext:function(i,l){i&&(i._next=l),l&&(l._prev=i)},_getMiddleLatLng:function(i,l){var f=this._poly._map,d=f.project(i.getLatLng()),m=f.project(l.getLatLng());return f.unproject(d._add(m)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,l){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,l)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var l=0,f=this._resizeMarkers.length;l<f;l++)this._unbindMarker(this._resizeMarkers[l]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,l){var f=new L.Marker.Touch(i,{draggable:!0,icon:l,zIndexOffset:10});return this._bindMarker(f),this._markerGroup.addLayer(f),f},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var l=i.target,f=l.getLatLng();l===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var l=this._getCorners(),f=i.target,d=f._cornerIndex;f.setOpacity(0),this._oppositeCorner=l[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(i){var l=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),f=this._map.layerPointToLatLng(l);return i.target===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),l=i.getCenter();this._moveMarker=this._createMarker(l,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var l=0,f=i.length;l<f;l++)this._resizeMarkers.push(this._createMarker(i[l],this.options.resizeIcon)),this._resizeMarkers[l]._cornerIndex=l},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var l=this._getCorners(),f=i.target,d=f._cornerIndex;this._oppositeCorner=l[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(i){var l,f,d=i.target;d===this._moveMarker&&(l=this._shape.getBounds(),f=l.getCenter(),d.setLatLng(f)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var l,f=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),m=d.getCenter(),_=[],v=0,b=f.length;v<b;v++)l=[f[v].lat-m.lat,f[v].lng-m.lng],_.push([i.lat+l[0],i.lng+l[1]]);this._shape.setLatLngs(_),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var l;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),l=this._shape.getBounds(),this._moveMarker.setLatLng(l.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var l=0,f=this._resizeMarkers.length;l<f;l++)this._resizeMarkers[l].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),l=0,f=this._resizeMarkers.length;l<f;l++)this._resizeMarkers[l].setLatLng(i[l])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var l=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(l)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),l=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(l,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var l=this._shape._radius*Math.cos(Math.PI/4),f=this._map.project(i);return this._map.unproject([f.x+l,f.y-l])},_resize:function(i){var l=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=l.distanceTo(i):radius=this._map.distance(l,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,l){var f={};if(i.touches!==void 0){if(!i.touches.length)return;f=i.touches[0]}else if(i.pointerType!=="touch"||(f=i,!this._filterClick(i)))return;var d=this._map.mouseEventToContainerPoint(f),m=this._map.mouseEventToLayerPoint(f),_=this._map.layerPointToLatLng(m);this._map.fire(l,{latlng:_,layerPoint:m,containerPoint:d,pageX:f.pageX,pageY:f.pageY,originalEvent:i})},_filterClick:function(i){var l=i.timeStamp||i.originalEvent.timeStamp,f=L.DomEvent._lastClick&&l-L.DomEvent._lastClick;return f&&f>100&&f<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=l,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var l="touchcancel";this._detectIE()&&(l="pointercancel"),this._touchEvent(i,l)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=e.navigator.userAgent,l=i.indexOf("MSIE ");if(l>0)return parseInt(i.substring(l+5,i.indexOf(".",l)),10);if(i.indexOf("Trident/")>0){var f=i.indexOf("rv:");return parseInt(i.substring(f+3,i.indexOf(".",f)),10)}var d=i.indexOf("Edge/");return d>0&&parseInt(i.substring(d+5,i.indexOf(".",d)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,l=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?l.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):l.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var f=0;f<l.length;f++)L.DomEvent.on(i,l[f],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=e.navigator.userAgent,l=i.indexOf("MSIE ");if(l>0)return parseInt(i.substring(l+5,i.indexOf(".",l)),10);if(i.indexOf("Trident/")>0){var f=i.indexOf("rv:");return parseInt(i.substring(f+3,i.indexOf(".",f)),10)}var d=i.indexOf("Edge/");return d>0&&parseInt(i.substring(d+5,i.indexOf(".",d)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var l=[],f=0,d=i.length;f<d;f++)Array.isArray(i[f])?l.push(L.LatLngUtil.cloneLatLngs(i[f])):l.push(this.cloneLatLng(i[f]));return l},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(l){var f,d,m=l.length,_=0,v=Math.PI/180;if(m>2){for(var b=0;b<m;b++)f=l[b],d=l[(b+1)%m],_+=(d.lng-f.lng)*v*(2+Math.sin(f.lat*v)+Math.sin(d.lat*v));_=6378137*_*6378137/2}return Math.abs(_)},formattedNumber:function(l,f){var d=parseFloat(l).toFixed(f),m=L.drawLocal.format&&L.drawLocal.format.numeric,_=m&&m.delimiters,v=_&&_.thousands,b=_&&_.decimal;if(v||b){var E=d.split(".");d=v?E[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v):E[0],b=b||".",E.length>1&&(d=d+b+E[1])}return d},readableArea:function(l,f,v){var m,_,v=L.Util.extend({},i,v);return f?(_=["ha","m"],type=typeof f,type==="string"?_=[f]:type!=="boolean"&&(_=f),m=l>=1e6&&_.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*l,v.km)+" km²":l>=1e4&&_.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*l,v.ha)+" ha":L.GeometryUtil.formattedNumber(l,v.m)+" m²"):(l/=.836127,m=l>=3097600?L.GeometryUtil.formattedNumber(l/3097600,v.mi)+" mi²":l>=4840?L.GeometryUtil.formattedNumber(l/4840,v.ac)+" acres":L.GeometryUtil.formattedNumber(l,v.yd)+" yd²"),m},readableDistance:function(l,f,d,m,b){var v,b=L.Util.extend({},i,b);switch(f?typeof f=="string"?f:"metric":d?"feet":m?"nauticalMile":"yards"){case"metric":v=l>1e3?L.GeometryUtil.formattedNumber(l/1e3,b.km)+" km":L.GeometryUtil.formattedNumber(l,b.m)+" m";break;case"feet":l*=3.28083,v=L.GeometryUtil.formattedNumber(l,b.ft)+" ft";break;case"nauticalMile":l*=.53996,v=L.GeometryUtil.formattedNumber(l/1e3,b.nm)+" nm";break;case"yards":default:l*=1.09361,v=l>1760?L.GeometryUtil.formattedNumber(l/1760,b.mi)+" miles":L.GeometryUtil.formattedNumber(l,b.yd)+" yd"}return v},isVersion07x:function(){var l=L.version.split(".");return parseInt(l[0],10)===0&&parseInt(l[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,l,f,d){return this._checkCounterclockwise(i,f,d)!==this._checkCounterclockwise(l,f,d)&&this._checkCounterclockwise(i,l,f)!==this._checkCounterclockwise(i,l,d)},_checkCounterclockwise:function(i,l,f){return(f.y-i.y)*(l.x-i.x)>(l.y-i.y)*(f.x-i.x)}}),L.Polyline.include({intersects:function(){var i,l,f,d=this._getProjectedPoints(),m=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=m-1;i>=3;i--)if(l=d[i-1],f=d[i],this._lineSegmentsIntersectsRange(l,f,i-2))return!0;return!1},newLatLngIntersects:function(i,l){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),l)},newPointIntersects:function(i,l){var f=this._getProjectedPoints(),d=f?f.length:0,m=f?f[d-1]:null,_=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(m,i,_,l?1:0)},_tooFewPointsForIntersection:function(i){var l=this._getProjectedPoints(),f=l?l.length:0;return f+=i||0,!l||f<=3},_lineSegmentsIntersectsRange:function(i,l,f,d){var m,_,v=this._getProjectedPoints();d=d||0;for(var b=f;b>d;b--)if(m=v[b-1],_=v[b],L.LineUtil.segmentsIntersect(i,l,m,_))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],l=this._defaultShape(),f=0;f<l.length;f++)i.push(this._map.latLngToLayerPoint(l[f]));return i}}),L.Polygon.include({intersects:function(){var i,l,f,d,m=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=m.length,l=m[0],f=m[i-1],d=i-2,this._lineSegmentsIntersectsRange(f,l,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var l;this._toolbars={},L.DrawToolbar&&this.options.draw&&(l=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=l,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(l=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=l,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var l,f=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var m in this._toolbars)this._toolbars.hasOwnProperty(m)&&(l=this._toolbars[m].addToolbar(i))&&(d||(L.DomUtil.hasClass(l,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(l.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),f.appendChild(l));return f},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var l in this._toolbars)this._toolbars[l]instanceof L.DrawToolbar&&this._toolbars[l].setOptions(i)},_toolbarEnabled:function(i){var l=i.target;for(var f in this._toolbars)this._toolbars[f]!==l&&this._toolbars[f].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var l=L.version.split(".");parseInt(l[0],10)===1&&parseInt(l[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var l,f=L.DomUtil.create("div","leaflet-draw-section"),d=0,m=this._toolbarClass||"",_=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,l=0;l<_.length;l++)_[l].enabled&&this._initModeHandler(_[l].handler,this._toolbarContainer,d++,m,_[l].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),f.appendChild(this._toolbarContainer),f.appendChild(this._actionsContainer),f},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var l=0,f=this._actionButtons.length;l<f;l++)this._disposeButton(this._actionButtons[l].button,this._actionButtons[l].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,l,f,d,m){var _=i.type;this._modes[_]={},this._modes[_].handler=i,this._modes[_].button=this._createButton({type:_,title:m,className:d+"-"+_,container:l,callback:this._modes[_].handler.enable,context:this._modes[_].handler}),this._modes[_].buttonIndex=f,this._modes[_].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(i){var l=L.DomUtil.create("a",i.className||"",i.container),f=L.DomUtil.create("span","sr-only",i.container);l.href="#",l.appendChild(f),i.title&&(l.title=i.title,f.innerHTML=i.title),i.text&&(l.innerHTML=i.text,f.innerHTML=i.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(l,"click",L.DomEvent.stopPropagation).on(l,"mousedown",L.DomEvent.stopPropagation).on(l,"dblclick",L.DomEvent.stopPropagation).on(l,"touchstart",L.DomEvent.stopPropagation).on(l,"click",L.DomEvent.preventDefault).on(l,d,i.callback,i.context),l},_disposeButton:function(i,l){var f=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,f,l)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var l,f,d,m,_=this._actionsContainer,v=this.getActions(i),b=v.length;for(f=0,d=this._actionButtons.length;f<d;f++)this._disposeButton(this._actionButtons[f].button,this._actionButtons[f].callback);for(this._actionButtons=[];_.firstChild;)_.removeChild(_.firstChild);for(var E=0;E<b;E++)"enabled"in v[E]&&!v[E].enabled||(l=L.DomUtil.create("li","",_),m=this._createButton({title:v[E].title,text:v[E].text,container:l,callback:v[E].callback,context:v[E].context}),this._actionButtons.push({button:m,callback:v[E].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,l=this._lastButtonIndex,f=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=f+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===l&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var l=this._map.latLngToLayerPoint(i),f=this._container;return this._container&&(this._visible&&(f.style.visibility="inherit"),L.DomUtil.setPosition(f,l)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var l in this.options)this.options.hasOwnProperty(l)&&i[l]&&(i[l]=L.extend({},this.options[l],i[l]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var l in this._modes)this._modes.hasOwnProperty(l)&&i.hasOwnProperty(l)&&this._modes[l].handler.setOptions(i[l])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var l=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:l,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:l}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var l=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&l.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),l},addToolbar:function(i){var l=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),l},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,l=this.options.featureGroup,f=l.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,f?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,f?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,l){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,l),this._featureGroup=l.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(l){l.edited&&(i.addLayer(l),l.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var l=L.Util.stamp(i);this._uneditedLayerProps[l]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[l]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[l]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[l]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var l=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(l)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[l].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[l].latlng),i.setRadius(this._uneditedLayerProps[l].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[l].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var l,f,d=i.layer||i.target||i;this._backupLayer(d),this.options.poly&&(f=L.Util.extend({},this.options.poly),d.options.poly=f),this.options.selectedPathOptions&&(l=L.Util.extend({},this.options.selectedPathOptions),l.maintainColor&&(l.color=d.options.color,l.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=l),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(i){var l=i.layer||i.target||i;l.edited=!1,l.editing&&l.editing.disable(),delete l.options.editing,delete l.options.original,this._selectedPathOptions&&(l instanceof L.Marker?this._toggleMarkerHighlight(l):(l.setStyle(l.options.previousOptions),delete l.options.previousOptions)),l instanceof L.Marker?(l.dragging.disable(),l.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):l.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var l=i.target;l.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:l})},_onTouchMove:function(i){var l=i.originalEvent.changedTouches[0],f=this._map.mouseEventToLayerPoint(l),d=this._map.layerPointToLatLng(f);i.target.setLatLng(d)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,l){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,l),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var l=i.layer||i.target||i;l.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(l)},_removeLayer:function(i){var l=i.layer||i.target||i;this._deletableLayers.removeLayer(l),this._deletedLayers.addLayer(l),l.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Xs=(e,t)=>{t.split(" ").forEach(s=>{e.classList.add(s)})},Ks=(e,t)=>{t.split(" ").forEach(s=>{e.classList.remove(s)})},t0=St.Marker.extend({initialize(e,t){St.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const s=this._getIconSVG(e,t);this._locationIcon=St.divIcon({className:s.className,html:s.svg,iconSize:[s.w,s.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const s=e.radius,a=e.weight,i=s+a,l=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${l}" height="${l}" version="1.1" viewBox="-${i} -${i} ${l} ${l}"><circle r="`+s+'" style="'+t+'" /></svg>',w:l,h:l}},setStyle(e){St.setOptions(this,e),this.createIcon()}}),xP=t0.extend({initialize(e,t,s){St.setOptions(this,s),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const s=e.radius,a=e.width+e.weight,i=(s+e.depth+e.weight)*2,l=`M0,0 l${e.width/2},${e.depth} l-${a},0 z`,f=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${i}" version="1.1" viewBox="-${a/2} 0 ${a} ${i}" style="${f}"><path d="`+l+'" style="'+t+'" /></svg>',w:a,h:i}}}),TP=St.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:t0,compassClass:xP,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const s=St.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);s.title=t.strings.title,s.href="#",s.setAttribute("role","button");const a=St.DomUtil.create(t.iconElementTag,t.icon,s);if(t.strings.text!==void 0){const i=St.DomUtil.create(t.textElementTag,"leaflet-locate-text",s);i.textContent=t.strings.text,s.classList.add("leaflet-locate-text-active"),s.parentNode.style.display="flex",t.icon.length>0&&a.classList.add("leaflet-locate-icon")}return{link:s,icon:a}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?St.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=St.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=St.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=St.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=St.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new St.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const s=this.options.createButtonCallback(t,this.options);return this._link=s.link,this._icon=s.icon,St.DomEvent.on(this._link,"click",function(a){St.DomEvent.stopPropagation(a),St.DomEvent.preventDefault(a),this._onClick()},this).on(this._link,"dblclick",St.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let s=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(s=e?t.inView:t.inViewNotFollowing),t[s]&&(s=t[s]),s){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,s=function(){St.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(a){a==="granted"&&s()}):s()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?St.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&St.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),St.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const f=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(f):this._circle=St.circle(t,e,f).addTo(this._layer)}let s,a;if(this.options.metric?(s=e.toFixed(0),a=this.options.strings.metersUnit):(s=(e*3.2808399).toFixed(0),a=this.options.strings.feetUnit),this.options.drawMarker){const f=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(f)):this._marker=new this.options.markerClass(t,f).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function l(){return typeof i=="string"?St.Util.template(i,{distance:s,unit:a}):typeof i=="function"?i({distance:s,unit:a}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(l())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(l())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,St.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(Ks(this._container,"active following"),Xs(this._container,"requesting"),Ks(this._icon,this.options.icon),Xs(this._icon,this.options.iconLoading)):e=="active"?(Ks(this._container,"requesting following"),Xs(this._container,"active"),Ks(this._icon,this.options.iconLoading),Xs(this._icon,this.options.icon)):e=="following"&&(Ks(this._container,"requesting"),Xs(this._container,"active following"),Ks(this._icon,this.options.iconLoading),Xs(this._icon,this.options.icon))},_cleanClasses(){St.DomUtil.removeClass(this._container,"requesting"),St.DomUtil.removeClass(this._container,"active"),St.DomUtil.removeClass(this._container,"following"),Ks(this._icon,this.options.iconLoading),Xs(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function SP(e){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},marker:!1,circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:e,remove:!1}}}L.GeometryUtil=L.extend(L.GeometryUtil||{},{readableArea:function(e,t,d){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},i,l,f,d=L.Util.extend({},a,d);return t?(l=["ha","m"],f=typeof t,f==="string"?l=[t]:f!=="boolean"&&(l=t),e>=1e6&&l.indexOf("km")!==-1?i=L.GeometryUtil.formattedNumber(e*1e-6,d.km)+" km²":e>=1e4&&l.indexOf("ha")!==-1?i=L.GeometryUtil.formattedNumber(e*1e-4,d.ha)+" ha":i=L.GeometryUtil.formattedNumber(e,d.m)+" m²"):(e/=.836127,e>=3097600?i=L.GeometryUtil.formattedNumber(e/3097600,d.mi)+" mi²":e>=4840?i=L.GeometryUtil.formattedNumber(e/4840,d.ac)+" acres":i=L.GeometryUtil.formattedNumber(e,d.yd)+" yd²"),i}});const CP="100vh",IP="https://tile.openstreetmap.org/{z}/{x}/{y}.png",PP='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',NP={__name:"Map",props:{height:{type:String,default:CP},editable:{type:Boolean,default:!0}},setup(e){const t=e,{radius:s,wkt:a,sourceGeometry:i,mapEditable:l}=Yn.getInstance(),f=Nn(),d=Nn(new js.FeatureGroup);let m=null;const _=oe(()=>!!a.value),v=oe(()=>`height: ${t.height};`);tt(a,b),tt([s,d],x),tt(l,()=>{f.value.off(),f.value.remove(),I()});function b(){a.value&&(js.geoJSON().addTo(d.value).addData(fs.parse(a.value)),E())}function E(){f.value&&f.value.fitBounds(d.value.getBounds())}b();function x(){if(!m)return;d.value.clearLayers();let P=m.layer,N=P.toGeoJSON();yc(N)||(N=DI(N));const D=$I(N,m.layerType==="circle"?P.getRadius():null,m.layerType,s.value);(m.layerType==="marker"||m.layerType==="polyline")&&js.geoJSON().addTo(d.value).addData(fs.parse(D)),a.value=D,i.value=null}function I(){f.value=js.map("map"),UI(f.value),js.tileLayer(IP,{maxZoom:19,attribution:PP}).addTo(f.value),f.value.addLayer(d.value),_.value&&E(),l.value&&(f.value.addControl(new js.Control.Draw(SP(d.value))),new TP().addTo(f.value)),f.value.on(js.Draw.Event.CREATED,O)}function O(P){let N=P.layer;m=P,d.value.clearLayers(),d.value.addLayer(N),x()}function B(){const P={center:f.value.getCenter(),zoom:f.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(P))}return Pi(()=>{I(),window.addEventListener("beforeunload",B)}),(P,N)=>(be(),ze("div",{id:"map",style:zr(v.value)},null,4))}},n0=vr(NP,[["__scopeId","data-v-80e7ce81"]]),OP={class:"container-fluid"},MP={class:"row"},AP={class:"col-12 col-lg-6 col-md-6"},RP={class:"col-12 col-lg-6 col-md-6"},DP={__name:"MapListWidget",setup(e){return(t,s)=>(be(),ze("div",OP,[he("div",MP,[he("div",AP,[$e(n0,{height:"100vh",editable:!0})]),he("div",RP,[$e(Ed,{nbTaxonPerLine:2,style:{height:"100vh"}})])])]))}},BP={key:0},FP={key:1},zP={__name:"ListWidget",setup(e){const t=Yn.getInstance();return(s,a)=>(be(),ze("div",null,[U(t).wkt.value.length>0?(be(),ze("div",BP,[$e(Ed,{nbTaxonPerLine:4,style:{height:"100vh"}})])):(be(),ze("div",FP,a[0]||(a[0]=[he("h2",{class:"col-12 text-center m-3"},"Aucune géométrie fournie !",-1)])))]))}},yg={Animalia:{Mammalia:{Icon:"fas fa-paw"},Aves:{Icon:"fas fa-dove"},Reptilia:{Icon:"fas fa-dragon"},Amphibia:{Icon:"fas fa-frog"},Insecta:{Icon:"fas fa-bug"},Arachnida:{Icon:"fas fa-spider"},Gastropoda:{Icon:"fas fa-paw"},Bivalvia:{Icon:"fas fa-shrimp"}},Plantae:{Magnoliopsida:{Icon:"fas fa-leaf"},Liliopsida:{Icon:"fas fa-leaf"},Pinopsida:{Icon:"fas fa-tree"}}},$P={class:""},UP={class:"row g-1",id:"classTaxonFilters"},GP={__name:"TaxonClassFilter",setup(e){const t=Yn.getInstance().class;function s(a){t.value=t.value==a?null:a}return(a,i)=>{const l=Fr;return be(),ze(ct,null,[he("label",null,qe(a.$t("taxon.class")),1),he("div",$P,[he("div",UP,[(be(!0),ze(ct,null,ur(Object.keys(U(yg).Animalia),f=>(be(),ze("div",{key:f,class:"col"},[$e(l,{pill:"",variant:"outline-primary",pressed:U(t)==f,onClick:d=>s(f)},{default:et(()=>[vt(qe(f),1)]),_:2},1032,["pressed","onClick"])]))),128)),(be(!0),ze(ct,null,ur(Object.keys(U(yg).Plantae),f=>(be(),ze("div",{key:f,class:"col"},[$e(l,{pill:"",variant:"outline-success",pressed:U(t)==f,onClick:d=>s(f)},{default:et(()=>[vt(qe(f),1)]),_:2},1032,["pressed","onClick"])]))),128))])])],64)}}},VP=vr(GP,[["__scopeId","data-v-f7eb8b8b"]]),HP=["for"],qP=["id"],bg={__name:"DateFilter",props:{label:{type:String,required:!0},id:String,currentDate:Date},emits:["update:date"],setup(e,{emit:t}){const s=e,a=Fe(null),i=t;return tt(a,()=>{i("update:date",a.value)}),(l,f)=>(be(),ze(ct,null,[he("label",{for:s.id},qe(s.label),9,HP),Qt(he("input",{id:s.id,class:"form-control",type:"date","onUpdate:modelValue":f[0]||(f[0]=d=>a.value=d)},null,8,qP),[[ps,a.value]])],64))}},WP={class:"row"},ZP={for:"radius",class:"form-label col-8"},YP={__name:"BufferSizeFilter",setup(e){const{radius:t}=Yn.getInstance();return(s,a)=>(be(),ze("div",WP,[he("label",ZP,qe(s.$t("bufferSize"))+" "+qe(U(t))+" km",1),Qt(he("input",{type:"range",class:"form-range",min:"1",max:"100","onUpdate:modelValue":a[0]||(a[0]=i=>Dt(t)?t.value=i:null),id:"radius"},null,512),[[ps,U(t)]])]))}},jP=vr(YP,[["__scopeId","data-v-f2f46160"]]),XP={class:"text-center col-12"},KP={class:"sourceParam"},JP={for:"sourceName"},QP=["value"],eN={class:"parameters"},tN=["for"],nN=["placeholder","onUpdate:modelValue"],iN=["type","placeholder","onUpdate:modelValue"],rN=["onUpdate:modelValue"],sN=["value"],oN={key:3,class:"text-danger"},aN={__name:"SourceFilter",setup(e){const{connector:t}=Yn.getInstance(),s={GBIF:[{name:"API_ENPOINT",label:"Adresse de l'API du GBIF",type:String,default:"https://api.gbif.org/v1"}],GeoNature:[{name:"EXPORT_API_ENDPOINT",label:"Adresse de l'API d'un export GeoNature",type:String,default:"http://localhost:8000/exports/api/20"}]},a=Fe(t.value.name);let i=ni(Object.fromEntries(s[a.value].map(f=>[f.name,f.default])));tt([a],()=>{i=ni(Object.fromEntries(s[a.value].map(f=>[f.name,f.default])))});function l(f){t.value=Gu(a.value,i)}return(f,d)=>{const m=Fr,_=zk,v=s_;return be(),ze(ct,null,[he("div",XP,[Qt((be(),pt(m,{variant:"primary",size:"lg",class:"col-12 mb-3"},{default:et(()=>[d[1]||(d[1]=he("i",{class:"fa fa-leaf"},null,-1)),d[2]||(d[2]=vt()),d[3]||(d[3]=he("br",null,null,-1)),vt(" "+qe(f.$t("source.modify")),1)]),_:1})),[[v,void 0,void 0,{"modal-center":!0}]])]),$e(_,{id:"modal-center",centered:"",title:f.$t("source.title"),onOk:l},{default:et(()=>[he("div",KP,[he("label",JP,qe(f.$t("source.select")),1),Qt(he("select",{"onUpdate:modelValue":d[0]||(d[0]=b=>a.value=b),class:"form-select"},[(be(),ze(ct,null,ur(s,(b,E)=>he("option",{value:E},qe(E),9,QP)),64))],512),[[ao,a.value]]),(be(!0),ze(ct,null,ur(s[a.value],b=>(be(),ze("div",eN,[he("label",{for:b.name},qe(b.label),9,tN),b.type===String?Qt((be(),ze("input",{key:0,class:"form-control",placeholder:b.default,"onUpdate:modelValue":E=>U(i)[b.name]=E},null,8,nN)),[[ps,U(i)[b.name]]]):b.type===Number?Qt((be(),ze("input",{key:1,type:b.type,class:"form-control",placeholder:b.default,"onUpdate:modelValue":E=>U(i)[b.name]=E},null,8,iN)),[[Mw,U(i)[b.name]]]):Array.isArray(b.type)?Qt((be(),ze("select",{key:2,class:"form-select","onUpdate:modelValue":E=>U(i)[b.name]=E},[(be(!0),ze(ct,null,ur(b.type,E=>(be(),ze("option",{key:E,value:E},qe(E),9,sN))),128))],8,rN)),[[ao,U(i)[b.name]]]):(be(),ze("div",oN,"Unsupported input type"))]))),256))])]),_:1},8,["title"])],64)}}},lN={for:"mediaSourceSelect"},uN={__name:"MediaSourceSelector",setup(e){const{connector:t}=Yn.getInstance(),s=Fe(t.value.mediaSource.id);return tt(t,()=>{s.value=t.value.mediaSource.id}),tt(s,()=>{t.value=new t.value.constructor({...t.value.getParams(),mediaSource:la(s.value)})}),(a,i)=>{const l=od,f=A_;return be(),ze(ct,null,[he("label",lN,qe(a.$t("media.source")),1),$e(f,{id:"mediaSourceSelect",options:U(t).getCompatibleMediaSource(),modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=d=>s.value=d)},{first:et(()=>[$e(l,{value:null,disabled:""},{default:et(()=>[vt(qe(a.$t("media.select")),1)]),_:1})]),_:1},8,["options","modelValue"])],64)}}},cN={class:"card"},hN={class:"card-header"},fN={class:"card-body"},dN={id:"parameters"},pN={class:"parameter-section"},mN={class:"row"},gN={class:"col-6"},vN={class:"col-6"},_N={class:"parameter-section"},yN={class:"parameter-section"},bN={class:"parameter-section"},wN={class:"parameter-section"},LN={class:"parameter-section"},EN={class:"parameter-section"},kN={class:"parameter-section"},xN={class:"d-flex justify-content-center parameter-section"},TN={class:"parameter-section"},SN={__name:"Parameters",setup(e){const{t}=xs(),{dateMin:s,dateMax:a,showFilters:i,mapEditable:l,sourceGeometry:f,mode:d,nbTaxonPerLine:m}=Yn.getInstance(),_=Oy(),v=Vu(),b=oe(()=>[{value:"gallery",text:t("galleryMode")},{value:"detailedList",text:t("detailedList")}]);return(E,x)=>{const I=ZE,O=KE,B=A_,P=Fr;return be(),ze(ct,null,[he("div",cN,[he("h4",hN,qe(E.$t("parameters")),1),he("div",fN,[he("div",dN,[he("div",pN,[$e(jP)]),he("div",mN,[he("div",gN,[$e(bg,{id:"startDate",label:"Date min.",currentDate:U(s),"onUpdate:date":x[0]||(x[0]=N=>s.value=N)},null,8,["currentDate"])]),he("div",vN,[$e(bg,{id:"endDate",label:"Date max.",currentDate:U(a),"onUpdate:date":x[1]||(x[1]=N=>a.value=N)},null,8,["currentDate"])])]),he("div",_N,[$e(VP)]),he("div",yN,[$e(I,{switch:"",modelValue:U(i),"onUpdate:modelValue":x[2]||(x[2]=N=>Dt(i)?i.value=N:null)},{default:et(()=>[vt(qe(E.$t("showFilters")),1)]),_:1},8,["modelValue"])]),he("div",bN,[$e(I,{switch:"",modelValue:U(l),"onUpdate:modelValue":x[3]||(x[3]=N=>Dt(l)?l.value=N:null)},{default:et(()=>[vt(qe(E.$t("mapEditable")),1)]),_:1},8,["modelValue"])]),he("div",wN,[he("label",null,qe(E.$t("UseGeoJSONSource")),1),$e(O,{modelValue:U(f),"onUpdate:modelValue":x[4]||(x[4]=N=>Dt(f)?f.value=N:null),placeholder:E.$t("IndicateGeoJSONUrl")},null,8,["modelValue","placeholder"])]),he("div",LN,[he("label",null,qe(E.$t("TaxonListModeSelection")),1),$e(B,{modelValue:U(d),"onUpdate:modelValue":x[5]||(x[5]=N=>Dt(d)?d.value=N:null),options:b.value,class:"mt-1"},null,8,["modelValue","options"])]),he("div",EN,[he("label",null,qe(E.$t("numberOfTaxonPerLine")),1),$e(O,{type:"number",modelValue:U(m),"onUpdate:modelValue":x[6]||(x[6]=N=>Dt(m)?m.value=N:null)},null,8,["modelValue"])]),he("div",kN,[$e(uN)]),he("div",xN,[$e(P,{variant:"danger",onClick:x[7]||(x[7]=N=>U(Yn).clearParameters(U(v),U(_)))},{default:et(()=>[x[8]||(x[8]=he("i",{class:"bi bi-arrow-clockwise"},null,-1)),vt(" "+qe(E.$t("RefreshFilters")),1)]),_:1})])])])]),he("div",TN,[$e(aN)])],64)}}},CN=vr(SN,[["__scopeId","data-v-f944db53"]]),IN={class:"input-group-text"},PN=["value"],NN={class:"input-group mb-3"},ON={class:"input-group-text"},MN={class:"input-group-text"},AN={class:"input-group"},RN={class:"input-group-text"},DN={value:""},BN={value:"list"},FN={value:"config"},zN={__name:"HTMLBuilder",props:{link:String,required:!0},emits:["update:width","update:height","update:typeWidget"],setup(e,{emit:t}){const s=Fe("100wv"),a=Fe("100vh"),i=Fe(""),l=e,f=t;tt([i,s,a],()=>{f("update:width",s.value),f("update:height",a.value),f("update:typeWidget",i.value)});const d=oe(()=>`<embed src="${l.link}" type="" style="width: ${s.value}; height: ${a.value}" />`);return(m,_)=>(be(),ze(ct,null,[he("span",IN,[_[3]||(_[3]=he("i",{class:"bi bi-code-slash"},null,-1)),vt(" "+qe(m.$t("browserIntegration")),1)]),he("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:d.value},null,8,PN),he("div",NN,[he("span",ON,qe(m.$t("size.width")),1),Qt(he("input",{class:"form-control form-control-lg",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":_[0]||(_[0]=v=>s.value=v)},null,512),[[ps,s.value]]),he("span",MN,qe(m.$t("size.height")),1),Qt(he("input",{class:"form-control form-control-lg",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":_[1]||(_[1]=v=>a.value=v)},null,512),[[ps,a.value]])]),he("div",AN,[he("span",RN,qe(m.$t("typeWidget.title")),1),Qt(he("select",{class:"form-select","onUpdate:modelValue":_[2]||(_[2]=v=>i.value=v)},[he("option",DN,qe(m.$t("typeWidget.default")),1),he("option",BN,qe(m.$t("typeWidget.list")),1),he("option",FN,qe(m.$t("typeWidget.config")),1)],512),[[ao,i.value]])])],64))}},$N={class:"row justify-content-center p-3"},UN={class:"col-12 col-lg-12 col-md-6 text-center"},GN={for:"shareButton"},VN={key:0},HN={key:1},qN={__name:"Share",setup(e){const t=Yn.getInstance(),s=Fe("100wv"),a=Fe("100vh"),i=Fe(""),l=window.location.origin,f=window.location.pathname,d=oe(()=>({list:"/list",config:"/config"})[i.value]||"/"),m=oe(()=>{const b=Object.entries(t.getParams()).map(([x,I])=>`${x}=${I}`),E=b.length?`?${b.join("&")}`:"";return`${l}${f}#${d.value}${E}`}),_=Fe(!1);function v(){navigator.clipboard.writeText(m.value),_.value=!0,setTimeout(()=>{_.value=!1},3e3)}return(b,E)=>{const x=FE;return be(),pt(x,{text:b.$t("share"),variant:"primary",class:"me-2","auto-close":"outside","menu-class":"share_modal"},{"button-content":et(()=>[E[3]||(E[3]=he("i",{class:"bi bi-share"},null,-1)),vt(" "+qe(b.$t("share")),1)]),default:et(()=>[he("div",$N,[he("div",UN,[he("label",GN,qe(b.$t("shareLink")),1),he("button",{class:"btn btn-outline-secondary mb-3",id:"shareButton",onClick:v},[_.value?(be(),ze("div",VN,[E[4]||(E[4]=he("i",{class:"bi bi-check2-circle"},null,-1)),vt(" "+qe(b.$t("copied"))+"! ",1)])):(be(),ze("div",HN,[E[5]||(E[5]=he("i",{class:"bi bi-link-45deg"},null,-1)),vt(" "+qe(b.$t("copy")),1)]))]),$e(zN,{link:m.value,"onUpdate:typeWidget":E[0]||(E[0]=I=>i.value=I),"onUpdate:width":E[1]||(E[1]=I=>s.value=I),"onUpdate:height":E[2]||(E[2]=I=>a.value=I)},null,8,["link"])])])]),_:1},8,["text"])}}},WN={},ZN={class:"locale-changer input-group"},YN=["value"];function jN(e,t){return be(),ze("div",ZN,[t[1]||(t[1]=he("label",{for:"languageSelect",class:"input-group-text"},[he("i",{class:"bi bi-translate"})],-1)),Qt(he("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.$i18n.locale=s),class:"form-select",id:"languageSelect"},[(be(!0),ze(ct,null,ur(e.$i18n.availableLocales,s=>(be(),ze("option",{key:`locale-${s}`,value:s},qe(s),9,YN))),128))],512),[[ao,e.$i18n.locale]])])}const XN=vr(WN,[["render",jN]]),KN={class:"card small"},JN={class:"card-header"},QN={key:0,class:"bi bi-chevron-down"},eO={key:1,class:"bi bi-chevron-up"},tO=["innerHTML"],nO={__name:"Intro",setup(e){const t=Fe(!1);return(s,a)=>{const i=Fr,l=S_,f=s_;return be(),ze("div",KN,[he("div",JN,[he("h4",null,[vt(qe(s.$t("howto"))+" ",1),Qt((be(),pt(i,{variant:"light"},{default:et(()=>[t.value?(be(),ze("i",eO)):(be(),ze("i",QN))]),_:1})),[[f,void 0,void 0,{"collapse-howto":!0}]])])]),$e(l,{id:"collapse-howto",modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=d=>t.value=d)},{default:et(()=>[he("div",{class:"card-body",style:{"overflow-y":"scroll",height:"30vh"},innerHTML:s.$t("intro")},null,8,tO)]),_:1},8,["modelValue"])])}}},iO={class:"container-fluid"},rO={class:"row"},sO={class:"col-12 col-lg-3 col-md-2"},oO={class:"col-12 col-lg-6 col-md-6"},aO={class:"col-12 col-lg-3 col-md-4"},lO={__name:"ConfiguratorWidget",setup(e){return(t,s)=>{const a=Vk,i=Wk,l=$k,f=Hk,d=S_,m=Gk,_=_L;return be(),ze(ct,null,[he("header",null,[Qt((be(),pt(m,{toggleable:"lg",variant:"light",class:"mb-3"},{default:et(()=>[$e(a,{href:"#/config"},{default:et(()=>[vt("🐛 🐦 🌱 "+qe(t.$t("title")),1)]),_:1}),$e(i,{target:"nav-collapse"}),$e(d,{id:"nav-collapse","is-nav":""},{default:et(()=>[$e(f,{class:"ms-auto mb-2 mb-lg-0"},{default:et(()=>[$e(l,{class:"d-flex",right:""},{default:et(()=>[$e(qN),$e(XN)]),_:1})]),_:1})]),_:1})]),_:1})),[[_,"light"]])]),he("main",iO,[he("div",rO,[he("div",sO,[$e(nO,{class:"mb-2"}),$e(CN)]),he("div",oO,[$e(n0,{height:"80vh"})]),he("div",aO,[$e(Ed,{"nb-taxon-per-line":1})])])])],64)}}},uO=vr(lO,[["__scopeId","data-v-c9eb4f4a"]]),cO={},hO={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},fO={class:"text-center"},dO={class:"lead"};function pO(e,t){return be(),ze("div",hO,[he("div",fO,[t[0]||(t[0]=he("h1",{class:"display-1"},"404",-1)),he("p",dO,qe(e.$t("error404.title")),1),he("p",null,qe(e.$t("error404.subtitle")),1)])])}const mO=vr(cO,[["render",pO]]),gO={fr:{title:"Biodiversité autour de moi",subtitle:"Rechercher des espèces autour de moi",howto:"Comment ça marche ?",intro:`<p>
        <em>Biodiversité autour de moi</em> est un widget dédié à
        <strong>l'exploration des espèces <i class="bi bi-search"></i></strong>
        ! Cette interface vous permet de
        <strong
          >rechercher les espèces observées dans une zone
          géographique spécifique <i class="bi bi-geo-alt"></i></strong
        >.
      </p>
      <p>
        <strong>Utilisez la carte interactive <i class="bi bi-map"></i></strong>
        pour sélectionner la zone où vous souhaitez effectuer votre recherche.
        La
        <strong
          ><i class="fa fa-kiwi-bird"></i> liste des espèces
          <i class="fa fa-leaf"></i
        ></strong>
        trouvées dans la zone sélectionnée s'affichera à côté de la carte
        <i class="bi bi-list-ul"></i>.
      </p>
      <p>
        Vous pouvez également
        <strong>partager vos résultats <i class="bi bi-share"></i></strong>
        pour collaborer avec d'autres utilisateurs.
      </p>`,parameters:"Paramètres",filters:"Filtres",showFilters:"Afficher les filtres",RefreshFilters:"Rafraichir les paramétres",IndicateGeoJSONUrl:"Indiquer une URL vers un GeoJSON",TaxonListModeSelection:"Mode d'affichage des taxons",UseGeoJSONSource:"Utiliser une source GeoJSON",filtersTitle:"Filtres",mapEditable:"Carte éditable",radius:"Rayon",bufferSize:"Taille du buffer :",dateMin:"Date Min",dateMax:"Date Max",search:"Rechercher",reset:"Réinitialiser",searchResults:"Résultats de la recherche",noResults:"Aucun résultat",previousPage:"Précedent",nextPage:"Suivant",loading:"Chargement en cours ...",noObservations:"Aucune observation trouvée",noSpeciesObserved:"Aucune espèces observées dans cette zone !",noGeometry:"Aucune géometrie trouvée",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},browserIntegration:"Intégrer le widget dans votre site",drawGeometry:"Dessiner une zone pour afficher les espèces",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type de widget",default:"Carte et liste",list:"Liste d'espèces",config:"Configurateur"},copy:"Copier",copied:"Copié",share:"Partager",shareLink:"Partager un lien",source:{title:"Source de données",select:"Sélectionner une source",modify:"Modifier la source de données",gbifWarning:"Le nombre d'observations et leurs dates sont basés sur une agrégation des 30 000 dernières observations effectuées dans la zone sélectionnée."},desc:"Décroissant",asc:"Croissant",media:{source:"Source de médias",select:"Sélectionner une source de média"},taxon:{scientificName:"Nom scientifique",vernacularName:"Nom vernaculaire",nbObservations:"Nombre d'observations",lastSeenDate:"Date de la dernière observation",taxonFilter:"Filtre par taxon",seeMore:"En savoir plus",class:"Classe du Taxon"},galleryMode:"Galerie",detailedList:"Détaillé",numberOfTaxonPerLine:"Nombre de taxons par ligne"}},vO={en:{title:"Biodiversity around me",subtitle:"Search for species around me",howto:"How does it work?",intro:`<p><em>Biodiversity around me</em> is a widget dedicated to
      <strong>exploring species <i class="bi bi-search"></i></strong>
      ! This interface allows you to
      <strong
        >search species observed in a specific geographic area <i class="bi bi-geo-alt"></i></strong
      >.
    </p>
    <p>
      <strong>Use the interactive map <i class="bi bi-map"></i></strong>
      to select the area where you want to perform your search. The
      <strong
        ><i class="fa fa-kiwi-bird"></i> list of species
        <i class="fa fa-leaf"></i
      ></strong>
      found in the selected area will be displayed next to the map
      <i class="bi bi-list-ul"></i>.
    </p>
    <p>
      You can also
      <strong>share your results <i class="bi bi-share"></i></strong>
      to collaborate with other users.
    </p>
    `,parameters:"Parameters",filters:"Filters",showFilters:"Show Filters",RefreshFilters:"Refresh parameters",IndicateGeoJSONUrl:"Indicate a URL towards a GeoJSON",TaxonListModeSelection:"Taxon display mode",UseGeoJSONSource:"Use a GeoJSON from the web",filtersTitle:"Filters",mapEditable:"Editable map",radius:"Radius",bufferSize:"Buffer Size:",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",searchResults:"Search results",noResults:"No results",noSpeciesObserved:"No species observed in this area !",previousPage:"Previous",nextPage:"Next",loading:"Loading...",noObservations:"No observation found",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},browserIntegration:"Integrate the widget into your site",drawGeometry:"Draw an area to display species",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type of widget",default:"Map and List",list:"List of species",config:"Configuration"},copy:"Copy",copied:"Copied",share:"Share",shareLink:"Share a link",source:{title:"Data Source",select:"Select a data source",modify:"Change the data source",gbifWarning:"The number of observations and the dates of the latest sightings are based on an aggregation of the latest 30,000 observations made within the selected area."},desc:"Décroissant",asc:"Croissant",media:{source:"Media source",select:"Select a media source"},taxon:{scientificName:"Scientific Name",vernacularName:"Vernacular name",nbObservations:"Number of observations",lastSeenDate:"Last observation date",taxonFilter:"Filter by taxon",seeMore:"See more",class:"Taxon's class"},galleryMode:"Gallery",detailedList:"Detailed",numberOfTaxonPerLine:"Number of taxons per line"}},_O=rT({locale:"fr",fallbackLocale:"en",messages:{...gO,...vO}}),yO=[{path:"/",component:DP},{path:"/list",component:zP},{path:"/config",component:uO},{path:"/:pathMatch(.*)*",name:"NotFound",component:mO}],bO=WC({history:wC(),routes:yO});Object.defineProperty(String.prototype,"capitalize",{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1});Zv(pT).use(bO).use(_O).use(o1()).mount("#app");
