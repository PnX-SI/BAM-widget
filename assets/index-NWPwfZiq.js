function z0(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const u=Object.getOwnPropertyDescriptor(r,n);u&&Object.defineProperty(e,n,u.get?u:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(n){if(n.ep)return;n.ep=!0;const u=s(n);fetch(n.href,u)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Rf(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xt={},ja=[],cr=()=>{},$0=()=>!1,Ec=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Df=e=>e.startsWith("onUpdate:"),cn=Object.assign,Bf=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},U0=Object.prototype.hasOwnProperty,It=(e,t)=>U0.call(e,t),Qe=Array.isArray,qa=e=>Bu(e)==="[object Map]",po=e=>Bu(e)==="[object Set]",Vh=e=>Bu(e)==="[object Date]",st=e=>typeof e=="function",jt=e=>typeof e=="string",Fi=e=>typeof e=="symbol",Bt=e=>e!==null&&typeof e=="object",$g=e=>(Bt(e)||st(e))&&st(e.then)&&st(e.catch),Ug=Object.prototype.toString,Bu=e=>Ug.call(e),G0=e=>Bu(e).slice(8,-1),Gg=e=>Bu(e)==="[object Object]",Ff=e=>jt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ou=Rf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xc=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},H0=/-(\w)/g,ui=xc(e=>e.replace(H0,(t,s)=>s?s.toUpperCase():"")),V0=/\B([A-Z])/g,ws=xc(e=>e.replace(V0,"-$1").toLowerCase()),Tc=xc(e=>e.charAt(0).toUpperCase()+e.slice(1)),md=xc(e=>e?`on${Tc(e)}`:""),Xn=(e,t)=>!Object.is(e,t),Nl=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Hg=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},Hl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},j0=e=>{const t=jt(e)?Number(e):NaN;return isNaN(t)?e:t};let jh;const Sc=()=>jh||(jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zi(e){if(Qe(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=jt(r)?Y0(r):zi(r);if(n)for(const u in n)t[u]=n[u]}return t}else if(jt(e)||Bt(e))return e}const q0=/;(?![^(]*\))/g,W0=/:([^]+)/,Z0=/\/\*[^]*?\*\//g;function Y0(e){const t={};return e.replace(Z0,"").split(q0).forEach(s=>{if(s){const r=s.split(W0);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function wt(e){let t="";if(jt(e))t=e;else if(Qe(e))for(let s=0;s<e.length;s++){const r=wt(e[s]);r&&(t+=r+" ")}else if(Bt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function wi(e){if(!e)return null;let{class:t,style:s}=e;return t&&!jt(t)&&(e.class=wt(t)),s&&(e.style=zi(s)),e}const X0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K0=Rf(X0);function Vg(e){return!!e||e===""}function J0(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=sa(e[r],t[r]);return s}function sa(e,t){if(e===t)return!0;let s=Vh(e),r=Vh(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=Fi(e),r=Fi(t),s||r)return e===t;if(s=Qe(e),r=Qe(t),s||r)return s&&r?J0(e,t):!1;if(s=Bt(e),r=Bt(t),s||r){if(!s||!r)return!1;const n=Object.keys(e).length,u=Object.keys(t).length;if(n!==u)return!1;for(const d in e){const h=e.hasOwnProperty(d),m=t.hasOwnProperty(d);if(h&&!m||!h&&m||!sa(e[d],t[d]))return!1}}return String(e)===String(t)}function zf(e,t){return e.findIndex(s=>sa(s,t))}const jg=e=>!!(e&&e.__v_isRef===!0),ze=e=>jt(e)?e:e==null?"":Qe(e)||Bt(e)&&(e.toString===Ug||!st(e.toString))?jg(e)?ze(e.value):JSON.stringify(e,qg,2):String(e),qg=(e,t)=>jg(t)?qg(e,t.value):qa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],u)=>(s[gd(r,u)+" =>"]=n,s),{})}:po(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>gd(s))}:Fi(t)?gd(t):Bt(t)&&!Qe(t)&&!Gg(t)?String(t):t,gd=(e,t="")=>{var s;return Fi(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zn;class Wg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zn,!t&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=zn;try{return zn=this,t()}finally{zn=s}}}on(){zn=this}off(){zn=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Zg(e){return new Wg(e)}function $f(){return zn}function Vl(e,t=!1){zn&&zn.cleanups.push(e)}let Ft;const _d=new WeakSet;class Yg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zn&&zn.active&&zn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_d.has(this)&&(_d.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Kg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qh(this),Jg(this);const t=Ft,s=Ri;Ft=this,Ri=!0;try{return this.fn()}finally{Qg(this),Ft=t,Ri=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hf(t);this.deps=this.depsTail=void 0,qh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_d.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jd(this)&&this.run()}get dirty(){return jd(this)}}let Xg=0,uu,lu;function Kg(e,t=!1){if(e.flags|=8,t){e.next=lu,lu=e;return}e.next=uu,uu=e}function Uf(){Xg++}function Gf(){if(--Xg>0)return;if(lu){let t=lu;for(lu=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;uu;){let t=uu;for(uu=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function Jg(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Qg(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Hf(r),Q0(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function jd(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(e_(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function e_(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_u))return;e.globalVersion=_u;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!jd(e)){e.flags&=-3;return}const s=Ft,r=Ri;Ft=e,Ri=!0;try{Jg(e);const n=e.fn(e._value);(t.version===0||Xn(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Ft=s,Ri=r,Qg(e),e.flags&=-3}}function Hf(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let u=s.computed.deps;u;u=u.nextDep)Hf(u,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Q0(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ri=!0;const t_=[];function ks(){t_.push(Ri),Ri=!1}function Ls(){const e=t_.pop();Ri=e===void 0?!0:e}function qh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ft;Ft=void 0;try{t()}finally{Ft=s}}}let _u=0;class eb{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ft||!Ri||Ft===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ft)s=this.activeLink=new eb(Ft,this),Ft.deps?(s.prevDep=Ft.depsTail,Ft.depsTail.nextDep=s,Ft.depsTail=s):Ft.deps=Ft.depsTail=s,n_(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Ft.depsTail,s.nextDep=void 0,Ft.depsTail.nextDep=s,Ft.depsTail=s,Ft.deps===s&&(Ft.deps=r)}return s}trigger(t){this.version++,_u++,this.notify(t)}notify(t){Uf();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Gf()}}}function n_(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)n_(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const jl=new WeakMap,ra=Symbol(""),qd=Symbol(""),vu=Symbol("");function Tn(e,t,s){if(Ri&&Ft){let r=jl.get(e);r||jl.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new Cc),n.map=r,n.key=s),n.track()}}function Mr(e,t,s,r,n,u){const d=jl.get(e);if(!d){_u++;return}const h=m=>{m&&m.trigger()};if(Uf(),t==="clear")d.forEach(h);else{const m=Qe(e),y=m&&Ff(s);if(m&&s==="length"){const v=Number(r);d.forEach((w,T)=>{(T==="length"||T===vu||!Fi(T)&&T>=v)&&h(w)})}else switch((s!==void 0||d.has(void 0))&&h(d.get(s)),y&&h(d.get(vu)),t){case"add":m?y&&h(d.get("length")):(h(d.get(ra)),qa(e)&&h(d.get(qd)));break;case"delete":m||(h(d.get(ra)),qa(e)&&h(d.get(qd)));break;case"set":qa(e)&&h(d.get(ra));break}}Gf()}function tb(e,t){const s=jl.get(e);return s&&s.get(t)}function Fa(e){const t=kt(e);return t===e?t:(Tn(t,"iterate",vu),Ei(e)?t:t.map(Sn))}function Pc(e){return Tn(e=kt(e),"iterate",vu),e}const nb={__proto__:null,[Symbol.iterator](){return vd(this,Symbol.iterator,Sn)},concat(...e){return Fa(this).concat(...e.map(t=>Qe(t)?Fa(t):t))},entries(){return vd(this,"entries",e=>(e[1]=Sn(e[1]),e))},every(e,t){return xr(this,"every",e,t,void 0,arguments)},filter(e,t){return xr(this,"filter",e,t,s=>s.map(Sn),arguments)},find(e,t){return xr(this,"find",e,t,Sn,arguments)},findIndex(e,t){return xr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xr(this,"findLast",e,t,Sn,arguments)},findLastIndex(e,t){return xr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xr(this,"forEach",e,t,void 0,arguments)},includes(...e){return yd(this,"includes",e)},indexOf(...e){return yd(this,"indexOf",e)},join(e){return Fa(this).join(e)},lastIndexOf(...e){return yd(this,"lastIndexOf",e)},map(e,t){return xr(this,"map",e,t,void 0,arguments)},pop(){return Wo(this,"pop")},push(...e){return Wo(this,"push",e)},reduce(e,...t){return Wh(this,"reduce",e,t)},reduceRight(e,...t){return Wh(this,"reduceRight",e,t)},shift(){return Wo(this,"shift")},some(e,t){return xr(this,"some",e,t,void 0,arguments)},splice(...e){return Wo(this,"splice",e)},toReversed(){return Fa(this).toReversed()},toSorted(e){return Fa(this).toSorted(e)},toSpliced(...e){return Fa(this).toSpliced(...e)},unshift(...e){return Wo(this,"unshift",e)},values(){return vd(this,"values",Sn)}};function vd(e,t,s){const r=Pc(e),n=r[t]();return r!==e&&!Ei(e)&&(n._next=n.next,n.next=()=>{const u=n._next();return u.value&&(u.value=s(u.value)),u}),n}const ib=Array.prototype;function xr(e,t,s,r,n,u){const d=Pc(e),h=d!==e&&!Ei(e),m=d[t];if(m!==ib[t]){const w=m.apply(e,u);return h?Sn(w):w}let y=s;d!==e&&(h?y=function(w,T){return s.call(this,Sn(w),T,e)}:s.length>2&&(y=function(w,T){return s.call(this,w,T,e)}));const v=m.call(d,y,r);return h&&n?n(v):v}function Wh(e,t,s,r){const n=Pc(e);let u=s;return n!==e&&(Ei(e)?s.length>3&&(u=function(d,h,m){return s.call(this,d,h,m,e)}):u=function(d,h,m){return s.call(this,d,Sn(h),m,e)}),n[t](u,...r)}function yd(e,t,s){const r=kt(e);Tn(r,"iterate",vu);const n=r[t](...s);return(n===-1||n===!1)&&Vf(s[0])?(s[0]=kt(s[0]),r[t](...s)):n}function Wo(e,t,s=[]){ks(),Uf();const r=kt(e)[t].apply(e,s);return Gf(),Ls(),r}const rb=Rf("__proto__,__v_isRef,__isVue"),i_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fi));function sb(e){Fi(e)||(e=String(e));const t=kt(this);return Tn(t,"has",e),t.hasOwnProperty(e)}class r_{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,u=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return u;if(s==="__v_raw")return r===(n?u?c_:l_:u?u_:o_).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const d=Qe(t);if(!n){let m;if(d&&(m=nb[s]))return m;if(s==="hasOwnProperty")return sb}const h=Reflect.get(t,s,Lt(t)?t:r);return(Fi(s)?i_.has(s):rb(s))||(n||Tn(t,"get",s),u)?h:Lt(h)?d&&Ff(s)?h:h.value:Bt(h)?n?Gn(h):aa(h):h}}class s_ extends r_{constructor(t=!1){super(!1,t)}set(t,s,r,n){let u=t[s];if(!this._isShallow){const m=oa(u);if(!Ei(r)&&!oa(r)&&(u=kt(u),r=kt(r)),!Qe(t)&&Lt(u)&&!Lt(r))return m?!1:(u.value=r,!0)}const d=Qe(t)&&Ff(s)?Number(s)<t.length:It(t,s),h=Reflect.set(t,s,r,Lt(t)?t:n);return t===kt(n)&&(d?Xn(r,u)&&Mr(t,"set",s,r):Mr(t,"add",s,r)),h}deleteProperty(t,s){const r=It(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&Mr(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!Fi(s)||!i_.has(s))&&Tn(t,"has",s),r}ownKeys(t){return Tn(t,"iterate",Qe(t)?"length":ra),Reflect.ownKeys(t)}}class a_ extends r_{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ab=new s_,ob=new a_,ub=new s_(!0),lb=new a_(!0),Wd=e=>e,dl=e=>Reflect.getPrototypeOf(e);function cb(e,t,s){return function(...r){const n=this.__v_raw,u=kt(n),d=qa(u),h=e==="entries"||e===Symbol.iterator&&d,m=e==="keys"&&d,y=n[e](...r),v=s?Wd:t?Zd:Sn;return!t&&Tn(u,"iterate",m?qd:ra),{next(){const{value:w,done:T}=y.next();return T?{value:w,done:T}:{value:h?[v(w[0]),v(w[1])]:v(w),done:T}},[Symbol.iterator](){return this}}}}function fl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function db(e,t){const s={get(n){const u=this.__v_raw,d=kt(u),h=kt(n);e||(Xn(n,h)&&Tn(d,"get",n),Tn(d,"get",h));const{has:m}=dl(d),y=t?Wd:e?Zd:Sn;if(m.call(d,n))return y(u.get(n));if(m.call(d,h))return y(u.get(h));u!==d&&u.get(n)},get size(){const n=this.__v_raw;return!e&&Tn(kt(n),"iterate",ra),Reflect.get(n,"size",n)},has(n){const u=this.__v_raw,d=kt(u),h=kt(n);return e||(Xn(n,h)&&Tn(d,"has",n),Tn(d,"has",h)),n===h?u.has(n):u.has(n)||u.has(h)},forEach(n,u){const d=this,h=d.__v_raw,m=kt(h),y=t?Wd:e?Zd:Sn;return!e&&Tn(m,"iterate",ra),h.forEach((v,w)=>n.call(u,y(v),y(w),d))}};return cn(s,e?{add:fl("add"),set:fl("set"),delete:fl("delete"),clear:fl("clear")}:{add(n){!t&&!Ei(n)&&!oa(n)&&(n=kt(n));const u=kt(this);return dl(u).has.call(u,n)||(u.add(n),Mr(u,"add",n,n)),this},set(n,u){!t&&!Ei(u)&&!oa(u)&&(u=kt(u));const d=kt(this),{has:h,get:m}=dl(d);let y=h.call(d,n);y||(n=kt(n),y=h.call(d,n));const v=m.call(d,n);return d.set(n,u),y?Xn(u,v)&&Mr(d,"set",n,u):Mr(d,"add",n,u),this},delete(n){const u=kt(this),{has:d,get:h}=dl(u);let m=d.call(u,n);m||(n=kt(n),m=d.call(u,n)),h&&h.call(u,n);const y=u.delete(n);return m&&Mr(u,"delete",n,void 0),y},clear(){const n=kt(this),u=n.size!==0,d=n.clear();return u&&Mr(n,"clear",void 0,void 0),d}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=cb(n,e,t)}),s}function Ic(e,t){const s=db(e,t);return(r,n,u)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(It(s,n)&&n in r?s:r,n,u)}const fb={get:Ic(!1,!1)},hb={get:Ic(!1,!0)},pb={get:Ic(!0,!1)},mb={get:Ic(!0,!0)},o_=new WeakMap,u_=new WeakMap,l_=new WeakMap,c_=new WeakMap;function gb(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _b(e){return e.__v_skip||!Object.isExtensible(e)?0:gb(G0(e))}function aa(e){return oa(e)?e:Nc(e,!1,ab,fb,o_)}function d_(e){return Nc(e,!1,ub,hb,u_)}function Gn(e){return Nc(e,!0,ob,pb,l_)}function za(e){return Nc(e,!0,lb,mb,c_)}function Nc(e,t,s,r,n){if(!Bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=n.get(e);if(u)return u;const d=_b(e);if(d===0)return e;const h=new Proxy(e,d===2?r:s);return n.set(e,h),h}function Wa(e){return oa(e)?Wa(e.__v_raw):!!(e&&e.__v_isReactive)}function oa(e){return!!(e&&e.__v_isReadonly)}function Ei(e){return!!(e&&e.__v_isShallow)}function Vf(e){return e?!!e.__v_raw:!1}function kt(e){const t=e&&e.__v_raw;return t?kt(t):e}function fs(e){return!It(e,"__v_skip")&&Object.isExtensible(e)&&Hg(e,"__v_skip",!0),e}const Sn=e=>Bt(e)?aa(e):e,Zd=e=>Bt(e)?Gn(e):e;function Lt(e){return e?e.__v_isRef===!0:!1}function Be(e){return f_(e,!1)}function Pn(e){return f_(e,!0)}function f_(e,t){return Lt(e)?e:new vb(e,t)}class vb{constructor(t,s){this.dep=new Cc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:kt(t),this._value=s?t:Sn(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Ei(t)||oa(t);t=r?t:kt(t),Xn(t,s)&&(this._rawValue=t,this._value=r?t:Sn(t),this.dep.trigger())}}function W(e){return Lt(e)?e.value:e}function mt(e){return st(e)?e():W(e)}const yb={get:(e,t,s)=>t==="__v_raw"?e:W(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return Lt(n)&&!Lt(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function h_(e){return Wa(e)?e:new Proxy(e,yb)}class bb{constructor(t){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Cc,{get:r,set:n}=t(s.track.bind(s),s.trigger.bind(s));this._get=r,this._set=n}get value(){return this._value=this._get()}set value(t){this._set(t)}}function p_(e){return new bb(e)}class wb{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return tb(kt(this._object),this._key)}}class kb{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Jt(e,t,s){return Lt(e)?e:st(e)?new kb(e):Bt(e)&&arguments.length>1?Lb(e,t,s):Be(e)}function Lb(e,t,s){const r=e[t];return Lt(r)?r:new wb(e,t,s)}class Eb{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Cc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_u-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return Kg(this,!0),!0}get value(){const t=this.dep.track();return e_(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xb(e,t,s=!1){let r,n;return st(e)?r=e:(r=e.get,n=e.set),new Eb(r,n,s)}const hl={},ql=new WeakMap;let Ks;function Tb(e,t=!1,s=Ks){if(s){let r=ql.get(s);r||ql.set(s,r=[]),r.push(e)}}function Sb(e,t,s=xt){const{immediate:r,deep:n,once:u,scheduler:d,augmentJob:h,call:m}=s,y=_=>n?_:Ei(_)||n===!1||n===0?Or(_,1):Or(_);let v,w,T,P,O=!1,F=!1;if(Lt(e)?(w=()=>e.value,O=Ei(e)):Wa(e)?(w=()=>y(e),O=!0):Qe(e)?(F=!0,O=e.some(_=>Wa(_)||Ei(_)),w=()=>e.map(_=>{if(Lt(_))return _.value;if(Wa(_))return y(_);if(st(_))return m?m(_,2):_()})):st(e)?t?w=m?()=>m(e,2):e:w=()=>{if(T){ks();try{T()}finally{Ls()}}const _=Ks;Ks=v;try{return m?m(e,3,[P]):e(P)}finally{Ks=_}}:w=cr,t&&n){const _=w,x=n===!0?1/0:n;w=()=>Or(_(),x)}const j=$f(),A=()=>{v.stop(),j&&j.active&&Bf(j.effects,v)};if(u&&t){const _=t;t=(...x)=>{_(...x),A()}}let U=F?new Array(e.length).fill(hl):hl;const H=_=>{if(!(!(v.flags&1)||!v.dirty&&!_))if(t){const x=v.run();if(n||O||(F?x.some((k,S)=>Xn(k,U[S])):Xn(x,U))){T&&T();const k=Ks;Ks=v;try{const S=[x,U===hl?void 0:F&&U[0]===hl?[]:U,P];m?m(t,3,S):t(...S),U=x}finally{Ks=k}}}else v.run()};return h&&h(H),v=new Yg(w),v.scheduler=d?()=>d(H,!1):H,P=_=>Tb(_,!1,v),T=v.onStop=()=>{const _=ql.get(v);if(_){if(m)m(_,4);else for(const x of _)x();ql.delete(v)}},t?r?H(!0):U=v.run():d?d(H.bind(null,!0),!0):v.run(),A.pause=v.pause.bind(v),A.resume=v.resume.bind(v),A.stop=A,A}function Or(e,t=1/0,s){if(t<=0||!Bt(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Lt(e))Or(e.value,t,s);else if(Qe(e))for(let r=0;r<e.length;r++)Or(e[r],t,s);else if(po(e)||qa(e))e.forEach(r=>{Or(r,t,s)});else if(Gg(e)){for(const r in e)Or(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Or(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fu(e,t,s,r){try{return r?e(...r):e()}catch(n){Mc(n,t,s)}}function $i(e,t,s,r){if(st(e)){const n=Fu(e,t,s,r);return n&&$g(n)&&n.catch(u=>{Mc(u,t,s)}),n}if(Qe(e)){const n=[];for(let u=0;u<e.length;u++)n.push($i(e[u],t,s,r));return n}}function Mc(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:d}=t&&t.appContext.config||xt;if(t){let h=t.parent;const m=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${s}`;for(;h;){const v=h.ec;if(v){for(let w=0;w<v.length;w++)if(v[w](e,m,y)===!1)return}h=h.parent}if(u){ks(),Fu(u,null,10,[e,m,y]),Ls();return}}Cb(e,s,n,r,d)}function Cb(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const $n=[];let sr=-1;const Za=[];let os=null,Ua=0;const m_=Promise.resolve();let Wl=null;function Li(e){const t=Wl||m_;return e?t.then(this?e.bind(this):e):t}function Pb(e){let t=sr+1,s=$n.length;for(;t<s;){const r=t+s>>>1,n=$n[r],u=yu(n);u<e||u===e&&n.flags&2?t=r+1:s=r}return t}function jf(e){if(!(e.flags&1)){const t=yu(e),s=$n[$n.length-1];!s||!(e.flags&2)&&t>=yu(s)?$n.push(e):$n.splice(Pb(t),0,e),e.flags|=1,g_()}}function g_(){Wl||(Wl=m_.then(v_))}function Ib(e){Qe(e)?Za.push(...e):os&&e.id===-1?os.splice(Ua+1,0,e):e.flags&1||(Za.push(e),e.flags|=1),g_()}function Zh(e,t,s=sr+1){for(;s<$n.length;s++){const r=$n[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;$n.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function __(e){if(Za.length){const t=[...new Set(Za)].sort((s,r)=>yu(s)-yu(r));if(Za.length=0,os){os.push(...t);return}for(os=t,Ua=0;Ua<os.length;Ua++){const s=os[Ua];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}os=null,Ua=0}}const yu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function v_(e){try{for(sr=0;sr<$n.length;sr++){const t=$n[sr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Fu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sr<$n.length;sr++){const t=$n[sr];t&&(t.flags&=-2)}sr=-1,$n.length=0,__(),Wl=null,($n.length||Za.length)&&v_()}}let _n=null,y_=null;function Zl(e){const t=_n;return _n=e,y_=e&&e.type.__scopeId||null,t}function qe(e,t=_n,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&op(-1);const u=Zl(t);let d;try{d=e(...n)}finally{Zl(u),r._d&&op(1)}return d};return r._n=!0,r._c=!0,r._d=!0,r}function tn(e,t){if(_n===null)return e;const s=$c(_n),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[u,d,h,m=xt]=t[n];u&&(st(u)&&(u={mounted:u,updated:u}),u.deep&&Or(d),r.push({dir:u,instance:s,value:d,oldValue:void 0,arg:h,modifiers:m}))}return e}function Vs(e,t,s,r){const n=e.dirs,u=t&&t.dirs;for(let d=0;d<n.length;d++){const h=n[d];u&&(h.oldValue=u[d].value);let m=h.dir[r];m&&(ks(),$i(m,s,8,[e.el,h,e,t]),Ls())}}const b_=Symbol("_vte"),w_=e=>e.__isTeleport,cu=e=>e&&(e.disabled||e.disabled===""),Yh=e=>e&&(e.defer||e.defer===""),Xh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Kh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Yd=(e,t)=>{const s=e&&e.to;return jt(s)?t?t(s):null:s},k_={name:"Teleport",__isTeleport:!0,process(e,t,s,r,n,u,d,h,m,y){const{mc:v,pc:w,pbc:T,o:{insert:P,querySelector:O,createText:F,createComment:j}}=y,A=cu(t.props);let{shapeFlag:U,children:H,dynamicChildren:_}=t;if(e==null){const x=t.el=F(""),k=t.anchor=F("");P(x,s,r),P(k,s,r);const S=(D,R)=>{U&16&&(n&&n.isCE&&(n.ce._teleportTarget=D),v(H,D,R,n,u,d,h,m))},B=()=>{const D=t.target=Yd(t.props,O),R=L_(D,t,F,P);D&&(d!=="svg"&&Xh(D)?d="svg":d!=="mathml"&&Kh(D)&&(d="mathml"),A||(S(D,R),Ml(t,!1)))};A&&(S(s,k),Ml(t,!0)),Yh(t.props)?Fn(()=>{B(),t.el.__isMounted=!0},u):B()}else{if(Yh(t.props)&&!e.el.__isMounted){Fn(()=>{k_.process(e,t,s,r,n,u,d,h,m,y),delete e.el.__isMounted},u);return}t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,k=t.target=e.target,S=t.targetAnchor=e.targetAnchor,B=cu(e.props),D=B?s:k,R=B?x:S;if(d==="svg"||Xh(k)?d="svg":(d==="mathml"||Kh(k))&&(d="mathml"),_?(T(e.dynamicChildren,_,D,n,u,d,h),Wf(e,t,!0)):m||w(e,t,D,R,n,u,d,h,!1),A)B?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):pl(t,s,x,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const X=t.target=Yd(t.props,O);X&&pl(t,X,null,y,0)}else B&&pl(t,k,S,y,1);Ml(t,A)}},remove(e,t,s,{um:r,o:{remove:n}},u){const{shapeFlag:d,children:h,anchor:m,targetStart:y,targetAnchor:v,target:w,props:T}=e;if(w&&(n(y),n(v)),u&&n(m),d&16){const P=u||!cu(T);for(let O=0;O<h.length;O++){const F=h[O];r(F,t,s,P,!!F.dynamicChildren)}}},move:pl,hydrate:Nb};function pl(e,t,s,{o:{insert:r},m:n},u=2){u===0&&r(e.targetAnchor,t,s);const{el:d,anchor:h,shapeFlag:m,children:y,props:v}=e,w=u===2;if(w&&r(d,t,s),(!w||cu(v))&&m&16)for(let T=0;T<y.length;T++)n(y[T],t,s,2);w&&r(h,t,s)}function Nb(e,t,s,r,n,u,{o:{nextSibling:d,parentNode:h,querySelector:m,insert:y,createText:v}},w){const T=t.target=Yd(t.props,m);if(T){const P=cu(t.props),O=T._lpa||T.firstChild;if(t.shapeFlag&16)if(P)t.anchor=w(d(e),t,h(e),s,r,n,u),t.targetStart=O,t.targetAnchor=O&&d(O);else{t.anchor=d(e);let F=O;for(;F;){if(F&&F.nodeType===8){if(F.data==="teleport start anchor")t.targetStart=F;else if(F.data==="teleport anchor"){t.targetAnchor=F,T._lpa=t.targetAnchor&&d(t.targetAnchor);break}}F=d(F)}t.targetAnchor||L_(T,t,v,y),w(O&&d(O),t,T,s,r,n,u)}Ml(t,P)}return t.anchor&&d(t.anchor)}const Mb=k_;function Ml(e,t){const s=e.ctx;if(s&&s.ut){let r,n;for(t?(r=e.el,n=e.anchor):(r=e.targetStart,n=e.targetAnchor);r&&r!==n;)r.nodeType===1&&r.setAttribute("data-v-owner",s.uid),r=r.nextSibling;s.ut()}}function L_(e,t,s,r){const n=t.targetStart=s(""),u=t.targetAnchor=s("");return n[b_]=u,e&&(r(n,e),r(u,e)),u}const us=Symbol("_leaveCb"),ml=Symbol("_enterCb");function Ob(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qi(()=>{e.isMounted=!0}),Rc(()=>{e.isUnmounting=!0}),e}const yi=[Function,Array],E_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yi,onEnter:yi,onAfterEnter:yi,onEnterCancelled:yi,onBeforeLeave:yi,onLeave:yi,onAfterLeave:yi,onLeaveCancelled:yi,onBeforeAppear:yi,onAppear:yi,onAfterAppear:yi,onAppearCancelled:yi},x_=e=>{const t=e.subTree;return t.component?x_(t.component):t},Ab={name:"BaseTransition",props:E_,setup(e,{slots:t}){const s=ei(),r=Ob();return()=>{const n=t.default&&C_(t.default(),!0);if(!n||!n.length)return;const u=T_(n),d=kt(e),{mode:h}=d;if(r.isLeaving)return bd(u);const m=Jh(u);if(!m)return bd(u);let y=Xd(m,d,r,s,w=>y=w);m.type!==Un&&bu(m,y);let v=s.subTree&&Jh(s.subTree);if(v&&v.type!==Un&&!Js(m,v)&&x_(s).type!==Un){let w=Xd(v,d,r,s);if(bu(v,w),h==="out-in"&&m.type!==Un)return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete w.afterLeave,v=void 0},bd(u);h==="in-out"&&m.type!==Un?w.delayLeave=(T,P,O)=>{const F=S_(r,v);F[String(v.key)]=v,T[us]=()=>{P(),T[us]=void 0,delete y.delayedLeave,v=void 0},y.delayedLeave=()=>{O(),delete y.delayedLeave,v=void 0}}:v=void 0}else v&&(v=void 0);return u}}};function T_(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==Un){t=s;break}}return t}const Rb=Ab;function S_(e,t){const{leavingVNodes:s}=e;let r=s.get(t.type);return r||(r=Object.create(null),s.set(t.type,r)),r}function Xd(e,t,s,r,n){const{appear:u,mode:d,persisted:h=!1,onBeforeEnter:m,onEnter:y,onAfterEnter:v,onEnterCancelled:w,onBeforeLeave:T,onLeave:P,onAfterLeave:O,onLeaveCancelled:F,onBeforeAppear:j,onAppear:A,onAfterAppear:U,onAppearCancelled:H}=t,_=String(e.key),x=S_(s,e),k=(D,R)=>{D&&$i(D,r,9,R)},S=(D,R)=>{const X=R[1];k(D,R),Qe(D)?D.every(ee=>ee.length<=1)&&X():D.length<=1&&X()},B={mode:d,persisted:h,beforeEnter(D){let R=m;if(!s.isMounted)if(u)R=j||m;else return;D[us]&&D[us](!0);const X=x[_];X&&Js(e,X)&&X.el[us]&&X.el[us](),k(R,[D])},enter(D){let R=y,X=v,ee=w;if(!s.isMounted)if(u)R=A||y,X=U||v,ee=H||w;else return;let q=!1;const Z=D[ml]=ne=>{q||(q=!0,ne?k(ee,[D]):k(X,[D]),B.delayedLeave&&B.delayedLeave(),D[ml]=void 0)};R?S(R,[D,Z]):Z()},leave(D,R){const X=String(e.key);if(D[ml]&&D[ml](!0),s.isUnmounting)return R();k(T,[D]);let ee=!1;const q=D[us]=Z=>{ee||(ee=!0,R(),Z?k(F,[D]):k(O,[D]),D[us]=void 0,x[X]===e&&delete x[X])};x[X]=e,P?S(P,[D,q]):q()},clone(D){const R=Xd(D,t,s,r,n);return n&&n(R),R}};return B}function bd(e){if(Oc(e))return e=ms(e),e.children=null,e}function Jh(e){if(!Oc(e))return w_(e.type)&&e.children?T_(e.children):e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&st(s.default))return s.default()}}function bu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,bu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function C_(e,t=!1,s){let r=[],n=0;for(let u=0;u<e.length;u++){let d=e[u];const h=s==null?d.key:String(s)+String(d.key!=null?d.key:u);d.type===ht?(d.patchFlag&128&&n++,r=r.concat(C_(d.children,t,h))):(t||d.type!==Un)&&r.push(h!=null?ms(d,{key:h}):d)}if(n>1)for(let u=0;u<r.length;u++)r[u].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function yt(e,t){return st(e)?cn({name:e.name},t,{setup:e}):e}function P_(){const e=ei();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function I_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function un(e){const t=ei(),s=Pn(null);if(t){const n=t.refs===xt?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>s.value,set:u=>s.value=u})}return s}function Yl(e,t,s,r,n=!1){if(Qe(e)){e.forEach((O,F)=>Yl(O,t&&(Qe(t)?t[F]:t),s,r,n));return}if(Ya(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Yl(e,t,s,r.component.subTree);return}const u=r.shapeFlag&4?$c(r.component):r.el,d=n?null:u,{i:h,r:m}=e,y=t&&t.r,v=h.refs===xt?h.refs={}:h.refs,w=h.setupState,T=kt(w),P=w===xt?()=>!1:O=>It(T,O);if(y!=null&&y!==m&&(jt(y)?(v[y]=null,P(y)&&(w[y]=null)):Lt(y)&&(y.value=null)),st(m))Fu(m,h,12,[d,v]);else{const O=jt(m),F=Lt(m);if(O||F){const j=()=>{if(e.f){const A=O?P(m)?w[m]:v[m]:m.value;n?Qe(A)&&Bf(A,u):Qe(A)?A.includes(u)||A.push(u):O?(v[m]=[u],P(m)&&(w[m]=v[m])):(m.value=[u],e.k&&(v[e.k]=m.value))}else O?(v[m]=d,P(m)&&(w[m]=d)):F&&(m.value=d,e.k&&(v[e.k]=d))};d?(j.id=-1,Fn(j,s)):j()}}}Sc().requestIdleCallback;Sc().cancelIdleCallback;const Ya=e=>!!e.type.__asyncLoader,Oc=e=>e.type.__isKeepAlive;function N_(e,t){M_(e,"a",t)}function Db(e,t){M_(e,"da",t)}function M_(e,t,s=Ln){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ac(t,r,s),s){let n=s.parent;for(;n&&n.parent;)Oc(n.parent.vnode)&&Bb(r,t,s,n),n=n.parent}}function Bb(e,t,s,r){const n=Ac(t,e,r,!0);Dc(()=>{Bf(r[t],n)},s)}function Ac(e,t,s=Ln,r=!1){if(s){const n=s[e]||(s[e]=[]),u=t.__weh||(t.__weh=(...d)=>{ks();const h=$u(s),m=$i(t,s,e,d);return h(),Ls(),m});return r?n.unshift(u):n.push(u),u}}const Gr=e=>(t,s=Ln)=>{(!Lu||e==="sp")&&Ac(e,(...r)=>t(...r),s)},Fb=Gr("bm"),qi=Gr("m"),zb=Gr("bu"),$b=Gr("u"),Rc=Gr("bum"),Dc=Gr("um"),Ub=Gr("sp"),Gb=Gr("rtg"),Hb=Gr("rtc");function Vb(e,t=Ln){Ac("ec",e,t)}const O_="components";function A_(e,t){return D_(O_,e,!0,t)||e}const R_=Symbol.for("v-ndc");function Hr(e){return jt(e)?D_(O_,e,!1)||e:e||R_}function D_(e,t,s=!0,r=!1){const n=_n||Ln;if(n){const u=n.type;{const h=Pw(u,!1);if(h&&(h===t||h===ui(t)||h===Tc(ui(t))))return u}const d=Qh(n[e]||u[e],t)||Qh(n.appContext[e],t);return!d&&r?u:d}}function Qh(e,t){return e&&(e[t]||e[ui(t)]||e[Tc(ui(t))])}function ai(e,t,s,r){let n;const u=s,d=Qe(e);if(d||jt(e)){const h=d&&Wa(e);let m=!1;h&&(m=!Ei(e),e=Pc(e)),n=new Array(e.length);for(let y=0,v=e.length;y<v;y++)n[y]=t(m?Sn(e[y]):e[y],y,void 0,u)}else if(typeof e=="number"){n=new Array(e);for(let h=0;h<e;h++)n[h]=t(h+1,h,void 0,u)}else if(Bt(e))if(e[Symbol.iterator])n=Array.from(e,(h,m)=>t(h,m,void 0,u));else{const h=Object.keys(e);n=new Array(h.length);for(let m=0,y=h.length;m<y;m++){const v=h[m];n[m]=t(e[v],v,m,u)}}else n=[];return n}function jb(e,t){for(let s=0;s<t.length;s++){const r=t[s];if(Qe(r))for(let n=0;n<r.length;n++)e[r[n].name]=r[n].fn;else r&&(e[r.name]=r.key?(...n)=>{const u=r.fn(...n);return u&&(u.key=r.key),u}:r.fn)}return e}function lt(e,t,s={},r,n){if(_n.ce||_n.parent&&Ya(_n.parent)&&_n.parent.ce)return t!=="default"&&(s.name=t),ge(),nt(ht,null,[Ge("slot",s,r&&r())],64);let u=e[t];u&&u._c&&(u._d=!1),ge();const d=u&&B_(u(s)),h=s.key||d&&d.key,m=nt(ht,{key:(h&&!Fi(h)?h:`_${t}`)+(!d&&r?"_fb":"")},d||(r?r():[]),d&&e._===1?64:-2);return!n&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),u&&u._c&&(u._d=!0),m}function B_(e){return e.some(t=>ku(t)?!(t.type===Un||t.type===ht&&!B_(t.children)):!0)?e:null}const Kd=e=>e?rv(e)?$c(e):Kd(e.parent):null,du=cn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kd(e.parent),$root:e=>Kd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$_(e),$forceUpdate:e=>e.f||(e.f=()=>{jf(e.update)}),$nextTick:e=>e.n||(e.n=Li.bind(e.proxy)),$watch:e=>pw.bind(e)}),wd=(e,t)=>e!==xt&&!e.__isScriptSetup&&It(e,t),qb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:u,accessCache:d,type:h,appContext:m}=e;let y;if(t[0]!=="$"){const P=d[t];if(P!==void 0)switch(P){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return u[t]}else{if(wd(r,t))return d[t]=1,r[t];if(n!==xt&&It(n,t))return d[t]=2,n[t];if((y=e.propsOptions[0])&&It(y,t))return d[t]=3,u[t];if(s!==xt&&It(s,t))return d[t]=4,s[t];Jd&&(d[t]=0)}}const v=du[t];let w,T;if(v)return t==="$attrs"&&Tn(e.attrs,"get",""),v(e);if((w=h.__cssModules)&&(w=w[t]))return w;if(s!==xt&&It(s,t))return d[t]=4,s[t];if(T=m.config.globalProperties,It(T,t))return T[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:u}=e;return wd(n,t)?(n[t]=s,!0):r!==xt&&It(r,t)?(r[t]=s,!0):It(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:u}},d){let h;return!!s[d]||e!==xt&&It(e,d)||wd(t,d)||(h=u[0])&&It(h,d)||It(r,d)||It(du,d)||It(n.config.globalProperties,d)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:It(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function zu(){return F_().slots}function Bc(){return F_().attrs}function F_(){const e=ei();return e.setupContext||(e.setupContext=av(e))}function Xl(e){return Qe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}function Qn(e,t){return!e||!t?e||t:Qe(e)&&Qe(t)?e.concat(t):cn({},Xl(e),Xl(t))}let Jd=!0;function Wb(e){const t=$_(e),s=e.proxy,r=e.ctx;Jd=!1,t.beforeCreate&&ep(t.beforeCreate,e,"bc");const{data:n,computed:u,methods:d,watch:h,provide:m,inject:y,created:v,beforeMount:w,mounted:T,beforeUpdate:P,updated:O,activated:F,deactivated:j,beforeDestroy:A,beforeUnmount:U,destroyed:H,unmounted:_,render:x,renderTracked:k,renderTriggered:S,errorCaptured:B,serverPrefetch:D,expose:R,inheritAttrs:X,components:ee,directives:q,filters:Z}=t;if(y&&Zb(y,r,null),d)for(const te in d){const ae=d[te];st(ae)&&(r[te]=ae.bind(s))}if(n){const te=n.call(s,s);Bt(te)&&(e.data=aa(te))}if(Jd=!0,u)for(const te in u){const ae=u[te],ve=st(ae)?ae.bind(s,s):st(ae.get)?ae.get.bind(s,s):cr,ce=!st(ae)&&st(ae.set)?ae.set.bind(s):cr,ke=he({get:ve,set:ce});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>ke.value,set:De=>ke.value=De})}if(h)for(const te in h)z_(h[te],r,s,te);if(m){const te=st(m)?m.call(s):m;Reflect.ownKeys(te).forEach(ae=>{hs(ae,te[ae])})}v&&ep(v,e,"c");function V(te,ae){Qe(ae)?ae.forEach(ve=>te(ve.bind(s))):ae&&te(ae.bind(s))}if(V(Fb,w),V(qi,T),V(zb,P),V($b,O),V(N_,F),V(Db,j),V(Vb,B),V(Hb,k),V(Gb,S),V(Rc,U),V(Dc,_),V(Ub,D),Qe(R))if(R.length){const te=e.exposed||(e.exposed={});R.forEach(ae=>{Object.defineProperty(te,ae,{get:()=>s[ae],set:ve=>s[ae]=ve})})}else e.exposed||(e.exposed={});x&&e.render===cr&&(e.render=x),X!=null&&(e.inheritAttrs=X),ee&&(e.components=ee),q&&(e.directives=q),D&&I_(e)}function Zb(e,t,s=cr){Qe(e)&&(e=Qd(e));for(const r in e){const n=e[r];let u;Bt(n)?"default"in n?u=Gt(n.from||r,n.default,!0):u=Gt(n.from||r):u=Gt(n),Lt(u)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):t[r]=u}}function ep(e,t,s){$i(Qe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function z_(e,t,s,r){let n=r.includes(".")?J_(s,r):()=>s[r];if(jt(e)){const u=t[e];st(u)&&it(n,u)}else if(st(e))it(n,e.bind(s));else if(Bt(e))if(Qe(e))e.forEach(u=>z_(u,t,s,r));else{const u=st(e.handler)?e.handler.bind(s):t[e.handler];st(u)&&it(n,u,e)}}function $_(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:u,config:{optionMergeStrategies:d}}=e.appContext,h=u.get(t);let m;return h?m=h:!n.length&&!s&&!r?m=t:(m={},n.length&&n.forEach(y=>Kl(m,y,d,!0)),Kl(m,t,d)),Bt(t)&&u.set(t,m),m}function Kl(e,t,s,r=!1){const{mixins:n,extends:u}=t;u&&Kl(e,u,s,!0),n&&n.forEach(d=>Kl(e,d,s,!0));for(const d in t)if(!(r&&d==="expose")){const h=Yb[d]||s&&s[d];e[d]=h?h(e[d],t[d]):t[d]}return e}const Yb={data:tp,props:np,emits:np,methods:iu,computed:iu,beforeCreate:Dn,created:Dn,beforeMount:Dn,mounted:Dn,beforeUpdate:Dn,updated:Dn,beforeDestroy:Dn,beforeUnmount:Dn,destroyed:Dn,unmounted:Dn,activated:Dn,deactivated:Dn,errorCaptured:Dn,serverPrefetch:Dn,components:iu,directives:iu,watch:Kb,provide:tp,inject:Xb};function tp(e,t){return t?e?function(){return cn(st(e)?e.call(this,this):e,st(t)?t.call(this,this):t)}:t:e}function Xb(e,t){return iu(Qd(e),Qd(t))}function Qd(e){if(Qe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Dn(e,t){return e?[...new Set([].concat(e,t))]:t}function iu(e,t){return e?cn(Object.create(null),e,t):t}function np(e,t){return e?Qe(e)&&Qe(t)?[...new Set([...e,...t])]:cn(Object.create(null),Xl(e),Xl(t??{})):t}function Kb(e,t){if(!e)return t;if(!t)return e;const s=cn(Object.create(null),e);for(const r in t)s[r]=Dn(e[r],t[r]);return s}function U_(){return{app:null,config:{isNativeTag:$0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jb=0;function Qb(e,t){return function(r,n=null){st(r)||(r=cn({},r)),n!=null&&!Bt(n)&&(n=null);const u=U_(),d=new WeakSet,h=[];let m=!1;const y=u.app={_uid:Jb++,_component:r,_props:n,_container:null,_context:u,_instance:null,version:Nw,get config(){return u.config},set config(v){},use(v,...w){return d.has(v)||(v&&st(v.install)?(d.add(v),v.install(y,...w)):st(v)&&(d.add(v),v(y,...w))),y},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),y},component(v,w){return w?(u.components[v]=w,y):u.components[v]},directive(v,w){return w?(u.directives[v]=w,y):u.directives[v]},mount(v,w,T){if(!m){const P=y._ceVNode||Ge(r,n);return P.appContext=u,T===!0?T="svg":T===!1&&(T=void 0),e(P,v,T),m=!0,y._container=v,v.__vue_app__=y,$c(P.component)}},onUnmount(v){h.push(v)},unmount(){m&&($i(h,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(v,w){return u.provides[v]=w,y},runWithContext(v){const w=Xa;Xa=y;try{return v()}finally{Xa=w}}};return y}}let Xa=null;function hs(e,t){if(Ln){let s=Ln.provides;const r=Ln.parent&&Ln.parent.provides;r===s&&(s=Ln.provides=Object.create(r)),s[e]=t}}function Gt(e,t,s=!1){const r=Ln||_n;if(r||Xa){const n=Xa?Xa._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&st(t)?t.call(r&&r.proxy):t}}const G_={},H_=()=>Object.create(G_),V_=e=>Object.getPrototypeOf(e)===G_;function ew(e,t,s,r=!1){const n={},u=H_();e.propsDefaults=Object.create(null),j_(e,t,n,u);for(const d in e.propsOptions[0])d in n||(n[d]=void 0);s?e.props=r?n:d_(n):e.type.props?e.props=n:e.props=u,e.attrs=u}function tw(e,t,s,r){const{props:n,attrs:u,vnode:{patchFlag:d}}=e,h=kt(n),[m]=e.propsOptions;let y=!1;if((r||d>0)&&!(d&16)){if(d&8){const v=e.vnode.dynamicProps;for(let w=0;w<v.length;w++){let T=v[w];if(zc(e.emitsOptions,T))continue;const P=t[T];if(m)if(It(u,T))P!==u[T]&&(u[T]=P,y=!0);else{const O=ui(T);n[O]=ef(m,h,O,P,e,!1)}else P!==u[T]&&(u[T]=P,y=!0)}}}else{j_(e,t,n,u)&&(y=!0);let v;for(const w in h)(!t||!It(t,w)&&((v=ws(w))===w||!It(t,v)))&&(m?s&&(s[w]!==void 0||s[v]!==void 0)&&(n[w]=ef(m,h,w,void 0,e,!0)):delete n[w]);if(u!==h)for(const w in u)(!t||!It(t,w))&&(delete u[w],y=!0)}y&&Mr(e.attrs,"set","")}function j_(e,t,s,r){const[n,u]=e.propsOptions;let d=!1,h;if(t)for(let m in t){if(ou(m))continue;const y=t[m];let v;n&&It(n,v=ui(m))?!u||!u.includes(v)?s[v]=y:(h||(h={}))[v]=y:zc(e.emitsOptions,m)||(!(m in r)||y!==r[m])&&(r[m]=y,d=!0)}if(u){const m=kt(s),y=h||xt;for(let v=0;v<u.length;v++){const w=u[v];s[w]=ef(n,m,w,y[w],e,!It(y,w))}}return d}function ef(e,t,s,r,n,u){const d=e[s];if(d!=null){const h=It(d,"default");if(h&&r===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&st(m)){const{propsDefaults:y}=n;if(s in y)r=y[s];else{const v=$u(n);r=y[s]=m.call(null,t),v()}}else r=m;n.ce&&n.ce._setProp(s,r)}d[0]&&(u&&!h?r=!1:d[1]&&(r===""||r===ws(s))&&(r=!0))}return r}const nw=new WeakMap;function q_(e,t,s=!1){const r=s?nw:t.propsCache,n=r.get(e);if(n)return n;const u=e.props,d={},h=[];let m=!1;if(!st(e)){const v=w=>{m=!0;const[T,P]=q_(w,t,!0);cn(d,T),P&&h.push(...P)};!s&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!u&&!m)return Bt(e)&&r.set(e,ja),ja;if(Qe(u))for(let v=0;v<u.length;v++){const w=ui(u[v]);ip(w)&&(d[w]=xt)}else if(u)for(const v in u){const w=ui(v);if(ip(w)){const T=u[v],P=d[w]=Qe(T)||st(T)?{type:T}:cn({},T),O=P.type;let F=!1,j=!0;if(Qe(O))for(let A=0;A<O.length;++A){const U=O[A],H=st(U)&&U.name;if(H==="Boolean"){F=!0;break}else H==="String"&&(j=!1)}else F=st(O)&&O.name==="Boolean";P[0]=F,P[1]=j,(F||It(P,"default"))&&h.push(w)}}const y=[d,h];return Bt(e)&&r.set(e,y),y}function ip(e){return e[0]!=="$"&&!ou(e)}const W_=e=>e[0]==="_"||e==="$stable",qf=e=>Qe(e)?e.map(or):[or(e)],iw=(e,t,s)=>{if(t._n)return t;const r=qe((...n)=>qf(t(...n)),s);return r._c=!1,r},Z_=(e,t,s)=>{const r=e._ctx;for(const n in e){if(W_(n))continue;const u=e[n];if(st(u))t[n]=iw(n,u,r);else if(u!=null){const d=qf(u);t[n]=()=>d}}},Y_=(e,t)=>{const s=qf(t);e.slots.default=()=>s},X_=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},rw=(e,t,s)=>{const r=e.slots=H_();if(e.vnode.shapeFlag&32){const n=t._;n?(X_(r,t,s),s&&Hg(r,"_",n,!0)):Z_(t,r)}else t&&Y_(e,t)},sw=(e,t,s)=>{const{vnode:r,slots:n}=e;let u=!0,d=xt;if(r.shapeFlag&32){const h=t._;h?s&&h===1?u=!1:X_(n,t,s):(u=!t.$stable,Z_(t,n)),d=t}else t&&(Y_(e,t),d={default:1});if(u)for(const h in n)!W_(h)&&d[h]==null&&delete n[h]},Fn=bw;function aw(e){return ow(e)}function ow(e,t){const s=Sc();s.__VUE__=!0;const{insert:r,remove:n,patchProp:u,createElement:d,createText:h,createComment:m,setText:y,setElementText:v,parentNode:w,nextSibling:T,setScopeId:P=cr,insertStaticContent:O}=e,F=(N,Q,se,_e=null,Le=null,we=null,Y=void 0,z=null,oe=!!Q.dynamicChildren)=>{if(N===Q)return;N&&!Js(N,Q)&&(_e=de(N),De(N,Le,we,!0),N=null),Q.patchFlag===-2&&(oe=!1,Q.dynamicChildren=null);const{type:me,ref:$e,shapeFlag:Se}=Q;switch(me){case mo:j(N,Q,se,_e);break;case Un:A(N,Q,se,_e);break;case Ld:N==null&&U(Q,se,_e,Y);break;case ht:ee(N,Q,se,_e,Le,we,Y,z,oe);break;default:Se&1?x(N,Q,se,_e,Le,we,Y,z,oe):Se&6?q(N,Q,se,_e,Le,we,Y,z,oe):(Se&64||Se&128)&&me.process(N,Q,se,_e,Le,we,Y,z,oe,Ne)}$e!=null&&Le&&Yl($e,N&&N.ref,we,Q||N,!Q)},j=(N,Q,se,_e)=>{if(N==null)r(Q.el=h(Q.children),se,_e);else{const Le=Q.el=N.el;Q.children!==N.children&&y(Le,Q.children)}},A=(N,Q,se,_e)=>{N==null?r(Q.el=m(Q.children||""),se,_e):Q.el=N.el},U=(N,Q,se,_e)=>{[N.el,N.anchor]=O(N.children,Q,se,_e,N.el,N.anchor)},H=({el:N,anchor:Q},se,_e)=>{let Le;for(;N&&N!==Q;)Le=T(N),r(N,se,_e),N=Le;r(Q,se,_e)},_=({el:N,anchor:Q})=>{let se;for(;N&&N!==Q;)se=T(N),n(N),N=se;n(Q)},x=(N,Q,se,_e,Le,we,Y,z,oe)=>{Q.type==="svg"?Y="svg":Q.type==="math"&&(Y="mathml"),N==null?k(Q,se,_e,Le,we,Y,z,oe):D(N,Q,Le,we,Y,z,oe)},k=(N,Q,se,_e,Le,we,Y,z)=>{let oe,me;const{props:$e,shapeFlag:Se,transition:re,dirs:be}=N;if(oe=N.el=d(N.type,we,$e&&$e.is,$e),Se&8?v(oe,N.children):Se&16&&B(N.children,oe,null,_e,Le,kd(N,we),Y,z),be&&Vs(N,null,_e,"created"),S(oe,N,N.scopeId,Y,_e),$e){for(const et in $e)et!=="value"&&!ou(et)&&u(oe,et,null,$e[et],we,_e);"value"in $e&&u(oe,"value",null,$e.value,we),(me=$e.onVnodeBeforeMount)&&nr(me,_e,N)}be&&Vs(N,null,_e,"beforeMount");const He=uw(Le,re);He&&re.beforeEnter(oe),r(oe,Q,se),((me=$e&&$e.onVnodeMounted)||He||be)&&Fn(()=>{me&&nr(me,_e,N),He&&re.enter(oe),be&&Vs(N,null,_e,"mounted")},Le)},S=(N,Q,se,_e,Le)=>{if(se&&P(N,se),_e)for(let we=0;we<_e.length;we++)P(N,_e[we]);if(Le){let we=Le.subTree;if(Q===we||tv(we.type)&&(we.ssContent===Q||we.ssFallback===Q)){const Y=Le.vnode;S(N,Y,Y.scopeId,Y.slotScopeIds,Le.parent)}}},B=(N,Q,se,_e,Le,we,Y,z,oe=0)=>{for(let me=oe;me<N.length;me++){const $e=N[me]=z?ls(N[me]):or(N[me]);F(null,$e,Q,se,_e,Le,we,Y,z)}},D=(N,Q,se,_e,Le,we,Y)=>{const z=Q.el=N.el;let{patchFlag:oe,dynamicChildren:me,dirs:$e}=Q;oe|=N.patchFlag&16;const Se=N.props||xt,re=Q.props||xt;let be;if(se&&js(se,!1),(be=re.onVnodeBeforeUpdate)&&nr(be,se,Q,N),$e&&Vs(Q,N,se,"beforeUpdate"),se&&js(se,!0),(Se.innerHTML&&re.innerHTML==null||Se.textContent&&re.textContent==null)&&v(z,""),me?R(N.dynamicChildren,me,z,se,_e,kd(Q,Le),we):Y||ae(N,Q,z,null,se,_e,kd(Q,Le),we,!1),oe>0){if(oe&16)X(z,Se,re,se,Le);else if(oe&2&&Se.class!==re.class&&u(z,"class",null,re.class,Le),oe&4&&u(z,"style",Se.style,re.style,Le),oe&8){const He=Q.dynamicProps;for(let et=0;et<He.length;et++){const Re=He[et],Ht=Se[Re],Xe=re[Re];(Xe!==Ht||Re==="value")&&u(z,Re,Ht,Xe,Le,se)}}oe&1&&N.children!==Q.children&&v(z,Q.children)}else!Y&&me==null&&X(z,Se,re,se,Le);((be=re.onVnodeUpdated)||$e)&&Fn(()=>{be&&nr(be,se,Q,N),$e&&Vs(Q,N,se,"updated")},_e)},R=(N,Q,se,_e,Le,we,Y)=>{for(let z=0;z<Q.length;z++){const oe=N[z],me=Q[z],$e=oe.el&&(oe.type===ht||!Js(oe,me)||oe.shapeFlag&70)?w(oe.el):se;F(oe,me,$e,null,_e,Le,we,Y,!0)}},X=(N,Q,se,_e,Le)=>{if(Q!==se){if(Q!==xt)for(const we in Q)!ou(we)&&!(we in se)&&u(N,we,Q[we],null,Le,_e);for(const we in se){if(ou(we))continue;const Y=se[we],z=Q[we];Y!==z&&we!=="value"&&u(N,we,z,Y,Le,_e)}"value"in se&&u(N,"value",Q.value,se.value,Le)}},ee=(N,Q,se,_e,Le,we,Y,z,oe)=>{const me=Q.el=N?N.el:h(""),$e=Q.anchor=N?N.anchor:h("");let{patchFlag:Se,dynamicChildren:re,slotScopeIds:be}=Q;be&&(z=z?z.concat(be):be),N==null?(r(me,se,_e),r($e,se,_e),B(Q.children||[],se,$e,Le,we,Y,z,oe)):Se>0&&Se&64&&re&&N.dynamicChildren?(R(N.dynamicChildren,re,se,Le,we,Y,z),(Q.key!=null||Le&&Q===Le.subTree)&&Wf(N,Q,!0)):ae(N,Q,se,$e,Le,we,Y,z,oe)},q=(N,Q,se,_e,Le,we,Y,z,oe)=>{Q.slotScopeIds=z,N==null?Q.shapeFlag&512?Le.ctx.activate(Q,se,_e,Y,oe):Z(Q,se,_e,Le,we,Y,oe):ne(N,Q,oe)},Z=(N,Q,se,_e,Le,we,Y)=>{const z=N.component=xw(N,_e,Le);if(Oc(N)&&(z.ctx.renderer=Ne),Tw(z,!1,Y),z.asyncDep){if(Le&&Le.registerDep(z,V,Y),!N.el){const oe=z.subTree=Ge(Un);A(null,oe,Q,se)}}else V(z,N,Q,se,Le,we,Y)},ne=(N,Q,se)=>{const _e=Q.component=N.component;if(vw(N,Q,se))if(_e.asyncDep&&!_e.asyncResolved){te(_e,Q,se);return}else _e.next=Q,_e.update();else Q.el=N.el,_e.vnode=Q},V=(N,Q,se,_e,Le,we,Y)=>{const z=()=>{if(N.isMounted){let{next:Se,bu:re,u:be,parent:He,vnode:et}=N;{const In=K_(N);if(In){Se&&(Se.el=et.el,te(N,Se,Y)),In.asyncDep.then(()=>{N.isUnmounted||z()});return}}let Re=Se,Ht;js(N,!1),Se?(Se.el=et.el,te(N,Se,Y)):Se=et,re&&Nl(re),(Ht=Se.props&&Se.props.onVnodeBeforeUpdate)&&nr(Ht,He,Se,et),js(N,!0);const Xe=sp(N),Ye=N.subTree;N.subTree=Xe,F(Ye,Xe,w(Ye.el),de(Ye),N,Le,we),Se.el=Xe.el,Re===null&&yw(N,Xe.el),be&&Fn(be,Le),(Ht=Se.props&&Se.props.onVnodeUpdated)&&Fn(()=>nr(Ht,He,Se,et),Le)}else{let Se;const{el:re,props:be}=Q,{bm:He,m:et,parent:Re,root:Ht,type:Xe}=N,Ye=Ya(Q);js(N,!1),He&&Nl(He),!Ye&&(Se=be&&be.onVnodeBeforeMount)&&nr(Se,Re,Q),js(N,!0);{Ht.ce&&Ht.ce._injectChildStyle(Xe);const In=N.subTree=sp(N);F(null,In,se,_e,N,Le,we),Q.el=In.el}if(et&&Fn(et,Le),!Ye&&(Se=be&&be.onVnodeMounted)){const In=Q;Fn(()=>nr(Se,Re,In),Le)}(Q.shapeFlag&256||Re&&Ya(Re.vnode)&&Re.vnode.shapeFlag&256)&&N.a&&Fn(N.a,Le),N.isMounted=!0,Q=se=_e=null}};N.scope.on();const oe=N.effect=new Yg(z);N.scope.off();const me=N.update=oe.run.bind(oe),$e=N.job=oe.runIfDirty.bind(oe);$e.i=N,$e.id=N.uid,oe.scheduler=()=>jf($e),js(N,!0),me()},te=(N,Q,se)=>{Q.component=N;const _e=N.vnode.props;N.vnode=Q,N.next=null,tw(N,Q.props,_e,se),sw(N,Q.children,se),ks(),Zh(N),Ls()},ae=(N,Q,se,_e,Le,we,Y,z,oe=!1)=>{const me=N&&N.children,$e=N?N.shapeFlag:0,Se=Q.children,{patchFlag:re,shapeFlag:be}=Q;if(re>0){if(re&128){ce(me,Se,se,_e,Le,we,Y,z,oe);return}else if(re&256){ve(me,Se,se,_e,Le,we,Y,z,oe);return}}be&8?($e&16&&xe(me,Le,we),Se!==me&&v(se,Se)):$e&16?be&16?ce(me,Se,se,_e,Le,we,Y,z,oe):xe(me,Le,we,!0):($e&8&&v(se,""),be&16&&B(Se,se,_e,Le,we,Y,z,oe))},ve=(N,Q,se,_e,Le,we,Y,z,oe)=>{N=N||ja,Q=Q||ja;const me=N.length,$e=Q.length,Se=Math.min(me,$e);let re;for(re=0;re<Se;re++){const be=Q[re]=oe?ls(Q[re]):or(Q[re]);F(N[re],be,se,null,Le,we,Y,z,oe)}me>$e?xe(N,Le,we,!0,!1,Se):B(Q,se,_e,Le,we,Y,z,oe,Se)},ce=(N,Q,se,_e,Le,we,Y,z,oe)=>{let me=0;const $e=Q.length;let Se=N.length-1,re=$e-1;for(;me<=Se&&me<=re;){const be=N[me],He=Q[me]=oe?ls(Q[me]):or(Q[me]);if(Js(be,He))F(be,He,se,null,Le,we,Y,z,oe);else break;me++}for(;me<=Se&&me<=re;){const be=N[Se],He=Q[re]=oe?ls(Q[re]):or(Q[re]);if(Js(be,He))F(be,He,se,null,Le,we,Y,z,oe);else break;Se--,re--}if(me>Se){if(me<=re){const be=re+1,He=be<$e?Q[be].el:_e;for(;me<=re;)F(null,Q[me]=oe?ls(Q[me]):or(Q[me]),se,He,Le,we,Y,z,oe),me++}}else if(me>re)for(;me<=Se;)De(N[me],Le,we,!0),me++;else{const be=me,He=me,et=new Map;for(me=He;me<=re;me++){const We=Q[me]=oe?ls(Q[me]):or(Q[me]);We.key!=null&&et.set(We.key,me)}let Re,Ht=0;const Xe=re-He+1;let Ye=!1,In=0;const dn=new Array(Xe);for(me=0;me<Xe;me++)dn[me]=0;for(me=be;me<=Se;me++){const We=N[me];if(Ht>=Xe){De(We,Le,we,!0);continue}let jn;if(We.key!=null)jn=et.get(We.key);else for(Re=He;Re<=re;Re++)if(dn[Re-He]===0&&Js(We,Q[Re])){jn=Re;break}jn===void 0?De(We,Le,we,!0):(dn[jn-He]=me+1,jn>=In?In=jn:Ye=!0,F(We,Q[jn],se,null,Le,we,Y,z,oe),Ht++)}const jr=Ye?lw(dn):ja;for(Re=jr.length-1,me=Xe-1;me>=0;me--){const We=He+me,jn=Q[We],Wi=We+1<$e?Q[We+1].el:_e;dn[me]===0?F(null,jn,se,Wi,Le,we,Y,z,oe):Ye&&(Re<0||me!==jr[Re]?ke(jn,se,Wi,2):Re--)}}},ke=(N,Q,se,_e,Le=null)=>{const{el:we,type:Y,transition:z,children:oe,shapeFlag:me}=N;if(me&6){ke(N.component.subTree,Q,se,_e);return}if(me&128){N.suspense.move(Q,se,_e);return}if(me&64){Y.move(N,Q,se,Ne);return}if(Y===ht){r(we,Q,se);for(let Se=0;Se<oe.length;Se++)ke(oe[Se],Q,se,_e);r(N.anchor,Q,se);return}if(Y===Ld){H(N,Q,se);return}if(_e!==2&&me&1&&z)if(_e===0)z.beforeEnter(we),r(we,Q,se),Fn(()=>z.enter(we),Le);else{const{leave:Se,delayLeave:re,afterLeave:be}=z,He=()=>r(we,Q,se),et=()=>{Se(we,()=>{He(),be&&be()})};re?re(we,He,et):et()}else r(we,Q,se)},De=(N,Q,se,_e=!1,Le=!1)=>{const{type:we,props:Y,ref:z,children:oe,dynamicChildren:me,shapeFlag:$e,patchFlag:Se,dirs:re,cacheIndex:be}=N;if(Se===-2&&(Le=!1),z!=null&&Yl(z,null,se,N,!0),be!=null&&(Q.renderCache[be]=void 0),$e&256){Q.ctx.deactivate(N);return}const He=$e&1&&re,et=!Ya(N);let Re;if(et&&(Re=Y&&Y.onVnodeBeforeUnmount)&&nr(Re,Q,N),$e&6)Ee(N.component,se,_e);else{if($e&128){N.suspense.unmount(se,_e);return}He&&Vs(N,null,Q,"beforeUnmount"),$e&64?N.type.remove(N,Q,se,Ne,_e):me&&!me.hasOnce&&(we!==ht||Se>0&&Se&64)?xe(me,Q,se,!1,!0):(we===ht&&Se&384||!Le&&$e&16)&&xe(oe,Q,se),_e&&Ae(N)}(et&&(Re=Y&&Y.onVnodeUnmounted)||He)&&Fn(()=>{Re&&nr(Re,Q,N),He&&Vs(N,null,Q,"unmounted")},se)},Ae=N=>{const{type:Q,el:se,anchor:_e,transition:Le}=N;if(Q===ht){Pe(se,_e);return}if(Q===Ld){_(N);return}const we=()=>{n(se),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(N.shapeFlag&1&&Le&&!Le.persisted){const{leave:Y,delayLeave:z}=Le,oe=()=>Y(se,we);z?z(N.el,we,oe):oe()}else we()},Pe=(N,Q)=>{let se;for(;N!==Q;)se=T(N),n(N),N=se;n(Q)},Ee=(N,Q,se)=>{const{bum:_e,scope:Le,job:we,subTree:Y,um:z,m:oe,a:me}=N;rp(oe),rp(me),_e&&Nl(_e),Le.stop(),we&&(we.flags|=8,De(Y,N,Q,se)),z&&Fn(z,Q),Fn(()=>{N.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},xe=(N,Q,se,_e=!1,Le=!1,we=0)=>{for(let Y=we;Y<N.length;Y++)De(N[Y],Q,se,_e,Le)},de=N=>{if(N.shapeFlag&6)return de(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const Q=T(N.anchor||N.el),se=Q&&Q[b_];return se?T(se):Q};let K=!1;const Te=(N,Q,se)=>{N==null?Q._vnode&&De(Q._vnode,null,null,!0):F(Q._vnode||null,N,Q,null,null,null,se),Q._vnode=N,K||(K=!0,Zh(),__(),K=!1)},Ne={p:F,um:De,m:ke,r:Ae,mt:Z,mc:B,pc:ae,pbc:R,n:de,o:e};return{render:Te,hydrate:void 0,createApp:Qb(Te)}}function kd({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function js({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function uw(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Wf(e,t,s=!1){const r=e.children,n=t.children;if(Qe(r)&&Qe(n))for(let u=0;u<r.length;u++){const d=r[u];let h=n[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=n[u]=ls(n[u]),h.el=d.el),!s&&h.patchFlag!==-2&&Wf(d,h)),h.type===mo&&(h.el=d.el)}}function lw(e){const t=e.slice(),s=[0];let r,n,u,d,h;const m=e.length;for(r=0;r<m;r++){const y=e[r];if(y!==0){if(n=s[s.length-1],e[n]<y){t[r]=n,s.push(r);continue}for(u=0,d=s.length-1;u<d;)h=u+d>>1,e[s[h]]<y?u=h+1:d=h;y<e[s[u]]&&(u>0&&(t[r]=s[u-1]),s[u]=r)}}for(u=s.length,d=s[u-1];u-- >0;)s[u]=d,d=t[d];return s}function K_(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:K_(t)}function rp(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cw=Symbol.for("v-scx"),dw=()=>Gt(cw);function fw(e,t){return Fc(e,null,t)}function hw(e,t){return Fc(e,null,{flush:"sync"})}function it(e,t,s){return Fc(e,t,s)}function Fc(e,t,s=xt){const{immediate:r,deep:n,flush:u,once:d}=s,h=cn({},s),m=t&&r||!t&&u!=="post";let y;if(Lu){if(u==="sync"){const P=dw();y=P.__watcherHandles||(P.__watcherHandles=[])}else if(!m){const P=()=>{};return P.stop=cr,P.resume=cr,P.pause=cr,P}}const v=Ln;h.call=(P,O,F)=>$i(P,v,O,F);let w=!1;u==="post"?h.scheduler=P=>{Fn(P,v&&v.suspense)}:u!=="sync"&&(w=!0,h.scheduler=(P,O)=>{O?P():jf(P)}),h.augmentJob=P=>{t&&(P.flags|=4),w&&(P.flags|=2,v&&(P.id=v.uid,P.i=v))};const T=Sb(e,t,h);return Lu&&(y?y.push(T):m&&T()),T}function pw(e,t,s){const r=this.proxy,n=jt(e)?e.includes(".")?J_(r,e):()=>r[e]:e.bind(r,r);let u;st(t)?u=t:(u=t.handler,s=t);const d=$u(this),h=Fc(n,u.bind(r),s);return d(),h}function J_(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}function hr(e,t,s=xt){const r=ei(),n=ui(t),u=ws(t),d=Q_(e,n),h=p_((m,y)=>{let v,w=xt,T;return hw(()=>{const P=e[n];Xn(v,P)&&(v=P,y())}),{get(){return m(),s.get?s.get(v):v},set(P){const O=s.set?s.set(P):P;if(!Xn(O,v)&&!(w!==xt&&Xn(P,w)))return;const F=r.vnode.props;F&&(t in F||n in F||u in F)&&(`onUpdate:${t}`in F||`onUpdate:${n}`in F||`onUpdate:${u}`in F)||(v=P,y()),r.emit(`update:${t}`,O),Xn(P,O)&&Xn(P,w)&&!Xn(O,T)&&y(),w=P,T=O}}});return h[Symbol.iterator]=()=>{let m=0;return{next(){return m<2?{value:m++?d||xt:h,done:!1}:{done:!0}}}},h}const Q_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ui(t)}Modifiers`]||e[`${ws(t)}Modifiers`];function mw(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||xt;let n=s;const u=t.startsWith("update:"),d=u&&Q_(r,t.slice(7));d&&(d.trim&&(n=s.map(v=>jt(v)?v.trim():v)),d.number&&(n=s.map(Hl)));let h,m=r[h=md(t)]||r[h=md(ui(t))];!m&&u&&(m=r[h=md(ws(t))]),m&&$i(m,e,6,n);const y=r[h+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,$i(y,e,6,n)}}function ev(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const u=e.emits;let d={},h=!1;if(!st(e)){const m=y=>{const v=ev(y,t,!0);v&&(h=!0,cn(d,v))};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!u&&!h?(Bt(e)&&r.set(e,null),null):(Qe(u)?u.forEach(m=>d[m]=null):cn(d,u),Bt(e)&&r.set(e,d),d)}function zc(e,t){return!e||!Ec(t)?!1:(t=t.slice(2).replace(/Once$/,""),It(e,t[0].toLowerCase()+t.slice(1))||It(e,ws(t))||It(e,t))}function sp(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[u],slots:d,attrs:h,emit:m,render:y,renderCache:v,props:w,data:T,setupState:P,ctx:O,inheritAttrs:F}=e,j=Zl(e);let A,U;try{if(s.shapeFlag&4){const _=n||r,x=_;A=or(y.call(x,_,v,w,P,T,O)),U=h}else{const _=t;A=or(_.length>1?_(w,{attrs:h,slots:d,emit:m}):_(w,null)),U=t.props?h:gw(h)}}catch(_){fu.length=0,Mc(_,e,1),A=Ge(Un)}let H=A;if(U&&F!==!1){const _=Object.keys(U),{shapeFlag:x}=H;_.length&&x&7&&(u&&_.some(Df)&&(U=_w(U,u)),H=ms(H,U,!1,!0))}return s.dirs&&(H=ms(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&bu(H,s.transition),A=H,Zl(j),A}const gw=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ec(s))&&((t||(t={}))[s]=e[s]);return t},_w=(e,t)=>{const s={};for(const r in e)(!Df(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function vw(e,t,s){const{props:r,children:n,component:u}=e,{props:d,children:h,patchFlag:m}=t,y=u.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return r?ap(r,d,y):!!d;if(m&8){const v=t.dynamicProps;for(let w=0;w<v.length;w++){const T=v[w];if(d[T]!==r[T]&&!zc(y,T))return!0}}}else return(n||h)&&(!h||!h.$stable)?!0:r===d?!1:r?d?ap(r,d,y):!0:!!d;return!1}function ap(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const u=r[n];if(t[u]!==e[u]&&!zc(s,u))return!0}return!1}function yw({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const tv=e=>e.__isSuspense;function bw(e,t){t&&t.pendingBranch?Qe(e)?t.effects.push(...e):t.effects.push(e):Ib(e)}const ht=Symbol.for("v-fgt"),mo=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),Ld=Symbol.for("v-stc"),fu=[];let si=null;function ge(e=!1){fu.push(si=e?null:[])}function ww(){fu.pop(),si=fu[fu.length-1]||null}let wu=1;function op(e,t=!1){wu+=e,e<0&&si&&t&&(si.hasOnce=!0)}function nv(e){return e.dynamicChildren=wu>0?si||ja:null,ww(),wu>0&&si&&si.push(e),e}function Oe(e,t,s,r,n,u){return nv(le(e,t,s,r,n,u,!0))}function nt(e,t,s,r,n){return nv(Ge(e,t,s,r,n,!0))}function ku(e){return e?e.__v_isVNode===!0:!1}function Js(e,t){return e.type===t.type&&e.key===t.key}const iv=({key:e})=>e??null,Ol=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?jt(e)||Lt(e)||st(e)?{i:_n,r:e,k:t,f:!!s}:e:null);function le(e,t=null,s=null,r=0,n=null,u=e===ht?0:1,d=!1,h=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&iv(t),ref:t&&Ol(t),scopeId:y_,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:_n};return h?(Zf(m,s),u&128&&e.normalize(m)):s&&(m.shapeFlag|=jt(s)?8:16),wu>0&&!d&&si&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&si.push(m),m}const Ge=kw;function kw(e,t=null,s=null,r=0,n=null,u=!1){if((!e||e===R_)&&(e=Un),ku(e)){const h=ms(e,t,!0);return s&&Zf(h,s),wu>0&&!u&&si&&(h.shapeFlag&6?si[si.indexOf(e)]=h:si.push(h)),h.patchFlag=-2,h}if(Iw(e)&&(e=e.__vccOpts),t){t=ar(t);let{class:h,style:m}=t;h&&!jt(h)&&(t.class=wt(h)),Bt(m)&&(Vf(m)&&!Qe(m)&&(m=cn({},m)),t.style=zi(m))}const d=jt(e)?1:tv(e)?128:w_(e)?64:Bt(e)?4:st(e)?2:0;return le(e,t,s,r,n,d,u,!0)}function ar(e){return e?Vf(e)||V_(e)?cn({},e):e:null}function ms(e,t,s=!1,r=!1){const{props:n,ref:u,patchFlag:d,children:h,transition:m}=e,y=t?Rt(n||{},t):n,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&iv(y),ref:t&&t.ref?s&&u?Qe(u)?u.concat(Ol(t)):[u,Ol(t)]:Ol(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ht?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:m,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ms(e.ssContent),ssFallback:e.ssFallback&&ms(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return m&&r&&bu(v,m.clone(v)),v}function tt(e=" ",t=0){return Ge(mo,null,e,t)}function ft(e="",t=!1){return t?(ge(),nt(Un,null,e)):Ge(Un,null,e)}function or(e){return e==null||typeof e=="boolean"?Ge(Un):Qe(e)?Ge(ht,null,e.slice()):ku(e)?ls(e):Ge(mo,null,String(e))}function ls(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ms(e)}function Zf(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Qe(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),Zf(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!V_(t)?t._ctx=_n:n===3&&_n&&(_n.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else st(t)?(t={default:t,_ctx:_n},s=32):(t=String(t),r&64?(s=16,t=[tt(t)]):s=8);e.children=t,e.shapeFlag|=s}function Rt(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=wt([t.class,r.class]));else if(n==="style")t.style=zi([t.style,r.style]);else if(Ec(n)){const u=t[n],d=r[n];d&&u!==d&&!(Qe(u)&&u.includes(d))&&(t[n]=u?[].concat(u,d):d)}else n!==""&&(t[n]=r[n])}return t}function nr(e,t,s,r=null){$i(e,t,7,[s,r])}const Lw=U_();let Ew=0;function xw(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||Lw,u={uid:Ew++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q_(r,n),emitsOptions:ev(r,n),emit:null,emitted:null,propsDefaults:xt,inheritAttrs:r.inheritAttrs,ctx:xt,data:xt,props:xt,attrs:xt,slots:xt,refs:xt,setupState:xt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=mw.bind(null,u),e.ce&&e.ce(u),u}let Ln=null;const ei=()=>Ln||_n;let Jl,tf;{const e=Sc(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),u=>{n.length>1?n.forEach(d=>d(u)):n[0](u)}};Jl=t("__VUE_INSTANCE_SETTERS__",s=>Ln=s),tf=t("__VUE_SSR_SETTERS__",s=>Lu=s)}const $u=e=>{const t=Ln;return Jl(e),e.scope.on(),()=>{e.scope.off(),Jl(t)}},up=()=>{Ln&&Ln.scope.off(),Jl(null)};function rv(e){return e.vnode.shapeFlag&4}let Lu=!1;function Tw(e,t=!1,s=!1){t&&tf(t);const{props:r,children:n}=e.vnode,u=rv(e);ew(e,r,u,t),rw(e,n,s);const d=u?Sw(e,t):void 0;return t&&tf(!1),d}function Sw(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,qb);const{setup:r}=s;if(r){ks();const n=e.setupContext=r.length>1?av(e):null,u=$u(e),d=Fu(r,e,0,[e.props,n]),h=$g(d);if(Ls(),u(),(h||e.sp)&&!Ya(e)&&I_(e),h){if(d.then(up,up),t)return d.then(m=>{lp(e,m)}).catch(m=>{Mc(m,e,0)});e.asyncDep=d}else lp(e,d)}else sv(e)}function lp(e,t,s){st(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Bt(t)&&(e.setupState=h_(t)),sv(e)}function sv(e,t,s){const r=e.type;e.render||(e.render=r.render||cr);{const n=$u(e);ks();try{Wb(e)}finally{Ls(),n()}}}const Cw={get(e,t){return Tn(e,"get",""),e[t]}};function av(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Cw),slots:e.slots,emit:e.emit,expose:t}}function $c(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(h_(fs(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in du)return du[s](e)},has(t,s){return s in t||s in du}})):e.proxy}function Pw(e,t=!0){return st(e)?e.displayName||e.name:e.name||t&&e.__name}function Iw(e){return st(e)&&"__vccOpts"in e}const he=(e,t)=>xb(e,t,Lu);function $r(e,t,s){const r=arguments.length;return r===2?Bt(t)&&!Qe(t)?ku(t)?Ge(e,null,[t]):Ge(e,t):Ge(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&ku(s)&&(s=[s]),Ge(e,t,s))}const Nw="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nf;const cp=typeof window<"u"&&window.trustedTypes;if(cp)try{nf=cp.createPolicy("vue",{createHTML:e=>e})}catch{}const ov=nf?e=>nf.createHTML(e):e=>e,Mw="http://www.w3.org/2000/svg",Ow="http://www.w3.org/1998/Math/MathML",Ir=typeof document<"u"?document:null,dp=Ir&&Ir.createElement("template"),Aw={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?Ir.createElementNS(Mw,e):t==="mathml"?Ir.createElementNS(Ow,e):s?Ir.createElement(e,{is:s}):Ir.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>Ir.createTextNode(e),createComment:e=>Ir.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ir.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,u){const d=s?s.previousSibling:t.lastChild;if(n&&(n===u||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===u||!(n=n.nextSibling)););else{dp.innerHTML=ov(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const h=dp.content;if(r==="svg"||r==="mathml"){const m=h.firstChild;for(;m.firstChild;)h.appendChild(m.firstChild);h.removeChild(m)}t.insertBefore(h,s)}return[d?d.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},is="transition",Zo="animation",Eu=Symbol("_vtc"),uv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rw=cn({},E_,uv),Dw=e=>(e.displayName="Transition",e.props=Rw,e),xu=Dw((e,{slots:t})=>$r(Rb,Bw(e),t)),qs=(e,t=[])=>{Qe(e)?e.forEach(s=>s(...t)):e&&e(...t)},fp=e=>e?Qe(e)?e.some(t=>t.length>1):e.length>1:!1;function Bw(e){const t={};for(const ee in e)ee in uv||(t[ee]=e[ee]);if(e.css===!1)return t;const{name:s="v",type:r,duration:n,enterFromClass:u=`${s}-enter-from`,enterActiveClass:d=`${s}-enter-active`,enterToClass:h=`${s}-enter-to`,appearFromClass:m=u,appearActiveClass:y=d,appearToClass:v=h,leaveFromClass:w=`${s}-leave-from`,leaveActiveClass:T=`${s}-leave-active`,leaveToClass:P=`${s}-leave-to`}=e,O=Fw(n),F=O&&O[0],j=O&&O[1],{onBeforeEnter:A,onEnter:U,onEnterCancelled:H,onLeave:_,onLeaveCancelled:x,onBeforeAppear:k=A,onAppear:S=U,onAppearCancelled:B=H}=t,D=(ee,q,Z,ne)=>{ee._enterCancelled=ne,Ws(ee,q?v:h),Ws(ee,q?y:d),Z&&Z()},R=(ee,q)=>{ee._isLeaving=!1,Ws(ee,w),Ws(ee,P),Ws(ee,T),q&&q()},X=ee=>(q,Z)=>{const ne=ee?S:U,V=()=>D(q,ee,Z);qs(ne,[q,V]),hp(()=>{Ws(q,ee?m:u),Tr(q,ee?v:h),fp(ne)||pp(q,r,F,V)})};return cn(t,{onBeforeEnter(ee){qs(A,[ee]),Tr(ee,u),Tr(ee,d)},onBeforeAppear(ee){qs(k,[ee]),Tr(ee,m),Tr(ee,y)},onEnter:X(!1),onAppear:X(!0),onLeave(ee,q){ee._isLeaving=!0;const Z=()=>R(ee,q);Tr(ee,w),ee._enterCancelled?(Tr(ee,T),_p()):(_p(),Tr(ee,T)),hp(()=>{ee._isLeaving&&(Ws(ee,w),Tr(ee,P),fp(_)||pp(ee,r,j,Z))}),qs(_,[ee,Z])},onEnterCancelled(ee){D(ee,!1,void 0,!0),qs(H,[ee])},onAppearCancelled(ee){D(ee,!0,void 0,!0),qs(B,[ee])},onLeaveCancelled(ee){R(ee),qs(x,[ee])}})}function Fw(e){if(e==null)return null;if(Bt(e))return[Ed(e.enter),Ed(e.leave)];{const t=Ed(e);return[t,t]}}function Ed(e){return j0(e)}function Tr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Eu]||(e[Eu]=new Set)).add(t)}function Ws(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const s=e[Eu];s&&(s.delete(t),s.size||(e[Eu]=void 0))}function hp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let zw=0;function pp(e,t,s,r){const n=e._endId=++zw,u=()=>{n===e._endId&&r()};if(s!=null)return setTimeout(u,s);const{type:d,timeout:h,propCount:m}=$w(e,t);if(!d)return r();const y=d+"end";let v=0;const w=()=>{e.removeEventListener(y,T),u()},T=P=>{P.target===e&&++v>=m&&w()};setTimeout(()=>{v<m&&w()},h+1),e.addEventListener(y,T)}function $w(e,t){const s=window.getComputedStyle(e),r=O=>(s[O]||"").split(", "),n=r(`${is}Delay`),u=r(`${is}Duration`),d=mp(n,u),h=r(`${Zo}Delay`),m=r(`${Zo}Duration`),y=mp(h,m);let v=null,w=0,T=0;t===is?d>0&&(v=is,w=d,T=u.length):t===Zo?y>0&&(v=Zo,w=y,T=m.length):(w=Math.max(d,y),v=w>0?d>y?is:Zo:null,T=v?v===is?u.length:m.length:0);const P=v===is&&/\b(transform|all)(,|$)/.test(r(`${is}Property`).toString());return{type:v,timeout:w,propCount:T,hasTransform:P}}function mp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,r)=>gp(s)+gp(e[r])))}function gp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function _p(){return document.body.offsetHeight}function Uw(e,t,s){const r=e[Eu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ql=Symbol("_vod"),lv=Symbol("_vsh"),Tu={beforeMount(e,{value:t},{transition:s}){e[Ql]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Yo(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),Yo(e,!0),r.enter(e)):r.leave(e,()=>{Yo(e,!1)}):Yo(e,t))},beforeUnmount(e,{value:t}){Yo(e,t)}};function Yo(e,t){e.style.display=t?e[Ql]:"none",e[lv]=!t}const Gw=Symbol(""),Hw=/(^|;)\s*display\s*:/;function Vw(e,t,s){const r=e.style,n=jt(s);let u=!1;if(s&&!n){if(t)if(jt(t))for(const d of t.split(";")){const h=d.slice(0,d.indexOf(":")).trim();s[h]==null&&Al(r,h,"")}else for(const d in t)s[d]==null&&Al(r,d,"");for(const d in s)d==="display"&&(u=!0),Al(r,d,s[d])}else if(n){if(t!==s){const d=r[Gw];d&&(s+=";"+d),r.cssText=s,u=Hw.test(s)}}else t&&e.removeAttribute("style");Ql in e&&(e[Ql]=u?r.display:"",e[lv]&&(r.display="none"))}const vp=/\s*!important$/;function Al(e,t,s){if(Qe(s))s.forEach(r=>Al(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=jw(e,t);vp.test(s)?e.setProperty(ws(r),s.replace(vp,""),"important"):e[r]=s}}const yp=["Webkit","Moz","ms"],xd={};function jw(e,t){const s=xd[t];if(s)return s;let r=ui(t);if(r!=="filter"&&r in e)return xd[t]=r;r=Tc(r);for(let n=0;n<yp.length;n++){const u=yp[n]+r;if(u in e)return xd[t]=u}return t}const bp="http://www.w3.org/1999/xlink";function wp(e,t,s,r,n,u=K0(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(bp,t.slice(6,t.length)):e.setAttributeNS(bp,t,s):s==null||u&&!Vg(s)?e.removeAttribute(t):e.setAttribute(t,u?"":Fi(s)?String(s):s)}function kp(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ov(s):s);return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const h=u==="OPTION"?e.getAttribute("value")||"":e.value,m=s==null?e.type==="checkbox"?"on":"":String(s);(h!==m||!("_value"in e))&&(e.value=m),s==null&&e.removeAttribute(t),e._value=s;return}let d=!1;if(s===""||s==null){const h=typeof e[t];h==="boolean"?s=Vg(s):s==null&&h==="string"?(s="",d=!0):h==="number"&&(s=0,d=!0)}try{e[t]=s}catch{}d&&e.removeAttribute(n||t)}function Ar(e,t,s,r){e.addEventListener(t,s,r)}function qw(e,t,s,r){e.removeEventListener(t,s,r)}const Lp=Symbol("_vei");function Ww(e,t,s,r,n=null){const u=e[Lp]||(e[Lp]={}),d=u[t];if(r&&d)d.value=r;else{const[h,m]=Zw(t);if(r){const y=u[t]=Kw(r,n);Ar(e,h,y,m)}else d&&(qw(e,h,d,m),u[t]=void 0)}}const Ep=/(?:Once|Passive|Capture)$/;function Zw(e){let t;if(Ep.test(e)){t={};let r;for(;r=e.match(Ep);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ws(e.slice(2)),t]}let Td=0;const Yw=Promise.resolve(),Xw=()=>Td||(Yw.then(()=>Td=0),Td=Date.now());function Kw(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;$i(Jw(r,s.value),t,5,[r])};return s.value=e,s.attached=Xw(),s}function Jw(e,t){if(Qe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const xp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Qw=(e,t,s,r,n,u)=>{const d=n==="svg";t==="class"?Uw(e,r,d):t==="style"?Vw(e,s,r):Ec(t)?Df(t)||Ww(e,t,s,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ek(e,t,r,d))?(kp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&wp(e,t,r,d,u,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!jt(r))?kp(e,ui(t),r,u,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),wp(e,t,r,d))};function ek(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&xp(t)&&st(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return xp(t)&&jt(s)?!1:t in e}const gs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Qe(t)?s=>Nl(t,s):t};function tk(e){e.target.composing=!0}function Tp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xi=Symbol("_assign"),_s={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[xi]=gs(n);const u=r||n.props&&n.props.type==="number";Ar(e,t?"change":"input",d=>{if(d.target.composing)return;let h=e.value;s&&(h=h.trim()),u&&(h=Hl(h)),e[xi](h)}),s&&Ar(e,"change",()=>{e.value=e.value.trim()}),t||(Ar(e,"compositionstart",tk),Ar(e,"compositionend",Tp),Ar(e,"change",Tp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:u}},d){if(e[xi]=gs(d),e.composing)return;const h=(u||e.type==="number")&&!/^0\d/.test(e.value)?Hl(e.value):e.value,m=t??"";h!==m&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===m)||(e.value=m))}},cv={deep:!0,created(e,t,s){e[xi]=gs(s),Ar(e,"change",()=>{const r=e._modelValue,n=eo(e),u=e.checked,d=e[xi];if(Qe(r)){const h=zf(r,n),m=h!==-1;if(u&&!m)d(r.concat(n));else if(!u&&m){const y=[...r];y.splice(h,1),d(y)}}else if(po(r)){const h=new Set(r);u?h.add(n):h.delete(n),d(h)}else d(dv(e,u))})},mounted:Sp,beforeUpdate(e,t,s){e[xi]=gs(s),Sp(e,t,s)}};function Sp(e,{value:t,oldValue:s},r){e._modelValue=t;let n;if(Qe(t))n=zf(t,r.props.value)>-1;else if(po(t))n=t.has(r.props.value);else{if(t===s)return;n=sa(t,dv(e,!0))}e.checked!==n&&(e.checked=n)}const nk={created(e,{value:t},s){e.checked=sa(t,s.props.value),e[xi]=gs(s),Ar(e,"change",()=>{e[xi](eo(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[xi]=gs(r),t!==s&&(e.checked=sa(t,r.props.value))}},Qa={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const n=po(t);Ar(e,"change",()=>{const u=Array.prototype.filter.call(e.options,d=>d.selected).map(d=>s?Hl(eo(d)):eo(d));e[xi](e.multiple?n?new Set(u):u:u[0]),e._assigning=!0,Li(()=>{e._assigning=!1})}),e[xi]=gs(r)},mounted(e,{value:t}){Cp(e,t)},beforeUpdate(e,t,s){e[xi]=gs(s)},updated(e,{value:t}){e._assigning||Cp(e,t)}};function Cp(e,t){const s=e.multiple,r=Qe(t);if(!(s&&!r&&!po(t))){for(let n=0,u=e.options.length;n<u;n++){const d=e.options[n],h=eo(d);if(s)if(r){const m=typeof h;m==="string"||m==="number"?d.selected=t.some(y=>String(y)===String(h)):d.selected=zf(t,h)>-1}else d.selected=t.has(h);else if(sa(eo(d),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function eo(e){return"_value"in e?e._value:e.value}function dv(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const ik={created(e,t,s){gl(e,t,s,null,"created")},mounted(e,t,s){gl(e,t,s,null,"mounted")},beforeUpdate(e,t,s,r){gl(e,t,s,r,"beforeUpdate")},updated(e,t,s,r){gl(e,t,s,r,"updated")}};function rk(e,t){switch(e){case"SELECT":return Qa;case"TEXTAREA":return _s;default:switch(t){case"checkbox":return cv;case"radio":return nk;default:return _s}}}function gl(e,t,s,r,n){const d=rk(e.tagName,s.props&&s.props.type)[n];d&&d(e,t,s,r)}const sk=["ctrl","shift","alt","meta"],ak={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>sk.some(s=>e[`${s}Key`]&&!t.includes(s))},fv=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...u)=>{for(let d=0;d<t.length;d++){const h=ak[t[d]];if(h&&h(n,t))return}return e(n,...u)})},ok=cn({patchProp:Qw},Aw);let Pp;function uk(){return Pp||(Pp=aw(ok))}const lk=(...e)=>{const t=uk().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=dk(r);if(!n)return;const u=t._component;!st(u)&&!u.render&&!u.template&&(u.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const d=s(n,!1,ck(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),d},t};function ck(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function dk(e){return jt(e)?document.querySelector(e):e}const hv="BootstrapVueNext__",Yf=(e,t="")=>{const s=`${t}___`;return`${hv}ID__${e}__${t?s:""}`},da=e=>Yf(e),Es=e=>Yf(`${e}__plugin`),fk=da("checkboxGroup"),Xf=da("collapse"),Uc=Es("globalShowHideStorage"),pv=da("dropdown"),Kf=da("navbar"),hk=Es("rtl"),Ip=`${hv}global_breadcrumb`,pk=Es("breadcrumbPlugin"),mv=Es("modalManager"),Rl=Es("defaults"),mk=da("inputGroup"),gk=da("buttonGroup"),_k=Es("toast"),vk=Es("modalController"),yk=Es("popover"),bk=da("formGroupPlugin");function fa(e){return $f()?(Vl(e),!0):!1}function gv(e){let t=0,s,r;const n=()=>{t-=1,r&&t<=0&&(r.stop(),s=void 0,r=void 0)};return(...u)=>(t+=1,r||(r=Zg(!0),s=r.run(()=>e(...u))),fa(n),s)}const _v=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const vv=e=>e!=null,wk=Object.prototype.toString,kk=e=>wk.call(e)==="[object Object]",Mi=()=>{},rf=Lk();function Lk(){var e,t;return _v&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ek(...e){if(e.length!==1)return Jt(...e);const t=e[0];return typeof t=="function"?Gn(p_(()=>({get:t,set:Mi}))):Be(t)}function yv(e,t){function s(...r){return new Promise((n,u)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(n).catch(u)})}return s}function xk(e,t={}){let s,r,n=Mi;const u=m=>{clearTimeout(m),n(),n=Mi};let d;return m=>{const y=mt(e),v=mt(t.maxWait);return s&&u(s),y<=0||v!==void 0&&v<=0?(r&&(u(r),r=null),Promise.resolve(m())):new Promise((w,T)=>{n=t.rejectOnCancel?T:w,d=m,v&&!r&&(r=setTimeout(()=>{s&&u(s),r=null,w(d())},v)),s=setTimeout(()=>{r&&u(r),r=null,w(m())},y)})}}function Tk(...e){let t=0,s,r=!0,n=Mi,u,d,h,m,y;!Lt(e[0])&&typeof e[0]=="object"?{delay:d,trailing:h=!0,leading:m=!0,rejectOnCancel:y=!1}=e[0]:[d,h=!0,m=!0,y=!1]=e;const v=()=>{s&&(clearTimeout(s),s=void 0,n(),n=Mi)};return T=>{const P=mt(d),O=Date.now()-t,F=()=>u=T();return v(),P<=0?(t=Date.now(),F()):(O>P&&(m||!r)?(t=Date.now(),F()):h&&(u=new Promise((j,A)=>{n=y?A:j,s=setTimeout(()=>{t=Date.now(),r=!0,j(F()),v()},Math.max(0,P-O))})),!m&&!s&&(s=setTimeout(()=>r=!0,P)),r=!1,u)}}function hu(e){return Array.isArray(e)?e:[e]}function Sk(e,t=200,s={}){return yv(xk(t,s),e)}function Np(e,t=200,s=!1,r=!0,n=!1){return yv(Tk(t,s,r,n),e)}function Su(e,t={}){const{method:s="parseFloat",radix:r,nanToZero:n}=t;return he(()=>{let u=mt(e);return typeof s=="function"?u=s(u):typeof u=="string"&&(u=Number[s](u,r)),n&&Number.isNaN(u)&&(u=0),u})}function Ck(e,t,s){return it(e,t,{...s,immediate:!0})}const Uu=_v?window:void 0;function Rr(e){var t;const s=mt(e);return(t=s==null?void 0:s.$el)!=null?t:s}function Kn(...e){const t=[],s=()=>{t.forEach(h=>h()),t.length=0},r=(h,m,y,v)=>(h.addEventListener(m,y,v),()=>h.removeEventListener(m,y,v)),n=he(()=>{const h=hu(mt(e[0])).filter(m=>m!=null);return h.every(m=>typeof m!="string")?h:void 0}),u=Ck(()=>{var h,m;return[(m=(h=n.value)==null?void 0:h.map(y=>Rr(y)))!=null?m:[Uu].filter(y=>y!=null),hu(mt(n.value?e[1]:e[0])),hu(W(n.value?e[2]:e[1])),mt(n.value?e[3]:e[2])]},([h,m,y,v])=>{if(s(),!(h!=null&&h.length)||!(m!=null&&m.length)||!(y!=null&&y.length))return;const w=kk(v)?{...v}:v;t.push(...h.flatMap(T=>m.flatMap(P=>y.map(O=>r(T,P,O,w)))))},{flush:"post"}),d=()=>{u(),s()};return fa(s),d}let Mp=!1;function bv(e,t,s={}){const{window:r=Uu,ignore:n=[],capture:u=!0,detectIframe:d=!1,controls:h=!1}=s;if(!r)return h?{stop:Mi,cancel:Mi,trigger:Mi}:Mi;if(rf&&!Mp){Mp=!0;const j={passive:!0};Array.from(r.document.body.children).forEach(A=>Kn(A,"click",Mi,j)),Kn(r.document.documentElement,"click",Mi,j)}let m=!0;const y=j=>mt(n).some(A=>{if(typeof A=="string")return Array.from(r.document.querySelectorAll(A)).some(U=>U===j.target||j.composedPath().includes(U));{const U=Rr(A);return U&&(j.target===U||j.composedPath().includes(U))}});function v(j){const A=mt(j);return A&&A.$.subTree.shapeFlag===16}function w(j,A){const U=mt(j),H=U.$.subTree&&U.$.subTree.children;return H==null||!Array.isArray(H)?!1:H.some(_=>_.el===A.target||A.composedPath().includes(_.el))}const T=j=>{const A=Rr(e);if(j.target!=null&&!(!(A instanceof Element)&&v(e)&&w(e,j))&&!(!A||A===j.target||j.composedPath().includes(A))){if("detail"in j&&j.detail===0&&(m=!y(j)),!m){m=!0;return}t(j)}};let P=!1;const O=[Kn(r,"click",j=>{P||(P=!0,setTimeout(()=>{P=!1},0),T(j))},{passive:!0,capture:u}),Kn(r,"pointerdown",j=>{const A=Rr(e);m=!y(j)&&!!(A&&!j.composedPath().includes(A))},{passive:!0}),d&&Kn(r,"blur",j=>{setTimeout(()=>{var A;const U=Rr(e);((A=r.document.activeElement)==null?void 0:A.tagName)==="IFRAME"&&!(U!=null&&U.contains(r.document.activeElement))&&t(j)},0)},{passive:!0})].filter(Boolean),F=()=>O.forEach(j=>j());return h?{stop:F,cancel:()=>{m=!1},trigger:j=>{m=!0,T(j),m=!1}}:F}function Pk(){const e=Pn(!1),t=ei();return t&&qi(()=>{e.value=!0},t),e}function Ik(e){const t=Pk();return he(()=>(t.value,!!e()))}function Nk(e,t,s={}){const{window:r=Uu,...n}=s;let u;const d=Ik(()=>r&&"MutationObserver"in r),h=()=>{u&&(u.disconnect(),u=void 0)},m=he(()=>{const T=mt(e),P=hu(T).map(Rr).filter(vv);return new Set(P)}),y=it(()=>m.value,T=>{h(),d.value&&T.size&&(u=new MutationObserver(t),T.forEach(P=>u.observe(P,n)))},{immediate:!0,flush:"post"}),v=()=>u==null?void 0:u.takeRecords(),w=()=>{y(),h()};return fa(w),{isSupported:d,stop:w,takeRecords:v}}function Mk(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function cs(...e){let t,s,r={};e.length===3?(t=e[0],s=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,s=e[0],r=e[1]):(t=e[0],s=e[1]):(t=!0,s=e[0]);const{target:n=Uu,eventName:u="keydown",passive:d=!1,dedupe:h=!1}=r,m=Mk(t);return Kn(n,u,v=>{v.repeat&&mt(h)||m(v)&&s(v)},d)}const _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vl="__vueuse_ssr_handlers__",Ok=Ak();function Ak(){return vl in _l||(_l[vl]=_l[vl]||{}),_l[vl]}function Rk(e,t){return Ok[e]||t}function ea(e,t={}){const{initialValue:s=!1,focusVisible:r=!1,preventScroll:n=!1}=t,u=Pn(!1),d=he(()=>Rr(e)),h={passive:!0};Kn(d,"focus",y=>{var v,w;(!r||(w=(v=y.target).matches)!=null&&w.call(v,":focus-visible"))&&(u.value=!0)},h),Kn(d,"blur",()=>u.value=!1,h);const m=he({get:()=>u.value,set(y){var v,w;!y&&u.value?(v=d.value)==null||v.blur():y&&!u.value&&((w=d.value)==null||w.focus({preventScroll:n}))}});return it(d,()=>{m.value=s},{immediate:!0,flush:"post"}),{focused:m}}function Sd(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const Dk={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function Bk(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:r=!1,initialValue:n={x:0,y:0},window:u=Uu,target:d=u,scroll:h=!0,eventFilter:m}=e;let y=null,v=0,w=0;const T=Pn(n.x),P=Pn(n.y),O=Pn(null),F=typeof t=="function"?t:Dk[t],j=S=>{const B=F(S);y=S,B&&([T.value,P.value]=B,O.value="mouse"),u&&(v=u.scrollX,w=u.scrollY)},A=S=>{if(S.touches.length>0){const B=F(S.touches[0]);B&&([T.value,P.value]=B,O.value="touch")}},U=()=>{if(!y||!u)return;const S=F(y);y instanceof MouseEvent&&S&&(T.value=S[0]+u.scrollX-v,P.value=S[1]+u.scrollY-w)},H=()=>{T.value=n.x,P.value=n.y},_=m?S=>m(()=>j(S),{}):S=>j(S),x=m?S=>m(()=>A(S),{}):S=>A(S),k=m?()=>m(()=>U(),{}):()=>U();if(d){const S={passive:!0};Kn(d,["mousemove","dragover"],_,S),s&&t!=="movement"&&(Kn(d,["touchstart","touchmove"],x,S),r&&Kn(d,"touchend",H,S)),h&&t==="page"&&Kn(u,"scroll",k,S)}return{x:T,y:P,sourceType:O}}function wv(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const s=e.parentNode;return!s||s.tagName==="BODY"?!1:wv(s)}}function Fk(e){const t=e||window.event,s=t.target;return wv(s)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const Cd=new WeakMap;function zk(e,t=!1){const s=Pn(t);let r=null,n="";it(Ek(e),h=>{const m=Sd(mt(h));if(m){const y=m;if(Cd.get(y)||Cd.set(y,y.style.overflow),y.style.overflow!=="hidden"&&(n=y.style.overflow),y.style.overflow==="hidden")return s.value=!0;if(s.value)return y.style.overflow="hidden"}},{immediate:!0});const u=()=>{const h=Sd(mt(e));!h||s.value||(rf&&(r=Kn(h,"touchmove",m=>{Fk(m)},{passive:!1})),h.style.overflow="hidden",s.value=!0)},d=()=>{const h=Sd(mt(e));!h||!s.value||(rf&&(r==null||r()),h.style.overflow=n,Cd.delete(h),s.value=!1)};return fa(d),he({get(){return s.value},set(h){h?u():d()}})}const Pd="modal-open",$k=()=>{const e=Gt(mv),t=r=>{e==null||e.removeStack(r),e==null||e.removeRegistry(r)},s=Rk("updateHTMLAttrs",(r,n,u)=>{const d=typeof r=="string"?window==null?void 0:window.document.querySelector(r):Rr(r);d&&(n==="class"?d.classList.toggle(Pd,u===Pd):d.setAttribute(n,u))});return fa(()=>{s("body","class","")}),it(()=>e==null?void 0:e.countStack.value,r=>{r!==void 0&&s("body","class",r>0?Pd:"")}),{...e,dispose:t}},Uk=(e,t)=>{const{pushRegistry:s,pushStack:r,removeStack:n,stack:u,dispose:d,countStack:h}=$k(),m=ei();if(!m||m.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");s==null||s(m),fa(()=>{d(m)});const y=(v,w)=>{v?r==null||r(m):w&&!v&&(n==null||n(m))};return y(t,t),it(e,y),{activePosition:he(()=>u==null?void 0:u.value.findIndex(v=>{var w,T;return mt((w=v.exposed)==null?void 0:w.id)===mt((T=m.exposed)==null?void 0:T.id)})),activeModalCount:h,stackWithoutSelf:he(()=>(u==null?void 0:u.value.filter(v=>{var w,T;return mt((w=v.exposed)==null?void 0:w.id)!==mt((T=m.exposed)==null?void 0:T.id)}))??[])}},ec=e=>{if(e)return typeof e=="string"?typeof document>"u"?void 0:document.getElementById(e)??document.querySelector(e)??void 0:e.$el??e},Op=(e,t)=>e.setAttribute("data-bs-theme",t),kv={mounted(e,t){Op(e,t.value)},updated(e,t){Op(e,t.value)}},Gk=/\s+/,Hk=/^#/,Vk=/^#[A-Za-z]+[\w\-:.]*$/;function jk(e,t){var s,r;return(t.ctx===e.instance.$?(s=qk(t,e.instance.$))==null?void 0:s.provides:(r=t.ctx)==null?void 0:r.provides)??e.instance.$.provides}function qk(e,t){const s=new Set,r=u=>{var d,h;for(const m of u){if(!m)continue;if(m===e||m.el&&e.el&&m.el===e.el)return!0;s.add(m);let y;if(m.suspense?y=r([m.ssContent]):Array.isArray(m.children)?y=r(m.children):(d=m.component)!=null&&d.vnode&&(y=r([(h=m.component)==null?void 0:h.subTree])),y)return y;s.delete(m)}return!1};if(!r([t.subTree]))return console.error("Could not find original vnode,  will not inherit provides"),t;const n=Array.from(s).reverse();for(const u of n)if(u.component)return u.component;return t}const Wk=(e,t)=>{const{modifiers:s,arg:r,value:n}=e,u=Object.keys(s||{}),d=typeof n=="string"?n.split(Gk):n;if(t.tagName.toLowerCase()==="a"){const h=t.getAttribute("href")||"";Vk.test(h)&&u.push(h.replace(Hk,""))}return Array.prototype.concat.apply([],[r,d]).forEach(h=>typeof h=="string"&&u.push(h)),u.filter((h,m,y)=>h&&y.indexOf(h)===m)},Ap=(e,t,s,r)=>{var n;const d=(n=jk(s,r)[Uc])==null?void 0:n.map;e.forEach(h=>{if(d!=null&&d[h]){d[h].toggle();return}const m=document.getElementById(h);m!==null&&m.dispatchEvent(new Event("bv-toggle"))}),setTimeout(()=>Lv(e,t),50)},Lv=(e,t)=>{let s=!1;e.forEach(r=>{const n=document.getElementById(r);n!=null&&n.classList.contains("show")&&(s=!0),n!=null&&n.classList.contains("closing")&&(s=!1)}),t.setAttribute("aria-expanded",s?"true":"false"),t.classList.remove(s?"collapsed":"not-collapsed"),t.classList.add(s?"not-collapsed":"collapsed")},Rp=(e,t,s)=>{const r=Wk(t,e);r.length!==0&&(e.__toggle?setTimeout(()=>{e.removeEventListener("click",e.__toggle),e.__toggle=()=>Ap(r,e,t,s),e.addEventListener("click",e.__toggle)},0):(e.__toggle=()=>Ap(r,e,t,s),e.addEventListener("click",e.__toggle)),e.setAttribute("aria-controls",r.join(" ")),Lv(r,e))},Zk={mounted:Rp,updated:Rp,unmounted(e){e.removeEventListener("click",e.__toggle),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded")}};function Yk(e,t=Ev("injectSelf")){const{provides:s}=t;if(s&&e in s)return s[e]}function Ev(e,t){const s=ei();if(!s)throw new Error(`[Bvn] ${e} must be called from inside a setup function`);return s}const Xk=(e="")=>e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase(),Dp=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);function xv(e={},t={},s){const r={};for(const n in e)r[n]=e[n];for(const n in t){const u=e[n],d=t[n];if(Dp(u)&&Dp(d)){r[n]=xv(u,d);continue}r[n]=d}return r}const Kk=(e,t)=>{var s,r;return typeof((s=e.props)==null?void 0:s[t])<"u"||typeof((r=e.props)==null?void 0:r[Xk(t)])<"u"};function Jk(e={},t){const s=Gt(Rl,Be({})),r=Ev("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Bvn] Could not determine component name");const n=he(()=>{var m;return(m=s.value)==null?void 0:m[e._as??t]}),u=new Proxy(e,{get(m,y){var v,w,T,P;const O=Reflect.get(m,y);return y==="class"||y==="style"?[(v=n.value)==null?void 0:v[y],O].filter(F=>F!=null):typeof y=="string"&&!Kk(r.vnode,y)?((w=n.value)==null?void 0:w[y])??((P=(T=s.value)==null?void 0:T.global)==null?void 0:P[y])??O:O}}),d=Pn();fw(()=>{if(n.value){const m=Object.entries(n.value).filter(([y])=>y.startsWith(y[0].toUpperCase()));d.value=m.length?Object.fromEntries(m):void 0}else d.value=void 0});function h(){const m=Yk(Rl,r);hs(Rl,he(()=>d.value?xv((m==null?void 0:m.value)??{},d.value):m==null?void 0:m.value))}return{props:u,provideSubDefaults:h}}function Qt(e,t){const{props:s,provideSubDefaults:r}=Jk(e,t);return r(),s}const ha=(e,t)=>{const s=P_();return he(()=>mt(e)||Yf(s||"",t))},Jf=yt({name:"ConditionalTeleport",inheritAttrs:!1,props:{to:{type:[String,Object],default:null},disabled:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t}){return()=>{var s,r;return e.to?$r(Mb,{to:e.to,disabled:e.disabled||!e.to},[(r=t.default)==null?void 0:r.call(t,{})]):(s=t.default)==null?void 0:s.call(t,{})}}});var Qk=Object.defineProperty,eL=(e,t,s)=>t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Pr=(e,t,s)=>eL(e,typeof t!="symbol"?t+"":t,s);class tc{constructor(t,s={}){if(Pr(this,"cancelable",!0),Pr(this,"componentId",null),Pr(this,"_defaultPrevented",!1),Pr(this,"eventType",""),Pr(this,"nativeEvent",null),Pr(this,"_preventDefault"),Pr(this,"relatedTarget",null),Pr(this,"target",null),!t)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,tc.Defaults,s,{eventType:t}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(t){this._defaultPrevented=t}get preventDefault(){return this._preventDefault}set preventDefault(t){this._preventDefault=t}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class tL extends tc{constructor(t,s={}){super(t,s),Pr(this,"trigger",null),Object.assign(this,tc.Defaults,s,{eventType:t})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Bp={name:"fade",enterActiveClass:"",enterFromClass:"showing",enterToClass:"",leaveActiveClass:"",leaveFromClass:"",leaveToClass:"showing",css:!0},Gc=(e,t,s,r,n,u={transitionProps:{},showFn:()=>{},hideFn:()=>{}})=>{var d;let h=!1;const m=!!e.value&&!t.initialAnimation||t.visible||!1,y=Be(m),v=Be(m),w=Be(m);let T=typeof e.value!="boolean";it(e,()=>{if(T=typeof e.value!="boolean",h){h=!1;return}e.value?H():_()});const P=Be(m),O=Be(!1),F=he(()=>t.noAnimation||t.noFade||P.value||!1);qi(()=>{var Ee;if(!t.show&&m){const xe=j("show",{cancelable:!0});if(s("show",xe),xe.defaultPrevented){s("show-prevented",j("show-prevented"));return}P.value=!0,e.value||(h=!0,e.value=!0),v.value=!0,w.value=!0,q.value=!0,De.value=!0,Ae.value=!0,y.value=!0,(Ee=u.showFn)==null||Ee.call(u)}else(t.show||e.value&&t.initialAnimation)&&H()}),it(()=>t.visible,Ee=>{P.value=!0,Li(()=>{Ee&&(q.value=!0),Ee?H():_()})}),it(()=>t.show,Ee=>{Ee?H():_()}),Kn(r,"bv-toggle",()=>{e.value=!e.value});const j=(Ee,xe={})=>new tL(Ee,{cancelable:!1,target:(r==null?void 0:r.value)||null,relatedTarget:null,trigger:null,...xe,componentId:n==null?void 0:n.value});let A,U;const H=()=>{if(y.value&&!U)return;const Ee=j("show",{cancelable:!0});if(s("show",Ee),Ee.defaultPrevented){s("show-prevented",j("show-prevented")),q.value&&(q.value=!1),e.value&&!T&&(h=!0,Li(()=>{e.value=!1}));return}U&&(clearTimeout(U),U=void 0),v.value=!0,w.value=!0,requestAnimationFrame(()=>{var xe;A=setTimeout(()=>{var de;A=void 0,y.value=!0,(de=u.showFn)==null||de.call(u),e.value||(h=!0,Li(()=>{e.value=!0}))},P.value?0:typeof t.delay=="number"?t.delay:((xe=t.delay)==null?void 0:xe.show)||0)})},_=Ee=>{var xe;if(!y.value&&!A)return;const de=j("hide",{cancelable:!0,trigger:Ee}),K=j(Ee||"ignore",{cancelable:!0,trigger:Ee});if(Ee==="backdrop"&&t.noCloseOnBackdrop||Ee==="esc"&&t.noCloseOnEsc){s("hide-prevented",j("hide-prevented"));return}if(Ee&&s(Ee,K),s("hide",de),de.defaultPrevented||K.defaultPrevented){s("hide-prevented",j("hide-prevented")),e.value||Li(()=>{h=!0,e.value=!0});return}A&&(clearTimeout(A),A=void 0,O.value||(v.value=!1),w.value=!1),U=setTimeout(()=>{var Te;U=void 0,X.value=!0,y.value=!1,(Te=u.hideFn)==null||Te.call(u),e.value&&(h=!0,e.value=T?0:!1)},P.value?0:typeof t.delay=="number"?t.delay:((xe=t.delay)==null?void 0:xe.hide)||0)},x=Np(Ee=>_(Ee),500),k=Np(()=>H(),500),S=()=>{const Ee=j("toggle",{cancelable:!0});if(s("toggle",Ee),Ee.defaultPrevented){s("toggle-prevented",j("toggle-prevented"));return}y.value?_():H()},B=(d=Gt(Uc,void 0))==null?void 0:d({id:n.value,toggle:S,show:H,hide:_,value:Gn(y)});Rc(()=>{B==null||B.unregister()});const D=Be(!1),R=()=>{t.lazy===!0&&(D.value=!0)},X=Be(!1),ee=Be(m),q=Be(m),Z=Ee=>{var xe,de,K,Te;(de=(xe=u.transitionProps)==null?void 0:xe.onBeforeEnter)==null||de.call(xe,Ee),(Te=(K=t.transitionProps)==null?void 0:K.onBeforeEnter)==null||Te.call(K,Ee),ee.value=!0},ne=Ee=>{var xe,de,K,Te;requestAnimationFrame(()=>{requestAnimationFrame(()=>{q.value=!0})}),(de=(xe=u.transitionProps)==null?void 0:xe.onEnter)==null||de.call(xe,Ee),(Te=(K=t.transitionProps)==null?void 0:K.onEnter)==null||Te.call(K,Ee)},V=Ee=>{var xe,de,K,Te;s("shown",j("shown")),R(),(de=(xe=u.transitionProps)==null?void 0:xe.onAfterEnter)==null||de.call(xe,Ee),(Te=(K=t.transitionProps)==null?void 0:K.onAfterEnter)==null||Te.call(K,Ee),P.value&&requestAnimationFrame(()=>{P.value=!1}),O.value&&(O.value=!1)},te=Ee=>{var xe,de,K,Te;X.value||(X.value=!0),(de=(xe=u.transitionProps)==null?void 0:xe.onBeforeLeave)==null||de.call(xe,Ee),(Te=(K=t.transitionProps)==null?void 0:K.onBeforeLeave)==null||Te.call(K,Ee)},ae=Ee=>{var xe,de,K,Te;q.value=!1,(de=(xe=u.transitionProps)==null?void 0:xe.onLeave)==null||de.call(xe,Ee),(Te=(K=t.transitionProps)==null?void 0:K.onLeave)==null||Te.call(K,Ee)},ve=Ee=>{var xe,de,K,Te;s("hidden",j("hidden")),(de=(xe=u.transitionProps)==null?void 0:xe.onAfterLeave)==null||de.call(xe,Ee),(Te=(K=t.transitionProps)==null?void 0:K.onAfterLeave)==null||Te.call(K,Ee),X.value=!1,ee.value=!1,P.value&&requestAnimationFrame(()=>{P.value=!1}),requestAnimationFrame(()=>{O.value||(v.value=!1)})},ce=he(()=>O.value===!0||ee.value===!0||t.lazy===!1||t.lazy===!0&&D.value===!0&&t.unmountLazy===!1),ke=Be(!1);it(q,Ee=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{ke.value=Ee},32)})})})})});const De=Be(!1),Ae=Be(!1),Pe={...u.transitionProps,onBeforeEnter:Z,onEnter:ne,onAfterEnter:V,onBeforeLeave:te,onLeave:ae,onAfterLeave:ve};return{showRef:y,renderRef:v,renderBackdropRef:w,isVisible:q,isActive:ee,trapActive:ke,show:H,hide:_,toggle:S,throttleHide:x,throttleShow:k,buildTriggerableEvent:j,computedNoAnimation:F,localNoAnimation:P,localTemporaryHide:O,isLeaving:X,transitionProps:{...Bp,...t.transitionProps,...Pe},lazyLoadCompleted:D,markLazyLoadCompleted:R,contentShowing:ce,backdropReady:Ae,backdropVisible:De,backdropTransitionProps:{...Bp,onBeforeEnter:()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{De.value=!0})}),Ae.value=!1},onAfterEnter:()=>{Ae.value=!0},onBeforeLeave:()=>{De.value=!1},onAfterLeave:()=>{Ae.value=!1,requestAnimationFrame(()=>{w.value=!1})}}}},Qf=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},Tv=["top","right","bottom","left"],Fp=["start","end"],zp=Tv.reduce((e,t)=>e.concat(t,t+"-"+Fp[0],t+"-"+Fp[1]),[]),Ui=Math.min,Cn=Math.max,nc=Math.round,yl=Math.floor,dr=e=>({x:e,y:e}),nL={left:"right",right:"left",bottom:"top",top:"bottom"},iL={start:"end",end:"start"};function sf(e,t,s){return Cn(e,Ui(t,s))}function Vr(e,t){return typeof e=="function"?e(t):e}function Ti(e){return e.split("-")[0]}function Di(e){return e.split("-")[1]}function Sv(e){return e==="x"?"y":"x"}function eh(e){return e==="y"?"height":"width"}function vs(e){return["top","bottom"].includes(Ti(e))?"y":"x"}function th(e){return Sv(vs(e))}function Cv(e,t,s){s===void 0&&(s=!1);const r=Di(e),n=th(e),u=eh(n);let d=n==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(d=rc(d)),[d,rc(d)]}function rL(e){const t=rc(e);return[ic(e),t,ic(t)]}function ic(e){return e.replace(/start|end/g,t=>iL[t])}function sL(e,t,s){const r=["left","right"],n=["right","left"],u=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return s?t?n:r:t?r:n;case"left":case"right":return t?u:d;default:return[]}}function aL(e,t,s,r){const n=Di(e);let u=sL(Ti(e),s==="start",r);return n&&(u=u.map(d=>d+"-"+n),t&&(u=u.concat(u.map(ic)))),u}function rc(e){return e.replace(/left|right|bottom|top/g,t=>nL[t])}function oL(e){return{top:0,right:0,bottom:0,left:0,...e}}function nh(e){return typeof e!="number"?oL(e):{top:e,right:e,bottom:e,left:e}}function to(e){const{x:t,y:s,width:r,height:n}=e;return{width:r,height:n,top:s,left:t,right:t+r,bottom:s+n,x:t,y:s}}function $p(e,t,s){let{reference:r,floating:n}=e;const u=vs(t),d=th(t),h=eh(d),m=Ti(t),y=u==="y",v=r.x+r.width/2-n.width/2,w=r.y+r.height/2-n.height/2,T=r[h]/2-n[h]/2;let P;switch(m){case"top":P={x:v,y:r.y-n.height};break;case"bottom":P={x:v,y:r.y+r.height};break;case"right":P={x:r.x+r.width,y:w};break;case"left":P={x:r.x-n.width,y:w};break;default:P={x:r.x,y:r.y}}switch(Di(t)){case"start":P[d]-=T*(s&&y?-1:1);break;case"end":P[d]+=T*(s&&y?-1:1);break}return P}const uL=async(e,t,s)=>{const{placement:r="bottom",strategy:n="absolute",middleware:u=[],platform:d}=s,h=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let y=await d.getElementRects({reference:e,floating:t,strategy:n}),{x:v,y:w}=$p(y,r,m),T=r,P={},O=0;for(let F=0;F<h.length;F++){const{name:j,fn:A}=h[F],{x:U,y:H,data:_,reset:x}=await A({x:v,y:w,initialPlacement:r,placement:T,strategy:n,middlewareData:P,rects:y,platform:d,elements:{reference:e,floating:t}});v=U??v,w=H??w,P={...P,[j]:{...P[j],..._}},x&&O<=50&&(O++,typeof x=="object"&&(x.placement&&(T=x.placement),x.rects&&(y=x.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:n}):x.rects),{x:v,y:w}=$p(y,T,m)),F=-1)}return{x:v,y:w,placement:T,strategy:n,middlewareData:P}};async function no(e,t){var s;t===void 0&&(t={});const{x:r,y:n,platform:u,rects:d,elements:h,strategy:m}=e,{boundary:y="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:T=!1,padding:P=0}=Vr(t,e),O=nh(P),j=h[T?w==="floating"?"reference":"floating":w],A=to(await u.getClippingRect({element:(s=await(u.isElement==null?void 0:u.isElement(j)))==null||s?j:j.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(h.floating)),boundary:y,rootBoundary:v,strategy:m})),U=w==="floating"?{x:r,y:n,width:d.floating.width,height:d.floating.height}:d.reference,H=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h.floating)),_=await(u.isElement==null?void 0:u.isElement(H))?await(u.getScale==null?void 0:u.getScale(H))||{x:1,y:1}:{x:1,y:1},x=to(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:U,offsetParent:H,strategy:m}):U);return{top:(A.top-x.top+O.top)/_.y,bottom:(x.bottom-A.bottom+O.bottom)/_.y,left:(A.left-x.left+O.left)/_.x,right:(x.right-A.right+O.right)/_.x}}const lL=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:n,rects:u,platform:d,elements:h,middlewareData:m}=t,{element:y,padding:v=0}=Vr(e,t)||{};if(y==null)return{};const w=nh(v),T={x:s,y:r},P=th(n),O=eh(P),F=await d.getDimensions(y),j=P==="y",A=j?"top":"left",U=j?"bottom":"right",H=j?"clientHeight":"clientWidth",_=u.reference[O]+u.reference[P]-T[P]-u.floating[O],x=T[P]-u.reference[P],k=await(d.getOffsetParent==null?void 0:d.getOffsetParent(y));let S=k?k[H]:0;(!S||!await(d.isElement==null?void 0:d.isElement(k)))&&(S=h.floating[H]||u.floating[O]);const B=_/2-x/2,D=S/2-F[O]/2-1,R=Ui(w[A],D),X=Ui(w[U],D),ee=R,q=S-F[O]-X,Z=S/2-F[O]/2+B,ne=sf(ee,Z,q),V=!m.arrow&&Di(n)!=null&&Z!==ne&&u.reference[O]/2-(Z<ee?R:X)-F[O]/2<0,te=V?Z<ee?Z-ee:Z-q:0;return{[P]:T[P]+te,data:{[P]:ne,centerOffset:Z-ne-te,...V&&{alignmentOffset:te}},reset:V}}});function cL(e,t,s){return(e?[...s.filter(n=>Di(n)===e),...s.filter(n=>Di(n)!==e)]:s.filter(n=>Ti(n)===n)).filter(n=>e?Di(n)===e||(t?ic(n)!==n:!1):!0)}const dL=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var s,r,n;const{rects:u,middlewareData:d,placement:h,platform:m,elements:y}=t,{crossAxis:v=!1,alignment:w,allowedPlacements:T=zp,autoAlignment:P=!0,...O}=Vr(e,t),F=w!==void 0||T===zp?cL(w||null,P,T):T,j=await no(t,O),A=((s=d.autoPlacement)==null?void 0:s.index)||0,U=F[A];if(U==null)return{};const H=Cv(U,u,await(m.isRTL==null?void 0:m.isRTL(y.floating)));if(h!==U)return{reset:{placement:F[0]}};const _=[j[Ti(U)],j[H[0]],j[H[1]]],x=[...((r=d.autoPlacement)==null?void 0:r.overflows)||[],{placement:U,overflows:_}],k=F[A+1];if(k)return{data:{index:A+1,overflows:x},reset:{placement:k}};const S=x.map(R=>{const X=Di(R.placement);return[R.placement,X&&v?R.overflows.slice(0,2).reduce((ee,q)=>ee+q,0):R.overflows[0],R.overflows]}).sort((R,X)=>R[1]-X[1]),D=((n=S.filter(R=>R[2].slice(0,Di(R[0])?2:3).every(X=>X<=0))[0])==null?void 0:n[0])||S[0][0];return D!==h?{data:{index:A+1,overflows:x},reset:{placement:D}}:{}}}},fL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:n,middlewareData:u,rects:d,initialPlacement:h,platform:m,elements:y}=t,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:F=!0,...j}=Vr(e,t);if((s=u.arrow)!=null&&s.alignmentOffset)return{};const A=Ti(n),U=vs(h),H=Ti(h)===h,_=await(m.isRTL==null?void 0:m.isRTL(y.floating)),x=T||(H||!F?[rc(h)]:rL(h)),k=O!=="none";!T&&k&&x.push(...aL(h,F,O,_));const S=[h,...x],B=await no(t,j),D=[];let R=((r=u.flip)==null?void 0:r.overflows)||[];if(v&&D.push(B[A]),w){const Z=Cv(n,d,_);D.push(B[Z[0]],B[Z[1]])}if(R=[...R,{placement:n,overflows:D}],!D.every(Z=>Z<=0)){var X,ee;const Z=(((X=u.flip)==null?void 0:X.index)||0)+1,ne=S[Z];if(ne)return{data:{index:Z,overflows:R},reset:{placement:ne}};let V=(ee=R.filter(te=>te.overflows[0]<=0).sort((te,ae)=>te.overflows[1]-ae.overflows[1])[0])==null?void 0:ee.placement;if(!V)switch(P){case"bestFit":{var q;const te=(q=R.filter(ae=>{if(k){const ve=vs(ae.placement);return ve===U||ve==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(ve=>ve>0).reduce((ve,ce)=>ve+ce,0)]).sort((ae,ve)=>ae[1]-ve[1])[0])==null?void 0:q[0];te&&(V=te);break}case"initialPlacement":V=h;break}if(n!==V)return{reset:{placement:V}}}return{}}}};function Up(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Gp(e){return Tv.some(t=>e[t]>=0)}const hL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...n}=Vr(e,t);switch(r){case"referenceHidden":{const u=await no(t,{...n,elementContext:"reference"}),d=Up(u,s.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Gp(d)}}}case"escaped":{const u=await no(t,{...n,altBoundary:!0}),d=Up(u,s.floating);return{data:{escapedOffsets:d,escaped:Gp(d)}}}default:return{}}}}};function Pv(e){const t=Ui(...e.map(u=>u.left)),s=Ui(...e.map(u=>u.top)),r=Cn(...e.map(u=>u.right)),n=Cn(...e.map(u=>u.bottom));return{x:t,y:s,width:r-t,height:n-s}}function pL(e){const t=e.slice().sort((n,u)=>n.y-u.y),s=[];let r=null;for(let n=0;n<t.length;n++){const u=t[n];!r||u.y-r.y>r.height/2?s.push([u]):s[s.length-1].push(u),r=u}return s.map(n=>to(Pv(n)))}const mL=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:s,elements:r,rects:n,platform:u,strategy:d}=t,{padding:h=2,x:m,y}=Vr(e,t),v=Array.from(await(u.getClientRects==null?void 0:u.getClientRects(r.reference))||[]),w=pL(v),T=to(Pv(v)),P=nh(h);function O(){if(w.length===2&&w[0].left>w[1].right&&m!=null&&y!=null)return w.find(j=>m>j.left-P.left&&m<j.right+P.right&&y>j.top-P.top&&y<j.bottom+P.bottom)||T;if(w.length>=2){if(vs(s)==="y"){const R=w[0],X=w[w.length-1],ee=Ti(s)==="top",q=R.top,Z=X.bottom,ne=ee?R.left:X.left,V=ee?R.right:X.right,te=V-ne,ae=Z-q;return{top:q,bottom:Z,left:ne,right:V,width:te,height:ae,x:ne,y:q}}const j=Ti(s)==="left",A=Cn(...w.map(R=>R.right)),U=Ui(...w.map(R=>R.left)),H=w.filter(R=>j?R.left===U:R.right===A),_=H[0].top,x=H[H.length-1].bottom,k=U,S=A,B=S-k,D=x-_;return{top:_,bottom:x,left:k,right:S,width:B,height:D,x:k,y:_}}return T}const F=await u.getElementRects({reference:{getBoundingClientRect:O},floating:r.floating,strategy:d});return n.reference.x!==F.reference.x||n.reference.y!==F.reference.y||n.reference.width!==F.reference.width||n.reference.height!==F.reference.height?{reset:{rects:F}}:{}}}};async function gL(e,t){const{placement:s,platform:r,elements:n}=e,u=await(r.isRTL==null?void 0:r.isRTL(n.floating)),d=Ti(s),h=Di(s),m=vs(s)==="y",y=["left","top"].includes(d)?-1:1,v=u&&m?-1:1,w=Vr(t,e);let{mainAxis:T,crossAxis:P,alignmentAxis:O}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof O=="number"&&(P=h==="end"?O*-1:O),m?{x:P*v,y:T*y}:{x:T*y,y:P*v}}const _L=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:n,y:u,placement:d,middlewareData:h}=t,m=await gL(t,e);return d===((s=h.offset)==null?void 0:s.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:n+m.x,y:u+m.y,data:{...m,placement:d}}}}},vL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:n}=t,{mainAxis:u=!0,crossAxis:d=!1,limiter:h={fn:j=>{let{x:A,y:U}=j;return{x:A,y:U}}},...m}=Vr(e,t),y={x:s,y:r},v=await no(t,m),w=vs(Ti(n)),T=Sv(w);let P=y[T],O=y[w];if(u){const j=T==="y"?"top":"left",A=T==="y"?"bottom":"right",U=P+v[j],H=P-v[A];P=sf(U,P,H)}if(d){const j=w==="y"?"top":"left",A=w==="y"?"bottom":"right",U=O+v[j],H=O-v[A];O=sf(U,O,H)}const F=h.fn({...t,[T]:P,[w]:O});return{...F,data:{x:F.x-s,y:F.y-r,enabled:{[T]:u,[w]:d}}}}}},yL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:n,rects:u,platform:d,elements:h}=t,{apply:m=()=>{},...y}=Vr(e,t),v=await no(t,y),w=Ti(n),T=Di(n),P=vs(n)==="y",{width:O,height:F}=u.floating;let j,A;w==="top"||w==="bottom"?(j=w,A=T===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(A=w,j=T==="end"?"top":"bottom");const U=F-v.top-v.bottom,H=O-v.left-v.right,_=Ui(F-v[j],U),x=Ui(O-v[A],H),k=!t.middlewareData.shift;let S=_,B=x;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(B=H),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=U),k&&!T){const R=Cn(v.left,0),X=Cn(v.right,0),ee=Cn(v.top,0),q=Cn(v.bottom,0);P?B=O-2*(R!==0||X!==0?R+X:Cn(v.left,v.right)):S=F-2*(ee!==0||q!==0?ee+q:Cn(v.top,v.bottom))}await m({...t,availableWidth:B,availableHeight:S});const D=await d.getDimensions(h.floating);return O!==D.width||F!==D.height?{reset:{rects:!0}}:{}}}};function Hc(){return typeof window<"u"}function pa(e){return ih(e)?(e.nodeName||"").toLowerCase():"#document"}function oi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gr(e){var t;return(t=(ih(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ih(e){return Hc()?e instanceof Node||e instanceof oi(e).Node:!1}function Gi(e){return Hc()?e instanceof Element||e instanceof oi(e).Element:!1}function pr(e){return Hc()?e instanceof HTMLElement||e instanceof oi(e).HTMLElement:!1}function Hp(e){return!Hc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oi(e).ShadowRoot}function Gu(e){const{overflow:t,overflowX:s,overflowY:r,display:n}=Hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!["inline","contents"].includes(n)}function bL(e){return["table","td","th"].includes(pa(e))}function Vc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function rh(e){const t=sh(),s=Gi(e)?Hi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function wL(e){let t=ys(e);for(;pr(t)&&!io(t);){if(rh(t))return t;if(Vc(t))return null;t=ys(t)}return null}function sh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function io(e){return["html","body","#document"].includes(pa(e))}function Hi(e){return oi(e).getComputedStyle(e)}function jc(e){return Gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ys(e){if(pa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hp(e)&&e.host||gr(e);return Hp(t)?t.host:t}function Iv(e){const t=ys(e);return io(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&Gu(t)?t:Iv(t)}function Cu(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const n=Iv(e),u=n===((r=e.ownerDocument)==null?void 0:r.body),d=oi(n);if(u){const h=af(d);return t.concat(d,d.visualViewport||[],Gu(n)?n:[],h&&s?Cu(h):[])}return t.concat(n,Cu(n,[],s))}function af(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Nv(e){const t=Hi(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const n=pr(e),u=n?e.offsetWidth:s,d=n?e.offsetHeight:r,h=nc(s)!==u||nc(r)!==d;return h&&(s=u,r=d),{width:s,height:r,$:h}}function ah(e){return Gi(e)?e:e.contextElement}function Ka(e){const t=ah(e);if(!pr(t))return dr(1);const s=t.getBoundingClientRect(),{width:r,height:n,$:u}=Nv(t);let d=(u?nc(s.width):s.width)/r,h=(u?nc(s.height):s.height)/n;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const kL=dr(0);function Mv(e){const t=oi(e);return!sh()||!t.visualViewport?kL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LL(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==oi(e)?!1:t}function ua(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const n=e.getBoundingClientRect(),u=ah(e);let d=dr(1);t&&(r?Gi(r)&&(d=Ka(r)):d=Ka(e));const h=LL(u,s,r)?Mv(u):dr(0);let m=(n.left+h.x)/d.x,y=(n.top+h.y)/d.y,v=n.width/d.x,w=n.height/d.y;if(u){const T=oi(u),P=r&&Gi(r)?oi(r):r;let O=T,F=af(O);for(;F&&r&&P!==O;){const j=Ka(F),A=F.getBoundingClientRect(),U=Hi(F),H=A.left+(F.clientLeft+parseFloat(U.paddingLeft))*j.x,_=A.top+(F.clientTop+parseFloat(U.paddingTop))*j.y;m*=j.x,y*=j.y,v*=j.x,w*=j.y,m+=H,y+=_,O=oi(F),F=af(O)}}return to({width:v,height:w,x:m,y})}function oh(e,t){const s=jc(e).scrollLeft;return t?t.left+s:ua(gr(e)).left+s}function Ov(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-(s?0:oh(e,r)),u=r.top+t.scrollTop;return{x:n,y:u}}function EL(e){let{elements:t,rect:s,offsetParent:r,strategy:n}=e;const u=n==="fixed",d=gr(r),h=t?Vc(t.floating):!1;if(r===d||h&&u)return s;let m={scrollLeft:0,scrollTop:0},y=dr(1);const v=dr(0),w=pr(r);if((w||!w&&!u)&&((pa(r)!=="body"||Gu(d))&&(m=jc(r)),pr(r))){const P=ua(r);y=Ka(r),v.x=P.x+r.clientLeft,v.y=P.y+r.clientTop}const T=d&&!w&&!u?Ov(d,m,!0):dr(0);return{width:s.width*y.x,height:s.height*y.y,x:s.x*y.x-m.scrollLeft*y.x+v.x+T.x,y:s.y*y.y-m.scrollTop*y.y+v.y+T.y}}function xL(e){return Array.from(e.getClientRects())}function TL(e){const t=gr(e),s=jc(e),r=e.ownerDocument.body,n=Cn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),u=Cn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-s.scrollLeft+oh(e);const h=-s.scrollTop;return Hi(r).direction==="rtl"&&(d+=Cn(t.clientWidth,r.clientWidth)-n),{width:n,height:u,x:d,y:h}}function SL(e,t){const s=oi(e),r=gr(e),n=s.visualViewport;let u=r.clientWidth,d=r.clientHeight,h=0,m=0;if(n){u=n.width,d=n.height;const y=sh();(!y||y&&t==="fixed")&&(h=n.offsetLeft,m=n.offsetTop)}return{width:u,height:d,x:h,y:m}}function CL(e,t){const s=ua(e,!0,t==="fixed"),r=s.top+e.clientTop,n=s.left+e.clientLeft,u=pr(e)?Ka(e):dr(1),d=e.clientWidth*u.x,h=e.clientHeight*u.y,m=n*u.x,y=r*u.y;return{width:d,height:h,x:m,y}}function Vp(e,t,s){let r;if(t==="viewport")r=SL(e,s);else if(t==="document")r=TL(gr(e));else if(Gi(t))r=CL(t,s);else{const n=Mv(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return to(r)}function Av(e,t){const s=ys(e);return s===t||!Gi(s)||io(s)?!1:Hi(s).position==="fixed"||Av(s,t)}function PL(e,t){const s=t.get(e);if(s)return s;let r=Cu(e,[],!1).filter(h=>Gi(h)&&pa(h)!=="body"),n=null;const u=Hi(e).position==="fixed";let d=u?ys(e):e;for(;Gi(d)&&!io(d);){const h=Hi(d),m=rh(d);!m&&h.position==="fixed"&&(n=null),(u?!m&&!n:!m&&h.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Gu(d)&&!m&&Av(e,d))?r=r.filter(v=>v!==d):n=h,d=ys(d)}return t.set(e,r),r}function IL(e){let{element:t,boundary:s,rootBoundary:r,strategy:n}=e;const d=[...s==="clippingAncestors"?Vc(t)?[]:PL(t,this._c):[].concat(s),r],h=d[0],m=d.reduce((y,v)=>{const w=Vp(t,v,n);return y.top=Cn(w.top,y.top),y.right=Ui(w.right,y.right),y.bottom=Ui(w.bottom,y.bottom),y.left=Cn(w.left,y.left),y},Vp(t,h,n));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function NL(e){const{width:t,height:s}=Nv(e);return{width:t,height:s}}function ML(e,t,s){const r=pr(t),n=gr(t),u=s==="fixed",d=ua(e,!0,u,t);let h={scrollLeft:0,scrollTop:0};const m=dr(0);if(r||!r&&!u)if((pa(t)!=="body"||Gu(n))&&(h=jc(t)),r){const T=ua(t,!0,u,t);m.x=T.x+t.clientLeft,m.y=T.y+t.clientTop}else n&&(m.x=oh(n));const y=n&&!r&&!u?Ov(n,h):dr(0),v=d.left+h.scrollLeft-m.x-y.x,w=d.top+h.scrollTop-m.y-y.y;return{x:v,y:w,width:d.width,height:d.height}}function Id(e){return Hi(e).position==="static"}function jp(e,t){if(!pr(e)||Hi(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return gr(e)===s&&(s=s.ownerDocument.body),s}function Rv(e,t){const s=oi(e);if(Vc(e))return s;if(!pr(e)){let n=ys(e);for(;n&&!io(n);){if(Gi(n)&&!Id(n))return n;n=ys(n)}return s}let r=jp(e,t);for(;r&&bL(r)&&Id(r);)r=jp(r,t);return r&&io(r)&&Id(r)&&!rh(r)?s:r||wL(e)||s}const OL=async function(e){const t=this.getOffsetParent||Rv,s=this.getDimensions,r=await s(e.floating);return{reference:ML(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AL(e){return Hi(e).direction==="rtl"}const RL={convertOffsetParentRelativeRectToViewportRelativeRect:EL,getDocumentElement:gr,getClippingRect:IL,getOffsetParent:Rv,getElementRects:OL,getClientRects:xL,getDimensions:NL,getScale:Ka,isElement:Gi,isRTL:AL};function DL(e,t){let s=null,r;const n=gr(e);function u(){var h;clearTimeout(r),(h=s)==null||h.disconnect(),s=null}function d(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),u();const{left:y,top:v,width:w,height:T}=e.getBoundingClientRect();if(h||t(),!w||!T)return;const P=yl(v),O=yl(n.clientWidth-(y+w)),F=yl(n.clientHeight-(v+T)),j=yl(y),U={rootMargin:-P+"px "+-O+"px "+-F+"px "+-j+"px",threshold:Cn(0,Ui(1,m))||1};let H=!0;function _(x){const k=x[0].intersectionRatio;if(k!==m){if(!H)return d();k?d(!1,k):r=setTimeout(()=>{d(!1,1e-7)},1e3)}H=!1}try{s=new IntersectionObserver(_,{...U,root:n.ownerDocument})}catch{s=new IntersectionObserver(_,U)}s.observe(e)}return d(!0),u}function Dv(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,y=ah(e),v=n||u?[...y?Cu(y):[],...Cu(t)]:[];v.forEach(A=>{n&&A.addEventListener("scroll",s,{passive:!0}),u&&A.addEventListener("resize",s)});const w=y&&h?DL(y,s):null;let T=-1,P=null;d&&(P=new ResizeObserver(A=>{let[U]=A;U&&U.target===y&&P&&(P.unobserve(t),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var H;(H=P)==null||H.observe(t)})),s()}),y&&!m&&P.observe(y),P.observe(t));let O,F=m?ua(e):null;m&&j();function j(){const A=ua(e);F&&(A.x!==F.x||A.y!==F.y||A.width!==F.width||A.height!==F.height)&&s(),F=A,O=requestAnimationFrame(j)}return s(),()=>{var A;v.forEach(U=>{n&&U.removeEventListener("scroll",s),u&&U.removeEventListener("resize",s)}),w==null||w(),(A=P)==null||A.disconnect(),P=null,m&&cancelAnimationFrame(O)}}const Bv=_L,BL=dL,Fv=vL,zv=fL,$v=yL,FL=hL,zL=lL,$L=mL,UL=(e,t,s)=>{const r=new Map,n={platform:RL,...s},u={...n.platform,_c:r};return uL(e,t,{...n,platform:u})};function GL(e){return e!=null&&typeof e=="object"&&"$el"in e}function of(e){if(GL(e)){const t=e.$el;return ih(t)&&pa(t)==="#comment"?null:t}return e}function Ga(e){return typeof e=="function"?e():W(e)}function HL(e){return{name:"arrow",options:e,fn(t){const s=of(Ga(e.element));return s==null?{}:zL({element:s,padding:e.padding}).fn(t)}}}function Uv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qp(e,t){const s=Uv(e);return Math.round(t*s)/s}function Gv(e,t,s){s===void 0&&(s={});const r=s.whileElementsMounted,n=he(()=>{var S;return(S=Ga(s.open))!=null?S:!0}),u=he(()=>Ga(s.middleware)),d=he(()=>{var S;return(S=Ga(s.placement))!=null?S:"bottom"}),h=he(()=>{var S;return(S=Ga(s.strategy))!=null?S:"absolute"}),m=he(()=>{var S;return(S=Ga(s.transform))!=null?S:!0}),y=he(()=>of(e.value)),v=he(()=>of(t.value)),w=Be(0),T=Be(0),P=Be(h.value),O=Be(d.value),F=Pn({}),j=Be(!1),A=he(()=>{const S={position:P.value,left:"0",top:"0"};if(!v.value)return S;const B=qp(v.value,w.value),D=qp(v.value,T.value);return m.value?{...S,transform:"translate("+B+"px, "+D+"px)",...Uv(v.value)>=1.5&&{willChange:"transform"}}:{position:P.value,left:B+"px",top:D+"px"}});let U;function H(){if(y.value==null||v.value==null)return;const S=n.value;UL(y.value,v.value,{middleware:u.value,placement:d.value,strategy:h.value}).then(B=>{w.value=B.x,T.value=B.y,P.value=B.strategy,O.value=B.placement,F.value=B.middlewareData,j.value=S!==!1})}function _(){typeof U=="function"&&(U(),U=void 0)}function x(){if(_(),r===void 0){H();return}if(y.value!=null&&v.value!=null){U=r(y.value,v.value,H);return}}function k(){n.value||(j.value=!1)}return it([u,d,h,n],H,{flush:"sync"}),it([y,v],x,{flush:"sync"}),it(n,k,{flush:"sync"}),$f()&&Vl(_),{x:za(w),y:za(T),strategy:za(P),placement:za(O),middlewareData:za(F),isPositioned:za(j),floatingStyles:A,update:H}}const VL=gv(Bk),jL=["id"],qL=["id"],WL=yt({inheritAttrs:!1,__name:"BPopover",props:Qn({boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},click:{type:Boolean,default:!1},closeOnHide:{type:Boolean,default:!1},content:{default:void 0},customClass:{default:""},delay:{default:()=>({show:100,hide:300})},floatingMiddleware:{default:void 0},hideMargin:{default:2},id:{default:void 0},inline:{type:Boolean,default:!1},manual:{type:Boolean,default:!1},noAutoClose:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noHide:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},noninteractive:{type:Boolean,default:!1},offset:{default:null},placement:{default:"top"},realtime:{type:Boolean,default:!1},reference:{default:null},strategy:{default:"absolute"},target:{default:null},title:{default:void 0},tooltip:{type:Boolean,default:!1},variant:{default:null},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Qn(["pointerleave","blur","click-outside","close-on-hide","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const n=Qt(e,"BPopover"),u=s,d=zu(),h=hr(e,"modelValue"),m=ha(()=>n.id,"popover"),y=Be(!1),v=un("_element"),w=un("_content"),T=un("_arrow"),P=un("_placeholder"),O=Be(null),F=Be(null),j=he(()=>n.placement.startsWith("auto")),A=Su(()=>n.offset??NaN),U=he(()=>lh(n.boundary)?n.boundary:void 0),H=he(()=>Hv(n.boundary)?n.boundary:void 0),_=Be({}),x=he(()=>{if(n.floatingMiddleware!==void 0)return n.floatingMiddleware;const Q=n.offset!==null?A.value:n.tooltip?6:8,se=[Bv(Q)];return n.noFlip===!1&&!j.value&&se.push(zv({boundary:U.value,rootBoundary:H.value,padding:n.boundaryPadding})),j.value&&se.push(BL({alignment:n.placement.split("-")[1]||void 0,boundary:U.value,rootBoundary:H.value,padding:n.boundaryPadding})),n.noShift===!1&&se.push(Fv({boundary:U.value,rootBoundary:H.value,padding:n.boundaryPadding})),n.noHide===!1&&se.push(FL({boundary:U.value,rootBoundary:H.value,padding:n.boundaryPadding})),n.inline===!0&&se.push($L()),se.push(HL({element:T,padding:10})),n.noSize===!1&&se.push($v({boundary:U.value,rootBoundary:H.value,padding:n.boundaryPadding,apply({availableWidth:_e,availableHeight:Le}){var we,Y;_.value={maxHeight:Le>=(((we=w.value)==null?void 0:we.scrollHeight)??0)?void 0:Le?`${Math.max(0,Le)}px`:void 0,maxWidth:_e>=(((Y=w.value)==null?void 0:Y.scrollWidth)??0)?void 0:_e?`${Math.max(0,_e)}px`:void 0}}})),se}),k=he(()=>j.value?void 0:n.placement),{floatingStyles:S,middlewareData:B,placement:D,update:R}=Gv(O,v,{placement:k,middleware:x,strategy:Jt(()=>n.strategy)}),X=Be({position:"absolute"});it(B,Q=>{var se,_e;if(n.noHide===!1&&((se=Q.hide)!=null&&se.referenceHidden&&!y.value&&q.value?n.closeOnHide&&!n.noAutoClose&&!n.manual?te("close-on-hide"):(Ae.value=!0,y.value=!0):Ae.value&&!((_e=Q.hide)!=null&&_e.referenceHidden)&&(Ae.value=!1,y.value=!1)),Q.arrow){const{x:Le,y:we}=Q.arrow;X.value={position:"absolute",top:we?`${we}px`:"",left:Le?`${Le}px`:""}}});let ee;const{showRef:q,hide:Z,show:ne,toggle:V,throttleHide:te,computedNoAnimation:ae,transitionProps:ve,contentShowing:ce,isVisible:ke,renderRef:De,localTemporaryHide:Ae}=Gc(h,n,u,v,m,{showFn:()=>{R(),Li(()=>{ee=Dv(O.value,v.value,R,{animationFrame:n.realtime})})},hideFn:()=>{ee&&(ee(),ee=void 0)}}),Pe=he(()=>{const Q=n.tooltip?"tooltip":"popover";return[Q,`b-${Q}`,{[`b-${Q}-${n.variant}`]:n.variant!==null,show:ke.value&&!y.value,fade:!ae.value,[`${n.customClass}`]:n.customClass!==void 0,[`bs-${Q}-${ZL(D.value)}`]:D.value!==void 0}]}),{x:Ee,y:xe}=VL(),de=()=>{var Q,se;const _e=(Q=F.value)==null?void 0:Q.getBoundingClientRect(),Le=(se=v.value)==null?void 0:se.getBoundingClientRect(),we=parseInt(n.hideMargin,10)||0,Y=(window==null?void 0:window.scrollX)||0,z=(window==null?void 0:window.scrollY)||0,oe=!_e||Ee.value<_e.left+Y-we||Ee.value>_e.right+Y+we||xe.value<_e.top+z-we||xe.value>_e.bottom+z+we,me=!Le||Ee.value<Le.left+Y-we||Ee.value>Le.right+Y+we||xe.value<Le.top+z-we||xe.value>Le.bottom+z+we;return{triggerIsOutside:oe,isOutside:me}};let K;const Te=Q=>{var se,_e;const{triggerIsOutside:Le,isOutside:we}=de();!n.noninteractive&&we&&Le&&!((se=v.value)!=null&&se.contains(document==null?void 0:document.activeElement))&&!((_e=F.value)!=null&&_e.contains(document==null?void 0:document.activeElement))||n.noninteractive&&Le?Z(Q==null?void 0:Q.type):(K&&clearTimeout(K),K=setTimeout(()=>{Te(Q)},50))};it(ke,()=>{R()}),t({hide:Z,show:ne,toggle:V});const Ne=Q=>{q.value?Z(Q.type==="click"?"click":"toggle"):ne()},Me=()=>{var Q;if(n.target){const se=ec(mt(n.target));se?F.value=se:console.warn("Target element not found",n.target)}else F.value=(Q=P.value)==null?void 0:Q.nextElementSibling;if(n.reference){const se=ec(mt(n.reference));se?O.value=se:console.warn("Reference element not found",n.reference)}else O.value=F.value;if(!(!F.value||n.manual)){if(n.click){F.value.addEventListener("click",Ne);return}F.value.addEventListener("pointerenter",ne),F.value.addEventListener("pointerleave",Te),F.value.addEventListener("focus",ne),F.value.addEventListener("blur",Te)}},N=()=>{F.value&&(F.value.removeEventListener("click",Ne),F.value.removeEventListener("pointerenter",ne),F.value.removeEventListener("pointerleave",Te),F.value.removeEventListener("focus",ne),F.value.removeEventListener("blur",Te))};return bv(v,()=>{q.value&&n.click&&!n.noAutoClose&&!n.manual&&Z("click-outside")},{ignore:[F]}),it([()=>n.click,()=>n.target,()=>n.reference],()=>{N(),Me()}),qi(()=>{Me(),Li(()=>{R()})}),Rc(N),(Q,se)=>(ge(),Oe(ht,null,[le("span",{id:W(m)+"_placeholder",ref:"_placeholder",style:{display:"none"}},null,8,jL),lt(Q.$slots,"target",{show:W(ne),hide:W(Z),toggle:W(V),visible:W(q)},void 0,!0),Ge(Jf,{to:W(n).teleportTo,disabled:!W(n).teleportTo||W(n).teleportDisabled},{default:qe(()=>[W(De)||W(ce)?(ge(),nt(xu,Rt({key:0},W(ve),{appear:h.value||W(n).visible}),{default:qe(()=>[tn(le("div",Rt({id:W(m)},Q.$attrs,{ref:"_element",class:Pe.value,role:"tooltip",tabindex:"-1",style:W(S)}),[le("div",{ref:"_arrow",class:wt(`${W(n).tooltip?"tooltip":"popover"}-arrow`),style:zi(X.value),"data-popper-arrow":""},null,6),le("div",{ref:"_content",class:"overflow-auto",style:zi(_.value)},[W(n).title||d.title?(ge(),Oe("div",{key:0,class:wt(["position-sticky top-0",W(n).tooltip?"tooltip-inner":"popover-header"])},[lt(Q.$slots,"title",{},()=>[tt(ze(W(n).title),1)],!0)],2)):ft("",!0),W(n).tooltip&&!d.title&&!W(n).title||!W(n).tooltip?(ge(),Oe("div",{key:1,class:wt(W(n).tooltip?"tooltip-inner":"popover-body")},[lt(Q.$slots,"default",{},()=>[tt(ze(W(n).content),1)],!0)],2)):ft("",!0)],4)],16,qL),[[Tu,W(q)&&!y.value]])]),_:3},16,["appear"])):ft("",!0)]),_:3},8,["to","disabled"])],64))}}),uh=Qf(WL,[["__scopeId","data-v-d4670342"]]),ZL=e=>{const[t]=e.split("-");switch(t){case"left":return"start";case"right":return"end";default:return t}},YL=e=>{const[t]=e.split("-");switch(t){case"left":return"start";case"right":return"end";case"top":return"up";case"bottom":return"down";default:return t}},lh=e=>e==="clippingAncestors"||e instanceof Element||Array.isArray(e),Hv=e=>!lh(e),Vv=(e,t)=>[...t].reduce((s,r)=>(s[r]=e[r],s),{}),Xo=(e,t,s)=>{const r=t.split(/[.[\]]/g);let n=e;for(const u of r){if(n===null||n===void 0)return s;u.trim()!==""&&(n=n[u])}return n===void 0?s:n},jv=yt({inheritAttrs:!1,__name:"BCollapse",props:Qn({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},tag:{default:"div"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noFade:{type:Boolean},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Qn(["hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const n=Qt(e,"BCollapse"),u=s,d=hr(e,"modelValue"),h=ha(()=>n.id,"collapse"),m=un("_element");let y=!1;const v=R=>{y=!0,requestAnimationFrame(()=>{n.horizontal?R.style.width=`${R.scrollWidth}px`:R.style.height=`${R.scrollHeight}px`})},w=R=>{y||(n.horizontal?R.style.width=`${R.scrollWidth}px`:R.style.height=`${R.scrollHeight}px`,R.offsetHeight)},T=R=>{requestAnimationFrame(()=>{n.horizontal?R.style.width="":R.style.height=""})},P=R=>{R.style.height="",R.style.width="",y=!1},O=R=>{R.style.height="",R.style.width="",y=!1},{showRef:F,renderRef:j,hide:A,show:U,toggle:H,isActive:_,computedNoAnimation:x,contentShowing:k,transitionProps:S}=Gc(d,n,u,m,h,{transitionProps:{onBeforeLeave:w,onEnter:v,onLeave:T,onAfterEnter:P,onAfterLeave:O,enterToClass:"",leaveToClass:"",enterFromClass:"",leaveFromClass:"",enterActiveClass:"",leaveActiveClass:""}}),B=he(()=>({show:_.value,"navbar-collapse":n.isNav,"collapse-horizontal":n.horizontal})),D=he(()=>({toggle:H,show:U,hide:A,id:h.value,visible:F.value}));return t({hide:A,isNav:n.isNav,show:U,toggle:H,visible:Gn(F)}),hs(Xf,{id:h,hide:A,show:U,toggle:H,visible:Gn(F),isNav:Jt(()=>n.isNav)}),(R,X)=>(ge(),Oe(ht,null,[lt(R.$slots,"header",wi(ar(D.value))),W(j)||W(k)?(ge(),nt(xu,Rt({key:0},W(S),{"enter-active-class":W(x)?"":"collapsing","leave-active-class":W(x)?"":"collapsing",appear:d.value||W(n).visible}),{default:qe(()=>[tn((ge(),nt(Hr(W(n).tag),Rt({id:W(h),ref:"_element",class:["collapse",B.value],"is-nav":W(n).isNav},R.$attrs),{default:qe(()=>[W(k)?lt(R.$slots,"default",wi(Rt({key:0},D.value))):ft("",!0)]),_:3},16,["id","class","is-nav"])),[[Tu,W(F)]])]),_:3},16,["enter-active-class","leave-active-class","appear"])):ft("",!0),lt(R.$slots,"footer",wi(ar(D.value)))],64))}}),XL=["type","disabled","aria-label"],KL=yt({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const r=Qt(e,"BCloseButton"),n=t;return(u,d)=>(ge(),Oe("button",{type:W(r).type,class:"btn-close",disabled:W(r).disabled,"aria-label":W(r).ariaLabel,onClick:d[0]||(d[0]=h=>n("click",h))},null,8,XL))}}),ch=e=>((e==null?void 0:e())??[]).length===0,Ja=e=>he(()=>{let t=mt(e);return t={variant:t.variant??null,bgVariant:t.bgVariant??null,textVariant:t.textVariant??null,borderVariant:t.borderVariant??null},{[`text-bg-${t.variant}`]:t.variant!==null,[`text-${t.textVariant}`]:t.textVariant!==null,[`bg-${t.bgVariant}`]:t.bgVariant!==null,[`border-${t.borderVariant}`]:t.borderVariant!==null}}),JL={key:0,class:"visually-hidden"},QL=yt({__name:"BSpinner",props:{label:{default:void 0},role:{default:"status"},small:{type:Boolean,default:!1},tag:{default:"span"},type:{default:"border"},variant:{default:null}},setup(e){const s=Qt(e,"BSpinner"),r=zu(),n=Ja(he(()=>({textVariant:s.variant}))),u=he(()=>[`spinner-${s.type}`,n.value,{[`spinner-${s.type}-sm`]:s.small}]),d=he(()=>!ch(r.label));return(h,m)=>(ge(),nt(Hr(W(s).tag),{class:wt(u.value),role:W(s).label||d.value?W(s).role:null,"aria-hidden":W(s).label||d.value?null:!0},{default:qe(()=>[W(s).label||d.value?(ge(),Oe("span",JL,[lt(h.$slots,"label",{},()=>[tt(ze(W(s).label),1)])])):ft("",!0)]),_:3},8,["class","role","aria-hidden"]))}}),eE=e=>e.replace(/-./g,t=>t.charAt(1).toUpperCase()).replace(/\b\w/g,t=>t.toUpperCase()).replace(/\s+/g,""),tE=e=>!!(e.href||e.to),dh=(e,t)=>{const s=Gn(Jt(t)),r=Gn(Jt(e)),n=he(()=>tE(r.value)),u=he(()=>n.value?Vv(r.value,s.value??["active","activeClass","append","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover"]):{});return{computedLink:n,computedLinkProps:u}},nE=e=>{const t=ei(),s=t==null?void 0:t.appContext.app.config.globalProperties.$router,r=t==null?void 0:t.appContext.app.config.globalProperties.$route,n=Hr("RouterLink"),u=typeof n=="string"?null:n.useLink,d=Jt(e),h=Jt(()=>d.value.to||""),m=Jt(()=>d.value.replace),y=he(()=>eE(d.value.routerComponentName)),v=he(()=>!((t==null?void 0:t.appContext.app.component(y.value))!==void 0)||d.value.disabled||!d.value.to?"a":y.value),w=he(()=>v.value==="RouterLink"),T=he(()=>w.value&&typeof(t==null?void 0:t.appContext.app.$nuxt)<"u"),P=he(()=>v.value!=="a"&&!w.value&&!T.value),O=he(()=>w.value||T.value),F=he(()=>({to:h.value,replace:m.value})),j=u==null?void 0:u({to:h,replace:m}),A=he(()=>O.value?j:null),U=he(()=>{var H;if((H=A.value)!=null&&H.href.value)return A.value.href.value;const _="#";if(d.value.href)return d.value.href;if(typeof d.value.to=="string")return d.value.to||_;const{to:x}=d.value;if(x!==void 0&&"path"in x){const k=x.path||"",S=x.query?`?${Object.keys(x.query).map(D=>{var R;return`${D}=${(R=x.query)==null?void 0:R[D]}`}).join("=")}`:"",B=!x.hash||x.hash.charAt(0)==="#"?x.hash||"":`#${x.hash}`;return`${k}${S}${B}`||_}return _});return{isNonStandardTag:P,tag:v,isRouterLink:w,isNuxtLink:T,computedHref:U,routerName:y,router:s,route:r,link:A,linkProps:F}},qv=e=>he(()=>{const t=mt(e);return{[`link-${t.variant}`]:t.variant!==null,[`link-opacity-${t.opacity}`]:t.opacity!==void 0,[`link-opacity-${t.opacityHover}-hover`]:t.opacityHover!==void 0,[`link-underline-${t.underlineVariant}`]:t.underlineVariant!==null,[`link-offset-${t.underlineOffset}`]:t.underlineOffset!==void 0,[`link-offset-${t.underlineOffsetHover}-hover`]:t.underlineOffsetHover!==void 0,"link-underline":t.underlineVariant===null&&(t.underlineOpacity!==void 0||t.underlineOpacityHover!==void 0),[`link-underline-opacity-${t.underlineOpacity}`]:t.underlineOpacity!==void 0,[`link-underline-opacity-${t.underlineOpacityHover}-hover`]:t.underlineOpacityHover!==void 0,"icon-link":t.icon===!0}}),Wp="active",qc=yt({__name:"BLink",props:{active:{type:Boolean,default:void 0},activeClass:{default:"router-link-active"},disabled:{type:Boolean,default:!1},exactActiveClass:{default:"router-link-exact-active"},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean,default:!1},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean,default:void 0},prefetchOn:{default:void 0},noPrefetch:{type:Boolean,default:void 0},prefetchedClass:{default:void 0},rel:{default:void 0},replace:{type:Boolean,default:!1},routerComponentName:{default:"router-link"},routerTag:{default:"a"},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null},variant:{default:null}},emits:["click"],setup(e,{emit:t}){const r=Qt(e,"BLink"),n=t,u=Bc(),{computedHref:d,tag:h,link:m,isNuxtLink:y,isRouterLink:v,linkProps:w,isNonStandardTag:T}=nE(he(()=>({routerComponentName:r.routerComponentName,disabled:r.disabled,to:r.to,replace:r.replace,href:r.href}))),P=Gt(Xf,null),O=Gt(Kf,null),F=qv(r),j=he(()=>{var S,B;return[F.value,u.class,A.value,{[Wp]:r.active,[r.activeClass]:((S=m.value)==null?void 0:S.isActive.value)||!1,[r.exactActiveClass]:((B=m.value)==null?void 0:B.isExactActive.value)||!1,"stretched-link":r.stretched===!0}]}),A=he(()=>({[Wp]:r.active,disabled:r.disabled})),U=S=>{var B,D,R;if(r.disabled){S.preventDefault(),S.stopImmediatePropagation();return}(((B=P==null?void 0:P.isNav)==null?void 0:B.value)===!0&&O===null||O!==null&&((D=O.autoClose)==null?void 0:D.value)===!0)&&((R=P==null?void 0:P.hide)==null||R.call(P)),n("click",S)},H=he(()=>r.target==="_blank"?!r.rel&&r.noRel?"noopener":r.rel:void 0),_=he(()=>r.disabled?"-1":typeof u.tabindex>"u"?null:u.tabindex),x=he(()=>({prefetch:r.prefetch,noPrefetch:r.noPrefetch,prefetchOn:r.prefetchOn,prefetchedClass:r.prefetchedClass,...w.value})),k=he(()=>({...v.value?w.value:void 0,...y.value||T.value?x.value:void 0}));return(S,B)=>(ge(),nt(Hr(W(h)),Rt({class:j.value,target:W(r).target,href:W(d),rel:H.value,tabindex:_.value,"aria-disabled":W(r).disabled?!0:null},k.value,{onClick:B[0]||(B[0]=D=>{var R;U(D),(R=W(m))==null||R.navigate(D)})}),{default:qe(()=>[lt(S.$slots,"default")]),_:3},16,["class","target","href","rel","tabindex","aria-disabled"]))}}),ps=yt({__name:"BButton",props:Qn({loading:{type:Boolean,default:!1},loadingFill:{type:Boolean,default:!1},loadingText:{default:"Loading..."},pill:{type:Boolean,default:!1},size:{default:"md"},squared:{type:Boolean,default:!1},tag:{default:"button"},type:{default:"button"},variant:{default:"secondary"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},routerTag:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null}},{pressed:{type:Boolean,default:void 0},pressedModifiers:{}}),emits:Qn(["click"],["update:pressed"]),setup(e,{emit:t}){const r=Qt(e,"BButton"),n=t,u=un("_element"),d=hr(e,"pressed"),{computedLink:h,computedLinkProps:m}=dh(r,["active-class","exact-active-class","replace","routerComponentName","routerTag"]),y=he(()=>typeof d.value=="boolean"),v=he(()=>r.tag==="button"&&r.href===void 0&&r.to===void 0),w=he(()=>r.to!==void 0),T=he(()=>r.href!==void 0?!1:!v.value),P=he(()=>w.value?m.value:[]),O=he(()=>r.href==="#"&&r.disabled?!0:T.value?r.disabled:null),F=he(()=>{var x;return((x=r.variant)==null?void 0:x.startsWith("link"))||!1}),j=he(()=>{var x;return((x=r.variant)==null?void 0:x.startsWith("link-"))||!1}),A=qv(he(()=>{var x;return{...F.value?{icon:r.icon,opacity:r.opacity,opacityHover:r.opacityHover,underlineOffset:r.underlineOffset,underlineOffsetHover:r.underlineOffsetHover,underlineOpacity:r.underlineOpacity,underlineOpacityHover:r.underlineOpacityHover,underlineVariant:r.underlineVariant,variant:j.value===!0?(x=r.variant)==null?void 0:x.slice(5):null}:void 0}})),U=he(()=>[F.value===!0&&h.value===!1?A.value:void 0,[`btn-${r.size}`],{[`btn-${r.variant}`]:r.variant!==null&&j.value===!1,active:r.active||d.value,"rounded-pill":r.pill,"rounded-0":r.squared,disabled:r.disabled}]),H=he(()=>w.value?qc:r.href?"a":r.tag),_=x=>{if(r.disabled){x.preventDefault(),x.stopPropagation();return}n("click",x),y.value&&(d.value=!d.value)};return cs([" ","enter"],x=>{var k;r.href==="#"&&(x.preventDefault(),(k=u.value)==null||k.click())},{target:u}),(x,k)=>(ge(),nt(Hr(H.value),Rt({ref:"_element",class:"btn"},P.value,{class:U.value,"aria-disabled":O.value,"aria-pressed":y.value?d.value:null,autocomplete:y.value?"off":null,disabled:v.value?W(r).disabled:null,href:W(r).href,rel:W(h)?W(r).rel:null,role:T.value||W(h)?"button":null,target:W(h)?W(r).target:null,type:v.value?W(r).type:null,to:v.value?null:W(r).to,onClick:_}),{default:qe(()=>[W(r).loading?lt(x.$slots,"loading",{key:0},()=>[W(r).loadingFill?ft("",!0):(ge(),Oe(ht,{key:0},[tt(ze(W(r).loadingText),1)],64)),lt(x.$slots,"loading-spinner",{},()=>[Ge(QL,{small:W(r).size!=="lg",label:W(r).loadingFill?W(r).loadingText:void 0},null,8,["small","label"])])]):lt(x.$slots,"default",{key:1})]),_:3},16,["class","aria-disabled","aria-pressed","autocomplete","disabled","href","rel","role","target","type","to"]))}}),Wv=yt({name:"ConditionalWrapper",inheritAttrs:!1,props:{tag:{type:String,default:"div"},skip:{type:Boolean,required:!0}},slots:Object,setup(e,{slots:t,attrs:s}){return()=>{var r,n;return e.skip?(r=t.default)==null?void 0:r.call(t,{}):$r(e.tag,{...s},[(n=t.default)==null?void 0:n.call(t,{})])}}}),iE=e=>he(()=>{const t=mt(e);return t?`justify-content-${t}`:""}),rE={class:"visually-hidden"},sE=["id","aria-labelledby","role"],aE=yt({__name:"BDropdown",props:Qn({ariaLabel:{default:void 0},autoClose:{type:[Boolean,String],default:!0},boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},disabled:{type:Boolean,default:!1},floatingMiddleware:{default:void 0},id:{default:void 0},isNav:{type:Boolean,default:!1},menuClass:{default:void 0},noCaret:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},offset:{default:0},role:{default:"menu"},size:{default:"md"},noWrapper:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitButtonType:{default:"button"},splitClass:{default:void 0},splitDisabled:{type:Boolean,default:void 0},splitHref:{default:void 0},splitTo:{default:void 0},splitVariant:{default:void 0},strategy:{default:"absolute"},text:{default:void 0},toggleClass:{default:void 0},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"},wrapperClass:{default:void 0},placement:{default:"bottom-start"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Qn(["split-click","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const n=Qt(e,"BDropdown"),u=s,d=ha(()=>n.id,"dropdown"),h=hr(e,"modelValue"),m=Gt(mk,!1),y=Gt(gk,!1),v=he(()=>typeof n.offset=="string"||typeof n.offset=="number"?n.offset:NaN),w=Su(v),T=un("_floating"),P=un("_button"),O=un("_splitButton"),F=he(()=>lh(n.boundary)?n.boundary:void 0),j=he(()=>Hv(n.boundary)?n.boundary:void 0),A=he(()=>n.split?P.value:O.value),{showRef:U,renderRef:H,hide:_,show:x,toggle:k,computedNoAnimation:S,transitionProps:B,contentShowing:D,isVisible:R}=Gc(h,n,u,A,d),X=he(()=>[{show:R.value,fade:!S.value}]);cs("Escape",()=>{var Ae;_(),(Ae=ec(A.value))==null||Ae.focus()},{target:A}),cs("Escape",()=>{var Ae;_(),(Ae=ec(A.value))==null||Ae.focus()},{target:T});const ee=(Ae,Pe)=>{var Ee,xe,de,K,Te,Ne,Me;if((xe=T.value)!=null&&xe.contains((Ee=Ae.target)==null?void 0:Ee.closest("form"))||/input|select|option|textarea|form/i.test((de=Ae.target)==null?void 0:de.tagName))return;if(Ae.preventDefault(),!U.value){x();const Q=setInterval(()=>{R.value&&(clearInterval(Q),Li(()=>ee(Ae,Pe)))},16);return}const N=(K=T.value)==null?void 0:K.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)");if(N)if((Te=T.value)!=null&&Te.contains(document.activeElement)){const Q=T.value.querySelector(".dropdown-item:focus"),se=Array.prototype.indexOf.call(N,Q)+Pe;se>=0&&se<(N==null?void 0:N.length)&&((Ne=N[se])==null||Ne.focus())}else(Me=N[Pe===-1?N.length-1:0])==null||Me.focus()};cs("ArrowUp",Ae=>ee(Ae,-1),{target:A}),cs("ArrowDown",Ae=>ee(Ae,1),{target:A}),cs("ArrowUp",Ae=>ee(Ae,-1),{target:T}),cs("ArrowDown",Ae=>ee(Ae,1),{target:T});const q=Be({}),Z=he(()=>{if(n.floatingMiddleware!==void 0)return n.floatingMiddleware;const Ae=typeof n.offset=="string"||typeof n.offset=="number"?w.value:n.offset,Pe=[Bv(Ae)];return n.noFlip===!1&&Pe.push(zv({boundary:F.value,rootBoundary:j.value,padding:n.boundaryPadding})),n.noShift===!1&&Pe.push(Fv({boundary:F.value,rootBoundary:j.value,padding:n.boundaryPadding})),n.noSize===!1&&Pe.push($v({boundary:F.value,rootBoundary:j.value,padding:n.boundaryPadding,apply({availableWidth:Ee,availableHeight:xe}){var de,K;q.value={maxHeight:xe>=(((de=T.value)==null?void 0:de.scrollHeight)??0)?void 0:xe?`${Math.max(0,xe)}px`:void 0,maxWidth:Ee>=(((K=T.value)==null?void 0:K.scrollWidth)??0)?void 0:Ee?`${Math.max(0,Ee)}px`:void 0}}})),Pe}),{update:ne,floatingStyles:V}=Gv(A,T,{placement:()=>n.placement,middleware:Z,strategy:Jt(()=>n.strategy),whileElementsMounted:Dv}),te=y?{class:"btn-group",role:"group"}:void 0,ae=he(()=>[te==null?void 0:te.class,n.wrapperClass,{"btn-group":!n.wrapperClass&&n.split,[`drop${YL(n.placement)}`]:!n.wrapperClass,"position-static":n.boundary!=="clippingAncestors"&&!n.isNav}]),ve=he(()=>[n.split?n.splitClass:n.toggleClass,{"nav-link":n.isNav,"dropdown-toggle":!n.split,"dropdown-toggle-no-caret":n.noCaret&&!n.split,show:n.split?void 0:U.value}]),ce=()=>{k()},ke=Ae=>{if(n.split){u("split-click",Ae);return}ce()};bv(T,()=>{U.value&&(n.autoClose===!0||n.autoClose==="outside")&&_()},{ignore:[P,O]});const De=()=>{U.value&&(n.autoClose===!0||n.autoClose==="inside")&&_()};return it(R,()=>{ne()}),t({hide:_,show:x,toggle:k}),hs(pv,{id:d,show:x,hide:_,toggle:k,visible:Jt(()=>U.value),isNav:Jt(()=>n.isNav)}),(Ae,Pe)=>{var Ee;return ge(),nt(Wv,{skip:W(m)||W(n).noWrapper,class:wt(ae.value),role:(Ee=W(te))==null?void 0:Ee.role},{default:qe(()=>[Ge(ps,{id:W(d),ref:"_splitButton",variant:W(n).splitVariant||W(n).variant,size:W(n).size,class:wt(ve.value),disabled:W(n).splitDisabled||W(n).disabled,type:W(n).splitButtonType,"aria-label":W(n).ariaLabel,"aria-expanded":W(n).split?void 0:W(U),"aria-haspopup":W(n).split?void 0:"menu",href:W(n).split?W(n).splitHref:void 0,to:W(n).split&&W(n).splitTo?W(n).splitTo:void 0,onClick:ke},{default:qe(()=>[lt(Ae.$slots,"button-content",{},()=>[tt(ze(W(n).text),1)],!0)]),_:3},8,["id","variant","size","class","disabled","type","aria-label","aria-expanded","aria-haspopup","href","to"]),W(n).split?(ge(),nt(ps,{key:0,id:W(d)+"-split",ref:"_button",variant:W(n).variant,size:W(n).size,disabled:W(n).disabled,class:wt([[W(n).toggleClass,{show:W(U)}],"dropdown-toggle-split dropdown-toggle"]),"aria-expanded":W(U),"aria-haspopup":"menu",onClick:ce},{default:qe(()=>[le("span",rE,[lt(Ae.$slots,"toggle-text",{},()=>[tt(ze(W(n).toggleText),1)],!0)])]),_:3},8,["id","variant","size","disabled","class","aria-expanded"])):ft("",!0),Ge(Jf,{to:W(n).teleportTo,disabled:!W(n).teleportTo||W(n).teleportDisabled},{default:qe(()=>[W(H)||W(D)?(ge(),nt(xu,Rt({key:0},W(B),{appear:h.value||W(n).visible}),{default:qe(()=>[tn(le("ul",{id:W(d)+"-menu",ref:"_floating",style:zi([W(V),q.value]),class:wt(["dropdown-menu overflow-auto",[W(n).menuClass,X.value]]),"aria-labelledby":W(d),role:W(n).role,onClick:De},[W(D)?lt(Ae.$slots,"default",{key:0,hide:W(_),show:W(x),visible:W(U)},void 0,!0):ft("",!0)],14,sE),[[Tu,W(U)]])]),_:3},16,["appear"])):ft("",!0)]),_:3},8,["to","disabled"])]),_:3},8,["skip","class","role"])}}}),oE=Qf(aE,[["__scopeId","data-v-8ac2524d"]]),uE=yt({inheritAttrs:!1,__name:"BDropdownItem",props:{linkClass:{default:void 0},wrapperAttrs:{default:void 0},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:null}},emits:["click"],setup(e,{emit:t}){const r=Qt(e,"BDropdownItem"),n=t,u=Bc(),d=he(()=>{const{class:j,...A}=u;return{wrapperClass:j,dropdownItemAttrs:A}}),{computedLink:h,computedLinkProps:m}=dh(r),y=Ja(he(()=>({textVariant:r.variant}))),v=he(()=>[r.linkClass,y.value,{active:r.active,disabled:r.disabled}]),w=he(()=>h.value?qc:r.href?"a":"button"),T=Gt(Xf,null),P=Gt(pv,null),O=Gt(Kf,null),F=j=>{var A,U,H;n("click",j),O!==null&&((A=O==null?void 0:O.autoClose)==null?void 0:A.value)===!0&&((U=T==null?void 0:T.hide)==null||U.call(T)),(H=P==null?void 0:P.hide)==null||H.call(P)};return(j,A)=>(ge(),Oe("li",Rt({role:"presentation",class:d.value.wrapperClass},W(r).wrapperAttrs),[(ge(),nt(Hr(w.value),Rt({class:["dropdown-item",v.value],disabled:W(r).disabled,"aria-disabled":W(r).disabled?!0:null,"aria-current":W(r).active?!0:null,href:w.value==="a"?W(r).href:null,rel:W(r).rel,role:"menuitem",type:w.value==="button"?"button":null,target:W(r).target},{...W(m),...d.value.dropdownItemAttrs},{onClick:F}),{default:qe(()=>[lt(j.$slots,"default")]),_:3},16,["class","disabled","aria-disabled","aria-current","href","rel","type","target"]))],16))}}),lE=["id","novalidate"],cE=yt({__name:"BForm",props:{floating:{type:Boolean,default:!1},id:{default:void 0},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},setup(e,{expose:t}){const r=Qt(e,"BForm"),n=un("_element"),u=he(()=>({"form-floating":r.floating,"was-validated":r.validated}));return t({element:n}),(d,h)=>(ge(),Oe("form",{id:W(r).id,ref:"_element",novalidate:W(r).novalidate,class:wt(u.value)},[lt(d.$slots,"default")],10,lE))}}),dE=["value","disabled"],fh=yt({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(e){const s=Qt(e,"BFormSelectOption");return(r,n)=>(ge(),Oe("option",{value:W(s).value,disabled:W(s).disabled},[lt(r.$slots,"default")],8,dE))}}),Zv=(e,t)=>{const s=d=>typeof d=="object"&&d!==null&&"label"in d,r=d=>{const h=mt(t);if(typeof d=="string")return{value:d,text:d};if(typeof d=="number")return{value:d,text:`${d}`};if(d instanceof Date)return{value:d,text:d.toLocaleString()};const m=Xo(d,h.valueField),y=Xo(d,h.textField),v=Xo(d,h.disabledField),w=h.optionsField?Xo(d,h.optionsField):void 0;return w!==void 0?{label:Xo(d,h.labelField)||y,options:w}:{...typeof d=="object"?d:void 0,value:m,text:y,disabled:v}},n=d=>d.map(h=>r(h));return{normalizedOptions:he(()=>n(mt(e))),isComplex:s}},Yv=(e,t)=>he(()=>{const s=mt(e),r=mt(t);return s===!0?"true":typeof s=="string"?s:r===!1?"true":s===!1?"false":void 0}),hh=e=>he(()=>{const t=mt(e);return t===!0?"is-valid":t===!1?"is-invalid":null}),fE=e=>he(()=>{const t=mt(e);return{"form-check":t.plain===!1&&t.button===!1&&t.hasDefaultSlot,"form-check-reverse":t.reverse===!0,"form-check-inline":t.inline===!0,"form-switch":t.switch===!0,[`form-control-${t.size}`]:t.size!==void 0&&t.size!=="md"&&t.button===!1}}),hE=e=>{const t=Gn(Jt(e)),s=hh(()=>t.value.state??null);return he(()=>[s.value,{"form-check-input":t.value.plain===!1&&t.value.button===!1,"btn-check":t.value.button===!0}])},pE=e=>he(()=>{const t=mt(e);return{"form-check-label":t.plain===!1&&t.button===!1,btn:t.button===!0,[`btn-${t.buttonVariant}`]:t.button===!0&&t.buttonVariant!==void 0&&t.buttonVariant!==null,[`btn-${t.size}`]:t.button&&t.size&&t.size!=="md"}}),mE=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","true-value","false-value","indeterminate"],gE=["for"],_E=yt({inheritAttrs:!1,__name:"BFormCheckbox",props:Qn({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},autofocus:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonGroup:{type:Boolean,default:!1},buttonVariant:{default:null},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},inline:{type:Boolean,default:!1},name:{default:void 0},plain:{type:Boolean,default:!1},required:{type:Boolean,default:void 0},reverse:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null},switch:{type:Boolean,default:!1},uncheckedValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:!1},wrapperAttrs:{default:void 0},inputClass:{default:void 0},value:{type:[String,Boolean,Array,Set,Object,Number,null],default:!0}},{modelValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:void 0},modelModifiers:{},indeterminate:{type:Boolean,default:!1},indeterminateModifiers:{}}),emits:["update:modelValue","update:indeterminate"],setup(e,{expose:t}){const s=Bc(),r=he(()=>{const{class:S,...B}=s;return{wrapperClass:S,inputAttrs:B}}),u=Qt(e,"BFormCheckbox"),d=zu(),h=hr(e,"modelValue"),m=hr(e,"indeterminate"),y=ha(()=>u.id,"form-check"),v=Gt(fk,null),w=un("_input"),{focused:T}=ea(w,{initialValue:u.autofocus}),P=he(()=>!ch(d.default)),O=he({get:()=>v?v.modelValue.value:h.value,set:S=>{if(S!==void 0){if(m.value=!1,v!==null&&Array.isArray(S)){v.modelValue.value=S;return}h.value=S}}}),F=he(()=>!!(u.name??(v==null?void 0:v.name.value))&&(u.required||(v==null?void 0:v.required.value))),j=he(()=>u.buttonGroup||((v==null?void 0:v.buttons.value)??!1)),A=he(()=>({plain:u.plain||((v==null?void 0:v.plain.value)??!1),button:u.button||((v==null?void 0:v.buttons.value)??!1),inline:u.inline||((v==null?void 0:v.inline.value)??!1),reverse:u.reverse||((v==null?void 0:v.reverse.value)??!1),switch:u.switch||((v==null?void 0:v.switch.value)??!1),state:u.state===!0||u.state===!1?u.state:(v==null?void 0:v.state.value)??null,size:u.size??(v==null?void 0:v.size.value)??"md",buttonVariant:u.buttonVariant??(v==null?void 0:v.buttonVariant.value)??"secondary",hasDefaultSlot:P.value})),U=fE(A),H=he(()=>[U.value,r.value.wrapperClass]),_=hE(A),x=he(()=>[_.value,u.inputClass]),k=pE(A);return t({blur:()=>{T.value=!1},element:w,focus:()=>{T.value=!0}}),(S,B)=>(ge(),nt(Wv,Rt({skip:j.value},W(u).wrapperAttrs,{class:H.value}),{default:qe(()=>{var D,R,X;return[tn(le("input",Rt({id:W(y),ref:"_input","onUpdate:modelValue":B[0]||(B[0]=ee=>O.value=ee),class:x.value,type:"checkbox",disabled:W(u).disabled||((D=W(v))==null?void 0:D.disabled.value),required:F.value||void 0,name:W(u).name||((R=W(v))==null?void 0:R.name.value),form:W(u).form||((X=W(v))==null?void 0:X.form.value),"aria-label":W(u).ariaLabel,"aria-labelledby":W(u).ariaLabelledby,"aria-required":F.value||void 0,value:W(u).value,"true-value":W(u).value,"false-value":W(u).uncheckedValue,indeterminate:m.value||void 0},r.value.inputAttrs),null,16,mE),[[cv,O.value]]),P.value||W(u).plain===!1?(ge(),Oe("label",{key:0,for:W(y),class:wt(W(k))},[lt(S.$slots,"default")],10,gE)):ft("",!0)]}),_:3},16,["skip","class"]))}}),vE=(e,t)=>{if(e===null)return;let s=e;if(t.number&&typeof s=="string"&&s!==""){const r=Number.parseFloat(s);s=Number.isNaN(r)?s:r}return s},yE=(e,t,s,r)=>{var n;const u=Be(0),d=ha(()=>e.id,"input"),h=Su(()=>e.debounce??0),m=Su(()=>e.debounceMaxWait??NaN),y=(n=Gt(bk,null))==null?void 0:n(d),v=he(()=>e.state!==void 0?e.state:(y==null?void 0:y.state.value)??null),w=Yv(()=>e.ariaInvalid,v),T=hh(v),P=Sk(k=>{s.value=k},()=>r.lazy===!0?0:h.value,{maxWait:()=>r.lazy===!0?NaN:m.value}),O=(k,S=!1)=>{r.lazy===!0&&S===!1||P(k)},{focused:F}=ea(t,{initialValue:e.autofocus}),j=(k,S,B=!1)=>e.formatter!==void 0&&(!e.lazyFormatter||B)?e.formatter(k,S):k;return qi(()=>{var k;t.value&&(t.value.value=((k=s.value)==null?void 0:k.toString())??"")}),N_(()=>{Li(()=>{e.autofocus&&(F.value=!0)})}),{input:t,computedId:d,computedAriaInvalid:w,onInput:k=>{const{value:S}=k.target,B=j(S,k);if(k.defaultPrevented){k.preventDefault();return}O(B)},onChange:k=>{const{value:S}=k.target,B=j(S,k);if(k.defaultPrevented){k.preventDefault();return}const D=B;s.value!==D&&O(B,!0)},onBlur:k=>{if(!r.lazy&&!e.lazyFormatter&&!r.trim)return;const{value:S}=k.target,B=j(S,k,!0),D=r.trim?B.trim():B,R=D.length!==B.length;s.value!==D&&O(B,!0),r.trim&&R&&(u.value=u.value+1)},focus:()=>{e.disabled||(F.value=!0)},blur:()=>{e.disabled||(F.value=!1)},forceUpdateKey:u,stateClass:T}},bE=["id","value","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"],wE=yt({__name:"BFormInput",props:Qn({max:{default:void 0},min:{default:void 0},step:{default:void 0},type:{default:"text"},ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},formatter:{type:Function,default:void 0},id:{default:void 0},lazyFormatter:{type:Boolean,default:!1},list:{default:void 0},name:{default:void 0},placeholder:{default:void 0},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:void 0},debounce:{default:0},debounceMaxWait:{default:NaN}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const r=Qt(e,"BFormInput"),[n,u]=hr(e,"modelValue",{set:A=>vE(A,u)}),d=un("_input"),{computedId:h,computedAriaInvalid:m,onInput:y,onChange:v,onBlur:w,stateClass:T,focus:P,blur:O,forceUpdateKey:F}=yE(r,d,n,u),j=he(()=>{const A=r.type==="range",U=r.type==="color";return[T.value,{"form-range":A,"form-control":U||!r.plaintext&&!A,"form-control-color":U,"form-control-plaintext":r.plaintext&&!A&&!U,[`form-control-${r.size}`]:!!r.size}]});return t({blur:O,element:d,focus:P}),(A,U)=>(ge(),Oe("input",{id:W(h),ref:"_input",key:W(F),value:W(n),class:wt(j.value),name:W(r).name||void 0,form:W(r).form||void 0,type:W(r).type,disabled:W(r).disabled,placeholder:W(r).placeholder,required:W(r).required||void 0,autocomplete:W(r).autocomplete||void 0,readonly:W(r).readonly||W(r).plaintext,min:W(r).min,max:W(r).max,step:W(r).step,list:W(r).type!=="password"?W(r).list:void 0,"aria-required":W(r).required||void 0,"aria-invalid":W(m),onInput:U[0]||(U[0]=(...H)=>W(y)&&W(y)(...H)),onChange:U[1]||(U[1]=(...H)=>W(v)&&W(v)(...H)),onBlur:U[2]||(U[2]=(...H)=>W(w)&&W(w)(...H))},null,42,bE))}}),kE=["label"],LE=yt({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const s=Qt(e,"BFormSelectOptionGroup"),{normalizedOptions:r}=Zv(()=>s.options,s);return(n,u)=>(ge(),Oe("optgroup",{label:W(s).label},[lt(n.$slots,"first"),(ge(!0),Oe(ht,null,ai(W(r),(d,h)=>(ge(),nt(fh,Rt({key:h,disabled:d.disabled,value:d.value,ref_for:!0},n.$attrs),{default:qe(()=>[lt(n.$slots,"option",Rt({ref_for:!0},d),()=>[tt(ze(d.text),1)])]),_:2},1040,["disabled","value"]))),128)),lt(n.$slots,"default")],8,kE))}}),EE=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],Xv=yt({__name:"BFormSelect",props:Qn({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const r=Qt(e,"BFormSelect"),n=hr(e,"modelValue"),u=ha(()=>r.id,"input"),d=Su(()=>r.selectSize),h=hh(()=>r.state),m=un("_input"),{focused:y}=ea(m,{initialValue:r.autofocus}),v=he(()=>[h.value,{"form-control":r.plain,[`form-control-${r.size}`]:r.size!=="md"&&r.plain,"form-select":!r.plain,[`form-select-${r.size}`]:r.size!=="md"&&!r.plain}]),w=he(()=>d.value||r.plain?d.value:void 0),T=Yv(()=>r.ariaInvalid,()=>r.state),{normalizedOptions:P,isComplex:O}=Zv(()=>r.options,r),F=he(()=>P.value),j=he({get:()=>n.value,set:A=>{n.value=A}});return t({blur:()=>{y.value=!1},element:m,focus:()=>{y.value=!0}}),(A,U)=>tn((ge(),Oe("select",{id:W(u),ref:"_input","onUpdate:modelValue":U[0]||(U[0]=H=>j.value=H),class:wt(v.value),name:W(r).name,form:W(r).form||void 0,multiple:W(r).multiple||void 0,size:w.value,disabled:W(r).disabled,required:W(r).required||void 0,"aria-required":W(r).required||void 0,"aria-invalid":W(T)},[lt(A.$slots,"first"),(ge(!0),Oe(ht,null,ai(F.value,(H,_)=>(ge(),Oe(ht,{key:_},[W(O)(H)?(ge(),nt(LE,{key:0,label:H.label,options:H.options,"value-field":W(r).valueField,"text-field":W(r).textField,"disabled-field":W(r).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(ge(),nt(fh,{key:1,value:H.value,disabled:H.disabled},{default:qe(()=>[lt(A.$slots,"option",Rt({ref_for:!0},H),()=>[tt(ze(H.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),lt(A.$slots,"default")],10,EE)),[[Qa,j.value]])}});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Kv=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],sc=Kv.join(","),Jv=typeof Element>"u",la=Jv?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ac=!Jv&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},oc=function e(t,s){var r;s===void 0&&(s=!0);var n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),u=n===""||n==="true",d=u||s&&t&&e(t.parentNode);return d},xE=function(t){var s,r=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"contenteditable");return r===""||r==="true"},Qv=function(t,s,r){if(oc(t))return[];var n=Array.prototype.slice.apply(t.querySelectorAll(sc));return s&&la.call(t,sc)&&n.unshift(t),n=n.filter(r),n},ey=function e(t,s,r){for(var n=[],u=Array.from(t);u.length;){var d=u.shift();if(!oc(d,!1))if(d.tagName==="SLOT"){var h=d.assignedElements(),m=h.length?h:d.children,y=e(m,!0,r);r.flatten?n.push.apply(n,y):n.push({scopeParent:d,candidates:y})}else{var v=la.call(d,sc);v&&r.filter(d)&&(s||!t.includes(d))&&n.push(d);var w=d.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(d),T=!oc(w,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(d));if(w&&T){var P=e(w===!0?d.children:w.children,!0,r);r.flatten?n.push.apply(n,P):n.push({scopeParent:d,candidates:P})}else u.unshift.apply(u,d.children)}}return n},ty=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Qs=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||xE(t))&&!ty(t)?0:t.tabIndex},TE=function(t,s){var r=Qs(t);return r<0&&s&&!ty(t)?0:r},SE=function(t,s){return t.tabIndex===s.tabIndex?t.documentOrder-s.documentOrder:t.tabIndex-s.tabIndex},ny=function(t){return t.tagName==="INPUT"},CE=function(t){return ny(t)&&t.type==="hidden"},PE=function(t){var s=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return s},IE=function(t,s){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===s)return t[r]},NE=function(t){if(!t.name)return!0;var s=t.form||ac(t),r=function(h){return s.querySelectorAll('input[type="radio"][name="'+h+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(t.name));else try{n=r(t.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var u=IE(n,t.form);return!u||u===t},ME=function(t){return ny(t)&&t.type==="radio"},OE=function(t){return ME(t)&&!NE(t)},AE=function(t){var s,r=t&&ac(t),n=(s=r)===null||s===void 0?void 0:s.host,u=!1;if(r&&r!==t){var d,h,m;for(u=!!((d=n)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(n)||t!=null&&(m=t.ownerDocument)!==null&&m!==void 0&&m.contains(t));!u&&n;){var y,v,w;r=ac(n),n=(y=r)===null||y===void 0?void 0:y.host,u=!!((v=n)!==null&&v!==void 0&&(w=v.ownerDocument)!==null&&w!==void 0&&w.contains(n))}}return u},Zp=function(t){var s=t.getBoundingClientRect(),r=s.width,n=s.height;return r===0&&n===0},RE=function(t,s){var r=s.displayCheck,n=s.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=la.call(t,"details>summary:first-of-type"),d=u?t.parentElement:t;if(la.call(d,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof n=="function"){for(var h=t;t;){var m=t.parentElement,y=ac(t);if(m&&!m.shadowRoot&&n(m)===!0)return Zp(t);t.assignedSlot?t=t.assignedSlot:!m&&y!==t.ownerDocument?t=y.host:t=m}t=h}if(AE(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Zp(t);return!1},DE=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var s=t.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var r=0;r<s.children.length;r++){var n=s.children.item(r);if(n.tagName==="LEGEND")return la.call(s,"fieldset[disabled] *")?!0:!n.contains(t)}return!0}s=s.parentElement}return!1},uc=function(t,s){return!(s.disabled||oc(s)||CE(s)||RE(s,t)||PE(s)||DE(s))},uf=function(t,s){return!(OE(s)||Qs(s)<0||!uc(t,s))},BE=function(t){var s=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},FE=function e(t){var s=[],r=[];return t.forEach(function(n,u){var d=!!n.scopeParent,h=d?n.scopeParent:n,m=TE(h,d),y=d?e(n.candidates):h;m===0?d?s.push.apply(s,y):s.push(h):r.push({documentOrder:u,tabIndex:m,item:n,isScope:d,content:y})}),r.sort(SE).reduce(function(n,u){return u.isScope?n.push.apply(n,u.content):n.push(u.content),n},[]).concat(s)},zE=function(t,s){s=s||{};var r;return s.getShadowRoot?r=ey([t],s.includeContainer,{filter:uf.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:BE}):r=Qv(t,s.includeContainer,uf.bind(null,s)),FE(r)},$E=function(t,s){s=s||{};var r;return s.getShadowRoot?r=ey([t],s.includeContainer,{filter:uc.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):r=Qv(t,s.includeContainer,uc.bind(null,s)),r},$a=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return la.call(t,sc)===!1?!1:uf(s,t)},UE=Kv.concat("iframe").join(","),Nd=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return la.call(t,UE)===!1?!1:uc(s,t)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function lf(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=Array(t);s<t;s++)r[s]=e[s];return r}function GE(e){if(Array.isArray(e))return lf(e)}function HE(e,t,s){return(t=ZE(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function VE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,r)}return s}function Xp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Yp(Object(s),!0).forEach(function(r){HE(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yp(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function qE(e){return GE(e)||VE(e)||YE(e)||jE()}function WE(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZE(e){var t=WE(e,"string");return typeof t=="symbol"?t:t+""}function YE(e,t){if(e){if(typeof e=="string")return lf(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?lf(e,t):void 0}}var Kp={activateTrap:function(t,s){if(t.length>0){var r=t[t.length-1];r!==s&&r._setPausedState(!0)}var n=t.indexOf(s);n===-1||t.splice(n,1),t.push(s)},deactivateTrap:function(t,s){var r=t.indexOf(s);r!==-1&&t.splice(r,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},XE=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},KE=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},pu=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},JE=function(t){return pu(t)&&!t.shiftKey},QE=function(t){return pu(t)&&t.shiftKey},Jp=function(t){return setTimeout(t,0)},Ko=function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];return typeof t=="function"?t.apply(void 0,r):t},bl=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},e1=[],t1=function(t,s){var r=(s==null?void 0:s.document)||document,n=(s==null?void 0:s.trapStack)||e1,u=Xp({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:JE,isKeyBackward:QE},s),d={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},h,m=function(q,Z,ne){return q&&q[Z]!==void 0?q[Z]:u[ne||Z]},y=function(q,Z){var ne=typeof(Z==null?void 0:Z.composedPath)=="function"?Z.composedPath():void 0;return d.containerGroups.findIndex(function(V){var te=V.container,ae=V.tabbableNodes;return te.contains(q)||(ne==null?void 0:ne.includes(te))||ae.find(function(ve){return ve===q})})},v=function(q){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=Z.hasFallback,V=ne===void 0?!1:ne,te=Z.params,ae=te===void 0?[]:te,ve=u[q];if(typeof ve=="function"&&(ve=ve.apply(void 0,qE(ae))),ve===!0&&(ve=void 0),!ve){if(ve===void 0||ve===!1)return ve;throw new Error("`".concat(q,"` was specified but was not a node, or did not return a node"))}var ce=ve;if(typeof ve=="string"){try{ce=r.querySelector(ve)}catch(ke){throw new Error("`".concat(q,'` appears to be an invalid selector; error="').concat(ke.message,'"'))}if(!ce&&!V)throw new Error("`".concat(q,"` as selector refers to no known node"))}return ce},w=function(){var q=v("initialFocus",{hasFallback:!0});if(q===!1)return!1;if(q===void 0||q&&!Nd(q,u.tabbableOptions))if(y(r.activeElement)>=0)q=r.activeElement;else{var Z=d.tabbableGroups[0],ne=Z&&Z.firstTabbableNode;q=ne||v("fallbackFocus")}else q===null&&(q=v("fallbackFocus"));if(!q)throw new Error("Your focus-trap needs to have at least one focusable element");return q},T=function(){if(d.containerGroups=d.containers.map(function(q){var Z=zE(q,u.tabbableOptions),ne=$E(q,u.tabbableOptions),V=Z.length>0?Z[0]:void 0,te=Z.length>0?Z[Z.length-1]:void 0,ae=ne.find(function(ke){return $a(ke)}),ve=ne.slice().reverse().find(function(ke){return $a(ke)}),ce=!!Z.find(function(ke){return Qs(ke)>0});return{container:q,tabbableNodes:Z,focusableNodes:ne,posTabIndexesFound:ce,firstTabbableNode:V,lastTabbableNode:te,firstDomTabbableNode:ae,lastDomTabbableNode:ve,nextTabbableNode:function(De){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Pe=Z.indexOf(De);return Pe<0?Ae?ne.slice(ne.indexOf(De)+1).find(function(Ee){return $a(Ee)}):ne.slice(0,ne.indexOf(De)).reverse().find(function(Ee){return $a(Ee)}):Z[Pe+(Ae?1:-1)]}}}),d.tabbableGroups=d.containerGroups.filter(function(q){return q.tabbableNodes.length>0}),d.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(d.containerGroups.find(function(q){return q.posTabIndexesFound})&&d.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},P=function(q){var Z=q.activeElement;if(Z)return Z.shadowRoot&&Z.shadowRoot.activeElement!==null?P(Z.shadowRoot):Z},O=function(q){if(q!==!1&&q!==P(document)){if(!q||!q.focus){O(w());return}q.focus({preventScroll:!!u.preventScroll}),d.mostRecentlyFocusedNode=q,XE(q)&&q.select()}},F=function(q){var Z=v("setReturnFocus",{params:[q]});return Z||(Z===!1?!1:q)},j=function(q){var Z=q.target,ne=q.event,V=q.isBackward,te=V===void 0?!1:V;Z=Z||bl(ne),T();var ae=null;if(d.tabbableGroups.length>0){var ve=y(Z,ne),ce=ve>=0?d.containerGroups[ve]:void 0;if(ve<0)te?ae=d.tabbableGroups[d.tabbableGroups.length-1].lastTabbableNode:ae=d.tabbableGroups[0].firstTabbableNode;else if(te){var ke=d.tabbableGroups.findIndex(function(de){var K=de.firstTabbableNode;return Z===K});if(ke<0&&(ce.container===Z||Nd(Z,u.tabbableOptions)&&!$a(Z,u.tabbableOptions)&&!ce.nextTabbableNode(Z,!1))&&(ke=ve),ke>=0){var De=ke===0?d.tabbableGroups.length-1:ke-1,Ae=d.tabbableGroups[De];ae=Qs(Z)>=0?Ae.lastTabbableNode:Ae.lastDomTabbableNode}else pu(ne)||(ae=ce.nextTabbableNode(Z,!1))}else{var Pe=d.tabbableGroups.findIndex(function(de){var K=de.lastTabbableNode;return Z===K});if(Pe<0&&(ce.container===Z||Nd(Z,u.tabbableOptions)&&!$a(Z,u.tabbableOptions)&&!ce.nextTabbableNode(Z))&&(Pe=ve),Pe>=0){var Ee=Pe===d.tabbableGroups.length-1?0:Pe+1,xe=d.tabbableGroups[Ee];ae=Qs(Z)>=0?xe.firstTabbableNode:xe.firstDomTabbableNode}else pu(ne)||(ae=ce.nextTabbableNode(Z))}}else ae=v("fallbackFocus");return ae},A=function(q){var Z=bl(q);if(!(y(Z,q)>=0)){if(Ko(u.clickOutsideDeactivates,q)){h.deactivate({returnFocus:u.returnFocusOnDeactivate});return}Ko(u.allowOutsideClick,q)||q.preventDefault()}},U=function(q){var Z=bl(q),ne=y(Z,q)>=0;if(ne||Z instanceof Document)ne&&(d.mostRecentlyFocusedNode=Z);else{q.stopImmediatePropagation();var V,te=!0;if(d.mostRecentlyFocusedNode)if(Qs(d.mostRecentlyFocusedNode)>0){var ae=y(d.mostRecentlyFocusedNode),ve=d.containerGroups[ae].tabbableNodes;if(ve.length>0){var ce=ve.findIndex(function(ke){return ke===d.mostRecentlyFocusedNode});ce>=0&&(u.isKeyForward(d.recentNavEvent)?ce+1<ve.length&&(V=ve[ce+1],te=!1):ce-1>=0&&(V=ve[ce-1],te=!1))}}else d.containerGroups.some(function(ke){return ke.tabbableNodes.some(function(De){return Qs(De)>0})})||(te=!1);else te=!1;te&&(V=j({target:d.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(d.recentNavEvent)})),O(V||d.mostRecentlyFocusedNode||w())}d.recentNavEvent=void 0},H=function(q){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d.recentNavEvent=q;var ne=j({event:q,isBackward:Z});ne&&(pu(q)&&q.preventDefault(),O(ne))},_=function(q){(u.isKeyForward(q)||u.isKeyBackward(q))&&H(q,u.isKeyBackward(q))},x=function(q){KE(q)&&Ko(u.escapeDeactivates,q)!==!1&&(q.preventDefault(),h.deactivate())},k=function(q){var Z=bl(q);y(Z,q)>=0||Ko(u.clickOutsideDeactivates,q)||Ko(u.allowOutsideClick,q)||(q.preventDefault(),q.stopImmediatePropagation())},S=function(){if(d.active)return Kp.activateTrap(n,h),d.delayInitialFocusTimer=u.delayInitialFocus?Jp(function(){O(w())}):O(w()),r.addEventListener("focusin",U,!0),r.addEventListener("mousedown",A,{capture:!0,passive:!1}),r.addEventListener("touchstart",A,{capture:!0,passive:!1}),r.addEventListener("click",k,{capture:!0,passive:!1}),r.addEventListener("keydown",_,{capture:!0,passive:!1}),r.addEventListener("keydown",x),h},B=function(){if(d.active)return r.removeEventListener("focusin",U,!0),r.removeEventListener("mousedown",A,!0),r.removeEventListener("touchstart",A,!0),r.removeEventListener("click",k,!0),r.removeEventListener("keydown",_,!0),r.removeEventListener("keydown",x),h},D=function(q){var Z=q.some(function(ne){var V=Array.from(ne.removedNodes);return V.some(function(te){return te===d.mostRecentlyFocusedNode})});Z&&O(w())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,X=function(){R&&(R.disconnect(),d.active&&!d.paused&&d.containers.map(function(q){R.observe(q,{subtree:!0,childList:!0})}))};return h={get active(){return d.active},get paused(){return d.paused},activate:function(q){if(d.active)return this;var Z=m(q,"onActivate"),ne=m(q,"onPostActivate"),V=m(q,"checkCanFocusTrap");V||T(),d.active=!0,d.paused=!1,d.nodeFocusedBeforeActivation=r.activeElement,Z==null||Z();var te=function(){V&&T(),S(),X(),ne==null||ne()};return V?(V(d.containers.concat()).then(te,te),this):(te(),this)},deactivate:function(q){if(!d.active)return this;var Z=Xp({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},q);clearTimeout(d.delayInitialFocusTimer),d.delayInitialFocusTimer=void 0,B(),d.active=!1,d.paused=!1,X(),Kp.deactivateTrap(n,h);var ne=m(Z,"onDeactivate"),V=m(Z,"onPostDeactivate"),te=m(Z,"checkCanReturnFocus"),ae=m(Z,"returnFocus","returnFocusOnDeactivate");ne==null||ne();var ve=function(){Jp(function(){ae&&O(F(d.nodeFocusedBeforeActivation)),V==null||V()})};return ae&&te?(te(F(d.nodeFocusedBeforeActivation)).then(ve,ve),this):(ve(),this)},pause:function(q){return d.active?(d.manuallyPaused=!0,this._setPausedState(!0,q)):this},unpause:function(q){return d.active?(d.manuallyPaused=!1,n[n.length-1]!==this?this:this._setPausedState(!1,q)):this},updateContainerElements:function(q){var Z=[].concat(q).filter(Boolean);return d.containers=Z.map(function(ne){return typeof ne=="string"?r.querySelector(ne):ne}),d.active&&T(),X(),this}},Object.defineProperties(h,{_isManuallyPaused:{value:function(){return d.manuallyPaused}},_setPausedState:{value:function(q,Z){if(d.paused===q)return this;if(d.paused=q,q){var ne=m(Z,"onPause"),V=m(Z,"onPostPause");ne==null||ne(),B(),X(),V==null||V()}else{var te=m(Z,"onUnpause"),ae=m(Z,"onPostUnpause");te==null||te(),T(),S(),X(),ae==null||ae()}return this}}}),h.updateContainerElements(t),h};function n1(e,t={}){let s;const{immediate:r,...n}=t,u=Pn(!1),d=Pn(!1),h=T=>s&&s.activate(T),m=T=>s&&s.deactivate(T),y=()=>{s&&(s.pause(),d.value=!0)},v=()=>{s&&(s.unpause(),d.value=!1)},w=he(()=>{const T=mt(e);return hu(T).map(P=>{const O=mt(P);return typeof O=="string"?O:Rr(O)}).filter(vv)});return it(w,T=>{T.length&&(s=t1(T,{...n,onActivate(){u.value=!0,t.onActivate&&t.onActivate()},onDeactivate(){u.value=!1,t.onDeactivate&&t.onDeactivate()}}),r&&h())},{flush:"post"}),fa(()=>m()),{hasFocus:u,isPaused:d,activate:h,deactivate:m,pause:y,unpause:v}}const i1=({element:e,isActive:t,noTrap:s,fallbackFocus:r},n={allowOutsideClick:!0,fallbackFocus:r.ref.value??void 0,escapeDeactivates:!1})=>{const u=Gn(Jt(t)),d=Gn(Jt(s)),h=()=>{var v;const w=(v=e.value)==null?void 0:v.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${r.classSelector})`);return!(w!=null&&w.length)},m=Be(!1);qi(()=>{m.value=h(),Nk(e,()=>{m.value=h()},{childList:!0,subtree:!0})});const y=n1(e,n);return it(u,async v=>{await Li(),v&&d.value===!1?y.activate():y.deactivate()}),it(d,v=>{v===!0&&y.deactivate()}),{needsFallback:Gn(m)}},r1=gv(zk);let wl="";const Zs=new Map,s1=(e,t)=>{const s=Gn(Jt(e)),r=P_(),n=he(()=>!mt(t)),u=r1(typeof document<"u"?document.body:null,s.value&&n.value);qi(()=>{typeof document>"u"||(Zs.set(r,!1),it([s,n],([d,h])=>{const m=window.innerWidth-document.documentElement.clientWidth,y=Array.from(Zs.values()).some(T=>T===!0),v=d&&h;Zs.set(r,v),v&&!y&&!u.value&&(u.value=!0,m>0&&(wl=document.body.style.paddingRight,document.body.style.paddingRight=`${m+wl}px`));const w=Array.from(Zs.values()).some(T=>T===!0);y&&!w&&(Zs.set(r,!1),u.value=!1,document.body.style.paddingRight=wl)},{immediate:!0}))}),Dc(()=>{Zs.delete(r),Array.from(Zs.values()).some(h=>h===!0)||(document.body.style.paddingRight=wl,u.value=!1)})},a1=["id","aria-labelledby","aria-describedby"],o1=["id"],Qp="modal-fallback-focus",em=1056,u1=yt({inheritAttrs:!1,__name:"BModal",props:Qn({autofocus:{type:Boolean,default:!0},autofocusButton:{default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Qn(["backdrop","cancel","close","esc","ok","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(e,{expose:t,emit:s}){const n=Qt(e,"BModal"),u=s,d=zu(),h=ha(()=>n.id,"modal"),m=hr(e,"modelValue"),y=un("_element"),v=un("_fallbackFocusElement"),w=un("_okButton"),T=un("_cancelButton"),P=un("_closeButton"),O=()=>{n.autofocus!==!1&&(n.autofocusButton==="ok"?te.value=!0:n.autofocusButton==="close"?ve.value=!0:n.autofocusButton==="cancel"?ae.value=!0:V.value=!0)},F=()=>{O()},{showRef:j,renderRef:A,renderBackdropRef:U,hide:H,show:_,toggle:x,computedNoAnimation:k,transitionProps:S,backdropTransitionProps:B,isLeaving:D,isVisible:R,trapActive:X,contentShowing:ee,backdropReady:q,backdropVisible:Z}=Gc(m,n,u,y,h,{transitionProps:{onAfterEnter:F}}),{needsFallback:ne}=i1({element:y,isActive:X,noTrap:()=>n.noTrap,fallbackFocus:{ref:v,classSelector:Qp}});cs("Escape",()=>{H("esc")},{target:y}),s1(j,()=>n.bodyScrolling);const{focused:V}=ea(y,{initialValue:m.value&&n.autofocusButton===void 0&&n.autofocus===!0}),{focused:te}=ea(w,{initialValue:m.value&&n.autofocusButton==="ok"&&n.autofocus===!0}),{focused:ae}=ea(T,{initialValue:m.value&&n.autofocusButton==="cancel"&&n.autofocus===!0}),{focused:ve}=ea(P,{initialValue:m.value&&n.autofocusButton==="close"&&n.autofocus===!0}),ce=he(()=>!ch(d["header-close"])),ke=he(()=>[n.dialogClass,{"modal-fullscreen":n.fullscreen===!0,[`modal-fullscreen-${n.fullscreen}-down`]:typeof n.fullscreen=="string",[`modal-${n.size}`]:n.size!=="md","modal-dialog-centered":n.centered,"modal-dialog-scrollable":n.scrollable}]),De=Ja(()=>({bgVariant:n.bodyBgVariant,textVariant:n.bodyTextVariant,variant:n.bodyVariant})),Ae=he(()=>[n.bodyClass,De.value]),Pe=Ja(()=>({bgVariant:n.headerBgVariant,textVariant:n.headerTextVariant,variant:n.headerVariant,borderVariant:n.headerBorderVariant})),Ee=he(()=>[n.headerClass,Pe.value]),xe=he(()=>({variant:ce.value?n.headerCloseVariant:void 0,class:n.headerCloseClass})),de=Ja(()=>({bgVariant:n.footerBgVariant,textVariant:n.footerTextVariant,variant:n.footerVariant,borderVariant:n.footerBorderVariant})),K=he(()=>[n.footerClass,de.value]),Te=he(()=>[n.titleClass,{"visually-hidden":n.titleVisuallyHidden}]),Ne=he(()=>n.cancelDisabled||n.busy),Me=he(()=>n.okDisabled||n.busy),{activePosition:N,activeModalCount:Q,stackWithoutSelf:se}=Uk(j,m.value);it(se,(z,oe)=>{z.length>oe.length&&j.value===!0&&n.noStacking===!0&&H()});const _e=he(()=>j.value||D.value?em-(((Q==null?void 0:Q.value)??0)*2-((N==null?void 0:N.value)??0)*2):em),Le=he(()=>({"z-index":_e.value})),we=he(()=>({"z-index":_e.value-1})),Y=he(()=>({cancel:()=>{H("cancel")},close:()=>{H("close")},hide:H,ok:()=>{H("ok")},active:j.value,visible:j.value}));return t({hide:H,id:h,show:_,toggle:x}),(z,oe)=>(ge(),nt(Jf,{to:W(n).teleportTo,disabled:W(n).teleportDisabled},{default:qe(()=>[W(A)||W(ee)?(ge(),nt(xu,Rt({key:0},W(S),{appear:m.value||W(n).visible,onAfterEnter:F}),{default:qe(()=>[tn(le("div",Rt({id:W(h),ref:"_element",class:["modal",[W(n).modalClass,{fade:!W(k),show:W(R)}]],role:"dialog","aria-labelledby":W(n).noHeader?void 0:`${W(h)}-label`,"aria-describedby":`${W(h)}-body`,tabindex:"-1"},z.$attrs,{style:Le.value,onClick:oe[4]||(oe[4]=fv(me=>W(H)("backdrop"),["self"]))}),[le("div",{class:wt(["modal-dialog",ke.value])},[W(ee)?(ge(),Oe("div",{key:0,class:wt(["modal-content",W(n).contentClass])},[W(n).noHeader?ft("",!0):(ge(),Oe("div",{key:0,class:wt(["modal-header",Ee.value])},[lt(z.$slots,"header",wi(ar(Y.value)),()=>[(ge(),nt(Hr(W(n).titleTag),{id:`${W(h)}-label`,class:wt(["modal-title",Te.value])},{default:qe(()=>[lt(z.$slots,"title",wi(ar(Y.value)),()=>[tt(ze(W(n).title),1)],!0)]),_:3},8,["id","class"])),W(n).noHeaderClose?ft("",!0):(ge(),Oe(ht,{key:0},[ce.value?(ge(),nt(ps,Rt({key:0},xe.value,{onClick:oe[0]||(oe[0]=me=>W(H)("close"))}),{default:qe(()=>[lt(z.$slots,"header-close",{},void 0,!0)]),_:3},16)):(ge(),nt(KL,Rt({key:1,"aria-label":W(n).headerCloseLabel},xe.value,{onClick:oe[1]||(oe[1]=me=>W(H)("close"))}),null,16,["aria-label"]))],64))],!0)],2)),le("div",Rt({id:`${W(h)}-body`,class:["modal-body",Ae.value]},W(n).bodyAttrs),[lt(z.$slots,"default",wi(ar(Y.value)),()=>[tt(ze(W(n).body),1)],!0)],16,o1),W(n).noFooter?ft("",!0):(ge(),Oe("div",{key:1,class:wt(["modal-footer",K.value])},[lt(z.$slots,"footer",wi(ar(Y.value)),()=>[lt(z.$slots,"cancel",wi(ar(Y.value)),()=>[W(n).okOnly?ft("",!0):(ge(),nt(ps,{key:0,ref:"_cancelButton",disabled:Ne.value,size:W(n).buttonSize,variant:W(n).cancelVariant,onClick:oe[2]||(oe[2]=me=>W(H)("cancel"))},{default:qe(()=>[tt(ze(W(n).cancelTitle),1)]),_:1},8,["disabled","size","variant"]))],!0),lt(z.$slots,"ok",wi(ar(Y.value)),()=>[Ge(ps,{ref:"_okButton",disabled:Me.value,size:W(n).buttonSize,variant:W(n).okVariant,onClick:oe[3]||(oe[3]=me=>W(H)("ok"))},{default:qe(()=>[tt(ze(W(n).okTitle),1)]),_:1},8,["disabled","size","variant"])],!0)],!0)],2))],2)):ft("",!0)],2),W(ne)?(ge(),Oe("div",{key:0,ref:"_fallbackFocusElement",class:wt(Qp),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):ft("",!0)],16,a1),[[Tu,W(j)&&(W(q)&&W(n).backdropFirst||!W(n).backdropFirst)]])]),_:3},16,["appear"])):ft("",!0),W(n).noBackdrop?ft("",!0):lt(z.$slots,"backdrop",wi(Rt({key:1},Y.value)),()=>[W(U)?(ge(),nt(xu,wi(Rt({key:0},W(B))),{default:qe(()=>[tn(le("div",{class:wt(["modal-backdrop",{fade:!W(k),show:W(Z)||W(k)}]),style:zi(we.value),onClick:oe[5]||(oe[5]=me=>W(H)("backdrop"))},null,6),[[Tu,W(j)||W(D)&&W(n).backdropFirst&&!W(k)]])]),_:1},16)):ft("",!0)],!0)]),_:3},8,["to","disabled"]))}}),l1=Qf(u1,[["__scopeId","data-v-93972863"]]),iy=yt({inheritAttrs:!1,__name:"BNavForm",props:{role:{default:void 0},wrapperAttrs:{default:void 0},formClass:{default:void 0},floating:{type:Boolean,default:void 0},id:{default:void 0},novalidate:{type:Boolean,default:void 0},validated:{type:Boolean,default:void 0}},emits:["submit"],setup(e,{emit:t}){const r=Qt(e,"BNavForm"),n=t,u=Bc(),d=he(()=>{const{class:y,...v}=u;return{wrapperClass:y,formAttrs:v}}),h=y=>{n("submit",y)},m=he(()=>["d-flex","flex-row","align-items-center","flex-wrap",d.value.wrapperClass]);return(y,v)=>(ge(),Oe("li",Rt({class:m.value},y.wrapperAttrs),[Ge(cE,Rt(d.value.formAttrs,{id:W(r).id,floating:W(r).floating,role:W(r).role,novalidate:W(r).novalidate,validated:W(r).validated,class:["d-flex",W(r).formClass],onSubmit:fv(h,["prevent"])}),{default:qe(()=>[lt(y.$slots,"default")]),_:3},16,["id","floating","role","novalidate","validated","class"])],16))}}),c1={class:"nav-item"},ry=yt({__name:"BNavItem",props:{linkAttrs:{default:void 0},linkClass:{default:void 0},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},emits:["click"],setup(e,{emit:t}){const r=Qt(e,"BNavItem"),n=t,u=he(()=>Vv(r,["active","activeClass","exactActiveClass","append","disabled","href","icon","opacity","opacityHover","rel","replace","routerComponentName","target","to","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","underlineVariant","variant"]));return(d,h)=>(ge(),Oe("li",c1,[Ge(qc,Rt({class:["nav-link",d.linkClass],tabindex:W(r).disabled?-1:void 0,"aria-disabled":W(r).disabled?!0:void 0},{...u.value,...d.linkAttrs},{onClick:h[0]||(h[0]=m=>n("click",m))}),{default:qe(()=>[lt(d.$slots,"default")]),_:3},16,["class","tabindex","aria-disabled"]),lt(d.$slots,"after")]))}}),d1=e=>he(()=>{const t=mt(e);return{container:t===!0,[`container-${t}`]:typeof t=="string"}}),sy=yt({__name:"BNavbar",props:{autoClose:{type:Boolean,default:!0},container:{type:[Boolean,String],default:"fluid"},fixed:{default:void 0},print:{type:Boolean,default:!1},sticky:{default:void 0},tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},variant:{default:null}},setup(e){const s=Qt(e,"BNavbar"),r=he(()=>s.tag==="nav"?void 0:"navigation"),n=d1(()=>s.container),u=Ja(he(()=>({bgVariant:s.variant}))),d=he(()=>[u.value,{"d-print":s.print,[`sticky-${s.sticky}`]:s.sticky!==void 0,[`fixed-${s.fixed}`]:s.fixed!==void 0,"navbar-expand":s.toggleable===!1,[`navbar-expand-${s.toggleable}`]:typeof s.toggleable=="string"}]);return hs(Kf,{tag:Jt(()=>s.tag),autoClose:Jt(()=>s.autoClose)}),(h,m)=>(ge(),nt(Hr(W(s).tag),{class:wt(["navbar",d.value]),role:r.value},{default:qe(()=>[W(s).container!==!1?(ge(),Oe("div",{key:0,class:wt(W(n))},[lt(h.$slots,"default")],2)):lt(h.$slots,"default",{key:1})]),_:3},8,["class","role"]))}}),ay=yt({__name:"BNavbarBrand",props:{tag:{default:"div"},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(e){const s=Qt(e,"BNavbarBrand"),{computedLink:r,computedLinkProps:n}=dh(s,["active","activeClass","append","disabled","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon"]),u=he(()=>r.value?qc:s.tag);return(d,h)=>(ge(),nt(Hr(u.value),Rt({class:"navbar-brand"},W(n)),{default:qe(()=>[lt(d.$slots,"default")]),_:3},16))}}),oy=yt({__name:"BNavbarNav",props:{align:{default:void 0},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tag:{default:"ul"}},setup(e){const s=Qt(e,"BNavbarNav"),r=iE(()=>s.align),n=he(()=>({"nav-fill":s.fill,"nav-justified":s.justified,[r.value]:s.align!==void 0,small:s.small}));return(u,d)=>(ge(),Oe("ul",{class:wt(["navbar-nav",n.value])},[lt(u.$slots,"default")],2))}}),f1=["disabled","aria-label"],uy=yt({__name:"BNavbarToggle",props:{disabled:{type:Boolean,default:!1},label:{default:"Toggle navigation"},target:{default:void 0}},emits:["click"],setup(e,{emit:t}){const r=Qt(e,"BNavbarToggle"),n=t,u=he(()=>({disabled:r.disabled})),d=Gt(Uc,void 0),h=he(()=>{var v;return!r.target||!d?!1:typeof r.target=="string"?((v=d.map[r.target])==null?void 0:v.value)||!1:r.target.some(w=>{var T;return(T=d.map[w])==null?void 0:T.value})}),m=()=>{var v;if(!(!r.target||!d)){if(typeof r.target=="string"){(v=d.map[r.target])==null||v.toggle();return}r.target.forEach(w=>{var T;return(T=d.map[w])==null?void 0:T.toggle()})}},y=v=>{r.disabled||(n("click",v),m())};return(v,w)=>(ge(),Oe("button",{class:wt(["navbar-toggler",u.value]),type:"button",disabled:W(r).disabled,"aria-label":W(r).label,onClick:y},[lt(v.$slots,"default",{expanded:h.value},()=>[w[0]||(w[0]=le("span",{class:"navbar-toggler-icon"},null,-1))])],10,f1))}}),ph=yt({__name:"BTooltip",props:Qn({interactive:{type:Boolean,default:void 0},boundary:{},boundaryPadding:{},click:{type:Boolean,default:void 0},closeOnHide:{type:Boolean},content:{default:void 0},customClass:{default:void 0},delay:{default:void 0},floatingMiddleware:{default:void 0},hideMargin:{},id:{default:void 0},inline:{type:Boolean,default:void 0},manual:{type:Boolean,default:void 0},noAutoClose:{type:Boolean,default:void 0},noFlip:{type:Boolean,default:void 0},noHide:{type:Boolean,default:void 0},noShift:{type:Boolean,default:void 0},noSize:{type:Boolean},noninteractive:{type:Boolean,default:void 0},offset:{default:void 0},placement:{default:void 0},realtime:{type:Boolean,default:void 0},reference:{default:void 0},strategy:{default:void 0},target:{default:void 0},title:{default:void 0},variant:{default:void 0},teleportDisabled:{type:Boolean,default:void 0},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:void 0},lazy:{type:Boolean,default:void 0},unmountLazy:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},transProps:{},visible:{type:Boolean,default:void 0}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const r=Qt(e,"BTooltip"),n=zu(),u=hr(e,"modelValue"),d=he(()=>{const{interactive:m,noninteractive:y,...v}=r;return{noninteractive:y!==void 0?y:!m,...v}}),h=un("_popover");return t({hide:()=>{var m;(m=h.value)==null||m.hide()},show:()=>{var m;(m=h.value)==null||m.show()},toggle:()=>{var m;(m=h.value)==null||m.toggle()}}),(m,y)=>(ge(),nt(uh,Rt({ref:"_popover"},d.value,{modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=v=>u.value=v),tooltip:""}),jb({_:2},[n.default?{name:"default",fn:qe(()=>[lt(m.$slots,"default")]),key:"0"}:void 0,n.target?{name:"target",fn:qe(v=>[lt(m.$slots,"target",wi(ar(v)))]),key:"1"}:void 0,n.title?{name:"title",fn:qe(()=>[lt(m.$slots,"title")]),key:"2"}:void 0]),1040,["modelValue"]))}});Object.freeze(Object.keys({bordered:0,borderless:0,borderVariant:0,captionTop:0,dark:0,fixed:0,hover:0,id:0,noBorderCollapse:0,outlined:0,responsive:0,small:0,stacked:0,stickyHeader:0,striped:0,stripedColumns:0,variant:0,tableAttrs:0,tableClass:0}));Object.freeze(Object.keys({align:0,caption:0,detailsTdClass:0,fieldColumnClass:0,fields:0,footClone:0,footRowVariant:0,footVariant:0,headRowVariant:0,headVariant:0,items:0,labelStacked:0,modelValue:0,primaryKey:0,tbodyClass:0,tbodyTrAttrs:0,tbodyTrClass:0,tfootClass:0,tfootTrClass:0,theadClass:0,theadTrClass:0}));const ly={BAccordion:"/components/BAccordion",BAccordionItem:"/components/BAccordion",BAlert:"/components/BAlert",BAvatar:"/components/BAvatar",BAvatarGroup:"/components/BAvatar",BBadge:"/components/BBadge",BBreadcrumb:"/components/BBreadcrumb",BBreadcrumbItem:"/components/BBreadcrumb",BButton:"/components/BButton",BButtonGroup:"/components/BButton",BButtonToolbar:"/components/BButton",BCloseButton:"/components/BButton",BCard:"/components/BCard",BCardBody:"/components/BCard",BCardFooter:"/components/BCard",BCardGroup:"/components/BCard",BCardHeader:"/components/BCard",BCardImg:"/components/BCard",BCardSubtitle:"/components/BCard",BCardText:"/components/BCard",BCardTitle:"/components/BCard",BCarousel:"/components/BCarousel",BCarouselSlide:"/components/BCarousel",BCol:"/components/BContainer",BCollapse:"/components/BCollapse",BContainer:"/components/BContainer",BDropdown:"/components/BDropdown",BDropdownDivider:"/components/BDropdown",BDropdownForm:"/components/BDropdown",BDropdownGroup:"/components/BDropdown",BDropdownHeader:"/components/BDropdown",BDropdownItem:"/components/BDropdown",BDropdownItemButton:"/components/BDropdown",BDropdownText:"/components/BDropdown",BForm:"/components/BForm",BFormCheckbox:"/components/BFormCheckbox",BFormCheckboxGroup:"/components/BFormCheckbox",BFormDatalist:"/components/BForm",BFormFile:"/components/BFormFile",BFormFloatingLabel:"/components/BForm",BFormGroup:"/components/BFormGroup",BFormInput:"/components/BFormInput",BFormInvalidFeedback:"/components/BForm",BFormRadio:"/components/BFormRadio",BFormRadioGroup:"/components/BFormRadio",BFormRow:"/components/BForm",BFormSelect:"/components/BFormSelect",BFormSelectOption:"/components/BFormSelect",BFormSelectOptionGroup:"/components/BFormSelect",BFormSpinbutton:"/components/BFormSpinbutton",BFormTag:"/components/BFormTags",BFormTags:"/components/BFormTags",BFormText:"/components/BForm",BFormTextarea:"/components/BFormTextarea",BFormValidFeedback:"/components/BForm",BImg:"/components/BImg",BInput:"/components/BFormInput",BInputGroup:"/components/BInputGroup",BInputGroupText:"/components/BInputGroup",BListGroup:"/components/BListGroup",BListGroupItem:"/components/BListGroup",BModal:"/components/BModal",BModalOrchestrator:"/components/BModal",BNav:"/components/BNav",BNavForm:"/components/BNav",BNavItem:"/components/BNav",BNavItemDropdown:"/components/BNav",BNavText:"/components/BNav",BNavbar:"/components/BNavbar",BNavbarBrand:"/components/BNavbar",BNavbarNav:"/components/BNavbar",BNavbarToggle:"/components/BNavbar",BOffcanvas:"/components/BOffcanvas",BOverlay:"/components/BOverlay",BPagination:"/components/BPagination",BPlaceholder:"/components/BPlaceholder",BPlaceholderButton:"/components/BPlaceholder",BPlaceholderCard:"/components/BPlaceholder",BPlaceholderTable:"/components/BPlaceholder",BPlaceholderWrapper:"/components/BPlaceholder",BPopover:"/components/BPopover",BProgress:"/components/BProgress",BRow:"/components/BContainer",BSpinner:"/components/BSpinner",BTab:"/components/BTabs",BTabs:"/components/BTabs",BToast:"/components/BToast",BToastOrchestrator:"/components/BToast",BTooltip:"/components/BTooltip",BLink:"/components/BLink",BProgressBar:"/components/BProgress",BTableSimple:"/components/BTable",BTableLite:"/components/BTable",BTable:"/components/BTable",BTbody:"/components/BTable",BTd:"/components/BTable",BTh:"/components/BTable",BThead:"/components/BTable",BTfoot:"/components/BTable",BTr:"/components/BTable",BPopoverOrchestrator:"/components/BPopover"},h1=Object.freeze(Object.keys(ly)),cy={vBColorMode:"/directives/BColorMode",vBModal:"/directives/BModal",vBPopover:"/directives/BPopover",vBScrollspy:"/directives/BScrollspy",vBToggle:"/directives/BToggle",vBTooltip:"/directives/BTooltip"},p1=Object.freeze(Object.keys(cy)),m1={useBreadcrumb:"/composables/useBreadcrumb",useColorMode:"/composables/useColorMode",useModal:"/composables/useModal",useModalController:"/composables/useModalController",useScrollspy:"/composables/useScrollspy",useToastController:"/composables/useToastController",usePopoverController:"/composables/usePopoverController"};Object.freeze(Object.keys(m1));const tm="bootstrap-vue-next",nm=(e,t)=>{const{all:s,...r}=e,n={};s&&t.forEach(d=>{n[d]=s});const u={...n,...r};return Object.entries(u).filter(([d,h])=>!!h&&t.includes(d)).map(([d])=>d)},Md=new Set,im=new Set;Object.assign(({aliases:e={},directives:t=!0,components:s=!0}={})=>{const n=nm(typeof s=="boolean"?{all:s}:s,h1).reduce((m,y)=>(m.set(y,`${tm}${ly[y]}`),m),new Map),d=nm(typeof t=="boolean"?{all:t}:t,p1).reduce((m,y)=>{const v=y.toLowerCase().startsWith("v")?y:`v${y}`;return m.set(v,`${tm}${cy[v]}`),m},new Map);return[{type:"component",resolve(m){const y=n.get(m),v=n.get(e[m]);if(v){const w=e[m];return Md.add(w),{name:w,from:v}}if(y)return Md.add(m),{name:m,from:y}}},{type:"directive",resolve(m){const y=`v${m}`,v=d.get(y);if(v)return im.add(y),{name:y,from:v}}}]},{__usedComponents:Md,__usedDirectives:im});const g1={install(e,t){const s=(t==null?void 0:t.components)??{};e.provide(Rl,Be(s))}},_1={install(e){const t=Be({[Ip]:[]}),s=(r=Ip)=>{t.value[r]=[]};e.provide(pk,{items:t,reset:s})}},v1={install(e){const t=Be(new Map),s=()=>{let m=()=>{};return{value:new Promise(v=>{m=v}),resolve:m}},r=m=>[s(),m||Symbol("Modals controller"),!0],n=(m={})=>{var y;const v=Jt(m.props),[w,T,P]=r((y=v.value)==null?void 0:y.id);return t.value.set(T,{component:m.component?fs(m.component):void 0,props:{...v.value,_isConfirm:!1,_promise:w,_modelValue:P}}),it(v,O=>{const F=t.value.get(T);F&&t.value.set(T,{component:m.component?fs(m.component):void 0,props:{...F.props,...O}})}),w.value},u=(m={})=>{var y;const v=Jt(m.props),[w,T,P]=r((y=v.value)==null?void 0:y.id);return t.value.set(T,{component:m.component?fs(m.component):void 0,props:{...v.value,_isConfirm:!0,_promise:w,_modelValue:P}}),it(v,O=>{const F=t.value.get(T);F&&t.value.set(T,{component:m.component?fs(m.component):void 0,props:{...F.props,...O}})}),w.value},d=m=>{const y=t.value.get(m);y!=null&&y.props&&(y.props={...y.props,_modelValue:!1})},h=m=>{t.value.delete(m)};e.provide(vk,{modals:t,remove:h,show:n,confirm:u,leave:d})}},y1={install(e){const t=Be(new Map),s=he(()=>t.value.size),r=he(()=>[...t.value.values()]),n=he(()=>r.value[r.value.length-1]),u=v=>{t.value.set(v.uid,v)},d=v=>{t.value.delete(v.uid)},h=Be(new Map),m=v=>{h.value.set(v.uid,v)},y=v=>{h.value.delete(v.uid)};e.provide(mv,{countStack:s,lastStack:n,registry:Gn(h),stack:r,pushStack:u,removeStack:d,pushRegistry:m,removeRegistry:y})}},b1={install(e){const t=Be(new Map),s=y=>{var v;const w=Jt(y),T=((v=w.value)==null?void 0:v.id)||Symbol("Popover controller");return it(w,P=>{t.value.set(T,{...P,...typeof P.modelValue<"u"&&Lt(y)?{"onUpdate:modelValue":O=>{var F;(F=P["onUpdate:modelValue"])==null||F.call(P,O),y.value.modelValue=O}}:{}})},{immediate:!0,deep:!0}),Vl(()=>t.value.delete(T),!0),T},r=(y,v)=>{const w=t.value.get(y);w&&t.value.set(y,{...w,...mt(v)})},n=y=>t.value.delete(y),u=Be(new Map),d=y=>{var v;const w=Jt(y),T=((v=w.value)==null?void 0:v.id)||Symbol("Tooltip controller");return it(w,P=>{t.value.set(T,{...P,...typeof P.modelValue<"u"&&Lt(y)?{"onUpdate:modelValue":O=>{var F;(F=P["onUpdate:modelValue"])==null||F.call(P,O),y.value.modelValue=O}}:{}})},{immediate:!0,deep:!0}),Vl(()=>u.value.delete(T),!0),T},h=(y,v)=>{const w=u.value.get(y);w&&u.value.set(y,{...w,...mt(v)})},m=y=>u.value.delete(y);e.provide(yk,{popovers:t,tooltips:u,tooltip:d,popover:s,setPopover:r,setTooltip:h,removePopover:n,removeTooltip:m})}},w1={install(e,t){var s,r;const d=typeof(t==null?void 0:t.rtl)=="boolean"?!1:((s=t==null?void 0:t.rtl)==null?void 0:s.rtlInitial)??!1,h=typeof(t==null?void 0:t.rtl)=="boolean"?void 0:((r=t==null?void 0:t.rtl)==null?void 0:r.localeInitial)??void 0,m=Be(d),y=Be(h);e.provide(hk,{isRtl:m,locale:y})}},k1="top-end",L1={install(e){const t=Be([]),s=Be(!1),r=h=>{s.value=h},n=(h={})=>{var m,y,v,w;const T=Jt(h.props),P=((m=T.value)==null?void 0:m.id)||Symbol("Toast controller"),O={component:h.component?fs(h.component):void 0,props:{...T.value,pos:((y=T.value)==null?void 0:y.pos)||k1,_modelValue:((v=T.value)==null?void 0:v.value)||5e3,_self:P}};return(((w=T.value)==null?void 0:w.appendToast)!==void 0?T.value.appendToast:s.value)?t.value.push(O):t.value.unshift(O),it(T,F=>{const j=t.value.findIndex(A=>A.props._self===P);j!==-1&&t.value.splice(j,1,{component:h.component?fs(h.component):void 0,props:{...t.value[j].props,...F,_modelValue:(F==null?void 0:F.value)||t.value[j].props._modelValue||5e3}})}),P},u=h=>{t.value=t.value.filter(m=>m.props._self!==h)},d=h=>{const m=t.value.findIndex(y=>y.props._self===h);m!==-1&&t.value.splice(m,1,{component:t.value[m].component?fs(t.value[m].component):void 0,props:{...t.value[m].props,_modelValue:!1}})};e.provide(_k,{_setIsAppend:r,toasts:t,show:n,remove:u,leave:d})}},E1={install(e){const t=aa({}),s=({id:r,value:n,toggle:u,show:d,hide:h})=>(t[r]=he(()=>({value:n.value,toggle:u,show:d,hide:h})),{unregister(){delete t[r]}});s.map=Gn(t),e.provide(Uc,s)}},x1=(e={})=>({install(t){(e.breadcrumb??!0)&&t.use(_1),(e.modalController??!0)&&t.use(v1),(e.modalManager??!0)&&t.use(y1),((e.rtl??!0)||typeof e.rtl=="object")&&t.use(w1,e),(e.toast??!0)&&t.use(L1),(e.popover??!0)&&t.use(b1),t.use(E1),t.use(g1,e)}});/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const lc=typeof window<"u",xs=(e,t=!1)=>t?Symbol.for(e):Symbol(e),T1=(e,t,s)=>S1({l:e,k:t,s}),S1=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),nn=e=>typeof e=="number"&&isFinite(e),C1=e=>mh(e)==="[object Date]",ro=e=>mh(e)==="[object RegExp]",Wc=e=>pt(e)&&Object.keys(e).length===0,ln=Object.assign,P1=Object.create,Dt=(e=null)=>P1(e);let rm;const ta=()=>rm||(rm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Dt());function sm(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const I1=Object.prototype.hasOwnProperty;function Oi(e,t){return I1.call(e,t)}const Kt=Array.isArray,Ut=e=>typeof e=="function",je=e=>typeof e=="string",Tt=e=>typeof e=="boolean",Ct=e=>e!==null&&typeof e=="object",N1=e=>Ct(e)&&Ut(e.then)&&Ut(e.catch),dy=Object.prototype.toString,mh=e=>dy.call(e),pt=e=>mh(e)==="[object Object]",M1=e=>e==null?"":Kt(e)||pt(e)&&e.toString===dy?JSON.stringify(e,null,2):String(e);function gh(e,t=""){return e.reduce((s,r,n)=>n===0?s+r:s+t+r,"")}function O1(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const kl=e=>!Ct(e)||Kt(e);function Dl(e,t){if(kl(e)||kl(t))throw new Error("Invalid value");const s=[{src:e,des:t}];for(;s.length;){const{src:r,des:n}=s.pop();Object.keys(r).forEach(u=>{u!=="__proto__"&&(Ct(r[u])&&!Ct(n[u])&&(n[u]=Array.isArray(r[u])?[]:Dt()),kl(n[u])||kl(r[u])?n[u]=r[u]:s.push({src:r[u],des:n[u]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function A1(e,t,s){return{line:e,column:t,offset:s}}function cf(e,t,s){return{start:e,end:t}}const At={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},R1=17;function Zc(e,t,s={}){const{domain:r,messages:n,args:u}=s,d=e,h=new SyntaxError(String(d));return h.code=e,t&&(h.location=t),h.domain=r,h}function D1(e){throw e}const Sr=" ",B1="\r",Bn=`
`,F1="\u2028",z1="\u2029";function $1(e){const t=e;let s=0,r=1,n=1,u=0;const d=S=>t[S]===B1&&t[S+1]===Bn,h=S=>t[S]===Bn,m=S=>t[S]===z1,y=S=>t[S]===F1,v=S=>d(S)||h(S)||m(S)||y(S),w=()=>s,T=()=>r,P=()=>n,O=()=>u,F=S=>d(S)||m(S)||y(S)?Bn:t[S],j=()=>F(s),A=()=>F(s+u);function U(){return u=0,v(s)&&(r++,n=0),d(s)&&s++,s++,n++,t[s]}function H(){return d(s+u)&&u++,u++,t[s+u]}function _(){s=0,r=1,n=1,u=0}function x(S=0){u=S}function k(){const S=s+u;for(;S!==s;)U();u=0}return{index:w,line:T,column:P,peekOffset:O,charAt:F,currentChar:j,currentPeek:A,next:U,peek:H,reset:_,resetPeek:x,skipToPeek:k}}const rs=void 0,U1=".",am="'",G1="tokenizer";function H1(e,t={}){const s=t.location!==!1,r=$1(e),n=()=>r.index(),u=()=>A1(r.line(),r.column(),r.index()),d=u(),h=n(),m={currentType:13,offset:h,startLoc:d,endLoc:d,lastType:13,lastOffset:h,lastStartLoc:d,lastEndLoc:d,braceNest:0,inLinked:!1,text:""},y=()=>m,{onError:v}=t;function w(Y,z,oe,...me){const $e=y();if(z.column+=oe,z.offset+=oe,v){const Se=s?cf($e.startLoc,z):null,re=Zc(Y,Se,{domain:G1,args:me});v(re)}}function T(Y,z,oe){Y.endLoc=u(),Y.currentType=z;const me={type:z};return s&&(me.loc=cf(Y.startLoc,Y.endLoc)),oe!=null&&(me.value=oe),me}const P=Y=>T(Y,13);function O(Y,z){return Y.currentChar()===z?(Y.next(),z):(w(At.EXPECTED_TOKEN,u(),0,z),"")}function F(Y){let z="";for(;Y.currentPeek()===Sr||Y.currentPeek()===Bn;)z+=Y.currentPeek(),Y.peek();return z}function j(Y){const z=F(Y);return Y.skipToPeek(),z}function A(Y){if(Y===rs)return!1;const z=Y.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z===95}function U(Y){if(Y===rs)return!1;const z=Y.charCodeAt(0);return z>=48&&z<=57}function H(Y,z){const{currentType:oe}=z;if(oe!==2)return!1;F(Y);const me=A(Y.currentPeek());return Y.resetPeek(),me}function _(Y,z){const{currentType:oe}=z;if(oe!==2)return!1;F(Y);const me=Y.currentPeek()==="-"?Y.peek():Y.currentPeek(),$e=U(me);return Y.resetPeek(),$e}function x(Y,z){const{currentType:oe}=z;if(oe!==2)return!1;F(Y);const me=Y.currentPeek()===am;return Y.resetPeek(),me}function k(Y,z){const{currentType:oe}=z;if(oe!==7)return!1;F(Y);const me=Y.currentPeek()===".";return Y.resetPeek(),me}function S(Y,z){const{currentType:oe}=z;if(oe!==8)return!1;F(Y);const me=A(Y.currentPeek());return Y.resetPeek(),me}function B(Y,z){const{currentType:oe}=z;if(!(oe===7||oe===11))return!1;F(Y);const me=Y.currentPeek()===":";return Y.resetPeek(),me}function D(Y,z){const{currentType:oe}=z;if(oe!==9)return!1;const me=()=>{const Se=Y.currentPeek();return Se==="{"?A(Y.peek()):Se==="@"||Se==="|"||Se===":"||Se==="."||Se===Sr||!Se?!1:Se===Bn?(Y.peek(),me()):X(Y,!1)},$e=me();return Y.resetPeek(),$e}function R(Y){F(Y);const z=Y.currentPeek()==="|";return Y.resetPeek(),z}function X(Y,z=!0){const oe=($e=!1,Se="")=>{const re=Y.currentPeek();return re==="{"||re==="@"||!re?$e:re==="|"?!(Se===Sr||Se===Bn):re===Sr?(Y.peek(),oe(!0,Sr)):re===Bn?(Y.peek(),oe(!0,Bn)):!0},me=oe();return z&&Y.resetPeek(),me}function ee(Y,z){const oe=Y.currentChar();return oe===rs?rs:z(oe)?(Y.next(),oe):null}function q(Y){const z=Y.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36}function Z(Y){return ee(Y,q)}function ne(Y){const z=Y.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36||z===45}function V(Y){return ee(Y,ne)}function te(Y){const z=Y.charCodeAt(0);return z>=48&&z<=57}function ae(Y){return ee(Y,te)}function ve(Y){const z=Y.charCodeAt(0);return z>=48&&z<=57||z>=65&&z<=70||z>=97&&z<=102}function ce(Y){return ee(Y,ve)}function ke(Y){let z="",oe="";for(;z=ae(Y);)oe+=z;return oe}function De(Y){let z="";for(;;){const oe=Y.currentChar();if(oe==="{"||oe==="}"||oe==="@"||oe==="|"||!oe)break;if(oe===Sr||oe===Bn)if(X(Y))z+=oe,Y.next();else{if(R(Y))break;z+=oe,Y.next()}else z+=oe,Y.next()}return z}function Ae(Y){j(Y);let z="",oe="";for(;z=V(Y);)oe+=z;return Y.currentChar()===rs&&w(At.UNTERMINATED_CLOSING_BRACE,u(),0),oe}function Pe(Y){j(Y);let z="";return Y.currentChar()==="-"?(Y.next(),z+=`-${ke(Y)}`):z+=ke(Y),Y.currentChar()===rs&&w(At.UNTERMINATED_CLOSING_BRACE,u(),0),z}function Ee(Y){return Y!==am&&Y!==Bn}function xe(Y){j(Y),O(Y,"'");let z="",oe="";for(;z=ee(Y,Ee);)z==="\\"?oe+=de(Y):oe+=z;const me=Y.currentChar();return me===Bn||me===rs?(w(At.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,u(),0),me===Bn&&(Y.next(),O(Y,"'")),oe):(O(Y,"'"),oe)}function de(Y){const z=Y.currentChar();switch(z){case"\\":case"'":return Y.next(),`\\${z}`;case"u":return K(Y,z,4);case"U":return K(Y,z,6);default:return w(At.UNKNOWN_ESCAPE_SEQUENCE,u(),0,z),""}}function K(Y,z,oe){O(Y,z);let me="";for(let $e=0;$e<oe;$e++){const Se=ce(Y);if(!Se){w(At.INVALID_UNICODE_ESCAPE_SEQUENCE,u(),0,`\\${z}${me}${Y.currentChar()}`);break}me+=Se}return`\\${z}${me}`}function Te(Y){return Y!=="{"&&Y!=="}"&&Y!==Sr&&Y!==Bn}function Ne(Y){j(Y);let z="",oe="";for(;z=ee(Y,Te);)oe+=z;return oe}function Me(Y){let z="",oe="";for(;z=Z(Y);)oe+=z;return oe}function N(Y){const z=oe=>{const me=Y.currentChar();return me==="{"||me==="@"||me==="|"||me==="("||me===")"||!me||me===Sr?oe:(oe+=me,Y.next(),z(oe))};return z("")}function Q(Y){j(Y);const z=O(Y,"|");return j(Y),z}function se(Y,z){let oe=null;switch(Y.currentChar()){case"{":return z.braceNest>=1&&w(At.NOT_ALLOW_NEST_PLACEHOLDER,u(),0),Y.next(),oe=T(z,2,"{"),j(Y),z.braceNest++,oe;case"}":return z.braceNest>0&&z.currentType===2&&w(At.EMPTY_PLACEHOLDER,u(),0),Y.next(),oe=T(z,3,"}"),z.braceNest--,z.braceNest>0&&j(Y),z.inLinked&&z.braceNest===0&&(z.inLinked=!1),oe;case"@":return z.braceNest>0&&w(At.UNTERMINATED_CLOSING_BRACE,u(),0),oe=_e(Y,z)||P(z),z.braceNest=0,oe;default:{let $e=!0,Se=!0,re=!0;if(R(Y))return z.braceNest>0&&w(At.UNTERMINATED_CLOSING_BRACE,u(),0),oe=T(z,1,Q(Y)),z.braceNest=0,z.inLinked=!1,oe;if(z.braceNest>0&&(z.currentType===4||z.currentType===5||z.currentType===6))return w(At.UNTERMINATED_CLOSING_BRACE,u(),0),z.braceNest=0,Le(Y,z);if($e=H(Y,z))return oe=T(z,4,Ae(Y)),j(Y),oe;if(Se=_(Y,z))return oe=T(z,5,Pe(Y)),j(Y),oe;if(re=x(Y,z))return oe=T(z,6,xe(Y)),j(Y),oe;if(!$e&&!Se&&!re)return oe=T(z,12,Ne(Y)),w(At.INVALID_TOKEN_IN_PLACEHOLDER,u(),0,oe.value),j(Y),oe;break}}return oe}function _e(Y,z){const{currentType:oe}=z;let me=null;const $e=Y.currentChar();switch((oe===7||oe===8||oe===11||oe===9)&&($e===Bn||$e===Sr)&&w(At.INVALID_LINKED_FORMAT,u(),0),$e){case"@":return Y.next(),me=T(z,7,"@"),z.inLinked=!0,me;case".":return j(Y),Y.next(),T(z,8,".");case":":return j(Y),Y.next(),T(z,9,":");default:return R(Y)?(me=T(z,1,Q(Y)),z.braceNest=0,z.inLinked=!1,me):k(Y,z)||B(Y,z)?(j(Y),_e(Y,z)):S(Y,z)?(j(Y),T(z,11,Me(Y))):D(Y,z)?(j(Y),$e==="{"?se(Y,z)||me:T(z,10,N(Y))):(oe===7&&w(At.INVALID_LINKED_FORMAT,u(),0),z.braceNest=0,z.inLinked=!1,Le(Y,z))}}function Le(Y,z){let oe={type:13};if(z.braceNest>0)return se(Y,z)||P(z);if(z.inLinked)return _e(Y,z)||P(z);switch(Y.currentChar()){case"{":return se(Y,z)||P(z);case"}":return w(At.UNBALANCED_CLOSING_BRACE,u(),0),Y.next(),T(z,3,"}");case"@":return _e(Y,z)||P(z);default:{if(R(Y))return oe=T(z,1,Q(Y)),z.braceNest=0,z.inLinked=!1,oe;if(X(Y))return T(z,0,De(Y));break}}return oe}function we(){const{currentType:Y,offset:z,startLoc:oe,endLoc:me}=m;return m.lastType=Y,m.lastOffset=z,m.lastStartLoc=oe,m.lastEndLoc=me,m.offset=n(),m.startLoc=u(),r.currentChar()===rs?T(m,13):Le(r,m)}return{nextToken:we,currentOffset:n,currentPosition:u,context:y}}const V1="parser",j1=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function q1(e,t,s){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||s,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function W1(e={}){const t=e.location!==!1,{onError:s}=e;function r(A,U,H,_,...x){const k=A.currentPosition();if(k.offset+=_,k.column+=_,s){const S=t?cf(H,k):null,B=Zc(U,S,{domain:V1,args:x});s(B)}}function n(A,U,H){const _={type:A};return t&&(_.start=U,_.end=U,_.loc={start:H,end:H}),_}function u(A,U,H,_){t&&(A.end=U,A.loc&&(A.loc.end=H))}function d(A,U){const H=A.context(),_=n(3,H.offset,H.startLoc);return _.value=U,u(_,A.currentOffset(),A.currentPosition()),_}function h(A,U){const H=A.context(),{lastOffset:_,lastStartLoc:x}=H,k=n(5,_,x);return k.index=parseInt(U,10),A.nextToken(),u(k,A.currentOffset(),A.currentPosition()),k}function m(A,U){const H=A.context(),{lastOffset:_,lastStartLoc:x}=H,k=n(4,_,x);return k.key=U,A.nextToken(),u(k,A.currentOffset(),A.currentPosition()),k}function y(A,U){const H=A.context(),{lastOffset:_,lastStartLoc:x}=H,k=n(9,_,x);return k.value=U.replace(j1,q1),A.nextToken(),u(k,A.currentOffset(),A.currentPosition()),k}function v(A){const U=A.nextToken(),H=A.context(),{lastOffset:_,lastStartLoc:x}=H,k=n(8,_,x);return U.type!==11?(r(A,At.UNEXPECTED_EMPTY_LINKED_MODIFIER,H.lastStartLoc,0),k.value="",u(k,_,x),{nextConsumeToken:U,node:k}):(U.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,H.lastStartLoc,0,ir(U)),k.value=U.value||"",u(k,A.currentOffset(),A.currentPosition()),{node:k})}function w(A,U){const H=A.context(),_=n(7,H.offset,H.startLoc);return _.value=U,u(_,A.currentOffset(),A.currentPosition()),_}function T(A){const U=A.context(),H=n(6,U.offset,U.startLoc);let _=A.nextToken();if(_.type===8){const x=v(A);H.modifier=x.node,_=x.nextConsumeToken||A.nextToken()}switch(_.type!==9&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(_)),_=A.nextToken(),_.type===2&&(_=A.nextToken()),_.type){case 10:_.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(_)),H.key=w(A,_.value||"");break;case 4:_.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(_)),H.key=m(A,_.value||"");break;case 5:_.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(_)),H.key=h(A,_.value||"");break;case 6:_.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(_)),H.key=y(A,_.value||"");break;default:{r(A,At.UNEXPECTED_EMPTY_LINKED_KEY,U.lastStartLoc,0);const x=A.context(),k=n(7,x.offset,x.startLoc);return k.value="",u(k,x.offset,x.startLoc),H.key=k,u(H,x.offset,x.startLoc),{nextConsumeToken:_,node:H}}}return u(H,A.currentOffset(),A.currentPosition()),{node:H}}function P(A){const U=A.context(),H=U.currentType===1?A.currentOffset():U.offset,_=U.currentType===1?U.endLoc:U.startLoc,x=n(2,H,_);x.items=[];let k=null;do{const D=k||A.nextToken();switch(k=null,D.type){case 0:D.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(D)),x.items.push(d(A,D.value||""));break;case 5:D.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(D)),x.items.push(h(A,D.value||""));break;case 4:D.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(D)),x.items.push(m(A,D.value||""));break;case 6:D.value==null&&r(A,At.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,ir(D)),x.items.push(y(A,D.value||""));break;case 7:{const R=T(A);x.items.push(R.node),k=R.nextConsumeToken||null;break}}}while(U.currentType!==13&&U.currentType!==1);const S=U.currentType===1?U.lastOffset:A.currentOffset(),B=U.currentType===1?U.lastEndLoc:A.currentPosition();return u(x,S,B),x}function O(A,U,H,_){const x=A.context();let k=_.items.length===0;const S=n(1,U,H);S.cases=[],S.cases.push(_);do{const B=P(A);k||(k=B.items.length===0),S.cases.push(B)}while(x.currentType!==13);return k&&r(A,At.MUST_HAVE_MESSAGES_IN_PLURAL,H,0),u(S,A.currentOffset(),A.currentPosition()),S}function F(A){const U=A.context(),{offset:H,startLoc:_}=U,x=P(A);return U.currentType===13?x:O(A,H,_,x)}function j(A){const U=H1(A,ln({},e)),H=U.context(),_=n(0,H.offset,H.startLoc);return t&&_.loc&&(_.loc.source=A),_.body=F(U),e.onCacheKey&&(_.cacheKey=e.onCacheKey(A)),H.currentType!==13&&r(U,At.UNEXPECTED_LEXICAL_ANALYSIS,H.lastStartLoc,0,A[H.offset]||""),u(_,U.currentOffset(),U.currentPosition()),_}return{parse:j}}function ir(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function Z1(e,t={}){const s={ast:e,helpers:new Set};return{context:()=>s,helper:u=>(s.helpers.add(u),u)}}function om(e,t){for(let s=0;s<e.length;s++)_h(e[s],t)}function _h(e,t){switch(e.type){case 1:om(e.cases,t),t.helper("plural");break;case 2:om(e.items,t);break;case 6:{_h(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Y1(e,t={}){const s=Z1(e);s.helper("normalize"),e.body&&_h(e.body,s);const r=s.context();e.helpers=Array.from(r.helpers)}function X1(e){const t=e.body;return t.type===2?um(t):t.cases.forEach(s=>um(s)),e}function um(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let s=0;s<e.items.length;s++){const r=e.items[s];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=gh(t);for(let s=0;s<e.items.length;s++){const r=e.items[s];(r.type===3||r.type===9)&&delete r.value}}}}function Ha(e){switch(e.t=e.type,e.type){case 0:{const t=e;Ha(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,s=t.cases;for(let r=0;r<s.length;r++)Ha(s[r]);t.c=s,delete t.cases;break}case 2:{const t=e,s=t.items;for(let r=0;r<s.length;r++)Ha(s[r]);t.i=s,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Ha(t.key),t.k=t.key,delete t.key,t.modifier&&(Ha(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function K1(e,t){const{sourceMap:s,filename:r,breakLineCode:n,needIndent:u}=t,d=t.location!==!1,h={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:u,indentLevel:0};d&&e.loc&&(h.source=e.loc.source);const m=()=>h;function y(j,A){h.code+=j}function v(j,A=!0){const U=A?n:"";y(u?U+"  ".repeat(j):U)}function w(j=!0){const A=++h.indentLevel;j&&v(A)}function T(j=!0){const A=--h.indentLevel;j&&v(A)}function P(){v(h.indentLevel)}return{context:m,push:y,indent:w,deindent:T,newline:P,helper:j=>`_${j}`,needIndent:()=>h.needIndent}}function J1(e,t){const{helper:s}=e;e.push(`${s("linked")}(`),so(e,t.key),t.modifier?(e.push(", "),so(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Q1(e,t){const{helper:s,needIndent:r}=e;e.push(`${s("normalize")}([`),e.indent(r());const n=t.items.length;for(let u=0;u<n&&(so(e,t.items[u]),u!==n-1);u++)e.push(", ");e.deindent(r()),e.push("])")}function ex(e,t){const{helper:s,needIndent:r}=e;if(t.cases.length>1){e.push(`${s("plural")}([`),e.indent(r());const n=t.cases.length;for(let u=0;u<n&&(so(e,t.cases[u]),u!==n-1);u++)e.push(", ");e.deindent(r()),e.push("])")}}function tx(e,t){t.body?so(e,t.body):e.push("null")}function so(e,t){const{helper:s}=e;switch(t.type){case 0:tx(e,t);break;case 1:ex(e,t);break;case 2:Q1(e,t);break;case 6:J1(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${s("interpolate")}(${s("list")}(${t.index}))`,t);break;case 4:e.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const nx=(e,t={})=>{const s=je(t.mode)?t.mode:"normal",r=je(t.filename)?t.filename:"message.intl",n=!!t.sourceMap,u=t.breakLineCode!=null?t.breakLineCode:s==="arrow"?";":`
`,d=t.needIndent?t.needIndent:s!=="arrow",h=e.helpers||[],m=K1(e,{mode:s,filename:r,sourceMap:n,breakLineCode:u,needIndent:d});m.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),m.indent(d),h.length>0&&(m.push(`const { ${gh(h.map(w=>`${w}: _${w}`),", ")} } = ctx`),m.newline()),m.push("return "),so(m,e),m.deindent(d),m.push("}"),delete e.helpers;const{code:y,map:v}=m.context();return{ast:e,code:y,map:v?v.toJSON():void 0}};function ix(e,t={}){const s=ln({},t),r=!!s.jit,n=!!s.minify,u=s.optimize==null?!0:s.optimize,h=W1(s).parse(e);return r?(u&&X1(h),n&&Ha(h),{ast:h,code:""}):(Y1(h,s),nx(h,s))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function rx(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ta().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ta().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Od(e){return s=>sx(s,e)}function sx(e,t){const s=ox(t);if(s==null)throw Pu(0);if(vh(s)===1){const u=lx(s);return e.plural(u.reduce((d,h)=>[...d,lm(e,h)],[]))}else return lm(e,s)}const ax=["b","body"];function ox(e){return Ts(e,ax)}const ux=["c","cases"];function lx(e){return Ts(e,ux,[])}function lm(e,t){const s=dx(t);if(s!=null)return e.type==="text"?s:e.normalize([s]);{const r=hx(t).reduce((n,u)=>[...n,df(e,u)],[]);return e.normalize(r)}}const cx=["s","static"];function dx(e){return Ts(e,cx)}const fx=["i","items"];function hx(e){return Ts(e,fx,[])}function df(e,t){const s=vh(t);switch(s){case 3:return Ll(t,s);case 9:return Ll(t,s);case 4:{const r=t;if(Oi(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(Oi(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Pu(s)}case 5:{const r=t;if(Oi(r,"i")&&nn(r.i))return e.interpolate(e.list(r.i));if(Oi(r,"index")&&nn(r.index))return e.interpolate(e.list(r.index));throw Pu(s)}case 6:{const r=t,n=_x(r),u=yx(r);return e.linked(df(e,u),n?df(e,n):void 0,e.type)}case 7:return Ll(t,s);case 8:return Ll(t,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const px=["t","type"];function vh(e){return Ts(e,px)}const mx=["v","value"];function Ll(e,t){const s=Ts(e,mx);if(s)return s;throw Pu(t)}const gx=["m","modifier"];function _x(e){return Ts(e,gx)}const vx=["k","key"];function yx(e){const t=Ts(e,vx);if(t)return t;throw Pu(6)}function Ts(e,t,s){for(let r=0;r<t.length;r++){const n=t[r];if(Oi(e,n)&&e[n]!=null)return e[n]}return s}function Pu(e){return new Error(`unhandled node type: ${e}`)}const bx=e=>e;let El=Dt();function ao(e){return Ct(e)&&vh(e)===0&&(Oi(e,"b")||Oi(e,"body"))}function wx(e,t={}){let s=!1;const r=t.onError||D1;return t.onError=n=>{s=!0,r(n)},{...ix(e,t),detectError:s}}function kx(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&je(e)){Tt(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||bx)(e),n=El[r];if(n)return n;const{ast:u,detectError:d}=wx(e,{...t,location:!1,jit:!0}),h=Od(u);return d?h:El[r]=h}else{const s=e.cacheKey;if(s){const r=El[s];return r||(El[s]=Od(e))}else return Od(e)}}let Iu=null;function Lx(e){Iu=e}function Ex(e,t,s){Iu&&Iu.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:s})}const xx=Tx("function:translate");function Tx(e){return t=>Iu&&Iu.emit(e,t)}const Dr={INVALID_ARGUMENT:R1,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Sx=24;function Br(e){return Zc(e,null,void 0)}function yh(e,t){return t.locale!=null?cm(t.locale):cm(e.locale)}let Ad;function cm(e){if(je(e))return e;if(Ut(e)){if(e.resolvedOnce&&Ad!=null)return Ad;if(e.constructor.name==="Function"){const t=e();if(N1(t))throw Br(Dr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ad=t}else throw Br(Dr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Br(Dr.NOT_SUPPORT_LOCALE_TYPE)}function Cx(e,t,s){return[...new Set([s,...Kt(t)?t:Ct(t)?Object.keys(t):je(t)?[t]:[s]])]}function fy(e,t,s){const r=je(s)?s:Nu,n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let u=n.__localeChainCache.get(r);if(!u){u=[];let d=[s];for(;Kt(d);)d=dm(u,d,t);const h=Kt(t)||!pt(t)?t:t.default?t.default:null;d=je(h)?[h]:h,Kt(d)&&dm(u,d,!1),n.__localeChainCache.set(r,u)}return u}function dm(e,t,s){let r=!0;for(let n=0;n<t.length&&Tt(r);n++){const u=t[n];je(u)&&(r=Px(e,t[n],s))}return r}function Px(e,t,s){let r;const n=t.split("-");do{const u=n.join("-");r=Ix(e,u,s),n.splice(-1,1)}while(n.length&&r===!0);return r}function Ix(e,t,s){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const n=t.replace(/!/g,"");e.push(n),(Kt(s)||pt(s))&&s[n]&&(r=s[n])}return r}const Ss=[];Ss[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ss[1]={w:[1],".":[2],"[":[4],o:[7]};Ss[2]={w:[2],i:[3,0],0:[3,0]};Ss[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ss[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ss[5]={"'":[4,0],o:8,l:[5,0]};Ss[6]={'"':[4,0],o:8,l:[6,0]};const Nx=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Mx(e){return Nx.test(e)}function Ox(e){const t=e.charCodeAt(0),s=e.charCodeAt(e.length-1);return t===s&&(t===34||t===39)?e.slice(1,-1):e}function Ax(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Rx(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Mx(t)?Ox(t):"*"+t}function Dx(e){const t=[];let s=-1,r=0,n=0,u,d,h,m,y,v,w;const T=[];T[0]=()=>{d===void 0?d=h:d+=h},T[1]=()=>{d!==void 0&&(t.push(d),d=void 0)},T[2]=()=>{T[0](),n++},T[3]=()=>{if(n>0)n--,r=4,T[0]();else{if(n=0,d===void 0||(d=Rx(d),d===!1))return!1;T[1]()}};function P(){const O=e[s+1];if(r===5&&O==="'"||r===6&&O==='"')return s++,h="\\"+O,T[0](),!0}for(;r!==null;)if(s++,u=e[s],!(u==="\\"&&P())){if(m=Ax(u),w=Ss[r],y=w[m]||w.l||8,y===8||(r=y[0],y[1]!==void 0&&(v=T[y[1]],v&&(h=u,v()===!1))))return;if(r===7)return t}}const fm=new Map;function Bx(e,t){return Ct(e)?e[t]:null}function Fx(e,t){if(!Ct(e))return null;let s=fm.get(t);if(s||(s=Dx(t),s&&fm.set(t,s)),!s)return null;const r=s.length;let n=e,u=0;for(;u<r;){const d=n[s[u]];if(d===void 0||Ut(n))return null;n=d,u++}return n}const zx="10.0.5",Yc=-1,Nu="en-US",hm="",pm=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function $x(){return{upper:(e,t)=>t==="text"&&je(e)?e.toUpperCase():t==="vnode"&&Ct(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&je(e)?e.toLowerCase():t==="vnode"&&Ct(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&je(e)?pm(e):t==="vnode"&&Ct(e)&&"__v_isVNode"in e?pm(e.children):e}}let hy;function Ux(e){hy=e}let py;function Gx(e){py=e}let my;function Hx(e){my=e}let gy=null;const Vx=e=>{gy=e},jx=()=>gy;let _y=null;const mm=e=>{_y=e},qx=()=>_y;let gm=0;function Wx(e={}){const t=Ut(e.onWarn)?e.onWarn:O1,s=je(e.version)?e.version:zx,r=je(e.locale)||Ut(e.locale)?e.locale:Nu,n=Ut(r)?Nu:r,u=Kt(e.fallbackLocale)||pt(e.fallbackLocale)||je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,d=pt(e.messages)?e.messages:Rd(n),h=pt(e.datetimeFormats)?e.datetimeFormats:Rd(n),m=pt(e.numberFormats)?e.numberFormats:Rd(n),y=ln(Dt(),e.modifiers,$x()),v=e.pluralRules||Dt(),w=Ut(e.missing)?e.missing:null,T=Tt(e.missingWarn)||ro(e.missingWarn)?e.missingWarn:!0,P=Tt(e.fallbackWarn)||ro(e.fallbackWarn)?e.fallbackWarn:!0,O=!!e.fallbackFormat,F=!!e.unresolving,j=Ut(e.postTranslation)?e.postTranslation:null,A=pt(e.processor)?e.processor:null,U=Tt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,H=!!e.escapeParameter,_=Ut(e.messageCompiler)?e.messageCompiler:hy,x=Ut(e.messageResolver)?e.messageResolver:py||Bx,k=Ut(e.localeFallbacker)?e.localeFallbacker:my||Cx,S=Ct(e.fallbackContext)?e.fallbackContext:void 0,B=e,D=Ct(B.__datetimeFormatters)?B.__datetimeFormatters:new Map,R=Ct(B.__numberFormatters)?B.__numberFormatters:new Map,X=Ct(B.__meta)?B.__meta:{};gm++;const ee={version:s,cid:gm,locale:r,fallbackLocale:u,messages:d,modifiers:y,pluralRules:v,missing:w,missingWarn:T,fallbackWarn:P,fallbackFormat:O,unresolving:F,postTranslation:j,processor:A,warnHtmlMessage:U,escapeParameter:H,messageCompiler:_,messageResolver:x,localeFallbacker:k,fallbackContext:S,onWarn:t,__meta:X};return ee.datetimeFormats=h,ee.numberFormats=m,ee.__datetimeFormatters=D,ee.__numberFormatters=R,__INTLIFY_PROD_DEVTOOLS__&&Ex(ee,s,X),ee}const Rd=e=>({[e]:Dt()});function bh(e,t,s,r,n){const{missing:u,onWarn:d}=e;if(u!==null){const h=u(e,s,t,n);return je(h)?h:t}else return t}function Jo(e,t,s){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,s,t)}function Zx(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Yx(e,t){const s=t.indexOf(e);if(s===-1)return!1;for(let r=s+1;r<t.length;r++)if(Zx(e,t[r]))return!0;return!1}function _m(e,...t){const{datetimeFormats:s,unresolving:r,fallbackLocale:n,onWarn:u,localeFallbacker:d}=e,{__datetimeFormatters:h}=e,[m,y,v,w]=ff(...t),T=Tt(v.missingWarn)?v.missingWarn:e.missingWarn;Tt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const P=!!v.part,O=yh(e,v),F=d(e,n,O);if(!je(m)||m==="")return new Intl.DateTimeFormat(O,w).format(y);let j={},A,U=null;const H="datetime format";for(let k=0;k<F.length&&(A=F[k],j=s[A]||{},U=j[m],!pt(U));k++)bh(e,m,A,T,H);if(!pt(U)||!je(A))return r?Yc:m;let _=`${A}__${m}`;Wc(w)||(_=`${_}__${JSON.stringify(w)}`);let x=h.get(_);return x||(x=new Intl.DateTimeFormat(A,ln({},U,w)),h.set(_,x)),P?x.formatToParts(y):x.format(y)}const vy=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function ff(...e){const[t,s,r,n]=e,u=Dt();let d=Dt(),h;if(je(t)){const m=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!m)throw Br(Dr.INVALID_ISO_DATE_ARGUMENT);const y=m[3]?m[3].trim().startsWith("T")?`${m[1].trim()}${m[3].trim()}`:`${m[1].trim()}T${m[3].trim()}`:m[1].trim();h=new Date(y);try{h.toISOString()}catch{throw Br(Dr.INVALID_ISO_DATE_ARGUMENT)}}else if(C1(t)){if(isNaN(t.getTime()))throw Br(Dr.INVALID_DATE_ARGUMENT);h=t}else if(nn(t))h=t;else throw Br(Dr.INVALID_ARGUMENT);return je(s)?u.key=s:pt(s)&&Object.keys(s).forEach(m=>{vy.includes(m)?d[m]=s[m]:u[m]=s[m]}),je(r)?u.locale=r:pt(r)&&(d=r),pt(n)&&(d=n),[u.key||"",h,u,d]}function vm(e,t,s){const r=e;for(const n in s){const u=`${t}__${n}`;r.__datetimeFormatters.has(u)&&r.__datetimeFormatters.delete(u)}}function ym(e,...t){const{numberFormats:s,unresolving:r,fallbackLocale:n,onWarn:u,localeFallbacker:d}=e,{__numberFormatters:h}=e,[m,y,v,w]=hf(...t),T=Tt(v.missingWarn)?v.missingWarn:e.missingWarn;Tt(v.fallbackWarn)?v.fallbackWarn:e.fallbackWarn;const P=!!v.part,O=yh(e,v),F=d(e,n,O);if(!je(m)||m==="")return new Intl.NumberFormat(O,w).format(y);let j={},A,U=null;const H="number format";for(let k=0;k<F.length&&(A=F[k],j=s[A]||{},U=j[m],!pt(U));k++)bh(e,m,A,T,H);if(!pt(U)||!je(A))return r?Yc:m;let _=`${A}__${m}`;Wc(w)||(_=`${_}__${JSON.stringify(w)}`);let x=h.get(_);return x||(x=new Intl.NumberFormat(A,ln({},U,w)),h.set(_,x)),P?x.formatToParts(y):x.format(y)}const yy=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function hf(...e){const[t,s,r,n]=e,u=Dt();let d=Dt();if(!nn(t))throw Br(Dr.INVALID_ARGUMENT);const h=t;return je(s)?u.key=s:pt(s)&&Object.keys(s).forEach(m=>{yy.includes(m)?d[m]=s[m]:u[m]=s[m]}),je(r)?u.locale=r:pt(r)&&(d=r),pt(n)&&(d=n),[u.key||"",h,u,d]}function bm(e,t,s){const r=e;for(const n in s){const u=`${t}__${n}`;r.__numberFormatters.has(u)&&r.__numberFormatters.delete(u)}}const Xx=e=>e,Kx=e=>"",Jx="text",Qx=e=>e.length===0?"":gh(e),eT=M1;function wm(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function tT(e){const t=nn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(nn(e.named.count)||nn(e.named.n))?nn(e.named.count)?e.named.count:nn(e.named.n)?e.named.n:t:t}function nT(e,t){t.count||(t.count=e),t.n||(t.n=e)}function iT(e={}){const t=e.locale,s=tT(e),r=Ct(e.pluralRules)&&je(t)&&Ut(e.pluralRules[t])?e.pluralRules[t]:wm,n=Ct(e.pluralRules)&&je(t)&&Ut(e.pluralRules[t])?wm:void 0,u=A=>A[r(s,A.length,n)],d=e.list||[],h=A=>d[A],m=e.named||Dt();nn(e.pluralIndex)&&nT(s,m);const y=A=>m[A];function v(A,U){const H=Ut(e.messages)?e.messages(A,!!U):Ct(e.messages)?e.messages[A]:!1;return H||(e.parent?e.parent.message(A):Kx)}const w=A=>e.modifiers?e.modifiers[A]:Xx,T=pt(e.processor)&&Ut(e.processor.normalize)?e.processor.normalize:Qx,P=pt(e.processor)&&Ut(e.processor.interpolate)?e.processor.interpolate:eT,O=pt(e.processor)&&je(e.processor.type)?e.processor.type:Jx,j={list:h,named:y,plural:u,linked:(A,...U)=>{const[H,_]=U;let x="text",k="";U.length===1?Ct(H)?(k=H.modifier||k,x=H.type||x):je(H)&&(k=H||k):U.length===2&&(je(H)&&(k=H||k),je(_)&&(x=_||x));const S=v(A,!0)(j),B=x==="vnode"&&Kt(S)&&k?S[0]:S;return k?w(k)(B,x):B},message:v,type:O,interpolate:P,normalize:T,values:ln(Dt(),d,m)};return j}const km=()=>"",ki=e=>Ut(e);function Lm(e,...t){const{fallbackFormat:s,postTranslation:r,unresolving:n,messageCompiler:u,fallbackLocale:d,messages:h}=e,[m,y]=pf(...t),v=Tt(y.missingWarn)?y.missingWarn:e.missingWarn,w=Tt(y.fallbackWarn)?y.fallbackWarn:e.fallbackWarn,T=Tt(y.escapeParameter)?y.escapeParameter:e.escapeParameter,P=!!y.resolvedMessage,O=je(y.default)||Tt(y.default)?Tt(y.default)?u?m:()=>m:y.default:s?u?m:()=>m:null,F=s||O!=null&&(je(O)||Ut(O)),j=yh(e,y);T&&rT(y);let[A,U,H]=P?[m,j,h[j]||Dt()]:by(e,m,j,d,w,v),_=A,x=m;if(!P&&!(je(_)||ao(_)||ki(_))&&F&&(_=O,x=_),!P&&(!(je(_)||ao(_)||ki(_))||!je(U)))return n?Yc:m;let k=!1;const S=()=>{k=!0},B=ki(_)?_:wy(e,m,U,_,x,S);if(k)return _;const D=oT(e,U,H,y),R=iT(D),X=sT(e,B,R),ee=r?r(X,m):X;if(__INTLIFY_PROD_DEVTOOLS__){const q={timestamp:Date.now(),key:je(m)?m:ki(_)?_.key:"",locale:U||(ki(_)?_.locale:""),format:je(_)?_:ki(_)?_.source:"",message:ee};q.meta=ln({},e.__meta,jx()||{}),xx(q)}return ee}function rT(e){Kt(e.list)?e.list=e.list.map(t=>je(t)?sm(t):t):Ct(e.named)&&Object.keys(e.named).forEach(t=>{je(e.named[t])&&(e.named[t]=sm(e.named[t]))})}function by(e,t,s,r,n,u){const{messages:d,onWarn:h,messageResolver:m,localeFallbacker:y}=e,v=y(e,r,s);let w=Dt(),T,P=null;const O="translate";for(let F=0;F<v.length&&(T=v[F],w=d[T]||Dt(),(P=m(w,t))===null&&(P=w[t]),!(je(P)||ao(P)||ki(P)));F++)if(!Yx(T,v)){const j=bh(e,t,T,u,O);j!==t&&(P=j)}return[P,T,w]}function wy(e,t,s,r,n,u){const{messageCompiler:d,warnHtmlMessage:h}=e;if(ki(r)){const y=r;return y.locale=y.locale||s,y.key=y.key||t,y}if(d==null){const y=()=>r;return y.locale=s,y.key=t,y}const m=d(r,aT(e,s,n,r,h,u));return m.locale=s,m.key=t,m.source=r,m}function sT(e,t,s){return t(s)}function pf(...e){const[t,s,r]=e,n=Dt();if(!je(t)&&!nn(t)&&!ki(t)&&!ao(t))throw Br(Dr.INVALID_ARGUMENT);const u=nn(t)?String(t):(ki(t),t);return nn(s)?n.plural=s:je(s)?n.default=s:pt(s)&&!Wc(s)?n.named=s:Kt(s)&&(n.list=s),nn(r)?n.plural=r:je(r)?n.default=r:pt(r)&&ln(n,r),[u,n]}function aT(e,t,s,r,n,u){return{locale:t,key:s,warnHtmlMessage:n,onError:d=>{throw u&&u(d),d},onCacheKey:d=>T1(t,s,d)}}function oT(e,t,s,r){const{modifiers:n,pluralRules:u,messageResolver:d,fallbackLocale:h,fallbackWarn:m,missingWarn:y,fallbackContext:v}=e,T={locale:t,modifiers:n,pluralRules:u,messages:(P,O)=>{let F=d(s,P);if(F==null&&(v||O)){const[,,j]=by(v||e,P,t,h,m,y);F=d(j,P)}if(je(F)||ao(F)){let j=!1;const U=wy(e,P,t,F,P,()=>{j=!0});return j?km:U}else return ki(F)?F:km}};return e.processor&&(T.processor=e.processor),r.list&&(T.list=r.list),r.named&&(T.named=r.named),nn(r.plural)&&(T.pluralIndex=r.plural),T}rx();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const uT="10.0.5";function lT(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ta().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ta().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ta().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ta().__INTLIFY_PROD_DEVTOOLS__=!1)}const Hn={UNEXPECTED_RETURN_TYPE:Sx,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function ti(e,...t){return Zc(e,null,void 0)}const mf=xs("__translateVNode"),gf=xs("__datetimeParts"),_f=xs("__numberParts"),ky=xs("__setPluralRules"),Ly=xs("__injectWithOption"),vf=xs("__dispose");function Mu(e){if(!Ct(e))return e;for(const t in e)if(Oi(e,t))if(!t.includes("."))Ct(e[t])&&Mu(e[t]);else{const s=t.split("."),r=s.length-1;let n=e,u=!1;for(let d=0;d<r;d++){if(s[d]in n||(n[s[d]]=Dt()),!Ct(n[s[d]])){u=!0;break}n=n[s[d]]}u||(n[s[r]]=e[t],delete e[t]),Ct(n[s[r]])&&Mu(n[s[r]])}return e}function wh(e,t){const{messages:s,__i18n:r,messageResolver:n,flatJson:u}=t,d=pt(s)?s:Kt(r)?Dt():{[e]:Dt()};if(Kt(r)&&r.forEach(h=>{if("locale"in h&&"resource"in h){const{locale:m,resource:y}=h;m?(d[m]=d[m]||Dt(),Dl(y,d[m])):Dl(y,d)}else je(h)&&Dl(JSON.parse(h),d)}),n==null&&u)for(const h in d)Oi(d,h)&&Mu(d[h]);return d}function Ey(e){return e.type}function xy(e,t,s){let r=Ct(t.messages)?t.messages:Dt();"__i18nGlobal"in s&&(r=wh(e.locale.value,{messages:r,__i18n:s.__i18nGlobal}));const n=Object.keys(r);n.length&&n.forEach(u=>{e.mergeLocaleMessage(u,r[u])});{if(Ct(t.datetimeFormats)){const u=Object.keys(t.datetimeFormats);u.length&&u.forEach(d=>{e.mergeDateTimeFormat(d,t.datetimeFormats[d])})}if(Ct(t.numberFormats)){const u=Object.keys(t.numberFormats);u.length&&u.forEach(d=>{e.mergeNumberFormat(d,t.numberFormats[d])})}}}function Em(e){return Ge(mo,null,e,0)}const xm="__INTLIFY_META__",Tm=()=>[],cT=()=>!1;let Sm=0;function Cm(e){return(t,s,r,n)=>e(s,r,ei()||void 0,n)}const dT=()=>{const e=ei();let t=null;return e&&(t=Ey(e)[xm])?{[xm]:t}:null};function kh(e={}){const{__root:t,__injectWithOption:s}=e,r=t===void 0,n=e.flatJson,u=lc?Be:Pn;let d=Tt(e.inheritLocale)?e.inheritLocale:!0;const h=u(t&&d?t.locale.value:je(e.locale)?e.locale:Nu),m=u(t&&d?t.fallbackLocale.value:je(e.fallbackLocale)||Kt(e.fallbackLocale)||pt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:h.value),y=u(wh(h.value,e)),v=u(pt(e.datetimeFormats)?e.datetimeFormats:{[h.value]:{}}),w=u(pt(e.numberFormats)?e.numberFormats:{[h.value]:{}});let T=t?t.missingWarn:Tt(e.missingWarn)||ro(e.missingWarn)?e.missingWarn:!0,P=t?t.fallbackWarn:Tt(e.fallbackWarn)||ro(e.fallbackWarn)?e.fallbackWarn:!0,O=t?t.fallbackRoot:Tt(e.fallbackRoot)?e.fallbackRoot:!0,F=!!e.fallbackFormat,j=Ut(e.missing)?e.missing:null,A=Ut(e.missing)?Cm(e.missing):null,U=Ut(e.postTranslation)?e.postTranslation:null,H=t?t.warnHtmlMessage:Tt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const x=t?t.modifiers:pt(e.modifiers)?e.modifiers:{};let k=e.pluralRules||t&&t.pluralRules,S;S=(()=>{r&&mm(null);const re={version:uT,locale:h.value,fallbackLocale:m.value,messages:y.value,modifiers:x,pluralRules:k,missing:A===null?void 0:A,missingWarn:T,fallbackWarn:P,fallbackFormat:F,unresolving:!0,postTranslation:U===null?void 0:U,warnHtmlMessage:H,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};re.datetimeFormats=v.value,re.numberFormats=w.value,re.__datetimeFormatters=pt(S)?S.__datetimeFormatters:void 0,re.__numberFormatters=pt(S)?S.__numberFormatters:void 0;const be=Wx(re);return r&&mm(be),be})(),Jo(S,h.value,m.value);function D(){return[h.value,m.value,y.value,v.value,w.value]}const R=he({get:()=>h.value,set:re=>{h.value=re,S.locale=h.value}}),X=he({get:()=>m.value,set:re=>{m.value=re,S.fallbackLocale=m.value,Jo(S,h.value,re)}}),ee=he(()=>y.value),q=he(()=>v.value),Z=he(()=>w.value);function ne(){return Ut(U)?U:null}function V(re){U=re,S.postTranslation=re}function te(){return j}function ae(re){re!==null&&(A=Cm(re)),j=re,S.missing=A}const ve=(re,be,He,et,Re,Ht)=>{D();let Xe;try{__INTLIFY_PROD_DEVTOOLS__,r||(S.fallbackContext=t?qx():void 0),Xe=re(S)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(S.fallbackContext=void 0)}if(He!=="translate exists"&&nn(Xe)&&Xe===Yc||He==="translate exists"&&!Xe){const[Ye,In]=be();return t&&O?et(t):Re(Ye)}else{if(Ht(Xe))return Xe;throw ti(Hn.UNEXPECTED_RETURN_TYPE)}};function ce(...re){return ve(be=>Reflect.apply(Lm,null,[be,...re]),()=>pf(...re),"translate",be=>Reflect.apply(be.t,be,[...re]),be=>be,be=>je(be))}function ke(...re){const[be,He,et]=re;if(et&&!Ct(et))throw ti(Hn.INVALID_ARGUMENT);return ce(be,He,ln({resolvedMessage:!0},et||{}))}function De(...re){return ve(be=>Reflect.apply(_m,null,[be,...re]),()=>ff(...re),"datetime format",be=>Reflect.apply(be.d,be,[...re]),()=>hm,be=>je(be))}function Ae(...re){return ve(be=>Reflect.apply(ym,null,[be,...re]),()=>hf(...re),"number format",be=>Reflect.apply(be.n,be,[...re]),()=>hm,be=>je(be))}function Pe(re){return re.map(be=>je(be)||nn(be)||Tt(be)?Em(String(be)):be)}const xe={normalize:Pe,interpolate:re=>re,type:"vnode"};function de(...re){return ve(be=>{let He;const et=be;try{et.processor=xe,He=Reflect.apply(Lm,null,[et,...re])}finally{et.processor=null}return He},()=>pf(...re),"translate",be=>be[mf](...re),be=>[Em(be)],be=>Kt(be))}function K(...re){return ve(be=>Reflect.apply(ym,null,[be,...re]),()=>hf(...re),"number format",be=>be[_f](...re),Tm,be=>je(be)||Kt(be))}function Te(...re){return ve(be=>Reflect.apply(_m,null,[be,...re]),()=>ff(...re),"datetime format",be=>be[gf](...re),Tm,be=>je(be)||Kt(be))}function Ne(re){k=re,S.pluralRules=k}function Me(re,be){return ve(()=>{if(!re)return!1;const He=je(be)?be:h.value,et=se(He),Re=S.messageResolver(et,re);return ao(Re)||ki(Re)||je(Re)},()=>[re],"translate exists",He=>Reflect.apply(He.te,He,[re,be]),cT,He=>Tt(He))}function N(re){let be=null;const He=fy(S,m.value,h.value);for(let et=0;et<He.length;et++){const Re=y.value[He[et]]||{},Ht=S.messageResolver(Re,re);if(Ht!=null){be=Ht;break}}return be}function Q(re){const be=N(re);return be??(t?t.tm(re)||{}:{})}function se(re){return y.value[re]||{}}function _e(re,be){if(n){const He={[re]:be};for(const et in He)Oi(He,et)&&Mu(He[et]);be=He[re]}y.value[re]=be,S.messages=y.value}function Le(re,be){y.value[re]=y.value[re]||{};const He={[re]:be};if(n)for(const et in He)Oi(He,et)&&Mu(He[et]);be=He[re],Dl(be,y.value[re]),S.messages=y.value}function we(re){return v.value[re]||{}}function Y(re,be){v.value[re]=be,S.datetimeFormats=v.value,vm(S,re,be)}function z(re,be){v.value[re]=ln(v.value[re]||{},be),S.datetimeFormats=v.value,vm(S,re,be)}function oe(re){return w.value[re]||{}}function me(re,be){w.value[re]=be,S.numberFormats=w.value,bm(S,re,be)}function $e(re,be){w.value[re]=ln(w.value[re]||{},be),S.numberFormats=w.value,bm(S,re,be)}Sm++,t&&lc&&(it(t.locale,re=>{d&&(h.value=re,S.locale=re,Jo(S,h.value,m.value))}),it(t.fallbackLocale,re=>{d&&(m.value=re,S.fallbackLocale=re,Jo(S,h.value,m.value))}));const Se={id:Sm,locale:R,fallbackLocale:X,get inheritLocale(){return d},set inheritLocale(re){d=re,re&&t&&(h.value=t.locale.value,m.value=t.fallbackLocale.value,Jo(S,h.value,m.value))},get availableLocales(){return Object.keys(y.value).sort()},messages:ee,get modifiers(){return x},get pluralRules(){return k||{}},get isGlobal(){return r},get missingWarn(){return T},set missingWarn(re){T=re,S.missingWarn=T},get fallbackWarn(){return P},set fallbackWarn(re){P=re,S.fallbackWarn=P},get fallbackRoot(){return O},set fallbackRoot(re){O=re},get fallbackFormat(){return F},set fallbackFormat(re){F=re,S.fallbackFormat=F},get warnHtmlMessage(){return H},set warnHtmlMessage(re){H=re,S.warnHtmlMessage=re},get escapeParameter(){return _},set escapeParameter(re){_=re,S.escapeParameter=re},t:ce,getLocaleMessage:se,setLocaleMessage:_e,mergeLocaleMessage:Le,getPostTranslationHandler:ne,setPostTranslationHandler:V,getMissingHandler:te,setMissingHandler:ae,[ky]:Ne};return Se.datetimeFormats=q,Se.numberFormats=Z,Se.rt=ke,Se.te=Me,Se.tm=Q,Se.d=De,Se.n=Ae,Se.getDateTimeFormat=we,Se.setDateTimeFormat=Y,Se.mergeDateTimeFormat=z,Se.getNumberFormat=oe,Se.setNumberFormat=me,Se.mergeNumberFormat=$e,Se[Ly]=s,Se[mf]=de,Se[gf]=Te,Se[_f]=K,Se}function fT(e){const t=je(e.locale)?e.locale:Nu,s=je(e.fallbackLocale)||Kt(e.fallbackLocale)||pt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Ut(e.missing)?e.missing:void 0,n=Tt(e.silentTranslationWarn)||ro(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,u=Tt(e.silentFallbackWarn)||ro(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,d=Tt(e.fallbackRoot)?e.fallbackRoot:!0,h=!!e.formatFallbackMessages,m=pt(e.modifiers)?e.modifiers:{},y=e.pluralizationRules,v=Ut(e.postTranslation)?e.postTranslation:void 0,w=je(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,T=!!e.escapeParameterHtml,P=Tt(e.sync)?e.sync:!0;let O=e.messages;if(pt(e.sharedMessages)){const x=e.sharedMessages;O=Object.keys(x).reduce((S,B)=>{const D=S[B]||(S[B]={});return ln(D,x[B]),S},O||{})}const{__i18n:F,__root:j,__injectWithOption:A}=e,U=e.datetimeFormats,H=e.numberFormats,_=e.flatJson;return{locale:t,fallbackLocale:s,messages:O,flatJson:_,datetimeFormats:U,numberFormats:H,missing:r,missingWarn:n,fallbackWarn:u,fallbackRoot:d,fallbackFormat:h,modifiers:m,pluralRules:y,postTranslation:v,warnHtmlMessage:w,escapeParameter:T,messageResolver:e.messageResolver,inheritLocale:P,__i18n:F,__root:j,__injectWithOption:A}}function yf(e={}){const t=kh(fT(e)),{__extender:s}=e,r={id:t.id,get locale(){return t.locale.value},set locale(n){t.locale.value=n},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(n){t.fallbackLocale.value=n},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(n){t.setMissingHandler(n)},get silentTranslationWarn(){return Tt(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(n){t.missingWarn=Tt(n)?!n:n},get silentFallbackWarn(){return Tt(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(n){t.fallbackWarn=Tt(n)?!n:n},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(n){t.fallbackFormat=n},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(n){t.setPostTranslationHandler(n)},get sync(){return t.inheritLocale},set sync(n){t.inheritLocale=n},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){t.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(n){t.escapeParameter=n},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...n){return Reflect.apply(t.t,t,[...n])},rt(...n){return Reflect.apply(t.rt,t,[...n])},tc(...n){const[u,d,h]=n,m={plural:1};let y=null,v=null;if(!je(u))throw ti(Hn.INVALID_ARGUMENT);const w=u;return je(d)?m.locale=d:nn(d)?m.plural=d:Kt(d)?y=d:pt(d)&&(v=d),je(h)?m.locale=h:Kt(h)?y=h:pt(h)&&(v=h),Reflect.apply(t.t,t,[w,y||v||{},m])},te(n,u){return t.te(n,u)},tm(n){return t.tm(n)},getLocaleMessage(n){return t.getLocaleMessage(n)},setLocaleMessage(n,u){t.setLocaleMessage(n,u)},mergeLocaleMessage(n,u){t.mergeLocaleMessage(n,u)},d(...n){return Reflect.apply(t.d,t,[...n])},getDateTimeFormat(n){return t.getDateTimeFormat(n)},setDateTimeFormat(n,u){t.setDateTimeFormat(n,u)},mergeDateTimeFormat(n,u){t.mergeDateTimeFormat(n,u)},n(...n){return Reflect.apply(t.n,t,[...n])},getNumberFormat(n){return t.getNumberFormat(n)},setNumberFormat(n,u){t.setNumberFormat(n,u)},mergeNumberFormat(n,u){t.mergeNumberFormat(n,u)}};return r.__extender=s,r}function hT(e,t,s){return{beforeCreate(){const r=ei();if(!r)throw ti(Hn.UNEXPECTED_ERROR);const n=this.$options;if(n.i18n){const u=n.i18n;if(n.__i18n&&(u.__i18n=n.__i18n),u.__root=t,this===this.$root)this.$i18n=Pm(e,u);else{u.__injectWithOption=!0,u.__extender=s.__vueI18nExtend,this.$i18n=yf(u);const d=this.$i18n;d.__extender&&(d.__disposer=d.__extender(this.$i18n))}}else if(n.__i18n)if(this===this.$root)this.$i18n=Pm(e,n);else{this.$i18n=yf({__i18n:n.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:t});const u=this.$i18n;u.__extender&&(u.__disposer=u.__extender(this.$i18n))}else this.$i18n=e;n.__i18nGlobal&&xy(t,n,n),this.$t=(...u)=>this.$i18n.t(...u),this.$rt=(...u)=>this.$i18n.rt(...u),this.$tc=(...u)=>this.$i18n.tc(...u),this.$te=(u,d)=>this.$i18n.te(u,d),this.$d=(...u)=>this.$i18n.d(...u),this.$n=(...u)=>this.$i18n.n(...u),this.$tm=u=>this.$i18n.tm(u),s.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=ei();if(!r)throw ti(Hn.UNEXPECTED_ERROR);const n=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__disposer&&(n.__disposer(),delete n.__disposer,delete n.__extender),s.__deleteInstance(r),delete this.$i18n}}}function Pm(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ky](t.pluralizationRules||e.pluralizationRules);const s=wh(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(s).forEach(r=>e.mergeLocaleMessage(r,s[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const Lh={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function pT({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,n)=>[...r,...n.type===ht?n.children:[n]],[]):t.reduce((s,r)=>{const n=e[r];return n&&(s[r]=n()),s},Dt())}function Ty(){return ht}const mT=yt({name:"i18n-t",props:ln({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>nn(e)||!isNaN(e)}},Lh),setup(e,t){const{slots:s,attrs:r}=t,n=e.i18n||Vi({useScope:e.scope,__useComponent:!0});return()=>{const u=Object.keys(s).filter(w=>w!=="_"),d=Dt();e.locale&&(d.locale=e.locale),e.plural!==void 0&&(d.plural=je(e.plural)?+e.plural:e.plural);const h=pT(t,u),m=n[mf](e.keypath,h,d),y=ln(Dt(),r),v=je(e.tag)||Ct(e.tag)?e.tag:Ty();return $r(v,y,m)}}}),Im=mT;function gT(e){return Kt(e)&&!je(e[0])}function Sy(e,t,s,r){const{slots:n,attrs:u}=t;return()=>{const d={part:!0};let h=Dt();e.locale&&(d.locale=e.locale),je(e.format)?d.key=e.format:Ct(e.format)&&(je(e.format.key)&&(d.key=e.format.key),h=Object.keys(e.format).reduce((T,P)=>s.includes(P)?ln(Dt(),T,{[P]:e.format[P]}):T,Dt()));const m=r(e.value,d,h);let y=[d.key];Kt(m)?y=m.map((T,P)=>{const O=n[T.type],F=O?O({[T.type]:T.value,index:P,parts:m}):[T.value];return gT(F)&&(F[0].key=`${T.type}-${P}`),F}):je(m)&&(y=[m]);const v=ln(Dt(),u),w=je(e.tag)||Ct(e.tag)?e.tag:Ty();return $r(w,v,y)}}const _T=yt({name:"i18n-n",props:ln({value:{type:Number,required:!0},format:{type:[String,Object]}},Lh),setup(e,t){const s=e.i18n||Vi({useScope:e.scope,__useComponent:!0});return Sy(e,t,yy,(...r)=>s[_f](...r))}}),Nm=_T,vT=yt({name:"i18n-d",props:ln({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Lh),setup(e,t){const s=e.i18n||Vi({useScope:e.scope,__useComponent:!0});return Sy(e,t,vy,(...r)=>s[gf](...r))}}),Mm=vT;function yT(e,t){const s=e;if(e.mode==="composition")return s.__getInstance(t)||e.global;{const r=s.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function bT(e){const t=d=>{const{instance:h,value:m}=d;if(!h||!h.$)throw ti(Hn.UNEXPECTED_ERROR);const y=yT(e,h.$),v=Om(m);return[Reflect.apply(y.t,y,[...Am(v)]),y]};return{created:(d,h)=>{const[m,y]=t(h);lc&&e.global===y&&(d.__i18nWatcher=it(y.locale,()=>{h.instance&&h.instance.$forceUpdate()})),d.__composer=y,d.textContent=m},unmounted:d=>{lc&&d.__i18nWatcher&&(d.__i18nWatcher(),d.__i18nWatcher=void 0,delete d.__i18nWatcher),d.__composer&&(d.__composer=void 0,delete d.__composer)},beforeUpdate:(d,{value:h})=>{if(d.__composer){const m=d.__composer,y=Om(h);d.textContent=Reflect.apply(m.t,m,[...Am(y)])}},getSSRProps:d=>{const[h]=t(d);return{textContent:h}}}}function Om(e){if(je(e))return{path:e};if(pt(e)){if(!("path"in e))throw ti(Hn.REQUIRED_VALUE,"path");return e}else throw ti(Hn.INVALID_VALUE)}function Am(e){const{path:t,locale:s,args:r,choice:n,plural:u}=e,d={},h=r||{};return je(s)&&(d.locale=s),nn(n)&&(d.plural=n),nn(u)&&(d.plural=u),[t,h,d]}function wT(e,t,...s){const r=pt(s[0])?s[0]:{};(Tt(r.globalInstall)?r.globalInstall:!0)&&([Im.name,"I18nT"].forEach(u=>e.component(u,Im)),[Nm.name,"I18nN"].forEach(u=>e.component(u,Nm)),[Mm.name,"I18nD"].forEach(u=>e.component(u,Mm))),e.directive("t",bT(t))}const kT=xs("global-vue-i18n");function LT(e={},t){const s=__VUE_I18N_LEGACY_API__&&Tt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=Tt(e.globalInjection)?e.globalInjection:!0,n=new Map,[u,d]=ET(e,s),h=xs("");function m(T){return n.get(T)||null}function y(T,P){n.set(T,P)}function v(T){n.delete(T)}const w={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},async install(T,...P){if(T.__VUE_I18N_SYMBOL__=h,T.provide(T.__VUE_I18N_SYMBOL__,w),pt(P[0])){const j=P[0];w.__composerExtend=j.__composerExtend,w.__vueI18nExtend=j.__vueI18nExtend}let O=null;!s&&r&&(O=MT(T,w.global)),__VUE_I18N_FULL_INSTALL__&&wT(T,w,...P),__VUE_I18N_LEGACY_API__&&s&&T.mixin(hT(d,d.__composer,w));const F=T.unmount;T.unmount=()=>{O&&O(),w.dispose(),F()}},get global(){return d},dispose(){u.stop()},__instances:n,__getInstance:m,__setInstance:y,__deleteInstance:v};return w}function Vi(e={}){const t=ei();if(t==null)throw ti(Hn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ti(Hn.NOT_INSTALLED);const s=xT(t),r=ST(s),n=Ey(t),u=TT(e,n);if(u==="global")return xy(r,e,n),r;if(u==="parent"){let m=CT(s,t,e.__useComponent);return m==null&&(m=r),m}const d=s;let h=d.__getInstance(t);if(h==null){const m=ln({},e);"__i18n"in n&&(m.__i18n=n.__i18n),r&&(m.__root=r),h=kh(m),d.__composerExtend&&(h[vf]=d.__composerExtend(h)),IT(d,t,h),d.__setInstance(t,h)}return h}function ET(e,t,s){const r=Zg(),n=__VUE_I18N_LEGACY_API__&&t?r.run(()=>yf(e)):r.run(()=>kh(e));if(n==null)throw ti(Hn.UNEXPECTED_ERROR);return[r,n]}function xT(e){const t=Gt(e.isCE?kT:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ti(e.isCE?Hn.NOT_INSTALLED_WITH_PROVIDE:Hn.UNEXPECTED_ERROR);return t}function TT(e,t){return Wc(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function ST(e){return e.mode==="composition"?e.global:e.global.__composer}function CT(e,t,s=!1){let r=null;const n=t.root;let u=PT(t,s);for(;u!=null;){const d=e;if(e.mode==="composition")r=d.__getInstance(u);else if(__VUE_I18N_LEGACY_API__){const h=d.__getInstance(u);h!=null&&(r=h.__composer,s&&r&&!r[Ly]&&(r=null))}if(r!=null||n===u)break;u=u.parent}return r}function PT(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function IT(e,t,s){qi(()=>{},t),Dc(()=>{const r=s;e.__deleteInstance(t);const n=r[vf];n&&(n(),delete r[vf])},t)}const NT=["locale","fallbackLocale","availableLocales"],Rm=["t","rt","d","n","tm","te"];function MT(e,t){const s=Object.create(null);return NT.forEach(n=>{const u=Object.getOwnPropertyDescriptor(t,n);if(!u)throw ti(Hn.UNEXPECTED_ERROR);const d=Lt(u.value)?{get(){return u.value.value},set(h){u.value.value=h}}:{get(){return u.get&&u.get()}};Object.defineProperty(s,n,d)}),e.config.globalProperties.$i18n=s,Rm.forEach(n=>{const u=Object.getOwnPropertyDescriptor(t,n);if(!u||!u.value)throw ti(Hn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,u)}),()=>{delete e.config.globalProperties.$i18n,Rm.forEach(n=>{delete e.config.globalProperties[`$${n}`]})}}lT();Ux(kx);Gx(Fx);Hx(fy);if(__INTLIFY_PROD_DEVTOOLS__){const e=ta();e.__INTLIFY__=!0,Lx(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const OT={__name:"App",setup(e){const{t,locale:s}=Vi();return document.title=t("title"),it(s,()=>{document.title=t("title")}),(r,n)=>{const u=A_("RouterView");return ge(),nt(u)}}};var Ur=(e=>(e.GBIF="GBIF",e.GeoNature="GeoNature",e))(Ur||{}),Jn=(e=>(e.sound="sound",e.image="image",e))(Jn||{});class Xc{constructor(t,s){if(this.name=t,!Object.values(Si).includes(s))throw new Error("Source identifier is not declared in `mediaIdentifier.js`");this.id=s}fetchPicture(t,s){throw this.isCompatible(s)?new Error("Not implemented"):new Error("This media source is not available!")}fetchSound(t,s){if(!this.isCompatible(s))throw new Error("This media source is not available!");return new Promise(r=>null)}}var go=(e=>(e.GBIF="GBIF",e.TAXREF="TAXREF",e))(go||{});function Eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qo={exports:{}},Dm;function AT(){if(Dm)return Qo.exports;Dm=1,Qo.exports=s,Qo.exports.parse=s,Qo.exports.stringify=r;var e=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,t=new RegExp("^"+e.source+"(\\s"+e.source+"){1,}");function s(n){var u=n.split(";"),d=u.pop(),h=(u.shift()||"").split("=").pop(),m=0;function y(k){var S=d.substring(m).match(k);return S?(m+=S[0].length,S[0]):null}function v(k){return k&&h.match(/\d+/)&&(k.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+h}}),k}function w(){y(/^\s*/)}function T(){w();for(var k=0,S=[],B=[S],D=S,R;R=y(/^(\()/)||y(/^(\))/)||y(/^(,)/)||y(t);){if(R==="(")B.push(D),D=[],B[B.length-1].push(D),k++;else if(R===")"){if(D.length===0||(D=B.pop(),!D))return null;if(k--,k===0)break}else if(R===",")D=[],B[B.length-1].push(D);else if(!R.split(/\s/g).some(isNaN))Array.prototype.push.apply(D,R.split(/\s/g).map(parseFloat));else return null;w()}return k!==0?null:S}function P(){for(var k=[],S,B;B=y(t)||y(/^(,)/);)B===","?(k.push(S),S=[]):B.split(/\s/g).some(isNaN)||(S||(S=[]),Array.prototype.push.apply(S,B.split(/\s/g).map(parseFloat))),w();if(S)k.push(S);else return null;return k.length?k:null}function O(){if(!y(/^(point(\sz)?)/i)||(w(),!y(/^(\()/)))return null;var k=P();return!k||(w(),!y(/^(\))/))?null:{type:"Point",coordinates:k[0]}}function F(){if(!y(/^(multipoint)/i))return null;w();var k=d.substring(d.indexOf("(")+1,d.length-1).replace(/\(/g,"").replace(/\)/g,"");d="MULTIPOINT ("+k+")";var S=T();return S?(w(),{type:"MultiPoint",coordinates:S}):null}function j(){if(!y(/^(multilinestring)/i))return null;w();var k=T();return k?(w(),{type:"MultiLineString",coordinates:k}):null}function A(){if(!y(/^(linestring(\sz)?)/i)||(w(),!y(/^(\()/)))return null;var k=P();return!k||!y(/^(\))/)?null:{type:"LineString",coordinates:k}}function U(){if(!y(/^(polygon(\sz)?)/i))return null;w();var k=T();return k?{type:"Polygon",coordinates:k}:null}function H(){if(!y(/^(multipolygon)/i))return null;w();var k=T();return k?{type:"MultiPolygon",coordinates:k}:null}function _(){var k=[],S;if(!y(/^(geometrycollection)/i)||(w(),!y(/^(\()/)))return null;for(;S=x();)k.push(S),w(),y(/^(,)/),w();return y(/^(\))/)?{type:"GeometryCollection",geometries:k}:null}function x(){return O()||A()||U()||F()||j()||H()||_()}return v(x())}function r(n){n.type==="Feature"&&(n=n.geometry);function u(v){return v.join(" ")}function d(v){return v.map(u).join(", ")}function h(v){return v.map(d).map(y).join(", ")}function m(v){return v.map(h).map(y).join(", ")}function y(v){return"("+v+")"}switch(n.type){case"Point":return"POINT ("+u(n.coordinates)+")";case"LineString":return"LINESTRING ("+d(n.coordinates)+")";case"Polygon":return"POLYGON ("+h(n.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+d(n.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+m(n.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+h(n.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+n.geometries.map(r).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return Qo.exports}var Ai=AT(),Yn=63710088e-1,Cy={centimeters:Yn*100,centimetres:Yn*100,degrees:360/(2*Math.PI),feet:Yn*3.28084,inches:Yn*39.37,kilometers:Yn/1e3,kilometres:Yn/1e3,meters:Yn,metres:Yn,miles:Yn/1609.344,millimeters:Yn*1e3,millimetres:Yn*1e3,nauticalmiles:Yn/1852,radians:1,yards:Yn*1.0936};function xh(e,t,s={}){const r={type:"Feature"};return(s.id===0||s.id)&&(r.id=s.id),s.bbox&&(r.bbox=s.bbox),r.properties=t||{},r.geometry=e,r}function RT(e,t,s={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Bm(e[0])||!Bm(e[1]))throw new Error("coordinates must contain numbers");return xh({type:"Point",coordinates:e},t,s)}function cc(e,t={}){const s={type:"FeatureCollection"};return t.id&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.features=e,s}function DT(e,t="kilometers"){const s=Cy[t];if(!s)throw new Error(t+" units is invalid");return e*s}function BT(e,t="kilometers"){const s=Cy[t];if(!s)throw new Error(t+" units is invalid");return e/s}function Bm(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Py(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Fr(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function FT(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function Iy(e,t,s){if(e!==null)for(var r,n,u,d,h,m,y,v=0,w=0,T,P=e.type,O=P==="FeatureCollection",F=P==="Feature",j=O?e.features.length:1,A=0;A<j;A++){y=O?e.features[A].geometry:F?e.geometry:e,T=y?y.type==="GeometryCollection":!1,h=T?y.geometries.length:1;for(var U=0;U<h;U++){var H=0,_=0;if(d=T?y.geometries[U]:y,d!==null){m=d.coordinates;var x=d.type;switch(v=0,x){case null:break;case"Point":if(t(m,w,A,H,_)===!1)return!1;w++,H++;break;case"LineString":case"MultiPoint":for(r=0;r<m.length;r++){if(t(m[r],w,A,H,_)===!1)return!1;w++,x==="MultiPoint"&&H++}x==="LineString"&&H++;break;case"Polygon":case"MultiLineString":for(r=0;r<m.length;r++){for(n=0;n<m[r].length-v;n++){if(t(m[r][n],w,A,H,_)===!1)return!1;w++}x==="MultiLineString"&&H++,x==="Polygon"&&_++}x==="Polygon"&&H++;break;case"MultiPolygon":for(r=0;r<m.length;r++){for(_=0,n=0;n<m[r].length;n++){for(u=0;u<m[r][n].length-v;u++){if(t(m[r][n][u],w,A,H,_)===!1)return!1;w++}_++}H++}break;case"GeometryCollection":for(r=0;r<d.geometries.length;r++)if(Iy(d.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function dc(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&t(e.features[s],s)!==!1;s++);}function Hu(e,t){var s,r,n,u,d,h,m,y,v,w,T=0,P=e.type==="FeatureCollection",O=e.type==="Feature",F=P?e.features.length:1;for(s=0;s<F;s++){for(h=P?e.features[s].geometry:O?e.geometry:e,y=P?e.features[s].properties:O?e.properties:{},v=P?e.features[s].bbox:O?e.bbox:void 0,w=P?e.features[s].id:O?e.id:void 0,m=h?h.type==="GeometryCollection":!1,d=m?h.geometries.length:1,n=0;n<d;n++){if(u=m?h.geometries[n]:h,u===null){if(t(null,T,y,v,w)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(u,T,y,v,w)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<u.geometries.length;r++)if(t(u.geometries[r],T,y,v,w)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}T++}}function zT(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const s=[1/0,1/0,-1/0,-1/0];return Iy(e,r=>{s[0]>r[0]&&(s[0]=r[0]),s[1]>r[1]&&(s[1]=r[1]),s[2]<r[0]&&(s[2]=r[0]),s[3]<r[1]&&(s[3]=r[1])}),s}function Ou(e){const t=Fr(e);let s=0,r=1,n,u;for(;r<t.length;)n=u||t[0],u=t[r],s+=(u[0]-n[0])*(u[1]+n[1]),r++;return s>0}function $T(e,t={}){var s=typeof t=="object"?t.mutate:t;if(!e)throw new Error("geojson is required");var r=FT(e),n=[];switch(r){case"LineString":n=Dd(e,r);break;case"MultiLineString":case"Polygon":Fr(e).forEach(function(d){n.push(Dd(d,r))});break;case"MultiPolygon":Fr(e).forEach(function(d){var h=[];d.forEach(function(m){h.push(Dd(m,r))}),n.push(h)});break;case"Point":return e;case"MultiPoint":var u={};Fr(e).forEach(function(d){var h=d.join("-");Object.prototype.hasOwnProperty.call(u,h)||(n.push(d),u[h]=!0)});break;default:throw new Error(r+" geometry not supported")}return e.coordinates?s===!0?(e.coordinates=n,e):{type:r,coordinates:n}:s===!0?(e.geometry.coordinates=n,e):xh({type:r,coordinates:n},e.properties,{bbox:e.bbox,id:e.id})}function Dd(e,t){var s=Fr(e);if(s.length===2&&!Fm(s[0],s[1]))return s;var r=[],n=s.length-1,u=r.length;r.push(s[0]);for(var d=1;d<n;d++){var h=r[r.length-1];s[d][0]===h[0]&&s[d][1]===h[1]||(r.push(s[d]),u=r.length,u>2&&zm(r[u-3],r[u-1],r[u-2])&&r.splice(r.length-2,1))}if(r.push(s[s.length-1]),u=r.length,(t==="Polygon"||t==="MultiPolygon")&&Fm(s[0],s[s.length-1])&&u<4)throw new Error("invalid polygon");return t==="LineString"&&u<3||zm(r[u-3],r[u-1],r[u-2])&&r.splice(r.length-2,1),r}function Fm(e,t){return e[0]===t[0]&&e[1]===t[1]}function zm(e,t,s){var r=s[0],n=s[1],u=e[0],d=e[1],h=t[0],m=t[1],y=r-u,v=n-d,w=h-u,T=m-d,P=y*T-v*w;return P!==0?!1:Math.abs(w)>=Math.abs(T)?w>0?u<=r&&r<=h:h<=r&&r<=u:T>0?d<=n&&n<=m:m<=n&&n<=d}function UT(e,t={}){const s=zT(e),r=(s[0]+s[2])/2,n=(s[1]+s[3])/2;return RT([r,n],t.properties,t)}var Bl={exports:{}},GT=Bl.exports,$m;function HT(){return $m||($m=1,function(e,t){(function(s,r){e.exports=r()})(GT,function(){function s(c,i){(i==null||i>c.length)&&(i=c.length);for(var a=0,l=Array(i);a<i;a++)l[a]=c[a];return l}function r(c,i,a){return i=v(i),function(l,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(l)}(c,T()?Reflect.construct(i,a||[],v(c).constructor):i.apply(c,a))}function n(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")}function u(c,i,a){if(T())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var p=new(c.bind.apply(c,l));return a&&P(p,a.prototype),p}function d(c,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,j(l.key),l)}}function h(c,i,a){return i&&d(c.prototype,i),a&&d(c,a),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c,i){var a=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!a){if(Array.isArray(c)||(a=A(c))||i){a&&(c=a);var l=0,p=function(){};return{s:p,n:function(){return l>=c.length?{done:!0}:{done:!1,value:c[l++]}},e:function($){throw $},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,C=!0,M=!1;return{s:function(){a=a.call(c)},n:function(){var $=a.next();return C=$.done,$},e:function($){M=!0,b=$},f:function(){try{C||a.return==null||a.return()}finally{if(M)throw b}}}}function y(){return y=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,i,a){var l=function(b,C){for(;!{}.hasOwnProperty.call(b,C)&&(b=v(b))!==null;);return b}(c,i);if(l){var p=Object.getOwnPropertyDescriptor(l,i);return p.get?p.get.call(arguments.length<3?c:a):p.value}},y.apply(null,arguments)}function v(c){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},v(c)}function w(c,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(i&&i.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),i&&P(c,i)}function T(){try{var c=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!c})()}function P(c,i){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},P(c,i)}function O(c,i,a,l){var p=y(v(1&l?c.prototype:c),i,a);return 2&l&&typeof p=="function"?function(b){return p.apply(a,b)}:p}function F(c){return function(i){if(Array.isArray(i))return s(i)}(c)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(c)||A(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(c){var i=function(a,l){if(typeof a!="object"||!a)return a;var p=a[Symbol.toPrimitive];if(p!==void 0){var b=p.call(a,l);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(c,"string");return typeof i=="symbol"?i:i+""}function A(c,i){if(c){if(typeof c=="string")return s(c,i);var a={}.toString.call(c).slice(8,-1);return a==="Object"&&c.constructor&&(a=c.constructor.name),a==="Map"||a==="Set"?Array.from(c):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(c,i):void 0}}function U(c){var i=typeof Map=="function"?new Map:void 0;return U=function(a){if(a===null||!function(p){try{return Function.toString.call(p).indexOf("[native code]")!==-1}catch{return typeof p=="function"}}(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(i!==void 0){if(i.has(a))return i.get(a);i.set(a,l)}function l(){return u(a,arguments,v(this).constructor)}return l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),P(l,a)},U(c)}var H=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(i){this._quadrantSegments=i,this._quadrantSegments===0&&(this._joinStyle=c.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=c.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),i<=0&&(this._quadrantSegments=1),this._joinStyle!==c.JOIN_ROUND&&(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(i){this._joinStyle=i}},{key:"setSimplifyFactor",value:function(i){this._simplifyFactor=i<0?0:i}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(i){this._endCapStyle=i}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(i){this._mitreLimit=i}},{key:"setSingleSided",value:function(i){this._isSingleSided=i}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=c.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=c.CAP_ROUND,this._joinStyle=c.JOIN_ROUND,this._mitreLimit=c.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=c.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.setQuadrantSegments(i)}else if(arguments.length===2){var a=arguments[0],l=arguments[1];this.setQuadrantSegments(a),this.setEndCapStyle(l)}else if(arguments.length===4){var p=arguments[0],b=arguments[1],C=arguments[2],M=arguments[3];this.setQuadrantSegments(p),this.setEndCapStyle(b),this.setJoinStyle(C),this.setMitreLimit(M)}}}},{key:"bufferDistanceError",value:function(i){var a=Math.PI/2/i;return 1-Math.cos(a/2)}}])}();H.CAP_ROUND=1,H.CAP_FLAT=2,H.CAP_SQUARE=3,H.JOIN_ROUND=1,H.JOIN_MITRE=2,H.JOIN_BEVEL=3,H.DEFAULT_QUADRANT_SEGMENTS=8,H.DEFAULT_MITRE_LIMIT=5,H.DEFAULT_SIMPLIFY_FACTOR=.01;var _=function(c){function i(a){var l;return n(this,i),(l=r(this,i,[a])).name=Object.keys({Exception:i})[0],l}return w(i,c),h(i,[{key:"toString",value:function(){return this.message}}])}(U(Error)),x=function(c){function i(a){var l;return n(this,i),(l=r(this,i,[a])).name=Object.keys({IllegalArgumentException:i})[0],l}return w(i,c),h(i)}(_),k=function(){return h(function c(){n(this,c)},[{key:"filter",value:function(c){}}])}();function S(){}function B(){}function D(){}var R,X,ee,q,Z,ne,V,te,ae=function(){return h(function c(){n(this,c)},null,[{key:"equalsWithTolerance",value:function(c,i,a){return Math.abs(c-i)<=a}}])}(),ve=function(){return h(function c(i,a){n(this,c),this.low=a||0,this.high=i||0},null,[{key:"toBinaryString",value:function(c){var i,a="";for(i=2147483648;i>0;i>>>=1)a+=(c.high&i)===i?"1":"0";for(i=2147483648;i>0;i>>>=1)a+=(c.low&i)===i?"1":"0";return a}}])}();function ce(){}function ke(){}ce.NaN=NaN,ce.isNaN=function(c){return Number.isNaN(c)},ce.isInfinite=function(c){return!Number.isFinite(c)},ce.MAX_VALUE=Number.MAX_VALUE,ce.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,ce.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(ne=2146435072,V=new Float64Array(1),te=new Int32Array(V.buffer),ce.doubleToLongBits=function(c){V[0]=c;var i=0|te[0],a=0|te[1];return(a&ne)===ne&&1048575&a&&i!==0&&(i=0,a=2146959360),new ve(a,i)},ce.longBitsToDouble=function(c){return te[0]=c.low,te[1]=c.high,V[0]}):(R=1023,X=Math.log2,ee=Math.floor,q=Math.pow,Z=function(){for(var c=53;c>0;c--){var i=q(2,c)-1;if(ee(X(i))+1===c)return i}return 0}(),ce.doubleToLongBits=function(c){var i,a,l,p,b,C,M,$,J;if(c<0||1/c===Number.NEGATIVE_INFINITY?(C=1<<31,c=-c):C=0,c===0)return new ve($=C,J=0);if(c===1/0)return new ve($=2146435072|C,J=0);if(c!=c)return new ve($=2146959360,J=0);if(p=0,J=0,(i=ee(c))>1)if(i<=Z)(p=ee(X(i)))<=20?(J=0,$=i<<20-p&1048575):(J=i%(a=q(2,l=p-20))<<32-l,$=i/a&1048575);else for(l=i,J=0;(l=ee(a=l/2))!==0;)p++,J>>>=1,J|=(1&$)<<31,$>>>=1,a!==l&&($|=524288);if(M=p+R,b=i===0,i=c-i,p<52&&i!==0)for(l=0;;){if((a=2*i)>=1?(i=a-1,b?(M--,b=!1):(l<<=1,l|=1,p++)):(i=a,b?--M==0&&(p++,b=!1):(l<<=1,p++)),p===20)$|=l,l=0;else if(p===52){J|=l;break}if(a===1){p<20?$|=l<<20-p:p<52&&(J|=l<<52-p);break}}return $|=M<<20,new ve($|=C,J)},ce.longBitsToDouble=function(c){var i,a,l,p,b=c.high,C=c.low,M=b&1<<31?-1:1;for(l=((2146435072&b)>>20)-R,p=0,a=1<<19,i=1;i<=20;i++)b&a&&(p+=q(2,-i)),a>>>=1;for(a=1<<31,i=21;i<=52;i++)C&a&&(p+=q(2,-i)),a>>>=1;if(l===-1023){if(p===0)return 0*M;l=-1022}else{if(l===1024)return p===0?M/0:NaN;p+=1}return M*p*q(2,l)});var De=function(c){function i(a){var l;return n(this,i),(l=r(this,i,[a])).name=Object.keys({RuntimeException:i})[0],l}return w(i,c),h(i)}(_),Ae=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,null,[{key:"constructor_",value:function(){if(arguments.length===0)De.constructor_.call(this);else if(arguments.length===1){var a=arguments[0];De.constructor_.call(this,a)}}}])}(De),Pe=function(){function c(){n(this,c)}return h(c,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)c.shouldNeverReachHere(null);else if(arguments.length===1){var i=arguments[0];throw new Ae("Should never reach here"+(i!==null?": "+i:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var i=arguments[0];c.isTrue(i,null)}else if(arguments.length===2){var a=arguments[1];if(!arguments[0])throw a===null?new Ae:new Ae(a)}}},{key:"equals",value:function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];c.equals(i,a,null)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2];if(!p.equals(l))throw new Ae("Expected "+l+" but encountered "+p+(b!==null?": "+b:""))}}}])}(),Ee=new ArrayBuffer(8),xe=new Float64Array(Ee),de=new Int32Array(Ee),K=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getM",value:function(){return ce.NaN}},{key:"setOrdinate",value:function(i,a){switch(i){case c.X:this.x=a;break;case c.Y:this.y=a;break;case c.Z:this.setZ(a);break;default:throw new x("Invalid ordinate index: "+i)}}},{key:"equals2D",value:function(){if(arguments.length===1){var i=arguments[0];return this.x===i.x&&this.y===i.y}if(arguments.length===2){var a=arguments[0],l=arguments[1];return!!ae.equalsWithTolerance(this.x,a.x,l)&&!!ae.equalsWithTolerance(this.y,a.y,l)}}},{key:"setM",value:function(i){throw new x("Invalid ordinate index: "+c.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(i){switch(i){case c.X:return this.x;case c.Y:return this.y;case c.Z:return this.getZ()}throw new x("Invalid ordinate index: "+i)}},{key:"equals3D",value:function(i){return this.x===i.x&&this.y===i.y&&(this.getZ()===i.getZ()||ce.isNaN(this.getZ())&&ce.isNaN(i.getZ()))}},{key:"equals",value:function(i){return i instanceof c&&this.equals2D(i)}},{key:"equalInZ",value:function(i,a){return ae.equalsWithTolerance(this.getZ(),i.getZ(),a)}},{key:"setX",value:function(i){this.x=i}},{key:"compareTo",value:function(i){var a=i;return this.x<a.x?-1:this.x>a.x?1:this.y<a.y?-1:this.y>a.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(i){this.z=i}},{key:"clone",value:function(){try{return null}catch(i){if(i instanceof CloneNotSupportedException)return Pe.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw i}}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(i){var a=this.x-i.x,l=this.y-i.y,p=this.getZ()-i.getZ();return Math.sqrt(a*a+l*l+p*p)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(i){this.y=i}},{key:"distance",value:function(i){var a=this.x-i.x,l=this.y-i.y;return Math.sqrt(a*a+l*l)}},{key:"hashCode",value:function(){var i=17;return i=37*(i=37*i+c.hashCode(this.x))+c.hashCode(this.y)}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ()}},{key:"interfaces_",get:function(){return[S,B,D]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)c.constructor_.call(this,0,0);else if(arguments.length===1){var i=arguments[0];c.constructor_.call(this,i.x,i.y,i.getZ())}else if(arguments.length===2){var a=arguments[0],l=arguments[1];c.constructor_.call(this,a,l,c.NULL_ORDINATE)}else if(arguments.length===3){var p=arguments[0],b=arguments[1],C=arguments[2];this.x=p,this.y=b,this.z=C}}},{key:"hashCode",value:function(i){return xe[0]=i,de[0]^de[1]}}])}(),Te=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compare",value:function(i,a){var l=c.compare(i.x,a.x);if(l!==0)return l;var p=c.compare(i.y,a.y);return p!==0?p:this._dimensionsToTest<=2?0:c.compare(i.getZ(),a.getZ())}},{key:"interfaces_",get:function(){return[ke]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)c.constructor_.call(this,2);else if(arguments.length===1){var i=arguments[0];if(i!==2&&i!==3)throw new x("only 2 or 3 dimensions may be specified");this._dimensionsToTest=i}}},{key:"compare",value:function(i,a){return i<a?-1:i>a?1:ce.isNaN(i)?ce.isNaN(a)?0:-1:ce.isNaN(a)?1:0}}])}();K.DimensionalComparator=Te,K.NULL_ORDINATE=ce.NaN,K.X=0,K.Y=1,K.Z=2,K.M=3;var Ne=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(i){if(!(i instanceof c))return!1;var a=i;return this.isNull()?a.isNull():this._maxx===a.getMaxX()&&this._maxy===a.getMaxY()&&this._minx===a.getMinX()&&this._miny===a.getMinY()}},{key:"intersection",value:function(i){if(this.isNull()||i.isNull()||!this.intersects(i))return new c;var a=this._minx>i._minx?this._minx:i._minx,l=this._miny>i._miny?this._miny:i._miny;return new c(a,this._maxx<i._maxx?this._maxx:i._maxx,l,this._maxy<i._maxy?this._maxy:i._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof K){var i=arguments[0];return this.covers(i.x,i.y)}if(arguments[0]instanceof c){var a=arguments[0];return!this.isNull()&&!a.isNull()&&a.getMinX()>=this._minx&&a.getMaxX()<=this._maxx&&a.getMinY()>=this._miny&&a.getMaxY()<=this._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return!this.isNull()&&l>=this._minx&&l<=this._maxx&&p>=this._miny&&p<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var i=arguments[0];return!this.isNull()&&!i.isNull()&&!(i._minx>this._maxx||i._maxx<this._minx||i._miny>this._maxy||i._maxy<this._miny)}if(arguments[0]instanceof K){var a=arguments[0];return this.intersects(a.x,a.y)}}else if(arguments.length===2){if(arguments[0]instanceof K&&arguments[1]instanceof K){var l=arguments[0],p=arguments[1];return!this.isNull()&&!((l.x<p.x?l.x:p.x)>this._maxx)&&!((l.x>p.x?l.x:p.x)<this._minx)&&!((l.y<p.y?l.y:p.y)>this._maxy)&&!((l.y>p.y?l.y:p.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var b=arguments[0],C=arguments[1];return!this.isNull()&&!(b>this._maxx||b<this._minx||C>this._maxy||C<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var i=this.getWidth(),a=this.getHeight();return Math.sqrt(i*i+a*a)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof K){var i=arguments[0];this.expandToInclude(i.x,i.y)}else if(arguments[0]instanceof c){var a=arguments[0];if(a.isNull())return null;this.isNull()?(this._minx=a.getMinX(),this._maxx=a.getMaxX(),this._miny=a.getMinY(),this._maxy=a.getMaxY()):(a._minx<this._minx&&(this._minx=a._minx),a._maxx>this._maxx&&(this._maxx=a._maxx),a._miny<this._miny&&(this._miny=a._miny),a._maxy>this._maxy&&(this._maxy=a._maxy))}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.isNull()?(this._minx=l,this._maxx=l,this._miny=p,this._maxy=p):(l<this._minx&&(this._minx=l),l>this._maxx&&(this._maxx=l),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var i=this.getWidth(),a=this.getHeight();return i<a?i:a}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(i){var a=i;return this.isNull()?a.isNull()?0:-1:a.isNull()?1:this._minx<a._minx?-1:this._minx>a._minx?1:this._miny<a._miny?-1:this._miny>a._miny?1:this._maxx<a._maxx?-1:this._maxx>a._maxx?1:this._maxy<a._maxy?-1:this._maxy>a._maxy?1:0}},{key:"translate",value:function(i,a){if(this.isNull())return null;this.init(this.getMinX()+i,this.getMaxX()+i,this.getMinY()+a,this.getMaxY()+a)}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(i){return!(!this.isNull()&&!i.isNull())||i._minx>this._maxx||i._maxx<this._minx||i._miny>this._maxy||i._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var i=this.getWidth(),a=this.getHeight();return i>a?i:a}},{key:"expandBy",value:function(){if(arguments.length===1){var i=arguments[0];this.expandBy(i,i)}else if(arguments.length===2){var a=arguments[0],l=arguments[1];if(this.isNull())return null;this._minx-=a,this._maxx+=a,this._miny-=l,this._maxy+=l,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var i=arguments[0];return this.covers(i)}if(arguments[0]instanceof K){var a=arguments[0];return this.covers(a)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return this.covers(l,p)}}},{key:"centre",value:function(){return this.isNull()?null:new K((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof K){var i=arguments[0];this.init(i.x,i.x,i.y,i.y)}else if(arguments[0]instanceof c){var a=arguments[0];this._minx=a._minx,this._maxx=a._maxx,this._miny=a._miny,this._maxy=a._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var b=arguments[0],C=arguments[1],M=arguments[2],$=arguments[3];b<C?(this._minx=b,this._maxx=C):(this._minx=C,this._maxx=b),M<$?(this._miny=M,this._maxy=$):(this._miny=$,this._maxy=M)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(i){if(this.intersects(i))return 0;var a=0;this._maxx<i._minx?a=i._minx-this._maxx:this._minx>i._maxx&&(a=this._minx-i._maxx);var l=0;return this._maxy<i._miny?l=i._miny-this._maxy:this._miny>i._maxy&&(l=this._miny-i._maxy),a===0?l:l===0?a:Math.sqrt(a*a+l*l)}},{key:"hashCode",value:function(){var i=17;return i=37*(i=37*(i=37*(i=37*i+K.hashCode(this._minx))+K.hashCode(this._maxx))+K.hashCode(this._miny))+K.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[S,D]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof K){var i=arguments[0];this.init(i.x,i.x,i.y,i.y)}else if(arguments[0]instanceof c){var a=arguments[0];this.init(a)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var b=arguments[0],C=arguments[1],M=arguments[2],$=arguments[3];this.init(b,C,M,$)}}},{key:"intersects",value:function(){if(arguments.length===3){var i=arguments[0],a=arguments[1],l=arguments[2];return l.x>=(i.x<a.x?i.x:a.x)&&l.x<=(i.x>a.x?i.x:a.x)&&l.y>=(i.y<a.y?i.y:a.y)&&l.y<=(i.y>a.y?i.y:a.y)}if(arguments.length===4){var p=arguments[0],b=arguments[1],C=arguments[2],M=arguments[3],$=Math.min(C.x,M.x),J=Math.max(C.x,M.x),ue=Math.min(p.x,b.x),fe=Math.max(p.x,b.x);return!(ue>J)&&!(fe<$)&&($=Math.min(C.y,M.y),J=Math.max(C.y,M.y),ue=Math.min(p.y,b.y),fe=Math.max(p.y,b.y),!(ue>J)&&!(fe<$))}}}])}(),Me=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(i){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(i){return this===i||this.equalsExact(i,0)}},{key:"geometryChanged",value:function(){this.apply(c.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(i){return i!==null&&this.norm().equalsExact(i.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var i;if(arguments.length===1){var a=arguments[0];return i=a,this.getTypeCode()!==i.getTypeCode()?this.getTypeCode()-i.getTypeCode():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(a)}if(arguments.length===2){var l=arguments[0],p=arguments[1];return i=l,this.getTypeCode()!==i.getTypeCode()?this.getTypeCode()-i.getTypeCode():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(l,p)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(i){if(i.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION)throw new x("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(i,a,l){return l===0?i.equals(a):i.distance(a)<=l}},{key:"norm",value:function(){var i=this.copy();return i.normalize(),i}},{key:"reverse",value:function(){var i=this.reverseInternal();return this.envelope!=null&&(i.envelope=this.envelope.copy()),i.setSRID(this.getSRID()),i}},{key:"copy",value:function(){var i=this.copyInternal();return i.envelope=this._envelope==null?null:this._envelope.copy(),i._SRID=this._SRID,i._userData=this._userData,i}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Ne(this._envelope)}},{key:"setSRID",value:function(i){this._SRID=i}},{key:"setUserData",value:function(i){this._userData=i}},{key:"compare",value:function(i,a){for(var l=i.iterator(),p=a.iterator();l.hasNext()&&p.hasNext();){var b=l.next(),C=p.next(),M=b.compareTo(C);if(M!==0)return M}return l.hasNext()?1:p.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(i){return this.getClass()===i.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===c.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===c.TYPECODE_MULTIPOINT||this.getTypeCode()===c.TYPECODE_MULTILINESTRING||this.getTypeCode()===c.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[B,S,D]}},{key:"getClass",value:function(){return c}}],[{key:"hasNonEmptyElements",value:function(i){for(var a=0;a<i.length;a++)if(!i[a].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(i){for(var a=0;a<i.length;a++)if(i[a]===null)return!0;return!1}}])}();Me.constructor_=function(c){c&&(this._envelope=null,this._userData=null,this._factory=c,this._SRID=c.getSRID())},Me.TYPECODE_POINT=0,Me.TYPECODE_MULTIPOINT=1,Me.TYPECODE_LINESTRING=2,Me.TYPECODE_LINEARRING=3,Me.TYPECODE_MULTILINESTRING=4,Me.TYPECODE_POLYGON=5,Me.TYPECODE_MULTIPOLYGON=6,Me.TYPECODE_GEOMETRYCOLLECTION=7,Me.TYPENAME_POINT="Point",Me.TYPENAME_MULTIPOINT="MultiPoint",Me.TYPENAME_LINESTRING="LineString",Me.TYPENAME_LINEARRING="LinearRing",Me.TYPENAME_MULTILINESTRING="MultiLineString",Me.TYPENAME_POLYGON="Polygon",Me.TYPENAME_MULTIPOLYGON="MultiPolygon",Me.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Me.geometryChangedFilter={get interfaces_(){return[k]},filter:function(c){c.geometryChangedAction()}};var N=function(){function c(){n(this,c)}return h(c,null,[{key:"toLocationSymbol",value:function(i){switch(i){case c.EXTERIOR:return"e";case c.BOUNDARY:return"b";case c.INTERIOR:return"i";case c.NONE:return"-"}throw new x("Unknown location value: "+i)}}])}();N.INTERIOR=0,N.BOUNDARY=1,N.EXTERIOR=2,N.NONE=-1;var Q=function(){return h(function c(){n(this,c)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),se=function(c){function i(a){var l;return n(this,i),(l=r(this,i,[a])).name=Object.keys({NoSuchElementException:i})[0],l}return w(i,c),h(i)}(_),_e=function(c){function i(a){var l;return n(this,i),(l=r(this,i,[a])).name=Object.keys({UnsupportedOperationException:i})[0],l}return w(i,c),h(i)}(_),Le=function(c){function i(){return n(this,i),r(this,i,arguments)}return w(i,c),h(i,[{key:"contains",value:function(){}}])}(Q),we=function(c){function i(a){var l;return n(this,i),(l=r(this,i)).map=new Map,a instanceof Q&&l.addAll(a),l}return w(i,c),h(i,[{key:"contains",value:function(a){var l=a.hashCode?a.hashCode():a;return!!this.map.has(l)}},{key:"add",value:function(a){var l=a.hashCode?a.hashCode():a;return!this.map.has(l)&&!!this.map.set(l,a)}},{key:"addAll",value:function(a){var l,p=m(a);try{for(p.s();!(l=p.n()).done;){var b=l.value;this.add(b)}}catch(C){p.e(C)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new _e}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Y(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(Le),Y=function(){return h(function c(i){n(this,c),this.iterator=i.values();var a=this.iterator.next(),l=a.done,p=a.value;this.done=l,this.value=p},[{key:"next",value:function(){if(this.done)throw new se;var c=this.value,i=this.iterator.next(),a=i.done,l=i.value;return this.done=a,this.value=l,c}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new _e}}])}(),z=function(){function c(){n(this,c)}return h(c,null,[{key:"opposite",value:function(i){return i===c.LEFT?c.RIGHT:i===c.RIGHT?c.LEFT:i}}])}();z.ON=0,z.LEFT=1,z.RIGHT=2;var oe=function(c){function i(a){var l;return n(this,i),(l=r(this,i,[a])).name=Object.keys({EmptyStackException:i})[0],l}return w(i,c),h(i)}(_),me=function(c){function i(a){var l;return n(this,i),(l=r(this,i,[a])).name=Object.keys({IndexOutOfBoundsException:i})[0],l}return w(i,c),h(i)}(_),$e=function(c){function i(){return n(this,i),r(this,i,arguments)}return w(i,c),h(i,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(Q),Se=function(c){function i(){var a;return n(this,i),(a=r(this,i)).array=[],a}return w(i,c),h(i,[{key:"add",value:function(a){return this.array.push(a),!0}},{key:"get",value:function(a){if(a<0||a>=this.size())throw new me;return this.array[a]}},{key:"push",value:function(a){return this.array.push(a),a}},{key:"pop",value:function(){if(this.array.length===0)throw new oe;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new oe;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(a){return this.array.indexOf(a)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}($e);function re(c,i){return c.interfaces_&&c.interfaces_.indexOf(i)>-1}var be=function(){return h(function c(i){n(this,c),this.str=i},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,i){this.str=this.str.substr(0,c)+i+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),He=function(){function c(i){n(this,c),this.value=i}return h(c,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(i){return this.value<i?-1:this.value>i?1:0}}],[{key:"compare",value:function(i,a){return i<a?-1:i>a?1:0}},{key:"isNan",value:function(i){return Number.isNaN(i)}},{key:"valueOf",value:function(i){return new c(i)}}])}(),et=function(){return h(function c(){n(this,c)},null,[{key:"isWhitespace",value:function(c){return c<=32&&c>=0||c===127}},{key:"toUpperCase",value:function(c){return c.toUpperCase()}}])}(),Re=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"le",value:function(i){return this._hi<i._hi||this._hi===i._hi&&this._lo<=i._lo}},{key:"extractSignificantDigits",value:function(i,a){var l=this.abs(),p=c.magnitude(l._hi),b=c.TEN.pow(p);(l=l.divide(b)).gt(c.TEN)?(l=l.divide(c.TEN),p+=1):l.lt(c.ONE)&&(l=l.multiply(c.TEN),p-=1);for(var C=p+1,M=new be,$=c.MAX_PRINT_DIGITS-1,J=0;J<=$;J++){i&&J===C&&M.append(".");var ue=Math.trunc(l._hi);if(ue<0)break;var fe=!1,Ce=0;ue>9?(fe=!0,Ce="9"):Ce="0"+ue,M.append(Ce),l=l.subtract(c.valueOf(ue)).multiply(c.TEN),fe&&l.selfAdd(c.TEN);var Ue=!0,Ze=c.magnitude(l._hi);if(Ze<0&&Math.abs(Ze)>=$-J&&(Ue=!1),!Ue)break}return a[0]=p,M.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof c){var i=arguments[0];return this.add(i.negate())}if(typeof arguments[0]=="number"){var a=arguments[0];return this.add(-a)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof c){var i=arguments[0];return this._hi===i._hi&&this._lo===i._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof c){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i._hi,-i._lo)}if(typeof arguments[0]=="number"){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(i){return this.le(i)?this:i}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var i=arguments[0];return this.selfDivide(i._hi,i._lo)}if(typeof arguments[0]=="number"){var a=arguments[0];return this.selfDivide(a,0)}}else if(arguments.length===2){var l,p,b,C,M=arguments[0],$=arguments[1],J=null,ue=null,fe=null,Ce=null;return b=this._hi/M,Ce=(J=(fe=c.SPLIT*b)-(J=fe-b))*(ue=(Ce=c.SPLIT*M)-(ue=Ce-M))-(C=b*M)+J*(p=M-ue)+(l=b-J)*ue+l*p,Ce=b+(fe=(this._hi-C-Ce+this._lo-b*$)/M),this._hi=Ce,this._lo=b-Ce+fe,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof c){var i,a,l,p,b=arguments[0],C=null,M=null,$=null,J=null;return i=(l=this._hi/b._hi)-(C=($=c.SPLIT*l)-(C=$-l)),J=C*(M=(J=c.SPLIT*b._hi)-(M=J-b._hi))-(p=l*b._hi)+C*(a=b._hi-M)+i*M+i*a,new c(J=l+($=(this._hi-p-J+this._lo-l*b._lo)/b._hi),l-J+$)}if(typeof arguments[0]=="number"){var ue=arguments[0];return ce.isNaN(ue)?c.createNaN():c.copy(this).selfDivide(ue,0)}}},{key:"ge",value:function(i){return this._hi>i._hi||this._hi===i._hi&&this._lo>=i._lo}},{key:"pow",value:function(i){if(i===0)return c.valueOf(1);var a=new c(this),l=c.valueOf(1),p=Math.abs(i);if(p>1)for(;p>0;)p%2==1&&l.selfMultiply(a),(p/=2)>0&&(a=a.sqr());else l=a;return i<0?l.reciprocal():l}},{key:"ceil",value:function(){if(this.isNaN())return c.NaN;var i=Math.ceil(this._hi),a=0;return i===this._hi&&(a=Math.ceil(this._lo)),new c(i,a)}},{key:"compareTo",value:function(i){var a=i;return this._hi<a._hi?-1:this._hi>a._hi?1:this._lo<a._lo?-1:this._lo>a._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof c){var i=arguments[0];return this.init(i),this}if(typeof arguments[0]=="number"){var a=arguments[0];return this.init(a),this}}},{key:"max",value:function(i){return this.ge(i)?this:i}},{key:"sqrt",value:function(){if(this.isZero())return c.valueOf(0);if(this.isNegative())return c.NaN;var i=1/Math.sqrt(this._hi),a=this._hi*i,l=c.valueOf(a),p=this.subtract(l.sqr())._hi*(.5*i);return l.add(p)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var i=arguments[0];return this.selfAdd(i._hi,i._lo)}if(typeof arguments[0]=="number"){var a,l,p,b,C,M=arguments[0],$=null;return $=(p=this._hi+M)-(b=p-this._hi),l=(C=($=M-b+(this._hi-$))+this._lo)+(p-(a=p+C)),this._hi=a+l,this._lo=l+(a-this._hi),this}}else if(arguments.length===2){var J,ue,fe,Ce,Ue=arguments[0],Ze=arguments[1],Je=null,vt=null,ct=null;fe=this._hi+Ue,ue=this._lo+Ze,vt=fe-(ct=fe-this._hi),Je=ue-(Ce=ue-this._lo);var Ot=(J=fe+(ct=(vt=Ue-ct+(this._hi-vt))+ue))+(ct=(Je=Ze-Ce+(this._lo-Je))+(ct+(fe-J))),Vt=ct+(J-Ot);return this._hi=Ot,this._lo=Vt,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof c){var i=arguments[0];return this.selfMultiply(i._hi,i._lo)}if(typeof arguments[0]=="number"){var a=arguments[0];return this.selfMultiply(a,0)}}else if(arguments.length===2){var l,p,b=arguments[0],C=arguments[1],M=null,$=null,J=null,ue=null;M=(J=c.SPLIT*this._hi)-this._hi,ue=c.SPLIT*b,M=J-M,l=this._hi-M,$=ue-b;var fe=(J=this._hi*b)+(ue=M*($=ue-$)-J+M*(p=b-$)+l*$+l*p+(this._hi*C+this._lo*b)),Ce=ue+(M=J-fe);return this._hi=fe,this._lo=Ce,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return c.NaN;var i=Math.floor(this._hi),a=0;return i===this._hi&&(a=Math.floor(this._lo)),new c(i,a)}},{key:"negate",value:function(){return this.isNaN()?this:new c(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(i){if(i instanceof CloneNotSupportedException)return null;throw i}}},{key:"multiply",value:function(){if(arguments[0]instanceof c){var i=arguments[0];return i.isNaN()?c.createNaN():c.copy(this).selfMultiply(i)}if(typeof arguments[0]=="number"){var a=arguments[0];return ce.isNaN(a)?c.createNaN():c.copy(this).selfMultiply(a,0)}}},{key:"isNaN",value:function(){return ce.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var i=c.magnitude(this._hi);return i>=-3&&i<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var i=this.getSpecialNumberString();if(i!==null)return i;var a=new Array(1).fill(null),l=this.extractSignificantDigits(!0,a),p=a[0]+1,b=l;if(l.charAt(0)===".")b="0"+l;else if(p<0)b="0."+c.stringOfChar("0",-p)+l;else if(l.indexOf(".")===-1){var C=p-l.length;b=l+c.stringOfChar("0",C)+".0"}return this.isNegative()?"-"+b:b}},{key:"reciprocal",value:function(){var i,a,l,p,b=null,C=null,M=null,$=null;i=(l=1/this._hi)-(b=(M=c.SPLIT*l)-(b=M-l)),C=($=c.SPLIT*this._hi)-this._hi;var J=l+(M=(1-(p=l*this._hi)-($=b*(C=$-C)-p+b*(a=this._hi-C)+i*C+i*a)-l*this._lo)/this._hi);return new c(J,l-J+M)}},{key:"toSciNotation",value:function(){if(this.isZero())return c.SCI_NOT_ZERO;var i=this.getSpecialNumberString();if(i!==null)return i;var a=new Array(1).fill(null),l=this.extractSignificantDigits(!1,a),p=c.SCI_NOT_EXPONENT_CHAR+a[0];if(l.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+l);var b="";l.length>1&&(b=l.substring(1));var C=l.charAt(0)+"."+b;return this.isNegative()?"-"+C+p:C+p}},{key:"abs",value:function(){return this.isNaN()?c.NaN:this.isNegative()?this.negate():new c(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(i){return this._hi<i._hi||this._hi===i._hi&&this._lo<i._lo}},{key:"add",value:function(){if(arguments[0]instanceof c){var i=arguments[0];return c.copy(this).selfAdd(i)}if(typeof arguments[0]=="number"){var a=arguments[0];return c.copy(this).selfAdd(a)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var i=arguments[0];this._hi=i,this._lo=0}else if(arguments[0]instanceof c){var a=arguments[0];this._hi=a._hi,this._lo=a._lo}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this._hi=l,this._lo=p}}},{key:"gt",value:function(i){return this._hi>i._hi||this._hi===i._hi&&this._lo>i._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?c.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[D,S,B]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var i=arguments[0];this.init(i)}else if(arguments[0]instanceof c){var a=arguments[0];this.init(a)}else if(typeof arguments[0]=="string"){var l=arguments[0];c.constructor_.call(this,c.parse(l))}}else if(arguments.length===2){var p=arguments[0],b=arguments[1];this.init(p,b)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],a=arguments[1],l=arguments[2],p=arguments[3];return c.determinant(c.valueOf(i),c.valueOf(a),c.valueOf(l),c.valueOf(p))}if(arguments[3]instanceof c&&arguments[2]instanceof c&&arguments[0]instanceof c&&arguments[1]instanceof c){var b=arguments[1],C=arguments[2],M=arguments[3];return arguments[0].multiply(M).selfSubtract(b.multiply(C))}}},{key:"sqr",value:function(i){return c.valueOf(i).selfMultiply(i)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var i=arguments[0];return c.parse(i)}if(typeof arguments[0]=="number")return new c(arguments[0])}},{key:"sqrt",value:function(i){return c.valueOf(i).sqrt()}},{key:"parse",value:function(i){for(var a=0,l=i.length;et.isWhitespace(i.charAt(a));)a++;var p=!1;if(a<l){var b=i.charAt(a);b!=="-"&&b!=="+"||(a++,b==="-"&&(p=!0))}for(var C=new c,M=0,$=0,J=0,ue=!1;!(a>=l);){var fe=i.charAt(a);if(a++,et.isDigit(fe)){var Ce=fe-"0";C.selfMultiply(c.TEN),C.selfAdd(Ce),M++}else{if(fe!=="."){if(fe==="e"||fe==="E"){var Ue=i.substring(a);try{J=He.parseInt(Ue)}catch(Ot){throw Ot instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Ue+" in string "+i):Ot}break}throw new NumberFormatException("Unexpected character '"+fe+"' at position "+a+" in string "+i)}$=M,ue=!0}}var Ze=C;ue||($=M);var Je=M-$-J;if(Je===0)Ze=C;else if(Je>0){var vt=c.TEN.pow(Je);Ze=C.divide(vt)}else if(Je<0){var ct=c.TEN.pow(-Je);Ze=C.multiply(ct)}return p?Ze.negate():Ze}},{key:"createNaN",value:function(){return new c(ce.NaN,ce.NaN)}},{key:"copy",value:function(i){return new c(i)}},{key:"magnitude",value:function(i){var a=Math.abs(i),l=Math.log(a)/Math.log(10),p=Math.trunc(Math.floor(l));return 10*Math.pow(10,p)<=a&&(p+=1),p}},{key:"stringOfChar",value:function(i,a){for(var l=new be,p=0;p<a;p++)l.append(i);return l.toString()}}])}();Re.PI=new Re(3.141592653589793,12246467991473532e-32),Re.TWO_PI=new Re(6.283185307179586,24492935982947064e-32),Re.PI_2=new Re(1.5707963267948966,6123233995736766e-32),Re.E=new Re(2.718281828459045,14456468917292502e-32),Re.NaN=new Re(ce.NaN,ce.NaN),Re.EPS=123259516440783e-46,Re.SPLIT=134217729,Re.MAX_PRINT_DIGITS=32,Re.TEN=Re.valueOf(10),Re.ONE=Re.valueOf(1),Re.SCI_NOT_EXPONENT_CHAR="E",Re.SCI_NOT_ZERO="0.0E0";var Ht=function(){function c(){n(this,c)}return h(c,null,[{key:"orientationIndex",value:function(i,a,l){var p=c.orientationIndexFilter(i,a,l);if(p<=1)return p;var b=Re.valueOf(a.x).selfAdd(-i.x),C=Re.valueOf(a.y).selfAdd(-i.y),M=Re.valueOf(l.x).selfAdd(-a.x),$=Re.valueOf(l.y).selfAdd(-a.y);return b.selfMultiply($).selfSubtract(C.selfMultiply(M)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Re&&arguments[2]instanceof Re&&arguments[0]instanceof Re&&arguments[1]instanceof Re){var i=arguments[1],a=arguments[2],l=arguments[3];return arguments[0].multiply(l).selfSubtract(i.multiply(a)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],b=arguments[1],C=arguments[2],M=arguments[3],$=Re.valueOf(p),J=Re.valueOf(b),ue=Re.valueOf(C),fe=Re.valueOf(M);return $.multiply(fe).selfSubtract(J.multiply(ue)).signum()}}},{key:"intersection",value:function(i,a,l,p){var b=new Re(i.y).selfSubtract(a.y),C=new Re(a.x).selfSubtract(i.x),M=new Re(i.x).selfMultiply(a.y).selfSubtract(new Re(a.x).selfMultiply(i.y)),$=new Re(l.y).selfSubtract(p.y),J=new Re(p.x).selfSubtract(l.x),ue=new Re(l.x).selfMultiply(p.y).selfSubtract(new Re(p.x).selfMultiply(l.y)),fe=C.multiply(ue).selfSubtract(J.multiply(M)),Ce=$.multiply(M).selfSubtract(b.multiply(ue)),Ue=b.multiply(J).selfSubtract($.multiply(C)),Ze=fe.selfDivide(Ue).doubleValue(),Je=Ce.selfDivide(Ue).doubleValue();return ce.isNaN(Ze)||ce.isInfinite(Ze)||ce.isNaN(Je)||ce.isInfinite(Je)?null:new K(Ze,Je)}},{key:"orientationIndexFilter",value:function(i,a,l){var p=null,b=(i.x-l.x)*(a.y-l.y),C=(i.y-l.y)*(a.x-l.x),M=b-C;if(b>0){if(C<=0)return c.signum(M);p=b+C}else{if(!(b<0)||C>=0)return c.signum(M);p=-b-C}var $=c.DP_SAFE_EPSILON*p;return M>=$||-M>=$?c.signum(M):2}},{key:"signum",value:function(i){return i>0?1:i<0?-1:0}}])}();Ht.DP_SAFE_EPSILON=1e-15;var Xe=function(){return h(function c(){n(this,c)},[{key:"getM",value:function(c){if(this.hasM()){var i=this.getDimension()-this.getMeasures();return this.getOrdinate(c,i)}return ce.NaN}},{key:"setOrdinate",value:function(c,i,a){}},{key:"getZ",value:function(c){return this.hasZ()?this.getOrdinate(c,2):ce.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(c,i){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(c){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(c){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(c){}},{key:"copy",value:function(){}},{key:"getY",value:function(c){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[B]}}])}();Xe.X=0,Xe.Y=1,Xe.Z=2,Xe.M=3;var Ye=function(){function c(){n(this,c)}return h(c,null,[{key:"index",value:function(i,a,l){return Ht.orientationIndex(i,a,l)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var i=arguments[0],a=i.length-1;if(a<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var l=i[0],p=0,b=1;b<=a;b++){var C=i[b];C.y>l.y&&(l=C,p=b)}var M=p;do(M-=1)<0&&(M=a);while(i[M].equals2D(l)&&M!==p);var $=p;do $=($+1)%a;while(i[$].equals2D(l)&&$!==p);var J=i[M],ue=i[$];if(J.equals2D(l)||ue.equals2D(l)||J.equals2D(ue))return!1;var fe=c.index(J,l,ue);return fe===0?J.x>ue.x:fe>0}if(re(arguments[0],Xe)){var Ce=arguments[0],Ue=Ce.size()-1;if(Ue<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var Ze=Ce.getCoordinate(0),Je=0,vt=1;vt<=Ue;vt++){var ct=Ce.getCoordinate(vt);ct.y>Ze.y&&(Ze=ct,Je=vt)}var Ot=null,Vt=Je;do(Vt-=1)<0&&(Vt=Ue),Ot=Ce.getCoordinate(Vt);while(Ot.equals2D(Ze)&&Vt!==Je);var on=null,tr=Je;do tr=(tr+1)%Ue,on=Ce.getCoordinate(tr);while(on.equals2D(Ze)&&tr!==Je);if(Ot.equals2D(Ze)||on.equals2D(Ze)||Ot.equals2D(on))return!1;var Gs=c.index(Ot,Ze,on);return Gs===0?Ot.x>on.x:Gs>0}}}])}();Ye.CLOCKWISE=-1,Ye.RIGHT=Ye.CLOCKWISE,Ye.COUNTERCLOCKWISE=1,Ye.LEFT=Ye.COUNTERCLOCKWISE,Ye.COLLINEAR=0,Ye.STRAIGHT=Ye.COLLINEAR;var In=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(c,i){var a=this.getRightmostSideOfSegment(c,i);return a<0&&(a=this.getRightmostSideOfSegment(c,i-1)),a<0&&(this._minCoord=null,this.checkForRightmostCoordinate(c)),a}},{key:"findRightmostEdgeAtVertex",value:function(){var c=this._minDe.getEdge().getCoordinates();Pe.isTrue(this._minIndex>0&&this._minIndex<c.length,"rightmost point expected to be interior vertex of edge");var i=c[this._minIndex-1],a=c[this._minIndex+1],l=Ye.index(this._minCoord,a,i),p=!1;(i.y<this._minCoord.y&&a.y<this._minCoord.y&&l===Ye.COUNTERCLOCKWISE||i.y>this._minCoord.y&&a.y>this._minCoord.y&&l===Ye.CLOCKWISE)&&(p=!0),p&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(c,i){var a=c.getEdge().getCoordinates();if(i<0||i+1>=a.length||a[i].y===a[i+1].y)return-1;var l=z.LEFT;return a[i].y<a[i+1].y&&(l=z.RIGHT),l}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(c){for(var i=c.getEdge().getCoordinates(),a=0;a<i.length-1;a++)(this._minCoord===null||i[a].x>this._minCoord.x)&&(this._minDe=c,this._minIndex=a,this._minCoord=i[a])}},{key:"findRightmostEdgeAtNode",value:function(){var c=this._minDe.getNode().getEdges();this._minDe=c.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(c){for(var i=c.iterator();i.hasNext();){var a=i.next();a.isForward()&&this.checkForRightmostCoordinate(a)}Pe.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===z.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),dn=function(c){function i(a,l){var p;return n(this,i),(p=r(this,i,[l?a+" [ "+l+" ]":a])).pt=l?new K(l):void 0,p.name=Object.keys({TopologyException:i})[0],p}return w(i,c),h(i,[{key:"getCoordinate",value:function(){return this.pt}}])}(De),jr=function(){return h(function c(){n(this,c),this.array=[]},[{key:"addLast",value:function(c){this.array.push(c)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),We=function(c){function i(a){var l;return n(this,i),(l=r(this,i)).array=[],a instanceof Q&&l.addAll(a),l}return w(i,c),h(i,[{key:"interfaces_",get:function(){return[$e,Q]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(a){return arguments.length===1?this.array.push(a):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(a){var l,p=m(a);try{for(p.s();!(l=p.n()).done;){var b=l.value;this.array.push(b)}}catch(C){p.e(C)}finally{p.f()}}},{key:"set",value:function(a,l){var p=this.array[a];return this.array[a]=l,p}},{key:"iterator",value:function(){return new jn(this)}},{key:"get",value:function(a){if(a<0||a>=this.size())throw new me;return this.array[a]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(a){a?this.array.sort(function(l,p){return a.compare(l,p)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(a){for(var l=0,p=this.array.length;l<p;l++)if(this.array[l]===a)return!!this.array.splice(l,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}($e),jn=function(){return h(function c(i){n(this,c),this.arrayList=i,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new se;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(c){return this.arrayList.set(this.position-1,c)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),Wi=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();)c.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(c){for(var i=null,a=c.getEdges().iterator();a.hasNext();){var l=a.next();if(l.isVisited()||l.getSym().isVisited()){i=l;break}}if(i===null)throw new dn("unable to find edge to compute depths at "+c.getCoordinate());c.getEdges().computeDepths(i);for(var p=c.getEdges().iterator();p.hasNext();){var b=p.next();b.setVisited(!0),this.copySymDepths(b)}}},{key:"computeDepth",value:function(c){this.clearVisitedEdges();var i=this._finder.getEdge();i.getNode(),i.getLabel(),i.setEdgeDepths(z.RIGHT,c),this.copySymDepths(i),this.computeDepths(i)}},{key:"create",value:function(c){this.addReachable(c),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var c=this._dirEdgeList.iterator();c.hasNext();){var i=c.next();i.getDepth(z.RIGHT)>=1&&i.getDepth(z.LEFT)<=0&&!i.isInteriorAreaEdge()&&i.setInResult(!0)}}},{key:"computeDepths",value:function(c){var i=new we,a=new jr,l=c.getNode();for(a.addLast(l),i.add(l),c.setVisited(!0);!a.isEmpty();){var p=a.removeFirst();i.add(p),this.computeNodeDepth(p);for(var b=p.getEdges().iterator();b.hasNext();){var C=b.next().getSym();if(!C.isVisited()){var M=C.getNode();i.contains(M)||(a.addLast(M),i.add(M))}}}}},{key:"compareTo",value:function(c){var i=c;return this._rightMostCoord.x<i._rightMostCoord.x?-1:this._rightMostCoord.x>i._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var c=new Ne,i=this._dirEdgeList.iterator();i.hasNext();)for(var a=i.next().getEdge().getCoordinates(),l=0;l<a.length-1;l++)c.expandToInclude(a[l]);this._env=c}return this._env}},{key:"addReachable",value:function(c){var i=new Se;for(i.add(c);!i.empty();){var a=i.pop();this.add(a,i)}}},{key:"copySymDepths",value:function(c){var i=c.getSym();i.setDepth(z.LEFT,c.getDepth(z.RIGHT)),i.setDepth(z.RIGHT,c.getDepth(z.LEFT))}},{key:"add",value:function(c,i){c.setVisited(!0),this._nodes.add(c);for(var a=c.getEdges().iterator();a.hasNext();){var l=a.next();this._dirEdgeList.add(l);var p=l.getSym().getNode();p.isVisited()||i.push(p)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new We,this._nodes=new We,this._rightMostCoord=null,this._env=null,this._finder=new In}}])}(),yo=function(){return h(function c(){n(this,c)},null,[{key:"intersection",value:function(c,i,a,l){var p=c.x<i.x?c.x:i.x,b=c.y<i.y?c.y:i.y,C=c.x>i.x?c.x:i.x,M=c.y>i.y?c.y:i.y,$=a.x<l.x?a.x:l.x,J=a.y<l.y?a.y:l.y,ue=a.x>l.x?a.x:l.x,fe=a.y>l.y?a.y:l.y,Ce=((p>$?p:$)+(C<ue?C:ue))/2,Ue=((b>J?b:J)+(M<fe?M:fe))/2,Ze=c.x-Ce,Je=c.y-Ue,vt=i.x-Ce,ct=i.y-Ue,Ot=a.x-Ce,Vt=a.y-Ue,on=l.x-Ce,tr=l.y-Ue,Gs=Je-ct,_i=vt-Ze,jo=Ze*ct-vt*Je,qo=Vt-tr,ns=on-Ot,ll=Ot*tr-on*Vt,Hs=Gs*ns-qo*_i,Er=(_i*ll-ns*jo)/Hs,Da=(qo*jo-Gs*ll)/Hs;return ce.isNaN(Er)||ce.isInfinite(Er)||ce.isNaN(Da)||ce.isInfinite(Da)?null:new K(Er+Ce,Da+Ue)}}])}(),qn=function(){return h(function c(){n(this,c)},null,[{key:"arraycopy",value:function(c,i,a,l,p){for(var b=0,C=i;C<i+p;C++)a[l+b]=c[C],b++}},{key:"getProperty",value:function(c){return{"line.separator":`
`}[c]}}])}(),qr=function(){function c(){n(this,c)}return h(c,null,[{key:"log10",value:function(i){var a=Math.log(i);return ce.isInfinite(a)||ce.isNaN(a)?a:a/c.LOG_10}},{key:"min",value:function(i,a,l,p){var b=i;return a<b&&(b=a),l<b&&(b=l),p<b&&(b=p),b}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],a=arguments[1],l=arguments[2];return i<a?a:i>l?l:i}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],b=arguments[1],C=arguments[2];return p<b?b:p>C?C:p}}},{key:"wrap",value:function(i,a){return i<0?a- -i%a:i%a}},{key:"max",value:function(){if(arguments.length===3){var i=arguments[1],a=arguments[2],l=arguments[0];return i>l&&(l=i),a>l&&(l=a),l}if(arguments.length===4){var p=arguments[1],b=arguments[2],C=arguments[3],M=arguments[0];return p>M&&(M=p),b>M&&(M=b),C>M&&(M=C),M}}},{key:"average",value:function(i,a){return(i+a)/2}}])}();qr.LOG_10=Math.log(10);var ni=function(){function c(){n(this,c)}return h(c,null,[{key:"segmentToSegment",value:function(i,a,l,p){if(i.equals(a))return c.pointToSegment(i,l,p);if(l.equals(p))return c.pointToSegment(p,i,a);var b=!1;if(Ne.intersects(i,a,l,p)){var C=(a.x-i.x)*(p.y-l.y)-(a.y-i.y)*(p.x-l.x);if(C===0)b=!0;else{var M=(i.y-l.y)*(p.x-l.x)-(i.x-l.x)*(p.y-l.y),$=((i.y-l.y)*(a.x-i.x)-(i.x-l.x)*(a.y-i.y))/C,J=M/C;(J<0||J>1||$<0||$>1)&&(b=!0)}}else b=!0;return b?qr.min(c.pointToSegment(i,l,p),c.pointToSegment(a,l,p),c.pointToSegment(l,i,a),c.pointToSegment(p,i,a)):0}},{key:"pointToSegment",value:function(i,a,l){if(a.x===l.x&&a.y===l.y)return i.distance(a);var p=(l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y),b=((i.x-a.x)*(l.x-a.x)+(i.y-a.y)*(l.y-a.y))/p;if(b<=0)return i.distance(a);if(b>=1)return i.distance(l);var C=((a.y-i.y)*(l.x-a.x)-(a.x-i.x)*(l.y-a.y))/p;return Math.abs(C)*Math.sqrt(p)}},{key:"pointToLinePerpendicular",value:function(i,a,l){var p=(l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y),b=((a.y-i.y)*(l.x-a.x)-(a.x-i.x)*(l.y-a.y))/p;return Math.abs(b)*Math.sqrt(p)}},{key:"pointToSegmentString",value:function(i,a){if(a.length===0)throw new x("Line array must contain at least one vertex");for(var l=i.distance(a[0]),p=0;p<a.length-1;p++){var b=c.pointToSegment(i,a[p],a[p+1]);b<l&&(l=b)}return l}}])}(),bo=function(){return h(function c(){n(this,c)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||re(arguments[0],Xe);else if(arguments.length!==2){if(arguments.length===3){var c=arguments[0],i=arguments[1];return this.create(c,i)}}}}])}(),ma=function(){return h(function c(){n(this,c)},[{key:"filter",value:function(c){}}])}(),Qc=function(){return h(function c(){n(this,c)},null,[{key:"ofLine",value:function(c){var i=c.size();if(i<=1)return 0;var a=0,l=new K;c.getCoordinate(0,l);for(var p=l.x,b=l.y,C=1;C<i;C++){c.getCoordinate(C,l);var M=l.x,$=l.y,J=M-p,ue=$-b;a+=Math.sqrt(J*J+ue*ue),p=M,b=$}return a}}])}(),ju=h(function c(){n(this,c)}),_r=function(){function c(){n(this,c)}return h(c,null,[{key:"copyCoord",value:function(i,a,l,p){for(var b=Math.min(i.getDimension(),l.getDimension()),C=0;C<b;C++)l.setOrdinate(p,C,i.getOrdinate(a,C))}},{key:"isRing",value:function(i){var a=i.size();return a===0||!(a<=3)&&i.getOrdinate(0,Xe.X)===i.getOrdinate(a-1,Xe.X)&&i.getOrdinate(0,Xe.Y)===i.getOrdinate(a-1,Xe.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(re(arguments[0],Xe)&&Number.isInteger(arguments[1])){var i=arguments[0],a=arguments[1];c.scroll(i,a,c.isRing(i))}else if(re(arguments[0],Xe)&&arguments[1]instanceof K){var l=arguments[0],p=arguments[1],b=c.indexOf(p,l);if(b<=0)return null;c.scroll(l,b)}}else if(arguments.length===3){var C=arguments[0],M=arguments[1],$=arguments[2];if(M<=0)return null;for(var J=C.copy(),ue=$?C.size()-1:C.size(),fe=0;fe<ue;fe++)for(var Ce=0;Ce<C.getDimension();Ce++)C.setOrdinate(fe,Ce,J.getOrdinate((M+fe)%ue,Ce));if($)for(var Ue=0;Ue<C.getDimension();Ue++)C.setOrdinate(ue,Ue,C.getOrdinate(0,Ue))}}},{key:"isEqual",value:function(i,a){var l=i.size();if(l!==a.size())return!1;for(var p=Math.min(i.getDimension(),a.getDimension()),b=0;b<l;b++)for(var C=0;C<p;C++){var M=i.getOrdinate(b,C),$=a.getOrdinate(b,C);if(i.getOrdinate(b,C)!==a.getOrdinate(b,C)&&(!ce.isNaN(M)||!ce.isNaN($)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var i=arguments[0];return c.minCoordinateIndex(i,0,i.size()-1)}if(arguments.length===3){for(var a=arguments[0],l=arguments[2],p=-1,b=null,C=arguments[1];C<=l;C++){var M=a.getCoordinate(C);(b===null||b.compareTo(M)>0)&&(b=M,p=C)}return p}}},{key:"extend",value:function(i,a,l){var p=i.create(l,a.getDimension()),b=a.size();if(c.copy(a,0,p,0,b),b>0)for(var C=b;C<l;C++)c.copy(a,b-1,p,C,1);return p}},{key:"reverse",value:function(i){for(var a=i.size()-1,l=Math.trunc(a/2),p=0;p<=l;p++)c.swap(i,p,a-p)}},{key:"swap",value:function(i,a,l){if(a===l)return null;for(var p=0;p<i.getDimension();p++){var b=i.getOrdinate(a,p);i.setOrdinate(a,p,i.getOrdinate(l,p)),i.setOrdinate(l,p,b)}}},{key:"copy",value:function(i,a,l,p,b){for(var C=0;C<b;C++)c.copyCoord(i,a+C,l,p+C)}},{key:"ensureValidRing",value:function(i,a){var l=a.size();return l===0?a:l<=3?c.createClosedRing(i,a,4):a.getOrdinate(0,Xe.X)===a.getOrdinate(l-1,Xe.X)&&a.getOrdinate(0,Xe.Y)===a.getOrdinate(l-1,Xe.Y)?a:c.createClosedRing(i,a,l+1)}},{key:"indexOf",value:function(i,a){for(var l=0;l<a.size();l++)if(i.x===a.getOrdinate(l,Xe.X)&&i.y===a.getOrdinate(l,Xe.Y))return l;return-1}},{key:"createClosedRing",value:function(i,a,l){var p=i.create(l,a.getDimension()),b=a.size();c.copy(a,0,p,0,b);for(var C=b;C<l;C++)c.copy(a,0,p,C,1);return p}},{key:"minCoordinate",value:function(i){for(var a=null,l=0;l<i.size();l++){var p=i.getCoordinate(l);(a===null||a.compareTo(p)>0)&&(a=p)}return a}}])}(),Fe=function(){function c(){n(this,c)}return h(c,null,[{key:"toDimensionSymbol",value:function(i){switch(i){case c.FALSE:return c.SYM_FALSE;case c.TRUE:return c.SYM_TRUE;case c.DONTCARE:return c.SYM_DONTCARE;case c.P:return c.SYM_P;case c.L:return c.SYM_L;case c.A:return c.SYM_A}throw new x("Unknown dimension value: "+i)}},{key:"toDimensionValue",value:function(i){switch(et.toUpperCase(i)){case c.SYM_FALSE:return c.FALSE;case c.SYM_TRUE:return c.TRUE;case c.SYM_DONTCARE:return c.DONTCARE;case c.SYM_P:return c.P;case c.SYM_L:return c.L;case c.SYM_A:return c.A}throw new x("Unknown dimension symbol: "+i)}}])}();Fe.P=0,Fe.L=1,Fe.A=2,Fe.FALSE=-1,Fe.TRUE=-2,Fe.DONTCARE=-3,Fe.SYM_FALSE="F",Fe.SYM_TRUE="T",Fe.SYM_DONTCARE="*",Fe.SYM_P="0",Fe.SYM_L="1",Fe.SYM_A="2";var ga=function(){return h(function c(){n(this,c)},[{key:"filter",value:function(c){}}])}(),Wr=function(){return h(function c(){n(this,c)},[{key:"filter",value:function(c,i){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),Ps=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Ne:this._points.expandEnvelope(new Ne)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new i(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var a=arguments[0],l=arguments[1];if(!this.isEquivalentClass(a))return!1;var p=a;if(this._points.size()!==p._points.size())return!1;for(var b=0;b<this._points.size();b++)if(!this.equal(this._points.getCoordinate(b),p._points.getCoordinate(b),l))return!1;return!0}return O(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var a=0;a<Math.trunc(this._points.size()/2);a++){var l=this._points.size()-1-a;if(!this._points.getCoordinate(a).equals(this._points.getCoordinate(l))){if(this._points.getCoordinate(a).compareTo(this._points.getCoordinate(l))>0){var p=this._points.copy();_r.reverse(p),this._points=p}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Fe.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var a=this._points.copy();return _r.reverse(a),this.getFactory().createLineString(a)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Qc.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var a=arguments[0],l=0,p=0;l<this._points.size()&&p<a._points.size();){var b=this._points.getCoordinate(l).compareTo(a._points.getCoordinate(p));if(b!==0)return b;l++,p++}return l<this._points.size()?1:p<a._points.size()?-1:0}if(arguments.length===2){var C=arguments[0];return arguments[1].compare(this._points,C._points)}}},{key:"apply",value:function(){if(re(arguments[0],ma))for(var a=arguments[0],l=0;l<this._points.size();l++)a.filter(this._points.getCoordinate(l));else if(re(arguments[0],Wr)){var p=arguments[0];if(this._points.size()===0)return null;for(var b=0;b<this._points.size()&&(p.filter(this._points,b),!p.isDone());b++);p.isGeometryChanged()&&this.geometryChanged()}else re(arguments[0],ga)?arguments[0].filter(this):re(arguments[0],k)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new _e}},{key:"isEquivalentClass",value:function(a){return a instanceof i}},{key:"getCoordinateN",value:function(a){return this._points.getCoordinate(a)}},{key:"getGeometryType",value:function(){return Me.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(a){if(a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),a.size()===1)throw new x("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a}},{key:"isCoordinate",value:function(a){for(var l=0;l<this._points.size();l++)if(this._points.getCoordinate(l).equals(a))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))}},{key:"interfaces_",get:function(){return[ju]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var a=arguments[0],l=arguments[1];Me.constructor_.call(this,l),this.init(a)}}}}])}(Me),qu=h(function c(){n(this,c)}),wo=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Ne;var a=new Ne;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new i(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var a=arguments[0],l=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),l))}return O(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Fe.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Me.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var a=arguments[0];return this.getCoordinate().compareTo(a.getCoordinate())}if(arguments.length===2){var l=arguments[0];return arguments[1].compare(this._coordinates,l._coordinates)}}},{key:"apply",value:function(){if(re(arguments[0],ma)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(re(arguments[0],Wr)){var l=arguments[0];if(this.isEmpty())return null;l.filter(this._coordinates,0),l.isGeometryChanged()&&this.geometryChanged()}else re(arguments[0],ga)?arguments[0].filter(this):re(arguments[0],k)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Me.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),Pe.isTrue(a.size()<=1),this._coordinates=a}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[qu]}}],[{key:"constructor_",value:function(){this._coordinates=null;var a=arguments[0],l=arguments[1];Me.constructor_.call(this,l),this.init(a)}}])}(Me),Wu=function(){function c(){n(this,c)}return h(c,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var i=arguments[0];return Math.abs(c.ofRingSigned(i))}if(re(arguments[0],Xe)){var a=arguments[0];return Math.abs(c.ofRingSigned(a))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var i=arguments[0];if(i.length<3)return 0;for(var a=0,l=i[0].x,p=1;p<i.length-1;p++){var b=i[p].x-l,C=i[p+1].y;a+=b*(i[p-1].y-C)}return a/2}if(re(arguments[0],Xe)){var M=arguments[0],$=M.size();if($<3)return 0;var J=new K,ue=new K,fe=new K;M.getCoordinate(0,ue),M.getCoordinate(1,fe);var Ce=ue.x;fe.x-=Ce;for(var Ue=0,Ze=1;Ze<$-1;Ze++)J.y=ue.y,ue.x=fe.x,ue.y=fe.y,M.getCoordinate(Ze+1,fe),fe.x-=Ce,Ue+=ue.x*(J.y-fe.y);return Ue/2}}}])}(),fn=function(){return h(function c(){n(this,c)},null,[{key:"sort",value:function(){var c=arguments,i=arguments[0];if(arguments.length===1)i.sort(function(Ce,Ue){return Ce.compareTo(Ue)});else if(arguments.length===2)i.sort(function(Ce,Ue){return c[1].compare(Ce,Ue)});else if(arguments.length===3){var a=i.slice(arguments[1],arguments[2]);a.sort();var l=i.slice(0,arguments[1]).concat(a,i.slice(arguments[2],i.length));i.splice(0,i.length);var p,b=m(l);try{for(b.s();!(p=b.n()).done;){var C=p.value;i.push(C)}}catch(Ce){b.e(Ce)}finally{b.f()}}else if(arguments.length===4){var M=i.slice(arguments[1],arguments[2]);M.sort(function(Ce,Ue){return c[3].compare(Ce,Ue)});var $=i.slice(0,arguments[1]).concat(M,i.slice(arguments[2],i.length));i.splice(0,i.length);var J,ue=m($);try{for(ue.s();!(J=ue.n()).done;){var fe=J.value;i.push(fe)}}catch(Ce){ue.e(Ce)}finally{ue.f()}}}},{key:"asList",value:function(c){var i,a=new We,l=m(c);try{for(l.s();!(i=l.n()).done;){var p=i.value;a.add(p)}}catch(b){l.e(b)}finally{l.f()}return a}},{key:"copyOf",value:function(c,i){return c.slice(0,i)}}])}(),Ke=h(function c(){n(this,c)}),Is=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),l=-1,p=this._shell.getCoordinates(),b=0;b<p.length;b++)a[++l]=p[b];for(var C=0;C<this._holes.length;C++)for(var M=this._holes[C].getCoordinates(),$=0;$<M.length;$++)a[++l]=M[$];return a}},{key:"getArea",value:function(){var a=0;a+=Wu.ofRing(this._shell.getCoordinateSequence());for(var l=0;l<this._holes.length;l++)a-=Wu.ofRing(this._holes[l].getCoordinateSequence());return a}},{key:"copyInternal",value:function(){for(var a=this._shell.copy(),l=new Array(this._holes.length).fill(null),p=0;p<this._holes.length;p++)l[p]=this._holes[p].copy();return new i(a,l,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var a=this._shell.getCoordinateSequence(),l=this.getEnvelopeInternal(),p=0;p<5;p++){var b=a.getX(p);if(b!==l.getMinX()&&b!==l.getMaxX())return!1;var C=a.getY(p);if(C!==l.getMinY()&&C!==l.getMaxY())return!1}for(var M=a.getX(0),$=a.getY(0),J=1;J<=4;J++){var ue=a.getX(J),fe=a.getY(J);if(ue!==M==(fe!==$))return!1;M=ue,$=fe}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var a=arguments[0],l=arguments[1];if(!this.isEquivalentClass(a))return!1;var p=a,b=this._shell,C=p._shell;if(!b.equalsExact(C,l)||this._holes.length!==p._holes.length)return!1;for(var M=0;M<this._holes.length;M++)if(!this._holes[M].equalsExact(p._holes[M],l))return!1;return!0}return O(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var a=0;a<this._holes.length;a++)this._holes[a]=this.normalized(this._holes[a],!1);fn.sort(this._holes)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];if(l.isEmpty())return null;var b=l.getCoordinateSequence(),C=_r.minCoordinateIndex(b,0,b.size()-2);_r.scroll(b,C,!0),Ye.isCCW(b)===p&&_r.reverse(b)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var a=this.getExteriorRing().reverse(),l=new Array(this.getNumInteriorRing()).fill(null),p=0;p<l.length;p++)l[p]=this.getInteriorRingN(p).reverse();return this.getFactory().createPolygon(a,l)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var a=0;a+=this._shell.getLength();for(var l=0;l<this._holes.length;l++)a+=this._holes[l].getLength();return a}},{key:"getNumPoints",value:function(){for(var a=this._shell.getNumPoints(),l=0;l<this._holes.length;l++)a+=this._holes[l].getNumPoints();return a}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(a,l){var p=a.copy();return this.normalize(p,l),p}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var a=arguments[0],l=this._shell,p=a._shell;return l.compareToSameClass(p)}if(arguments.length===2){var b=arguments[1],C=arguments[0],M=this._shell,$=C._shell,J=M.compareToSameClass($,b);if(J!==0)return J;for(var ue=this.getNumInteriorRing(),fe=C.getNumInteriorRing(),Ce=0;Ce<ue&&Ce<fe;){var Ue=this.getInteriorRingN(Ce),Ze=C.getInteriorRingN(Ce),Je=Ue.compareToSameClass(Ze,b);if(Je!==0)return Je;Ce++}return Ce<ue?1:Ce<fe?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],ma)){var a=arguments[0];this._shell.apply(a);for(var l=0;l<this._holes.length;l++)this._holes[l].apply(a)}else if(re(arguments[0],Wr)){var p=arguments[0];if(this._shell.apply(p),!p.isDone())for(var b=0;b<this._holes.length&&(this._holes[b].apply(p),!p.isDone());b++);p.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],ga))arguments[0].filter(this);else if(re(arguments[0],k)){var C=arguments[0];C.filter(this),this._shell.apply(C);for(var M=0;M<this._holes.length;M++)this._holes[M].apply(C)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var l=0;l<this._holes.length;l++)a[l+1]=this._holes[l];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)}},{key:"getGeometryType",value:function(){return Me.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(a){return this._holes[a]}},{key:"interfaces_",get:function(){return[Ke]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var a=arguments[0],l=arguments[1],p=arguments[2];if(Me.constructor_.call(this,p),a===null&&(a=this.getFactory().createLinearRing()),l===null&&(l=[]),Me.hasNullElements(l))throw new x("holes must not contain null elements");if(a.isEmpty()&&Me.hasNonEmptyElements(l))throw new x("shell is empty but holes are not");this._shell=a,this._holes=l}}])}(Me),Zu=function(c){function i(){return n(this,i),r(this,i,arguments)}return w(i,c),h(i)}(Le),ko=function(c){function i(a){var l;return n(this,i),(l=r(this,i)).array=[],a instanceof Q&&l.addAll(a),l}return w(i,c),h(i,[{key:"contains",value:function(a){var l,p=m(this.array);try{for(p.s();!(l=p.n()).done;)if(l.value.compareTo(a)===0)return!0}catch(b){p.e(b)}finally{p.f()}return!1}},{key:"add",value:function(a){if(this.contains(a))return!1;for(var l=0,p=this.array.length;l<p;l++)if(this.array[l].compareTo(a)===1)return!!this.array.splice(l,0,a);return this.array.push(a),!0}},{key:"addAll",value:function(a){var l,p=m(a);try{for(p.s();!(l=p.n()).done;){var b=l.value;this.add(b)}}catch(C){p.e(C)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new _e}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Yu(this.array)}}])}(Zu),Yu=function(){return h(function c(i){n(this,c),this.array=i,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new se;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new _e}}])}(),yn=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"computeEnvelopeInternal",value:function(){for(var a=new Ne,l=0;l<this._geometries.length;l++)a.expandToInclude(this._geometries[l].getEnvelopeInternal());return a}},{key:"getGeometryN",value:function(a){return this._geometries[a]}},{key:"getCoordinates",value:function(){for(var a=new Array(this.getNumPoints()).fill(null),l=-1,p=0;p<this._geometries.length;p++)for(var b=this._geometries[p].getCoordinates(),C=0;C<b.length;C++)a[++l]=b[C];return a}},{key:"getArea",value:function(){for(var a=0,l=0;l<this._geometries.length;l++)a+=this._geometries[l].getArea();return a}},{key:"copyInternal",value:function(){for(var a=new Array(this._geometries.length).fill(null),l=0;l<a.length;l++)a[l]=this._geometries[l].copy();return new i(a,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var a=arguments[0],l=arguments[1];if(!this.isEquivalentClass(a))return!1;var p=a;if(this._geometries.length!==p._geometries.length)return!1;for(var b=0;b<this._geometries.length;b++)if(!this._geometries[b].equalsExact(p._geometries[b],l))return!1;return!0}return O(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();fn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var a=Fe.FALSE,l=0;l<this._geometries.length;l++)a=Math.max(a,this._geometries[l].getBoundaryDimension());return a}},{key:"reverseInternal",value:function(){for(var a=this._geometries.length,l=new We(a),p=0;p<a;p++)l.add(this._geometries[p].reverse());return this.getFactory().buildGeometry(l)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var a=Fe.FALSE,l=0;l<this._geometries.length;l++)a=Math.max(a,this._geometries[l].getDimension());return a}},{key:"getLength",value:function(){for(var a=0,l=0;l<this._geometries.length;l++)a+=this._geometries[l].getLength();return a}},{key:"getNumPoints",value:function(){for(var a=0,l=0;l<this._geometries.length;l++)a+=this._geometries[l].getNumPoints();return a}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var a=arguments[0],l=new ko(fn.asList(this._geometries)),p=new ko(fn.asList(a._geometries));return this.compare(l,p)}if(arguments.length===2){for(var b=arguments[1],C=arguments[0],M=this.getNumGeometries(),$=C.getNumGeometries(),J=0;J<M&&J<$;){var ue=this.getGeometryN(J),fe=C.getGeometryN(J),Ce=ue.compareToSameClass(fe,b);if(Ce!==0)return Ce;J++}return J<M?1:J<$?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],ma))for(var a=arguments[0],l=0;l<this._geometries.length;l++)this._geometries[l].apply(a);else if(re(arguments[0],Wr)){var p=arguments[0];if(this._geometries.length===0)return null;for(var b=0;b<this._geometries.length&&(this._geometries[b].apply(p),!p.isDone());b++);p.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],ga)){var C=arguments[0];C.filter(this);for(var M=0;M<this._geometries.length;M++)this._geometries[M].apply(C)}else if(re(arguments[0],k)){var $=arguments[0];$.filter(this);for(var J=0;J<this._geometries.length;J++)this._geometries[J].apply($)}}},{key:"getBoundary",value:function(){return Me.checkNotGeometryCollection(this),Pe.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Me.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var a=arguments[0],l=arguments[1];if(Me.constructor_.call(this,l),a===null&&(a=[]),Me.hasNullElements(a))throw new x("geometries must not contain null elements");this._geometries=a}}}}])}(Me),_a=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"copyInternal",value:function(){for(var a=new Array(this._geometries.length).fill(null),l=0;l<a.length;l++)a[l]=this._geometries[l].copy();return new i(a,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var a=arguments[0],l=arguments[1];return!!this.isEquivalentClass(a)&&O(i,"equalsExact",this,1).call(this,a,l)}return O(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var a=arguments[0];return this._geometries[a].getCoordinate()}return O(i,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Fe.FALSE}},{key:"getTypeCode",value:function(){return Me.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Me.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[qu]}}],[{key:"constructor_",value:function(){var a=arguments[0],l=arguments[1];yn.constructor_.call(this,a,l)}}])}(yn),li=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"copyInternal",value:function(){return new i(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Fe.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||O(i,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var a=this._points.copy();return _r.reverse(a),this.getFactory().createLinearRing(a)}},{key:"getTypeCode",value:function(){return Me.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!O(i,"isClosed",this,1).call(this))throw new x("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new x("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Me.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var a=arguments[0],l=arguments[1];Ps.constructor_.call(this,a,l),this.validateConstruction()}}])}(Ps);li.MINIMUM_VALID_SIZE=4;var Zi=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"setOrdinate",value:function(a,l){switch(a){case i.X:this.x=l;break;case i.Y:this.y=l;break;default:throw new x("Invalid ordinate index: "+a)}}},{key:"getZ",value:function(){return K.NULL_ORDINATE}},{key:"getOrdinate",value:function(a){switch(a){case i.X:return this.x;case i.Y:return this.y}throw new x("Invalid ordinate index: "+a)}},{key:"setZ",value:function(a){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(a){this.x=a.x,this.y=a.y,this.z=a.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)K.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof i){var a=arguments[0];K.constructor_.call(this,a.x,a.y)}else if(arguments[0]instanceof K){var l=arguments[0];K.constructor_.call(this,l.x,l.y)}}else if(arguments.length===2){var p=arguments[0],b=arguments[1];K.constructor_.call(this,p,b,K.NULL_ORDINATE)}}}])}(K);Zi.X=0,Zi.Y=1,Zi.Z=-1,Zi.M=-1;var vr=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(a,l){switch(a){case i.X:this.x=l;break;case i.Y:this.y=l;break;case i.M:this._m=l;break;default:throw new x("Invalid ordinate index: "+a)}}},{key:"setM",value:function(a){this._m=a}},{key:"getZ",value:function(){return K.NULL_ORDINATE}},{key:"getOrdinate",value:function(a){switch(a){case i.X:return this.x;case i.Y:return this.y;case i.M:return this._m}throw new x("Invalid ordinate index: "+a)}},{key:"setZ",value:function(a){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(a){this.x=a.x,this.y=a.y,this.z=a.getZ(),this._m=a.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)K.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof i){var a=arguments[0];K.constructor_.call(this,a.x,a.y),this._m=a._m}else if(arguments[0]instanceof K){var l=arguments[0];K.constructor_.call(this,l.x,l.y),this._m=this.getM()}}else if(arguments.length===3){var p=arguments[0],b=arguments[1],C=arguments[2];K.constructor_.call(this,p,b,K.NULL_ORDINATE),this._m=C}}}])}(K);vr.X=0,vr.Y=1,vr.Z=-1,vr.M=2;var Lo=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(a,l){switch(a){case K.X:this.x=l;break;case K.Y:this.y=l;break;case K.Z:this.z=l;break;case K.M:this._m=l;break;default:throw new x("Invalid ordinate index: "+a)}}},{key:"setM",value:function(a){this._m=a}},{key:"getOrdinate",value:function(a){switch(a){case K.X:return this.x;case K.Y:return this.y;case K.Z:return this.getZ();case K.M:return this.getM()}throw new x("Invalid ordinate index: "+a)}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(a){this.x=a.x,this.y=a.y,this.z=a.getZ(),this._m=a.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)K.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof i){var a=arguments[0];K.constructor_.call(this,a),this._m=a._m}else if(arguments[0]instanceof K){var l=arguments[0];K.constructor_.call(this,l),this._m=this.getM()}}else if(arguments.length===4){var p=arguments[0],b=arguments[1],C=arguments[2],M=arguments[3];K.constructor_.call(this,p,b,C),this._m=M}}}])}(K),va=function(){function c(){n(this,c)}return h(c,null,[{key:"measures",value:function(i){return i instanceof Zi?0:i instanceof vr||i instanceof Lo?1:0}},{key:"dimension",value:function(i){return i instanceof Zi?2:i instanceof vr?3:i instanceof Lo?4:3}},{key:"create",value:function(){if(arguments.length===1){var i=arguments[0];return c.create(i,0)}if(arguments.length===2){var a=arguments[0],l=arguments[1];return a===2?new Zi:a===3&&l===0?new K:a===3&&l===1?new vr:a===4&&l===1?new Lo:new K}}}])}(),Ns=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"getCoordinate",value:function(a){return this.get(a)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&re(arguments[0],Q)){for(var a=arguments[1],l=!1,p=arguments[0].iterator();p.hasNext();)this.add(p.next(),a),l=!0;return l}return O(i,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var a=O(i,"clone",this,1).call(this),l=0;l<this.size();l++)a.add(l,this.get(l).clone());return a}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(i.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(i.coordArrayType);for(var a=this.size(),l=new Array(a).fill(null),p=0;p<a;p++)l[p]=this.get(a-p-1);return l}}},{key:"add",value:function(){if(arguments.length===1){var a=arguments[0];return O(i,"add",this,1).call(this,a)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var l=arguments[0],p=arguments[1];return this.add(l,p,!0),!0}if(arguments[0]instanceof K&&typeof arguments[1]=="boolean"){var b=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(b))return null;O(i,"add",this,1).call(this,b)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var C=arguments[0],M=arguments[1];return this.add(C,M),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var $=arguments[0],J=arguments[1];if(arguments[2])for(var ue=0;ue<$.length;ue++)this.add($[ue],J);else for(var fe=$.length-1;fe>=0;fe--)this.add($[fe],J);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof K){var Ce=arguments[0],Ue=arguments[1];if(!arguments[2]){var Ze=this.size();if(Ze>0&&(Ce>0&&this.get(Ce-1).equals2D(Ue)||Ce<Ze&&this.get(Ce).equals2D(Ue)))return null}O(i,"add",this,1).call(this,Ce,Ue)}}else if(arguments.length===4){var Je=arguments[0],vt=arguments[1],ct=arguments[2],Ot=arguments[3],Vt=1;ct>Ot&&(Vt=-1);for(var on=ct;on!==Ot;on+=Vt)this.add(Je[on],vt);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var a=this.get(0).copy();this.add(a,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.ensureCapacity(l.length),this.add(l,p)}}}}])}(We);Ns.coordArrayType=new Array(0).fill(null);var Yt=function(){function c(){n(this,c)}return h(c,null,[{key:"isRing",value:function(i){return!(i.length<4)&&!!i[0].equals2D(i[i.length-1])}},{key:"ptNotInList",value:function(i,a){for(var l=0;l<i.length;l++){var p=i[l];if(c.indexOf(p,a)<0)return p}return null}},{key:"scroll",value:function(i,a){var l=c.indexOf(a,i);if(l<0)return null;var p=new Array(i.length).fill(null);qn.arraycopy(i,l,p,0,i.length-l),qn.arraycopy(i,0,p,i.length-l,l),qn.arraycopy(p,0,i,0,i.length)}},{key:"equals",value:function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];if(i===a)return!0;if(i===null||a===null||i.length!==a.length)return!1;for(var l=0;l<i.length;l++)if(!i[l].equals(a[l]))return!1;return!0}if(arguments.length===3){var p=arguments[0],b=arguments[1],C=arguments[2];if(p===b)return!0;if(p===null||b===null||p.length!==b.length)return!1;for(var M=0;M<p.length;M++)if(C.compare(p[M],b[M])!==0)return!1;return!0}}},{key:"intersection",value:function(i,a){for(var l=new Ns,p=0;p<i.length;p++)a.intersects(i[p])&&l.add(i[p],!0);return l.toCoordinateArray()}},{key:"measures",value:function(i){if(i===null||i.length===0)return 0;var a,l=0,p=m(i);try{for(p.s();!(a=p.n()).done;){var b=a.value;l=Math.max(l,va.measures(b))}}catch(C){p.e(C)}finally{p.f()}return l}},{key:"hasRepeatedPoints",value:function(i){for(var a=1;a<i.length;a++)if(i[a-1].equals(i[a]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(i){return c.hasRepeatedPoints(i)?new Ns(i,!1).toCoordinateArray():i}},{key:"reverse",value:function(i){for(var a=i.length-1,l=Math.trunc(a/2),p=0;p<=l;p++){var b=i[p];i[p]=i[a-p],i[a-p]=b}}},{key:"removeNull",value:function(i){for(var a=0,l=0;l<i.length;l++)i[l]!==null&&a++;var p=new Array(a).fill(null);if(a===0)return p;for(var b=0,C=0;C<i.length;C++)i[C]!==null&&(p[b++]=i[C]);return p}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var i=arguments[0],a=new Array(i.length).fill(null),l=0;l<i.length;l++)a[l]=i[l].copy();return a}if(arguments.length===5)for(var p=arguments[0],b=arguments[1],C=arguments[2],M=arguments[3],$=arguments[4],J=0;J<$;J++)C[M+J]=p[b+J].copy()}},{key:"isEqualReversed",value:function(i,a){for(var l=0;l<i.length;l++){var p=i[l],b=a[i.length-l-1];if(p.compareTo(b)!==0)return!1}return!0}},{key:"envelope",value:function(i){for(var a=new Ne,l=0;l<i.length;l++)a.expandToInclude(i[l]);return a}},{key:"toCoordinateArray",value:function(i){return i.toArray(c.coordArrayType)}},{key:"dimension",value:function(i){if(i===null||i.length===0)return 3;var a,l=0,p=m(i);try{for(p.s();!(a=p.n()).done;){var b=a.value;l=Math.max(l,va.dimension(b))}}catch(C){p.e(C)}finally{p.f()}return l}},{key:"atLeastNCoordinatesOrNothing",value:function(i,a){return a.length>=i?a:[]}},{key:"indexOf",value:function(i,a){for(var l=0;l<a.length;l++)if(i.equals(a[l]))return l;return-1}},{key:"increasingDirection",value:function(i){for(var a=0;a<Math.trunc(i.length/2);a++){var l=i.length-1-a,p=i[a].compareTo(i[l]);if(p!==0)return p}return 1}},{key:"compare",value:function(i,a){for(var l=0;l<i.length&&l<a.length;){var p=i[l].compareTo(a[l]);if(p!==0)return p;l++}return l<a.length?-1:l<i.length?1:0}},{key:"minCoordinate",value:function(i){for(var a=null,l=0;l<i.length;l++)(a===null||a.compareTo(i[l])>0)&&(a=i[l]);return a}},{key:"extract",value:function(i,a,l){a=qr.clamp(a,0,i.length);var p=(l=qr.clamp(l,-1,i.length))-a+1;l<0&&(p=0),a>=i.length&&(p=0),l<a&&(p=0);var b=new Array(p).fill(null);if(p===0)return b;for(var C=0,M=a;M<=l;M++)b[C++]=i[M];return b}}])}(),ed=function(){return h(function c(){n(this,c)},[{key:"compare",value:function(c,i){var a=c,l=i;return Yt.compare(a,l)}},{key:"interfaces_",get:function(){return[ke]}}])}(),ya=function(){return h(function c(){n(this,c)},[{key:"compare",value:function(c,i){var a=c,l=i;if(a.length<l.length)return-1;if(a.length>l.length)return 1;if(a.length===0)return 0;var p=Yt.compare(a,l);return Yt.isEqualReversed(a,l)?0:p}},{key:"OLDcompare",value:function(c,i){var a=c,l=i;if(a.length<l.length)return-1;if(a.length>l.length)return 1;if(a.length===0)return 0;for(var p=Yt.increasingDirection(a),b=Yt.increasingDirection(l),C=p>0?0:a.length-1,M=b>0?0:a.length-1,$=0;$<a.length;$++){var J=a[C].compareTo(l[M]);if(J!==0)return J;C+=p,M+=b}return 0}},{key:"interfaces_",get:function(){return[ke]}}])}();Yt.ForwardComparator=ed,Yt.BidirectionalComparator=ya,Yt.coordArrayType=new Array(0).fill(null);var ba=function(){return h(function c(i){n(this,c),this.str=i},[{key:"append",value:function(c){this.str+=c}},{key:"setCharAt",value:function(c,i){this.str=this.str.substr(0,c)+i+this.str.substr(c+1)}},{key:"toString",value:function(){return this.str}}])}(),Ms=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getM",value:function(i){return this.hasM()?this._coordinates[i].getM():ce.NaN}},{key:"setOrdinate",value:function(i,a,l){switch(a){case Xe.X:this._coordinates[i].x=l;break;case Xe.Y:this._coordinates[i].y=l;break;default:this._coordinates[i].setOrdinate(a,l)}}},{key:"getZ",value:function(i){return this.hasZ()?this._coordinates[i].getZ():ce.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(i,a){switch(a){case Xe.X:return this._coordinates[i].x;case Xe.Y:return this._coordinates[i].y;default:return this._coordinates[i].getOrdinate(a)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var i=arguments[0];return this._coordinates[i]}if(arguments.length===2){var a=arguments[0];arguments[1].setCoordinate(this._coordinates[a])}}},{key:"getCoordinateCopy",value:function(i){var a=this.createCoordinate();return a.setCoordinate(this._coordinates[i]),a}},{key:"createCoordinate",value:function(){return va.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(i){return this._coordinates[i].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(i){for(var a=0;a<this._coordinates.length;a++)i.expandToInclude(this._coordinates[a]);return i}},{key:"copy",value:function(){for(var i=new Array(this.size()).fill(null),a=0;a<this._coordinates.length;a++){var l=this.createCoordinate();l.setCoordinate(this._coordinates[a]),i[a]=l}return new c(i,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var i=new ba(17*this._coordinates.length);i.append("("),i.append(this._coordinates[0]);for(var a=1;a<this._coordinates.length;a++)i.append(", "),i.append(this._coordinates[a]);return i.append(")"),i.toString()}return"()"}},{key:"getY",value:function(i){return this._coordinates[i].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Xe,D]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];c.constructor_.call(this,i,Yt.dimension(i),Yt.measures(i))}else if(Number.isInteger(arguments[0])){var a=arguments[0];this._coordinates=new Array(a).fill(null);for(var l=0;l<a;l++)this._coordinates[l]=new K}else if(re(arguments[0],Xe)){var p=arguments[0];if(p===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=p.getDimension(),this._measures=p.getMeasures(),this._coordinates=new Array(p.size()).fill(null);for(var b=0;b<this._coordinates.length;b++)this._coordinates[b]=p.getCoordinateCopy(b)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var C=arguments[0],M=arguments[1];c.constructor_.call(this,C,M,Yt.measures(C))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var $=arguments[0],J=arguments[1];this._coordinates=new Array($).fill(null),this._dimension=J;for(var ue=0;ue<$;ue++)this._coordinates[ue]=va.create(J)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var fe=arguments[0],Ce=arguments[1],Ue=arguments[2];this._dimension=Ce,this._measures=Ue,this._coordinates=fe===null?new Array(0).fill(null):fe}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Ze=arguments[0],Je=arguments[1],vt=arguments[2];this._coordinates=new Array(Ze).fill(null),this._dimension=Je,this._measures=vt;for(var ct=0;ct<Ze;ct++)this._coordinates[ct]=this.createCoordinate()}}}}])}(),Eo=function(){function c(){n(this,c)}return h(c,[{key:"readResolve",value:function(){return c.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Ms(arguments[0]);if(re(arguments[0],Xe))return new Ms(arguments[0])}else{if(arguments.length===2){var i=arguments[1];return i>3&&(i=3),i<2&&(i=2),new Ms(arguments[0],i)}if(arguments.length===3){var a=arguments[2],l=arguments[1]-a;return a>1&&(a=1),l>3&&(l=3),l<2&&(l=2),new Ms(arguments[0],l+a,a)}}}},{key:"interfaces_",get:function(){return[bo,D]}}],[{key:"instance",value:function(){return c.instanceObject}}])}();Eo.instanceObject=new Eo;var xo=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"copyInternal",value:function(){for(var a=new Array(this._geometries.length).fill(null),l=0;l<a.length;l++)a[l]=this._geometries[l].copy();return new i(a,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var a=arguments[0],l=arguments[1];return!!this.isEquivalentClass(a)&&O(i,"equalsExact",this,1).call(this,a,l)}return O(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Me.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new We,l=0;l<this._geometries.length;l++)for(var p=this._geometries[l].getBoundary(),b=0;b<p.getNumGeometries();b++)a.add(p.getGeometryN(b));var C=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(C))}},{key:"getGeometryType",value:function(){return Me.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ke]}}],[{key:"constructor_",value:function(){var a=arguments[0],l=arguments[1];yn.constructor_.call(this,a,l)}}])}(yn),Xu=function(){return h(function c(){n(this,c)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),To=function(c){function i(){var a;return n(this,i),(a=r(this,i)).map=new Map,a}return w(i,c),h(i,[{key:"get",value:function(a){return this.map.get(a)||null}},{key:"put",value:function(a,l){return this.map.set(a,l),l}},{key:"values",value:function(){for(var a=new We,l=this.map.values(),p=l.next();!p.done;)a.add(p.value),p=l.next();return a}},{key:"entrySet",value:function(){var a=new we;return this.map.entries().forEach(function(l){return a.add(l)}),a}},{key:"size",value:function(){return this.map.size()}}])}(Xu),bn=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"equals",value:function(i){if(!(i instanceof c))return!1;var a=i;return this._modelType===a._modelType&&this._scale===a._scale}},{key:"compareTo",value:function(i){var a=i,l=this.getMaximumSignificantDigits(),p=a.getMaximumSignificantDigits();return He.compare(l,p)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===c.FLOATING||this._modelType===c.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var i="UNKNOWN";return this._modelType===c.FLOATING?i="Floating":this._modelType===c.FLOATING_SINGLE?i="Floating-Single":this._modelType===c.FIXED&&(i="Fixed (Scale="+this.getScale()+")"),i}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var i=arguments[0];return ce.isNaN(i)||this._modelType===c.FLOATING_SINGLE?i:this._modelType===c.FIXED?Math.round(i*this._scale)/this._scale:i}if(arguments[0]instanceof K){var a=arguments[0];if(this._modelType===c.FLOATING)return null;a.x=this.makePrecise(a.x),a.y=this.makePrecise(a.y)}}},{key:"getMaximumSignificantDigits",value:function(){var i=16;return this._modelType===c.FLOATING?i=16:this._modelType===c.FLOATING_SINGLE?i=6:this._modelType===c.FIXED&&(i=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),i}},{key:"setScale",value:function(i){this._scale=Math.abs(i)}},{key:"interfaces_",get:function(){return[D,S]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=c.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof yr){var i=arguments[0];this._modelType=i,i===c.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var a=arguments[0];this._modelType=c.FIXED,this.setScale(a)}else if(arguments[0]instanceof c){var l=arguments[0];this._modelType=l._modelType,this._scale=l._scale}}}},{key:"mostPrecise",value:function(i,a){return i.compareTo(a)>=0?i:a}}])}(),yr=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"readResolve",value:function(){return c.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){this._name=null;var i=arguments[0];this._name=i,c.nameToTypeMap.put(i,this)}}])}();yr.nameToTypeMap=new To,bn.Type=yr,bn.FIXED=new yr("FIXED"),bn.FLOATING=new yr("FLOATING"),bn.FLOATING_SINGLE=new yr("FLOATING SINGLE"),bn.maximumPreciseValue=9007199254740992;var wa=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"copyInternal",value:function(){for(var a=new Array(this._geometries.length).fill(null),l=0;l<a.length;l++)a[l]=this._geometries[l].copy();return new i(a,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Me){var a=arguments[0],l=arguments[1];return!!this.isEquivalentClass(a)&&O(i,"equalsExact",this,1).call(this,a,l)}return O(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Fe.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Me.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new _e}},{key:"getGeometryType",value:function(){return Me.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[ju]}}],[{key:"constructor_",value:function(){var a=arguments[0],l=arguments[1];yn.constructor_.call(this,a,l)}}])}(yn),ci=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"createEmpty",value:function(i){switch(i){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new x("Invalid dimension: "+i)}}},{key:"toGeometry",value:function(i){return i.isNull()?this.createPoint():i.getMinX()===i.getMaxX()&&i.getMinY()===i.getMaxY()?this.createPoint(new K(i.getMinX(),i.getMinY())):i.getMinX()===i.getMaxX()||i.getMinY()===i.getMaxY()?this.createLineString([new K(i.getMinX(),i.getMinY()),new K(i.getMaxX(),i.getMaxY())]):this.createPolygon(this.createLinearRing([new K(i.getMinX(),i.getMinY()),new K(i.getMinX(),i.getMaxY()),new K(i.getMaxX(),i.getMaxY()),new K(i.getMaxX(),i.getMinY()),new K(i.getMinX(),i.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];return this.createLineString(i!==null?this.getCoordinateSequenceFactory().create(i):null)}if(re(arguments[0],Xe))return new Ps(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new wa(null,this):arguments.length===1?new wa(arguments[0],this):void 0}},{key:"buildGeometry",value:function(i){for(var a=null,l=!1,p=!1,b=i.iterator();b.hasNext();){var C=b.next(),M=C.getTypeCode();a===null&&(a=M),M!==a&&(l=!0),C instanceof yn&&(p=!0)}if(a===null)return this.createGeometryCollection();if(l||p)return this.createGeometryCollection(c.toGeometryArray(i));var $=i.iterator().next();if(i.size()>1){if($ instanceof Is)return this.createMultiPolygon(c.toPolygonArray(i));if($ instanceof Ps)return this.createMultiLineString(c.toLineStringArray(i));if($ instanceof wo)return this.createMultiPoint(c.toPointArray(i));Pe.shouldNeverReachHere("Unhandled geometry type: "+$.getGeometryType())}return $}},{key:"createMultiPointFromCoords",value:function(i){return this.createMultiPoint(i!==null?this.getCoordinateSequenceFactory().create(i):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof K){var i=arguments[0];return this.createPoint(i!==null?this.getCoordinateSequenceFactory().create([i]):null)}if(re(arguments[0],Xe))return new wo(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(re(arguments[0],Xe)){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof Array){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof li){var l=arguments[0];return this.createPolygon(l,null)}}else if(arguments.length===2)return new Is(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new yn(null,this):arguments.length===1?new yn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];return this.createLinearRing(i!==null?this.getCoordinateSequenceFactory().create(i):null)}if(re(arguments[0],Xe))return new li(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new xo(null,this):arguments.length===1?new xo(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new _a(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new _a(arguments[0],this);if(re(arguments[0],Xe)){var i=arguments[0];if(i===null)return this.createMultiPoint(new Array(0).fill(null));for(var a=new Array(i.size()).fill(null),l=0;l<i.size();l++){var p=this.getCoordinateSequenceFactory().create(1,i.getDimension(),i.getMeasures());_r.copy(i,l,p,0,1),a[l]=this.createPoint(p)}return this.createMultiPoint(a)}}}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)c.constructor_.call(this,new bn,0);else if(arguments.length===1){if(re(arguments[0],bo)){var i=arguments[0];c.constructor_.call(this,new bn,0,i)}else if(arguments[0]instanceof bn){var a=arguments[0];c.constructor_.call(this,a,0,c.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];c.constructor_.call(this,l,p,c.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var b=arguments[0],C=arguments[1],M=arguments[2];this._precisionModel=b,this._coordinateSequenceFactory=M,this._SRID=C}}},{key:"toMultiPolygonArray",value:function(i){var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"toGeometryArray",value:function(i){if(i===null)return null;var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Eo.instance()}},{key:"toMultiLineStringArray",value:function(i){var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"toLineStringArray",value:function(i){var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"toMultiPointArray",value:function(i){var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"toLinearRingArray",value:function(i){var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"toPointArray",value:function(i){var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"toPolygonArray",value:function(i){var a=new Array(i.size()).fill(null);return i.toArray(a)}},{key:"createPointFromInternalCoord",value:function(i,a){return a.getPrecisionModel().makePrecise(i),a.getFactory().createPoint(i)}}])}(),_t="XY",$t="XYZ",ka="XYM",Zr="XYZM",br={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},La="EMPTY",at=1,St=2,di=3,Os=4,an=5,td=6;for(var Ea in br)br[Ea].toUpperCase();var wr=function(){return h(function c(i){n(this,c),this.wkt=i,this.index_=-1},[{key:"isAlpha_",value:function(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"}},{key:"isNumeric_",value:function(c,i){return c>="0"&&c<="9"||c=="."&&!(i!==void 0&&i)}},{key:"isWhiteSpace_",value:function(c){return c==" "||c=="	"||c=="\r"||c==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var c,i=this.nextChar_(),a=this.index_,l=i;if(i=="(")c=St;else if(i==",")c=an;else if(i==")")c=di;else if(this.isNumeric_(i)||i=="-")c=Os,l=this.readNumber_();else if(this.isAlpha_(i))c=at,l=this.readText_();else{if(this.isWhiteSpace_(i))return this.nextToken();if(i!=="")throw new Error("Unexpected character: "+i);c=td}return{position:a,value:l,type:c}}},{key:"readNumber_",value:function(){var c,i=this.index_,a=!1,l=!1;do c=="."?a=!0:c!="e"&&c!="E"||(l=!0),c=this.nextChar_();while(this.isNumeric_(c,a)||!l&&(c=="e"||c=="E")||l&&(c=="-"||c=="+"));return parseFloat(this.wkt.substring(i,this.index_--))}},{key:"readText_",value:function(){var c,i=this.index_;do c=this.nextChar_();while(this.isAlpha_(c));return this.wkt.substring(i,this.index_--).toUpperCase()}}])}(),Xt=function(){return h(function c(i,a){n(this,c),this.lexer_=i,this.token_,this.layout_=_t,this.factory=a},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(c){return this.token_.type==c}},{key:"match",value:function(c){var i=this.isTokenType(c);return i&&this.consume_(),i}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var c=_t,i=this.token_;if(this.isTokenType(at)){var a=i.value;a==="Z"?c=$t:a==="M"?c=ka:a==="ZM"&&(c=Zr),c!==_t&&this.consume_()}return c}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(St)){var c=[];do c.push(this.parseGeometry_());while(this.match(an));if(this.match(di))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(St)){var c=this.parsePoint_();if(this.match(di))return c}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(St)){var c=this.parsePointList_();if(this.match(di))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(St)){var c=this.parseLineStringTextList_();if(this.match(di))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var c;if(this.match(St)){if(c=this.token_.type==St?this.parsePointTextList_():this.parsePointList_(),this.match(di))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(St)){var c=this.parseLineStringTextList_();if(this.match(di))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(St)){var c=this.parsePolygonTextList_();if(this.match(di))return c}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var c=[],i=this.layout_.length,a=0;a<i;++a){var l=this.token_;if(!this.match(Os))break;c.push(l.value)}if(c.length==i)return c;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var c=[this.parsePoint_()];this.match(an);)c.push(this.parsePoint_());return c}},{key:"parsePointTextList_",value:function(){for(var c=[this.parsePointText_()];this.match(an);)c.push(this.parsePointText_());return c}},{key:"parseLineStringTextList_",value:function(){for(var c=[this.parseLineStringText_()];this.match(an);)c.push(this.parseLineStringText_());return c}},{key:"parsePolygonTextList_",value:function(){for(var c=[this.parsePolygonText_()];this.match(an);)c.push(this.parsePolygonText_());return c}},{key:"isEmptyGeometry_",value:function(){var c=this.isTokenType(at)&&this.token_.value==La;return c&&this.consume_(),c}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var c=this.factory,i=function(Je){return u(K,F(Je))},a=function(Je){var vt=Je.map(function(ct){return c.createLinearRing(ct.map(i))});return vt.length>1?c.createPolygon(vt[0],vt.slice(1)):c.createPolygon(vt[0])},l=this.token_;if(this.match(at)){var p=l.value;if(this.layout_=this.parseGeometryLayout_(),p=="GEOMETRYCOLLECTION"){var b=this.parseGeometryCollectionText_();return c.createGeometryCollection(b)}switch(p){case"POINT":var C=this.parsePointText_();return C?c.createPoint(u(K,F(C))):c.createPoint();case"LINESTRING":var M=this.parseLineStringText_().map(i);return c.createLineString(M);case"LINEARRING":var $=this.parseLineStringText_().map(i);return c.createLinearRing($);case"POLYGON":var J=this.parsePolygonText_();return J&&J.length!==0?a(J):c.createPolygon();case"MULTIPOINT":var ue=this.parseMultiPointText_();if(!ue||ue.length===0)return c.createMultiPoint();var fe=ue.map(i).map(function(Je){return c.createPoint(Je)});return c.createMultiPoint(fe);case"MULTILINESTRING":var Ce=this.parseMultiLineStringText_().map(function(Je){return c.createLineString(Je.map(i))});return c.createMultiLineString(Ce);case"MULTIPOLYGON":var Ue=this.parseMultiPolygonText_();if(!Ue||Ue.length===0)return c.createMultiPolygon();var Ze=Ue.map(a);return c.createMultiPolygon(Ze);default:throw new Error("Invalid geometry type: "+p)}}throw new Error(this.formatErrorMessage_())}}])}();function Yi(c){if(c.isEmpty())return"";var i=c.getCoordinate(),a=[i.x,i.y];return i.z===void 0||Number.isNaN(i.z)||a.push(i.z),i.m===void 0||Number.isNaN(i.m)||a.push(i.m),a.join(" ")}function Ci(c){for(var i=c.getCoordinates().map(function(b){var C=[b.x,b.y];return b.z===void 0||Number.isNaN(b.z)||C.push(b.z),b.m===void 0||Number.isNaN(b.m)||C.push(b.m),C}),a=[],l=0,p=i.length;l<p;++l)a.push(i[l].join(" "));return a.join(", ")}function Yr(c){var i=[];i.push("("+Ci(c.getExteriorRing())+")");for(var a=0,l=c.getNumInteriorRing();a<l;++a)i.push("("+Ci(c.getInteriorRingN(a))+")");return i.join(", ")}var So={Point:Yi,LineString:Ci,LinearRing:Ci,Polygon:Yr,MultiPoint:function(c){for(var i=[],a=0,l=c.getNumGeometries();a<l;++a)i.push("("+Yi(c.getGeometryN(a))+")");return i.join(", ")},MultiLineString:function(c){for(var i=[],a=0,l=c.getNumGeometries();a<l;++a)i.push("("+Ci(c.getGeometryN(a))+")");return i.join(", ")},MultiPolygon:function(c){for(var i=[],a=0,l=c.getNumGeometries();a<l;++a)i.push("("+Yr(c.getGeometryN(a))+")");return i.join(", ")},GeometryCollection:function(c){for(var i=[],a=0,l=c.getNumGeometries();a<l;++a)i.push(Xr(c.getGeometryN(a)));return i.join(", ")}};function Xr(c){var i=c.getGeometryType(),a=So[i];i=i.toUpperCase();var l=function(p){var b="";if(p.isEmpty())return b;var C=p.getCoordinate();return C.z===void 0||Number.isNaN(C.z)||(b+="Z"),C.m===void 0||Number.isNaN(C.m)||(b+="M"),b}(c);return l.length>0&&(i+=" "+l),c.isEmpty()?i+" "+La:i+" ("+a(c)+")"}var Co=function(){return h(function c(i){n(this,c),this.geometryFactory=i||new ci,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(c){var i=new wr(c);return new Xt(i,this.geometryFactory).parse()}},{key:"write",value:function(c){return Xr(c)}}])}(),As=function(){return h(function c(i){n(this,c),this.parser=new Co(i)},[{key:"write",value:function(c){return this.parser.write(c)}}],[{key:"toLineString",value:function(c,i){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+c.x+" "+c.y+", "+i.x+" "+i.y+" )"}}])}(),Nt=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getIndexAlongSegment",value:function(i,a){return this.computeIntLineIndex(),this._intLineIndex[i][a]}},{key:"getTopologySummary",value:function(){var i=new ba;return this.isEndPoint()&&i.append(" endpoint"),this._isProper&&i.append(" proper"),this.isCollinear()&&i.append(" collinear"),i.toString()}},{key:"computeIntersection",value:function(i,a,l,p){this._inputLines[0][0]=i,this._inputLines[0][1]=a,this._inputLines[1][0]=l,this._inputLines[1][1]=p,this._result=this.computeIntersect(i,a,l,p)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var i=arguments[0];this.getEdgeDistance(i,0)>this.getEdgeDistance(i,1)?(this._intLineIndex[i][0]=0,this._intLineIndex[i][1]=1):(this._intLineIndex[i][0]=1,this._intLineIndex[i][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(i){this._precisionModel=i}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var i=arguments[0],a=0;a<this._result;a++)if(!this._intPt[a].equals2D(this._inputLines[i][0])&&!this._intPt[a].equals2D(this._inputLines[i][1]))return!0;return!1}}},{key:"getIntersection",value:function(i){return this._intPt[i]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==c.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(i,a){return c.computeEdgeDistance(this._intPt[a],this._inputLines[i][0],this._inputLines[i][1])}},{key:"isCollinear",value:function(){return this._result===c.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return As.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+As.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(i,a){return this._inputLines[i][a]}},{key:"isIntersection",value:function(i){for(var a=0;a<this._result;a++)if(this._intPt[a].equals2D(i))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(i,a){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[i][a]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new K,this._intPt[1]=new K,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(i,a,l){var p=Math.abs(l.x-a.x),b=Math.abs(l.y-a.y),C=-1;if(i.equals(a))C=0;else if(i.equals(l))C=p>b?p:b;else{var M=Math.abs(i.x-a.x),$=Math.abs(i.y-a.y);(C=p>b?M:$)!==0||i.equals(a)||(C=Math.max(M,$))}return Pe.isTrue(!(C===0&&!i.equals(a)),"Bad distance calculation"),C}},{key:"nonRobustComputeEdgeDistance",value:function(i,a,l){var p=i.x-a.x,b=i.y-a.y,C=Math.sqrt(p*p+b*b);return Pe.isTrue(!(C===0&&!i.equals(a)),"Invalid distance calculation"),C}}])}();Nt.DONT_INTERSECT=0,Nt.DO_INTERSECT=1,Nt.COLLINEAR=2,Nt.NO_INTERSECTION=0,Nt.POINT_INTERSECTION=1,Nt.COLLINEAR_INTERSECTION=2;var Pi=function(c){function i(){return n(this,i),r(this,i)}return w(i,c),h(i,[{key:"isInSegmentEnvelopes",value:function(a){var l=new Ne(this._inputLines[0][0],this._inputLines[0][1]),p=new Ne(this._inputLines[1][0],this._inputLines[1][1]);return l.contains(a)&&p.contains(a)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return O(i,"computeIntersection",this,1).apply(this,arguments);var a=arguments[0],l=arguments[1],p=arguments[2];if(this._isProper=!1,Ne.intersects(l,p,a)&&Ye.index(l,p,a)===0&&Ye.index(p,l,a)===0)return this._isProper=!0,(a.equals(l)||a.equals(p))&&(this._isProper=!1),this._result=Nt.POINT_INTERSECTION,null;this._result=Nt.NO_INTERSECTION}},{key:"intersection",value:function(a,l,p,b){var C=this.intersectionSafe(a,l,p,b);return this.isInSegmentEnvelopes(C)||(C=new K(i.nearestEndpoint(a,l,p,b))),this._precisionModel!==null&&this._precisionModel.makePrecise(C),C}},{key:"checkDD",value:function(a,l,p,b,C){var M=Ht.intersection(a,l,p,b),$=this.isInSegmentEnvelopes(M);qn.out.println("DD in env = "+$+"  --------------------- "+M),C.distance(M)>1e-4&&qn.out.println("Distance = "+C.distance(M))}},{key:"intersectionSafe",value:function(a,l,p,b){var C=yo.intersection(a,l,p,b);return C===null&&(C=i.nearestEndpoint(a,l,p,b)),C}},{key:"computeCollinearIntersection",value:function(a,l,p,b){var C=Ne.intersects(a,l,p),M=Ne.intersects(a,l,b),$=Ne.intersects(p,b,a),J=Ne.intersects(p,b,l);return C&&M?(this._intPt[0]=p,this._intPt[1]=b,Nt.COLLINEAR_INTERSECTION):$&&J?(this._intPt[0]=a,this._intPt[1]=l,Nt.COLLINEAR_INTERSECTION):C&&$?(this._intPt[0]=p,this._intPt[1]=a,!p.equals(a)||M||J?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):C&&J?(this._intPt[0]=p,this._intPt[1]=l,!p.equals(l)||M||$?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):M&&$?(this._intPt[0]=b,this._intPt[1]=a,!b.equals(a)||C||J?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):M&&J?(this._intPt[0]=b,this._intPt[1]=l,!b.equals(l)||C||$?Nt.COLLINEAR_INTERSECTION:Nt.POINT_INTERSECTION):Nt.NO_INTERSECTION}},{key:"computeIntersect",value:function(a,l,p,b){if(this._isProper=!1,!Ne.intersects(a,l,p,b))return Nt.NO_INTERSECTION;var C=Ye.index(a,l,p),M=Ye.index(a,l,b);if(C>0&&M>0||C<0&&M<0)return Nt.NO_INTERSECTION;var $=Ye.index(p,b,a),J=Ye.index(p,b,l);return $>0&&J>0||$<0&&J<0?Nt.NO_INTERSECTION:C===0&&M===0&&$===0&&J===0?this.computeCollinearIntersection(a,l,p,b):(C===0||M===0||$===0||J===0?(this._isProper=!1,a.equals2D(p)||a.equals2D(b)?this._intPt[0]=a:l.equals2D(p)||l.equals2D(b)?this._intPt[0]=l:C===0?this._intPt[0]=new K(p):M===0?this._intPt[0]=new K(b):$===0?this._intPt[0]=new K(a):J===0&&(this._intPt[0]=new K(l))):(this._isProper=!0,this._intPt[0]=this.intersection(a,l,p,b)),Nt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(a,l,p,b){var C=a,M=ni.pointToSegment(a,p,b),$=ni.pointToSegment(l,p,b);return $<M&&(M=$,C=l),($=ni.pointToSegment(p,a,l))<M&&(M=$,C=p),($=ni.pointToSegment(b,a,l))<M&&(M=$,C=b),C}}])}(Nt),Po=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"countSegment",value:function(i,a){if(i.x<this._p.x&&a.x<this._p.x)return null;if(this._p.x===a.x&&this._p.y===a.y)return this._isPointOnSegment=!0,null;if(i.y===this._p.y&&a.y===this._p.y){var l=i.x,p=a.x;return l>p&&(l=a.x,p=i.x),this._p.x>=l&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(i.y>this._p.y&&a.y<=this._p.y||a.y>this._p.y&&i.y<=this._p.y){var b=Ye.index(i,a,this._p);if(b===Ye.COLLINEAR)return this._isPointOnSegment=!0,null;a.y<i.y&&(b=-b),b===Ye.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==N.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?N.BOUNDARY:this._crossingCount%2==1?N.INTERIOR:N.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var i=arguments[0];this._p=i}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof K&&re(arguments[1],Xe)){for(var i=arguments[1],a=new c(arguments[0]),l=new K,p=new K,b=1;b<i.size();b++)if(i.getCoordinate(b,l),i.getCoordinate(b-1,p),a.countSegment(l,p),a.isOnSegment())return a.getLocation();return a.getLocation()}if(arguments[0]instanceof K&&arguments[1]instanceof Array){for(var C=arguments[1],M=new c(arguments[0]),$=1;$<C.length;$++){var J=C[$],ue=C[$-1];if(M.countSegment(J,ue),M.isOnSegment())return M.getLocation()}return M.getLocation()}}}])}(),Kr=function(){function c(){n(this,c)}return h(c,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof K&&re(arguments[1],Xe)){for(var i=arguments[0],a=arguments[1],l=new Pi,p=new K,b=new K,C=a.size(),M=1;M<C;M++)if(a.getCoordinate(M-1,p),a.getCoordinate(M,b),l.computeIntersection(i,p,b),l.hasIntersection())return!0;return!1}if(arguments[0]instanceof K&&arguments[1]instanceof Array){for(var $=arguments[0],J=arguments[1],ue=new Pi,fe=1;fe<J.length;fe++){var Ce=J[fe-1],Ue=J[fe];if(ue.computeIntersection($,Ce,Ue),ue.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(i,a){return Po.locatePointInRing(i,a)}},{key:"isInRing",value:function(i,a){return c.locateInRing(i,a)!==N.EXTERIOR}}])}(),Nn=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"setAllLocations",value:function(i){for(var a=0;a<this.location.length;a++)this.location[a]=i}},{key:"isNull",value:function(){for(var i=0;i<this.location.length;i++)if(this.location[i]!==N.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(i){for(var a=0;a<this.location.length;a++)this.location[a]===N.NONE&&(this.location[a]=i)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(i){if(i.location.length>this.location.length){var a=new Array(3).fill(null);a[z.ON]=this.location[z.ON],a[z.LEFT]=N.NONE,a[z.RIGHT]=N.NONE,this.location=a}for(var l=0;l<this.location.length;l++)this.location[l]===N.NONE&&l<i.location.length&&(this.location[l]=i.location[l])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var i=this.location[z.LEFT];this.location[z.LEFT]=this.location[z.RIGHT],this.location[z.RIGHT]=i}},{key:"toString",value:function(){var i=new be;return this.location.length>1&&i.append(N.toLocationSymbol(this.location[z.LEFT])),i.append(N.toLocationSymbol(this.location[z.ON])),this.location.length>1&&i.append(N.toLocationSymbol(this.location[z.RIGHT])),i.toString()}},{key:"setLocations",value:function(i,a,l){this.location[z.ON]=i,this.location[z.LEFT]=a,this.location[z.RIGHT]=l}},{key:"get",value:function(i){return i<this.location.length?this.location[i]:N.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var i=0;i<this.location.length;i++)if(this.location[i]===N.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var i=arguments[0];this.setLocation(z.ON,i)}else if(arguments.length===2){var a=arguments[0],l=arguments[1];this.location[a]=l}}},{key:"init",value:function(i){this.location=new Array(i).fill(null),this.setAllLocations(N.NONE)}},{key:"isEqualOnSide",value:function(i,a){return this.location[a]===i.location[a]}},{key:"allPositionsEqual",value:function(i){for(var a=0;a<this.location.length;a++)if(this.location[a]!==i)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];this.init(i.length)}else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1),this.location[z.ON]=a}else if(arguments[0]instanceof c){var l=arguments[0];if(this.init(l.location.length),l!==null)for(var p=0;p<this.location.length;p++)this.location[p]=l.location[p]}}else if(arguments.length===3){var b=arguments[0],C=arguments[1],M=arguments[2];this.init(3),this.location[z.ON]=b,this.location[z.LEFT]=C,this.location[z.RIGHT]=M}}}])}(),En=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getGeometryCount",value:function(){var i=0;return this.elt[0].isNull()||i++,this.elt[1].isNull()||i++,i}},{key:"setAllLocations",value:function(i,a){this.elt[i].setAllLocations(a)}},{key:"isNull",value:function(i){return this.elt[i].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var i=arguments[0];this.setAllLocationsIfNull(0,i),this.setAllLocationsIfNull(1,i)}else if(arguments.length===2){var a=arguments[0],l=arguments[1];this.elt[a].setAllLocationsIfNull(l)}}},{key:"isLine",value:function(i){return this.elt[i].isLine()}},{key:"merge",value:function(i){for(var a=0;a<2;a++)this.elt[a]===null&&i.elt[a]!==null?this.elt[a]=new Nn(i.elt[a]):this.elt[a].merge(i.elt[a])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var i=arguments[0];return this.elt[i].get(z.ON)}if(arguments.length===2){var a=arguments[0],l=arguments[1];return this.elt[a].get(l)}}},{key:"toString",value:function(){var i=new be;return this.elt[0]!==null&&(i.append("A:"),i.append(this.elt[0].toString())),this.elt[1]!==null&&(i.append(" B:"),i.append(this.elt[1].toString())),i.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var i=arguments[0];return this.elt[i].isArea()}}},{key:"isAnyNull",value:function(i){return this.elt[i].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];this.elt[i].setLocation(z.ON,a)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2];this.elt[l].setLocation(p,b)}}},{key:"isEqualOnSide",value:function(i,a){return this.elt[0].isEqualOnSide(i.elt[0],a)&&this.elt[1].isEqualOnSide(i.elt[1],a)}},{key:"allPositionsEqual",value:function(i,a){return this.elt[i].allPositionsEqual(a)}},{key:"toLine",value:function(i){this.elt[i].isArea()&&(this.elt[i]=new Nn(this.elt[i].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var i=arguments[0];this.elt[0]=new Nn(i),this.elt[1]=new Nn(i)}else if(arguments[0]instanceof c){var a=arguments[0];this.elt[0]=new Nn(a.elt[0]),this.elt[1]=new Nn(a.elt[1])}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.elt[0]=new Nn(N.NONE),this.elt[1]=new Nn(N.NONE),this.elt[l].setLocation(p)}else if(arguments.length===3){var b=arguments[0],C=arguments[1],M=arguments[2];this.elt[0]=new Nn(b,C,M),this.elt[1]=new Nn(b,C,M)}else if(arguments.length===4){var $=arguments[0],J=arguments[1],ue=arguments[2],fe=arguments[3];this.elt[0]=new Nn(N.NONE,N.NONE,N.NONE),this.elt[1]=new Nn(N.NONE,N.NONE,N.NONE),this.elt[$].setLocations(J,ue,fe)}}},{key:"toLineLabel",value:function(i){for(var a=new c(N.NONE),l=0;l<2;l++)a.setLocation(l,i.getLocation(l));return a}}])}(),xa=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var c=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)c[i]=this._pts.get(i);this._ring=this._geometryFactory.createLinearRing(c),this._isHole=Ye.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(c){this._startDe=c;var i=c,a=!0;do{if(i===null)throw new dn("Found null DirectedEdge");if(i.getEdgeRing()===this)throw new dn("Directed Edge visited twice during ring-building at "+i.getCoordinate());this._edges.add(i);var l=i.getLabel();Pe.isTrue(l.isArea()),this.mergeLabel(l),this.addPoints(i.getEdge(),i.isForward(),a),a=!1,this.setEdgeRing(i,this),i=this.getNext(i)}while(i!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(c){return this._pts.get(c)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var c=this._startDe;do{var i=c.getNode().getEdges().getOutgoingDegree(this);i>this._maxNodeDegree&&(this._maxNodeDegree=i),c=this.getNext(c)}while(c!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(c,i,a){var l=c.getCoordinates();if(i){var p=1;a&&(p=0);for(var b=p;b<l.length;b++)this._pts.add(l[b])}else{var C=l.length-2;a&&(C=l.length-1);for(var M=C;M>=0;M--)this._pts.add(l[M])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var c=this._startDe;do c.getEdge().setInResult(!0),c=c.getNext();while(c!==this._startDe)}},{key:"containsPoint",value:function(c){var i=this.getLinearRing();if(!i.getEnvelopeInternal().contains(c)||!Kr.isInRing(c,i.getCoordinates()))return!1;for(var a=this._holes.iterator();a.hasNext();)if(a.next().containsPoint(c))return!1;return!0}},{key:"addHole",value:function(c){this._holes.add(c)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var c=arguments[0];this.mergeLabel(c,0),this.mergeLabel(c,1)}else if(arguments.length===2){var i=arguments[1],a=arguments[0].getLocation(i,z.RIGHT);if(a===N.NONE)return null;if(this._label.getLocation(i)===N.NONE)return this._label.setLocation(i,a),null}}},{key:"setShell",value:function(c){this._shell=c,c!==null&&c.addHole(this)}},{key:"toPolygon",value:function(c){for(var i=new Array(this._holes.size()).fill(null),a=0;a<this._holes.size();a++)i[a]=this._holes.get(a).getLinearRing();return c.createPolygon(this.getLinearRing(),i)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new We,this._pts=new We,this._label=new En(N.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new We,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var c=arguments[0],i=arguments[1];this._geometryFactory=i,this.computePoints(c),this.computeRing()}}}}])}(),ot=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"setEdgeRing",value:function(a,l){a.setMinEdgeRing(l)}},{key:"getNext",value:function(a){return a.getNextMin()}}],[{key:"constructor_",value:function(){var a=arguments[0],l=arguments[1];xa.constructor_.call(this,a,l)}}])}(xa),fi=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"buildMinimalRings",value:function(){var a=new We,l=this._startDe;do{if(l.getMinEdgeRing()===null){var p=new ot(l,this._geometryFactory);a.add(p)}l=l.getNext()}while(l!==this._startDe);return a}},{key:"setEdgeRing",value:function(a,l){a.setEdgeRing(l)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var a=this._startDe;do a.getNode().getEdges().linkMinimalDirectedEdges(this),a=a.getNext();while(a!==this._startDe)}},{key:"getNext",value:function(a){return a.getNext()}}],[{key:"constructor_",value:function(){var a=arguments[0],l=arguments[1];xa.constructor_.call(this,a,l)}}])}(xa),Mt=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(c){this._isVisited=c}},{key:"setInResult",value:function(c){this._isInResult=c}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(c){this._label=c}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(c){this._isCovered=c,this._isCoveredSet=!0}},{key:"updateIM",value:function(c){Pe.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(c)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._label=c}}}}])}(),Rs=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"isIncidentEdgeInResult",value:function(){for(var a=this.getEdges().getEdges().iterator();a.hasNext();)if(a.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(a){a.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(a){}},{key:"computeMergedLocation",value:function(a,l){var p=N.NONE;if(p=this._label.getLocation(l),!a.isNull(l)){var b=a.getLocation(l);p!==N.BOUNDARY&&(p=b)}return p}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return O(i,"setLabel",this,1).apply(this,arguments);var a=arguments[0],l=arguments[1];this._label===null?this._label=new En(a,l):this._label.setLocation(a,l)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof i){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof En)for(var l=arguments[0],p=0;p<2;p++){var b=this.computeMergedLocation(l,p);this._label.getLocation(p)===N.NONE&&this._label.setLocation(p,b)}}},{key:"add",value:function(a){this._edges.insert(a),a.setNode(this)}},{key:"setLabelBoundary",value:function(a){if(this._label===null)return null;var l=N.NONE;this._label!==null&&(l=this._label.getLocation(a));var p=null;switch(l){case N.BOUNDARY:p=N.INTERIOR;break;case N.INTERIOR:default:p=N.BOUNDARY}this._label.setLocation(a,p)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var a=arguments[0],l=arguments[1];this._coord=a,this._edges=l,this._label=new En(0,N.NONE)}}])}(Mt),Io=function(c){function i(){return n(this,i),r(this,i,arguments)}return w(i,c),h(i)}(Xu);function Ta(c){return c==null?0:c.color}function bt(c){return c==null?null:c.parent}function hn(c,i){c!==null&&(c.color=i)}function Ds(c){return c==null?null:c.left}function Jr(c){return c==null?null:c.right}var qt=function(c){function i(){var a;return n(this,i),(a=r(this,i)).root_=null,a.size_=0,a}return w(i,c),h(i,[{key:"get",value:function(a){for(var l=this.root_;l!==null;){var p=a.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return l.value;l=l.right}}return null}},{key:"put",value:function(a,l){if(this.root_===null)return this.root_={key:a,value:l,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var p,b,C=this.root_;do if(p=C,(b=a.compareTo(C.key))<0)C=C.left;else{if(!(b>0)){var M=C.value;return C.value=l,M}C=C.right}while(C!==null);var $={key:a,left:null,right:null,value:l,parent:p,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return b<0?p.left=$:p.right=$,this.fixAfterInsertion($),this.size_++,null}},{key:"fixAfterInsertion",value:function(a){var l;for(a.color=1;a!=null&&a!==this.root_&&a.parent.color===1;)bt(a)===Ds(bt(bt(a)))?Ta(l=Jr(bt(bt(a))))===1?(hn(bt(a),0),hn(l,0),hn(bt(bt(a)),1),a=bt(bt(a))):(a===Jr(bt(a))&&(a=bt(a),this.rotateLeft(a)),hn(bt(a),0),hn(bt(bt(a)),1),this.rotateRight(bt(bt(a)))):Ta(l=Ds(bt(bt(a))))===1?(hn(bt(a),0),hn(l,0),hn(bt(bt(a)),1),a=bt(bt(a))):(a===Ds(bt(a))&&(a=bt(a),this.rotateRight(a)),hn(bt(a),0),hn(bt(bt(a)),1),this.rotateLeft(bt(bt(a))));this.root_.color=0}},{key:"values",value:function(){var a=new We,l=this.getFirstEntry();if(l!==null)for(a.add(l.value);(l=i.successor(l))!==null;)a.add(l.value);return a}},{key:"entrySet",value:function(){var a=new we,l=this.getFirstEntry();if(l!==null)for(a.add(l);(l=i.successor(l))!==null;)a.add(l);return a}},{key:"rotateLeft",value:function(a){if(a!=null){var l=a.right;a.right=l.left,l.left!=null&&(l.left.parent=a),l.parent=a.parent,a.parent==null?this.root_=l:a.parent.left===a?a.parent.left=l:a.parent.right=l,l.left=a,a.parent=l}}},{key:"rotateRight",value:function(a){if(a!=null){var l=a.left;a.left=l.right,l.right!=null&&(l.right.parent=a),l.parent=a.parent,a.parent==null?this.root_=l:a.parent.right===a?a.parent.right=l:a.parent.left=l,l.right=a,a.parent=l}}},{key:"getFirstEntry",value:function(){var a=this.root_;if(a!=null)for(;a.left!=null;)a=a.left;return a}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(a){for(var l=this.root_;l!==null;){var p=a.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return!0;l=l.right}}return!1}}],[{key:"successor",value:function(a){var l;if(a===null)return null;if(a.right!==null){for(l=a.right;l.left!==null;)l=l.left;return l}l=a.parent;for(var p=a;l!==null&&p===l.right;)p=l,l=l.parent;return l}}])}(Io),Xi=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"find",value:function(c){return this.nodeMap.get(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof K){var c=arguments[0],i=this.nodeMap.get(c);return i===null&&(i=this.nodeFact.createNode(c),this.nodeMap.put(c,i)),i}if(arguments[0]instanceof Rs){var a=arguments[0],l=this.nodeMap.get(a.getCoordinate());return l===null?(this.nodeMap.put(a.getCoordinate(),a),a):(l.mergeLabel(a),l)}}},{key:"print",value:function(c){for(var i=this.iterator();i.hasNext();)i.next().print(c)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(c){for(var i=new We,a=this.iterator();a.hasNext();){var l=a.next();l.getLabel().getLocation(c)===N.BOUNDARY&&i.add(l)}return i}},{key:"add",value:function(c){var i=c.getCoordinate();this.addNode(i).add(c)}}],[{key:"constructor_",value:function(){this.nodeMap=new qt,this.nodeFact=null;var c=arguments[0];this.nodeFact=c}}])}(),pn=function(){function c(){n(this,c)}return h(c,null,[{key:"isNorthern",value:function(i){return i===c.NE||i===c.NW}},{key:"isOpposite",value:function(i,a){return i!==a&&(i-a+4)%4===2}},{key:"commonHalfPlane",value:function(i,a){if(i===a)return i;if((i-a+4)%4===2)return-1;var l=i<a?i:a;return l===0&&(i>a?i:a)===3?3:l}},{key:"isInHalfPlane",value:function(i,a){return a===c.SE?i===c.SE||i===c.SW:i===a||i===a+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],a=arguments[1];if(i===0&&a===0)throw new x("Cannot compute the quadrant for point ( "+i+", "+a+" )");return i>=0?a>=0?c.NE:c.SE:a>=0?c.NW:c.SW}if(arguments[0]instanceof K&&arguments[1]instanceof K){var l=arguments[0],p=arguments[1];if(p.x===l.x&&p.y===l.y)throw new x("Cannot compute the quadrant for two identical points "+l);return p.x>=l.x?p.y>=l.y?c.NE:c.SE:p.y>=l.y?c.NW:c.SW}}}])}();pn.NE=0,pn.NW=1,pn.SW=2,pn.SE=3;var No=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compareDirection",value:function(i){return this._dx===i._dx&&this._dy===i._dy?0:this._quadrant>i._quadrant?1:this._quadrant<i._quadrant?-1:Ye.index(i._p0,i._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(i){this._node=i}},{key:"print",value:function(i){var a=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),p=l.lastIndexOf("."),b=l.substring(p+1);i.print("  "+b+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label)}},{key:"compareTo",value:function(i){var a=i;return this.compareDirection(a)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var i=Math.atan2(this._dy,this._dx),a=this.getClass().getName(),l=a.lastIndexOf(".");return"  "+a.substring(l+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label}},{key:"computeLabel",value:function(i){}},{key:"init",value:function(i,a){this._p0=i,this._p1=a,this._dx=a.x-i.x,this._dy=a.y-i.y,this._quadrant=pn.quadrant(this._dx,this._dy),Pe.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var i=arguments[0];this._edge=i}else if(arguments.length===3){var a=arguments[0],l=arguments[1],p=arguments[2];c.constructor_.call(this,a,l,p,null)}else if(arguments.length===4){var b=arguments[0],C=arguments[1],M=arguments[2],$=arguments[3];c.constructor_.call(this,b),this.init(C,M),this._label=$}}}])}(),Mo=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(a){return this._depth[a]}},{key:"setVisited",value:function(a){this._isVisited=a}},{key:"computeDirectedLabel",value:function(){this._label=new En(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(a,l){if(this._depth[a]!==-999&&this._depth[a]!==l)throw new dn("assigned depths do not match",this.getCoordinate());this._depth[a]=l}},{key:"isInteriorAreaEdge",value:function(){for(var a=!0,l=0;l<2;l++)this._label.isArea(l)&&this._label.getLocation(l,z.LEFT)===N.INTERIOR&&this._label.getLocation(l,z.RIGHT)===N.INTERIOR||(a=!1);return a}},{key:"setNextMin",value:function(a){this._nextMin=a}},{key:"print",value:function(a){O(i,"print",this,1).call(this,a),a.print(" "+this._depth[z.LEFT]+"/"+this._depth[z.RIGHT]),a.print(" ("+this.getDepthDelta()+")"),this._isInResult&&a.print(" inResult")}},{key:"setMinEdgeRing",value:function(a){this._minEdgeRing=a}},{key:"isLineEdge",value:function(){var a=this._label.isLine(0)||this._label.isLine(1),l=!this._label.isArea(0)||this._label.allPositionsEqual(0,N.EXTERIOR),p=!this._label.isArea(1)||this._label.allPositionsEqual(1,N.EXTERIOR);return a&&l&&p}},{key:"setEdgeRing",value:function(a){this._edgeRing=a}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var a=this._edge.getDepthDelta();return this._isForward||(a=-a),a}},{key:"setInResult",value:function(a){this._isInResult=a}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(a){this.print(a),a.print(" "),this._isForward?this._edge.print(a):this._edge.printReverse(a)}},{key:"setSym",value:function(a){this._sym=a}},{key:"setVisitedEdge",value:function(a){this.setVisited(a),this._sym.setVisited(a)}},{key:"setEdgeDepths",value:function(a,l){var p=this.getEdge().getDepthDelta();this._isForward||(p=-p);var b=1;a===z.LEFT&&(b=-1);var C=z.opposite(a),M=l+p*b;this.setDepth(a,l),this.setDepth(C,M)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(a){this._next=a}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var a=arguments[0],l=arguments[1];if(No.constructor_.call(this,a),this._isForward=l,l)this.init(a.getCoordinate(0),a.getCoordinate(1));else{var p=a.getNumPoints()-1;this.init(a.getCoordinate(p),a.getCoordinate(p-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(a,l){return a===N.EXTERIOR&&l===N.INTERIOR?1:a===N.INTERIOR&&l===N.EXTERIOR?-1:0}}])}(No),Oo=function(){return h(function c(){n(this,c)},[{key:"createNode",value:function(c){return new Rs(c,null)}}])}(),Sa=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(c){c.println("Edges:");for(var i=0;i<this._edges.size();i++){c.println("edge "+i+":");var a=this._edges.get(i);a.print(c),a.eiList.print(c)}}},{key:"find",value:function(c){return this._nodes.find(c)}},{key:"addNode",value:function(){if(arguments[0]instanceof Rs){var c=arguments[0];return this._nodes.addNode(c)}if(arguments[0]instanceof K){var i=arguments[0];return this._nodes.addNode(i)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(c){qn.out.println(c)}},{key:"isBoundaryNode",value:function(c,i){var a=this._nodes.find(i);if(a===null)return!1;var l=a.getLabel();return l!==null&&l.getLocation(c)===N.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var c=this._nodes.iterator();c.hasNext();)c.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(c,i,a,l){return!!c.equals(a)&&Ye.index(c,i,l)===Ye.COLLINEAR&&pn.quadrant(c,i)===pn.quadrant(a,l)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(c){qn.out.print(c)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(c,i){for(var a=0;a<this._edges.size();a++){var l=this._edges.get(a),p=l.getCoordinates();if(this.matchInSameDirection(c,i,p[0],p[1])||this.matchInSameDirection(c,i,p[p.length-1],p[p.length-2]))return l}return null}},{key:"insertEdge",value:function(c){this._edges.add(c)}},{key:"findEdgeEnd",value:function(c){for(var i=this.getEdgeEnds().iterator();i.hasNext();){var a=i.next();if(a.getEdge()===c)return a}return null}},{key:"addEdges",value:function(c){for(var i=c.iterator();i.hasNext();){var a=i.next();this._edges.add(a);var l=new Mo(a,!0),p=new Mo(a,!1);l.setSym(p),p.setSym(l),this.add(l),this.add(p)}}},{key:"add",value:function(c){this._nodes.add(c),this._edgeEndList.add(c)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(c,i){for(var a=0;a<this._edges.size();a++){var l=this._edges.get(a),p=l.getCoordinates();if(c.equals(p[0])&&i.equals(p[1]))return l}return null}}],[{key:"constructor_",value:function(){if(this._edges=new We,this._nodes=null,this._edgeEndList=new We,arguments.length===0)this._nodes=new Xi(new Oo);else if(arguments.length===1){var c=arguments[0];this._nodes=new Xi(c)}}},{key:"linkResultDirectedEdges",value:function(c){for(var i=c.iterator();i.hasNext();)i.next().getEdges().linkResultDirectedEdges()}}])}(),nd=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"sortShellsAndHoles",value:function(i,a,l){for(var p=i.iterator();p.hasNext();){var b=p.next();b.isHole()?l.add(b):a.add(b)}}},{key:"computePolygons",value:function(i){for(var a=new We,l=i.iterator();l.hasNext();){var p=l.next().toPolygon(this._geometryFactory);a.add(p)}return a}},{key:"placeFreeHoles",value:function(i,a){for(var l=a.iterator();l.hasNext();){var p=l.next();if(p.getShell()===null){var b=c.findEdgeRingContaining(p,i);if(b===null)throw new dn("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(b)}}}},{key:"buildMinimalEdgeRings",value:function(i,a,l){for(var p=new We,b=i.iterator();b.hasNext();){var C=b.next();if(C.getMaxNodeDegree()>2){C.linkDirectedEdgesForMinimalEdgeRings();var M=C.buildMinimalRings(),$=this.findShell(M);$!==null?(this.placePolygonHoles($,M),a.add($)):l.addAll(M)}else p.add(C)}return p}},{key:"buildMaximalEdgeRings",value:function(i){for(var a=new We,l=i.iterator();l.hasNext();){var p=l.next();if(p.isInResult()&&p.getLabel().isArea()&&p.getEdgeRing()===null){var b=new fi(p,this._geometryFactory);a.add(b),b.setInResult()}}return a}},{key:"placePolygonHoles",value:function(i,a){for(var l=a.iterator();l.hasNext();){var p=l.next();p.isHole()&&p.setShell(i)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(i){for(var a=0,l=null,p=i.iterator();p.hasNext();){var b=p.next();b.isHole()||(l=b,a++)}return Pe.isTrue(a<=1,"found two shells in MinimalEdgeRing list"),l}},{key:"add",value:function(){if(arguments.length===1){var i=arguments[0];this.add(i.getEdgeEnds(),i.getNodes())}else if(arguments.length===2){var a=arguments[0],l=arguments[1];Sa.linkResultDirectedEdges(l);var p=this.buildMaximalEdgeRings(a),b=new We,C=this.buildMinimalEdgeRings(p,this._shellList,b);this.sortShellsAndHoles(C,this._shellList,b),this.placeFreeHoles(this._shellList,b)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new We;var i=arguments[0];this._geometryFactory=i}},{key:"findEdgeRingContaining",value:function(i,a){for(var l=i.getLinearRing(),p=l.getEnvelopeInternal(),b=l.getCoordinateN(0),C=null,M=null,$=a.iterator();$.hasNext();){var J=$.next(),ue=J.getLinearRing(),fe=ue.getEnvelopeInternal();if(!fe.equals(p)&&fe.contains(p)){b=Yt.ptNotInList(l.getCoordinates(),ue.getCoordinates());var Ce=!1;Kr.isInRing(b,ue.getCoordinates())&&(Ce=!0),Ce&&(C===null||M.contains(fe))&&(M=(C=J).getLinearRing().getEnvelopeInternal())}}return C}}])}(),Ao=function(){return h(function c(){n(this,c)},[{key:"getBounds",value:function(){}}])}(),ut=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Ao,D]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var c=arguments[0],i=arguments[1];this._bounds=c,this._item=i}}])}(),Ca=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var c=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),c}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(c){for(var i=null,a=this._items.get(c);2*c<=this._size&&((i=2*c)!==this._size&&this._items.get(i+1).compareTo(this._items.get(i))<0&&i++,this._items.get(i).compareTo(a)<0);c=i)this._items.set(c,this._items.get(i));this._items.set(c,a)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(c){this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,c);c.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)this._items.set(i,this._items.get(Math.trunc(i/2)));this._items.set(i,c)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new We,this._items.add(null)}}])}(),ii=function(){return h(function c(){n(this,c)},[{key:"insert",value:function(c,i){}},{key:"remove",value:function(c,i){}},{key:"query",value:function(){}}])}(),mn=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(c){Pe.isTrue(this._bounds===null),this._childBoundables.add(c)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Ao,D]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new We,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this._level=c}}}}])}(),kr={reverseOrder:function(){return{compare:function(c,i){return i.compareTo(c)}}},min:function(c){return kr.sort(c),c.get(0)},sort:function(c,i){var a=c.toArray();i?fn.sort(a,i):fn.sort(a);for(var l=c.iterator(),p=0,b=a.length;p<b;p++)l.next(),l.set(a[p])},singletonList:function(c){var i=new We;return i.add(c),i}},id=function(){function c(){n(this,c)}return h(c,null,[{key:"maxDistance",value:function(i,a,l,p,b,C,M,$){var J=c.distance(i,a,b,C);return J=Math.max(J,c.distance(i,a,M,$)),J=Math.max(J,c.distance(l,p,b,C)),J=Math.max(J,c.distance(l,p,M,$))}},{key:"distance",value:function(i,a,l,p){var b=l-i,C=p-a;return Math.sqrt(b*b+C*C)}},{key:"maximumDistance",value:function(i,a){var l=Math.min(i.getMinX(),a.getMinX()),p=Math.min(i.getMinY(),a.getMinY()),b=Math.max(i.getMaxX(),a.getMaxX()),C=Math.max(i.getMaxY(),a.getMaxY());return c.distance(l,p,b,C)}},{key:"minMaxDistance",value:function(i,a){var l=i.getMinX(),p=i.getMinY(),b=i.getMaxX(),C=i.getMaxY(),M=a.getMinX(),$=a.getMinY(),J=a.getMaxX(),ue=a.getMaxY(),fe=c.maxDistance(l,p,l,C,M,$,M,ue);return fe=Math.min(fe,c.maxDistance(l,p,l,C,M,$,J,$)),fe=Math.min(fe,c.maxDistance(l,p,l,C,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(l,p,l,C,J,ue,J,$)),fe=Math.min(fe,c.maxDistance(l,p,b,p,M,$,M,ue)),fe=Math.min(fe,c.maxDistance(l,p,b,p,M,$,J,$)),fe=Math.min(fe,c.maxDistance(l,p,b,p,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(l,p,b,p,J,ue,J,$)),fe=Math.min(fe,c.maxDistance(b,C,l,C,M,$,M,ue)),fe=Math.min(fe,c.maxDistance(b,C,l,C,M,$,J,$)),fe=Math.min(fe,c.maxDistance(b,C,l,C,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(b,C,l,C,J,ue,J,$)),fe=Math.min(fe,c.maxDistance(b,C,b,p,M,$,M,ue)),fe=Math.min(fe,c.maxDistance(b,C,b,p,M,$,J,$)),fe=Math.min(fe,c.maxDistance(b,C,b,p,J,ue,M,ue)),fe=Math.min(fe,c.maxDistance(b,C,b,p,J,ue,J,$))}}])}(),Ki=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"maximumDistance",value:function(){return id.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(i,a){var l=c.isComposite(this._boundable1),p=c.isComposite(this._boundable2);if(l&&p)return c.area(this._boundable1)>c.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,i,a),null):(this.expand(this._boundable2,this._boundable1,!0,i,a),null);if(l)return this.expand(this._boundable1,this._boundable2,!1,i,a),null;if(p)return this.expand(this._boundable2,this._boundable1,!0,i,a),null;throw new x("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(c.isComposite(this._boundable1)||c.isComposite(this._boundable2))}},{key:"compareTo",value:function(i){var a=i;return this._distance<a._distance?-1:this._distance>a._distance?1:0}},{key:"expand",value:function(i,a,l,p,b){for(var C=i.getChildBoundables().iterator();C.hasNext();){var M=C.next(),$=null;($=l?new c(a,M,this._itemDistance):new c(M,a,this._itemDistance)).getDistance()<b&&p.add($)}}},{key:"getBoundable",value:function(i){return i===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var i=arguments[0],a=arguments[1],l=arguments[2];this._boundable1=i,this._boundable2=a,this._itemDistance=l,this._distance=this.distance()}},{key:"area",value:function(i){return i.getBounds().getArea()}},{key:"isComposite",value:function(i){return i instanceof mn}}])}(),Ku=function(){return h(function c(){n(this,c)},[{key:"visitItem",value:function(c){}}])}(),Lr=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"queryInternal",value:function(){if(re(arguments[2],Ku)&&arguments[0]instanceof Object&&arguments[1]instanceof mn)for(var i=arguments[0],a=arguments[2],l=arguments[1].getChildBoundables(),p=0;p<l.size();p++){var b=l.get(p);this.getIntersectsOp().intersects(b.getBounds(),i)&&(b instanceof mn?this.queryInternal(i,b,a):b instanceof ut?a.visitItem(b.getItem()):Pe.shouldNeverReachHere())}else if(re(arguments[2],$e)&&arguments[0]instanceof Object&&arguments[1]instanceof mn)for(var C=arguments[0],M=arguments[2],$=arguments[1].getChildBoundables(),J=0;J<$.size();J++){var ue=$.get(J);this.getIntersectsOp().intersects(ue.getBounds(),C)&&(ue instanceof mn?this.queryInternal(C,ue,M):ue instanceof ut?M.add(ue.getItem()):Pe.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(i){return i.get(i.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var i=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var l=a.next();l instanceof mn?i+=this.size(l):l instanceof ut&&(i+=1)}return i}}},{key:"removeItem",value:function(i,a){for(var l=null,p=i.getChildBoundables().iterator();p.hasNext();){var b=p.next();b instanceof ut&&b.getItem()===a&&(l=b)}return l!==null&&(i.getChildBoundables().remove(l),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var i=this.itemsTree(this._root);return i===null?new We:i}if(arguments.length===1){for(var a=arguments[0],l=new We,p=a.getChildBoundables().iterator();p.hasNext();){var b=p.next();if(b instanceof mn){var C=this.itemsTree(b);C!==null&&l.add(C)}else b instanceof ut?l.add(b.getItem()):Pe.shouldNeverReachHere()}return l.size()<=0?null:l}}},{key:"insert",value:function(i,a){Pe.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ut(i,a))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var i=arguments[0],a=new We;return this.boundablesAtLevel(i,this._root,a),a}if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2];if(Pe.isTrue(l>-2),p.getLevel()===l)return b.add(p),null;for(var C=p.getChildBoundables().iterator();C.hasNext();){var M=C.next();M instanceof mn?this.boundablesAtLevel(l,M,b):(Pe.isTrue(M instanceof ut),l===-1&&b.add(M))}return null}}},{key:"query",value:function(){if(arguments.length===1){var i=arguments[0];this.build();var a=new We;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.queryInternal(i,this._root,a),a}if(arguments.length===2){var l=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.queryInternal(l,this._root,p)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.remove(i,this._root,a)}if(arguments.length===3){var l=arguments[0],p=arguments[1],b=arguments[2],C=this.removeItem(p,b);if(C)return!0;for(var M=null,$=p.getChildBoundables().iterator();$.hasNext();){var J=$.next();if(this.getIntersectsOp().intersects(J.getBounds(),l)&&J instanceof mn&&(C=this.remove(l,J,b))){M=J;break}}return M!==null&&M.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(M),C}}},{key:"createHigherLevels",value:function(i,a){Pe.isTrue(!i.isEmpty());var l=this.createParentBoundables(i,a+1);return l.size()===1?l.get(0):this.createHigherLevels(l,a+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var i=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var l=a.next();if(l instanceof mn){var p=this.depth(l);p>i&&(i=p)}}return i+1}}},{key:"createParentBoundables",value:function(i,a){Pe.isTrue(!i.isEmpty());var l=new We;l.add(this.createNode(a));var p=new We(i);kr.sort(p,this.getComparator());for(var b=p.iterator();b.hasNext();){var C=b.next();this.lastNode(l).getChildBoundables().size()===this.getNodeCapacity()&&l.add(this.createNode(a)),this.lastNode(l).addChildBoundable(C)}return l}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new We,this._nodeCapacity=null,arguments.length===0)c.constructor_.call(this,c.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var i=arguments[0];Pe.isTrue(i>1,"Node capacity must be greater than 1"),this._nodeCapacity=i}}},{key:"compareDoubles",value:function(i,a){return i>a?1:i<a?-1:0}}])}();Lr.IntersectsOp=function(){},Lr.DEFAULT_NODE_CAPACITY=10;var rd=function(){return h(function c(){n(this,c)},[{key:"distance",value:function(c,i){}}])}(),hi=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"createParentBoundablesFromVerticalSlices",value:function(a,l){Pe.isTrue(a.length>0);for(var p=new We,b=0;b<a.length;b++)p.addAll(this.createParentBoundablesFromVerticalSlice(a[b],l));return p}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var a=arguments[0],l=arguments[1];return this.nearestNeighbourK(a,ce.POSITIVE_INFINITY,l)}if(arguments.length===3){var p=arguments[0],b=arguments[2],C=arguments[1],M=new Ca;M.add(p);for(var $=new Ca;!M.isEmpty()&&C>=0;){var J=M.poll(),ue=J.getDistance();if(ue>=C)break;J.isLeaves()?$.size()<b?$.add(J):($.peek().getDistance()>ue&&($.poll(),$.add(J)),C=$.peek().getDistance()):J.expandToQueue(M,C)}return i.getItems($)}}},{key:"createNode",value:function(a){return new Pa(a)}},{key:"size",value:function(){return arguments.length===0?O(i,"size",this,1).call(this):O(i,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ne))return O(i,"insert",this,1).apply(this,arguments);var a=arguments[0],l=arguments[1];if(a.isNull())return null;O(i,"insert",this,1).call(this,a,l)}},{key:"getIntersectsOp",value:function(){return i.intersectsOp}},{key:"verticalSlices",value:function(a,l){for(var p=Math.trunc(Math.ceil(a.size()/l)),b=new Array(l).fill(null),C=a.iterator(),M=0;M<l;M++){b[M]=new We;for(var $=0;C.hasNext()&&$<p;){var J=C.next();b[M].add(J),$++}}return b}},{key:"query",value:function(){if(arguments.length===1){var a=arguments[0];return O(i,"query",this,1).call(this,a)}if(arguments.length===2){var l=arguments[0],p=arguments[1];O(i,"query",this,1).call(this,l,p)}}},{key:"getComparator",value:function(){return i.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(a,l){return O(i,"createParentBoundables",this,1).call(this,a,l)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ne){var a=arguments[0],l=arguments[1];return O(i,"remove",this,1).call(this,a,l)}return O(i,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?O(i,"depth",this,1).call(this):O(i,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(a,l){Pe.isTrue(!a.isEmpty());var p=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),b=new We(a);kr.sort(b,i.xComparator);var C=this.verticalSlices(b,Math.trunc(Math.ceil(Math.sqrt(p))));return this.createParentBoundablesFromVerticalSlices(C,l)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(re(arguments[0],rd)){var a=arguments[0];if(this.isEmpty())return null;var l=new Ki(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(l)}if(arguments[0]instanceof Ki){var p=arguments[0],b=ce.POSITIVE_INFINITY,C=null,M=new Ca;for(M.add(p);!M.isEmpty()&&b>0;){var $=M.poll(),J=$.getDistance();if(J>=b)break;$.isLeaves()?(b=J,C=$):$.expandToQueue(M,b)}return C===null?null:[C.getBoundable(0).getItem(),C.getBoundable(1).getItem()]}}else{if(arguments.length===2){var ue=arguments[0],fe=arguments[1];if(this.isEmpty()||ue.isEmpty())return null;var Ce=new Ki(this.getRoot(),ue.getRoot(),fe);return this.nearestNeighbour(Ce)}if(arguments.length===3){var Ue=arguments[2],Ze=new ut(arguments[0],arguments[1]),Je=new Ki(this.getRoot(),Ze,Ue);return this.nearestNeighbour(Je)[0]}if(arguments.length===4){var vt=arguments[2],ct=arguments[3],Ot=new ut(arguments[0],arguments[1]),Vt=new Ki(this.getRoot(),Ot,vt);return this.nearestNeighbourK(Vt,ct)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var a=arguments[0],l=arguments[1],p=ce.POSITIVE_INFINITY,b=new Ca;for(b.add(a);!b.isEmpty();){var C=b.poll(),M=C.getDistance();if(M>l)return!1;if(C.maximumDistance()<=l)return!0;if(C.isLeaves()){if((p=M)<=l)return!0}else C.expandToQueue(b,p)}return!1}if(arguments.length===3){var $=arguments[0],J=arguments[1],ue=arguments[2],fe=new Ki(this.getRoot(),$.getRoot(),J);return this.isWithinDistance(fe,ue)}}},{key:"interfaces_",get:function(){return[ii,D]}}],[{key:"constructor_",value:function(){if(arguments.length===0)i.constructor_.call(this,i.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var a=arguments[0];Lr.constructor_.call(this,a)}}},{key:"centreX",value:function(a){return i.avg(a.getMinX(),a.getMaxX())}},{key:"avg",value:function(a,l){return(a+l)/2}},{key:"getItems",value:function(a){for(var l=new Array(a.size()).fill(null),p=0;!a.isEmpty();){var b=a.poll();l[p]=b.getBoundable(0).getItem(),p++}return l}},{key:"centreY",value:function(a){return i.avg(a.getMinY(),a.getMaxY())}}])}(Lr),Pa=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"computeBounds",value:function(){for(var a=null,l=this.getChildBoundables().iterator();l.hasNext();){var p=l.next();a===null?a=new Ne(p.getBounds()):a.expandToInclude(p.getBounds())}return a}}],[{key:"constructor_",value:function(){var a=arguments[0];mn.constructor_.call(this,a)}}])}(mn);hi.STRtreeNode=Pa,hi.xComparator=new(function(){return h(function c(){n(this,c)},[{key:"interfaces_",get:function(){return[ke]}},{key:"compare",value:function(c,i){return Lr.compareDoubles(hi.centreX(c.getBounds()),hi.centreX(i.getBounds()))}}])}()),hi.yComparator=new(function(){return h(function c(){n(this,c)},[{key:"interfaces_",get:function(){return[ke]}},{key:"compare",value:function(c,i){return Lr.compareDoubles(hi.centreY(c.getBounds()),hi.centreY(i.getBounds()))}}])}()),hi.intersectsOp=new(function(){return h(function c(){n(this,c)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(c,i){return c.intersects(i)}}])}()),hi.DEFAULT_NODE_CAPACITY=10;var sd=function(){function c(){n(this,c)}return h(c,null,[{key:"relativeSign",value:function(i,a){return i<a?-1:i>a?1:0}},{key:"compare",value:function(i,a,l){if(a.equals2D(l))return 0;var p=c.relativeSign(a.x,l.x),b=c.relativeSign(a.y,l.y);switch(i){case 0:return c.compareValue(p,b);case 1:return c.compareValue(b,p);case 2:return c.compareValue(b,-p);case 3:return c.compareValue(-p,b);case 4:return c.compareValue(-p,-b);case 5:return c.compareValue(-b,-p);case 6:return c.compareValue(-b,p);case 7:return c.compareValue(p,-b)}return Pe.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(i,a){return i<0?-1:i>0?1:a<0?-1:a>0?1:0}}])}(),pi=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(c){var i=c;return this.segmentIndex<i.segmentIndex?-1:this.segmentIndex>i.segmentIndex?1:this.coord.equals2D(i.coord)?0:this._isInterior?i._isInterior?sd.compare(this._segmentOctant,this.coord,i.coord):1:-1}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===c}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var c=arguments[0],i=arguments[1],a=arguments[2],l=arguments[3];this._segString=c,this.coord=new K(i),this.segmentIndex=a,this._segmentOctant=l,this._isInterior=!i.equals2D(c.getCoordinate(a))}}])}(),ad=function(){return h(function c(){n(this,c)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),Ju=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var c=new Ns;this.addEndpoints();for(var i=this.iterator(),a=i.next();i.hasNext();){var l=i.next();this.addEdgeCoordinates(a,l,c),a=l}return c.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var c=new We;this.findCollapsesFromInsertedNodes(c),this.findCollapsesFromExistingVertices(c);for(var i=c.iterator();i.hasNext();){var a=i.next().intValue();this.add(this._edge.getCoordinate(a),a)}}},{key:"createSplitEdgePts",value:function(c,i){var a=i.segmentIndex-c.segmentIndex+2;if(a===2)return[new K(c.coord),new K(i.coord)];var l=this._edge.getCoordinate(i.segmentIndex),p=i.isInterior()||!i.coord.equals2D(l);p||a--;var b=new Array(a).fill(null),C=0;b[C++]=new K(c.coord);for(var M=c.segmentIndex+1;M<=i.segmentIndex;M++)b[C++]=this._edge.getCoordinate(M);return p&&(b[C]=new K(i.coord)),b}},{key:"print",value:function(c){c.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(c)}},{key:"findCollapsesFromExistingVertices",value:function(c){for(var i=0;i<this._edge.size()-2;i++){var a=this._edge.getCoordinate(i);this._edge.getCoordinate(i+1);var l=this._edge.getCoordinate(i+2);a.equals2D(l)&&c.add(He.valueOf(i+1))}}},{key:"addEdgeCoordinates",value:function(c,i,a){var l=this.createSplitEdgePts(c,i);a.add(l,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),a=i.next();i.hasNext();){var l=i.next(),p=this.createSplitEdge(a,l);c.add(p),a=l}}},{key:"findCollapseIndex",value:function(c,i,a){if(!c.coord.equals2D(i.coord))return!1;var l=i.segmentIndex-c.segmentIndex;return i.isInterior()||l--,l===1&&(a[0]=c.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(c){for(var i=new Array(1).fill(null),a=this.iterator(),l=a.next();a.hasNext();){var p=a.next();this.findCollapseIndex(l,p,i)&&c.add(He.valueOf(i[0])),l=p}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var c=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(c),c)}},{key:"createSplitEdge",value:function(c,i){var a=this.createSplitEdgePts(c,i);return new Ii(a,this._edge.getData())}},{key:"add",value:function(c,i){var a=new pi(this._edge,c,i,this._edge.getSegmentOctant(i)),l=this._nodeMap.get(a);return l!==null?(Pe.isTrue(l.coord.equals2D(c),"Found equal nodes with different coordinates"),l):(this._nodeMap.put(a,a),a)}},{key:"checkSplitEdgesCorrectness",value:function(c){var i=this._edge.getCoordinates(),a=c.get(0).getCoordinate(0);if(!a.equals2D(i[0]))throw new De("bad split edge start point at "+a);var l=c.get(c.size()-1).getCoordinates(),p=l[l.length-1];if(!p.equals2D(i[i.length-1]))throw new De("bad split edge end point at "+p)}}],[{key:"constructor_",value:function(){this._nodeMap=new qt,this._edge=null;var c=arguments[0];this._edge=c}}])}(),Ji=function(){function c(){n(this,c)}return h(c,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],a=arguments[1];if(i===0&&a===0)throw new x("Cannot compute the octant for point ( "+i+", "+a+" )");var l=Math.abs(i),p=Math.abs(a);return i>=0?a>=0?l>=p?0:1:l>=p?7:6:a>=0?l>=p?3:2:l>=p?4:5}if(arguments[0]instanceof K&&arguments[1]instanceof K){var b=arguments[0],C=arguments[1],M=C.x-b.x,$=C.y-b.y;if(M===0&&$===0)throw new x("Cannot compute the octant for two identical points "+b);return c.octant(M,$)}}}])}(),Qu=function(){return h(function c(){n(this,c)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(c){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(c){}},{key:"getData",value:function(){}}])}(),el=function(){return h(function c(){n(this,c)},[{key:"addIntersection",value:function(c,i){}},{key:"interfaces_",get:function(){return[Qu]}}])}(),Ii=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(i){return this._pts[i]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(i){return i===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(i),this.getCoordinate(i+1))}},{key:"setData",value:function(i){this._data=i}},{key:"safeOctant",value:function(i,a){return i.equals2D(a)?0:Ji.octant(i,a)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];this.addIntersectionNode(i,a)}else if(arguments.length===4){var l=arguments[1],p=arguments[3],b=new K(arguments[0].getIntersection(p));this.addIntersection(b,l)}}},{key:"toString",value:function(){return As.toLineString(new Ms(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(i,a){var l=a,p=l+1;if(p<this._pts.length){var b=this._pts[p];i.equals2D(b)&&(l=p)}return this._nodeList.add(i,l)}},{key:"addIntersections",value:function(i,a,l){for(var p=0;p<i.getIntersectionNum();p++)this.addIntersection(i,a,l,p)}},{key:"interfaces_",get:function(){return[el]}}],[{key:"constructor_",value:function(){this._nodeList=new Ju(this),this._pts=null,this._data=null;var i=arguments[0],a=arguments[1];this._pts=i,this._data=a}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var i=arguments[0],a=new We;return c.getNodedSubstrings(i,a),a}if(arguments.length===2)for(var l=arguments[1],p=arguments[0].iterator();p.hasNext();)p.next().getNodeList().addSplitEdges(l)}}])}(),Mn=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof c){var i=arguments[0],a=Ye.index(this.p0,this.p1,i.p0),l=Ye.index(this.p0,this.p1,i.p1);return a>=0&&l>=0||a<=0&&l<=0?Math.max(a,l):0}if(arguments[0]instanceof K){var p=arguments[0];return Ye.index(this.p0,this.p1,p)}}},{key:"toGeometry",value:function(i){return i.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(i){if(!(i instanceof c))return!1;var a=i;return this.p0.equals(a.p0)&&this.p1.equals(a.p1)}},{key:"intersection",value:function(i){var a=new Pi;return a.computeIntersection(this.p0,this.p1,i.p0,i.p1),a.hasIntersection()?a.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof K){var i=arguments[0];if(i.equals(this.p0)||i.equals(this.p1))return new K(i);var a=this.projectionFactor(i),l=new K;return l.x=this.p0.x+a*(this.p1.x-this.p0.x),l.y=this.p0.y+a*(this.p1.y-this.p0.y),l}if(arguments[0]instanceof c){var p=arguments[0],b=this.projectionFactor(p.p0),C=this.projectionFactor(p.p1);if(b>=1&&C>=1||b<=0&&C<=0)return null;var M=this.project(p.p0);b<0&&(M=this.p0),b>1&&(M=this.p1);var $=this.project(p.p1);return C<0&&($=this.p0),C>1&&($=this.p1),new c(M,$)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(i){return i===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(i){return ni.pointToLinePerpendicular(i,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return c.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(i){if(i.equals(this.p0))return 0;if(i.equals(this.p1))return 1;var a=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,p=a*a+l*l;return p<=0?ce.NaN:((i.x-this.p0.x)*a+(i.y-this.p0.y)*l)/p}},{key:"closestPoints",value:function(i){var a=this.intersection(i);if(a!==null)return[a,a];var l=new Array(2).fill(null),p=ce.MAX_VALUE,b=null,C=this.closestPoint(i.p0);p=C.distance(i.p0),l[0]=C,l[1]=i.p0;var M=this.closestPoint(i.p1);(b=M.distance(i.p1))<p&&(p=b,l[0]=M,l[1]=i.p1);var $=i.closestPoint(this.p0);(b=$.distance(this.p0))<p&&(p=b,l[0]=this.p0,l[1]=$);var J=i.closestPoint(this.p1);return(b=J.distance(this.p1))<p&&(p=b,l[0]=this.p1,l[1]=J),l}},{key:"closestPoint",value:function(i){var a=this.projectionFactor(i);return a>0&&a<1?this.project(i):this.p0.distance(i)<this.p1.distance(i)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(i){var a=i,l=this.p0.compareTo(a.p0);return l!==0?l:this.p1.compareTo(a.p1)}},{key:"reverse",value:function(){var i=this.p0;this.p0=this.p1,this.p1=i}},{key:"equalsTopo",value:function(i){return this.p0.equals(i.p0)&&this.p1.equals(i.p1)||this.p0.equals(i.p1)&&this.p1.equals(i.p0)}},{key:"lineIntersection",value:function(i){return yo.intersection(this.p0,this.p1,i.p0,i.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(i,a){var l=this.p0.x+i*(this.p1.x-this.p0.x),p=this.p0.y+i*(this.p1.y-this.p0.y),b=this.p1.x-this.p0.x,C=this.p1.y-this.p0.y,M=Math.sqrt(b*b+C*C),$=0,J=0;if(a!==0){if(M<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");$=a*b/M,J=a*C/M}return new K(l-J,p+$)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var i=arguments[0];this.setCoordinates(i.p0,i.p1)}else if(arguments.length===2){var a=arguments[0],l=arguments[1];this.p0.x=a.x,this.p0.y=a.y,this.p1.x=l.x,this.p1.y=l.y}}},{key:"segmentFraction",value:function(i){var a=this.projectionFactor(i);return a<0?a=0:(a>1||ce.isNaN(a))&&(a=1),a}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(i){var a=this.p1.getY()-this.p0.getY(),l=this.p0.getX()-this.p1.getX(),p=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),b=a*a+l*l,C=a*a-l*l,M=i.getX(),$=i.getY();return new K((-C*M-2*a*l*$-2*a*p)/b,(C*$-2*a*l*M-2*l*p)/b)}},{key:"distance",value:function(){if(arguments[0]instanceof c){var i=arguments[0];return ni.segmentToSegment(this.p0,this.p1,i.p0,i.p1)}if(arguments[0]instanceof K){var a=arguments[0];return ni.pointToSegment(a,this.p0,this.p1)}}},{key:"pointAlong",value:function(i){var a=new K;return a.x=this.p0.x+i*(this.p1.x-this.p0.x),a.y=this.p0.y+i*(this.p1.y-this.p0.y),a}},{key:"hashCode",value:function(){var i=ce.doubleToLongBits(this.p0.x);i^=31*ce.doubleToLongBits(this.p0.y);var a=Math.trunc(i)^Math.trunc(i>>32),l=ce.doubleToLongBits(this.p1.x);return l^=31*ce.doubleToLongBits(this.p1.y),a^(Math.trunc(l)^Math.trunc(l>>32))}},{key:"interfaces_",get:function(){return[S,D]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)c.constructor_.call(this,new K,new K);else if(arguments.length===1){var i=arguments[0];c.constructor_.call(this,i.p0,i.p1)}else if(arguments.length===2){var a=arguments[0],l=arguments[1];this.p0=a,this.p1=l}else if(arguments.length===4){var p=arguments[0],b=arguments[1],C=arguments[2],M=arguments[3];c.constructor_.call(this,new K(p,b),new K(C,M))}}},{key:"midPoint",value:function(i,a){return new K((i.x+a.x)/2,(i.y+a.y)/2)}}])}(),tl=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var c=arguments[1],i=arguments[2],a=arguments[3];arguments[0].getLineSegment(c,this._overlapSeg1),i.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Mn,this._overlapSeg2=new Mn}}])}(),Ro=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(c,i){i.p0=this._pts[c],i.p1=this._pts[c+1]}},{key:"computeSelect",value:function(c,i,a,l){var p=this._pts[i],b=this._pts[a];if(a-i==1)return l.select(this,i),null;if(!c.intersects(p,b))return null;var C=Math.trunc((i+a)/2);i<C&&this.computeSelect(c,i,C,l),C<a&&this.computeSelect(c,C,a,l)}},{key:"getCoordinates",value:function(){for(var c=new Array(this._end-this._start+1).fill(null),i=0,a=this._start;a<=this._end;a++)c[i++]=this._pts[a];return c}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var c=arguments[0],i=arguments[1];this.computeOverlaps(this._start,this._end,c,c._start,c._end,i)}else if(arguments.length===6){var a=arguments[0],l=arguments[1],p=arguments[2],b=arguments[3],C=arguments[4],M=arguments[5];if(l-a==1&&C-b==1)return M.overlap(this,a,p,b),null;if(!this.overlaps(a,l,p,b,C))return null;var $=Math.trunc((a+l)/2),J=Math.trunc((b+C)/2);a<$&&(b<J&&this.computeOverlaps(a,$,p,b,J,M),J<C&&this.computeOverlaps(a,$,p,J,C,M)),$<l&&(b<J&&this.computeOverlaps($,l,p,b,J,M),J<C&&this.computeOverlaps($,l,p,J,C,M))}}},{key:"setId",value:function(c){this._id=c}},{key:"select",value:function(c,i){this.computeSelect(c,this._start,this._end,i)}},{key:"getEnvelope",value:function(){if(this._env===null){var c=this._pts[this._start],i=this._pts[this._end];this._env=new Ne(c,i)}return this._env}},{key:"overlaps",value:function(c,i,a,l,p){return Ne.intersects(this._pts[c],this._pts[i],a._pts[l],a._pts[p])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var c=arguments[0],i=arguments[1],a=arguments[2],l=arguments[3];this._pts=c,this._start=i,this._end=a,this._context=l}}])}(),od=function(){function c(){n(this,c)}return h(c,null,[{key:"findChainEnd",value:function(i,a){for(var l=a;l<i.length-1&&i[l].equals2D(i[l+1]);)l++;if(l>=i.length-1)return i.length-1;for(var p=pn.quadrant(i[l],i[l+1]),b=a+1;b<i.length&&!(!i[b-1].equals2D(i[b])&&pn.quadrant(i[b-1],i[b])!==p);)b++;return b-1}},{key:"getChains",value:function(){if(arguments.length===1){var i=arguments[0];return c.getChains(i,null)}if(arguments.length===2){var a=arguments[0],l=arguments[1],p=new We,b=0;do{var C=c.findChainEnd(a,b),M=new Ro(a,b,C,l);p.add(M),b=C}while(b<a.length-1);return p}}}])}(),Do=function(){return h(function c(){n(this,c)},[{key:"computeNodes",value:function(c){}},{key:"getNodedSubstrings",value:function(){}}])}(),Ia=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(c){this._segInt=c}},{key:"interfaces_",get:function(){return[Do]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var c=arguments[0];this.setSegmentIntersector(c)}}}}])}(),Bo=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Ii.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(a){for(var l=od.getChains(a.getCoordinates(),a).iterator();l.hasNext();){var p=l.next();p.setId(this._idCounter++),this._index.insert(p.getEnvelope(),p),this._monoChains.add(p)}}},{key:"computeNodes",value:function(a){this._nodedSegStrings=a;for(var l=a.iterator();l.hasNext();)this.add(l.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var a=new Fo(this._segInt),l=this._monoChains.iterator();l.hasNext();)for(var p=l.next(),b=this._index.query(p.getEnvelope()).iterator();b.hasNext();){var C=b.next();if(C.getId()>p.getId()&&(p.computeOverlaps(C,a),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new We,this._index=new hi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var a=arguments[0];Ia.constructor_.call(this,a)}}}}])}(Ia),Fo=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"overlap",value:function(){if(arguments.length!==4)return O(i,"overlap",this,1).apply(this,arguments);var a=arguments[1],l=arguments[2],p=arguments[3],b=arguments[0].getContext(),C=l.getContext();this._si.processIntersections(b,a,C,p)}}],[{key:"constructor_",value:function(){this._si=null;var a=arguments[0];this._si=a}}])}(tl);Bo.SegmentOverlapAction=Fo;var Wn=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isDeletable",value:function(i,a,l,p){var b=this._inputLine[i],C=this._inputLine[a],M=this._inputLine[l];return!!this.isConcave(b,C,M)&&!!this.isShallow(b,C,M,p)&&this.isShallowSampled(b,C,i,l,p)}},{key:"deleteShallowConcavities",value:function(){for(var i=1,a=this.findNextNonDeletedIndex(i),l=this.findNextNonDeletedIndex(a),p=!1;l<this._inputLine.length;){var b=!1;this.isDeletable(i,a,l,this._distanceTol)&&(this._isDeleted[a]=c.DELETE,b=!0,p=!0),i=b?l:a,a=this.findNextNonDeletedIndex(i),l=this.findNextNonDeletedIndex(a)}return p}},{key:"isShallowConcavity",value:function(i,a,l,p){return Ye.index(i,a,l)===this._angleOrientation&&ni.pointToSegment(a,i,l)<p}},{key:"isShallowSampled",value:function(i,a,l,p,b){var C=Math.trunc((p-l)/c.NUM_PTS_TO_CHECK);C<=0&&(C=1);for(var M=l;M<p;M+=C)if(!this.isShallow(i,a,this._inputLine[M],b))return!1;return!0}},{key:"isConcave",value:function(i,a,l){var p=Ye.index(i,a,l)===this._angleOrientation;return p}},{key:"simplify",value:function(i){this._distanceTol=Math.abs(i),i<0&&(this._angleOrientation=Ye.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var a=!1;do a=this.deleteShallowConcavities();while(a);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(i){for(var a=i+1;a<this._inputLine.length&&this._isDeleted[a]===c.DELETE;)a++;return a}},{key:"isShallow",value:function(i,a,l,p){return ni.pointToSegment(a,i,l)<p}},{key:"collapseLine",value:function(){for(var i=new Ns,a=0;a<this._inputLine.length;a++)this._isDeleted[a]!==c.DELETE&&i.add(this._inputLine[a]);return i.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ye.COUNTERCLOCKWISE;var i=arguments[0];this._inputLine=i}},{key:"simplify",value:function(i,a){return new c(i).simplify(a)}}])}();Wn.INIT=0,Wn.DELETE=1,Wn.KEEP=1,Wn.NUM_PTS_TO_CHECK=10;var Bs=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getCoordinates",value:function(){return this._ptList.toArray(c.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(i){this._precisionModel=i}},{key:"addPt",value:function(i){var a=new K(i);if(this._precisionModel.makePrecise(a),this.isRedundant(a))return null;this._ptList.add(a)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(i,a){if(a)for(var l=0;l<i.length;l++)this.addPt(i[l]);else for(var p=i.length-1;p>=0;p--)this.addPt(i[p])}},{key:"isRedundant",value:function(i){if(this._ptList.size()<1)return!1;var a=this._ptList.get(this._ptList.size()-1);return i.distance(a)<this._minimimVertexDistance}},{key:"toString",value:function(){return new ci().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var i=new K(this._ptList.get(0)),a=this._ptList.get(this._ptList.size()-1);if(i.equals(a))return null;this._ptList.add(i)}},{key:"setMinimumVertexDistance",value:function(i){this._minimimVertexDistance=i}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new We}}])}();Bs.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var en=function(){function c(){n(this,c)}return h(c,null,[{key:"toDegrees",value:function(i){return 180*i/Math.PI}},{key:"normalize",value:function(i){for(;i>Math.PI;)i-=c.PI_TIMES_2;for(;i<=-Math.PI;)i+=c.PI_TIMES_2;return i}},{key:"angle",value:function(){if(arguments.length===1){var i=arguments[0];return Math.atan2(i.y,i.x)}if(arguments.length===2){var a=arguments[0],l=arguments[1],p=l.x-a.x,b=l.y-a.y;return Math.atan2(b,p)}}},{key:"isAcute",value:function(i,a,l){var p=i.x-a.x,b=i.y-a.y;return p*(l.x-a.x)+b*(l.y-a.y)>0}},{key:"isObtuse",value:function(i,a,l){var p=i.x-a.x,b=i.y-a.y;return p*(l.x-a.x)+b*(l.y-a.y)<0}},{key:"interiorAngle",value:function(i,a,l){var p=c.angle(a,i),b=c.angle(a,l);return Math.abs(b-p)}},{key:"normalizePositive",value:function(i){if(i<0){for(;i<0;)i+=c.PI_TIMES_2;i>=c.PI_TIMES_2&&(i=0)}else{for(;i>=c.PI_TIMES_2;)i-=c.PI_TIMES_2;i<0&&(i=0)}return i}},{key:"angleBetween",value:function(i,a,l){var p=c.angle(a,i),b=c.angle(a,l);return c.diff(p,b)}},{key:"diff",value:function(i,a){var l=null;return(l=i<a?a-i:i-a)>Math.PI&&(l=2*Math.PI-l),l}},{key:"toRadians",value:function(i){return i*Math.PI/180}},{key:"getTurn",value:function(i,a){var l=Math.sin(a-i);return l>0?c.COUNTERCLOCKWISE:l<0?c.CLOCKWISE:c.NONE}},{key:"angleBetweenOriented",value:function(i,a,l){var p=c.angle(a,i),b=c.angle(a,l)-p;return b<=-Math.PI?b+c.PI_TIMES_2:b>Math.PI?b-c.PI_TIMES_2:b}}])}();en.PI_TIMES_2=2*Math.PI,en.PI_OVER_2=Math.PI/2,en.PI_OVER_4=Math.PI/4,en.COUNTERCLOCKWISE=Ye.COUNTERCLOCKWISE,en.CLOCKWISE=Ye.CLOCKWISE,en.NONE=Ye.COLLINEAR;var Fs=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"addNextSegment",value:function(i,a){if(this._s0=this._s1,this._s1=this._s2,this._s2=i,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var l=Ye.index(this._s0,this._s1,this._s2),p=l===Ye.CLOCKWISE&&this._side===z.LEFT||l===Ye.COUNTERCLOCKWISE&&this._side===z.RIGHT;l===0?this.addCollinear(a):p?this.addOutsideTurn(l,a):this.addInsideTurn(l,a)}},{key:"addLineEndCap",value:function(i,a){var l=new Mn(i,a),p=new Mn;this.computeOffsetSegment(l,z.LEFT,this._distance,p);var b=new Mn;this.computeOffsetSegment(l,z.RIGHT,this._distance,b);var C=a.x-i.x,M=a.y-i.y,$=Math.atan2(M,C);switch(this._bufParams.getEndCapStyle()){case H.CAP_ROUND:this._segList.addPt(p.p1),this.addDirectedFillet(a,$+Math.PI/2,$-Math.PI/2,Ye.CLOCKWISE,this._distance),this._segList.addPt(b.p1);break;case H.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(b.p1);break;case H.CAP_SQUARE:var J=new K;J.x=Math.abs(this._distance)*Math.cos($),J.y=Math.abs(this._distance)*Math.sin($);var ue=new K(p.p1.x+J.x,p.p1.y+J.y),fe=new K(b.p1.x+J.x,b.p1.y+J.y);this._segList.addPt(ue),this._segList.addPt(fe)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(i,a,l,p){var b=yo.intersection(a.p0,a.p1,l.p0,l.p1);if(b!==null&&(p<=0?1:b.distance(i)/Math.abs(p))<=this._bufParams.getMitreLimit())return this._segList.addPt(b),null;this.addLimitedMitreJoin(a,l,p,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(i,a){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*c.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===H.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===H.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(a&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,i,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(i){this._segList.addPt(new K(i.x+this._distance,i.y+this._distance)),this._segList.addPt(new K(i.x+this._distance,i.y-this._distance)),this._segList.addPt(new K(i.x-this._distance,i.y-this._distance)),this._segList.addPt(new K(i.x-this._distance,i.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(i,a){this._segList.addPts(i,a)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(i,a,l,p,b){var C=a.x-i.x,M=a.y-i.y,$=Math.atan2(M,C),J=l.x-i.x,ue=l.y-i.y,fe=Math.atan2(ue,J);p===Ye.CLOCKWISE?$<=fe&&($+=2*Math.PI):$>=fe&&($-=2*Math.PI),this._segList.addPt(a),this.addDirectedFillet(i,$,fe,p,b),this._segList.addPt(l)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(i,a,l){this._s1=i,this._s2=a,this._side=l,this._seg1.setCoordinates(i,a),this.computeOffsetSegment(this._seg1,l,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(i,a,l,p){var b=this._seg0.p1,C=en.angle(b,this._seg0.p0),M=en.angleBetweenOriented(this._seg0.p0,b,this._seg1.p1)/2,$=en.normalize(C+M),J=en.normalize($+Math.PI),ue=p*l,fe=l-ue*Math.abs(Math.sin(M)),Ce=b.x+ue*Math.cos(J),Ue=b.y+ue*Math.sin(J),Ze=new K(Ce,Ue),Je=new Mn(b,Ze),vt=Je.pointAlongOffset(1,fe),ct=Je.pointAlongOffset(1,-fe);this._side===z.LEFT?(this._segList.addPt(vt),this._segList.addPt(ct)):(this._segList.addPt(ct),this._segList.addPt(vt))}},{key:"addDirectedFillet",value:function(i,a,l,p,b){var C=p===Ye.CLOCKWISE?-1:1,M=Math.abs(a-l),$=Math.trunc(M/this._filletAngleQuantum+.5);if($<1)return null;for(var J=M/$,ue=new K,fe=0;fe<$;fe++){var Ce=a+C*fe*J;ue.x=i.x+b*Math.cos(Ce),ue.y=i.y+b*Math.sin(Ce),this._segList.addPt(ue)}}},{key:"computeOffsetSegment",value:function(i,a,l,p){var b=a===z.LEFT?1:-1,C=i.p1.x-i.p0.x,M=i.p1.y-i.p0.y,$=Math.sqrt(C*C+M*M),J=b*l*C/$,ue=b*l*M/$;p.p0.x=i.p0.x-ue,p.p0.y=i.p0.y+J,p.p1.x=i.p1.x-ue,p.p1.y=i.p1.y+J}},{key:"addInsideTurn",value:function(i,a){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*c.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var l=new K((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(l);var p=new K((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(i){var a=new K(i.x+this._distance,i.y);this._segList.addPt(a),this.addDirectedFillet(i,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(i,a){this._segList.addPt(i.p1),this._segList.addPt(a.p0)}},{key:"init",value:function(i){this._distance=i,this._maxCurveSegmentError=i*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Bs,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(i*c.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(i){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===H.JOIN_BEVEL||this._bufParams.getJoinStyle()===H.JOIN_MITRE?(i&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Ye.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Mn,this._seg1=new Mn,this._offset0=new Mn,this._offset1=new Mn,this._side=0,this._hasNarrowConcaveAngle=!1;var i=arguments[0],a=arguments[1],l=arguments[2];this._precisionModel=i,this._bufParams=a,this._li=new Pi,this._filletAngleQuantum=Math.PI/2/a.getQuadrantSegments(),a.getQuadrantSegments()>=8&&a.getJoinStyle()===H.JOIN_ROUND&&(this._closingSegLengthFactor=c.MAX_CLOSING_SEG_LEN_FACTOR),this.init(l)}}])}();Fs.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Fs.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Fs.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Fs.MAX_CLOSING_SEG_LEN_FACTOR=80;var zs=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getOffsetCurve",value:function(i,a){if(this._distance=a,a===0)return null;var l=a<0,p=Math.abs(a),b=this.getSegGen(p);i.length<=1?this.computePointCurve(i[0],b):this.computeOffsetCurve(i,l,b);var C=b.getCoordinates();return l&&Yt.reverse(C),C}},{key:"computeSingleSidedBufferCurve",value:function(i,a,l){var p=this.simplifyTolerance(this._distance);if(a){l.addSegments(i,!0);var b=Wn.simplify(i,-p),C=b.length-1;l.initSideSegments(b[C],b[C-1],z.LEFT),l.addFirstSegment();for(var M=C-2;M>=0;M--)l.addNextSegment(b[M],!0)}else{l.addSegments(i,!1);var $=Wn.simplify(i,p),J=$.length-1;l.initSideSegments($[0],$[1],z.LEFT),l.addFirstSegment();for(var ue=2;ue<=J;ue++)l.addNextSegment($[ue],!0)}l.addLastSegment(),l.closeRing()}},{key:"computeRingBufferCurve",value:function(i,a,l){var p=this.simplifyTolerance(this._distance);a===z.RIGHT&&(p=-p);var b=Wn.simplify(i,p),C=b.length-1;l.initSideSegments(b[C-1],b[0],a);for(var M=1;M<=C;M++){var $=M!==1;l.addNextSegment(b[M],$)}l.closeRing()}},{key:"computeLineBufferCurve",value:function(i,a){var l=this.simplifyTolerance(this._distance),p=Wn.simplify(i,l),b=p.length-1;a.initSideSegments(p[0],p[1],z.LEFT);for(var C=2;C<=b;C++)a.addNextSegment(p[C],!0);a.addLastSegment(),a.addLineEndCap(p[b-1],p[b]);var M=Wn.simplify(i,-l),$=M.length-1;a.initSideSegments(M[$],M[$-1],z.LEFT);for(var J=$-2;J>=0;J--)a.addNextSegment(M[J],!0);a.addLastSegment(),a.addLineEndCap(M[1],M[0]),a.closeRing()}},{key:"computePointCurve",value:function(i,a){switch(this._bufParams.getEndCapStyle()){case H.CAP_ROUND:a.createCircle(i);break;case H.CAP_SQUARE:a.createSquare(i)}}},{key:"getLineCurve",value:function(i,a){if(this._distance=a,this.isLineOffsetEmpty(a))return null;var l=Math.abs(a),p=this.getSegGen(l);if(i.length<=1)this.computePointCurve(i[0],p);else if(this._bufParams.isSingleSided()){var b=a<0;this.computeSingleSidedBufferCurve(i,b,p)}else this.computeLineBufferCurve(i,p);return p.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(i){return i*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(i,a,l){if(this._distance=l,i.length<=2)return this.getLineCurve(i,l);if(l===0)return c.copyCoordinates(i);var p=this.getSegGen(l);return this.computeRingBufferCurve(i,a,p),p.getCoordinates()}},{key:"computeOffsetCurve",value:function(i,a,l){var p=this.simplifyTolerance(this._distance);if(a){var b=Wn.simplify(i,-p),C=b.length-1;l.initSideSegments(b[C],b[C-1],z.LEFT),l.addFirstSegment();for(var M=C-2;M>=0;M--)l.addNextSegment(b[M],!0)}else{var $=Wn.simplify(i,p),J=$.length-1;l.initSideSegments($[0],$[1],z.LEFT),l.addFirstSegment();for(var ue=2;ue<=J;ue++)l.addNextSegment($[ue],!0)}l.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(i){return i===0||i<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(i){return new Fs(this._precisionModel,this._bufParams,i)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var i=arguments[0],a=arguments[1];this._precisionModel=i,this._bufParams=a}},{key:"copyCoordinates",value:function(i){for(var a=new Array(i.length).fill(null),l=0;l<a.length;l++)a[l]=new K(i[l]);return a}}])}(),On=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var c=arguments[0],i=new We,a=this._subgraphs.iterator();a.hasNext();){var l=a.next(),p=l.getEnvelope();c.y<p.getMinY()||c.y>p.getMaxY()||this.findStabbedSegments(c,l.getDirectedEdges(),i)}return i}if(arguments.length===3){if(re(arguments[2],$e)&&arguments[0]instanceof K&&arguments[1]instanceof Mo){for(var b=arguments[0],C=arguments[1],M=arguments[2],$=C.getEdge().getCoordinates(),J=0;J<$.length-1;J++)if(this._seg.p0=$[J],this._seg.p1=$[J+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<b.x||this._seg.isHorizontal()||b.y<this._seg.p0.y||b.y>this._seg.p1.y||Ye.index(this._seg.p0,this._seg.p1,b)===Ye.RIGHT)){var ue=C.getDepth(z.LEFT);this._seg.p0.equals($[J])||(ue=C.getDepth(z.RIGHT));var fe=new zo(this._seg,ue);M.add(fe)}}else if(re(arguments[2],$e)&&arguments[0]instanceof K&&re(arguments[1],$e))for(var Ce=arguments[0],Ue=arguments[2],Ze=arguments[1].iterator();Ze.hasNext();){var Je=Ze.next();Je.isForward()&&this.findStabbedSegments(Ce,Je,Ue)}}}},{key:"getDepth",value:function(c){var i=this.findStabbedSegments(c);return i.size()===0?0:kr.min(i)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Mn;var c=arguments[0];this._subgraphs=c}}])}(),zo=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(c){var i=c;if(this._upwardSeg.minX()>=i._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=i._upwardSeg.minX())return-1;var a=this._upwardSeg.orientationIndex(i._upwardSeg);return a!==0||(a=-1*i._upwardSeg.orientationIndex(this._upwardSeg))!==0?a:this._upwardSeg.compareTo(i._upwardSeg)}},{key:"compareX",value:function(c,i){var a=c.p0.compareTo(i.p0);return a!==0?a:c.p1.compareTo(i.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var c=arguments[0],i=arguments[1];this._upwardSeg=new Mn(c),this._leftDepth=i}}])}();On.DepthSegment=zo;var $o=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,null,[{key:"constructor_",value:function(){_.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(_),Uo=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getY",value:function(){var i=this.y/this.w;if(ce.isNaN(i)||ce.isInfinite(i))throw new $o;return i}},{key:"getX",value:function(){var i=this.x/this.w;if(ce.isNaN(i)||ce.isInfinite(i))throw new $o;return i}},{key:"getCoordinate",value:function(){var i=new K;return i.x=this.getX(),i.y=this.getY(),i}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],l=arguments[1];this.x=a,this.y=l,this.w=1}else if(arguments[0]instanceof c&&arguments[1]instanceof c){var p=arguments[0],b=arguments[1];this.x=p.y*b.w-b.y*p.w,this.y=b.x*p.w-p.x*b.w,this.w=p.x*b.y-b.x*p.y}else if(arguments[0]instanceof K&&arguments[1]instanceof K){var C=arguments[0],M=arguments[1];this.x=C.y-M.y,this.y=M.x-C.x,this.w=C.x*M.y-M.x*C.y}}else if(arguments.length===3){var $=arguments[0],J=arguments[1],ue=arguments[2];this.x=$,this.y=J,this.w=ue}else if(arguments.length===4){var fe=arguments[0],Ce=arguments[1],Ue=arguments[2],Ze=arguments[3],Je=fe.y-Ce.y,vt=Ce.x-fe.x,ct=fe.x*Ce.y-Ce.x*fe.y,Ot=Ue.y-Ze.y,Vt=Ze.x-Ue.x,on=Ue.x*Ze.y-Ze.x*Ue.y;this.x=vt*on-Vt*ct,this.y=Ot*ct-Je*on,this.w=Je*Vt-Ot*vt}}}])}(),Go=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"area",value:function(){return c.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return c.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(i){if(i===null)throw new x("Supplied point is null.");return c.interpolateZ(i,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return c.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return c.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return c.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return c.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return c.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return c.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var i=arguments[0],a=arguments[1],l=arguments[2];this.p0=i,this.p1=a,this.p2=l}},{key:"area",value:function(i,a,l){return Math.abs(((l.x-i.x)*(a.y-i.y)-(a.x-i.x)*(l.y-i.y))/2)}},{key:"signedArea",value:function(i,a,l){return((l.x-i.x)*(a.y-i.y)-(a.x-i.x)*(l.y-i.y))/2}},{key:"det",value:function(i,a,l,p){return i*p-a*l}},{key:"interpolateZ",value:function(i,a,l,p){var b=a.x,C=a.y,M=l.x-b,$=p.x-b,J=l.y-C,ue=p.y-C,fe=M*ue-$*J,Ce=i.x-b,Ue=i.y-C,Ze=(ue*Ce-$*Ue)/fe,Je=(-J*Ce+M*Ue)/fe;return a.getZ()+Ze*(l.getZ()-a.getZ())+Je*(p.getZ()-a.getZ())}},{key:"longestSideLength",value:function(i,a,l){var p=i.distance(a),b=a.distance(l),C=l.distance(i),M=p;return b>M&&(M=b),C>M&&(M=C),M}},{key:"circumcentreDD",value:function(i,a,l){var p=Re.valueOf(i.x).subtract(l.x),b=Re.valueOf(i.y).subtract(l.y),C=Re.valueOf(a.x).subtract(l.x),M=Re.valueOf(a.y).subtract(l.y),$=Re.determinant(p,b,C,M).multiply(2),J=p.sqr().add(b.sqr()),ue=C.sqr().add(M.sqr()),fe=Re.determinant(b,J,M,ue),Ce=Re.determinant(p,J,C,ue),Ue=Re.valueOf(l.x).subtract(fe.divide($)).doubleValue(),Ze=Re.valueOf(l.y).add(Ce.divide($)).doubleValue();return new K(Ue,Ze)}},{key:"isAcute",value:function(i,a,l){return!!en.isAcute(i,a,l)&&!!en.isAcute(a,l,i)&&!!en.isAcute(l,i,a)}},{key:"circumcentre",value:function(i,a,l){var p=l.x,b=l.y,C=i.x-p,M=i.y-b,$=a.x-p,J=a.y-b,ue=2*c.det(C,M,$,J),fe=c.det(M,C*C+M*M,J,$*$+J*J),Ce=c.det(C,C*C+M*M,$,$*$+J*J);return new K(p-fe/ue,b+Ce/ue)}},{key:"perpendicularBisector",value:function(i,a){var l=a.x-i.x,p=a.y-i.y,b=new Uo(i.x+l/2,i.y+p/2,1),C=new Uo(i.x-p+l/2,i.y+l+p/2,1);return new Uo(b,C)}},{key:"angleBisector",value:function(i,a,l){var p=a.distance(i),b=p/(p+a.distance(l)),C=l.x-i.x,M=l.y-i.y;return new K(i.x+b*C,i.y+b*M)}},{key:"area3D",value:function(i,a,l){var p=a.x-i.x,b=a.y-i.y,C=a.getZ()-i.getZ(),M=l.x-i.x,$=l.y-i.y,J=l.getZ()-i.getZ(),ue=b*J-C*$,fe=C*M-p*J,Ce=p*$-b*M,Ue=ue*ue+fe*fe+Ce*Ce,Ze=Math.sqrt(Ue)/2;return Ze}},{key:"centroid",value:function(i,a,l){var p=(i.x+a.x+l.x)/3,b=(i.y+a.y+l.y)/3;return new K(p,b)}},{key:"inCentre",value:function(i,a,l){var p=a.distance(l),b=i.distance(l),C=i.distance(a),M=p+b+C,$=(p*i.x+b*a.x+C*l.x)/M,J=(p*i.y+b*a.y+C*l.y)/M;return new K($,J)}}])}(),Ho=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(c,i,a,l,p){if(i===0&&c.length<li.MINIMUM_VALID_SIZE)return null;var b=l,C=p;c.length>=li.MINIMUM_VALID_SIZE&&Ye.isCCW(c)&&(b=p,C=l,a=z.opposite(a));var M=this._curveBuilder.getRingCurve(c,a,i);this.addCurve(M,b,C)}},{key:"addRingBothSides",value:function(c,i){this.addRingSide(c,i,z.LEFT,N.EXTERIOR,N.INTERIOR),this.addRingSide(c,i,z.RIGHT,N.INTERIOR,N.EXTERIOR)}},{key:"addPoint",value:function(c){if(this._distance<=0)return null;var i=c.getCoordinates(),a=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(a,N.EXTERIOR,N.INTERIOR)}},{key:"addPolygon",value:function(c){var i=this._distance,a=z.LEFT;this._distance<0&&(i=-this._distance,a=z.RIGHT);var l=c.getExteriorRing(),p=Yt.removeRepeatedPoints(l.getCoordinates());if(this._distance<0&&this.isErodedCompletely(l,this._distance)||this._distance<=0&&p.length<3)return null;this.addRingSide(p,i,a,N.EXTERIOR,N.INTERIOR);for(var b=0;b<c.getNumInteriorRing();b++){var C=c.getInteriorRingN(b),M=Yt.removeRepeatedPoints(C.getCoordinates());this._distance>0&&this.isErodedCompletely(C,-this._distance)||this.addRingSide(M,i,z.opposite(a),N.INTERIOR,N.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(c,i){var a=new Go(c[0],c[1],c[2]),l=a.inCentre();return ni.pointToSegment(l,a.p0,a.p1)<Math.abs(i)}},{key:"addLineString",value:function(c){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var i=Yt.removeRepeatedPoints(c.getCoordinates());if(Yt.isRing(i)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(i,this._distance);else{var a=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(a,N.EXTERIOR,N.INTERIOR)}}},{key:"addCurve",value:function(c,i,a){if(c===null||c.length<2)return null;var l=new Ii(c,new En(0,N.BOUNDARY,i,a));this._curveList.add(l)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(c){if(c.isEmpty())return null;if(c instanceof Is)this.addPolygon(c);else if(c instanceof Ps)this.addLineString(c);else if(c instanceof wo)this.addPoint(c);else if(c instanceof _a)this.addCollection(c);else if(c instanceof wa)this.addCollection(c);else if(c instanceof xo)this.addCollection(c);else{if(!(c instanceof yn))throw new _e(c.getGeometryType());this.addCollection(c)}}},{key:"isErodedCompletely",value:function(c,i){var a=c.getCoordinates();if(a.length<4)return i<0;if(a.length===4)return this.isTriangleErodedCompletely(a,i);var l=c.getEnvelopeInternal(),p=Math.min(l.getHeight(),l.getWidth());return i<0&&2*Math.abs(i)>p}},{key:"addCollection",value:function(c){for(var i=0;i<c.getNumGeometries();i++){var a=c.getGeometryN(i);this.add(a)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new We;var c=arguments[0],i=arguments[1],a=arguments[2];this._inputGeom=c,this._distance=i,this._curveBuilder=a}}])}(),ud=function(){return h(function c(){n(this,c)},[{key:"locate",value:function(c){}}])}(),ld=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,c.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new se;var i=this._parent.getGeometryN(this._index++);return i instanceof yn?(this._subcollectionIterator=new c(i),this._subcollectionIterator.next()):i}},{key:"remove",value:function(){throw new _e(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[ad]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var i=arguments[0];this._parent=i,this._atStart=!0,this._index=0,this._max=i.getNumGeometries()}},{key:"isAtomic",value:function(i){return!(i instanceof yn)}}])}(),nl=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"locate",value:function(i){return c.locate(i,this._geom)}},{key:"interfaces_",get:function(){return[ud]}}],[{key:"constructor_",value:function(){this._geom=null;var i=arguments[0];this._geom=i}},{key:"locatePointInPolygon",value:function(i,a){if(a.isEmpty())return N.EXTERIOR;var l=a.getExteriorRing(),p=c.locatePointInRing(i,l);if(p!==N.INTERIOR)return p;for(var b=0;b<a.getNumInteriorRing();b++){var C=a.getInteriorRingN(b),M=c.locatePointInRing(i,C);if(M===N.BOUNDARY)return N.BOUNDARY;if(M===N.INTERIOR)return N.EXTERIOR}return N.INTERIOR}},{key:"locatePointInRing",value:function(i,a){return a.getEnvelopeInternal().intersects(i)?Kr.locateInRing(i,a.getCoordinates()):N.EXTERIOR}},{key:"containsPointInPolygon",value:function(i,a){return N.EXTERIOR!==c.locatePointInPolygon(i,a)}},{key:"locateInGeometry",value:function(i,a){if(a instanceof Is)return c.locatePointInPolygon(i,a);if(a instanceof yn)for(var l=new ld(a);l.hasNext();){var p=l.next();if(p!==a){var b=c.locateInGeometry(i,p);if(b!==N.EXTERIOR)return b}}return N.EXTERIOR}},{key:"isContained",value:function(i,a){return N.EXTERIOR!==c.locate(i,a)}},{key:"locate",value:function(i,a){return a.isEmpty()?N.EXTERIOR:a.getEnvelopeInternal().intersects(i)?c.locateInGeometry(i,a):N.EXTERIOR}}])}(),cd=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(c){this.getEdges();var i=this._edgeList.indexOf(c),a=i-1;return i===0&&(a=this._edgeList.size()-1),this._edgeList.get(a)}},{key:"propagateSideLabels",value:function(c){for(var i=N.NONE,a=this.iterator();a.hasNext();){var l=a.next().getLabel();l.isArea(c)&&l.getLocation(c,z.LEFT)!==N.NONE&&(i=l.getLocation(c,z.LEFT))}if(i===N.NONE)return null;for(var p=i,b=this.iterator();b.hasNext();){var C=b.next(),M=C.getLabel();if(M.getLocation(c,z.ON)===N.NONE&&M.setLocation(c,z.ON,p),M.isArea(c)){var $=M.getLocation(c,z.LEFT),J=M.getLocation(c,z.RIGHT);if(J!==N.NONE){if(J!==p)throw new dn("side location conflict",C.getCoordinate());$===N.NONE&&Pe.shouldNeverReachHere("found single null side (at "+C.getCoordinate()+")"),p=$}else Pe.isTrue(M.getLocation(c,z.LEFT)===N.NONE,"found single null side"),M.setLocation(c,z.RIGHT,p),M.setLocation(c,z.LEFT,p)}}}},{key:"getCoordinate",value:function(){var c=this.iterator();return c.hasNext()?c.next().getCoordinate():null}},{key:"print",value:function(c){qn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var i=this.iterator();i.hasNext();)i.next().print(c)}},{key:"isAreaLabelsConsistent",value:function(c){return this.computeEdgeEndLabels(c.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(c){var i=this.getEdges();if(i.size()<=0)return!0;var a=i.size()-1,l=i.get(a).getLabel().getLocation(c,z.LEFT);Pe.isTrue(l!==N.NONE,"Found unlabelled area edge");for(var p=l,b=this.iterator();b.hasNext();){var C=b.next().getLabel();Pe.isTrue(C.isArea(c),"Found non-area edge");var M=C.getLocation(c,z.LEFT),$=C.getLocation(c,z.RIGHT);if(M===$||$!==p)return!1;p=M}return!0}},{key:"findIndex",value:function(c){this.iterator();for(var i=0;i<this._edgeList.size();i++)if(this._edgeList.get(i)===c)return i;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new We(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(c,i,a){return this._ptInAreaLocation[c]===N.NONE&&(this._ptInAreaLocation[c]=nl.locate(i,a[c].getGeometry())),this._ptInAreaLocation[c]}},{key:"toString",value:function(){var c=new be;c.append("EdgeEndStar:   "+this.getCoordinate()),c.append(`
`);for(var i=this.iterator();i.hasNext();){var a=i.next();c.append(a),c.append(`
`)}return c.toString()}},{key:"computeEdgeEndLabels",value:function(c){for(var i=this.iterator();i.hasNext();)i.next().computeLabel(c)}},{key:"computeLabelling",value:function(c){this.computeEdgeEndLabels(c[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],a=this.iterator();a.hasNext();)for(var l=a.next().getLabel(),p=0;p<2;p++)l.isLine(p)&&l.getLocation(p)===N.BOUNDARY&&(i[p]=!0);for(var b=this.iterator();b.hasNext();)for(var C=b.next(),M=C.getLabel(),$=0;$<2;$++)if(M.isAnyNull($)){var J=N.NONE;if(i[$])J=N.EXTERIOR;else{var ue=C.getCoordinate();J=this.getLocation($,ue,c)}M.setAllLocationsIfNull($,J)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(c,i){this._edgeMap.put(c,i),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new qt,this._edgeList=null,this._ptInAreaLocation=[N.NONE,N.NONE]}}])}(),ri=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var a=null,l=null,p=this._SCANNING_FOR_INCOMING,b=0;b<this._resultAreaEdgeList.size();b++){var C=this._resultAreaEdgeList.get(b),M=C.getSym();if(C.getLabel().isArea())switch(a===null&&C.isInResult()&&(a=C),p){case this._SCANNING_FOR_INCOMING:if(!M.isInResult())continue;l=M,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!C.isInResult())continue;l.setNext(C),p=this._SCANNING_FOR_INCOMING}}if(p===this._LINKING_TO_OUTGOING){if(a===null)throw new dn("no outgoing dirEdge found",this.getCoordinate());Pe.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),l.setNext(a)}}},{key:"insert",value:function(a){var l=a;this.insertEdgeEnd(l,l)}},{key:"getRightmostEdge",value:function(){var a=this.getEdges(),l=a.size();if(l<1)return null;var p=a.get(0);if(l===1)return p;var b=a.get(l-1),C=p.getQuadrant(),M=b.getQuadrant();return pn.isNorthern(C)&&pn.isNorthern(M)?p:pn.isNorthern(C)||pn.isNorthern(M)?p.getDy()!==0?p:b.getDy()!==0?b:(Pe.shouldNeverReachHere("found two horizontal edges incident on node"),null):b}},{key:"print",value:function(a){qn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var l=this.iterator();l.hasNext();){var p=l.next();a.print("out "),p.print(a),a.println(),a.print("in "),p.getSym().print(a),a.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new We;for(var a=this.iterator();a.hasNext();){var l=a.next();(l.isInResult()||l.getSym().isInResult())&&this._resultAreaEdgeList.add(l)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(a){for(var l=this.iterator();l.hasNext();){var p=l.next().getLabel();p.setAllLocationsIfNull(0,a.getLocation(0)),p.setAllLocationsIfNull(1,a.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var a=null,l=null,p=this._edgeList.size()-1;p>=0;p--){var b=this._edgeList.get(p),C=b.getSym();l===null&&(l=C),a!==null&&C.setNext(a),a=b}l.setNext(a)}},{key:"computeDepths",value:function(){if(arguments.length===1){var a=arguments[0],l=this.findIndex(a),p=a.getDepth(z.LEFT),b=a.getDepth(z.RIGHT),C=this.computeDepths(l+1,this._edgeList.size(),p);if(this.computeDepths(0,l,C)!==b)throw new dn("depth mismatch at "+a.getCoordinate())}else if(arguments.length===3){for(var M=arguments[1],$=arguments[2],J=arguments[0];J<M;J++){var ue=this._edgeList.get(J);ue.setEdgeDepths(z.RIGHT,$),$=ue.getDepth(z.LEFT)}return $}}},{key:"mergeSymLabels",value:function(){for(var a=this.iterator();a.hasNext();){var l=a.next();l.getLabel().merge(l.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(a){for(var l=null,p=null,b=this._SCANNING_FOR_INCOMING,C=this._resultAreaEdgeList.size()-1;C>=0;C--){var M=this._resultAreaEdgeList.get(C),$=M.getSym();switch(l===null&&M.getEdgeRing()===a&&(l=M),b){case this._SCANNING_FOR_INCOMING:if($.getEdgeRing()!==a)continue;p=$,b=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(M.getEdgeRing()!==a)continue;p.setNextMin(M),b=this._SCANNING_FOR_INCOMING}}b===this._LINKING_TO_OUTGOING&&(Pe.isTrue(l!==null,"found null for first outgoing dirEdge"),Pe.isTrue(l.getEdgeRing()===a,"unable to link last incoming dirEdge"),p.setNextMin(l))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var a=0,l=this.iterator();l.hasNext();)l.next().isInResult()&&a++;return a}if(arguments.length===1){for(var p=arguments[0],b=0,C=this.iterator();C.hasNext();)C.next().getEdgeRing()===p&&b++;return b}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var a=N.NONE,l=this.iterator();l.hasNext();){var p=l.next(),b=p.getSym();if(!p.isLineEdge()){if(p.isInResult()){a=N.INTERIOR;break}if(b.isInResult()){a=N.EXTERIOR;break}}}if(a===N.NONE)return null;for(var C=a,M=this.iterator();M.hasNext();){var $=M.next(),J=$.getSym();$.isLineEdge()?$.getEdge().setCovered(C===N.INTERIOR):($.isInResult()&&(C=N.EXTERIOR),J.isInResult()&&(C=N.INTERIOR))}}},{key:"computeLabelling",value:function(a){O(i,"computeLabelling",this,1).call(this,a),this._label=new En(N.NONE);for(var l=this.iterator();l.hasNext();)for(var p=l.next().getEdge().getLabel(),b=0;b<2;b++){var C=p.getLocation(b);C!==N.INTERIOR&&C!==N.BOUNDARY||this._label.setLocation(b,N.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(cd),Qr=function(c){function i(){return n(this,i),r(this,i)}return w(i,c),h(i,[{key:"createNode",value:function(a){return new Rs(a,new ri)}}])}(Oo),il=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"compareTo",value:function(i){var a=i;return c.compareOriented(this._pts,this._orientation,a._pts,a._orientation)}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var i=arguments[0];this._pts=i,this._orientation=c.orientation(i)}},{key:"orientation",value:function(i){return Yt.increasingDirection(i)===1}},{key:"compareOriented",value:function(i,a,l,p){for(var b=a?1:-1,C=p?1:-1,M=a?i.length:-1,$=p?l.length:-1,J=a?0:i.length-1,ue=p?0:l.length-1;;){var fe=i[J].compareTo(l[ue]);if(fe!==0)return fe;var Ce=(J+=b)===M,Ue=(ue+=C)===$;if(Ce&&!Ue)return-1;if(!Ce&&Ue)return 1;if(Ce&&Ue)return 0}}}])}(),Ni=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var a=this._edges.get(i);i>0&&c.print(","),c.print("(");for(var l=a.getCoordinates(),p=0;p<l.length;p++)p>0&&c.print(","),c.print(l[p].x+" "+l[p].y);c.println(")")}c.print(")  ")}},{key:"addAll",value:function(c){for(var i=c.iterator();i.hasNext();)this.add(i.next())}},{key:"findEdgeIndex",value:function(c){for(var i=0;i<this._edges.size();i++)if(this._edges.get(i).equals(c))return i;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(c){return this._edges.get(c)}},{key:"findEqualEdge",value:function(c){var i=new il(c.getCoordinates());return this._ocaMap.get(i)}},{key:"add",value:function(c){this._edges.add(c);var i=new il(c.getCoordinates());this._ocaMap.put(i,c)}}],[{key:"constructor_",value:function(){this._edges=new We,this._ocaMap=new qt}}])}(),rl=function(){return h(function c(){n(this,c)},[{key:"processIntersections",value:function(c,i,a,l){}},{key:"isDone",value:function(){}}])}(),es=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isTrivialIntersection",value:function(i,a,l,p){if(i===l&&this._li.getIntersectionNum()===1){if(c.isAdjacentSegments(a,p))return!0;if(i.isClosed()){var b=i.size()-1;if(a===0&&p===b||p===0&&a===b)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(i,a,l,p){if(i===l&&a===p)return null;this.numTests++;var b=i.getCoordinates()[a],C=i.getCoordinates()[a+1],M=l.getCoordinates()[p],$=l.getCoordinates()[p+1];this._li.computeIntersection(b,C,M,$),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(i,a,l,p)||(this._hasIntersection=!0,i.addIntersections(this._li,a,0),l.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[rl]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var i=arguments[0];this._li=i}},{key:"isAdjacentSegments",value:function(i,a){return Math.abs(i-a)===1}}])}(),dd=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(c){c.print(this.coord),c.print(" seg # = "+this.segmentIndex),c.println(" dist = "+this.dist)}},{key:"compareTo",value:function(c){var i=c;return this.compare(i.segmentIndex,i.dist)}},{key:"isEndPoint",value:function(c){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===c}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(c,i){return this.segmentIndex<c?-1:this.segmentIndex>c?1:this.dist<i?-1:this.dist>i?1:0}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var c=arguments[0],i=arguments[1],a=arguments[2];this.coord=new K(c),this.segmentIndex=i,this.dist=a}}])}(),$s=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"print",value:function(c){c.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(c)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(c){this.addEndpoints();for(var i=this.iterator(),a=i.next();i.hasNext();){var l=i.next(),p=this.createSplitEdge(a,l);c.add(p),a=l}}},{key:"addEndpoints",value:function(){var c=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[c],c,0)}},{key:"createSplitEdge",value:function(c,i){var a=i.segmentIndex-c.segmentIndex+2,l=this.edge.pts[i.segmentIndex],p=i.dist>0||!i.coord.equals2D(l);p||a--;var b=new Array(a).fill(null),C=0;b[C++]=new K(c.coord);for(var M=c.segmentIndex+1;M<=i.segmentIndex;M++)b[C++]=this.edge.pts[M];return p&&(b[C]=i.coord),new al(b,new En(this.edge._label))}},{key:"add",value:function(c,i,a){var l=new dd(c,i,a),p=this._nodeMap.get(l);return p!==null?p:(this._nodeMap.put(l,l),l)}},{key:"isIntersection",value:function(c){for(var i=this.iterator();i.hasNext();)if(i.next().coord.equals(c))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new qt,this.edge=null;var c=arguments[0];this.edge=c}}])}(),sl=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])||c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))&&this._matrix[N.EXTERIOR][N.INTERIOR]===Fe.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===Fe.FALSE}},{key:"isCoveredBy",value:function(){return(c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])||c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))&&this._matrix[N.INTERIOR][N.EXTERIOR]===Fe.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===Fe.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var i=arguments[0],a=0;a<i.length;a++){var l=Math.trunc(a/3),p=a%3;this._matrix[l][p]=Fe.toDimensionValue(i.charAt(a))}else if(arguments.length===3){var b=arguments[0],C=arguments[1],M=arguments[2];this._matrix[b][C]=M}}},{key:"isContains",value:function(){return c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.EXTERIOR][N.INTERIOR]===Fe.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===Fe.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var i=arguments[0],a=0;a<i.length;a++){var l=Math.trunc(a/3),p=a%3;this.setAtLeast(l,p,Fe.toDimensionValue(i.charAt(a)))}else if(arguments.length===3){var b=arguments[0],C=arguments[1],M=arguments[2];this._matrix[b][C]<M&&(this._matrix[b][C]=M)}}},{key:"setAtLeastIfValid",value:function(i,a,l){i>=0&&a>=0&&this.setAtLeast(i,a,l)}},{key:"isWithin",value:function(){return c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.INTERIOR][N.EXTERIOR]===Fe.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===Fe.FALSE}},{key:"isTouches",value:function(i,a){return i>a?this.isTouches(a,i):(i===Fe.A&&a===Fe.A||i===Fe.L&&a===Fe.L||i===Fe.L&&a===Fe.A||i===Fe.P&&a===Fe.A||i===Fe.P&&a===Fe.L)&&this._matrix[N.INTERIOR][N.INTERIOR]===Fe.FALSE&&(c.isTrue(this._matrix[N.INTERIOR][N.BOUNDARY])||c.isTrue(this._matrix[N.BOUNDARY][N.INTERIOR])||c.isTrue(this._matrix[N.BOUNDARY][N.BOUNDARY]))}},{key:"isOverlaps",value:function(i,a){return i===Fe.P&&a===Fe.P||i===Fe.A&&a===Fe.A?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR]):i===Fe.L&&a===Fe.L&&this._matrix[N.INTERIOR][N.INTERIOR]===1&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR])}},{key:"isEquals",value:function(i,a){return i===a&&c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&this._matrix[N.INTERIOR][N.EXTERIOR]===Fe.FALSE&&this._matrix[N.BOUNDARY][N.EXTERIOR]===Fe.FALSE&&this._matrix[N.EXTERIOR][N.INTERIOR]===Fe.FALSE&&this._matrix[N.EXTERIOR][N.BOUNDARY]===Fe.FALSE}},{key:"toString",value:function(){for(var i=new ba("123456789"),a=0;a<3;a++)for(var l=0;l<3;l++)i.setCharAt(3*a+l,Fe.toDimensionSymbol(this._matrix[a][l]));return i.toString()}},{key:"setAll",value:function(i){for(var a=0;a<3;a++)for(var l=0;l<3;l++)this._matrix[a][l]=i}},{key:"get",value:function(i,a){return this._matrix[i][a]}},{key:"transpose",value:function(){var i=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=i,i=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=i,i=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=i,this}},{key:"matches",value:function(i){if(i.length!==9)throw new x("Should be length 9: "+i);for(var a=0;a<3;a++)for(var l=0;l<3;l++)if(!c.matches(this._matrix[a][l],i.charAt(3*a+l)))return!1;return!0}},{key:"add",value:function(i){for(var a=0;a<3;a++)for(var l=0;l<3;l++)this.setAtLeast(a,l,i.get(a,l))}},{key:"isDisjoint",value:function(){return this._matrix[N.INTERIOR][N.INTERIOR]===Fe.FALSE&&this._matrix[N.INTERIOR][N.BOUNDARY]===Fe.FALSE&&this._matrix[N.BOUNDARY][N.INTERIOR]===Fe.FALSE&&this._matrix[N.BOUNDARY][N.BOUNDARY]===Fe.FALSE}},{key:"isCrosses",value:function(i,a){return i===Fe.P&&a===Fe.L||i===Fe.P&&a===Fe.A||i===Fe.L&&a===Fe.A?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.INTERIOR][N.EXTERIOR]):i===Fe.L&&a===Fe.P||i===Fe.A&&a===Fe.P||i===Fe.A&&a===Fe.L?c.isTrue(this._matrix[N.INTERIOR][N.INTERIOR])&&c.isTrue(this._matrix[N.EXTERIOR][N.INTERIOR]):i===Fe.L&&a===Fe.L&&this._matrix[N.INTERIOR][N.INTERIOR]===0}},{key:"interfaces_",get:function(){return[B]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Fe.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var i=arguments[0];c.constructor_.call(this),this.set(i)}else if(arguments[0]instanceof c){var a=arguments[0];c.constructor_.call(this),this._matrix[N.INTERIOR][N.INTERIOR]=a._matrix[N.INTERIOR][N.INTERIOR],this._matrix[N.INTERIOR][N.BOUNDARY]=a._matrix[N.INTERIOR][N.BOUNDARY],this._matrix[N.INTERIOR][N.EXTERIOR]=a._matrix[N.INTERIOR][N.EXTERIOR],this._matrix[N.BOUNDARY][N.INTERIOR]=a._matrix[N.BOUNDARY][N.INTERIOR],this._matrix[N.BOUNDARY][N.BOUNDARY]=a._matrix[N.BOUNDARY][N.BOUNDARY],this._matrix[N.BOUNDARY][N.EXTERIOR]=a._matrix[N.BOUNDARY][N.EXTERIOR],this._matrix[N.EXTERIOR][N.INTERIOR]=a._matrix[N.EXTERIOR][N.INTERIOR],this._matrix[N.EXTERIOR][N.BOUNDARY]=a._matrix[N.EXTERIOR][N.BOUNDARY],this._matrix[N.EXTERIOR][N.EXTERIOR]=a._matrix[N.EXTERIOR][N.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var i=arguments[0],a=arguments[1];return a===Fe.SYM_DONTCARE||a===Fe.SYM_TRUE&&(i>=0||i===Fe.TRUE)||a===Fe.SYM_FALSE&&i===Fe.FALSE||a===Fe.SYM_P&&i===Fe.P||a===Fe.SYM_L&&i===Fe.L||a===Fe.SYM_A&&i===Fe.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var l=arguments[1];return new c(arguments[0]).matches(l)}}},{key:"isTrue",value:function(i){return i>=0||i===Fe.TRUE}}])}(),Na=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(i){return i===null||i.length===0?null:(this.ensureCapacity(this._size+i.length),qn.arraycopy(i,0,this._data,this._size,i.length),void(this._size+=i.length))}},{key:"ensureCapacity",value:function(i){if(i<=this._data.length)return null;var a=Math.max(i,2*this._data.length);this._data=fn.copyOf(this._data,a)}},{key:"toArray",value:function(){var i=new Array(this._size).fill(null);return qn.arraycopy(this._data,0,i,0,this._size),i}},{key:"add",value:function(i){this.ensureCapacity(this._size+1),this._data[this._size]=i,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)c.constructor_.call(this,10);else if(arguments.length===1){var i=arguments[0];this._data=new Array(i).fill(null)}}}])}(),fd=function(){function c(){n(this,c)}return h(c,[{key:"getChainStartIndices",value:function(i){var a=0,l=new Na(Math.trunc(i.length/2));l.add(a);do{var p=this.findChainEnd(i,a);l.add(p),a=p}while(a<i.length-1);return l.toArray()}},{key:"findChainEnd",value:function(i,a){for(var l=pn.quadrant(i[a],i[a+1]),p=a+1;p<i.length&&pn.quadrant(i[p-1],i[p])===l;)p++;return p-1}},{key:"OLDgetChainStartIndices",value:function(i){var a=0,l=new We;l.add(a);do{var p=this.findChainEnd(i,a);l.add(p),a=p}while(a<i.length-1);return c.toIntArray(l)}}],[{key:"toIntArray",value:function(i){for(var a=new Array(i.size()).fill(null),l=0;l<a.length;l++)a[l]=i.get(l).intValue();return a}}])}(),Qi=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(c){var i=this.pts[this.startIndex[c]].x,a=this.pts[this.startIndex[c+1]].x;return i>a?i:a}},{key:"getMinX",value:function(c){var i=this.pts[this.startIndex[c]].x,a=this.pts[this.startIndex[c+1]].x;return i<a?i:a}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var c=arguments[0],i=arguments[1],a=arguments[2],l=arguments[3];this.computeIntersectsForChain(this.startIndex[c],this.startIndex[c+1],i,i.startIndex[a],i.startIndex[a+1],l)}else if(arguments.length===6){var p=arguments[0],b=arguments[1],C=arguments[2],M=arguments[3],$=arguments[4],J=arguments[5];if(b-p==1&&$-M==1)return J.addIntersections(this.e,p,C.e,M),null;if(!this.overlaps(p,b,C,M,$))return null;var ue=Math.trunc((p+b)/2),fe=Math.trunc((M+$)/2);p<ue&&(M<fe&&this.computeIntersectsForChain(p,ue,C,M,fe,J),fe<$&&this.computeIntersectsForChain(p,ue,C,fe,$,J)),ue<b&&(M<fe&&this.computeIntersectsForChain(ue,b,C,M,fe,J),fe<$&&this.computeIntersectsForChain(ue,b,C,fe,$,J))}}},{key:"overlaps",value:function(c,i,a,l,p){return Ne.intersects(this.pts[c],this.pts[i],a.pts[l],a.pts[p])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(c,i){for(var a=0;a<this.startIndex.length-1;a++)for(var l=0;l<c.startIndex.length-1;l++)this.computeIntersectsForChain(a,c,l,i)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var c=arguments[0];this.e=c,this.pts=c.getCoordinates();var i=new fd;this.startIndex=i.getChainStartIndices(this.pts)}}])}(),Us=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"getDepth",value:function(i,a){return this._depth[i][a]}},{key:"setDepth",value:function(i,a,l){this._depth[i][a]=l}},{key:"isNull",value:function(){if(arguments.length===0){for(var i=0;i<2;i++)for(var a=0;a<3;a++)if(this._depth[i][a]!==c.NULL_VALUE)return!1;return!0}if(arguments.length===1){var l=arguments[0];return this._depth[l][1]===c.NULL_VALUE}if(arguments.length===2){var p=arguments[0],b=arguments[1];return this._depth[p][b]===c.NULL_VALUE}}},{key:"normalize",value:function(){for(var i=0;i<2;i++)if(!this.isNull(i)){var a=this._depth[i][1];this._depth[i][2]<a&&(a=this._depth[i][2]),a<0&&(a=0);for(var l=1;l<3;l++){var p=0;this._depth[i][l]>a&&(p=1),this._depth[i][l]=p}}}},{key:"getDelta",value:function(i){return this._depth[i][z.RIGHT]-this._depth[i][z.LEFT]}},{key:"getLocation",value:function(i,a){return this._depth[i][a]<=0?N.EXTERIOR:N.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var i=arguments[0],a=0;a<2;a++)for(var l=1;l<3;l++){var p=i.getLocation(a,l);p!==N.EXTERIOR&&p!==N.INTERIOR||(this.isNull(a,l)?this._depth[a][l]=c.depthAtLocation(p):this._depth[a][l]+=c.depthAtLocation(p))}else if(arguments.length===3){var b=arguments[0],C=arguments[1];arguments[2]===N.INTERIOR&&this._depth[b][C]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var i=0;i<2;i++)for(var a=0;a<3;a++)this._depth[i][a]=c.NULL_VALUE}},{key:"depthAtLocation",value:function(i){return i===N.EXTERIOR?0:i===N.INTERIOR?1:c.NULL_VALUE}}])}();Us.NULL_VALUE=-1;var al=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var a=new Array(2).fill(null);return a[0]=this.pts[0],a[1]=this.pts[1],new i(a,En.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(a){this._isIsolated=a}},{key:"setName",value:function(a){this._name=a}},{key:"equals",value:function(a){if(!(a instanceof i))return!1;var l=a;if(this.pts.length!==l.pts.length)return!1;for(var p=!0,b=!0,C=this.pts.length,M=0;M<this.pts.length;M++)if(this.pts[M].equals2D(l.pts[M])||(p=!1),this.pts[M].equals2D(l.pts[--C])||(b=!1),!p&&!b)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var a=arguments[0];return this.pts[a]}}},{key:"print",value:function(a){a.print("edge "+this._name+": "),a.print("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&a.print(","),a.print(this.pts[l].x+" "+this.pts[l].y);a.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(a){i.updateIM(this._label,a)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(a){a.print("edge "+this._name+": ");for(var l=this.pts.length-1;l>=0;l--)a.print(this.pts[l]+" ");a.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Qi(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Ne;for(var a=0;a<this.pts.length;a++)this._env.expandToInclude(this.pts[a])}return this._env}},{key:"addIntersection",value:function(a,l,p,b){var C=new K(a.getIntersection(b)),M=l,$=a.getEdgeDistance(p,b),J=M+1;if(J<this.pts.length){var ue=this.pts[J];C.equals2D(ue)&&(M=J,$=0)}this.eiList.add(C,M,$)}},{key:"toString",value:function(){var a=new ba;a.append("edge "+this._name+": "),a.append("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&a.append(","),a.append(this.pts[l].x+" "+this.pts[l].y);return a.append(")  "+this._label+" "+this._depthDelta),a.toString()}},{key:"isPointwiseEqual",value:function(a){if(this.pts.length!==a.pts.length)return!1;for(var l=0;l<this.pts.length;l++)if(!this.pts[l].equals2D(a.pts[l]))return!1;return!0}},{key:"setDepthDelta",value:function(a){this._depthDelta=a}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(a,l,p){for(var b=0;b<a.getIntersectionNum();b++)this.addIntersection(a,l,p,b)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new $s(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Us,this._depthDelta=0,arguments.length===1){var a=arguments[0];i.constructor_.call(this,a,null)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.pts=l,this._label=p}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof sl&&arguments[0]instanceof En))return O(i,"updateIM",this).apply(this,arguments);var a=arguments[0],l=arguments[1];l.setAtLeastIfValid(a.getLocation(0,z.ON),a.getLocation(1,z.ON),1),a.isArea()&&(l.setAtLeastIfValid(a.getLocation(0,z.LEFT),a.getLocation(1,z.LEFT),2),l.setAtLeastIfValid(a.getLocation(0,z.RIGHT),a.getLocation(1,z.RIGHT),2))}}])}(Mt),Ma=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"setWorkingPrecisionModel",value:function(i){this._workingPrecisionModel=i}},{key:"insertUniqueEdge",value:function(i){var a=this._edgeList.findEqualEdge(i);if(a!==null){var l=a.getLabel(),p=i.getLabel();a.isPointwiseEqual(i)||(p=new En(i.getLabel())).flip(),l.merge(p);var b=c.depthDelta(p),C=a.getDepthDelta()+b;a.setDepthDelta(C)}else this._edgeList.add(i),i.setDepthDelta(c.depthDelta(i.getLabel()))}},{key:"buildSubgraphs",value:function(i,a){for(var l=new We,p=i.iterator();p.hasNext();){var b=p.next(),C=b.getRightmostCoordinate(),M=new On(l).getDepth(C);b.computeDepth(M),b.findResultEdges(),l.add(b),a.add(b.getDirectedEdges(),b.getNodes())}}},{key:"createSubgraphs",value:function(i){for(var a=new We,l=i.getNodes().iterator();l.hasNext();){var p=l.next();if(!p.isVisited()){var b=new Wi;b.create(p),a.add(b)}}return kr.sort(a,kr.reverseOrder()),a}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(i){if(this._workingNoder!==null)return this._workingNoder;var a=new Bo,l=new Pi;return l.setPrecisionModel(i),a.setSegmentIntersector(new es(l)),a}},{key:"buffer",value:function(i,a){var l=this._workingPrecisionModel;l===null&&(l=i.getPrecisionModel()),this._geomFact=i.getFactory();var p=new zs(l,this._bufParams),b=new Ho(i,a,p).getCurves();if(b.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(b,l),this._graph=new Sa(new Qr),this._graph.addEdges(this._edgeList.getEdges());var C=this.createSubgraphs(this._graph),M=new nd(this._geomFact);this.buildSubgraphs(C,M);var $=M.getPolygons();return $.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry($)}},{key:"computeNodedEdges",value:function(i,a){var l=this.getNoder(a);l.computeNodes(i);for(var p=l.getNodedSubstrings().iterator();p.hasNext();){var b=p.next(),C=b.getCoordinates();if(C.length!==2||!C[0].equals2D(C[1])){var M=b.getData(),$=new al(b.getCoordinates(),new En(M));this.insertUniqueEdge($)}}}},{key:"setNoder",value:function(i){this._workingNoder=i}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ni;var i=arguments[0];this._bufParams=i}},{key:"depthDelta",value:function(i){var a=i.getLocation(0,z.LEFT),l=i.getLocation(0,z.RIGHT);return a===N.INTERIOR&&l===N.EXTERIOR?1:a===N.EXTERIOR&&l===N.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(i){for(var a=new ci,l=new We;i.hasNext();){var p=i.next(),b=a.createLineString(p.getCoordinates());l.add(b)}return a.buildGeometry(l)}}])}(),hd=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"rescale",value:function(){if(re(arguments[0],Q))for(var i=arguments[0].iterator();i.hasNext();){var a=i.next();this.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var l=arguments[0],p=0;p<l.length;p++)l[p].x=l[p].x/this._scaleFactor+this._offsetX,l[p].y=l[p].y/this._scaleFactor+this._offsetY;l.length===2&&l[0].equals2D(l[1])&&qn.out.println(l)}}},{key:"scale",value:function(){if(re(arguments[0],Q)){for(var i=arguments[0],a=new We(i.size()),l=i.iterator();l.hasNext();){var p=l.next();a.add(new Ii(this.scale(p.getCoordinates()),p.getData()))}return a}if(arguments[0]instanceof Array){for(var b=arguments[0],C=new Array(b.length).fill(null),M=0;M<b.length;M++)C[M]=new K(Math.round((b[M].x-this._offsetX)*this._scaleFactor),Math.round((b[M].y-this._offsetY)*this._scaleFactor),b[M].getZ());return Yt.removeRepeatedPoints(C)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var i=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(i),i}},{key:"computeNodes",value:function(i){var a=i;this._isScaled&&(a=this.scale(i)),this._noder.computeNodes(a)}},{key:"interfaces_",get:function(){return[Do]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var i=arguments[0],a=arguments[1];c.constructor_.call(this,i,a,0,0)}else if(arguments.length===4){var l=arguments[0],p=arguments[1];this._noder=l,this._scaleFactor=p,this._isScaled=!this.isIntegerPrecision()}}}])}(),mi=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var a=i.next().getCoordinates();this.checkEndPtVertexIntersections(a[0],this._segStrings),this.checkEndPtVertexIntersections(a[a.length-1],this._segStrings)}else if(arguments.length===2){for(var l=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var b=p.next().getCoordinates(),C=1;C<b.length-1;C++)if(b[C].equals(l))throw new De("found endpt/interior pt intersection at index "+C+" :pt "+l)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();)for(var a=i.next(),l=this._segStrings.iterator();l.hasNext();){var p=l.next();this.checkInteriorIntersections(a,p)}else if(arguments.length===2)for(var b=arguments[0],C=arguments[1],M=b.getCoordinates(),$=C.getCoordinates(),J=0;J<M.length-1;J++)for(var ue=0;ue<$.length-1;ue++)this.checkInteriorIntersections(b,J,C,ue);else if(arguments.length===4){var fe=arguments[0],Ce=arguments[1],Ue=arguments[2],Ze=arguments[3];if(fe===Ue&&Ce===Ze)return null;var Je=fe.getCoordinates()[Ce],vt=fe.getCoordinates()[Ce+1],ct=Ue.getCoordinates()[Ze],Ot=Ue.getCoordinates()[Ze+1];if(this._li.computeIntersection(Je,vt,ct,Ot),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Je,vt)||this.hasInteriorIntersection(this._li,ct,Ot)))throw new De("found non-noded intersection at "+Je+"-"+vt+" and "+ct+"-"+Ot)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var a=i.next();this.checkCollapses(a)}else if(arguments.length===1)for(var l=arguments[0].getCoordinates(),p=0;p<l.length-2;p++)this.checkCollapse(l[p],l[p+1],l[p+2])}},{key:"hasInteriorIntersection",value:function(i,a,l){for(var p=0;p<i.getIntersectionNum();p++){var b=i.getIntersection(p);if(!b.equals(a)&&!b.equals(l))return!0}return!1}},{key:"checkCollapse",value:function(i,a,l){if(i.equals(l))throw new De("found non-noded collapse at "+c.fact.createLineString([i,a,l]))}}],[{key:"constructor_",value:function(){this._li=new Pi,this._segStrings=null;var i=arguments[0];this._segStrings=i}}])}();mi.fact=new ci;var Vo=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"intersectsScaled",value:function(i,a){var l=Math.min(i.x,a.x),p=Math.max(i.x,a.x),b=Math.min(i.y,a.y),C=Math.max(i.y,a.y),M=this._maxx<l||this._minx>p||this._maxy<b||this._miny>C;if(M)return!1;var $=this.intersectsToleranceSquare(i,a);return Pe.isTrue(!(M&&$),"Found bad envelope test"),$}},{key:"initCorners",value:function(i){var a=.5;this._minx=i.x-a,this._maxx=i.x+a,this._miny=i.y-a,this._maxy=i.y+a,this._corner[0]=new K(this._maxx,this._maxy),this._corner[1]=new K(this._minx,this._maxy),this._corner[2]=new K(this._minx,this._miny),this._corner[3]=new K(this._maxx,this._miny)}},{key:"intersects",value:function(i,a){return this._scaleFactor===1?this.intersectsScaled(i,a):(this.copyScaled(i,this._p0Scaled),this.copyScaled(a,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(i){return Math.round(i*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(i,a){a.x=this.scale(i.x),a.y=this.scale(i.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var i=c.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ne(this._originalPt.x-i,this._originalPt.x+i,this._originalPt.y-i,this._originalPt.y+i)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(i,a){return this._li.computeIntersection(i,a,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(i,a,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(i,a,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(i,a,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(i,a){var l=!1,p=!1;return this._li.computeIntersection(i,a,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(i,a,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(l=!0),this._li.computeIntersection(i,a,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(i,a,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!l||!p)||!!i.equals(this._pt)||!!a.equals(this._pt))))}},{key:"addSnappedNode",value:function(i,a){var l=i.getCoordinate(a),p=i.getCoordinate(a+1);return!!this.intersects(l,p)&&(i.addIntersection(this.getCoordinate(),a),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var i=arguments[0],a=arguments[1],l=arguments[2];if(this._originalPt=i,this._pt=i,this._scaleFactor=a,this._li=l,a<=0)throw new x("Scale factor must be non-zero");a!==1&&(this._pt=new K(this.scale(i.x),this.scale(i.y)),this._p0Scaled=new K,this._p1Scaled=new K),this.initCorners(this._pt)}}])}();Vo.SAFE_ENV_EXPANSION_FACTOR=.75;var ts=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var c=arguments[1];arguments[0].getLineSegment(c,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Mn}}])}(),ol=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var c=arguments[0];return this.snap(c,null,-1)}if(arguments.length===3){var i=arguments[0],a=arguments[1],l=arguments[2],p=i.getSafeEnvelope(),b=new gi(i,a,l);return this._index.query(p,new(function(){return h(function C(){n(this,C)},[{key:"interfaces_",get:function(){return[Ku]}},{key:"visitItem",value:function(C){C.select(p,b)}}])}())),b.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var c=arguments[0];this._index=c}}])}(),gi=function(c){function i(){var a;return n(this,i),a=r(this,i),i.constructor_.apply(a,arguments),a}return w(i,c),h(i,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Ro))return O(i,"select",this,1).apply(this,arguments);var a=arguments[1],l=arguments[0].getContext();if(this._parentEdge===l&&(a===this._hotPixelVertexIndex||a+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(l,a)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var a=arguments[0],l=arguments[1],p=arguments[2];this._hotPixel=a,this._parentEdge=l,this._hotPixelVertexIndex=p}}])}(ts);ol.HotPixelSnapAction=gi;var Oa=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(c,i,a,l){if(c===a&&i===l)return null;var p=c.getCoordinates()[i],b=c.getCoordinates()[i+1],C=a.getCoordinates()[l],M=a.getCoordinates()[l+1];if(this._li.computeIntersection(p,b,C,M),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var $=0;$<this._li.getIntersectionNum();$++)this._interiorIntersections.add(this._li.getIntersection($));c.addIntersections(this._li,i,0),a.addIntersections(this._li,l,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[rl]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var c=arguments[0];this._li=c,this._interiorIntersections=new We}}])}(),ul=function(){return h(function c(){n(this,c),c.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(c){var i=Ii.getNodedSubstrings(c),a=new mi(i);try{a.checkValid()}catch(l){if(!(l instanceof _))throw l;l.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Ii.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(c,i){var a=this.findInteriorIntersections(c,i);this.computeIntersectionSnaps(a),this.computeVertexSnaps(c)}},{key:"findInteriorIntersections",value:function(c,i){var a=new Oa(i);return this._noder.setSegmentIntersector(a),this._noder.computeNodes(c),a.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(re(arguments[0],Q))for(var c=arguments[0].iterator();c.hasNext();){var i=c.next();this.computeVertexSnaps(i)}else if(arguments[0]instanceof Ii)for(var a=arguments[0],l=a.getCoordinates(),p=0;p<l.length;p++){var b=new Vo(l[p],this._scaleFactor,this._li);this._pointSnapper.snap(b,a,p)&&a.addIntersection(l[p],p)}}},{key:"computeNodes",value:function(c){this._nodedSegStrings=c,this._noder=new Bo,this._pointSnapper=new ol(this._noder.getIndex()),this.snapRound(c,this._li)}},{key:"computeIntersectionSnaps",value:function(c){for(var i=c.iterator();i.hasNext();){var a=i.next(),l=new Vo(a,this._scaleFactor,this._li);this._pointSnapper.snap(l)}}},{key:"interfaces_",get:function(){return[Do]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var c=arguments[0];this._pm=c,this._li=new Pi,this._li.setPrecisionModel(c),this._scaleFactor=c.getScale()}}])}(),er=function(){function c(){n(this,c),c.constructor_.apply(this,arguments)}return h(c,[{key:"bufferFixedPrecision",value:function(i){var a=new hd(new ul(new bn(1)),i.getScale()),l=new Ma(this._bufParams);l.setWorkingPrecisionModel(i),l.setNoder(a),this._resultGeometry=l.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var i=c.MAX_PRECISION_DIGITS;i>=0;i--){try{this.bufferReducedPrecision(i)}catch(b){if(!(b instanceof dn))throw b;this._saveException=b}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var a=arguments[0],l=c.precisionScaleFactor(this._argGeom,this._distance,a),p=new bn(l);this.bufferFixedPrecision(p)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var i=this._argGeom.getFactory().getPrecisionModel();i.getType()===bn.FIXED?this.bufferFixedPrecision(i):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(i){this._bufParams.setQuadrantSegments(i)}},{key:"bufferOriginalPrecision",value:function(){try{var i=new Ma(this._bufParams);this._resultGeometry=i.buffer(this._argGeom,this._distance)}catch(a){if(!(a instanceof De))throw a;this._saveException=a}}},{key:"getResultGeometry",value:function(i){return this._distance=i,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(i){this._bufParams.setEndCapStyle(i)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new H,this._resultGeometry=null,this._saveException=null,arguments.length===1){var i=arguments[0];this._argGeom=i}else if(arguments.length===2){var a=arguments[0],l=arguments[1];this._argGeom=a,this._bufParams=l}}},{key:"bufferOp",value:function(){if(arguments.length===2){var i=arguments[1];return new c(arguments[0]).getResultGeometry(i)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Me&&typeof arguments[1]=="number"){var a=arguments[1],l=arguments[2],p=new c(arguments[0]);return p.setQuadrantSegments(l),p.getResultGeometry(a)}if(arguments[2]instanceof H&&arguments[0]instanceof Me&&typeof arguments[1]=="number"){var b=arguments[1];return new c(arguments[0],arguments[2]).getResultGeometry(b)}}else if(arguments.length===4){var C=arguments[1],M=arguments[2],$=arguments[3],J=new c(arguments[0]);return J.setQuadrantSegments(M),J.setEndCapStyle($),J.getResultGeometry(C)}}},{key:"precisionScaleFactor",value:function(i,a,l){var p=i.getEnvelopeInternal(),b=qr.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(a>0?a:0),C=l-Math.trunc(Math.log(b)/Math.log(10)+1);return Math.pow(10,C)}}])}();er.CAP_ROUND=H.CAP_ROUND,er.CAP_BUTT=H.CAP_FLAT,er.CAP_FLAT=H.CAP_FLAT,er.CAP_SQUARE=H.CAP_SQUARE,er.MAX_PRECISION_DIGITS=12;var Aa=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ra=function(){return h(function c(i){n(this,c),this.geometryFactory=i||new ci},[{key:"read",value:function(c){var i,a=(i=typeof c=="string"?JSON.parse(c):c).type;if(!wn[a])throw new Error("Unknown GeoJSON type: "+i.type);return Aa.indexOf(a)!==-1?wn[a].call(this,i.coordinates):a==="GeometryCollection"?wn[a].call(this,i.geometries):wn[a].call(this,i)}},{key:"write",value:function(c){var i=c.getGeometryType();if(!kn[i])throw new Error("Geometry is not supported");return kn[i].call(this,c)}}])}(),wn={Feature:function(c){var i={};for(var a in c)i[a]=c[a];if(c.geometry){var l=c.geometry.type;if(!wn[l])throw new Error("Unknown GeoJSON type: "+c.type);i.geometry=this.read(c.geometry)}return c.bbox&&(i.bbox=wn.bbox.call(this,c.bbox)),i},FeatureCollection:function(c){var i={};if(c.features){i.features=[];for(var a=0;a<c.features.length;++a)i.features.push(this.read(c.features[a]))}return c.bbox&&(i.bbox=this.parse.bbox.call(this,c.bbox)),i},coordinates:function(c){for(var i=[],a=0;a<c.length;++a){var l=c[a];i.push(u(K,F(l)))}return i},bbox:function(c){return this.geometryFactory.createLinearRing([new K(c[0],c[1]),new K(c[2],c[1]),new K(c[2],c[3]),new K(c[0],c[3]),new K(c[0],c[1])])},Point:function(c){var i=u(K,F(c));return this.geometryFactory.createPoint(i)},MultiPoint:function(c){for(var i=[],a=0;a<c.length;++a)i.push(wn.Point.call(this,c[a]));return this.geometryFactory.createMultiPoint(i)},LineString:function(c){var i=wn.coordinates.call(this,c);return this.geometryFactory.createLineString(i)},MultiLineString:function(c){for(var i=[],a=0;a<c.length;++a)i.push(wn.LineString.call(this,c[a]));return this.geometryFactory.createMultiLineString(i)},Polygon:function(c){for(var i=wn.coordinates.call(this,c[0]),a=this.geometryFactory.createLinearRing(i),l=[],p=1;p<c.length;++p){var b=c[p],C=wn.coordinates.call(this,b),M=this.geometryFactory.createLinearRing(C);l.push(M)}return this.geometryFactory.createPolygon(a,l)},MultiPolygon:function(c){for(var i=[],a=0;a<c.length;++a){var l=c[a];i.push(wn.Polygon.call(this,l))}return this.geometryFactory.createMultiPolygon(i)},GeometryCollection:function(c){for(var i=[],a=0;a<c.length;++a){var l=c[a];i.push(this.read(l))}return this.geometryFactory.createGeometryCollection(i)}},kn={coordinate:function(c){var i=[c.x,c.y];return c.z&&i.push(c.z),c.m&&i.push(c.m),i},Point:function(c){return{type:"Point",coordinates:kn.coordinate.call(this,c.getCoordinate())}},MultiPoint:function(c){for(var i=[],a=0;a<c._geometries.length;++a){var l=c._geometries[a],p=kn.Point.call(this,l);i.push(p.coordinates)}return{type:"MultiPoint",coordinates:i}},LineString:function(c){for(var i=[],a=c.getCoordinates(),l=0;l<a.length;++l){var p=a[l];i.push(kn.coordinate.call(this,p))}return{type:"LineString",coordinates:i}},MultiLineString:function(c){for(var i=[],a=0;a<c._geometries.length;++a){var l=c._geometries[a],p=kn.LineString.call(this,l);i.push(p.coordinates)}return{type:"MultiLineString",coordinates:i}},Polygon:function(c){var i=[],a=kn.LineString.call(this,c._shell);i.push(a.coordinates);for(var l=0;l<c._holes.length;++l){var p=c._holes[l],b=kn.LineString.call(this,p);i.push(b.coordinates)}return{type:"Polygon",coordinates:i}},MultiPolygon:function(c){for(var i=[],a=0;a<c._geometries.length;++a){var l=c._geometries[a],p=kn.Polygon.call(this,l);i.push(p.coordinates)}return{type:"MultiPolygon",coordinates:i}},GeometryCollection:function(c){for(var i=[],a=0;a<c._geometries.length;++a){var l=c._geometries[a],p=l.getGeometryType();i.push(kn[p].call(this,l))}return{type:"GeometryCollection",geometries:i}}};return{BufferOp:er,GeoJSONReader:function(){return h(function c(i){n(this,c),this.parser=new Ra(i||new ci)},[{key:"read",value:function(c){return this.parser.read(c)}}])}(),GeoJSONWriter:function(){return h(function c(){n(this,c),this.parser=new Ra(this.geometryFactory)},[{key:"write",value:function(c){return this.parser.write(c)}}])}()}})}(Bl)),Bl.exports}var VT=HT();const jT=Eh(VT);function Cs(){return new fc}function fc(){this.reset()}fc.prototype={constructor:fc,reset:function(){this.s=this.t=0},add:function(e){Um(xl,e,this.t),Um(this,xl.s,this.s),this.s?this.t+=xl.t:this.s=xl.t},valueOf:function(){return this.s}};var xl=new fc;function Um(e,t,s){var r=e.s=t+s,n=r-t,u=r-n;e.t=t-u+(s-n)}var zt=1e-6,Et=Math.PI,lr=Et/2,Gm=Et/4,mr=Et*2,ss=180/Et,bi=Et/180,vn=Math.abs,qT=Math.atan,oo=Math.atan2,Wt=Math.cos,Zt=Math.sin,_o=Math.sqrt;function Ny(e){return e>1?0:e<-1?Et:Math.acos(e)}function ca(e){return e>1?lr:e<-1?-lr:Math.asin(e)}function ru(){}function hc(e,t){e&&Vm.hasOwnProperty(e.type)&&Vm[e.type](e,t)}var Hm={Feature:function(e,t){hc(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,r=-1,n=s.length;++r<n;)hc(s[r].geometry,t)}},Vm={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,r=-1,n=s.length;++r<n;)e=s[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){bf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,r=-1,n=s.length;++r<n;)bf(s[r],t,0)},Polygon:function(e,t){jm(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,r=-1,n=s.length;++r<n;)jm(s[r],t)},GeometryCollection:function(e,t){for(var s=e.geometries,r=-1,n=s.length;++r<n;)hc(s[r],t)}};function bf(e,t,s){var r=-1,n=e.length-s,u;for(t.lineStart();++r<n;)u=e[r],t.point(u[0],u[1],u[2]);t.lineEnd()}function jm(e,t){var s=-1,r=e.length;for(t.polygonStart();++s<r;)bf(e[s],t,1);t.polygonEnd()}function WT(e,t){e&&Hm.hasOwnProperty(e.type)?Hm[e.type](e,t):hc(e,t)}Cs();Cs();function wf(e){return[oo(e[1],e[0]),ca(e[2])]}function uo(e){var t=e[0],s=e[1],r=Wt(s);return[r*Wt(t),r*Zt(t),Zt(s)]}function Tl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Bd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Sl(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function kf(e){var t=_o(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Cs();function My(e,t){function s(r,n){return r=e(r,n),t(r[0],r[1])}return e.invert&&t.invert&&(s.invert=function(r,n){return r=t.invert(r,n),r&&e.invert(r[0],r[1])}),s}function Lf(e,t){return[e>Et?e-mr:e<-Et?e+mr:e,t]}Lf.invert=Lf;function ZT(e,t,s){return(e%=mr)?t||s?My(Wm(e),Zm(t,s)):Wm(e):t||s?Zm(t,s):Lf}function qm(e){return function(t,s){return t+=e,[t>Et?t-mr:t<-Et?t+mr:t,s]}}function Wm(e){var t=qm(e);return t.invert=qm(-e),t}function Zm(e,t){var s=Wt(e),r=Zt(e),n=Wt(t),u=Zt(t);function d(h,m){var y=Wt(m),v=Wt(h)*y,w=Zt(h)*y,T=Zt(m),P=T*s+v*r;return[oo(w*n-P*u,v*s-T*r),ca(P*n+w*u)]}return d.invert=function(h,m){var y=Wt(m),v=Wt(h)*y,w=Zt(h)*y,T=Zt(m),P=T*n-w*u;return[oo(w*n+T*u,v*s+P*r),ca(P*s-v*r)]},d}function YT(e,t,s,r,n,u){if(s){var d=Wt(t),h=Zt(t),m=r*s;n==null?(n=t+r*mr,u=t-m/2):(n=Ym(d,n),u=Ym(d,u),(r>0?n<u:n>u)&&(n+=r*mr));for(var y,v=n;r>0?v>u:v<u;v-=m)y=wf([d,-h*Wt(v),-h*Zt(v)]),e.point(y[0],y[1])}}function Ym(e,t){t=uo(t),t[0]-=e,kf(t);var s=Ny(-t[1]);return((-t[2]<0?-s:s)+mr-zt)%mr}function Oy(){var e=[],t;return{point:function(s,r){t.push([s,r])},lineStart:function(){e.push(t=[])},lineEnd:ru,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function XT(e,t,s,r,n,u){var d=e[0],h=e[1],m=t[0],y=t[1],v=0,w=1,T=m-d,P=y-h,O;if(O=s-d,!(!T&&O>0)){if(O/=T,T<0){if(O<v)return;O<w&&(w=O)}else if(T>0){if(O>w)return;O>v&&(v=O)}if(O=n-d,!(!T&&O<0)){if(O/=T,T<0){if(O>w)return;O>v&&(v=O)}else if(T>0){if(O<v)return;O<w&&(w=O)}if(O=r-h,!(!P&&O>0)){if(O/=P,P<0){if(O<v)return;O<w&&(w=O)}else if(P>0){if(O>w)return;O>v&&(v=O)}if(O=u-h,!(!P&&O<0)){if(O/=P,P<0){if(O>w)return;O>v&&(v=O)}else if(P>0){if(O<v)return;O<w&&(w=O)}return v>0&&(e[0]=d+v*T,e[1]=h+v*P),w<1&&(t[0]=d+w*T,t[1]=h+w*P),!0}}}}}function Fl(e,t){return vn(e[0]-t[0])<zt&&vn(e[1]-t[1])<zt}function Cl(e,t,s,r){this.x=e,this.z=t,this.o=s,this.e=r,this.v=!1,this.n=this.p=null}function Ay(e,t,s,r,n){var u=[],d=[],h,m;if(e.forEach(function(O){if(!((F=O.length-1)<=0)){var F,j=O[0],A=O[F],U;if(Fl(j,A)){for(n.lineStart(),h=0;h<F;++h)n.point((j=O[h])[0],j[1]);n.lineEnd();return}u.push(U=new Cl(j,O,null,!0)),d.push(U.o=new Cl(j,null,U,!1)),u.push(U=new Cl(A,O,null,!1)),d.push(U.o=new Cl(A,null,U,!0))}}),!!u.length){for(d.sort(t),Xm(u),Xm(d),h=0,m=d.length;h<m;++h)d[h].e=s=!s;for(var y=u[0],v,w;;){for(var T=y,P=!0;T.v;)if((T=T.n)===y)return;v=T.z,n.lineStart();do{if(T.v=T.o.v=!0,T.e){if(P)for(h=0,m=v.length;h<m;++h)n.point((w=v[h])[0],w[1]);else r(T.x,T.n.x,1,n);T=T.n}else{if(P)for(v=T.p.z,h=v.length-1;h>=0;--h)n.point((w=v[h])[0],w[1]);else r(T.x,T.p.x,-1,n);T=T.p}T=T.o,v=T.z,P=!P}while(!T.v);n.lineEnd()}}}function Xm(e){if(t=e.length){for(var t,s=0,r=e[0],n;++s<t;)r.n=n=e[s],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Ry(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function KT(e){return e.length===1&&(e=JT(e)),{left:function(t,s,r,n){for(r==null&&(r=0),n==null&&(n=t.length);r<n;){var u=r+n>>>1;e(t[u],s)<0?r=u+1:n=u}return r},right:function(t,s,r,n){for(r==null&&(r=0),n==null&&(n=t.length);r<n;){var u=r+n>>>1;e(t[u],s)>0?n=u:r=u+1}return r}}}function JT(e){return function(t,s){return Ry(e(t),s)}}KT(Ry);function Dy(e){for(var t=e.length,s,r=-1,n=0,u,d;++r<t;)n+=e[r].length;for(u=new Array(n);--t>=0;)for(d=e[t],s=d.length;--s>=0;)u[--n]=d[s];return u}var su=1e9,Pl=-su;function QT(e,t,s,r){function n(y,v){return e<=y&&y<=s&&t<=v&&v<=r}function u(y,v,w,T){var P=0,O=0;if(y==null||(P=d(y,w))!==(O=d(v,w))||m(y,v)<0^w>0)do T.point(P===0||P===3?e:s,P>1?r:t);while((P=(P+w+4)%4)!==O);else T.point(v[0],v[1])}function d(y,v){return vn(y[0]-e)<zt?v>0?0:3:vn(y[0]-s)<zt?v>0?2:1:vn(y[1]-t)<zt?v>0?1:0:v>0?3:2}function h(y,v){return m(y.x,v.x)}function m(y,v){var w=d(y,1),T=d(v,1);return w!==T?w-T:w===0?v[1]-y[1]:w===1?y[0]-v[0]:w===2?y[1]-v[1]:v[0]-y[0]}return function(y){var v=y,w=Oy(),T,P,O,F,j,A,U,H,_,x,k,S={point:B,lineStart:ee,lineEnd:q,polygonStart:R,polygonEnd:X};function B(ne,V){n(ne,V)&&v.point(ne,V)}function D(){for(var ne=0,V=0,te=P.length;V<te;++V)for(var ae=P[V],ve=1,ce=ae.length,ke=ae[0],De,Ae,Pe=ke[0],Ee=ke[1];ve<ce;++ve)De=Pe,Ae=Ee,ke=ae[ve],Pe=ke[0],Ee=ke[1],Ae<=r?Ee>r&&(Pe-De)*(r-Ae)>(Ee-Ae)*(e-De)&&++ne:Ee<=r&&(Pe-De)*(r-Ae)<(Ee-Ae)*(e-De)&&--ne;return ne}function R(){v=w,T=[],P=[],k=!0}function X(){var ne=D(),V=k&&ne,te=(T=Dy(T)).length;(V||te)&&(y.polygonStart(),V&&(y.lineStart(),u(null,null,1,y),y.lineEnd()),te&&Ay(T,h,ne,u,y),y.polygonEnd()),v=y,T=P=O=null}function ee(){S.point=Z,P&&P.push(O=[]),x=!0,_=!1,U=H=NaN}function q(){T&&(Z(F,j),A&&_&&w.rejoin(),T.push(w.result())),S.point=B,_&&v.lineEnd()}function Z(ne,V){var te=n(ne,V);if(P&&O.push([ne,V]),x)F=ne,j=V,A=te,x=!1,te&&(v.lineStart(),v.point(ne,V));else if(te&&_)v.point(ne,V);else{var ae=[U=Math.max(Pl,Math.min(su,U)),H=Math.max(Pl,Math.min(su,H))],ve=[ne=Math.max(Pl,Math.min(su,ne)),V=Math.max(Pl,Math.min(su,V))];XT(ae,ve,e,t,s,r)?(_||(v.lineStart(),v.point(ae[0],ae[1])),v.point(ve[0],ve[1]),te||v.lineEnd(),k=!1):te&&(v.lineStart(),v.point(ne,V),k=!1)}U=ne,H=V,_=te}return S}}var Fd=Cs();function eS(e,t){var s=t[0],r=t[1],n=[Zt(s),-Wt(s),0],u=0,d=0;Fd.reset();for(var h=0,m=e.length;h<m;++h)if(v=(y=e[h]).length)for(var y,v,w=y[v-1],T=w[0],P=w[1]/2+Gm,O=Zt(P),F=Wt(P),j=0;j<v;++j,T=U,O=_,F=x,w=A){var A=y[j],U=A[0],H=A[1]/2+Gm,_=Zt(H),x=Wt(H),k=U-T,S=k>=0?1:-1,B=S*k,D=B>Et,R=O*_;if(Fd.add(oo(R*S*Zt(B),F*x+R*Wt(B))),u+=D?k+S*mr:k,D^T>=s^U>=s){var X=pc(uo(w),uo(A));kf(X);var ee=pc(n,X);kf(ee);var q=(D^k>=0?-1:1)*ca(ee[2]);(r>q||r===q&&(X[0]||X[1]))&&(d+=D^k>=0?1:-1)}}return(u<-zt||u<zt&&Fd<-zt)^d&1}Cs();function Km(e){return e}Cs();Cs();var lo=1/0,mc=lo,Au=-lo,gc=Au,Jm={point:tS,lineStart:ru,lineEnd:ru,polygonStart:ru,polygonEnd:ru,result:function(){var e=[[lo,mc],[Au,gc]];return Au=gc=-(mc=lo=1/0),e}};function tS(e,t){e<lo&&(lo=e),e>Au&&(Au=e),t<mc&&(mc=t),t>gc&&(gc=t)}Cs();function By(e,t,s,r){return function(n,u){var d=t(u),h=n.invert(r[0],r[1]),m=Oy(),y=t(m),v=!1,w,T,P,O={point:F,lineStart:A,lineEnd:U,polygonStart:function(){O.point=H,O.lineStart=_,O.lineEnd=x,T=[],w=[]},polygonEnd:function(){O.point=F,O.lineStart=A,O.lineEnd=U,T=Dy(T);var k=eS(w,h);T.length?(v||(u.polygonStart(),v=!0),Ay(T,iS,k,s,u)):k&&(v||(u.polygonStart(),v=!0),u.lineStart(),s(null,null,1,u),u.lineEnd()),v&&(u.polygonEnd(),v=!1),T=w=null},sphere:function(){u.polygonStart(),u.lineStart(),s(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function F(k,S){var B=n(k,S);e(k=B[0],S=B[1])&&u.point(k,S)}function j(k,S){var B=n(k,S);d.point(B[0],B[1])}function A(){O.point=j,d.lineStart()}function U(){O.point=F,d.lineEnd()}function H(k,S){P.push([k,S]);var B=n(k,S);y.point(B[0],B[1])}function _(){y.lineStart(),P=[]}function x(){H(P[0][0],P[0][1]),y.lineEnd();var k=y.clean(),S=m.result(),B,D=S.length,R,X,ee;if(P.pop(),w.push(P),P=null,!!D){if(k&1){if(X=S[0],(R=X.length-1)>0){for(v||(u.polygonStart(),v=!0),u.lineStart(),B=0;B<R;++B)u.point((ee=X[B])[0],ee[1]);u.lineEnd()}return}D>1&&k&2&&S.push(S.pop().concat(S.shift())),T.push(S.filter(nS))}}return O}}function nS(e){return e.length>1}function iS(e,t){return((e=e.x)[0]<0?e[1]-lr-zt:lr-e[1])-((t=t.x)[0]<0?t[1]-lr-zt:lr-t[1])}const Qm=By(function(){return!0},rS,aS,[-Et,-lr]);function rS(e){var t=NaN,s=NaN,r=NaN,n;return{lineStart:function(){e.lineStart(),n=1},point:function(u,d){var h=u>0?Et:-Et,m=vn(u-t);vn(m-Et)<zt?(e.point(t,s=(s+d)/2>0?lr:-lr),e.point(r,s),e.lineEnd(),e.lineStart(),e.point(h,s),e.point(u,s),n=0):r!==h&&m>=Et&&(vn(t-r)<zt&&(t-=r*zt),vn(u-h)<zt&&(u-=h*zt),s=sS(t,s,u,d),e.point(r,s),e.lineEnd(),e.lineStart(),e.point(h,s),n=0),e.point(t=u,s=d),r=h},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-n}}}function sS(e,t,s,r){var n,u,d=Zt(e-s);return vn(d)>zt?qT((Zt(t)*(u=Wt(r))*Zt(s)-Zt(r)*(n=Wt(t))*Zt(e))/(n*u*d)):(t+r)/2}function aS(e,t,s,r){var n;if(e==null)n=s*lr,r.point(-Et,n),r.point(0,n),r.point(Et,n),r.point(Et,0),r.point(Et,-n),r.point(0,-n),r.point(-Et,-n),r.point(-Et,0),r.point(-Et,n);else if(vn(e[0]-t[0])>zt){var u=e[0]<t[0]?Et:-Et;n=s*u/2,r.point(-u,n),r.point(0,n),r.point(u,n)}else r.point(t[0],t[1])}function oS(e,t){var s=Wt(e),r=s>0,n=vn(s)>zt;function u(v,w,T,P){YT(P,e,t,T,v,w)}function d(v,w){return Wt(v)*Wt(w)>s}function h(v){var w,T,P,O,F;return{lineStart:function(){O=P=!1,F=1},point:function(j,A){var U=[j,A],H,_=d(j,A),x=r?_?0:y(j,A):_?y(j+(j<0?Et:-Et),A):0;if(!w&&(O=P=_)&&v.lineStart(),_!==P&&(H=m(w,U),(!H||Fl(w,H)||Fl(U,H))&&(U[0]+=zt,U[1]+=zt,_=d(U[0],U[1]))),_!==P)F=0,_?(v.lineStart(),H=m(U,w),v.point(H[0],H[1])):(H=m(w,U),v.point(H[0],H[1]),v.lineEnd()),w=H;else if(n&&w&&r^_){var k;!(x&T)&&(k=m(U,w,!0))&&(F=0,r?(v.lineStart(),v.point(k[0][0],k[0][1]),v.point(k[1][0],k[1][1]),v.lineEnd()):(v.point(k[1][0],k[1][1]),v.lineEnd(),v.lineStart(),v.point(k[0][0],k[0][1])))}_&&(!w||!Fl(w,U))&&v.point(U[0],U[1]),w=U,P=_,T=x},lineEnd:function(){P&&v.lineEnd(),w=null},clean:function(){return F|(O&&P)<<1}}}function m(v,w,T){var P=uo(v),O=uo(w),F=[1,0,0],j=pc(P,O),A=Tl(j,j),U=j[0],H=A-U*U;if(!H)return!T&&v;var _=s*A/H,x=-s*U/H,k=pc(F,j),S=Sl(F,_),B=Sl(j,x);Bd(S,B);var D=k,R=Tl(S,D),X=Tl(D,D),ee=R*R-X*(Tl(S,S)-1);if(!(ee<0)){var q=_o(ee),Z=Sl(D,(-R-q)/X);if(Bd(Z,S),Z=wf(Z),!T)return Z;var ne=v[0],V=w[0],te=v[1],ae=w[1],ve;V<ne&&(ve=ne,ne=V,V=ve);var ce=V-ne,ke=vn(ce-Et)<zt,De=ke||ce<zt;if(!ke&&ae<te&&(ve=te,te=ae,ae=ve),De?ke?te+ae>0^Z[1]<(vn(Z[0]-ne)<zt?te:ae):te<=Z[1]&&Z[1]<=ae:ce>Et^(ne<=Z[0]&&Z[0]<=V)){var Ae=Sl(D,(-R+q)/X);return Bd(Ae,S),[Z,wf(Ae)]}}}function y(v,w){var T=r?e:Et-e,P=0;return v<-T?P|=1:v>T&&(P|=2),w<-T?P|=4:w>T&&(P|=8),P}return By(d,h,u,r?[0,-e]:[-Et,e-Et])}function Fy(e){return function(t){var s=new Ef;for(var r in e)s[r]=e[r];return s.stream=t,s}}function Ef(){}Ef.prototype={constructor:Ef,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zy(e,t,s){var r=t[1][0]-t[0][0],n=t[1][1]-t[0][1],u=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),u!=null&&e.clipExtent(null),WT(s,e.stream(Jm));var d=Jm.result(),h=Math.min(r/(d[1][0]-d[0][0]),n/(d[1][1]-d[0][1])),m=+t[0][0]+(r-h*(d[1][0]+d[0][0]))/2,y=+t[0][1]+(n-h*(d[1][1]+d[0][1]))/2;return u!=null&&e.clipExtent(u),e.scale(h*150).translate([m,y])}function uS(e,t,s){return zy(e,[[0,0],t],s)}var eg=16,lS=Wt(30*bi);function tg(e,t){return+t?dS(e,t):cS(e)}function cS(e){return Fy({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function dS(e,t){function s(r,n,u,d,h,m,y,v,w,T,P,O,F,j){var A=y-r,U=v-n,H=A*A+U*U;if(H>4*t&&F--){var _=d+T,x=h+P,k=m+O,S=_o(_*_+x*x+k*k),B=ca(k/=S),D=vn(vn(k)-1)<zt||vn(u-w)<zt?(u+w)/2:oo(x,_),R=e(D,B),X=R[0],ee=R[1],q=X-r,Z=ee-n,ne=U*q-A*Z;(ne*ne/H>t||vn((A*q+U*Z)/H-.5)>.3||d*T+h*P+m*O<lS)&&(s(r,n,u,d,h,m,X,ee,D,_/=S,x/=S,k,F,j),j.point(X,ee),s(X,ee,D,_,x,k,y,v,w,T,P,O,F,j))}}return function(r){var n,u,d,h,m,y,v,w,T,P,O,F,j={point:A,lineStart:U,lineEnd:_,polygonStart:function(){r.polygonStart(),j.lineStart=x},polygonEnd:function(){r.polygonEnd(),j.lineStart=U}};function A(B,D){B=e(B,D),r.point(B[0],B[1])}function U(){w=NaN,j.point=H,r.lineStart()}function H(B,D){var R=uo([B,D]),X=e(B,D);s(w,T,v,P,O,F,w=X[0],T=X[1],v=B,P=R[0],O=R[1],F=R[2],eg,r),r.point(w,T)}function _(){j.point=A,r.lineEnd()}function x(){U(),j.point=k,j.lineEnd=S}function k(B,D){H(n=B,D),u=w,d=T,h=P,m=O,y=F,j.point=H}function S(){s(w,T,v,P,O,F,u,d,n,h,m,y,eg,r),j.lineEnd=_,_()}return j}}var fS=Fy({point:function(e,t){this.stream.point(e*bi,t*bi)}});function hS(e){return pS(function(){return e})()}function pS(e){var t,s=150,r=480,n=250,u,d,h=0,m=0,y=0,v=0,w=0,T,P,O=null,F=Qm,j=null,A,U,H,_=Km,x=.5,k=tg(X,x),S,B;function D(Z){return Z=P(Z[0]*bi,Z[1]*bi),[Z[0]*s+u,d-Z[1]*s]}function R(Z){return Z=P.invert((Z[0]-u)/s,(d-Z[1])/s),Z&&[Z[0]*ss,Z[1]*ss]}function X(Z,ne){return Z=t(Z,ne),[Z[0]*s+u,d-Z[1]*s]}D.stream=function(Z){return S&&B===Z?S:S=fS(F(T,k(_(B=Z))))},D.clipAngle=function(Z){return arguments.length?(F=+Z?oS(O=Z*bi,6*bi):(O=null,Qm),q()):O*ss},D.clipExtent=function(Z){return arguments.length?(_=Z==null?(j=A=U=H=null,Km):QT(j=+Z[0][0],A=+Z[0][1],U=+Z[1][0],H=+Z[1][1]),q()):j==null?null:[[j,A],[U,H]]},D.scale=function(Z){return arguments.length?(s=+Z,ee()):s},D.translate=function(Z){return arguments.length?(r=+Z[0],n=+Z[1],ee()):[r,n]},D.center=function(Z){return arguments.length?(h=Z[0]%360*bi,m=Z[1]%360*bi,ee()):[h*ss,m*ss]},D.rotate=function(Z){return arguments.length?(y=Z[0]%360*bi,v=Z[1]%360*bi,w=Z.length>2?Z[2]%360*bi:0,ee()):[y*ss,v*ss,w*ss]},D.precision=function(Z){return arguments.length?(k=tg(X,x=Z*Z),q()):_o(x)},D.fitExtent=function(Z,ne){return zy(D,Z,ne)},D.fitSize=function(Z,ne){return uS(D,Z,ne)};function ee(){P=My(T=ZT(y,v,w),t);var Z=t(h,m);return u=r-Z[0]*s,d=n+Z[1]*s,q()}function q(){return S=B=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&R,ee()}}function $y(e){return function(t,s){var r=Wt(t),n=Wt(s),u=e(r*n);return[u*n*Zt(t),u*Zt(s)]}}function Uy(e){return function(t,s){var r=_o(t*t+s*s),n=e(r),u=Zt(n),d=Wt(n);return[oo(t*u,r*d),ca(r&&s*u/r)]}}var mS=$y(function(e){return _o(2/(1+e))});mS.invert=Uy(function(e){return 2*ca(e/2)});var Gy=$y(function(e){return(e=Ny(e))&&e/Zt(e)});Gy.invert=Uy(function(e){return e});function gS(){return hS(Gy).scale(79.4188).clipAngle(180-.001)}function ng(e,t){return[e,t]}ng.invert=ng;var{BufferOp:_S,GeoJSONReader:vS,GeoJSONWriter:yS}=jT;function xf(e,t,s){s=s||{};var r=s.units||"kilometers",n=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof n!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(n<=0)throw new Error("steps must be greater than 0");var u=[];switch(e.type){case"GeometryCollection":return Hu(e,function(d){var h=zl(d,t,r,n);h&&u.push(h)}),cc(u);case"FeatureCollection":return dc(e,function(d){var h=zl(d,t,r,n);h&&dc(h,function(m){m&&u.push(m)})}),cc(u)}return zl(e,t,r,n)}function zl(e,t,s,r){var n=e.properties||{},u=e.type==="Feature"?e.geometry:e;if(u.type==="GeometryCollection"){var d=[];return Hu(e,function(F){var j=zl(F,t,s,r);j&&d.push(j)}),cc(d)}var h=bS(u),m={type:u.type,coordinates:Vy(u.coordinates,h)},y=new vS,v=y.read(m),w=DT(BT(t,s),"meters"),T=_S.bufferOp(v,w,r),P=new yS;if(T=P.write(T),!Hy(T.coordinates)){var O={type:T.type,coordinates:jy(T.coordinates,h)};return xh(O,n)}}function Hy(e){return Array.isArray(e[0])?Hy(e[0]):isNaN(e[0])}function Vy(e,t){return typeof e[0]!="object"?t(e):e.map(function(s){return Vy(s,t)})}function jy(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(s){return jy(s,t)})}function bS(e){var t=UT(e).geometry.coordinates,s=[-t[0],-t[1]];return gS().rotate(s).scale(Yn)}function qy(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Wy(e);case"FeatureCollection":return wS(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Th(e);default:throw new Error("unknown GeoJSON type")}}function Wy(e){const t={type:"Feature"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"properties":case"geometry":return;default:t[s]=e[s]}}),t.properties=Zy(e.properties),e.geometry==null?t.geometry=null:t.geometry=Th(e.geometry),t}function Zy(e){const t={};return e&&Object.keys(e).forEach(s=>{const r=e[s];typeof r=="object"?r===null?t[s]=null:Array.isArray(r)?t[s]=r.map(n=>n):t[s]=Zy(r):t[s]=r}),t}function wS(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(s=>{switch(s){case"type":case"features":return;default:t[s]=e[s]}}),t.features=e.features.map(s=>Wy(s)),t}function Th(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(s=>Th(s)),t):(t.coordinates=Yy(e.coordinates),t)}function Yy(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(s=>Yy(s))}function Xy(e,t={}){var s,r;if(t=t||{},!Py(t))throw new Error("options is invalid");const n=(s=t.mutate)!=null?s:!1,u=(r=t.reverse)!=null?r:!1;if(!e)throw new Error("<geojson> is required");if(typeof u!="boolean")throw new Error("<reverse> must be a boolean");if(typeof n!="boolean")throw new Error("<mutate> must be a boolean");!n&&e.type!=="Point"&&e.type!=="MultiPoint"&&(e=qy(e));const d=[];switch(e.type){case"GeometryCollection":return Hu(e,function(h){$l(h,u)}),e;case"FeatureCollection":return dc(e,function(h){const m=$l(h,u);dc(m,function(y){d.push(y)})}),cc(d)}return $l(e,u)}function $l(e,t){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return Hu(e,function(r){$l(r,t)}),e;case"LineString":return ig(Fr(e),t),e;case"Polygon":return rg(Fr(e),t),e;case"MultiLineString":return Fr(e).forEach(function(r){ig(r,t)}),e;case"MultiPolygon":return Fr(e).forEach(function(r){rg(r,t)}),e;case"Point":case"MultiPoint":return e}}function ig(e,t){Ou(e)===t&&e.reverse()}function rg(e,t){Ou(e[0])!==t&&e[0].reverse();for(let s=1;s<e.length;s++)Ou(e[s])===t&&e[s].reverse()}function kS(e,t){var s=e[0]-t[0],r=e[1]-t[1];return s*s+r*r}function LS(e,t,s){var r=t[0],n=t[1],u=s[0]-r,d=s[1]-n;if(u!==0||d!==0){var h=((e[0]-r)*u+(e[1]-n)*d)/(u*u+d*d);h>1?(r=s[0],n=s[1]):h>0&&(r+=u*h,n+=d*h)}return u=e[0]-r,d=e[1]-n,u*u+d*d}function ES(e,t){for(var s=e[0],r=[s],n,u=1,d=e.length;u<d;u++)n=e[u],kS(n,s)>t&&(r.push(n),s=n);return s!==n&&r.push(n),r}function Tf(e,t,s,r,n){for(var u=r,d,h=t+1;h<s;h++){var m=LS(e[h],e[t],e[s]);m>u&&(d=h,u=m)}u>r&&(d-t>1&&Tf(e,t,d,r,n),n.push(e[d]),s-d>1&&Tf(e,d,s,r,n))}function xS(e,t){var s=e.length-1,r=[e[0]];return Tf(e,0,s,t,r),r.push(e[s]),r}function _c(e,t,s){if(e.length<=2)return e;var r=t!==void 0?t*t:1;return e=s?e:ES(e,r),e=xS(e,r),e}function TS(e,t={}){var s,r,n;if(t=t??{},!Py(t))throw new Error("options is invalid");const u=(s=t.tolerance)!=null?s:1,d=(r=t.highQuality)!=null?r:!1,h=(n=t.mutate)!=null?n:!1;if(!e)throw new Error("geojson is required");if(u&&u<0)throw new Error("invalid tolerance");return h!==!0&&(e=qy(e)),Hu(e,function(m){SS(m,u,d)}),e}function SS(e,t,s){const r=e.type;if(r==="Point"||r==="MultiPoint")return e;if($T(e,{mutate:!0}),r!=="GeometryCollection")switch(r){case"LineString":e.coordinates=_c(e.coordinates,t,s);break;case"MultiLineString":e.coordinates=e.coordinates.map(n=>_c(n,t,s));break;case"Polygon":e.coordinates=sg(e.coordinates,t,s);break;case"MultiPolygon":e.coordinates=e.coordinates.map(n=>sg(n,t,s))}return e}function sg(e,t,s){return e.map(function(r){if(r.length<4)throw new Error("invalid polygon");let n=t,u=_c(r,n,s);for(;!CS(u);)n-=n*.01,u=_c(r,n,s);return(u[u.length-1][0]!==u[0][0]||u[u.length-1][1]!==u[0][1])&&u.push(u[0]),u})}function CS(e){return e.length<3?!1:!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}function PS(e,t,s,r){let n=Ai.stringify(e);if(s=="marker"||s=="polyline"){const u=xf(e,r);n=Ai.stringify(u)}if(s=="circle"){const u=xf(e,t/1e3);n=Ai.stringify(u)}return n}function IS(e){const t=localStorage.getItem("mapState");if(t){const s=JSON.parse(t);e.setView([s.center.lat,s.center.lng],s.zoom)}else e.setView([44.5,6.05],2)}function NS(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}class MS extends Xc{constructor(t){super("GBIF",Si.gbif)}isCompatible(t){return t.referential===go.GBIF}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const r=`${s.GBIF_ENDPOINT}/species/${t}/media`;return fetch(r).then(n=>n.json()).then(n=>{let u=this.processMedia(n.results);return u.length===0?this.fetchMediaOccurence(t,s.GBIF_ENDPOINT):u})}fetchSound(t,s){if(!this.isCompatible(s))throw new Error(`The connector ${s.name} is not available for the GBIF Media Source`);const r=`${s.GBIF_ENDPOINT}/occurrence/search?limit=10&mediaType=Sound&speciesKey=${t}`;return fetch(r).then(n=>n.json()).then(n=>{if(n.results.length>0)for(let u of n.results)for(let d of u.media){const h=d.identifier.split(".").pop();if(!["png","jpg","jpeg","bmp","gif"].includes(h)){const m=(d==null?void 0:d.rightsHolder)||(d==null?void 0:d.creator);return[{url:d.identifier,typeMedia:Jn.sound,license:d.license,licenseUrl:d.license,urlSource:d==null?void 0:d.references,source:`${m} (${d.license})`,author:m}]}}return[]})}processMedia(t){return Object.values(t).filter(s=>s.hasOwnProperty("license")&&s.hasOwnProperty("rightsHolder")).map(s=>({url:s.identifier,license:s.license,source:`${s.rightsHolder} (${s.license})`,typeMedia:Jn.image,author:s.rightsHolder,urlSource:NS(s.source)?s.source:s.identifier}))}fetchMediaOccurence(t,s){const r=`${s}/occurrence/search?limit=10&mediaType=StillImage&speciesKey=${t}`;return fetch(r).then(n=>n.json()).then(n=>{const u=n.results.flatMap(d=>d.media);return this.processMedia(u)})}}function OS(e){return["jpg","png","gif","bmp","jpeg"].some(s=>e.endsWith(s))}class AS extends Xc{constructor(t){super("TaxHub",Si.taxhub),this.type=null,this.type=null}fetchTypeMedia(t){return this.type!==null?Promise.resolve(this.type):fetch(`${t.API_ENDPOINT}/taxhub/api/tmedias/types`).then(s=>s.json()).then(s=>{const r=s.find(n=>n.nom_type_media==="Photo_principale");return this.type=r?r.id_type:-1,this.type}).catch(s=>(console.error("Failed to fetch media types:",s),this.type=-1,this.type))}fetchPicture(t,s){return this.fetchTypeMedia(s).then(r=>{const n=`${s.API_ENDPOINT}/taxhub/api/taxref/${t}?fields=medias`;return fetch(n).then(u=>u.json()).then(u=>{const d=Object.values((u==null?void 0:u.medias)||{});let h=d;return r!==null&&r!==-1&&(h=h.filter(m=>m.id_type===r)),h.length===0&&(h=d),h.filter(m=>m.is_public&&OS(m.media_url)).map(m=>({url:m.media_url,license:m.licence??m.auteur,source:m.auteur,typeMedia:"image",author:m.auteur,urlSource:m.url}))}).catch(u=>(console.error("Failed to fetch picture:",u),[]))})}isCompatible(t){return t.name===Ur.GeoNature}}class RS extends Xc{constructor(t){super("INPN",Si.inpn)}fetchPicture(t,s){const r=`https://odata-inpn.mnhn.fr/photos/taxa?taxrefId=${t}&visibility=PUBLIC`;return fetch(r).then(n=>n.json()).then(n=>{var d;let u=[];try{const h=(d=n==null?void 0:n._embedded)==null?void 0:d.photos;return h&&Object.values(h).forEach(m=>{u.push({url:m._links.thumbnail.href,license:m.licence,source:m.copyright,typeMedia:"image"})}),u}catch(h){return console.error("Error parsing media data:",h),[]}})}isCompatible(t){return t.referential===go.TAXREF}}const{GBIF:Ky,TAXREF:Jy}=go;function ag(e,t){const s="https://query.wikidata.org/sparql",r=`SELECT ?item WHERE { ?item wdt:${e} "${t}" . }`;return fetch(s+"?format=json&query="+encodeURIComponent(r)).then(n=>n.json()).then(n=>n.results.bindings.length&&n.results.bindings[0].item.value.split("/").pop()||null)}function DS(e,t){const s=`https://commons.wikimedia.org/w/api.php?action=query&titles=File:${encodeURIComponent(e)}&prop=imageinfo&iiprop=url|extmetadata&format=json&origin=*`;return fetch(s).then(r=>r.json()).then(r=>{var y,v,w,T,P;const n=r.query.pages,u=Object.values(n)[0];if(!((y=u==null?void 0:u.imageinfo)!=null&&y.length))return[];const d=u.imageinfo[0],h=d.extmetadata||{},m={artist:((v=h.Artist)==null?void 0:v.value)||null,license:((w=h.LicenseShortName)==null?void 0:w.value)||null,creditLine:((T=h.Credit)==null?void 0:T.value)||null,licenseUrl:((P=h.LicenseUrl)==null?void 0:P.value)||null};return[{url:t===Jn.image?`https://commons.wikimedia.org/w/thumb.php?width=700&f=${e}`:d.url,source:`${m.artist?m.artist.replace(/<[^>]*>?/gm,""):""} - ${m.license}`,typeMedia:t,licenseUrl:m.licenseUrl,license:m.license,author:m.artist?m.artist.replace(/<[^>]*>?/gm,""):m.artist,urlSource:`https://commons.wikimedia.org/wiki/File:${e}`}]})}function og(e,t,s){if(!e)return Promise.resolve([]);const r=`https://www.wikidata.org/wiki/Special:EntityData/${e}.json`;return fetch(r).then(n=>n.json()).then(n=>{const h=(n.entities[e].claims||{})[t]||[];if(!h.length)return[];const m=h[0].mainsnak.datavalue.value;return DS(m,s)})}function ug(e,t,s,r,n=null){if(!e)throw new Error("No taxonId given!");if(n)return og(n,s,r);let u=null;switch(t.referential){case Ky:u=ag("P846",e);break;case Jy:u=ag("P3186",e);break}return u?u.then(d=>d?og(d,s,r):[]):Promise.resolve([])}class BS extends Xc{constructor(){super("Wikidata",Si.wikidata)}fetchPicture(t,s){if(!this.isCompatible(s))throw new Error("Wikidata Image source is only compatible with GBIF and TAXREF connectors");return ug(t,s,"P18",Jn.image)}fetchSound(t,s){if(!this.isCompatible(s))throw new Error("Wikidata Sound source is only compatible with GBIF and TAXREF connectors");return ug(t,s,"P51",Jn.sound)}isCompatible(t){return[Ky,Jy].includes(t.referential)}}var Si=(e=>(e.gbif="gbif",e.inpn="inpn",e.wikidata="wikidata",e.taxhub="taxhub",e))(Si||{});function bs(e,t={}){switch(e){case"gbif":return new MS(t);case"inpn":return new RS(t);case"wikidata":return new BS;case"taxhub":return new AS(t);default:throw new Error("Unknown media source ID")}}class Qy{scoring(t,s){return(r,n)=>{const u=this.getScore(r,t,s);return this.getScore(n,t,s)-u}}getScore(t,s,r){const n=t!=null&&t.vernacularName?`${t.vernacularName} ${t.acceptedScientificName}`:t.acceptedScientificName||"incertae sedis",u=s.toLowerCase();return n.toLowerCase().includes(u)?1:0}}class e0{constructor(t){this.taxonClass2SourceID={},this.isSearchOnAPIAvailable=!1,this.scoringSearchClass=new Qy,this.options=t,this.imageSource=this.parseMediaSource(t==null?void 0:t.imageSource),this.soundSource=this.parseMediaSource(t==null?void 0:t.soundSource)}parseMediaSource(t){return typeof t=="string"?bs(Si[t]):t}getParamsSchema(){return{}}getParams(){const t={};return Object.entries(this).filter(([s,r])=>!["options","params","name","taxonClass2SourceID","referential","soundSource","imageSource"].includes(s)).filter(([s,r])=>typeof r!="object").forEach(([s,r])=>{t[s]=r}),this.soundSource&&(t.soundSource=this.soundSource.id),this.imageSource&&(t.imageSource=this.imageSource.id),t}fetchOccurrence(t){throw new Error("Not implemented")}fetchTaxonInfo(t){throw new Error("Not implemented")}fetchTaxonStatus(t){throw new Error("Not implemented")}searchTaxon(t="",s={}){}getTaxonDetailPage(t){throw new Error("Not implemented")}fetchVernacularName(t){throw new Error("Not implemented")}sourceDetailMessage(){return null}getCompatibleMediaSource(){const t=[];return Object.values(Si).forEach(s=>{const r=bs(s);r.isCompatible(this)&&t.push({value:s,text:r.name})}),t}getSourceUrl(){return null}getDatasetUrl(t){return null}searchOnAPI(t){throw new Error("Not implemented")}}const co="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg";class FS extends Qy{scoring(t,s){return(r,n)=>{const u=this.getScore(r,t,s);return this.getScore(n,t,s)-u}}getScore(t,s,r){var m;let n=0;const u=s.toLowerCase(),d=t.acceptedScientificName.toLowerCase(),h=((m=t==null?void 0:t.vernacularName)==null?void 0:m.toLowerCase())||null;return u&&(h&&h===u?n+=2:h&&h.includes(u)&&(n+=1),d==u?n+=2:d.includes(u)&&(n+=1)),r.length>0&&r.forEach((y,v)=>{const w=y.scientificName.toLowerCase();y.nubKey==t.taxonId&&(n+=2),d.includes(w)&&(n+=2*(1/(v+1)))}),n}}const t0="https://api.gbif.org/v1",lg=300,cg=10;function dg(e={}){const t=new URL(`${t0}/occurrence/search`);return Object.entries(e).forEach(([s,r])=>{if(Array.isArray(r))for(const n of r)t.searchParams.append(s,n);else t.searchParams.append(s,r)}),fetch(t.toString()).then(s=>s.json())}class Sf extends e0{constructor(t){var s,r,n;super(t),this.name=Ur.GBIF,this.GBIF_ENDPOINT=((s=this.options)==null?void 0:s.GBIF_ENDPOINT)||t0,this.LIMIT=((r=this.options)==null?void 0:r.LIMIT)||lg,this.NB_PAGES=((n=this.options)==null?void 0:n.NB_PAGES)||cg,this.referential=go.GBIF,this.imageSource=this.imageSource||bs(Si.wikidata),this.soundSource=this.soundSource||bs(Si.wikidata),this.taxonClass2SourceID={Aves:212,Mammalia:359,Reptilia:358,Amphibia:131,Insecta:216,Arachnida:367,Gastropoda:225,Bivalvia:137,Magnoliopsida:220,Liliopsida:196,Pinopsida:194},this.isSearchOnAPIAvailable=!0,this.scoringSearchClass=new FS}getParamsSchema(){const{t}=Vi();return[{name:"GBIF_ENDPOINT",label:"Adresse de l'API du GBIF",type:String,default:"https://api.gbif.org/v1"},{name:"LIMIT",label:t("limit"),type:Number,default:lg},{name:"NB_PAGES",label:t("nbPages"),type:Number,default:cg}]}countOccurrence(t={}){return dg(t).then(s=>s.count)}fetchVernacularName(t){const s={en:"eng",fr:"fra",es:"spa",cs:"ces"},r=rn.getInstance().lang.value;return fetch(`${this.GBIF_ENDPOINT}/species/${t}/vernacularNames?limit=100`).then(n=>n.json()).then(n=>{const u=n.results.find(d=>d.language===s[r]);return u?u.vernacularName.charAt(0).toUpperCase()+u.vernacularName.slice(1):void 0})}fetchOccurrence(t={}){let s={limit:this.LIMIT,maxPage:this.NB_PAGES,occurrenceStatus:"PRESENT",basisOfRecord:["OBSERVATION","HUMAN_OBSERVATION","MACHINE_OBSERVATION","OCCURRENCE"],hasGeospatialIssue:!1,hasCoordinate:!0,...t};return s.dateMin&&s.dateMax&&(s.eventDate=`${s.dateMin},${s.dateMax}`),t!=null&&t.class&&(s={...s,classKey:this.taxonClass2SourceID[t==null?void 0:t.class]}),this.countOccurrence(s).then(r=>{const n=Math.min(Math.ceil(r/s.limit),s.maxPage),u={},d={},h=m=>{if(m>=n)return Promise.resolve();const y=m*s.limit;return dg({...s,offset:y}).then(v=>(v.results.forEach(w=>{w.datasetKey in d||(d[w.datasetKey]={uuid:w.datasetKey,name:w.datasetKey,nbObservations:0}),d[w.datasetKey].nbObservations+=1,u[w.taxonKey]||(u[w.taxonKey]={acceptedScientificName:w.acceptedScientificName,vernacularName:w.vernacularName,taxonId:w.taxonKey,mediaUrl:co,taxonRank:w.taxonRank,kingdom:w.kingdom,class:w.class,nbObservations:0,description:"",lastSeenDate:new Date(w.eventDate)}),u[w.taxonKey].nbObservations+=1,u[w.taxonKey].lastSeenDate=new Date(Math.max(new Date(w.eventDate).getTime(),u[w.taxonKey].lastSeenDate.getTime()))}),h(m+1)))};return h(0).then(()=>({taxons:Object.values(u),datasets:Object.values(d)}))})}fetchTaxonInfo(t){const s=`${this.GBIF_ENDPOINT}/species/${t}`;return fetch(s).then(r=>r.json()).then(r=>({scientificName:r.scientificName,vernacularName:r.vernacularName,rank:r.rank,taxonKey:r.key}))}fetchTaxonStatus(t){const s=`${this.GBIF_ENDPOINT}/species/${t}/iucnRedListCategory`;return fetch(s).then(r=>r.json()).then(r=>({iucnRedListCategory:r.category,code:r.code}))}searchTaxon(t="",s={}){const r=`${this.GBIF_ENDPOINT}/species/search?q=${t}&limit=20`;return fetch(r).then(n=>n.json()).then(n=>n.results.map(u=>({scientificName:u.scientificName,taxonKey:u.key})))}getTaxonDetailPage(t){return`https://www.gbif.org/species/${t}`}sourceDetailMessage(){return Vi().t("source.gbifWarning",{nbObs:this.LIMIT*this.NB_PAGES})}getSourceUrl(){return"https://www.gbif.org"}getDatasetUrl(t){return`${this.getSourceUrl()}/dataset/${t}`}searchOnAPI(t){return fetch(`${this.GBIF_ENDPOINT}/species/search?q=${t}&status=ACCEPTED&qField=VERNACULAR&limit=100`).then(s=>s.json()).then(s=>s.results)}}const fg="ALL";class n0 extends e0{constructor(t){var s;super(t),this.name=Ur.GeoNature,this.API_ENDPOINT=t==null?void 0:t.API_ENDPOINT,this.ID_EXPORT=(t==null?void 0:t.ID_EXPORT)??35,this.LIMIT=((s=this.options)==null?void 0:s.LIMIT)??fg,this.referential=go.TAXREF,this.imageSource=this.imageSource??bs(Si.inpn),this.soundSource=this.soundSource??bs(Si.inpn),this.taxonClass2SourceID={Aves:null,Mammalia:null,Reptilia:null,Amphibia:null,Insecta:null,Arachnida:null,Gastropoda:null,Bivalvia:null,Magnoliopsida:null,Liliopsida:null,Pinopsida:null}}getParamsSchema(){const{t}=Vi();return[{name:"API_ENDPOINT",label:t("geonature.api_endpoint"),type:String,default:"https://demo.geonature.fr/geonature/api"},{name:"ID_EXPORT",label:t("geonature.id_export"),type:Number,default:35},{name:"LIMIT",label:t("limit"),type:Number,default:fg}]}fetchOccurrence(t={}){let s=new URL(`${this.API_ENDPOINT}/exports/api/${this.ID_EXPORT}`);t={...t,limit:this.LIMIT};for(const[n,u]of Object.entries(t))s.searchParams.append(n,u);t.class&&s.searchParams.append("classe",t.class);const r=s.toString();return fetch(r).then(n=>n.json()).then(n=>{let u={};return n.items.features.forEach(d=>{d=d.properties,u.hasOwnProperty(d.cd_ref)||(u[d.cd_ref]={acceptedScientificName:d.nom_scientifique,vernacularName:d.nom_vernaculaire,taxonId:d.cd_ref,mediaUrl:co,taxonRank:"",nbObservations:0,description:"",lastSeenDate:new Date(d.date_max),class:d.classe}),u[d.cd_ref].nbObservations+=1,u[d.cd_ref].lastSeenDate=new Date(Math.max(new Date(d.date_max).getTime(),u[d.cd_ref].lastSeenDate.getTime()))}),{taxons:Object.values(u),datasets:[]}})}fetchTaxonInfo(t){const s=`https://odata-inpn.mnhn.fr/taxa/${t}`;return fetch(s).then(r=>r.json()).then(r=>({scientificName:r.names.scientific,vernacularName:r.names.vernacular.fr[0],rank:r.rank,taxonKey:r.taxrefId}))}fetchTaxonStatus(t){const s=`https://taxref.mnhn.fr/api/taxa/${t}/status/columns`;return fetch(s).then(r=>r.json()).then(r=>{var n;return(n=r._embedded)==null?void 0:n.status})}getTaxonDetailPage(t){return`https://inpn.mnhn.fr/espece/cd_nom/${t}`}fetchVernacularName(t){return Promise.resolve(null)}}function Cf(e="GBIF",t={}){switch(e){case Ur.GBIF:return new Sf(t);case Ur.GeoNature:return new n0(t);default:return new Sf(t)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Va=typeof document<"u";function i0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zS(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&i0(e.default)}const Pt=Object.assign;function zd(e,t){const s={};for(const r in t){const n=t[r];s[r]=ji(n)?n.map(e):e(n)}return s}const mu=()=>{},ji=Array.isArray,r0=/#/g,$S=/&/g,US=/\//g,GS=/=/g,HS=/\?/g,s0=/\+/g,VS=/%5B/g,jS=/%5D/g,a0=/%5E/g,qS=/%60/g,o0=/%7B/g,WS=/%7C/g,u0=/%7D/g,ZS=/%20/g;function Sh(e){return encodeURI(""+e).replace(WS,"|").replace(VS,"[").replace(jS,"]")}function YS(e){return Sh(e).replace(o0,"{").replace(u0,"}").replace(a0,"^")}function Pf(e){return Sh(e).replace(s0,"%2B").replace(ZS,"+").replace(r0,"%23").replace($S,"%26").replace(qS,"`").replace(o0,"{").replace(u0,"}").replace(a0,"^")}function XS(e){return Pf(e).replace(GS,"%3D")}function KS(e){return Sh(e).replace(r0,"%23").replace(HS,"%3F")}function JS(e){return e==null?"":KS(e).replace(US,"%2F")}function Ru(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const QS=/\/$/,eC=e=>e.replace(QS,"");function $d(e,t,s="/"){let r,n={},u="",d="";const h=t.indexOf("#");let m=t.indexOf("?");return h<m&&h>=0&&(m=-1),m>-1&&(r=t.slice(0,m),u=t.slice(m+1,h>-1?h:t.length),n=e(u)),h>-1&&(r=r||t.slice(0,h),d=t.slice(h,t.length)),r=rC(r??t,s),{fullPath:r+(u&&"?")+u+d,path:r,query:n,hash:Ru(d)}}function tC(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function hg(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nC(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&fo(t.matched[r],s.matched[n])&&l0(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function fo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function l0(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!iC(e[s],t[s]))return!1;return!0}function iC(e,t){return ji(e)?pg(e,t):ji(t)?pg(t,e):e===t}function pg(e,t){return ji(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function rC(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let u=s.length-1,d,h;for(d=0;d<r.length;d++)if(h=r[d],h!==".")if(h==="..")u>1&&u--;else break;return s.slice(0,u).join("/")+"/"+r.slice(d).join("/")}const as={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Du;(function(e){e.pop="pop",e.push="push"})(Du||(Du={}));var gu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(gu||(gu={}));function sC(e){if(!e)if(Va){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),eC(e)}const aC=/^[^#]+#/;function oC(e,t){return e.replace(aC,"#")+t}function uC(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const Kc=()=>({left:window.scrollX,top:window.scrollY});function lC(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=uC(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function mg(e,t){return(history.state?history.state.position-t:-1)+e}const If=new Map;function cC(e,t){If.set(e,t)}function dC(e){const t=If.get(e);return If.delete(e),t}let fC=()=>location.protocol+"//"+location.host;function c0(e,t){const{pathname:s,search:r,hash:n}=t,u=e.indexOf("#");if(u>-1){let h=n.includes(e.slice(u))?e.slice(u).length:1,m=n.slice(h);return m[0]!=="/"&&(m="/"+m),hg(m,"")}return hg(s,e)+r+n}function hC(e,t,s,r){let n=[],u=[],d=null;const h=({state:T})=>{const P=c0(e,location),O=s.value,F=t.value;let j=0;if(T){if(s.value=P,t.value=T,d&&d===O){d=null;return}j=F?T.position-F.position:0}else r(P);n.forEach(A=>{A(s.value,O,{delta:j,type:Du.pop,direction:j?j>0?gu.forward:gu.back:gu.unknown})})};function m(){d=s.value}function y(T){n.push(T);const P=()=>{const O=n.indexOf(T);O>-1&&n.splice(O,1)};return u.push(P),P}function v(){const{history:T}=window;T.state&&T.replaceState(Pt({},T.state,{scroll:Kc()}),"")}function w(){for(const T of u)T();u=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:m,listen:y,destroy:w}}function gg(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?Kc():null}}function pC(e){const{history:t,location:s}=window,r={value:c0(e,s)},n={value:t.state};n.value||u(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(m,y,v){const w=e.indexOf("#"),T=w>-1?(s.host&&document.querySelector("base")?e:e.slice(w))+m:fC()+e+m;try{t[v?"replaceState":"pushState"](y,"",T),n.value=y}catch(P){console.error(P),s[v?"replace":"assign"](T)}}function d(m,y){const v=Pt({},t.state,gg(n.value.back,m,n.value.forward,!0),y,{position:n.value.position});u(m,v,!0),r.value=m}function h(m,y){const v=Pt({},n.value,t.state,{forward:m,scroll:Kc()});u(v.current,v,!0);const w=Pt({},gg(r.value,m,null),{position:v.position+1},y);u(m,w,!1),r.value=m}return{location:r,state:n,push:h,replace:d}}function mC(e){e=sC(e);const t=pC(e),s=hC(e,t.state,t.location,t.replace);function r(u,d=!0){d||s.pauseListeners(),history.go(u)}const n=Pt({location:"",base:e,go:r,createHref:oC.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function gC(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),mC(e)}function _C(e){return typeof e=="string"||e&&typeof e=="object"}function d0(e){return typeof e=="string"||typeof e=="symbol"}const f0=Symbol("");var _g;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_g||(_g={}));function ho(e,t){return Pt(new Error,{type:e,[f0]:!0},t)}function Cr(e,t){return e instanceof Error&&f0 in e&&(t==null||!!(e.type&t))}const vg="[^/]+?",vC={sensitive:!1,strict:!1,start:!0,end:!0},yC=/[.+*?^${}()[\]/\\]/g;function bC(e,t){const s=Pt({},vC,t),r=[];let n=s.start?"^":"";const u=[];for(const y of e){const v=y.length?[]:[90];s.strict&&!y.length&&(n+="/");for(let w=0;w<y.length;w++){const T=y[w];let P=40+(s.sensitive?.25:0);if(T.type===0)w||(n+="/"),n+=T.value.replace(yC,"\\$&"),P+=40;else if(T.type===1){const{value:O,repeatable:F,optional:j,regexp:A}=T;u.push({name:O,repeatable:F,optional:j});const U=A||vg;if(U!==vg){P+=10;try{new RegExp(`(${U})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${O}" (${U}): `+_.message)}}let H=F?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;w||(H=j&&y.length<2?`(?:/${H})`:"/"+H),j&&(H+="?"),n+=H,P+=20,j&&(P+=-8),F&&(P+=-20),U===".*"&&(P+=-50)}v.push(P)}r.push(v)}if(s.strict&&s.end){const y=r.length-1;r[y][r[y].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const d=new RegExp(n,s.sensitive?"":"i");function h(y){const v=y.match(d),w={};if(!v)return null;for(let T=1;T<v.length;T++){const P=v[T]||"",O=u[T-1];w[O.name]=P&&O.repeatable?P.split("/"):P}return w}function m(y){let v="",w=!1;for(const T of e){(!w||!v.endsWith("/"))&&(v+="/"),w=!1;for(const P of T)if(P.type===0)v+=P.value;else if(P.type===1){const{value:O,repeatable:F,optional:j}=P,A=O in y?y[O]:"";if(ji(A)&&!F)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const U=ji(A)?A.join("/"):A;if(!U)if(j)T.length<2&&(v.endsWith("/")?v=v.slice(0,-1):w=!0);else throw new Error(`Missing required param "${O}"`);v+=U}}return v||"/"}return{re:d,score:r,keys:u,parse:h,stringify:m}}function wC(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function h0(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const u=wC(r[s],n[s]);if(u)return u;s++}if(Math.abs(n.length-r.length)===1){if(yg(r))return 1;if(yg(n))return-1}return n.length-r.length}function yg(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kC={type:0,value:""},LC=/[a-zA-Z0-9_]/;function EC(e){if(!e)return[[]];if(e==="/")return[[kC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(P){throw new Error(`ERR (${s})/"${y}": ${P}`)}let s=0,r=s;const n=[];let u;function d(){u&&n.push(u),u=[]}let h=0,m,y="",v="";function w(){y&&(s===0?u.push({type:0,value:y}):s===1||s===2||s===3?(u.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:y,regexp:v,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),y="")}function T(){y+=m}for(;h<e.length;){if(m=e[h++],m==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:m==="/"?(y&&w(),d()):m===":"?(w(),s=1):T();break;case 4:T(),s=r;break;case 1:m==="("?s=2:LC.test(m)?T():(w(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&h--);break;case 2:m===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+m:s=3:v+=m;break;case 3:w(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&h--,v="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${y}"`),w(),d(),n}function xC(e,t,s){const r=bC(EC(e.path),s),n=Pt(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function TC(e,t){const s=[],r=new Map;t=Lg({strict:!1,end:!0,sensitive:!1},t);function n(w){return r.get(w)}function u(w,T,P){const O=!P,F=wg(w);F.aliasOf=P&&P.record;const j=Lg(t,w),A=[F];if("alias"in w){const _=typeof w.alias=="string"?[w.alias]:w.alias;for(const x of _)A.push(wg(Pt({},F,{components:P?P.record.components:F.components,path:x,aliasOf:P?P.record:F})))}let U,H;for(const _ of A){const{path:x}=_;if(T&&x[0]!=="/"){const k=T.record.path,S=k[k.length-1]==="/"?"":"/";_.path=T.record.path+(x&&S+x)}if(U=xC(_,T,j),P?P.alias.push(U):(H=H||U,H!==U&&H.alias.push(U),O&&w.name&&!kg(U)&&d(w.name)),p0(U)&&m(U),F.children){const k=F.children;for(let S=0;S<k.length;S++)u(k[S],U,P&&P.children[S])}P=P||U}return H?()=>{d(H)}:mu}function d(w){if(d0(w)){const T=r.get(w);T&&(r.delete(w),s.splice(s.indexOf(T),1),T.children.forEach(d),T.alias.forEach(d))}else{const T=s.indexOf(w);T>-1&&(s.splice(T,1),w.record.name&&r.delete(w.record.name),w.children.forEach(d),w.alias.forEach(d))}}function h(){return s}function m(w){const T=PC(w,s);s.splice(T,0,w),w.record.name&&!kg(w)&&r.set(w.record.name,w)}function y(w,T){let P,O={},F,j;if("name"in w&&w.name){if(P=r.get(w.name),!P)throw ho(1,{location:w});j=P.record.name,O=Pt(bg(T.params,P.keys.filter(H=>!H.optional).concat(P.parent?P.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),w.params&&bg(w.params,P.keys.map(H=>H.name))),F=P.stringify(O)}else if(w.path!=null)F=w.path,P=s.find(H=>H.re.test(F)),P&&(O=P.parse(F),j=P.record.name);else{if(P=T.name?r.get(T.name):s.find(H=>H.re.test(T.path)),!P)throw ho(1,{location:w,currentLocation:T});j=P.record.name,O=Pt({},T.params,w.params),F=P.stringify(O)}const A=[];let U=P;for(;U;)A.unshift(U.record),U=U.parent;return{name:j,path:F,params:O,matched:A,meta:CC(A)}}e.forEach(w=>u(w));function v(){s.length=0,r.clear()}return{addRoute:u,resolve:y,removeRoute:d,clearRoutes:v,getRoutes:h,getRecordMatcher:n}}function bg(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function wg(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:SC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function SC(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function kg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function CC(e){return e.reduce((t,s)=>Pt(t,s.meta),{})}function Lg(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function PC(e,t){let s=0,r=t.length;for(;s!==r;){const u=s+r>>1;h0(e,t[u])<0?r=u:s=u+1}const n=IC(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function IC(e){let t=e;for(;t=t.parent;)if(p0(t)&&h0(e,t)===0)return t}function p0({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function NC(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const u=r[n].replace(s0," "),d=u.indexOf("="),h=Ru(d<0?u:u.slice(0,d)),m=d<0?null:Ru(u.slice(d+1));if(h in t){let y=t[h];ji(y)||(y=t[h]=[y]),y.push(m)}else t[h]=m}return t}function Eg(e){let t="";for(let s in e){const r=e[s];if(s=XS(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(ji(r)?r.map(u=>u&&Pf(u)):[r&&Pf(r)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+s,u!=null&&(t+="="+u))})}return t}function MC(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=ji(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const OC=Symbol(""),xg=Symbol(""),Jc=Symbol(""),Ch=Symbol(""),Nf=Symbol("");function eu(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function ds(e,t,s,r,n,u=d=>d()){const d=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((h,m)=>{const y=T=>{T===!1?m(ho(4,{from:s,to:t})):T instanceof Error?m(T):_C(T)?m(ho(2,{from:t,to:T})):(d&&r.enterCallbacks[n]===d&&typeof T=="function"&&d.push(T),h())},v=u(()=>e.call(r&&r.instances[n],t,s,y));let w=Promise.resolve(v);e.length<3&&(w=w.then(y)),w.catch(T=>m(T))})}function Ud(e,t,s,r,n=u=>u()){const u=[];for(const d of e)for(const h in d.components){let m=d.components[h];if(!(t!=="beforeRouteEnter"&&!d.instances[h]))if(i0(m)){const v=(m.__vccOpts||m)[t];v&&u.push(ds(v,s,r,d,h,n))}else{let y=m();u.push(()=>y.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${h}" at "${d.path}"`);const w=zS(v)?v.default:v;d.mods[h]=v,d.components[h]=w;const P=(w.__vccOpts||w)[t];return P&&ds(P,s,r,d,h,n)()}))}}return u}function Tg(e){const t=Gt(Jc),s=Gt(Ch),r=he(()=>{const m=W(e.to);return t.resolve(m)}),n=he(()=>{const{matched:m}=r.value,{length:y}=m,v=m[y-1],w=s.matched;if(!v||!w.length)return-1;const T=w.findIndex(fo.bind(null,v));if(T>-1)return T;const P=Sg(m[y-2]);return y>1&&Sg(v)===P&&w[w.length-1].path!==P?w.findIndex(fo.bind(null,m[y-2])):T}),u=he(()=>n.value>-1&&FC(s.params,r.value.params)),d=he(()=>n.value>-1&&n.value===s.matched.length-1&&l0(s.params,r.value.params));function h(m={}){if(BC(m)){const y=t[W(e.replace)?"replace":"push"](W(e.to)).catch(mu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>y),y}return Promise.resolve()}return{route:r,href:he(()=>r.value.href),isActive:u,isExactActive:d,navigate:h}}function AC(e){return e.length===1?e[0]:e}const RC=yt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Tg,setup(e,{slots:t}){const s=aa(Tg(e)),{options:r}=Gt(Jc),n=he(()=>({[Cg(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Cg(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const u=t.default&&AC(t.default(s));return e.custom?u:$r("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},u)}}}),DC=RC;function BC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function FC(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!ji(n)||n.length!==r.length||r.some((u,d)=>u!==n[d]))return!1}return!0}function Sg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Cg=(e,t,s)=>e??t??s,zC=yt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=Gt(Nf),n=he(()=>e.route||r.value),u=Gt(xg,0),d=he(()=>{let y=W(u);const{matched:v}=n.value;let w;for(;(w=v[y])&&!w.components;)y++;return y}),h=he(()=>n.value.matched[d.value]);hs(xg,he(()=>d.value+1)),hs(OC,h),hs(Nf,n);const m=Be();return it(()=>[m.value,h.value,e.name],([y,v,w],[T,P,O])=>{v&&(v.instances[w]=y,P&&P!==v&&y&&y===T&&(v.leaveGuards.size||(v.leaveGuards=P.leaveGuards),v.updateGuards.size||(v.updateGuards=P.updateGuards))),y&&v&&(!P||!fo(v,P)||!T)&&(v.enterCallbacks[w]||[]).forEach(F=>F(y))},{flush:"post"}),()=>{const y=n.value,v=e.name,w=h.value,T=w&&w.components[v];if(!T)return Pg(s.default,{Component:T,route:y});const P=w.props[v],O=P?P===!0?y.params:typeof P=="function"?P(y):P:null,j=$r(T,Pt({},O,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(w.instances[v]=null)},ref:m}));return Pg(s.default,{Component:j,route:y})||j}}});function Pg(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const $C=zC;function UC(e){const t=TC(e.routes,e),s=e.parseQuery||NC,r=e.stringifyQuery||Eg,n=e.history,u=eu(),d=eu(),h=eu(),m=Pn(as);let y=as;Va&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=zd.bind(null,de=>""+de),w=zd.bind(null,JS),T=zd.bind(null,Ru);function P(de,K){let Te,Ne;return d0(de)?(Te=t.getRecordMatcher(de),Ne=K):Ne=de,t.addRoute(Ne,Te)}function O(de){const K=t.getRecordMatcher(de);K&&t.removeRoute(K)}function F(){return t.getRoutes().map(de=>de.record)}function j(de){return!!t.getRecordMatcher(de)}function A(de,K){if(K=Pt({},K||m.value),typeof de=="string"){const se=$d(s,de,K.path),_e=t.resolve({path:se.path},K),Le=n.createHref(se.fullPath);return Pt(se,_e,{params:T(_e.params),hash:Ru(se.hash),redirectedFrom:void 0,href:Le})}let Te;if(de.path!=null)Te=Pt({},de,{path:$d(s,de.path,K.path).path});else{const se=Pt({},de.params);for(const _e in se)se[_e]==null&&delete se[_e];Te=Pt({},de,{params:w(se)}),K.params=w(K.params)}const Ne=t.resolve(Te,K),Me=de.hash||"";Ne.params=v(T(Ne.params));const N=tC(r,Pt({},de,{hash:YS(Me),path:Ne.path})),Q=n.createHref(N);return Pt({fullPath:N,hash:Me,query:r===Eg?MC(de.query):de.query||{}},Ne,{redirectedFrom:void 0,href:Q})}function U(de){return typeof de=="string"?$d(s,de,m.value.path):Pt({},de)}function H(de,K){if(y!==de)return ho(8,{from:K,to:de})}function _(de){return S(de)}function x(de){return _(Pt(U(de),{replace:!0}))}function k(de){const K=de.matched[de.matched.length-1];if(K&&K.redirect){const{redirect:Te}=K;let Ne=typeof Te=="function"?Te(de):Te;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=U(Ne):{path:Ne},Ne.params={}),Pt({query:de.query,hash:de.hash,params:Ne.path!=null?{}:de.params},Ne)}}function S(de,K){const Te=y=A(de),Ne=m.value,Me=de.state,N=de.force,Q=de.replace===!0,se=k(Te);if(se)return S(Pt(U(se),{state:typeof se=="object"?Pt({},Me,se.state):Me,force:N,replace:Q}),K||Te);const _e=Te;_e.redirectedFrom=K;let Le;return!N&&nC(r,Ne,Te)&&(Le=ho(16,{to:_e,from:Ne}),ke(Ne,Ne,!0,!1)),(Le?Promise.resolve(Le):R(_e,Ne)).catch(we=>Cr(we)?Cr(we,2)?we:ce(we):ae(we,_e,Ne)).then(we=>{if(we){if(Cr(we,2))return S(Pt({replace:Q},U(we.to),{state:typeof we.to=="object"?Pt({},Me,we.to.state):Me,force:N}),K||_e)}else we=ee(_e,Ne,!0,Q,Me);return X(_e,Ne,we),we})}function B(de,K){const Te=H(de,K);return Te?Promise.reject(Te):Promise.resolve()}function D(de){const K=Pe.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(de):de()}function R(de,K){let Te;const[Ne,Me,N]=GC(de,K);Te=Ud(Ne.reverse(),"beforeRouteLeave",de,K);for(const se of Ne)se.leaveGuards.forEach(_e=>{Te.push(ds(_e,de,K))});const Q=B.bind(null,de,K);return Te.push(Q),xe(Te).then(()=>{Te=[];for(const se of u.list())Te.push(ds(se,de,K));return Te.push(Q),xe(Te)}).then(()=>{Te=Ud(Me,"beforeRouteUpdate",de,K);for(const se of Me)se.updateGuards.forEach(_e=>{Te.push(ds(_e,de,K))});return Te.push(Q),xe(Te)}).then(()=>{Te=[];for(const se of N)if(se.beforeEnter)if(ji(se.beforeEnter))for(const _e of se.beforeEnter)Te.push(ds(_e,de,K));else Te.push(ds(se.beforeEnter,de,K));return Te.push(Q),xe(Te)}).then(()=>(de.matched.forEach(se=>se.enterCallbacks={}),Te=Ud(N,"beforeRouteEnter",de,K,D),Te.push(Q),xe(Te))).then(()=>{Te=[];for(const se of d.list())Te.push(ds(se,de,K));return Te.push(Q),xe(Te)}).catch(se=>Cr(se,8)?se:Promise.reject(se))}function X(de,K,Te){h.list().forEach(Ne=>D(()=>Ne(de,K,Te)))}function ee(de,K,Te,Ne,Me){const N=H(de,K);if(N)return N;const Q=K===as,se=Va?history.state:{};Te&&(Ne||Q?n.replace(de.fullPath,Pt({scroll:Q&&se&&se.scroll},Me)):n.push(de.fullPath,Me)),m.value=de,ke(de,K,Te,Q),ce()}let q;function Z(){q||(q=n.listen((de,K,Te)=>{if(!Ee.listening)return;const Ne=A(de),Me=k(Ne);if(Me){S(Pt(Me,{replace:!0,force:!0}),Ne).catch(mu);return}y=Ne;const N=m.value;Va&&cC(mg(N.fullPath,Te.delta),Kc()),R(Ne,N).catch(Q=>Cr(Q,12)?Q:Cr(Q,2)?(S(Pt(U(Q.to),{force:!0}),Ne).then(se=>{Cr(se,20)&&!Te.delta&&Te.type===Du.pop&&n.go(-1,!1)}).catch(mu),Promise.reject()):(Te.delta&&n.go(-Te.delta,!1),ae(Q,Ne,N))).then(Q=>{Q=Q||ee(Ne,N,!1),Q&&(Te.delta&&!Cr(Q,8)?n.go(-Te.delta,!1):Te.type===Du.pop&&Cr(Q,20)&&n.go(-1,!1)),X(Ne,N,Q)}).catch(mu)}))}let ne=eu(),V=eu(),te;function ae(de,K,Te){ce(de);const Ne=V.list();return Ne.length?Ne.forEach(Me=>Me(de,K,Te)):console.error(de),Promise.reject(de)}function ve(){return te&&m.value!==as?Promise.resolve():new Promise((de,K)=>{ne.add([de,K])})}function ce(de){return te||(te=!de,Z(),ne.list().forEach(([K,Te])=>de?Te(de):K()),ne.reset()),de}function ke(de,K,Te,Ne){const{scrollBehavior:Me}=e;if(!Va||!Me)return Promise.resolve();const N=!Te&&dC(mg(de.fullPath,0))||(Ne||!Te)&&history.state&&history.state.scroll||null;return Li().then(()=>Me(de,K,N)).then(Q=>Q&&lC(Q)).catch(Q=>ae(Q,de,K))}const De=de=>n.go(de);let Ae;const Pe=new Set,Ee={currentRoute:m,listening:!0,addRoute:P,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:j,getRoutes:F,resolve:A,options:e,push:_,replace:x,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:u.add,beforeResolve:d.add,afterEach:h.add,onError:V.add,isReady:ve,install(de){const K=this;de.component("RouterLink",DC),de.component("RouterView",$C),de.config.globalProperties.$router=K,Object.defineProperty(de.config.globalProperties,"$route",{enumerable:!0,get:()=>W(m)}),Va&&!Ae&&m.value===as&&(Ae=!0,_(n.location).catch(Me=>{}));const Te={};for(const Me in as)Object.defineProperty(Te,Me,{get:()=>m.value[Me],enumerable:!0});de.provide(Jc,K),de.provide(Ch,d_(Te)),de.provide(Nf,m);const Ne=de.unmount;Pe.add(de),de.unmount=function(){Pe.delete(de),Pe.size<1&&(y=as,q&&q(),q=null,m.value=as,Ae=!1,te=!1),Ne()}}};function xe(de){return de.reduce((K,Te)=>K.then(()=>D(Te)),Promise.resolve())}return Ee}function GC(e,t){const s=[],r=[],n=[],u=Math.max(t.matched.length,e.matched.length);for(let d=0;d<u;d++){const h=t.matched[d];h&&(e.matched.find(y=>fo(y,h))?r.push(h):s.push(h));const m=e.matched[d];m&&(t.matched.find(y=>fo(y,m))||n.push(m))}return[s,r,n]}function m0(){return Gt(Jc)}function Ph(e){return Gt(Ch)}var fr=(e=>(e.detailedList="detailedList",e.gallery="gallery",e.hybrid="hybrid",e))(fr||{}),Bi=(e=>(e.mapList="mapList",e.list="list",e))(Bi||{});const xn={RADIUS:500,WKT:"",dateMin:null,dateMax:null,showFilters:!1,mapEditable:!0,lang:"fr",mode:fr.detailedList,sourceGeometry:null,class:null,widgetType:Bi.mapList,hybridTaxonList:!0,x:null,y:null,customDetailPage:null,nbTaxonPerLine:2,nbDisplayedSpecies:null},Nr=class Nr{constructor(){const{locale:t,availableLocales:s}=Vi(),r=Ph(),n=m0(),u=r==null?void 0:r.query;this.buffer=Be(xn.RADIUS),this.wkt=Be(xn.WKT),this.dateMin=Be(xn.dateMin),this.dateMax=Be(xn.dateMax),this.connector=Pn(Cf(null,u)),this.nbTaxonPerLine=Be(xn.nbTaxonPerLine),this.showFilters=Be(xn.showFilters),this.mapEditable=Be(xn.mapEditable),this.lang=t,this.mode=Be(xn.mode),this.sourceGeometry=Be(xn.sourceGeometry),this.class=Be(xn.class),this.widgetType=Be(xn.widgetType),this.hybridTaxonList=Be(xn.hybridTaxonList),this.x=Be(xn.x),this.y=Be(xn.y),this.customDetailPage=Be(xn.customDetailPage),this.nbDisplayedSpecies=Be(xn.nbDisplayedSpecies),this.initializeFromUrl(u,t,s),this.setupWatchers(n,r)}static getInstance(){return Nr.instance||(Nr.instance=new Nr),Nr.instance}setupWatchers(t,s){["buffer","wkt","dateMin","dateMax","nbTaxonPerLine","showFilters","lang","mode","class","connector","mapEditable","sourceGeometry","widgetType","hybridTaxonList","customDetailPage"].forEach(n=>{it(this[n],()=>{t.replace({path:s.path,query:this.getParams()})})})}initializeFromUrl(t,s,r){if(!t)return;Object.entries({buffer:u=>parseInt(u),radius:u=>{this.buffer.value=parseInt(u)},wkt:u=>Gd(u,this.buffer.value),sourceGeometry:async u=>{this.sourceGeometry.value=u;try{const h=await(await fetch(decodeURI(u))).json();this.wkt.value=Gd(Ai.stringify(h.geometry),this.buffer.value),this.sourceGeometry.value=u}catch(d){console.error(d)}},dateMin:u=>new Date(u),dateMax:u=>new Date(u),connector:u=>Cf(Ur[u],{...t}),class:u=>{var d;return(d=Object.keys(this.connector.value.taxonClass2SourceID))!=null&&d.includes(u)?u:null},nbTaxonPerLine:u=>parseInt(u),showFilters:u=>u==="true",mapEditable:u=>u==="true",hybridTaxonList:u=>u==="true",lang:u=>r.includes(u)?u:s,mode:u=>Object.keys(fr).includes(u)?u:fr.detailedList,widgetType:u=>Object.keys(Bi).includes(u)?u:Bi.mapList,x:u=>{const d=parseFloat(u);return-180<d&&d<180?d:null},y:u=>{const d=parseFloat(u);return-90<d&&d<90?d:null},customDetailPage:u=>u,nbDisplayedSpecies:u=>parseInt(u)}).forEach(([u,d])=>{if(u in t){const h=t[u],m=this[u];m&&typeof m=="object"&&"value"in m?m.value=d(h):["sourceGeometry","radius"].includes(u)&&d(h)}}),this.x.value&&this.y.value&&(this.wkt.value=Gd(Ai.stringify({type:"Point",coordinates:[this.x.value,this.y.value]}),this.buffer.value))}getParams(){const t={};Object.entries(this).forEach(([r,n])=>{(n==null?void 0:n.value)!==void 0&&n.value!==null&&n.value!==""&&(t[r]=n.value)}),t.connector=this.connector.value.name;const s=this.connector.value.getParams();return Object.assign(t,s),t!=null&&t.wkt&&(t.sourceGeometry!=null||t.x!=null&&t.y!=null)&&delete t.wkt,t}static clearParameters(t,s){s.replace({path:t.path,query:{}}),Nr.instance=new Nr}};Nr.instance=null;let rn=Nr;const Gd=(e,t)=>{if(e&&(e.includes("POINT")||e.includes("LINESTRING"))){let r=xf(Ai.parse(e),t/1e3);return e.includes("LINESTRING")&&(r=TS(r,{tolerance:.001,highQuality:!0})),Ai.stringify(r)}let s=Ai.parse(e);return Ou(s)||(s=Xy(s),e=Ai.stringify(s)),e},HC={class:"list-group datasetsList"},VC={class:"list-group-item"},jC=["href"],qC={class:"badge bg-warning rounded-pill ms-1"},WC={__name:"DatasetList",props:{datasets:Array},setup(e){const{connector:t}=rn.getInstance(),s=e,r=he(()=>s.datasets?[...s.datasets].sort((n,u)=>u.nbObservations-n.nbObservations):[]);return(n,u)=>{const d=uh;return s.datasets&&s.datasets.length>0?(ge(),nt(d,{key:0,"close-on-hide":!0,delay:{show:0,hide:0}},{target:qe(()=>u[0]||(u[0]=[le("a",{style:{color:"white","text-decoration":"underline"},class:"ms-1"},[le("i",{class:"bi bi-database-fill"})],-1)])),default:qe(()=>[le("h4",null,ze(r.value.length)+" "+ze(n.$t("datasetList")),1),le("ul",HC,[(ge(!0),Oe(ht,null,ai(r.value,h=>(ge(),Oe("li",VC,[le("a",{class:"link-primary text-decoration-none",target:"_blank",href:W(t).getDatasetUrl(h.uuid)},ze(h.name),9,jC),le("span",qC,ze(h.nbObservations)+" "+ze(n.$t(h.nbObservations>1?"observations":"observation")),1)]))),256))])]),_:1})):ft("",!0)}}},ZC={id:"data-source-credits",class:"text-center"},YC={key:0},XC=["href"],KC={__name:"TaxonListFooter",props:{loadingDone:{type:Boolean},numberOfSpecies:{type:Number},datasets:{type:Array}},setup(e){const t=rn.getInstance(),{connector:s}=t,r=e;return(n,u)=>{const d=ph;return ge(),Oe("div",ZC,[r.loadingDone?(ge(),Oe("div",YC,[u[1]||(u[1]=le("a",{href:"https://si.ecrins-parcnational.com/blog/2025-08-BAM-widget-en.html",target:"_blank"},[le("img",{src:"https://geonature.fr/documents/autres/BAM/BAM-logo.png",height:"30px",class:"me-1"})],-1)),le("strong",null,ze(r.numberOfSpecies)+" "+ze(n.$t("taxon.taxonFound")),1),tt(" "+ze(n.$t("in"))+" ",1),le("a",{href:W(s).getSourceUrl(),target:"_blank",style:{color:"white","text-decoration":"underline"}},ze(W(s).name),9,XC),W(s).sourceDetailMessage()?(ge(),nt(d,{key:0},{target:qe(()=>u[0]||(u[0]=[le("a",{style:{color:"white","text-decoration":"underline"},class:"ms-1"},[le("i",{class:"bi bi-info-circle"})],-1)])),default:qe(()=>[tt(" "+ze(W(s).sourceDetailMessage()),1)]),_:1})):ft("",!0),r.datasets.length>0?(ge(),nt(WC,{key:1,datasets:r.datasets},null,8,["datasets"])):ft("",!0)])):ft("",!0)])}}},JC={key:0,class:"justify-content-center mode-dropdown"},QC={key:0,class:"fa-solid fa-list"},eP={key:1,class:"bi bi-grid-fill"},tP={__name:"TaxonListModeSelection",setup(e){const t=rn.getInstance(),{hybridTaxonList:s,mode:r}=t;function n(){r.value=r.value===fr.gallery?fr.detailedList:fr.gallery}return(u,d)=>W(s)?(ge(),Oe("div",JC,[le("button",{class:"btn btn-secondary",onClick:d[0]||(d[0]=h=>n())},[W(r)==="gallery"?(ge(),Oe("i",QC)):(ge(),Oe("i",eP))])])):ft("",!0)}},nP={key:0},iP={class:"d-flex justify-content-center"},rP={class:"d-flex justify-content-center"},sP={class:"spinner-border",role:"status"},aP={class:"visually-hidden"},oP={__name:"Loading",props:{loadingStatus:Boolean},setup(e){const t=e;it(t,()=>{s.value=t.loadingStatus});const s=Be(t.loadingStatus!=null?t.loadingStatus:!1);return(r,n)=>s.value?(ge(),Oe("div",nP,[le("div",iP,[le("h3",null,ze(r.$t("loading")),1)]),le("div",rP,[le("div",sP,[le("span",aP,ze(r.$t("loading")),1)])])])):ft("",!0)}},Vn=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},uP={key:0,class:"message-box bg-secondary text-white"},lP={key:1,class:"message-box bg-warning text-white"},cP={key:2,class:"message-box bg-warning text-white"},dP={key:3,id:"loading-error",class:"message-box bg-danger text-white"},fP={__name:"TaxonListMessages",props:{loadingObservations:{type:Boolean},loadingError:{type:Boolean},speciesList:{type:Array},filterSpeciesList:{type:Array}},setup(e){const t=rn.getInstance(),{wkt:s}=t,r=e,n=he(()=>!s.value.length&&!r.loadingObservations&&!r.loadingError),u=he(()=>s.value.length&&!r.loadingObservations&&!r.loadingError&&!r.speciesList.length),d=he(()=>!r.filterSpeciesList.length&&s.value.length&&!r.loadingObservations);return(h,m)=>(ge(),Oe(ht,null,[Ge(oP,{id:"loadingObs",loadingStatus:r.loadingObservations,class:"message-box"},null,8,["loadingStatus"]),n.value?(ge(),Oe("div",uP,[le("h5",null,ze(h.$t("drawGeometry")),1),m[0]||(m[0]=le("h5",null,[le("i",{class:"bi bi-square-fill"}),le("i",{class:"bi bi-hexagon-fill"}),le("i",{class:"bi bi-circle-fill"}),le("i",{class:"bi bi-geo-fill"})],-1))])):ft("",!0),u.value?(ge(),Oe("div",lP,ze(h.$t("noSpeciesObserved")),1)):ft("",!0),d.value&&!u.value&&!e.loadingError?(ge(),Oe("div",cP,ze(h.$t("emptySearch")),1)):ft("",!0),r.loadingError?(ge(),Oe("div",dP,[le("h5",null,[m[1]||(m[1]=le("i",{class:"bi bi-bug"},null,-1)),tt(" "+ze(h.$t("loadingError")),1)])])):ft("",!0)],64))}},hP=Vn(fP,[["__scopeId","data-v-a286c882"]]);function pP(e){return typeof e=="object"&&e!==null}function mP(e){return pP(e)&&typeof e.length=="number"}function Ig(e){return Array.isArray(e)?e:e===void 0?[]:mP(e)||e instanceof Set?Array.from(e):[e]}function gP(e){return!isNaN(parseFloat(e))}function _P(e){return!isNaN(parseFloat(e))&&isFinite(e)}function vP(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function yP(e){return g0(e)&&typeof e.length=="number"}function g0(e){return typeof e=="object"&&e!==null}function Vu(e){return typeof e<"u"}function bP(e){return!Vu(e)}function _0(e){return e===null}function wP(e){return Vu(e)&&!_0(e)&&!Number.isNaN(e)}function kP(e){return typeof e=="function"?/^class /.test(Function.prototype.toString.call(e)):!1}function LP(e){if(e===null)return!0;switch(typeof e){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function EP(e){if(e){const t=Vu(Promise)&&e instanceof Promise,s=e.then&&typeof e.then=="function";return!!(t||s)}else return!1}function xP(e){return e===null||!Vu(e)?!1:typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function"}function TP(e){return typeof e=="string"}function SP(e){return typeof e=="function"}function CP(e){return typeof e=="function"&&e.constructor.name==="AsyncFunction"}const Rn={isNumber:gP,isFiniteNumber:_P,isPlainObject:vP,isArrayLike:yP,isObject:g0,isDefined:Vu,isUndefined:bP,isNull:_0,isDefinedValue:wP,isClass:kP,isPrimitive:LP,isPromise:EP,isIterable:xP,isString:TP,isFunction:SP,isAsyncFunction:CP};function PP(e,t={}){return t=Object.assign({computed:{},customOrders:{},nullRank:1,undefinedRank:1},t),e.sort(IP(t)),e}function IP(e={}){const t=Ig(e.by),s=Ig(e.order),{customOrders:r,computed:n}=e;return function u(d,h,m=0){const y=s[m]||"asc";if(!(y==="asc"||y==="desc"||r[y]))return 0;let v,w,T;return t.length?(w=Rn.isDefined(d[t[m]])?d[t[m]]:n[t[m]]&&n[t[m]](d),T=Rn.isDefined(h[t[m]])?h[t[m]]:n[t[m]]&&n[t[m]](h)):(w=d,T=h),r&&r[y]?v=r[y].indexOf(w)-r[y].indexOf(T):w===T?v=0:Rn.isNull(w)&&Rn.isUndefined(T)?v=y==="asc"?1:y==="desc"?-1:0:Rn.isUndefined(w)&&Rn.isNull(T)?v=y==="asc"?-1:y==="desc"?1:0:Rn.isNull(w)&&Rn.isDefinedValue(T)?v=e.nullRank:Rn.isUndefined(w)&&Rn.isDefinedValue(T)?v=e.undefinedRank:Rn.isNull(T)&&Rn.isDefinedValue(w)?v=-e.nullRank:Rn.isUndefined(T)&&Rn.isDefinedValue(w)?v=-e.undefinedRank:(v=w<T?-1:w>T?1:0,y==="desc"&&(v=v*-1)),v===0&&Rn.isDefined(t[m+1])&&(v=u(d,h,m+1)),v}}const NP={class:"input-group"},MP=["value"],OP={key:0,class:"bi bi-sort-up"},AP={key:1,class:"bi bi-sort-down"},RP={__name:"SortBy",props:{sortByAvailable:{type:Array,required:!0},sortBy:{type:String,required:!0},orderBy:{type:String,default:"asc"}},emits:["update:sortBy","update:orderBy"],setup(e,{emit:t}){const s=e,r=s.sortByAvailable,n=Be(s.sortBy),u=Be(s.orderBy),d=t;function h(){u.value=u.value==="asc"?"desc":"asc",d("update:orderBy",u.value)}return it(n,m=>{d("update:sortBy",m)}),(m,y)=>(ge(),Oe(ht,null,[le("div",NP,[tn(le("select",{"onUpdate:modelValue":y[0]||(y[0]=v=>n.value=v),class:"form-select",id:"sortby"},[(ge(!0),Oe(ht,null,ai(W(r),v=>(ge(),Oe("option",{key:`sort-${v.field_name}`,value:v.field_name},ze(v.label),9,MP))),128))],512),[[Qa,n.value]]),le("button",{class:"btn btn-outline-secondary",onClick:h},[u.value==="asc"?(ge(),Oe("i",OP)):(ge(),Oe("i",AP))])]),y[1]||(y[1]=le("div",null,null,-1))],64))}};var DP=typeof global=="object"&&global&&global.Object===Object&&global,BP=typeof self=="object"&&self&&self.Object===Object&&self,v0=DP||BP||Function("return this")(),vc=v0.Symbol,y0=Object.prototype,FP=y0.hasOwnProperty,zP=y0.toString,tu=vc?vc.toStringTag:void 0;function $P(e){var t=FP.call(e,tu),s=e[tu];try{e[tu]=void 0;var r=!0}catch{}var n=zP.call(e);return r&&(t?e[tu]=s:delete e[tu]),n}var UP=Object.prototype,GP=UP.toString;function HP(e){return GP.call(e)}var VP="[object Null]",jP="[object Undefined]",Ng=vc?vc.toStringTag:void 0;function qP(e){return e==null?e===void 0?jP:VP:Ng&&Ng in Object(e)?$P(e):HP(e)}function WP(e){return e!=null&&typeof e=="object"}var ZP="[object Symbol]";function YP(e){return typeof e=="symbol"||WP(e)&&qP(e)==ZP}var XP=/\s/;function KP(e){for(var t=e.length;t--&&XP.test(e.charAt(t)););return t}var JP=/^\s+/;function QP(e){return e&&e.slice(0,KP(e)+1).replace(JP,"")}function Mf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mg=NaN,eI=/^[-+]0x[0-9a-f]+$/i,tI=/^0b[01]+$/i,nI=/^0o[0-7]+$/i,iI=parseInt;function Og(e){if(typeof e=="number")return e;if(YP(e))return Mg;if(Mf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QP(e);var s=tI.test(e);return s||nI.test(e)?iI(e.slice(2),s?2:8):eI.test(e)?Mg:+e}var Hd=function(){return v0.Date.now()},rI="Expected a function",sI=Math.max,aI=Math.min;function oI(e,t,s){var r,n,u,d,h,m,y=0,v=!1,w=!1,T=!0;if(typeof e!="function")throw new TypeError(rI);t=Og(t)||0,Mf(s)&&(v=!!s.leading,w="maxWait"in s,u=w?sI(Og(s.maxWait)||0,t):u,T="trailing"in s?!!s.trailing:T);function P(k){var S=r,B=n;return r=n=void 0,y=k,d=e.apply(B,S),d}function O(k){return y=k,h=setTimeout(A,t),v?P(k):d}function F(k){var S=k-m,B=k-y,D=t-S;return w?aI(D,u-B):D}function j(k){var S=k-m,B=k-y;return m===void 0||S>=t||S<0||w&&B>=u}function A(){var k=Hd();if(j(k))return U(k);h=setTimeout(A,F(k))}function U(k){return h=void 0,T&&r?P(k):(r=n=void 0,d)}function H(){h!==void 0&&clearTimeout(h),y=0,r=m=n=h=void 0}function _(){return h===void 0?d:U(Hd())}function x(){var k=Hd(),S=j(k);if(r=arguments,n=this,m=k,S){if(h===void 0)return O(m);if(w)return clearTimeout(h),h=setTimeout(A,t),P(m)}return h===void 0&&(h=setTimeout(A,t)),d}return x.cancel=H,x.flush=_,x}const uI={class:"input-group mb-2"},lI={__name:"SearchForm",emits:["update:searchString"],setup(e,{emit:t}){const s=Be(""),r=t,n=oI(()=>{r("update:searchString",s.value)},500),u=()=>{n()};return(d,h)=>(ge(),Oe("div",uI,[tn(le("input",{type:"text",class:"form-control",id:"search","onUpdate:modelValue":h[0]||(h[0]=m=>s.value=m),onInput:u},null,544),[[_s,s.value]]),h[1]||(h[1]=le("label",{for:"search",class:"input-group-text"},[le("i",{class:"bi bi-search"})],-1))]))}},cI=["href"],dI={key:0},fI={key:1},hI=["href"],pI={key:2},Il=200,mI=yt({__name:"Credits",props:{media:{},linkColor:{},class:{}},setup(e){const t=e,s=he(()=>t.media.license&&t.media.license.length>Il?t.media.license.slice(0,Il):t.media.license),r=he(()=>t.media.author&&t.media.author.length>Il?t.media.author.slice(0,Il):t.media.author);return(n,u)=>(ge(),Oe("div",{class:wt(t.class)},[le("span",null,[t.media.urlSource?(ge(),Oe("a",{key:0,class:wt(t.linkColor?t.linkColor:"link-light"),href:t.media.urlSource,target:"_blank"},ze(r.value),11,cI)):ft("",!0)]),s.value&&r.value?(ge(),Oe("span",dI," - ")):ft("",!0),t.media.licenseUrl?(ge(),Oe("span",fI,[le("a",{class:wt(t.linkColor?t.linkColor:"link-light"),href:t.media.licenseUrl,target:"_blank",style:{"margin-left":"0.3em"}},ze(s.value),11,hI)])):(ge(),Oe("span",pI,ze(s.value),1))],2))}}),yc=Vn(mI,[["__scopeId","data-v-eb6cb2b5"]]),gI=yt({__name:"SingleButtonAudioPlayer",props:{audio:{}},setup(e){const t=e,s=new Audio(t.audio.url),r=Be(!1);s.addEventListener("ended",u=>{s.currentTime=0,r.value=!1});function n(){r.value?(s.pause(),s.currentTime=0,r.value=!1):(s.play(),r.value=!0)}return(u,d)=>{const h=ph;return ge(),nt(h,null,{target:qe(()=>[le("i",{onClick:d[0]||(d[0]=m=>n()),class:wt(r.value?"bi bi-pause-circle":"bi bi-play-circle")},null,2)]),default:qe(()=>[Ge(yc,{media:t.audio,"link-color":"link-light",class:""},null,8,["media"])]),_:1})}}}),_I={class:"image-wrapper"},vI={key:0,class:"loader"},yI=["src","alt","aria-label"],bI=yt({__name:"Image",props:{imageUrl:{type:String,required:!0},ariaLabel:String,alt:String,class:String},setup(e){const t=e,s=Be(co),r=Be(!1);function n(u){const d=new Image;r.value=!1,d.onload=()=>{s.value=u,r.value=!0},d.onerror=()=>{s.value=co,r.value=!0},d.src=u}return qi(()=>{n(t.imageUrl)}),it(()=>t.imageUrl,u=>{n(u)}),(u,d)=>(ge(),Oe("div",_I,[r.value?ft("",!0):(ge(),Oe("div",vI)),le("img",{src:s.value,alt:e.alt,"aria-label":e.ariaLabel,class:wt(r.value?"loaded":"")},null,10,yI)]))}}),b0=Vn(bI,[["__scopeId","data-v-3d10a3a3"]]),wI={class:"col card thumbnail"},kI={class:"card-img-overlay"},LI={class:"card-title h6"},EI=["href"],xI={class:"player"},TI=yt({__name:"TaxonThumbnail",props:{picture:{},audio:{},vernacularName:{},acceptedScientificName:{},urlDetailPage:{}},setup(e){const t=e;return(s,r)=>{var m,y,v;const n=b0,u=gI,d=yc,h=uh;return ge(),Oe("div",wI,[Ge(n,{"image-url":(m=t.picture)==null?void 0:m.url,alt:(y=t.picture)==null?void 0:y.url,title:"Source: "+((v=t.picture)==null?void 0:v.source),class:"card-img"},null,8,["image-url","alt","title"]),le("div",kI,[le("div",LI,[le("a",{style:{color:"inherit","text-decoration":"inherit"},href:t.urlDetailPage,target:"_blank"},[le("span",null,ze(t.vernacularName),1)],8,EI),le("div",xI,[t.audio?(ge(),nt(u,{key:0,audio:t.audio},null,8,["audio"])):ft("",!0)]),t.picture.source?(ge(),nt(h,{key:0,click:!0,"close-on-hide":!0,delay:{show:0,hide:0}},{target:qe(()=>r[0]||(r[0]=[le("i",{class:"bi bi-c-square-fill copyright-icon"},null,-1)])),default:qe(()=>[Ge(d,{"link-color":"link-dark",media:t.picture,class:""},null,8,["media"])]),_:1})):ft("",!0)])])])}}}),SI=Vn(TI,[["__scopeId","data-v-9a501436"]]),CI={class:"col"},PI={class:"card h-100 mb-2"},II={class:"taxon-photo"},NI={key:0,class:"caption"},MI={class:"card-body"},OI={class:"card-text"},AI={class:"card-title text-wrap"},RI={class:"text-body-secondary"},DI={key:0,class:"text-body-secondary"},BI={class:"text-body-secondary"},FI=["href"],zI=["src"],$I={class:"card-footer"},UI={class:"text-body-secondary"},GI=yt({__name:"TaxonDetailed",props:{picture:{},audio:{},vernacularName:{},acceptedScientificName:{},urlDetailPage:{},nbObservations:{},lastSeenDate:{}},setup(e){const t=e;return(s,r)=>{var u,d,h,m;const n=b0;return ge(),Oe("div",CI,[le("div",PI,[le("div",II,[Ge(n,{"image-url":(u=t.picture)==null?void 0:u.url,alt:(d=t.picture)==null?void 0:d.urlSource,title:(h=t.picture)!=null&&h.source?"Source: "+((m=t.picture)==null?void 0:m.source):""},null,8,["image-url","alt","title"]),t.picture.author?(ge(),Oe("div",NI,[Ge(yc,{"link-color":"link-light",media:t.picture,class:""},null,8,["media"])])):ft("",!0)]),le("div",MI,[le("div",OI,[le("h5",AI,ze(t.vernacularName),1),le("small",RI,[le("strong",null,ze(s.$t("taxon.scientificName"))+" :",1),tt(" "+ze(t.acceptedScientificName),1)]),r[1]||(r[1]=le("br",null,null,-1)),t.nbObservations?(ge(),Oe("small",DI,[le("strong",null,ze(s.$t("taxon.nbObservations"))+" : ",1),tt(ze(t.nbObservations),1)])):ft("",!0),r[2]||(r[2]=le("br",null,null,-1)),le("small",BI,[le("a",{href:t.urlDetailPage,target:"_blank",class:"badge bg-light text-secondary border border-secondary text-decoration-none"},[le("strong",null,[tt(ze(s.$t("taxon.learnMore"))+" ",1),r[0]||(r[0]=le("i",{class:"bi bi-arrow-right"},null,-1))])],8,FI)]),r[3]||(r[3]=le("br",null,null,-1)),t.audio?(ge(),Oe("audio",{key:1,class:"audio",controls:"",src:t.audio.url,ref:"audio"},null,8,zI)):ft("",!0),t.audio?(ge(),nt(yc,{key:2,class:"small","link-color":"text-muted",media:t.audio},null,8,["media"])):ft("",!0)])]),le("div",$I,[le("small",UI,ze(s.$t("taxon.lastSeenDate"))+" : "+ze(t==null?void 0:t.lastSeenDate.toLocaleDateString()),1)])])])}}}),HI=Vn(GI,[["__scopeId","data-v-24d6d1b3"]]),VI=yt({__name:"TaxonView",props:{taxon:{}},setup(e){const{mode:t,connector:s,lang:r,customDetailPage:n}=rn.getInstance(),d=e.taxon,h=Be([]),m=Be(null),y=Be(d.vernacularName);function v(F){return n.value?n.value.replace("{taxonID}",F):s.value.getTaxonDetailPage(d.taxonId)}function w(){h.value=[],d.taxonId&&s.value.imageSource.fetchPicture(d.taxonId,s.value).then(F=>{h.value=F})}function T(){m.value=null,d.taxonId&&s.value.soundSource.fetchSound(d.taxonId,s.value).then(F=>{F&&(m.value=F[0])})}const P=he(()=>h.value?h.value.length==0?{url:co,typeMedia:Jn.image}:h.value[0]:{url:co,typeMedia:Jn.image});function O(){s.value.fetchVernacularName(d.taxonId).then(F=>{F&&(y.value=F.split(",")[0],d.vernacularName=y.value)})}return w(),T(),O(),it(r,()=>{O()}),(F,j)=>{var A,U;return W(t)=="gallery"?(ge(),nt(SI,{key:0,picture:P.value,audio:m.value,"vernacular-name":y.value||W(d).acceptedScientificName,"url-detail-page":v(W(d).taxonId),"accepted-scientific-name":W(d).acceptedScientificName},null,8,["picture","audio","vernacular-name","url-detail-page","accepted-scientific-name"])):(ge(),nt(HI,{key:1,picture:P.value,audio:m.value,"accepted-scientific-name":W(d).acceptedScientificName,"vernacular-name":y.value||W(d).acceptedScientificName,"url-detail-page":v(W(d).taxonId),"nb-observations":(A=W(d))==null?void 0:A.nbObservations,"last-seen-date":(U=W(d))==null?void 0:U.lastSeenDate},null,8,["picture","audio","accepted-scientific-name","vernacular-name","url-detail-page","nb-observations","last-seen-date"]))}}}),bc={Animalia:{Mammalia:{Icon:"fas fa-paw"},Aves:{Icon:"fas fa-dove"},Reptilia:{Icon:"fas fa-dragon"},Amphibia:{Icon:"fas fa-frog"},Insecta:{Icon:"fas fa-bug"},Arachnida:{Icon:"fas fa-spider"},Gastropoda:{Icon:"fas fa-paw"},Bivalvia:{Icon:"fas fa-shrimp"}},Plantae:{Magnoliopsida:{Icon:"fas fa-leaf"},Liliopsida:{Icon:"fas fa-leaf"},Pinopsida:{Icon:"fas fa-tree"}}},jI={__name:"TaxonClassFilterBadge",emits:["select:class"],setup(e,{emit:t}){const s=Be(null);function r(u){s.value=s.value==u?null:u,n("select:class",s.value)}const n=t;return(u,d)=>{const h=uE,m=oE,y=ph;return ge(),nt(y,null,{target:qe(()=>[Ge(m,{variant:"secondary",strategy:"fixed"},{"button-content":qe(()=>d[0]||(d[0]=[le("i",{class:"bi bi-funnel"},null,-1)])),default:qe(()=>[(ge(!0),Oe(ht,null,ai(Object.keys(W(bc).Animalia),v=>(ge(),nt(h,{key:v,onClick:w=>r(v),active:s.value==v},{default:qe(()=>[tt(ze(u.$t(`taxonsClass.Animalia.${v}`)),1)]),_:2},1032,["onClick","active"]))),128)),(ge(!0),Oe(ht,null,ai(Object.keys(W(bc).Plantae),v=>(ge(),nt(h,{key:v,onClick:w=>r(v),active:s.value==v},{default:qe(()=>[tt(ze(u.$t(`taxonsClass.Plantae.${v}`)),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),default:qe(()=>[tt(" "+ze(u.$t("taxon.classFilter")),1)]),_:1})}}};class qI{constructor(t,s,r,n){this.connector=t,this.props=s,this.parameterStore=r,this.searchResult=Be({taxons:[],datasets:[]}),this.filteredSpecies=Be([]),this.searchString=Be(""),this.filterClass=Be(null),this.sortBy=Be(""),this.orderBy=Be("desc"),this.pageIndex=Be(0),this.loadingObservations=Be(!1),this.loadingError=Be(!1),this.sortBy.value=s.sortBy,this.orderBy.value=s.order,this.speciesListShowed=he(()=>{if(!this.filteredSpecies.value.length)return[];let u=[...this.filteredSpecies.value];return this.searchString.value===""&&(u=PP(u,{by:this.sortBy.value,order:this.orderBy.value})),n.value>0&&(u=u.slice(0,n.value)),u.slice(0,(this.pageIndex.value+1)*20)})}fetchSpeciesList(t){t.length&&(this.loadingObservations.value=!0,this.loadingError.value=!1,this.filteredSpecies.value=[],this.connector.value.fetchOccurrence({geometry:t,dateMin:this.parameterStore.dateMin.value,dateMax:this.parameterStore.dateMax.value,class:this.parameterStore.class.value}).then(s=>{this.searchResult.value=s,this.filteredSpecies.value=s.taxons,this.pageIndex.value=0,this.loadingObservations.value=!1}).catch(()=>{this.loadingError.value=!0,this.loadingObservations.value=!1}))}updateFilteredSpecies(){const t=this.searchResult.value.taxons;if(!t){this.filteredSpecies.value=[];return}const s=(r,n=[])=>{let u=[...r];this.searchString.value&&this.searchString.value!=""&&(u=u.filter(d=>this.connector.value.scoringSearchClass.getScore(d,this.searchString.value,n)>0),u.sort(this.connector.value.scoringSearchClass.scoring(this.searchString.value,n))),this.filterClass.value&&(u=u.filter(d=>d.class===this.filterClass.value)),this.filteredSpecies.value=u};this.searchString&&this.connector.value.isSearchOnAPIAvailable?this.connector.value.searchOnAPI(this.searchString.value).then(r=>s(t,r)).catch(()=>s(t)):s(t)}onScroll(t){const{scrollTop:s,clientHeight:r,scrollHeight:n}=t.target;s+r>=n-50&&this.pageIndex.value++}}const WI={id:"taxon-list",class:"card"},ZI={key:0,class:"card-header"},YI={class:"card-body"},XI={class:"filter-dropdown"},KI={__name:"TaxonList",props:{nbTaxonPerLine:{type:Number},showFilters:{type:Boolean,default:!0},sortBy:{type:String,default:"nbObservations",validator:e=>["vernacularName","acceptedScientificName","nbObservations","lastSeenDate"].includes(e)},order:{type:String,default:"desc",validator:e=>["asc","desc"].includes(e)},mode:{type:String,validator:e=>Object.keys(fr).includes(e)}},setup(e){const{t}=Vi(),s=rn.getInstance(),{wkt:r,dateMin:n,dateMax:u,nbTaxonPerLine:d,showFilters:h,connector:m,mode:y,class:v,nbDisplayedSpecies:w}=s,T=e;d.value=T.nbTaxonPerLine??d.value,y.value=T.mode??y.value;const P=new qI(m,{sortBy:T.sortBy,order:T.order,nbDisplayedSpecies:w},{wkt:r,dateMin:n,dateMax:u,class:v},w),{searchResult:O,filteredSpecies:F,searchString:j,filterClass:A,sortBy:U,orderBy:H,pageIndex:_,loadingObservations:x,loadingError:k}=P,S=he(()=>O.value.taxons),B=he(()=>O.value.datasets),D=he(()=>{const ee=d.value,q=ee===1?1:Math.round(ee/2);return`row row-cols-${Math.round(q/2)} row-cols-lg-${ee} row-cols-md-${q} g-4`});function R(ee){P.onScroll(ee)}it([j,A],()=>{P.updateFilteredSpecies(),_.value=0}),it([r,v,n,u,m],()=>{O.value={taxons:[],datasets:[]},r.value&&P.fetchSpeciesList(r.value)}),r.value&&(O.value={taxons:[],datasets:[]},P.fetchSpeciesList(r.value));const X=[{field_name:"vernacularName",label:t("taxon.vernacularName")},{field_name:"acceptedScientificName",label:t("taxon.scientificName")},{field_name:"nbObservations",label:t("taxon.nbObservations")},{field_name:"lastSeenDate",label:t("taxon.lastSeenDate")}];return(ee,q)=>{const Z=hP,ne=tP,V=KC;return ge(),Oe("div",WI,[W(h)?(ge(),Oe("div",ZI,[Ge(lI,{"onUpdate:searchString":q[0]||(q[0]=te=>j.value=te)}),Ge(RP,{"sort-by-available":X,"onUpdate:sortBy":q[1]||(q[1]=te=>U.value=te),"onUpdate:orderBy":q[2]||(q[2]=te=>H.value=te),sortBy:W(U),orderBy:W(H)},null,8,["sortBy","orderBy"])])):ft("",!0),le("div",YI,[Ge(Z,{"loading-error":W(k),"loading-observations":W(x),"species-list":S.value,"filter-species-list":W(F)},null,8,["loading-error","loading-observations","species-list","filter-species-list"]),le("div",{id:"taxon-list-content",class:wt(D.value),onScroll:R},[Ge(ne),le("div",XI,[Ge(jI,{"onSelect:class":q[3]||(q[3]=te=>A.value=te)})]),(ge(!0),Oe(ht,null,ai(W(P).speciesListShowed.value,te=>(ge(),nt(VI,{key:te.taxonId,taxon:te},null,8,["taxon"]))),128))],34)]),Ge(V,{"loading-done":W(r).length&&!W(x),"number-of-species":S.value.length,datasets:B.value},null,8,["loading-done","number-of-species","datasets"])])}}},w0=Vn(KI,[["__scopeId","data-v-6dad21b4"]]);var au={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var JI=au.exports,Ag;function QI(){return Ag||(Ag=1,function(e,t){(function(s,r){r(t)})(JI,function(s){var r="1.9.4";function n(o){var f,g,E,I;for(g=1,E=arguments.length;g<E;g++){I=arguments[g];for(f in I)o[f]=I[f]}return o}var u=Object.create||function(){function o(){}return function(f){return o.prototype=f,new o}}();function d(o,f){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var E=g.call(arguments,2);return function(){return o.apply(f,E.length?E.concat(g.call(arguments)):arguments)}}var h=0;function m(o){return"_leaflet_id"in o||(o._leaflet_id=++h),o._leaflet_id}function y(o,f,g){var E,I,G,ie;return ie=function(){E=!1,I&&(G.apply(g,I),I=!1)},G=function(){E?I=arguments:(o.apply(g,arguments),setTimeout(ie,f),E=!0)},G}function v(o,f,g){var E=f[1],I=f[0],G=E-I;return o===E&&g?o:((o-I)%G+G)%G+I}function w(){return!1}function T(o,f){if(f===!1)return o;var g=Math.pow(10,f===void 0?6:f);return Math.round(o*g)/g}function P(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function O(o){return P(o).split(/\s+/)}function F(o,f){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var g in f)o.options[g]=f[g];return o.options}function j(o,f,g){var E=[];for(var I in o)E.push(encodeURIComponent(g?I.toUpperCase():I)+"="+encodeURIComponent(o[I]));return(!f||f.indexOf("?")===-1?"?":"&")+E.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function U(o,f){return o.replace(A,function(g,E){var I=f[E];if(I===void 0)throw new Error("No value provided for variable "+g);return typeof I=="function"&&(I=I(f)),I})}var H=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function _(o,f){for(var g=0;g<o.length;g++)if(o[g]===f)return g;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var S=0;function B(o){var f=+new Date,g=Math.max(0,16-(f-S));return S=f+g,window.setTimeout(o,g)}var D=window.requestAnimationFrame||k("RequestAnimationFrame")||B,R=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function X(o,f,g){if(g&&D===B)o.call(f);else return D.call(window,d(o,f))}function ee(o){o&&R.call(window,o)}var q={__proto__:null,extend:n,create:u,bind:d,get lastId(){return h},stamp:m,throttle:y,wrapNum:v,falseFn:w,formatNum:T,trim:P,splitWords:O,setOptions:F,getParamString:j,template:U,isArray:H,indexOf:_,emptyImageUrl:x,requestFn:D,cancelFn:R,requestAnimFrame:X,cancelAnimFrame:ee};function Z(){}Z.extend=function(o){var f=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=f.__super__=this.prototype,E=u(g);E.constructor=f,f.prototype=E;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(f[I]=this[I]);return o.statics&&n(f,o.statics),o.includes&&(ne(o.includes),n.apply(null,[E].concat(o.includes))),n(E,o),delete E.statics,delete E.includes,E.options&&(E.options=g.options?u(g.options):{},n(E.options,o.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var G=0,ie=E._initHooks.length;G<ie;G++)E._initHooks[G].call(this)}},f},Z.include=function(o){var f=this.prototype.options;return n(this.prototype,o),o.options&&(this.prototype.options=f,this.mergeOptions(o.options)),this},Z.mergeOptions=function(o){return n(this.prototype.options,o),this},Z.addInitHook=function(o){var f=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function ne(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=H(o)?o:[o];for(var f=0;f<o.length;f++)o[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(o,f,g){if(typeof o=="object")for(var E in o)this._on(E,o[E],f);else{o=O(o);for(var I=0,G=o.length;I<G;I++)this._on(o[I],f,g)}return this},off:function(o,f,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var E in o)this._off(E,o[E],f);else{o=O(o);for(var I=arguments.length===1,G=0,ie=o.length;G<ie;G++)I?this._off(o[G]):this._off(o[G],f,g)}return this},_on:function(o,f,g,E){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(o,f,g)===!1){g===this&&(g=void 0);var I={fn:f,ctx:g};E&&(I.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(I)}},_off:function(o,f,g){var E,I,G;if(this._events&&(E=this._events[o],!!E)){if(arguments.length===1){if(this._firingCount)for(I=0,G=E.length;I<G;I++)E[I].fn=w;delete this._events[o];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ie=this._listens(o,f,g);if(ie!==!1){var pe=E[ie];this._firingCount&&(pe.fn=w,this._events[o]=E=E.slice()),E.splice(ie,1)}}},fire:function(o,f,g){if(!this.listens(o,g))return this;var E=n({},f,{type:o,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var I=this._events[o];if(I){this._firingCount=this._firingCount+1||1;for(var G=0,ie=I.length;G<ie;G++){var pe=I[G],ye=pe.fn;pe.once&&this.off(o,ye,pe.ctx),ye.call(pe.ctx||this,E)}this._firingCount--}}return g&&this._propagateEvent(E),this},listens:function(o,f,g,E){typeof o!="string"&&console.warn('"string" type argument expected');var I=f;typeof f!="function"&&(E=!!f,I=void 0,g=void 0);var G=this._events&&this._events[o];if(G&&G.length&&this._listens(o,I,g)!==!1)return!0;if(E){for(var ie in this._eventParents)if(this._eventParents[ie].listens(o,f,g,E))return!0}return!1},_listens:function(o,f,g){if(!this._events)return!1;var E=this._events[o]||[];if(!f)return!!E.length;g===this&&(g=void 0);for(var I=0,G=E.length;I<G;I++)if(E[I].fn===f&&E[I].ctx===g)return I;return!1},once:function(o,f,g){if(typeof o=="object")for(var E in o)this._on(E,o[E],f,!0);else{o=O(o);for(var I=0,G=o.length;I<G;I++)this._on(o[I],f,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[m(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[m(o)],this},_propagateEvent:function(o){for(var f in this._eventParents)this._eventParents[f].fire(o.type,n({layer:o.target,propagatedFrom:o.target},o),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var te=Z.extend(V);function ae(o,f,g){this.x=g?Math.round(o):o,this.y=g?Math.round(f):f}var ve=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(o){return this.clone()._add(ce(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ce(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ae(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ae(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ve(this.x),this.y=ve(this.y),this},distanceTo:function(o){o=ce(o);var f=o.x-this.x,g=o.y-this.y;return Math.sqrt(f*f+g*g)},equals:function(o){return o=ce(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ce(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function ce(o,f,g){return o instanceof ae?o:H(o)?new ae(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ae(o.x,o.y):new ae(o,f,g)}function ke(o,f){if(o)for(var g=f?[o,f]:o,E=0,I=g.length;E<I;E++)this.extend(g[E])}ke.prototype={extend:function(o){var f,g;if(!o)return this;if(o instanceof ae||typeof o[0]=="number"||"x"in o)f=g=ce(o);else if(o=De(o),f=o.min,g=o.max,!f||!g)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=g.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var f,g;return typeof o[0]=="number"||o instanceof ae?o=ce(o):o=De(o),o instanceof ke?(f=o.min,g=o.max):f=g=o,f.x>=this.min.x&&g.x<=this.max.x&&f.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=De(o);var f=this.min,g=this.max,E=o.min,I=o.max,G=I.x>=f.x&&E.x<=g.x,ie=I.y>=f.y&&E.y<=g.y;return G&&ie},overlaps:function(o){o=De(o);var f=this.min,g=this.max,E=o.min,I=o.max,G=I.x>f.x&&E.x<g.x,ie=I.y>f.y&&E.y<g.y;return G&&ie},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var f=this.min,g=this.max,E=Math.abs(f.x-g.x)*o,I=Math.abs(f.y-g.y)*o;return De(ce(f.x-E,f.y-I),ce(g.x+E,g.y+I))},equals:function(o){return o?(o=De(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function De(o,f){return!o||o instanceof ke?o:new ke(o,f)}function Ae(o,f){if(o)for(var g=f?[o,f]:o,E=0,I=g.length;E<I;E++)this.extend(g[E])}Ae.prototype={extend:function(o){var f=this._southWest,g=this._northEast,E,I;if(o instanceof Ee)E=o,I=o;else if(o instanceof Ae){if(E=o._southWest,I=o._northEast,!E||!I)return this}else return o?this.extend(xe(o)||Pe(o)):this;return!f&&!g?(this._southWest=new Ee(E.lat,E.lng),this._northEast=new Ee(I.lat,I.lng)):(f.lat=Math.min(E.lat,f.lat),f.lng=Math.min(E.lng,f.lng),g.lat=Math.max(I.lat,g.lat),g.lng=Math.max(I.lng,g.lng)),this},pad:function(o){var f=this._southWest,g=this._northEast,E=Math.abs(f.lat-g.lat)*o,I=Math.abs(f.lng-g.lng)*o;return new Ae(new Ee(f.lat-E,f.lng-I),new Ee(g.lat+E,g.lng+I))},getCenter:function(){return new Ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ee||"lat"in o?o=xe(o):o=Pe(o);var f=this._southWest,g=this._northEast,E,I;return o instanceof Ae?(E=o.getSouthWest(),I=o.getNorthEast()):E=I=o,E.lat>=f.lat&&I.lat<=g.lat&&E.lng>=f.lng&&I.lng<=g.lng},intersects:function(o){o=Pe(o);var f=this._southWest,g=this._northEast,E=o.getSouthWest(),I=o.getNorthEast(),G=I.lat>=f.lat&&E.lat<=g.lat,ie=I.lng>=f.lng&&E.lng<=g.lng;return G&&ie},overlaps:function(o){o=Pe(o);var f=this._southWest,g=this._northEast,E=o.getSouthWest(),I=o.getNorthEast(),G=I.lat>f.lat&&E.lat<g.lat,ie=I.lng>f.lng&&E.lng<g.lng;return G&&ie},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,f){return o?(o=Pe(o),this._southWest.equals(o.getSouthWest(),f)&&this._northEast.equals(o.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(o,f){return o instanceof Ae?o:new Ae(o,f)}function Ee(o,f,g){if(isNaN(o)||isNaN(f))throw new Error("Invalid LatLng object: ("+o+", "+f+")");this.lat=+o,this.lng=+f,g!==void 0&&(this.alt=+g)}Ee.prototype={equals:function(o,f){if(!o)return!1;o=xe(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(f===void 0?1e-9:f)},toString:function(o){return"LatLng("+T(this.lat,o)+", "+T(this.lng,o)+")"},distanceTo:function(o){return K.distance(this,xe(o))},wrap:function(){return K.wrapLatLng(this)},toBounds:function(o){var f=180*o/40075017,g=f/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-f,this.lng-g],[this.lat+f,this.lng+g])},clone:function(){return new Ee(this.lat,this.lng,this.alt)}};function xe(o,f,g){return o instanceof Ee?o:H(o)&&typeof o[0]!="object"?o.length===3?new Ee(o[0],o[1],o[2]):o.length===2?new Ee(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ee(o.lat,"lng"in o?o.lng:o.lon,o.alt):f===void 0?null:new Ee(o,f,g)}var de={latLngToPoint:function(o,f){var g=this.projection.project(o),E=this.scale(f);return this.transformation._transform(g,E)},pointToLatLng:function(o,f){var g=this.scale(f),E=this.transformation.untransform(o,g);return this.projection.unproject(E)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var f=this.projection.bounds,g=this.scale(o),E=this.transformation.transform(f.min,g),I=this.transformation.transform(f.max,g);return new ke(E,I)},infinite:!1,wrapLatLng:function(o){var f=this.wrapLng?v(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?v(o.lat,this.wrapLat,!0):o.lat,E=o.alt;return new Ee(g,f,E)},wrapLatLngBounds:function(o){var f=o.getCenter(),g=this.wrapLatLng(f),E=f.lat-g.lat,I=f.lng-g.lng;if(E===0&&I===0)return o;var G=o.getSouthWest(),ie=o.getNorthEast(),pe=new Ee(G.lat-E,G.lng-I),ye=new Ee(ie.lat-E,ie.lng-I);return new Ae(pe,ye)}},K=n({},de,{wrapLng:[-180,180],R:6371e3,distance:function(o,f){var g=Math.PI/180,E=o.lat*g,I=f.lat*g,G=Math.sin((f.lat-o.lat)*g/2),ie=Math.sin((f.lng-o.lng)*g/2),pe=G*G+Math.cos(E)*Math.cos(I)*ie*ie,ye=2*Math.atan2(Math.sqrt(pe),Math.sqrt(1-pe));return this.R*ye}}),Te=6378137,Ne={R:Te,MAX_LATITUDE:85.0511287798,project:function(o){var f=Math.PI/180,g=this.MAX_LATITUDE,E=Math.max(Math.min(g,o.lat),-g),I=Math.sin(E*f);return new ae(this.R*o.lng*f,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(o){var f=180/Math.PI;return new Ee((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*f,o.x*f/this.R)},bounds:function(){var o=Te*Math.PI;return new ke([-o,-o],[o,o])}()};function Me(o,f,g,E){if(H(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=f,this._c=g,this._d=E}Me.prototype={transform:function(o,f){return this._transform(o.clone(),f)},_transform:function(o,f){return f=f||1,o.x=f*(this._a*o.x+this._b),o.y=f*(this._c*o.y+this._d),o},untransform:function(o,f){return f=f||1,new ae((o.x/f-this._b)/this._a,(o.y/f-this._d)/this._c)}};function N(o,f,g,E){return new Me(o,f,g,E)}var Q=n({},K,{code:"EPSG:3857",projection:Ne,transformation:function(){var o=.5/(Math.PI*Ne.R);return N(o,.5,-o,.5)}()}),se=n({},Q,{code:"EPSG:900913"});function _e(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Le(o,f){var g="",E,I,G,ie,pe,ye;for(E=0,G=o.length;E<G;E++){for(pe=o[E],I=0,ie=pe.length;I<ie;I++)ye=pe[I],g+=(I?"L":"M")+ye.x+" "+ye.y;g+=f?Ke.svg?"z":"x":""}return g||"M0 0"}var we=document.documentElement.style,Y="ActiveXObject"in window,z=Y&&!document.addEventListener,oe="msLaunchUri"in navigator&&!("documentMode"in document),me=fn("webkit"),$e=fn("android"),Se=fn("android 2")||fn("android 3"),re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),be=$e&&fn("Google")&&re<537&&!("AudioNode"in window),He=!!window.opera,et=!oe&&fn("chrome"),Re=fn("gecko")&&!me&&!He&&!Y,Ht=!et&&fn("safari"),Xe=fn("phantom"),Ye="OTransition"in we,In=navigator.platform.indexOf("Win")===0,dn=Y&&"transition"in we,jr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,We="MozPerspective"in we,jn=!window.L_DISABLE_3D&&(dn||jr||We)&&!Ye&&!Xe,Wi=typeof orientation<"u"||fn("mobile"),yo=Wi&&me,qn=Wi&&jr,qr=!window.PointerEvent&&window.MSPointerEvent,ni=!!(window.PointerEvent||qr),bo="ontouchstart"in window||!!window.TouchEvent,ma=!window.L_NO_TOUCH&&(bo||ni),Qc=Wi&&He,ju=Wi&&Re,_r=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fe=function(){var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",w,f),window.removeEventListener("testPassiveEventSupport",w,f)}catch{}return o}(),ga=function(){return!!document.createElement("canvas").getContext}(),Wr=!!(document.createElementNS&&_e("svg").createSVGRect),Ps=!!Wr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qu=!Wr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var f=o.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),wo=navigator.platform.indexOf("Mac")===0,Wu=navigator.platform.indexOf("Linux")===0;function fn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ke={ie:Y,ielt9:z,edge:oe,webkit:me,android:$e,android23:Se,androidStock:be,opera:He,chrome:et,gecko:Re,safari:Ht,phantom:Xe,opera12:Ye,win:In,ie3d:dn,webkit3d:jr,gecko3d:We,any3d:jn,mobile:Wi,mobileWebkit:yo,mobileWebkit3d:qn,msPointer:qr,pointer:ni,touch:ma,touchNative:bo,mobileOpera:Qc,mobileGecko:ju,retina:_r,passiveEvents:Fe,canvas:ga,svg:Wr,vml:qu,inlineSvg:Ps,mac:wo,linux:Wu},Is=Ke.msPointer?"MSPointerDown":"pointerdown",Zu=Ke.msPointer?"MSPointerMove":"pointermove",ko=Ke.msPointer?"MSPointerUp":"pointerup",Yu=Ke.msPointer?"MSPointerCancel":"pointercancel",yn={touchstart:Is,touchmove:Zu,touchend:ko,touchcancel:Yu},_a={touchstart:ba,touchmove:ya,touchend:ya,touchcancel:ya},li={},Zi=!1;function vr(o,f,g){return f==="touchstart"&&ed(),_a[f]?(g=_a[f].bind(this,g),o.addEventListener(yn[f],g,!1),g):(console.warn("wrong event specified:",f),w)}function Lo(o,f,g){if(!yn[f]){console.warn("wrong event specified:",f);return}o.removeEventListener(yn[f],g,!1)}function va(o){li[o.pointerId]=o}function Ns(o){li[o.pointerId]&&(li[o.pointerId]=o)}function Yt(o){delete li[o.pointerId]}function ed(){Zi||(document.addEventListener(Is,va,!0),document.addEventListener(Zu,Ns,!0),document.addEventListener(ko,Yt,!0),document.addEventListener(Yu,Yt,!0),Zi=!0)}function ya(o,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var g in li)f.touches.push(li[g]);f.changedTouches=[f],o(f)}}function ba(o,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&qt(f),ya(o,f)}function Ms(o){var f={},g,E;for(E in o)g=o[E],f[E]=g&&g.bind?g.bind(o):g;return o=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Eo=200;function xo(o,f){o.addEventListener("dblclick",f);var g=0,E;function I(G){if(G.detail!==1){E=G.detail;return}if(!(G.pointerType==="mouse"||G.sourceCapabilities&&!G.sourceCapabilities.firesTouchEvents)){var ie=pn(G);if(!(ie.some(function(ye){return ye instanceof HTMLLabelElement&&ye.attributes.for})&&!ie.some(function(ye){return ye instanceof HTMLInputElement||ye instanceof HTMLSelectElement}))){var pe=Date.now();pe-g<=Eo?(E++,E===2&&f(Ms(G))):E=1,g=pe}}}return o.addEventListener("click",I),{dblclick:f,simDblclick:I}}function Xu(o,f){o.removeEventListener("dblclick",f.dblclick),o.removeEventListener("click",f.simDblclick)}var To=Ea(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bn=Ea(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yr=bn==="webkitTransition"||bn==="OTransition"?bn+"End":"transitionend";function wa(o){return typeof o=="string"?document.getElementById(o):o}function ci(o,f){var g=o.style[f]||o.currentStyle&&o.currentStyle[f];if((!g||g==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(o,null);g=E?E[f]:null}return g==="auto"?null:g}function _t(o,f,g){var E=document.createElement(o);return E.className=f||"",g&&g.appendChild(E),E}function $t(o){var f=o.parentNode;f&&f.removeChild(o)}function ka(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Zr(o){var f=o.parentNode;f&&f.lastChild!==o&&f.appendChild(o)}function br(o){var f=o.parentNode;f&&f.firstChild!==o&&f.insertBefore(o,f.firstChild)}function La(o,f){if(o.classList!==void 0)return o.classList.contains(f);var g=Os(o);return g.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(g)}function at(o,f){if(o.classList!==void 0)for(var g=O(f),E=0,I=g.length;E<I;E++)o.classList.add(g[E]);else if(!La(o,f)){var G=Os(o);di(o,(G?G+" ":"")+f)}}function St(o,f){o.classList!==void 0?o.classList.remove(f):di(o,P((" "+Os(o)+" ").replace(" "+f+" "," ")))}function di(o,f){o.className.baseVal===void 0?o.className=f:o.className.baseVal=f}function Os(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function an(o,f){"opacity"in o.style?o.style.opacity=f:"filter"in o.style&&td(o,f)}function td(o,f){var g=!1,E="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(E)}catch{if(f===1)return}f=Math.round(f*100),g?(g.Enabled=f!==100,g.Opacity=f):o.style.filter+=" progid:"+E+"(opacity="+f+")"}function Ea(o){for(var f=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in f)return o[g];return!1}function wr(o,f,g){var E=f||new ae(0,0);o.style[To]=(Ke.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(g?" scale("+g+")":"")}function Xt(o,f){o._leaflet_pos=f,Ke.any3d?wr(o,f):(o.style.left=f.x+"px",o.style.top=f.y+"px")}function Yi(o){return o._leaflet_pos||new ae(0,0)}var Ci,Yr,So;if("onselectstart"in document)Ci=function(){ot(window,"selectstart",qt)},Yr=function(){Mt(window,"selectstart",qt)};else{var Xr=Ea(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ci=function(){if(Xr){var o=document.documentElement.style;So=o[Xr],o[Xr]="none"}},Yr=function(){Xr&&(document.documentElement.style[Xr]=So,So=void 0)}}function Co(){ot(window,"dragstart",qt)}function As(){Mt(window,"dragstart",qt)}var Nt,Pi;function Po(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Kr(),Nt=o,Pi=o.style.outlineStyle,o.style.outlineStyle="none",ot(window,"keydown",Kr))}function Kr(){Nt&&(Nt.style.outlineStyle=Pi,Nt=void 0,Pi=void 0,Mt(window,"keydown",Kr))}function Nn(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function En(o){var f=o.getBoundingClientRect();return{x:f.width/o.offsetWidth||1,y:f.height/o.offsetHeight||1,boundingClientRect:f}}var xa={__proto__:null,TRANSFORM:To,TRANSITION:bn,TRANSITION_END:yr,get:wa,getStyle:ci,create:_t,remove:$t,empty:ka,toFront:Zr,toBack:br,hasClass:La,addClass:at,removeClass:St,setClass:di,getClass:Os,setOpacity:an,testProp:Ea,setTransform:wr,setPosition:Xt,getPosition:Yi,get disableTextSelection(){return Ci},get enableTextSelection(){return Yr},disableImageDrag:Co,enableImageDrag:As,preventOutline:Po,restoreOutline:Kr,getSizedParentNode:Nn,getScale:En};function ot(o,f,g,E){if(f&&typeof f=="object")for(var I in f)Ta(o,I,f[I],g);else{f=O(f);for(var G=0,ie=f.length;G<ie;G++)Ta(o,f[G],g,E)}return this}var fi="_leaflet_events";function Mt(o,f,g,E){if(arguments.length===1)Rs(o),delete o[fi];else if(f&&typeof f=="object")for(var I in f)bt(o,I,f[I],g);else if(f=O(f),arguments.length===2)Rs(o,function(pe){return _(f,pe)!==-1});else for(var G=0,ie=f.length;G<ie;G++)bt(o,f[G],g,E);return this}function Rs(o,f){for(var g in o[fi]){var E=g.split(/\d/)[0];(!f||f(E))&&bt(o,E,null,null,g)}}var Io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ta(o,f,g,E){var I=f+m(g)+(E?"_"+m(E):"");if(o[fi]&&o[fi][I])return this;var G=function(pe){return g.call(E||o,pe||window.event)},ie=G;!Ke.touchNative&&Ke.pointer&&f.indexOf("touch")===0?G=vr(o,f,G):Ke.touch&&f==="dblclick"?G=xo(o,G):"addEventListener"in o?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?o.addEventListener(Io[f]||f,G,Ke.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(G=function(pe){pe=pe||window.event,Sa(o,pe)&&ie(pe)},o.addEventListener(Io[f],G,!1)):o.addEventListener(f,ie,!1):o.attachEvent("on"+f,G),o[fi]=o[fi]||{},o[fi][I]=G}function bt(o,f,g,E,I){I=I||f+m(g)+(E?"_"+m(E):"");var G=o[fi]&&o[fi][I];if(!G)return this;!Ke.touchNative&&Ke.pointer&&f.indexOf("touch")===0?Lo(o,f,G):Ke.touch&&f==="dblclick"?Xu(o,G):"removeEventListener"in o?o.removeEventListener(Io[f]||f,G,!1):o.detachEvent("on"+f,G),o[fi][I]=null}function hn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ds(o){return Ta(o,"wheel",hn),this}function Jr(o){return ot(o,"mousedown touchstart dblclick contextmenu",hn),o._leaflet_disable_click=!0,this}function qt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Xi(o){return qt(o),hn(o),this}function pn(o){if(o.composedPath)return o.composedPath();for(var f=[],g=o.target;g;)f.push(g),g=g.parentNode;return f}function No(o,f){if(!f)return new ae(o.clientX,o.clientY);var g=En(f),E=g.boundingClientRect;return new ae((o.clientX-E.left)/g.x-f.clientLeft,(o.clientY-E.top)/g.y-f.clientTop)}var Mo=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Oo(o){return Ke.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Mo:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Sa(o,f){var g=f.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var nd={__proto__:null,on:ot,off:Mt,stopPropagation:hn,disableScrollPropagation:Ds,disableClickPropagation:Jr,preventDefault:qt,stop:Xi,getPropagationPath:pn,getMousePosition:No,getWheelDelta:Oo,isExternalTarget:Sa,addListener:ot,removeListener:Mt},Ao=te.extend({run:function(o,f,g,E){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Yi(o),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(o){var f=+new Date-this._startTime,g=this._duration*1e3;f<g?this._runFrame(this._easeOut(f/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,f){var g=this._startPos.add(this._offset.multiplyBy(o));f&&g._round(),Xt(this._el,g),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ut=te.extend({options:{crs:Q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,f){f=F(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(xe(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bn&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,yr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,f,g){if(f=f===void 0?this._zoom:this._limitZoom(f),o=this._limitCenter(xe(o),f,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=n({animate:g.animate},g.zoom),g.pan=n({animate:g.animate,duration:g.duration},g.pan));var E=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,f,g.zoom):this._tryAnimatedPan(o,g.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(o,f,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,f){return this._loaded?this.setView(this.getCenter(),o,{zoom:f}):(this._zoom=o,this)},zoomIn:function(o,f){return o=o||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,f)},zoomOut:function(o,f){return o=o||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,f)},setZoomAround:function(o,f,g){var E=this.getZoomScale(f),I=this.getSize().divideBy(2),G=o instanceof ae?o:this.latLngToContainerPoint(o),ie=G.subtract(I).multiplyBy(1-1/E),pe=this.containerPointToLatLng(I.add(ie));return this.setView(pe,f,{zoom:g})},_getBoundsCenterZoom:function(o,f){f=f||{},o=o.getBounds?o.getBounds():Pe(o);var g=ce(f.paddingTopLeft||f.padding||[0,0]),E=ce(f.paddingBottomRight||f.padding||[0,0]),I=this.getBoundsZoom(o,!1,g.add(E));if(I=typeof f.maxZoom=="number"?Math.min(f.maxZoom,I):I,I===1/0)return{center:o.getCenter(),zoom:I};var G=E.subtract(g).divideBy(2),ie=this.project(o.getSouthWest(),I),pe=this.project(o.getNorthEast(),I),ye=this.unproject(ie.add(pe).divideBy(2).add(G),I);return{center:ye,zoom:I}},fitBounds:function(o,f){if(o=Pe(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,f);return this.setView(g.center,g.zoom,f)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,f){return this.setView(o,this._zoom,{pan:f})},panBy:function(o,f){if(o=ce(o).round(),f=f||{},!o.x&&!o.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ao,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){at(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,f.duration||.25,f.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,f,g){if(g=g||{},g.animate===!1||!Ke.any3d)return this.setView(o,f,g);this._stop();var E=this.project(this.getCenter()),I=this.project(o),G=this.getSize(),ie=this._zoom;o=xe(o),f=f===void 0?ie:f;var pe=Math.max(G.x,G.y),ye=pe*this.getZoomScale(ie,f),Ie=I.distanceTo(E)||1,Ve=1.42,rt=Ve*Ve;function gt(sn){var cl=sn?-1:1,R0=sn?ye:pe,D0=ye*ye-pe*pe+cl*rt*rt*Ie*Ie,B0=2*R0*rt*Ie,pd=D0/B0,Hh=Math.sqrt(pd*pd+1)-pd,F0=Hh<1e-9?-18:Math.log(Hh);return F0}function An(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function gn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function vi(sn){return An(sn)/gn(sn)}var Zn=gt(0);function Ba(sn){return pe*(gn(Zn)/gn(Zn+Ve*sn))}function N0(sn){return pe*(gn(Zn)*vi(Zn+Ve*sn)-An(Zn))/rt}function M0(sn){return 1-Math.pow(1-sn,1.5)}var O0=Date.now(),Uh=(gt(1)-Zn)/Ve,A0=g.duration?1e3*g.duration:1e3*Uh*.8;function Gh(){var sn=(Date.now()-O0)/A0,cl=M0(sn)*Uh;sn<=1?(this._flyToFrame=X(Gh,this),this._move(this.unproject(E.add(I.subtract(E).multiplyBy(N0(cl)/Ie)),ie),this.getScaleZoom(pe/Ba(cl),ie),{flyTo:!0})):this._move(o,f)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Gh.call(this),this},flyToBounds:function(o,f){var g=this._getBoundsCenterZoom(o,f);return this.flyTo(g.center,g.zoom,f)},setMaxBounds:function(o){return o=Pe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var f=this.options.minZoom;return this.options.minZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var f=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,f){this._enforcingBounds=!0;var g=this.getCenter(),E=this._limitCenter(g,this._zoom,Pe(o));return g.equals(E)||this.panTo(E,f),this._enforcingBounds=!1,this},panInside:function(o,f){f=f||{};var g=ce(f.paddingTopLeft||f.padding||[0,0]),E=ce(f.paddingBottomRight||f.padding||[0,0]),I=this.project(this.getCenter()),G=this.project(o),ie=this.getPixelBounds(),pe=De([ie.min.add(g),ie.max.subtract(E)]),ye=pe.getSize();if(!pe.contains(G)){this._enforcingBounds=!0;var Ie=G.subtract(pe.getCenter()),Ve=pe.extend(G).getSize().subtract(ye);I.x+=Ie.x<0?-Ve.x:Ve.x,I.y+=Ie.y<0?-Ve.y:Ve.y,this.panTo(this.unproject(I),f),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=n({animate:!1,pan:!0},o===!0?{animate:!0}:o);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),E=f.divideBy(2).round(),I=g.divideBy(2).round(),G=E.subtract(I);return!G.x&&!G.y?this:(o.animate&&o.pan?this.panBy(G):(o.pan&&this._rawPanBy(G),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=n({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=d(this._handleGeolocationResponse,this),g=d(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,g,o):navigator.geolocation.getCurrentPosition(f,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var f=o.code,g=o.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var f=o.coords.latitude,g=o.coords.longitude,E=new Ee(f,g),I=E.toBounds(o.coords.accuracy*2),G=this._locateOptions;if(G.setView){var ie=this.getBoundsZoom(I);this.setView(E,G.maxZoom?Math.min(ie,G.maxZoom):ie)}var pe={latlng:E,bounds:I,timestamp:o.timestamp};for(var ye in o.coords)typeof o.coords[ye]=="number"&&(pe[ye]=o.coords[ye]);this.fire("locationfound",pe)}},addHandler:function(o,f){if(!f)return this;var g=this[o]=new f(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)$t(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,f){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),E=_t("div",g,f||this._mapPane);return o&&(this._panes[o]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),f=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new Ae(f,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,f,g){o=Pe(o),g=ce(g||[0,0]);var E=this.getZoom()||0,I=this.getMinZoom(),G=this.getMaxZoom(),ie=o.getNorthWest(),pe=o.getSouthEast(),ye=this.getSize().subtract(g),Ie=De(this.project(pe,E),this.project(ie,E)).getSize(),Ve=Ke.any3d?this.options.zoomSnap:1,rt=ye.x/Ie.x,gt=ye.y/Ie.y,An=f?Math.max(rt,gt):Math.min(rt,gt);return E=this.getScaleZoom(An,E),Ve&&(E=Math.round(E/(Ve/100))*(Ve/100),E=f?Math.ceil(E/Ve)*Ve:Math.floor(E/Ve)*Ve),Math.max(I,Math.min(G,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,f){var g=this._getTopLeftPoint(o,f);return new ke(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,f){var g=this.options.crs;return f=f===void 0?this._zoom:f,g.scale(o)/g.scale(f)},getScaleZoom:function(o,f){var g=this.options.crs;f=f===void 0?this._zoom:f;var E=g.zoom(o*g.scale(f));return isNaN(E)?1/0:E},project:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(xe(o),f)},unproject:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(ce(o),f)},layerPointToLatLng:function(o){var f=ce(o).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(o){var f=this.project(xe(o))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(xe(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Pe(o))},distance:function(o,f){return this.options.crs.distance(xe(o),xe(f))},containerPointToLayerPoint:function(o){return ce(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ce(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var f=this.containerPointToLayerPoint(ce(o));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(o)))},mouseEventToContainerPoint:function(o){return No(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var f=this._container=wa(o);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(f,"scroll",this._onScroll,this),this._containerId=m(f)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,at(o,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ci(o,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(at(o.markerPane,"leaflet-zoom-hide"),at(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,f,g){Xt(this._mapPane,new ae(0,0));var E=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var I=this._zoom!==f;this._moveStart(I,g)._move(o,f)._moveEnd(I),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(o,f){return o&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(o,f,g,E){f===void 0&&(f=this._zoom);var I=this._zoom!==f;return this._zoom=f,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),E?g&&g.pinch&&this.fire("zoom",g):((I||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Xt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[m(this._container)]=this;var f=o?Mt:ot;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,f){for(var g=[],E,I=f==="mouseout"||f==="mouseover",G=o.target||o.srcElement,ie=!1;G;){if(E=this._targets[m(G)],E&&(f==="click"||f==="preclick")&&this._draggableMoved(E)){ie=!0;break}if(E&&E.listens(f,!0)&&(I&&!Sa(G,o)||(g.push(E),I))||G===this._container)break;G=G.parentNode}return!g.length&&!ie&&!I&&this.listens(f,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var f=o.target||o.srcElement;if(!(!this._loaded||f._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(f))){var g=o.type;g==="mousedown"&&Po(f),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,f,g){if(o.type==="click"){var E=n({},o);E.type="preclick",this._fireDOMEvent(E,E.type,g)}var I=this._findEventTargets(o,f);if(g){for(var G=[],ie=0;ie<g.length;ie++)g[ie].listens(f,!0)&&G.push(g[ie]);I=G.concat(I)}if(I.length){f==="contextmenu"&&qt(o);var pe=I[0],ye={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Ie=pe.getLatLng&&(!pe._radius||pe._radius<=10);ye.containerPoint=Ie?this.latLngToContainerPoint(pe.getLatLng()):this.mouseEventToContainerPoint(o),ye.layerPoint=this.containerPointToLayerPoint(ye.containerPoint),ye.latlng=Ie?pe.getLatLng():this.layerPointToLatLng(ye.layerPoint)}for(ie=0;ie<I.length;ie++)if(I[ie].fire(f,ye,!0),ye.originalEvent._stopped||I[ie].options.bubblingMouseEvents===!1&&_(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,f=this._handlers.length;o<f;o++)this._handlers[o].disable()},whenReady:function(o,f){return this._loaded?o.call(f||this,{target:this}):this.on("load",o,f),this},_getMapPanePos:function(){return Yi(this._mapPane)||new ae(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,f){var g=o&&f!==void 0?this._getNewPixelOrigin(o,f):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,f){var g=this.getSize()._divideBy(2);return this.project(o,f)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,f,g){var E=this._getNewPixelOrigin(g,f);return this.project(o,f)._subtract(E)},_latLngBoundsToNewLayerBounds:function(o,f,g){var E=this._getNewPixelOrigin(g,f);return De([this.project(o.getSouthWest(),f)._subtract(E),this.project(o.getNorthWest(),f)._subtract(E),this.project(o.getSouthEast(),f)._subtract(E),this.project(o.getNorthEast(),f)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,f,g){if(!g)return o;var E=this.project(o,f),I=this.getSize().divideBy(2),G=new ke(E.subtract(I),E.add(I)),ie=this._getBoundsOffset(G,g,f);return Math.abs(ie.x)<=1&&Math.abs(ie.y)<=1?o:this.unproject(E.add(ie),f)},_limitOffset:function(o,f){if(!f)return o;var g=this.getPixelBounds(),E=new ke(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(E,f))},_getBoundsOffset:function(o,f,g){var E=De(this.project(f.getNorthEast(),g),this.project(f.getSouthWest(),g)),I=E.min.subtract(o.min),G=E.max.subtract(o.max),ie=this._rebound(I.x,-G.x),pe=this._rebound(I.y,-G.y);return new ae(ie,pe)},_rebound:function(o,f){return o+f>0?Math.round(o-f)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(f))},_limitZoom:function(o){var f=this.getMinZoom(),g=this.getMaxZoom(),E=Ke.any3d?this.options.zoomSnap:1;return E&&(o=Math.round(o/E)*E),Math.max(f,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){St(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,f){var g=this._getCenterOffset(o)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,f),!0)},_createAnimProxy:function(){var o=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(f){var g=To,E=this._proxy.style[g];wr(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),E===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),f=this.getZoom();wr(this._proxy,this.project(o,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,f,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(f),I=this._getCenterOffset(o)._divideBy(1-1/E);return g.animate!==!0&&!this.getSize().contains(I)?!1:(X(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,f,!0)},this),!0)},_animateZoom:function(o,f,g,E){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=f,at(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:f,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&St(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ca(o,f){return new ut(o,f)}var ii=Z.extend({options:{position:"topright"},initialize:function(o){F(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var f=this._map;return f&&f.removeControl(this),this.options.position=o,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var f=this._container=this.onAdd(o),g=this.getPosition(),E=o._controlCorners[g];return at(f,"leaflet-control"),g.indexOf("bottom")!==-1?E.insertBefore(f,E.firstChild):E.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),mn=function(o){return new ii(o)};ut.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},f="leaflet-",g=this._controlContainer=_t("div",f+"control-container",this._container);function E(I,G){var ie=f+I+" "+f+G;o[I+G]=_t("div",ie,g)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)$t(this._controlCorners[o]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kr=ii.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,f,g,E){return g<E?-1:E<g?1:0}},initialize:function(o,f,g){F(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in o)this._addLayer(o[E],E);for(E in f)this._addLayer(f[E],E,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ii.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,f){return this._addLayer(o,f),this._map?this._update():this},addOverlay:function(o,f){return this._addLayer(o,f,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var f=this._getLayer(m(o));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){at(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(at(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):St(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return St(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",f=this._container=_t("div",o),g=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Jr(f),Ds(f);var E=this._section=_t("section",o+"-list");g&&(this._map.on("click",this.collapse,this),ot(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=_t("a",o+"-toggle",f);I.href="#",I.title="Layers",I.setAttribute("role","button"),ot(I,{keydown:function(G){G.keyCode===13&&this._expandSafely()},click:function(G){qt(G),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=_t("div",o+"-base",E),this._separator=_t("div",o+"-separator",E),this._overlaysList=_t("div",o+"-overlays",E),f.appendChild(E)},_getLayer:function(o){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&m(this._layers[f].layer)===o)return this._layers[f]},_addLayer:function(o,f,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:f,overlay:g}),this.options.sortLayers&&this._layers.sort(d(function(E,I){return this.options.sortFunction(E.layer,I.layer,E.name,I.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ka(this._baseLayersList),ka(this._overlaysList),this._layerControlInputs=[];var o,f,g,E,I=0;for(g=0;g<this._layers.length;g++)E=this._layers[g],this._addItem(E),f=f||E.overlay,o=o||!E.overlay,I+=E.overlay?0:1;return this.options.hideSingleBase&&(o=o&&I>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=f&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var f=this._getLayer(m(o.target)),g=f.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,f)},_createRadioElement:function(o,f){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(f?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=g,E.firstChild},_addItem:function(o){var f=document.createElement("label"),g=this._map.hasLayer(o.layer),E;o.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=g):E=this._createRadioElement("leaflet-base-layers_"+m(this),g),this._layerControlInputs.push(E),E.layerId=m(o.layer),ot(E,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+o.name;var G=document.createElement("span");f.appendChild(G),G.appendChild(E),G.appendChild(I);var ie=o.overlay?this._overlaysList:this._baseLayersList;return ie.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,f,g,E=[],I=[];this._handlingClick=!0;for(var G=o.length-1;G>=0;G--)f=o[G],g=this._getLayer(f.layerId).layer,f.checked?E.push(g):f.checked||I.push(g);for(G=0;G<I.length;G++)this._map.hasLayer(I[G])&&this._map.removeLayer(I[G]);for(G=0;G<E.length;G++)this._map.hasLayer(E[G])||this._map.addLayer(E[G]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,f,g,E=this._map.getZoom(),I=o.length-1;I>=0;I--)f=o[I],g=this._getLayer(f.layerId).layer,f.disabled=g.options.minZoom!==void 0&&E<g.options.minZoom||g.options.maxZoom!==void 0&&E>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ot(o,"click",qt),this.expand();var f=this;setTimeout(function(){Mt(o,"click",qt),f._preventClick=!1})}}),id=function(o,f,g){return new kr(o,f,g)},Ki=ii.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var f="leaflet-control-zoom",g=_t("div",f+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,f+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,f+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,f,g,E,I){var G=_t("a",g,E);return G.innerHTML=o,G.href="#",G.title=f,G.setAttribute("role","button"),G.setAttribute("aria-label",f),Jr(G),ot(G,"click",Xi),ot(G,"click",I,this),ot(G,"click",this._refocusOnMap,this),G},_updateDisabled:function(){var o=this._map,f="leaflet-disabled";St(this._zoomInButton,f),St(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(at(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(at(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ki,this.addControl(this.zoomControl))});var Ku=function(o){return new Ki(o)},Lr=ii.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var f="leaflet-control-scale",g=_t("div",f),E=this.options;return this._addScales(E,f+"-line",g),o.on(E.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,f,g){o.metric&&(this._mScale=_t("div",f,g)),o.imperial&&(this._iScale=_t("div",f,g))},_update:function(){var o=this._map,f=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,f]),o.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var f=this._getRoundNum(o),g=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,g,f/o)},_updateImperial:function(o){var f=o*3.2808399,g,E,I;f>5280?(g=f/5280,E=this._getRoundNum(g),this._updateScale(this._iScale,E+" mi",E/g)):(I=this._getRoundNum(f),this._updateScale(this._iScale,I+" ft",I/f))},_updateScale:function(o,f,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=f},_getRoundNum:function(o){var f=Math.pow(10,(Math.floor(o)+"").length-1),g=o/f;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,f*g}}),rd=function(o){return new Lr(o)},hi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Pa=ii.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?hi+" ":"")+"Leaflet</a>"},initialize:function(o){F(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),Jr(this._container);for(var f in o._layers)o._layers[f].getAttribution&&this.addAttribution(o._layers[f].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var f in this._attributions)this._attributions[f]&&o.push(f);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new Pa().addTo(this)});var sd=function(o){return new Pa(o)};ii.Layers=kr,ii.Zoom=Ki,ii.Scale=Lr,ii.Attribution=Pa,mn.layers=id,mn.zoom=Ku,mn.scale=rd,mn.attribution=sd;var pi=Z.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pi.addTo=function(o,f){return o.addHandler(f,this),this};var ad={Events:V},Ju=Ke.touch?"touchstart mousedown":"mousedown",Ji=te.extend({options:{clickTolerance:3},initialize:function(o,f,g,E){F(this,E),this._element=o,this._dragStartTarget=f||o,this._preventOutline=g},enable:function(){this._enabled||(ot(this._dragStartTarget,Ju,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ji._dragging===this&&this.finishDrag(!0),Mt(this._dragStartTarget,Ju,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!La(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ji._dragging===this&&this.finishDrag();return}if(!(Ji._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ji._dragging=this,this._preventOutline&&Po(this._element),Co(),Ci(),!this._moving)){this.fire("down");var f=o.touches?o.touches[0]:o,g=Nn(this._element);this._startPoint=new ae(f.clientX,f.clientY),this._startPos=Yi(this._element),this._parentScale=En(g);var E=o.type==="mousedown";ot(document,E?"mousemove":"touchmove",this._onMove,this),ot(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var f=o.touches&&o.touches.length===1?o.touches[0]:o,g=new ae(f.clientX,f.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,qt(o),this._moved||(this.fire("dragstart"),this._moved=!0,at(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),at(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Xt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){St(document.body,"leaflet-dragging"),this._lastTarget&&(St(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mt(document,"mousemove touchmove",this._onMove,this),Mt(document,"mouseup touchend touchcancel",this._onUp,this),As(),Yr();var f=this._moved&&this._moving;this._moving=!1,Ji._dragging=!1,f&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Qu(o,f,g){var E,I=[1,4,2,8],G,ie,pe,ye,Ie,Ve,rt,gt;for(G=0,Ve=o.length;G<Ve;G++)o[G]._code=en(o[G],f);for(pe=0;pe<4;pe++){for(rt=I[pe],E=[],G=0,Ve=o.length,ie=Ve-1;G<Ve;ie=G++)ye=o[G],Ie=o[ie],ye._code&rt?Ie._code&rt||(gt=Bs(Ie,ye,rt,f,g),gt._code=en(gt,f),E.push(gt)):(Ie._code&rt&&(gt=Bs(Ie,ye,rt,f,g),gt._code=en(gt,f),E.push(gt)),E.push(ye));o=E}return o}function el(o,f){var g,E,I,G,ie,pe,ye,Ie,Ve;if(!o||o.length===0)throw new Error("latlngs not passed");On(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var rt=xe([0,0]),gt=Pe(o),An=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());An<1700&&(rt=Ii(o));var gn=o.length,vi=[];for(g=0;g<gn;g++){var Zn=xe(o[g]);vi.push(f.project(xe([Zn.lat-rt.lat,Zn.lng-rt.lng])))}for(pe=ye=Ie=0,g=0,E=gn-1;g<gn;E=g++)I=vi[g],G=vi[E],ie=I.y*G.x-G.y*I.x,ye+=(I.x+G.x)*ie,Ie+=(I.y+G.y)*ie,pe+=ie*3;pe===0?Ve=vi[0]:Ve=[ye/pe,Ie/pe];var Ba=f.unproject(ce(Ve));return xe([Ba.lat+rt.lat,Ba.lng+rt.lng])}function Ii(o){for(var f=0,g=0,E=0,I=0;I<o.length;I++){var G=xe(o[I]);f+=G.lat,g+=G.lng,E++}return xe([f/E,g/E])}var Mn={__proto__:null,clipPolygon:Qu,polygonCenter:el,centroid:Ii};function tl(o,f){if(!f||!o.length)return o.slice();var g=f*f;return o=Bo(o,g),o=Do(o,g),o}function Ro(o,f,g){return Math.sqrt(zs(o,f,g,!0))}function od(o,f,g){return zs(o,f,g)}function Do(o,f){var g=o.length,E=typeof Uint8Array<"u"?Uint8Array:Array,I=new E(g);I[0]=I[g-1]=1,Ia(o,I,f,0,g-1);var G,ie=[];for(G=0;G<g;G++)I[G]&&ie.push(o[G]);return ie}function Ia(o,f,g,E,I){var G=0,ie,pe,ye;for(pe=E+1;pe<=I-1;pe++)ye=zs(o[pe],o[E],o[I],!0),ye>G&&(ie=pe,G=ye);G>g&&(f[ie]=1,Ia(o,f,g,E,ie),Ia(o,f,g,ie,I))}function Bo(o,f){for(var g=[o[0]],E=1,I=0,G=o.length;E<G;E++)Fs(o[E],o[I])>f&&(g.push(o[E]),I=E);return I<G-1&&g.push(o[G-1]),g}var Fo;function Wn(o,f,g,E,I){var G=E?Fo:en(o,g),ie=en(f,g),pe,ye,Ie;for(Fo=ie;;){if(!(G|ie))return[o,f];if(G&ie)return!1;pe=G||ie,ye=Bs(o,f,pe,g,I),Ie=en(ye,g),pe===G?(o=ye,G=Ie):(f=ye,ie=Ie)}}function Bs(o,f,g,E,I){var G=f.x-o.x,ie=f.y-o.y,pe=E.min,ye=E.max,Ie,Ve;return g&8?(Ie=o.x+G*(ye.y-o.y)/ie,Ve=ye.y):g&4?(Ie=o.x+G*(pe.y-o.y)/ie,Ve=pe.y):g&2?(Ie=ye.x,Ve=o.y+ie*(ye.x-o.x)/G):g&1&&(Ie=pe.x,Ve=o.y+ie*(pe.x-o.x)/G),new ae(Ie,Ve,I)}function en(o,f){var g=0;return o.x<f.min.x?g|=1:o.x>f.max.x&&(g|=2),o.y<f.min.y?g|=4:o.y>f.max.y&&(g|=8),g}function Fs(o,f){var g=f.x-o.x,E=f.y-o.y;return g*g+E*E}function zs(o,f,g,E){var I=f.x,G=f.y,ie=g.x-I,pe=g.y-G,ye=ie*ie+pe*pe,Ie;return ye>0&&(Ie=((o.x-I)*ie+(o.y-G)*pe)/ye,Ie>1?(I=g.x,G=g.y):Ie>0&&(I+=ie*Ie,G+=pe*Ie)),ie=o.x-I,pe=o.y-G,E?ie*ie+pe*pe:new ae(I,G)}function On(o){return!H(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function zo(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),On(o)}function $o(o,f){var g,E,I,G,ie,pe,ye,Ie;if(!o||o.length===0)throw new Error("latlngs not passed");On(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ve=xe([0,0]),rt=Pe(o),gt=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());gt<1700&&(Ve=Ii(o));var An=o.length,gn=[];for(g=0;g<An;g++){var vi=xe(o[g]);gn.push(f.project(xe([vi.lat-Ve.lat,vi.lng-Ve.lng])))}for(g=0,E=0;g<An-1;g++)E+=gn[g].distanceTo(gn[g+1])/2;if(E===0)Ie=gn[0];else for(g=0,G=0;g<An-1;g++)if(ie=gn[g],pe=gn[g+1],I=ie.distanceTo(pe),G+=I,G>E){ye=(G-E)/I,Ie=[pe.x-ye*(pe.x-ie.x),pe.y-ye*(pe.y-ie.y)];break}var Zn=f.unproject(ce(Ie));return xe([Zn.lat+Ve.lat,Zn.lng+Ve.lng])}var Uo={__proto__:null,simplify:tl,pointToSegmentDistance:Ro,closestPointOnSegment:od,clipSegment:Wn,_getEdgeIntersection:Bs,_getBitCode:en,_sqClosestPointOnSegment:zs,isFlat:On,_flat:zo,polylineCenter:$o},Go={project:function(o){return new ae(o.lng,o.lat)},unproject:function(o){return new Ee(o.y,o.x)},bounds:new ke([-180,-90],[180,90])},Ho={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ke([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var f=Math.PI/180,g=this.R,E=o.lat*f,I=this.R_MINOR/g,G=Math.sqrt(1-I*I),ie=G*Math.sin(E),pe=Math.tan(Math.PI/4-E/2)/Math.pow((1-ie)/(1+ie),G/2);return E=-g*Math.log(Math.max(pe,1e-10)),new ae(o.lng*f*g,E)},unproject:function(o){for(var f=180/Math.PI,g=this.R,E=this.R_MINOR/g,I=Math.sqrt(1-E*E),G=Math.exp(-o.y/g),ie=Math.PI/2-2*Math.atan(G),pe=0,ye=.1,Ie;pe<15&&Math.abs(ye)>1e-7;pe++)Ie=I*Math.sin(ie),Ie=Math.pow((1-Ie)/(1+Ie),I/2),ye=Math.PI/2-2*Math.atan(G*Ie)-ie,ie+=ye;return new Ee(ie*f,o.x*f/g)}},ud={__proto__:null,LonLat:Go,Mercator:Ho,SphericalMercator:Ne},ld=n({},K,{code:"EPSG:3395",projection:Ho,transformation:function(){var o=.5/(Math.PI*Ho.R);return N(o,.5,-o,.5)}()}),nl=n({},K,{code:"EPSG:4326",projection:Go,transformation:N(1/180,1,-1/180,.5)}),cd=n({},de,{projection:Go,transformation:N(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,f){var g=f.lng-o.lng,E=f.lat-o.lat;return Math.sqrt(g*g+E*E)},infinite:!0});de.Earth=K,de.EPSG3395=ld,de.EPSG3857=Q,de.EPSG900913=se,de.EPSG4326=nl,de.Simple=cd;var ri=te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[m(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[m(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var f=o.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var g=this.getEvents();f.on(g,this),this.once("remove",function(){f.off(g,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var f=m(o);return this._layers[f]?this:(this._layers[f]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var f=m(o);return this._layers[f]?(this._loaded&&o.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return m(o)in this._layers},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},_addLayers:function(o){o=o?H(o)?o:[o]:[];for(var f=0,g=o.length;f<g;f++)this.addLayer(o[f])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[m(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var f=m(o);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,f=-1/0,g=this._getZoomSpan();for(var E in this._zoomBoundLayers){var I=this._zoomBoundLayers[E].options;o=I.minZoom===void 0?o:Math.min(o,I.minZoom),f=I.maxZoom===void 0?f:Math.max(f,I.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qr=ri.extend({initialize:function(o,f){F(this,f),this._layers={};var g,E;if(o)for(g=0,E=o.length;g<E;g++)this.addLayer(o[g])},addLayer:function(o){var f=this.getLayerId(o);return this._layers[f]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var f=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(o){var f=typeof o=="number"?o:this.getLayerId(o);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var f=Array.prototype.slice.call(arguments,1),g,E;for(g in this._layers)E=this._layers[g],E[o]&&E[o].apply(E,f);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return m(o)}}),il=function(o,f){return new Qr(o,f)},Ni=Qr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Qr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Qr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ae;for(var f in this._layers){var g=this._layers[f];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),rl=function(o,f){return new Ni(o,f)},es=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){F(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,f){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(g,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(E,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(o,f){var g=this.options,E=g[f+"Size"];typeof E=="number"&&(E=[E,E]);var I=ce(E),G=ce(f==="shadow"&&g.shadowAnchor||g.iconAnchor||I&&I.divideBy(2,!0));o.className="leaflet-marker-"+f+" "+(g.className||""),G&&(o.style.marginLeft=-G.x+"px",o.style.marginTop=-G.y+"px"),I&&(o.style.width=I.x+"px",o.style.height=I.y+"px")},_createImg:function(o,f){return f=f||document.createElement("img"),f.src=o,f},_getIconUrl:function(o){return Ke.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function dd(o){return new es(o)}var $s=es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof $s.imagePath!="string"&&($s.imagePath=this._detectIconPath()),(this.options.imagePath||$s.imagePath)+es.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var f=function(g,E,I){var G=E.exec(g);return G&&G[I]};return o=f(o,/^url\((['"])?(.+)\1\)$/,2),o&&f(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=_t("div","leaflet-default-icon-path",document.body),f=ci(o,"background-image")||ci(o,"backgroundImage");if(document.body.removeChild(o),f=this._stripUrl(f),f)return f;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),sl=pi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ji(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),at(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&St(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var f=this._marker,g=f._map,E=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,G=Yi(f._icon),ie=g.getPixelBounds(),pe=g.getPixelOrigin(),ye=De(ie.min._subtract(pe).add(I),ie.max._subtract(pe).subtract(I));if(!ye.contains(G)){var Ie=ce((Math.max(ye.max.x,G.x)-ye.max.x)/(ie.max.x-ye.max.x)-(Math.min(ye.min.x,G.x)-ye.min.x)/(ie.min.x-ye.min.x),(Math.max(ye.max.y,G.y)-ye.max.y)/(ie.max.y-ye.max.y)-(Math.min(ye.min.y,G.y)-ye.min.y)/(ie.min.y-ye.min.y)).multiplyBy(E);g.panBy(Ie,{animate:!1}),this._draggable._newPos._add(Ie),this._draggable._startPos._add(Ie),Xt(f._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=X(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,o)))},_onDrag:function(o){var f=this._marker,g=f._shadow,E=Yi(f._icon),I=f._map.layerPointToLatLng(E);g&&Xt(g,E),f._latlng=I,o.latlng=I,o.oldLatLng=this._oldLatLng,f.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Na=ri.extend({options:{icon:new $s,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,f){F(this,f),this._latlng=xe(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var f=this._latlng;return this._latlng=xe(o),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),E=!1;g!==this._icon&&(this._icon&&this._removeIcon(),E=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),at(g,f),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(g,"focus",this._panOnFocus,this);var I=o.icon.createShadow(this._shadow),G=!1;I!==this._shadow&&(this._removeShadow(),G=!0),I&&(at(I,f),I.alt=""),this._shadow=I,o.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&G&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Xt(this._icon,o),this._shadow&&Xt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(at(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&an(this._icon,o),this._shadow&&an(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var f=this.options.icon.options,g=f.iconSize?ce(f.iconSize):ce(0,0),E=f.iconAnchor?ce(f.iconAnchor):ce(0,0);o.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:g.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fd(o,f){return new Na(o,f)}var Qi=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return F(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Us=Qi.extend({options:{fill:!0,radius:10},initialize:function(o,f){F(this,f),this._latlng=xe(o),this._radius=this.options.radius},setLatLng:function(o){var f=this._latlng;return this._latlng=xe(o),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var f=o&&o.radius||this._radius;return Qi.prototype.setStyle.call(this,o),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,f=this._radiusY||o,g=this._clickTolerance(),E=[o+g,f+g];this._pxBounds=new ke(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function al(o,f){return new Us(o,f)}var Ma=Us.extend({initialize:function(o,f,g){if(typeof f=="number"&&(f=n({},g,{radius:f})),F(this,f),this._latlng=xe(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Qi.prototype.setStyle,_project:function(){var o=this._latlng.lng,f=this._latlng.lat,g=this._map,E=g.options.crs;if(E.distance===K.distance){var I=Math.PI/180,G=this._mRadius/K.R/I,ie=g.project([f+G,o]),pe=g.project([f-G,o]),ye=ie.add(pe).divideBy(2),Ie=g.unproject(ye).lat,Ve=Math.acos((Math.cos(G*I)-Math.sin(f*I)*Math.sin(Ie*I))/(Math.cos(f*I)*Math.cos(Ie*I)))/I;(isNaN(Ve)||Ve===0)&&(Ve=G/Math.cos(Math.PI/180*f)),this._point=ye.subtract(g.getPixelOrigin()),this._radius=isNaN(Ve)?0:ye.x-g.project([Ie,o-Ve]).x,this._radiusY=ye.y-ie.y}else{var rt=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(rt).x}this._updateBounds()}});function hd(o,f,g){return new Ma(o,f,g)}var mi=Qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,f){F(this,f),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var f=1/0,g=null,E=zs,I,G,ie=0,pe=this._parts.length;ie<pe;ie++)for(var ye=this._parts[ie],Ie=1,Ve=ye.length;Ie<Ve;Ie++){I=ye[Ie-1],G=ye[Ie];var rt=E(o,I,G,!0);rt<f&&(f=rt,g=E(o,I,G))}return g&&(g.distance=Math.sqrt(f)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $o(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,f){return f=f||this._defaultShape(),o=xe(o),f.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ae,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return On(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var f=[],g=On(o),E=0,I=o.length;E<I;E++)g?(f[E]=xe(o[E]),this._bounds.extend(f[E])):f[E]=this._convertLatLngs(o[E]);return f},_project:function(){var o=new ke;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),f=new ae(o,o);this._rawPxBounds&&(this._pxBounds=new ke([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(o,f,g){var E=o[0]instanceof Ee,I=o.length,G,ie;if(E){for(ie=[],G=0;G<I;G++)ie[G]=this._map.latLngToLayerPoint(o[G]),g.extend(ie[G]);f.push(ie)}else for(G=0;G<I;G++)this._projectLatlngs(o[G],f,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,g,E,I,G,ie,pe,ye;for(g=0,I=0,G=this._rings.length;g<G;g++)for(ye=this._rings[g],E=0,ie=ye.length;E<ie-1;E++)pe=Wn(ye[E],ye[E+1],o,E,!0),pe&&(f[I]=f[I]||[],f[I].push(pe[0]),(pe[1]!==ye[E+1]||E===ie-2)&&(f[I].push(pe[1]),I++))}},_simplifyPoints:function(){for(var o=this._parts,f=this.options.smoothFactor,g=0,E=o.length;g<E;g++)o[g]=tl(o[g],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,f){var g,E,I,G,ie,pe,ye=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,G=this._parts.length;g<G;g++)for(pe=this._parts[g],E=0,ie=pe.length,I=ie-1;E<ie;I=E++)if(!(!f&&E===0)&&Ro(o,pe[I],pe[E])<=ye)return!0;return!1}});function Vo(o,f){return new mi(o,f)}mi._flat=zo;var ts=mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return el(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var f=mi.prototype._convertLatLngs.call(this,o),g=f.length;return g>=2&&f[0]instanceof Ee&&f[0].equals(f[g-1])&&f.pop(),f},_setLatLngs:function(o){mi.prototype._setLatLngs.call(this,o),On(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return On(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,f=this.options.weight,g=new ae(f,f);if(o=new ke(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,I=this._rings.length,G;E<I;E++)G=Qu(this._rings[E],o,!0),G.length&&this._parts.push(G)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var f=!1,g,E,I,G,ie,pe,ye,Ie;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(G=0,ye=this._parts.length;G<ye;G++)for(g=this._parts[G],ie=0,Ie=g.length,pe=Ie-1;ie<Ie;pe=ie++)E=g[ie],I=g[pe],E.y>o.y!=I.y>o.y&&o.x<(I.x-E.x)*(o.y-E.y)/(I.y-E.y)+E.x&&(f=!f);return f||mi.prototype._containsPoint.call(this,o,!0)}});function ol(o,f){return new ts(o,f)}var gi=Ni.extend({initialize:function(o,f){F(this,f),this._layers={},o&&this.addData(o)},addData:function(o){var f=H(o)?o:o.features,g,E,I;if(f){for(g=0,E=f.length;g<E;g++)I=f[g],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var G=this.options;if(G.filter&&!G.filter(o))return this;var ie=Oa(o,G);return ie?(ie.feature=c(o),ie.defaultOptions=ie.options,this.resetStyle(ie),G.onEachFeature&&G.onEachFeature(o,ie),this.addLayer(ie)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=n({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(f){this._setLayerStyle(f,o)},this)},_setLayerStyle:function(o,f){o.setStyle&&(typeof f=="function"&&(f=f(o.feature)),o.setStyle(f))}});function Oa(o,f){var g=o.type==="Feature"?o.geometry:o,E=g?g.coordinates:null,I=[],G=f&&f.pointToLayer,ie=f&&f.coordsToLatLng||er,pe,ye,Ie,Ve;if(!E&&!g)return null;switch(g.type){case"Point":return pe=ie(E),ul(G,o,pe,f);case"MultiPoint":for(Ie=0,Ve=E.length;Ie<Ve;Ie++)pe=ie(E[Ie]),I.push(ul(G,o,pe,f));return new Ni(I);case"LineString":case"MultiLineString":return ye=Aa(E,g.type==="LineString"?0:1,ie),new mi(ye,f);case"Polygon":case"MultiPolygon":return ye=Aa(E,g.type==="Polygon"?1:2,ie),new ts(ye,f);case"GeometryCollection":for(Ie=0,Ve=g.geometries.length;Ie<Ve;Ie++){var rt=Oa({geometry:g.geometries[Ie],type:"Feature",properties:o.properties},f);rt&&I.push(rt)}return new Ni(I);case"FeatureCollection":for(Ie=0,Ve=g.features.length;Ie<Ve;Ie++){var gt=Oa(g.features[Ie],f);gt&&I.push(gt)}return new Ni(I);default:throw new Error("Invalid GeoJSON object.")}}function ul(o,f,g,E){return o?o(f,g):new Na(g,E&&E.markersInheritOptions&&E)}function er(o){return new Ee(o[1],o[0],o[2])}function Aa(o,f,g){for(var E=[],I=0,G=o.length,ie;I<G;I++)ie=f?Aa(o[I],f-1,g):(g||er)(o[I]),E.push(ie);return E}function Ra(o,f){return o=xe(o),o.alt!==void 0?[T(o.lng,f),T(o.lat,f),T(o.alt,f)]:[T(o.lng,f),T(o.lat,f)]}function wn(o,f,g,E){for(var I=[],G=0,ie=o.length;G<ie;G++)I.push(f?wn(o[G],On(o[G])?0:f-1,g,E):Ra(o[G],E));return!f&&g&&I.length>0&&I.push(I[0].slice()),I}function kn(o,f){return o.feature?n({},o.feature,{geometry:f}):c(f)}function c(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var i={toGeoJSON:function(o){return kn(this,{type:"Point",coordinates:Ra(this.getLatLng(),o)})}};Na.include(i),Ma.include(i),Us.include(i),mi.include({toGeoJSON:function(o){var f=!On(this._latlngs),g=wn(this._latlngs,f?1:0,!1,o);return kn(this,{type:(f?"Multi":"")+"LineString",coordinates:g})}}),ts.include({toGeoJSON:function(o){var f=!On(this._latlngs),g=f&&!On(this._latlngs[0]),E=wn(this._latlngs,g?2:f?1:0,!0,o);return f||(E=[E]),kn(this,{type:(g?"Multi":"")+"Polygon",coordinates:E})}}),Qr.include({toMultiPoint:function(o){var f=[];return this.eachLayer(function(g){f.push(g.toGeoJSON(o).geometry.coordinates)}),kn(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(o){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(o);var g=f==="GeometryCollection",E=[];return this.eachLayer(function(I){if(I.toGeoJSON){var G=I.toGeoJSON(o);if(g)E.push(G.geometry);else{var ie=c(G);ie.type==="FeatureCollection"?E.push.apply(E,ie.features):E.push(ie)}}}),g?kn(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function a(o,f){return new gi(o,f)}var l=a,p=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,f,g){this._url=o,this._bounds=Pe(f),F(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(at(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Zr(this._image),this},bringToBack:function(){return this._map&&br(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Pe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",f=this._image=o?this._url:_t("img");if(at(f,"leaflet-image-layer"),this._zoomAnimated&&at(f,"leaflet-zoom-animated"),this.options.className&&at(f,this.options.className),f.onselectstart=w,f.onmousemove=w,f.onload=d(this.fire,this,"load"),f.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(o){var f=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;wr(this._image,g,f)},_reset:function(){var o=this._image,f=new ke(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=f.getSize();Xt(o,f.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){an(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),b=function(o,f,g){return new p(o,f,g)},C=p.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",f=this._image=o?this._url:_t("video");if(at(f,"leaflet-image-layer"),this._zoomAnimated&&at(f,"leaflet-zoom-animated"),this.options.className&&at(f,this.options.className),f.onselectstart=w,f.onmousemove=w,f.onloadeddata=d(this.fire,this,"load"),o){for(var g=f.getElementsByTagName("source"),E=[],I=0;I<g.length;I++)E.push(g[I].src);this._url=g.length>0?E:[f.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var G=0;G<this._url.length;G++){var ie=_t("source");ie.src=this._url[G],f.appendChild(ie)}}});function M(o,f,g){return new C(o,f,g)}var $=p.extend({_initImage:function(){var o=this._image=this._url;at(o,"leaflet-image-layer"),this._zoomAnimated&&at(o,"leaflet-zoom-animated"),this.options.className&&at(o,this.options.className),o.onselectstart=w,o.onmousemove=w}});function J(o,f,g){return new $(o,f,g)}var ue=ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,f){o&&(o instanceof Ee||H(o))?(this._latlng=xe(o),F(this,f)):(F(this,o),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&an(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&an(this._container,1),this.bringToFront(),this.options.interactive&&(at(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(an(this._container,0),this._removeTimeout=setTimeout(d($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=xe(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zr(this._container),this},bringToBack:function(){return this._map&&br(this._container),this},_prepareOpen:function(o){var f=this._source;if(!f._map)return!1;if(f instanceof Ni){f=null;var g=this._source._layers;for(var E in g)if(g[E]._map){f=g[E];break}if(!f)return!1;this._source=f}if(!o)if(f.getCenter)o=f.getCenter();else if(f.getLatLng)o=f.getLatLng();else if(f.getBounds)o=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")o.innerHTML=f;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),f=ce(this.options.offset),g=this._getAnchor();this._zoomAnimated?Xt(this._container,o.add(g)):f=f.add(o).add(g);var E=this._containerBottom=-f.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=E+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(o,f,g,E){var I=f;return I instanceof o||(I=new o(E).setContent(f)),g&&I.setLatLng(g),I}}),ri.include({_initOverlay:function(o,f,g,E){var I=g;return I instanceof o?(F(I,E),I._source=this):(I=f&&!E?f:new o(E,this),I.setContent(g)),I}});var fe=ue.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ue.prototype.openOn.call(this,o)},onAdd:function(o){ue.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qi||this._source.on("preclick",hn))},onRemove:function(o){ue.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qi||this._source.off("preclick",hn))},getEvents:function(){var o=ue.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",f=this._container=_t("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=_t("div",o+"-content-wrapper",f);if(this._contentNode=_t("div",o+"-content",g),Jr(f),Ds(this._contentNode),ot(f,"contextmenu",hn),this._tipContainer=_t("div",o+"-tip-container",f),this._tip=_t("div",o+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=_t("a",o+"-close-button",f);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',ot(E,"click",function(I){qt(I),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,f=o.style;f.width="",f.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),f.width=g+1+"px",f.whiteSpace="",f.height="";var E=o.offsetHeight,I=this.options.maxHeight,G="leaflet-popup-scrolled";I&&E>I?(f.height=I+"px",at(o,G)):St(o,G),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();Xt(this._container,f.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,f=parseInt(ci(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+f,E=this._containerWidth,I=new ae(this._containerLeft,-g-this._containerBottom);I._add(Yi(this._container));var G=o.layerPointToContainerPoint(I),ie=ce(this.options.autoPanPadding),pe=ce(this.options.autoPanPaddingTopLeft||ie),ye=ce(this.options.autoPanPaddingBottomRight||ie),Ie=o.getSize(),Ve=0,rt=0;G.x+E+ye.x>Ie.x&&(Ve=G.x+E-Ie.x+ye.x),G.x-Ve-pe.x<0&&(Ve=G.x-pe.x),G.y+g+ye.y>Ie.y&&(rt=G.y+g-Ie.y+ye.y),G.y-rt-pe.y<0&&(rt=G.y-pe.y),(Ve||rt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ve,rt]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ce=function(o,f){return new fe(o,f)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(o,f,g){return this._initOverlay(fe,o,f,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ri.include({bindPopup:function(o,f){return this._popup=this._initOverlay(fe,this._popup,o,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ni||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Xi(o);var f=o.layer||o.target;if(this._popup._source===f&&!(f instanceof Qi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=f,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ue=ue.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ue.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ue.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ue.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",f=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var f,g,E=this._map,I=this._container,G=E.latLngToContainerPoint(E.getCenter()),ie=E.layerPointToContainerPoint(o),pe=this.options.direction,ye=I.offsetWidth,Ie=I.offsetHeight,Ve=ce(this.options.offset),rt=this._getAnchor();pe==="top"?(f=ye/2,g=Ie):pe==="bottom"?(f=ye/2,g=0):pe==="center"?(f=ye/2,g=Ie/2):pe==="right"?(f=0,g=Ie/2):pe==="left"?(f=ye,g=Ie/2):ie.x<G.x?(pe="right",f=0,g=Ie/2):(pe="left",f=ye+(Ve.x+rt.x)*2,g=Ie/2),o=o.subtract(ce(f,g,!0)).add(Ve).add(rt),St(I,"leaflet-tooltip-right"),St(I,"leaflet-tooltip-left"),St(I,"leaflet-tooltip-top"),St(I,"leaflet-tooltip-bottom"),at(I,"leaflet-tooltip-"+pe),Xt(I,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&an(this._container,o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(f)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ze=function(o,f){return new Ue(o,f)};ut.include({openTooltip:function(o,f,g){return this._initOverlay(Ue,o,f,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ri.include({bindTooltip:function(o,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ue,this._tooltip,o,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var f=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[f](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ni||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&(ot(f,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ot(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var f=o.latlng,g,E;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),E=this._map.containerPointToLayerPoint(g),f=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(f)}});var Je=es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var f=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(ka(f),f.appendChild(g.html)):f.innerHTML=g.html!==!1?g.html:"",g.bgPos){var E=ce(g.bgPos);f.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function vt(o){return new Je(o)}es.Default=$s;var ct=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){F(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),$t(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(br(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ae?o:new ae(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var f=this.getPane().children,g=-o(-1/0,1/0),E=0,I=f.length,G;E<I;E++)G=f[E].style.zIndex,f[E]!==this._container&&G&&(g=o(g,+G));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){an(this._container,this.options.opacity);var o=+new Date,f=!1,g=!1;for(var E in this._tiles){var I=this._tiles[E];if(!(!I.current||!I.loaded)){var G=Math.min(1,(o-I.loaded)/200);an(I.el,G),G<1?f=!0:(I.active?g=!0:this._onOpaqueTile(I),I.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),f&&(ee(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,f=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=f-Math.abs(o-g),this._onUpdateLevel(g)):($t(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var E=this._levels[o],I=this._map;return E||(E=this._levels[o]={},E.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=f,E.origin=I.project(I.unproject(I.getPixelOrigin()),o).round(),E.zoom=o,this._setZoomTransform(E,I.getCenter(),I.getZoom()),w(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var o,f,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)f=this._tiles[o],f.retain=f.current;for(o in this._tiles)if(f=this._tiles[o],f.current&&!f.active){var E=f.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var f in this._tiles)this._tiles[f].coords.z===o&&this._removeTile(f)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)$t(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,f,g,E){var I=Math.floor(o/2),G=Math.floor(f/2),ie=g-1,pe=new ae(+I,+G);pe.z=+ie;var ye=this._tileCoordsToKey(pe),Ie=this._tiles[ye];return Ie&&Ie.active?(Ie.retain=!0,!0):(Ie&&Ie.loaded&&(Ie.retain=!0),ie>E?this._retainParent(I,G,ie,E):!1)},_retainChildren:function(o,f,g,E){for(var I=2*o;I<2*o+2;I++)for(var G=2*f;G<2*f+2;G++){var ie=new ae(I,G);ie.z=g+1;var pe=this._tileCoordsToKey(ie),ye=this._tiles[pe];if(ye&&ye.active){ye.retain=!0;continue}else ye&&ye.loaded&&(ye.retain=!0);g+1<E&&this._retainChildren(I,G,g+1,E)}},_resetView:function(o){var f=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var f=this.options;return f.minNativeZoom!==void 0&&o<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<o?f.maxNativeZoom:o},_setView:function(o,f,g,E){var I=Math.round(f);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var G=this.options.updateWhenZooming&&I!==this._tileZoom;(!E||G)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,f)},_setZoomTransforms:function(o,f){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,f)},_setZoomTransform:function(o,f,g){var E=this._map.getZoomScale(g,o.zoom),I=o.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(f,g)).round();Ke.any3d?wr(o.el,I,E):Xt(o.el,I)},_resetGrid:function(){var o=this._map,f=o.options.crs,g=this._tileSize=this.getTileSize(),E=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,f.wrapLng[0]],E).x/g.x),Math.ceil(o.project([0,f.wrapLng[1]],E).x/g.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([f.wrapLat[0],0],E).y/g.x),Math.ceil(o.project([f.wrapLat[1],0],E).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var f=this._map,g=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),E=f.getZoomScale(g,this._tileZoom),I=f.project(o,this._tileZoom).floor(),G=f.getSize().divideBy(E*2);return new ke(I.subtract(G),I.add(G))},_update:function(o){var f=this._map;if(f){var g=this._clampZoom(f.getZoom());if(o===void 0&&(o=f.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(o),I=this._pxBoundsToTileRange(E),G=I.getCenter(),ie=[],pe=this.options.keepBuffer,ye=new ke(I.getBottomLeft().subtract([pe,-pe]),I.getTopRight().add([pe,-pe]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ie in this._tiles){var Ve=this._tiles[Ie].coords;(Ve.z!==this._tileZoom||!ye.contains(new ae(Ve.x,Ve.y)))&&(this._tiles[Ie].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var rt=I.min.y;rt<=I.max.y;rt++)for(var gt=I.min.x;gt<=I.max.x;gt++){var An=new ae(gt,rt);if(An.z=this._tileZoom,!!this._isValidTile(An)){var gn=this._tiles[this._tileCoordsToKey(An)];gn?gn.current=!0:ie.push(An)}}if(ie.sort(function(Zn,Ba){return Zn.distanceTo(G)-Ba.distanceTo(G)}),ie.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vi=document.createDocumentFragment();for(gt=0;gt<ie.length;gt++)this._addTile(ie[gt],vi);this._level.el.appendChild(vi)}}}},_isValidTile:function(o){var f=this._map.options.crs;if(!f.infinite){var g=this._globalTileRange;if(!f.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!f.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(o);return Pe(this.options.bounds).overlaps(E)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var f=this._map,g=this.getTileSize(),E=o.scaleBy(g),I=E.add(g),G=f.unproject(E,o.z),ie=f.unproject(I,o.z);return[G,ie]},_tileCoordsToBounds:function(o){var f=this._tileCoordsToNwSe(o),g=new Ae(f[0],f[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var f=o.split(":"),g=new ae(+f[0],+f[1]);return g.z=+f[2],g},_removeTile:function(o){var f=this._tiles[o];f&&($t(f.el),delete this._tiles[o],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){at(o,"leaflet-tile");var f=this.getTileSize();o.style.width=f.x+"px",o.style.height=f.y+"px",o.onselectstart=w,o.onmousemove=w,Ke.ielt9&&this.options.opacity<1&&an(o,this.options.opacity)},_addTile:function(o,f){var g=this._getTilePos(o),E=this._tileCoordsToKey(o),I=this.createTile(this._wrapCoords(o),d(this._tileReady,this,o));this._initTile(I),this.createTile.length<2&&X(d(this._tileReady,this,o,null,I)),Xt(I,g),this._tiles[E]={el:I,coords:o,current:!0},f.appendChild(I),this.fire("tileloadstart",{tile:I,coords:o})},_tileReady:function(o,f,g){f&&this.fire("tileerror",{error:f,tile:g,coords:o});var E=this._tileCoordsToKey(o);g=this._tiles[E],g&&(g.loaded=+new Date,this._map._fadeAnimated?(an(g.el,0),ee(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),f||(at(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var f=new ae(this._wrapX?v(o.x,this._wrapX):o.x,this._wrapY?v(o.y,this._wrapY):o.y);return f.z=o.z,f},_pxBoundsToTileRange:function(o){var f=this.getTileSize();return new ke(o.min.unscaleBy(f).floor(),o.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Ot(o){return new ct(o)}var Vt=ct.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,f){this._url=o,f=F(this,f),f.detectRetina&&Ke.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,f){return this._url===o&&f===void 0&&(f=!0),this._url=o,f||this.redraw(),this},createTile:function(o,f){var g=document.createElement("img");return ot(g,"load",d(this._tileOnLoad,this,f,g)),ot(g,"error",d(this._tileOnError,this,f,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var f={r:Ke.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(f.y=g),f["-y"]=g}return U(this._url,n(f,this.options))},_tileOnLoad:function(o,f){Ke.ielt9?setTimeout(d(o,this,null,f),0):o(null,f)},_tileOnError:function(o,f,g){var E=this.options.errorTileUrl;E&&f.getAttribute("src")!==E&&(f.src=E),o(g,f)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,f=this.options.maxZoom,g=this.options.zoomReverse,E=this.options.zoomOffset;return g&&(o=f-o),o+E},_getSubdomain:function(o){var f=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var o,f;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(f=this._tiles[o].el,f.onload=w,f.onerror=w,!f.complete)){f.src=x;var g=this._tiles[o].coords;$t(f),delete this._tiles[o],this.fire("tileabort",{tile:f,coords:g})}},_removeTile:function(o){var f=this._tiles[o];if(f)return f.el.setAttribute("src",x),ct.prototype._removeTile.call(this,o)},_tileReady:function(o,f,g){if(!(!this._map||g&&g.getAttribute("src")===x))return ct.prototype._tileReady.call(this,o,f,g)}});function on(o,f){return new Vt(o,f)}var tr=Vt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,f){this._url=o;var g=n({},this.defaultWmsParams);for(var E in f)E in this.options||(g[E]=f[E]);f=F(this,f);var I=f.detectRetina&&Ke.retina?2:1,G=this.getTileSize();g.width=G.x*I,g.height=G.y*I,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Vt.prototype.onAdd.call(this,o)},getTileUrl:function(o){var f=this._tileCoordsToNwSe(o),g=this._crs,E=De(g.project(f[0]),g.project(f[1])),I=E.min,G=E.max,ie=(this._wmsVersion>=1.3&&this._crs===nl?[I.y,I.x,G.y,G.x]:[I.x,I.y,G.x,G.y]).join(","),pe=Vt.prototype.getTileUrl.call(this,o);return pe+j(this.wmsParams,pe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ie},setParams:function(o,f){return n(this.wmsParams,o),f||this.redraw(),this}});function Gs(o,f){return new tr(o,f)}Vt.WMS=tr,on.wms=Gs;var _i=ri.extend({options:{padding:.1},initialize:function(o){F(this,o),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),at(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,f){var g=this._map.getZoomScale(f,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,f),G=E.multiplyBy(-g).add(I).subtract(this._map._getNewPixelOrigin(o,f));Ke.any3d?wr(this._container,G,g):Xt(this._container,G)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,f=this._map.getSize(),g=this._map.containerPointToLayerPoint(f.multiplyBy(-o)).round();this._bounds=new ke(g,g.add(f.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jo=_i.extend({options:{tolerance:0},getEvents:function(){var o=_i.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ot(o,"mousemove",this._onMouseMove,this),ot(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,$t(this._container),Mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var f in this._layers)o=this._layers[f],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var o=this._bounds,f=this._container,g=o.getSize(),E=Ke.retina?2:1;Xt(f,o.min),f.width=E*g.x,f.height=E*g.y,f.style.width=g.x+"px",f.style.height=g.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){_i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[m(o)]=o;var f=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var f=o._order,g=f.next,E=f.prev;g?g.prev=E:this._drawLast=E,E?E.next=g:this._drawFirst=g,delete o._order,delete this._layers[m(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var f=o.options.dashArray.split(/[, ]+/),g=[],E,I;for(I=0;I<f.length;I++){if(E=Number(f[I]),isNaN(E))return;g.push(E)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var f=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ke,this._redrawBounds.extend(o._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(o._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var f=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,f=this._redrawBounds;if(this._ctx.save(),f){var g=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)o=E.layer,(!f||o._pxBounds&&o._pxBounds.intersects(f))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,f){if(this._drawing){var g,E,I,G,ie=o._parts,pe=ie.length,ye=this._ctx;if(pe){for(ye.beginPath(),g=0;g<pe;g++){for(E=0,I=ie[g].length;E<I;E++)G=ie[g][E],ye[E?"lineTo":"moveTo"](G.x,G.y);f&&ye.closePath()}this._fillStroke(ye,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var f=o._point,g=this._ctx,E=Math.max(Math.round(o._radius),1),I=(Math.max(Math.round(o._radiusY),1)||E)/E;I!==1&&(g.save(),g.scale(1,I)),g.beginPath(),g.arc(f.x,f.y/I,E,0,Math.PI*2,!1),I!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,f){var g=f.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(f.options&&f.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var f=this._map.mouseEventToLayerPoint(o),g,E,I=this._drawFirst;I;I=I.next)g=I.layer,g.options.interactive&&g._containsPoint(f)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(E=g);this._fireEvent(E?[E]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,f)}},_handleMouseOut:function(o){var f=this._hoveredLayer;f&&(St(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,f){if(!this._mouseHoverThrottled){for(var g,E,I=this._drawFirst;I;I=I.next)g=I.layer,g.options.interactive&&g._containsPoint(f)&&(E=g);E!==this._hoveredLayer&&(this._handleMouseOut(o),E&&(at(this._container,"leaflet-interactive"),this._fireEvent([E],o,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,f,g){this._map._fireDOMEvent(f,g||f.type,o)},_bringToFront:function(o){var f=o._order;if(f){var g=f.next,E=f.prev;if(g)g.prev=E;else return;E?E.next=g:g&&(this._drawFirst=g),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(o)}},_bringToBack:function(o){var f=o._order;if(f){var g=f.next,E=f.prev;if(E)E.next=g;else return;g?g.prev=E:E&&(this._drawLast=E),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(o)}}});function qo(o){return Ke.canvas?new jo(o):null}var ns=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ll={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_i.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var f=o._container=ns("shape");at(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",o._path=ns("path"),f.appendChild(o._path),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){var f=o._container;this._container.appendChild(f),o.options.interactive&&o.addInteractiveTarget(f)},_removePath:function(o){var f=o._container;$t(f),o.removeInteractiveTarget(f),delete this._layers[m(o)]},_updateStyle:function(o){var f=o._stroke,g=o._fill,E=o.options,I=o._container;I.stroked=!!E.stroke,I.filled=!!E.fill,E.stroke?(f||(f=o._stroke=ns("stroke")),I.appendChild(f),f.weight=E.weight+"px",f.color=E.color,f.opacity=E.opacity,E.dashArray?f.dashStyle=H(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=E.lineCap.replace("butt","flat"),f.joinstyle=E.lineJoin):f&&(I.removeChild(f),o._stroke=null),E.fill?(g||(g=o._fill=ns("fill")),I.appendChild(g),g.color=E.fillColor||E.color,g.opacity=E.fillOpacity):g&&(I.removeChild(g),o._fill=null)},_updateCircle:function(o){var f=o._point.round(),g=Math.round(o._radius),E=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+f.x+","+f.y+" "+g+","+E+" 0,"+65535*360)},_setPath:function(o,f){o._path.v=f},_bringToFront:function(o){Zr(o._container)},_bringToBack:function(o){br(o._container)}},Hs=Ke.vml?ns:_e,Er=_i.extend({_initContainer:function(){this._container=Hs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),Mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var o=this._bounds,f=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,g.setAttribute("width",f.x),g.setAttribute("height",f.y)),Xt(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(o){var f=o._path=Hs("path");o.options.className&&at(f,o.options.className),o.options.interactive&&at(f,"leaflet-interactive"),this._updateStyle(o),this._layers[m(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){$t(o._path),o.removeInteractiveTarget(o._path),delete this._layers[m(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var f=o._path,g=o.options;f&&(g.stroke?(f.setAttribute("stroke",g.color),f.setAttribute("stroke-opacity",g.opacity),f.setAttribute("stroke-width",g.weight),f.setAttribute("stroke-linecap",g.lineCap),f.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?f.setAttribute("stroke-dasharray",g.dashArray):f.removeAttribute("stroke-dasharray"),g.dashOffset?f.setAttribute("stroke-dashoffset",g.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),g.fill?(f.setAttribute("fill",g.fillColor||g.color),f.setAttribute("fill-opacity",g.fillOpacity),f.setAttribute("fill-rule",g.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(o,f){this._setPath(o,Le(o._parts,f))},_updateCircle:function(o){var f=o._point,g=Math.max(Math.round(o._radius),1),E=Math.max(Math.round(o._radiusY),1)||g,I="a"+g+","+E+" 0 1,0 ",G=o._empty()?"M0 0":"M"+(f.x-g)+","+f.y+I+g*2+",0 "+I+-g*2+",0 ";this._setPath(o,G)},_setPath:function(o,f){o._path.setAttribute("d",f)},_bringToFront:function(o){Zr(o._path)},_bringToBack:function(o){br(o._path)}});Ke.vml&&Er.include(ll);function Da(o){return Ke.svg||Ke.vml?new Er(o):null}ut.include({getRenderer:function(o){var f=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var f=this._paneRenderers[o];return f===void 0&&(f=this._createRenderer({pane:o}),this._paneRenderers[o]=f),f},_createRenderer:function(o){return this.options.preferCanvas&&qo(o)||Da(o)}});var Oh=ts.extend({initialize:function(o,f){ts.prototype.initialize.call(this,this._boundsToLatLngs(o),f)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Pe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function C0(o,f){return new Oh(o,f)}Er.create=Hs,Er.pointsToPath=Le,gi.geometryToLayer=Oa,gi.coordsToLatLng=er,gi.coordsToLatLngs=Aa,gi.latLngToCoords=Ra,gi.latLngsToCoords=wn,gi.getFeature=kn,gi.asFeature=c,ut.mergeOptions({boxZoom:!0});var Ah=pi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ci(),Co(),this._startPoint=this._map.mouseEventToContainerPoint(o),ot(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),at(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var f=new ke(this._point,this._startPoint),g=f.getSize();Xt(this._box,f.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&($t(this._box),St(this._container,"leaflet-crosshair")),Yr(),As(),Mt(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var f=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",Ah),ut.mergeOptions({doubleClickZoom:!0});var Rh=pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var f=this._map,g=f.getZoom(),E=f.options.zoomDelta,I=o.originalEvent.shiftKey?g-E:g+E;f.options.doubleClickZoom==="center"?f.setZoom(I):f.setZoomAround(o.containerPoint,I)}});ut.addInitHook("addHandler","doubleClickZoom",Rh),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dh=pi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ji(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}at(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){St(this._map._container,"leaflet-grab"),St(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Pe(this._map.options.maxBounds);this._offsetLimit=De(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var f=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(f),this._prunePositions(f)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,f){return o-(o-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;o.x<f.min.x&&(o.x=this._viscousLimit(o.x,f.min.x)),o.y<f.min.y&&(o.y=this._viscousLimit(o.y,f.min.y)),o.x>f.max.x&&(o.x=this._viscousLimit(o.x,f.max.x)),o.y>f.max.y&&(o.y=this._viscousLimit(o.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,f=Math.round(o/2),g=this._initialWorldOffset,E=this._draggable._newPos.x,I=(E-f+g)%o+f-g,G=(E+f+g)%o-f-g,ie=Math.abs(I+g)<Math.abs(G+g)?I:G;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ie},_onDragEnd:function(o){var f=this._map,g=f.options,E=!g.inertia||o.noInertia||this._times.length<2;if(f.fire("dragend",o),E)f.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),G=(this._lastTime-this._times[0])/1e3,ie=g.easeLinearity,pe=I.multiplyBy(ie/G),ye=pe.distanceTo([0,0]),Ie=Math.min(g.inertiaMaxSpeed,ye),Ve=pe.multiplyBy(Ie/ye),rt=Ie/(g.inertiaDeceleration*ie),gt=Ve.multiplyBy(-rt/2).round();!gt.x&&!gt.y?f.fire("moveend"):(gt=f._limitOffset(gt,f.options.maxBounds),X(function(){f.panBy(gt,{duration:rt,easeLinearity:ie,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",Dh),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bh=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ot(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,f=document.documentElement,g=o.scrollTop||f.scrollTop,E=o.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(E,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var f=this._panKeys={},g=this.keyCodes,E,I;for(E=0,I=g.left.length;E<I;E++)f[g.left[E]]=[-1*o,0];for(E=0,I=g.right.length;E<I;E++)f[g.right[E]]=[o,0];for(E=0,I=g.down.length;E<I;E++)f[g.down[E]]=[0,o];for(E=0,I=g.up.length;E<I;E++)f[g.up[E]]=[0,-1*o]},_setZoomDelta:function(o){var f=this._zoomKeys={},g=this.keyCodes,E,I;for(E=0,I=g.zoomIn.length;E<I;E++)f[g.zoomIn[E]]=o;for(E=0,I=g.zoomOut.length;E<I;E++)f[g.zoomOut[E]]=-o},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var f=o.keyCode,g=this._map,E;if(f in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(E=this._panKeys[f],o.shiftKey&&(E=ce(E).multiplyBy(3)),g.options.maxBounds&&(E=g._limitOffset(ce(E),g.options.maxBounds)),g.options.worldCopyJump){var I=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(E)));g.panTo(I)}else g.panBy(E)}else if(f in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Xi(o)}}});ut.addInitHook("addHandler","keyboard",Bh),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fh=pi.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var f=Oo(o),g=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var E=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),E),Xi(o)},_performZoom:function(){var o=this._map,f=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,G=g?Math.ceil(I/g)*g:I,ie=o._limitZoom(f+(this._delta>0?G:-G))-f;this._delta=0,this._startTime=null,ie&&(o.options.scrollWheelZoom==="center"?o.setZoom(f+ie):o.setZoomAround(this._lastMousePos,f+ie))}});ut.addInitHook("addHandler","scrollWheelZoom",Fh);var P0=600;ut.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var zh=pi.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var f=o.touches[0];this._startPos=this._newPos=new ae(f.clientX,f.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",qt),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),P0),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Mt(document,"touchend",qt),Mt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)},_onMove:function(o){var f=o.touches[0];this._newPos=new ae(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,f){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});g._simulated=!0,f.target.dispatchEvent(g)}});ut.addInitHook("addHandler","tapHold",zh),ut.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var $h=pi.extend({addHooks:function(){at(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var f=this._map;if(!(!o.touches||o.touches.length!==2||f._animatingZoom||this._zooming)){var g=f.mouseEventToContainerPoint(o.touches[0]),E=f.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(g.add(E)._divideBy(2))),this._startDist=g.distanceTo(E),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),qt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var f=this._map,g=f.mouseEventToContainerPoint(o.touches[0]),E=f.mouseEventToContainerPoint(o.touches[1]),I=g.distanceTo(E)/this._startDist;if(this._zoom=f.getScaleZoom(I,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&I<1||this._zoom>f.getMaxZoom()&&I>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var G=g._add(E)._divideBy(2)._subtract(this._centerPoint);if(I===1&&G.x===0&&G.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(G),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var ie=d(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(ie,this,!0),qt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",$h),ut.BoxZoom=Ah,ut.DoubleClickZoom=Rh,ut.Drag=Dh,ut.Keyboard=Bh,ut.ScrollWheelZoom=Fh,ut.TapHold=zh,ut.TouchZoom=$h,s.Bounds=ke,s.Browser=Ke,s.CRS=de,s.Canvas=jo,s.Circle=Ma,s.CircleMarker=Us,s.Class=Z,s.Control=ii,s.DivIcon=Je,s.DivOverlay=ue,s.DomEvent=nd,s.DomUtil=xa,s.Draggable=Ji,s.Evented=te,s.FeatureGroup=Ni,s.GeoJSON=gi,s.GridLayer=ct,s.Handler=pi,s.Icon=es,s.ImageOverlay=p,s.LatLng=Ee,s.LatLngBounds=Ae,s.Layer=ri,s.LayerGroup=Qr,s.LineUtil=Uo,s.Map=ut,s.Marker=Na,s.Mixin=ad,s.Path=Qi,s.Point=ae,s.PolyUtil=Mn,s.Polygon=ts,s.Polyline=mi,s.Popup=fe,s.PosAnimation=Ao,s.Projection=ud,s.Rectangle=Oh,s.Renderer=_i,s.SVG=Er,s.SVGOverlay=$,s.TileLayer=Vt,s.Tooltip=Ue,s.Transformation=Me,s.Util=q,s.VideoOverlay=C,s.bind=d,s.bounds=De,s.canvas=qo,s.circle=hd,s.circleMarker=al,s.control=mn,s.divIcon=vt,s.extend=n,s.featureGroup=rl,s.geoJSON=a,s.geoJson=l,s.gridLayer=Ot,s.icon=dd,s.imageOverlay=b,s.latLng=xe,s.latLngBounds=Pe,s.layerGroup=il,s.map=Ca,s.marker=fd,s.point=ce,s.polygon=ol,s.polyline=Vo,s.popup=Ce,s.rectangle=C0,s.setOptions=F,s.stamp=m,s.svg=Da,s.svgOverlay=J,s.tileLayer=on,s.tooltip=Ze,s.transformation=N,s.version=r,s.videoOverlay=M;var I0=window.L;s.noConflict=function(){return window.L=I0,this},window.L=s})}(au,au.exports)),au.exports}var dt=QI();const rr=Eh(dt),Ih=z0({__proto__:null,default:rr},[dt]);(function(e,t,s){function r(n,u){for(;(n=n.parentElement)&&!n.classList.contains(u););return n}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(n,u){this._map=n,this._container=n._container,this._overlayPane=n._panes.overlayPane,this._popupPane=n._panes.popupPane,u&&u.shapeOptions&&(u.shapeOptions=L.Util.extend({},this.options.shapeOptions,u.shapeOptions)),L.setOptions(this,u);var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(L.DomUtil.disableTextSelection(),n.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(n){L.setOptions(this,n)},_fireCreatedEvent:function(n){this._map.fire(L.Draw.Event.CREATED,{layer:n,layerType:this.type})},_cancelDrawing:function(n){n.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(n,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,n,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var n=this._markers.pop(),u=this._poly,d=u.getLatLngs(),h=d.splice(-1,1)[0];this._poly.setLatLngs(d),this._markerGroup.removeLayer(n),u.getLatLngs().length<2&&this._map.removeLayer(u),this._vertexChanged(h,!1)}},addVertex:function(n){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(n))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(n)),this._poly.addLatLng(n),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(n,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var n=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),u=this._poly.newLatLngIntersects(n[n.length-1]);if(!this.options.allowIntersection&&u||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(n){var u=this._map.mouseEventToLayerPoint(n.originalEvent),d=this._map.layerPointToLatLng(u);this._currentLatLng=d,this._updateTooltip(d),this._updateGuide(u),this._mouseMarker.setLatLng(d),L.DomEvent.preventDefault(n.originalEvent)},_vertexChanged:function(n,u){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(n,u),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(n){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(n),this._clickHandled=!0,this._disableNewMarkers();var u=n.originalEvent,d=u.clientX,h=u.clientY;this._startPoint.call(this,d,h)}},_startPoint:function(n,u){this._mouseDownOrigin=L.point(n,u)},_onMouseUp:function(n){var u=n.originalEvent,d=u.clientX,h=u.clientY;this._endPoint.call(this,d,h,n),this._clickHandled=null},_endPoint:function(n,u,d){if(this._mouseDownOrigin){var h=L.point(n,u).distanceTo(this._mouseDownOrigin),m=this._calculateFinishDistance(d.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(d.latlng),this._finishShape()):m<10&&L.Browser.touch?this._finishShape():Math.abs(h)<9*(e.devicePixelRatio||1)&&this.addVertex(d.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(n){var u,d,h=n.originalEvent;!h.touches||!h.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(u=h.touches[0].clientX,d=h.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,u,d),this._endPoint.call(this,u,d,n),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(n){var u;if(this._markers.length>0){var d;if(this.type===L.Draw.Polyline.TYPE)d=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;d=this._markers[0]}var h=this._map.latLngToContainerPoint(d.getLatLng()),m=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),y=this._map.latLngToContainerPoint(m.getLatLng());u=h.distanceTo(y)}else u=1/0;return u},_updateFinishHandler:function(){var n=this._markers.length;n>1&&this._markers[n-1].on("click",this._finishShape,this),n>2&&this._markers[n-2].off("click",this._finishShape,this)},_createMarker:function(n){var u=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(u),u},_updateGuide:function(n){var u=this._markers?this._markers.length:0;u>0&&(n=n||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[u-1].getLatLng()),n))},_updateTooltip:function(n){var u=this._getTooltipText();n&&this._tooltip.updatePosition(n),this._errorShown||this._tooltip.updateContent(u)},_drawGuide:function(n,u){var d,h,m,y=Math.floor(Math.sqrt(Math.pow(u.x-n.x,2)+Math.pow(u.y-n.y,2))),v=this.options.guidelineDistance,w=this.options.maxGuideLineLength,T=y>w?y-w:v;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));T<y;T+=this.options.guidelineDistance)d=T/y,h={x:Math.floor(n.x*(1-d)+d*u.x),y:Math.floor(n.y*(1-d)+d*u.y)},m=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),m.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(m,h)},_updateGuideColor:function(n){if(this._guidesContainer)for(var u=0,d=this._guidesContainer.childNodes.length;u<d;u++)this._guidesContainer.childNodes[u].style.backgroundColor=n},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var n,u,d=this.options.showLength;return this._markers.length===0?n={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(u=d?this._getMeasurementString():"",n=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:u}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:u}),n},_updateRunningMeasure:function(n,u){var d,h,m=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(d=m-(u?2:1),h=L.GeometryUtil.isVersion07x()?n.distanceTo(this._markers[d].getLatLng())*(this.options.factor||1):this._map.distance(n,this._markers[d].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=h*(u?1:-1))},_getMeasurementString:function(){var n,u=this._currentLatLng,d=this._markers[this._markers.length-1].getLatLng();return n=L.GeometryUtil.isVersion07x()?d&&u&&u.distanceTo?this._measurementRunningTotal+u.distanceTo(d)*(this.options.factor||1):this._measurementRunningTotal||0:d&&u?this._measurementRunningTotal+this._map.distance(u,d)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(n,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var n=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(n,u){L.Draw.Polyline.prototype.initialize.call(this,n,u),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var n=this._markers.length;n===1&&this._markers[0].on("click",this._finishShape,this),n>2&&(this._markers[n-1].on("dblclick",this._finishShape,this),n>3&&this._markers[n-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var n,u;return this._markers.length===0?n=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(n=L.drawLocal.draw.handlers.polygon.tooltip.cont,u=this._getMeasurementString()):(n=L.drawLocal.draw.handlers.polygon.tooltip.end,u=this._getMeasurementString()),{text:n,subtext:u}},_getMeasurementString:function(){var n=this._area,u="";return n||this.options.showLength?(this.options.showLength&&(u=L.Draw.Polyline.prototype._getMeasurementString.call(this)),n&&(u+="<br>"+L.GeometryUtil.readableArea(n,this.options.metric,this.options.precision)),u):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(n,u){var d;!this.options.allowIntersection&&this.options.showArea&&(d=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(d)),L.Draw.Polyline.prototype._vertexChanged.call(this,n,u)},_cleanUpShape:function(){var n=this._markers.length;n>0&&(this._markers[0].off("click",this._finishShape,this),n>2&&this._markers[n-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(n,u){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,n,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(n){this._isDrawing=!0,this._startLatLng=n.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(n.originalEvent)},_onMouseMove:function(n){var u=n.latlng;this._tooltip.updatePosition(u),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(u))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(n,u){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,u)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(n){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(n.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(n){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,n)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,n),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_getTooltipText:function(){var n,u,d,h=L.Draw.SimpleShape.prototype._getTooltipText.call(this),m=this._shape,y=this.options.showArea;return m&&(n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),u=L.GeometryUtil.geodesicArea(n),d=y?L.GeometryUtil.readableArea(u,this.options.metric):""),{text:h.text,subtext:d}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(n,u){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(n){var u=n.latlng;this._tooltip.updatePosition(u),this._mouseMarker.setLatLng(u),this._marker?(u=this._mouseMarker.getLatLng(),this._marker.setLatLng(u)):(this._marker=this._createMarker(u),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(n){return new L.Marker(n,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(n){this._onMouseMove(n),this._onClick()},_fireCreatedEvent:function(){var n=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(n,u){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,u)},_fireCreatedEvent:function(){var n=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)},_createMarker:function(n){return new L.CircleMarker(n,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(n,u){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,u)},_drawShape:function(n){if(L.GeometryUtil.isVersion07x())var u=this._startLatLng.distanceTo(n);else var u=this._map.distance(this._startLatLng,n);this._shape?this._shape.setRadius(u):(this._shape=new L.Circle(this._startLatLng,u,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_onMouseMove:function(n){var u,d=n.latlng,h=this.options.showRadius,m=this.options.metric;if(this._tooltip.updatePosition(d),this._isDrawing){this._drawShape(d),u=this._shape.getRadius().toFixed(1);var y="";h&&(y=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(u,m,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:y})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(n,u){this._marker=n,L.setOptions(this,u)},addHooks:function(){var n=this._marker;n.dragging.enable(),n.on("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},removeHooks:function(){var n=this._marker;n.dragging.disable(),n.off("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},_onDragEnd:function(n){var u=n.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_toggleMarkerHighlight:function(){var n=this._marker._icon;n&&(n.style.display="none",L.DomUtil.hasClass(n,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,-4)):(L.DomUtil.addClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,4)),n.style.display="")},_offsetMarker:function(n,u){var d=parseInt(n.style.marginTop,10)-u,h=parseInt(n.style.marginLeft,10)-u;n.style.marginTop=d+"px",n.style.marginLeft=h+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(n){this.latlngs=[n._latlngs],n._holes&&(this.latlngs=this.latlngs.concat(n._holes)),this._poly=n,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(n){for(var u=0;u<this._verticesHandlers.length;u++)n(this._verticesHandlers[u])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(n){n.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(n){n.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(n){n.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var n=0;n<this.latlngs.length;n++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[n],this._poly.options.poly))},_updateLatLngs:function(n){this.latlngs=[n.layer._latlngs],n.layer._holes&&(this.latlngs=this.latlngs.concat(n.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(n,u,d){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=n,d&&d.drawError&&(d.drawError=L.Util.extend({},this.options.drawError,d.drawError)),this._latlngs=u,L.setOptions(this,d)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var n=this._poly,u=n._path;n instanceof L.Polygon||(n.options.fill=!1,n.options.editing&&(n.options.editing.fill=!1)),u&&n.options.editing&&n.options.editing.className&&(n.options.original.className&&n.options.original.className.split(" ").forEach(function(d){L.DomUtil.removeClass(u,d)}),n.options.editing.className.split(" ").forEach(function(d){L.DomUtil.addClass(u,d)})),n.setStyle(n.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var n=this._poly,u=n._path;u&&n.options.editing&&n.options.editing.className&&(n.options.editing.className.split(" ").forEach(function(d){L.DomUtil.removeClass(u,d)}),n.options.original.className&&n.options.original.className.split(" ").forEach(function(d){L.DomUtil.addClass(u,d)})),n.setStyle(n.options.original),n._map&&(n._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var n,u,d,h,m=this._defaultShape();for(n=0,d=m.length;n<d;n++)h=this._createMarker(m[n],n),h.on("click",this._onMarkerClick,this),h.on("contextmenu",this._onContextMenu,this),this._markers.push(h);var y,v;for(n=0,u=d-1;n<d;u=n++)(n!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(y=this._markers[u],v=this._markers[n],this._createMiddleMarker(y,v),this._updatePrevNext(y,v))},_createMarker:function(n,u){var d=new L.Marker.Touch(n,{draggable:!0,icon:this.options.icon});return d._origLatLng=n,d._index=u,d.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(d),d},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var n=this._defaultShape(),u=[].splice.apply(n,arguments);return this._poly._convertLatLngs(n,!0),this._poly.redraw(),u},_removeMarker:function(n){var u=n._index;this._markerGroup.removeLayer(n),this._markers.splice(u,1),this._spliceLatLngs(u,1),this._updateIndexes(u,-1),n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(n){var u=n.target,d=this._poly,h=L.LatLngUtil.cloneLatLng(u._origLatLng);if(L.extend(u._origLatLng,u._latlng),d.options.poly){var m=d._map._editTooltip;if(!d.options.poly.allowIntersection&&d.intersects()){L.extend(u._origLatLng,h),u.setLatLng(h);var y=d.options.color;d.setStyle({color:this.options.drawError.color}),m&&m.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){d.setStyle({color:y}),m&&m.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}u._middleLeft&&u._middleLeft.setLatLng(this._getMiddleLatLng(u._prev,u)),u._middleRight&&u._middleRight.setLatLng(this._getMiddleLatLng(u,u._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var v=this._poly.getLatLngs();this._poly._convertLatLngs(v,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(n){var u=L.Polygon&&this._poly instanceof L.Polygon?4:3,d=n.target;this._defaultShape().length<u||(this._removeMarker(d),this._updatePrevNext(d._prev,d._next),d._middleLeft&&this._markerGroup.removeLayer(d._middleLeft),d._middleRight&&this._markerGroup.removeLayer(d._middleRight),d._prev&&d._next?this._createMiddleMarker(d._prev,d._next):d._prev?d._next||(d._prev._middleRight=null):d._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(n){var u=n.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:u,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(n){var u=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),d=this._map.layerPointToLatLng(u),h=n.target;L.extend(h._origLatLng,d),h._middleLeft&&h._middleLeft.setLatLng(this._getMiddleLatLng(h._prev,h)),h._middleRight&&h._middleRight.setLatLng(this._getMiddleLatLng(h,h._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(n,u){this._markerGroup.eachLayer(function(d){d._index>n&&(d._index+=u)})},_createMiddleMarker:function(n,u){var d,h,m,y=this._getMiddleLatLng(n,u),v=this._createMarker(y);v.setOpacity(.6),n._middleRight=u._middleLeft=v,h=function(){v.off("touchmove",h,this);var w=u._index;v._index=w,v.off("click",d,this).on("click",this._onMarkerClick,this),y.lat=v.getLatLng().lat,y.lng=v.getLatLng().lng,this._spliceLatLngs(w,0,y),this._markers.splice(w,0,v),v.setOpacity(1),this._updateIndexes(w,1),u._index++,this._updatePrevNext(n,v),this._updatePrevNext(v,u),this._poly.fire("editstart")},m=function(){v.off("dragstart",h,this),v.off("dragend",m,this),v.off("touchmove",h,this),this._createMiddleMarker(n,v),this._createMiddleMarker(v,u)},d=function(){h.call(this),m.call(this),this._fireEdit()},v.on("click",d,this).on("dragstart",h,this).on("dragend",m,this).on("touchmove",h,this),this._markerGroup.addLayer(v)},_updatePrevNext:function(n,u){n&&(n._next=u),u&&(u._prev=n)},_getMiddleLatLng:function(n,u){var d=this._poly._map,h=d.project(n.getLatLng()),m=d.project(u.getLatLng());return d.unproject(h._add(m)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(n,u){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=n,L.Util.setOptions(this,u)},addHooks:function(){var n=this._shape;this._shape._map&&(this._map=this._shape._map,n.setStyle(n.options.editing),n._map&&(this._map=n._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var n=this._shape;if(n.setStyle(n.options.original),n._map){this._unbindMarker(this._moveMarker);for(var u=0,d=this._resizeMarkers.length;u<d;u++)this._unbindMarker(this._resizeMarkers[u]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(n,u){var d=new L.Marker.Touch(n,{draggable:!0,icon:u,zIndexOffset:10});return this._bindMarker(d),this._markerGroup.addLayer(d),d},_bindMarker:function(n){n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(n){n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(n){n.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(n){var u=n.target,d=u.getLatLng();u===this._moveMarker?this._move(d):this._resize(d),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(n){n.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(n){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n),typeof this._getCorners=="function"){var u=this._getCorners(),d=n.target,h=d._cornerIndex;d.setOpacity(0),this._oppositeCorner=u[(h+2)%4],this._toggleCornerMarkers(0,h)}this._shape.fire("editstart")},_onTouchMove:function(n){var u=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),d=this._map.layerPointToLatLng(u);return n.target===this._moveMarker?this._move(d):this._resize(d),this._shape.redraw(),!1},_onTouchEnd:function(n){n.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getBounds(),u=n.getCenter();this._moveMarker=this._createMarker(u,this.options.moveIcon)},_createResizeMarker:function(){var n=this._getCorners();this._resizeMarkers=[];for(var u=0,d=n.length;u<d;u++)this._resizeMarkers.push(this._createMarker(n[u],this.options.resizeIcon)),this._resizeMarkers[u]._cornerIndex=u},_onMarkerDragStart:function(n){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n);var u=this._getCorners(),d=n.target,h=d._cornerIndex;this._oppositeCorner=u[(h+2)%4],this._toggleCornerMarkers(0,h)},_onMarkerDragEnd:function(n){var u,d,h=n.target;h===this._moveMarker&&(u=this._shape.getBounds(),d=u.getCenter(),h.setLatLng(d)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,n)},_move:function(n){for(var u,d=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),h=this._shape.getBounds(),m=h.getCenter(),y=[],v=0,w=d.length;v<w;v++)u=[d[v].lat-m.lat,d[v].lng-m.lng],y.push([n.lat+u[0],n.lng+u[1]]);this._shape.setLatLngs(y),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(n){var u;this._shape.setBounds(L.latLngBounds(n,this._oppositeCorner)),u=this._shape.getBounds(),this._moveMarker.setLatLng(u.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var n=this._shape.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]},_toggleCornerMarkers:function(n){for(var u=0,d=this._resizeMarkers.length;u<d;u++)this._resizeMarkers[u].setOpacity(n)},_repositionCornerMarkers:function(){for(var n=this._getCorners(),u=0,d=this._resizeMarkers.length;u<d;u++)this._resizeMarkers[u].setLatLng(n[u])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getLatLng();this._moveMarker=this._createMarker(n,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(n){if(this._resizeMarkers.length){var u=this._getResizeMarkerPoint(n);this._resizeMarkers[0].setLatLng(u)}this._shape.setLatLng(n),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var n=this._shape.getLatLng(),u=this._getResizeMarkerPoint(n);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(u,this.options.resizeIcon))},_getResizeMarkerPoint:function(n){var u=this._shape._radius*Math.cos(Math.PI/4),d=this._map.project(n);return this._map.unproject([d.x+u,d.y-u])},_resize:function(n){var u=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=u.distanceTo(n):radius=this._map.distance(u,n),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(n,u){var d={};if(n.touches!==void 0){if(!n.touches.length)return;d=n.touches[0]}else if(n.pointerType!=="touch"||(d=n,!this._filterClick(n)))return;var h=this._map.mouseEventToContainerPoint(d),m=this._map.mouseEventToLayerPoint(d),y=this._map.layerPointToLatLng(m);this._map.fire(u,{latlng:y,layerPoint:m,containerPoint:h,pageX:d.pageX,pageY:d.pageY,originalEvent:n})},_filterClick:function(n){var u=n.timeStamp||n.originalEvent.timeStamp,d=L.DomEvent._lastClick&&u-L.DomEvent._lastClick;return d&&d>100&&d<500||n.target._simulatedClick&&!n._simulated?(L.DomEvent.stop(n),!1):(L.DomEvent._lastClick=u,!0)},_onTouchStart:function(n){this._map._loaded&&this._touchEvent(n,"touchstart")},_onTouchEnd:function(n){this._map._loaded&&this._touchEvent(n,"touchend")},_onTouchCancel:function(n){if(this._map._loaded){var u="touchcancel";this._detectIE()&&(u="pointercancel"),this._touchEvent(n,u)}},_onTouchLeave:function(n){this._map._loaded&&this._touchEvent(n,"touchleave")},_onTouchMove:function(n){this._map._loaded&&this._touchEvent(n,"touchmove")},_detectIE:function(){var n=e.navigator.userAgent,u=n.indexOf("MSIE ");if(u>0)return parseInt(n.substring(u+5,n.indexOf(".",u)),10);if(n.indexOf("Trident/")>0){var d=n.indexOf("rv:");return parseInt(n.substring(d+3,n.indexOf(".",d)),10)}var h=n.indexOf("Edge/");return h>0&&parseInt(n.substring(h+5,n.indexOf(".",h)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var n=this._icon,u=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?u.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):u.concat(["touchcancel"]),L.DomUtil.addClass(n,"leaflet-clickable"),L.DomEvent.on(n,"click",this._onMouseClick,this),L.DomEvent.on(n,"keypress",this._onKeyPress,this);for(var d=0;d<u.length;d++)L.DomEvent.on(n,u[d],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var n=e.navigator.userAgent,u=n.indexOf("MSIE ");if(u>0)return parseInt(n.substring(u+5,n.indexOf(".",u)),10);if(n.indexOf("Trident/")>0){var d=n.indexOf("rv:");return parseInt(n.substring(d+3,n.indexOf(".",d)),10)}var h=n.indexOf("Edge/");return h>0&&parseInt(n.substring(h+5,n.indexOf(".",h)),10)}}),L.LatLngUtil={cloneLatLngs:function(n){for(var u=[],d=0,h=n.length;d<h;d++)Array.isArray(n[d])?u.push(L.LatLngUtil.cloneLatLngs(n[d])):u.push(this.cloneLatLng(n[d]));return u},cloneLatLng:function(n){return L.latLng(n.lat,n.lng)}},function(){var n={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(u){var d,h,m=u.length,y=0,v=Math.PI/180;if(m>2){for(var w=0;w<m;w++)d=u[w],h=u[(w+1)%m],y+=(h.lng-d.lng)*v*(2+Math.sin(d.lat*v)+Math.sin(h.lat*v));y=6378137*y*6378137/2}return Math.abs(y)},formattedNumber:function(u,d){var h=parseFloat(u).toFixed(d),m=L.drawLocal.format&&L.drawLocal.format.numeric,y=m&&m.delimiters,v=y&&y.thousands,w=y&&y.decimal;if(v||w){var T=h.split(".");h=v?T[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v):T[0],w=w||".",T.length>1&&(h=h+w+T[1])}return h},readableArea:function(u,d,v){var m,y,v=L.Util.extend({},n,v);return d?(y=["ha","m"],type=typeof d,type==="string"?y=[d]:type!=="boolean"&&(y=d),m=u>=1e6&&y.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*u,v.km)+" km":u>=1e4&&y.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*u,v.ha)+" ha":L.GeometryUtil.formattedNumber(u,v.m)+" m"):(u/=.836127,m=u>=3097600?L.GeometryUtil.formattedNumber(u/3097600,v.mi)+" mi":u>=4840?L.GeometryUtil.formattedNumber(u/4840,v.ac)+" acres":L.GeometryUtil.formattedNumber(u,v.yd)+" yd"),m},readableDistance:function(u,d,h,m,w){var v,w=L.Util.extend({},n,w);switch(d?typeof d=="string"?d:"metric":h?"feet":m?"nauticalMile":"yards"){case"metric":v=u>1e3?L.GeometryUtil.formattedNumber(u/1e3,w.km)+" km":L.GeometryUtil.formattedNumber(u,w.m)+" m";break;case"feet":u*=3.28083,v=L.GeometryUtil.formattedNumber(u,w.ft)+" ft";break;case"nauticalMile":u*=.53996,v=L.GeometryUtil.formattedNumber(u/1e3,w.nm)+" nm";break;case"yards":default:u*=1.09361,v=u>1760?L.GeometryUtil.formattedNumber(u/1760,w.mi)+" miles":L.GeometryUtil.formattedNumber(u,w.yd)+" yd"}return v},isVersion07x:function(){var u=L.version.split(".");return parseInt(u[0],10)===0&&parseInt(u[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(n,u,d,h){return this._checkCounterclockwise(n,d,h)!==this._checkCounterclockwise(u,d,h)&&this._checkCounterclockwise(n,u,d)!==this._checkCounterclockwise(n,u,h)},_checkCounterclockwise:function(n,u,d){return(d.y-n.y)*(u.x-n.x)>(u.y-n.y)*(d.x-n.x)}}),L.Polyline.include({intersects:function(){var n,u,d,h=this._getProjectedPoints(),m=h?h.length:0;if(this._tooFewPointsForIntersection())return!1;for(n=m-1;n>=3;n--)if(u=h[n-1],d=h[n],this._lineSegmentsIntersectsRange(u,d,n-2))return!0;return!1},newLatLngIntersects:function(n,u){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(n),u)},newPointIntersects:function(n,u){var d=this._getProjectedPoints(),h=d?d.length:0,m=d?d[h-1]:null,y=h-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(m,n,y,u?1:0)},_tooFewPointsForIntersection:function(n){var u=this._getProjectedPoints(),d=u?u.length:0;return d+=n||0,!u||d<=3},_lineSegmentsIntersectsRange:function(n,u,d,h){var m,y,v=this._getProjectedPoints();h=h||0;for(var w=d;w>h;w--)if(m=v[w-1],y=v[w],L.LineUtil.segmentsIntersect(n,u,m,y))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var n=[],u=this._defaultShape(),d=0;d<u.length;d++)n.push(this._map.latLngToLayerPoint(u[d]));return n}}),L.Polygon.include({intersects:function(){var n,u,d,h,m=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(n=m.length,u=m[0],d=m[n-1],h=n-2,this._lineSegmentsIntersectsRange(d,u,h,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(n){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,n);var u;this._toolbars={},L.DrawToolbar&&this.options.draw&&(u=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=u,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(u=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=u,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(n){var u,d=L.DomUtil.create("div","leaflet-draw"),h=!1;for(var m in this._toolbars)this._toolbars.hasOwnProperty(m)&&(u=this._toolbars[m].addToolbar(n))&&(h||(L.DomUtil.hasClass(u,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(u.childNodes[0],"leaflet-draw-toolbar-top"),h=!0),d.appendChild(u));return d},onRemove:function(){for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&this._toolbars[n].removeToolbar()},setDrawingOptions:function(n){for(var u in this._toolbars)this._toolbars[u]instanceof L.DrawToolbar&&this._toolbars[u].setOptions(n)},_toolbarEnabled:function(n){var u=n.target;for(var d in this._toolbars)this._toolbars[d]!==u&&this._toolbars[d].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(n){L.setOptions(this,n),this._modes={},this._actionButtons=[],this._activeMode=null;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(n){var u,d=L.DomUtil.create("div","leaflet-draw-section"),h=0,m=this._toolbarClass||"",y=this.getModeHandlers(n);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=n,u=0;u<y.length;u++)y[u].enabled&&this._initModeHandler(y[u].handler,this._toolbarContainer,h++,m,y[u].title);if(h)return this._lastButtonIndex=--h,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),d.appendChild(this._toolbarContainer),d.appendChild(this._actionsContainer),d},removeToolbar:function(){for(var n in this._modes)this._modes.hasOwnProperty(n)&&(this._disposeButton(this._modes[n].button,this._modes[n].handler.enable,this._modes[n].handler),this._modes[n].handler.disable(),this._modes[n].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var u=0,d=this._actionButtons.length;u<d;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(n,u,d,h,m){var y=n.type;this._modes[y]={},this._modes[y].handler=n,this._modes[y].button=this._createButton({type:y,title:m,className:h+"-"+y,container:u,callback:this._modes[y].handler.enable,context:this._modes[y].handler}),this._modes[y].buttonIndex=d,this._modes[y].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(n){var u=L.DomUtil.create("a",n.className||"",n.container),d=L.DomUtil.create("span","sr-only",n.container);u.href="#",u.appendChild(d),n.title&&(u.title=n.title,d.innerHTML=n.title),n.text&&(u.innerHTML=n.text,d.innerHTML=n.text);var h=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(u,"click",L.DomEvent.stopPropagation).on(u,"mousedown",L.DomEvent.stopPropagation).on(u,"dblclick",L.DomEvent.stopPropagation).on(u,"touchstart",L.DomEvent.stopPropagation).on(u,"click",L.DomEvent.preventDefault).on(u,h,n.callback,n.context),u},_disposeButton:function(n,u){var d=this._detectIOS()?"touchstart":"click";L.DomEvent.off(n,"click",L.DomEvent.stopPropagation).off(n,"mousedown",L.DomEvent.stopPropagation).off(n,"dblclick",L.DomEvent.stopPropagation).off(n,"touchstart",L.DomEvent.stopPropagation).off(n,"click",L.DomEvent.preventDefault).off(n,d,u)},_handlerActivated:function(n){this.disable(),this._activeMode=this._modes[n.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(n){var u,d,h,m,y=this._actionsContainer,v=this.getActions(n),w=v.length;for(d=0,h=this._actionButtons.length;d<h;d++)this._disposeButton(this._actionButtons[d].button,this._actionButtons[d].callback);for(this._actionButtons=[];y.firstChild;)y.removeChild(y.firstChild);for(var T=0;T<w;T++)"enabled"in v[T]&&!v[T].enabled||(u=L.DomUtil.create("li","",y),m=this._createButton({title:v[T].title,text:v[T].text,container:u,callback:v[T].callback,context:v[T].context}),this._actionButtons.push({button:m,callback:v[T].callback}))},_showActionsToolbar:function(){var n=this._activeMode.buttonIndex,u=this._lastButtonIndex,d=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=d+"px",n===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),n===u&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(n){this._map=n,this._popupPane=n._panes.popupPane,this._visible=!1,this._container=n.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(n){return this._container?(n.subtext=n.subtext||"",n.subtext.length!==0||this._singleLineLabel?n.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(n.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+n.subtext+"</span><br />":"")+"<span>"+n.text+"</span>",n.text||n.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(n){var u=this._map.latLngToLayerPoint(n),d=this._container;return this._container&&(this._visible&&(d.style.visibility="inherit"),L.DomUtil.setPosition(d,u)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(n){for(var u in this.options)this.options.hasOwnProperty(u)&&n[u]&&(n[u]=L.extend({},this.options[u],n[u]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,n)},getModeHandlers:function(n){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(n,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(n,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(n,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(n,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(n,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(n,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(n){return[{enabled:n.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:n.completeShape,context:n},{enabled:n.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:n.deleteLastVertex,context:n},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(n){L.setOptions(this,n);for(var u in this._modes)this._modes.hasOwnProperty(u)&&n.hasOwnProperty(u)&&this._modes[u].handler.setOptions(n[u])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(n){n.edit&&(n.edit.selectedPathOptions===void 0&&(n.edit.selectedPathOptions=this.options.edit.selectedPathOptions),n.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,n.edit.selectedPathOptions)),n.remove&&(n.remove=L.extend({},this.options.remove,n.remove)),n.poly&&(n.poly=L.extend({},this.options.poly,n.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,n),this._selectedFeatureCount=0},getModeHandlers:function(n){var u=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(n,{featureGroup:u,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(n,{featureGroup:u}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(n){var u=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return n.removeAllLayers&&u.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),u},addToolbar:function(n){var u=L.Toolbar.prototype.addToolbar.call(this,n);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),u},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var n,u=this.options.featureGroup,d=u.getLayers().length!==0;this.options.edit&&(n=this._modes[L.EditToolbar.Edit.TYPE].button,d?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",d?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(n=this._modes[L.EditToolbar.Delete.TYPE].button,d?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",d?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(n,u){if(L.Handler.prototype.initialize.call(this,n),L.setOptions(this,u),this._featureGroup=u.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),n._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(n){this._revertLayer(n)},this)},save:function(){var n=new L.LayerGroup;this._featureGroup.eachLayer(function(u){u.edited&&(n.addLayer(u),u.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:n})},_backupLayer:function(n){var u=L.Util.stamp(n);this._uneditedLayerProps[u]||(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?this._uneditedLayerProps[u]={latlngs:L.LatLngUtil.cloneLatLngs(n.getLatLngs())}:n instanceof L.Circle?this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng()),radius:n.getRadius()}:(n instanceof L.Marker||n instanceof L.CircleMarker)&&(this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(n){var u=L.Util.stamp(n);n.edited=!1,this._uneditedLayerProps.hasOwnProperty(u)&&(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?n.setLatLngs(this._uneditedLayerProps[u].latlngs):n instanceof L.Circle?(n.setLatLng(this._uneditedLayerProps[u].latlng),n.setRadius(this._uneditedLayerProps[u].radius)):(n instanceof L.Marker||n instanceof L.CircleMarker)&&n.setLatLng(this._uneditedLayerProps[u].latlng),n.fire("revert-edited",{layer:n}))},_enableLayerEdit:function(n){var u,d,h=n.layer||n.target||n;this._backupLayer(h),this.options.poly&&(d=L.Util.extend({},this.options.poly),h.options.poly=d),this.options.selectedPathOptions&&(u=L.Util.extend({},this.options.selectedPathOptions),u.maintainColor&&(u.color=h.options.color,u.fillColor=h.options.fillColor),h.options.original=L.extend({},h.options),h.options.editing=u),h instanceof L.Marker?(h.editing&&h.editing.enable(),h.dragging.enable(),h.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):h.editing.enable()},_disableLayerEdit:function(n){var u=n.layer||n.target||n;u.edited=!1,u.editing&&u.editing.disable(),delete u.options.editing,delete u.options.original,this._selectedPathOptions&&(u instanceof L.Marker?this._toggleMarkerHighlight(u):(u.setStyle(u.options.previousOptions),delete u.options.previousOptions)),u instanceof L.Marker?(u.dragging.disable(),u.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):u.editing.disable()},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_onMarkerDragEnd:function(n){var u=n.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_onTouchMove:function(n){var u=n.originalEvent.changedTouches[0],d=this._map.mouseEventToLayerPoint(u),h=this._map.layerPointToLatLng(d);n.target.setLatLng(h)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(n,u){if(L.Handler.prototype.initialize.call(this,n),L.Util.setOptions(this,u),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(n){this._deletableLayers.addLayer(n),n.fire("revert-deleted",{layer:n})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(n){this._removeLayer({layer:n})},this),this.save()},_enableLayerDelete:function(n){(n.layer||n.target||n).on("click",this._removeLayer,this)},_disableLayerDelete:function(n){var u=n.layer||n.target||n;u.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(u)},_removeLayer:function(n){var u=n.layer||n.target||n;this._deletableLayers.removeLayer(u),this._deletedLayers.addLayer(u),u.fire("deleted")},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Ys=(e,t)=>{t.split(" ").forEach(s=>{e.classList.add(s)})},Xs=(e,t)=>{t.split(" ").forEach(s=>{e.classList.remove(s)})},k0=dt.Marker.extend({initialize(e,t){dt.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const s=this._getIconSVG(e,t);this._locationIcon=dt.divIcon({className:s.className,html:s.svg,iconSize:[s.w,s.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const s=e.radius,r=e.weight,n=s+r,u=n*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${u}" height="${u}" version="1.1" viewBox="-${n} -${n} ${u} ${u}"><circle r="`+s+'" style="'+t+'" /></svg>',w:u,h:u}},setStyle(e){dt.setOptions(this,e),this.createIcon()}}),eN=k0.extend({initialize(e,t,s){dt.setOptions(this,s),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const s=e.radius,r=e.width+e.weight,n=(s+e.depth+e.weight)*2,u=`M0,0 l${e.width/2},${e.depth} l-${r},0 z`,d=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${n}" version="1.1" viewBox="-${r/2} 0 ${r} ${n}" style="${d}"><path d="`+u+'" style="'+t+'" /></svg>',w:r,h:n}}}),tN=dt.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:k0,compassClass:eN,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const s=dt.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);s.title=t.strings.title,s.href="#",s.setAttribute("role","button");const r=dt.DomUtil.create(t.iconElementTag,t.icon,s);if(t.strings.text!==void 0){const n=dt.DomUtil.create(t.textElementTag,"leaflet-locate-text",s);n.textContent=t.strings.text,s.classList.add("leaflet-locate-text-active"),s.parentNode.style.display="flex",t.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:s,icon:r}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?dt.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=dt.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=dt.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=dt.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=dt.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new dt.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const s=this.options.createButtonCallback(t,this.options);return this._link=s.link,this._icon=s.icon,dt.DomEvent.on(this._link,"click",function(r){dt.DomEvent.stopPropagation(r),dt.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",dt.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let s=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(s=e?t.inView:t.inViewNotFollowing),t[s]&&(s=t[s]),s){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,s=function(){dt.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&s()}):s()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?dt.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&dt.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),dt.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const d=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(d):this._circle=dt.circle(t,e,d).addTo(this._layer)}let s,r;if(this.options.metric?(s=e.toFixed(0),r=this.options.strings.metersUnit):(s=(e*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const d=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(d)):this._marker=new this.options.markerClass(t,d).addTo(this._layer)}this._drawCompass();const n=this.options.strings.popup;function u(){return typeof n=="string"?dt.Util.template(n,{distance:s,unit:r}):typeof n=="function"?n({distance:s,unit:r}):n}this.options.showPopup&&n&&this._marker&&this._marker.bindPopup(u())._popup.setLatLng(t),this.options.showPopup&&n&&this._compass&&this._compass.bindPopup(u())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,dt.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(Xs(this._container,"active following"),Ys(this._container,"requesting"),Xs(this._icon,this.options.icon),Ys(this._icon,this.options.iconLoading)):e=="active"?(Xs(this._container,"requesting following"),Ys(this._container,"active"),Xs(this._icon,this.options.iconLoading),Ys(this._icon,this.options.icon)):e=="following"&&(Xs(this._container,"requesting"),Ys(this._container,"active following"),Xs(this._icon,this.options.iconLoading),Ys(this._icon,this.options.icon))},_cleanClasses(){dt.DomUtil.removeClass(this._container,"requesting"),dt.DomUtil.removeClass(this._container,"active"),dt.DomUtil.removeClass(this._container,"following"),Xs(this._icon,this.options.iconLoading),Ys(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}}),nN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",L0=L.icon({iconUrl:nN,shadowUrl:iN,iconAnchor:[12,41]});function rN(e){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},marker:{icon:L0},circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:e,remove:!1}}}L.GeometryUtil=L.extend(L.GeometryUtil||{},{readableArea:function(e,t,h){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},n,u,d,h=L.Util.extend({},r,h);return t?(u=["ha","m"],d=typeof t,d==="string"?u=[t]:d!=="boolean"&&(u=t),e>=1e6&&u.indexOf("km")!==-1?n=L.GeometryUtil.formattedNumber(e*1e-6,h.km)+" km":e>=1e4&&u.indexOf("ha")!==-1?n=L.GeometryUtil.formattedNumber(e*1e-4,h.ha)+" ha":n=L.GeometryUtil.formattedNumber(e,h.m)+" m"):(e/=.836127,e>=3097600?n=L.GeometryUtil.formattedNumber(e/3097600,h.mi)+" mi":e>=4840?n=L.GeometryUtil.formattedNumber(e/4840,h.ac)+" acres":n=L.GeometryUtil.formattedNumber(e,h.yd)+" yd"),n}});function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},na.apply(this,arguments)}function sN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wc(e,t)}function wc(e,t){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},wc(e,t)}function aN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Of(e,t,s){return Of=aN()?Reflect.construct.bind():function(r,n,u){var d=[null];d.push.apply(d,n);var h=new(Function.bind.apply(r,d));return u&&wc(h,u.prototype),h},Of.apply(null,arguments)}function zr(e,t,s,r){t===void 0&&(t=""),r===void 0&&(r={});var n=document.createElement(e);return t&&(n.className=t),Object.keys(r).forEach(function(u){if(typeof r[u]=="function"){var d=u.indexOf("on")===0?u.substr(2).toLowerCase():u;n.addEventListener(d,r[u])}else u==="html"?n.innerHTML=r[u]:u==="text"?n.innerText=r[u]:n.setAttribute(u,r[u])}),s&&s.appendChild(n),n}function nu(e){e.preventDefault(),e.stopPropagation()}var Ul=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function ia(e,t){e&&e.classList&&(Array.isArray(t)?t:[t]).forEach(function(s){e.classList.contains(s)||e.classList.add(s)})}function ur(e,t){e&&e.classList&&(Array.isArray(t)?t:[t]).forEach(function(s){e.classList.contains(s)&&e.classList.remove(s)})}var kc,Lc=13,Af=40,E0=38,oN=[Lc,27,Af,E0,37,39],uN=function(){function e(s){var r=this,n=s.handleSubmit,u=s.searchLabel,d=s.classNames,h=d===void 0?{}:d;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=zr("div",Ul("geosearch",h.container)),this.form=zr("form",["",h.form].join(" "),this.container,{autocomplete:"none",onClick:nu,onDblClick:nu,touchStart:nu,touchEnd:nu}),this.input=zr("input",["glass",h.input].join(" "),this.form,{type:"text",placeholder:u||"search",onInput:this.onInput,onKeyUp:function(m){return r.onKeyUp(m)},onKeyPress:function(m){return r.onKeyPress(m)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){r.input.focus(),r.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=n}var t=e.prototype;return t.onFocus=function(){ia(this.form,"active")},t.onBlur=function(){ur(this.form,"active")},t.onSubmit=function(s){try{var r=this;return nu(s),ur(n=r.container,"error"),ia(n,"pending"),Promise.resolve(r.handleSubmit({query:r.input.value})).then(function(){ur(r.container,"pending")})}catch(u){return Promise.reject(u)}var n},t.onInput=function(){this.hasError&&(ur(this.container,"error"),this.hasError=!1)},t.onKeyUp=function(s){s.keyCode===27&&(ur(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},t.onKeyPress=function(s){s.keyCode===Lc&&this.onSubmit(s)},t.setQuery=function(s){this.input.value=s},e}(),lN=function(){function e(s){var r=this,n=s.handleClick,u=s.classNames,d=u===void 0?{}:u,h=s.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(m){if(typeof r.handleClick=="function"){var y=m.target;if(y&&r.container.contains(y)&&y.hasAttribute("data-key")){var v=Number(y.getAttribute("data-key"));r.handleClick({result:r.results[v]})}}},this.handleClick=n,this.notFoundMessage=h?zr("div",Ul(d.notfound),void 0,{html:h}):void 0,this.container=zr("div",Ul("results",d.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=zr("div",Ul(d.item))}var t=e.prototype;return t.render=function(s,r){var n=this;s===void 0&&(s=[]),this.clear(),s.forEach(function(u,d){var h=n.resultItem.cloneNode(!0);h.setAttribute("data-key",""+d),h.innerHTML=r({result:u}),n.container.appendChild(h)}),s.length>0?(ia(this.container.parentElement,"open"),ia(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),ia(this.container.parentElement,"open")),this.results=s},t.select=function(s){return Array.from(this.container.children).forEach(function(r,n){return n===s?ia(r,"active"):ur(r,"active")}),this.selected=s,this.results[s]},t.count=function(){return this.results?this.results.length:0},t.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);ur(this.container.parentElement,"open"),ur(this.container,"active")},e}(),Vd={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(e){return""+e.result.label},resultFormat:function(e){return""+e.result.label},marker:{icon:Ih&&dt.Icon?new dt.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0,resetButton:""},x0="Leaflet must be loaded before instantiating the GeoSearch control",cN={options:na({},Vd),classNames:na({},Vd.classNames),initialize:function(e){var t,s,r,n,u=this;if(!Ih)throw new Error(x0);if(!e.provider)throw new Error("Provider is missing from options");this.options=na({},Vd,e),this.classNames=na({},this.classNames,e.classNames),this.markers=new dt.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new uN({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(d){return u.onSubmit(d)}}),this.button=zr("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(d){return u.onClick(d)}}),dt.DomEvent.disableClickPropagation(this.button),this.resetButton=zr("button",this.classNames.resetButton,this.searchElement.form,{text:this.options.resetButton,"aria-label":this.options.clearSearchLabel,onClick:function(){u.searchElement.input.value===""?u.close():u.clearResults(null,!0)}}),dt.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new lN({handleClick:function(d){var h=d.result;u.searchElement.input.value=h.label,u.onSubmit({query:h.label,data:h})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(t=function(d){return u.autoSearch(d)},(s=this.options.autoCompleteDelay)===void 0&&(s=250),r===void 0&&(r=!1),function(){var d=[].slice.call(arguments);n&&clearTimeout(n),n=setTimeout(function(){n=null,r||t.apply(void 0,d)},s),r&&!n&&t.apply(void 0,d)}),!0),this.searchElement.input.addEventListener("keydown",function(d){return u.selectResult(d)},!0),this.searchElement.input.addEventListener("keydown",function(d){return u.clearResults(d,!0)},!0)),this.searchElement.form.addEventListener("click",function(d){d.preventDefault()},!1)},onAdd:function(e){var t=this.options,s=t.showMarker,r=t.style;if(this.map=e,s&&this.markers.addTo(e),r==="bar"){var n=e.getContainer().querySelector(".leaflet-control-container");this.container=zr("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),n.appendChild(this.container)}return dt.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var e;return(e=this.container)==null||e.remove(),this},open:function(){var e=this.searchElement,t=e.input;ia(e.container,"active"),t.focus()},close:function(){ur(this.searchElement.container,"active"),this.clearResults()},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(e){if([Lc,Af,E0].indexOf(e.keyCode)!==-1)if(e.preventDefault(),e.keyCode!==Lc){var t=this.resultList.count()-1;if(!(t<0)){var s=this.resultList.selected,r=e.keyCode===Af?s+1:s-1,n=this.resultList.select(r<0?t:r>t?0:r);this.searchElement.input.value=n.label}}else{var u=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:u})}},clearResults:function(e,t){if(t===void 0&&(t=!1),!e||e.keyCode===27){var s=this.options,r=s.autoComplete;!t&&s.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),r&&this.resultList.clear()}},autoSearch:function(e){try{var t=this;if(oN.indexOf(e.keyCode)>-1)return Promise.resolve();var s=e.target.value,r=t.options.provider,n=function(){if(s.length)return Promise.resolve(r.search({query:s})).then(function(u){u=u.slice(0,t.options.maxSuggestions),t.resultList.render(u,t.options.resultFormat)});t.resultList.clear()}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(u){return Promise.reject(u)}},onSubmit:function(e){try{var t=this;return t.resultList.clear(),Promise.resolve(t.options.provider.search(e)).then(function(s){s&&s.length>0&&t.showResult(s[0],e)})}catch(s){return Promise.reject(s)}},showResult:function(e,t){var s=this.options,r=s.autoClose,n=s.updateMap,u=this.markers.getLayers();u.length>=this.options.maxMarkers&&this.markers.removeLayer(u[0]);var d=this.addMarker(e,t);n&&this.centerMap(e),this.map.fireEvent("geosearch/showlocation",{location:e,marker:d}),r&&this.closeResults()},closeResults:function(){var e=this.searchElement.container;e.classList.contains("active")&&ur(e,"active"),this.clearResults()},addMarker:function(e,t){var s=this,r=this.options,n=r.marker,u=r.showPopup,d=r.popupFormat,h=new dt.Marker([e.y,e.x],n),m=e.label;return typeof d=="function"&&(m=d({query:t,result:e})),h.bindPopup(m),this.markers.addLayer(h),u&&h.openPopup(),n.draggable&&h.on("dragend",function(y){s.map.fireEvent("geosearch/marker/dragend",{location:h.getLatLng(),event:y})}),h},centerMap:function(e){var t=this.options,s=t.retainZoomLevel,r=t.animateZoom,n=e.bounds?new dt.LatLngBounds(e.bounds):new dt.LatLng(e.y,e.x).toBounds(10),u=n.isValid()?n:this.markers.getBounds();!s&&n.isValid()&&!e.bounds||s||!n.isValid()?this.map.setView(u.getCenter(),this.getZoom(),{animate:r}):this.map.fitBounds(u,{animate:r})},getZoom:function(){var e=this.options,t=e.zoomLevel;return e.retainZoomLevel?this.map.getZoom():t}};function dN(){if(!Ih)throw new Error(x0);var e=dt.Control.extend(cN);return Of(e,[].slice.call(arguments))}(function(e){e[e.SEARCH=0]="SEARCH",e[e.REVERSE=1]="REVERSE"})(kc||(kc={}));var fN=function(){function e(s){s===void 0&&(s={}),this.options=void 0,this.options=s}var t=e.prototype;return t.getParamString=function(s){s===void 0&&(s={});var r=na({},this.options.params,s);return Object.keys(r).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(r[n])}).join("&")},t.getUrl=function(s,r){return s+"?"+this.getParamString(r)},t.search=function(s){try{var r=this,n=r.endpoint({query:s.query,type:kc.SEARCH});return Promise.resolve(fetch(n)).then(function(u){return Promise.resolve(u.json()).then(function(d){return r.parse({data:d})})})}catch(u){return Promise.reject(u)}},e}();var Rg;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Rg||(Rg={}));var hN=function(e){function t(r){var n;r===void 0&&(r={}),(n=e.call(this,r)||this).searchUrl=void 0,n.reverseUrl=void 0;var u="https://nominatim.openstreetmap.org";return n.searchUrl=r.searchUrl||u+"/search",n.reverseUrl=r.reverseUrl||u+"/reverse",n}sN(t,e);var s=t.prototype;return s.endpoint=function(r){var n=r.query,u=r.type,d=typeof n=="string"?{q:n}:n;return d.format="json",this.getUrl(u===kc.REVERSE?this.reverseUrl:this.searchUrl,d)},s.parse=function(r){return(Array.isArray(r.data)?r.data:[r.data]).map(function(n){return{x:Number(n.lon),y:Number(n.lat),label:n.display_name,bounds:[[parseFloat(n.boundingbox[0]),parseFloat(n.boundingbox[2])],[parseFloat(n.boundingbox[1]),parseFloat(n.boundingbox[3])]],raw:n}})},t}(fN);const pN=["id"],mN="100vh",gN="https://tile.openstreetmap.org/{z}/{x}/{y}.png",_N='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',vN={__name:"Map",props:{height:{type:String,default:mN},editable:{type:Boolean,default:!0},forceEditable:{type:Boolean,default:!1}},setup(e){const{t}=Vi(),s=e,{buffer:r,wkt:n,sourceGeometry:u,mapEditable:d,lang:h,x:m,y}=rn.getInstance(),v=Pn(),w=Be(null),T=Pn(new rr.FeatureGroup);let P=null;const O=(Math.random()+1).toString(36).substring(7),F=he(()=>!!n.value),j=he(()=>`height: ${s.height};`);function A(){n.value&&(T.value.clearLayers(),rr.geoJSON().addTo(T.value).addData(Ai.parse(n.value)),U())}function U(){v.value&&v.value.fitBounds(T.value.getBounds())}function H(){if(!P)return;T.value.clearLayers();let D=P.layer,R=D.toGeoJSON();Ou(R)||(R=Xy(R));const X=PS(R,P.layerType==="circle"?D.getRadius():null,P.layerType,r.value/1e3);(P.layerType==="marker"||P.layerType==="polyline")&&rr.geoJSON().addTo(T.value).addData(Ai.parse(X)),n.value=X;const ee=P.layerType==="marker"?D._latlng:null;m.value=(ee==null?void 0:ee.lng)??null,y.value=(ee==null?void 0:ee.lat)??null,u.value=null}function _(){const D=new hN({params:{"accept-language":h.value}}),R=new dN({provider:D,style:"bar",resetButton:"x",searchLabel:t("map.searchPlace"),marker:{icon:L0}});v.value.addControl(R),v.value.on("geosearch/showlocation",X=>{T.value.clearLayers();const ee=rr.marker([X.location.y,X.location.x]);P={layer:ee,layerType:"marker"},T.value.addLayer(ee),H(),U()})}function x(D){T.value.clearLayers();const R=rr.marker(D.latlng);P={layer:R,layerType:"marker"},T.value.addLayer(R),H(),w.value.stop()}function k(D){let R=D.layer;P=D,T.value.clearLayers(),T.value.addLayer(R),H()}function S(){const D={center:v.value.getCenter(),zoom:v.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(D))}function B(){v.value=rr.map(`map-${O}`),IS(v.value),rr.tileLayer(gN,{maxZoom:19,attribution:_N}).addTo(v.value),v.value.addLayer(T.value),F.value&&U(),d.value&&(v.value.addControl(new rr.Control.Draw(rN(T.value))),w.value=new tN({icon:"fa-solid fa-location-crosshairs fa-xl"}).addTo(v.value),_()),v.value.on(rr.Draw.Event.CREATED,k),v.value.on("locationfound",x)}return qi(()=>{B(),window.addEventListener("beforeunload",S),n.value||w.value.start()}),A(),it(n,A),it([r,T],H),s.forceEditable||it(d,()=>{v.value.off(),v.value.remove(),B()}),(D,R)=>(ge(),Oe("div",{class:"mapC",id:`map-${W(O)}`,style:zi(j.value)},null,12,pN))}},T0=Vn(vN,[["__scopeId","data-v-f4839e66"]]),yN={class:"container-fluid"},bN={class:"row"},wN={class:"col-12 col-lg-6 col-md-6"},kN={class:"col-12 col-lg-6 col-md-6"},Nh={__name:"MapListWidget",props:{height:{type:String,default:"100vh"}},setup(e){const t=e;return(s,r)=>(ge(),Oe("div",yN,[le("div",bN,[le("div",wN,[Ge(T0,{height:t.height},null,8,["height"])]),le("div",kN,[Ge(w0,{style:zi("height:"+t.height)},null,8,["style"])])])]))}},LN={key:0},EN={key:1},Mh={__name:"ListWidget",props:{height:{type:String,default:"100vh"}},setup(e){const t=rn.getInstance(),s=e;return(r,n)=>(ge(),Oe("div",null,[W(t).wkt.value.length>0?(ge(),Oe("div",LN,[Ge(w0,{style:zi("height:"+s.height)},null,8,["style"])])):(ge(),Oe("div",EN,n[0]||(n[0]=[le("h2",{class:"col-12 text-center m-3"},"Aucune gomtrie fournie !",-1)])))]))}},xN={class:"row g-1 mt-1",id:"classTaxonFilters"},TN={__name:"TaxonClassFilter",setup(e){const t=rn.getInstance().class;function s(r){t.value=t.value==r?null:r}return(r,n)=>{const u=ps;return ge(),Oe(ht,null,[le("label",null,[le("strong",null,[tt(ze(r.$t("taxon.class"))+" ",1),n[0]||(n[0]=le("i",{class:"fa-solid fa-leaf"},null,-1)),n[1]||(n[1]=le("i",{class:"fa-solid fa-paw"},null,-1))])]),le("div",null,[le("div",xN,[(ge(!0),Oe(ht,null,ai(Object.keys(W(bc).Animalia),d=>(ge(),Oe("div",{key:d,class:"col"},[Ge(u,{pill:"",variant:"outline-primary",pressed:W(t)==d,onClick:h=>s(d)},{default:qe(()=>[tt(ze(r.$t(`taxonsClass.Animalia.${d}`)),1)]),_:2},1032,["pressed","onClick"])]))),128)),(ge(!0),Oe(ht,null,ai(Object.keys(W(bc).Plantae),d=>(ge(),Oe("div",{key:d,class:"col"},[Ge(u,{pill:"",variant:"outline-success",pressed:W(t)==d,onClick:h=>s(d)},{default:qe(()=>[tt(ze(r.$t(`taxonsClass.Plantae.${d}`)),1)]),_:2},1032,["pressed","onClick"])]))),128))])])],64)}}},SN=Vn(TN,[["__scopeId","data-v-12c85e53"]]),CN=["for"],PN=["id"],Dg={__name:"DateFilter",props:{label:{type:String,required:!0},id:String,currentDate:Date},emits:["update:date"],setup(e,{emit:t}){const s=e,r=Be(null),n=t;return it(r,()=>{n("update:date",r.value)}),(u,d)=>(ge(),Oe(ht,null,[le("label",{for:s.id},[le("strong",null,[tt(ze(s.label)+" ",1),d[1]||(d[1]=le("i",{class:"fa-solid fa-calendar-days"},null,-1))])],8,CN),tn(le("input",{id:s.id,class:"form-control",type:"date","onUpdate:modelValue":d[0]||(d[0]=h=>r.value=h)},null,8,PN),[[_s,r.value]])],64))}},IN={class:"row"},NN={for:"buffer",class:"form-label col-6"},MN={__name:"BufferSizeFilter",setup(e){const{buffer:t}=rn.getInstance();return(s,r)=>(ge(),Oe("div",IN,[le("label",NN,[le("strong",null,[tt(ze(s.$t("bufferSize"))+" ",1),r[1]||(r[1]=le("i",{class:"fa-solid fa-up-right-and-down-left-from-center"},null,-1))])]),tn(le("input",{type:"number",class:"form-number",min:"1",max:"3000","onUpdate:modelValue":r[0]||(r[0]=n=>Lt(t)?t.value=n:null),id:"buffer"},null,512),[[_s,W(t)]])]))}},ON=Vn(MN,[["__scopeId","data-v-9149d6b3"]]),AN={class:"text-center col-12"},RN={class:"sourceParam"},DN={for:"sourceName"},BN=["value"],FN={class:"parameters"},zN=["for"],$N=["placeholder","onUpdate:modelValue"],UN=["type","placeholder","onUpdate:modelValue"],GN=["onUpdate:modelValue"],HN=["value"],VN={key:3,class:"text-danger"},jN={__name:"SourceFilter",props:{variant:{type:String,default:"primary"}},setup(e){const t=e,{connector:s}=rn.getInstance(),r={[Ur.GBIF]:new Sf().getParamsSchema(),[Ur.GeoNature]:new n0().getParamsSchema()},n=Be(s.value.name);let u=aa(Object.fromEntries(r[n.value].map(h=>[h.name,s.value[h.name]||h.default])));it([n],()=>{u=aa(Object.fromEntries(r[n.value].map(h=>[h.name,h.default])))});function d(h){s.value=Cf(n.value,u)}return(h,m)=>{const y=ps,v=l1,w=Zk;return ge(),Oe(ht,null,[le("div",AN,[tn((ge(),nt(y,{variant:t.variant,size:"md",class:"col-12 mb-3"},{default:qe(()=>[m[1]||(m[1]=le("i",{class:"fa fa-leaf"},null,-1)),tt(" "+ze(h.$t("source.modify"))+" ("+ze(n.value)+")",1)]),_:1},8,["variant"])),[[w,void 0,void 0,{"modal-center":!0}]])]),Ge(v,{id:"modal-center",centered:"",title:h.$t("source.title"),onOk:d},{default:qe(()=>[le("div",RN,[le("label",DN,ze(h.$t("source.select")),1),tn(le("select",{"onUpdate:modelValue":m[0]||(m[0]=T=>n.value=T),class:"form-select"},[(ge(),Oe(ht,null,ai(r,(T,P)=>le("option",{value:P},ze(P),9,BN)),64))],512),[[Qa,n.value]]),(ge(!0),Oe(ht,null,ai(r[n.value],T=>(ge(),Oe("div",FN,[le("label",{for:T.name},ze(T.label),9,zN),T.type===String?tn((ge(),Oe("input",{key:0,class:"form-control",placeholder:T.default,"onUpdate:modelValue":P=>W(u)[T.name]=P},null,8,$N)),[[_s,W(u)[T.name]]]):T.type===Number?tn((ge(),Oe("input",{key:1,type:T.type,class:"form-control",placeholder:T.default,"onUpdate:modelValue":P=>W(u)[T.name]=P},null,8,UN)),[[ik,W(u)[T.name]]]):Array.isArray(T.type)?tn((ge(),Oe("select",{key:2,class:"form-select","onUpdate:modelValue":P=>W(u)[T.name]=P},[(ge(!0),Oe(ht,null,ai(T.values,P=>(ge(),Oe("option",{key:P,value:P},ze(P),9,HN))),128))],8,GN)),[[Qa,W(u)[T.name]]]):(ge(),Oe("div",VN,"Unsupported input type"))]))),256))])]),_:1},8,["title"])],64)}}},qN={for:"mediaSourceSelect"},Bg={__name:"MediaSourceSelector",props:{mediaSourceID:{type:String,required:!0},typeMedia:{type:Jn,required:!0}},setup(e){const{connector:t}=rn.getInstance(),s=e,r=Be(s.mediaSourceID);return it(t,()=>{r.value=s.mediaSourceID},{deep:!1}),it(r,()=>{const n=`${s.typeMedia===Jn.image?Jn.sound:Jn.image}Source`,u={[s.typeMedia+"Source"]:bs(r.value),[n]:bs(t.value[n].id)};t.value=new t.value.constructor(Object.assign({},t.value.getParams(),u))}),(n,u)=>{const d=fh,h=Xv;return ge(),Oe(ht,null,[le("label",qN,[le("strong",null,[tt(ze(n.$t(`media.${e.typeMedia}`))+" ",1),u[1]||(u[1]=le("i",{class:"fa-solid fa-photo-film"},null,-1))])]),Ge(h,{id:"mediaSourceSelect",options:W(t).getCompatibleMediaSource(),modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=m=>r.value=m)},{first:qe(()=>[Ge(d,{value:null,disabled:""},{default:qe(()=>[tt(ze(n.$t("media.select")),1)]),_:1})]),_:1},8,["options","modelValue"])],64)}}},WN={class:"card"},ZN={class:"card-header d-flex align-items-center justify-content-between"},YN={class:"card-body"},XN={class:"input-group mb-3"},KN=["value"],JN={key:0},QN={key:1},eM={class:"input-group mb-3"},tM={class:"input-group-text"},nM={class:"input-group-text"},iM={__name:"HTMLBuilder",props:{link:String,required:!0},emits:["update:width","update:height"],setup(e,{emit:t}){const s=e,r=Be("100%"),n=Be("600px"),u=Be(!1);function d(){navigator.clipboard.writeText(m.value),u.value=!0,setTimeout(()=>{u.value=!1},3e3)}const h=t;it([r,n],()=>{h("update:width",r.value),h("update:height",n.value)});const m=he(()=>`<iframe src="${s.link}" type="" style="width: ${r.value}; height: ${n.value}" allow="geolocation"></iframe>`);return(y,v)=>(ge(),Oe("div",WN,[le("div",ZN,[le("h3",null,[v[2]||(v[2]=le("i",{class:"bi bi-code-slash",style:{"margin-right":"0.5em"}},null,-1)),tt(" "+ze(y.$t("browserIntegration")),1)])]),le("div",YN,[le("div",XN,[le("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:m.value,style:{height:"80px"}},null,8,KN),le("button",{class:"btn btn-outline-secondary",onClick:d},[u.value?(ge(),Oe("div",JN,[v[3]||(v[3]=le("i",{class:"bi bi-check2-circle"},null,-1)),tt(" "+ze(y.$t("copied"))+"! ",1)])):(ge(),Oe("div",QN,v[4]||(v[4]=[le("i",{class:"bi bi-copy"},null,-1)])))])]),le("div",eM,[le("span",tM,ze(y.$t("size.width")),1),tn(le("input",{class:"form-control",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":v[0]||(v[0]=w=>r.value=w)},null,512),[[_s,r.value]]),le("span",nM,ze(y.$t("size.height")),1),tn(le("input",{class:"form-control",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":v[1]||(v[1]=w=>n.value=w)},null,512),[[_s,n.value]])])])]))}},rM={id:"left-panel"},sM={class:"card"},aM={class:"card-header"},oM={class:"card-body",id:"parameters"},uM={class:"col text-center p-2"},lM={class:"col text-center mt-3"},cM={class:"parameter-section text-center"},dM={class:"parameter-section"},fM={key:0,class:"parameter-section"},hM={class:"parameter-section"},pM={class:"row"},mM={class:"col-6"},gM={class:"col-6"},_M={class:"parameter-section"},vM={class:"parameter-section"},yM={class:"parameter-section"},bM={class:"parameter-section"},wM={class:"parameter-section"},kM={class:"parameter-section"},LM={class:"parameter-section"},EM={class:"parameter-section"},xM={class:"parameter-section"},TM={class:"parameter-section"},SM={class:"d-flex justify-content-center parameter-section"},CM={class:"mt-2"},PM={__name:"Parameters",setup(e){const{t}=Vi(),{dateMin:s,dateMax:r,showFilters:n,mapEditable:u,sourceGeometry:d,mode:h,widgetType:m,nbTaxonPerLine:y,hybridTaxonList:v,connector:w,customDetailPage:T,getParams:P,nbDisplayedSpecies:O}=rn.getInstance(),F=m0(),j=Ph(),A=window.location.origin,U=window.location.pathname,H=he(()=>{const k=Object.entries(rn.getInstance().getParams()).map(([B,D])=>`${B}=${D}`),S=k.length?`?${k.join("&")}`:"";return`${A}${U}#/${S}`}),_=he(()=>[{value:fr.gallery,text:t("mode.galleryMode")},{value:fr.detailedList,text:t("mode.detailedList")}]),x=he(()=>[{value:Bi.mapList,text:t("widgetType.default")},{value:Bi.list,text:t("widgetType.list")}]);return(k,S)=>{const B=T0,D=wE,R=_E,X=Xv,ee=ps;return ge(),Oe("div",rM,[le("div",sM,[le("h3",aM,[S[12]||(S[12]=le("i",{class:"bi bi-gear-fill"},null,-1)),tt(" "+ze(k.$t("parameters")),1)]),le("div",oM,[le("div",uM,[le("label",null,[tt(ze(k.$t("drawGeometry"))+" ",1),S[13]||(S[13]=le("i",{class:"fa-solid fa-location-dot"},null,-1))]),Ge(B,{forceEditable:!0,editable:!0,height:"350px",class:"mt-2"})]),le("div",lM,[le("h5",null,ze(k.$t("or")),1)]),le("div",cM,[Ge(D,{modelValue:W(d),"onUpdate:modelValue":S[0]||(S[0]=q=>Lt(d)?d.value=q:null),placeholder:k.$t("IndicateGeoJSONUrl")},null,8,["modelValue","placeholder"])]),S[22]||(S[22]=le("hr",null,null,-1)),le("div",dM,[Ge(R,{switch:"",modelValue:W(n),"onUpdate:modelValue":S[1]||(S[1]=q=>Lt(n)?n.value=q:null)},{default:qe(()=>[le("strong",null,[tt(ze(k.$t("showFilters"))+" ",1),S[14]||(S[14]=le("i",{class:"bi bi-sort-down"},null,-1))])]),_:1},8,["modelValue"])]),W(m)===W(Bi).mapList?(ge(),Oe("div",fM,[Ge(R,{switch:"",modelValue:W(u),"onUpdate:modelValue":S[2]||(S[2]=q=>Lt(u)?u.value=q:null)},{default:qe(()=>[le("strong",null,[tt(ze(k.$t("mapEditable"))+" ",1),S[15]||(S[15]=le("i",{class:"fa-solid fa-map"},null,-1))])]),_:1},8,["modelValue"])])):ft("",!0),le("div",hM,[Ge(ON)]),le("div",pM,[le("div",mM,[Ge(Dg,{id:"startDate",label:"Date min.",currentDate:W(s),"onUpdate:date":S[3]||(S[3]=q=>s.value=q)},null,8,["currentDate"])]),le("div",gM,[Ge(Dg,{id:"endDate",label:"Date max.",currentDate:W(r),"onUpdate:date":S[4]||(S[4]=q=>r.value=q)},null,8,["currentDate"])])]),le("div",_M,[Ge(SN)]),le("div",vM,[le("label",null,[tt(ze(k.$t("UseCustomDetailPage"))+" ",1),S[16]||(S[16]=le("i",{class:"fa-solid fa-link"},null,-1))]),Ge(D,{modelValue:W(T),"onUpdate:modelValue":S[5]||(S[5]=q=>Lt(T)?T.value=q:null),placeholder:k.$t("IndicateDetailTemplateUrl")+"{taxonID}"},null,8,["modelValue","placeholder"])]),le("div",yM,[le("label",null,[tt(ze(k.$t("TaxonListModeSelection"))+" ",1),S[17]||(S[17]=le("span",null,[le("i",{class:"fa-solid fa-list"}),tt(" | "),le("i",{class:"fa-solid fa-grip-vertical"})],-1))]),Ge(X,{modelValue:W(h),"onUpdate:modelValue":S[6]||(S[6]=q=>Lt(h)?h.value=q:null),options:_.value,class:"mt-1"},null,8,["modelValue","options"])]),le("div",bM,[Ge(R,{switch:"",modelValue:W(v),"onUpdate:modelValue":S[7]||(S[7]=q=>Lt(v)?v.value=q:null)},{default:qe(()=>[le("strong",null,ze(k.$t("mode.isTaxonListHybrid")),1)]),_:1},8,["modelValue"])]),le("div",wM,[le("label",null,[tt(ze(k.$t("widgetTypeSelection"))+" ",1),S[18]||(S[18]=le("i",{class:"fa-solid fa-display"},null,-1))]),Ge(X,{modelValue:W(m),"onUpdate:modelValue":S[8]||(S[8]=q=>Lt(m)?m.value=q:null),options:x.value,class:"mt-1"},null,8,["modelValue","options"])]),le("div",kM,[le("label",null,[tt(ze(k.$t("numberOfTaxonPerLine"))+" ",1),S[19]||(S[19]=le("i",{class:"bi bi-123"},null,-1))]),Ge(D,{type:"number",modelValue:W(y),"onUpdate:modelValue":S[9]||(S[9]=q=>Lt(y)?y.value=q:null)},null,8,["modelValue"])]),le("div",LM,[le("label",null,[tt(ze(k.$t("nbDisplayedSpecies"))+" ",1),S[20]||(S[20]=le("i",{class:"bi bi-123"},null,-1))]),Ge(D,{type:"number",modelValue:W(O),"onUpdate:modelValue":S[10]||(S[10]=q=>Lt(O)?O.value=q:null),min:"0"},null,8,["modelValue"])]),le("div",EM,[Ge(Bg,{mediaSourceID:W(w).imageSource.id,typeMedia:W(Jn).image},null,8,["mediaSourceID","typeMedia"])]),le("div",xM,[Ge(Bg,{mediaSourceID:W(w).soundSource.id,typeMedia:W(Jn).sound},null,8,["mediaSourceID","typeMedia"])]),le("div",TM,[Ge(jN)]),le("div",SM,[Ge(ee,{variant:"danger",onClick:S[11]||(S[11]=q=>W(rn).clearParameters(W(j),W(F)))},{default:qe(()=>[S[21]||(S[21]=le("i",{class:"bi bi-arrow-clockwise"},null,-1)),tt(" "+ze(k.$t("RefreshFilters")),1)]),_:1})])])]),le("div",CM,[Ge(iM,{link:H.value},null,8,["link"])])])}}},IM=Vn(PM,[["__scopeId","data-v-2df430f5"]]),NM={},MM={class:"locale-changer input-group"},OM=["value"];function AM(e,t){return ge(),Oe("div",MM,[t[1]||(t[1]=le("label",{for:"languageSelect",class:"input-group-text"},[le("i",{class:"bi bi-translate"})],-1)),tn(le("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.$i18n.locale=s),class:"form-select",id:"languageSelect"},[(ge(!0),Oe(ht,null,ai(e.$i18n.availableLocales,s=>(ge(),Oe("option",{key:`locale-${s}`,value:s},ze(s),9,OM))),128))],512),[[Qa,e.$i18n.locale]])])}const S0=Vn(NM,[["render",AM],["__scopeId","data-v-209fffcf"]]),RM="/BAM-widget/assets/BAM-logo-B7M8Ftx4.png",DM=["src"],BM={__name:"HeaderNav",setup(e){return(t,s)=>{const r=ay,n=uy,u=iy,d=ry,h=oy,m=jv,y=sy,v=kv;return ge(),Oe("header",null,[tn((ge(),nt(y,{toggleable:"lg",variant:"light",class:"mb-3"},{default:qe(()=>[Ge(r,{href:"#/config"},{default:qe(()=>[le("img",{style:{width:"35px"},src:W(RM)},null,8,DM),tt(" "+ze(t.$t("title")),1)]),_:1}),Ge(n,{target:"nav-collapse"}),Ge(m,{id:"nav-collapse","is-nav":""},{default:qe(()=>[Ge(h,{class:"ms-auto mb-2 mb-lg-0"},{default:qe(()=>[Ge(u,{class:"d-flex",right:""},{default:qe(()=>[Ge(S0)]),_:1}),Ge(d,{href:"https://pnx-si.github.io/BAM-widget/docs/#/"},{default:qe(()=>s[0]||(s[0]=[le("i",{class:"bi bi-file-text-fill"},null,-1),tt(" Documentation")])),_:1})]),_:1})]),_:1})]),_:1})),[[v,"ligth"]])])}}},FM={class:"container-fluid"},zM={class:"row"},$M={class:"col-12 col-lg-4 col-md-2",style:{height:"80vh"}},UM={class:"col"},GM={class:"card"},HM={class:"card-header"},VM={class:"card-body"},jM={__name:"Configurator",setup(e){var r;const{widgetType:t}=rn.getInstance();return(r=Ph().query)!=null&&r.widgetType||(t.value=Bi.list),(n,u)=>{const d=Mh,h=Nh;return ge(),Oe("main",FM,[Ge(BM),le("div",zM,[le("div",$M,[Ge(IM)]),le("div",UM,[le("div",GM,[le("h3",HM,[u[0]||(u[0]=le("i",{class:"bi bi-easel"},null,-1)),tt(" "+ze(n.$t("widgetPreview")),1)]),le("div",VM,[W(t)==W(Bi).list?(ge(),nt(d,{key:0,height:"70vh"})):(ge(),nt(h,{key:1,height:"70vh"}))])])])])])}}},qM=Vn(jM,[["__scopeId","data-v-a15e46ed"]]),WM={class:"row justify-content-center p-3"},ZM={class:"col-12 col-lg-12 col-md-6 d-flex justify-content-center align-items-center"},YM={for:"shareButton",class:"mb-0 me-2 fw-bold"},XM={key:0},KM={key:1},JM={__name:"ShareButton",setup(e){const t=he(()=>window.location.href),s=Be(!1);function r(){navigator.clipboard.writeText(t.value),s.value=!0,setTimeout(()=>{s.value=!1},3e3)}return(n,u)=>(ge(),Oe("div",WM,[le("div",ZM,[le("label",YM,ze(n.$t("shareDiscover")),1),le("button",{class:"btn btn-outline-secondary",id:"shareButton",onClick:r},[s.value?(ge(),Oe("div",XM,[u[0]||(u[0]=le("i",{class:"bi bi-check2-circle"},null,-1)),tt(" "+ze(n.$t("copied"))+"! ",1)])):(ge(),Oe("div",KM,[u[1]||(u[1]=le("i",{class:"bi bi-link-45deg"},null,-1)),tt(" "+ze(n.$t("copy")),1)]))])])]))}},QM={},eO={id:"intro"};function tO(e,t){const s=A_("VueShowdown");return ge(),Oe("div",eO,[le("h2",null,ze(e.$t("introTitle")),1),Ge(s,{markdown:e.$t("intro"),flavor:"github",options:{emoji:!0}},null,8,["markdown"])])}const nO=Vn(QM,[["render",tO]]),iO={class:"container-fluid"},rO={class:"row"},sO={class:"col-sm-3"},aO={class:"col-sm-9"},oO={__name:"Explorer",setup(e){const{widgetType:t}=rn.getInstance();return(s,r)=>{const n=ay,u=uy,d=S0,h=iy,m=ry,y=oy,v=jv,w=sy,T=JM,P=Mh,O=Nh,F=kv;return ge(),Oe(ht,null,[tn((ge(),nt(w,{toggleable:"lg",variant:"success",class:"mb-3"},{default:qe(()=>[Ge(n,null,{default:qe(()=>[tt("   "+ze(s.$t("discover.title")),1)]),_:1}),Ge(u,{target:"nav-collapse"}),Ge(v,{id:"nav-collapse","is-nav":""},{default:qe(()=>[Ge(y,{class:"ms-auto mb-2 mb-lg-0"},{default:qe(()=>[Ge(h,{class:"d-flex",right:""},{default:qe(()=>[Ge(d)]),_:1}),Ge(m,{href:"https://pnx-si.github.io/widget-gtsi/docs/#/"},{default:qe(()=>r[0]||(r[0]=[le("i",{class:"bi bi-file-text-fill"},null,-1),tt(" Documentation")])),_:1})]),_:1})]),_:1})]),_:1})),[[F,"dark"]]),le("main",iO,[le("div",rO,[le("div",sO,[Ge(nO),Ge(T,{class:"margin-top:1em"})]),le("div",aO,[W(t)==W(Bi).list?(ge(),nt(P,{key:0,height:"70vh"})):(ge(),nt(O,{key:1,height:"90vh"}))])])])],64)}}},uO=Vn(oO,[["__scopeId","data-v-30bccb3f"]]),lO={},cO={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},dO={class:"text-center"},fO={class:"lead"};function hO(e,t){return ge(),Oe("div",cO,[le("div",dO,[t[0]||(t[0]=le("h1",{class:"display-1"},"404",-1)),le("p",fO,ze(e.$t("error404.title")),1),le("p",null,ze(e.$t("error404.subtitle")),1)])])}const pO=Vn(lO,[["render",hO]]);var Gl={exports:{}},mO=Gl.exports,Fg;function gO(){return Fg||(Fg=1,function(e){(function(){function t(_){var x={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(_===!1)return JSON.parse(JSON.stringify(x));var k={};for(var S in x)x.hasOwnProperty(S)&&(k[S]=x[S].defaultValue);return k}function s(){var _=t(!0),x={};for(var k in _)_.hasOwnProperty(k)&&(x[k]=!0);return x}var r={},n={},u={},d=t(!0),h="vanilla",m={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:s()};r.helper={},r.extensions={},r.setOption=function(_,x){return d[_]=x,this},r.getOption=function(_){return d[_]},r.getOptions=function(){return d},r.resetOptions=function(){d=t(!0)},r.setFlavor=function(_){if(!m.hasOwnProperty(_))throw Error(_+" flavor was not found");r.resetOptions();var x=m[_];h=_;for(var k in x)x.hasOwnProperty(k)&&(d[k]=x[k])},r.getFlavor=function(){return h},r.getFlavorOptions=function(_){if(m.hasOwnProperty(_))return m[_]},r.getDefaultOptions=function(_){return t(_)},r.subParser=function(_,x){if(r.helper.isString(_))if(typeof x<"u")n[_]=x;else{if(n.hasOwnProperty(_))return n[_];throw Error("SubParser named "+_+" not registered!")}},r.extension=function(_,x){if(!r.helper.isString(_))throw Error("Extension 'name' must be a string");if(_=r.helper.stdExtName(_),r.helper.isUndefined(x)){if(!u.hasOwnProperty(_))throw Error("Extension named "+_+" is not registered!");return u[_]}else{typeof x=="function"&&(x=x()),r.helper.isArray(x)||(x=[x]);var k=y(x,_);if(k.valid)u[_]=x;else throw Error(k.error)}},r.getAllExtensions=function(){return u},r.removeExtension=function(_){delete u[_]},r.resetExtensions=function(){u={}};function y(_,x){var k=x?"Error in "+x+" extension->":"Error in unnamed extension",S={valid:!0,error:""};r.helper.isArray(_)||(_=[_]);for(var B=0;B<_.length;++B){var D=k+" sub-extension "+B+": ",R=_[B];if(typeof R!="object")return S.valid=!1,S.error=D+"must be an object, but "+typeof R+" given",S;if(!r.helper.isString(R.type))return S.valid=!1,S.error=D+'property "type" must be a string, but '+typeof R.type+" given",S;var X=R.type=R.type.toLowerCase();if(X==="language"&&(X=R.type="lang"),X==="html"&&(X=R.type="output"),X!=="lang"&&X!=="output"&&X!=="listener")return S.valid=!1,S.error=D+"type "+X+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',S;if(X==="listener"){if(r.helper.isUndefined(R.listeners))return S.valid=!1,S.error=D+'. Extensions of type "listener" must have a property called "listeners"',S}else if(r.helper.isUndefined(R.filter)&&r.helper.isUndefined(R.regex))return S.valid=!1,S.error=D+X+' extensions must define either a "regex" property or a "filter" method',S;if(R.listeners){if(typeof R.listeners!="object")return S.valid=!1,S.error=D+'"listeners" property must be an object but '+typeof R.listeners+" given",S;for(var ee in R.listeners)if(R.listeners.hasOwnProperty(ee)&&typeof R.listeners[ee]!="function")return S.valid=!1,S.error=D+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+ee+" must be a function but "+typeof R.listeners[ee]+" given",S}if(R.filter){if(typeof R.filter!="function")return S.valid=!1,S.error=D+'"filter" must be a function, but '+typeof R.filter+" given",S}else if(R.regex){if(r.helper.isString(R.regex)&&(R.regex=new RegExp(R.regex,"g")),!(R.regex instanceof RegExp))return S.valid=!1,S.error=D+'"regex" property must either be a string or a RegExp object, but '+typeof R.regex+" given",S;if(r.helper.isUndefined(R.replace))return S.valid=!1,S.error=D+'"regex" extensions must implement a replace string or function',S}}return S}r.validateExtension=function(_){var x=y(_,null);return x.valid?!0:(console.warn(x.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(_){return typeof _=="string"||_ instanceof String},r.helper.isFunction=function(_){var x={};return _&&x.toString.call(_)==="[object Function]"},r.helper.isArray=function(_){return Array.isArray(_)},r.helper.isUndefined=function(_){return typeof _>"u"},r.helper.forEach=function(_,x){if(r.helper.isUndefined(_))throw new Error("obj param is required");if(r.helper.isUndefined(x))throw new Error("callback param is required");if(!r.helper.isFunction(x))throw new Error("callback param must be a function/closure");if(typeof _.forEach=="function")_.forEach(x);else if(r.helper.isArray(_))for(var k=0;k<_.length;k++)x(_[k],k,_);else if(typeof _=="object")for(var S in _)_.hasOwnProperty(S)&&x(_[S],S,_);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(_){return _.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function v(_,x){var k=x.charCodeAt(0);return"E"+k+"E"}r.helper.escapeCharactersCallback=v,r.helper.escapeCharacters=function(_,x,k){var S="(["+x.replace(/([\[\]\\])/g,"\\$1")+"])";k&&(S="\\\\"+S);var B=new RegExp(S,"g");return _=_.replace(B,v),_},r.helper.unescapeHTMLEntities=function(_){return _.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var w=function(_,x,k,S){var B=S||"",D=B.indexOf("g")>-1,R=new RegExp(x+"|"+k,"g"+B.replace(/g/g,"")),X=new RegExp(x,B.replace(/g/g,"")),ee=[],q,Z,ne,V,te;do for(q=0;ne=R.exec(_);)if(X.test(ne[0]))q++||(Z=R.lastIndex,V=Z-ne[0].length);else if(q&&!--q){te=ne.index+ne[0].length;var ae={left:{start:V,end:Z},match:{start:Z,end:ne.index},right:{start:ne.index,end:te},wholeMatch:{start:V,end:te}};if(ee.push(ae),!D)return ee}while(q&&(R.lastIndex=Z));return ee};r.helper.matchRecursiveRegExp=function(_,x,k,S){for(var B=w(_,x,k,S),D=[],R=0;R<B.length;++R)D.push([_.slice(B[R].wholeMatch.start,B[R].wholeMatch.end),_.slice(B[R].match.start,B[R].match.end),_.slice(B[R].left.start,B[R].left.end),_.slice(B[R].right.start,B[R].right.end)]);return D},r.helper.replaceRecursiveRegExp=function(_,x,k,S,B){if(!r.helper.isFunction(x)){var D=x;x=function(){return D}}var R=w(_,k,S,B),X=_,ee=R.length;if(ee>0){var q=[];R[0].wholeMatch.start!==0&&q.push(_.slice(0,R[0].wholeMatch.start));for(var Z=0;Z<ee;++Z)q.push(x(_.slice(R[Z].wholeMatch.start,R[Z].wholeMatch.end),_.slice(R[Z].match.start,R[Z].match.end),_.slice(R[Z].left.start,R[Z].left.end),_.slice(R[Z].right.start,R[Z].right.end))),Z<ee-1&&q.push(_.slice(R[Z].wholeMatch.end,R[Z+1].wholeMatch.start));R[ee-1].wholeMatch.end<_.length&&q.push(_.slice(R[ee-1].wholeMatch.end)),X=q.join("")}return X},r.helper.regexIndexOf=function(_,x,k){if(!r.helper.isString(_))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(x instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var S=_.substring(k||0).search(x);return S>=0?S+(k||0):S},r.helper.splitAtIndex=function(_,x){if(!r.helper.isString(_))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[_.substring(0,x),_.substring(x)]},r.helper.encodeEmailAddress=function(_){var x=[function(k){return"&#"+k.charCodeAt(0)+";"},function(k){return"&#x"+k.charCodeAt(0).toString(16)+";"},function(k){return k}];return _=_.replace(/./g,function(k){if(k==="@")k=x[Math.floor(Math.random()*2)](k);else{var S=Math.random();k=S>.9?x[2](k):S>.45?x[1](k):x[0](k)}return k}),_},r.helper.padEnd=function(x,k,S){return k=k>>0,S=String(S||" "),x.length>k?String(x):(k=k-x.length,k>S.length&&(S+=S.repeat(k/S.length)),String(x)+S.slice(0,k))},typeof console>"u"&&(console={warn:function(_){alert(_)},log:function(_){alert(_)},error:function(_){throw _}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(_){var x={},k=[],S=[],B={},D=h,R={parsed:{},raw:"",format:""};X();function X(){_=_||{};for(var V in d)d.hasOwnProperty(V)&&(x[V]=d[V]);if(typeof _=="object")for(var te in _)_.hasOwnProperty(te)&&(x[te]=_[te]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof _+" was passed instead.");x.extensions&&r.helper.forEach(x.extensions,ee)}function ee(V,te){if(te=te||null,r.helper.isString(V))if(V=r.helper.stdExtName(V),te=V,r.extensions[V]){console.warn("DEPRECATION WARNING: "+V+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),q(r.extensions[V],V);return}else if(!r.helper.isUndefined(u[V]))V=u[V];else throw Error('Extension "'+V+'" could not be loaded. It was either not found or is not a valid extension.');typeof V=="function"&&(V=V()),r.helper.isArray(V)||(V=[V]);var ae=y(V,te);if(!ae.valid)throw Error(ae.error);for(var ve=0;ve<V.length;++ve){switch(V[ve].type){case"lang":k.push(V[ve]);break;case"output":S.push(V[ve]);break}if(V[ve].hasOwnProperty("listeners"))for(var ce in V[ve].listeners)V[ve].listeners.hasOwnProperty(ce)&&Z(ce,V[ve].listeners[ce])}}function q(V,te){typeof V=="function"&&(V=V(new r.Converter)),r.helper.isArray(V)||(V=[V]);var ae=y(V,te);if(!ae.valid)throw Error(ae.error);for(var ve=0;ve<V.length;++ve)switch(V[ve].type){case"lang":k.push(V[ve]);break;case"output":S.push(V[ve]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function Z(V,te){if(!r.helper.isString(V))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof V+" given");if(typeof te!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof te+" given");B.hasOwnProperty(V)||(B[V]=[]),B[V].push(te)}function ne(V){var te=V.match(/^\s*/)[0].length,ae=new RegExp("^\\s{0,"+te+"}","gm");return V.replace(ae,"")}this._dispatch=function(te,ae,ve,ce){if(B.hasOwnProperty(te))for(var ke=0;ke<B[te].length;++ke){var De=B[te][ke](te,ae,this,ve,ce);De&&typeof De<"u"&&(ae=De)}return ae},this.listen=function(V,te){return Z(V,te),this},this.makeHtml=function(V){if(!V)return V;var te={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:k,outputModifiers:S,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return V=V.replace(//g,"T"),V=V.replace(/\$/g,"D"),V=V.replace(/\r\n/g,`
`),V=V.replace(/\r/g,`
`),V=V.replace(/\u00A0/g,"&nbsp;"),x.smartIndentationFix&&(V=ne(V)),V=`

`+V+`

`,V=r.subParser("detab")(V,x,te),V=V.replace(/^[ \t]+$/mg,""),r.helper.forEach(k,function(ae){V=r.subParser("runExtension")(ae,V,x,te)}),V=r.subParser("metadata")(V,x,te),V=r.subParser("hashPreCodeTags")(V,x,te),V=r.subParser("githubCodeBlocks")(V,x,te),V=r.subParser("hashHTMLBlocks")(V,x,te),V=r.subParser("hashCodeTags")(V,x,te),V=r.subParser("stripLinkDefinitions")(V,x,te),V=r.subParser("blockGamut")(V,x,te),V=r.subParser("unhashHTMLSpans")(V,x,te),V=r.subParser("unescapeSpecialChars")(V,x,te),V=V.replace(/D/g,"$$"),V=V.replace(/T/g,""),V=r.subParser("completeHTMLDocument")(V,x,te),r.helper.forEach(S,function(ae){V=r.subParser("runExtension")(ae,V,x,te)}),R=te.metadata,V},this.makeMarkdown=this.makeMd=function(V,te){if(V=V.replace(/\r\n/g,`
`),V=V.replace(/\r/g,`
`),V=V.replace(/>[ \t]+</,">NBSP;<"),!te)if(window&&window.document)te=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var ae=te.createElement("div");ae.innerHTML=V;var ve={preList:Pe(ae)};Ae(ae);for(var ce=ae.childNodes,ke="",De=0;De<ce.length;De++)ke+=r.subParser("makeMarkdown.node")(ce[De],ve);function Ae(Ee){for(var xe=0;xe<Ee.childNodes.length;++xe){var de=Ee.childNodes[xe];de.nodeType===3?!/\S/.test(de.nodeValue)&&!/^[ ]+$/.test(de.nodeValue)?(Ee.removeChild(de),--xe):(de.nodeValue=de.nodeValue.split(`
`).join(" "),de.nodeValue=de.nodeValue.replace(/(\s)+/g,"$1")):de.nodeType===1&&Ae(de)}}function Pe(Ee){for(var xe=Ee.querySelectorAll("pre"),de=[],K=0;K<xe.length;++K)if(xe[K].childElementCount===1&&xe[K].firstChild.tagName.toLowerCase()==="code"){var Te=xe[K].firstChild.innerHTML.trim(),Ne=xe[K].firstChild.getAttribute("data-language")||"";if(Ne==="")for(var Me=xe[K].firstChild.className.split(" "),N=0;N<Me.length;++N){var Q=Me[N].match(/^language-(.+)$/);if(Q!==null){Ne=Q[1];break}}Te=r.helper.unescapeHTMLEntities(Te),de.push(Te),xe[K].outerHTML='<precode language="'+Ne+'" precodenum="'+K.toString()+'"></precode>'}else de.push(xe[K].innerHTML),xe[K].innerHTML="",xe[K].setAttribute("prenum",K.toString());return de}return ke},this.setOption=function(V,te){x[V]=te},this.getOption=function(V){return x[V]},this.getOptions=function(){return x},this.addExtension=function(V,te){te=te||null,ee(V,te)},this.useExtension=function(V){ee(V)},this.setFlavor=function(V){if(!m.hasOwnProperty(V))throw Error(V+" flavor was not found");var te=m[V];D=V;for(var ae in te)te.hasOwnProperty(ae)&&(x[ae]=te[ae])},this.getFlavor=function(){return D},this.removeExtension=function(V){r.helper.isArray(V)||(V=[V]);for(var te=0;te<V.length;++te){for(var ae=V[te],ve=0;ve<k.length;++ve)k[ve]===ae&&k.splice(ve,1);for(var ce=0;ce<S.length;++ce)S[ce]===ae&&S.splice(ce,1)}},this.getAllExtensions=function(){return{language:k,output:S}},this.getMetadata=function(V){return V?R.raw:R.parsed},this.getMetadataFormat=function(){return R.format},this._setMetadataPair=function(V,te){R.parsed[V]=te},this._setMetadataFormat=function(V){R.format=V},this._setMetadataRaw=function(V){R.raw=V}},r.subParser("anchors",function(_,x,k){_=k.converter._dispatch("anchors.before",_,x,k);var S=function(B,D,R,X,ee,q,Z){if(r.helper.isUndefined(Z)&&(Z=""),R=R.toLowerCase(),B.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)X="";else if(!X)if(R||(R=D.toLowerCase().replace(/ ?\n/g," ")),X="#"+R,!r.helper.isUndefined(k.gUrls[R]))X=k.gUrls[R],r.helper.isUndefined(k.gTitles[R])||(Z=k.gTitles[R]);else return B;X=X.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ne='<a href="'+X+'"';return Z!==""&&Z!==null&&(Z=Z.replace(/"/g,"&quot;"),Z=Z.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ne+=' title="'+Z+'"'),x.openLinksInNewWindow&&!/^#/.test(X)&&(ne+=' rel="noopener noreferrer" target="E95Eblank"'),ne+=">"+D+"</a>",ne};return _=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,S),_=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,S),_=_.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,S),_=_.replace(/\[([^\[\]]+)]()()()()()/g,S),x.ghMentions&&(_=_.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(B,D,R,X,ee){if(R==="\\")return D+X;if(!r.helper.isString(x.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var q=x.ghMentionsLink.replace(/\{u}/g,ee),Z="";return x.openLinksInNewWindow&&(Z=' rel="noopener noreferrer" target="E95Eblank"'),D+'<a href="'+q+'"'+Z+">"+X+"</a>"})),_=k.converter._dispatch("anchors.after",_,x,k),_});var T=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,P=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,O=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,F=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,j=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,A=function(_){return function(x,k,S,B,D,R,X){S=S.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ee=S,q="",Z="",ne=k||"",V=X||"";return/^www\./i.test(S)&&(S=S.replace(/^www\./i,"http://www.")),_.excludeTrailingPunctuationFromURLs&&R&&(q=R),_.openLinksInNewWindow&&(Z=' rel="noopener noreferrer" target="E95Eblank"'),ne+'<a href="'+S+'"'+Z+">"+ee+"</a>"+q+V}},U=function(_,x){return function(k,S,B){var D="mailto:";return S=S||"",B=r.subParser("unescapeSpecialChars")(B,_,x),_.encodeEmails?(D=r.helper.encodeEmailAddress(D+B),B=r.helper.encodeEmailAddress(B)):D=D+B,S+'<a href="'+D+'">'+B+"</a>"}};r.subParser("autoLinks",function(_,x,k){return _=k.converter._dispatch("autoLinks.before",_,x,k),_=_.replace(O,A(x)),_=_.replace(j,U(x,k)),_=k.converter._dispatch("autoLinks.after",_,x,k),_}),r.subParser("simplifiedAutoLinks",function(_,x,k){return x.simplifiedAutoLink&&(_=k.converter._dispatch("simplifiedAutoLinks.before",_,x,k),x.excludeTrailingPunctuationFromURLs?_=_.replace(P,A(x)):_=_.replace(T,A(x)),_=_.replace(F,U(x,k)),_=k.converter._dispatch("simplifiedAutoLinks.after",_,x,k)),_}),r.subParser("blockGamut",function(_,x,k){return _=k.converter._dispatch("blockGamut.before",_,x,k),_=r.subParser("blockQuotes")(_,x,k),_=r.subParser("headers")(_,x,k),_=r.subParser("horizontalRule")(_,x,k),_=r.subParser("lists")(_,x,k),_=r.subParser("codeBlocks")(_,x,k),_=r.subParser("tables")(_,x,k),_=r.subParser("hashHTMLBlocks")(_,x,k),_=r.subParser("paragraphs")(_,x,k),_=k.converter._dispatch("blockGamut.after",_,x,k),_}),r.subParser("blockQuotes",function(_,x,k){_=k.converter._dispatch("blockQuotes.before",_,x,k),_=_+`

`;var S=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return x.splitAdjacentBlockquotes&&(S=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),_=_.replace(S,function(B){return B=B.replace(/^[ \t]*>[ \t]?/gm,""),B=B.replace(/0/g,""),B=B.replace(/^[ \t]+$/gm,""),B=r.subParser("githubCodeBlocks")(B,x,k),B=r.subParser("blockGamut")(B,x,k),B=B.replace(/(^|\n)/g,"$1  "),B=B.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(D,R){var X=R;return X=X.replace(/^  /mg,"0"),X=X.replace(/0/g,""),X}),r.subParser("hashBlock")(`<blockquote>
`+B+`
</blockquote>`,x,k)}),_=k.converter._dispatch("blockQuotes.after",_,x,k),_}),r.subParser("codeBlocks",function(_,x,k){_=k.converter._dispatch("codeBlocks.before",_,x,k),_+="0";var S=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return _=_.replace(S,function(B,D,R){var X=D,ee=R,q=`
`;return X=r.subParser("outdent")(X,x,k),X=r.subParser("encodeCode")(X,x,k),X=r.subParser("detab")(X,x,k),X=X.replace(/^\n+/g,""),X=X.replace(/\n+$/g,""),x.omitExtraWLInCodeBlocks&&(q=""),X="<pre><code>"+X+q+"</code></pre>",r.subParser("hashBlock")(X,x,k)+ee}),_=_.replace(/0/,""),_=k.converter._dispatch("codeBlocks.after",_,x,k),_}),r.subParser("codeSpans",function(_,x,k){return _=k.converter._dispatch("codeSpans.before",_,x,k),typeof _>"u"&&(_=""),_=_.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(S,B,D,R){var X=R;return X=X.replace(/^([ \t]*)/g,""),X=X.replace(/[ \t]*$/g,""),X=r.subParser("encodeCode")(X,x,k),X=B+"<code>"+X+"</code>",X=r.subParser("hashHTMLSpans")(X,x,k),X}),_=k.converter._dispatch("codeSpans.after",_,x,k),_}),r.subParser("completeHTMLDocument",function(_,x,k){if(!x.completeHTMLDocument)return _;_=k.converter._dispatch("completeHTMLDocument.before",_,x,k);var S="html",B=`<!DOCTYPE HTML>
`,D="",R=`<meta charset="utf-8">
`,X="",ee="";typeof k.metadata.parsed.doctype<"u"&&(B="<!DOCTYPE "+k.metadata.parsed.doctype+`>
`,S=k.metadata.parsed.doctype.toString().toLowerCase(),(S==="html"||S==="html5")&&(R='<meta charset="utf-8">'));for(var q in k.metadata.parsed)if(k.metadata.parsed.hasOwnProperty(q))switch(q.toLowerCase()){case"doctype":break;case"title":D="<title>"+k.metadata.parsed.title+`</title>
`;break;case"charset":S==="html"||S==="html5"?R='<meta charset="'+k.metadata.parsed.charset+`">
`:R='<meta name="charset" content="'+k.metadata.parsed.charset+`">
`;break;case"language":case"lang":X=' lang="'+k.metadata.parsed[q]+'"',ee+='<meta name="'+q+'" content="'+k.metadata.parsed[q]+`">
`;break;default:ee+='<meta name="'+q+'" content="'+k.metadata.parsed[q]+`">
`}return _=B+"<html"+X+`>
<head>
`+D+R+ee+`</head>
<body>
`+_.trim()+`
</body>
</html>`,_=k.converter._dispatch("completeHTMLDocument.after",_,x,k),_}),r.subParser("detab",function(_,x,k){return _=k.converter._dispatch("detab.before",_,x,k),_=_.replace(/\t(?=\t)/g,"    "),_=_.replace(/\t/g,"AB"),_=_.replace(/B(.+?)A/g,function(S,B){for(var D=B,R=4-D.length%4,X=0;X<R;X++)D+=" ";return D}),_=_.replace(/A/g,"    "),_=_.replace(/B/g,""),_=k.converter._dispatch("detab.after",_,x,k),_}),r.subParser("ellipsis",function(_,x,k){return x.ellipsis&&(_=k.converter._dispatch("ellipsis.before",_,x,k),_=_.replace(/\.\.\./g,""),_=k.converter._dispatch("ellipsis.after",_,x,k)),_}),r.subParser("emoji",function(_,x,k){if(!x.emoji)return _;_=k.converter._dispatch("emoji.before",_,x,k);var S=/:([\S]+?):/g;return _=_.replace(S,function(B,D){return r.helper.emojis.hasOwnProperty(D)?r.helper.emojis[D]:B}),_=k.converter._dispatch("emoji.after",_,x,k),_}),r.subParser("encodeAmpsAndAngles",function(_,x,k){return _=k.converter._dispatch("encodeAmpsAndAngles.before",_,x,k),_=_.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),_=_.replace(/<(?![a-z\/?$!])/gi,"&lt;"),_=_.replace(/</g,"&lt;"),_=_.replace(/>/g,"&gt;"),_=k.converter._dispatch("encodeAmpsAndAngles.after",_,x,k),_}),r.subParser("encodeBackslashEscapes",function(_,x,k){return _=k.converter._dispatch("encodeBackslashEscapes.before",_,x,k),_=_.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),_=_.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),_=k.converter._dispatch("encodeBackslashEscapes.after",_,x,k),_}),r.subParser("encodeCode",function(_,x,k){return _=k.converter._dispatch("encodeCode.before",_,x,k),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),_=k.converter._dispatch("encodeCode.after",_,x,k),_}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(_,x,k){_=k.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",_,x,k);var S=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,B=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return _=_.replace(S,function(D){return D.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),_=_.replace(B,function(D){return D.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),_=k.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",_,x,k),_}),r.subParser("githubCodeBlocks",function(_,x,k){return x.ghCodeBlocks?(_=k.converter._dispatch("githubCodeBlocks.before",_,x,k),_+="0",_=_.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(S,B,D,R){var X=x.omitExtraWLInCodeBlocks?"":`
`;return R=r.subParser("encodeCode")(R,x,k),R=r.subParser("detab")(R,x,k),R=R.replace(/^\n+/g,""),R=R.replace(/\n+$/g,""),R="<pre><code"+(D?' class="'+D+" language-"+D+'"':"")+">"+R+X+"</code></pre>",R=r.subParser("hashBlock")(R,x,k),`

G`+(k.ghCodeBlocks.push({text:S,codeblock:R})-1)+`G

`}),_=_.replace(/0/,""),k.converter._dispatch("githubCodeBlocks.after",_,x,k)):_}),r.subParser("hashBlock",function(_,x,k){return _=k.converter._dispatch("hashBlock.before",_,x,k),_=_.replace(/(^\n+|\n+$)/g,""),_=`

K`+(k.gHtmlBlocks.push(_)-1)+`K

`,_=k.converter._dispatch("hashBlock.after",_,x,k),_}),r.subParser("hashCodeTags",function(_,x,k){_=k.converter._dispatch("hashCodeTags.before",_,x,k);var S=function(B,D,R,X){var ee=R+r.subParser("encodeCode")(D,x,k)+X;return"C"+(k.gHtmlSpans.push(ee)-1)+"C"};return _=r.helper.replaceRecursiveRegExp(_,S,"<code\\b[^>]*>","</code>","gim"),_=k.converter._dispatch("hashCodeTags.after",_,x,k),_}),r.subParser("hashElement",function(_,x,k){return function(S,B){var D=B;return D=D.replace(/\n\n/g,`
`),D=D.replace(/^\n/,""),D=D.replace(/\n+$/g,""),D=`

K`+(k.gHtmlBlocks.push(D)-1)+`K

`,D}}),r.subParser("hashHTMLBlocks",function(_,x,k){_=k.converter._dispatch("hashHTMLBlocks.before",_,x,k);var S=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],B=function(V,te,ae,ve){var ce=V;return ae.search(/\bmarkdown\b/)!==-1&&(ce=ae+k.converter.makeHtml(te)+ve),`

K`+(k.gHtmlBlocks.push(ce)-1)+`K

`};x.backslashEscapesHTMLTags&&(_=_.replace(/\\<(\/?[^>]+?)>/g,function(V,te){return"&lt;"+te+"&gt;"}));for(var D=0;D<S.length;++D)for(var R,X=new RegExp("^ {0,3}(<"+S[D]+"\\b[^>]*>)","im"),ee="<"+S[D]+"\\b[^>]*>",q="</"+S[D]+">";(R=r.helper.regexIndexOf(_,X))!==-1;){var Z=r.helper.splitAtIndex(_,R),ne=r.helper.replaceRecursiveRegExp(Z[1],B,ee,q,"im");if(ne===Z[1])break;_=Z[0].concat(ne)}return _=_.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(_,x,k)),_=r.helper.replaceRecursiveRegExp(_,function(V){return`

K`+(k.gHtmlBlocks.push(V)-1)+`K

`},"^ {0,3}<!--","-->","gm"),_=_.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(_,x,k)),_=k.converter._dispatch("hashHTMLBlocks.after",_,x,k),_}),r.subParser("hashHTMLSpans",function(_,x,k){_=k.converter._dispatch("hashHTMLSpans.before",_,x,k);function S(B){return"C"+(k.gHtmlSpans.push(B)-1)+"C"}return _=_.replace(/<[^>]+?\/>/gi,function(B){return S(B)}),_=_.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(B){return S(B)}),_=_.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(B){return S(B)}),_=_.replace(/<[^>]+?>/gi,function(B){return S(B)}),_=k.converter._dispatch("hashHTMLSpans.after",_,x,k),_}),r.subParser("unhashHTMLSpans",function(_,x,k){_=k.converter._dispatch("unhashHTMLSpans.before",_,x,k);for(var S=0;S<k.gHtmlSpans.length;++S){for(var B=k.gHtmlSpans[S],D=0;/C(\d+)C/.test(B);){var R=RegExp.$1;if(B=B.replace("C"+R+"C",k.gHtmlSpans[R]),D===10){console.error("maximum nesting of 10 spans reached!!!");break}++D}_=_.replace("C"+S+"C",B)}return _=k.converter._dispatch("unhashHTMLSpans.after",_,x,k),_}),r.subParser("hashPreCodeTags",function(_,x,k){_=k.converter._dispatch("hashPreCodeTags.before",_,x,k);var S=function(B,D,R,X){var ee=R+r.subParser("encodeCode")(D,x,k)+X;return`

G`+(k.ghCodeBlocks.push({text:B,codeblock:ee})-1)+`G

`};return _=r.helper.replaceRecursiveRegExp(_,S,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),_=k.converter._dispatch("hashPreCodeTags.after",_,x,k),_}),r.subParser("headers",function(_,x,k){_=k.converter._dispatch("headers.before",_,x,k);var S=isNaN(parseInt(x.headerLevelStart))?1:parseInt(x.headerLevelStart),B=x.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,D=x.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;_=_.replace(B,function(ee,q){var Z=r.subParser("spanGamut")(q,x,k),ne=x.noHeaderId?"":' id="'+X(q)+'"',V=S,te="<h"+V+ne+">"+Z+"</h"+V+">";return r.subParser("hashBlock")(te,x,k)}),_=_.replace(D,function(ee,q){var Z=r.subParser("spanGamut")(q,x,k),ne=x.noHeaderId?"":' id="'+X(q)+'"',V=S+1,te="<h"+V+ne+">"+Z+"</h"+V+">";return r.subParser("hashBlock")(te,x,k)});var R=x.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;_=_.replace(R,function(ee,q,Z){var ne=Z;x.customizedHeaderId&&(ne=Z.replace(/\s?\{([^{]+?)}\s*$/,""));var V=r.subParser("spanGamut")(ne,x,k),te=x.noHeaderId?"":' id="'+X(Z)+'"',ae=S-1+q.length,ve="<h"+ae+te+">"+V+"</h"+ae+">";return r.subParser("hashBlock")(ve,x,k)});function X(ee){var q,Z;if(x.customizedHeaderId){var ne=ee.match(/\{([^{]+?)}\s*$/);ne&&ne[1]&&(ee=ne[1])}return q=ee,r.helper.isString(x.prefixHeaderId)?Z=x.prefixHeaderId:x.prefixHeaderId===!0?Z="section-":Z="",x.rawPrefixHeaderId||(q=Z+q),x.ghCompatibleHeaderId?q=q.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():x.rawHeaderId?q=q.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():q=q.replace(/[^\w]/g,"").toLowerCase(),x.rawPrefixHeaderId&&(q=Z+q),k.hashLinkCounts[q]?q=q+"-"+k.hashLinkCounts[q]++:k.hashLinkCounts[q]=1,q}return _=k.converter._dispatch("headers.after",_,x,k),_}),r.subParser("horizontalRule",function(_,x,k){_=k.converter._dispatch("horizontalRule.before",_,x,k);var S=r.subParser("hashBlock")("<hr />",x,k);return _=_.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,S),_=_.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,S),_=_.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,S),_=k.converter._dispatch("horizontalRule.after",_,x,k),_}),r.subParser("images",function(_,x,k){_=k.converter._dispatch("images.before",_,x,k);var S=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,B=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,D=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,R=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,X=/!\[([^\[\]]+)]()()()()()/g;function ee(Z,ne,V,te,ae,ve,ce,ke){return te=te.replace(/\s/g,""),q(Z,ne,V,te,ae,ve,ce,ke)}function q(Z,ne,V,te,ae,ve,ce,ke){var De=k.gUrls,Ae=k.gTitles,Pe=k.gDimensions;if(V=V.toLowerCase(),ke||(ke=""),Z.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)te="";else if(te===""||te===null)if((V===""||V===null)&&(V=ne.toLowerCase().replace(/ ?\n/g," ")),te="#"+V,!r.helper.isUndefined(De[V]))te=De[V],r.helper.isUndefined(Ae[V])||(ke=Ae[V]),r.helper.isUndefined(Pe[V])||(ae=Pe[V].width,ve=Pe[V].height);else return Z;ne=ne.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),te=te.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var Ee='<img src="'+te+'" alt="'+ne+'"';return ke&&r.helper.isString(ke)&&(ke=ke.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),Ee+=' title="'+ke+'"'),ae&&ve&&(ae=ae==="*"?"auto":ae,ve=ve==="*"?"auto":ve,Ee+=' width="'+ae+'"',Ee+=' height="'+ve+'"'),Ee+=" />",Ee}return _=_.replace(R,q),_=_.replace(D,ee),_=_.replace(B,q),_=_.replace(S,q),_=_.replace(X,q),_=k.converter._dispatch("images.after",_,x,k),_}),r.subParser("italicsAndBold",function(_,x,k){_=k.converter._dispatch("italicsAndBold.before",_,x,k);function S(B,D,R){return D+B+R}return x.literalMidWordUnderscores?(_=_.replace(/\b___(\S[\s\S]*?)___\b/g,function(B,D){return S(D,"<strong><em>","</em></strong>")}),_=_.replace(/\b__(\S[\s\S]*?)__\b/g,function(B,D){return S(D,"<strong>","</strong>")}),_=_.replace(/\b_(\S[\s\S]*?)_\b/g,function(B,D){return S(D,"<em>","</em>")})):(_=_.replace(/___(\S[\s\S]*?)___/g,function(B,D){return/\S$/.test(D)?S(D,"<strong><em>","</em></strong>"):B}),_=_.replace(/__(\S[\s\S]*?)__/g,function(B,D){return/\S$/.test(D)?S(D,"<strong>","</strong>"):B}),_=_.replace(/_([^\s_][\s\S]*?)_/g,function(B,D){return/\S$/.test(D)?S(D,"<em>","</em>"):B})),x.literalMidWordAsterisks?(_=_.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(B,D,R){return S(R,D+"<strong><em>","</em></strong>")}),_=_.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(B,D,R){return S(R,D+"<strong>","</strong>")}),_=_.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(B,D,R){return S(R,D+"<em>","</em>")})):(_=_.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(B,D){return/\S$/.test(D)?S(D,"<strong><em>","</em></strong>"):B}),_=_.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(B,D){return/\S$/.test(D)?S(D,"<strong>","</strong>"):B}),_=_.replace(/\*([^\s*][\s\S]*?)\*/g,function(B,D){return/\S$/.test(D)?S(D,"<em>","</em>"):B})),_=k.converter._dispatch("italicsAndBold.after",_,x,k),_}),r.subParser("lists",function(_,x,k){function S(R,X){k.gListLevel++,R=R.replace(/\n{2,}$/,`
`),R+="0";var ee=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,q=/\n[ \t]*\n(?!0)/.test(R);return x.disableForced4SpacesIndentedSublists&&(ee=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),R=R.replace(ee,function(Z,ne,V,te,ae,ve,ce){ce=ce&&ce.trim()!=="";var ke=r.subParser("outdent")(ae,x,k),De="";return ve&&x.tasklists&&(De=' class="task-list-item" style="list-style-type: none;"',ke=ke.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Ae='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ce&&(Ae+=" checked"),Ae+=">",Ae})),ke=ke.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Ae){return"A"+Ae}),ne||ke.search(/\n{2,}/)>-1?(ke=r.subParser("githubCodeBlocks")(ke,x,k),ke=r.subParser("blockGamut")(ke,x,k)):(ke=r.subParser("lists")(ke,x,k),ke=ke.replace(/\n$/,""),ke=r.subParser("hashHTMLBlocks")(ke,x,k),ke=ke.replace(/\n\n+/g,`

`),q?ke=r.subParser("paragraphs")(ke,x,k):ke=r.subParser("spanGamut")(ke,x,k)),ke=ke.replace("A",""),ke="<li"+De+">"+ke+`</li>
`,ke}),R=R.replace(/0/g,""),k.gListLevel--,X&&(R=R.replace(/\s+$/,"")),R}function B(R,X){if(X==="ol"){var ee=R.match(/^ *(\d+)\./);if(ee&&ee[1]!=="1")return' start="'+ee[1]+'"'}return""}function D(R,X,ee){var q=x.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,Z=x.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,ne=X==="ul"?q:Z,V="";if(R.search(ne)!==-1)(function ae(ve){var ce=ve.search(ne),ke=B(R,X);ce!==-1?(V+=`

<`+X+ke+`>
`+S(ve.slice(0,ce),!!ee)+"</"+X+`>
`,X=X==="ul"?"ol":"ul",ne=X==="ul"?q:Z,ae(ve.slice(ce))):V+=`

<`+X+ke+`>
`+S(ve,!!ee)+"</"+X+`>
`})(R);else{var te=B(R,X);V=`

<`+X+te+`>
`+S(R,!!ee)+"</"+X+`>
`}return V}return _=k.converter._dispatch("lists.before",_,x,k),_+="0",k.gListLevel?_=_.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(R,X,ee){var q=ee.search(/[*+-]/g)>-1?"ul":"ol";return D(X,q,!0)}):_=_.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(R,X,ee,q){var Z=q.search(/[*+-]/g)>-1?"ul":"ol";return D(ee,Z,!1)}),_=_.replace(/0/,""),_=k.converter._dispatch("lists.after",_,x,k),_}),r.subParser("metadata",function(_,x,k){if(!x.metadata)return _;_=k.converter._dispatch("metadata.before",_,x,k);function S(B){k.metadata.raw=B,B=B.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),B=B.replace(/\n {4}/g," "),B.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(D,R,X){return k.metadata.parsed[R]=X,""})}return _=_.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(B,D,R){return S(R),"M"}),_=_.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(B,D,R){return D&&(k.metadata.format=D),S(R),"M"}),_=_.replace(/M/g,""),_=k.converter._dispatch("metadata.after",_,x,k),_}),r.subParser("outdent",function(_,x,k){return _=k.converter._dispatch("outdent.before",_,x,k),_=_.replace(/^(\t|[ ]{1,4})/gm,"0"),_=_.replace(/0/g,""),_=k.converter._dispatch("outdent.after",_,x,k),_}),r.subParser("paragraphs",function(_,x,k){_=k.converter._dispatch("paragraphs.before",_,x,k),_=_.replace(/^\n+/g,""),_=_.replace(/\n+$/g,"");for(var S=_.split(/\n{2,}/g),B=[],D=S.length,R=0;R<D;R++){var X=S[R];X.search(/(K|G)(\d+)\1/g)>=0?B.push(X):X.search(/\S/)>=0&&(X=r.subParser("spanGamut")(X,x,k),X=X.replace(/^([ \t]*)/g,"<p>"),X+="</p>",B.push(X))}for(D=B.length,R=0;R<D;R++){for(var ee="",q=B[R],Z=!1;/(K|G)(\d+)\1/.test(q);){var ne=RegExp.$1,V=RegExp.$2;ne==="K"?ee=k.gHtmlBlocks[V]:Z?ee=r.subParser("encodeCode")(k.ghCodeBlocks[V].text,x,k):ee=k.ghCodeBlocks[V].codeblock,ee=ee.replace(/\$/g,"$$$$"),q=q.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,ee),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(q)&&(Z=!0)}B[R]=q}return _=B.join(`
`),_=_.replace(/^\n+/g,""),_=_.replace(/\n+$/g,""),k.converter._dispatch("paragraphs.after",_,x,k)}),r.subParser("runExtension",function(_,x,k,S){if(_.filter)x=_.filter(x,S.converter,k);else if(_.regex){var B=_.regex;B instanceof RegExp||(B=new RegExp(B,"g")),x=x.replace(B,_.replace)}return x}),r.subParser("spanGamut",function(_,x,k){return _=k.converter._dispatch("spanGamut.before",_,x,k),_=r.subParser("codeSpans")(_,x,k),_=r.subParser("escapeSpecialCharsWithinTagAttributes")(_,x,k),_=r.subParser("encodeBackslashEscapes")(_,x,k),_=r.subParser("images")(_,x,k),_=r.subParser("anchors")(_,x,k),_=r.subParser("autoLinks")(_,x,k),_=r.subParser("simplifiedAutoLinks")(_,x,k),_=r.subParser("emoji")(_,x,k),_=r.subParser("underline")(_,x,k),_=r.subParser("italicsAndBold")(_,x,k),_=r.subParser("strikethrough")(_,x,k),_=r.subParser("ellipsis")(_,x,k),_=r.subParser("hashHTMLSpans")(_,x,k),_=r.subParser("encodeAmpsAndAngles")(_,x,k),x.simpleLineBreaks?/\n\nK/.test(_)||(_=_.replace(/\n+/g,`<br />
`)):_=_.replace(/  +\n/g,`<br />
`),_=k.converter._dispatch("spanGamut.after",_,x,k),_}),r.subParser("strikethrough",function(_,x,k){function S(B){return x.simplifiedAutoLink&&(B=r.subParser("simplifiedAutoLinks")(B,x,k)),"<del>"+B+"</del>"}return x.strikethrough&&(_=k.converter._dispatch("strikethrough.before",_,x,k),_=_.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(B,D){return S(D)}),_=k.converter._dispatch("strikethrough.after",_,x,k)),_}),r.subParser("stripLinkDefinitions",function(_,x,k){var S=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,B=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;_+="0";var D=function(R,X,ee,q,Z,ne,V){return X=X.toLowerCase(),_.toLowerCase().split(X).length-1<2?R:(ee.match(/^data:.+?\/.+?;base64,/)?k.gUrls[X]=ee.replace(/\s/g,""):k.gUrls[X]=r.subParser("encodeAmpsAndAngles")(ee,x,k),ne?ne+V:(V&&(k.gTitles[X]=V.replace(/"|'/g,"&quot;")),x.parseImgDimensions&&q&&Z&&(k.gDimensions[X]={width:q,height:Z}),""))};return _=_.replace(B,D),_=_.replace(S,D),_=_.replace(/0/,""),_}),r.subParser("tables",function(_,x,k){if(!x.tables)return _;var S=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,B=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function D(Z){return/^:[ \t]*--*$/.test(Z)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(Z)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(Z)?' style="text-align:center;"':""}function R(Z,ne){var V="";return Z=Z.trim(),(x.tablesHeaderId||x.tableHeaderId)&&(V=' id="'+Z.replace(/ /g,"_").toLowerCase()+'"'),Z=r.subParser("spanGamut")(Z,x,k),"<th"+V+ne+">"+Z+`</th>
`}function X(Z,ne){var V=r.subParser("spanGamut")(Z,x,k);return"<td"+ne+">"+V+`</td>
`}function ee(Z,ne){for(var V=`<table>
<thead>
<tr>
`,te=Z.length,ae=0;ae<te;++ae)V+=Z[ae];for(V+=`</tr>
</thead>
<tbody>
`,ae=0;ae<ne.length;++ae){V+=`<tr>
`;for(var ve=0;ve<te;++ve)V+=ne[ae][ve];V+=`</tr>
`}return V+=`</tbody>
</table>
`,V}function q(Z){var ne,V=Z.split(`
`);for(ne=0;ne<V.length;++ne)/^ {0,3}\|/.test(V[ne])&&(V[ne]=V[ne].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(V[ne])&&(V[ne]=V[ne].replace(/\|[ \t]*$/,"")),V[ne]=r.subParser("codeSpans")(V[ne],x,k);var te=V[0].split("|").map(function(Ee){return Ee.trim()}),ae=V[1].split("|").map(function(Ee){return Ee.trim()}),ve=[],ce=[],ke=[],De=[];for(V.shift(),V.shift(),ne=0;ne<V.length;++ne)V[ne].trim()!==""&&ve.push(V[ne].split("|").map(function(Ee){return Ee.trim()}));if(te.length<ae.length)return Z;for(ne=0;ne<ae.length;++ne)ke.push(D(ae[ne]));for(ne=0;ne<te.length;++ne)r.helper.isUndefined(ke[ne])&&(ke[ne]=""),ce.push(R(te[ne],ke[ne]));for(ne=0;ne<ve.length;++ne){for(var Ae=[],Pe=0;Pe<ce.length;++Pe)r.helper.isUndefined(ve[ne][Pe]),Ae.push(X(ve[ne][Pe],ke[Pe]));De.push(Ae)}return ee(ce,De)}return _=k.converter._dispatch("tables.before",_,x,k),_=_.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),_=_.replace(S,q),_=_.replace(B,q),_=k.converter._dispatch("tables.after",_,x,k),_}),r.subParser("underline",function(_,x,k){return x.underline&&(_=k.converter._dispatch("underline.before",_,x,k),x.literalMidWordUnderscores?(_=_.replace(/\b___(\S[\s\S]*?)___\b/g,function(S,B){return"<u>"+B+"</u>"}),_=_.replace(/\b__(\S[\s\S]*?)__\b/g,function(S,B){return"<u>"+B+"</u>"})):(_=_.replace(/___(\S[\s\S]*?)___/g,function(S,B){return/\S$/.test(B)?"<u>"+B+"</u>":S}),_=_.replace(/__(\S[\s\S]*?)__/g,function(S,B){return/\S$/.test(B)?"<u>"+B+"</u>":S})),_=_.replace(/(_)/g,r.helper.escapeCharactersCallback),_=k.converter._dispatch("underline.after",_,x,k)),_}),r.subParser("unescapeSpecialChars",function(_,x,k){return _=k.converter._dispatch("unescapeSpecialChars.before",_,x,k),_=_.replace(/E(\d+)E/g,function(S,B){var D=parseInt(B);return String.fromCharCode(D)}),_=k.converter._dispatch("unescapeSpecialChars.after",_,x,k),_}),r.subParser("makeMarkdown.blockquote",function(_,x){var k="";if(_.hasChildNodes())for(var S=_.childNodes,B=S.length,D=0;D<B;++D){var R=r.subParser("makeMarkdown.node")(S[D],x);R!==""&&(k+=R)}return k=k.trim(),k="> "+k.split(`
`).join(`
> `),k}),r.subParser("makeMarkdown.codeBlock",function(_,x){var k=_.getAttribute("language"),S=_.getAttribute("precodenum");return"```"+k+`
`+x.preList[S]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(_){return"`"+_.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(_,x){var k="";if(_.hasChildNodes()){k+="*";for(var S=_.childNodes,B=S.length,D=0;D<B;++D)k+=r.subParser("makeMarkdown.node")(S[D],x);k+="*"}return k}),r.subParser("makeMarkdown.header",function(_,x,k){var S=new Array(k+1).join("#"),B="";if(_.hasChildNodes()){B=S+" ";for(var D=_.childNodes,R=D.length,X=0;X<R;++X)B+=r.subParser("makeMarkdown.node")(D[X],x)}return B}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(_){var x="";return _.hasAttribute("src")&&(x+="!["+_.getAttribute("alt")+"](",x+="<"+_.getAttribute("src")+">",_.hasAttribute("width")&&_.hasAttribute("height")&&(x+=" ="+_.getAttribute("width")+"x"+_.getAttribute("height")),_.hasAttribute("title")&&(x+=' "'+_.getAttribute("title")+'"'),x+=")"),x}),r.subParser("makeMarkdown.links",function(_,x){var k="";if(_.hasChildNodes()&&_.hasAttribute("href")){var S=_.childNodes,B=S.length;k="[";for(var D=0;D<B;++D)k+=r.subParser("makeMarkdown.node")(S[D],x);k+="](",k+="<"+_.getAttribute("href")+">",_.hasAttribute("title")&&(k+=' "'+_.getAttribute("title")+'"'),k+=")"}return k}),r.subParser("makeMarkdown.list",function(_,x,k){var S="";if(!_.hasChildNodes())return"";for(var B=_.childNodes,D=B.length,R=_.getAttribute("start")||1,X=0;X<D;++X)if(!(typeof B[X].tagName>"u"||B[X].tagName.toLowerCase()!=="li")){var ee="";k==="ol"?ee=R.toString()+". ":ee="- ",S+=ee+r.subParser("makeMarkdown.listItem")(B[X],x),++R}return S+=`
<!-- -->
`,S.trim()}),r.subParser("makeMarkdown.listItem",function(_,x){for(var k="",S=_.childNodes,B=S.length,D=0;D<B;++D)k+=r.subParser("makeMarkdown.node")(S[D],x);return/\n$/.test(k)?k=k.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):k+=`
`,k}),r.subParser("makeMarkdown.node",function(_,x,k){k=k||!1;var S="";if(_.nodeType===3)return r.subParser("makeMarkdown.txt")(_,x);if(_.nodeType===8)return"<!--"+_.data+`-->

`;if(_.nodeType!==1)return"";var B=_.tagName.toLowerCase();switch(B){case"h1":k||(S=r.subParser("makeMarkdown.header")(_,x,1)+`

`);break;case"h2":k||(S=r.subParser("makeMarkdown.header")(_,x,2)+`

`);break;case"h3":k||(S=r.subParser("makeMarkdown.header")(_,x,3)+`

`);break;case"h4":k||(S=r.subParser("makeMarkdown.header")(_,x,4)+`

`);break;case"h5":k||(S=r.subParser("makeMarkdown.header")(_,x,5)+`

`);break;case"h6":k||(S=r.subParser("makeMarkdown.header")(_,x,6)+`

`);break;case"p":k||(S=r.subParser("makeMarkdown.paragraph")(_,x)+`

`);break;case"blockquote":k||(S=r.subParser("makeMarkdown.blockquote")(_,x)+`

`);break;case"hr":k||(S=r.subParser("makeMarkdown.hr")(_,x)+`

`);break;case"ol":k||(S=r.subParser("makeMarkdown.list")(_,x,"ol")+`

`);break;case"ul":k||(S=r.subParser("makeMarkdown.list")(_,x,"ul")+`

`);break;case"precode":k||(S=r.subParser("makeMarkdown.codeBlock")(_,x)+`

`);break;case"pre":k||(S=r.subParser("makeMarkdown.pre")(_,x)+`

`);break;case"table":k||(S=r.subParser("makeMarkdown.table")(_,x)+`

`);break;case"code":S=r.subParser("makeMarkdown.codeSpan")(_,x);break;case"em":case"i":S=r.subParser("makeMarkdown.emphasis")(_,x);break;case"strong":case"b":S=r.subParser("makeMarkdown.strong")(_,x);break;case"del":S=r.subParser("makeMarkdown.strikethrough")(_,x);break;case"a":S=r.subParser("makeMarkdown.links")(_,x);break;case"img":S=r.subParser("makeMarkdown.image")(_,x);break;default:S=_.outerHTML+`

`}return S}),r.subParser("makeMarkdown.paragraph",function(_,x){var k="";if(_.hasChildNodes())for(var S=_.childNodes,B=S.length,D=0;D<B;++D)k+=r.subParser("makeMarkdown.node")(S[D],x);return k=k.trim(),k}),r.subParser("makeMarkdown.pre",function(_,x){var k=_.getAttribute("prenum");return"<pre>"+x.preList[k]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(_,x){var k="";if(_.hasChildNodes()){k+="~~";for(var S=_.childNodes,B=S.length,D=0;D<B;++D)k+=r.subParser("makeMarkdown.node")(S[D],x);k+="~~"}return k}),r.subParser("makeMarkdown.strong",function(_,x){var k="";if(_.hasChildNodes()){k+="**";for(var S=_.childNodes,B=S.length,D=0;D<B;++D)k+=r.subParser("makeMarkdown.node")(S[D],x);k+="**"}return k}),r.subParser("makeMarkdown.table",function(_,x){var k="",S=[[],[]],B=_.querySelectorAll("thead>tr>th"),D=_.querySelectorAll("tbody>tr"),R,X;for(R=0;R<B.length;++R){var ee=r.subParser("makeMarkdown.tableCell")(B[R],x),q="---";if(B[R].hasAttribute("style")){var Z=B[R].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(Z){case"text-align:left;":q=":---";break;case"text-align:right;":q="---:";break;case"text-align:center;":q=":---:";break}}S[0][R]=ee.trim(),S[1][R]=q}for(R=0;R<D.length;++R){var ne=S.push([])-1,V=D[R].getElementsByTagName("td");for(X=0;X<B.length;++X){var te=" ";typeof V[X]<"u"&&(te=r.subParser("makeMarkdown.tableCell")(V[X],x)),S[ne].push(te)}}var ae=3;for(R=0;R<S.length;++R)for(X=0;X<S[R].length;++X){var ve=S[R][X].length;ve>ae&&(ae=ve)}for(R=0;R<S.length;++R){for(X=0;X<S[R].length;++X)R===1?S[R][X].slice(-1)===":"?S[R][X]=r.helper.padEnd(S[R][X].slice(-1),ae-1,"-")+":":S[R][X]=r.helper.padEnd(S[R][X],ae,"-"):S[R][X]=r.helper.padEnd(S[R][X],ae);k+="| "+S[R].join(" | ")+` |
`}return k.trim()}),r.subParser("makeMarkdown.tableCell",function(_,x){var k="";if(!_.hasChildNodes())return"";for(var S=_.childNodes,B=S.length,D=0;D<B;++D)k+=r.subParser("makeMarkdown.node")(S[D],x,!0);return k.trim()}),r.subParser("makeMarkdown.txt",function(_){var x=_.nodeValue;return x=x.replace(/ +/g," "),x=x.replace(/NBSP;/g," "),x=r.helper.unescapeHTMLEntities(x),x=x.replace(/([*_~|`])/g,"\\$1"),x=x.replace(/^(\s*)>/g,"\\$1>"),x=x.replace(/^#/gm,"\\#"),x=x.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),x=x.replace(/^( {0,3}\d+)\./gm,"$1\\."),x=x.replace(/^( {0,3})([+-])/gm,"$1\\$2"),x=x.replace(/]([\s]*)\(/g,"\\]$1\\("),x=x.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),x});var H=this;e.exports?e.exports=r:H.showdown=r}).call(mO)}(Gl)),Gl.exports}var _O=gO();const vO=Eh(_O);/*!
 * vue-showdown - Use showdown as a vue component
 *
 * @version v4.2.0
 * @link https://vue-showdown.js.org
 * @license MIT
 * @copyright 2018-2023 meteorlxy
 */const yO=yt({name:"VueShowdown",props:{markdown:{type:String,required:!1,default:null},tag:{type:String,required:!1,default:"div"},flavor:{type:String,required:!1,default:null},options:{type:Object,required:!1,default:()=>({})},extensions:{type:Array,required:!1,default:null},vueTemplate:{type:Boolean,required:!1,default:!1},vueTemplateComponents:{type:Object,required:!1,default:()=>({})},vueTemplateData:{type:Object,required:!1,default:()=>({})}},setup(e,{slots:t}){const s=he(()=>{const u=new vO.Converter({extensions:e.extensions??void 0});return e.flavor!==null&&u.setFlavor(e.flavor),Object.entries(e.options).forEach(([d,h])=>{u.setOption(d,h)}),u}),r=he(()=>{var d;if(e.markdown!==null)return e.markdown;const u=(d=t.default)==null?void 0:d.call(t)[0];return(u==null?void 0:u.type)===mo?u.children:""}),n=he(()=>s.value.makeHtml(r.value));return()=>e.vueTemplate?$r({components:e.vueTemplateComponents,setup:()=>e.vueTemplateData,template:`<${e.tag}>${n.value}</${e.tag}>`}):$r(e.tag,{innerHTML:n.value})}}),bO={fr:{title:"BAM - Biodiversit autour de moi",discover:{title:"Explore"},subtitle:"Rechercher des espces autour de moi",howto:"Comment a marche ?",introTitle:"Qu'est-ce que Biodiversit autour de moi ?",intro:`*Biodiversit autour de moi* est un widget ddi  **l'exploration des espces ** !

Cette interface vous permet de **rechercher les espces observes dans une zone gographique spcifique **.

**Utilisez la carte interactive ** pour slectionner la zone o vous souhaitez effectuer votre recherche.

La **liste des espces ** trouves dans la zone slectionne s'affichera  ct de la carte .

Vous pouvez galement **partager vos rsultats ** pour collaborer avec d'autres utilisateurs.
`,parameters:"Paramtres",nbDisplayedSpecies:"Nombre d'espces affiches",filters:"Filtres",showFilters:"Afficher les filtres",RefreshFilters:"Rafrachir les paramtres",IndicateGeoJSONUrl:"Indiquer une URL vers un GeoJSON",IndicateDetailTemplateUrl:"https://<urlFicheDeTaxon>/",TaxonListModeSelection:"Mode d'affichage des espces",widgetTypeSelection:"Mode d'affichage du widget",UseGeoJSONSource:"Utiliser une source GeoJSON",UseCustomDetailPage:'Modifier la redirection du bouton "En Savoir Plus" ',filtersTitle:"Filtres",mapEditable:" Zone de recherche ditable",bufferSize:"Taille du buffer (en mtre)",dateMin:"Date min",dateMax:"Date max",search:"Rechercher",reset:"Rinitialiser",limit:"Limite",nbPages:"Nombre de pages",searchResults:"Rsultats de la recherche",noResults:"Aucun rsultat",previousPage:"Prcedent",nextPage:"Suivant",loading:"Chargement en cours ...",loadingError:"Une erreur est survenue lors du chargement",noObservations:"Aucune observation trouve",noSpeciesObserved:"Aucune espce observe dans cette zone !",emptySearch:"Aucune espce ne correspond  votre recherche",noGeometry:"Aucune gometrie trouve",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},browserIntegration:"Intgrer le widget dans votre site",drawGeometry:"Dessiner une zone pour afficher les espces",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type de widget",default:"Carte et liste",list:"Liste d'espces",config:"Configurateur"},copy:"Copier",copied:"Copi",share:"Partager",shareLink:"Partager un lien",shareDiscover:"Partager votre recherche",source:{title:"Source de donnes",select:"Slectionner une source",modify:"Modifier la source de donnes des observations",gbifWarning:"Le nombre d'observations et leurs dates sont bass sur une agrgation des dernires observations effectues dans la zone slectionne et limite  {nbObs} maximum."},gbif:{apiEndpoint:"Adresse de l'API du GBIF"},geonature:{api_endpoint:"Adresse de l'API de GeoNature",id_export:"Identifiant de l'export"},desc:"Dcroissant",asc:"Croissant",media:{source:"Source de mdias",image:"Source d'image",sound:"Source de son",select:"Slectionner une source de mdia",linkToOrigin:"Source",licenseUnder:"Sous licence "},taxon:{scientificName:"Nom scientifique",vernacularName:"Nom vernaculaire",nbObservations:"Nombre d'observations",lastSeenDate:"Date de la dernire observation",taxonFilter:"Filtre par espce",classFilter:"Filtrer par classe",learnMore:"En savoir plus",class:"Classe d'espce",taxonFound:"espces trouves"},mode:{galleryMode:"Galerie",detailedList:"Dtaill",hybrid:"Hybride",isTaxonListHybrid:"Mode de la liste d'espce modifiable"},widgetType:{list:"Liste",default:"Carte Liste"},numberOfTaxonPerLine:"Nombre d'espces par ligne",widgetPreview:"Prvisualisation",taxonsClass:{Animalia:{Mammalia:"Mammifres",Aves:"Oiseaux",Reptilia:"Reptiles",Amphibia:"Amphibiens",Insecta:"Insectes",Arachnida:"Arachnides",Gastropoda:"Gastropodes",Bivalvia:"Bivalves"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Monocotyldone",Pinopsida:"Conifres"}},map:{searchPlace:"Rechercher un lieu"},or:"ou",in:"dans",datasetList:"jeux de donnes associs",observation:"observation",observations:"observations"}},wO={en:{title:"BAM - Biodiversity around me",discover:{title:"Explore"},subtitle:"Search for species around me",howto:"How does it work?",introTitle:"What is Biodiversity around me ?",intro:`*Biodiversity Around Me* is a widget dedicated to **exploring species **!

This interface allows you to **search for species observed in a specific geographic area **.

**Use the interactive map ** to select the area where you want to conduct your search.

The **list of species ** found in the selected area will be displayed next to the map .

You can also **share your results ** to collaborate with other users.

    `,parameters:"Parameters",nbDisplayedSpecies:"Number of species displayed",filters:"Filters",showFilters:"Show Filters",RefreshFilters:"Refresh parameters",IndicateGeoJSONUrl:"Indicate a URL towards a GeoJSON",IndicateDetailTemplateUrl:"https://<urlTaxonSheet>/",TaxonListModeSelection:"Species list display mode",widgetTypeSelection:"Widget display mode",UseGeoJSONSource:"Use a GeoJSON from the web",UseCustomDetailPage:'Change the redirection of the "Learn More" button',filtersTitle:"Filters",mapEditable:"Editable research zone",bufferSize:"Buffer Size (in meter):",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",limit:"Limite",nbPages:"Number of pages",searchResults:"Search results",noResults:"No results",noSpeciesObserved:"No species observed in this area !",previousPage:"Previous",nextPage:"Next",loading:"Loading...",loadingError:"An error occurred while loading",noObservations:"No observation found",emptySearch:"No species match your search",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},browserIntegration:"Integrate the widget into your site",drawGeometry:"Draw an area to display species",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type of widget",default:"Map and List",list:"List of species",config:"Configuration"},copy:"Copy",copied:"Copied",share:"Share",shareLink:"Share a link",shareDiscover:"Share your research",source:{title:"Data Source",select:"Select a data source",modify:"Change the observations data source",gbifWarning:"The number of observations and the dates of the latest sightings are based on an aggregation of the latest observations made within the selected area and limited to {nbObs} maximum."},gbif:{apiEndpoint:"API endpoint of the GBIF"},geonature:{api_endpoint:"GeoNature  API endpoint",id_export:"Export's id"},desc:"Dcroissant",asc:"Croissant",media:{source:"Media source",image:"Image Source",sound:"Sound Source",select:"Select a media source",linkToOrigin:"Source",licenseUnder:"Under license "},taxon:{scientificName:"Scientific Name",vernacularName:"Vernacular name",nbObservations:"Number of observations",lastSeenDate:"Last observation date",taxonFilter:"Filter by species",classFilter:"Filter by class",learnMore:"Learn more",class:"Species' class",taxonFound:"species found"},mode:{galleryMode:"Gallery",detailedList:"Detailed",hybrid:"Hybrid",isTaxonListHybrid:"Species list mode customizable"},widgetType:{list:"List",default:"Map List"},numberOfTaxonPerLine:"Number of species per line",widgetPreview:"Preview",taxonsClass:{Animalia:{Mammalia:"Mammals",Aves:"Birds",Reptilia:"Reptiles",Amphibia:"Amphibians",Insecta:"Insects",Arachnida:"Arachnids",Gastropoda:"Gastropods",Bivalvia:"Bivalves"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Monocotyledons",Pinopsida:"Conifers"}},map:{searchPlace:"Search a place name"},or:"or",in:"in",datasetList:"associated datasets",observation:"observation",observations:"observations"}},kO={es:{title:"BAM - Biodiversidad alrededor mo",discover:{title:"Explorar"},subtitle:"Buscar especies a mi alrededor",howto:"Cmo funciona?",introTitle:"Qu es Biodiversidad alrededor mo?",intro:`*Biodiversidad Alrededor Mo* es un widget dedicado a **explorar especies **!
Esta interfaz te permite **buscar especies observadas en un rea geogrfica especfica **.
**Usa el mapa interactivo ** para seleccionar el rea donde deseas realizar tu bsqueda.
La **lista de especies ** encontradas en el rea seleccionada se mostrar junto al mapa .
Tambin puedes **compartir tus resultados ** para colaborar con otros usuarios.
    `,parameters:"Parmetros",nbDisplayedSpecies:"Nmero de especies mostradas",filters:"Filtros",showFilters:"Mostrar filtros",RefreshFilters:"Actualizar parmetros",IndicateGeoJSONUrl:"Indicar una URL hacia un GeoJSON",IndicateDetailTemplateUrl:"https://<urlTaxonSheet>/",TaxonListModeSelection:"Modo de visualizacin de la lista de especies",widgetTypeSelection:"Modo de visualizacin del Widget",UseGeoJSONSource:"Usar un GeoJSON",UseCustomDetailPage:'Cambiar la redireccin del botn "Ms informacin"',filtersTitle:"Filtros",mapEditable:"Zona de bsqueda editable",bufferSize:"Tamao del buffer (en metro)",dateMin:"Fecha Mnima",dateMax:"Fecha Mxima",search:"Buscar",reset:"Reiniciar",limit:"Lmite",nbPages:"Nmero de pginas",searchResults:"Resultados de la bsqueda",noResults:"No hay resultados",noSpeciesObserved:"No se han observado especies en esta rea!",previousPage:"Anterior",nextPage:"Siguiente",loading:"Cargando...",loadingError:"Error al cargar los datos",noObservations:"Ninguna observacin encontrada",emptySearch:"No se encontraron especies que coincidan con tu bsqueda",noGeometry:"No se encontr geometra",error404:{title:"Pgina no encontrada",subtitle:"La pgina que buscas no existe"},browserIntegration:"Integrar el widget en tu pgina web",drawGeometry:"Dibujar un rea para mostrar especies",size:{width:"Anchura",height:"Altura"},embed:"Integrar",typeWidget:{title:"Tipo de widget",default:"Mapa y Lista",list:"Lista de especies",config:"Configuracin"},copy:"Copiar",copied:"Copiado",share:"Compartir",shareLink:"Compartir un enlace",shareDiscover:"Compartir tu bsqueda",source:{title:"Fuente de datos",select:"Seleccionar una fuente de datos",modify:"Cambiar la fuente de datos de las observaciones",gbifWarning:"El nmero de observaciones y sus fechas se basan en una agregacin de las ltimas observaciones realizadas en el rea seleccionada y estn limitadas a un mximo de {nbObs}."},gbif:{apiEndpoint:"Punto final de la API de GBIF"},geonature:{api_endpoint:"Direccin de la API de GeoNature",id_export:"ID de exportacin"},desc:"Descendente",asc:"Ascendente",media:{source:"Fuente de medios",image:"Fuente de imagen",sound:"Fuente de sonido",select:"Seleccionar una fuente de medios",linkToOrigin:"Fuente",licenseUnder:"Bajo licencia "},taxon:{scientificName:"Nombre Cientfico",vernacularName:"Nombre Vernacular",nbObservations:"Nmero de observaciones",lastSeenDate:"Fecha de ltima observacin",taxonFilter:"Filtrar por especie",learnMore:"Ms informacin",class:"Clase de especie",taxonFound:"especies encontradas",classFilter:"Filtrar por clase"},mode:{galleryMode:"Galera",detailedList:"Detallado",hybrid:"Hbrido",isTaxonListHybrid:"Modo de lista de especie modificable"},widgetType:{list:"Lista",default:"Carta Lista"},numberOfTaxonPerLine:"Nmero de especies por lnea",widgetPreview:"Vista previa",taxonsClass:{Animalia:{Mammalia:"Mamferos",Aves:"Aves",Reptilia:"Reptiles",Amphibia:"Anfibios",Insecta:"Insectos",Arachnida:"Arcnidos",Gastropoda:"Gasterpodos",Bivalvia:"Bivalvos"},Plantae:{Magnoliopsida:"Magnoliopsida",Liliopsida:"Monocotiledneas",Pinopsida:"Conferas"}},map:{searchPlace:"Buscar un nombre de lugar"},or:"o",in:"en",datasetList:"conjuntos de datos relacionados",observation:"observacin",observations:"observaciones"}},LO={__name:"Widget",setup(e){const{widgetType:t}=rn.getInstance();return(s,r)=>{const n=Mh,u=Nh;return W(t)==W(Bi).list?(ge(),nt(n,{key:0,height:"100vh"})):(ge(),nt(u,{key:1,height:"100vh"}))}}},EO={cs:{title:"BAM - Biodiverzita kolem m",discover:{title:"Prozkoumat"},subtitle:"Vyhledat druhy kolem m",howto:"Jak to funguje?",introTitle:"Co je Biodiverzita kolem m?",intro:`*Biodiverzita kolem m* je widget vnovan **prozkoumvn druh **!

Toto rozhran vm umouje **vyhledvat druhy pozorovan v urit geografick oblasti **.

**Pouijte interaktivn mapu ** k vbru oblasti, ve kter chcete provst vyhledvn.

**Seznam druh ** nalezench ve vybran oblasti se zobraz vedle mapy .

Vsledky mete tak **sdlet ** a spolupracovat s ostatnmi uivateli.

    `,parameters:"Parametry",nbDisplayedSpecies:"Poet zobrazench druh",filters:"Filtry",showFilters:"Zobrazit filtry",RefreshFilters:"Obnovit parametry",IndicateGeoJSONUrl:"Uvete URL k GeoJSON",IndicateDetailTemplateUrl:"https://<urlTaxonSheet>/",TaxonListModeSelection:"Reim zobrazen seznamu druh",widgetTypeSelection:"Reim zobrazen widgetu",UseGeoJSONSource:"Pout GeoJSON z webu",UseCustomDetailPage:'Zmnit pesmrovn tlatka "Vce informac"',filtersTitle:"Filtry",mapEditable:"Editovateln oblast vyhledvn",bufferSize:"Velikost bufferu (v metrech):",dateMin:"Minimln datum",dateMax:"Maximln datum",search:"Vyhledat",reset:"Resetovat",limit:"Limit",nbPages:"Poet strnek",searchResults:"Vsledky vyhledvn",noResults:"dn vsledky",noSpeciesObserved:"V tto oblasti nebyly pozorovny dn druhy!",previousPage:"Pedchoz",nextPage:"Dal",loading:"Natn...",loadingError:"Chyba natn dat",noObservations:"Nebyla nalezena dn pozorovn",emptySearch:"dn druhy neodpovdaj vsledk vyhledvn",noGeometry:"Nebyla nalezena dn geometrie",error404:{title:"Strnka nenalezena",subtitle:"Strnka, kterou hledte, neexistuje"},browserIntegration:"Integrujte widget do svho webu",drawGeometry:"Nakreslete oblast pro zobrazen druh",size:{width:"ka",height:"Vka"},embed:"Vloit",typeWidget:{title:"Typ widgetu",default:"Mapa a seznam",list:"Seznam druh",config:"Konfigurace"},copy:"Koprovat",copied:"Zkoprovno",share:"Sdlet",shareLink:"Sdlet odkaz",shareDiscover:"Sdlet svj vzkum",source:{title:"Datov zdroj",select:"Vyberte datov zdroj",modify:"Zmnit datov zdroj pozorovn",gbifWarning:"Poet pozorovn a data poslednch pozorovn jsou zaloeny na agregaci poslednch pozorovn v rmci vybran oblasti a jsou omezeny na maximln {nbObs}."},gbif:{apiEndpoint:"API endpoint GBIF"},geonature:{api_endpoint:"API endpoint GeoNature",id_export:"ID exportu"},desc:"Sestupn",asc:"Vzestupn",media:{source:"Zdroj mdi",image:"Zdroj obrzku",sound:"Zdroj zvuku",select:"Vyberte zdroj mdi",linkToOrigin:"Zdroj",licenseUnder:"Pod licenc "},taxon:{scientificName:"Vdeck nzev",vernacularName:"Obecn nzev",nbObservations:"Poet pozorovn",lastSeenDate:"Datum poslednho pozorovn",taxonFilter:"Filtrovat podle druhu",classFilter:"Filtrovat podle tdy",learnMore:"Vce informac",class:"Tda druhu",taxonFound:"nalezen druhy"},mode:{galleryMode:"Galerie",detailedList:"Detailn",hybrid:"Hybridn",isTaxonListHybrid:"Reim seznamu druh je pizpsobiteln"},widgetType:{list:"Seznam",default:"Mapa a seznam"},numberOfTaxonPerLine:"Poet druh na dek",widgetPreview:"Nhled",taxonsClass:{Animalia:{Mammalia:"Savci",Aves:"Ptci",Reptilia:"Plazi",Amphibia:"Obojivelnci",Insecta:"Hmyz",Arachnida:"Pavoukovci",Gastropoda:"Pli",Bivalvia:"Mli"},Plantae:{Magnoliopsida:"Dvoudlon",Liliopsida:"Jednodlon",Pinopsida:"Jehlinany"}},map:{searchPlace:"Vyhledat nzev msta"},or:"nebo",in:"v",datasetList:"piazen datov sady",observation:"pozorovn",observations:"pozorovn"}},zg=window.navigator.language.split("-")[0],xO=LT({locale:["en","fr","es","cs"].includes(zg)?zg:"en",fallbackLocale:"en",messages:{...bO,...wO,...kO,...EO}}),TO=[{path:"/",component:LO},{path:"/config",component:qM},{path:"/explorer",component:uO},{path:"/:pathMatch(.*)*",name:"NotFound",component:pO}],SO=UC({history:gC(),routes:TO});Object.defineProperty(String.prototype,"capitalize",{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1});const vo=lk(OT);vo.use(SO);vo.use(xO);vo.use(x1());vo.component("VueShowdown",yO);vo.config.errorHandler=(e,t,s)=>{console.group("%c Vue Global Error Handler","color:red; font-weight:bold;"),console.error("Erreur attrape :",e),t&&console.warn("Instance du composant :",t.$options.name||t),console.info("Contexte :",s),console.groupEnd()};-vo.mount("#app");
