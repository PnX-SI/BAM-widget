var Cy=Object.defineProperty;var Sy=(t,e,s)=>e in t?Cy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Co=(t,e,s)=>Sy(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=s(r);fetch(r.href,c)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mf(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const pe={},Ao=[],tr=()=>{},Iy=()=>!1,uc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),gf=t=>t.startsWith("onUpdate:"),ln=Object.assign,_f=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Py=Object.prototype.hasOwnProperty,we=(t,e)=>Py.call(t,e),Jt=Array.isArray,Ro=t=>wl(t)==="[object Map]",ia=t=>wl(t)==="[object Set]",hd=t=>wl(t)==="[object Date]",ee=t=>typeof t=="function",Ge=t=>typeof t=="string",Oi=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",Ym=t=>(Pe(t)||ee(t))&&ee(t.then)&&ee(t.catch),jm=Object.prototype.toString,wl=t=>jm.call(t),Ny=t=>wl(t).slice(8,-1),Xm=t=>wl(t)==="[object Object]",vf=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wa=mf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cc=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Oy=/-(\w)/g,ri=cc(t=>t.replace(Oy,(e,s)=>s?s.toUpperCase():"")),My=/\B([A-Z])/g,ls=cc(t=>t.replace(My,"-$1").toLowerCase()),hc=cc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qc=cc(t=>t?`on${hc(t)}`:""),Zn=(t,e)=>!Object.is(t,e),vu=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Km=(t,e,s,a=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:a,value:s})},Ou=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ay=t=>{const e=Ge(t)?Number(t):NaN;return isNaN(e)?t:e};let fd;const fc=()=>fd||(fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function to(t){if(Jt(t)){const e={};for(let s=0;s<t.length;s++){const a=t[s],r=Ge(a)?Fy(a):to(a);if(r)for(const c in r)e[c]=r[c]}return e}else if(Ge(t)||Pe(t))return t}const Ry=/;(?![^(]*\))/g,Dy=/:([^]+)/,By=/\/\*[^]*?\*\//g;function Fy(t){const e={};return t.replace(By,"").split(Ry).forEach(s=>{if(s){const a=s.split(Dy);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function Be(t){let e="";if(Ge(t))e=t;else if(Jt(t))for(let s=0;s<t.length;s++){const a=Be(t[s]);a&&(e+=a+" ")}else if(Pe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function Ci(t){if(!t)return null;let{class:e,style:s}=t;return e&&!Ge(e)&&(t.class=Be(e)),s&&(t.style=to(s)),t}const zy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Uy=mf(zy);function Jm(t){return!!t||t===""}function $y(t,e){if(t.length!==e.length)return!1;let s=!0;for(let a=0;s&&a<t.length;a++)s=Ws(t[a],e[a]);return s}function Ws(t,e){if(t===e)return!0;let s=hd(t),a=hd(e);if(s||a)return s&&a?t.getTime()===e.getTime():!1;if(s=Oi(t),a=Oi(e),s||a)return t===e;if(s=Jt(t),a=Jt(e),s||a)return s&&a?$y(t,e):!1;if(s=Pe(t),a=Pe(e),s||a){if(!s||!a)return!1;const r=Object.keys(t).length,c=Object.keys(e).length;if(r!==c)return!1;for(const f in t){const d=t.hasOwnProperty(f),g=e.hasOwnProperty(f);if(d&&!g||!d&&g||!Ws(t[f],e[f]))return!1}}return String(t)===String(e)}function yf(t,e){return t.findIndex(s=>Ws(s,e))}const Qm=t=>!!(t&&t.__v_isRef===!0),te=t=>Ge(t)?t:t==null?"":Jt(t)||Pe(t)&&(t.toString===jm||!ee(t.toString))?Qm(t)?te(t.value):JSON.stringify(t,tg,2):String(t),tg=(t,e)=>Qm(e)?tg(t,e.value):Ro(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[a,r],c)=>(s[th(a,c)+" =>"]=r,s),{})}:ia(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>th(s))}:Oi(e)?th(e):Pe(e)&&!Jt(e)&&!Xm(e)?String(e):e,th=(t,e="")=>{var s;return Oi(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dn;class eg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dn,!e&&Dn&&(this.index=(Dn.scopes||(Dn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Dn;try{return Dn=this,e()}finally{Dn=s}}}on(){Dn=this}off(){Dn=this.parent}stop(e){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ng(t){return new eg(t)}function bf(){return Dn}function Mu(t,e=!1){Dn&&Dn.cleanups.push(t)}let Oe;const eh=new WeakSet;class ig{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dn&&Dn.active&&Dn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,eh.has(this)&&(eh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dd(this),og(this);const e=Oe,s=Ni;Oe=this,Ni=!0;try{return this.fn()}finally{ag(this),Oe=e,Ni=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ef(e);this.deps=this.depsTail=void 0,dd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?eh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Th(this)&&this.run()}get dirty(){return Th(this)}}let rg=0,Ya,ja;function sg(t,e=!1){if(t.flags|=8,e){t.next=ja,ja=t;return}t.next=Ya,Ya=t}function wf(){rg++}function Lf(){if(--rg>0)return;if(ja){let e=ja;for(ja=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ya;){let e=Ya;for(Ya=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(a){t||(t=a)}e=s}}if(t)throw t}function og(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ag(t){let e,s=t.depsTail,a=s;for(;a;){const r=a.prevDep;a.version===-1?(a===s&&(s=r),Ef(a),Gy(a)):e=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=r}t.deps=e,t.depsTail=s}function Th(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(lg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function lg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===sl))return;t.globalVersion=sl;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Th(t)){t.flags&=-3;return}const s=Oe,a=Ni;Oe=t,Ni=!0;try{og(t);const r=t.fn(t._value);(e.version===0||Zn(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Oe=s,Ni=a,ag(t),t.flags&=-3}}function Ef(t,e=!1){const{dep:s,prevSub:a,nextSub:r}=t;if(a&&(a.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=a,t.nextSub=void 0),s.subs===t&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let c=s.computed.deps;c;c=c.nextDep)Ef(c,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Gy(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ni=!0;const ug=[];function us(){ug.push(Ni),Ni=!1}function cs(){const t=ug.pop();Ni=t===void 0?!0:t}function dd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Oe;Oe=void 0;try{e()}finally{Oe=s}}}let sl=0;class Hy{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Oe||!Ni||Oe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Oe)s=this.activeLink=new Hy(Oe,this),Oe.deps?(s.prevDep=Oe.depsTail,Oe.depsTail.nextDep=s,Oe.depsTail=s):Oe.deps=Oe.depsTail=s,cg(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=Oe.depsTail,s.nextDep=void 0,Oe.depsTail.nextDep=s,Oe.depsTail=s,Oe.deps===s&&(Oe.deps=a)}return s}trigger(e){this.version++,sl++,this.notify(e)}notify(e){wf();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Lf()}}}function cg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let a=e.deps;a;a=a.nextDep)cg(a)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Au=new WeakMap,qs=Symbol(""),Ch=Symbol(""),ol=Symbol("");function xn(t,e,s){if(Ni&&Oe){let a=Au.get(t);a||Au.set(t,a=new Map);let r=a.get(s);r||(a.set(s,r=new dc),r.map=a,r.key=s),r.track()}}function Lr(t,e,s,a,r,c){const f=Au.get(t);if(!f){sl++;return}const d=g=>{g&&g.trigger()};if(wf(),e==="clear")f.forEach(d);else{const g=Jt(t),_=g&&vf(s);if(g&&s==="length"){const y=Number(a);f.forEach((b,E)=>{(E==="length"||E===ol||!Oi(E)&&E>=y)&&d(b)})}else switch((s!==void 0||f.has(void 0))&&d(f.get(s)),_&&d(f.get(ol)),e){case"add":g?_&&d(f.get("length")):(d(f.get(qs)),Ro(t)&&d(f.get(Ch)));break;case"delete":g||(d(f.get(qs)),Ro(t)&&d(f.get(Ch)));break;case"set":Ro(t)&&d(f.get(qs));break}}Lf()}function Vy(t,e){const s=Au.get(t);return s&&s.get(e)}function So(t){const e=oe(t);return e===t?e:(xn(e,"iterate",ol),bi(t)?e:e.map(Tn))}function pc(t){return xn(t=oe(t),"iterate",ol),t}const qy={__proto__:null,[Symbol.iterator](){return nh(this,Symbol.iterator,Tn)},concat(...t){return So(this).concat(...t.map(e=>Jt(e)?So(e):e))},entries(){return nh(this,"entries",t=>(t[1]=Tn(t[1]),t))},every(t,e){return pr(this,"every",t,e,void 0,arguments)},filter(t,e){return pr(this,"filter",t,e,s=>s.map(Tn),arguments)},find(t,e){return pr(this,"find",t,e,Tn,arguments)},findIndex(t,e){return pr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return pr(this,"findLast",t,e,Tn,arguments)},findLastIndex(t,e){return pr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return pr(this,"forEach",t,e,void 0,arguments)},includes(...t){return ih(this,"includes",t)},indexOf(...t){return ih(this,"indexOf",t)},join(t){return So(this).join(t)},lastIndexOf(...t){return ih(this,"lastIndexOf",t)},map(t,e){return pr(this,"map",t,e,void 0,arguments)},pop(){return Aa(this,"pop")},push(...t){return Aa(this,"push",t)},reduce(t,...e){return pd(this,"reduce",t,e)},reduceRight(t,...e){return pd(this,"reduceRight",t,e)},shift(){return Aa(this,"shift")},some(t,e){return pr(this,"some",t,e,void 0,arguments)},splice(...t){return Aa(this,"splice",t)},toReversed(){return So(this).toReversed()},toSorted(t){return So(this).toSorted(t)},toSpliced(...t){return So(this).toSpliced(...t)},unshift(...t){return Aa(this,"unshift",t)},values(){return nh(this,"values",Tn)}};function nh(t,e,s){const a=pc(t),r=a[e]();return a!==t&&!bi(t)&&(r._next=r.next,r.next=()=>{const c=r._next();return c.value&&(c.value=s(c.value)),c}),r}const Zy=Array.prototype;function pr(t,e,s,a,r,c){const f=pc(t),d=f!==t&&!bi(t),g=f[e];if(g!==Zy[e]){const b=g.apply(t,c);return d?Tn(b):b}let _=s;f!==t&&(d?_=function(b,E){return s.call(this,Tn(b),E,t)}:s.length>2&&(_=function(b,E){return s.call(this,b,E,t)}));const y=g.call(f,_,a);return d&&r?r(y):y}function pd(t,e,s,a){const r=pc(t);let c=s;return r!==t&&(bi(t)?s.length>3&&(c=function(f,d,g){return s.call(this,f,d,g,t)}):c=function(f,d,g){return s.call(this,f,Tn(d),g,t)}),r[e](c,...a)}function ih(t,e,s){const a=oe(t);xn(a,"iterate",ol);const r=a[e](...s);return(r===-1||r===!1)&&kf(s[0])?(s[0]=oe(s[0]),a[e](...s)):r}function Aa(t,e,s=[]){us(),wf();const a=oe(t)[e].apply(t,s);return Lf(),cs(),a}const Wy=mf("__proto__,__v_isRef,__isVue"),hg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Oi));function Yy(t){Oi(t)||(t=String(t));const e=oe(this);return xn(e,"has",t),e.hasOwnProperty(t)}class fg{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,a){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,c=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return c;if(s==="__v_raw")return a===(r?c?vg:_g:c?gg:mg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(a)?e:void 0;const f=Jt(e);if(!r){let g;if(f&&(g=qy[s]))return g;if(s==="hasOwnProperty")return Yy}const d=Reflect.get(e,s,Xe(e)?e:a);return(Oi(s)?hg.has(s):Wy(s))||(r||xn(e,"get",s),c)?d:Xe(d)?f&&vf(s)?d:d.value:Pe(d)?r?Wn(d):Yn(d):d}}class dg extends fg{constructor(e=!1){super(!1,e)}set(e,s,a,r){let c=e[s];if(!this._isShallow){const g=Ys(c);if(!bi(a)&&!Ys(a)&&(c=oe(c),a=oe(a)),!Jt(e)&&Xe(c)&&!Xe(a))return g?!1:(c.value=a,!0)}const f=Jt(e)&&vf(s)?Number(s)<e.length:we(e,s),d=Reflect.set(e,s,a,Xe(e)?e:r);return e===oe(r)&&(f?Zn(a,c)&&Lr(e,"set",s,a):Lr(e,"add",s,a)),d}deleteProperty(e,s){const a=we(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&a&&Lr(e,"delete",s,void 0),r}has(e,s){const a=Reflect.has(e,s);return(!Oi(s)||!hg.has(s))&&xn(e,"has",s),a}ownKeys(e){return xn(e,"iterate",Jt(e)?"length":qs),Reflect.ownKeys(e)}}class pg extends fg{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const jy=new dg,Xy=new pg,Ky=new dg(!0),Jy=new pg(!0),Sh=t=>t,Jl=t=>Reflect.getPrototypeOf(t);function Qy(t,e,s){return function(...a){const r=this.__v_raw,c=oe(r),f=Ro(c),d=t==="entries"||t===Symbol.iterator&&f,g=t==="keys"&&f,_=r[t](...a),y=s?Sh:e?Ih:Tn;return!e&&xn(c,"iterate",g?Ch:qs),{next(){const{value:b,done:E}=_.next();return E?{value:b,done:E}:{value:d?[y(b[0]),y(b[1])]:y(b),done:E}},[Symbol.iterator](){return this}}}}function Ql(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function t0(t,e){const s={get(r){const c=this.__v_raw,f=oe(c),d=oe(r);t||(Zn(r,d)&&xn(f,"get",r),xn(f,"get",d));const{has:g}=Jl(f),_=e?Sh:t?Ih:Tn;if(g.call(f,r))return _(c.get(r));if(g.call(f,d))return _(c.get(d));c!==f&&c.get(r)},get size(){const r=this.__v_raw;return!t&&xn(oe(r),"iterate",qs),Reflect.get(r,"size",r)},has(r){const c=this.__v_raw,f=oe(c),d=oe(r);return t||(Zn(r,d)&&xn(f,"has",r),xn(f,"has",d)),r===d?c.has(r):c.has(r)||c.has(d)},forEach(r,c){const f=this,d=f.__v_raw,g=oe(d),_=e?Sh:t?Ih:Tn;return!t&&xn(g,"iterate",qs),d.forEach((y,b)=>r.call(c,_(y),_(b),f))}};return ln(s,t?{add:Ql("add"),set:Ql("set"),delete:Ql("delete"),clear:Ql("clear")}:{add(r){!e&&!bi(r)&&!Ys(r)&&(r=oe(r));const c=oe(this);return Jl(c).has.call(c,r)||(c.add(r),Lr(c,"add",r,r)),this},set(r,c){!e&&!bi(c)&&!Ys(c)&&(c=oe(c));const f=oe(this),{has:d,get:g}=Jl(f);let _=d.call(f,r);_||(r=oe(r),_=d.call(f,r));const y=g.call(f,r);return f.set(r,c),_?Zn(c,y)&&Lr(f,"set",r,c):Lr(f,"add",r,c),this},delete(r){const c=oe(this),{has:f,get:d}=Jl(c);let g=f.call(c,r);g||(r=oe(r),g=f.call(c,r)),d&&d.call(c,r);const _=c.delete(r);return g&&Lr(c,"delete",r,void 0),_},clear(){const r=oe(this),c=r.size!==0,f=r.clear();return c&&Lr(r,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Qy(r,t,e)}),s}function mc(t,e){const s=t0(t,e);return(a,r,c)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?a:Reflect.get(we(s,r)&&r in a?s:a,r,c)}const e0={get:mc(!1,!1)},n0={get:mc(!1,!0)},i0={get:mc(!0,!1)},r0={get:mc(!0,!0)},mg=new WeakMap,gg=new WeakMap,_g=new WeakMap,vg=new WeakMap;function s0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function o0(t){return t.__v_skip||!Object.isExtensible(t)?0:s0(Ny(t))}function Yn(t){return Ys(t)?t:gc(t,!1,jy,e0,mg)}function yg(t){return gc(t,!1,Ky,n0,gg)}function Wn(t){return gc(t,!0,Xy,i0,_g)}function Io(t){return gc(t,!0,Jy,r0,vg)}function gc(t,e,s,a,r){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const c=r.get(t);if(c)return c;const f=o0(t);if(f===0)return t;const d=new Proxy(t,f===2?a:s);return r.set(t,d),d}function Do(t){return Ys(t)?Do(t.__v_raw):!!(t&&t.__v_isReactive)}function Ys(t){return!!(t&&t.__v_isReadonly)}function bi(t){return!!(t&&t.__v_isShallow)}function kf(t){return t?!!t.__v_raw:!1}function oe(t){const e=t&&t.__v_raw;return e?oe(e):t}function Qr(t){return!we(t,"__v_skip")&&Object.isExtensible(t)&&Km(t,"__v_skip",!0),t}const Tn=t=>Pe(t)?Yn(t):t,Ih=t=>Pe(t)?Wn(t):t;function Xe(t){return t?t.__v_isRef===!0:!1}function Mt(t){return bg(t,!1)}function Li(t){return bg(t,!0)}function bg(t,e){return Xe(t)?t:new a0(t,e)}class a0{constructor(e,s){this.dep=new dc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:oe(e),this._value=s?e:Tn(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,a=this.__v_isShallow||bi(e)||Ys(e);e=a?e:oe(e),Zn(e,s)&&(this._rawValue=e,this._value=a?e:Tn(e),this.dep.trigger())}}function tt(t){return Xe(t)?t.value:t}function Se(t){return ee(t)?t():tt(t)}const l0={get:(t,e,s)=>e==="__v_raw"?t:tt(Reflect.get(t,e,s)),set:(t,e,s,a)=>{const r=t[e];return Xe(r)&&!Xe(s)?(r.value=s,!0):Reflect.set(t,e,s,a)}};function wg(t){return Do(t)?t:new Proxy(t,l0)}class u0{constructor(e){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new dc,{get:a,set:r}=e(s.track.bind(s),s.trigger.bind(s));this._get=a,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Lg(t){return new u0(t)}class c0{constructor(e,s,a){this._object=e,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Vy(oe(this._object),this._key)}}class h0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function nn(t,e,s){return Xe(t)?t:ee(t)?new h0(t):Pe(t)&&arguments.length>1?f0(t,e,s):Mt(t)}function f0(t,e,s){const a=t[e];return Xe(a)?a:new c0(t,e,s)}class d0{constructor(e,s,a){this.fn=e,this.setter=s,this._value=void 0,this.dep=new dc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return sg(this,!0),!0}get value(){const e=this.dep.track();return lg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function p0(t,e,s=!1){let a,r;return ee(t)?a=t:(a=t.get,r=t.set),new d0(a,r,s)}const tu={},Ru=new WeakMap;let $s;function m0(t,e=!1,s=$s){if(s){let a=Ru.get(s);a||Ru.set(s,a=[]),a.push(t)}}function g0(t,e,s=pe){const{immediate:a,deep:r,once:c,scheduler:f,augmentJob:d,call:g}=s,_=B=>r?B:bi(B)||r===!1||r===0?Er(B,1):Er(B);let y,b,E,T,I=!1,A=!1;if(Xe(t)?(b=()=>t.value,I=bi(t)):Do(t)?(b=()=>_(t),I=!0):Jt(t)?(A=!0,I=t.some(B=>Do(B)||bi(B)),b=()=>t.map(B=>{if(Xe(B))return B.value;if(Do(B))return _(B);if(ee(B))return g?g(B,2):B()})):ee(t)?e?b=g?()=>g(t,2):t:b=()=>{if(E){us();try{E()}finally{cs()}}const B=$s;$s=y;try{return g?g(t,3,[T]):t(T)}finally{$s=B}}:b=tr,e&&r){const B=b,$=r===!0?1/0:r;b=()=>Er(B(),$)}const F=bf(),M=()=>{y.stop(),F&&F.active&&_f(F.effects,y)};if(c&&e){const B=e;e=(...$)=>{B(...$),M()}}let R=A?new Array(t.length).fill(tu):tu;const D=B=>{if(!(!(y.flags&1)||!y.dirty&&!B))if(e){const $=y.run();if(r||I||(A?$.some((q,V)=>Zn(q,R[V])):Zn($,R))){E&&E();const q=$s;$s=y;try{const V=[$,R===tu?void 0:A&&R[0]===tu?[]:R,T];g?g(e,3,V):e(...V),R=$}finally{$s=q}}}else y.run()};return d&&d(D),y=new ig(b),y.scheduler=f?()=>f(D,!1):D,T=B=>m0(B,!1,y),E=y.onStop=()=>{const B=Ru.get(y);if(B){if(g)g(B,4);else for(const $ of B)$();Ru.delete(y)}},e?a?D(!0):R=y.run():f?f(D.bind(null,!0),!0):y.run(),M.pause=y.pause.bind(y),M.resume=y.resume.bind(y),M.stop=M,M}function Er(t,e=1/0,s){if(e<=0||!Pe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Xe(t))Er(t.value,e,s);else if(Jt(t))for(let a=0;a<t.length;a++)Er(t[a],e,s);else if(ia(t)||Ro(t))t.forEach(a=>{Er(a,e,s)});else if(Xm(t)){for(const a in t)Er(t[a],e,s);for(const a of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,a)&&Er(t[a],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ll(t,e,s,a){try{return a?t(...a):t()}catch(r){_c(r,e,s)}}function Mi(t,e,s,a){if(ee(t)){const r=Ll(t,e,s,a);return r&&Ym(r)&&r.catch(c=>{_c(c,e,s)}),r}if(Jt(t)){const r=[];for(let c=0;c<t.length;c++)r.push(Mi(t[c],e,s,a));return r}}function _c(t,e,s,a=!0){const r=e?e.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:f}=e&&e.appContext.config||pe;if(e){let d=e.parent;const g=e.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const y=d.ec;if(y){for(let b=0;b<y.length;b++)if(y[b](t,g,_)===!1)return}d=d.parent}if(c){us(),Ll(c,null,10,[t,g,_]),cs();return}}_0(t,s,r,a,f)}function _0(t,e,s,a=!0,r=!1){if(r)throw t;console.error(t)}const Bn=[];let ji=-1;const Bo=[];let Yr=null,No=0;const Eg=Promise.resolve();let Du=null;function yi(t){const e=Du||Eg;return t?e.then(this?t.bind(this):t):e}function v0(t){let e=ji+1,s=Bn.length;for(;e<s;){const a=e+s>>>1,r=Bn[a],c=al(r);c<t||c===t&&r.flags&2?e=a+1:s=a}return e}function xf(t){if(!(t.flags&1)){const e=al(t),s=Bn[Bn.length-1];!s||!(t.flags&2)&&e>=al(s)?Bn.push(t):Bn.splice(v0(e),0,t),t.flags|=1,kg()}}function kg(){Du||(Du=Eg.then(Tg))}function y0(t){Jt(t)?Bo.push(...t):Yr&&t.id===-1?Yr.splice(No+1,0,t):t.flags&1||(Bo.push(t),t.flags|=1),kg()}function md(t,e,s=ji+1){for(;s<Bn.length;s++){const a=Bn[s];if(a&&a.flags&2){if(t&&a.id!==t.uid)continue;Bn.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function xg(t){if(Bo.length){const e=[...new Set(Bo)].sort((s,a)=>al(s)-al(a));if(Bo.length=0,Yr){Yr.push(...e);return}for(Yr=e,No=0;No<Yr.length;No++){const s=Yr[No];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Yr=null,No=0}}const al=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Tg(t){try{for(ji=0;ji<Bn.length;ji++){const e=Bn[ji];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ll(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ji<Bn.length;ji++){const e=Bn[ji];e&&(e.flags&=-2)}ji=-1,Bn.length=0,xg(),Du=null,(Bn.length||Bo.length)&&Tg()}}let gn=null,Cg=null;function Bu(t){const e=gn;return gn=t,Cg=t&&t.type.__scopeId||null,e}function Ee(t,e=gn,s){if(!e||t._n)return t;const a=(...r)=>{a._d&&Sd(-1);const c=Bu(e);let f;try{f=t(...r)}finally{Bu(c),a._d&&Sd(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function mn(t,e){if(gn===null)return t;const s=Ec(gn),a=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[c,f,d,g=pe]=e[r];c&&(ee(c)&&(c={mounted:c,updated:c}),c.deep&&Er(f),a.push({dir:c,instance:s,value:f,oldValue:void 0,arg:d,modifiers:g}))}return t}function As(t,e,s,a){const r=t.dirs,c=e&&e.dirs;for(let f=0;f<r.length;f++){const d=r[f];c&&(d.oldValue=c[f].value);let g=d.dir[a];g&&(us(),Mi(g,s,8,[t.el,d,t,e]),cs())}}const Sg=Symbol("_vte"),Ig=t=>t.__isTeleport,Xa=t=>t&&(t.disabled||t.disabled===""),gd=t=>t&&(t.defer||t.defer===""),_d=t=>typeof SVGElement<"u"&&t instanceof SVGElement,vd=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ph=(t,e)=>{const s=t&&t.to;return Ge(s)?e?e(s):null:s},Pg={name:"Teleport",__isTeleport:!0,process(t,e,s,a,r,c,f,d,g,_){const{mc:y,pc:b,pbc:E,o:{insert:T,querySelector:I,createText:A,createComment:F}}=_,M=Xa(e.props);let{shapeFlag:R,children:D,dynamicChildren:B}=e;if(t==null){const $=e.el=A(""),q=e.anchor=A("");T($,s,a),T(q,s,a);const V=(K,lt)=>{R&16&&(r&&r.isCE&&(r.ce._teleportTarget=K),y(D,K,lt,r,c,f,d,g))},ot=()=>{const K=e.target=Ph(e.props,I),lt=Ng(K,e,A,T);K&&(f!=="svg"&&_d(K)?f="svg":f!=="mathml"&&vd(K)&&(f="mathml"),M||(V(K,lt),yu(e,!1)))};M&&(V(s,q),yu(e,!0)),gd(e.props)?Rn(()=>{ot(),e.el.__isMounted=!0},c):ot()}else{if(gd(e.props)&&!t.el.__isMounted){Rn(()=>{Pg.process(t,e,s,a,r,c,f,d,g,_),delete t.el.__isMounted},c);return}e.el=t.el,e.targetStart=t.targetStart;const $=e.anchor=t.anchor,q=e.target=t.target,V=e.targetAnchor=t.targetAnchor,ot=Xa(t.props),K=ot?s:q,lt=ot?$:V;if(f==="svg"||_d(q)?f="svg":(f==="mathml"||vd(q))&&(f="mathml"),B?(E(t.dynamicChildren,B,K,r,c,f,d),Sf(t,e,!0)):g||b(t,e,K,lt,r,c,f,d,!1),M)ot?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):eu(e,s,$,_,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Lt=e.target=Ph(e.props,I);Lt&&eu(e,Lt,null,_,0)}else ot&&eu(e,q,V,_,1);yu(e,M)}},remove(t,e,s,{um:a,o:{remove:r}},c){const{shapeFlag:f,children:d,anchor:g,targetStart:_,targetAnchor:y,target:b,props:E}=t;if(b&&(r(_),r(y)),c&&r(g),f&16){const T=c||!Xa(E);for(let I=0;I<d.length;I++){const A=d[I];a(A,e,s,T,!!A.dynamicChildren)}}},move:eu,hydrate:b0};function eu(t,e,s,{o:{insert:a},m:r},c=2){c===0&&a(t.targetAnchor,e,s);const{el:f,anchor:d,shapeFlag:g,children:_,props:y}=t,b=c===2;if(b&&a(f,e,s),(!b||Xa(y))&&g&16)for(let E=0;E<_.length;E++)r(_[E],e,s,2);b&&a(d,e,s)}function b0(t,e,s,a,r,c,{o:{nextSibling:f,parentNode:d,querySelector:g,insert:_,createText:y}},b){const E=e.target=Ph(e.props,g);if(E){const T=Xa(e.props),I=E._lpa||E.firstChild;if(e.shapeFlag&16)if(T)e.anchor=b(f(t),e,d(t),s,a,r,c),e.targetStart=I,e.targetAnchor=I&&f(I);else{e.anchor=f(t);let A=I;for(;A;){if(A&&A.nodeType===8){if(A.data==="teleport start anchor")e.targetStart=A;else if(A.data==="teleport anchor"){e.targetAnchor=A,E._lpa=e.targetAnchor&&f(e.targetAnchor);break}}A=f(A)}e.targetAnchor||Ng(E,e,y,_),b(I&&f(I),e,E,s,a,r,c)}yu(e,T)}return e.anchor&&f(e.anchor)}const w0=Pg;function yu(t,e){const s=t.ctx;if(s&&s.ut){let a,r;for(e?(a=t.el,r=t.anchor):(a=t.targetStart,r=t.targetAnchor);a&&a!==r;)a.nodeType===1&&a.setAttribute("data-v-owner",s.uid),a=a.nextSibling;s.ut()}}function Ng(t,e,s,a){const r=e.targetStart=s(""),c=e.targetAnchor=s("");return r[Sg]=c,t&&(a(r,t),a(c,t)),c}const jr=Symbol("_leaveCb"),nu=Symbol("_enterCb");function L0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bi(()=>{t.isMounted=!0}),Tf(()=>{t.isUnmounting=!0}),t}const gi=[Function,Array],Og={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gi,onEnter:gi,onAfterEnter:gi,onEnterCancelled:gi,onBeforeLeave:gi,onLeave:gi,onAfterLeave:gi,onLeaveCancelled:gi,onBeforeAppear:gi,onAppear:gi,onAfterAppear:gi,onAppearCancelled:gi},Mg=t=>{const e=t.subTree;return e.component?Mg(e.component):e},E0={name:"BaseTransition",props:Og,setup(t,{slots:e}){const s=jn(),a=L0();return()=>{const r=e.default&&Dg(e.default(),!0);if(!r||!r.length)return;const c=Ag(r),f=oe(t),{mode:d}=f;if(a.isLeaving)return rh(c);const g=yd(c);if(!g)return rh(c);let _=Nh(g,f,a,s,b=>_=b);g.type!==Fn&&ll(g,_);let y=s.subTree&&yd(s.subTree);if(y&&y.type!==Fn&&!Gs(g,y)&&Mg(s).type!==Fn){let b=Nh(y,f,a,s);if(ll(y,b),d==="out-in"&&g.type!==Fn)return a.isLeaving=!0,b.afterLeave=()=>{a.isLeaving=!1,s.job.flags&8||s.update(),delete b.afterLeave,y=void 0},rh(c);d==="in-out"&&g.type!==Fn?b.delayLeave=(E,T,I)=>{const A=Rg(a,y);A[String(y.key)]=y,E[jr]=()=>{T(),E[jr]=void 0,delete _.delayedLeave,y=void 0},_.delayedLeave=()=>{I(),delete _.delayedLeave,y=void 0}}:y=void 0}else y&&(y=void 0);return c}}};function Ag(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Fn){e=s;break}}return e}const k0=E0;function Rg(t,e){const{leavingVNodes:s}=t;let a=s.get(e.type);return a||(a=Object.create(null),s.set(e.type,a)),a}function Nh(t,e,s,a,r){const{appear:c,mode:f,persisted:d=!1,onBeforeEnter:g,onEnter:_,onAfterEnter:y,onEnterCancelled:b,onBeforeLeave:E,onLeave:T,onAfterLeave:I,onLeaveCancelled:A,onBeforeAppear:F,onAppear:M,onAfterAppear:R,onAppearCancelled:D}=e,B=String(t.key),$=Rg(s,t),q=(K,lt)=>{K&&Mi(K,a,9,lt)},V=(K,lt)=>{const Lt=lt[1];q(K,lt),Jt(K)?K.every(et=>et.length<=1)&&Lt():K.length<=1&&Lt()},ot={mode:f,persisted:d,beforeEnter(K){let lt=g;if(!s.isMounted)if(c)lt=F||g;else return;K[jr]&&K[jr](!0);const Lt=$[B];Lt&&Gs(t,Lt)&&Lt.el[jr]&&Lt.el[jr](),q(lt,[K])},enter(K){let lt=_,Lt=y,et=b;if(!s.isMounted)if(c)lt=M||_,Lt=R||y,et=D||b;else return;let Q=!1;const Y=K[nu]=gt=>{Q||(Q=!0,gt?q(et,[K]):q(Lt,[K]),ot.delayedLeave&&ot.delayedLeave(),K[nu]=void 0)};lt?V(lt,[K,Y]):Y()},leave(K,lt){const Lt=String(t.key);if(K[nu]&&K[nu](!0),s.isUnmounting)return lt();q(E,[K]);let et=!1;const Q=K[jr]=Y=>{et||(et=!0,lt(),Y?q(A,[K]):q(I,[K]),K[jr]=void 0,$[Lt]===t&&delete $[Lt])};$[Lt]=t,T?V(T,[K,Q]):Q()},clone(K){const lt=Nh(K,e,s,a,r);return r&&r(lt),lt}};return ot}function rh(t){if(vc(t))return t=Ir(t),t.children=null,t}function yd(t){if(!vc(t))return Ig(t.type)&&t.children?Ag(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&ee(s.default))return s.default()}}function ll(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ll(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Dg(t,e=!1,s){let a=[],r=0;for(let c=0;c<t.length;c++){let f=t[c];const d=s==null?f.key:String(s)+String(f.key!=null?f.key:c);f.type===ge?(f.patchFlag&128&&r++,a=a.concat(Dg(f.children,e,d))):(e||f.type!==Fn)&&a.push(d!=null?Ir(f,{key:d}):f)}if(r>1)for(let c=0;c<a.length;c++)a[c].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function He(t,e){return ee(t)?ln({name:t.name},e,{setup:t}):t}function Bg(){const t=jn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Fg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Si(t){const e=jn(),s=Li(null);if(e){const r=e.refs===pe?e.refs={}:e.refs;Object.defineProperty(r,t,{enumerable:!0,get:()=>s.value,set:c=>s.value=c})}return s}function Fu(t,e,s,a,r=!1){if(Jt(t)){t.forEach((I,A)=>Fu(I,e&&(Jt(e)?e[A]:e),s,a,r));return}if(Fo(a)&&!r){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Fu(t,e,s,a.component.subTree);return}const c=a.shapeFlag&4?Ec(a.component):a.el,f=r?null:c,{i:d,r:g}=t,_=e&&e.r,y=d.refs===pe?d.refs={}:d.refs,b=d.setupState,E=oe(b),T=b===pe?()=>!1:I=>we(E,I);if(_!=null&&_!==g&&(Ge(_)?(y[_]=null,T(_)&&(b[_]=null)):Xe(_)&&(_.value=null)),ee(g))Ll(g,d,12,[f,y]);else{const I=Ge(g),A=Xe(g);if(I||A){const F=()=>{if(t.f){const M=I?T(g)?b[g]:y[g]:g.value;r?Jt(M)&&_f(M,c):Jt(M)?M.includes(c)||M.push(c):I?(y[g]=[c],T(g)&&(b[g]=y[g])):(g.value=[c],t.k&&(y[t.k]=g.value))}else I?(y[g]=f,T(g)&&(b[g]=f)):A&&(g.value=f,t.k&&(y[t.k]=f))};f?(F.id=-1,Rn(F,s)):F()}}}fc().requestIdleCallback;fc().cancelIdleCallback;const Fo=t=>!!t.type.__asyncLoader,vc=t=>t.type.__isKeepAlive;function x0(t,e){zg(t,"a",e)}function T0(t,e){zg(t,"da",e)}function zg(t,e,s=En){const a=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(yc(e,a,s),s){let r=s.parent;for(;r&&r.parent;)vc(r.parent.vnode)&&C0(a,e,s,r),r=r.parent}}function C0(t,e,s,a){const r=yc(e,t,a,!0);ra(()=>{_f(a[e],r)},s)}function yc(t,e,s=En,a=!1){if(s){const r=s[t]||(s[t]=[]),c=e.__weh||(e.__weh=(...f)=>{us();const d=kl(s),g=Mi(e,s,t,f);return d(),cs(),g});return a?r.unshift(c):r.push(c),c}}const Pr=t=>(e,s=En)=>{(!cl||t==="sp")&&yc(t,(...a)=>e(...a),s)},S0=Pr("bm"),Bi=Pr("m"),I0=Pr("bu"),P0=Pr("u"),Tf=Pr("bum"),ra=Pr("um"),N0=Pr("sp"),O0=Pr("rtg"),M0=Pr("rtc");function A0(t,e=En){yc("ec",t,e)}const Ug="components";function R0(t,e){return Gg(Ug,t,!0,e)||t}const $g=Symbol.for("v-ndc");function hs(t){return Ge(t)?Gg(Ug,t,!1)||t:t||$g}function Gg(t,e,s=!0,a=!1){const r=gn||En;if(r){const c=r.type;{const d=vb(c,!1);if(d&&(d===e||d===ri(e)||d===hc(ri(e))))return c}const f=bd(r[t]||c[t],e)||bd(r.appContext[t],e);return!f&&a?c:f}}function bd(t,e){return t&&(t[e]||t[ri(e)]||t[hc(ri(e))])}function Zs(t,e,s,a){let r;const c=s,f=Jt(t);if(f||Ge(t)){const d=f&&Do(t);let g=!1;d&&(g=!bi(t),t=pc(t)),r=new Array(t.length);for(let _=0,y=t.length;_<y;_++)r[_]=e(g?Tn(t[_]):t[_],_,void 0,c)}else if(typeof t=="number"){r=new Array(t);for(let d=0;d<t;d++)r[d]=e(d+1,d,void 0,c)}else if(Pe(t))if(t[Symbol.iterator])r=Array.from(t,(d,g)=>e(d,g,void 0,c));else{const d=Object.keys(t);r=new Array(d.length);for(let g=0,_=d.length;g<_;g++){const y=d[g];r[g]=e(t[y],y,g,c)}}else r=[];return r}function Me(t,e,s={},a,r){if(gn.ce||gn.parent&&Fo(gn.parent)&&gn.parent.ce)return e!=="default"&&(s.name=e),At(),Fe(ge,null,[qt("slot",s,a&&a())],64);let c=t[e];c&&c._c&&(c._d=!1),At();const f=c&&Hg(c(s)),d=s.key||f&&f.key,g=Fe(ge,{key:(d&&!Oi(d)?d:`_${e}`)+(!f&&a?"_fb":"")},f||(a?a():[]),f&&t._===1?64:-2);return!r&&g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),c&&c._c&&(c._d=!0),g}function Hg(t){return t.some(e=>js(e)?!(e.type===Fn||e.type===ge&&!Hg(e.children)):!0)?t:null}const Oh=t=>t?f_(t)?Ec(t):Oh(t.parent):null,Ka=ln(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Oh(t.parent),$root:t=>Oh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Yg(t),$forceUpdate:t=>t.f||(t.f=()=>{xf(t.update)}),$nextTick:t=>t.n||(t.n=yi.bind(t.proxy)),$watch:t=>ib.bind(t)}),sh=(t,e)=>t!==pe&&!t.__isScriptSetup&&we(t,e),D0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:a,data:r,props:c,accessCache:f,type:d,appContext:g}=t;let _;if(e[0]!=="$"){const T=f[e];if(T!==void 0)switch(T){case 1:return a[e];case 2:return r[e];case 4:return s[e];case 3:return c[e]}else{if(sh(a,e))return f[e]=1,a[e];if(r!==pe&&we(r,e))return f[e]=2,r[e];if((_=t.propsOptions[0])&&we(_,e))return f[e]=3,c[e];if(s!==pe&&we(s,e))return f[e]=4,s[e];Mh&&(f[e]=0)}}const y=Ka[e];let b,E;if(y)return e==="$attrs"&&xn(t.attrs,"get",""),y(t);if((b=d.__cssModules)&&(b=b[e]))return b;if(s!==pe&&we(s,e))return f[e]=4,s[e];if(E=g.config.globalProperties,we(E,e))return E[e]},set({_:t},e,s){const{data:a,setupState:r,ctx:c}=t;return sh(r,e)?(r[e]=s,!0):a!==pe&&we(a,e)?(a[e]=s,!0):we(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(c[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:a,appContext:r,propsOptions:c}},f){let d;return!!s[f]||t!==pe&&we(t,f)||sh(e,f)||(d=c[0])&&we(d,f)||we(a,f)||we(Ka,f)||we(r.config.globalProperties,f)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:we(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Vg(){return Zg().slots}function qg(){return Zg().attrs}function Zg(){const t=jn();return t.setupContext||(t.setupContext=p_(t))}function zu(t){return Jt(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}function ns(t,e){return!t||!e?t||e:Jt(t)&&Jt(e)?t.concat(e):ln({},zu(t),zu(e))}let Mh=!0;function B0(t){const e=Yg(t),s=t.proxy,a=t.ctx;Mh=!1,e.beforeCreate&&wd(e.beforeCreate,t,"bc");const{data:r,computed:c,methods:f,watch:d,provide:g,inject:_,created:y,beforeMount:b,mounted:E,beforeUpdate:T,updated:I,activated:A,deactivated:F,beforeDestroy:M,beforeUnmount:R,destroyed:D,unmounted:B,render:$,renderTracked:q,renderTriggered:V,errorCaptured:ot,serverPrefetch:K,expose:lt,inheritAttrs:Lt,components:et,directives:Q,filters:Y}=e;if(_&&F0(_,a,null),f)for(const Et in f){const ft=f[Et];ee(ft)&&(a[Et]=ft.bind(s))}if(r){const Et=r.call(s,s);Pe(Et)&&(t.data=Yn(Et))}if(Mh=!0,c)for(const Et in c){const ft=c[Et],Pt=ee(ft)?ft.bind(s,s):ee(ft.get)?ft.get.bind(s,s):tr,at=!ee(ft)&&ee(ft.set)?ft.set.bind(s):tr,Dt=ht({get:Pt,set:at});Object.defineProperty(a,Et,{enumerable:!0,configurable:!0,get:()=>Dt.value,set:Gt=>Dt.value=Gt})}if(d)for(const Et in d)Wg(d[Et],a,s,Et);if(g){const Et=ee(g)?g.call(s):g;Reflect.ownKeys(Et).forEach(ft=>{ts(ft,Et[ft])})}y&&wd(y,t,"c");function vt(Et,ft){Jt(ft)?ft.forEach(Pt=>Et(Pt.bind(s))):ft&&Et(ft.bind(s))}if(vt(S0,b),vt(Bi,E),vt(I0,T),vt(P0,I),vt(x0,A),vt(T0,F),vt(A0,ot),vt(M0,q),vt(O0,V),vt(Tf,R),vt(ra,B),vt(N0,K),Jt(lt))if(lt.length){const Et=t.exposed||(t.exposed={});lt.forEach(ft=>{Object.defineProperty(Et,ft,{get:()=>s[ft],set:Pt=>s[ft]=Pt})})}else t.exposed||(t.exposed={});$&&t.render===tr&&(t.render=$),Lt!=null&&(t.inheritAttrs=Lt),et&&(t.components=et),Q&&(t.directives=Q),K&&Fg(t)}function F0(t,e,s=tr){Jt(t)&&(t=Ah(t));for(const a in t){const r=t[a];let c;Pe(r)?"default"in r?c=on(r.from||a,r.default,!0):c=on(r.from||a):c=on(r),Xe(c)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>c.value,set:f=>c.value=f}):e[a]=c}}function wd(t,e,s){Mi(Jt(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,s)}function Wg(t,e,s,a){let r=a.includes(".")?o_(s,a):()=>s[a];if(Ge(t)){const c=e[t];ee(c)&&se(r,c)}else if(ee(t))se(r,t.bind(s));else if(Pe(t))if(Jt(t))t.forEach(c=>Wg(c,e,s,a));else{const c=ee(t.handler)?t.handler.bind(s):e[t.handler];ee(c)&&se(r,c,t)}}function Yg(t){const e=t.type,{mixins:s,extends:a}=e,{mixins:r,optionsCache:c,config:{optionMergeStrategies:f}}=t.appContext,d=c.get(e);let g;return d?g=d:!r.length&&!s&&!a?g=e:(g={},r.length&&r.forEach(_=>Uu(g,_,f,!0)),Uu(g,e,f)),Pe(e)&&c.set(e,g),g}function Uu(t,e,s,a=!1){const{mixins:r,extends:c}=e;c&&Uu(t,c,s,!0),r&&r.forEach(f=>Uu(t,f,s,!0));for(const f in e)if(!(a&&f==="expose")){const d=z0[f]||s&&s[f];t[f]=d?d(t[f],e[f]):e[f]}return t}const z0={data:Ld,props:Ed,emits:Ed,methods:Ga,computed:Ga,beforeCreate:Mn,created:Mn,beforeMount:Mn,mounted:Mn,beforeUpdate:Mn,updated:Mn,beforeDestroy:Mn,beforeUnmount:Mn,destroyed:Mn,unmounted:Mn,activated:Mn,deactivated:Mn,errorCaptured:Mn,serverPrefetch:Mn,components:Ga,directives:Ga,watch:$0,provide:Ld,inject:U0};function Ld(t,e){return e?t?function(){return ln(ee(t)?t.call(this,this):t,ee(e)?e.call(this,this):e)}:e:t}function U0(t,e){return Ga(Ah(t),Ah(e))}function Ah(t){if(Jt(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Mn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ga(t,e){return t?ln(Object.create(null),t,e):e}function Ed(t,e){return t?Jt(t)&&Jt(e)?[...new Set([...t,...e])]:ln(Object.create(null),zu(t),zu(e??{})):e}function $0(t,e){if(!t)return e;if(!e)return t;const s=ln(Object.create(null),t);for(const a in e)s[a]=Mn(t[a],e[a]);return s}function jg(){return{app:null,config:{isNativeTag:Iy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let G0=0;function H0(t,e){return function(a,r=null){ee(a)||(a=ln({},a)),r!=null&&!Pe(r)&&(r=null);const c=jg(),f=new WeakSet,d=[];let g=!1;const _=c.app={_uid:G0++,_component:a,_props:r,_container:null,_context:c,_instance:null,version:bb,get config(){return c.config},set config(y){},use(y,...b){return f.has(y)||(y&&ee(y.install)?(f.add(y),y.install(_,...b)):ee(y)&&(f.add(y),y(_,...b))),_},mixin(y){return c.mixins.includes(y)||c.mixins.push(y),_},component(y,b){return b?(c.components[y]=b,_):c.components[y]},directive(y,b){return b?(c.directives[y]=b,_):c.directives[y]},mount(y,b,E){if(!g){const T=_._ceVNode||qt(a,r);return T.appContext=c,E===!0?E="svg":E===!1&&(E=void 0),t(T,y,E),g=!0,_._container=y,y.__vue_app__=_,Ec(T.component)}},onUnmount(y){d.push(y)},unmount(){g&&(Mi(d,_._instance,16),t(null,_._container),delete _._container.__vue_app__)},provide(y,b){return c.provides[y]=b,_},runWithContext(y){const b=zo;zo=_;try{return y()}finally{zo=b}}};return _}}let zo=null;function ts(t,e){if(En){let s=En.provides;const a=En.parent&&En.parent.provides;a===s&&(s=En.provides=Object.create(a)),s[t]=e}}function on(t,e,s=!1){const a=En||gn;if(a||zo){const r=zo?zo._context.provides:a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&ee(e)?e.call(a&&a.proxy):e}}const Xg={},Kg=()=>Object.create(Xg),Jg=t=>Object.getPrototypeOf(t)===Xg;function V0(t,e,s,a=!1){const r={},c=Kg();t.propsDefaults=Object.create(null),Qg(t,e,r,c);for(const f in t.propsOptions[0])f in r||(r[f]=void 0);s?t.props=a?r:yg(r):t.type.props?t.props=r:t.props=c,t.attrs=c}function q0(t,e,s,a){const{props:r,attrs:c,vnode:{patchFlag:f}}=t,d=oe(r),[g]=t.propsOptions;let _=!1;if((a||f>0)&&!(f&16)){if(f&8){const y=t.vnode.dynamicProps;for(let b=0;b<y.length;b++){let E=y[b];if(Lc(t.emitsOptions,E))continue;const T=e[E];if(g)if(we(c,E))T!==c[E]&&(c[E]=T,_=!0);else{const I=ri(E);r[I]=Rh(g,d,I,T,t,!1)}else T!==c[E]&&(c[E]=T,_=!0)}}}else{Qg(t,e,r,c)&&(_=!0);let y;for(const b in d)(!e||!we(e,b)&&((y=ls(b))===b||!we(e,y)))&&(g?s&&(s[b]!==void 0||s[y]!==void 0)&&(r[b]=Rh(g,d,b,void 0,t,!0)):delete r[b]);if(c!==d)for(const b in c)(!e||!we(e,b))&&(delete c[b],_=!0)}_&&Lr(t.attrs,"set","")}function Qg(t,e,s,a){const[r,c]=t.propsOptions;let f=!1,d;if(e)for(let g in e){if(Wa(g))continue;const _=e[g];let y;r&&we(r,y=ri(g))?!c||!c.includes(y)?s[y]=_:(d||(d={}))[y]=_:Lc(t.emitsOptions,g)||(!(g in a)||_!==a[g])&&(a[g]=_,f=!0)}if(c){const g=oe(s),_=d||pe;for(let y=0;y<c.length;y++){const b=c[y];s[b]=Rh(r,g,b,_[b],t,!we(_,b))}}return f}function Rh(t,e,s,a,r,c){const f=t[s];if(f!=null){const d=we(f,"default");if(d&&a===void 0){const g=f.default;if(f.type!==Function&&!f.skipFactory&&ee(g)){const{propsDefaults:_}=r;if(s in _)a=_[s];else{const y=kl(r);a=_[s]=g.call(null,e),y()}}else a=g;r.ce&&r.ce._setProp(s,a)}f[0]&&(c&&!d?a=!1:f[1]&&(a===""||a===ls(s))&&(a=!0))}return a}const Z0=new WeakMap;function t_(t,e,s=!1){const a=s?Z0:e.propsCache,r=a.get(t);if(r)return r;const c=t.props,f={},d=[];let g=!1;if(!ee(t)){const y=b=>{g=!0;const[E,T]=t_(b,e,!0);ln(f,E),T&&d.push(...T)};!s&&e.mixins.length&&e.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}if(!c&&!g)return Pe(t)&&a.set(t,Ao),Ao;if(Jt(c))for(let y=0;y<c.length;y++){const b=ri(c[y]);kd(b)&&(f[b]=pe)}else if(c)for(const y in c){const b=ri(y);if(kd(b)){const E=c[y],T=f[b]=Jt(E)||ee(E)?{type:E}:ln({},E),I=T.type;let A=!1,F=!0;if(Jt(I))for(let M=0;M<I.length;++M){const R=I[M],D=ee(R)&&R.name;if(D==="Boolean"){A=!0;break}else D==="String"&&(F=!1)}else A=ee(I)&&I.name==="Boolean";T[0]=A,T[1]=F,(A||we(T,"default"))&&d.push(b)}}const _=[f,d];return Pe(t)&&a.set(t,_),_}function kd(t){return t[0]!=="$"&&!Wa(t)}const e_=t=>t[0]==="_"||t==="$stable",Cf=t=>Jt(t)?t.map(Ki):[Ki(t)],W0=(t,e,s)=>{if(e._n)return e;const a=Ee((...r)=>Cf(e(...r)),s);return a._c=!1,a},n_=(t,e,s)=>{const a=t._ctx;for(const r in t){if(e_(r))continue;const c=t[r];if(ee(c))e[r]=W0(r,c,a);else if(c!=null){const f=Cf(c);e[r]=()=>f}}},i_=(t,e)=>{const s=Cf(e);t.slots.default=()=>s},r_=(t,e,s)=>{for(const a in e)(s||a!=="_")&&(t[a]=e[a])},Y0=(t,e,s)=>{const a=t.slots=Kg();if(t.vnode.shapeFlag&32){const r=e._;r?(r_(a,e,s),s&&Km(a,"_",r,!0)):n_(e,a)}else e&&i_(t,e)},j0=(t,e,s)=>{const{vnode:a,slots:r}=t;let c=!0,f=pe;if(a.shapeFlag&32){const d=e._;d?s&&d===1?c=!1:r_(r,e,s):(c=!e.$stable,n_(e,r)),f=e}else e&&(i_(t,e),f={default:1});if(c)for(const d in r)!e_(d)&&f[d]==null&&delete r[d]},Rn=ub;function X0(t){return K0(t)}function K0(t,e){const s=fc();s.__VUE__=!0;const{insert:a,remove:r,patchProp:c,createElement:f,createText:d,createComment:g,setText:_,setElementText:y,parentNode:b,nextSibling:E,setScopeId:T=tr,insertStaticContent:I}=t,A=(C,H,J,dt=null,mt=null,pt=null,z=void 0,P=null,j=!!H.dynamicChildren)=>{if(C===H)return;C&&!Gs(C,H)&&(dt=it(C),Gt(C,mt,pt,!0),C=null),H.patchFlag===-2&&(j=!1,H.dynamicChildren=null);const{type:st,ref:Rt,shapeFlag:yt}=H;switch(st){case El:F(C,H,J,dt);break;case Fn:M(C,H,J,dt);break;case ah:C==null&&R(H,J,dt,z);break;case ge:et(C,H,J,dt,mt,pt,z,P,j);break;default:yt&1?$(C,H,J,dt,mt,pt,z,P,j):yt&6?Q(C,H,J,dt,mt,pt,z,P,j):(yt&64||yt&128)&&st.process(C,H,J,dt,mt,pt,z,P,j,Ct)}Rt!=null&&mt&&Fu(Rt,C&&C.ref,pt,H||C,!H)},F=(C,H,J,dt)=>{if(C==null)a(H.el=d(H.children),J,dt);else{const mt=H.el=C.el;H.children!==C.children&&_(mt,H.children)}},M=(C,H,J,dt)=>{C==null?a(H.el=g(H.children||""),J,dt):H.el=C.el},R=(C,H,J,dt)=>{[C.el,C.anchor]=I(C.children,H,J,dt,C.el,C.anchor)},D=({el:C,anchor:H},J,dt)=>{let mt;for(;C&&C!==H;)mt=E(C),a(C,J,dt),C=mt;a(H,J,dt)},B=({el:C,anchor:H})=>{let J;for(;C&&C!==H;)J=E(C),r(C),C=J;r(H)},$=(C,H,J,dt,mt,pt,z,P,j)=>{H.type==="svg"?z="svg":H.type==="math"&&(z="mathml"),C==null?q(H,J,dt,mt,pt,z,P,j):K(C,H,mt,pt,z,P,j)},q=(C,H,J,dt,mt,pt,z,P)=>{let j,st;const{props:Rt,shapeFlag:yt,transition:W,dirs:ct}=C;if(j=C.el=f(C.type,pt,Rt&&Rt.is,Rt),yt&8?y(j,C.children):yt&16&&ot(C.children,j,null,dt,mt,oh(C,pt),z,P),ct&&As(C,null,dt,"created"),V(j,C,C.scopeId,z,dt),Rt){for(const Kt in Rt)Kt!=="value"&&!Wa(Kt)&&c(j,Kt,null,Rt[Kt],pt,dt);"value"in Rt&&c(j,"value",null,Rt.value,pt),(st=Rt.onVnodeBeforeMount)&&Wi(st,dt,C)}ct&&As(C,null,dt,"beforeMount");const zt=J0(mt,W);zt&&W.beforeEnter(j),a(j,H,J),((st=Rt&&Rt.onVnodeMounted)||zt||ct)&&Rn(()=>{st&&Wi(st,dt,C),zt&&W.enter(j),ct&&As(C,null,dt,"mounted")},mt)},V=(C,H,J,dt,mt)=>{if(J&&T(C,J),dt)for(let pt=0;pt<dt.length;pt++)T(C,dt[pt]);if(mt){let pt=mt.subTree;if(H===pt||u_(pt.type)&&(pt.ssContent===H||pt.ssFallback===H)){const z=mt.vnode;V(C,z,z.scopeId,z.slotScopeIds,mt.parent)}}},ot=(C,H,J,dt,mt,pt,z,P,j=0)=>{for(let st=j;st<C.length;st++){const Rt=C[st]=P?Xr(C[st]):Ki(C[st]);A(null,Rt,H,J,dt,mt,pt,z,P)}},K=(C,H,J,dt,mt,pt,z)=>{const P=H.el=C.el;let{patchFlag:j,dynamicChildren:st,dirs:Rt}=H;j|=C.patchFlag&16;const yt=C.props||pe,W=H.props||pe;let ct;if(J&&Rs(J,!1),(ct=W.onVnodeBeforeUpdate)&&Wi(ct,J,H,C),Rt&&As(H,C,J,"beforeUpdate"),J&&Rs(J,!0),(yt.innerHTML&&W.innerHTML==null||yt.textContent&&W.textContent==null)&&y(P,""),st?lt(C.dynamicChildren,st,P,J,dt,oh(H,mt),pt):z||ft(C,H,P,null,J,dt,oh(H,mt),pt,!1),j>0){if(j&16)Lt(P,yt,W,J,mt);else if(j&2&&yt.class!==W.class&&c(P,"class",null,W.class,mt),j&4&&c(P,"style",yt.style,W.style,mt),j&8){const zt=H.dynamicProps;for(let Kt=0;Kt<zt.length;Kt++){const Nt=zt[Kt],Ue=yt[Nt],Wt=W[Nt];(Wt!==Ue||Nt==="value")&&c(P,Nt,Ue,Wt,mt,J)}}j&1&&C.children!==H.children&&y(P,H.children)}else!z&&st==null&&Lt(P,yt,W,J,mt);((ct=W.onVnodeUpdated)||Rt)&&Rn(()=>{ct&&Wi(ct,J,H,C),Rt&&As(H,C,J,"updated")},dt)},lt=(C,H,J,dt,mt,pt,z)=>{for(let P=0;P<H.length;P++){const j=C[P],st=H[P],Rt=j.el&&(j.type===ge||!Gs(j,st)||j.shapeFlag&70)?b(j.el):J;A(j,st,Rt,null,dt,mt,pt,z,!0)}},Lt=(C,H,J,dt,mt)=>{if(H!==J){if(H!==pe)for(const pt in H)!Wa(pt)&&!(pt in J)&&c(C,pt,H[pt],null,mt,dt);for(const pt in J){if(Wa(pt))continue;const z=J[pt],P=H[pt];z!==P&&pt!=="value"&&c(C,pt,P,z,mt,dt)}"value"in J&&c(C,"value",H.value,J.value,mt)}},et=(C,H,J,dt,mt,pt,z,P,j)=>{const st=H.el=C?C.el:d(""),Rt=H.anchor=C?C.anchor:d("");let{patchFlag:yt,dynamicChildren:W,slotScopeIds:ct}=H;ct&&(P=P?P.concat(ct):ct),C==null?(a(st,J,dt),a(Rt,J,dt),ot(H.children||[],J,Rt,mt,pt,z,P,j)):yt>0&&yt&64&&W&&C.dynamicChildren?(lt(C.dynamicChildren,W,J,mt,pt,z,P),(H.key!=null||mt&&H===mt.subTree)&&Sf(C,H,!0)):ft(C,H,J,Rt,mt,pt,z,P,j)},Q=(C,H,J,dt,mt,pt,z,P,j)=>{H.slotScopeIds=P,C==null?H.shapeFlag&512?mt.ctx.activate(H,J,dt,z,j):Y(H,J,dt,mt,pt,z,j):gt(C,H,j)},Y=(C,H,J,dt,mt,pt,z)=>{const P=C.component=pb(C,dt,mt);if(vc(C)&&(P.ctx.renderer=Ct),mb(P,!1,z),P.asyncDep){if(mt&&mt.registerDep(P,vt,z),!C.el){const j=P.subTree=qt(Fn);M(null,j,H,J)}}else vt(P,C,H,J,mt,pt,z)},gt=(C,H,J)=>{const dt=H.component=C.component;if(ab(C,H,J))if(dt.asyncDep&&!dt.asyncResolved){Et(dt,H,J);return}else dt.next=H,dt.update();else H.el=C.el,dt.vnode=H},vt=(C,H,J,dt,mt,pt,z)=>{const P=()=>{if(C.isMounted){let{next:yt,bu:W,u:ct,parent:zt,vnode:Kt}=C;{const Cn=s_(C);if(Cn){yt&&(yt.el=Kt.el,Et(C,yt,z)),Cn.asyncDep.then(()=>{C.isUnmounted||P()});return}}let Nt=yt,Ue;Rs(C,!1),yt?(yt.el=Kt.el,Et(C,yt,z)):yt=Kt,W&&vu(W),(Ue=yt.props&&yt.props.onVnodeBeforeUpdate)&&Wi(Ue,zt,yt,Kt),Rs(C,!0);const Wt=Td(C),Zt=C.subTree;C.subTree=Wt,A(Zt,Wt,b(Zt.el),it(Zt),C,mt,pt),yt.el=Wt.el,Nt===null&&lb(C,Wt.el),ct&&Rn(ct,mt),(Ue=yt.props&&yt.props.onVnodeUpdated)&&Rn(()=>Wi(Ue,zt,yt,Kt),mt)}else{let yt;const{el:W,props:ct}=H,{bm:zt,m:Kt,parent:Nt,root:Ue,type:Wt}=C,Zt=Fo(H);Rs(C,!1),zt&&vu(zt),!Zt&&(yt=ct&&ct.onVnodeBeforeMount)&&Wi(yt,Nt,H),Rs(C,!0);{Ue.ce&&Ue.ce._injectChildStyle(Wt);const Cn=C.subTree=Td(C);A(null,Cn,J,dt,C,mt,pt),H.el=Cn.el}if(Kt&&Rn(Kt,mt),!Zt&&(yt=ct&&ct.onVnodeMounted)){const Cn=H;Rn(()=>Wi(yt,Nt,Cn),mt)}(H.shapeFlag&256||Nt&&Fo(Nt.vnode)&&Nt.vnode.shapeFlag&256)&&C.a&&Rn(C.a,mt),C.isMounted=!0,H=J=dt=null}};C.scope.on();const j=C.effect=new ig(P);C.scope.off();const st=C.update=j.run.bind(j),Rt=C.job=j.runIfDirty.bind(j);Rt.i=C,Rt.id=C.uid,j.scheduler=()=>xf(Rt),Rs(C,!0),st()},Et=(C,H,J)=>{H.component=C;const dt=C.vnode.props;C.vnode=H,C.next=null,q0(C,H.props,dt,J),j0(C,H.children,J),us(),md(C),cs()},ft=(C,H,J,dt,mt,pt,z,P,j=!1)=>{const st=C&&C.children,Rt=C?C.shapeFlag:0,yt=H.children,{patchFlag:W,shapeFlag:ct}=H;if(W>0){if(W&128){at(st,yt,J,dt,mt,pt,z,P,j);return}else if(W&256){Pt(st,yt,J,dt,mt,pt,z,P,j);return}}ct&8?(Rt&16&&Tt(st,mt,pt),yt!==st&&y(J,yt)):Rt&16?ct&16?at(st,yt,J,dt,mt,pt,z,P,j):Tt(st,mt,pt,!0):(Rt&8&&y(J,""),ct&16&&ot(yt,J,dt,mt,pt,z,P,j))},Pt=(C,H,J,dt,mt,pt,z,P,j)=>{C=C||Ao,H=H||Ao;const st=C.length,Rt=H.length,yt=Math.min(st,Rt);let W;for(W=0;W<yt;W++){const ct=H[W]=j?Xr(H[W]):Ki(H[W]);A(C[W],ct,J,null,mt,pt,z,P,j)}st>Rt?Tt(C,mt,pt,!0,!1,yt):ot(H,J,dt,mt,pt,z,P,j,yt)},at=(C,H,J,dt,mt,pt,z,P,j)=>{let st=0;const Rt=H.length;let yt=C.length-1,W=Rt-1;for(;st<=yt&&st<=W;){const ct=C[st],zt=H[st]=j?Xr(H[st]):Ki(H[st]);if(Gs(ct,zt))A(ct,zt,J,null,mt,pt,z,P,j);else break;st++}for(;st<=yt&&st<=W;){const ct=C[yt],zt=H[W]=j?Xr(H[W]):Ki(H[W]);if(Gs(ct,zt))A(ct,zt,J,null,mt,pt,z,P,j);else break;yt--,W--}if(st>yt){if(st<=W){const ct=W+1,zt=ct<Rt?H[ct].el:dt;for(;st<=W;)A(null,H[st]=j?Xr(H[st]):Ki(H[st]),J,zt,mt,pt,z,P,j),st++}}else if(st>W)for(;st<=yt;)Gt(C[st],mt,pt,!0),st++;else{const ct=st,zt=st,Kt=new Map;for(st=zt;st<=W;st++){const Ht=H[st]=j?Xr(H[st]):Ki(H[st]);Ht.key!=null&&Kt.set(Ht.key,st)}let Nt,Ue=0;const Wt=W-zt+1;let Zt=!1,Cn=0;const un=new Array(Wt);for(st=0;st<Wt;st++)un[st]=0;for(st=ct;st<=yt;st++){const Ht=C[st];if(Ue>=Wt){Gt(Ht,mt,pt,!0);continue}let $n;if(Ht.key!=null)$n=Kt.get(Ht.key);else for(Nt=zt;Nt<=W;Nt++)if(un[Nt-zt]===0&&Gs(Ht,H[Nt])){$n=Nt;break}$n===void 0?Gt(Ht,mt,pt,!0):(un[$n-zt]=st+1,$n>=Cn?Cn=$n:Zt=!0,A(Ht,H[$n],J,null,mt,pt,z,P,j),Ue++)}const Nr=Zt?Q0(un):Ao;for(Nt=Nr.length-1,st=Wt-1;st>=0;st--){const Ht=zt+st,$n=H[Ht],Fi=Ht+1<Rt?H[Ht+1].el:dt;un[st]===0?A(null,$n,J,Fi,mt,pt,z,P,j):Zt&&(Nt<0||st!==Nr[Nt]?Dt($n,J,Fi,2):Nt--)}}},Dt=(C,H,J,dt,mt=null)=>{const{el:pt,type:z,transition:P,children:j,shapeFlag:st}=C;if(st&6){Dt(C.component.subTree,H,J,dt);return}if(st&128){C.suspense.move(H,J,dt);return}if(st&64){z.move(C,H,J,Ct);return}if(z===ge){a(pt,H,J);for(let yt=0;yt<j.length;yt++)Dt(j[yt],H,J,dt);a(C.anchor,H,J);return}if(z===ah){D(C,H,J);return}if(dt!==2&&st&1&&P)if(dt===0)P.beforeEnter(pt),a(pt,H,J),Rn(()=>P.enter(pt),mt);else{const{leave:yt,delayLeave:W,afterLeave:ct}=P,zt=()=>a(pt,H,J),Kt=()=>{yt(pt,()=>{zt(),ct&&ct()})};W?W(pt,zt,Kt):Kt()}else a(pt,H,J)},Gt=(C,H,J,dt=!1,mt=!1)=>{const{type:pt,props:z,ref:P,children:j,dynamicChildren:st,shapeFlag:Rt,patchFlag:yt,dirs:W,cacheIndex:ct}=C;if(yt===-2&&(mt=!1),P!=null&&Fu(P,null,J,C,!0),ct!=null&&(H.renderCache[ct]=void 0),Rt&256){H.ctx.deactivate(C);return}const zt=Rt&1&&W,Kt=!Fo(C);let Nt;if(Kt&&(Nt=z&&z.onVnodeBeforeUnmount)&&Wi(Nt,H,C),Rt&6)bt(C.component,J,dt);else{if(Rt&128){C.suspense.unmount(J,dt);return}zt&&As(C,null,H,"beforeUnmount"),Rt&64?C.type.remove(C,H,J,Ct,dt):st&&!st.hasOnce&&(pt!==ge||yt>0&&yt&64)?Tt(st,H,J,!1,!0):(pt===ge&&yt&384||!mt&&Rt&16)&&Tt(j,H,J),dt&&Bt(C)}(Kt&&(Nt=z&&z.onVnodeUnmounted)||zt)&&Rn(()=>{Nt&&Wi(Nt,H,C),zt&&As(C,null,H,"unmounted")},J)},Bt=C=>{const{type:H,el:J,anchor:dt,transition:mt}=C;if(H===ge){It(J,dt);return}if(H===ah){B(C);return}const pt=()=>{r(J),mt&&!mt.persisted&&mt.afterLeave&&mt.afterLeave()};if(C.shapeFlag&1&&mt&&!mt.persisted){const{leave:z,delayLeave:P}=mt,j=()=>z(J,pt);P?P(C.el,pt,j):j()}else pt()},It=(C,H)=>{let J;for(;C!==H;)J=E(C),r(C),C=J;r(H)},bt=(C,H,J)=>{const{bum:dt,scope:mt,job:pt,subTree:z,um:P,m:j,a:st}=C;xd(j),xd(st),dt&&vu(dt),mt.stop(),pt&&(pt.flags|=8,Gt(z,C,H,J)),P&&Rn(P,H),Rn(()=>{C.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},Tt=(C,H,J,dt=!1,mt=!1,pt=0)=>{for(let z=pt;z<C.length;z++)Gt(C[z],H,J,dt,mt)},it=C=>{if(C.shapeFlag&6)return it(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const H=E(C.anchor||C.el),J=H&&H[Sg];return J?E(J):H};let G=!1;const kt=(C,H,J)=>{C==null?H._vnode&&Gt(H._vnode,null,null,!0):A(H._vnode||null,C,H,null,null,null,J),H._vnode=C,G||(G=!0,md(),xg(),G=!1)},Ct={p:A,um:Gt,m:Dt,r:Bt,mt:Y,mc:ot,pc:ft,pbc:lt,n:it,o:t};return{render:kt,hydrate:void 0,createApp:H0(kt)}}function oh({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Rs({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function J0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Sf(t,e,s=!1){const a=t.children,r=e.children;if(Jt(a)&&Jt(r))for(let c=0;c<a.length;c++){const f=a[c];let d=r[c];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=r[c]=Xr(r[c]),d.el=f.el),!s&&d.patchFlag!==-2&&Sf(f,d)),d.type===El&&(d.el=f.el)}}function Q0(t){const e=t.slice(),s=[0];let a,r,c,f,d;const g=t.length;for(a=0;a<g;a++){const _=t[a];if(_!==0){if(r=s[s.length-1],t[r]<_){e[a]=r,s.push(a);continue}for(c=0,f=s.length-1;c<f;)d=c+f>>1,t[s[d]]<_?c=d+1:f=d;_<t[s[c]]&&(c>0&&(e[a]=s[c-1]),s[c]=a)}}for(c=s.length,f=s[c-1];c-- >0;)s[c]=f,f=e[f];return s}function s_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:s_(e)}function xd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const tb=Symbol.for("v-scx"),eb=()=>on(tb);function es(t,e){return bc(t,null,e)}function nb(t,e){return bc(t,null,{flush:"sync"})}function se(t,e,s){return bc(t,e,s)}function bc(t,e,s=pe){const{immediate:a,deep:r,flush:c,once:f}=s,d=ln({},s),g=e&&a||!e&&c!=="post";let _;if(cl){if(c==="sync"){const T=eb();_=T.__watcherHandles||(T.__watcherHandles=[])}else if(!g){const T=()=>{};return T.stop=tr,T.resume=tr,T.pause=tr,T}}const y=En;d.call=(T,I,A)=>Mi(T,y,I,A);let b=!1;c==="post"?d.scheduler=T=>{Rn(T,y&&y.suspense)}:c!=="sync"&&(b=!0,d.scheduler=(T,I)=>{I?T():xf(T)}),d.augmentJob=T=>{e&&(T.flags|=4),b&&(T.flags|=2,y&&(T.id=y.uid,T.i=y))};const E=g0(t,e,d);return cl&&(_?_.push(E):g&&E()),E}function ib(t,e,s){const a=this.proxy,r=Ge(t)?t.includes(".")?o_(a,t):()=>a[t]:t.bind(a,a);let c;ee(e)?c=e:(c=e.handler,s=e);const f=kl(this),d=bc(r,c.bind(a),s);return f(),d}function o_(t,e){const s=e.split(".");return()=>{let a=t;for(let r=0;r<s.length&&a;r++)a=a[s[r]];return a}}function wc(t,e,s=pe){const a=jn(),r=ri(e),c=ls(e),f=a_(t,r),d=Lg((g,_)=>{let y,b=pe,E;return nb(()=>{const T=t[r];Zn(y,T)&&(y=T,_())}),{get(){return g(),s.get?s.get(y):y},set(T){const I=s.set?s.set(T):T;if(!Zn(I,y)&&!(b!==pe&&Zn(T,b)))return;const A=a.vnode.props;A&&(e in A||r in A||c in A)&&(`onUpdate:${e}`in A||`onUpdate:${r}`in A||`onUpdate:${c}`in A)||(y=T,_()),a.emit(`update:${e}`,I),Zn(T,I)&&Zn(T,b)&&!Zn(I,E)&&_(),b=T,E=I}}});return d[Symbol.iterator]=()=>{let g=0;return{next(){return g<2?{value:g++?f||pe:d,done:!1}:{done:!0}}}},d}const a_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ri(e)}Modifiers`]||t[`${ls(e)}Modifiers`];function rb(t,e,...s){if(t.isUnmounted)return;const a=t.vnode.props||pe;let r=s;const c=e.startsWith("update:"),f=c&&a_(a,e.slice(7));f&&(f.trim&&(r=s.map(y=>Ge(y)?y.trim():y)),f.number&&(r=s.map(Ou)));let d,g=a[d=Qc(e)]||a[d=Qc(ri(e))];!g&&c&&(g=a[d=Qc(ls(e))]),g&&Mi(g,t,6,r);const _=a[d+"Once"];if(_){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,Mi(_,t,6,r)}}function l_(t,e,s=!1){const a=e.emitsCache,r=a.get(t);if(r!==void 0)return r;const c=t.emits;let f={},d=!1;if(!ee(t)){const g=_=>{const y=l_(_,e,!0);y&&(d=!0,ln(f,y))};!s&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}return!c&&!d?(Pe(t)&&a.set(t,null),null):(Jt(c)?c.forEach(g=>f[g]=null):ln(f,c),Pe(t)&&a.set(t,f),f)}function Lc(t,e){return!t||!uc(e)?!1:(e=e.slice(2).replace(/Once$/,""),we(t,e[0].toLowerCase()+e.slice(1))||we(t,ls(e))||we(t,e))}function Td(t){const{type:e,vnode:s,proxy:a,withProxy:r,propsOptions:[c],slots:f,attrs:d,emit:g,render:_,renderCache:y,props:b,data:E,setupState:T,ctx:I,inheritAttrs:A}=t,F=Bu(t);let M,R;try{if(s.shapeFlag&4){const B=r||a,$=B;M=Ki(_.call($,B,y,b,T,E,I)),R=d}else{const B=e;M=Ki(B.length>1?B(b,{attrs:d,slots:f,emit:g}):B(b,null)),R=e.props?d:sb(d)}}catch(B){Ja.length=0,_c(B,t,1),M=qt(Fn)}let D=M;if(R&&A!==!1){const B=Object.keys(R),{shapeFlag:$}=D;B.length&&$&7&&(c&&B.some(gf)&&(R=ob(R,c)),D=Ir(D,R,!1,!0))}return s.dirs&&(D=Ir(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&ll(D,s.transition),M=D,Bu(F),M}const sb=t=>{let e;for(const s in t)(s==="class"||s==="style"||uc(s))&&((e||(e={}))[s]=t[s]);return e},ob=(t,e)=>{const s={};for(const a in t)(!gf(a)||!(a.slice(9)in e))&&(s[a]=t[a]);return s};function ab(t,e,s){const{props:a,children:r,component:c}=t,{props:f,children:d,patchFlag:g}=e,_=c.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&g>=0){if(g&1024)return!0;if(g&16)return a?Cd(a,f,_):!!f;if(g&8){const y=e.dynamicProps;for(let b=0;b<y.length;b++){const E=y[b];if(f[E]!==a[E]&&!Lc(_,E))return!0}}}else return(r||d)&&(!d||!d.$stable)?!0:a===f?!1:a?f?Cd(a,f,_):!0:!!f;return!1}function Cd(t,e,s){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let r=0;r<a.length;r++){const c=a[r];if(e[c]!==t[c]&&!Lc(s,c))return!0}return!1}function lb({vnode:t,parent:e},s){for(;e;){const a=e.subTree;if(a.suspense&&a.suspense.activeBranch===t&&(a.el=t.el),a===t)(t=e.vnode).el=s,e=e.parent;else break}}const u_=t=>t.__isSuspense;function ub(t,e){e&&e.pendingBranch?Jt(t)?e.effects.push(...t):e.effects.push(t):y0(t)}const ge=Symbol.for("v-fgt"),El=Symbol.for("v-txt"),Fn=Symbol.for("v-cmt"),ah=Symbol.for("v-stc"),Ja=[];let ni=null;function At(t=!1){Ja.push(ni=t?null:[])}function cb(){Ja.pop(),ni=Ja[Ja.length-1]||null}let ul=1;function Sd(t,e=!1){ul+=t,t<0&&ni&&e&&(ni.hasOnce=!0)}function c_(t){return t.dynamicChildren=ul>0?ni||Ao:null,cb(),ul>0&&ni&&ni.push(t),t}function jt(t,e,s,a,r,c){return c_(_t(t,e,s,a,r,c,!0))}function Fe(t,e,s,a,r){return c_(qt(t,e,s,a,r,!0))}function js(t){return t?t.__v_isVNode===!0:!1}function Gs(t,e){return t.type===e.type&&t.key===e.key}const h_=({key:t})=>t??null,bu=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||Xe(t)||ee(t)?{i:gn,r:t,k:e,f:!!s}:t:null);function _t(t,e=null,s=null,a=0,r=null,c=t===ge?0:1,f=!1,d=!1){const g={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&h_(e),ref:e&&bu(e),scopeId:Cg,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:gn};return d?(If(g,s),c&128&&t.normalize(g)):s&&(g.shapeFlag|=Ge(s)?8:16),ul>0&&!f&&ni&&(g.patchFlag>0||c&6)&&g.patchFlag!==32&&ni.push(g),g}const qt=hb;function hb(t,e=null,s=null,a=0,r=null,c=!1){if((!t||t===$g)&&(t=Fn),js(t)){const d=Ir(t,e,!0);return s&&If(d,s),ul>0&&!c&&ni&&(d.shapeFlag&6?ni[ni.indexOf(t)]=d:ni.push(d)),d.patchFlag=-2,d}if(yb(t)&&(t=t.__vccOpts),e){e=br(e);let{class:d,style:g}=e;d&&!Ge(d)&&(e.class=Be(d)),Pe(g)&&(kf(g)&&!Jt(g)&&(g=ln({},g)),e.style=to(g))}const f=Ge(t)?1:u_(t)?128:Ig(t)?64:Pe(t)?4:ee(t)?2:0;return _t(t,e,s,a,r,f,c,!0)}function br(t){return t?kf(t)||Jg(t)?ln({},t):t:null}function Ir(t,e,s=!1,a=!1){const{props:r,ref:c,patchFlag:f,children:d,transition:g}=t,_=e?ze(r||{},e):r,y={__v_isVNode:!0,__v_skip:!0,type:t.type,props:_,key:_&&h_(_),ref:e&&e.ref?s&&c?Jt(c)?c.concat(bu(e)):[c,bu(e)]:bu(e):c,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:d,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ge?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:g,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ir(t.ssContent),ssFallback:t.ssFallback&&Ir(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return g&&a&&ll(y,g.clone(y)),y}function tn(t=" ",e=0){return qt(El,null,t,e)}function Je(t="",e=!1){return e?(At(),Fe(Fn,null,t)):qt(Fn,null,t)}function Ki(t){return t==null||typeof t=="boolean"?qt(Fn):Jt(t)?qt(ge,null,t.slice()):js(t)?Xr(t):qt(El,null,String(t))}function Xr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ir(t)}function If(t,e){let s=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(Jt(e))s=16;else if(typeof e=="object")if(a&65){const r=e.default;r&&(r._c&&(r._d=!1),If(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!Jg(e)?e._ctx=gn:r===3&&gn&&(gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ee(e)?(e={default:e,_ctx:gn},s=32):(e=String(e),a&64?(s=16,e=[tn(e)]):s=8);t.children=e,t.shapeFlag|=s}function ze(...t){const e={};for(let s=0;s<t.length;s++){const a=t[s];for(const r in a)if(r==="class")e.class!==a.class&&(e.class=Be([e.class,a.class]));else if(r==="style")e.style=to([e.style,a.style]);else if(uc(r)){const c=e[r],f=a[r];f&&c!==f&&!(Jt(c)&&c.includes(f))&&(e[r]=c?[].concat(c,f):f)}else r!==""&&(e[r]=a[r])}return e}function Wi(t,e,s,a=null){Mi(t,e,7,[s,a])}const fb=jg();let db=0;function pb(t,e,s){const a=t.type,r=(e?e.appContext:t.appContext)||fb,c={uid:db++,vnode:t,type:a,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new eg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:t_(a,r),emitsOptions:l_(a,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:a.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=e?e.root:c,c.emit=rb.bind(null,c),t.ce&&t.ce(c),c}let En=null;const jn=()=>En||gn;let $u,Dh;{const t=fc(),e=(s,a)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(a),c=>{r.length>1?r.forEach(f=>f(c)):r[0](c)}};$u=e("__VUE_INSTANCE_SETTERS__",s=>En=s),Dh=e("__VUE_SSR_SETTERS__",s=>cl=s)}const kl=t=>{const e=En;return $u(t),t.scope.on(),()=>{t.scope.off(),$u(e)}},Id=()=>{En&&En.scope.off(),$u(null)};function f_(t){return t.vnode.shapeFlag&4}let cl=!1;function mb(t,e=!1,s=!1){e&&Dh(e);const{props:a,children:r}=t.vnode,c=f_(t);V0(t,a,c,e),Y0(t,r,s);const f=c?gb(t,e):void 0;return e&&Dh(!1),f}function gb(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,D0);const{setup:a}=s;if(a){us();const r=t.setupContext=a.length>1?p_(t):null,c=kl(t),f=Ll(a,t,0,[t.props,r]),d=Ym(f);if(cs(),c(),(d||t.sp)&&!Fo(t)&&Fg(t),d){if(f.then(Id,Id),e)return f.then(g=>{Pd(t,g)}).catch(g=>{_c(g,t,0)});t.asyncDep=f}else Pd(t,f)}else d_(t)}function Pd(t,e,s){ee(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=wg(e)),d_(t)}function d_(t,e,s){const a=t.type;t.render||(t.render=a.render||tr);{const r=kl(t);us();try{B0(t)}finally{cs(),r()}}}const _b={get(t,e){return xn(t,"get",""),t[e]}};function p_(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,_b),slots:t.slots,emit:t.emit,expose:e}}function Ec(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(wg(Qr(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ka)return Ka[s](t)},has(e,s){return s in e||s in Ka}})):t.proxy}function vb(t,e=!0){return ee(t)?t.displayName||t.name:t.name||e&&t.__name}function yb(t){return ee(t)&&"__vccOpts"in t}const ht=(t,e)=>p0(t,e,cl);function Ii(t,e,s){const a=arguments.length;return a===2?Pe(e)&&!Jt(e)?js(e)?qt(t,null,[e]):qt(t,e):qt(t,null,e):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&js(s)&&(s=[s]),qt(t,e,s))}const bb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bh;const Nd=typeof window<"u"&&window.trustedTypes;if(Nd)try{Bh=Nd.createPolicy("vue",{createHTML:t=>t})}catch{}const m_=Bh?t=>Bh.createHTML(t):t=>t,wb="http://www.w3.org/2000/svg",Lb="http://www.w3.org/1998/Math/MathML",yr=typeof document<"u"?document:null,Od=yr&&yr.createElement("template"),Eb={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,a)=>{const r=e==="svg"?yr.createElementNS(wb,t):e==="mathml"?yr.createElementNS(Lb,t):s?yr.createElement(t,{is:s}):yr.createElement(t);return t==="select"&&a&&a.multiple!=null&&r.setAttribute("multiple",a.multiple),r},createText:t=>yr.createTextNode(t),createComment:t=>yr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,a,r,c){const f=s?s.previousSibling:e.lastChild;if(r&&(r===c||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===c||!(r=r.nextSibling)););else{Od.innerHTML=m_(a==="svg"?`<svg>${t}</svg>`:a==="mathml"?`<math>${t}</math>`:t);const d=Od.content;if(a==="svg"||a==="mathml"){const g=d.firstChild;for(;g.firstChild;)d.appendChild(g.firstChild);d.removeChild(g)}e.insertBefore(d,s)}return[f?f.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Hr="transition",Ra="animation",hl=Symbol("_vtc"),g_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kb=ln({},Og,g_),xb=t=>(t.displayName="Transition",t.props=kb,t),Gu=xb((t,{slots:e})=>Ii(k0,Tb(t),e)),Ds=(t,e=[])=>{Jt(t)?t.forEach(s=>s(...e)):t&&t(...e)},Md=t=>t?Jt(t)?t.some(e=>e.length>1):t.length>1:!1;function Tb(t){const e={};for(const et in t)et in g_||(e[et]=t[et]);if(t.css===!1)return e;const{name:s="v",type:a,duration:r,enterFromClass:c=`${s}-enter-from`,enterActiveClass:f=`${s}-enter-active`,enterToClass:d=`${s}-enter-to`,appearFromClass:g=c,appearActiveClass:_=f,appearToClass:y=d,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:E=`${s}-leave-active`,leaveToClass:T=`${s}-leave-to`}=t,I=Cb(r),A=I&&I[0],F=I&&I[1],{onBeforeEnter:M,onEnter:R,onEnterCancelled:D,onLeave:B,onLeaveCancelled:$,onBeforeAppear:q=M,onAppear:V=R,onAppearCancelled:ot=D}=e,K=(et,Q,Y,gt)=>{et._enterCancelled=gt,Bs(et,Q?y:d),Bs(et,Q?_:f),Y&&Y()},lt=(et,Q)=>{et._isLeaving=!1,Bs(et,b),Bs(et,T),Bs(et,E),Q&&Q()},Lt=et=>(Q,Y)=>{const gt=et?V:R,vt=()=>K(Q,et,Y);Ds(gt,[Q,vt]),Ad(()=>{Bs(Q,et?g:c),mr(Q,et?y:d),Md(gt)||Rd(Q,a,A,vt)})};return ln(e,{onBeforeEnter(et){Ds(M,[et]),mr(et,c),mr(et,f)},onBeforeAppear(et){Ds(q,[et]),mr(et,g),mr(et,_)},onEnter:Lt(!1),onAppear:Lt(!0),onLeave(et,Q){et._isLeaving=!0;const Y=()=>lt(et,Q);mr(et,b),et._enterCancelled?(mr(et,E),Fd()):(Fd(),mr(et,E)),Ad(()=>{et._isLeaving&&(Bs(et,b),mr(et,T),Md(B)||Rd(et,a,F,Y))}),Ds(B,[et,Y])},onEnterCancelled(et){K(et,!1,void 0,!0),Ds(D,[et])},onAppearCancelled(et){K(et,!0,void 0,!0),Ds(ot,[et])},onLeaveCancelled(et){lt(et),Ds($,[et])}})}function Cb(t){if(t==null)return null;if(Pe(t))return[lh(t.enter),lh(t.leave)];{const e=lh(t);return[e,e]}}function lh(t){return Ay(t)}function mr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[hl]||(t[hl]=new Set)).add(e)}function Bs(t,e){e.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const s=t[hl];s&&(s.delete(e),s.size||(t[hl]=void 0))}function Ad(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Sb=0;function Rd(t,e,s,a){const r=t._endId=++Sb,c=()=>{r===t._endId&&a()};if(s!=null)return setTimeout(c,s);const{type:f,timeout:d,propCount:g}=Ib(t,e);if(!f)return a();const _=f+"end";let y=0;const b=()=>{t.removeEventListener(_,E),c()},E=T=>{T.target===t&&++y>=g&&b()};setTimeout(()=>{y<g&&b()},d+1),t.addEventListener(_,E)}function Ib(t,e){const s=window.getComputedStyle(t),a=I=>(s[I]||"").split(", "),r=a(`${Hr}Delay`),c=a(`${Hr}Duration`),f=Dd(r,c),d=a(`${Ra}Delay`),g=a(`${Ra}Duration`),_=Dd(d,g);let y=null,b=0,E=0;e===Hr?f>0&&(y=Hr,b=f,E=c.length):e===Ra?_>0&&(y=Ra,b=_,E=g.length):(b=Math.max(f,_),y=b>0?f>_?Hr:Ra:null,E=y?y===Hr?c.length:g.length:0);const T=y===Hr&&/\b(transform|all)(,|$)/.test(a(`${Hr}Property`).toString());return{type:y,timeout:b,propCount:E,hasTransform:T}}function Dd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,a)=>Bd(s)+Bd(t[a])))}function Bd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Fd(){return document.body.offsetHeight}function Pb(t,e,s){const a=t[hl];a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Hu=Symbol("_vod"),__=Symbol("_vsh"),Vu={beforeMount(t,{value:e},{transition:s}){t[Hu]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Da(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:a}){!e!=!s&&(a?e?(a.beforeEnter(t),Da(t,!0),a.enter(t)):a.leave(t,()=>{Da(t,!1)}):Da(t,e))},beforeUnmount(t,{value:e}){Da(t,e)}};function Da(t,e){t.style.display=e?t[Hu]:"none",t[__]=!e}const Nb=Symbol(""),Ob=/(^|;)\s*display\s*:/;function Mb(t,e,s){const a=t.style,r=Ge(s);let c=!1;if(s&&!r){if(e)if(Ge(e))for(const f of e.split(";")){const d=f.slice(0,f.indexOf(":")).trim();s[d]==null&&wu(a,d,"")}else for(const f in e)s[f]==null&&wu(a,f,"");for(const f in s)f==="display"&&(c=!0),wu(a,f,s[f])}else if(r){if(e!==s){const f=a[Nb];f&&(s+=";"+f),a.cssText=s,c=Ob.test(s)}}else e&&t.removeAttribute("style");Hu in t&&(t[Hu]=c?a.display:"",t[__]&&(a.display="none"))}const zd=/\s*!important$/;function wu(t,e,s){if(Jt(s))s.forEach(a=>wu(t,e,a));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const a=Ab(t,e);zd.test(s)?t.setProperty(ls(a),s.replace(zd,""),"important"):t[a]=s}}const Ud=["Webkit","Moz","ms"],uh={};function Ab(t,e){const s=uh[e];if(s)return s;let a=ri(e);if(a!=="filter"&&a in t)return uh[e]=a;a=hc(a);for(let r=0;r<Ud.length;r++){const c=Ud[r]+a;if(c in t)return uh[e]=c}return e}const $d="http://www.w3.org/1999/xlink";function Gd(t,e,s,a,r,c=Uy(e)){a&&e.startsWith("xlink:")?s==null?t.removeAttributeNS($d,e.slice(6,e.length)):t.setAttributeNS($d,e,s):s==null||c&&!Jm(s)?t.removeAttribute(e):t.setAttribute(e,c?"":Oi(s)?String(s):s)}function Hd(t,e,s,a,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?m_(s):s);return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){const d=c==="OPTION"?t.getAttribute("value")||"":t.value,g=s==null?t.type==="checkbox"?"on":"":String(s);(d!==g||!("_value"in t))&&(t.value=g),s==null&&t.removeAttribute(e),t._value=s;return}let f=!1;if(s===""||s==null){const d=typeof t[e];d==="boolean"?s=Jm(s):s==null&&d==="string"?(s="",f=!0):d==="number"&&(s=0,f=!0)}try{t[e]=s}catch{}f&&t.removeAttribute(r||e)}function kr(t,e,s,a){t.addEventListener(e,s,a)}function Rb(t,e,s,a){t.removeEventListener(e,s,a)}const Vd=Symbol("_vei");function Db(t,e,s,a,r=null){const c=t[Vd]||(t[Vd]={}),f=c[e];if(a&&f)f.value=a;else{const[d,g]=Bb(e);if(a){const _=c[e]=Ub(a,r);kr(t,d,_,g)}else f&&(Rb(t,d,f,g),c[e]=void 0)}}const qd=/(?:Once|Passive|Capture)$/;function Bb(t){let e;if(qd.test(t)){e={};let a;for(;a=t.match(qd);)t=t.slice(0,t.length-a[0].length),e[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ls(t.slice(2)),e]}let ch=0;const Fb=Promise.resolve(),zb=()=>ch||(Fb.then(()=>ch=0),ch=Date.now());function Ub(t,e){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Mi($b(a,s.value),e,5,[a])};return s.value=t,s.attached=zb(),s}function $b(t,e){if(Jt(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(a=>r=>!r._stopped&&a&&a(r))}else return e}const Zd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Gb=(t,e,s,a,r,c)=>{const f=r==="svg";e==="class"?Pb(t,a,f):e==="style"?Mb(t,s,a):uc(e)?gf(e)||Db(t,e,s,a,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Hb(t,e,a,f))?(Hd(t,e,a),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Gd(t,e,a,f,c,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(a))?Hd(t,ri(e),a,c,e):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),Gd(t,e,a,f))};function Hb(t,e,s,a){if(a)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zd(e)&&ee(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Zd(e)&&Ge(s)?!1:e in t}const is=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Jt(e)?s=>vu(e,s):e};function Vb(t){t.target.composing=!0}function Wd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const wi=Symbol("_assign"),rs={created(t,{modifiers:{lazy:e,trim:s,number:a}},r){t[wi]=is(r);const c=a||r.props&&r.props.type==="number";kr(t,e?"change":"input",f=>{if(f.target.composing)return;let d=t.value;s&&(d=d.trim()),c&&(d=Ou(d)),t[wi](d)}),s&&kr(t,"change",()=>{t.value=t.value.trim()}),e||(kr(t,"compositionstart",Vb),kr(t,"compositionend",Wd),kr(t,"change",Wd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:a,trim:r,number:c}},f){if(t[wi]=is(f),t.composing)return;const d=(c||t.type==="number")&&!/^0\d/.test(t.value)?Ou(t.value):t.value,g=e??"";d!==g&&(document.activeElement===t&&t.type!=="range"&&(a&&e===s||r&&t.value.trim()===g)||(t.value=g))}},qb={deep:!0,created(t,e,s){t[wi]=is(s),kr(t,"change",()=>{const a=t._modelValue,r=Vo(t),c=t.checked,f=t[wi];if(Jt(a)){const d=yf(a,r),g=d!==-1;if(c&&!g)f(a.concat(r));else if(!c&&g){const _=[...a];_.splice(d,1),f(_)}}else if(ia(a)){const d=new Set(a);c?d.add(r):d.delete(r),f(d)}else f(v_(t,c))})},mounted:Yd,beforeUpdate(t,e,s){t[wi]=is(s),Yd(t,e,s)}};function Yd(t,{value:e,oldValue:s},a){t._modelValue=e;let r;if(Jt(e))r=yf(e,a.props.value)>-1;else if(ia(e))r=e.has(a.props.value);else{if(e===s)return;r=Ws(e,v_(t,!0))}t.checked!==r&&(t.checked=r)}const Zb={created(t,{value:e},s){t.checked=Ws(e,s.props.value),t[wi]=is(s),kr(t,"change",()=>{t[wi](Vo(t))})},beforeUpdate(t,{value:e,oldValue:s},a){t[wi]=is(a),e!==s&&(t.checked=Ws(e,a.props.value))}},Ho={deep:!0,created(t,{value:e,modifiers:{number:s}},a){const r=ia(e);kr(t,"change",()=>{const c=Array.prototype.filter.call(t.options,f=>f.selected).map(f=>s?Ou(Vo(f)):Vo(f));t[wi](t.multiple?r?new Set(c):c:c[0]),t._assigning=!0,yi(()=>{t._assigning=!1})}),t[wi]=is(a)},mounted(t,{value:e}){jd(t,e)},beforeUpdate(t,e,s){t[wi]=is(s)},updated(t,{value:e}){t._assigning||jd(t,e)}};function jd(t,e){const s=t.multiple,a=Jt(e);if(!(s&&!a&&!ia(e))){for(let r=0,c=t.options.length;r<c;r++){const f=t.options[r],d=Vo(f);if(s)if(a){const g=typeof d;g==="string"||g==="number"?f.selected=e.some(_=>String(_)===String(d)):f.selected=yf(e,d)>-1}else f.selected=e.has(d);else if(Ws(Vo(f),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Vo(t){return"_value"in t?t._value:t.value}function v_(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Wb={created(t,e,s){iu(t,e,s,null,"created")},mounted(t,e,s){iu(t,e,s,null,"mounted")},beforeUpdate(t,e,s,a){iu(t,e,s,a,"beforeUpdate")},updated(t,e,s,a){iu(t,e,s,a,"updated")}};function Yb(t,e){switch(t){case"SELECT":return Ho;case"TEXTAREA":return rs;default:switch(e){case"checkbox":return qb;case"radio":return Zb;default:return rs}}}function iu(t,e,s,a,r){const f=Yb(t.tagName,s.props&&s.props.type)[r];f&&f(t,e,s,a)}const jb=["ctrl","shift","alt","meta"],Xb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jb.some(s=>t[`${s}Key`]&&!e.includes(s))},y_=(t,e)=>{const s=t._withMods||(t._withMods={}),a=e.join(".");return s[a]||(s[a]=(r,...c)=>{for(let f=0;f<e.length;f++){const d=Xb[e[f]];if(d&&d(r,e))return}return t(r,...c)})},Kb=ln({patchProp:Gb},Eb);let Xd;function Jb(){return Xd||(Xd=X0(Kb))}const b_=(...t)=>{const e=Jb().createApp(...t),{mount:s}=e;return e.mount=a=>{const r=tw(a);if(!r)return;const c=e._component;!ee(c)&&!c.render&&!c.template&&(c.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const f=s(r,!1,Qb(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),f},e};function Qb(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function tw(t){return Ge(t)?document.querySelector(t):t}const w_="BootstrapVueNext__",Pf=(t,e="")=>{const s=`${e}___`;return`${w_}ID__${t}__${e?s:""}`},xl=t=>Pf(t),fs=t=>Pf(`${t}__plugin`),L_=xl("collapse"),kc=fs("globalShowHideStorage"),ew=xl("dropdown"),E_=xl("navbar"),nw=fs("rtl"),Kd=`${w_}global_breadcrumb`,iw=fs("breadcrumbPlugin"),k_=fs("modalManager"),Lu=fs("defaults"),rw=xl("inputGroup"),sw=xl("buttonGroup"),ow=fs("toast"),aw=fs("modalController"),lw=fs("popover");function eo(t){return bf()?(Mu(t),!0):!1}function uw(t){let e=0,s,a;const r=()=>{e-=1,a&&e<=0&&(a.stop(),s=void 0,a=void 0)};return(...c)=>(e+=1,a||(a=ng(!0),s=a.run(()=>t(...c))),eo(r),s)}const x_=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const T_=t=>t!=null,cw=Object.prototype.toString,hw=t=>cw.call(t)==="[object Object]",wr=()=>{},Fh=fw();function fw(){var t,e;return x_&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function dw(...t){if(t.length!==1)return nn(...t);const e=t[0];return typeof e=="function"?Wn(Lg(()=>({get:e,set:wr}))):Mt(e)}function pw(t,e){function s(...a){return new Promise((r,c)=>{Promise.resolve(t(()=>e.apply(this,a),{fn:e,thisArg:this,args:a})).then(r).catch(c)})}return s}function mw(...t){let e=0,s,a=!0,r=wr,c,f,d,g,_;!Xe(t[0])&&typeof t[0]=="object"?{delay:f,trailing:d=!0,leading:g=!0,rejectOnCancel:_=!1}=t[0]:[f,d=!0,g=!0,_=!1]=t;const y=()=>{s&&(clearTimeout(s),s=void 0,r(),r=wr)};return E=>{const T=Se(f),I=Date.now()-e,A=()=>c=E();return y(),T<=0?(e=Date.now(),A()):(I>T&&(g||!a)?(e=Date.now(),A()):d&&(c=new Promise((F,M)=>{r=_?M:F,s=setTimeout(()=>{e=Date.now(),a=!0,F(A()),y()},Math.max(0,T-I))})),!g&&!s&&(s=setTimeout(()=>a=!0,T)),a=!1,c)}}function Qa(t){return Array.isArray(t)?t:[t]}function Jd(t,e=200,s=!1,a=!0,r=!1){return pw(mw(e,s,a,r),t)}function gw(t,e={}){const{method:s="parseFloat",radix:a,nanToZero:r}=e;return ht(()=>{let c=Se(t);return typeof s=="function"?c=s(c):typeof c=="string"&&(c=Number[s](c,a)),r&&Number.isNaN(c)&&(c=0),c})}function _w(t,e,s){return se(t,e,{...s,immediate:!0})}const xc=x_?window:void 0;function xr(t){var e;const s=Se(t);return(e=s==null?void 0:s.$el)!=null?e:s}function Ji(...t){const e=[],s=()=>{e.forEach(d=>d()),e.length=0},a=(d,g,_,y)=>(d.addEventListener(g,_,y),()=>d.removeEventListener(g,_,y)),r=ht(()=>{const d=Qa(Se(t[0])).filter(g=>g!=null);return d.every(g=>typeof g!="string")?d:void 0}),c=_w(()=>{var d,g;return[(g=(d=r.value)==null?void 0:d.map(_=>xr(_)))!=null?g:[xc].filter(_=>_!=null),Qa(Se(r.value?t[1]:t[0])),Qa(tt(r.value?t[2]:t[1])),Se(r.value?t[3]:t[2])]},([d,g,_,y])=>{if(s(),!(d!=null&&d.length)||!(g!=null&&g.length)||!(_!=null&&_.length))return;const b=hw(y)?{...y}:y;e.push(...d.flatMap(E=>g.flatMap(T=>_.map(I=>a(E,T,I,b)))))},{flush:"post"}),f=()=>{c(),s()};return eo(s),f}let Qd=!1;function vw(t,e,s={}){const{window:a=xc,ignore:r=[],capture:c=!0,detectIframe:f=!1,controls:d=!1}=s;if(!a)return d?{stop:wr,cancel:wr,trigger:wr}:wr;if(Fh&&!Qd){Qd=!0;const F={passive:!0};Array.from(a.document.body.children).forEach(M=>Ji(M,"click",wr,F)),Ji(a.document.documentElement,"click",wr,F)}let g=!0;const _=F=>Se(r).some(M=>{if(typeof M=="string")return Array.from(a.document.querySelectorAll(M)).some(R=>R===F.target||F.composedPath().includes(R));{const R=xr(M);return R&&(F.target===R||F.composedPath().includes(R))}});function y(F){const M=Se(F);return M&&M.$.subTree.shapeFlag===16}function b(F,M){const R=Se(F),D=R.$.subTree&&R.$.subTree.children;return D==null||!Array.isArray(D)?!1:D.some(B=>B.el===M.target||M.composedPath().includes(B.el))}const E=F=>{const M=xr(t);if(F.target!=null&&!(!(M instanceof Element)&&y(t)&&b(t,F))&&!(!M||M===F.target||F.composedPath().includes(M))){if("detail"in F&&F.detail===0&&(g=!_(F)),!g){g=!0;return}e(F)}};let T=!1;const I=[Ji(a,"click",F=>{T||(T=!0,setTimeout(()=>{T=!1},0),E(F))},{passive:!0,capture:c}),Ji(a,"pointerdown",F=>{const M=xr(t);g=!_(F)&&!!(M&&!F.composedPath().includes(M))},{passive:!0}),f&&Ji(a,"blur",F=>{setTimeout(()=>{var M;const R=xr(t);((M=a.document.activeElement)==null?void 0:M.tagName)==="IFRAME"&&!(R!=null&&R.contains(a.document.activeElement))&&e(F)},0)},{passive:!0})].filter(Boolean),A=()=>I.forEach(F=>F());return d?{stop:A,cancel:()=>{g=!1},trigger:F=>{g=!0,E(F),g=!1}}:A}function yw(){const t=Li(!1),e=jn();return e&&Bi(()=>{t.value=!0},e),t}function bw(t){const e=yw();return ht(()=>(e.value,!!t()))}function ww(t,e,s={}){const{window:a=xc,...r}=s;let c;const f=bw(()=>a&&"MutationObserver"in a),d=()=>{c&&(c.disconnect(),c=void 0)},g=ht(()=>{const E=Se(t),T=Qa(E).map(xr).filter(T_);return new Set(T)}),_=se(()=>g.value,E=>{d(),f.value&&E.size&&(c=new MutationObserver(e),E.forEach(T=>c.observe(T,r)))},{immediate:!0,flush:"post"}),y=()=>c==null?void 0:c.takeRecords(),b=()=>{_(),d()};return eo(b),{isSupported:f,stop:b,takeRecords:y}}function Lw(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function Kr(...t){let e,s,a={};t.length===3?(e=t[0],s=t[1],a=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,s=t[0],a=t[1]):(e=t[0],s=t[1]):(e=!0,s=t[0]);const{target:r=xc,eventName:c="keydown",passive:f=!1,dedupe:d=!1}=a,g=Lw(e);return Ji(r,c,y=>{y.repeat&&Se(d)||g(y)&&s(y)},f)}const ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},su="__vueuse_ssr_handlers__",Ew=kw();function kw(){return su in ru||(ru[su]=ru[su]||{}),ru[su]}function xw(t,e){return Ew[t]||e}function ou(t,e={}){const{initialValue:s=!1,focusVisible:a=!1,preventScroll:r=!1}=e,c=Li(!1),f=ht(()=>xr(t)),d={passive:!0};Ji(f,"focus",_=>{var y,b;(!a||(b=(y=_.target).matches)!=null&&b.call(y,":focus-visible"))&&(c.value=!0)},d),Ji(f,"blur",()=>c.value=!1,d);const g=ht({get:()=>c.value,set(_){var y,b;!_&&c.value?(y=f.value)==null||y.blur():_&&!c.value&&((b=f.value)==null||b.focus({preventScroll:r}))}});return se(f,()=>{g.value=s},{immediate:!0,flush:"post"}),{focused:g}}function hh(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function C_(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const s=t.parentNode;return!s||s.tagName==="BODY"?!1:C_(s)}}function Tw(t){const e=t||window.event,s=e.target;return C_(s)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const fh=new WeakMap;function Cw(t,e=!1){const s=Li(e);let a=null,r="";se(dw(t),d=>{const g=hh(Se(d));if(g){const _=g;if(fh.get(_)||fh.set(_,_.style.overflow),_.style.overflow!=="hidden"&&(r=_.style.overflow),_.style.overflow==="hidden")return s.value=!0;if(s.value)return _.style.overflow="hidden"}},{immediate:!0});const c=()=>{const d=hh(Se(t));!d||s.value||(Fh&&(a=Ji(d,"touchmove",g=>{Tw(g)},{passive:!1})),d.style.overflow="hidden",s.value=!0)},f=()=>{const d=hh(Se(t));!d||!s.value||(Fh&&(a==null||a()),d.style.overflow=r,fh.delete(d),s.value=!1)};return eo(f),ht({get(){return s.value},set(d){d?c():f()}})}const dh="modal-open",Sw=()=>{const t=on(k_),e=a=>{t==null||t.removeStack(a),t==null||t.removeRegistry(a)},s=xw("updateHTMLAttrs",(a,r,c)=>{const f=typeof a=="string"?window==null?void 0:window.document.querySelector(a):xr(a);f&&(r==="class"?f.classList.toggle(dh,c===dh):f.setAttribute(r,c))});return eo(()=>{s("body","class","")}),se(()=>t==null?void 0:t.countStack.value,a=>{a!==void 0&&s("body","class",a>0?dh:"")}),{...t,dispose:e}},Iw=(t,e)=>{const{pushRegistry:s,pushStack:a,removeStack:r,stack:c,dispose:f,countStack:d}=Sw(),g=jn();if(!g||g.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");s==null||s(g),eo(()=>{f(g)});const _=(y,b)=>{y?a==null||a(g):b&&!y&&(r==null||r(g))};return _(e,e),se(t,_),{activePosition:ht(()=>c==null?void 0:c.value.findIndex(y=>{var b,E;return Se((b=y.exposed)==null?void 0:b.id)===Se((E=g.exposed)==null?void 0:E.id)})),activeModalCount:d,stackWithoutSelf:ht(()=>(c==null?void 0:c.value.filter(y=>{var b,E;return Se((b=y.exposed)==null?void 0:b.id)!==Se((E=g.exposed)==null?void 0:E.id)}))??[])}},tp=t=>{if(t)return typeof t=="string"?typeof document>"u"?void 0:document.getElementById(t)??document.querySelector(t)??void 0:t.$el??t},ep=(t,e)=>t.setAttribute("data-bs-theme",e),Pw={mounted(t,e){ep(t,e.value)},updated(t,e){ep(t,e.value)}},Nw=/\s+/,Ow=/^#/,Mw=/^#[A-Za-z]+[\w\-:.]*$/;function Aw(t,e){var s,a;return(e.ctx===t.instance.$?(s=Rw(e,t.instance.$))==null?void 0:s.provides:(a=e.ctx)==null?void 0:a.provides)??t.instance.$.provides}function Rw(t,e){const s=new Set,a=c=>{var f,d;for(const g of c){if(!g)continue;if(g===t||g.el&&t.el&&g.el===t.el)return!0;s.add(g);let _;if(g.suspense?_=a([g.ssContent]):Array.isArray(g.children)?_=a(g.children):(f=g.component)!=null&&f.vnode&&(_=a([(d=g.component)==null?void 0:d.subTree])),_)return _;s.delete(g)}return!1};if(!a([e.subTree]))return console.error("Could not find original vnode,  will not inherit provides"),e;const r=Array.from(s).reverse();for(const c of r)if(c.component)return c.component;return e}const Dw=(t,e)=>{const{modifiers:s,arg:a,value:r}=t,c=Object.keys(s||{}),f=typeof r=="string"?r.split(Nw):r;if(e.tagName.toLowerCase()==="a"){const d=e.getAttribute("href")||"";Mw.test(d)&&c.push(d.replace(Ow,""))}return Array.prototype.concat.apply([],[a,f]).forEach(d=>typeof d=="string"&&c.push(d)),c.filter((d,g,_)=>d&&_.indexOf(d)===g)},np=(t,e,s,a)=>{var r;const f=(r=Aw(s,a)[kc])==null?void 0:r.map;t.forEach(d=>{if(f!=null&&f[d]){f[d].toggle();return}const g=document.getElementById(d);g!==null&&g.dispatchEvent(new Event("bv-toggle"))}),setTimeout(()=>S_(t,e),50)},S_=(t,e)=>{let s=!1;t.forEach(a=>{const r=document.getElementById(a);r!=null&&r.classList.contains("show")&&(s=!0),r!=null&&r.classList.contains("closing")&&(s=!1)}),e.setAttribute("aria-expanded",s?"true":"false"),e.classList.remove(s?"collapsed":"not-collapsed"),e.classList.add(s?"not-collapsed":"collapsed")},ip=(t,e,s)=>{const a=Dw(e,t);a.length!==0&&(t.__toggle?setTimeout(()=>{t.removeEventListener("click",t.__toggle),t.__toggle=()=>np(a,t,e,s),t.addEventListener("click",t.__toggle)},0):(t.__toggle=()=>np(a,t,e,s),t.addEventListener("click",t.__toggle)),t.setAttribute("aria-controls",a.join(" ")),S_(a,t))},Bw={mounted:ip,updated:ip,unmounted(t){t.removeEventListener("click",t.__toggle),t.removeAttribute("aria-controls"),t.removeAttribute("aria-expanded")}};function Fw(t,e=I_("injectSelf")){const{provides:s}=e;if(s&&t in s)return s[t]}function I_(t,e){const s=jn();if(!s)throw new Error(`[Bvn] ${t} must be called from inside a setup function`);return s}const zw=(t="")=>t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase(),rp=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);function P_(t={},e={},s){const a={};for(const r in t)a[r]=t[r];for(const r in e){const c=t[r],f=e[r];if(rp(c)&&rp(f)){a[r]=P_(c,f);continue}a[r]=f}return a}const Uw=(t,e)=>{var s,a;return typeof((s=t.props)==null?void 0:s[e])<"u"||typeof((a=t.props)==null?void 0:a[zw(e)])<"u"};function $w(t={},e){const s=on(Lu,Mt({})),a=I_("useDefaults");if(e=e??a.type.name??a.type.__name,!e)throw new Error("[Bvn] Could not determine component name");const r=ht(()=>{var g;return(g=s.value)==null?void 0:g[t._as??e]}),c=new Proxy(t,{get(g,_){var y,b,E,T;const I=Reflect.get(g,_);return _==="class"||_==="style"?[(y=r.value)==null?void 0:y[_],I].filter(A=>A!=null):typeof _=="string"&&!Uw(a.vnode,_)?((b=r.value)==null?void 0:b[_])??((T=(E=s.value)==null?void 0:E.global)==null?void 0:T[_])??I:I}}),f=Li();es(()=>{if(r.value){const g=Object.entries(r.value).filter(([_])=>_.startsWith(_[0].toUpperCase()));f.value=g.length?Object.fromEntries(g):void 0}else f.value=void 0});function d(){const g=Fw(Lu,a);ts(Lu,ht(()=>f.value?P_((g==null?void 0:g.value)??{},f.value):g==null?void 0:g.value))}return{props:c,provideSubDefaults:d}}function si(t,e){const{props:s,provideSubDefaults:a}=$w(t,e);return a(),s}const Nf=(t,e)=>{const s=Bg();return ht(()=>Se(t)||Pf(s||"",e))},N_=He({name:"ConditionalTeleport",inheritAttrs:!1,props:{to:{type:[String,Object],default:null},disabled:{type:Boolean,required:!0}},slots:Object,setup(t,{slots:e}){return()=>{var s,a;return t.to?Ii(w0,{to:t.to,disabled:t.disabled||!t.to},[(a=e.default)==null?void 0:a.call(e,{})]):(s=e.default)==null?void 0:s.call(e,{})}}});var Gw=Object.defineProperty,Hw=(t,e,s)=>e in t?Gw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,vr=(t,e,s)=>Hw(t,typeof e!="symbol"?e+"":e,s);class qu{constructor(e,s={}){if(vr(this,"cancelable",!0),vr(this,"componentId",null),vr(this,"_defaultPrevented",!1),vr(this,"eventType",""),vr(this,"nativeEvent",null),vr(this,"_preventDefault"),vr(this,"relatedTarget",null),vr(this,"target",null),!e)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,qu.Defaults,s,{eventType:e}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(e){this._defaultPrevented=e}get preventDefault(){return this._preventDefault}set preventDefault(e){this._preventDefault=e}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class Vw extends qu{constructor(e,s={}){super(e,s),vr(this,"trigger",null),Object.assign(this,qu.Defaults,s,{eventType:e})}static get Defaults(){return{...super.Defaults,trigger:null}}}const sp={name:"fade",enterActiveClass:"",enterFromClass:"showing",enterToClass:"",leaveActiveClass:"",leaveFromClass:"",leaveToClass:"showing",css:!0},Of=(t,e,s,a,r,c={transitionProps:{},showFn:()=>{},hideFn:()=>{}})=>{var f;let d=!1;const g=!!t.value&&!e.initialAnimation||e.visible||!1,_=Mt(g),y=Mt(g),b=Mt(g);let E=typeof t.value!="boolean";se(t,()=>{if(E=typeof t.value!="boolean",d){d=!1;return}t.value?D():B()});const T=Mt(g),I=Mt(!1),A=ht(()=>e.noAnimation||e.noFade||T.value||!1);Bi(()=>{var bt;if(!e.show&&g){const Tt=F("show",{cancelable:!0});if(s("show",Tt),Tt.defaultPrevented){s("show-prevented",F("show-prevented"));return}T.value=!0,t.value||(d=!0,t.value=!0),y.value=!0,b.value=!0,Q.value=!0,Gt.value=!0,Bt.value=!0,_.value=!0,(bt=c.showFn)==null||bt.call(c)}else(e.show||t.value&&e.initialAnimation)&&D()}),se(()=>e.visible,bt=>{T.value=!0,yi(()=>{bt&&(Q.value=!0),bt?D():B()})}),se(()=>e.show,bt=>{bt?D():B()}),Ji(a,"bv-toggle",()=>{t.value=!t.value});const F=(bt,Tt={})=>new Vw(bt,{cancelable:!1,target:(a==null?void 0:a.value)||null,relatedTarget:null,trigger:null,...Tt,componentId:r==null?void 0:r.value});let M,R;const D=()=>{if(_.value&&!R)return;const bt=F("show",{cancelable:!0});if(s("show",bt),bt.defaultPrevented){s("show-prevented",F("show-prevented")),Q.value&&(Q.value=!1),t.value&&!E&&(d=!0,yi(()=>{t.value=!1}));return}R&&(clearTimeout(R),R=void 0),y.value=!0,b.value=!0,requestAnimationFrame(()=>{var Tt;M=setTimeout(()=>{var it;M=void 0,_.value=!0,(it=c.showFn)==null||it.call(c),t.value||(d=!0,yi(()=>{t.value=!0}))},T.value?0:typeof e.delay=="number"?e.delay:((Tt=e.delay)==null?void 0:Tt.show)||0)})},B=bt=>{var Tt;if(!_.value&&!M)return;const it=F("hide",{cancelable:!0,trigger:bt}),G=F(bt||"ignore",{cancelable:!0,trigger:bt});if(bt==="backdrop"&&e.noCloseOnBackdrop||bt==="esc"&&e.noCloseOnEsc){s("hide-prevented",F("hide-prevented"));return}if(bt&&s(bt,G),s("hide",it),it.defaultPrevented||G.defaultPrevented){s("hide-prevented",F("hide-prevented")),t.value||yi(()=>{d=!0,t.value=!0});return}M&&(clearTimeout(M),M=void 0,I.value||(y.value=!1),b.value=!1),R=setTimeout(()=>{var kt;R=void 0,Lt.value=!0,_.value=!1,(kt=c.hideFn)==null||kt.call(c),t.value&&(d=!0,t.value=E?0:!1)},T.value?0:typeof e.delay=="number"?e.delay:((Tt=e.delay)==null?void 0:Tt.hide)||0)},$=Jd(bt=>B(bt),500),q=Jd(()=>D(),500),V=()=>{const bt=F("toggle",{cancelable:!0});if(s("toggle",bt),bt.defaultPrevented){s("toggle-prevented",F("toggle-prevented"));return}_.value?B():D()},ot=(f=on(kc,void 0))==null?void 0:f({id:r.value,toggle:V,show:D,hide:B,value:Wn(_)});Tf(()=>{ot==null||ot.unregister()});const K=Mt(!1),lt=()=>{e.lazy===!0&&(K.value=!0)},Lt=Mt(!1),et=Mt(g),Q=Mt(g),Y=bt=>{var Tt,it,G,kt;(it=(Tt=c.transitionProps)==null?void 0:Tt.onBeforeEnter)==null||it.call(Tt,bt),(kt=(G=e.transitionProps)==null?void 0:G.onBeforeEnter)==null||kt.call(G,bt),et.value=!0},gt=bt=>{var Tt,it,G,kt;requestAnimationFrame(()=>{requestAnimationFrame(()=>{Q.value=!0})}),(it=(Tt=c.transitionProps)==null?void 0:Tt.onEnter)==null||it.call(Tt,bt),(kt=(G=e.transitionProps)==null?void 0:G.onEnter)==null||kt.call(G,bt)},vt=bt=>{var Tt,it,G,kt;s("shown",F("shown")),lt(),(it=(Tt=c.transitionProps)==null?void 0:Tt.onAfterEnter)==null||it.call(Tt,bt),(kt=(G=e.transitionProps)==null?void 0:G.onAfterEnter)==null||kt.call(G,bt),T.value&&requestAnimationFrame(()=>{T.value=!1}),I.value&&(I.value=!1)},Et=bt=>{var Tt,it,G,kt;Lt.value||(Lt.value=!0),(it=(Tt=c.transitionProps)==null?void 0:Tt.onBeforeLeave)==null||it.call(Tt,bt),(kt=(G=e.transitionProps)==null?void 0:G.onBeforeLeave)==null||kt.call(G,bt)},ft=bt=>{var Tt,it,G,kt;Q.value=!1,(it=(Tt=c.transitionProps)==null?void 0:Tt.onLeave)==null||it.call(Tt,bt),(kt=(G=e.transitionProps)==null?void 0:G.onLeave)==null||kt.call(G,bt)},Pt=bt=>{var Tt,it,G,kt;s("hidden",F("hidden")),(it=(Tt=c.transitionProps)==null?void 0:Tt.onAfterLeave)==null||it.call(Tt,bt),(kt=(G=e.transitionProps)==null?void 0:G.onAfterLeave)==null||kt.call(G,bt),Lt.value=!1,et.value=!1,T.value&&requestAnimationFrame(()=>{T.value=!1}),requestAnimationFrame(()=>{I.value||(y.value=!1)})},at=ht(()=>I.value===!0||et.value===!0||e.lazy===!1||e.lazy===!0&&K.value===!0&&e.unmountLazy===!1),Dt=Mt(!1);se(Q,bt=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{Dt.value=bt},32)})})})})});const Gt=Mt(!1),Bt=Mt(!1),It={...c.transitionProps,onBeforeEnter:Y,onEnter:gt,onAfterEnter:vt,onBeforeLeave:Et,onLeave:ft,onAfterLeave:Pt};return{showRef:_,renderRef:y,renderBackdropRef:b,isVisible:Q,isActive:et,trapActive:Dt,show:D,hide:B,toggle:V,throttleHide:$,throttleShow:q,buildTriggerableEvent:F,computedNoAnimation:A,localNoAnimation:T,localTemporaryHide:I,isLeaving:Lt,transitionProps:{...sp,...e.transitionProps,...It},lazyLoadCompleted:K,markLazyLoadCompleted:lt,contentShowing:at,backdropReady:Bt,backdropVisible:Gt,backdropTransitionProps:{...sp,onBeforeEnter:()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{Gt.value=!0})}),Bt.value=!1},onAfterEnter:()=>{Bt.value=!0},onBeforeLeave:()=>{Gt.value=!1},onAfterLeave:()=>{Bt.value=!1,requestAnimationFrame(()=>{b.value=!1})}}}},O_=(t,e)=>{const s=t.__vccOpts||t;for(const[a,r]of e)s[a]=r;return s},qo=Math.min,ti=Math.max,Zu=Math.round,au=Math.floor,er=t=>({x:t,y:t}),qw={left:"right",right:"left",bottom:"top",top:"bottom"},Zw={start:"end",end:"start"};function op(t,e,s){return ti(t,qo(e,s))}function Tl(t,e){return typeof t=="function"?t(e):t}function ss(t){return t.split("-")[0]}function Cl(t){return t.split("-")[1]}function M_(t){return t==="x"?"y":"x"}function A_(t){return t==="y"?"height":"width"}function Xs(t){return["top","bottom"].includes(ss(t))?"y":"x"}function R_(t){return M_(Xs(t))}function Ww(t,e,s){s===void 0&&(s=!1);const a=Cl(t),r=R_(t),c=A_(r);let f=r==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(f=Wu(f)),[f,Wu(f)]}function Yw(t){const e=Wu(t);return[zh(t),e,zh(e)]}function zh(t){return t.replace(/start|end/g,e=>Zw[e])}function jw(t,e,s){const a=["left","right"],r=["right","left"],c=["top","bottom"],f=["bottom","top"];switch(t){case"top":case"bottom":return s?e?r:a:e?a:r;case"left":case"right":return e?c:f;default:return[]}}function Xw(t,e,s,a){const r=Cl(t);let c=jw(ss(t),s==="start",a);return r&&(c=c.map(f=>f+"-"+r),e&&(c=c.concat(c.map(zh)))),c}function Wu(t){return t.replace(/left|right|bottom|top/g,e=>qw[e])}function Kw(t){return{top:0,right:0,bottom:0,left:0,...t}}function Jw(t){return typeof t!="number"?Kw(t):{top:t,right:t,bottom:t,left:t}}function Yu(t){const{x:e,y:s,width:a,height:r}=t;return{width:a,height:r,top:s,left:e,right:e+a,bottom:s+r,x:e,y:s}}function ap(t,e,s){let{reference:a,floating:r}=t;const c=Xs(e),f=R_(e),d=A_(f),g=ss(e),_=c==="y",y=a.x+a.width/2-r.width/2,b=a.y+a.height/2-r.height/2,E=a[d]/2-r[d]/2;let T;switch(g){case"top":T={x:y,y:a.y-r.height};break;case"bottom":T={x:y,y:a.y+a.height};break;case"right":T={x:a.x+a.width,y:b};break;case"left":T={x:a.x-r.width,y:b};break;default:T={x:a.x,y:a.y}}switch(Cl(e)){case"start":T[f]-=E*(s&&_?-1:1);break;case"end":T[f]+=E*(s&&_?-1:1);break}return T}const Qw=async(t,e,s)=>{const{placement:a="bottom",strategy:r="absolute",middleware:c=[],platform:f}=s,d=c.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(e));let _=await f.getElementRects({reference:t,floating:e,strategy:r}),{x:y,y:b}=ap(_,a,g),E=a,T={},I=0;for(let A=0;A<d.length;A++){const{name:F,fn:M}=d[A],{x:R,y:D,data:B,reset:$}=await M({x:y,y:b,initialPlacement:a,placement:E,strategy:r,middlewareData:T,rects:_,platform:f,elements:{reference:t,floating:e}});y=R??y,b=D??b,T={...T,[F]:{...T[F],...B}},$&&I<=50&&(I++,typeof $=="object"&&($.placement&&(E=$.placement),$.rects&&(_=$.rects===!0?await f.getElementRects({reference:t,floating:e,strategy:r}):$.rects),{x:y,y:b}=ap(_,E,g)),A=-1)}return{x:y,y:b,placement:E,strategy:r,middlewareData:T}};async function Mf(t,e){var s;e===void 0&&(e={});const{x:a,y:r,platform:c,rects:f,elements:d,strategy:g}=t,{boundary:_="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:E=!1,padding:T=0}=Tl(e,t),I=Jw(T),F=d[E?b==="floating"?"reference":"floating":b],M=Yu(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(F)))==null||s?F:F.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(d.floating)),boundary:_,rootBoundary:y,strategy:g})),R=b==="floating"?{x:a,y:r,width:f.floating.width,height:f.floating.height}:f.reference,D=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d.floating)),B=await(c.isElement==null?void 0:c.isElement(D))?await(c.getScale==null?void 0:c.getScale(D))||{x:1,y:1}:{x:1,y:1},$=Yu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:D,strategy:g}):R);return{top:(M.top-$.top+I.top)/B.y,bottom:($.bottom-M.bottom+I.bottom)/B.y,left:(M.left-$.left+I.left)/B.x,right:($.right-M.right+I.right)/B.x}}const tL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,a;const{placement:r,middlewareData:c,rects:f,initialPlacement:d,platform:g,elements:_}=e,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:A=!0,...F}=Tl(t,e);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const M=ss(r),R=Xs(d),D=ss(d)===d,B=await(g.isRTL==null?void 0:g.isRTL(_.floating)),$=E||(D||!A?[Wu(d)]:Yw(d)),q=I!=="none";!E&&q&&$.push(...Xw(d,A,I,B));const V=[d,...$],ot=await Mf(e,F),K=[];let lt=((a=c.flip)==null?void 0:a.overflows)||[];if(y&&K.push(ot[M]),b){const Y=Ww(r,f,B);K.push(ot[Y[0]],ot[Y[1]])}if(lt=[...lt,{placement:r,overflows:K}],!K.every(Y=>Y<=0)){var Lt,et;const Y=(((Lt=c.flip)==null?void 0:Lt.index)||0)+1,gt=V[Y];if(gt)return{data:{index:Y,overflows:lt},reset:{placement:gt}};let vt=(et=lt.filter(Et=>Et.overflows[0]<=0).sort((Et,ft)=>Et.overflows[1]-ft.overflows[1])[0])==null?void 0:et.placement;if(!vt)switch(T){case"bestFit":{var Q;const Et=(Q=lt.filter(ft=>{if(q){const Pt=Xs(ft.placement);return Pt===R||Pt==="y"}return!0}).map(ft=>[ft.placement,ft.overflows.filter(Pt=>Pt>0).reduce((Pt,at)=>Pt+at,0)]).sort((ft,Pt)=>ft[1]-Pt[1])[0])==null?void 0:Q[0];Et&&(vt=Et);break}case"initialPlacement":vt=d;break}if(r!==vt)return{reset:{placement:vt}}}return{}}}};async function eL(t,e){const{placement:s,platform:a,elements:r}=t,c=await(a.isRTL==null?void 0:a.isRTL(r.floating)),f=ss(s),d=Cl(s),g=Xs(s)==="y",_=["left","top"].includes(f)?-1:1,y=c&&g?-1:1,b=Tl(e,t);let{mainAxis:E,crossAxis:T,alignmentAxis:I}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof I=="number"&&(T=d==="end"?I*-1:I),g?{x:T*y,y:E*_}:{x:E*_,y:T*y}}const nL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,a;const{x:r,y:c,placement:f,middlewareData:d}=e,g=await eL(e,t);return f===((s=d.offset)==null?void 0:s.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:r+g.x,y:c+g.y,data:{...g,placement:f}}}}},iL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:a,placement:r}=e,{mainAxis:c=!0,crossAxis:f=!1,limiter:d={fn:F=>{let{x:M,y:R}=F;return{x:M,y:R}}},...g}=Tl(t,e),_={x:s,y:a},y=await Mf(e,g),b=Xs(ss(r)),E=M_(b);let T=_[E],I=_[b];if(c){const F=E==="y"?"top":"left",M=E==="y"?"bottom":"right",R=T+y[F],D=T-y[M];T=op(R,T,D)}if(f){const F=b==="y"?"top":"left",M=b==="y"?"bottom":"right",R=I+y[F],D=I-y[M];I=op(R,I,D)}const A=d.fn({...e,[E]:T,[b]:I});return{...A,data:{x:A.x-s,y:A.y-a,enabled:{[E]:c,[b]:f}}}}}},rL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,a;const{placement:r,rects:c,platform:f,elements:d}=e,{apply:g=()=>{},..._}=Tl(t,e),y=await Mf(e,_),b=ss(r),E=Cl(r),T=Xs(r)==="y",{width:I,height:A}=c.floating;let F,M;b==="top"||b==="bottom"?(F=b,M=E===(await(f.isRTL==null?void 0:f.isRTL(d.floating))?"start":"end")?"left":"right"):(M=b,F=E==="end"?"top":"bottom");const R=A-y.top-y.bottom,D=I-y.left-y.right,B=qo(A-y[F],R),$=qo(I-y[M],D),q=!e.middlewareData.shift;let V=B,ot=$;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(ot=D),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(V=R),q&&!E){const lt=ti(y.left,0),Lt=ti(y.right,0),et=ti(y.top,0),Q=ti(y.bottom,0);T?ot=I-2*(lt!==0||Lt!==0?lt+Lt:ti(y.left,y.right)):V=A-2*(et!==0||Q!==0?et+Q:ti(y.top,y.bottom))}await g({...e,availableWidth:ot,availableHeight:V});const K=await f.getDimensions(d.floating);return I!==K.width||A!==K.height?{reset:{rects:!0}}:{}}}};function Tc(){return typeof window<"u"}function no(t){return Af(t)?(t.nodeName||"").toLowerCase():"#document"}function ii(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sr(t){var e;return(e=(Af(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Af(t){return Tc()?t instanceof Node||t instanceof ii(t).Node:!1}function Ai(t){return Tc()?t instanceof Element||t instanceof ii(t).Element:!1}function nr(t){return Tc()?t instanceof HTMLElement||t instanceof ii(t).HTMLElement:!1}function lp(t){return!Tc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ii(t).ShadowRoot}function Sl(t){const{overflow:e,overflowX:s,overflowY:a,display:r}=Ri(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+s)&&!["inline","contents"].includes(r)}function sL(t){return["table","td","th"].includes(no(t))}function Cc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Rf(t){const e=Df(),s=Ai(t)?Ri(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function oL(t){let e=os(t);for(;nr(e)&&!Zo(e);){if(Rf(e))return e;if(Cc(e))return null;e=os(e)}return null}function Df(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zo(t){return["html","body","#document"].includes(no(t))}function Ri(t){return ii(t).getComputedStyle(t)}function Sc(t){return Ai(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function os(t){if(no(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lp(t)&&t.host||sr(t);return lp(e)?e.host:e}function D_(t){const e=os(t);return Zo(e)?t.ownerDocument?t.ownerDocument.body:t.body:nr(e)&&Sl(e)?e:D_(e)}function fl(t,e,s){var a;e===void 0&&(e=[]),s===void 0&&(s=!0);const r=D_(t),c=r===((a=t.ownerDocument)==null?void 0:a.body),f=ii(r);if(c){const d=Uh(f);return e.concat(f,f.visualViewport||[],Sl(r)?r:[],d&&s?fl(d):[])}return e.concat(r,fl(r,[],s))}function Uh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function B_(t){const e=Ri(t);let s=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const r=nr(t),c=r?t.offsetWidth:s,f=r?t.offsetHeight:a,d=Zu(s)!==c||Zu(a)!==f;return d&&(s=c,a=f),{width:s,height:a,$:d}}function Bf(t){return Ai(t)?t:t.contextElement}function Uo(t){const e=Bf(t);if(!nr(e))return er(1);const s=e.getBoundingClientRect(),{width:a,height:r,$:c}=B_(e);let f=(c?Zu(s.width):s.width)/a,d=(c?Zu(s.height):s.height)/r;return(!f||!Number.isFinite(f))&&(f=1),(!d||!Number.isFinite(d))&&(d=1),{x:f,y:d}}const aL=er(0);function F_(t){const e=ii(t);return!Df()||!e.visualViewport?aL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lL(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==ii(t)?!1:e}function Ks(t,e,s,a){e===void 0&&(e=!1),s===void 0&&(s=!1);const r=t.getBoundingClientRect(),c=Bf(t);let f=er(1);e&&(a?Ai(a)&&(f=Uo(a)):f=Uo(t));const d=lL(c,s,a)?F_(c):er(0);let g=(r.left+d.x)/f.x,_=(r.top+d.y)/f.y,y=r.width/f.x,b=r.height/f.y;if(c){const E=ii(c),T=a&&Ai(a)?ii(a):a;let I=E,A=Uh(I);for(;A&&a&&T!==I;){const F=Uo(A),M=A.getBoundingClientRect(),R=Ri(A),D=M.left+(A.clientLeft+parseFloat(R.paddingLeft))*F.x,B=M.top+(A.clientTop+parseFloat(R.paddingTop))*F.y;g*=F.x,_*=F.y,y*=F.x,b*=F.y,g+=D,_+=B,I=ii(A),A=Uh(I)}}return Yu({width:y,height:b,x:g,y:_})}function Ff(t,e){const s=Sc(t).scrollLeft;return e?e.left+s:Ks(sr(t)).left+s}function z_(t,e,s){s===void 0&&(s=!1);const a=t.getBoundingClientRect(),r=a.left+e.scrollLeft-(s?0:Ff(t,a)),c=a.top+e.scrollTop;return{x:r,y:c}}function uL(t){let{elements:e,rect:s,offsetParent:a,strategy:r}=t;const c=r==="fixed",f=sr(a),d=e?Cc(e.floating):!1;if(a===f||d&&c)return s;let g={scrollLeft:0,scrollTop:0},_=er(1);const y=er(0),b=nr(a);if((b||!b&&!c)&&((no(a)!=="body"||Sl(f))&&(g=Sc(a)),nr(a))){const T=Ks(a);_=Uo(a),y.x=T.x+a.clientLeft,y.y=T.y+a.clientTop}const E=f&&!b&&!c?z_(f,g,!0):er(0);return{width:s.width*_.x,height:s.height*_.y,x:s.x*_.x-g.scrollLeft*_.x+y.x+E.x,y:s.y*_.y-g.scrollTop*_.y+y.y+E.y}}function cL(t){return Array.from(t.getClientRects())}function hL(t){const e=sr(t),s=Sc(t),a=t.ownerDocument.body,r=ti(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),c=ti(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let f=-s.scrollLeft+Ff(t);const d=-s.scrollTop;return Ri(a).direction==="rtl"&&(f+=ti(e.clientWidth,a.clientWidth)-r),{width:r,height:c,x:f,y:d}}function fL(t,e){const s=ii(t),a=sr(t),r=s.visualViewport;let c=a.clientWidth,f=a.clientHeight,d=0,g=0;if(r){c=r.width,f=r.height;const _=Df();(!_||_&&e==="fixed")&&(d=r.offsetLeft,g=r.offsetTop)}return{width:c,height:f,x:d,y:g}}function dL(t,e){const s=Ks(t,!0,e==="fixed"),a=s.top+t.clientTop,r=s.left+t.clientLeft,c=nr(t)?Uo(t):er(1),f=t.clientWidth*c.x,d=t.clientHeight*c.y,g=r*c.x,_=a*c.y;return{width:f,height:d,x:g,y:_}}function up(t,e,s){let a;if(e==="viewport")a=fL(t,s);else if(e==="document")a=hL(sr(t));else if(Ai(e))a=dL(e,s);else{const r=F_(t);a={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Yu(a)}function U_(t,e){const s=os(t);return s===e||!Ai(s)||Zo(s)?!1:Ri(s).position==="fixed"||U_(s,e)}function pL(t,e){const s=e.get(t);if(s)return s;let a=fl(t,[],!1).filter(d=>Ai(d)&&no(d)!=="body"),r=null;const c=Ri(t).position==="fixed";let f=c?os(t):t;for(;Ai(f)&&!Zo(f);){const d=Ri(f),g=Rf(f);!g&&d.position==="fixed"&&(r=null),(c?!g&&!r:!g&&d.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Sl(f)&&!g&&U_(t,f))?a=a.filter(y=>y!==f):r=d,f=os(f)}return e.set(t,a),a}function mL(t){let{element:e,boundary:s,rootBoundary:a,strategy:r}=t;const f=[...s==="clippingAncestors"?Cc(e)?[]:pL(e,this._c):[].concat(s),a],d=f[0],g=f.reduce((_,y)=>{const b=up(e,y,r);return _.top=ti(b.top,_.top),_.right=qo(b.right,_.right),_.bottom=qo(b.bottom,_.bottom),_.left=ti(b.left,_.left),_},up(e,d,r));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function gL(t){const{width:e,height:s}=B_(t);return{width:e,height:s}}function _L(t,e,s){const a=nr(e),r=sr(e),c=s==="fixed",f=Ks(t,!0,c,e);let d={scrollLeft:0,scrollTop:0};const g=er(0);if(a||!a&&!c)if((no(e)!=="body"||Sl(r))&&(d=Sc(e)),a){const E=Ks(e,!0,c,e);g.x=E.x+e.clientLeft,g.y=E.y+e.clientTop}else r&&(g.x=Ff(r));const _=r&&!a&&!c?z_(r,d):er(0),y=f.left+d.scrollLeft-g.x-_.x,b=f.top+d.scrollTop-g.y-_.y;return{x:y,y:b,width:f.width,height:f.height}}function ph(t){return Ri(t).position==="static"}function cp(t,e){if(!nr(t)||Ri(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return sr(t)===s&&(s=s.ownerDocument.body),s}function $_(t,e){const s=ii(t);if(Cc(t))return s;if(!nr(t)){let r=os(t);for(;r&&!Zo(r);){if(Ai(r)&&!ph(r))return r;r=os(r)}return s}let a=cp(t,e);for(;a&&sL(a)&&ph(a);)a=cp(a,e);return a&&Zo(a)&&ph(a)&&!Rf(a)?s:a||oL(t)||s}const vL=async function(t){const e=this.getOffsetParent||$_,s=this.getDimensions,a=await s(t.floating);return{reference:_L(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function yL(t){return Ri(t).direction==="rtl"}const bL={convertOffsetParentRelativeRectToViewportRelativeRect:uL,getDocumentElement:sr,getClippingRect:mL,getOffsetParent:$_,getElementRects:vL,getClientRects:cL,getDimensions:gL,getScale:Uo,isElement:Ai,isRTL:yL};function wL(t,e){let s=null,a;const r=sr(t);function c(){var d;clearTimeout(a),(d=s)==null||d.disconnect(),s=null}function f(d,g){d===void 0&&(d=!1),g===void 0&&(g=1),c();const{left:_,top:y,width:b,height:E}=t.getBoundingClientRect();if(d||e(),!b||!E)return;const T=au(y),I=au(r.clientWidth-(_+b)),A=au(r.clientHeight-(y+E)),F=au(_),R={rootMargin:-T+"px "+-I+"px "+-A+"px "+-F+"px",threshold:ti(0,qo(1,g))||1};let D=!0;function B($){const q=$[0].intersectionRatio;if(q!==g){if(!D)return f();q?f(!1,q):a=setTimeout(()=>{f(!1,1e-7)},1e3)}D=!1}try{s=new IntersectionObserver(B,{...R,root:r.ownerDocument})}catch{s=new IntersectionObserver(B,R)}s.observe(t)}return f(!0),c}function LL(t,e,s,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:c=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,_=Bf(t),y=r||c?[..._?fl(_):[],...fl(e)]:[];y.forEach(M=>{r&&M.addEventListener("scroll",s,{passive:!0}),c&&M.addEventListener("resize",s)});const b=_&&d?wL(_,s):null;let E=-1,T=null;f&&(T=new ResizeObserver(M=>{let[R]=M;R&&R.target===_&&T&&(T.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var D;(D=T)==null||D.observe(e)})),s()}),_&&!g&&T.observe(_),T.observe(e));let I,A=g?Ks(t):null;g&&F();function F(){const M=Ks(t);A&&(M.x!==A.x||M.y!==A.y||M.width!==A.width||M.height!==A.height)&&s(),A=M,I=requestAnimationFrame(F)}return s(),()=>{var M;y.forEach(R=>{r&&R.removeEventListener("scroll",s),c&&R.removeEventListener("resize",s)}),b==null||b(),(M=T)==null||M.disconnect(),T=null,g&&cancelAnimationFrame(I)}}const EL=nL,kL=iL,xL=tL,TL=rL,CL=(t,e,s)=>{const a=new Map,r={platform:bL,...s},c={...r.platform,_c:a};return Qw(t,e,{...r,platform:c})};function SL(t){return t!=null&&typeof t=="object"&&"$el"in t}function hp(t){if(SL(t)){const e=t.$el;return Af(e)&&no(e)==="#comment"?null:e}return t}function Ba(t){return typeof t=="function"?t():tt(t)}function G_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fp(t,e){const s=G_(t);return Math.round(e*s)/s}function IL(t,e,s){s===void 0&&(s={});const a=s.whileElementsMounted,r=ht(()=>{var V;return(V=Ba(s.open))!=null?V:!0}),c=ht(()=>Ba(s.middleware)),f=ht(()=>{var V;return(V=Ba(s.placement))!=null?V:"bottom"}),d=ht(()=>{var V;return(V=Ba(s.strategy))!=null?V:"absolute"}),g=ht(()=>{var V;return(V=Ba(s.transform))!=null?V:!0}),_=ht(()=>hp(t.value)),y=ht(()=>hp(e.value)),b=Mt(0),E=Mt(0),T=Mt(d.value),I=Mt(f.value),A=Li({}),F=Mt(!1),M=ht(()=>{const V={position:T.value,left:"0",top:"0"};if(!y.value)return V;const ot=fp(y.value,b.value),K=fp(y.value,E.value);return g.value?{...V,transform:"translate("+ot+"px, "+K+"px)",...G_(y.value)>=1.5&&{willChange:"transform"}}:{position:T.value,left:ot+"px",top:K+"px"}});let R;function D(){if(_.value==null||y.value==null)return;const V=r.value;CL(_.value,y.value,{middleware:c.value,placement:f.value,strategy:d.value}).then(ot=>{b.value=ot.x,E.value=ot.y,T.value=ot.strategy,I.value=ot.placement,A.value=ot.middlewareData,F.value=V!==!1})}function B(){typeof R=="function"&&(R(),R=void 0)}function $(){if(B(),a===void 0){D();return}if(_.value!=null&&y.value!=null){R=a(_.value,y.value,D);return}}function q(){r.value||(F.value=!1)}return se([c,f,d,r],D,{flush:"sync"}),se([_,y],$,{flush:"sync"}),se(r,q,{flush:"sync"}),bf()&&Mu(B),{x:Io(b),y:Io(E),strategy:Io(T),placement:Io(I),middlewareData:Io(A),isPositioned:Io(F),floatingStyles:M,update:D}}const PL=t=>{const[e]=t.split("-");switch(e){case"left":return"start";case"right":return"end";case"top":return"up";case"bottom":return"down";default:return e}},H_=t=>t==="clippingAncestors"||t instanceof Element||Array.isArray(t),NL=t=>!H_(t),OL=(t,e)=>[...e].reduce((s,a)=>(s[a]=t[a],s),{}),ML=He({inheritAttrs:!1,__name:"BCollapse",props:ns({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},tag:{default:"div"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noFade:{type:Boolean},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ns(["hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(t,{expose:e,emit:s}){const r=si(t,"BCollapse"),c=s,f=wc(t,"modelValue"),d=Nf(()=>r.id,"collapse"),g=Si("_element");let _=!1;const y=lt=>{_=!0,requestAnimationFrame(()=>{r.horizontal?lt.style.width=`${lt.scrollWidth}px`:lt.style.height=`${lt.scrollHeight}px`})},b=lt=>{_||(r.horizontal?lt.style.width=`${lt.scrollWidth}px`:lt.style.height=`${lt.scrollHeight}px`,lt.offsetHeight)},E=lt=>{requestAnimationFrame(()=>{r.horizontal?lt.style.width="":lt.style.height=""})},T=lt=>{lt.style.height="",lt.style.width="",_=!1},I=lt=>{lt.style.height="",lt.style.width="",_=!1},{showRef:A,renderRef:F,hide:M,show:R,toggle:D,isActive:B,computedNoAnimation:$,contentShowing:q,transitionProps:V}=Of(f,r,c,g,d,{transitionProps:{onBeforeLeave:b,onEnter:y,onLeave:E,onAfterEnter:T,onAfterLeave:I,enterToClass:"",leaveToClass:"",enterFromClass:"",leaveFromClass:"",enterActiveClass:"",leaveActiveClass:""}}),ot=ht(()=>({show:B.value,"navbar-collapse":r.isNav,"collapse-horizontal":r.horizontal})),K=ht(()=>({toggle:D,show:R,hide:M,id:d.value,visible:A.value}));return e({hide:M,isNav:r.isNav,show:R,toggle:D,visible:Wn(A)}),ts(L_,{id:d,hide:M,show:R,toggle:D,visible:Wn(A),isNav:nn(()=>r.isNav)}),(lt,Lt)=>(At(),jt(ge,null,[Me(lt.$slots,"header",Ci(br(K.value))),tt(F)||tt(q)?(At(),Fe(Gu,ze({key:0},tt(V),{"enter-active-class":tt($)?"":"collapsing","leave-active-class":tt($)?"":"collapsing",appear:f.value||tt(r).visible}),{default:Ee(()=>[mn((At(),Fe(hs(tt(r).tag),ze({id:tt(d),ref:"_element",class:["collapse",ot.value],"is-nav":tt(r).isNav},lt.$attrs),{default:Ee(()=>[tt(q)?Me(lt.$slots,"default",Ci(ze({key:0},K.value))):Je("",!0)]),_:3},16,["id","class","is-nav"])),[[Vu,tt(A)]])]),_:3},16,["enter-active-class","leave-active-class","appear"])):Je("",!0),Me(lt.$slots,"footer",Ci(br(K.value)))],64))}}),AL=["type","disabled","aria-label"],RL=He({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(t,{emit:e}){const a=si(t,"BCloseButton"),r=e;return(c,f)=>(At(),jt("button",{type:tt(a).type,class:"btn-close",disabled:tt(a).disabled,"aria-label":tt(a).ariaLabel,onClick:f[0]||(f[0]=d=>r("click",d))},null,8,AL))}}),V_=t=>((t==null?void 0:t())??[]).length===0,tl=t=>ht(()=>{let e=Se(t);return e={variant:e.variant??null,bgVariant:e.bgVariant??null,textVariant:e.textVariant??null,borderVariant:e.borderVariant??null},{[`text-bg-${e.variant}`]:e.variant!==null,[`text-${e.textVariant}`]:e.textVariant!==null,[`bg-${e.bgVariant}`]:e.bgVariant!==null,[`border-${e.borderVariant}`]:e.borderVariant!==null}}),DL={key:0,class:"visually-hidden"},BL=He({__name:"BSpinner",props:{label:{default:void 0},role:{default:"status"},small:{type:Boolean,default:!1},tag:{default:"span"},type:{default:"border"},variant:{default:null}},setup(t){const s=si(t,"BSpinner"),a=Vg(),r=tl(ht(()=>({textVariant:s.variant}))),c=ht(()=>[`spinner-${s.type}`,r.value,{[`spinner-${s.type}-sm`]:s.small}]),f=ht(()=>!V_(a.label));return(d,g)=>(At(),Fe(hs(tt(s).tag),{class:Be(c.value),role:tt(s).label||f.value?tt(s).role:null,"aria-hidden":tt(s).label||f.value?null:!0},{default:Ee(()=>[tt(s).label||f.value?(At(),jt("span",DL,[Me(d.$slots,"label",{},()=>[tn(te(tt(s).label),1)])])):Je("",!0)]),_:3},8,["class","role","aria-hidden"]))}}),FL=t=>t.replace(/-./g,e=>e.charAt(1).toUpperCase()).replace(/\b\w/g,e=>e.toUpperCase()).replace(/\s+/g,""),zL=t=>!!(t.href||t.to),q_=(t,e)=>{const s=Wn(nn(e)),a=Wn(nn(t)),r=ht(()=>zL(a.value)),c=ht(()=>r.value?OL(a.value,s.value??["active","activeClass","append","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover"]):{});return{computedLink:r,computedLinkProps:c}},UL=t=>{const e=jn(),s=e==null?void 0:e.appContext.app.config.globalProperties.$router,a=e==null?void 0:e.appContext.app.config.globalProperties.$route,r=hs("RouterLink"),c=typeof r=="string"?null:r.useLink,f=nn(t),d=nn(()=>f.value.to||""),g=nn(()=>f.value.replace),_=ht(()=>FL(f.value.routerComponentName)),y=ht(()=>!((e==null?void 0:e.appContext.app.component(_.value))!==void 0)||f.value.disabled||!f.value.to?"a":_.value),b=ht(()=>y.value==="RouterLink"),E=ht(()=>b.value&&typeof(e==null?void 0:e.appContext.app.$nuxt)<"u"),T=ht(()=>y.value!=="a"&&!b.value&&!E.value),I=ht(()=>b.value||E.value),A=ht(()=>({to:d.value,replace:g.value})),F=c==null?void 0:c({to:d,replace:g}),M=ht(()=>I.value?F:null),R=ht(()=>{var D;if((D=M.value)!=null&&D.href.value)return M.value.href.value;const B="#";if(f.value.href)return f.value.href;if(typeof f.value.to=="string")return f.value.to||B;const{to:$}=f.value;if($!==void 0&&"path"in $){const q=$.path||"",V=$.query?`?${Object.keys($.query).map(K=>{var lt;return`${K}=${(lt=$.query)==null?void 0:lt[K]}`}).join("=")}`:"",ot=!$.hash||$.hash.charAt(0)==="#"?$.hash||"":`#${$.hash}`;return`${q}${V}${ot}`||B}return B});return{isNonStandardTag:T,tag:y,isRouterLink:b,isNuxtLink:E,computedHref:R,routerName:_,router:s,route:a,link:M,linkProps:A}},Z_=t=>ht(()=>{const e=Se(t);return{[`link-${e.variant}`]:e.variant!==null,[`link-opacity-${e.opacity}`]:e.opacity!==void 0,[`link-opacity-${e.opacityHover}-hover`]:e.opacityHover!==void 0,[`link-underline-${e.underlineVariant}`]:e.underlineVariant!==null,[`link-offset-${e.underlineOffset}`]:e.underlineOffset!==void 0,[`link-offset-${e.underlineOffsetHover}-hover`]:e.underlineOffsetHover!==void 0,"link-underline":e.underlineVariant===null&&(e.underlineOpacity!==void 0||e.underlineOpacityHover!==void 0),[`link-underline-opacity-${e.underlineOpacity}`]:e.underlineOpacity!==void 0,[`link-underline-opacity-${e.underlineOpacityHover}-hover`]:e.underlineOpacityHover!==void 0,"icon-link":e.icon===!0}}),dp="active",W_=He({__name:"BLink",props:{active:{type:Boolean,default:void 0},activeClass:{default:"router-link-active"},disabled:{type:Boolean,default:!1},exactActiveClass:{default:"router-link-exact-active"},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean,default:!1},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean,default:void 0},prefetchOn:{default:void 0},noPrefetch:{type:Boolean,default:void 0},prefetchedClass:{default:void 0},rel:{default:void 0},replace:{type:Boolean,default:!1},routerComponentName:{default:"router-link"},routerTag:{default:"a"},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null},variant:{default:null}},emits:["click"],setup(t,{emit:e}){const a=si(t,"BLink"),r=e,c=qg(),{computedHref:f,tag:d,link:g,isNuxtLink:_,isRouterLink:y,linkProps:b,isNonStandardTag:E}=UL(ht(()=>({routerComponentName:a.routerComponentName,disabled:a.disabled,to:a.to,replace:a.replace,href:a.href}))),T=on(L_,null),I=on(E_,null),A=Z_(a),F=ht(()=>{var V,ot;return[A.value,c.class,M.value,{[dp]:a.active,[a.activeClass]:((V=g.value)==null?void 0:V.isActive.value)||!1,[a.exactActiveClass]:((ot=g.value)==null?void 0:ot.isExactActive.value)||!1,"stretched-link":a.stretched===!0}]}),M=ht(()=>({[dp]:a.active,disabled:a.disabled})),R=V=>{var ot,K,lt;if(a.disabled){V.preventDefault(),V.stopImmediatePropagation();return}(((ot=T==null?void 0:T.isNav)==null?void 0:ot.value)===!0&&I===null||I!==null&&((K=I.autoClose)==null?void 0:K.value)===!0)&&((lt=T==null?void 0:T.hide)==null||lt.call(T)),r("click",V)},D=ht(()=>a.target==="_blank"?!a.rel&&a.noRel?"noopener":a.rel:void 0),B=ht(()=>a.disabled?"-1":typeof c.tabindex>"u"?null:c.tabindex),$=ht(()=>({prefetch:a.prefetch,noPrefetch:a.noPrefetch,prefetchOn:a.prefetchOn,prefetchedClass:a.prefetchedClass,...b.value})),q=ht(()=>({...y.value?b.value:void 0,..._.value||E.value?$.value:void 0}));return(V,ot)=>(At(),Fe(hs(tt(d)),ze({class:F.value,target:tt(a).target,href:tt(f),rel:D.value,tabindex:B.value,"aria-disabled":tt(a).disabled?!0:null},q.value,{onClick:ot[0]||(ot[0]=K=>{var lt;R(K),(lt=tt(g))==null||lt.navigate(K)})}),{default:Ee(()=>[Me(V.$slots,"default")]),_:3},16,["class","target","href","rel","tabindex","aria-disabled"]))}}),$o=He({__name:"BButton",props:ns({loading:{type:Boolean,default:!1},loadingFill:{type:Boolean,default:!1},loadingText:{default:"Loading..."},pill:{type:Boolean,default:!1},size:{default:"md"},squared:{type:Boolean,default:!1},tag:{default:"button"},type:{default:"button"},variant:{default:"secondary"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:!1},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},routerTag:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:null}},{pressed:{type:Boolean,default:void 0},pressedModifiers:{}}),emits:ns(["click"],["update:pressed"]),setup(t,{emit:e}){const a=si(t,"BButton"),r=e,c=Si("_element"),f=wc(t,"pressed"),{computedLink:d,computedLinkProps:g}=q_(a,["active-class","exact-active-class","replace","routerComponentName","routerTag"]),_=ht(()=>typeof f.value=="boolean"),y=ht(()=>a.tag==="button"&&a.href===void 0&&a.to===void 0),b=ht(()=>a.to!==void 0),E=ht(()=>a.href!==void 0?!1:!y.value),T=ht(()=>b.value?g.value:[]),I=ht(()=>a.href==="#"&&a.disabled?!0:E.value?a.disabled:null),A=ht(()=>{var $;return(($=a.variant)==null?void 0:$.startsWith("link"))||!1}),F=ht(()=>{var $;return(($=a.variant)==null?void 0:$.startsWith("link-"))||!1}),M=Z_(ht(()=>{var $;return{...A.value?{icon:a.icon,opacity:a.opacity,opacityHover:a.opacityHover,underlineOffset:a.underlineOffset,underlineOffsetHover:a.underlineOffsetHover,underlineOpacity:a.underlineOpacity,underlineOpacityHover:a.underlineOpacityHover,underlineVariant:a.underlineVariant,variant:F.value===!0?($=a.variant)==null?void 0:$.slice(5):null}:void 0}})),R=ht(()=>[A.value===!0&&d.value===!1?M.value:void 0,[`btn-${a.size}`],{[`btn-${a.variant}`]:a.variant!==null&&F.value===!1,active:a.active||f.value,"rounded-pill":a.pill,"rounded-0":a.squared,disabled:a.disabled}]),D=ht(()=>b.value?W_:a.href?"a":a.tag),B=$=>{if(a.disabled){$.preventDefault(),$.stopPropagation();return}r("click",$),_.value&&(f.value=!f.value)};return Kr([" ","enter"],$=>{var q;a.href==="#"&&($.preventDefault(),(q=c.value)==null||q.click())},{target:c}),($,q)=>(At(),Fe(hs(D.value),ze({ref:"_element",class:"btn"},T.value,{class:R.value,"aria-disabled":I.value,"aria-pressed":_.value?f.value:null,autocomplete:_.value?"off":null,disabled:y.value?tt(a).disabled:null,href:tt(a).href,rel:tt(d)?tt(a).rel:null,role:E.value||tt(d)?"button":null,target:tt(d)?tt(a).target:null,type:y.value?tt(a).type:null,to:y.value?null:tt(a).to,onClick:B}),{default:Ee(()=>[tt(a).loading?Me($.$slots,"loading",{key:0},()=>[tt(a).loadingFill?Je("",!0):(At(),jt(ge,{key:0},[tn(te(tt(a).loadingText),1)],64)),Me($.$slots,"loading-spinner",{},()=>[qt(BL,{small:tt(a).size!=="lg",label:tt(a).loadingFill?tt(a).loadingText:void 0},null,8,["small","label"])])]):Me($.$slots,"default",{key:1})]),_:3},16,["class","aria-disabled","aria-pressed","autocomplete","disabled","href","rel","role","target","type","to"]))}}),$L=He({name:"ConditionalWrapper",inheritAttrs:!1,props:{tag:{type:String,default:"div"},skip:{type:Boolean,required:!0}},slots:Object,setup(t,{slots:e,attrs:s}){return()=>{var a,r;return t.skip?(a=e.default)==null?void 0:a.call(e,{}):Ii(t.tag,{...s},[(r=e.default)==null?void 0:r.call(e,{})])}}}),GL=t=>ht(()=>{const e=Se(t);return e?`justify-content-${e}`:""}),HL={class:"visually-hidden"},VL=["id","aria-labelledby","role"],qL=He({__name:"BDropdown",props:ns({ariaLabel:{default:void 0},autoClose:{type:[Boolean,String],default:!0},boundary:{default:"clippingAncestors"},boundaryPadding:{default:void 0},disabled:{type:Boolean,default:!1},floatingMiddleware:{default:void 0},id:{default:void 0},isNav:{type:Boolean,default:!1},menuClass:{default:void 0},noCaret:{type:Boolean,default:!1},noFlip:{type:Boolean,default:!1},noShift:{type:Boolean,default:!1},noSize:{type:Boolean,default:!1},offset:{default:0},role:{default:"menu"},size:{default:"md"},noWrapper:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitButtonType:{default:"button"},splitClass:{default:void 0},splitDisabled:{type:Boolean,default:void 0},splitHref:{default:void 0},splitTo:{default:void 0},splitVariant:{default:void 0},strategy:{default:"absolute"},text:{default:void 0},toggleClass:{default:void 0},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"},wrapperClass:{default:void 0},placement:{default:"bottom-start"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ns(["split-click","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(t,{expose:e,emit:s}){const r=si(t,"BDropdown"),c=s,f=Nf(()=>r.id,"dropdown"),d=wc(t,"modelValue"),g=on(rw,!1),_=on(sw,!1),y=ht(()=>typeof r.offset=="string"||typeof r.offset=="number"?r.offset:NaN),b=gw(y),E=Si("_floating"),T=Si("_button"),I=Si("_splitButton"),A=ht(()=>H_(r.boundary)?r.boundary:void 0),F=ht(()=>NL(r.boundary)?r.boundary:void 0),M=ht(()=>r.split?T.value:I.value),{showRef:R,renderRef:D,hide:B,show:$,toggle:q,computedNoAnimation:V,transitionProps:ot,contentShowing:K,isVisible:lt}=Of(d,r,c,M,f),Lt=ht(()=>[{show:lt.value,fade:!V.value}]);Kr("Escape",()=>{var Bt;B(),(Bt=tp(M.value))==null||Bt.focus()},{target:M}),Kr("Escape",()=>{var Bt;B(),(Bt=tp(M.value))==null||Bt.focus()},{target:E});const et=(Bt,It)=>{var bt,Tt,it,G,kt,Ct,St;if((Tt=E.value)!=null&&Tt.contains((bt=Bt.target)==null?void 0:bt.closest("form"))||/input|select|option|textarea|form/i.test((it=Bt.target)==null?void 0:it.tagName))return;if(Bt.preventDefault(),!R.value){$();const H=setInterval(()=>{lt.value&&(clearInterval(H),yi(()=>et(Bt,It)))},16);return}const C=(G=E.value)==null?void 0:G.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)");if(C)if((kt=E.value)!=null&&kt.contains(document.activeElement)){const H=E.value.querySelector(".dropdown-item:focus"),J=Array.prototype.indexOf.call(C,H)+It;J>=0&&J<(C==null?void 0:C.length)&&((Ct=C[J])==null||Ct.focus())}else(St=C[It===-1?C.length-1:0])==null||St.focus()};Kr("ArrowUp",Bt=>et(Bt,-1),{target:M}),Kr("ArrowDown",Bt=>et(Bt,1),{target:M}),Kr("ArrowUp",Bt=>et(Bt,-1),{target:E}),Kr("ArrowDown",Bt=>et(Bt,1),{target:E});const Q=Mt({}),Y=ht(()=>{if(r.floatingMiddleware!==void 0)return r.floatingMiddleware;const Bt=typeof r.offset=="string"||typeof r.offset=="number"?b.value:r.offset,It=[EL(Bt)];return r.noFlip===!1&&It.push(xL({boundary:A.value,rootBoundary:F.value,padding:r.boundaryPadding})),r.noShift===!1&&It.push(kL({boundary:A.value,rootBoundary:F.value,padding:r.boundaryPadding})),r.noSize===!1&&It.push(TL({boundary:A.value,rootBoundary:F.value,padding:r.boundaryPadding,apply({availableWidth:bt,availableHeight:Tt}){var it,G;Q.value={maxHeight:Tt>=(((it=E.value)==null?void 0:it.scrollHeight)??0)?void 0:Tt?`${Math.max(0,Tt)}px`:void 0,maxWidth:bt>=(((G=E.value)==null?void 0:G.scrollWidth)??0)?void 0:bt?`${Math.max(0,bt)}px`:void 0}}})),It}),{update:gt,floatingStyles:vt}=IL(M,E,{placement:()=>r.placement,middleware:Y,strategy:nn(()=>r.strategy),whileElementsMounted:LL}),Et=_?{class:"btn-group",role:"group"}:void 0,ft=ht(()=>[Et==null?void 0:Et.class,r.wrapperClass,{"btn-group":!r.wrapperClass&&r.split,[`drop${PL(r.placement)}`]:!r.wrapperClass,"position-static":r.boundary!=="clippingAncestors"&&!r.isNav}]),Pt=ht(()=>[r.split?r.splitClass:r.toggleClass,{"nav-link":r.isNav,"dropdown-toggle":!r.split,"dropdown-toggle-no-caret":r.noCaret&&!r.split,show:r.split?void 0:R.value}]),at=()=>{q()},Dt=Bt=>{if(r.split){c("split-click",Bt);return}at()};vw(E,()=>{R.value&&(r.autoClose===!0||r.autoClose==="outside")&&B()},{ignore:[T,I]});const Gt=()=>{R.value&&(r.autoClose===!0||r.autoClose==="inside")&&B()};return se(lt,()=>{gt()}),e({hide:B,show:$,toggle:q}),ts(ew,{id:f,show:$,hide:B,toggle:q,visible:nn(()=>R.value),isNav:nn(()=>r.isNav)}),(Bt,It)=>{var bt;return At(),Fe($L,{skip:tt(g)||tt(r).noWrapper,class:Be(ft.value),role:(bt=tt(Et))==null?void 0:bt.role},{default:Ee(()=>[qt($o,{id:tt(f),ref:"_splitButton",variant:tt(r).splitVariant||tt(r).variant,size:tt(r).size,class:Be(Pt.value),disabled:tt(r).splitDisabled||tt(r).disabled,type:tt(r).splitButtonType,"aria-label":tt(r).ariaLabel,"aria-expanded":tt(r).split?void 0:tt(R),"aria-haspopup":tt(r).split?void 0:"menu",href:tt(r).split?tt(r).splitHref:void 0,to:tt(r).split&&tt(r).splitTo?tt(r).splitTo:void 0,onClick:Dt},{default:Ee(()=>[Me(Bt.$slots,"button-content",{},()=>[tn(te(tt(r).text),1)],!0)]),_:3},8,["id","variant","size","class","disabled","type","aria-label","aria-expanded","aria-haspopup","href","to"]),tt(r).split?(At(),Fe($o,{key:0,id:tt(f)+"-split",ref:"_button",variant:tt(r).variant,size:tt(r).size,disabled:tt(r).disabled,class:Be([[tt(r).toggleClass,{show:tt(R)}],"dropdown-toggle-split dropdown-toggle"]),"aria-expanded":tt(R),"aria-haspopup":"menu",onClick:at},{default:Ee(()=>[_t("span",HL,[Me(Bt.$slots,"toggle-text",{},()=>[tn(te(tt(r).toggleText),1)],!0)])]),_:3},8,["id","variant","size","disabled","class","aria-expanded"])):Je("",!0),qt(N_,{to:tt(r).teleportTo,disabled:!tt(r).teleportTo||tt(r).teleportDisabled},{default:Ee(()=>[tt(D)||tt(K)?(At(),Fe(Gu,ze({key:0},tt(ot),{appear:d.value||tt(r).visible}),{default:Ee(()=>[mn(_t("ul",{id:tt(f)+"-menu",ref:"_floating",style:to([tt(vt),Q.value]),class:Be(["dropdown-menu overflow-auto",[tt(r).menuClass,Lt.value]]),"aria-labelledby":tt(f),role:tt(r).role,onClick:Gt},[tt(K)?Me(Bt.$slots,"default",{key:0,hide:tt(B),show:tt($),visible:tt(R)},void 0,!0):Je("",!0)],14,VL),[[Vu,tt(R)]])]),_:3},16,["appear"])):Je("",!0)]),_:3},8,["to","disabled"])]),_:3},8,["skip","class","role"])}}}),ZL=O_(qL,[["__scopeId","data-v-8ac2524d"]]),WL=["id","novalidate"],YL=He({__name:"BForm",props:{floating:{type:Boolean,default:!1},id:{default:void 0},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},setup(t,{expose:e}){const a=si(t,"BForm"),r=Si("_element"),c=ht(()=>({"form-floating":a.floating,"was-validated":a.validated}));return e({element:r}),(f,d)=>(At(),jt("form",{id:tt(a).id,ref:"_element",novalidate:tt(a).novalidate,class:Be(c.value)},[Me(f.$slots,"default")],10,WL))}});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Y_=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ju=Y_.join(","),j_=typeof Element>"u",Js=j_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xu=!j_&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ku=function t(e,s){var a;s===void 0&&(s=!0);var r=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),c=r===""||r==="true",f=c||s&&e&&t(e.parentNode);return f},jL=function(e){var s,a=e==null||(s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"contenteditable");return a===""||a==="true"},X_=function(e,s,a){if(Ku(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ju));return s&&Js.call(e,ju)&&r.unshift(e),r=r.filter(a),r},K_=function t(e,s,a){for(var r=[],c=Array.from(e);c.length;){var f=c.shift();if(!Ku(f,!1))if(f.tagName==="SLOT"){var d=f.assignedElements(),g=d.length?d:f.children,_=t(g,!0,a);a.flatten?r.push.apply(r,_):r.push({scopeParent:f,candidates:_})}else{var y=Js.call(f,ju);y&&a.filter(f)&&(s||!e.includes(f))&&r.push(f);var b=f.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(f),E=!Ku(b,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(f));if(b&&E){var T=t(b===!0?f.children:b.children,!0,a);a.flatten?r.push.apply(r,T):r.push({scopeParent:f,candidates:T})}else c.unshift.apply(c,f.children)}}return r},J_=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Hs=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||jL(e))&&!J_(e)?0:e.tabIndex},XL=function(e,s){var a=Hs(e);return a<0&&s&&!J_(e)?0:a},KL=function(e,s){return e.tabIndex===s.tabIndex?e.documentOrder-s.documentOrder:e.tabIndex-s.tabIndex},Q_=function(e){return e.tagName==="INPUT"},JL=function(e){return Q_(e)&&e.type==="hidden"},QL=function(e){var s=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return s},tE=function(e,s){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===s)return e[a]},eE=function(e){if(!e.name)return!0;var s=e.form||Xu(e),a=function(d){return s.querySelectorAll('input[type="radio"][name="'+d+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=a(window.CSS.escape(e.name));else try{r=a(e.name)}catch(f){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",f.message),!1}var c=tE(r,e.form);return!c||c===e},nE=function(e){return Q_(e)&&e.type==="radio"},iE=function(e){return nE(e)&&!eE(e)},rE=function(e){var s,a=e&&Xu(e),r=(s=a)===null||s===void 0?void 0:s.host,c=!1;if(a&&a!==e){var f,d,g;for(c=!!((f=r)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(r)||e!=null&&(g=e.ownerDocument)!==null&&g!==void 0&&g.contains(e));!c&&r;){var _,y,b;a=Xu(r),r=(_=a)===null||_===void 0?void 0:_.host,c=!!((y=r)!==null&&y!==void 0&&(b=y.ownerDocument)!==null&&b!==void 0&&b.contains(r))}}return c},pp=function(e){var s=e.getBoundingClientRect(),a=s.width,r=s.height;return a===0&&r===0},sE=function(e,s){var a=s.displayCheck,r=s.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var c=Js.call(e,"details>summary:first-of-type"),f=c?e.parentElement:e;if(Js.call(f,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof r=="function"){for(var d=e;e;){var g=e.parentElement,_=Xu(e);if(g&&!g.shadowRoot&&r(g)===!0)return pp(e);e.assignedSlot?e=e.assignedSlot:!g&&_!==e.ownerDocument?e=_.host:e=g}e=d}if(rE(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return pp(e);return!1},oE=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var s=e.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var a=0;a<s.children.length;a++){var r=s.children.item(a);if(r.tagName==="LEGEND")return Js.call(s,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}s=s.parentElement}return!1},Ju=function(e,s){return!(s.disabled||Ku(s)||JL(s)||sE(s,e)||QL(s)||oE(s))},$h=function(e,s){return!(iE(s)||Hs(s)<0||!Ju(e,s))},aE=function(e){var s=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},lE=function t(e){var s=[],a=[];return e.forEach(function(r,c){var f=!!r.scopeParent,d=f?r.scopeParent:r,g=XL(d,f),_=f?t(r.candidates):d;g===0?f?s.push.apply(s,_):s.push(d):a.push({documentOrder:c,tabIndex:g,item:r,isScope:f,content:_})}),a.sort(KL).reduce(function(r,c){return c.isScope?r.push.apply(r,c.content):r.push(c.content),r},[]).concat(s)},uE=function(e,s){s=s||{};var a;return s.getShadowRoot?a=K_([e],s.includeContainer,{filter:$h.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:aE}):a=X_(e,s.includeContainer,$h.bind(null,s)),lE(a)},cE=function(e,s){s=s||{};var a;return s.getShadowRoot?a=K_([e],s.includeContainer,{filter:Ju.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):a=X_(e,s.includeContainer,Ju.bind(null,s)),a},Po=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return Js.call(e,ju)===!1?!1:$h(s,e)},hE=Y_.concat("iframe").join(","),mh=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return Js.call(e,hE)===!1?!1:Ju(s,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Gh(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,a=Array(e);s<e;s++)a[s]=t[s];return a}function fE(t){if(Array.isArray(t))return Gh(t)}function dE(t,e,s){return(e=vE(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function pE(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mp(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,a)}return s}function gp(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?mp(Object(s),!0).forEach(function(a){dE(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):mp(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function gE(t){return fE(t)||pE(t)||yE(t)||mE()}function _E(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vE(t){var e=_E(t,"string");return typeof e=="symbol"?e:e+""}function yE(t,e){if(t){if(typeof t=="string")return Gh(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Gh(t,e):void 0}}var _p={activateTrap:function(e,s){if(e.length>0){var a=e[e.length-1];a!==s&&a._setPausedState(!0)}var r=e.indexOf(s);r===-1||e.splice(r,1),e.push(s)},deactivateTrap:function(e,s){var a=e.indexOf(s);a!==-1&&e.splice(a,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},bE=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},wE=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},el=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},LE=function(e){return el(e)&&!e.shiftKey},EE=function(e){return el(e)&&e.shiftKey},vp=function(e){return setTimeout(e,0)},Fa=function(e){for(var s=arguments.length,a=new Array(s>1?s-1:0),r=1;r<s;r++)a[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,a):e},lu=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},kE=[],xE=function(e,s){var a=(s==null?void 0:s.document)||document,r=(s==null?void 0:s.trapStack)||kE,c=gp({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:LE,isKeyBackward:EE},s),f={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,g=function(Q,Y,gt){return Q&&Q[Y]!==void 0?Q[Y]:c[gt||Y]},_=function(Q,Y){var gt=typeof(Y==null?void 0:Y.composedPath)=="function"?Y.composedPath():void 0;return f.containerGroups.findIndex(function(vt){var Et=vt.container,ft=vt.tabbableNodes;return Et.contains(Q)||(gt==null?void 0:gt.includes(Et))||ft.find(function(Pt){return Pt===Q})})},y=function(Q){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gt=Y.hasFallback,vt=gt===void 0?!1:gt,Et=Y.params,ft=Et===void 0?[]:Et,Pt=c[Q];if(typeof Pt=="function"&&(Pt=Pt.apply(void 0,gE(ft))),Pt===!0&&(Pt=void 0),!Pt){if(Pt===void 0||Pt===!1)return Pt;throw new Error("`".concat(Q,"` was specified but was not a node, or did not return a node"))}var at=Pt;if(typeof Pt=="string"){try{at=a.querySelector(Pt)}catch(Dt){throw new Error("`".concat(Q,'` appears to be an invalid selector; error="').concat(Dt.message,'"'))}if(!at&&!vt)throw new Error("`".concat(Q,"` as selector refers to no known node"))}return at},b=function(){var Q=y("initialFocus",{hasFallback:!0});if(Q===!1)return!1;if(Q===void 0||Q&&!mh(Q,c.tabbableOptions))if(_(a.activeElement)>=0)Q=a.activeElement;else{var Y=f.tabbableGroups[0],gt=Y&&Y.firstTabbableNode;Q=gt||y("fallbackFocus")}else Q===null&&(Q=y("fallbackFocus"));if(!Q)throw new Error("Your focus-trap needs to have at least one focusable element");return Q},E=function(){if(f.containerGroups=f.containers.map(function(Q){var Y=uE(Q,c.tabbableOptions),gt=cE(Q,c.tabbableOptions),vt=Y.length>0?Y[0]:void 0,Et=Y.length>0?Y[Y.length-1]:void 0,ft=gt.find(function(Dt){return Po(Dt)}),Pt=gt.slice().reverse().find(function(Dt){return Po(Dt)}),at=!!Y.find(function(Dt){return Hs(Dt)>0});return{container:Q,tabbableNodes:Y,focusableNodes:gt,posTabIndexesFound:at,firstTabbableNode:vt,lastTabbableNode:Et,firstDomTabbableNode:ft,lastDomTabbableNode:Pt,nextTabbableNode:function(Gt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,It=Y.indexOf(Gt);return It<0?Bt?gt.slice(gt.indexOf(Gt)+1).find(function(bt){return Po(bt)}):gt.slice(0,gt.indexOf(Gt)).reverse().find(function(bt){return Po(bt)}):Y[It+(Bt?1:-1)]}}}),f.tabbableGroups=f.containerGroups.filter(function(Q){return Q.tabbableNodes.length>0}),f.tabbableGroups.length<=0&&!y("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(f.containerGroups.find(function(Q){return Q.posTabIndexesFound})&&f.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},T=function(Q){var Y=Q.activeElement;if(Y)return Y.shadowRoot&&Y.shadowRoot.activeElement!==null?T(Y.shadowRoot):Y},I=function(Q){if(Q!==!1&&Q!==T(document)){if(!Q||!Q.focus){I(b());return}Q.focus({preventScroll:!!c.preventScroll}),f.mostRecentlyFocusedNode=Q,bE(Q)&&Q.select()}},A=function(Q){var Y=y("setReturnFocus",{params:[Q]});return Y||(Y===!1?!1:Q)},F=function(Q){var Y=Q.target,gt=Q.event,vt=Q.isBackward,Et=vt===void 0?!1:vt;Y=Y||lu(gt),E();var ft=null;if(f.tabbableGroups.length>0){var Pt=_(Y,gt),at=Pt>=0?f.containerGroups[Pt]:void 0;if(Pt<0)Et?ft=f.tabbableGroups[f.tabbableGroups.length-1].lastTabbableNode:ft=f.tabbableGroups[0].firstTabbableNode;else if(Et){var Dt=f.tabbableGroups.findIndex(function(it){var G=it.firstTabbableNode;return Y===G});if(Dt<0&&(at.container===Y||mh(Y,c.tabbableOptions)&&!Po(Y,c.tabbableOptions)&&!at.nextTabbableNode(Y,!1))&&(Dt=Pt),Dt>=0){var Gt=Dt===0?f.tabbableGroups.length-1:Dt-1,Bt=f.tabbableGroups[Gt];ft=Hs(Y)>=0?Bt.lastTabbableNode:Bt.lastDomTabbableNode}else el(gt)||(ft=at.nextTabbableNode(Y,!1))}else{var It=f.tabbableGroups.findIndex(function(it){var G=it.lastTabbableNode;return Y===G});if(It<0&&(at.container===Y||mh(Y,c.tabbableOptions)&&!Po(Y,c.tabbableOptions)&&!at.nextTabbableNode(Y))&&(It=Pt),It>=0){var bt=It===f.tabbableGroups.length-1?0:It+1,Tt=f.tabbableGroups[bt];ft=Hs(Y)>=0?Tt.firstTabbableNode:Tt.firstDomTabbableNode}else el(gt)||(ft=at.nextTabbableNode(Y))}}else ft=y("fallbackFocus");return ft},M=function(Q){var Y=lu(Q);if(!(_(Y,Q)>=0)){if(Fa(c.clickOutsideDeactivates,Q)){d.deactivate({returnFocus:c.returnFocusOnDeactivate});return}Fa(c.allowOutsideClick,Q)||Q.preventDefault()}},R=function(Q){var Y=lu(Q),gt=_(Y,Q)>=0;if(gt||Y instanceof Document)gt&&(f.mostRecentlyFocusedNode=Y);else{Q.stopImmediatePropagation();var vt,Et=!0;if(f.mostRecentlyFocusedNode)if(Hs(f.mostRecentlyFocusedNode)>0){var ft=_(f.mostRecentlyFocusedNode),Pt=f.containerGroups[ft].tabbableNodes;if(Pt.length>0){var at=Pt.findIndex(function(Dt){return Dt===f.mostRecentlyFocusedNode});at>=0&&(c.isKeyForward(f.recentNavEvent)?at+1<Pt.length&&(vt=Pt[at+1],Et=!1):at-1>=0&&(vt=Pt[at-1],Et=!1))}}else f.containerGroups.some(function(Dt){return Dt.tabbableNodes.some(function(Gt){return Hs(Gt)>0})})||(Et=!1);else Et=!1;Et&&(vt=F({target:f.mostRecentlyFocusedNode,isBackward:c.isKeyBackward(f.recentNavEvent)})),I(vt||f.mostRecentlyFocusedNode||b())}f.recentNavEvent=void 0},D=function(Q){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;f.recentNavEvent=Q;var gt=F({event:Q,isBackward:Y});gt&&(el(Q)&&Q.preventDefault(),I(gt))},B=function(Q){(c.isKeyForward(Q)||c.isKeyBackward(Q))&&D(Q,c.isKeyBackward(Q))},$=function(Q){wE(Q)&&Fa(c.escapeDeactivates,Q)!==!1&&(Q.preventDefault(),d.deactivate())},q=function(Q){var Y=lu(Q);_(Y,Q)>=0||Fa(c.clickOutsideDeactivates,Q)||Fa(c.allowOutsideClick,Q)||(Q.preventDefault(),Q.stopImmediatePropagation())},V=function(){if(f.active)return _p.activateTrap(r,d),f.delayInitialFocusTimer=c.delayInitialFocus?vp(function(){I(b())}):I(b()),a.addEventListener("focusin",R,!0),a.addEventListener("mousedown",M,{capture:!0,passive:!1}),a.addEventListener("touchstart",M,{capture:!0,passive:!1}),a.addEventListener("click",q,{capture:!0,passive:!1}),a.addEventListener("keydown",B,{capture:!0,passive:!1}),a.addEventListener("keydown",$),d},ot=function(){if(f.active)return a.removeEventListener("focusin",R,!0),a.removeEventListener("mousedown",M,!0),a.removeEventListener("touchstart",M,!0),a.removeEventListener("click",q,!0),a.removeEventListener("keydown",B,!0),a.removeEventListener("keydown",$),d},K=function(Q){var Y=Q.some(function(gt){var vt=Array.from(gt.removedNodes);return vt.some(function(Et){return Et===f.mostRecentlyFocusedNode})});Y&&I(b())},lt=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(K):void 0,Lt=function(){lt&&(lt.disconnect(),f.active&&!f.paused&&f.containers.map(function(Q){lt.observe(Q,{subtree:!0,childList:!0})}))};return d={get active(){return f.active},get paused(){return f.paused},activate:function(Q){if(f.active)return this;var Y=g(Q,"onActivate"),gt=g(Q,"onPostActivate"),vt=g(Q,"checkCanFocusTrap");vt||E(),f.active=!0,f.paused=!1,f.nodeFocusedBeforeActivation=a.activeElement,Y==null||Y();var Et=function(){vt&&E(),V(),Lt(),gt==null||gt()};return vt?(vt(f.containers.concat()).then(Et,Et),this):(Et(),this)},deactivate:function(Q){if(!f.active)return this;var Y=gp({onDeactivate:c.onDeactivate,onPostDeactivate:c.onPostDeactivate,checkCanReturnFocus:c.checkCanReturnFocus},Q);clearTimeout(f.delayInitialFocusTimer),f.delayInitialFocusTimer=void 0,ot(),f.active=!1,f.paused=!1,Lt(),_p.deactivateTrap(r,d);var gt=g(Y,"onDeactivate"),vt=g(Y,"onPostDeactivate"),Et=g(Y,"checkCanReturnFocus"),ft=g(Y,"returnFocus","returnFocusOnDeactivate");gt==null||gt();var Pt=function(){vp(function(){ft&&I(A(f.nodeFocusedBeforeActivation)),vt==null||vt()})};return ft&&Et?(Et(A(f.nodeFocusedBeforeActivation)).then(Pt,Pt),this):(Pt(),this)},pause:function(Q){return f.active?(f.manuallyPaused=!0,this._setPausedState(!0,Q)):this},unpause:function(Q){return f.active?(f.manuallyPaused=!1,r[r.length-1]!==this?this:this._setPausedState(!1,Q)):this},updateContainerElements:function(Q){var Y=[].concat(Q).filter(Boolean);return f.containers=Y.map(function(gt){return typeof gt=="string"?a.querySelector(gt):gt}),f.active&&E(),Lt(),this}},Object.defineProperties(d,{_isManuallyPaused:{value:function(){return f.manuallyPaused}},_setPausedState:{value:function(Q,Y){if(f.paused===Q)return this;if(f.paused=Q,Q){var gt=g(Y,"onPause"),vt=g(Y,"onPostPause");gt==null||gt(),ot(),Lt(),vt==null||vt()}else{var Et=g(Y,"onUnpause"),ft=g(Y,"onPostUnpause");Et==null||Et(),E(),V(),Lt(),ft==null||ft()}return this}}}),d.updateContainerElements(e),d};function TE(t,e={}){let s;const{immediate:a,...r}=e,c=Li(!1),f=Li(!1),d=E=>s&&s.activate(E),g=E=>s&&s.deactivate(E),_=()=>{s&&(s.pause(),f.value=!0)},y=()=>{s&&(s.unpause(),f.value=!1)},b=ht(()=>{const E=Se(t);return Qa(E).map(T=>{const I=Se(T);return typeof I=="string"?I:xr(I)}).filter(T_)});return se(b,E=>{E.length&&(s=xE(E,{...r,onActivate(){c.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){c.value=!1,e.onDeactivate&&e.onDeactivate()}}),a&&d())},{flush:"post"}),eo(()=>g()),{hasFocus:c,isPaused:f,activate:d,deactivate:g,pause:_,unpause:y}}const CE=({element:t,isActive:e,noTrap:s,fallbackFocus:a},r={allowOutsideClick:!0,fallbackFocus:a.ref.value??void 0,escapeDeactivates:!1})=>{const c=Wn(nn(e)),f=Wn(nn(s)),d=()=>{var y;const b=(y=t.value)==null?void 0:y.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${a.classSelector})`);return!(b!=null&&b.length)},g=Mt(!1);Bi(()=>{g.value=d(),ww(t,()=>{g.value=d()},{childList:!0,subtree:!0})});const _=TE(t,r);return se(c,async y=>{await yi(),y&&f.value===!1?_.activate():_.deactivate()}),se(f,y=>{y===!0&&_.deactivate()}),{needsFallback:Wn(g)}},SE=uw(Cw);let uu="";const Fs=new Map,IE=(t,e)=>{const s=Wn(nn(t)),a=Bg(),r=ht(()=>!Se(e)),c=SE(typeof document<"u"?document.body:null,s.value&&r.value);Bi(()=>{typeof document>"u"||(Fs.set(a,!1),se([s,r],([f,d])=>{const g=window.innerWidth-document.documentElement.clientWidth,_=Array.from(Fs.values()).some(E=>E===!0),y=f&&d;Fs.set(a,y),y&&!_&&!c.value&&(c.value=!0,g>0&&(uu=document.body.style.paddingRight,document.body.style.paddingRight=`${g+uu}px`));const b=Array.from(Fs.values()).some(E=>E===!0);_&&!b&&(Fs.set(a,!1),c.value=!1,document.body.style.paddingRight=uu)},{immediate:!0}))}),ra(()=>{Fs.delete(a),Array.from(Fs.values()).some(d=>d===!0)||(document.body.style.paddingRight=uu,c.value=!1)})},PE=["id","aria-labelledby","aria-describedby"],NE=["id"],yp="modal-fallback-focus",bp=1056,OE=He({inheritAttrs:!1,__name:"BModal",props:ns({autofocus:{type:Boolean,default:!0},autofocusButton:{default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ns(["backdrop","cancel","close","esc","ok","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(t,{expose:e,emit:s}){const r=si(t,"BModal"),c=s,f=Vg(),d=Nf(()=>r.id,"modal"),g=wc(t,"modelValue"),_=Si("_element"),y=Si("_fallbackFocusElement"),b=Si("_okButton"),E=Si("_cancelButton"),T=Si("_closeButton"),I=()=>{r.autofocus!==!1&&(r.autofocusButton==="ok"?Et.value=!0:r.autofocusButton==="close"?Pt.value=!0:r.autofocusButton==="cancel"?ft.value=!0:vt.value=!0)},A=()=>{I()},{showRef:F,renderRef:M,renderBackdropRef:R,hide:D,show:B,toggle:$,computedNoAnimation:q,transitionProps:V,backdropTransitionProps:ot,isLeaving:K,isVisible:lt,trapActive:Lt,contentShowing:et,backdropReady:Q,backdropVisible:Y}=Of(g,r,c,_,d,{transitionProps:{onAfterEnter:A}}),{needsFallback:gt}=CE({element:_,isActive:Lt,noTrap:()=>r.noTrap,fallbackFocus:{ref:y,classSelector:yp}});Kr("Escape",()=>{D("esc")},{target:_}),IE(F,()=>r.bodyScrolling);const{focused:vt}=ou(_,{initialValue:g.value&&r.autofocusButton===void 0&&r.autofocus===!0}),{focused:Et}=ou(b,{initialValue:g.value&&r.autofocusButton==="ok"&&r.autofocus===!0}),{focused:ft}=ou(E,{initialValue:g.value&&r.autofocusButton==="cancel"&&r.autofocus===!0}),{focused:Pt}=ou(T,{initialValue:g.value&&r.autofocusButton==="close"&&r.autofocus===!0}),at=ht(()=>!V_(f["header-close"])),Dt=ht(()=>[r.dialogClass,{"modal-fullscreen":r.fullscreen===!0,[`modal-fullscreen-${r.fullscreen}-down`]:typeof r.fullscreen=="string",[`modal-${r.size}`]:r.size!=="md","modal-dialog-centered":r.centered,"modal-dialog-scrollable":r.scrollable}]),Gt=tl(()=>({bgVariant:r.bodyBgVariant,textVariant:r.bodyTextVariant,variant:r.bodyVariant})),Bt=ht(()=>[r.bodyClass,Gt.value]),It=tl(()=>({bgVariant:r.headerBgVariant,textVariant:r.headerTextVariant,variant:r.headerVariant,borderVariant:r.headerBorderVariant})),bt=ht(()=>[r.headerClass,It.value]),Tt=ht(()=>({variant:at.value?r.headerCloseVariant:void 0,class:r.headerCloseClass})),it=tl(()=>({bgVariant:r.footerBgVariant,textVariant:r.footerTextVariant,variant:r.footerVariant,borderVariant:r.footerBorderVariant})),G=ht(()=>[r.footerClass,it.value]),kt=ht(()=>[r.titleClass,{"visually-hidden":r.titleVisuallyHidden}]),Ct=ht(()=>r.cancelDisabled||r.busy),St=ht(()=>r.okDisabled||r.busy),{activePosition:C,activeModalCount:H,stackWithoutSelf:J}=Iw(F,g.value);se(J,(P,j)=>{P.length>j.length&&F.value===!0&&r.noStacking===!0&&D()});const dt=ht(()=>F.value||K.value?bp-(((H==null?void 0:H.value)??0)*2-((C==null?void 0:C.value)??0)*2):bp),mt=ht(()=>({"z-index":dt.value})),pt=ht(()=>({"z-index":dt.value-1})),z=ht(()=>({cancel:()=>{D("cancel")},close:()=>{D("close")},hide:D,ok:()=>{D("ok")},active:F.value,visible:F.value}));return e({hide:D,id:d,show:B,toggle:$}),(P,j)=>(At(),Fe(N_,{to:tt(r).teleportTo,disabled:tt(r).teleportDisabled},{default:Ee(()=>[tt(M)||tt(et)?(At(),Fe(Gu,ze({key:0},tt(V),{appear:g.value||tt(r).visible,onAfterEnter:A}),{default:Ee(()=>[mn(_t("div",ze({id:tt(d),ref:"_element",class:["modal",[tt(r).modalClass,{fade:!tt(q),show:tt(lt)}]],role:"dialog","aria-labelledby":tt(r).noHeader?void 0:`${tt(d)}-label`,"aria-describedby":`${tt(d)}-body`,tabindex:"-1"},P.$attrs,{style:mt.value,onClick:j[4]||(j[4]=y_(st=>tt(D)("backdrop"),["self"]))}),[_t("div",{class:Be(["modal-dialog",Dt.value])},[tt(et)?(At(),jt("div",{key:0,class:Be(["modal-content",tt(r).contentClass])},[tt(r).noHeader?Je("",!0):(At(),jt("div",{key:0,class:Be(["modal-header",bt.value])},[Me(P.$slots,"header",Ci(br(z.value)),()=>[(At(),Fe(hs(tt(r).titleTag),{id:`${tt(d)}-label`,class:Be(["modal-title",kt.value])},{default:Ee(()=>[Me(P.$slots,"title",Ci(br(z.value)),()=>[tn(te(tt(r).title),1)],!0)]),_:3},8,["id","class"])),tt(r).noHeaderClose?Je("",!0):(At(),jt(ge,{key:0},[at.value?(At(),Fe($o,ze({key:0},Tt.value,{onClick:j[0]||(j[0]=st=>tt(D)("close"))}),{default:Ee(()=>[Me(P.$slots,"header-close",{},void 0,!0)]),_:3},16)):(At(),Fe(RL,ze({key:1,"aria-label":tt(r).headerCloseLabel},Tt.value,{onClick:j[1]||(j[1]=st=>tt(D)("close"))}),null,16,["aria-label"]))],64))],!0)],2)),_t("div",ze({id:`${tt(d)}-body`,class:["modal-body",Bt.value]},tt(r).bodyAttrs),[Me(P.$slots,"default",Ci(br(z.value)),()=>[tn(te(tt(r).body),1)],!0)],16,NE),tt(r).noFooter?Je("",!0):(At(),jt("div",{key:1,class:Be(["modal-footer",G.value])},[Me(P.$slots,"footer",Ci(br(z.value)),()=>[Me(P.$slots,"cancel",Ci(br(z.value)),()=>[tt(r).okOnly?Je("",!0):(At(),Fe($o,{key:0,ref:"_cancelButton",disabled:Ct.value,size:tt(r).buttonSize,variant:tt(r).cancelVariant,onClick:j[2]||(j[2]=st=>tt(D)("cancel"))},{default:Ee(()=>[tn(te(tt(r).cancelTitle),1)]),_:1},8,["disabled","size","variant"]))],!0),Me(P.$slots,"ok",Ci(br(z.value)),()=>[qt($o,{ref:"_okButton",disabled:St.value,size:tt(r).buttonSize,variant:tt(r).okVariant,onClick:j[3]||(j[3]=st=>tt(D)("ok"))},{default:Ee(()=>[tn(te(tt(r).okTitle),1)]),_:1},8,["disabled","size","variant"])],!0)],!0)],2))],2)):Je("",!0)],2),tt(gt)?(At(),jt("div",{key:0,ref:"_fallbackFocusElement",class:Be(yp),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):Je("",!0)],16,PE),[[Vu,tt(F)&&(tt(Q)&&tt(r).backdropFirst||!tt(r).backdropFirst)]])]),_:3},16,["appear"])):Je("",!0),tt(r).noBackdrop?Je("",!0):Me(P.$slots,"backdrop",Ci(ze({key:1},z.value)),()=>[tt(R)?(At(),Fe(Gu,Ci(ze({key:0},tt(ot))),{default:Ee(()=>[mn(_t("div",{class:Be(["modal-backdrop",{fade:!tt(q),show:tt(Y)||tt(q)}]),style:to(pt.value),onClick:j[5]||(j[5]=st=>tt(D)("backdrop"))},null,6),[[Vu,tt(F)||tt(K)&&tt(r).backdropFirst&&!tt(q)]])]),_:1},16)):Je("",!0)],!0)]),_:3},8,["to","disabled"]))}}),ME=O_(OE,[["__scopeId","data-v-93972863"]]),AE=He({inheritAttrs:!1,__name:"BNavForm",props:{role:{default:void 0},wrapperAttrs:{default:void 0},formClass:{default:void 0},floating:{type:Boolean,default:void 0},id:{default:void 0},novalidate:{type:Boolean,default:void 0},validated:{type:Boolean,default:void 0}},emits:["submit"],setup(t,{emit:e}){const a=si(t,"BNavForm"),r=e,c=qg(),f=ht(()=>{const{class:_,...y}=c;return{wrapperClass:_,formAttrs:y}}),d=_=>{r("submit",_)},g=ht(()=>["d-flex","flex-row","align-items-center","flex-wrap",f.value.wrapperClass]);return(_,y)=>(At(),jt("li",ze({class:g.value},_.wrapperAttrs),[qt(YL,ze(f.value.formAttrs,{id:tt(a).id,floating:tt(a).floating,role:tt(a).role,novalidate:tt(a).novalidate,validated:tt(a).validated,class:["d-flex",tt(a).formClass],onSubmit:y_(d,["prevent"])}),{default:Ee(()=>[Me(_.$slots,"default")]),_:3},16,["id","floating","role","novalidate","validated","class"])],16))}}),RE=t=>ht(()=>{const e=Se(t);return{container:e===!0,[`container-${e}`]:typeof e=="string"}}),DE=He({__name:"BNavbar",props:{autoClose:{type:Boolean,default:!0},container:{type:[Boolean,String],default:"fluid"},fixed:{default:void 0},print:{type:Boolean,default:!1},sticky:{default:void 0},tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},variant:{default:null}},setup(t){const s=si(t,"BNavbar"),a=ht(()=>s.tag==="nav"?void 0:"navigation"),r=RE(()=>s.container),c=tl(ht(()=>({bgVariant:s.variant}))),f=ht(()=>[c.value,{"d-print":s.print,[`sticky-${s.sticky}`]:s.sticky!==void 0,[`fixed-${s.fixed}`]:s.fixed!==void 0,"navbar-expand":s.toggleable===!1,[`navbar-expand-${s.toggleable}`]:typeof s.toggleable=="string"}]);return ts(E_,{tag:nn(()=>s.tag),autoClose:nn(()=>s.autoClose)}),(d,g)=>(At(),Fe(hs(tt(s).tag),{class:Be(["navbar",f.value]),role:a.value},{default:Ee(()=>[tt(s).container!==!1?(At(),jt("div",{key:0,class:Be(tt(r))},[Me(d.$slots,"default")],2)):Me(d.$slots,"default",{key:1})]),_:3},8,["class","role"]))}}),BE=He({__name:"BNavbarBrand",props:{tag:{default:"div"},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(t){const s=si(t,"BNavbarBrand"),{computedLink:a,computedLinkProps:r}=q_(s,["active","activeClass","append","disabled","href","rel","replace","routerComponentName","target","to","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon"]),c=ht(()=>a.value?W_:s.tag);return(f,d)=>(At(),Fe(hs(c.value),ze({class:"navbar-brand"},tt(r)),{default:Ee(()=>[Me(f.$slots,"default")]),_:3},16))}}),FE=He({__name:"BNavbarNav",props:{align:{default:void 0},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},small:{type:Boolean,default:!1},tag:{default:"ul"}},setup(t){const s=si(t,"BNavbarNav"),a=GL(()=>s.align),r=ht(()=>({"nav-fill":s.fill,"nav-justified":s.justified,[a.value]:s.align!==void 0,small:s.small}));return(c,f)=>(At(),jt("ul",{class:Be(["navbar-nav",r.value])},[Me(c.$slots,"default")],2))}}),zE=["disabled","aria-label"],UE=He({__name:"BNavbarToggle",props:{disabled:{type:Boolean,default:!1},label:{default:"Toggle navigation"},target:{default:void 0}},emits:["click"],setup(t,{emit:e}){const a=si(t,"BNavbarToggle"),r=e,c=ht(()=>({disabled:a.disabled})),f=on(kc,void 0),d=ht(()=>{var y;return!a.target||!f?!1:typeof a.target=="string"?((y=f.map[a.target])==null?void 0:y.value)||!1:a.target.some(b=>{var E;return(E=f.map[b])==null?void 0:E.value})}),g=()=>{var y;if(!(!a.target||!f)){if(typeof a.target=="string"){(y=f.map[a.target])==null||y.toggle();return}a.target.forEach(b=>{var E;return(E=f.map[b])==null?void 0:E.toggle()})}},_=y=>{a.disabled||(r("click",y),g())};return(y,b)=>(At(),jt("button",{class:Be(["navbar-toggler",c.value]),type:"button",disabled:tt(a).disabled,"aria-label":tt(a).label,onClick:_},[Me(y.$slots,"default",{expanded:d.value},()=>[b[0]||(b[0]=_t("span",{class:"navbar-toggler-icon"},null,-1))])],10,zE))}});Object.freeze(Object.keys({bordered:0,borderless:0,borderVariant:0,captionTop:0,dark:0,fixed:0,hover:0,id:0,noBorderCollapse:0,outlined:0,responsive:0,small:0,stacked:0,stickyHeader:0,striped:0,stripedColumns:0,variant:0,tableAttrs:0,tableClass:0}));Object.freeze(Object.keys({align:0,caption:0,detailsTdClass:0,fieldColumnClass:0,fields:0,footClone:0,footRowVariant:0,footVariant:0,headRowVariant:0,headVariant:0,items:0,labelStacked:0,modelValue:0,primaryKey:0,tbodyClass:0,tbodyTrAttrs:0,tbodyTrClass:0,tfootClass:0,tfootTrClass:0,theadClass:0,theadTrClass:0}));const tv={BAccordion:"/components/BAccordion",BAccordionItem:"/components/BAccordion",BAlert:"/components/BAlert",BAvatar:"/components/BAvatar",BAvatarGroup:"/components/BAvatar",BBadge:"/components/BBadge",BBreadcrumb:"/components/BBreadcrumb",BBreadcrumbItem:"/components/BBreadcrumb",BButton:"/components/BButton",BButtonGroup:"/components/BButton",BButtonToolbar:"/components/BButton",BCloseButton:"/components/BButton",BCard:"/components/BCard",BCardBody:"/components/BCard",BCardFooter:"/components/BCard",BCardGroup:"/components/BCard",BCardHeader:"/components/BCard",BCardImg:"/components/BCard",BCardSubtitle:"/components/BCard",BCardText:"/components/BCard",BCardTitle:"/components/BCard",BCarousel:"/components/BCarousel",BCarouselSlide:"/components/BCarousel",BCol:"/components/BContainer",BCollapse:"/components/BCollapse",BContainer:"/components/BContainer",BDropdown:"/components/BDropdown",BDropdownDivider:"/components/BDropdown",BDropdownForm:"/components/BDropdown",BDropdownGroup:"/components/BDropdown",BDropdownHeader:"/components/BDropdown",BDropdownItem:"/components/BDropdown",BDropdownItemButton:"/components/BDropdown",BDropdownText:"/components/BDropdown",BForm:"/components/BForm",BFormCheckbox:"/components/BFormCheckbox",BFormCheckboxGroup:"/components/BFormCheckbox",BFormDatalist:"/components/BForm",BFormFile:"/components/BFormFile",BFormFloatingLabel:"/components/BForm",BFormGroup:"/components/BFormGroup",BFormInput:"/components/BFormInput",BFormInvalidFeedback:"/components/BForm",BFormRadio:"/components/BFormRadio",BFormRadioGroup:"/components/BFormRadio",BFormRow:"/components/BForm",BFormSelect:"/components/BFormSelect",BFormSelectOption:"/components/BFormSelect",BFormSelectOptionGroup:"/components/BFormSelect",BFormSpinbutton:"/components/BFormSpinbutton",BFormTag:"/components/BFormTags",BFormTags:"/components/BFormTags",BFormText:"/components/BForm",BFormTextarea:"/components/BFormTextarea",BFormValidFeedback:"/components/BForm",BImg:"/components/BImg",BInput:"/components/BFormInput",BInputGroup:"/components/BInputGroup",BInputGroupText:"/components/BInputGroup",BListGroup:"/components/BListGroup",BListGroupItem:"/components/BListGroup",BModal:"/components/BModal",BModalOrchestrator:"/components/BModal",BNav:"/components/BNav",BNavForm:"/components/BNav",BNavItem:"/components/BNav",BNavItemDropdown:"/components/BNav",BNavText:"/components/BNav",BNavbar:"/components/BNavbar",BNavbarBrand:"/components/BNavbar",BNavbarNav:"/components/BNavbar",BNavbarToggle:"/components/BNavbar",BOffcanvas:"/components/BOffcanvas",BOverlay:"/components/BOverlay",BPagination:"/components/BPagination",BPlaceholder:"/components/BPlaceholder",BPlaceholderButton:"/components/BPlaceholder",BPlaceholderCard:"/components/BPlaceholder",BPlaceholderTable:"/components/BPlaceholder",BPlaceholderWrapper:"/components/BPlaceholder",BPopover:"/components/BPopover",BProgress:"/components/BProgress",BRow:"/components/BContainer",BSpinner:"/components/BSpinner",BTab:"/components/BTabs",BTabs:"/components/BTabs",BToast:"/components/BToast",BToastOrchestrator:"/components/BToast",BTooltip:"/components/BTooltip",BLink:"/components/BLink",BProgressBar:"/components/BProgress",BTableSimple:"/components/BTable",BTableLite:"/components/BTable",BTable:"/components/BTable",BTbody:"/components/BTable",BTd:"/components/BTable",BTh:"/components/BTable",BThead:"/components/BTable",BTfoot:"/components/BTable",BTr:"/components/BTable",BPopoverOrchestrator:"/components/BPopover"},$E=Object.freeze(Object.keys(tv)),ev={vBColorMode:"/directives/BColorMode",vBModal:"/directives/BModal",vBPopover:"/directives/BPopover",vBScrollspy:"/directives/BScrollspy",vBToggle:"/directives/BToggle",vBTooltip:"/directives/BTooltip"},GE=Object.freeze(Object.keys(ev)),HE={useBreadcrumb:"/composables/useBreadcrumb",useColorMode:"/composables/useColorMode",useModal:"/composables/useModal",useModalController:"/composables/useModalController",useScrollspy:"/composables/useScrollspy",useToastController:"/composables/useToastController",usePopoverController:"/composables/usePopoverController"};Object.freeze(Object.keys(HE));const wp="bootstrap-vue-next",Lp=(t,e)=>{const{all:s,...a}=t,r={};s&&e.forEach(f=>{r[f]=s});const c={...r,...a};return Object.entries(c).filter(([f,d])=>!!d&&e.includes(f)).map(([f])=>f)},gh=new Set,Ep=new Set;Object.assign(({aliases:t={},directives:e=!0,components:s=!0}={})=>{const r=Lp(typeof s=="boolean"?{all:s}:s,$E).reduce((g,_)=>(g.set(_,`${wp}${tv[_]}`),g),new Map),f=Lp(typeof e=="boolean"?{all:e}:e,GE).reduce((g,_)=>{const y=_.toLowerCase().startsWith("v")?_:`v${_}`;return g.set(y,`${wp}${ev[y]}`),g},new Map);return[{type:"component",resolve(g){const _=r.get(g),y=r.get(t[g]);if(y){const b=t[g];return gh.add(b),{name:b,from:y}}if(_)return gh.add(g),{name:g,from:_}}},{type:"directive",resolve(g){const _=`v${g}`,y=f.get(_);if(y)return Ep.add(_),{name:_,from:y}}}]},{__usedComponents:gh,__usedDirectives:Ep});const VE={install(t,e){const s=(e==null?void 0:e.components)??{};t.provide(Lu,Mt(s))}},qE={install(t){const e=Mt({[Kd]:[]}),s=(a=Kd)=>{e.value[a]=[]};t.provide(iw,{items:e,reset:s})}},ZE={install(t){const e=Mt(new Map),s=()=>{let g=()=>{};return{value:new Promise(y=>{g=y}),resolve:g}},a=g=>[s(),g||Symbol("Modals controller"),!0],r=(g={})=>{var _;const y=nn(g.props),[b,E,T]=a((_=y.value)==null?void 0:_.id);return e.value.set(E,{component:g.component?Qr(g.component):void 0,props:{...y.value,_isConfirm:!1,_promise:b,_modelValue:T}}),se(y,I=>{const A=e.value.get(E);A&&e.value.set(E,{component:g.component?Qr(g.component):void 0,props:{...A.props,...I}})}),b.value},c=(g={})=>{var _;const y=nn(g.props),[b,E,T]=a((_=y.value)==null?void 0:_.id);return e.value.set(E,{component:g.component?Qr(g.component):void 0,props:{...y.value,_isConfirm:!0,_promise:b,_modelValue:T}}),se(y,I=>{const A=e.value.get(E);A&&e.value.set(E,{component:g.component?Qr(g.component):void 0,props:{...A.props,...I}})}),b.value},f=g=>{const _=e.value.get(g);_!=null&&_.props&&(_.props={..._.props,_modelValue:!1})},d=g=>{e.value.delete(g)};t.provide(aw,{modals:e,remove:d,show:r,confirm:c,leave:f})}},WE={install(t){const e=Mt(new Map),s=ht(()=>e.value.size),a=ht(()=>[...e.value.values()]),r=ht(()=>a.value[a.value.length-1]),c=y=>{e.value.set(y.uid,y)},f=y=>{e.value.delete(y.uid)},d=Mt(new Map),g=y=>{d.value.set(y.uid,y)},_=y=>{d.value.delete(y.uid)};t.provide(k_,{countStack:s,lastStack:r,registry:Wn(d),stack:a,pushStack:c,removeStack:f,pushRegistry:g,removeRegistry:_})}},YE={install(t){const e=Mt(new Map),s=_=>{var y;const b=nn(_),E=((y=b.value)==null?void 0:y.id)||Symbol("Popover controller");return se(b,T=>{e.value.set(E,{...T,...typeof T.modelValue<"u"&&Xe(_)?{"onUpdate:modelValue":I=>{var A;(A=T["onUpdate:modelValue"])==null||A.call(T,I),_.value.modelValue=I}}:{}})},{immediate:!0,deep:!0}),Mu(()=>e.value.delete(E),!0),E},a=(_,y)=>{const b=e.value.get(_);b&&e.value.set(_,{...b,...Se(y)})},r=_=>e.value.delete(_),c=Mt(new Map),f=_=>{var y;const b=nn(_),E=((y=b.value)==null?void 0:y.id)||Symbol("Tooltip controller");return se(b,T=>{e.value.set(E,{...T,...typeof T.modelValue<"u"&&Xe(_)?{"onUpdate:modelValue":I=>{var A;(A=T["onUpdate:modelValue"])==null||A.call(T,I),_.value.modelValue=I}}:{}})},{immediate:!0,deep:!0}),Mu(()=>c.value.delete(E),!0),E},d=(_,y)=>{const b=c.value.get(_);b&&c.value.set(_,{...b,...Se(y)})},g=_=>c.value.delete(_);t.provide(lw,{popovers:e,tooltips:c,tooltip:f,popover:s,setPopover:a,setTooltip:d,removePopover:r,removeTooltip:g})}},jE={install(t,e){var s,a;const f=typeof(e==null?void 0:e.rtl)=="boolean"?!1:((s=e==null?void 0:e.rtl)==null?void 0:s.rtlInitial)??!1,d=typeof(e==null?void 0:e.rtl)=="boolean"?void 0:((a=e==null?void 0:e.rtl)==null?void 0:a.localeInitial)??void 0,g=Mt(f),_=Mt(d);t.provide(nw,{isRtl:g,locale:_})}},XE="top-end",KE={install(t){const e=Mt([]),s=Mt(!1),a=d=>{s.value=d},r=(d={})=>{var g,_,y,b;const E=nn(d.props),T=((g=E.value)==null?void 0:g.id)||Symbol("Toast controller"),I={component:d.component?Qr(d.component):void 0,props:{...E.value,pos:((_=E.value)==null?void 0:_.pos)||XE,_modelValue:((y=E.value)==null?void 0:y.value)||5e3,_self:T}};return(((b=E.value)==null?void 0:b.appendToast)!==void 0?E.value.appendToast:s.value)?e.value.push(I):e.value.unshift(I),se(E,A=>{const F=e.value.findIndex(M=>M.props._self===T);F!==-1&&e.value.splice(F,1,{component:d.component?Qr(d.component):void 0,props:{...e.value[F].props,...A,_modelValue:(A==null?void 0:A.value)||e.value[F].props._modelValue||5e3}})}),T},c=d=>{e.value=e.value.filter(g=>g.props._self!==d)},f=d=>{const g=e.value.findIndex(_=>_.props._self===d);g!==-1&&e.value.splice(g,1,{component:e.value[g].component?Qr(e.value[g].component):void 0,props:{...e.value[g].props,_modelValue:!1}})};t.provide(ow,{_setIsAppend:a,toasts:e,show:r,remove:c,leave:f})}},JE={install(t){const e=Yn({}),s=({id:a,value:r,toggle:c,show:f,hide:d})=>(e[a]=ht(()=>({value:r.value,toggle:c,show:f,hide:d})),{unregister(){delete e[a]}});s.map=Wn(e),t.provide(kc,s)}},QE=(t={})=>({install(e){(t.breadcrumb??!0)&&e.use(qE),(t.modalController??!0)&&e.use(ZE),(t.modalManager??!0)&&e.use(WE),((t.rtl??!0)||typeof t.rtl=="object")&&e.use(jE,t),(t.toast??!0)&&e.use(KE),(t.popover??!0)&&e.use(YE),e.use(JE),e.use(VE,t)}});/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Qu=typeof window<"u",ds=(t,e=!1)=>e?Symbol.for(t):Symbol(t),tk=(t,e,s)=>ek({l:t,k:e,s}),ek=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Qe=t=>typeof t=="number"&&isFinite(t),nk=t=>zf(t)==="[object Date]",Wo=t=>zf(t)==="[object RegExp]",Ic=t=>le(t)&&Object.keys(t).length===0,an=Object.assign,ik=Object.create,Ie=(t=null)=>ik(t);let kp;const Vs=()=>kp||(kp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ie());function xp(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const rk=Object.prototype.hasOwnProperty;function Pi(t,e){return rk.call(t,e)}const je=Array.isArray,De=t=>typeof t=="function",$t=t=>typeof t=="string",me=t=>typeof t=="boolean",ve=t=>t!==null&&typeof t=="object",sk=t=>ve(t)&&De(t.then)&&De(t.catch),nv=Object.prototype.toString,zf=t=>nv.call(t),le=t=>zf(t)==="[object Object]",ok=t=>t==null?"":je(t)||le(t)&&t.toString===nv?JSON.stringify(t,null,2):String(t);function Uf(t,e=""){return t.reduce((s,a,r)=>r===0?s+a:s+e+a,"")}function ak(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const cu=t=>!ve(t)||je(t);function Eu(t,e){if(cu(t)||cu(e))throw new Error("Invalid value");const s=[{src:t,des:e}];for(;s.length;){const{src:a,des:r}=s.pop();Object.keys(a).forEach(c=>{c!=="__proto__"&&(ve(a[c])&&!ve(r[c])&&(r[c]=Array.isArray(a[c])?[]:Ie()),cu(r[c])||cu(a[c])?r[c]=a[c]:s.push({src:a[c],des:r[c]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function lk(t,e,s){return{line:t,column:e,offset:s}}function Hh(t,e,s){return{start:t,end:e}}const Ce={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},uk=17;function Pc(t,e,s={}){const{domain:a,messages:r,args:c}=s,f=t,d=new SyntaxError(String(f));return d.code=t,e&&(d.location=e),d.domain=a,d}function ck(t){throw t}const gr=" ",hk="\r",An=`
`,fk="\u2028",dk="\u2029";function pk(t){const e=t;let s=0,a=1,r=1,c=0;const f=V=>e[V]===hk&&e[V+1]===An,d=V=>e[V]===An,g=V=>e[V]===dk,_=V=>e[V]===fk,y=V=>f(V)||d(V)||g(V)||_(V),b=()=>s,E=()=>a,T=()=>r,I=()=>c,A=V=>f(V)||g(V)||_(V)?An:e[V],F=()=>A(s),M=()=>A(s+c);function R(){return c=0,y(s)&&(a++,r=0),f(s)&&s++,s++,r++,e[s]}function D(){return f(s+c)&&c++,c++,e[s+c]}function B(){s=0,a=1,r=1,c=0}function $(V=0){c=V}function q(){const V=s+c;for(;V!==s;)R();c=0}return{index:b,line:E,column:T,peekOffset:I,charAt:A,currentChar:F,currentPeek:M,next:R,peek:D,reset:B,resetPeek:$,skipToPeek:q}}const Vr=void 0,mk=".",Tp="'",gk="tokenizer";function _k(t,e={}){const s=e.location!==!1,a=pk(t),r=()=>a.index(),c=()=>lk(a.line(),a.column(),a.index()),f=c(),d=r(),g={currentType:13,offset:d,startLoc:f,endLoc:f,lastType:13,lastOffset:d,lastStartLoc:f,lastEndLoc:f,braceNest:0,inLinked:!1,text:""},_=()=>g,{onError:y}=e;function b(z,P,j,...st){const Rt=_();if(P.column+=j,P.offset+=j,y){const yt=s?Hh(Rt.startLoc,P):null,W=Pc(z,yt,{domain:gk,args:st});y(W)}}function E(z,P,j){z.endLoc=c(),z.currentType=P;const st={type:P};return s&&(st.loc=Hh(z.startLoc,z.endLoc)),j!=null&&(st.value=j),st}const T=z=>E(z,13);function I(z,P){return z.currentChar()===P?(z.next(),P):(b(Ce.EXPECTED_TOKEN,c(),0,P),"")}function A(z){let P="";for(;z.currentPeek()===gr||z.currentPeek()===An;)P+=z.currentPeek(),z.peek();return P}function F(z){const P=A(z);return z.skipToPeek(),P}function M(z){if(z===Vr)return!1;const P=z.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P===95}function R(z){if(z===Vr)return!1;const P=z.charCodeAt(0);return P>=48&&P<=57}function D(z,P){const{currentType:j}=P;if(j!==2)return!1;A(z);const st=M(z.currentPeek());return z.resetPeek(),st}function B(z,P){const{currentType:j}=P;if(j!==2)return!1;A(z);const st=z.currentPeek()==="-"?z.peek():z.currentPeek(),Rt=R(st);return z.resetPeek(),Rt}function $(z,P){const{currentType:j}=P;if(j!==2)return!1;A(z);const st=z.currentPeek()===Tp;return z.resetPeek(),st}function q(z,P){const{currentType:j}=P;if(j!==7)return!1;A(z);const st=z.currentPeek()===".";return z.resetPeek(),st}function V(z,P){const{currentType:j}=P;if(j!==8)return!1;A(z);const st=M(z.currentPeek());return z.resetPeek(),st}function ot(z,P){const{currentType:j}=P;if(!(j===7||j===11))return!1;A(z);const st=z.currentPeek()===":";return z.resetPeek(),st}function K(z,P){const{currentType:j}=P;if(j!==9)return!1;const st=()=>{const yt=z.currentPeek();return yt==="{"?M(z.peek()):yt==="@"||yt==="|"||yt===":"||yt==="."||yt===gr||!yt?!1:yt===An?(z.peek(),st()):Lt(z,!1)},Rt=st();return z.resetPeek(),Rt}function lt(z){A(z);const P=z.currentPeek()==="|";return z.resetPeek(),P}function Lt(z,P=!0){const j=(Rt=!1,yt="")=>{const W=z.currentPeek();return W==="{"||W==="@"||!W?Rt:W==="|"?!(yt===gr||yt===An):W===gr?(z.peek(),j(!0,gr)):W===An?(z.peek(),j(!0,An)):!0},st=j();return P&&z.resetPeek(),st}function et(z,P){const j=z.currentChar();return j===Vr?Vr:P(j)?(z.next(),j):null}function Q(z){const P=z.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36}function Y(z){return et(z,Q)}function gt(z){const P=z.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36||P===45}function vt(z){return et(z,gt)}function Et(z){const P=z.charCodeAt(0);return P>=48&&P<=57}function ft(z){return et(z,Et)}function Pt(z){const P=z.charCodeAt(0);return P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102}function at(z){return et(z,Pt)}function Dt(z){let P="",j="";for(;P=ft(z);)j+=P;return j}function Gt(z){let P="";for(;;){const j=z.currentChar();if(j==="{"||j==="}"||j==="@"||j==="|"||!j)break;if(j===gr||j===An)if(Lt(z))P+=j,z.next();else{if(lt(z))break;P+=j,z.next()}else P+=j,z.next()}return P}function Bt(z){F(z);let P="",j="";for(;P=vt(z);)j+=P;return z.currentChar()===Vr&&b(Ce.UNTERMINATED_CLOSING_BRACE,c(),0),j}function It(z){F(z);let P="";return z.currentChar()==="-"?(z.next(),P+=`-${Dt(z)}`):P+=Dt(z),z.currentChar()===Vr&&b(Ce.UNTERMINATED_CLOSING_BRACE,c(),0),P}function bt(z){return z!==Tp&&z!==An}function Tt(z){F(z),I(z,"'");let P="",j="";for(;P=et(z,bt);)P==="\\"?j+=it(z):j+=P;const st=z.currentChar();return st===An||st===Vr?(b(Ce.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,c(),0),st===An&&(z.next(),I(z,"'")),j):(I(z,"'"),j)}function it(z){const P=z.currentChar();switch(P){case"\\":case"'":return z.next(),`\\${P}`;case"u":return G(z,P,4);case"U":return G(z,P,6);default:return b(Ce.UNKNOWN_ESCAPE_SEQUENCE,c(),0,P),""}}function G(z,P,j){I(z,P);let st="";for(let Rt=0;Rt<j;Rt++){const yt=at(z);if(!yt){b(Ce.INVALID_UNICODE_ESCAPE_SEQUENCE,c(),0,`\\${P}${st}${z.currentChar()}`);break}st+=yt}return`\\${P}${st}`}function kt(z){return z!=="{"&&z!=="}"&&z!==gr&&z!==An}function Ct(z){F(z);let P="",j="";for(;P=et(z,kt);)j+=P;return j}function St(z){let P="",j="";for(;P=Y(z);)j+=P;return j}function C(z){const P=j=>{const st=z.currentChar();return st==="{"||st==="@"||st==="|"||st==="("||st===")"||!st||st===gr?j:(j+=st,z.next(),P(j))};return P("")}function H(z){F(z);const P=I(z,"|");return F(z),P}function J(z,P){let j=null;switch(z.currentChar()){case"{":return P.braceNest>=1&&b(Ce.NOT_ALLOW_NEST_PLACEHOLDER,c(),0),z.next(),j=E(P,2,"{"),F(z),P.braceNest++,j;case"}":return P.braceNest>0&&P.currentType===2&&b(Ce.EMPTY_PLACEHOLDER,c(),0),z.next(),j=E(P,3,"}"),P.braceNest--,P.braceNest>0&&F(z),P.inLinked&&P.braceNest===0&&(P.inLinked=!1),j;case"@":return P.braceNest>0&&b(Ce.UNTERMINATED_CLOSING_BRACE,c(),0),j=dt(z,P)||T(P),P.braceNest=0,j;default:{let Rt=!0,yt=!0,W=!0;if(lt(z))return P.braceNest>0&&b(Ce.UNTERMINATED_CLOSING_BRACE,c(),0),j=E(P,1,H(z)),P.braceNest=0,P.inLinked=!1,j;if(P.braceNest>0&&(P.currentType===4||P.currentType===5||P.currentType===6))return b(Ce.UNTERMINATED_CLOSING_BRACE,c(),0),P.braceNest=0,mt(z,P);if(Rt=D(z,P))return j=E(P,4,Bt(z)),F(z),j;if(yt=B(z,P))return j=E(P,5,It(z)),F(z),j;if(W=$(z,P))return j=E(P,6,Tt(z)),F(z),j;if(!Rt&&!yt&&!W)return j=E(P,12,Ct(z)),b(Ce.INVALID_TOKEN_IN_PLACEHOLDER,c(),0,j.value),F(z),j;break}}return j}function dt(z,P){const{currentType:j}=P;let st=null;const Rt=z.currentChar();switch((j===7||j===8||j===11||j===9)&&(Rt===An||Rt===gr)&&b(Ce.INVALID_LINKED_FORMAT,c(),0),Rt){case"@":return z.next(),st=E(P,7,"@"),P.inLinked=!0,st;case".":return F(z),z.next(),E(P,8,".");case":":return F(z),z.next(),E(P,9,":");default:return lt(z)?(st=E(P,1,H(z)),P.braceNest=0,P.inLinked=!1,st):q(z,P)||ot(z,P)?(F(z),dt(z,P)):V(z,P)?(F(z),E(P,11,St(z))):K(z,P)?(F(z),Rt==="{"?J(z,P)||st:E(P,10,C(z))):(j===7&&b(Ce.INVALID_LINKED_FORMAT,c(),0),P.braceNest=0,P.inLinked=!1,mt(z,P))}}function mt(z,P){let j={type:13};if(P.braceNest>0)return J(z,P)||T(P);if(P.inLinked)return dt(z,P)||T(P);switch(z.currentChar()){case"{":return J(z,P)||T(P);case"}":return b(Ce.UNBALANCED_CLOSING_BRACE,c(),0),z.next(),E(P,3,"}");case"@":return dt(z,P)||T(P);default:{if(lt(z))return j=E(P,1,H(z)),P.braceNest=0,P.inLinked=!1,j;if(Lt(z))return E(P,0,Gt(z));break}}return j}function pt(){const{currentType:z,offset:P,startLoc:j,endLoc:st}=g;return g.lastType=z,g.lastOffset=P,g.lastStartLoc=j,g.lastEndLoc=st,g.offset=r(),g.startLoc=c(),a.currentChar()===Vr?E(g,13):mt(a,g)}return{nextToken:pt,currentOffset:r,currentPosition:c,context:_}}const vk="parser",yk=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function bk(t,e,s){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const a=parseInt(e||s,16);return a<=55295||a>=57344?String.fromCodePoint(a):""}}}function wk(t={}){const e=t.location!==!1,{onError:s}=t;function a(M,R,D,B,...$){const q=M.currentPosition();if(q.offset+=B,q.column+=B,s){const V=e?Hh(D,q):null,ot=Pc(R,V,{domain:vk,args:$});s(ot)}}function r(M,R,D){const B={type:M};return e&&(B.start=R,B.end=R,B.loc={start:D,end:D}),B}function c(M,R,D,B){e&&(M.end=R,M.loc&&(M.loc.end=D))}function f(M,R){const D=M.context(),B=r(3,D.offset,D.startLoc);return B.value=R,c(B,M.currentOffset(),M.currentPosition()),B}function d(M,R){const D=M.context(),{lastOffset:B,lastStartLoc:$}=D,q=r(5,B,$);return q.index=parseInt(R,10),M.nextToken(),c(q,M.currentOffset(),M.currentPosition()),q}function g(M,R){const D=M.context(),{lastOffset:B,lastStartLoc:$}=D,q=r(4,B,$);return q.key=R,M.nextToken(),c(q,M.currentOffset(),M.currentPosition()),q}function _(M,R){const D=M.context(),{lastOffset:B,lastStartLoc:$}=D,q=r(9,B,$);return q.value=R.replace(yk,bk),M.nextToken(),c(q,M.currentOffset(),M.currentPosition()),q}function y(M){const R=M.nextToken(),D=M.context(),{lastOffset:B,lastStartLoc:$}=D,q=r(8,B,$);return R.type!==11?(a(M,Ce.UNEXPECTED_EMPTY_LINKED_MODIFIER,D.lastStartLoc,0),q.value="",c(q,B,$),{nextConsumeToken:R,node:q}):(R.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,Yi(R)),q.value=R.value||"",c(q,M.currentOffset(),M.currentPosition()),{node:q})}function b(M,R){const D=M.context(),B=r(7,D.offset,D.startLoc);return B.value=R,c(B,M.currentOffset(),M.currentPosition()),B}function E(M){const R=M.context(),D=r(6,R.offset,R.startLoc);let B=M.nextToken();if(B.type===8){const $=y(M);D.modifier=$.node,B=$.nextConsumeToken||M.nextToken()}switch(B.type!==9&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(B)),B=M.nextToken(),B.type===2&&(B=M.nextToken()),B.type){case 10:B.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(B)),D.key=b(M,B.value||"");break;case 4:B.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(B)),D.key=g(M,B.value||"");break;case 5:B.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(B)),D.key=d(M,B.value||"");break;case 6:B.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(B)),D.key=_(M,B.value||"");break;default:{a(M,Ce.UNEXPECTED_EMPTY_LINKED_KEY,R.lastStartLoc,0);const $=M.context(),q=r(7,$.offset,$.startLoc);return q.value="",c(q,$.offset,$.startLoc),D.key=q,c(D,$.offset,$.startLoc),{nextConsumeToken:B,node:D}}}return c(D,M.currentOffset(),M.currentPosition()),{node:D}}function T(M){const R=M.context(),D=R.currentType===1?M.currentOffset():R.offset,B=R.currentType===1?R.endLoc:R.startLoc,$=r(2,D,B);$.items=[];let q=null;do{const K=q||M.nextToken();switch(q=null,K.type){case 0:K.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(K)),$.items.push(f(M,K.value||""));break;case 5:K.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(K)),$.items.push(d(M,K.value||""));break;case 4:K.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(K)),$.items.push(g(M,K.value||""));break;case 6:K.value==null&&a(M,Ce.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Yi(K)),$.items.push(_(M,K.value||""));break;case 7:{const lt=E(M);$.items.push(lt.node),q=lt.nextConsumeToken||null;break}}}while(R.currentType!==13&&R.currentType!==1);const V=R.currentType===1?R.lastOffset:M.currentOffset(),ot=R.currentType===1?R.lastEndLoc:M.currentPosition();return c($,V,ot),$}function I(M,R,D,B){const $=M.context();let q=B.items.length===0;const V=r(1,R,D);V.cases=[],V.cases.push(B);do{const ot=T(M);q||(q=ot.items.length===0),V.cases.push(ot)}while($.currentType!==13);return q&&a(M,Ce.MUST_HAVE_MESSAGES_IN_PLURAL,D,0),c(V,M.currentOffset(),M.currentPosition()),V}function A(M){const R=M.context(),{offset:D,startLoc:B}=R,$=T(M);return R.currentType===13?$:I(M,D,B,$)}function F(M){const R=_k(M,an({},t)),D=R.context(),B=r(0,D.offset,D.startLoc);return e&&B.loc&&(B.loc.source=M),B.body=A(R),t.onCacheKey&&(B.cacheKey=t.onCacheKey(M)),D.currentType!==13&&a(R,Ce.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,M[D.offset]||""),c(B,R.currentOffset(),R.currentPosition()),B}return{parse:F}}function Yi(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function Lk(t,e={}){const s={ast:t,helpers:new Set};return{context:()=>s,helper:c=>(s.helpers.add(c),c)}}function Cp(t,e){for(let s=0;s<t.length;s++)$f(t[s],e)}function $f(t,e){switch(t.type){case 1:Cp(t.cases,e),e.helper("plural");break;case 2:Cp(t.items,e);break;case 6:{$f(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Ek(t,e={}){const s=Lk(t);s.helper("normalize"),t.body&&$f(t.body,s);const a=s.context();t.helpers=Array.from(a.helpers)}function kk(t){const e=t.body;return e.type===2?Sp(e):e.cases.forEach(s=>Sp(s)),t}function Sp(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let s=0;s<t.items.length;s++){const a=t.items[s];if(!(a.type===3||a.type===9)||a.value==null)break;e.push(a.value)}if(e.length===t.items.length){t.static=Uf(e);for(let s=0;s<t.items.length;s++){const a=t.items[s];(a.type===3||a.type===9)&&delete a.value}}}}function Oo(t){switch(t.t=t.type,t.type){case 0:{const e=t;Oo(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,s=e.cases;for(let a=0;a<s.length;a++)Oo(s[a]);e.c=s,delete e.cases;break}case 2:{const e=t,s=e.items;for(let a=0;a<s.length;a++)Oo(s[a]);e.i=s,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Oo(e.key),e.k=e.key,delete e.key,e.modifier&&(Oo(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function xk(t,e){const{sourceMap:s,filename:a,breakLineCode:r,needIndent:c}=e,f=e.location!==!1,d={filename:a,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:c,indentLevel:0};f&&t.loc&&(d.source=t.loc.source);const g=()=>d;function _(F,M){d.code+=F}function y(F,M=!0){const R=M?r:"";_(c?R+"  ".repeat(F):R)}function b(F=!0){const M=++d.indentLevel;F&&y(M)}function E(F=!0){const M=--d.indentLevel;F&&y(M)}function T(){y(d.indentLevel)}return{context:g,push:_,indent:b,deindent:E,newline:T,helper:F=>`_${F}`,needIndent:()=>d.needIndent}}function Tk(t,e){const{helper:s}=t;t.push(`${s("linked")}(`),Yo(t,e.key),e.modifier?(t.push(", "),Yo(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Ck(t,e){const{helper:s,needIndent:a}=t;t.push(`${s("normalize")}([`),t.indent(a());const r=e.items.length;for(let c=0;c<r&&(Yo(t,e.items[c]),c!==r-1);c++)t.push(", ");t.deindent(a()),t.push("])")}function Sk(t,e){const{helper:s,needIndent:a}=t;if(e.cases.length>1){t.push(`${s("plural")}([`),t.indent(a());const r=e.cases.length;for(let c=0;c<r&&(Yo(t,e.cases[c]),c!==r-1);c++)t.push(", ");t.deindent(a()),t.push("])")}}function Ik(t,e){e.body?Yo(t,e.body):t.push("null")}function Yo(t,e){const{helper:s}=t;switch(e.type){case 0:Ik(t,e);break;case 1:Sk(t,e);break;case 2:Ck(t,e);break;case 6:Tk(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${s("interpolate")}(${s("list")}(${e.index}))`,e);break;case 4:t.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const Pk=(t,e={})=>{const s=$t(e.mode)?e.mode:"normal",a=$t(e.filename)?e.filename:"message.intl",r=!!e.sourceMap,c=e.breakLineCode!=null?e.breakLineCode:s==="arrow"?";":`
`,f=e.needIndent?e.needIndent:s!=="arrow",d=t.helpers||[],g=xk(t,{mode:s,filename:a,sourceMap:r,breakLineCode:c,needIndent:f});g.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),g.indent(f),d.length>0&&(g.push(`const { ${Uf(d.map(b=>`${b}: _${b}`),", ")} } = ctx`),g.newline()),g.push("return "),Yo(g,t),g.deindent(f),g.push("}"),delete t.helpers;const{code:_,map:y}=g.context();return{ast:t,code:_,map:y?y.toJSON():void 0}};function Nk(t,e={}){const s=an({},e),a=!!s.jit,r=!!s.minify,c=s.optimize==null?!0:s.optimize,d=wk(s).parse(t);return a?(c&&kk(d),r&&Oo(d),{ast:d,code:""}):(Ek(d,s),Pk(d,s))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Ok(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vs().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function _h(t){return s=>Mk(s,t)}function Mk(t,e){const s=Rk(e);if(s==null)throw dl(0);if(Gf(s)===1){const c=Bk(s);return t.plural(c.reduce((f,d)=>[...f,Ip(t,d)],[]))}else return Ip(t,s)}const Ak=["b","body"];function Rk(t){return ps(t,Ak)}const Dk=["c","cases"];function Bk(t){return ps(t,Dk,[])}function Ip(t,e){const s=zk(e);if(s!=null)return t.type==="text"?s:t.normalize([s]);{const a=$k(e).reduce((r,c)=>[...r,Vh(t,c)],[]);return t.normalize(a)}}const Fk=["s","static"];function zk(t){return ps(t,Fk)}const Uk=["i","items"];function $k(t){return ps(t,Uk,[])}function Vh(t,e){const s=Gf(e);switch(s){case 3:return hu(e,s);case 9:return hu(e,s);case 4:{const a=e;if(Pi(a,"k")&&a.k)return t.interpolate(t.named(a.k));if(Pi(a,"key")&&a.key)return t.interpolate(t.named(a.key));throw dl(s)}case 5:{const a=e;if(Pi(a,"i")&&Qe(a.i))return t.interpolate(t.list(a.i));if(Pi(a,"index")&&Qe(a.index))return t.interpolate(t.list(a.index));throw dl(s)}case 6:{const a=e,r=qk(a),c=Wk(a);return t.linked(Vh(t,c),r?Vh(t,r):void 0,t.type)}case 7:return hu(e,s);case 8:return hu(e,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const Gk=["t","type"];function Gf(t){return ps(t,Gk)}const Hk=["v","value"];function hu(t,e){const s=ps(t,Hk);if(s)return s;throw dl(e)}const Vk=["m","modifier"];function qk(t){return ps(t,Vk)}const Zk=["k","key"];function Wk(t){const e=ps(t,Zk);if(e)return e;throw dl(6)}function ps(t,e,s){for(let a=0;a<e.length;a++){const r=e[a];if(Pi(t,r)&&t[r]!=null)return t[r]}return s}function dl(t){return new Error(`unhandled node type: ${t}`)}const Yk=t=>t;let fu=Ie();function jo(t){return ve(t)&&Gf(t)===0&&(Pi(t,"b")||Pi(t,"body"))}function jk(t,e={}){let s=!1;const a=e.onError||ck;return e.onError=r=>{s=!0,a(r)},{...Nk(t,e),detectError:s}}function Xk(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&$t(t)){me(e.warnHtmlMessage)&&e.warnHtmlMessage;const a=(e.onCacheKey||Yk)(t),r=fu[a];if(r)return r;const{ast:c,detectError:f}=jk(t,{...e,location:!1,jit:!0}),d=_h(c);return f?d:fu[a]=d}else{const s=t.cacheKey;if(s){const a=fu[s];return a||(fu[s]=_h(t))}else return _h(t)}}let pl=null;function Kk(t){pl=t}function Jk(t,e,s){pl&&pl.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:s})}const Qk=t1("function:translate");function t1(t){return e=>pl&&pl.emit(t,e)}const Tr={INVALID_ARGUMENT:uk,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},e1=24;function Cr(t){return Pc(t,null,void 0)}function Hf(t,e){return e.locale!=null?Pp(e.locale):Pp(t.locale)}let vh;function Pp(t){if($t(t))return t;if(De(t)){if(t.resolvedOnce&&vh!=null)return vh;if(t.constructor.name==="Function"){const e=t();if(sk(e))throw Cr(Tr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return vh=e}else throw Cr(Tr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Cr(Tr.NOT_SUPPORT_LOCALE_TYPE)}function n1(t,e,s){return[...new Set([s,...je(e)?e:ve(e)?Object.keys(e):$t(e)?[e]:[s]])]}function iv(t,e,s){const a=$t(s)?s:ml,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let c=r.__localeChainCache.get(a);if(!c){c=[];let f=[s];for(;je(f);)f=Np(c,f,e);const d=je(e)||!le(e)?e:e.default?e.default:null;f=$t(d)?[d]:d,je(f)&&Np(c,f,!1),r.__localeChainCache.set(a,c)}return c}function Np(t,e,s){let a=!0;for(let r=0;r<e.length&&me(a);r++){const c=e[r];$t(c)&&(a=i1(t,e[r],s))}return a}function i1(t,e,s){let a;const r=e.split("-");do{const c=r.join("-");a=r1(t,c,s),r.splice(-1,1)}while(r.length&&a===!0);return a}function r1(t,e,s){let a=!1;if(!t.includes(e)&&(a=!0,e)){a=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(je(s)||le(s))&&s[r]&&(a=s[r])}return a}const ms=[];ms[0]={w:[0],i:[3,0],"[":[4],o:[7]};ms[1]={w:[1],".":[2],"[":[4],o:[7]};ms[2]={w:[2],i:[3,0],0:[3,0]};ms[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ms[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ms[5]={"'":[4,0],o:8,l:[5,0]};ms[6]={'"':[4,0],o:8,l:[6,0]};const s1=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function o1(t){return s1.test(t)}function a1(t){const e=t.charCodeAt(0),s=t.charCodeAt(t.length-1);return e===s&&(e===34||e===39)?t.slice(1,-1):t}function l1(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function u1(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:o1(e)?a1(e):"*"+e}function c1(t){const e=[];let s=-1,a=0,r=0,c,f,d,g,_,y,b;const E=[];E[0]=()=>{f===void 0?f=d:f+=d},E[1]=()=>{f!==void 0&&(e.push(f),f=void 0)},E[2]=()=>{E[0](),r++},E[3]=()=>{if(r>0)r--,a=4,E[0]();else{if(r=0,f===void 0||(f=u1(f),f===!1))return!1;E[1]()}};function T(){const I=t[s+1];if(a===5&&I==="'"||a===6&&I==='"')return s++,d="\\"+I,E[0](),!0}for(;a!==null;)if(s++,c=t[s],!(c==="\\"&&T())){if(g=l1(c),b=ms[a],_=b[g]||b.l||8,_===8||(a=_[0],_[1]!==void 0&&(y=E[_[1]],y&&(d=c,y()===!1))))return;if(a===7)return e}}const Op=new Map;function h1(t,e){return ve(t)?t[e]:null}function f1(t,e){if(!ve(t))return null;let s=Op.get(e);if(s||(s=c1(e),s&&Op.set(e,s)),!s)return null;const a=s.length;let r=t,c=0;for(;c<a;){const f=r[s[c]];if(f===void 0||De(r))return null;r=f,c++}return r}const d1="10.0.5",Nc=-1,ml="en-US",Mp="",Ap=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function p1(){return{upper:(t,e)=>e==="text"&&$t(t)?t.toUpperCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&$t(t)?t.toLowerCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&$t(t)?Ap(t):e==="vnode"&&ve(t)&&"__v_isVNode"in t?Ap(t.children):t}}let rv;function m1(t){rv=t}let sv;function g1(t){sv=t}let ov;function _1(t){ov=t}let av=null;const v1=t=>{av=t},y1=()=>av;let lv=null;const Rp=t=>{lv=t},b1=()=>lv;let Dp=0;function w1(t={}){const e=De(t.onWarn)?t.onWarn:ak,s=$t(t.version)?t.version:d1,a=$t(t.locale)||De(t.locale)?t.locale:ml,r=De(a)?ml:a,c=je(t.fallbackLocale)||le(t.fallbackLocale)||$t(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,f=le(t.messages)?t.messages:yh(r),d=le(t.datetimeFormats)?t.datetimeFormats:yh(r),g=le(t.numberFormats)?t.numberFormats:yh(r),_=an(Ie(),t.modifiers,p1()),y=t.pluralRules||Ie(),b=De(t.missing)?t.missing:null,E=me(t.missingWarn)||Wo(t.missingWarn)?t.missingWarn:!0,T=me(t.fallbackWarn)||Wo(t.fallbackWarn)?t.fallbackWarn:!0,I=!!t.fallbackFormat,A=!!t.unresolving,F=De(t.postTranslation)?t.postTranslation:null,M=le(t.processor)?t.processor:null,R=me(t.warnHtmlMessage)?t.warnHtmlMessage:!0,D=!!t.escapeParameter,B=De(t.messageCompiler)?t.messageCompiler:rv,$=De(t.messageResolver)?t.messageResolver:sv||h1,q=De(t.localeFallbacker)?t.localeFallbacker:ov||n1,V=ve(t.fallbackContext)?t.fallbackContext:void 0,ot=t,K=ve(ot.__datetimeFormatters)?ot.__datetimeFormatters:new Map,lt=ve(ot.__numberFormatters)?ot.__numberFormatters:new Map,Lt=ve(ot.__meta)?ot.__meta:{};Dp++;const et={version:s,cid:Dp,locale:a,fallbackLocale:c,messages:f,modifiers:_,pluralRules:y,missing:b,missingWarn:E,fallbackWarn:T,fallbackFormat:I,unresolving:A,postTranslation:F,processor:M,warnHtmlMessage:R,escapeParameter:D,messageCompiler:B,messageResolver:$,localeFallbacker:q,fallbackContext:V,onWarn:e,__meta:Lt};return et.datetimeFormats=d,et.numberFormats=g,et.__datetimeFormatters=K,et.__numberFormatters=lt,__INTLIFY_PROD_DEVTOOLS__&&Jk(et,s,Lt),et}const yh=t=>({[t]:Ie()});function Vf(t,e,s,a,r){const{missing:c,onWarn:f}=t;if(c!==null){const d=c(t,s,e,r);return $t(d)?d:e}else return e}function za(t,e,s){const a=t;a.__localeChainCache=new Map,t.localeFallbacker(t,s,e)}function L1(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function E1(t,e){const s=e.indexOf(t);if(s===-1)return!1;for(let a=s+1;a<e.length;a++)if(L1(t,e[a]))return!0;return!1}function Bp(t,...e){const{datetimeFormats:s,unresolving:a,fallbackLocale:r,onWarn:c,localeFallbacker:f}=t,{__datetimeFormatters:d}=t,[g,_,y,b]=qh(...e),E=me(y.missingWarn)?y.missingWarn:t.missingWarn;me(y.fallbackWarn)?y.fallbackWarn:t.fallbackWarn;const T=!!y.part,I=Hf(t,y),A=f(t,r,I);if(!$t(g)||g==="")return new Intl.DateTimeFormat(I,b).format(_);let F={},M,R=null;const D="datetime format";for(let q=0;q<A.length&&(M=A[q],F=s[M]||{},R=F[g],!le(R));q++)Vf(t,g,M,E,D);if(!le(R)||!$t(M))return a?Nc:g;let B=`${M}__${g}`;Ic(b)||(B=`${B}__${JSON.stringify(b)}`);let $=d.get(B);return $||($=new Intl.DateTimeFormat(M,an({},R,b)),d.set(B,$)),T?$.formatToParts(_):$.format(_)}const uv=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function qh(...t){const[e,s,a,r]=t,c=Ie();let f=Ie(),d;if($t(e)){const g=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!g)throw Cr(Tr.INVALID_ISO_DATE_ARGUMENT);const _=g[3]?g[3].trim().startsWith("T")?`${g[1].trim()}${g[3].trim()}`:`${g[1].trim()}T${g[3].trim()}`:g[1].trim();d=new Date(_);try{d.toISOString()}catch{throw Cr(Tr.INVALID_ISO_DATE_ARGUMENT)}}else if(nk(e)){if(isNaN(e.getTime()))throw Cr(Tr.INVALID_DATE_ARGUMENT);d=e}else if(Qe(e))d=e;else throw Cr(Tr.INVALID_ARGUMENT);return $t(s)?c.key=s:le(s)&&Object.keys(s).forEach(g=>{uv.includes(g)?f[g]=s[g]:c[g]=s[g]}),$t(a)?c.locale=a:le(a)&&(f=a),le(r)&&(f=r),[c.key||"",d,c,f]}function Fp(t,e,s){const a=t;for(const r in s){const c=`${e}__${r}`;a.__datetimeFormatters.has(c)&&a.__datetimeFormatters.delete(c)}}function zp(t,...e){const{numberFormats:s,unresolving:a,fallbackLocale:r,onWarn:c,localeFallbacker:f}=t,{__numberFormatters:d}=t,[g,_,y,b]=Zh(...e),E=me(y.missingWarn)?y.missingWarn:t.missingWarn;me(y.fallbackWarn)?y.fallbackWarn:t.fallbackWarn;const T=!!y.part,I=Hf(t,y),A=f(t,r,I);if(!$t(g)||g==="")return new Intl.NumberFormat(I,b).format(_);let F={},M,R=null;const D="number format";for(let q=0;q<A.length&&(M=A[q],F=s[M]||{},R=F[g],!le(R));q++)Vf(t,g,M,E,D);if(!le(R)||!$t(M))return a?Nc:g;let B=`${M}__${g}`;Ic(b)||(B=`${B}__${JSON.stringify(b)}`);let $=d.get(B);return $||($=new Intl.NumberFormat(M,an({},R,b)),d.set(B,$)),T?$.formatToParts(_):$.format(_)}const cv=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Zh(...t){const[e,s,a,r]=t,c=Ie();let f=Ie();if(!Qe(e))throw Cr(Tr.INVALID_ARGUMENT);const d=e;return $t(s)?c.key=s:le(s)&&Object.keys(s).forEach(g=>{cv.includes(g)?f[g]=s[g]:c[g]=s[g]}),$t(a)?c.locale=a:le(a)&&(f=a),le(r)&&(f=r),[c.key||"",d,c,f]}function Up(t,e,s){const a=t;for(const r in s){const c=`${e}__${r}`;a.__numberFormatters.has(c)&&a.__numberFormatters.delete(c)}}const k1=t=>t,x1=t=>"",T1="text",C1=t=>t.length===0?"":Uf(t),S1=ok;function $p(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function I1(t){const e=Qe(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Qe(t.named.count)||Qe(t.named.n))?Qe(t.named.count)?t.named.count:Qe(t.named.n)?t.named.n:e:e}function P1(t,e){e.count||(e.count=t),e.n||(e.n=t)}function N1(t={}){const e=t.locale,s=I1(t),a=ve(t.pluralRules)&&$t(e)&&De(t.pluralRules[e])?t.pluralRules[e]:$p,r=ve(t.pluralRules)&&$t(e)&&De(t.pluralRules[e])?$p:void 0,c=M=>M[a(s,M.length,r)],f=t.list||[],d=M=>f[M],g=t.named||Ie();Qe(t.pluralIndex)&&P1(s,g);const _=M=>g[M];function y(M,R){const D=De(t.messages)?t.messages(M,!!R):ve(t.messages)?t.messages[M]:!1;return D||(t.parent?t.parent.message(M):x1)}const b=M=>t.modifiers?t.modifiers[M]:k1,E=le(t.processor)&&De(t.processor.normalize)?t.processor.normalize:C1,T=le(t.processor)&&De(t.processor.interpolate)?t.processor.interpolate:S1,I=le(t.processor)&&$t(t.processor.type)?t.processor.type:T1,F={list:d,named:_,plural:c,linked:(M,...R)=>{const[D,B]=R;let $="text",q="";R.length===1?ve(D)?(q=D.modifier||q,$=D.type||$):$t(D)&&(q=D||q):R.length===2&&($t(D)&&(q=D||q),$t(B)&&($=B||$));const V=y(M,!0)(F),ot=$==="vnode"&&je(V)&&q?V[0]:V;return q?b(q)(ot,$):ot},message:y,type:I,interpolate:T,normalize:E,values:an(Ie(),f,g)};return F}const Gp=()=>"",vi=t=>De(t);function Hp(t,...e){const{fallbackFormat:s,postTranslation:a,unresolving:r,messageCompiler:c,fallbackLocale:f,messages:d}=t,[g,_]=Wh(...e),y=me(_.missingWarn)?_.missingWarn:t.missingWarn,b=me(_.fallbackWarn)?_.fallbackWarn:t.fallbackWarn,E=me(_.escapeParameter)?_.escapeParameter:t.escapeParameter,T=!!_.resolvedMessage,I=$t(_.default)||me(_.default)?me(_.default)?c?g:()=>g:_.default:s?c?g:()=>g:null,A=s||I!=null&&($t(I)||De(I)),F=Hf(t,_);E&&O1(_);let[M,R,D]=T?[g,F,d[F]||Ie()]:hv(t,g,F,f,b,y),B=M,$=g;if(!T&&!($t(B)||jo(B)||vi(B))&&A&&(B=I,$=B),!T&&(!($t(B)||jo(B)||vi(B))||!$t(R)))return r?Nc:g;let q=!1;const V=()=>{q=!0},ot=vi(B)?B:fv(t,g,R,B,$,V);if(q)return B;const K=R1(t,R,D,_),lt=N1(K),Lt=M1(t,ot,lt),et=a?a(Lt,g):Lt;if(__INTLIFY_PROD_DEVTOOLS__){const Q={timestamp:Date.now(),key:$t(g)?g:vi(B)?B.key:"",locale:R||(vi(B)?B.locale:""),format:$t(B)?B:vi(B)?B.source:"",message:et};Q.meta=an({},t.__meta,y1()||{}),Qk(Q)}return et}function O1(t){je(t.list)?t.list=t.list.map(e=>$t(e)?xp(e):e):ve(t.named)&&Object.keys(t.named).forEach(e=>{$t(t.named[e])&&(t.named[e]=xp(t.named[e]))})}function hv(t,e,s,a,r,c){const{messages:f,onWarn:d,messageResolver:g,localeFallbacker:_}=t,y=_(t,a,s);let b=Ie(),E,T=null;const I="translate";for(let A=0;A<y.length&&(E=y[A],b=f[E]||Ie(),(T=g(b,e))===null&&(T=b[e]),!($t(T)||jo(T)||vi(T)));A++)if(!E1(E,y)){const F=Vf(t,e,E,c,I);F!==e&&(T=F)}return[T,E,b]}function fv(t,e,s,a,r,c){const{messageCompiler:f,warnHtmlMessage:d}=t;if(vi(a)){const _=a;return _.locale=_.locale||s,_.key=_.key||e,_}if(f==null){const _=()=>a;return _.locale=s,_.key=e,_}const g=f(a,A1(t,s,r,a,d,c));return g.locale=s,g.key=e,g.source=a,g}function M1(t,e,s){return e(s)}function Wh(...t){const[e,s,a]=t,r=Ie();if(!$t(e)&&!Qe(e)&&!vi(e)&&!jo(e))throw Cr(Tr.INVALID_ARGUMENT);const c=Qe(e)?String(e):(vi(e),e);return Qe(s)?r.plural=s:$t(s)?r.default=s:le(s)&&!Ic(s)?r.named=s:je(s)&&(r.list=s),Qe(a)?r.plural=a:$t(a)?r.default=a:le(a)&&an(r,a),[c,r]}function A1(t,e,s,a,r,c){return{locale:e,key:s,warnHtmlMessage:r,onError:f=>{throw c&&c(f),f},onCacheKey:f=>tk(e,s,f)}}function R1(t,e,s,a){const{modifiers:r,pluralRules:c,messageResolver:f,fallbackLocale:d,fallbackWarn:g,missingWarn:_,fallbackContext:y}=t,E={locale:e,modifiers:r,pluralRules:c,messages:(T,I)=>{let A=f(s,T);if(A==null&&(y||I)){const[,,F]=hv(y||t,T,e,d,g,_);A=f(F,T)}if($t(A)||jo(A)){let F=!1;const R=fv(t,T,e,A,T,()=>{F=!0});return F?Gp:R}else return vi(A)?A:Gp}};return t.processor&&(E.processor=t.processor),a.list&&(E.list=a.list),a.named&&(E.named=a.named),Qe(a.plural)&&(E.pluralIndex=a.plural),E}Ok();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const D1="10.0.5";function B1(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Vs().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Vs().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vs().__INTLIFY_PROD_DEVTOOLS__=!1)}const zn={UNEXPECTED_RETURN_TYPE:e1,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function Xn(t,...e){return Pc(t,null,void 0)}const Yh=ds("__translateVNode"),jh=ds("__datetimeParts"),Xh=ds("__numberParts"),dv=ds("__setPluralRules"),pv=ds("__injectWithOption"),Kh=ds("__dispose");function gl(t){if(!ve(t))return t;for(const e in t)if(Pi(t,e))if(!e.includes("."))ve(t[e])&&gl(t[e]);else{const s=e.split("."),a=s.length-1;let r=t,c=!1;for(let f=0;f<a;f++){if(s[f]in r||(r[s[f]]=Ie()),!ve(r[s[f]])){c=!0;break}r=r[s[f]]}c||(r[s[a]]=t[e],delete t[e]),ve(r[s[a]])&&gl(r[s[a]])}return t}function qf(t,e){const{messages:s,__i18n:a,messageResolver:r,flatJson:c}=e,f=le(s)?s:je(a)?Ie():{[t]:Ie()};if(je(a)&&a.forEach(d=>{if("locale"in d&&"resource"in d){const{locale:g,resource:_}=d;g?(f[g]=f[g]||Ie(),Eu(_,f[g])):Eu(_,f)}else $t(d)&&Eu(JSON.parse(d),f)}),r==null&&c)for(const d in f)Pi(f,d)&&gl(f[d]);return f}function mv(t){return t.type}function gv(t,e,s){let a=ve(e.messages)?e.messages:Ie();"__i18nGlobal"in s&&(a=qf(t.locale.value,{messages:a,__i18n:s.__i18nGlobal}));const r=Object.keys(a);r.length&&r.forEach(c=>{t.mergeLocaleMessage(c,a[c])});{if(ve(e.datetimeFormats)){const c=Object.keys(e.datetimeFormats);c.length&&c.forEach(f=>{t.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(ve(e.numberFormats)){const c=Object.keys(e.numberFormats);c.length&&c.forEach(f=>{t.mergeNumberFormat(f,e.numberFormats[f])})}}}function Vp(t){return qt(El,null,t,0)}const qp="__INTLIFY_META__",Zp=()=>[],F1=()=>!1;let Wp=0;function Yp(t){return(e,s,a,r)=>t(s,a,jn()||void 0,r)}const z1=()=>{const t=jn();let e=null;return t&&(e=mv(t)[qp])?{[qp]:e}:null};function Zf(t={}){const{__root:e,__injectWithOption:s}=t,a=e===void 0,r=t.flatJson,c=Qu?Mt:Li;let f=me(t.inheritLocale)?t.inheritLocale:!0;const d=c(e&&f?e.locale.value:$t(t.locale)?t.locale:ml),g=c(e&&f?e.fallbackLocale.value:$t(t.fallbackLocale)||je(t.fallbackLocale)||le(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:d.value),_=c(qf(d.value,t)),y=c(le(t.datetimeFormats)?t.datetimeFormats:{[d.value]:{}}),b=c(le(t.numberFormats)?t.numberFormats:{[d.value]:{}});let E=e?e.missingWarn:me(t.missingWarn)||Wo(t.missingWarn)?t.missingWarn:!0,T=e?e.fallbackWarn:me(t.fallbackWarn)||Wo(t.fallbackWarn)?t.fallbackWarn:!0,I=e?e.fallbackRoot:me(t.fallbackRoot)?t.fallbackRoot:!0,A=!!t.fallbackFormat,F=De(t.missing)?t.missing:null,M=De(t.missing)?Yp(t.missing):null,R=De(t.postTranslation)?t.postTranslation:null,D=e?e.warnHtmlMessage:me(t.warnHtmlMessage)?t.warnHtmlMessage:!0,B=!!t.escapeParameter;const $=e?e.modifiers:le(t.modifiers)?t.modifiers:{};let q=t.pluralRules||e&&e.pluralRules,V;V=(()=>{a&&Rp(null);const W={version:D1,locale:d.value,fallbackLocale:g.value,messages:_.value,modifiers:$,pluralRules:q,missing:M===null?void 0:M,missingWarn:E,fallbackWarn:T,fallbackFormat:A,unresolving:!0,postTranslation:R===null?void 0:R,warnHtmlMessage:D,escapeParameter:B,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};W.datetimeFormats=y.value,W.numberFormats=b.value,W.__datetimeFormatters=le(V)?V.__datetimeFormatters:void 0,W.__numberFormatters=le(V)?V.__numberFormatters:void 0;const ct=w1(W);return a&&Rp(ct),ct})(),za(V,d.value,g.value);function K(){return[d.value,g.value,_.value,y.value,b.value]}const lt=ht({get:()=>d.value,set:W=>{d.value=W,V.locale=d.value}}),Lt=ht({get:()=>g.value,set:W=>{g.value=W,V.fallbackLocale=g.value,za(V,d.value,W)}}),et=ht(()=>_.value),Q=ht(()=>y.value),Y=ht(()=>b.value);function gt(){return De(R)?R:null}function vt(W){R=W,V.postTranslation=W}function Et(){return F}function ft(W){W!==null&&(M=Yp(W)),F=W,V.missing=M}const Pt=(W,ct,zt,Kt,Nt,Ue)=>{K();let Wt;try{__INTLIFY_PROD_DEVTOOLS__,a||(V.fallbackContext=e?b1():void 0),Wt=W(V)}finally{__INTLIFY_PROD_DEVTOOLS__,a||(V.fallbackContext=void 0)}if(zt!=="translate exists"&&Qe(Wt)&&Wt===Nc||zt==="translate exists"&&!Wt){const[Zt,Cn]=ct();return e&&I?Kt(e):Nt(Zt)}else{if(Ue(Wt))return Wt;throw Xn(zn.UNEXPECTED_RETURN_TYPE)}};function at(...W){return Pt(ct=>Reflect.apply(Hp,null,[ct,...W]),()=>Wh(...W),"translate",ct=>Reflect.apply(ct.t,ct,[...W]),ct=>ct,ct=>$t(ct))}function Dt(...W){const[ct,zt,Kt]=W;if(Kt&&!ve(Kt))throw Xn(zn.INVALID_ARGUMENT);return at(ct,zt,an({resolvedMessage:!0},Kt||{}))}function Gt(...W){return Pt(ct=>Reflect.apply(Bp,null,[ct,...W]),()=>qh(...W),"datetime format",ct=>Reflect.apply(ct.d,ct,[...W]),()=>Mp,ct=>$t(ct))}function Bt(...W){return Pt(ct=>Reflect.apply(zp,null,[ct,...W]),()=>Zh(...W),"number format",ct=>Reflect.apply(ct.n,ct,[...W]),()=>Mp,ct=>$t(ct))}function It(W){return W.map(ct=>$t(ct)||Qe(ct)||me(ct)?Vp(String(ct)):ct)}const Tt={normalize:It,interpolate:W=>W,type:"vnode"};function it(...W){return Pt(ct=>{let zt;const Kt=ct;try{Kt.processor=Tt,zt=Reflect.apply(Hp,null,[Kt,...W])}finally{Kt.processor=null}return zt},()=>Wh(...W),"translate",ct=>ct[Yh](...W),ct=>[Vp(ct)],ct=>je(ct))}function G(...W){return Pt(ct=>Reflect.apply(zp,null,[ct,...W]),()=>Zh(...W),"number format",ct=>ct[Xh](...W),Zp,ct=>$t(ct)||je(ct))}function kt(...W){return Pt(ct=>Reflect.apply(Bp,null,[ct,...W]),()=>qh(...W),"datetime format",ct=>ct[jh](...W),Zp,ct=>$t(ct)||je(ct))}function Ct(W){q=W,V.pluralRules=q}function St(W,ct){return Pt(()=>{if(!W)return!1;const zt=$t(ct)?ct:d.value,Kt=J(zt),Nt=V.messageResolver(Kt,W);return jo(Nt)||vi(Nt)||$t(Nt)},()=>[W],"translate exists",zt=>Reflect.apply(zt.te,zt,[W,ct]),F1,zt=>me(zt))}function C(W){let ct=null;const zt=iv(V,g.value,d.value);for(let Kt=0;Kt<zt.length;Kt++){const Nt=_.value[zt[Kt]]||{},Ue=V.messageResolver(Nt,W);if(Ue!=null){ct=Ue;break}}return ct}function H(W){const ct=C(W);return ct??(e?e.tm(W)||{}:{})}function J(W){return _.value[W]||{}}function dt(W,ct){if(r){const zt={[W]:ct};for(const Kt in zt)Pi(zt,Kt)&&gl(zt[Kt]);ct=zt[W]}_.value[W]=ct,V.messages=_.value}function mt(W,ct){_.value[W]=_.value[W]||{};const zt={[W]:ct};if(r)for(const Kt in zt)Pi(zt,Kt)&&gl(zt[Kt]);ct=zt[W],Eu(ct,_.value[W]),V.messages=_.value}function pt(W){return y.value[W]||{}}function z(W,ct){y.value[W]=ct,V.datetimeFormats=y.value,Fp(V,W,ct)}function P(W,ct){y.value[W]=an(y.value[W]||{},ct),V.datetimeFormats=y.value,Fp(V,W,ct)}function j(W){return b.value[W]||{}}function st(W,ct){b.value[W]=ct,V.numberFormats=b.value,Up(V,W,ct)}function Rt(W,ct){b.value[W]=an(b.value[W]||{},ct),V.numberFormats=b.value,Up(V,W,ct)}Wp++,e&&Qu&&(se(e.locale,W=>{f&&(d.value=W,V.locale=W,za(V,d.value,g.value))}),se(e.fallbackLocale,W=>{f&&(g.value=W,V.fallbackLocale=W,za(V,d.value,g.value))}));const yt={id:Wp,locale:lt,fallbackLocale:Lt,get inheritLocale(){return f},set inheritLocale(W){f=W,W&&e&&(d.value=e.locale.value,g.value=e.fallbackLocale.value,za(V,d.value,g.value))},get availableLocales(){return Object.keys(_.value).sort()},messages:et,get modifiers(){return $},get pluralRules(){return q||{}},get isGlobal(){return a},get missingWarn(){return E},set missingWarn(W){E=W,V.missingWarn=E},get fallbackWarn(){return T},set fallbackWarn(W){T=W,V.fallbackWarn=T},get fallbackRoot(){return I},set fallbackRoot(W){I=W},get fallbackFormat(){return A},set fallbackFormat(W){A=W,V.fallbackFormat=A},get warnHtmlMessage(){return D},set warnHtmlMessage(W){D=W,V.warnHtmlMessage=W},get escapeParameter(){return B},set escapeParameter(W){B=W,V.escapeParameter=W},t:at,getLocaleMessage:J,setLocaleMessage:dt,mergeLocaleMessage:mt,getPostTranslationHandler:gt,setPostTranslationHandler:vt,getMissingHandler:Et,setMissingHandler:ft,[dv]:Ct};return yt.datetimeFormats=Q,yt.numberFormats=Y,yt.rt=Dt,yt.te=St,yt.tm=H,yt.d=Gt,yt.n=Bt,yt.getDateTimeFormat=pt,yt.setDateTimeFormat=z,yt.mergeDateTimeFormat=P,yt.getNumberFormat=j,yt.setNumberFormat=st,yt.mergeNumberFormat=Rt,yt[pv]=s,yt[Yh]=it,yt[jh]=kt,yt[Xh]=G,yt}function U1(t){const e=$t(t.locale)?t.locale:ml,s=$t(t.fallbackLocale)||je(t.fallbackLocale)||le(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,a=De(t.missing)?t.missing:void 0,r=me(t.silentTranslationWarn)||Wo(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,c=me(t.silentFallbackWarn)||Wo(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,f=me(t.fallbackRoot)?t.fallbackRoot:!0,d=!!t.formatFallbackMessages,g=le(t.modifiers)?t.modifiers:{},_=t.pluralizationRules,y=De(t.postTranslation)?t.postTranslation:void 0,b=$t(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,E=!!t.escapeParameterHtml,T=me(t.sync)?t.sync:!0;let I=t.messages;if(le(t.sharedMessages)){const $=t.sharedMessages;I=Object.keys($).reduce((V,ot)=>{const K=V[ot]||(V[ot]={});return an(K,$[ot]),V},I||{})}const{__i18n:A,__root:F,__injectWithOption:M}=t,R=t.datetimeFormats,D=t.numberFormats,B=t.flatJson;return{locale:e,fallbackLocale:s,messages:I,flatJson:B,datetimeFormats:R,numberFormats:D,missing:a,missingWarn:r,fallbackWarn:c,fallbackRoot:f,fallbackFormat:d,modifiers:g,pluralRules:_,postTranslation:y,warnHtmlMessage:b,escapeParameter:E,messageResolver:t.messageResolver,inheritLocale:T,__i18n:A,__root:F,__injectWithOption:M}}function Jh(t={}){const e=Zf(U1(t)),{__extender:s}=t,a={id:e.id,get locale(){return e.locale.value},set locale(r){e.locale.value=r},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(r){e.fallbackLocale.value=r},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(r){e.setMissingHandler(r)},get silentTranslationWarn(){return me(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(r){e.missingWarn=me(r)?!r:r},get silentFallbackWarn(){return me(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(r){e.fallbackWarn=me(r)?!r:r},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(r){e.fallbackFormat=r},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(r){e.setPostTranslationHandler(r)},get sync(){return e.inheritLocale},set sync(r){e.inheritLocale=r},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(r){e.warnHtmlMessage=r!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(r){e.escapeParameter=r},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...r){return Reflect.apply(e.t,e,[...r])},rt(...r){return Reflect.apply(e.rt,e,[...r])},tc(...r){const[c,f,d]=r,g={plural:1};let _=null,y=null;if(!$t(c))throw Xn(zn.INVALID_ARGUMENT);const b=c;return $t(f)?g.locale=f:Qe(f)?g.plural=f:je(f)?_=f:le(f)&&(y=f),$t(d)?g.locale=d:je(d)?_=d:le(d)&&(y=d),Reflect.apply(e.t,e,[b,_||y||{},g])},te(r,c){return e.te(r,c)},tm(r){return e.tm(r)},getLocaleMessage(r){return e.getLocaleMessage(r)},setLocaleMessage(r,c){e.setLocaleMessage(r,c)},mergeLocaleMessage(r,c){e.mergeLocaleMessage(r,c)},d(...r){return Reflect.apply(e.d,e,[...r])},getDateTimeFormat(r){return e.getDateTimeFormat(r)},setDateTimeFormat(r,c){e.setDateTimeFormat(r,c)},mergeDateTimeFormat(r,c){e.mergeDateTimeFormat(r,c)},n(...r){return Reflect.apply(e.n,e,[...r])},getNumberFormat(r){return e.getNumberFormat(r)},setNumberFormat(r,c){e.setNumberFormat(r,c)},mergeNumberFormat(r,c){e.mergeNumberFormat(r,c)}};return a.__extender=s,a}function $1(t,e,s){return{beforeCreate(){const a=jn();if(!a)throw Xn(zn.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const c=r.i18n;if(r.__i18n&&(c.__i18n=r.__i18n),c.__root=e,this===this.$root)this.$i18n=jp(t,c);else{c.__injectWithOption=!0,c.__extender=s.__vueI18nExtend,this.$i18n=Jh(c);const f=this.$i18n;f.__extender&&(f.__disposer=f.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=jp(t,r);else{this.$i18n=Jh({__i18n:r.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:e});const c=this.$i18n;c.__extender&&(c.__disposer=c.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&gv(e,r,r),this.$t=(...c)=>this.$i18n.t(...c),this.$rt=(...c)=>this.$i18n.rt(...c),this.$tc=(...c)=>this.$i18n.tc(...c),this.$te=(c,f)=>this.$i18n.te(c,f),this.$d=(...c)=>this.$i18n.d(...c),this.$n=(...c)=>this.$i18n.n(...c),this.$tm=c=>this.$i18n.tm(c),s.__setInstance(a,this.$i18n)},mounted(){},unmounted(){const a=jn();if(!a)throw Xn(zn.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),s.__deleteInstance(a),delete this.$i18n}}}function jp(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[dv](e.pluralizationRules||t.pluralizationRules);const s=qf(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(s).forEach(a=>t.mergeLocaleMessage(a,s[a])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(a=>t.mergeDateTimeFormat(a,e.datetimeFormats[a])),e.numberFormats&&Object.keys(e.numberFormats).forEach(a=>t.mergeNumberFormat(a,e.numberFormats[a])),t}const Wf={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function G1({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((a,r)=>[...a,...r.type===ge?r.children:[r]],[]):e.reduce((s,a)=>{const r=t[a];return r&&(s[a]=r()),s},Ie())}function _v(){return ge}const H1=He({name:"i18n-t",props:an({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Qe(t)||!isNaN(t)}},Wf),setup(t,e){const{slots:s,attrs:a}=e,r=t.i18n||Il({useScope:t.scope,__useComponent:!0});return()=>{const c=Object.keys(s).filter(b=>b!=="_"),f=Ie();t.locale&&(f.locale=t.locale),t.plural!==void 0&&(f.plural=$t(t.plural)?+t.plural:t.plural);const d=G1(e,c),g=r[Yh](t.keypath,d,f),_=an(Ie(),a),y=$t(t.tag)||ve(t.tag)?t.tag:_v();return Ii(y,_,g)}}}),Xp=H1;function V1(t){return je(t)&&!$t(t[0])}function vv(t,e,s,a){const{slots:r,attrs:c}=e;return()=>{const f={part:!0};let d=Ie();t.locale&&(f.locale=t.locale),$t(t.format)?f.key=t.format:ve(t.format)&&($t(t.format.key)&&(f.key=t.format.key),d=Object.keys(t.format).reduce((E,T)=>s.includes(T)?an(Ie(),E,{[T]:t.format[T]}):E,Ie()));const g=a(t.value,f,d);let _=[f.key];je(g)?_=g.map((E,T)=>{const I=r[E.type],A=I?I({[E.type]:E.value,index:T,parts:g}):[E.value];return V1(A)&&(A[0].key=`${E.type}-${T}`),A}):$t(g)&&(_=[g]);const y=an(Ie(),c),b=$t(t.tag)||ve(t.tag)?t.tag:_v();return Ii(b,y,_)}}const q1=He({name:"i18n-n",props:an({value:{type:Number,required:!0},format:{type:[String,Object]}},Wf),setup(t,e){const s=t.i18n||Il({useScope:t.scope,__useComponent:!0});return vv(t,e,cv,(...a)=>s[Xh](...a))}}),Kp=q1,Z1=He({name:"i18n-d",props:an({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Wf),setup(t,e){const s=t.i18n||Il({useScope:t.scope,__useComponent:!0});return vv(t,e,uv,(...a)=>s[jh](...a))}}),Jp=Z1;function W1(t,e){const s=t;if(t.mode==="composition")return s.__getInstance(e)||t.global;{const a=s.__getInstance(e);return a!=null?a.__composer:t.global.__composer}}function Y1(t){const e=f=>{const{instance:d,value:g}=f;if(!d||!d.$)throw Xn(zn.UNEXPECTED_ERROR);const _=W1(t,d.$),y=Qp(g);return[Reflect.apply(_.t,_,[...tm(y)]),_]};return{created:(f,d)=>{const[g,_]=e(d);Qu&&t.global===_&&(f.__i18nWatcher=se(_.locale,()=>{d.instance&&d.instance.$forceUpdate()})),f.__composer=_,f.textContent=g},unmounted:f=>{Qu&&f.__i18nWatcher&&(f.__i18nWatcher(),f.__i18nWatcher=void 0,delete f.__i18nWatcher),f.__composer&&(f.__composer=void 0,delete f.__composer)},beforeUpdate:(f,{value:d})=>{if(f.__composer){const g=f.__composer,_=Qp(d);f.textContent=Reflect.apply(g.t,g,[...tm(_)])}},getSSRProps:f=>{const[d]=e(f);return{textContent:d}}}}function Qp(t){if($t(t))return{path:t};if(le(t)){if(!("path"in t))throw Xn(zn.REQUIRED_VALUE,"path");return t}else throw Xn(zn.INVALID_VALUE)}function tm(t){const{path:e,locale:s,args:a,choice:r,plural:c}=t,f={},d=a||{};return $t(s)&&(f.locale=s),Qe(r)&&(f.plural=r),Qe(c)&&(f.plural=c),[e,d,f]}function j1(t,e,...s){const a=le(s[0])?s[0]:{};(me(a.globalInstall)?a.globalInstall:!0)&&([Xp.name,"I18nT"].forEach(c=>t.component(c,Xp)),[Kp.name,"I18nN"].forEach(c=>t.component(c,Kp)),[Jp.name,"I18nD"].forEach(c=>t.component(c,Jp))),t.directive("t",Y1(e))}const X1=ds("global-vue-i18n");function K1(t={},e){const s=__VUE_I18N_LEGACY_API__&&me(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,a=me(t.globalInjection)?t.globalInjection:!0,r=new Map,[c,f]=J1(t,s),d=ds("");function g(E){return r.get(E)||null}function _(E,T){r.set(E,T)}function y(E){r.delete(E)}const b={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},async install(E,...T){if(E.__VUE_I18N_SYMBOL__=d,E.provide(E.__VUE_I18N_SYMBOL__,b),le(T[0])){const F=T[0];b.__composerExtend=F.__composerExtend,b.__vueI18nExtend=F.__vueI18nExtend}let I=null;!s&&a&&(I=ox(E,b.global)),__VUE_I18N_FULL_INSTALL__&&j1(E,b,...T),__VUE_I18N_LEGACY_API__&&s&&E.mixin($1(f,f.__composer,b));const A=E.unmount;E.unmount=()=>{I&&I(),b.dispose(),A()}},get global(){return f},dispose(){c.stop()},__instances:r,__getInstance:g,__setInstance:_,__deleteInstance:y};return b}function Il(t={}){const e=jn();if(e==null)throw Xn(zn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Xn(zn.NOT_INSTALLED);const s=Q1(e),a=ex(s),r=mv(e),c=tx(t,r);if(c==="global")return gv(a,t,r),a;if(c==="parent"){let g=nx(s,e,t.__useComponent);return g==null&&(g=a),g}const f=s;let d=f.__getInstance(e);if(d==null){const g=an({},t);"__i18n"in r&&(g.__i18n=r.__i18n),a&&(g.__root=a),d=Zf(g),f.__composerExtend&&(d[Kh]=f.__composerExtend(d)),rx(f,e,d),f.__setInstance(e,d)}return d}function J1(t,e,s){const a=ng(),r=__VUE_I18N_LEGACY_API__&&e?a.run(()=>Jh(t)):a.run(()=>Zf(t));if(r==null)throw Xn(zn.UNEXPECTED_ERROR);return[a,r]}function Q1(t){const e=on(t.isCE?X1:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Xn(t.isCE?zn.NOT_INSTALLED_WITH_PROVIDE:zn.UNEXPECTED_ERROR);return e}function tx(t,e){return Ic(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function ex(t){return t.mode==="composition"?t.global:t.global.__composer}function nx(t,e,s=!1){let a=null;const r=e.root;let c=ix(e,s);for(;c!=null;){const f=t;if(t.mode==="composition")a=f.__getInstance(c);else if(__VUE_I18N_LEGACY_API__){const d=f.__getInstance(c);d!=null&&(a=d.__composer,s&&a&&!a[pv]&&(a=null))}if(a!=null||r===c)break;c=c.parent}return a}function ix(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function rx(t,e,s){Bi(()=>{},e),ra(()=>{const a=s;t.__deleteInstance(e);const r=a[Kh];r&&(r(),delete a[Kh])},e)}const sx=["locale","fallbackLocale","availableLocales"],em=["t","rt","d","n","tm","te"];function ox(t,e){const s=Object.create(null);return sx.forEach(r=>{const c=Object.getOwnPropertyDescriptor(e,r);if(!c)throw Xn(zn.UNEXPECTED_ERROR);const f=Xe(c.value)?{get(){return c.value.value},set(d){c.value.value=d}}:{get(){return c.get&&c.get()}};Object.defineProperty(s,r,f)}),t.config.globalProperties.$i18n=s,em.forEach(r=>{const c=Object.getOwnPropertyDescriptor(e,r);if(!c||!c.value)throw Xn(zn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,c)}),()=>{delete t.config.globalProperties.$i18n,em.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}B1();m1(Xk);g1(f1);_1(iv);if(__INTLIFY_PROD_DEVTOOLS__){const t=Vs();t.__INTLIFY__=!0,Kk(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const ax={__name:"App",setup(t){const{t:e,locale:s}=Il();return document.title=e("title"),se(s,()=>{document.title=e("title")}),(a,r)=>{const c=R0("RouterView");return At(),Fe(c)}}},lx={class:"input-group mb-2"},ux={__name:"SearchForm",emits:["update:searchString"],setup(t,{emit:e}){const s=Mt(""),a=e;return se(s,()=>{a("update:searchString",s.value)}),(r,c)=>(At(),jt("div",lx,[mn(_t("input",{type:"text",class:"form-control",id:"search","onUpdate:modelValue":c[0]||(c[0]=f=>s.value=f)},null,512),[[rs,s.value]]),c[1]||(c[1]=_t("label",{for:"search",class:"input-group-text"},[_t("i",{class:"bi bi-search"})],-1))]))}},cx={key:0},hx={class:"d-flex justify-content-center"},fx={class:"d-flex justify-content-center"},dx={class:"spinner-border",role:"status"},px={class:"visually-hidden"},mx={__name:"Loading",props:{loadingStatus:Boolean},setup(t){const e=t;se(e,()=>{s.value=e.loadingStatus});const s=Mt(e.loadingStatus!=null?e.loadingStatus:!1);return(a,r)=>s.value?(At(),jt("div",cx,[_t("div",hx,[_t("h3",null,te(a.$t("loading")),1)]),_t("div",fx,[_t("div",dx,[_t("span",px,te(a.$t("loading")),1)])])])):Je("",!0)}},gx={class:"col"},_x={class:"card h-100"},vx=["src","alt","title"],yx={class:"card-body"},bx={class:"card-text"},wx={class:"card-title text-wrap"},Lx={class:"text-body-secondary"},Ex={class:"text-body-secondary"},kx={class:"text-body-secondary"},xx=["href"],Tx={class:"card-footer"},Cx={class:"text-body-secondary"},Sx={__name:"Taxon",props:{taxonId:Number,scientificName:String,vernacularName:String,rank:String,description:String,observationDate:Date,count:Number,connector:{type:Object,required:!0}},setup(t){const e=t,s=Mt([]),a=ht(()=>s.value.length==0?{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg"}:s.value[0]);function r(){s.value=[],e.taxonId&&e.connector.fetchMedia(e.taxonId).then(f=>{s.value=f})}const c=ht(()=>e.connector.getTaxonDetailPage(e.taxonId));return es(()=>{r()}),(f,d)=>{var g,_,y;return At(),jt("div",gx,[_t("div",_x,[_t("img",{class:"card-img-top",src:(g=a.value)==null?void 0:g.url,alt:(_=a.value)==null?void 0:_.url,title:"Source: "+((y=a.value)==null?void 0:y.source)},null,8,vx),_t("div",yx,[_t("div",bx,[_t("h5",wx,te(e.vernacularName||e.scientificName),1),_t("small",Lx,[_t("strong",null,te(f.$t("taxon.scientificName"))+" :",1),tn(" "+te(e.scientificName),1)]),d[0]||(d[0]=_t("br",null,null,-1)),_t("small",Ex,[_t("strong",null,te(f.$t("taxon.nbObservations"))+" : ",1),tn(te(e.count),1)]),d[1]||(d[1]=_t("br",null,null,-1)),_t("small",kx,[_t("a",{href:c.value},[_t("strong",null,te(f.$t("taxon.seeMore")),1)],8,xx)]),d[2]||(d[2]=_t("br",null,null,-1))])]),_t("div",Tx,[_t("small",Cx,te(f.$t("taxon.lastSeenDate"))+" : "+te(e==null?void 0:e.observationDate.toLocaleDateString()),1)])])])}}},gs=(t,e)=>{const s=t.__vccOpts||t;for(const[a,r]of e)s[a]=r;return s},Ix={class:"d-flex justify-content-center"},Px={class:"pagination"},Nx={class:"page-link"},Ox=["onClick"],Mx={class:"page-link"},Ax={class:"page-link"},Rx={__name:"Pagination",props:{itemPerPage:Number,pageIndex:Number,totalItems:Number},emits:["update:page"],setup(t,{emit:e}){const s=t,a=Mt(s.pageIndex),r=Mt(s.itemPerPage),c=Mt(s.totalItems),f=e;se(a,()=>{f("update:page",a.value)}),es(()=>{a.value=s.pageIndex});function d(T){return T==a.value?"page-item active":"page-item"}function g(T,I=False){return I?T==0?"page-item disabled":"page-item":T==b.value-1?"page-item disabled":"page-item"}function _(){a.value<=b.value-1&&a.value++}function y(){a.value>0&&a.value--}const b=ht(()=>Math.ceil(c.value/r.value)),E=ht(()=>{if(b.value>5){const T=a.value>0?0:1;let I=[];for(let A=T;A<4;A++)I.push(a.value+A);return I}return b.value});return(T,I)=>(At(),jt("nav",Ix,[_t("ul",Px,[_t("li",{onClick:I[0]||(I[0]=A=>a.value!=0?y():""),id:"previous",class:Be(g(a.value,!0))},[_t("a",Nx,te(T.$t("previousPage")),1)],2),(At(!0),jt(ge,null,Zs(E.value,A=>(At(),jt("li",{key:A,class:Be(d(A-1)),onClick:F=>a.value=A-1},[_t("a",Mx,te(A),1)],10,Ox))),128)),_t("li",{id:"next",onClick:I[1]||(I[1]=A=>a.value<b.value-1?_():""),class:Be(g(a.value,!1))},[_t("a",Ax,te(T.$t("nextPage")),1)],2)])]))}},Dx=gs(Rx,[["__scopeId","data-v-c21c4f09"]]),Bx={class:"input-group"},Fx=["value"],zx={key:0,class:"bi bi-sort-up"},Ux={key:1,class:"bi bi-sort-down"},$x={__name:"SortBy",props:{sortByAvailable:{type:Array,required:!0},sortBy:{type:String,required:!0},orderBy:{type:String,default:"asc"}},emits:["update:sortBy","update:orderBy"],setup(t,{emit:e}){const s=t,a=s.sortByAvailable,r=Mt(s.sortBy),c=Mt(s.orderBy),f=e;function d(){c.value==="asc"?c.value="desc":c.value="asc",f("update:orderBy",c.value)}return se(r,g=>{f("update:sortBy",g)}),(g,_)=>(At(),jt(ge,null,[_t("div",Bx,[mn(_t("select",{"onUpdate:modelValue":_[0]||(_[0]=y=>r.value=y),class:"form-select",id:"sortby"},[(At(!0),jt(ge,null,Zs(tt(a),y=>(At(),jt("option",{key:`sort-${y.field_name}`,value:y.field_name},te(y.label),9,Fx))),128))],512),[[Ho,r.value]]),_t("button",{class:"btn btn-outline-secondary",onClick:d},[c.value==="asc"?(At(),jt("i",zx)):(At(),jt("i",Ux))])]),_[1]||(_[1]=_t("div",null,null,-1))],64))}};function Gx(t){return typeof t=="object"&&t!==null}function Hx(t){return Gx(t)&&typeof t.length=="number"}function nm(t){return Array.isArray(t)?t:t===void 0?[]:Hx(t)||t instanceof Set?Array.from(t):[t]}function Vx(t){return!isNaN(parseFloat(t))}function qx(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Zx(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Wx(t){return yv(t)&&typeof t.length=="number"}function yv(t){return typeof t=="object"&&t!==null}function Pl(t){return typeof t<"u"}function Yx(t){return!Pl(t)}function bv(t){return t===null}function jx(t){return Pl(t)&&!bv(t)&&!Number.isNaN(t)}function Xx(t){return typeof t=="function"?/^class /.test(Function.prototype.toString.call(t)):!1}function Kx(t){if(t===null)return!0;switch(typeof t){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function Jx(t){if(t){const e=Pl(Promise)&&t instanceof Promise,s=t.then&&typeof t.then=="function";return!!(e||s)}else return!1}function Qx(t){return t===null||!Pl(t)?!1:typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function"}function tT(t){return typeof t=="string"}function eT(t){return typeof t=="function"}function nT(t){return typeof t=="function"&&t.constructor.name==="AsyncFunction"}const On={isNumber:Vx,isFiniteNumber:qx,isPlainObject:Zx,isArrayLike:Wx,isObject:yv,isDefined:Pl,isUndefined:Yx,isNull:bv,isDefinedValue:jx,isClass:Xx,isPrimitive:Kx,isPromise:Jx,isIterable:Qx,isString:tT,isFunction:eT,isAsyncFunction:nT};function iT(t,e={}){return e=Object.assign({computed:{},customOrders:{},nullRank:1,undefinedRank:1},e),t.sort(rT(e)),t}function rT(t={}){const e=nm(t.by),s=nm(t.order),{customOrders:a,computed:r}=t;return function c(f,d,g=0){const _=s[g]||"asc";if(!(_==="asc"||_==="desc"||a[_]))return 0;let y,b,E;return e.length?(b=On.isDefined(f[e[g]])?f[e[g]]:r[e[g]]&&r[e[g]](f),E=On.isDefined(d[e[g]])?d[e[g]]:r[e[g]]&&r[e[g]](d)):(b=f,E=d),a&&a[_]?y=a[_].indexOf(b)-a[_].indexOf(E):b===E?y=0:On.isNull(b)&&On.isUndefined(E)?y=_==="asc"?1:_==="desc"?-1:0:On.isUndefined(b)&&On.isNull(E)?y=_==="asc"?-1:_==="desc"?1:0:On.isNull(b)&&On.isDefinedValue(E)?y=t.nullRank:On.isUndefined(b)&&On.isDefinedValue(E)?y=t.undefinedRank:On.isNull(E)&&On.isDefinedValue(b)?y=-t.nullRank:On.isUndefined(E)&&On.isDefinedValue(b)?y=-t.undefinedRank:(y=b<E?-1:b>E?1:0,_==="desc"&&(y=y*-1)),y===0&&On.isDefined(e[g+1])&&(y=c(f,d,g+1)),y}}const Nl={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Xo={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Un={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},sT={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},wv={dangerouslyHTMLString:!1,multiple:!0,position:Nl.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},oT={rtl:!1,newestOnTop:!1,toastClassName:""},Lv={...wv,...oT};({...wv,type:Un.DEFAULT});var Le=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(Le||{}),Qh=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Qh||{});const aT={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},lT={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},uT={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},cT={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},im="Toastify--animate Toastify__none-enter";function Ev(t,e=!1){var s;let a=aT;if(!t||typeof t=="string")switch(t){case"flip":a=cT;break;case"zoom":a=uT;break;case"slide":a=lT;break}else a=t;if(e)a.enter=im;else if(a.enter===im){const r=(s=a.exit.split("__")[1])==null?void 0:s.split("-")[0];a.enter=`Toastify--animate Toastify__${r}-enter`}return a}function hT(t){return t.containerId||String(t.position)}const Oc="will-unmount";function fT(t=Nl.TOP_RIGHT){return!!document.querySelector(`.${Le.CSS_NAMESPACE}__toast-container--${t}`)}function dT(t=Nl.TOP_RIGHT){return`${Le.CSS_NAMESPACE}__toast-container--${t}`}function pT(t,e,s=!1){const a=[`${Le.CSS_NAMESPACE}__toast-container`,`${Le.CSS_NAMESPACE}__toast-container--${t}`,s?`${Le.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Go(e)?e({position:t,rtl:s,defaultClassName:a}):`${a} ${e||""}`}function mT(t){var e;const{position:s,containerClassName:a,rtl:r=!1,style:c={}}=t,f=Le.CSS_NAMESPACE,d=dT(s),g=document.querySelector(`.${f}`),_=document.querySelector(`.${d}`),y=!!_&&!((e=_.className)!=null&&e.includes(Oc)),b=g||document.createElement("div"),E=document.createElement("div");E.className=pT(s,a,r),E.dataset.testid=`${Le.CSS_NAMESPACE}__toast-container--${s}`,E.id=hT(t);for(const T in c)if(Object.prototype.hasOwnProperty.call(c,T)){const I=c[T];E.style[T]=I}return g||(b.className=Le.CSS_NAMESPACE,document.body.appendChild(b)),y||b.appendChild(E),E}function tf(t){var e,s,a;const r=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((s=t.target)==null?void 0:s.id),c=document.getElementById(r);c&&c.removeEventListener("animationend",tf,!1);try{_l[r].unmount(),(a=document.getElementById(r))==null||a.remove(),delete _l[r],delete Ln[r]}catch{}}const _l=Yn({});function gT(t,e){const s=document.getElementById(String(e));s&&(_l[s.id]=t)}function ef(t,e=!0){const s=String(t);if(!_l[s])return;const a=document.getElementById(s);a&&a.classList.add(Oc),e?(vT(t),a&&a.addEventListener("animationend",tf,!1)):tf(s),ir.items=ir.items.filter(r=>r.containerId!==t)}function _T(t){for(const e in _l)ef(e,t);ir.items=[]}function kv(t,e){const s=document.getElementById(t.toastId);if(s){let a=t;a={...a,...Ev(a.transition)};const r=a.appendPosition?`${a.exit}--${a.position}`:a.exit;s.className+=` ${r}`,e&&e(s)}}function vT(t){for(const e in Ln)if(e===t)for(const s of Ln[e]||[])kv(s)}function yT(t){const e=Ko().find(s=>s.toastId===t);return e==null?void 0:e.containerId}function Yf(t){return document.getElementById(t)}function bT(t){const e=Yf(t.containerId);return e&&e.classList.contains(Oc)}function rm(t){var e;const s=js(t.content)?oe(t.content.props):null;return s??oe((e=t.data)!=null?e:{})}function wT(t){return t?ir.items.filter(e=>e.containerId===t).length>0:ir.items.length>0}function LT(){if(ir.items.length>0){const t=ir.items.shift();ku(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const Ln=Yn({}),ir=Yn({items:[]});function Ko(){const t=oe(Ln);return Object.values(t).reduce((e,s)=>[...e,...s],[])}function ET(t){return Ko().find(e=>e.toastId===t)}function ku(t,e={}){if(bT(e)){const s=Yf(e.containerId);s&&s.addEventListener("animationend",nf.bind(null,t,e),!1)}else nf(t,e)}function nf(t,e={}){const s=Yf(e.containerId);s&&s.removeEventListener("animationend",nf.bind(null,t,e),!1);const a=Ln[e.containerId]||[],r=a.length>0;if(!r&&!fT(e.position)){const c=mT(e),f=b_(HT,e);e.useHandler&&e.useHandler(f),f.mount(c),gT(f,c.id)}r&&!e.updateId&&(e.position=a[0].position),yi(()=>{e.updateId?ei.update(e):ei.add(t,e)})}const ei={add(t,e){const{containerId:s=""}=e;s&&(Ln[s]=Ln[s]||[],Ln[s].find(a=>a.toastId===e.toastId)||setTimeout(()=>{var a,r;e.newestOnTop?(a=Ln[s])==null||a.unshift(e):(r=Ln[s])==null||r.push(e),e.onOpen&&e.onOpen(rm(e))},e.delay||0))},remove(t){if(t){const e=yT(t);if(e){const s=Ln[e];let a=s.find(r=>r.toastId===t);Ln[e]=s.filter(r=>r.toastId!==t),!Ln[e].length&&!wT(e)&&ef(e,!1),LT(),yi(()=>{a!=null&&a.onClose&&(a.onClose(rm(a)),a=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){Ln[e]=Ln[e]||[];const s=Ln[e].find(c=>c.toastId===t.toastId),a=(s==null?void 0:s.position)!==t.position||(s==null?void 0:s.transition)!==t.transition,r={...t,disabledEnterTransition:!a,updateId:void 0};ei.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{Ne(r.content,r)},t.delay||0)}},clear(t,e=!0){t?ef(t,e):_T(e)},dismissCallback(t){var e;const s=(e=t.currentTarget)==null?void 0:e.id,a=document.getElementById(s);a&&(a.removeEventListener("animationend",ei.dismissCallback,!1),setTimeout(()=>{ei.remove(s)}))},dismiss(t){if(t){const e=Ko();for(const s of e)if(s.toastId===t){kv(s,a=>{a.addEventListener("animationend",ei.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Ko();for(const s of e)if(s.toastId===t){const a=document.getElementById(t);a&&(a.remove(),a.removeEventListener("animationend",ei.dismissCallback,!1),ei.remove(t));break}}}},kT=Yn({useHandler:void 0}),xv=Yn({}),tc=Yn({});function Tv(){return Math.random().toString(36).substring(2,9)}function xT(t){return typeof t=="number"&&!isNaN(t)}function rf(t){return typeof t=="string"}function Go(t){return typeof t=="function"}function Mc(...t){return ze(...t)}function xu(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function TT(t={}){xv[`${Le.CSS_NAMESPACE}-default-options`]=t}function CT(){return xv[`${Le.CSS_NAMESPACE}-default-options`]||Lv}function ST(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var Tu=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Tu||{});const Cv={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Nl.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Xo.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Un.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},IT={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Un.DEFAULT},theme:{type:String,required:!1,default:Xo.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},PT=He({name:"ProgressBar",props:IT,setup(t,{attrs:e}){const s=Mt(),a=ht(()=>t.hide?"true":"false"),r=ht(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),c=ht(()=>[`${Le.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${Le.CSS_NAMESPACE}__progress-bar--controlled`:`${Le.CSS_NAMESPACE}__progress-bar--animated`,`${Le.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${Le.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${Le.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),f=ht(()=>`${c.value} ${(e==null?void 0:e.class)||""}`),d=()=>{s.value&&(s.value.onanimationend=null,s.value.ontransitionend=null)},g=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),d())},_=ht(()=>t.controlledProgress?null:g),y=ht(()=>t.controlledProgress?g:null);return es(()=>{s.value&&(d(),s.value.onanimationend=_.value,s.value.ontransitionend=y.value)}),()=>qt("div",{ref:s,role:"progressbar","aria-hidden":a.value,"aria-label":"notification timer",class:f.value,style:r.value},null)}}),NT=He({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Xo.AUTO},type:{type:String,required:!1,default:Xo.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>qt("button",{class:`${Le.CSS_NAMESPACE}__close-button ${Le.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[qt("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[qt("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Ac=({theme:t,type:e,path:s,...a})=>qt("svg",ze({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},a),[qt("path",{d:s},null)]);function OT(t){return qt(Ac,ze(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function MT(t){return qt(Ac,ze(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function AT(t){return qt(Ac,ze(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function RT(t){return qt(Ac,ze(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function DT(){return qt("div",{class:`${Le.CSS_NAMESPACE}__spinner`},null)}const Cu={info:MT,warning:OT,success:AT,error:RT,spinner:DT},BT=t=>t in Cu;function FT({theme:t,type:e,isLoading:s,icon:a}){let r;const c=!!s||e==="loading",f={theme:t,type:e};if(c&&(a===void 0||typeof a=="boolean"))return Cu.spinner();if(a!==!1){if(xu(a))r=oe(a);else if(Go(a)){const d=a;f.type=c?"loading":e,r=d(f),r=!r&&c?Cu.spinner():r}else js(a)?r=Ir(a,f):rf(a)||xT(a)?r=a:BT(e)&&(r=Cu[e](f));return r}}const zT=()=>{};function UT(t,e,s=Le.COLLAPSE_DURATION){const{scrollHeight:a,style:r}=t,c=s;requestAnimationFrame(()=>{r.minHeight="initial",r.height=a+"px",r.transition=`all ${c}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,c)})})}function $T(t){const e=Mt(!1),s=Mt(!1),a=Mt(!1),r=Mt(Tu.Enter),c=Yn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||Le.COLLAPSE_DURATION}),f=c.done||zT,d=ht(()=>c.appendPosition?`${c.enter}--${c.position}`:c.enter),g=ht(()=>c.appendPosition?`${c.exit}--${c.position}`:c.exit),_=ht(()=>t.pauseOnHover?{onMouseenter:F,onMouseleave:A}:{});function y(){const R=d.value.split(" ");E().addEventListener(Qh.ENTRANCE_ANIMATION_END,A,{once:!0});const D=$=>{const q=E();$.target===q&&(q.dispatchEvent(new Event(Qh.ENTRANCE_ANIMATION_END)),q.removeEventListener("animationend",D),q.removeEventListener("animationcancel",D),r.value===Tu.Enter&&$.type!=="animationcancel"&&q.classList.remove(...R))},B=()=>{const $=E();$.classList.add(...R),$.addEventListener("animationend",D),$.addEventListener("animationcancel",D)};t.pauseOnFocusLoss&&T(),B()}function b(){if(!E())return;const R=()=>{const B=E();B.removeEventListener("animationend",R),c.collapse?UT(B,f,c.collapseDuration):f()},D=()=>{const B=E();r.value=Tu.Exit,B&&(B.className+=` ${g.value}`,B.addEventListener("animationend",R))};s.value||(a.value?R():setTimeout(D))}function E(){return t.toastRef.value}function T(){document.hasFocus()||F(),window.addEventListener("focus",A),window.addEventListener("blur",F)}function I(){window.removeEventListener("focus",A),window.removeEventListener("blur",F)}function A(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function F(){e.value=!1}function M(R){R&&(R.stopPropagation(),R.preventDefault()),s.value=!1}return es(b),es(()=>{const R=Ko();s.value=R.findIndex(D=>D.toastId===c.toastId)>-1}),es(()=>{t.isLoading!==void 0&&(t.loading.value?F():A())}),Bi(y),ra(()=>{t.pauseOnFocusLoss&&I()}),{isIn:s,isRunning:e,hideToast:M,eventHandlers:_}}const GT=He({name:"ToastItem",inheritAttrs:!1,props:Cv,setup(t){const e=Mt(),s=ht(()=>!!t.isLoading),a=ht(()=>t.progress!==void 0&&t.progress!==null),r=ht(()=>FT(t)),c=ht(()=>[`${Le.CSS_NAMESPACE}__toast`,`${Le.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${Le.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${Le.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:f,isIn:d,hideToast:g,eventHandlers:_}=$T({toastRef:e,loading:s,done:()=>{ei.remove(t.toastId)},...Ev(t.transition,t.disabledEnterTransition),...t});return()=>qt("div",ze({id:t.toastId,class:c.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:y=>{t.closeOnClick&&g(),t.onClick&&t.onClick(y)}},_.value),[qt("div",{role:t.role,"data-testid":"toast-body",class:`${Le.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[r.value!=null&&qt("div",{"data-testid":`toast-icon-${t.type}`,class:[`${Le.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${Le.CSS_NAMESPACE}--animate-icon ${Le.CSS_NAMESPACE}__zoom-enter`].join(" ")},[xu(r.value)?Ii(oe(r.value),{theme:t.theme,type:t.type}):Go(r.value)?r.value({theme:t.theme,type:t.type}):r.value]),qt("div",{"data-testid":"toast-content"},[xu(t.content)?Ii(oe(t.content),{toastProps:oe(t),closeToast:g,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Go(t.content)?t.content({toastProps:oe(t),closeToast:g,data:t.data}):t.dangerouslyHTMLString?Ii("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&qt(NT,{theme:t.theme,closeToast:y=>{y.stopPropagation(),y.preventDefault(),g()}},null),xu(t.closeButton)?Ii(oe(t.closeButton),{closeToast:g,type:t.type,theme:t.theme}):Go(t.closeButton)?t.closeButton({closeToast:g,type:t.type,theme:t.theme}):null,qt(PT,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:d.value,type:t.type,hide:t.hideProgressBar,isRunning:f.value,autoClose:t.autoClose,controlledProgress:a.value,progress:t.progress,closeToast:t.isLoading?void 0:g},null)])}});let nl=0;function Sv(){typeof window>"u"||(nl&&window.cancelAnimationFrame(nl),nl=window.requestAnimationFrame(Sv),tc.lastUrl!==window.location.href&&(tc.lastUrl=window.location.href,ei.clear()))}const HT=He({name:"ToastifyContainer",inheritAttrs:!1,props:Cv,setup(t){const e=ht(()=>t.containerId),s=ht(()=>Ln[e.value]||[]),a=ht(()=>s.value.filter(r=>r.position===t.position));return Bi(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(Sv)}),ra(()=>{typeof window<"u"&&nl&&(window.cancelAnimationFrame(nl),tc.lastUrl="")}),()=>qt(ge,null,[a.value.map(r=>{const{toastId:c=""}=r;return qt(GT,ze({key:c},r),null)})])}});let bh=!1;const Iv={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Pv(){const t=[];return Ko().forEach(e=>{const s=document.getElementById(e.containerId);s&&!s.classList.contains(Oc)&&t.push(e)}),t}function VT(t){const e=Pv().length,s=t??0;return s>0&&e+ir.items.length>=s}function qT(t){VT(t.limit)&&!t.updateId&&ir.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function _s(t,e,s={}){if(bh)return;s=Mc(CT(),{type:e},oe(s)),(!s.toastId||typeof s.toastId!="string"&&typeof s.toastId!="number")&&(s.toastId=Tv()),s={...s,...s.type==="loading"?Iv:{},content:t,containerId:s.containerId||String(s.position)};const a=Number(s==null?void 0:s.progress);return!isNaN(a)&&a<0&&(s.progress=0),a>1&&(s.progress=1),s.theme==="auto"&&(s.theme=ST()),qT(s),tc.lastUrl=window.location.href,s.multiple?ir.items.length?s.updateId&&ku(t,s):ku(t,s):(bh=!0,Ne.clearAll(void 0,!1),setTimeout(()=>{ku(t,s)},0),setTimeout(()=>{bh=!1},390)),s.toastId}const Ne=(t,e)=>_s(t,Un.DEFAULT,e);Ne.info=(t,e)=>_s(t,Un.DEFAULT,{...e,type:Un.INFO});Ne.error=(t,e)=>_s(t,Un.DEFAULT,{...e,type:Un.ERROR});Ne.warning=(t,e)=>_s(t,Un.DEFAULT,{...e,type:Un.WARNING});Ne.warn=Ne.warning;Ne.success=(t,e)=>_s(t,Un.DEFAULT,{...e,type:Un.SUCCESS});Ne.loading=(t,e)=>_s(t,Un.DEFAULT,Mc(e,Iv));Ne.dark=(t,e)=>_s(t,Un.DEFAULT,Mc(e,{theme:Xo.DARK}));Ne.remove=t=>{t?ei.dismiss(t):ei.clear()};Ne.clearAll=(t,e)=>{yi(()=>{ei.clear(t,e)})};Ne.isActive=t=>{let e=!1;return e=Pv().findIndex(s=>s.toastId===t)>-1,e};Ne.update=(t,e={})=>{setTimeout(()=>{const s=ET(t);if(s){const a=oe(s),{content:r}=a,c={...a,...e,toastId:e.toastId||t,updateId:Tv()},f=c.render||r;delete c.render,_s(f,c.type,c)}},0)};Ne.done=t=>{Ne.update(t,{isLoading:!1,progress:1})};Ne.promise=ZT;function ZT(t,{pending:e,error:s,success:a},r){var c,f,d;let g;const _={...r||{},autoClose:!1};e&&(g=rf(e)?Ne.loading(e,_):Ne.loading(e.render,{..._,...e}));const y={autoClose:(c=r==null?void 0:r.autoClose)!=null?c:!0,closeOnClick:(f=r==null?void 0:r.closeOnClick)!=null?f:!0,closeButton:(d=r==null?void 0:r.autoClose)!=null?d:null,isLoading:void 0,draggable:null,delay:100},b=(T,I,A)=>{if(I==null){Ne.remove(g);return}const F={type:T,...y,...r,data:A},M=rf(I)?{render:I}:I;return g?Ne.update(g,{...F,...M,isLoading:!1}):Ne(M.render,{...F,...M,isLoading:!1}),A},E=Go(t)?t():t;return E.then(T=>{b("success",a,T)}).catch(T=>{b("error",s,T)}),E}Ne.POSITION=Nl;Ne.THEME=Xo;Ne.TYPE=Un;Ne.TRANSITIONS=sT;const WT={install(t,e={}){kT.useHandler=e.useHandler||(()=>{}),YT(e)}};typeof window<"u"&&(window.Vue3Toastify=WT);function YT(t={}){const e=Mc(Lv,t);TT(e)}class Nv{constructor(e){Co(this,"name");this.options=e,this.params=this.options}verifyOptions(e=[]){e.forEach(s=>{this.options.hasOwnProperty(s)||Ne.error(`Please indicate the ${s} parameter`)})}fetchOccurrence(e){throw new Error("Not implemented")}fetchMedia(e){throw new Error("Not implemented")}fetchTaxonInfo(e){throw new Error("Not implemented")}fetchTaxonStatus(e){throw new Error("Not implemented")}searchTaxon(e="",s={}){}getTaxonDetailPage(e){throw new Error("Not implemented")}}class Ov{constructor(e){this.acceptedScientificName=e.acceptedScientificName,this.vernacularName=e==null?void 0:e.vernacularName,this.nbObservations=e==null?void 0:e.nbObservations,this.mediaUrl=e==null?void 0:e.mediaUrl,this.taxonId=e==null?void 0:e.taxonId,this.taxonRank=e==null?void 0:e.taxonRank,this.description=e==null?void 0:e.description,this.taxonSheetUrl=e==null?void 0:e.taxonSheetUrl,this.lastSeenDate=e==null?void 0:e.lastSeenDate}}const jT="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg",Mv="https://api.gbif.org/v1";function sm(t={}){let e=new URL(`${Mv}/occurrence/search`);for(const[a,r]of Object.entries(t))e.searchParams.append(a,r);const s=e.toString();return fetch(s).then(a=>a.json())}class om extends Nv{constructor(s){super(s);Co(this,"GBIF_ENDPOINT");this.name="GBIF",this.GBIF_ENDPOINT=this.options.GBIF_ENDPOINT||Mv}countOccurrence(s={}){return sm({params:s}).then(a=>a.count)}fetchOccurrence(s){return s.limit||(s.limit=300),s.maxPage||(s.maxPage=10),s.dateMin&&s.dateMax&&(s={...s,eventDate:`${s.dateMin},${s.dateMax}`}),this.countOccurrence(s).then(async function(a){let r=Math.ceil(a/s.limit);r>s.maxPage&&(r=s.maxPage);let c=[];for(let d=0;d<r;d++){const g=d*s.limit;c.push(sm({...s,offset:g}))}let f={};return await Promise.all(c).then(d=>{d.map(g=>g.results).forEach(g=>{g.forEach(_=>{f.hasOwnProperty(_.taxonKey)||(f[_.taxonKey]=new Ov({acceptedScientificName:_.acceptedScientificName,vernacularName:_.vernacularName,taxonId:_.taxonKey,mediaUrl:jT,taxonRank:_.taxonRank,nbObservations:0,description:"",lastSeenDate:new Date(_.eventDate).getTime()})),f[_.taxonKey].nbObservations+=1,f[_.taxonKey].lastSeenDate=new Date(Math.max(new Date(_.eventDate).getTime(),new Date(f[_.taxonKey].lastSeenDate).getTime()))})})}),f})}fetchMedia(s){const a=`https://api.gbif.org/v1/species/${s}/media`;return fetch(a).then(r=>r.json()).then(function(r){let c=[];return Object.values(r.results).forEach(f=>{f.audience!=="biologists"&&c.push({url:f.identifier,licence:f.licence,source:f.source})}),c})}fetchTaxonInfo(s){const a=`https://api.gbif.org/v1/species/${s}`;return fetch(a).then(r=>r.json()).then(function(r){return{scientificName:r.scientificName,vernacularName:r.vernacularName,rank:r.rank,taxonKey:r.key}})}fetchTaxonStatus(s){const a=`https://api.gbif.org/v1/species/${s}/iucnRedListCategory`;return fetch(a).then(r=>r.json()).then(function(r){return{iucnRedListCategory:r.category,code:r.code}})}searchTaxon(s="",a={}){const r=`https://api.gbif.org/v1/species/search?q=${s}&limit=20`;return console.log(r),fetch(r).then(c=>c.json()).then(function(c){let f=[];return c.results.forEach(d=>{f.push({scientificName:d.scientificName,taxonKey:d.key})}),f})}getTaxonDetailPage(s){return`https://www.gbif.org/species/${s}`}}const XT="https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/No_Image_Available.jpg/1024px-No_Image_Available.jpg";class KT extends Nv{constructor(s){super(s);Co(this,"EXPORT_API_ENDPOINT");this.name="GeoNature",this.EXPORT_API_ENDPOINT=s==null?void 0:s.EXPORT_API_ENDPOINT}fetchOccurrence(s={}){let a=new URL(this.EXPORT_API_ENDPOINT);s={...s,limit:"ALL"};for(const[c,f]of Object.entries(s))a.searchParams.append(c,f);const r=a.toString();return fetch(r).then(c=>c.json()).then(c=>{let f={};return c.items.features.forEach(d=>{d=d.properties,f.hasOwnProperty(d.cd_ref)||(f[d.cd_ref]=new Ov({acceptedScientificName:d.nom_scientifique,vernacularName:d.nom_vernaculaire,taxonId:d.cd_ref,taxonKey:d.cd_ref,mediaUrl:XT,taxonRank:"",nbObservations:0,description:"",lastSeenDate:new Date(d.date_max).getTime()})),f[d.cd_ref].nbObservations+=1,f[d.cd_ref].lastSeenDate=new Date(Math.max(new Date(d.date_max).getTime(),new Date(f[d.cd_ref].lastSeenDate).getTime()))}),console.log(f),f})}fetchMedia(s){const a=`https://odata-inpn.mnhn.fr/photos/taxa?taxrefId=${s}&visibility=PUBLIC`;return fetch(a).then(r=>r.json()).then(function(r){var f;let c=[];try{return Object.values((f=r==null?void 0:r._embedded)==null?void 0:f.photos).forEach(d=>{c.push({url:d._links.thumbnail.href,licence:d.licence,source:d.copyright})}),c}catch{return[]}})}fetchTaxonInfo(s){const a=`https://odata-inpn.mnhn.fr/taxa/${s}`;return fetch(a).then(r=>r.json()).then(function(r){return{scientificName:r.names.scientific,vernacularName:r.names.vernacular.fr[0],rank:r.rank,taxonKey:r.taxrefId}})}fetchTaxonStatus(s){const a=`https://taxref.mnhn.fr/api/taxa/${s}/status/columns`;return fetch(a).then(r=>r.json()).then(r=>{var c;return(c=r._embedded)==null?void 0:c.status})}getTaxonDetailPage(s){return`https://inpn.mnhn.fr/espece/cd_nom/${s}`}}function sf(t="GBIF",e={}){switch(t){case"GBIF":return new om(e);case"GeoNature":return new KT(e);default:return new om(e)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Mo=typeof document<"u";function Av(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function JT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Av(t.default)}const be=Object.assign;function wh(t,e){const s={};for(const a in e){const r=e[a];s[a]=Di(r)?r.map(t):t(r)}return s}const il=()=>{},Di=Array.isArray,Rv=/#/g,QT=/&/g,tC=/\//g,eC=/=/g,nC=/\?/g,Dv=/\+/g,iC=/%5B/g,rC=/%5D/g,Bv=/%5E/g,sC=/%60/g,Fv=/%7B/g,oC=/%7C/g,zv=/%7D/g,aC=/%20/g;function jf(t){return encodeURI(""+t).replace(oC,"|").replace(iC,"[").replace(rC,"]")}function lC(t){return jf(t).replace(Fv,"{").replace(zv,"}").replace(Bv,"^")}function of(t){return jf(t).replace(Dv,"%2B").replace(aC,"+").replace(Rv,"%23").replace(QT,"%26").replace(sC,"`").replace(Fv,"{").replace(zv,"}").replace(Bv,"^")}function uC(t){return of(t).replace(eC,"%3D")}function cC(t){return jf(t).replace(Rv,"%23").replace(nC,"%3F")}function hC(t){return t==null?"":cC(t).replace(tC,"%2F")}function vl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const fC=/\/$/,dC=t=>t.replace(fC,"");function Lh(t,e,s="/"){let a,r={},c="",f="";const d=e.indexOf("#");let g=e.indexOf("?");return d<g&&d>=0&&(g=-1),g>-1&&(a=e.slice(0,g),c=e.slice(g+1,d>-1?d:e.length),r=t(c)),d>-1&&(a=a||e.slice(0,d),f=e.slice(d,e.length)),a=_C(a??e,s),{fullPath:a+(c&&"?")+c+f,path:a,query:r,hash:vl(f)}}function pC(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function am(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function mC(t,e,s){const a=e.matched.length-1,r=s.matched.length-1;return a>-1&&a===r&&Jo(e.matched[a],s.matched[r])&&Uv(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Jo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Uv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!gC(t[s],e[s]))return!1;return!0}function gC(t,e){return Di(t)?lm(t,e):Di(e)?lm(e,t):t===e}function lm(t,e){return Di(e)?t.length===e.length&&t.every((s,a)=>s===e[a]):t.length===1&&t[0]===e}function _C(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),a=t.split("/"),r=a[a.length-1];(r===".."||r===".")&&a.push("");let c=s.length-1,f,d;for(f=0;f<a.length;f++)if(d=a[f],d!==".")if(d==="..")c>1&&c--;else break;return s.slice(0,c).join("/")+"/"+a.slice(f).join("/")}const qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var yl;(function(t){t.pop="pop",t.push="push"})(yl||(yl={}));var rl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rl||(rl={}));function vC(t){if(!t)if(Mo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),dC(t)}const yC=/^[^#]+#/;function bC(t,e){return t.replace(yC,"#")+e}function wC(t,e){const s=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:e.behavior,left:a.left-s.left-(e.left||0),top:a.top-s.top-(e.top||0)}}const Rc=()=>({left:window.scrollX,top:window.scrollY});function LC(t){let e;if("el"in t){const s=t.el,a=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=wC(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function um(t,e){return(history.state?history.state.position-e:-1)+t}const af=new Map;function EC(t,e){af.set(t,e)}function kC(t){const e=af.get(t);return af.delete(t),e}let xC=()=>location.protocol+"//"+location.host;function $v(t,e){const{pathname:s,search:a,hash:r}=e,c=t.indexOf("#");if(c>-1){let d=r.includes(t.slice(c))?t.slice(c).length:1,g=r.slice(d);return g[0]!=="/"&&(g="/"+g),am(g,"")}return am(s,t)+a+r}function TC(t,e,s,a){let r=[],c=[],f=null;const d=({state:E})=>{const T=$v(t,location),I=s.value,A=e.value;let F=0;if(E){if(s.value=T,e.value=E,f&&f===I){f=null;return}F=A?E.position-A.position:0}else a(T);r.forEach(M=>{M(s.value,I,{delta:F,type:yl.pop,direction:F?F>0?rl.forward:rl.back:rl.unknown})})};function g(){f=s.value}function _(E){r.push(E);const T=()=>{const I=r.indexOf(E);I>-1&&r.splice(I,1)};return c.push(T),T}function y(){const{history:E}=window;E.state&&E.replaceState(be({},E.state,{scroll:Rc()}),"")}function b(){for(const E of c)E();c=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:g,listen:_,destroy:b}}function cm(t,e,s,a=!1,r=!1){return{back:t,current:e,forward:s,replaced:a,position:window.history.length,scroll:r?Rc():null}}function CC(t){const{history:e,location:s}=window,a={value:$v(t,s)},r={value:e.state};r.value||c(a.value,{back:null,current:a.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function c(g,_,y){const b=t.indexOf("#"),E=b>-1?(s.host&&document.querySelector("base")?t:t.slice(b))+g:xC()+t+g;try{e[y?"replaceState":"pushState"](_,"",E),r.value=_}catch(T){console.error(T),s[y?"replace":"assign"](E)}}function f(g,_){const y=be({},e.state,cm(r.value.back,g,r.value.forward,!0),_,{position:r.value.position});c(g,y,!0),a.value=g}function d(g,_){const y=be({},r.value,e.state,{forward:g,scroll:Rc()});c(y.current,y,!0);const b=be({},cm(a.value,g,null),{position:y.position+1},_);c(g,b,!1),a.value=g}return{location:a,state:r,push:d,replace:f}}function SC(t){t=vC(t);const e=CC(t),s=TC(t,e.state,e.location,e.replace);function a(c,f=!0){f||s.pauseListeners(),history.go(c)}const r=be({location:"",base:t,go:a,createHref:bC.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function IC(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),SC(t)}function PC(t){return typeof t=="string"||t&&typeof t=="object"}function Gv(t){return typeof t=="string"||typeof t=="symbol"}const Hv=Symbol("");var hm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(hm||(hm={}));function Qo(t,e){return be(new Error,{type:t,[Hv]:!0},e)}function _r(t,e){return t instanceof Error&&Hv in t&&(e==null||!!(t.type&e))}const fm="[^/]+?",NC={sensitive:!1,strict:!1,start:!0,end:!0},OC=/[.+*?^${}()[\]/\\]/g;function MC(t,e){const s=be({},NC,e),a=[];let r=s.start?"^":"";const c=[];for(const _ of t){const y=_.length?[]:[90];s.strict&&!_.length&&(r+="/");for(let b=0;b<_.length;b++){const E=_[b];let T=40+(s.sensitive?.25:0);if(E.type===0)b||(r+="/"),r+=E.value.replace(OC,"\\$&"),T+=40;else if(E.type===1){const{value:I,repeatable:A,optional:F,regexp:M}=E;c.push({name:I,repeatable:A,optional:F});const R=M||fm;if(R!==fm){T+=10;try{new RegExp(`(${R})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${I}" (${R}): `+B.message)}}let D=A?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;b||(D=F&&_.length<2?`(?:/${D})`:"/"+D),F&&(D+="?"),r+=D,T+=20,F&&(T+=-8),A&&(T+=-20),R===".*"&&(T+=-50)}y.push(T)}a.push(y)}if(s.strict&&s.end){const _=a.length-1;a[_][a[_].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const f=new RegExp(r,s.sensitive?"":"i");function d(_){const y=_.match(f),b={};if(!y)return null;for(let E=1;E<y.length;E++){const T=y[E]||"",I=c[E-1];b[I.name]=T&&I.repeatable?T.split("/"):T}return b}function g(_){let y="",b=!1;for(const E of t){(!b||!y.endsWith("/"))&&(y+="/"),b=!1;for(const T of E)if(T.type===0)y+=T.value;else if(T.type===1){const{value:I,repeatable:A,optional:F}=T,M=I in _?_[I]:"";if(Di(M)&&!A)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const R=Di(M)?M.join("/"):M;if(!R)if(F)E.length<2&&(y.endsWith("/")?y=y.slice(0,-1):b=!0);else throw new Error(`Missing required param "${I}"`);y+=R}}return y||"/"}return{re:f,score:a,keys:c,parse:d,stringify:g}}function AC(t,e){let s=0;for(;s<t.length&&s<e.length;){const a=e[s]-t[s];if(a)return a;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Vv(t,e){let s=0;const a=t.score,r=e.score;for(;s<a.length&&s<r.length;){const c=AC(a[s],r[s]);if(c)return c;s++}if(Math.abs(r.length-a.length)===1){if(dm(a))return 1;if(dm(r))return-1}return r.length-a.length}function dm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RC={type:0,value:""},DC=/[a-zA-Z0-9_]/;function BC(t){if(!t)return[[]];if(t==="/")return[[RC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(T){throw new Error(`ERR (${s})/"${_}": ${T}`)}let s=0,a=s;const r=[];let c;function f(){c&&r.push(c),c=[]}let d=0,g,_="",y="";function b(){_&&(s===0?c.push({type:0,value:_}):s===1||s===2||s===3?(c.length>1&&(g==="*"||g==="+")&&e(`A repeatable param (${_}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:_,regexp:y,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):e("Invalid state to consume buffer"),_="")}function E(){_+=g}for(;d<t.length;){if(g=t[d++],g==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:g==="/"?(_&&b(),f()):g===":"?(b(),s=1):E();break;case 4:E(),s=a;break;case 1:g==="("?s=2:DC.test(g)?E():(b(),s=0,g!=="*"&&g!=="?"&&g!=="+"&&d--);break;case 2:g===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+g:s=3:y+=g;break;case 3:b(),s=0,g!=="*"&&g!=="?"&&g!=="+"&&d--,y="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${_}"`),b(),f(),r}function FC(t,e,s){const a=MC(BC(t.path),s),r=be(a,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function zC(t,e){const s=[],a=new Map;e=_m({strict:!1,end:!0,sensitive:!1},e);function r(b){return a.get(b)}function c(b,E,T){const I=!T,A=mm(b);A.aliasOf=T&&T.record;const F=_m(e,b),M=[A];if("alias"in b){const B=typeof b.alias=="string"?[b.alias]:b.alias;for(const $ of B)M.push(mm(be({},A,{components:T?T.record.components:A.components,path:$,aliasOf:T?T.record:A})))}let R,D;for(const B of M){const{path:$}=B;if(E&&$[0]!=="/"){const q=E.record.path,V=q[q.length-1]==="/"?"":"/";B.path=E.record.path+($&&V+$)}if(R=FC(B,E,F),T?T.alias.push(R):(D=D||R,D!==R&&D.alias.push(R),I&&b.name&&!gm(R)&&f(b.name)),qv(R)&&g(R),A.children){const q=A.children;for(let V=0;V<q.length;V++)c(q[V],R,T&&T.children[V])}T=T||R}return D?()=>{f(D)}:il}function f(b){if(Gv(b)){const E=a.get(b);E&&(a.delete(b),s.splice(s.indexOf(E),1),E.children.forEach(f),E.alias.forEach(f))}else{const E=s.indexOf(b);E>-1&&(s.splice(E,1),b.record.name&&a.delete(b.record.name),b.children.forEach(f),b.alias.forEach(f))}}function d(){return s}function g(b){const E=GC(b,s);s.splice(E,0,b),b.record.name&&!gm(b)&&a.set(b.record.name,b)}function _(b,E){let T,I={},A,F;if("name"in b&&b.name){if(T=a.get(b.name),!T)throw Qo(1,{location:b});F=T.record.name,I=be(pm(E.params,T.keys.filter(D=>!D.optional).concat(T.parent?T.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),b.params&&pm(b.params,T.keys.map(D=>D.name))),A=T.stringify(I)}else if(b.path!=null)A=b.path,T=s.find(D=>D.re.test(A)),T&&(I=T.parse(A),F=T.record.name);else{if(T=E.name?a.get(E.name):s.find(D=>D.re.test(E.path)),!T)throw Qo(1,{location:b,currentLocation:E});F=T.record.name,I=be({},E.params,b.params),A=T.stringify(I)}const M=[];let R=T;for(;R;)M.unshift(R.record),R=R.parent;return{name:F,path:A,params:I,matched:M,meta:$C(M)}}t.forEach(b=>c(b));function y(){s.length=0,a.clear()}return{addRoute:c,resolve:_,removeRoute:f,clearRoutes:y,getRoutes:d,getRecordMatcher:r}}function pm(t,e){const s={};for(const a of e)a in t&&(s[a]=t[a]);return s}function mm(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:UC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function UC(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const a in t.components)e[a]=typeof s=="object"?s[a]:s;return e}function gm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $C(t){return t.reduce((e,s)=>be(e,s.meta),{})}function _m(t,e){const s={};for(const a in t)s[a]=a in e?e[a]:t[a];return s}function GC(t,e){let s=0,a=e.length;for(;s!==a;){const c=s+a>>1;Vv(t,e[c])<0?a=c:s=c+1}const r=HC(t);return r&&(a=e.lastIndexOf(r,a-1)),a}function HC(t){let e=t;for(;e=e.parent;)if(qv(e)&&Vv(t,e)===0)return e}function qv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function VC(t){const e={};if(t===""||t==="?")return e;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<a.length;++r){const c=a[r].replace(Dv," "),f=c.indexOf("="),d=vl(f<0?c:c.slice(0,f)),g=f<0?null:vl(c.slice(f+1));if(d in e){let _=e[d];Di(_)||(_=e[d]=[_]),_.push(g)}else e[d]=g}return e}function vm(t){let e="";for(let s in t){const a=t[s];if(s=uC(s),a==null){a!==void 0&&(e+=(e.length?"&":"")+s);continue}(Di(a)?a.map(c=>c&&of(c)):[a&&of(a)]).forEach(c=>{c!==void 0&&(e+=(e.length?"&":"")+s,c!=null&&(e+="="+c))})}return e}function qC(t){const e={};for(const s in t){const a=t[s];a!==void 0&&(e[s]=Di(a)?a.map(r=>r==null?null:""+r):a==null?a:""+a)}return e}const ZC=Symbol(""),ym=Symbol(""),Xf=Symbol(""),Kf=Symbol(""),lf=Symbol("");function Ua(){let t=[];function e(a){return t.push(a),()=>{const r=t.indexOf(a);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Jr(t,e,s,a,r,c=f=>f()){const f=a&&(a.enterCallbacks[r]=a.enterCallbacks[r]||[]);return()=>new Promise((d,g)=>{const _=E=>{E===!1?g(Qo(4,{from:s,to:e})):E instanceof Error?g(E):PC(E)?g(Qo(2,{from:e,to:E})):(f&&a.enterCallbacks[r]===f&&typeof E=="function"&&f.push(E),d())},y=c(()=>t.call(a&&a.instances[r],e,s,_));let b=Promise.resolve(y);t.length<3&&(b=b.then(_)),b.catch(E=>g(E))})}function Eh(t,e,s,a,r=c=>c()){const c=[];for(const f of t)for(const d in f.components){let g=f.components[d];if(!(e!=="beforeRouteEnter"&&!f.instances[d]))if(Av(g)){const y=(g.__vccOpts||g)[e];y&&c.push(Jr(y,s,a,f,d,r))}else{let _=g();c.push(()=>_.then(y=>{if(!y)throw new Error(`Couldn't resolve component "${d}" at "${f.path}"`);const b=JT(y)?y.default:y;f.mods[d]=y,f.components[d]=b;const T=(b.__vccOpts||b)[e];return T&&Jr(T,s,a,f,d,r)()}))}}return c}function bm(t){const e=on(Xf),s=on(Kf),a=ht(()=>{const g=tt(t.to);return e.resolve(g)}),r=ht(()=>{const{matched:g}=a.value,{length:_}=g,y=g[_-1],b=s.matched;if(!y||!b.length)return-1;const E=b.findIndex(Jo.bind(null,y));if(E>-1)return E;const T=wm(g[_-2]);return _>1&&wm(y)===T&&b[b.length-1].path!==T?b.findIndex(Jo.bind(null,g[_-2])):E}),c=ht(()=>r.value>-1&&KC(s.params,a.value.params)),f=ht(()=>r.value>-1&&r.value===s.matched.length-1&&Uv(s.params,a.value.params));function d(g={}){if(XC(g)){const _=e[tt(t.replace)?"replace":"push"](tt(t.to)).catch(il);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>_),_}return Promise.resolve()}return{route:a,href:ht(()=>a.value.href),isActive:c,isExactActive:f,navigate:d}}function WC(t){return t.length===1?t[0]:t}const YC=He({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bm,setup(t,{slots:e}){const s=Yn(bm(t)),{options:a}=on(Xf),r=ht(()=>({[Lm(t.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[Lm(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const c=e.default&&WC(e.default(s));return t.custom?c:Ii("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},c)}}}),jC=YC;function XC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function KC(t,e){for(const s in e){const a=e[s],r=t[s];if(typeof a=="string"){if(a!==r)return!1}else if(!Di(r)||r.length!==a.length||a.some((c,f)=>c!==r[f]))return!1}return!0}function wm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lm=(t,e,s)=>t??e??s,JC=He({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const a=on(lf),r=ht(()=>t.route||a.value),c=on(ym,0),f=ht(()=>{let _=tt(c);const{matched:y}=r.value;let b;for(;(b=y[_])&&!b.components;)_++;return _}),d=ht(()=>r.value.matched[f.value]);ts(ym,ht(()=>f.value+1)),ts(ZC,d),ts(lf,r);const g=Mt();return se(()=>[g.value,d.value,t.name],([_,y,b],[E,T,I])=>{y&&(y.instances[b]=_,T&&T!==y&&_&&_===E&&(y.leaveGuards.size||(y.leaveGuards=T.leaveGuards),y.updateGuards.size||(y.updateGuards=T.updateGuards))),_&&y&&(!T||!Jo(y,T)||!E)&&(y.enterCallbacks[b]||[]).forEach(A=>A(_))},{flush:"post"}),()=>{const _=r.value,y=t.name,b=d.value,E=b&&b.components[y];if(!E)return Em(s.default,{Component:E,route:_});const T=b.props[y],I=T?T===!0?_.params:typeof T=="function"?T(_):T:null,F=Ii(E,be({},I,e,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(b.instances[y]=null)},ref:g}));return Em(s.default,{Component:F,route:_})||F}}});function Em(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const QC=JC;function tS(t){const e=zC(t.routes,t),s=t.parseQuery||VC,a=t.stringifyQuery||vm,r=t.history,c=Ua(),f=Ua(),d=Ua(),g=Li(qr);let _=qr;Mo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=wh.bind(null,it=>""+it),b=wh.bind(null,hC),E=wh.bind(null,vl);function T(it,G){let kt,Ct;return Gv(it)?(kt=e.getRecordMatcher(it),Ct=G):Ct=it,e.addRoute(Ct,kt)}function I(it){const G=e.getRecordMatcher(it);G&&e.removeRoute(G)}function A(){return e.getRoutes().map(it=>it.record)}function F(it){return!!e.getRecordMatcher(it)}function M(it,G){if(G=be({},G||g.value),typeof it=="string"){const J=Lh(s,it,G.path),dt=e.resolve({path:J.path},G),mt=r.createHref(J.fullPath);return be(J,dt,{params:E(dt.params),hash:vl(J.hash),redirectedFrom:void 0,href:mt})}let kt;if(it.path!=null)kt=be({},it,{path:Lh(s,it.path,G.path).path});else{const J=be({},it.params);for(const dt in J)J[dt]==null&&delete J[dt];kt=be({},it,{params:b(J)}),G.params=b(G.params)}const Ct=e.resolve(kt,G),St=it.hash||"";Ct.params=y(E(Ct.params));const C=pC(a,be({},it,{hash:lC(St),path:Ct.path})),H=r.createHref(C);return be({fullPath:C,hash:St,query:a===vm?qC(it.query):it.query||{}},Ct,{redirectedFrom:void 0,href:H})}function R(it){return typeof it=="string"?Lh(s,it,g.value.path):be({},it)}function D(it,G){if(_!==it)return Qo(8,{from:G,to:it})}function B(it){return V(it)}function $(it){return B(be(R(it),{replace:!0}))}function q(it){const G=it.matched[it.matched.length-1];if(G&&G.redirect){const{redirect:kt}=G;let Ct=typeof kt=="function"?kt(it):kt;return typeof Ct=="string"&&(Ct=Ct.includes("?")||Ct.includes("#")?Ct=R(Ct):{path:Ct},Ct.params={}),be({query:it.query,hash:it.hash,params:Ct.path!=null?{}:it.params},Ct)}}function V(it,G){const kt=_=M(it),Ct=g.value,St=it.state,C=it.force,H=it.replace===!0,J=q(kt);if(J)return V(be(R(J),{state:typeof J=="object"?be({},St,J.state):St,force:C,replace:H}),G||kt);const dt=kt;dt.redirectedFrom=G;let mt;return!C&&mC(a,Ct,kt)&&(mt=Qo(16,{to:dt,from:Ct}),Dt(Ct,Ct,!0,!1)),(mt?Promise.resolve(mt):lt(dt,Ct)).catch(pt=>_r(pt)?_r(pt,2)?pt:at(pt):ft(pt,dt,Ct)).then(pt=>{if(pt){if(_r(pt,2))return V(be({replace:H},R(pt.to),{state:typeof pt.to=="object"?be({},St,pt.to.state):St,force:C}),G||dt)}else pt=et(dt,Ct,!0,H,St);return Lt(dt,Ct,pt),pt})}function ot(it,G){const kt=D(it,G);return kt?Promise.reject(kt):Promise.resolve()}function K(it){const G=It.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(it):it()}function lt(it,G){let kt;const[Ct,St,C]=eS(it,G);kt=Eh(Ct.reverse(),"beforeRouteLeave",it,G);for(const J of Ct)J.leaveGuards.forEach(dt=>{kt.push(Jr(dt,it,G))});const H=ot.bind(null,it,G);return kt.push(H),Tt(kt).then(()=>{kt=[];for(const J of c.list())kt.push(Jr(J,it,G));return kt.push(H),Tt(kt)}).then(()=>{kt=Eh(St,"beforeRouteUpdate",it,G);for(const J of St)J.updateGuards.forEach(dt=>{kt.push(Jr(dt,it,G))});return kt.push(H),Tt(kt)}).then(()=>{kt=[];for(const J of C)if(J.beforeEnter)if(Di(J.beforeEnter))for(const dt of J.beforeEnter)kt.push(Jr(dt,it,G));else kt.push(Jr(J.beforeEnter,it,G));return kt.push(H),Tt(kt)}).then(()=>(it.matched.forEach(J=>J.enterCallbacks={}),kt=Eh(C,"beforeRouteEnter",it,G,K),kt.push(H),Tt(kt))).then(()=>{kt=[];for(const J of f.list())kt.push(Jr(J,it,G));return kt.push(H),Tt(kt)}).catch(J=>_r(J,8)?J:Promise.reject(J))}function Lt(it,G,kt){d.list().forEach(Ct=>K(()=>Ct(it,G,kt)))}function et(it,G,kt,Ct,St){const C=D(it,G);if(C)return C;const H=G===qr,J=Mo?history.state:{};kt&&(Ct||H?r.replace(it.fullPath,be({scroll:H&&J&&J.scroll},St)):r.push(it.fullPath,St)),g.value=it,Dt(it,G,kt,H),at()}let Q;function Y(){Q||(Q=r.listen((it,G,kt)=>{if(!bt.listening)return;const Ct=M(it),St=q(Ct);if(St){V(be(St,{replace:!0,force:!0}),Ct).catch(il);return}_=Ct;const C=g.value;Mo&&EC(um(C.fullPath,kt.delta),Rc()),lt(Ct,C).catch(H=>_r(H,12)?H:_r(H,2)?(V(be(R(H.to),{force:!0}),Ct).then(J=>{_r(J,20)&&!kt.delta&&kt.type===yl.pop&&r.go(-1,!1)}).catch(il),Promise.reject()):(kt.delta&&r.go(-kt.delta,!1),ft(H,Ct,C))).then(H=>{H=H||et(Ct,C,!1),H&&(kt.delta&&!_r(H,8)?r.go(-kt.delta,!1):kt.type===yl.pop&&_r(H,20)&&r.go(-1,!1)),Lt(Ct,C,H)}).catch(il)}))}let gt=Ua(),vt=Ua(),Et;function ft(it,G,kt){at(it);const Ct=vt.list();return Ct.length?Ct.forEach(St=>St(it,G,kt)):console.error(it),Promise.reject(it)}function Pt(){return Et&&g.value!==qr?Promise.resolve():new Promise((it,G)=>{gt.add([it,G])})}function at(it){return Et||(Et=!it,Y(),gt.list().forEach(([G,kt])=>it?kt(it):G()),gt.reset()),it}function Dt(it,G,kt,Ct){const{scrollBehavior:St}=t;if(!Mo||!St)return Promise.resolve();const C=!kt&&kC(um(it.fullPath,0))||(Ct||!kt)&&history.state&&history.state.scroll||null;return yi().then(()=>St(it,G,C)).then(H=>H&&LC(H)).catch(H=>ft(H,it,G))}const Gt=it=>r.go(it);let Bt;const It=new Set,bt={currentRoute:g,listening:!0,addRoute:T,removeRoute:I,clearRoutes:e.clearRoutes,hasRoute:F,getRoutes:A,resolve:M,options:t,push:B,replace:$,go:Gt,back:()=>Gt(-1),forward:()=>Gt(1),beforeEach:c.add,beforeResolve:f.add,afterEach:d.add,onError:vt.add,isReady:Pt,install(it){const G=this;it.component("RouterLink",jC),it.component("RouterView",QC),it.config.globalProperties.$router=G,Object.defineProperty(it.config.globalProperties,"$route",{enumerable:!0,get:()=>tt(g)}),Mo&&!Bt&&g.value===qr&&(Bt=!0,B(r.location).catch(St=>{}));const kt={};for(const St in qr)Object.defineProperty(kt,St,{get:()=>g.value[St],enumerable:!0});it.provide(Xf,G),it.provide(Kf,yg(kt)),it.provide(lf,g);const Ct=it.unmount;It.add(it),it.unmount=function(){It.delete(it),It.size<1&&(_=qr,Q&&Q(),Q=null,g.value=qr,Bt=!1,Et=!1),Ct()}}};function Tt(it){return it.reduce((G,kt)=>G.then(()=>K(kt)),Promise.resolve())}return bt}function eS(t,e){const s=[],a=[],r=[],c=Math.max(e.matched.length,t.matched.length);for(let f=0;f<c;f++){const d=e.matched[f];d&&(t.matched.find(_=>Jo(_,d))?a.push(d):s.push(d));const g=t.matched[f];g&&(e.matched.find(_=>Jo(_,g))||r.push(g))}return[s,a,r]}function nS(t){return on(Kf)}function Zv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $a={exports:{}},km;function iS(){if(km)return $a.exports;km=1,$a.exports=s,$a.exports.parse=s,$a.exports.stringify=a;var t=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,e=new RegExp("^"+t.source+"(\\s"+t.source+"){1,}");function s(r){var c=r.split(";"),f=c.pop(),d=(c.shift()||"").split("=").pop(),g=0;function _(q){var V=f.substring(g).match(q);return V?(g+=V[0].length,V[0]):null}function y(q){return q&&d.match(/\d+/)&&(q.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+d}}),q}function b(){_(/^\s*/)}function E(){b();for(var q=0,V=[],ot=[V],K=V,lt;lt=_(/^(\()/)||_(/^(\))/)||_(/^(,)/)||_(e);){if(lt==="(")ot.push(K),K=[],ot[ot.length-1].push(K),q++;else if(lt===")"){if(K.length===0||(K=ot.pop(),!K))return null;if(q--,q===0)break}else if(lt===",")K=[],ot[ot.length-1].push(K);else if(!lt.split(/\s/g).some(isNaN))Array.prototype.push.apply(K,lt.split(/\s/g).map(parseFloat));else return null;b()}return q!==0?null:V}function T(){for(var q=[],V,ot;ot=_(e)||_(/^(,)/);)ot===","?(q.push(V),V=[]):ot.split(/\s/g).some(isNaN)||(V||(V=[]),Array.prototype.push.apply(V,ot.split(/\s/g).map(parseFloat))),b();if(V)q.push(V);else return null;return q.length?q:null}function I(){if(!_(/^(point(\sz)?)/i)||(b(),!_(/^(\()/)))return null;var q=T();return!q||(b(),!_(/^(\))/))?null:{type:"Point",coordinates:q[0]}}function A(){if(!_(/^(multipoint)/i))return null;b();var q=f.substring(f.indexOf("(")+1,f.length-1).replace(/\(/g,"").replace(/\)/g,"");f="MULTIPOINT ("+q+")";var V=E();return V?(b(),{type:"MultiPoint",coordinates:V}):null}function F(){if(!_(/^(multilinestring)/i))return null;b();var q=E();return q?(b(),{type:"MultiLineString",coordinates:q}):null}function M(){if(!_(/^(linestring(\sz)?)/i)||(b(),!_(/^(\()/)))return null;var q=T();return!q||!_(/^(\))/)?null:{type:"LineString",coordinates:q}}function R(){if(!_(/^(polygon(\sz)?)/i))return null;b();var q=E();return q?{type:"Polygon",coordinates:q}:null}function D(){if(!_(/^(multipolygon)/i))return null;b();var q=E();return q?{type:"MultiPolygon",coordinates:q}:null}function B(){var q=[],V;if(!_(/^(geometrycollection)/i)||(b(),!_(/^(\()/)))return null;for(;V=$();)q.push(V),b(),_(/^(,)/),b();return _(/^(\))/)?{type:"GeometryCollection",geometries:q}:null}function $(){return I()||M()||R()||A()||F()||D()||B()}return y($())}function a(r){r.type==="Feature"&&(r=r.geometry);function c(y){return y.join(" ")}function f(y){return y.map(c).join(", ")}function d(y){return y.map(f).map(_).join(", ")}function g(y){return y.map(d).map(_).join(", ")}function _(y){return"("+y+")"}switch(r.type){case"Point":return"POINT ("+c(r.coordinates)+")";case"LineString":return"LINESTRING ("+f(r.coordinates)+")";case"Polygon":return"POLYGON ("+d(r.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+f(r.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+g(r.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+d(r.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+r.geometries.map(a).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return $a.exports}var Sr=iS(),qn=63710088e-1,Wv={centimeters:qn*100,centimetres:qn*100,degrees:360/(2*Math.PI),feet:qn*3.28084,inches:qn*39.37,kilometers:qn/1e3,kilometres:qn/1e3,meters:qn,metres:qn,miles:qn/1609.344,millimeters:qn*1e3,millimetres:qn*1e3,nauticalmiles:qn/1852,radians:1,yards:qn*1.0936};function Yv(t,e,s={}){const a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=e||{},a.geometry=t,a}function rS(t,e,s={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!xm(t[0])||!xm(t[1]))throw new Error("coordinates must contain numbers");return Yv({type:"Point",coordinates:t},e,s)}function ec(t,e={}){const s={type:"FeatureCollection"};return e.id&&(s.id=e.id),e.bbox&&(s.bbox=e.bbox),s.features=t,s}function sS(t,e="kilometers"){const s=Wv[e];if(!s)throw new Error(e+" units is invalid");return t*s}function oS(t,e="kilometers"){const s=Wv[e];if(!s)throw new Error(e+" units is invalid");return t/s}function xm(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function aS(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Ha(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function jv(t,e,s){if(t!==null)for(var a,r,c,f,d,g,_,y=0,b=0,E,T=t.type,I=T==="FeatureCollection",A=T==="Feature",F=I?t.features.length:1,M=0;M<F;M++){_=I?t.features[M].geometry:A?t.geometry:t,E=_?_.type==="GeometryCollection":!1,d=E?_.geometries.length:1;for(var R=0;R<d;R++){var D=0,B=0;if(f=E?_.geometries[R]:_,f!==null){g=f.coordinates;var $=f.type;switch(y=0,$){case null:break;case"Point":if(e(g,b,M,D,B)===!1)return!1;b++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<g.length;a++){if(e(g[a],b,M,D,B)===!1)return!1;b++,$==="MultiPoint"&&D++}$==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<g.length;a++){for(r=0;r<g[a].length-y;r++){if(e(g[a][r],b,M,D,B)===!1)return!1;b++}$==="MultiLineString"&&D++,$==="Polygon"&&B++}$==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<g.length;a++){for(B=0,r=0;r<g[a].length;r++){for(c=0;c<g[a][r].length-y;c++){if(e(g[a][r][c],b,M,D,B)===!1)return!1;b++}B++}D++}break;case"GeometryCollection":for(a=0;a<f.geometries.length;a++)if(jv(f.geometries[a],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function nc(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length&&e(t.features[s],s)!==!1;s++);}function Dc(t,e){var s,a,r,c,f,d,g,_,y,b,E=0,T=t.type==="FeatureCollection",I=t.type==="Feature",A=T?t.features.length:1;for(s=0;s<A;s++){for(d=T?t.features[s].geometry:I?t.geometry:t,_=T?t.features[s].properties:I?t.properties:{},y=T?t.features[s].bbox:I?t.bbox:void 0,b=T?t.features[s].id:I?t.id:void 0,g=d?d.type==="GeometryCollection":!1,f=g?d.geometries.length:1,r=0;r<f;r++){if(c=g?d.geometries[r]:d,c===null){if(e(null,E,_,y,b)===!1)return!1;continue}switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(c,E,_,y,b)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<c.geometries.length;a++)if(e(c.geometries[a],E,_,y,b)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}E++}}function lS(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const s=[1/0,1/0,-1/0,-1/0];return jv(t,a=>{s[0]>a[0]&&(s[0]=a[0]),s[1]>a[1]&&(s[1]=a[1]),s[2]<a[0]&&(s[2]=a[0]),s[3]<a[1]&&(s[3]=a[1])}),s}function ic(t){const e=Ha(t);let s=0,a=1,r,c;for(;a<e.length;)r=c||e[0],c=e[a],s+=(c[0]-r[0])*(c[1]+r[1]),a++;return s>0}function uS(t,e={}){const s=lS(t),a=(s[0]+s[2])/2,r=(s[1]+s[3])/2;return rS([a,r],e.properties,e)}var Su={exports:{}},cS=Su.exports,Tm;function hS(){return Tm||(Tm=1,function(t,e){(function(s,a){t.exports=a()})(cS,function(){function s(u,n){(n==null||n>u.length)&&(n=u.length);for(var i=0,l=Array(n);i<n;i++)l[i]=u[i];return l}function a(u,n,i){return n=y(n),function(l,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(l)}(u,E()?Reflect.construct(n,i||[],y(u).constructor):n.apply(u,i))}function r(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function c(u,n,i){if(E())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,n);var p=new(u.bind.apply(u,l));return i&&T(p,i.prototype),p}function f(u,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,F(l.key),l)}}function d(u,n,i){return n&&f(u.prototype,n),i&&f(u,i),Object.defineProperty(u,"prototype",{writable:!1}),u}function g(u,n){var i=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!i){if(Array.isArray(u)||(i=M(u))||n){i&&(u=i);var l=0,p=function(){};return{s:p,n:function(){return l>=u.length?{done:!0}:{done:!1,value:u[l++]}},e:function(N){throw N},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,k=!0,S=!1;return{s:function(){i=i.call(u)},n:function(){var N=i.next();return k=N.done,N},e:function(N){S=!0,v=N},f:function(){try{k||i.return==null||i.return()}finally{if(S)throw v}}}}function _(){return _=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,n,i){var l=function(v,k){for(;!{}.hasOwnProperty.call(v,k)&&(v=y(v))!==null;);return v}(u,n);if(l){var p=Object.getOwnPropertyDescriptor(l,n);return p.get?p.get.call(arguments.length<3?u:i):p.value}},_.apply(null,arguments)}function y(u){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y(u)}function b(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),n&&T(u,n)}function E(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!u})()}function T(u,n){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},T(u,n)}function I(u,n,i,l){var p=_(y(1&l?u.prototype:u),n,i);return 2&l&&typeof p=="function"?function(v){return p.apply(i,v)}:p}function A(u){return function(n){if(Array.isArray(n))return s(n)}(u)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(u)||M(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function F(u){var n=function(i,l){if(typeof i!="object"||!i)return i;var p=i[Symbol.toPrimitive];if(p!==void 0){var v=p.call(i,l);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(u,"string");return typeof n=="symbol"?n:n+""}function M(u,n){if(u){if(typeof u=="string")return s(u,n);var i={}.toString.call(u).slice(8,-1);return i==="Object"&&u.constructor&&(i=u.constructor.name),i==="Map"||i==="Set"?Array.from(u):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(u,n):void 0}}function R(u){var n=typeof Map=="function"?new Map:void 0;return R=function(i){if(i===null||!function(p){try{return Function.toString.call(p).indexOf("[native code]")!==-1}catch{return typeof p=="function"}}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(i))return n.get(i);n.set(i,l)}function l(){return c(i,arguments,y(this).constructor)}return l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),T(l,i)},R(u)}var D=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(n){this._quadrantSegments=n,this._quadrantSegments===0&&(this._joinStyle=u.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=u.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),n<=0&&(this._quadrantSegments=1),this._joinStyle!==u.JOIN_ROUND&&(this._quadrantSegments=u.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(n){this._joinStyle=n}},{key:"setSimplifyFactor",value:function(n){this._simplifyFactor=n<0?0:n}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(n){this._endCapStyle=n}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(n){this._mitreLimit=n}},{key:"setSingleSided",value:function(n){this._isSingleSided=n}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=u.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=u.CAP_ROUND,this._joinStyle=u.JOIN_ROUND,this._mitreLimit=u.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=u.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var i=arguments[0],l=arguments[1];this.setQuadrantSegments(i),this.setEndCapStyle(l)}else if(arguments.length===4){var p=arguments[0],v=arguments[1],k=arguments[2],S=arguments[3];this.setQuadrantSegments(p),this.setEndCapStyle(v),this.setJoinStyle(k),this.setMitreLimit(S)}}}},{key:"bufferDistanceError",value:function(n){var i=Math.PI/2/n;return 1-Math.cos(i/2)}}])}();D.CAP_ROUND=1,D.CAP_FLAT=2,D.CAP_SQUARE=3,D.JOIN_ROUND=1,D.JOIN_MITRE=2,D.JOIN_BEVEL=3,D.DEFAULT_QUADRANT_SEGMENTS=8,D.DEFAULT_MITRE_LIMIT=5,D.DEFAULT_SIMPLIFY_FACTOR=.01;var B=function(u){function n(i){var l;return r(this,n),(l=a(this,n,[i])).name=Object.keys({Exception:n})[0],l}return b(n,u),d(n,[{key:"toString",value:function(){return this.message}}])}(R(Error)),$=function(u){function n(i){var l;return r(this,n),(l=a(this,n,[i])).name=Object.keys({IllegalArgumentException:n})[0],l}return b(n,u),d(n)}(B),q=function(){return d(function u(){r(this,u)},[{key:"filter",value:function(u){}}])}();function V(){}function ot(){}function K(){}var lt,Lt,et,Q,Y,gt,vt,Et,ft=function(){return d(function u(){r(this,u)},null,[{key:"equalsWithTolerance",value:function(u,n,i){return Math.abs(u-n)<=i}}])}(),Pt=function(){return d(function u(n,i){r(this,u),this.low=i||0,this.high=n||0},null,[{key:"toBinaryString",value:function(u){var n,i="";for(n=2147483648;n>0;n>>>=1)i+=(u.high&n)===n?"1":"0";for(n=2147483648;n>0;n>>>=1)i+=(u.low&n)===n?"1":"0";return i}}])}();function at(){}function Dt(){}at.NaN=NaN,at.isNaN=function(u){return Number.isNaN(u)},at.isInfinite=function(u){return!Number.isFinite(u)},at.MAX_VALUE=Number.MAX_VALUE,at.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,at.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(gt=2146435072,vt=new Float64Array(1),Et=new Int32Array(vt.buffer),at.doubleToLongBits=function(u){vt[0]=u;var n=0|Et[0],i=0|Et[1];return(i&gt)===gt&&1048575&i&&n!==0&&(n=0,i=2146959360),new Pt(i,n)},at.longBitsToDouble=function(u){return Et[0]=u.low,Et[1]=u.high,vt[0]}):(lt=1023,Lt=Math.log2,et=Math.floor,Q=Math.pow,Y=function(){for(var u=53;u>0;u--){var n=Q(2,u)-1;if(et(Lt(n))+1===u)return n}return 0}(),at.doubleToLongBits=function(u){var n,i,l,p,v,k,S,N,U;if(u<0||1/u===Number.NEGATIVE_INFINITY?(k=1<<31,u=-u):k=0,u===0)return new Pt(N=k,U=0);if(u===1/0)return new Pt(N=2146435072|k,U=0);if(u!=u)return new Pt(N=2146959360,U=0);if(p=0,U=0,(n=et(u))>1)if(n<=Y)(p=et(Lt(n)))<=20?(U=0,N=n<<20-p&1048575):(U=n%(i=Q(2,l=p-20))<<32-l,N=n/i&1048575);else for(l=n,U=0;(l=et(i=l/2))!==0;)p++,U>>>=1,U|=(1&N)<<31,N>>>=1,i!==l&&(N|=524288);if(S=p+lt,v=n===0,n=u-n,p<52&&n!==0)for(l=0;;){if((i=2*n)>=1?(n=i-1,v?(S--,v=!1):(l<<=1,l|=1,p++)):(n=i,v?--S==0&&(p++,v=!1):(l<<=1,p++)),p===20)N|=l,l=0;else if(p===52){U|=l;break}if(i===1){p<20?N|=l<<20-p:p<52&&(U|=l<<52-p);break}}return N|=S<<20,new Pt(N|=k,U)},at.longBitsToDouble=function(u){var n,i,l,p,v=u.high,k=u.low,S=v&1<<31?-1:1;for(l=((2146435072&v)>>20)-lt,p=0,i=1<<19,n=1;n<=20;n++)v&i&&(p+=Q(2,-n)),i>>>=1;for(i=1<<31,n=21;n<=52;n++)k&i&&(p+=Q(2,-n)),i>>>=1;if(l===-1023){if(p===0)return 0*S;l=-1022}else{if(l===1024)return p===0?S/0:NaN;p+=1}return S*p*Q(2,l)});var Gt=function(u){function n(i){var l;return r(this,n),(l=a(this,n,[i])).name=Object.keys({RuntimeException:n})[0],l}return b(n,u),d(n)}(B),Bt=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,null,[{key:"constructor_",value:function(){if(arguments.length===0)Gt.constructor_.call(this);else if(arguments.length===1){var i=arguments[0];Gt.constructor_.call(this,i)}}}])}(Gt),It=function(){function u(){r(this,u)}return d(u,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)u.shouldNeverReachHere(null);else if(arguments.length===1){var n=arguments[0];throw new Bt("Should never reach here"+(n!==null?": "+n:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var n=arguments[0];u.isTrue(n,null)}else if(arguments.length===2){var i=arguments[1];if(!arguments[0])throw i===null?new Bt:new Bt(i)}}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];u.equals(n,i,null)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],v=arguments[2];if(!p.equals(l))throw new Bt("Expected "+l+" but encountered "+p+(v!==null?": "+v:""))}}}])}(),bt=new ArrayBuffer(8),Tt=new Float64Array(bt),it=new Int32Array(bt),G=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getM",value:function(){return at.NaN}},{key:"setOrdinate",value:function(n,i){switch(n){case u.X:this.x=i;break;case u.Y:this.y=i;break;case u.Z:this.setZ(i);break;default:throw new $("Invalid ordinate index: "+n)}}},{key:"equals2D",value:function(){if(arguments.length===1){var n=arguments[0];return this.x===n.x&&this.y===n.y}if(arguments.length===2){var i=arguments[0],l=arguments[1];return!!ft.equalsWithTolerance(this.x,i.x,l)&&!!ft.equalsWithTolerance(this.y,i.y,l)}}},{key:"setM",value:function(n){throw new $("Invalid ordinate index: "+u.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(n){switch(n){case u.X:return this.x;case u.Y:return this.y;case u.Z:return this.getZ()}throw new $("Invalid ordinate index: "+n)}},{key:"equals3D",value:function(n){return this.x===n.x&&this.y===n.y&&(this.getZ()===n.getZ()||at.isNaN(this.getZ())&&at.isNaN(n.getZ()))}},{key:"equals",value:function(n){return n instanceof u&&this.equals2D(n)}},{key:"equalInZ",value:function(n,i){return ft.equalsWithTolerance(this.getZ(),n.getZ(),i)}},{key:"setX",value:function(n){this.x=n}},{key:"compareTo",value:function(n){var i=n;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(n){this.z=n}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return It.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw n}}},{key:"copy",value:function(){return new u(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(n){var i=this.x-n.x,l=this.y-n.y,p=this.getZ()-n.getZ();return Math.sqrt(i*i+l*l+p*p)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(n){this.y=n}},{key:"distance",value:function(n){var i=this.x-n.x,l=this.y-n.y;return Math.sqrt(i*i+l*l)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*n+u.hashCode(this.x))+u.hashCode(this.y)}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}},{key:"interfaces_",get:function(){return[V,ot,K]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)u.constructor_.call(this,0,0);else if(arguments.length===1){var n=arguments[0];u.constructor_.call(this,n.x,n.y,n.getZ())}else if(arguments.length===2){var i=arguments[0],l=arguments[1];u.constructor_.call(this,i,l,u.NULL_ORDINATE)}else if(arguments.length===3){var p=arguments[0],v=arguments[1],k=arguments[2];this.x=p,this.y=v,this.z=k}}},{key:"hashCode",value:function(n){return Tt[0]=n,it[0]^it[1]}}])}(),kt=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"compare",value:function(n,i){var l=u.compare(n.x,i.x);if(l!==0)return l;var p=u.compare(n.y,i.y);return p!==0?p:this._dimensionsToTest<=2?0:u.compare(n.getZ(),i.getZ())}},{key:"interfaces_",get:function(){return[Dt]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)u.constructor_.call(this,2);else if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new $("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}},{key:"compare",value:function(n,i){return n<i?-1:n>i?1:at.isNaN(n)?at.isNaN(i)?0:-1:at.isNaN(i)?1:0}}])}();G.DimensionalComparator=kt,G.NULL_ORDINATE=at.NaN,G.X=0,G.Y=1,G.Z=2,G.M=3;var Ct=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(n){if(!(n instanceof u))return!1;var i=n;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()}},{key:"intersection",value:function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new u;var i=this._minx>n._minx?this._minx:n._minx,l=this._miny>n._miny?this._miny:n._miny;return new u(i,this._maxx<n._maxx?this._maxx:n._maxx,l,this._maxy<n._maxy?this._maxy:n._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];return this.covers(n.x,n.y)}if(arguments[0]instanceof u){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return!this.isNull()&&l>=this._minx&&l<=this._maxx&&p>=this._miny&&p<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var n=arguments[0];return!this.isNull()&&!n.isNull()&&!(n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny)}if(arguments[0]instanceof G){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){if(arguments[0]instanceof G&&arguments[1]instanceof G){var l=arguments[0],p=arguments[1];return!this.isNull()&&!((l.x<p.x?l.x:p.x)>this._maxx)&&!((l.x>p.x?l.x:p.x)<this._minx)&&!((l.y<p.y?l.y:p.y)>this._maxy)&&!((l.y>p.y?l.y:p.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var v=arguments[0],k=arguments[1];return!this.isNull()&&!(v>this._maxx||v<this._minx||k>this._maxy||k<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return Math.sqrt(n*n+i*i)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof u){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.isNull()?(this._minx=l,this._maxx=l,this._miny=p,this._maxy=p):(l<this._minx&&(this._minx=l),l>this._maxx&&(this._maxx=l),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return n<i?n:i}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(n){var i=n;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0}},{key:"translate",value:function(n,i){if(this.isNull())return null;this.init(this.getMinX()+n,this.getMaxX()+n,this.getMinY()+i,this.getMaxY()+i)}},{key:"copy",value:function(){return new u(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(n){return!(!this.isNull()&&!n.isNull())||n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return n>i?n:i}},{key:"expandBy",value:function(){if(arguments.length===1){var n=arguments[0];this.expandBy(n,n)}else if(arguments.length===2){var i=arguments[0],l=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=l,this._maxy+=l,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var n=arguments[0];return this.covers(n)}if(arguments[0]instanceof G){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];return this.covers(l,p)}}},{key:"centre",value:function(){return this.isNull()?null:new G((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof u){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var v=arguments[0],k=arguments[1],S=arguments[2],N=arguments[3];v<k?(this._minx=v,this._maxx=k):(this._minx=k,this._maxx=v),S<N?(this._miny=S,this._maxy=N):(this._miny=N,this._maxy=S)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(n){if(this.intersects(n))return 0;var i=0;this._maxx<n._minx?i=n._minx-this._maxx:this._minx>n._maxx&&(i=this._minx-n._maxx);var l=0;return this._maxy<n._miny?l=n._miny-this._maxy:this._miny>n._maxy&&(l=this._miny-n._maxy),i===0?l:l===0?i:Math.sqrt(i*i+l*l)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*(n=37*(n=37*n+G.hashCode(this._minx))+G.hashCode(this._maxx))+G.hashCode(this._miny))+G.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[V,K]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof u){var i=arguments[0];this.init(i)}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.init(l.x,p.x,l.y,p.y)}else if(arguments.length===4){var v=arguments[0],k=arguments[1],S=arguments[2],N=arguments[3];this.init(v,k,S,N)}}},{key:"intersects",value:function(){if(arguments.length===3){var n=arguments[0],i=arguments[1],l=arguments[2];return l.x>=(n.x<i.x?n.x:i.x)&&l.x<=(n.x>i.x?n.x:i.x)&&l.y>=(n.y<i.y?n.y:i.y)&&l.y<=(n.y>i.y?n.y:i.y)}if(arguments.length===4){var p=arguments[0],v=arguments[1],k=arguments[2],S=arguments[3],N=Math.min(k.x,S.x),U=Math.max(k.x,S.x),X=Math.min(p.x,v.x),nt=Math.max(p.x,v.x);return!(X>U)&&!(nt<N)&&(N=Math.min(k.y,S.y),U=Math.max(k.y,S.y),X=Math.min(p.y,v.y),nt=Math.max(p.y,v.y),!(X>U)&&!(nt<N))}}}])}(),St=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===u.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(n){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(n){return this===n||this.equalsExact(n,0)}},{key:"geometryChanged",value:function(){this.apply(u.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(n){return n!==null&&this.norm().equalsExact(n.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var n;if(arguments.length===1){var i=arguments[0];return n=i,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(i)}if(arguments.length===2){var l=arguments[0],p=arguments[1];return n=l,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(l,p)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(n){if(n.getTypeCode()===u.TYPECODE_GEOMETRYCOLLECTION)throw new $("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(n,i,l){return l===0?n.equals(i):n.distance(i)<=l}},{key:"norm",value:function(){var n=this.copy();return n.normalize(),n}},{key:"reverse",value:function(){var n=this.reverseInternal();return this.envelope!=null&&(n.envelope=this.envelope.copy()),n.setSRID(this.getSRID()),n}},{key:"copy",value:function(){var n=this.copyInternal();return n.envelope=this._envelope==null?null:this._envelope.copy(),n._SRID=this._SRID,n._userData=this._userData,n}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Ct(this._envelope)}},{key:"setSRID",value:function(n){this._SRID=n}},{key:"setUserData",value:function(n){this._userData=n}},{key:"compare",value:function(n,i){for(var l=n.iterator(),p=i.iterator();l.hasNext()&&p.hasNext();){var v=l.next(),k=p.next(),S=v.compareTo(k);if(S!==0)return S}return l.hasNext()?1:p.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(n){return this.getClass()===n.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===u.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===u.TYPECODE_MULTIPOINT||this.getTypeCode()===u.TYPECODE_MULTILINESTRING||this.getTypeCode()===u.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[ot,V,K]}},{key:"getClass",value:function(){return u}}],[{key:"hasNonEmptyElements",value:function(n){for(var i=0;i<n.length;i++)if(!n[i].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(n){for(var i=0;i<n.length;i++)if(n[i]===null)return!0;return!1}}])}();St.constructor_=function(u){u&&(this._envelope=null,this._userData=null,this._factory=u,this._SRID=u.getSRID())},St.TYPECODE_POINT=0,St.TYPECODE_MULTIPOINT=1,St.TYPECODE_LINESTRING=2,St.TYPECODE_LINEARRING=3,St.TYPECODE_MULTILINESTRING=4,St.TYPECODE_POLYGON=5,St.TYPECODE_MULTIPOLYGON=6,St.TYPECODE_GEOMETRYCOLLECTION=7,St.TYPENAME_POINT="Point",St.TYPENAME_MULTIPOINT="MultiPoint",St.TYPENAME_LINESTRING="LineString",St.TYPENAME_LINEARRING="LinearRing",St.TYPENAME_MULTILINESTRING="MultiLineString",St.TYPENAME_POLYGON="Polygon",St.TYPENAME_MULTIPOLYGON="MultiPolygon",St.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",St.geometryChangedFilter={get interfaces_(){return[q]},filter:function(u){u.geometryChangedAction()}};var C=function(){function u(){r(this,u)}return d(u,null,[{key:"toLocationSymbol",value:function(n){switch(n){case u.EXTERIOR:return"e";case u.BOUNDARY:return"b";case u.INTERIOR:return"i";case u.NONE:return"-"}throw new $("Unknown location value: "+n)}}])}();C.INTERIOR=0,C.BOUNDARY=1,C.EXTERIOR=2,C.NONE=-1;var H=function(){return d(function u(){r(this,u)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),J=function(u){function n(i){var l;return r(this,n),(l=a(this,n,[i])).name=Object.keys({NoSuchElementException:n})[0],l}return b(n,u),d(n)}(B),dt=function(u){function n(i){var l;return r(this,n),(l=a(this,n,[i])).name=Object.keys({UnsupportedOperationException:n})[0],l}return b(n,u),d(n)}(B),mt=function(u){function n(){return r(this,n),a(this,n,arguments)}return b(n,u),d(n,[{key:"contains",value:function(){}}])}(H),pt=function(u){function n(i){var l;return r(this,n),(l=a(this,n)).map=new Map,i instanceof H&&l.addAll(i),l}return b(n,u),d(n,[{key:"contains",value:function(i){var l=i.hashCode?i.hashCode():i;return!!this.map.has(l)}},{key:"add",value:function(i){var l=i.hashCode?i.hashCode():i;return!this.map.has(l)&&!!this.map.set(l,i)}},{key:"addAll",value:function(i){var l,p=g(i);try{for(p.s();!(l=p.n()).done;){var v=l.value;this.add(v)}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new dt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new z(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(mt),z=function(){return d(function u(n){r(this,u),this.iterator=n.values();var i=this.iterator.next(),l=i.done,p=i.value;this.done=l,this.value=p},[{key:"next",value:function(){if(this.done)throw new J;var u=this.value,n=this.iterator.next(),i=n.done,l=n.value;return this.done=i,this.value=l,u}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new dt}}])}(),P=function(){function u(){r(this,u)}return d(u,null,[{key:"opposite",value:function(n){return n===u.LEFT?u.RIGHT:n===u.RIGHT?u.LEFT:n}}])}();P.ON=0,P.LEFT=1,P.RIGHT=2;var j=function(u){function n(i){var l;return r(this,n),(l=a(this,n,[i])).name=Object.keys({EmptyStackException:n})[0],l}return b(n,u),d(n)}(B),st=function(u){function n(i){var l;return r(this,n),(l=a(this,n,[i])).name=Object.keys({IndexOutOfBoundsException:n})[0],l}return b(n,u),d(n)}(B),Rt=function(u){function n(){return r(this,n),a(this,n,arguments)}return b(n,u),d(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(H),yt=function(u){function n(){var i;return r(this,n),(i=a(this,n)).array=[],i}return b(n,u),d(n,[{key:"add",value:function(i){return this.array.push(i),!0}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new st;return this.array[i]}},{key:"push",value:function(i){return this.array.push(i),i}},{key:"pop",value:function(){if(this.array.length===0)throw new j;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new j;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(i){return this.array.indexOf(i)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(Rt);function W(u,n){return u.interfaces_&&u.interfaces_.indexOf(n)>-1}var ct=function(){return d(function u(n){r(this,u),this.str=n},[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,n){this.str=this.str.substr(0,u)+n+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}])}(),zt=function(){function u(n){r(this,u),this.value=n}return d(u,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(n){return this.value<n?-1:this.value>n?1:0}}],[{key:"compare",value:function(n,i){return n<i?-1:n>i?1:0}},{key:"isNan",value:function(n){return Number.isNaN(n)}},{key:"valueOf",value:function(n){return new u(n)}}])}(),Kt=function(){return d(function u(){r(this,u)},null,[{key:"isWhitespace",value:function(u){return u<=32&&u>=0||u===127}},{key:"toUpperCase",value:function(u){return u.toUpperCase()}}])}(),Nt=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"le",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<=n._lo}},{key:"extractSignificantDigits",value:function(n,i){var l=this.abs(),p=u.magnitude(l._hi),v=u.TEN.pow(p);(l=l.divide(v)).gt(u.TEN)?(l=l.divide(u.TEN),p+=1):l.lt(u.ONE)&&(l=l.multiply(u.TEN),p-=1);for(var k=p+1,S=new ct,N=u.MAX_PRINT_DIGITS-1,U=0;U<=N;U++){n&&U===k&&S.append(".");var X=Math.trunc(l._hi);if(X<0)break;var nt=!1,wt=0;X>9?(nt=!0,wt="9"):wt="0"+X,S.append(wt),l=l.subtract(u.valueOf(X)).multiply(u.TEN),nt&&l.selfAdd(u.TEN);var Ft=!0,Vt=u.magnitude(l._hi);if(Vt<0&&Math.abs(Vt)>=N-U&&(Ft=!1),!Ft)break}return i[0]=p,S.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof u){var n=arguments[0];return this.add(n.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof u){var n=arguments[0];return this._hi===n._hi&&this._lo===n._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof u){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n._hi,-n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(n){return this.le(n)?this:n}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var n=arguments[0];return this.selfDivide(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var l,p,v,k,S=arguments[0],N=arguments[1],U=null,X=null,nt=null,wt=null;return v=this._hi/S,wt=(U=(nt=u.SPLIT*v)-(U=nt-v))*(X=(wt=u.SPLIT*S)-(X=wt-S))-(k=v*S)+U*(p=S-X)+(l=v-U)*X+l*p,wt=v+(nt=(this._hi-k-wt+this._lo-v*N)/S),this._hi=wt,this._lo=v-wt+nt,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof u){var n,i,l,p,v=arguments[0],k=null,S=null,N=null,U=null;return n=(l=this._hi/v._hi)-(k=(N=u.SPLIT*l)-(k=N-l)),U=k*(S=(U=u.SPLIT*v._hi)-(S=U-v._hi))-(p=l*v._hi)+k*(i=v._hi-S)+n*S+n*i,new u(U=l+(N=(this._hi-p-U+this._lo-l*v._lo)/v._hi),l-U+N)}if(typeof arguments[0]=="number"){var X=arguments[0];return at.isNaN(X)?u.createNaN():u.copy(this).selfDivide(X,0)}}},{key:"ge",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>=n._lo}},{key:"pow",value:function(n){if(n===0)return u.valueOf(1);var i=new u(this),l=u.valueOf(1),p=Math.abs(n);if(p>1)for(;p>0;)p%2==1&&l.selfMultiply(i),(p/=2)>0&&(i=i.sqr());else l=i;return n<0?l.reciprocal():l}},{key:"ceil",value:function(){if(this.isNaN())return u.NaN;var n=Math.ceil(this._hi),i=0;return n===this._hi&&(i=Math.ceil(this._lo)),new u(n,i)}},{key:"compareTo",value:function(n){var i=n;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof u){var n=arguments[0];return this.init(n),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}}},{key:"max",value:function(n){return this.ge(n)?this:n}},{key:"sqrt",value:function(){if(this.isZero())return u.valueOf(0);if(this.isNegative())return u.NaN;var n=1/Math.sqrt(this._hi),i=this._hi*n,l=u.valueOf(i),p=this.subtract(l.sqr())._hi*(.5*n);return l.add(p)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var n=arguments[0];return this.selfAdd(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i,l,p,v,k,S=arguments[0],N=null;return N=(p=this._hi+S)-(v=p-this._hi),l=(k=(N=S-v+(this._hi-N))+this._lo)+(p-(i=p+k)),this._hi=i+l,this._lo=l+(i-this._hi),this}}else if(arguments.length===2){var U,X,nt,wt,Ft=arguments[0],Vt=arguments[1],Xt=null,he=null,ae=null;nt=this._hi+Ft,X=this._lo+Vt,he=nt-(ae=nt-this._hi),Xt=X-(wt=X-this._lo);var Te=(U=nt+(ae=(he=Ft-ae+(this._hi-he))+X))+(ae=(Xt=Vt-wt+(this._lo-Xt))+(ae+(nt-U))),$e=ae+(U-Te);return this._hi=Te,this._lo=$e,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var n=arguments[0];return this.selfMultiply(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var l,p,v=arguments[0],k=arguments[1],S=null,N=null,U=null,X=null;S=(U=u.SPLIT*this._hi)-this._hi,X=u.SPLIT*v,S=U-S,l=this._hi-S,N=X-v;var nt=(U=this._hi*v)+(X=S*(N=X-N)-U+S*(p=v-N)+l*N+l*p+(this._hi*k+this._lo*v)),wt=X+(S=U-nt);return this._hi=nt,this._lo=wt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return u.NaN;var n=Math.floor(this._hi),i=0;return n===this._hi&&(i=Math.floor(this._lo)),new u(n,i)}},{key:"negate",value:function(){return this.isNaN()?this:new u(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return null;throw n}}},{key:"multiply",value:function(){if(arguments[0]instanceof u){var n=arguments[0];return n.isNaN()?u.createNaN():u.copy(this).selfMultiply(n)}if(typeof arguments[0]=="number"){var i=arguments[0];return at.isNaN(i)?u.createNaN():u.copy(this).selfMultiply(i,0)}}},{key:"isNaN",value:function(){return at.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var n=u.magnitude(this._hi);return n>=-3&&n<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var n=this.getSpecialNumberString();if(n!==null)return n;var i=new Array(1).fill(null),l=this.extractSignificantDigits(!0,i),p=i[0]+1,v=l;if(l.charAt(0)===".")v="0"+l;else if(p<0)v="0."+u.stringOfChar("0",-p)+l;else if(l.indexOf(".")===-1){var k=p-l.length;v=l+u.stringOfChar("0",k)+".0"}return this.isNegative()?"-"+v:v}},{key:"reciprocal",value:function(){var n,i,l,p,v=null,k=null,S=null,N=null;n=(l=1/this._hi)-(v=(S=u.SPLIT*l)-(v=S-l)),k=(N=u.SPLIT*this._hi)-this._hi;var U=l+(S=(1-(p=l*this._hi)-(N=v*(k=N-k)-p+v*(i=this._hi-k)+n*k+n*i)-l*this._lo)/this._hi);return new u(U,l-U+S)}},{key:"toSciNotation",value:function(){if(this.isZero())return u.SCI_NOT_ZERO;var n=this.getSpecialNumberString();if(n!==null)return n;var i=new Array(1).fill(null),l=this.extractSignificantDigits(!1,i),p=u.SCI_NOT_EXPONENT_CHAR+i[0];if(l.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+l);var v="";l.length>1&&(v=l.substring(1));var k=l.charAt(0)+"."+v;return this.isNegative()?"-"+k+p:k+p}},{key:"abs",value:function(){return this.isNaN()?u.NaN:this.isNegative()?this.negate():new u(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<n._lo}},{key:"add",value:function(){if(arguments[0]instanceof u){var n=arguments[0];return u.copy(this).selfAdd(n)}if(typeof arguments[0]=="number"){var i=arguments[0];return u.copy(this).selfAdd(i)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this._hi=n,this._lo=0}else if(arguments[0]instanceof u){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this._hi=l,this._lo=p}}},{key:"gt",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>n._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?u.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[K,V,ot]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof u){var i=arguments[0];this.init(i)}else if(typeof arguments[0]=="string"){var l=arguments[0];u.constructor_.call(this,u.parse(l))}}else if(arguments.length===2){var p=arguments[0],v=arguments[1];this.init(p,v)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1],l=arguments[2],p=arguments[3];return u.determinant(u.valueOf(n),u.valueOf(i),u.valueOf(l),u.valueOf(p))}if(arguments[3]instanceof u&&arguments[2]instanceof u&&arguments[0]instanceof u&&arguments[1]instanceof u){var v=arguments[1],k=arguments[2],S=arguments[3];return arguments[0].multiply(S).selfSubtract(v.multiply(k))}}},{key:"sqr",value:function(n){return u.valueOf(n).selfMultiply(n)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var n=arguments[0];return u.parse(n)}if(typeof arguments[0]=="number")return new u(arguments[0])}},{key:"sqrt",value:function(n){return u.valueOf(n).sqrt()}},{key:"parse",value:function(n){for(var i=0,l=n.length;Kt.isWhitespace(n.charAt(i));)i++;var p=!1;if(i<l){var v=n.charAt(i);v!=="-"&&v!=="+"||(i++,v==="-"&&(p=!0))}for(var k=new u,S=0,N=0,U=0,X=!1;!(i>=l);){var nt=n.charAt(i);if(i++,Kt.isDigit(nt)){var wt=nt-"0";k.selfMultiply(u.TEN),k.selfAdd(wt),S++}else{if(nt!=="."){if(nt==="e"||nt==="E"){var Ft=n.substring(i);try{U=zt.parseInt(Ft)}catch(Te){throw Te instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Ft+" in string "+n):Te}break}throw new NumberFormatException("Unexpected character '"+nt+"' at position "+i+" in string "+n)}N=S,X=!0}}var Vt=k;X||(N=S);var Xt=S-N-U;if(Xt===0)Vt=k;else if(Xt>0){var he=u.TEN.pow(Xt);Vt=k.divide(he)}else if(Xt<0){var ae=u.TEN.pow(-Xt);Vt=k.multiply(ae)}return p?Vt.negate():Vt}},{key:"createNaN",value:function(){return new u(at.NaN,at.NaN)}},{key:"copy",value:function(n){return new u(n)}},{key:"magnitude",value:function(n){var i=Math.abs(n),l=Math.log(i)/Math.log(10),p=Math.trunc(Math.floor(l));return 10*Math.pow(10,p)<=i&&(p+=1),p}},{key:"stringOfChar",value:function(n,i){for(var l=new ct,p=0;p<i;p++)l.append(n);return l.toString()}}])}();Nt.PI=new Nt(3.141592653589793,12246467991473532e-32),Nt.TWO_PI=new Nt(6.283185307179586,24492935982947064e-32),Nt.PI_2=new Nt(1.5707963267948966,6123233995736766e-32),Nt.E=new Nt(2.718281828459045,14456468917292502e-32),Nt.NaN=new Nt(at.NaN,at.NaN),Nt.EPS=123259516440783e-46,Nt.SPLIT=134217729,Nt.MAX_PRINT_DIGITS=32,Nt.TEN=Nt.valueOf(10),Nt.ONE=Nt.valueOf(1),Nt.SCI_NOT_EXPONENT_CHAR="E",Nt.SCI_NOT_ZERO="0.0E0";var Ue=function(){function u(){r(this,u)}return d(u,null,[{key:"orientationIndex",value:function(n,i,l){var p=u.orientationIndexFilter(n,i,l);if(p<=1)return p;var v=Nt.valueOf(i.x).selfAdd(-n.x),k=Nt.valueOf(i.y).selfAdd(-n.y),S=Nt.valueOf(l.x).selfAdd(-i.x),N=Nt.valueOf(l.y).selfAdd(-i.y);return v.selfMultiply(N).selfSubtract(k.selfMultiply(S)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Nt&&arguments[2]instanceof Nt&&arguments[0]instanceof Nt&&arguments[1]instanceof Nt){var n=arguments[1],i=arguments[2],l=arguments[3];return arguments[0].multiply(l).selfSubtract(n.multiply(i)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],v=arguments[1],k=arguments[2],S=arguments[3],N=Nt.valueOf(p),U=Nt.valueOf(v),X=Nt.valueOf(k),nt=Nt.valueOf(S);return N.multiply(nt).selfSubtract(U.multiply(X)).signum()}}},{key:"intersection",value:function(n,i,l,p){var v=new Nt(n.y).selfSubtract(i.y),k=new Nt(i.x).selfSubtract(n.x),S=new Nt(n.x).selfMultiply(i.y).selfSubtract(new Nt(i.x).selfMultiply(n.y)),N=new Nt(l.y).selfSubtract(p.y),U=new Nt(p.x).selfSubtract(l.x),X=new Nt(l.x).selfMultiply(p.y).selfSubtract(new Nt(p.x).selfMultiply(l.y)),nt=k.multiply(X).selfSubtract(U.multiply(S)),wt=N.multiply(S).selfSubtract(v.multiply(X)),Ft=v.multiply(U).selfSubtract(N.multiply(k)),Vt=nt.selfDivide(Ft).doubleValue(),Xt=wt.selfDivide(Ft).doubleValue();return at.isNaN(Vt)||at.isInfinite(Vt)||at.isNaN(Xt)||at.isInfinite(Xt)?null:new G(Vt,Xt)}},{key:"orientationIndexFilter",value:function(n,i,l){var p=null,v=(n.x-l.x)*(i.y-l.y),k=(n.y-l.y)*(i.x-l.x),S=v-k;if(v>0){if(k<=0)return u.signum(S);p=v+k}else{if(!(v<0)||k>=0)return u.signum(S);p=-v-k}var N=u.DP_SAFE_EPSILON*p;return S>=N||-S>=N?u.signum(S):2}},{key:"signum",value:function(n){return n>0?1:n<0?-1:0}}])}();Ue.DP_SAFE_EPSILON=1e-15;var Wt=function(){return d(function u(){r(this,u)},[{key:"getM",value:function(u){if(this.hasM()){var n=this.getDimension()-this.getMeasures();return this.getOrdinate(u,n)}return at.NaN}},{key:"setOrdinate",value:function(u,n,i){}},{key:"getZ",value:function(u){return this.hasZ()?this.getOrdinate(u,2):at.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(u,n){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(u){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(u){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(u){}},{key:"copy",value:function(){}},{key:"getY",value:function(u){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[ot]}}])}();Wt.X=0,Wt.Y=1,Wt.Z=2,Wt.M=3;var Zt=function(){function u(){r(this,u)}return d(u,null,[{key:"index",value:function(n,i,l){return Ue.orientationIndex(n,i,l)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var n=arguments[0],i=n.length-1;if(i<3)throw new $("Ring has fewer than 4 points, so orientation cannot be determined");for(var l=n[0],p=0,v=1;v<=i;v++){var k=n[v];k.y>l.y&&(l=k,p=v)}var S=p;do(S-=1)<0&&(S=i);while(n[S].equals2D(l)&&S!==p);var N=p;do N=(N+1)%i;while(n[N].equals2D(l)&&N!==p);var U=n[S],X=n[N];if(U.equals2D(l)||X.equals2D(l)||U.equals2D(X))return!1;var nt=u.index(U,l,X);return nt===0?U.x>X.x:nt>0}if(W(arguments[0],Wt)){var wt=arguments[0],Ft=wt.size()-1;if(Ft<3)throw new $("Ring has fewer than 4 points, so orientation cannot be determined");for(var Vt=wt.getCoordinate(0),Xt=0,he=1;he<=Ft;he++){var ae=wt.getCoordinate(he);ae.y>Vt.y&&(Vt=ae,Xt=he)}var Te=null,$e=Xt;do($e-=1)<0&&($e=Ft),Te=wt.getCoordinate($e);while(Te.equals2D(Vt)&&$e!==Xt);var sn=null,Zi=Xt;do Zi=(Zi+1)%Ft,sn=wt.getCoordinate(Zi);while(sn.equals2D(Vt)&&Zi!==Xt);if(Te.equals2D(Vt)||sn.equals2D(Vt)||Te.equals2D(sn))return!1;var Os=u.index(Te,Vt,sn);return Os===0?Te.x>sn.x:Os>0}}}])}();Zt.CLOCKWISE=-1,Zt.RIGHT=Zt.CLOCKWISE,Zt.COUNTERCLOCKWISE=1,Zt.LEFT=Zt.COUNTERCLOCKWISE,Zt.COLLINEAR=0,Zt.STRAIGHT=Zt.COLLINEAR;var Cn=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(u,n){var i=this.getRightmostSideOfSegment(u,n);return i<0&&(i=this.getRightmostSideOfSegment(u,n-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(u)),i}},{key:"findRightmostEdgeAtVertex",value:function(){var u=this._minDe.getEdge().getCoordinates();It.isTrue(this._minIndex>0&&this._minIndex<u.length,"rightmost point expected to be interior vertex of edge");var n=u[this._minIndex-1],i=u[this._minIndex+1],l=Zt.index(this._minCoord,i,n),p=!1;(n.y<this._minCoord.y&&i.y<this._minCoord.y&&l===Zt.COUNTERCLOCKWISE||n.y>this._minCoord.y&&i.y>this._minCoord.y&&l===Zt.CLOCKWISE)&&(p=!0),p&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(u,n){var i=u.getEdge().getCoordinates();if(n<0||n+1>=i.length||i[n].y===i[n+1].y)return-1;var l=P.LEFT;return i[n].y<i[n+1].y&&(l=P.RIGHT),l}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(u){for(var n=u.getEdge().getCoordinates(),i=0;i<n.length-1;i++)(this._minCoord===null||n[i].x>this._minCoord.x)&&(this._minDe=u,this._minIndex=i,this._minCoord=n[i])}},{key:"findRightmostEdgeAtNode",value:function(){var u=this._minDe.getNode().getEdges();this._minDe=u.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(u){for(var n=u.iterator();n.hasNext();){var i=n.next();i.isForward()&&this.checkForRightmostCoordinate(i)}It.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===P.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),un=function(u){function n(i,l){var p;return r(this,n),(p=a(this,n,[l?i+" [ "+l+" ]":i])).pt=l?new G(l):void 0,p.name=Object.keys({TopologyException:n})[0],p}return b(n,u),d(n,[{key:"getCoordinate",value:function(){return this.pt}}])}(Gt),Nr=function(){return d(function u(){r(this,u),this.array=[]},[{key:"addLast",value:function(u){this.array.push(u)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),Ht=function(u){function n(i){var l;return r(this,n),(l=a(this,n)).array=[],i instanceof H&&l.addAll(i),l}return b(n,u),d(n,[{key:"interfaces_",get:function(){return[Rt,H]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(i){return arguments.length===1?this.array.push(i):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(i){var l,p=g(i);try{for(p.s();!(l=p.n()).done;){var v=l.value;this.array.push(v)}}catch(k){p.e(k)}finally{p.f()}}},{key:"set",value:function(i,l){var p=this.array[i];return this.array[i]=l,p}},{key:"iterator",value:function(){return new $n(this)}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new st;return this.array[i]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(i){i?this.array.sort(function(l,p){return i.compare(l,p)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(i){for(var l=0,p=this.array.length;l<p;l++)if(this.array[l]===i)return!!this.array.splice(l,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(Rt),$n=function(){return d(function u(n){r(this,u),this.arrayList=n,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new J;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(u){return this.arrayList.set(this.position-1,u)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),Fi=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();)u.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(u){for(var n=null,i=u.getEdges().iterator();i.hasNext();){var l=i.next();if(l.isVisited()||l.getSym().isVisited()){n=l;break}}if(n===null)throw new un("unable to find edge to compute depths at "+u.getCoordinate());u.getEdges().computeDepths(n);for(var p=u.getEdges().iterator();p.hasNext();){var v=p.next();v.setVisited(!0),this.copySymDepths(v)}}},{key:"computeDepth",value:function(u){this.clearVisitedEdges();var n=this._finder.getEdge();n.getNode(),n.getLabel(),n.setEdgeDepths(P.RIGHT,u),this.copySymDepths(n),this.computeDepths(n)}},{key:"create",value:function(u){this.addReachable(u),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();){var n=u.next();n.getDepth(P.RIGHT)>=1&&n.getDepth(P.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}}},{key:"computeDepths",value:function(u){var n=new pt,i=new Nr,l=u.getNode();for(i.addLast(l),n.add(l),u.setVisited(!0);!i.isEmpty();){var p=i.removeFirst();n.add(p),this.computeNodeDepth(p);for(var v=p.getEdges().iterator();v.hasNext();){var k=v.next().getSym();if(!k.isVisited()){var S=k.getNode();n.contains(S)||(i.addLast(S),n.add(S))}}}}},{key:"compareTo",value:function(u){var n=u;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var u=new Ct,n=this._dirEdgeList.iterator();n.hasNext();)for(var i=n.next().getEdge().getCoordinates(),l=0;l<i.length-1;l++)u.expandToInclude(i[l]);this._env=u}return this._env}},{key:"addReachable",value:function(u){var n=new yt;for(n.add(u);!n.empty();){var i=n.pop();this.add(i,n)}}},{key:"copySymDepths",value:function(u){var n=u.getSym();n.setDepth(P.LEFT,u.getDepth(P.RIGHT)),n.setDepth(P.RIGHT,u.getDepth(P.LEFT))}},{key:"add",value:function(u,n){u.setVisited(!0),this._nodes.add(u);for(var i=u.getEdges().iterator();i.hasNext();){var l=i.next();this._dirEdgeList.add(l);var p=l.getSym().getNode();p.isVisited()||n.push(p)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Ht,this._nodes=new Ht,this._rightMostCoord=null,this._env=null,this._finder=new Cn}}])}(),oa=function(){return d(function u(){r(this,u)},null,[{key:"intersection",value:function(u,n,i,l){var p=u.x<n.x?u.x:n.x,v=u.y<n.y?u.y:n.y,k=u.x>n.x?u.x:n.x,S=u.y>n.y?u.y:n.y,N=i.x<l.x?i.x:l.x,U=i.y<l.y?i.y:l.y,X=i.x>l.x?i.x:l.x,nt=i.y>l.y?i.y:l.y,wt=((p>N?p:N)+(k<X?k:X))/2,Ft=((v>U?v:U)+(S<nt?S:nt))/2,Vt=u.x-wt,Xt=u.y-Ft,he=n.x-wt,ae=n.y-Ft,Te=i.x-wt,$e=i.y-Ft,sn=l.x-wt,Zi=l.y-Ft,Os=Xt-ae,pi=he-Vt,Oa=Vt*ae-he*Xt,Ma=$e-Zi,Gr=sn-Te,Xl=Te*Zi-sn*$e,Ms=Os*Gr-Ma*pi,dr=(pi*Xl-Gr*Oa)/Ms,xo=(Ma*Oa-Os*Xl)/Ms;return at.isNaN(dr)||at.isInfinite(dr)||at.isNaN(xo)||at.isInfinite(xo)?null:new G(dr+wt,xo+Ft)}}])}(),Gn=function(){return d(function u(){r(this,u)},null,[{key:"arraycopy",value:function(u,n,i,l,p){for(var v=0,k=n;k<n+p;k++)i[l+v]=u[k],v++}},{key:"getProperty",value:function(u){return{"line.separator":`
`}[u]}}])}(),Or=function(){function u(){r(this,u)}return d(u,null,[{key:"log10",value:function(n){var i=Math.log(n);return at.isInfinite(i)||at.isNaN(i)?i:i/u.LOG_10}},{key:"min",value:function(n,i,l,p){var v=n;return i<v&&(v=i),l<v&&(v=l),p<v&&(v=p),v}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1],l=arguments[2];return n<i?i:n>l?l:n}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],v=arguments[1],k=arguments[2];return p<v?v:p>k?k:p}}},{key:"wrap",value:function(n,i){return n<0?i- -n%i:n%i}},{key:"max",value:function(){if(arguments.length===3){var n=arguments[1],i=arguments[2],l=arguments[0];return n>l&&(l=n),i>l&&(l=i),l}if(arguments.length===4){var p=arguments[1],v=arguments[2],k=arguments[3],S=arguments[0];return p>S&&(S=p),v>S&&(S=v),k>S&&(S=k),S}}},{key:"average",value:function(n,i){return(n+i)/2}}])}();Or.LOG_10=Math.log(10);var Kn=function(){function u(){r(this,u)}return d(u,null,[{key:"segmentToSegment",value:function(n,i,l,p){if(n.equals(i))return u.pointToSegment(n,l,p);if(l.equals(p))return u.pointToSegment(p,n,i);var v=!1;if(Ct.intersects(n,i,l,p)){var k=(i.x-n.x)*(p.y-l.y)-(i.y-n.y)*(p.x-l.x);if(k===0)v=!0;else{var S=(n.y-l.y)*(p.x-l.x)-(n.x-l.x)*(p.y-l.y),N=((n.y-l.y)*(i.x-n.x)-(n.x-l.x)*(i.y-n.y))/k,U=S/k;(U<0||U>1||N<0||N>1)&&(v=!0)}}else v=!0;return v?Or.min(u.pointToSegment(n,l,p),u.pointToSegment(i,l,p),u.pointToSegment(l,n,i),u.pointToSegment(p,n,i)):0}},{key:"pointToSegment",value:function(n,i,l){if(i.x===l.x&&i.y===l.y)return n.distance(i);var p=(l.x-i.x)*(l.x-i.x)+(l.y-i.y)*(l.y-i.y),v=((n.x-i.x)*(l.x-i.x)+(n.y-i.y)*(l.y-i.y))/p;if(v<=0)return n.distance(i);if(v>=1)return n.distance(l);var k=((i.y-n.y)*(l.x-i.x)-(i.x-n.x)*(l.y-i.y))/p;return Math.abs(k)*Math.sqrt(p)}},{key:"pointToLinePerpendicular",value:function(n,i,l){var p=(l.x-i.x)*(l.x-i.x)+(l.y-i.y)*(l.y-i.y),v=((i.y-n.y)*(l.x-i.x)-(i.x-n.x)*(l.y-i.y))/p;return Math.abs(v)*Math.sqrt(p)}},{key:"pointToSegmentString",value:function(n,i){if(i.length===0)throw new $("Line array must contain at least one vertex");for(var l=n.distance(i[0]),p=0;p<i.length-1;p++){var v=u.pointToSegment(n,i[p],i[p+1]);v<l&&(l=v)}return l}}])}(),aa=function(){return d(function u(){r(this,u)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||W(arguments[0],Wt);else if(arguments.length!==2){if(arguments.length===3){var u=arguments[0],n=arguments[1];return this.create(u,n)}}}}])}(),io=function(){return d(function u(){r(this,u)},[{key:"filter",value:function(u){}}])}(),Bc=function(){return d(function u(){r(this,u)},null,[{key:"ofLine",value:function(u){var n=u.size();if(n<=1)return 0;var i=0,l=new G;u.getCoordinate(0,l);for(var p=l.x,v=l.y,k=1;k<n;k++){u.getCoordinate(k,l);var S=l.x,N=l.y,U=S-p,X=N-v;i+=Math.sqrt(U*U+X*X),p=S,v=N}return i}}])}(),Ol=d(function u(){r(this,u)}),or=function(){function u(){r(this,u)}return d(u,null,[{key:"copyCoord",value:function(n,i,l,p){for(var v=Math.min(n.getDimension(),l.getDimension()),k=0;k<v;k++)l.setOrdinate(p,k,n.getOrdinate(i,k))}},{key:"isRing",value:function(n){var i=n.size();return i===0||!(i<=3)&&n.getOrdinate(0,Wt.X)===n.getOrdinate(i-1,Wt.X)&&n.getOrdinate(0,Wt.Y)===n.getOrdinate(i-1,Wt.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(W(arguments[0],Wt)&&Number.isInteger(arguments[1])){var n=arguments[0],i=arguments[1];u.scroll(n,i,u.isRing(n))}else if(W(arguments[0],Wt)&&arguments[1]instanceof G){var l=arguments[0],p=arguments[1],v=u.indexOf(p,l);if(v<=0)return null;u.scroll(l,v)}}else if(arguments.length===3){var k=arguments[0],S=arguments[1],N=arguments[2];if(S<=0)return null;for(var U=k.copy(),X=N?k.size()-1:k.size(),nt=0;nt<X;nt++)for(var wt=0;wt<k.getDimension();wt++)k.setOrdinate(nt,wt,U.getOrdinate((S+nt)%X,wt));if(N)for(var Ft=0;Ft<k.getDimension();Ft++)k.setOrdinate(X,Ft,k.getOrdinate(0,Ft))}}},{key:"isEqual",value:function(n,i){var l=n.size();if(l!==i.size())return!1;for(var p=Math.min(n.getDimension(),i.getDimension()),v=0;v<l;v++)for(var k=0;k<p;k++){var S=n.getOrdinate(v,k),N=i.getOrdinate(v,k);if(n.getOrdinate(v,k)!==i.getOrdinate(v,k)&&(!at.isNaN(S)||!at.isNaN(N)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var n=arguments[0];return u.minCoordinateIndex(n,0,n.size()-1)}if(arguments.length===3){for(var i=arguments[0],l=arguments[2],p=-1,v=null,k=arguments[1];k<=l;k++){var S=i.getCoordinate(k);(v===null||v.compareTo(S)>0)&&(v=S,p=k)}return p}}},{key:"extend",value:function(n,i,l){var p=n.create(l,i.getDimension()),v=i.size();if(u.copy(i,0,p,0,v),v>0)for(var k=v;k<l;k++)u.copy(i,v-1,p,k,1);return p}},{key:"reverse",value:function(n){for(var i=n.size()-1,l=Math.trunc(i/2),p=0;p<=l;p++)u.swap(n,p,i-p)}},{key:"swap",value:function(n,i,l){if(i===l)return null;for(var p=0;p<n.getDimension();p++){var v=n.getOrdinate(i,p);n.setOrdinate(i,p,n.getOrdinate(l,p)),n.setOrdinate(l,p,v)}}},{key:"copy",value:function(n,i,l,p,v){for(var k=0;k<v;k++)u.copyCoord(n,i+k,l,p+k)}},{key:"ensureValidRing",value:function(n,i){var l=i.size();return l===0?i:l<=3?u.createClosedRing(n,i,4):i.getOrdinate(0,Wt.X)===i.getOrdinate(l-1,Wt.X)&&i.getOrdinate(0,Wt.Y)===i.getOrdinate(l-1,Wt.Y)?i:u.createClosedRing(n,i,l+1)}},{key:"indexOf",value:function(n,i){for(var l=0;l<i.size();l++)if(n.x===i.getOrdinate(l,Wt.X)&&n.y===i.getOrdinate(l,Wt.Y))return l;return-1}},{key:"createClosedRing",value:function(n,i,l){var p=n.create(l,i.getDimension()),v=i.size();u.copy(i,0,p,0,v);for(var k=v;k<l;k++)u.copy(i,0,p,k,1);return p}},{key:"minCoordinate",value:function(n){for(var i=null,l=0;l<n.size();l++){var p=n.getCoordinate(l);(i===null||i.compareTo(p)>0)&&(i=p)}return i}}])}(),Ot=function(){function u(){r(this,u)}return d(u,null,[{key:"toDimensionSymbol",value:function(n){switch(n){case u.FALSE:return u.SYM_FALSE;case u.TRUE:return u.SYM_TRUE;case u.DONTCARE:return u.SYM_DONTCARE;case u.P:return u.SYM_P;case u.L:return u.SYM_L;case u.A:return u.SYM_A}throw new $("Unknown dimension value: "+n)}},{key:"toDimensionValue",value:function(n){switch(Kt.toUpperCase(n)){case u.SYM_FALSE:return u.FALSE;case u.SYM_TRUE:return u.TRUE;case u.SYM_DONTCARE:return u.DONTCARE;case u.SYM_P:return u.P;case u.SYM_L:return u.L;case u.SYM_A:return u.A}throw new $("Unknown dimension symbol: "+n)}}])}();Ot.P=0,Ot.L=1,Ot.A=2,Ot.FALSE=-1,Ot.TRUE=-2,Ot.DONTCARE=-3,Ot.SYM_FALSE="F",Ot.SYM_TRUE="T",Ot.SYM_DONTCARE="*",Ot.SYM_P="0",Ot.SYM_L="1",Ot.SYM_A="2";var ro=function(){return d(function u(){r(this,u)},[{key:"filter",value:function(u){}}])}(),Mr=function(){return d(function u(){r(this,u)},[{key:"filter",value:function(u,n){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),ys=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Ct:this._points.expandEnvelope(new Ct)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof St){var i=arguments[0],l=arguments[1];if(!this.isEquivalentClass(i))return!1;var p=i;if(this._points.size()!==p._points.size())return!1;for(var v=0;v<this._points.size();v++)if(!this.equal(this._points.getCoordinate(v),p._points.getCoordinate(v),l))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<Math.trunc(this._points.size()/2);i++){var l=this._points.size()-1-i;if(!this._points.getCoordinate(i).equals(this._points.getCoordinate(l))){if(this._points.getCoordinate(i).compareTo(this._points.getCoordinate(l))>0){var p=this._points.copy();or.reverse(p),this._points=p}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ot.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var i=this._points.copy();return or.reverse(i),this.getFactory().createLineString(i)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return St.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Bc.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var i=arguments[0],l=0,p=0;l<this._points.size()&&p<i._points.size();){var v=this._points.getCoordinate(l).compareTo(i._points.getCoordinate(p));if(v!==0)return v;l++,p++}return l<this._points.size()?1:p<i._points.size()?-1:0}if(arguments.length===2){var k=arguments[0];return arguments[1].compare(this._points,k._points)}}},{key:"apply",value:function(){if(W(arguments[0],io))for(var i=arguments[0],l=0;l<this._points.size();l++)i.filter(this._points.getCoordinate(l));else if(W(arguments[0],Mr)){var p=arguments[0];if(this._points.size()===0)return null;for(var v=0;v<this._points.size()&&(p.filter(this._points,v),!p.isDone());v++);p.isGeometryChanged()&&this.geometryChanged()}else W(arguments[0],ro)?arguments[0].filter(this):W(arguments[0],q)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new dt}},{key:"isEquivalentClass",value:function(i){return i instanceof n}},{key:"getCoordinateN",value:function(i){return this._points.getCoordinate(i)}},{key:"getGeometryType",value:function(){return St.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new $("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i}},{key:"isCoordinate",value:function(i){for(var l=0;l<this._points.size();l++)if(this._points.getCoordinate(l).equals(i))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))}},{key:"interfaces_",get:function(){return[Ol]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],l=arguments[1];St.constructor_.call(this,l),this.init(i)}}}}])}(St),Ml=d(function u(){r(this,u)}),la=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Ct;var i=new Ct;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof St){var i=arguments[0],l=arguments[1];return!!this.isEquivalentClass(i)&&(!(!this.isEmpty()||!i.isEmpty())||this.isEmpty()===i.isEmpty()&&this.equal(i.getCoordinate(),this.getCoordinate(),l))}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Ot.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return St.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0];return this.getCoordinate().compareTo(i.getCoordinate())}if(arguments.length===2){var l=arguments[0];return arguments[1].compare(this._coordinates,l._coordinates)}}},{key:"apply",value:function(){if(W(arguments[0],io)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(W(arguments[0],Mr)){var l=arguments[0];if(this.isEmpty())return null;l.filter(this._coordinates,0),l.isGeometryChanged()&&this.geometryChanged()}else W(arguments[0],ro)?arguments[0].filter(this):W(arguments[0],q)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return St.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),It.isTrue(i.size()<=1),this._coordinates=i}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Ml]}}],[{key:"constructor_",value:function(){this._coordinates=null;var i=arguments[0],l=arguments[1];St.constructor_.call(this,l),this.init(i)}}])}(St),Al=function(){function u(){r(this,u)}return d(u,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];return Math.abs(u.ofRingSigned(n))}if(W(arguments[0],Wt)){var i=arguments[0];return Math.abs(u.ofRingSigned(i))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];if(n.length<3)return 0;for(var i=0,l=n[0].x,p=1;p<n.length-1;p++){var v=n[p].x-l,k=n[p+1].y;i+=v*(n[p-1].y-k)}return i/2}if(W(arguments[0],Wt)){var S=arguments[0],N=S.size();if(N<3)return 0;var U=new G,X=new G,nt=new G;S.getCoordinate(0,X),S.getCoordinate(1,nt);var wt=X.x;nt.x-=wt;for(var Ft=0,Vt=1;Vt<N-1;Vt++)U.y=X.y,X.x=nt.x,X.y=nt.y,S.getCoordinate(Vt+1,nt),nt.x-=wt,Ft+=X.x*(U.y-nt.y);return Ft/2}}}])}(),cn=function(){return d(function u(){r(this,u)},null,[{key:"sort",value:function(){var u=arguments,n=arguments[0];if(arguments.length===1)n.sort(function(wt,Ft){return wt.compareTo(Ft)});else if(arguments.length===2)n.sort(function(wt,Ft){return u[1].compare(wt,Ft)});else if(arguments.length===3){var i=n.slice(arguments[1],arguments[2]);i.sort();var l=n.slice(0,arguments[1]).concat(i,n.slice(arguments[2],n.length));n.splice(0,n.length);var p,v=g(l);try{for(v.s();!(p=v.n()).done;){var k=p.value;n.push(k)}}catch(wt){v.e(wt)}finally{v.f()}}else if(arguments.length===4){var S=n.slice(arguments[1],arguments[2]);S.sort(function(wt,Ft){return u[3].compare(wt,Ft)});var N=n.slice(0,arguments[1]).concat(S,n.slice(arguments[2],n.length));n.splice(0,n.length);var U,X=g(N);try{for(X.s();!(U=X.n()).done;){var nt=U.value;n.push(nt)}}catch(wt){X.e(wt)}finally{X.f()}}}},{key:"asList",value:function(u){var n,i=new Ht,l=g(u);try{for(l.s();!(n=l.n()).done;){var p=n.value;i.add(p)}}catch(v){l.e(v)}finally{l.f()}return i}},{key:"copyOf",value:function(u,n){return u.slice(0,n)}}])}(),Yt=d(function u(){r(this,u)}),bs=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var i=new Array(this.getNumPoints()).fill(null),l=-1,p=this._shell.getCoordinates(),v=0;v<p.length;v++)i[++l]=p[v];for(var k=0;k<this._holes.length;k++)for(var S=this._holes[k].getCoordinates(),N=0;N<S.length;N++)i[++l]=S[N];return i}},{key:"getArea",value:function(){var i=0;i+=Al.ofRing(this._shell.getCoordinateSequence());for(var l=0;l<this._holes.length;l++)i-=Al.ofRing(this._holes[l].getCoordinateSequence());return i}},{key:"copyInternal",value:function(){for(var i=this._shell.copy(),l=new Array(this._holes.length).fill(null),p=0;p<this._holes.length;p++)l[p]=this._holes[p].copy();return new n(i,l,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),l=this.getEnvelopeInternal(),p=0;p<5;p++){var v=i.getX(p);if(v!==l.getMinX()&&v!==l.getMaxX())return!1;var k=i.getY(p);if(k!==l.getMinY()&&k!==l.getMaxY())return!1}for(var S=i.getX(0),N=i.getY(0),U=1;U<=4;U++){var X=i.getX(U),nt=i.getY(U);if(X!==S==(nt!==N))return!1;S=X,N=nt}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof St){var i=arguments[0],l=arguments[1];if(!this.isEquivalentClass(i))return!1;var p=i,v=this._shell,k=p._shell;if(!v.equalsExact(k,l)||this._holes.length!==p._holes.length)return!1;for(var S=0;S<this._holes.length;S++)if(!this._holes[S].equalsExact(p._holes[S],l))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var i=0;i<this._holes.length;i++)this._holes[i]=this.normalized(this._holes[i],!1);cn.sort(this._holes)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];if(l.isEmpty())return null;var v=l.getCoordinateSequence(),k=or.minCoordinateIndex(v,0,v.size()-2);or.scroll(v,k,!0),Zt.isCCW(v)===p&&or.reverse(v)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var i=this.getExteriorRing().reverse(),l=new Array(this.getNumInteriorRing()).fill(null),p=0;p<l.length;p++)l[p]=this.getInteriorRingN(p).reverse();return this.getFactory().createPolygon(i,l)}},{key:"getTypeCode",value:function(){return St.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var i=0;i+=this._shell.getLength();for(var l=0;l<this._holes.length;l++)i+=this._holes[l].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=this._shell.getNumPoints(),l=0;l<this._holes.length;l++)i+=this._holes[l].getNumPoints();return i}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(i,l){var p=i.copy();return this.normalize(p,l),p}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],l=this._shell,p=i._shell;return l.compareToSameClass(p)}if(arguments.length===2){var v=arguments[1],k=arguments[0],S=this._shell,N=k._shell,U=S.compareToSameClass(N,v);if(U!==0)return U;for(var X=this.getNumInteriorRing(),nt=k.getNumInteriorRing(),wt=0;wt<X&&wt<nt;){var Ft=this.getInteriorRingN(wt),Vt=k.getInteriorRingN(wt),Xt=Ft.compareToSameClass(Vt,v);if(Xt!==0)return Xt;wt++}return wt<X?1:wt<nt?-1:0}}},{key:"apply",value:function(){if(W(arguments[0],io)){var i=arguments[0];this._shell.apply(i);for(var l=0;l<this._holes.length;l++)this._holes[l].apply(i)}else if(W(arguments[0],Mr)){var p=arguments[0];if(this._shell.apply(p),!p.isDone())for(var v=0;v<this._holes.length&&(this._holes[v].apply(p),!p.isDone());v++);p.isGeometryChanged()&&this.geometryChanged()}else if(W(arguments[0],ro))arguments[0].filter(this);else if(W(arguments[0],q)){var k=arguments[0];k.filter(this),this._shell.apply(k);for(var S=0;S<this._holes.length;S++)this._holes[S].apply(k)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var i=new Array(this._holes.length+1).fill(null);i[0]=this._shell;for(var l=0;l<this._holes.length;l++)i[l+1]=this._holes[l];return i.length<=1?this.getFactory().createLinearRing(i[0].getCoordinateSequence()):this.getFactory().createMultiLineString(i)}},{key:"getGeometryType",value:function(){return St.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(i){return this._holes[i]}},{key:"interfaces_",get:function(){return[Yt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var i=arguments[0],l=arguments[1],p=arguments[2];if(St.constructor_.call(this,p),i===null&&(i=this.getFactory().createLinearRing()),l===null&&(l=[]),St.hasNullElements(l))throw new $("holes must not contain null elements");if(i.isEmpty()&&St.hasNonEmptyElements(l))throw new $("shell is empty but holes are not");this._shell=i,this._holes=l}}])}(St),Rl=function(u){function n(){return r(this,n),a(this,n,arguments)}return b(n,u),d(n)}(mt),ua=function(u){function n(i){var l;return r(this,n),(l=a(this,n)).array=[],i instanceof H&&l.addAll(i),l}return b(n,u),d(n,[{key:"contains",value:function(i){var l,p=g(this.array);try{for(p.s();!(l=p.n()).done;)if(l.value.compareTo(i)===0)return!0}catch(v){p.e(v)}finally{p.f()}return!1}},{key:"add",value:function(i){if(this.contains(i))return!1;for(var l=0,p=this.array.length;l<p;l++)if(this.array[l].compareTo(i)===1)return!!this.array.splice(l,0,i);return this.array.push(i),!0}},{key:"addAll",value:function(i){var l,p=g(i);try{for(p.s();!(l=p.n()).done;){var v=l.value;this.add(v)}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"remove",value:function(){throw new dt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Dl(this.array)}}])}(Rl),Dl=function(){return d(function u(n){r(this,u),this.array=n,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new J;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new dt}}])}(),vn=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"computeEnvelopeInternal",value:function(){for(var i=new Ct,l=0;l<this._geometries.length;l++)i.expandToInclude(this._geometries[l].getEnvelopeInternal());return i}},{key:"getGeometryN",value:function(i){return this._geometries[i]}},{key:"getCoordinates",value:function(){for(var i=new Array(this.getNumPoints()).fill(null),l=-1,p=0;p<this._geometries.length;p++)for(var v=this._geometries[p].getCoordinates(),k=0;k<v.length;k++)i[++l]=v[k];return i}},{key:"getArea",value:function(){for(var i=0,l=0;l<this._geometries.length;l++)i+=this._geometries[l].getArea();return i}},{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),l=0;l<i.length;l++)i[l]=this._geometries[l].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof St){var i=arguments[0],l=arguments[1];if(!this.isEquivalentClass(i))return!1;var p=i;if(this._geometries.length!==p._geometries.length)return!1;for(var v=0;v<this._geometries.length;v++)if(!this._geometries[v].equalsExact(p._geometries[v],l))return!1;return!0}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<this._geometries.length;i++)this._geometries[i].normalize();cn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var i=Ot.FALSE,l=0;l<this._geometries.length;l++)i=Math.max(i,this._geometries[l].getBoundaryDimension());return i}},{key:"reverseInternal",value:function(){for(var i=this._geometries.length,l=new Ht(i),p=0;p<i;p++)l.add(this._geometries[p].reverse());return this.getFactory().buildGeometry(l)}},{key:"getTypeCode",value:function(){return St.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var i=Ot.FALSE,l=0;l<this._geometries.length;l++)i=Math.max(i,this._geometries[l].getDimension());return i}},{key:"getLength",value:function(){for(var i=0,l=0;l<this._geometries.length;l++)i+=this._geometries[l].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=0,l=0;l<this._geometries.length;l++)i+=this._geometries[l].getNumPoints();return i}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],l=new ua(cn.asList(this._geometries)),p=new ua(cn.asList(i._geometries));return this.compare(l,p)}if(arguments.length===2){for(var v=arguments[1],k=arguments[0],S=this.getNumGeometries(),N=k.getNumGeometries(),U=0;U<S&&U<N;){var X=this.getGeometryN(U),nt=k.getGeometryN(U),wt=X.compareToSameClass(nt,v);if(wt!==0)return wt;U++}return U<S?1:U<N?-1:0}}},{key:"apply",value:function(){if(W(arguments[0],io))for(var i=arguments[0],l=0;l<this._geometries.length;l++)this._geometries[l].apply(i);else if(W(arguments[0],Mr)){var p=arguments[0];if(this._geometries.length===0)return null;for(var v=0;v<this._geometries.length&&(this._geometries[v].apply(p),!p.isDone());v++);p.isGeometryChanged()&&this.geometryChanged()}else if(W(arguments[0],ro)){var k=arguments[0];k.filter(this);for(var S=0;S<this._geometries.length;S++)this._geometries[S].apply(k)}else if(W(arguments[0],q)){var N=arguments[0];N.filter(this);for(var U=0;U<this._geometries.length;U++)this._geometries[U].apply(N)}}},{key:"getBoundary",value:function(){return St.checkNotGeometryCollection(this),It.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return St.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],l=arguments[1];if(St.constructor_.call(this,l),i===null&&(i=[]),St.hasNullElements(i))throw new $("geometries must not contain null elements");this._geometries=i}}}}])}(St),so=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),l=0;l<i.length;l++)i[l]=this._geometries[l].copy();return new n(i,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof St){var i=arguments[0],l=arguments[1];return!!this.isEquivalentClass(i)&&I(n,"equalsExact",this,1).call(this,i,l)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var i=arguments[0];return this._geometries[i].getCoordinate()}return I(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Ot.FALSE}},{key:"getTypeCode",value:function(){return St.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return St.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Ml]}}],[{key:"constructor_",value:function(){var i=arguments[0],l=arguments[1];vn.constructor_.call(this,i,l)}}])}(vn),oi=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Ot.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||I(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var i=this._points.copy();return or.reverse(i),this.getFactory().createLinearRing(i)}},{key:"getTypeCode",value:function(){return St.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!I(n,"isClosed",this,1).call(this))throw new $("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new $("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return St.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var i=arguments[0],l=arguments[1];ys.constructor_.call(this,i,l),this.validateConstruction()}}])}(ys);oi.MINIMUM_VALID_SIZE=4;var zi=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"setOrdinate",value:function(i,l){switch(i){case n.X:this.x=l;break;case n.Y:this.y=l;break;default:throw new $("Invalid ordinate index: "+i)}}},{key:"getZ",value:function(){return G.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case n.X:return this.x;case n.Y:return this.y}throw new $("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new $("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)G.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];G.constructor_.call(this,i.x,i.y)}else if(arguments[0]instanceof G){var l=arguments[0];G.constructor_.call(this,l.x,l.y)}}else if(arguments.length===2){var p=arguments[0],v=arguments[1];G.constructor_.call(this,p,v,G.NULL_ORDINATE)}}}])}(G);zi.X=0,zi.Y=1,zi.Z=-1,zi.M=-1;var ar=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,l){switch(i){case n.X:this.x=l;break;case n.Y:this.y=l;break;case n.M:this._m=l;break;default:throw new $("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getZ",value:function(){return G.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new $("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new $("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)G.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];G.constructor_.call(this,i.x,i.y),this._m=i._m}else if(arguments[0]instanceof G){var l=arguments[0];G.constructor_.call(this,l.x,l.y),this._m=this.getM()}}else if(arguments.length===3){var p=arguments[0],v=arguments[1],k=arguments[2];G.constructor_.call(this,p,v,G.NULL_ORDINATE),this._m=k}}}])}(G);ar.X=0,ar.Y=1,ar.Z=-1,ar.M=2;var ca=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,l){switch(i){case G.X:this.x=l;break;case G.Y:this.y=l;break;case G.Z:this.z=l;break;case G.M:this._m=l;break;default:throw new $("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getOrdinate",value:function(i){switch(i){case G.X:return this.x;case G.Y:return this.y;case G.Z:return this.getZ();case G.M:return this.getM()}throw new $("Invalid ordinate index: "+i)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)G.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];G.constructor_.call(this,i),this._m=i._m}else if(arguments[0]instanceof G){var l=arguments[0];G.constructor_.call(this,l),this._m=this.getM()}}else if(arguments.length===4){var p=arguments[0],v=arguments[1],k=arguments[2],S=arguments[3];G.constructor_.call(this,p,v,k),this._m=S}}}])}(G),oo=function(){function u(){r(this,u)}return d(u,null,[{key:"measures",value:function(n){return n instanceof zi?0:n instanceof ar||n instanceof ca?1:0}},{key:"dimension",value:function(n){return n instanceof zi?2:n instanceof ar?3:n instanceof ca?4:3}},{key:"create",value:function(){if(arguments.length===1){var n=arguments[0];return u.create(n,0)}if(arguments.length===2){var i=arguments[0],l=arguments[1];return i===2?new zi:i===3&&l===0?new G:i===3&&l===1?new ar:i===4&&l===1?new ca:new G}}}])}(),ws=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"getCoordinate",value:function(i){return this.get(i)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&W(arguments[0],H)){for(var i=arguments[1],l=!1,p=arguments[0].iterator();p.hasNext();)this.add(p.next(),i),l=!0;return l}return I(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var i=I(n,"clone",this,1).call(this),l=0;l<this.size();l++)i.add(l,this.get(l).clone());return i}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(n.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(n.coordArrayType);for(var i=this.size(),l=new Array(i).fill(null),p=0;p<i;p++)l[p]=this.get(i-p-1);return l}}},{key:"add",value:function(){if(arguments.length===1){var i=arguments[0];return I(n,"add",this,1).call(this,i)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var l=arguments[0],p=arguments[1];return this.add(l,p,!0),!0}if(arguments[0]instanceof G&&typeof arguments[1]=="boolean"){var v=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(v))return null;I(n,"add",this,1).call(this,v)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var k=arguments[0],S=arguments[1];return this.add(k,S),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var N=arguments[0],U=arguments[1];if(arguments[2])for(var X=0;X<N.length;X++)this.add(N[X],U);else for(var nt=N.length-1;nt>=0;nt--)this.add(N[nt],U);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof G){var wt=arguments[0],Ft=arguments[1];if(!arguments[2]){var Vt=this.size();if(Vt>0&&(wt>0&&this.get(wt-1).equals2D(Ft)||wt<Vt&&this.get(wt).equals2D(Ft)))return null}I(n,"add",this,1).call(this,wt,Ft)}}else if(arguments.length===4){var Xt=arguments[0],he=arguments[1],ae=arguments[2],Te=arguments[3],$e=1;ae>Te&&($e=-1);for(var sn=ae;sn!==Te;sn+=$e)this.add(Xt[sn],he);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var i=this.get(0).copy();this.add(i,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.ensureCapacity(i.length),this.add(i,!0)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.ensureCapacity(l.length),this.add(l,p)}}}}])}(Ht);ws.coordArrayType=new Array(0).fill(null);var We=function(){function u(){r(this,u)}return d(u,null,[{key:"isRing",value:function(n){return!(n.length<4)&&!!n[0].equals2D(n[n.length-1])}},{key:"ptNotInList",value:function(n,i){for(var l=0;l<n.length;l++){var p=n[l];if(u.indexOf(p,i)<0)return p}return null}},{key:"scroll",value:function(n,i){var l=u.indexOf(i,n);if(l<0)return null;var p=new Array(n.length).fill(null);Gn.arraycopy(n,l,p,0,n.length-l),Gn.arraycopy(n,0,p,n.length-l,l),Gn.arraycopy(p,0,n,0,n.length)}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];if(n===i)return!0;if(n===null||i===null||n.length!==i.length)return!1;for(var l=0;l<n.length;l++)if(!n[l].equals(i[l]))return!1;return!0}if(arguments.length===3){var p=arguments[0],v=arguments[1],k=arguments[2];if(p===v)return!0;if(p===null||v===null||p.length!==v.length)return!1;for(var S=0;S<p.length;S++)if(k.compare(p[S],v[S])!==0)return!1;return!0}}},{key:"intersection",value:function(n,i){for(var l=new ws,p=0;p<n.length;p++)i.intersects(n[p])&&l.add(n[p],!0);return l.toCoordinateArray()}},{key:"measures",value:function(n){if(n===null||n.length===0)return 0;var i,l=0,p=g(n);try{for(p.s();!(i=p.n()).done;){var v=i.value;l=Math.max(l,oo.measures(v))}}catch(k){p.e(k)}finally{p.f()}return l}},{key:"hasRepeatedPoints",value:function(n){for(var i=1;i<n.length;i++)if(n[i-1].equals(n[i]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(n){return u.hasRepeatedPoints(n)?new ws(n,!1).toCoordinateArray():n}},{key:"reverse",value:function(n){for(var i=n.length-1,l=Math.trunc(i/2),p=0;p<=l;p++){var v=n[p];n[p]=n[i-p],n[i-p]=v}}},{key:"removeNull",value:function(n){for(var i=0,l=0;l<n.length;l++)n[l]!==null&&i++;var p=new Array(i).fill(null);if(i===0)return p;for(var v=0,k=0;k<n.length;k++)n[k]!==null&&(p[v++]=n[k]);return p}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var n=arguments[0],i=new Array(n.length).fill(null),l=0;l<n.length;l++)i[l]=n[l].copy();return i}if(arguments.length===5)for(var p=arguments[0],v=arguments[1],k=arguments[2],S=arguments[3],N=arguments[4],U=0;U<N;U++)k[S+U]=p[v+U].copy()}},{key:"isEqualReversed",value:function(n,i){for(var l=0;l<n.length;l++){var p=n[l],v=i[n.length-l-1];if(p.compareTo(v)!==0)return!1}return!0}},{key:"envelope",value:function(n){for(var i=new Ct,l=0;l<n.length;l++)i.expandToInclude(n[l]);return i}},{key:"toCoordinateArray",value:function(n){return n.toArray(u.coordArrayType)}},{key:"dimension",value:function(n){if(n===null||n.length===0)return 3;var i,l=0,p=g(n);try{for(p.s();!(i=p.n()).done;){var v=i.value;l=Math.max(l,oo.dimension(v))}}catch(k){p.e(k)}finally{p.f()}return l}},{key:"atLeastNCoordinatesOrNothing",value:function(n,i){return i.length>=n?i:[]}},{key:"indexOf",value:function(n,i){for(var l=0;l<i.length;l++)if(n.equals(i[l]))return l;return-1}},{key:"increasingDirection",value:function(n){for(var i=0;i<Math.trunc(n.length/2);i++){var l=n.length-1-i,p=n[i].compareTo(n[l]);if(p!==0)return p}return 1}},{key:"compare",value:function(n,i){for(var l=0;l<n.length&&l<i.length;){var p=n[l].compareTo(i[l]);if(p!==0)return p;l++}return l<i.length?-1:l<n.length?1:0}},{key:"minCoordinate",value:function(n){for(var i=null,l=0;l<n.length;l++)(i===null||i.compareTo(n[l])>0)&&(i=n[l]);return i}},{key:"extract",value:function(n,i,l){i=Or.clamp(i,0,n.length);var p=(l=Or.clamp(l,-1,n.length))-i+1;l<0&&(p=0),i>=n.length&&(p=0),l<i&&(p=0);var v=new Array(p).fill(null);if(p===0)return v;for(var k=0,S=i;S<=l;S++)v[k++]=n[S];return v}}])}(),Fc=function(){return d(function u(){r(this,u)},[{key:"compare",value:function(u,n){var i=u,l=n;return We.compare(i,l)}},{key:"interfaces_",get:function(){return[Dt]}}])}(),ao=function(){return d(function u(){r(this,u)},[{key:"compare",value:function(u,n){var i=u,l=n;if(i.length<l.length)return-1;if(i.length>l.length)return 1;if(i.length===0)return 0;var p=We.compare(i,l);return We.isEqualReversed(i,l)?0:p}},{key:"OLDcompare",value:function(u,n){var i=u,l=n;if(i.length<l.length)return-1;if(i.length>l.length)return 1;if(i.length===0)return 0;for(var p=We.increasingDirection(i),v=We.increasingDirection(l),k=p>0?0:i.length-1,S=v>0?0:i.length-1,N=0;N<i.length;N++){var U=i[k].compareTo(l[S]);if(U!==0)return U;k+=p,S+=v}return 0}},{key:"interfaces_",get:function(){return[Dt]}}])}();We.ForwardComparator=Fc,We.BidirectionalComparator=ao,We.coordArrayType=new Array(0).fill(null);var lo=function(){return d(function u(n){r(this,u),this.str=n},[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,n){this.str=this.str.substr(0,u)+n+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}])}(),Ls=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getM",value:function(n){return this.hasM()?this._coordinates[n].getM():at.NaN}},{key:"setOrdinate",value:function(n,i,l){switch(i){case Wt.X:this._coordinates[n].x=l;break;case Wt.Y:this._coordinates[n].y=l;break;default:this._coordinates[n].setOrdinate(i,l)}}},{key:"getZ",value:function(n){return this.hasZ()?this._coordinates[n].getZ():at.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(n,i){switch(i){case Wt.X:return this._coordinates[n].x;case Wt.Y:return this._coordinates[n].y;default:return this._coordinates[n].getOrdinate(i)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var n=arguments[0];return this._coordinates[n]}if(arguments.length===2){var i=arguments[0];arguments[1].setCoordinate(this._coordinates[i])}}},{key:"getCoordinateCopy",value:function(n){var i=this.createCoordinate();return i.setCoordinate(this._coordinates[n]),i}},{key:"createCoordinate",value:function(){return oo.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(n){return this._coordinates[n].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(n){for(var i=0;i<this._coordinates.length;i++)n.expandToInclude(this._coordinates[i]);return n}},{key:"copy",value:function(){for(var n=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++){var l=this.createCoordinate();l.setCoordinate(this._coordinates[i]),n[i]=l}return new u(n,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var n=new lo(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)n.append(", "),n.append(this._coordinates[i]);return n.append(")"),n.toString()}return"()"}},{key:"getY",value:function(n){return this._coordinates[n].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Wt,K]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];u.constructor_.call(this,n,We.dimension(n),We.measures(n))}else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var l=0;l<i;l++)this._coordinates[l]=new G}else if(W(arguments[0],Wt)){var p=arguments[0];if(p===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=p.getDimension(),this._measures=p.getMeasures(),this._coordinates=new Array(p.size()).fill(null);for(var v=0;v<this._coordinates.length;v++)this._coordinates[v]=p.getCoordinateCopy(v)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var k=arguments[0],S=arguments[1];u.constructor_.call(this,k,S,We.measures(k))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var N=arguments[0],U=arguments[1];this._coordinates=new Array(N).fill(null),this._dimension=U;for(var X=0;X<N;X++)this._coordinates[X]=oo.create(U)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var nt=arguments[0],wt=arguments[1],Ft=arguments[2];this._dimension=wt,this._measures=Ft,this._coordinates=nt===null?new Array(0).fill(null):nt}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Vt=arguments[0],Xt=arguments[1],he=arguments[2];this._coordinates=new Array(Vt).fill(null),this._dimension=Xt,this._measures=he;for(var ae=0;ae<Vt;ae++)this._coordinates[ae]=this.createCoordinate()}}}}])}(),ha=function(){function u(){r(this,u)}return d(u,[{key:"readResolve",value:function(){return u.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Ls(arguments[0]);if(W(arguments[0],Wt))return new Ls(arguments[0])}else{if(arguments.length===2){var n=arguments[1];return n>3&&(n=3),n<2&&(n=2),new Ls(arguments[0],n)}if(arguments.length===3){var i=arguments[2],l=arguments[1]-i;return i>1&&(i=1),l>3&&(l=3),l<2&&(l=2),new Ls(arguments[0],l+i,i)}}}},{key:"interfaces_",get:function(){return[aa,K]}}],[{key:"instance",value:function(){return u.instanceObject}}])}();ha.instanceObject=new ha;var fa=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),l=0;l<i.length;l++)i[l]=this._geometries[l].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof St){var i=arguments[0],l=arguments[1];return!!this.isEquivalentClass(i)&&I(n,"equalsExact",this,1).call(this,i,l)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return St.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var i=new Ht,l=0;l<this._geometries.length;l++)for(var p=this._geometries[l].getBoundary(),v=0;v<p.getNumGeometries();v++)i.add(p.getGeometryN(v));var k=new Array(i.size()).fill(null);return this.getFactory().createMultiLineString(i.toArray(k))}},{key:"getGeometryType",value:function(){return St.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Yt]}}],[{key:"constructor_",value:function(){var i=arguments[0],l=arguments[1];vn.constructor_.call(this,i,l)}}])}(vn),Bl=function(){return d(function u(){r(this,u)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),da=function(u){function n(){var i;return r(this,n),(i=a(this,n)).map=new Map,i}return b(n,u),d(n,[{key:"get",value:function(i){return this.map.get(i)||null}},{key:"put",value:function(i,l){return this.map.set(i,l),l}},{key:"values",value:function(){for(var i=new Ht,l=this.map.values(),p=l.next();!p.done;)i.add(p.value),p=l.next();return i}},{key:"entrySet",value:function(){var i=new pt;return this.map.entries().forEach(function(l){return i.add(l)}),i}},{key:"size",value:function(){return this.map.size()}}])}(Bl),yn=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"equals",value:function(n){if(!(n instanceof u))return!1;var i=n;return this._modelType===i._modelType&&this._scale===i._scale}},{key:"compareTo",value:function(n){var i=n,l=this.getMaximumSignificantDigits(),p=i.getMaximumSignificantDigits();return zt.compare(l,p)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===u.FLOATING||this._modelType===u.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var n="UNKNOWN";return this._modelType===u.FLOATING?n="Floating":this._modelType===u.FLOATING_SINGLE?n="Floating-Single":this._modelType===u.FIXED&&(n="Fixed (Scale="+this.getScale()+")"),n}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var n=arguments[0];return at.isNaN(n)||this._modelType===u.FLOATING_SINGLE?n:this._modelType===u.FIXED?Math.round(n*this._scale)/this._scale:n}if(arguments[0]instanceof G){var i=arguments[0];if(this._modelType===u.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}}},{key:"getMaximumSignificantDigits",value:function(){var n=16;return this._modelType===u.FLOATING?n=16:this._modelType===u.FLOATING_SINGLE?n=6:this._modelType===u.FIXED&&(n=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),n}},{key:"setScale",value:function(n){this._scale=Math.abs(n)}},{key:"interfaces_",get:function(){return[K,V]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=u.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof lr){var n=arguments[0];this._modelType=n,n===u.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var i=arguments[0];this._modelType=u.FIXED,this.setScale(i)}else if(arguments[0]instanceof u){var l=arguments[0];this._modelType=l._modelType,this._scale=l._scale}}}},{key:"mostPrecise",value:function(n,i){return n.compareTo(i)>=0?n:i}}])}(),lr=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"readResolve",value:function(){return u.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[K]}}],[{key:"constructor_",value:function(){this._name=null;var n=arguments[0];this._name=n,u.nameToTypeMap.put(n,this)}}])}();lr.nameToTypeMap=new da,yn.Type=lr,yn.FIXED=new lr("FIXED"),yn.FLOATING=new lr("FLOATING"),yn.FLOATING_SINGLE=new lr("FLOATING SINGLE"),yn.maximumPreciseValue=9007199254740992;var uo=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),l=0;l<i.length;l++)i[l]=this._geometries[l].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof St){var i=arguments[0],l=arguments[1];return!!this.isEquivalentClass(i)&&I(n,"equalsExact",this,1).call(this,i,l)}return I(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ot.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return St.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new dt}},{key:"getGeometryType",value:function(){return St.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Ol]}}],[{key:"constructor_",value:function(){var i=arguments[0],l=arguments[1];vn.constructor_.call(this,i,l)}}])}(vn),ai=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"createEmpty",value:function(n){switch(n){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new $("Invalid dimension: "+n)}}},{key:"toGeometry",value:function(n){return n.isNull()?this.createPoint():n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new G(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new G(n.getMinX(),n.getMinY()),new G(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new G(n.getMinX(),n.getMinY()),new G(n.getMinX(),n.getMaxY()),new G(n.getMaxX(),n.getMaxY()),new G(n.getMaxX(),n.getMinY()),new G(n.getMinX(),n.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLineString(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(W(arguments[0],Wt))return new ys(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new uo(null,this):arguments.length===1?new uo(arguments[0],this):void 0}},{key:"buildGeometry",value:function(n){for(var i=null,l=!1,p=!1,v=n.iterator();v.hasNext();){var k=v.next(),S=k.getTypeCode();i===null&&(i=S),S!==i&&(l=!0),k instanceof vn&&(p=!0)}if(i===null)return this.createGeometryCollection();if(l||p)return this.createGeometryCollection(u.toGeometryArray(n));var N=n.iterator().next();if(n.size()>1){if(N instanceof bs)return this.createMultiPolygon(u.toPolygonArray(n));if(N instanceof ys)return this.createMultiLineString(u.toLineStringArray(n));if(N instanceof la)return this.createMultiPoint(u.toPointArray(n));It.shouldNeverReachHere("Unhandled geometry type: "+N.getGeometryType())}return N}},{key:"createMultiPointFromCoords",value:function(n){return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];return this.createPoint(n!==null?this.getCoordinateSequenceFactory().create([n]):null)}if(W(arguments[0],Wt))return new la(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(W(arguments[0],Wt)){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof oi){var l=arguments[0];return this.createPolygon(l,null)}}else if(arguments.length===2)return new bs(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new vn(null,this):arguments.length===1?new vn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLinearRing(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(W(arguments[0],Wt))return new oi(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new fa(null,this):arguments.length===1?new fa(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new so(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new so(arguments[0],this);if(W(arguments[0],Wt)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),l=0;l<n.size();l++){var p=this.getCoordinateSequenceFactory().create(1,n.getDimension(),n.getMeasures());or.copy(n,l,p,0,1),i[l]=this.createPoint(p)}return this.createMultiPoint(i)}}}},{key:"interfaces_",get:function(){return[K]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)u.constructor_.call(this,new yn,0);else if(arguments.length===1){if(W(arguments[0],aa)){var n=arguments[0];u.constructor_.call(this,new yn,0,n)}else if(arguments[0]instanceof yn){var i=arguments[0];u.constructor_.call(this,i,0,u.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];u.constructor_.call(this,l,p,u.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var v=arguments[0],k=arguments[1],S=arguments[2];this._precisionModel=v,this._coordinateSequenceFactory=S,this._SRID=k}}},{key:"toMultiPolygonArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toGeometryArray",value:function(n){if(n===null)return null;var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return ha.instance()}},{key:"toMultiLineStringArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toLineStringArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toMultiPointArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toLinearRingArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toPointArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toPolygonArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"createPointFromInternalCoord",value:function(n,i){return i.getPrecisionModel().makePrecise(n),i.getFactory().createPoint(n)}}])}(),ce="XY",Re="XYZ",co="XYM",Ar="XYZM",ur={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ho="EMPTY",ne=1,_e=2,li=3,Es=4,rn=5,zc=6;for(var fo in ur)ur[fo].toUpperCase();var cr=function(){return d(function u(n){r(this,u),this.wkt=n,this.index_=-1},[{key:"isAlpha_",value:function(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"}},{key:"isNumeric_",value:function(u,n){return u>="0"&&u<="9"||u=="."&&!(n!==void 0&&n)}},{key:"isWhiteSpace_",value:function(u){return u==" "||u=="	"||u=="\r"||u==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var u,n=this.nextChar_(),i=this.index_,l=n;if(n=="(")u=_e;else if(n==",")u=rn;else if(n==")")u=li;else if(this.isNumeric_(n)||n=="-")u=Es,l=this.readNumber_();else if(this.isAlpha_(n))u=ne,l=this.readText_();else{if(this.isWhiteSpace_(n))return this.nextToken();if(n!=="")throw new Error("Unexpected character: "+n);u=zc}return{position:i,value:l,type:u}}},{key:"readNumber_",value:function(){var u,n=this.index_,i=!1,l=!1;do u=="."?i=!0:u!="e"&&u!="E"||(l=!0),u=this.nextChar_();while(this.isNumeric_(u,i)||!l&&(u=="e"||u=="E")||l&&(u=="-"||u=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}},{key:"readText_",value:function(){var u,n=this.index_;do u=this.nextChar_();while(this.isAlpha_(u));return this.wkt.substring(n,this.index_--).toUpperCase()}}])}(),Ye=function(){return d(function u(n,i){r(this,u),this.lexer_=n,this.token_,this.layout_=ce,this.factory=i},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(u){return this.token_.type==u}},{key:"match",value:function(u){var n=this.isTokenType(u);return n&&this.consume_(),n}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var u=ce,n=this.token_;if(this.isTokenType(ne)){var i=n.value;i==="Z"?u=Re:i==="M"?u=co:i==="ZM"&&(u=Ar),u!==ce&&this.consume_()}return u}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(_e)){var u=[];do u.push(this.parseGeometry_());while(this.match(rn));if(this.match(li))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(_e)){var u=this.parsePoint_();if(this.match(li))return u}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(_e)){var u=this.parsePointList_();if(this.match(li))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(_e)){var u=this.parseLineStringTextList_();if(this.match(li))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var u;if(this.match(_e)){if(u=this.token_.type==_e?this.parsePointTextList_():this.parsePointList_(),this.match(li))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(_e)){var u=this.parseLineStringTextList_();if(this.match(li))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(_e)){var u=this.parsePolygonTextList_();if(this.match(li))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var u=[],n=this.layout_.length,i=0;i<n;++i){var l=this.token_;if(!this.match(Es))break;u.push(l.value)}if(u.length==n)return u;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var u=[this.parsePoint_()];this.match(rn);)u.push(this.parsePoint_());return u}},{key:"parsePointTextList_",value:function(){for(var u=[this.parsePointText_()];this.match(rn);)u.push(this.parsePointText_());return u}},{key:"parseLineStringTextList_",value:function(){for(var u=[this.parseLineStringText_()];this.match(rn);)u.push(this.parseLineStringText_());return u}},{key:"parsePolygonTextList_",value:function(){for(var u=[this.parsePolygonText_()];this.match(rn);)u.push(this.parsePolygonText_());return u}},{key:"isEmptyGeometry_",value:function(){var u=this.isTokenType(ne)&&this.token_.value==ho;return u&&this.consume_(),u}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var u=this.factory,n=function(Xt){return c(G,A(Xt))},i=function(Xt){var he=Xt.map(function(ae){return u.createLinearRing(ae.map(n))});return he.length>1?u.createPolygon(he[0],he.slice(1)):u.createPolygon(he[0])},l=this.token_;if(this.match(ne)){var p=l.value;if(this.layout_=this.parseGeometryLayout_(),p=="GEOMETRYCOLLECTION"){var v=this.parseGeometryCollectionText_();return u.createGeometryCollection(v)}switch(p){case"POINT":var k=this.parsePointText_();return k?u.createPoint(c(G,A(k))):u.createPoint();case"LINESTRING":var S=this.parseLineStringText_().map(n);return u.createLineString(S);case"LINEARRING":var N=this.parseLineStringText_().map(n);return u.createLinearRing(N);case"POLYGON":var U=this.parsePolygonText_();return U&&U.length!==0?i(U):u.createPolygon();case"MULTIPOINT":var X=this.parseMultiPointText_();if(!X||X.length===0)return u.createMultiPoint();var nt=X.map(n).map(function(Xt){return u.createPoint(Xt)});return u.createMultiPoint(nt);case"MULTILINESTRING":var wt=this.parseMultiLineStringText_().map(function(Xt){return u.createLineString(Xt.map(n))});return u.createMultiLineString(wt);case"MULTIPOLYGON":var Ft=this.parseMultiPolygonText_();if(!Ft||Ft.length===0)return u.createMultiPolygon();var Vt=Ft.map(i);return u.createMultiPolygon(Vt);default:throw new Error("Invalid geometry type: "+p)}}throw new Error(this.formatErrorMessage_())}}])}();function Ui(u){if(u.isEmpty())return"";var n=u.getCoordinate(),i=[n.x,n.y];return n.z===void 0||Number.isNaN(n.z)||i.push(n.z),n.m===void 0||Number.isNaN(n.m)||i.push(n.m),i.join(" ")}function Ei(u){for(var n=u.getCoordinates().map(function(v){var k=[v.x,v.y];return v.z===void 0||Number.isNaN(v.z)||k.push(v.z),v.m===void 0||Number.isNaN(v.m)||k.push(v.m),k}),i=[],l=0,p=n.length;l<p;++l)i.push(n[l].join(" "));return i.join(", ")}function Rr(u){var n=[];n.push("("+Ei(u.getExteriorRing())+")");for(var i=0,l=u.getNumInteriorRing();i<l;++i)n.push("("+Ei(u.getInteriorRingN(i))+")");return n.join(", ")}var pa={Point:Ui,LineString:Ei,LinearRing:Ei,Polygon:Rr,MultiPoint:function(u){for(var n=[],i=0,l=u.getNumGeometries();i<l;++i)n.push("("+Ui(u.getGeometryN(i))+")");return n.join(", ")},MultiLineString:function(u){for(var n=[],i=0,l=u.getNumGeometries();i<l;++i)n.push("("+Ei(u.getGeometryN(i))+")");return n.join(", ")},MultiPolygon:function(u){for(var n=[],i=0,l=u.getNumGeometries();i<l;++i)n.push("("+Rr(u.getGeometryN(i))+")");return n.join(", ")},GeometryCollection:function(u){for(var n=[],i=0,l=u.getNumGeometries();i<l;++i)n.push(Dr(u.getGeometryN(i)));return n.join(", ")}};function Dr(u){var n=u.getGeometryType(),i=pa[n];n=n.toUpperCase();var l=function(p){var v="";if(p.isEmpty())return v;var k=p.getCoordinate();return k.z===void 0||Number.isNaN(k.z)||(v+="Z"),k.m===void 0||Number.isNaN(k.m)||(v+="M"),v}(u);return l.length>0&&(n+=" "+l),u.isEmpty()?n+" "+ho:n+" ("+i(u)+")"}var ma=function(){return d(function u(n){r(this,u),this.geometryFactory=n||new ai,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(u){var n=new cr(u);return new Ye(n,this.geometryFactory).parse()}},{key:"write",value:function(u){return Dr(u)}}])}(),ks=function(){return d(function u(n){r(this,u),this.parser=new ma(n)},[{key:"write",value:function(u){return this.parser.write(u)}}],[{key:"toLineString",value:function(u,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+u.x+" "+u.y+", "+n.x+" "+n.y+" )"}}])}(),ke=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getIndexAlongSegment",value:function(n,i){return this.computeIntLineIndex(),this._intLineIndex[n][i]}},{key:"getTopologySummary",value:function(){var n=new lo;return this.isEndPoint()&&n.append(" endpoint"),this._isProper&&n.append(" proper"),this.isCollinear()&&n.append(" collinear"),n.toString()}},{key:"computeIntersection",value:function(n,i,l,p){this._inputLines[0][0]=n,this._inputLines[0][1]=i,this._inputLines[1][0]=l,this._inputLines[1][1]=p,this._result=this.computeIntersect(n,i,l,p)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var n=arguments[0];this.getEdgeDistance(n,0)>this.getEdgeDistance(n,1)?(this._intLineIndex[n][0]=0,this._intLineIndex[n][1]=1):(this._intLineIndex[n][0]=1,this._intLineIndex[n][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],i=0;i<this._result;i++)if(!this._intPt[i].equals2D(this._inputLines[n][0])&&!this._intPt[i].equals2D(this._inputLines[n][1]))return!0;return!1}}},{key:"getIntersection",value:function(n){return this._intPt[n]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==u.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(n,i){return u.computeEdgeDistance(this._intPt[i],this._inputLines[n][0],this._inputLines[n][1])}},{key:"isCollinear",value:function(){return this._result===u.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return ks.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+ks.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(n,i){return this._inputLines[n][i]}},{key:"isIntersection",value:function(n){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(n))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(n,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[n][i]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new G,this._intPt[1]=new G,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(n,i,l){var p=Math.abs(l.x-i.x),v=Math.abs(l.y-i.y),k=-1;if(n.equals(i))k=0;else if(n.equals(l))k=p>v?p:v;else{var S=Math.abs(n.x-i.x),N=Math.abs(n.y-i.y);(k=p>v?S:N)!==0||n.equals(i)||(k=Math.max(S,N))}return It.isTrue(!(k===0&&!n.equals(i)),"Bad distance calculation"),k}},{key:"nonRobustComputeEdgeDistance",value:function(n,i,l){var p=n.x-i.x,v=n.y-i.y,k=Math.sqrt(p*p+v*v);return It.isTrue(!(k===0&&!n.equals(i)),"Invalid distance calculation"),k}}])}();ke.DONT_INTERSECT=0,ke.DO_INTERSECT=1,ke.COLLINEAR=2,ke.NO_INTERSECTION=0,ke.POINT_INTERSECTION=1,ke.COLLINEAR_INTERSECTION=2;var ki=function(u){function n(){return r(this,n),a(this,n)}return b(n,u),d(n,[{key:"isInSegmentEnvelopes",value:function(i){var l=new Ct(this._inputLines[0][0],this._inputLines[0][1]),p=new Ct(this._inputLines[1][0],this._inputLines[1][1]);return l.contains(i)&&p.contains(i)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return I(n,"computeIntersection",this,1).apply(this,arguments);var i=arguments[0],l=arguments[1],p=arguments[2];if(this._isProper=!1,Ct.intersects(l,p,i)&&Zt.index(l,p,i)===0&&Zt.index(p,l,i)===0)return this._isProper=!0,(i.equals(l)||i.equals(p))&&(this._isProper=!1),this._result=ke.POINT_INTERSECTION,null;this._result=ke.NO_INTERSECTION}},{key:"intersection",value:function(i,l,p,v){var k=this.intersectionSafe(i,l,p,v);return this.isInSegmentEnvelopes(k)||(k=new G(n.nearestEndpoint(i,l,p,v))),this._precisionModel!==null&&this._precisionModel.makePrecise(k),k}},{key:"checkDD",value:function(i,l,p,v,k){var S=Ue.intersection(i,l,p,v),N=this.isInSegmentEnvelopes(S);Gn.out.println("DD in env = "+N+"  --------------------- "+S),k.distance(S)>1e-4&&Gn.out.println("Distance = "+k.distance(S))}},{key:"intersectionSafe",value:function(i,l,p,v){var k=oa.intersection(i,l,p,v);return k===null&&(k=n.nearestEndpoint(i,l,p,v)),k}},{key:"computeCollinearIntersection",value:function(i,l,p,v){var k=Ct.intersects(i,l,p),S=Ct.intersects(i,l,v),N=Ct.intersects(p,v,i),U=Ct.intersects(p,v,l);return k&&S?(this._intPt[0]=p,this._intPt[1]=v,ke.COLLINEAR_INTERSECTION):N&&U?(this._intPt[0]=i,this._intPt[1]=l,ke.COLLINEAR_INTERSECTION):k&&N?(this._intPt[0]=p,this._intPt[1]=i,!p.equals(i)||S||U?ke.COLLINEAR_INTERSECTION:ke.POINT_INTERSECTION):k&&U?(this._intPt[0]=p,this._intPt[1]=l,!p.equals(l)||S||N?ke.COLLINEAR_INTERSECTION:ke.POINT_INTERSECTION):S&&N?(this._intPt[0]=v,this._intPt[1]=i,!v.equals(i)||k||U?ke.COLLINEAR_INTERSECTION:ke.POINT_INTERSECTION):S&&U?(this._intPt[0]=v,this._intPt[1]=l,!v.equals(l)||k||N?ke.COLLINEAR_INTERSECTION:ke.POINT_INTERSECTION):ke.NO_INTERSECTION}},{key:"computeIntersect",value:function(i,l,p,v){if(this._isProper=!1,!Ct.intersects(i,l,p,v))return ke.NO_INTERSECTION;var k=Zt.index(i,l,p),S=Zt.index(i,l,v);if(k>0&&S>0||k<0&&S<0)return ke.NO_INTERSECTION;var N=Zt.index(p,v,i),U=Zt.index(p,v,l);return N>0&&U>0||N<0&&U<0?ke.NO_INTERSECTION:k===0&&S===0&&N===0&&U===0?this.computeCollinearIntersection(i,l,p,v):(k===0||S===0||N===0||U===0?(this._isProper=!1,i.equals2D(p)||i.equals2D(v)?this._intPt[0]=i:l.equals2D(p)||l.equals2D(v)?this._intPt[0]=l:k===0?this._intPt[0]=new G(p):S===0?this._intPt[0]=new G(v):N===0?this._intPt[0]=new G(i):U===0&&(this._intPt[0]=new G(l))):(this._isProper=!0,this._intPt[0]=this.intersection(i,l,p,v)),ke.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(i,l,p,v){var k=i,S=Kn.pointToSegment(i,p,v),N=Kn.pointToSegment(l,p,v);return N<S&&(S=N,k=l),(N=Kn.pointToSegment(p,i,l))<S&&(S=N,k=p),(N=Kn.pointToSegment(v,i,l))<S&&(S=N,k=v),k}}])}(ke),ga=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"countSegment",value:function(n,i){if(n.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(n.y===this._p.y&&i.y===this._p.y){var l=n.x,p=i.x;return l>p&&(l=i.x,p=n.x),this._p.x>=l&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(n.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&n.y<=this._p.y){var v=Zt.index(n,i,this._p);if(v===Zt.COLLINEAR)return this._isPointOnSegment=!0,null;i.y<n.y&&(v=-v),v===Zt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==C.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?C.BOUNDARY:this._crossingCount%2==1?C.INTERIOR:C.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var n=arguments[0];this._p=n}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof G&&W(arguments[1],Wt)){for(var n=arguments[1],i=new u(arguments[0]),l=new G,p=new G,v=1;v<n.size();v++)if(n.getCoordinate(v,l),n.getCoordinate(v-1,p),i.countSegment(l,p),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof G&&arguments[1]instanceof Array){for(var k=arguments[1],S=new u(arguments[0]),N=1;N<k.length;N++){var U=k[N],X=k[N-1];if(S.countSegment(U,X),S.isOnSegment())return S.getLocation()}return S.getLocation()}}}])}(),Br=function(){function u(){r(this,u)}return d(u,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof G&&W(arguments[1],Wt)){for(var n=arguments[0],i=arguments[1],l=new ki,p=new G,v=new G,k=i.size(),S=1;S<k;S++)if(i.getCoordinate(S-1,p),i.getCoordinate(S,v),l.computeIntersection(n,p,v),l.hasIntersection())return!0;return!1}if(arguments[0]instanceof G&&arguments[1]instanceof Array){for(var N=arguments[0],U=arguments[1],X=new ki,nt=1;nt<U.length;nt++){var wt=U[nt-1],Ft=U[nt];if(X.computeIntersection(N,wt,Ft),X.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(n,i){return ga.locatePointInRing(n,i)}},{key:"isInRing",value:function(n,i){return u.locateInRing(n,i)!==C.EXTERIOR}}])}(),Sn=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"setAllLocations",value:function(n){for(var i=0;i<this.location.length;i++)this.location[i]=n}},{key:"isNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==C.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(n){for(var i=0;i<this.location.length;i++)this.location[i]===C.NONE&&(this.location[i]=n)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(n){if(n.location.length>this.location.length){var i=new Array(3).fill(null);i[P.ON]=this.location[P.ON],i[P.LEFT]=C.NONE,i[P.RIGHT]=C.NONE,this.location=i}for(var l=0;l<this.location.length;l++)this.location[l]===C.NONE&&l<n.location.length&&(this.location[l]=n.location[l])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var n=this.location[P.LEFT];this.location[P.LEFT]=this.location[P.RIGHT],this.location[P.RIGHT]=n}},{key:"toString",value:function(){var n=new ct;return this.location.length>1&&n.append(C.toLocationSymbol(this.location[P.LEFT])),n.append(C.toLocationSymbol(this.location[P.ON])),this.location.length>1&&n.append(C.toLocationSymbol(this.location[P.RIGHT])),n.toString()}},{key:"setLocations",value:function(n,i,l){this.location[P.ON]=n,this.location[P.LEFT]=i,this.location[P.RIGHT]=l}},{key:"get",value:function(n){return n<this.location.length?this.location[n]:C.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===C.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var n=arguments[0];this.setLocation(P.ON,n)}else if(arguments.length===2){var i=arguments[0],l=arguments[1];this.location[i]=l}}},{key:"init",value:function(n){this.location=new Array(n).fill(null),this.setAllLocations(C.NONE)}},{key:"isEqualOnSide",value:function(n,i){return this.location[i]===n.location[i]}},{key:"allPositionsEqual",value:function(n){for(var i=0;i<this.location.length;i++)if(this.location[i]!==n)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[P.ON]=i}else if(arguments[0]instanceof u){var l=arguments[0];if(this.init(l.location.length),l!==null)for(var p=0;p<this.location.length;p++)this.location[p]=l.location[p]}}else if(arguments.length===3){var v=arguments[0],k=arguments[1],S=arguments[2];this.init(3),this.location[P.ON]=v,this.location[P.LEFT]=k,this.location[P.RIGHT]=S}}}])}(),kn=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getGeometryCount",value:function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n}},{key:"setAllLocations",value:function(n,i){this.elt[n].setAllLocations(i)}},{key:"isNull",value:function(n){return this.elt[n].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var n=arguments[0];this.setAllLocationsIfNull(0,n),this.setAllLocationsIfNull(1,n)}else if(arguments.length===2){var i=arguments[0],l=arguments[1];this.elt[i].setAllLocationsIfNull(l)}}},{key:"isLine",value:function(n){return this.elt[n].isLine()}},{key:"merge",value:function(n){for(var i=0;i<2;i++)this.elt[i]===null&&n.elt[i]!==null?this.elt[i]=new Sn(n.elt[i]):this.elt[i].merge(n.elt[i])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var n=arguments[0];return this.elt[n].get(P.ON)}if(arguments.length===2){var i=arguments[0],l=arguments[1];return this.elt[i].get(l)}}},{key:"toString",value:function(){var n=new ct;return this.elt[0]!==null&&(n.append("A:"),n.append(this.elt[0].toString())),this.elt[1]!==null&&(n.append(" B:"),n.append(this.elt[1].toString())),n.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var n=arguments[0];return this.elt[n].isArea()}}},{key:"isAnyNull",value:function(n){return this.elt[n].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];this.elt[n].setLocation(P.ON,i)}else if(arguments.length===3){var l=arguments[0],p=arguments[1],v=arguments[2];this.elt[l].setLocation(p,v)}}},{key:"isEqualOnSide",value:function(n,i){return this.elt[0].isEqualOnSide(n.elt[0],i)&&this.elt[1].isEqualOnSide(n.elt[1],i)}},{key:"allPositionsEqual",value:function(n,i){return this.elt[n].allPositionsEqual(i)}},{key:"toLine",value:function(n){this.elt[n].isArea()&&(this.elt[n]=new Sn(this.elt[n].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Sn(n),this.elt[1]=new Sn(n)}else if(arguments[0]instanceof u){var i=arguments[0];this.elt[0]=new Sn(i.elt[0]),this.elt[1]=new Sn(i.elt[1])}}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.elt[0]=new Sn(C.NONE),this.elt[1]=new Sn(C.NONE),this.elt[l].setLocation(p)}else if(arguments.length===3){var v=arguments[0],k=arguments[1],S=arguments[2];this.elt[0]=new Sn(v,k,S),this.elt[1]=new Sn(v,k,S)}else if(arguments.length===4){var N=arguments[0],U=arguments[1],X=arguments[2],nt=arguments[3];this.elt[0]=new Sn(C.NONE,C.NONE,C.NONE),this.elt[1]=new Sn(C.NONE,C.NONE,C.NONE),this.elt[N].setLocations(U,X,nt)}}},{key:"toLineLabel",value:function(n){for(var i=new u(C.NONE),l=0;l<2;l++)i.setLocation(l,n.getLocation(l));return i}}])}(),po=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var u=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)u[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(u),this._isHole=Zt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(u){this._startDe=u;var n=u,i=!0;do{if(n===null)throw new un("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new un("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var l=n.getLabel();It.isTrue(l.isArea()),this.mergeLabel(l),this.addPoints(n.getEdge(),n.isForward(),i),i=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(u){return this._pts.get(u)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var u=this._startDe;do{var n=u.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),u=this.getNext(u)}while(u!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(u,n,i){var l=u.getCoordinates();if(n){var p=1;i&&(p=0);for(var v=p;v<l.length;v++)this._pts.add(l[v])}else{var k=l.length-2;i&&(k=l.length-1);for(var S=k;S>=0;S--)this._pts.add(l[S])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var u=this._startDe;do u.getEdge().setInResult(!0),u=u.getNext();while(u!==this._startDe)}},{key:"containsPoint",value:function(u){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(u)||!Br.isInRing(u,n.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(u))return!1;return!0}},{key:"addHole",value:function(u){this._holes.add(u)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var u=arguments[0];this.mergeLabel(u,0),this.mergeLabel(u,1)}else if(arguments.length===2){var n=arguments[1],i=arguments[0].getLocation(n,P.RIGHT);if(i===C.NONE)return null;if(this._label.getLocation(n)===C.NONE)return this._label.setLocation(n,i),null}}},{key:"setShell",value:function(u){this._shell=u,u!==null&&u.addHole(this)}},{key:"toPolygon",value:function(u){for(var n=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)n[i]=this._holes.get(i).getLinearRing();return u.createPolygon(this.getLinearRing(),n)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Ht,this._pts=new Ht,this._label=new kn(C.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Ht,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var u=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(u),this.computeRing()}}}}])}(),ie=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"setEdgeRing",value:function(i,l){i.setMinEdgeRing(l)}},{key:"getNext",value:function(i){return i.getNextMin()}}],[{key:"constructor_",value:function(){var i=arguments[0],l=arguments[1];po.constructor_.call(this,i,l)}}])}(po),ui=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"buildMinimalRings",value:function(){var i=new Ht,l=this._startDe;do{if(l.getMinEdgeRing()===null){var p=new ie(l,this._geometryFactory);i.add(p)}l=l.getNext()}while(l!==this._startDe);return i}},{key:"setEdgeRing",value:function(i,l){i.setEdgeRing(l)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var i=this._startDe;do i.getNode().getEdges().linkMinimalDirectedEdges(this),i=i.getNext();while(i!==this._startDe)}},{key:"getNext",value:function(i){return i.getNext()}}],[{key:"constructor_",value:function(){var i=arguments[0],l=arguments[1];po.constructor_.call(this,i,l)}}])}(po),xe=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(u){this._isVisited=u}},{key:"setInResult",value:function(u){this._isInResult=u}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(u){this._label=u}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(u){this._isCovered=u,this._isCoveredSet=!0}},{key:"updateIM",value:function(u){It.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(u)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._label=u}}}}])}(),xs=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"isIncidentEdgeInResult",value:function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();)if(i.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(i){i.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(i){}},{key:"computeMergedLocation",value:function(i,l){var p=C.NONE;if(p=this._label.getLocation(l),!i.isNull(l)){var v=i.getLocation(l);p!==C.BOUNDARY&&(p=v)}return p}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return I(n,"setLabel",this,1).apply(this,arguments);var i=arguments[0],l=arguments[1];this._label===null?this._label=new kn(i,l):this._label.setLocation(i,l)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof kn)for(var l=arguments[0],p=0;p<2;p++){var v=this.computeMergedLocation(l,p);this._label.getLocation(p)===C.NONE&&this._label.setLocation(p,v)}}},{key:"add",value:function(i){this._edges.insert(i),i.setNode(this)}},{key:"setLabelBoundary",value:function(i){if(this._label===null)return null;var l=C.NONE;this._label!==null&&(l=this._label.getLocation(i));var p=null;switch(l){case C.BOUNDARY:p=C.INTERIOR;break;case C.INTERIOR:default:p=C.BOUNDARY}this._label.setLocation(i,p)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var i=arguments[0],l=arguments[1];this._coord=i,this._edges=l,this._label=new kn(0,C.NONE)}}])}(xe),_a=function(u){function n(){return r(this,n),a(this,n,arguments)}return b(n,u),d(n)}(Bl);function mo(u){return u==null?0:u.color}function fe(u){return u==null?null:u.parent}function hn(u,n){u!==null&&(u.color=n)}function Ts(u){return u==null?null:u.left}function Fr(u){return u==null?null:u.right}var Ve=function(u){function n(){var i;return r(this,n),(i=a(this,n)).root_=null,i.size_=0,i}return b(n,u),d(n,[{key:"get",value:function(i){for(var l=this.root_;l!==null;){var p=i.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return l.value;l=l.right}}return null}},{key:"put",value:function(i,l){if(this.root_===null)return this.root_={key:i,value:l,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var p,v,k=this.root_;do if(p=k,(v=i.compareTo(k.key))<0)k=k.left;else{if(!(v>0)){var S=k.value;return k.value=l,S}k=k.right}while(k!==null);var N={key:i,left:null,right:null,value:l,parent:p,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return v<0?p.left=N:p.right=N,this.fixAfterInsertion(N),this.size_++,null}},{key:"fixAfterInsertion",value:function(i){var l;for(i.color=1;i!=null&&i!==this.root_&&i.parent.color===1;)fe(i)===Ts(fe(fe(i)))?mo(l=Fr(fe(fe(i))))===1?(hn(fe(i),0),hn(l,0),hn(fe(fe(i)),1),i=fe(fe(i))):(i===Fr(fe(i))&&(i=fe(i),this.rotateLeft(i)),hn(fe(i),0),hn(fe(fe(i)),1),this.rotateRight(fe(fe(i)))):mo(l=Ts(fe(fe(i))))===1?(hn(fe(i),0),hn(l,0),hn(fe(fe(i)),1),i=fe(fe(i))):(i===Ts(fe(i))&&(i=fe(i),this.rotateRight(i)),hn(fe(i),0),hn(fe(fe(i)),1),this.rotateLeft(fe(fe(i))));this.root_.color=0}},{key:"values",value:function(){var i=new Ht,l=this.getFirstEntry();if(l!==null)for(i.add(l.value);(l=n.successor(l))!==null;)i.add(l.value);return i}},{key:"entrySet",value:function(){var i=new pt,l=this.getFirstEntry();if(l!==null)for(i.add(l);(l=n.successor(l))!==null;)i.add(l);return i}},{key:"rotateLeft",value:function(i){if(i!=null){var l=i.right;i.right=l.left,l.left!=null&&(l.left.parent=i),l.parent=i.parent,i.parent==null?this.root_=l:i.parent.left===i?i.parent.left=l:i.parent.right=l,l.left=i,i.parent=l}}},{key:"rotateRight",value:function(i){if(i!=null){var l=i.left;i.left=l.right,l.right!=null&&(l.right.parent=i),l.parent=i.parent,i.parent==null?this.root_=l:i.parent.right===i?i.parent.right=l:i.parent.left=l,l.right=i,i.parent=l}}},{key:"getFirstEntry",value:function(){var i=this.root_;if(i!=null)for(;i.left!=null;)i=i.left;return i}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(i){for(var l=this.root_;l!==null;){var p=i.compareTo(l.key);if(p<0)l=l.left;else{if(!(p>0))return!0;l=l.right}}return!1}}],[{key:"successor",value:function(i){var l;if(i===null)return null;if(i.right!==null){for(l=i.right;l.left!==null;)l=l.left;return l}l=i.parent;for(var p=i;l!==null&&p===l.right;)p=l,l=l.parent;return l}}])}(_a),$i=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"find",value:function(u){return this.nodeMap.get(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof G){var u=arguments[0],n=this.nodeMap.get(u);return n===null&&(n=this.nodeFact.createNode(u),this.nodeMap.put(u,n)),n}if(arguments[0]instanceof xs){var i=arguments[0],l=this.nodeMap.get(i.getCoordinate());return l===null?(this.nodeMap.put(i.getCoordinate(),i),i):(l.mergeLabel(i),l)}}},{key:"print",value:function(u){for(var n=this.iterator();n.hasNext();)n.next().print(u)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(u){for(var n=new Ht,i=this.iterator();i.hasNext();){var l=i.next();l.getLabel().getLocation(u)===C.BOUNDARY&&n.add(l)}return n}},{key:"add",value:function(u){var n=u.getCoordinate();this.addNode(n).add(u)}}],[{key:"constructor_",value:function(){this.nodeMap=new Ve,this.nodeFact=null;var u=arguments[0];this.nodeFact=u}}])}(),fn=function(){function u(){r(this,u)}return d(u,null,[{key:"isNorthern",value:function(n){return n===u.NE||n===u.NW}},{key:"isOpposite",value:function(n,i){return n!==i&&(n-i+4)%4===2}},{key:"commonHalfPlane",value:function(n,i){if(n===i)return n;if((n-i+4)%4===2)return-1;var l=n<i?n:i;return l===0&&(n>i?n:i)===3?3:l}},{key:"isInHalfPlane",value:function(n,i){return i===u.SE?n===u.SE||n===u.SW:n===i||n===i+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];if(n===0&&i===0)throw new $("Cannot compute the quadrant for point ( "+n+", "+i+" )");return n>=0?i>=0?u.NE:u.SE:i>=0?u.NW:u.SW}if(arguments[0]instanceof G&&arguments[1]instanceof G){var l=arguments[0],p=arguments[1];if(p.x===l.x&&p.y===l.y)throw new $("Cannot compute the quadrant for two identical points "+l);return p.x>=l.x?p.y>=l.y?u.NE:u.SE:p.y>=l.y?u.NW:u.SW}}}])}();fn.NE=0,fn.NW=1,fn.SW=2,fn.SE=3;var va=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"compareDirection",value:function(n){return this._dx===n._dx&&this._dy===n._dy?0:this._quadrant>n._quadrant?1:this._quadrant<n._quadrant?-1:Zt.index(n._p0,n._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(n){this._node=n}},{key:"print",value:function(n){var i=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),p=l.lastIndexOf("."),v=l.substring(p+1);n.print("  "+v+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)}},{key:"compareTo",value:function(n){var i=n;return this.compareDirection(i)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var n=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),l=i.lastIndexOf(".");return"  "+i.substring(l+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label}},{key:"computeLabel",value:function(n){}},{key:"init",value:function(n,i){this._p0=n,this._p1=i,this._dx=i.x-n.x,this._dy=i.y-n.y,this._quadrant=fn.quadrant(this._dx,this._dy),It.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var n=arguments[0];this._edge=n}else if(arguments.length===3){var i=arguments[0],l=arguments[1],p=arguments[2];u.constructor_.call(this,i,l,p,null)}else if(arguments.length===4){var v=arguments[0],k=arguments[1],S=arguments[2],N=arguments[3];u.constructor_.call(this,v),this.init(k,S),this._label=N}}}])}(),ya=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(i){return this._depth[i]}},{key:"setVisited",value:function(i){this._isVisited=i}},{key:"computeDirectedLabel",value:function(){this._label=new kn(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(i,l){if(this._depth[i]!==-999&&this._depth[i]!==l)throw new un("assigned depths do not match",this.getCoordinate());this._depth[i]=l}},{key:"isInteriorAreaEdge",value:function(){for(var i=!0,l=0;l<2;l++)this._label.isArea(l)&&this._label.getLocation(l,P.LEFT)===C.INTERIOR&&this._label.getLocation(l,P.RIGHT)===C.INTERIOR||(i=!1);return i}},{key:"setNextMin",value:function(i){this._nextMin=i}},{key:"print",value:function(i){I(n,"print",this,1).call(this,i),i.print(" "+this._depth[P.LEFT]+"/"+this._depth[P.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")}},{key:"setMinEdgeRing",value:function(i){this._minEdgeRing=i}},{key:"isLineEdge",value:function(){var i=this._label.isLine(0)||this._label.isLine(1),l=!this._label.isArea(0)||this._label.allPositionsEqual(0,C.EXTERIOR),p=!this._label.isArea(1)||this._label.allPositionsEqual(1,C.EXTERIOR);return i&&l&&p}},{key:"setEdgeRing",value:function(i){this._edgeRing=i}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i}},{key:"setInResult",value:function(i){this._isInResult=i}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)}},{key:"setSym",value:function(i){this._sym=i}},{key:"setVisitedEdge",value:function(i){this.setVisited(i),this._sym.setVisited(i)}},{key:"setEdgeDepths",value:function(i,l){var p=this.getEdge().getDepthDelta();this._isForward||(p=-p);var v=1;i===P.LEFT&&(v=-1);var k=P.opposite(i),S=l+p*v;this.setDepth(i,l),this.setDepth(k,S)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(i){this._next=i}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var i=arguments[0],l=arguments[1];if(va.constructor_.call(this,i),this._isForward=l,l)this.init(i.getCoordinate(0),i.getCoordinate(1));else{var p=i.getNumPoints()-1;this.init(i.getCoordinate(p),i.getCoordinate(p-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(i,l){return i===C.EXTERIOR&&l===C.INTERIOR?1:i===C.INTERIOR&&l===C.EXTERIOR?-1:0}}])}(va),ba=function(){return d(function u(){r(this,u)},[{key:"createNode",value:function(u){return new xs(u,null)}}])}(),go=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(u){u.println("Edges:");for(var n=0;n<this._edges.size();n++){u.println("edge "+n+":");var i=this._edges.get(n);i.print(u),i.eiList.print(u)}}},{key:"find",value:function(u){return this._nodes.find(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof xs){var u=arguments[0];return this._nodes.addNode(u)}if(arguments[0]instanceof G){var n=arguments[0];return this._nodes.addNode(n)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(u){Gn.out.println(u)}},{key:"isBoundaryNode",value:function(u,n){var i=this._nodes.find(n);if(i===null)return!1;var l=i.getLabel();return l!==null&&l.getLocation(u)===C.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(u,n,i,l){return!!u.equals(i)&&Zt.index(u,n,l)===Zt.COLLINEAR&&fn.quadrant(u,n)===fn.quadrant(i,l)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(u){Gn.out.print(u)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(u,n){for(var i=0;i<this._edges.size();i++){var l=this._edges.get(i),p=l.getCoordinates();if(this.matchInSameDirection(u,n,p[0],p[1])||this.matchInSameDirection(u,n,p[p.length-1],p[p.length-2]))return l}return null}},{key:"insertEdge",value:function(u){this._edges.add(u)}},{key:"findEdgeEnd",value:function(u){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var i=n.next();if(i.getEdge()===u)return i}return null}},{key:"addEdges",value:function(u){for(var n=u.iterator();n.hasNext();){var i=n.next();this._edges.add(i);var l=new ya(i,!0),p=new ya(i,!1);l.setSym(p),p.setSym(l),this.add(l),this.add(p)}}},{key:"add",value:function(u){this._nodes.add(u),this._edgeEndList.add(u)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(u,n){for(var i=0;i<this._edges.size();i++){var l=this._edges.get(i),p=l.getCoordinates();if(u.equals(p[0])&&n.equals(p[1]))return l}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Ht,this._nodes=null,this._edgeEndList=new Ht,arguments.length===0)this._nodes=new $i(new ba);else if(arguments.length===1){var u=arguments[0];this._nodes=new $i(u)}}},{key:"linkResultDirectedEdges",value:function(u){for(var n=u.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()}}])}(),Uc=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"sortShellsAndHoles",value:function(n,i,l){for(var p=n.iterator();p.hasNext();){var v=p.next();v.isHole()?l.add(v):i.add(v)}}},{key:"computePolygons",value:function(n){for(var i=new Ht,l=n.iterator();l.hasNext();){var p=l.next().toPolygon(this._geometryFactory);i.add(p)}return i}},{key:"placeFreeHoles",value:function(n,i){for(var l=i.iterator();l.hasNext();){var p=l.next();if(p.getShell()===null){var v=u.findEdgeRingContaining(p,n);if(v===null)throw new un("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(v)}}}},{key:"buildMinimalEdgeRings",value:function(n,i,l){for(var p=new Ht,v=n.iterator();v.hasNext();){var k=v.next();if(k.getMaxNodeDegree()>2){k.linkDirectedEdgesForMinimalEdgeRings();var S=k.buildMinimalRings(),N=this.findShell(S);N!==null?(this.placePolygonHoles(N,S),i.add(N)):l.addAll(S)}else p.add(k)}return p}},{key:"buildMaximalEdgeRings",value:function(n){for(var i=new Ht,l=n.iterator();l.hasNext();){var p=l.next();if(p.isInResult()&&p.getLabel().isArea()&&p.getEdgeRing()===null){var v=new ui(p,this._geometryFactory);i.add(v),v.setInResult()}}return i}},{key:"placePolygonHoles",value:function(n,i){for(var l=i.iterator();l.hasNext();){var p=l.next();p.isHole()&&p.setShell(n)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(n){for(var i=0,l=null,p=n.iterator();p.hasNext();){var v=p.next();v.isHole()||(l=v,i++)}return It.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),l}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];this.add(n.getEdgeEnds(),n.getNodes())}else if(arguments.length===2){var i=arguments[0],l=arguments[1];go.linkResultDirectedEdges(l);var p=this.buildMaximalEdgeRings(i),v=new Ht,k=this.buildMinimalEdgeRings(p,this._shellList,v);this.sortShellsAndHoles(k,this._shellList,v),this.placeFreeHoles(this._shellList,v)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Ht;var n=arguments[0];this._geometryFactory=n}},{key:"findEdgeRingContaining",value:function(n,i){for(var l=n.getLinearRing(),p=l.getEnvelopeInternal(),v=l.getCoordinateN(0),k=null,S=null,N=i.iterator();N.hasNext();){var U=N.next(),X=U.getLinearRing(),nt=X.getEnvelopeInternal();if(!nt.equals(p)&&nt.contains(p)){v=We.ptNotInList(l.getCoordinates(),X.getCoordinates());var wt=!1;Br.isInRing(v,X.getCoordinates())&&(wt=!0),wt&&(k===null||S.contains(nt))&&(S=(k=U).getLinearRing().getEnvelopeInternal())}}return k}}])}(),wa=function(){return d(function u(){r(this,u)},[{key:"getBounds",value:function(){}}])}(),re=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[wa,K]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var u=arguments[0],n=arguments[1];this._bounds=u,this._item=n}}])}(),_o=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var u=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),u}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(u){for(var n=null,i=this._items.get(u);2*u<=this._size&&((n=2*u)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(i)<0);u=n)this._items.set(u,this._items.get(n));this._items.set(u,i)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(u){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,u);u.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,u)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Ht,this._items.add(null)}}])}(),Jn=function(){return d(function u(){r(this,u)},[{key:"insert",value:function(u,n){}},{key:"remove",value:function(u,n){}},{key:"query",value:function(){}}])}(),dn=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(u){It.isTrue(this._bounds===null),this._childBoundables.add(u)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[wa,K]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Ht,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._level=u}}}}])}(),hr={reverseOrder:function(){return{compare:function(u,n){return n.compareTo(u)}}},min:function(u){return hr.sort(u),u.get(0)},sort:function(u,n){var i=u.toArray();n?cn.sort(i,n):cn.sort(i);for(var l=u.iterator(),p=0,v=i.length;p<v;p++)l.next(),l.set(i[p])},singletonList:function(u){var n=new Ht;return n.add(u),n}},$c=function(){function u(){r(this,u)}return d(u,null,[{key:"maxDistance",value:function(n,i,l,p,v,k,S,N){var U=u.distance(n,i,v,k);return U=Math.max(U,u.distance(n,i,S,N)),U=Math.max(U,u.distance(l,p,v,k)),U=Math.max(U,u.distance(l,p,S,N))}},{key:"distance",value:function(n,i,l,p){var v=l-n,k=p-i;return Math.sqrt(v*v+k*k)}},{key:"maximumDistance",value:function(n,i){var l=Math.min(n.getMinX(),i.getMinX()),p=Math.min(n.getMinY(),i.getMinY()),v=Math.max(n.getMaxX(),i.getMaxX()),k=Math.max(n.getMaxY(),i.getMaxY());return u.distance(l,p,v,k)}},{key:"minMaxDistance",value:function(n,i){var l=n.getMinX(),p=n.getMinY(),v=n.getMaxX(),k=n.getMaxY(),S=i.getMinX(),N=i.getMinY(),U=i.getMaxX(),X=i.getMaxY(),nt=u.maxDistance(l,p,l,k,S,N,S,X);return nt=Math.min(nt,u.maxDistance(l,p,l,k,S,N,U,N)),nt=Math.min(nt,u.maxDistance(l,p,l,k,U,X,S,X)),nt=Math.min(nt,u.maxDistance(l,p,l,k,U,X,U,N)),nt=Math.min(nt,u.maxDistance(l,p,v,p,S,N,S,X)),nt=Math.min(nt,u.maxDistance(l,p,v,p,S,N,U,N)),nt=Math.min(nt,u.maxDistance(l,p,v,p,U,X,S,X)),nt=Math.min(nt,u.maxDistance(l,p,v,p,U,X,U,N)),nt=Math.min(nt,u.maxDistance(v,k,l,k,S,N,S,X)),nt=Math.min(nt,u.maxDistance(v,k,l,k,S,N,U,N)),nt=Math.min(nt,u.maxDistance(v,k,l,k,U,X,S,X)),nt=Math.min(nt,u.maxDistance(v,k,l,k,U,X,U,N)),nt=Math.min(nt,u.maxDistance(v,k,v,p,S,N,S,X)),nt=Math.min(nt,u.maxDistance(v,k,v,p,S,N,U,N)),nt=Math.min(nt,u.maxDistance(v,k,v,p,U,X,S,X)),nt=Math.min(nt,u.maxDistance(v,k,v,p,U,X,U,N))}}])}(),Gi=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"maximumDistance",value:function(){return $c.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(n,i){var l=u.isComposite(this._boundable1),p=u.isComposite(this._boundable2);if(l&&p)return u.area(this._boundable1)>u.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,n,i),null):(this.expand(this._boundable2,this._boundable1,!0,n,i),null);if(l)return this.expand(this._boundable1,this._boundable2,!1,n,i),null;if(p)return this.expand(this._boundable2,this._boundable1,!0,n,i),null;throw new $("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(u.isComposite(this._boundable1)||u.isComposite(this._boundable2))}},{key:"compareTo",value:function(n){var i=n;return this._distance<i._distance?-1:this._distance>i._distance?1:0}},{key:"expand",value:function(n,i,l,p,v){for(var k=n.getChildBoundables().iterator();k.hasNext();){var S=k.next(),N=null;(N=l?new u(i,S,this._itemDistance):new u(S,i,this._itemDistance)).getDistance()<v&&p.add(N)}}},{key:"getBoundable",value:function(n){return n===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var n=arguments[0],i=arguments[1],l=arguments[2];this._boundable1=n,this._boundable2=i,this._itemDistance=l,this._distance=this.distance()}},{key:"area",value:function(n){return n.getBounds().getArea()}},{key:"isComposite",value:function(n){return n instanceof dn}}])}(),Fl=function(){return d(function u(){r(this,u)},[{key:"visitItem",value:function(u){}}])}(),fr=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"queryInternal",value:function(){if(W(arguments[2],Fl)&&arguments[0]instanceof Object&&arguments[1]instanceof dn)for(var n=arguments[0],i=arguments[2],l=arguments[1].getChildBoundables(),p=0;p<l.size();p++){var v=l.get(p);this.getIntersectsOp().intersects(v.getBounds(),n)&&(v instanceof dn?this.queryInternal(n,v,i):v instanceof re?i.visitItem(v.getItem()):It.shouldNeverReachHere())}else if(W(arguments[2],Rt)&&arguments[0]instanceof Object&&arguments[1]instanceof dn)for(var k=arguments[0],S=arguments[2],N=arguments[1].getChildBoundables(),U=0;U<N.size();U++){var X=N.get(U);this.getIntersectsOp().intersects(X.getBounds(),k)&&(X instanceof dn?this.queryInternal(k,X,S):X instanceof re?S.add(X.getItem()):It.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(n){return n.get(n.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var l=i.next();l instanceof dn?n+=this.size(l):l instanceof re&&(n+=1)}return n}}},{key:"removeItem",value:function(n,i){for(var l=null,p=n.getChildBoundables().iterator();p.hasNext();){var v=p.next();v instanceof re&&v.getItem()===i&&(l=v)}return l!==null&&(n.getChildBoundables().remove(l),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new Ht:n}if(arguments.length===1){for(var i=arguments[0],l=new Ht,p=i.getChildBoundables().iterator();p.hasNext();){var v=p.next();if(v instanceof dn){var k=this.itemsTree(v);k!==null&&l.add(k)}else v instanceof re?l.add(v.getItem()):It.shouldNeverReachHere()}return l.size()<=0?null:l}}},{key:"insert",value:function(n,i){It.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new re(n,i))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var n=arguments[0],i=new Ht;return this.boundablesAtLevel(n,this._root,i),i}if(arguments.length===3){var l=arguments[0],p=arguments[1],v=arguments[2];if(It.isTrue(l>-2),p.getLevel()===l)return v.add(p),null;for(var k=p.getChildBoundables().iterator();k.hasNext();){var S=k.next();S instanceof dn?this.boundablesAtLevel(l,S,v):(It.isTrue(S instanceof re),l===-1&&v.add(S))}return null}}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];this.build();var i=new Ht;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i),i}if(arguments.length===2){var l=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.queryInternal(l,this._root,p)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,i)}if(arguments.length===3){var l=arguments[0],p=arguments[1],v=arguments[2],k=this.removeItem(p,v);if(k)return!0;for(var S=null,N=p.getChildBoundables().iterator();N.hasNext();){var U=N.next();if(this.getIntersectsOp().intersects(U.getBounds(),l)&&U instanceof dn&&(k=this.remove(l,U,v))){S=U;break}}return S!==null&&S.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(S),k}}},{key:"createHigherLevels",value:function(n,i){It.isTrue(!n.isEmpty());var l=this.createParentBoundables(n,i+1);return l.size()===1?l.get(0):this.createHigherLevels(l,i+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var l=i.next();if(l instanceof dn){var p=this.depth(l);p>n&&(n=p)}}return n+1}}},{key:"createParentBoundables",value:function(n,i){It.isTrue(!n.isEmpty());var l=new Ht;l.add(this.createNode(i));var p=new Ht(n);hr.sort(p,this.getComparator());for(var v=p.iterator();v.hasNext();){var k=v.next();this.lastNode(l).getChildBoundables().size()===this.getNodeCapacity()&&l.add(this.createNode(i)),this.lastNode(l).addChildBoundable(k)}return l}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[K]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Ht,this._nodeCapacity=null,arguments.length===0)u.constructor_.call(this,u.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];It.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}}},{key:"compareDoubles",value:function(n,i){return n>i?1:n<i?-1:0}}])}();fr.IntersectsOp=function(){},fr.DEFAULT_NODE_CAPACITY=10;var Gc=function(){return d(function u(){r(this,u)},[{key:"distance",value:function(u,n){}}])}(),ci=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(i,l){It.isTrue(i.length>0);for(var p=new Ht,v=0;v<i.length;v++)p.addAll(this.createParentBoundablesFromVerticalSlice(i[v],l));return p}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var i=arguments[0],l=arguments[1];return this.nearestNeighbourK(i,at.POSITIVE_INFINITY,l)}if(arguments.length===3){var p=arguments[0],v=arguments[2],k=arguments[1],S=new _o;S.add(p);for(var N=new _o;!S.isEmpty()&&k>=0;){var U=S.poll(),X=U.getDistance();if(X>=k)break;U.isLeaves()?N.size()<v?N.add(U):(N.peek().getDistance()>X&&(N.poll(),N.add(U)),k=N.peek().getDistance()):U.expandToQueue(S,k)}return n.getItems(N)}}},{key:"createNode",value:function(i){return new vo(i)}},{key:"size",value:function(){return arguments.length===0?I(n,"size",this,1).call(this):I(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ct))return I(n,"insert",this,1).apply(this,arguments);var i=arguments[0],l=arguments[1];if(i.isNull())return null;I(n,"insert",this,1).call(this,i,l)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(i,l){for(var p=Math.trunc(Math.ceil(i.size()/l)),v=new Array(l).fill(null),k=i.iterator(),S=0;S<l;S++){v[S]=new Ht;for(var N=0;k.hasNext()&&N<p;){var U=k.next();v[S].add(U),N++}}return v}},{key:"query",value:function(){if(arguments.length===1){var i=arguments[0];return I(n,"query",this,1).call(this,i)}if(arguments.length===2){var l=arguments[0],p=arguments[1];I(n,"query",this,1).call(this,l,p)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(i,l){return I(n,"createParentBoundables",this,1).call(this,i,l)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ct){var i=arguments[0],l=arguments[1];return I(n,"remove",this,1).call(this,i,l)}return I(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?I(n,"depth",this,1).call(this):I(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(i,l){It.isTrue(!i.isEmpty());var p=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),v=new Ht(i);hr.sort(v,n.xComparator);var k=this.verticalSlices(v,Math.trunc(Math.ceil(Math.sqrt(p))));return this.createParentBoundablesFromVerticalSlices(k,l)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(W(arguments[0],Gc)){var i=arguments[0];if(this.isEmpty())return null;var l=new Gi(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(l)}if(arguments[0]instanceof Gi){var p=arguments[0],v=at.POSITIVE_INFINITY,k=null,S=new _o;for(S.add(p);!S.isEmpty()&&v>0;){var N=S.poll(),U=N.getDistance();if(U>=v)break;N.isLeaves()?(v=U,k=N):N.expandToQueue(S,v)}return k===null?null:[k.getBoundable(0).getItem(),k.getBoundable(1).getItem()]}}else{if(arguments.length===2){var X=arguments[0],nt=arguments[1];if(this.isEmpty()||X.isEmpty())return null;var wt=new Gi(this.getRoot(),X.getRoot(),nt);return this.nearestNeighbour(wt)}if(arguments.length===3){var Ft=arguments[2],Vt=new re(arguments[0],arguments[1]),Xt=new Gi(this.getRoot(),Vt,Ft);return this.nearestNeighbour(Xt)[0]}if(arguments.length===4){var he=arguments[2],ae=arguments[3],Te=new re(arguments[0],arguments[1]),$e=new Gi(this.getRoot(),Te,he);return this.nearestNeighbourK($e,ae)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var i=arguments[0],l=arguments[1],p=at.POSITIVE_INFINITY,v=new _o;for(v.add(i);!v.isEmpty();){var k=v.poll(),S=k.getDistance();if(S>l)return!1;if(k.maximumDistance()<=l)return!0;if(k.isLeaves()){if((p=S)<=l)return!0}else k.expandToQueue(v,p)}return!1}if(arguments.length===3){var N=arguments[0],U=arguments[1],X=arguments[2],nt=new Gi(this.getRoot(),N.getRoot(),U);return this.isWithinDistance(nt,X)}}},{key:"interfaces_",get:function(){return[Jn,K]}}],[{key:"constructor_",value:function(){if(arguments.length===0)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var i=arguments[0];fr.constructor_.call(this,i)}}},{key:"centreX",value:function(i){return n.avg(i.getMinX(),i.getMaxX())}},{key:"avg",value:function(i,l){return(i+l)/2}},{key:"getItems",value:function(i){for(var l=new Array(i.size()).fill(null),p=0;!i.isEmpty();){var v=i.poll();l[p]=v.getBoundable(0).getItem(),p++}return l}},{key:"centreY",value:function(i){return n.avg(i.getMinY(),i.getMaxY())}}])}(fr),vo=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"computeBounds",value:function(){for(var i=null,l=this.getChildBoundables().iterator();l.hasNext();){var p=l.next();i===null?i=new Ct(p.getBounds()):i.expandToInclude(p.getBounds())}return i}}],[{key:"constructor_",value:function(){var i=arguments[0];dn.constructor_.call(this,i)}}])}(dn);ci.STRtreeNode=vo,ci.xComparator=new(function(){return d(function u(){r(this,u)},[{key:"interfaces_",get:function(){return[Dt]}},{key:"compare",value:function(u,n){return fr.compareDoubles(ci.centreX(u.getBounds()),ci.centreX(n.getBounds()))}}])}()),ci.yComparator=new(function(){return d(function u(){r(this,u)},[{key:"interfaces_",get:function(){return[Dt]}},{key:"compare",value:function(u,n){return fr.compareDoubles(ci.centreY(u.getBounds()),ci.centreY(n.getBounds()))}}])}()),ci.intersectsOp=new(function(){return d(function u(){r(this,u)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(u,n){return u.intersects(n)}}])}()),ci.DEFAULT_NODE_CAPACITY=10;var Hc=function(){function u(){r(this,u)}return d(u,null,[{key:"relativeSign",value:function(n,i){return n<i?-1:n>i?1:0}},{key:"compare",value:function(n,i,l){if(i.equals2D(l))return 0;var p=u.relativeSign(i.x,l.x),v=u.relativeSign(i.y,l.y);switch(n){case 0:return u.compareValue(p,v);case 1:return u.compareValue(v,p);case 2:return u.compareValue(v,-p);case 3:return u.compareValue(-p,v);case 4:return u.compareValue(-p,-v);case 5:return u.compareValue(-v,-p);case 6:return u.compareValue(-v,p);case 7:return u.compareValue(p,-v)}return It.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(n,i){return n<0?-1:n>0?1:i<0?-1:i>0?1:0}}])}(),hi=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(u){var n=u;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:this._isInterior?n._isInterior?Hc.compare(this._segmentOctant,this.coord,n.coord):1:-1}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===u}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var u=arguments[0],n=arguments[1],i=arguments[2],l=arguments[3];this._segString=u,this.coord=new G(n),this.segmentIndex=i,this._segmentOctant=l,this._isInterior=!n.equals2D(u.getCoordinate(i))}}])}(),Vc=function(){return d(function u(){r(this,u)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),zl=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var u=new ws;this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var l=n.next();this.addEdgeCoordinates(i,l,u),i=l}return u.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var u=new Ht;this.findCollapsesFromInsertedNodes(u),this.findCollapsesFromExistingVertices(u);for(var n=u.iterator();n.hasNext();){var i=n.next().intValue();this.add(this._edge.getCoordinate(i),i)}}},{key:"createSplitEdgePts",value:function(u,n){var i=n.segmentIndex-u.segmentIndex+2;if(i===2)return[new G(u.coord),new G(n.coord)];var l=this._edge.getCoordinate(n.segmentIndex),p=n.isInterior()||!n.coord.equals2D(l);p||i--;var v=new Array(i).fill(null),k=0;v[k++]=new G(u.coord);for(var S=u.segmentIndex+1;S<=n.segmentIndex;S++)v[k++]=this._edge.getCoordinate(S);return p&&(v[k]=new G(n.coord)),v}},{key:"print",value:function(u){u.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(u)}},{key:"findCollapsesFromExistingVertices",value:function(u){for(var n=0;n<this._edge.size()-2;n++){var i=this._edge.getCoordinate(n);this._edge.getCoordinate(n+1);var l=this._edge.getCoordinate(n+2);i.equals2D(l)&&u.add(zt.valueOf(n+1))}}},{key:"addEdgeCoordinates",value:function(u,n,i){var l=this.createSplitEdgePts(u,n);i.add(l,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),i=n.next();n.hasNext();){var l=n.next(),p=this.createSplitEdge(i,l);u.add(p),i=l}}},{key:"findCollapseIndex",value:function(u,n,i){if(!u.coord.equals2D(n.coord))return!1;var l=n.segmentIndex-u.segmentIndex;return n.isInterior()||l--,l===1&&(i[0]=u.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(u){for(var n=new Array(1).fill(null),i=this.iterator(),l=i.next();i.hasNext();){var p=i.next();this.findCollapseIndex(l,p,n)&&u.add(zt.valueOf(n[0])),l=p}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var u=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(u),u)}},{key:"createSplitEdge",value:function(u,n){var i=this.createSplitEdgePts(u,n);return new xi(i,this._edge.getData())}},{key:"add",value:function(u,n){var i=new hi(this._edge,u,n,this._edge.getSegmentOctant(n)),l=this._nodeMap.get(i);return l!==null?(It.isTrue(l.coord.equals2D(u),"Found equal nodes with different coordinates"),l):(this._nodeMap.put(i,i),i)}},{key:"checkSplitEdgesCorrectness",value:function(u){var n=this._edge.getCoordinates(),i=u.get(0).getCoordinate(0);if(!i.equals2D(n[0]))throw new Gt("bad split edge start point at "+i);var l=u.get(u.size()-1).getCoordinates(),p=l[l.length-1];if(!p.equals2D(n[n.length-1]))throw new Gt("bad split edge end point at "+p)}}],[{key:"constructor_",value:function(){this._nodeMap=new Ve,this._edge=null;var u=arguments[0];this._edge=u}}])}(),Hi=function(){function u(){r(this,u)}return d(u,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];if(n===0&&i===0)throw new $("Cannot compute the octant for point ( "+n+", "+i+" )");var l=Math.abs(n),p=Math.abs(i);return n>=0?i>=0?l>=p?0:1:l>=p?7:6:i>=0?l>=p?3:2:l>=p?4:5}if(arguments[0]instanceof G&&arguments[1]instanceof G){var v=arguments[0],k=arguments[1],S=k.x-v.x,N=k.y-v.y;if(S===0&&N===0)throw new $("Cannot compute the octant for two identical points "+v);return u.octant(S,N)}}}])}(),Ul=function(){return d(function u(){r(this,u)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(u){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(u){}},{key:"getData",value:function(){}}])}(),$l=function(){return d(function u(){r(this,u)},[{key:"addIntersection",value:function(u,n){}},{key:"interfaces_",get:function(){return[Ul]}}])}(),xi=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(n){return this._pts[n]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(n){return n===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))}},{key:"setData",value:function(n){this._data=n}},{key:"safeOctant",value:function(n,i){return n.equals2D(i)?0:Hi.octant(n,i)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];this.addIntersectionNode(n,i)}else if(arguments.length===4){var l=arguments[1],p=arguments[3],v=new G(arguments[0].getIntersection(p));this.addIntersection(v,l)}}},{key:"toString",value:function(){return ks.toLineString(new Ls(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(n,i){var l=i,p=l+1;if(p<this._pts.length){var v=this._pts[p];n.equals2D(v)&&(l=p)}return this._nodeList.add(n,l)}},{key:"addIntersections",value:function(n,i,l){for(var p=0;p<n.getIntersectionNum();p++)this.addIntersection(n,i,l,p)}},{key:"interfaces_",get:function(){return[$l]}}],[{key:"constructor_",value:function(){this._nodeList=new zl(this),this._pts=null,this._data=null;var n=arguments[0],i=arguments[1];this._pts=n,this._data=i}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var n=arguments[0],i=new Ht;return u.getNodedSubstrings(n,i),i}if(arguments.length===2)for(var l=arguments[1],p=arguments[0].iterator();p.hasNext();)p.next().getNodeList().addSplitEdges(l)}}])}(),In=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof u){var n=arguments[0],i=Zt.index(this.p0,this.p1,n.p0),l=Zt.index(this.p0,this.p1,n.p1);return i>=0&&l>=0||i<=0&&l<=0?Math.max(i,l):0}if(arguments[0]instanceof G){var p=arguments[0];return Zt.index(this.p0,this.p1,p)}}},{key:"toGeometry",value:function(n){return n.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(n){if(!(n instanceof u))return!1;var i=n;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)}},{key:"intersection",value:function(n){var i=new ki;return i.computeIntersection(this.p0,this.p1,n.p0,n.p1),i.hasIntersection()?i.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof G){var n=arguments[0];if(n.equals(this.p0)||n.equals(this.p1))return new G(n);var i=this.projectionFactor(n),l=new G;return l.x=this.p0.x+i*(this.p1.x-this.p0.x),l.y=this.p0.y+i*(this.p1.y-this.p0.y),l}if(arguments[0]instanceof u){var p=arguments[0],v=this.projectionFactor(p.p0),k=this.projectionFactor(p.p1);if(v>=1&&k>=1||v<=0&&k<=0)return null;var S=this.project(p.p0);v<0&&(S=this.p0),v>1&&(S=this.p1);var N=this.project(p.p1);return k<0&&(N=this.p0),k>1&&(N=this.p1),new u(S,N)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(n){return n===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(n){return Kn.pointToLinePerpendicular(n,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return u.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,p=i*i+l*l;return p<=0?at.NaN:((n.x-this.p0.x)*i+(n.y-this.p0.y)*l)/p}},{key:"closestPoints",value:function(n){var i=this.intersection(n);if(i!==null)return[i,i];var l=new Array(2).fill(null),p=at.MAX_VALUE,v=null,k=this.closestPoint(n.p0);p=k.distance(n.p0),l[0]=k,l[1]=n.p0;var S=this.closestPoint(n.p1);(v=S.distance(n.p1))<p&&(p=v,l[0]=S,l[1]=n.p1);var N=n.closestPoint(this.p0);(v=N.distance(this.p0))<p&&(p=v,l[0]=this.p0,l[1]=N);var U=n.closestPoint(this.p1);return(v=U.distance(this.p1))<p&&(p=v,l[0]=this.p1,l[1]=U),l}},{key:"closestPoint",value:function(n){var i=this.projectionFactor(n);return i>0&&i<1?this.project(n):this.p0.distance(n)<this.p1.distance(n)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(n){var i=n,l=this.p0.compareTo(i.p0);return l!==0?l:this.p1.compareTo(i.p1)}},{key:"reverse",value:function(){var n=this.p0;this.p0=this.p1,this.p1=n}},{key:"equalsTopo",value:function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)}},{key:"lineIntersection",value:function(n){return oa.intersection(this.p0,this.p1,n.p0,n.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(n,i){var l=this.p0.x+n*(this.p1.x-this.p0.x),p=this.p0.y+n*(this.p1.y-this.p0.y),v=this.p1.x-this.p0.x,k=this.p1.y-this.p0.y,S=Math.sqrt(v*v+k*k),N=0,U=0;if(i!==0){if(S<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");N=i*v/S,U=i*k/S}return new G(l-U,p+N)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var n=arguments[0];this.setCoordinates(n.p0,n.p1)}else if(arguments.length===2){var i=arguments[0],l=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=l.x,this.p1.y=l.y}}},{key:"segmentFraction",value:function(n){var i=this.projectionFactor(n);return i<0?i=0:(i>1||at.isNaN(i))&&(i=1),i}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(n){var i=this.p1.getY()-this.p0.getY(),l=this.p0.getX()-this.p1.getX(),p=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),v=i*i+l*l,k=i*i-l*l,S=n.getX(),N=n.getY();return new G((-k*S-2*i*l*N-2*i*p)/v,(k*N-2*i*l*S-2*l*p)/v)}},{key:"distance",value:function(){if(arguments[0]instanceof u){var n=arguments[0];return Kn.segmentToSegment(this.p0,this.p1,n.p0,n.p1)}if(arguments[0]instanceof G){var i=arguments[0];return Kn.pointToSegment(i,this.p0,this.p1)}}},{key:"pointAlong",value:function(n){var i=new G;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}},{key:"hashCode",value:function(){var n=at.doubleToLongBits(this.p0.x);n^=31*at.doubleToLongBits(this.p0.y);var i=Math.trunc(n)^Math.trunc(n>>32),l=at.doubleToLongBits(this.p1.x);return l^=31*at.doubleToLongBits(this.p1.y),i^(Math.trunc(l)^Math.trunc(l>>32))}},{key:"interfaces_",get:function(){return[V,K]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)u.constructor_.call(this,new G,new G);else if(arguments.length===1){var n=arguments[0];u.constructor_.call(this,n.p0,n.p1)}else if(arguments.length===2){var i=arguments[0],l=arguments[1];this.p0=i,this.p1=l}else if(arguments.length===4){var p=arguments[0],v=arguments[1],k=arguments[2],S=arguments[3];u.constructor_.call(this,new G(p,v),new G(k,S))}}},{key:"midPoint",value:function(n,i){return new G((n.x+i.x)/2,(n.y+i.y)/2)}}])}(),Gl=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var u=arguments[1],n=arguments[2],i=arguments[3];arguments[0].getLineSegment(u,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new In,this._overlapSeg2=new In}}])}(),La=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(u,n){n.p0=this._pts[u],n.p1=this._pts[u+1]}},{key:"computeSelect",value:function(u,n,i,l){var p=this._pts[n],v=this._pts[i];if(i-n==1)return l.select(this,n),null;if(!u.intersects(p,v))return null;var k=Math.trunc((n+i)/2);n<k&&this.computeSelect(u,n,k,l),k<i&&this.computeSelect(u,k,i,l)}},{key:"getCoordinates",value:function(){for(var u=new Array(this._end-this._start+1).fill(null),n=0,i=this._start;i<=this._end;i++)u[n++]=this._pts[i];return u}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var u=arguments[0],n=arguments[1];this.computeOverlaps(this._start,this._end,u,u._start,u._end,n)}else if(arguments.length===6){var i=arguments[0],l=arguments[1],p=arguments[2],v=arguments[3],k=arguments[4],S=arguments[5];if(l-i==1&&k-v==1)return S.overlap(this,i,p,v),null;if(!this.overlaps(i,l,p,v,k))return null;var N=Math.trunc((i+l)/2),U=Math.trunc((v+k)/2);i<N&&(v<U&&this.computeOverlaps(i,N,p,v,U,S),U<k&&this.computeOverlaps(i,N,p,U,k,S)),N<l&&(v<U&&this.computeOverlaps(N,l,p,v,U,S),U<k&&this.computeOverlaps(N,l,p,U,k,S))}}},{key:"setId",value:function(u){this._id=u}},{key:"select",value:function(u,n){this.computeSelect(u,this._start,this._end,n)}},{key:"getEnvelope",value:function(){if(this._env===null){var u=this._pts[this._start],n=this._pts[this._end];this._env=new Ct(u,n)}return this._env}},{key:"overlaps",value:function(u,n,i,l,p){return Ct.intersects(this._pts[u],this._pts[n],i._pts[l],i._pts[p])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var u=arguments[0],n=arguments[1],i=arguments[2],l=arguments[3];this._pts=u,this._start=n,this._end=i,this._context=l}}])}(),qc=function(){function u(){r(this,u)}return d(u,null,[{key:"findChainEnd",value:function(n,i){for(var l=i;l<n.length-1&&n[l].equals2D(n[l+1]);)l++;if(l>=n.length-1)return n.length-1;for(var p=fn.quadrant(n[l],n[l+1]),v=i+1;v<n.length&&!(!n[v-1].equals2D(n[v])&&fn.quadrant(n[v-1],n[v])!==p);)v++;return v-1}},{key:"getChains",value:function(){if(arguments.length===1){var n=arguments[0];return u.getChains(n,null)}if(arguments.length===2){var i=arguments[0],l=arguments[1],p=new Ht,v=0;do{var k=u.findChainEnd(i,v),S=new La(i,v,k,l);p.add(S),v=k}while(v<i.length-1);return p}}}])}(),Ea=function(){return d(function u(){r(this,u)},[{key:"computeNodes",value:function(u){}},{key:"getNodedSubstrings",value:function(){}}])}(),yo=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(u){this._segInt=u}},{key:"interfaces_",get:function(){return[Ea]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this.setSegmentIntersector(u)}}}}])}(),ka=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return xi.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(i){for(var l=qc.getChains(i.getCoordinates(),i).iterator();l.hasNext();){var p=l.next();p.setId(this._idCounter++),this._index.insert(p.getEnvelope(),p),this._monoChains.add(p)}}},{key:"computeNodes",value:function(i){this._nodedSegStrings=i;for(var l=i.iterator();l.hasNext();)this.add(l.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var i=new xa(this._segInt),l=this._monoChains.iterator();l.hasNext();)for(var p=l.next(),v=this._index.query(p.getEnvelope()).iterator();v.hasNext();){var k=v.next();if(k.getId()>p.getId()&&(p.computeOverlaps(k,i),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Ht,this._index=new ci,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var i=arguments[0];yo.constructor_.call(this,i)}}}}])}(yo),xa=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"overlap",value:function(){if(arguments.length!==4)return I(n,"overlap",this,1).apply(this,arguments);var i=arguments[1],l=arguments[2],p=arguments[3],v=arguments[0].getContext(),k=l.getContext();this._si.processIntersections(v,i,k,p)}}],[{key:"constructor_",value:function(){this._si=null;var i=arguments[0];this._si=i}}])}(Gl);ka.SegmentOverlapAction=xa;var Hn=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"isDeletable",value:function(n,i,l,p){var v=this._inputLine[n],k=this._inputLine[i],S=this._inputLine[l];return!!this.isConcave(v,k,S)&&!!this.isShallow(v,k,S,p)&&this.isShallowSampled(v,k,n,l,p)}},{key:"deleteShallowConcavities",value:function(){for(var n=1,i=this.findNextNonDeletedIndex(n),l=this.findNextNonDeletedIndex(i),p=!1;l<this._inputLine.length;){var v=!1;this.isDeletable(n,i,l,this._distanceTol)&&(this._isDeleted[i]=u.DELETE,v=!0,p=!0),n=v?l:i,i=this.findNextNonDeletedIndex(n),l=this.findNextNonDeletedIndex(i)}return p}},{key:"isShallowConcavity",value:function(n,i,l,p){return Zt.index(n,i,l)===this._angleOrientation&&Kn.pointToSegment(i,n,l)<p}},{key:"isShallowSampled",value:function(n,i,l,p,v){var k=Math.trunc((p-l)/u.NUM_PTS_TO_CHECK);k<=0&&(k=1);for(var S=l;S<p;S+=k)if(!this.isShallow(n,i,this._inputLine[S],v))return!1;return!0}},{key:"isConcave",value:function(n,i,l){var p=Zt.index(n,i,l)===this._angleOrientation;return p}},{key:"simplify",value:function(n){this._distanceTol=Math.abs(n),n<0&&(this._angleOrientation=Zt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(n){for(var i=n+1;i<this._inputLine.length&&this._isDeleted[i]===u.DELETE;)i++;return i}},{key:"isShallow",value:function(n,i,l,p){return Kn.pointToSegment(i,n,l)<p}},{key:"collapseLine",value:function(){for(var n=new ws,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==u.DELETE&&n.add(this._inputLine[i]);return n.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Zt.COUNTERCLOCKWISE;var n=arguments[0];this._inputLine=n}},{key:"simplify",value:function(n,i){return new u(n).simplify(i)}}])}();Hn.INIT=0,Hn.DELETE=1,Hn.KEEP=1,Hn.NUM_PTS_TO_CHECK=10;var Cs=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getCoordinates",value:function(){return this._ptList.toArray(u.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"addPt",value:function(n){var i=new G(n);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(n,i){if(i)for(var l=0;l<n.length;l++)this.addPt(n[l]);else for(var p=n.length-1;p>=0;p--)this.addPt(n[p])}},{key:"isRedundant",value:function(n){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return n.distance(i)<this._minimimVertexDistance}},{key:"toString",value:function(){return new ai().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var n=new G(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(n.equals(i))return null;this._ptList.add(n)}},{key:"setMinimumVertexDistance",value:function(n){this._minimimVertexDistance=n}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Ht}}])}();Cs.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Ke=function(){function u(){r(this,u)}return d(u,null,[{key:"toDegrees",value:function(n){return 180*n/Math.PI}},{key:"normalize",value:function(n){for(;n>Math.PI;)n-=u.PI_TIMES_2;for(;n<=-Math.PI;)n+=u.PI_TIMES_2;return n}},{key:"angle",value:function(){if(arguments.length===1){var n=arguments[0];return Math.atan2(n.y,n.x)}if(arguments.length===2){var i=arguments[0],l=arguments[1],p=l.x-i.x,v=l.y-i.y;return Math.atan2(v,p)}}},{key:"isAcute",value:function(n,i,l){var p=n.x-i.x,v=n.y-i.y;return p*(l.x-i.x)+v*(l.y-i.y)>0}},{key:"isObtuse",value:function(n,i,l){var p=n.x-i.x,v=n.y-i.y;return p*(l.x-i.x)+v*(l.y-i.y)<0}},{key:"interiorAngle",value:function(n,i,l){var p=u.angle(i,n),v=u.angle(i,l);return Math.abs(v-p)}},{key:"normalizePositive",value:function(n){if(n<0){for(;n<0;)n+=u.PI_TIMES_2;n>=u.PI_TIMES_2&&(n=0)}else{for(;n>=u.PI_TIMES_2;)n-=u.PI_TIMES_2;n<0&&(n=0)}return n}},{key:"angleBetween",value:function(n,i,l){var p=u.angle(i,n),v=u.angle(i,l);return u.diff(p,v)}},{key:"diff",value:function(n,i){var l=null;return(l=n<i?i-n:n-i)>Math.PI&&(l=2*Math.PI-l),l}},{key:"toRadians",value:function(n){return n*Math.PI/180}},{key:"getTurn",value:function(n,i){var l=Math.sin(i-n);return l>0?u.COUNTERCLOCKWISE:l<0?u.CLOCKWISE:u.NONE}},{key:"angleBetweenOriented",value:function(n,i,l){var p=u.angle(i,n),v=u.angle(i,l)-p;return v<=-Math.PI?v+u.PI_TIMES_2:v>Math.PI?v-u.PI_TIMES_2:v}}])}();Ke.PI_TIMES_2=2*Math.PI,Ke.PI_OVER_2=Math.PI/2,Ke.PI_OVER_4=Math.PI/4,Ke.COUNTERCLOCKWISE=Zt.COUNTERCLOCKWISE,Ke.CLOCKWISE=Zt.CLOCKWISE,Ke.NONE=Zt.COLLINEAR;var Ss=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"addNextSegment",value:function(n,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=n,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var l=Zt.index(this._s0,this._s1,this._s2),p=l===Zt.CLOCKWISE&&this._side===P.LEFT||l===Zt.COUNTERCLOCKWISE&&this._side===P.RIGHT;l===0?this.addCollinear(i):p?this.addOutsideTurn(l,i):this.addInsideTurn(l,i)}},{key:"addLineEndCap",value:function(n,i){var l=new In(n,i),p=new In;this.computeOffsetSegment(l,P.LEFT,this._distance,p);var v=new In;this.computeOffsetSegment(l,P.RIGHT,this._distance,v);var k=i.x-n.x,S=i.y-n.y,N=Math.atan2(S,k);switch(this._bufParams.getEndCapStyle()){case D.CAP_ROUND:this._segList.addPt(p.p1),this.addDirectedFillet(i,N+Math.PI/2,N-Math.PI/2,Zt.CLOCKWISE,this._distance),this._segList.addPt(v.p1);break;case D.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(v.p1);break;case D.CAP_SQUARE:var U=new G;U.x=Math.abs(this._distance)*Math.cos(N),U.y=Math.abs(this._distance)*Math.sin(N);var X=new G(p.p1.x+U.x,p.p1.y+U.y),nt=new G(v.p1.x+U.x,v.p1.y+U.y);this._segList.addPt(X),this._segList.addPt(nt)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(n,i,l,p){var v=oa.intersection(i.p0,i.p1,l.p0,l.p1);if(v!==null&&(p<=0?1:v.distance(n)/Math.abs(p))<=this._bufParams.getMitreLimit())return this._segList.addPt(v),null;this.addLimitedMitreJoin(i,l,p,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(n,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*u.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===D.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===D.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,n,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(n){this._segList.addPt(new G(n.x+this._distance,n.y+this._distance)),this._segList.addPt(new G(n.x+this._distance,n.y-this._distance)),this._segList.addPt(new G(n.x-this._distance,n.y-this._distance)),this._segList.addPt(new G(n.x-this._distance,n.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(n,i){this._segList.addPts(n,i)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(n,i,l,p,v){var k=i.x-n.x,S=i.y-n.y,N=Math.atan2(S,k),U=l.x-n.x,X=l.y-n.y,nt=Math.atan2(X,U);p===Zt.CLOCKWISE?N<=nt&&(N+=2*Math.PI):N>=nt&&(N-=2*Math.PI),this._segList.addPt(i),this.addDirectedFillet(n,N,nt,p,v),this._segList.addPt(l)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(n,i,l){this._s1=n,this._s2=i,this._side=l,this._seg1.setCoordinates(n,i),this.computeOffsetSegment(this._seg1,l,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(n,i,l,p){var v=this._seg0.p1,k=Ke.angle(v,this._seg0.p0),S=Ke.angleBetweenOriented(this._seg0.p0,v,this._seg1.p1)/2,N=Ke.normalize(k+S),U=Ke.normalize(N+Math.PI),X=p*l,nt=l-X*Math.abs(Math.sin(S)),wt=v.x+X*Math.cos(U),Ft=v.y+X*Math.sin(U),Vt=new G(wt,Ft),Xt=new In(v,Vt),he=Xt.pointAlongOffset(1,nt),ae=Xt.pointAlongOffset(1,-nt);this._side===P.LEFT?(this._segList.addPt(he),this._segList.addPt(ae)):(this._segList.addPt(ae),this._segList.addPt(he))}},{key:"addDirectedFillet",value:function(n,i,l,p,v){var k=p===Zt.CLOCKWISE?-1:1,S=Math.abs(i-l),N=Math.trunc(S/this._filletAngleQuantum+.5);if(N<1)return null;for(var U=S/N,X=new G,nt=0;nt<N;nt++){var wt=i+k*nt*U;X.x=n.x+v*Math.cos(wt),X.y=n.y+v*Math.sin(wt),this._segList.addPt(X)}}},{key:"computeOffsetSegment",value:function(n,i,l,p){var v=i===P.LEFT?1:-1,k=n.p1.x-n.p0.x,S=n.p1.y-n.p0.y,N=Math.sqrt(k*k+S*S),U=v*l*k/N,X=v*l*S/N;p.p0.x=n.p0.x-X,p.p0.y=n.p0.y+U,p.p1.x=n.p1.x-X,p.p1.y=n.p1.y+U}},{key:"addInsideTurn",value:function(n,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*u.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var l=new G((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(l);var p=new G((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(n){var i=new G(n.x+this._distance,n.y);this._segList.addPt(i),this.addDirectedFillet(n,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(n,i){this._segList.addPt(n.p1),this._segList.addPt(i.p0)}},{key:"init",value:function(n){this._distance=n,this._maxCurveSegmentError=n*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Cs,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(n*u.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(n){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===D.JOIN_BEVEL||this._bufParams.getJoinStyle()===D.JOIN_MITRE?(n&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Zt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new In,this._seg1=new In,this._offset0=new In,this._offset1=new In,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],i=arguments[1],l=arguments[2];this._precisionModel=n,this._bufParams=i,this._li=new ki,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===D.JOIN_ROUND&&(this._closingSegLengthFactor=u.MAX_CLOSING_SEG_LEN_FACTOR),this.init(l)}}])}();Ss.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ss.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ss.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ss.MAX_CLOSING_SEG_LEN_FACTOR=80;var Is=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getOffsetCurve",value:function(n,i){if(this._distance=i,i===0)return null;var l=i<0,p=Math.abs(i),v=this.getSegGen(p);n.length<=1?this.computePointCurve(n[0],v):this.computeOffsetCurve(n,l,v);var k=v.getCoordinates();return l&&We.reverse(k),k}},{key:"computeSingleSidedBufferCurve",value:function(n,i,l){var p=this.simplifyTolerance(this._distance);if(i){l.addSegments(n,!0);var v=Hn.simplify(n,-p),k=v.length-1;l.initSideSegments(v[k],v[k-1],P.LEFT),l.addFirstSegment();for(var S=k-2;S>=0;S--)l.addNextSegment(v[S],!0)}else{l.addSegments(n,!1);var N=Hn.simplify(n,p),U=N.length-1;l.initSideSegments(N[0],N[1],P.LEFT),l.addFirstSegment();for(var X=2;X<=U;X++)l.addNextSegment(N[X],!0)}l.addLastSegment(),l.closeRing()}},{key:"computeRingBufferCurve",value:function(n,i,l){var p=this.simplifyTolerance(this._distance);i===P.RIGHT&&(p=-p);var v=Hn.simplify(n,p),k=v.length-1;l.initSideSegments(v[k-1],v[0],i);for(var S=1;S<=k;S++){var N=S!==1;l.addNextSegment(v[S],N)}l.closeRing()}},{key:"computeLineBufferCurve",value:function(n,i){var l=this.simplifyTolerance(this._distance),p=Hn.simplify(n,l),v=p.length-1;i.initSideSegments(p[0],p[1],P.LEFT);for(var k=2;k<=v;k++)i.addNextSegment(p[k],!0);i.addLastSegment(),i.addLineEndCap(p[v-1],p[v]);var S=Hn.simplify(n,-l),N=S.length-1;i.initSideSegments(S[N],S[N-1],P.LEFT);for(var U=N-2;U>=0;U--)i.addNextSegment(S[U],!0);i.addLastSegment(),i.addLineEndCap(S[1],S[0]),i.closeRing()}},{key:"computePointCurve",value:function(n,i){switch(this._bufParams.getEndCapStyle()){case D.CAP_ROUND:i.createCircle(n);break;case D.CAP_SQUARE:i.createSquare(n)}}},{key:"getLineCurve",value:function(n,i){if(this._distance=i,this.isLineOffsetEmpty(i))return null;var l=Math.abs(i),p=this.getSegGen(l);if(n.length<=1)this.computePointCurve(n[0],p);else if(this._bufParams.isSingleSided()){var v=i<0;this.computeSingleSidedBufferCurve(n,v,p)}else this.computeLineBufferCurve(n,p);return p.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(n){return n*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(n,i,l){if(this._distance=l,n.length<=2)return this.getLineCurve(n,l);if(l===0)return u.copyCoordinates(n);var p=this.getSegGen(l);return this.computeRingBufferCurve(n,i,p),p.getCoordinates()}},{key:"computeOffsetCurve",value:function(n,i,l){var p=this.simplifyTolerance(this._distance);if(i){var v=Hn.simplify(n,-p),k=v.length-1;l.initSideSegments(v[k],v[k-1],P.LEFT),l.addFirstSegment();for(var S=k-2;S>=0;S--)l.addNextSegment(v[S],!0)}else{var N=Hn.simplify(n,p),U=N.length-1;l.initSideSegments(N[0],N[1],P.LEFT),l.addFirstSegment();for(var X=2;X<=U;X++)l.addNextSegment(N[X],!0)}l.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(n){return n===0||n<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(n){return new Ss(this._precisionModel,this._bufParams,n)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var n=arguments[0],i=arguments[1];this._precisionModel=n,this._bufParams=i}},{key:"copyCoordinates",value:function(n){for(var i=new Array(n.length).fill(null),l=0;l<i.length;l++)i[l]=new G(n[l]);return i}}])}(),Pn=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var u=arguments[0],n=new Ht,i=this._subgraphs.iterator();i.hasNext();){var l=i.next(),p=l.getEnvelope();u.y<p.getMinY()||u.y>p.getMaxY()||this.findStabbedSegments(u,l.getDirectedEdges(),n)}return n}if(arguments.length===3){if(W(arguments[2],Rt)&&arguments[0]instanceof G&&arguments[1]instanceof ya){for(var v=arguments[0],k=arguments[1],S=arguments[2],N=k.getEdge().getCoordinates(),U=0;U<N.length-1;U++)if(this._seg.p0=N[U],this._seg.p1=N[U+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<v.x||this._seg.isHorizontal()||v.y<this._seg.p0.y||v.y>this._seg.p1.y||Zt.index(this._seg.p0,this._seg.p1,v)===Zt.RIGHT)){var X=k.getDepth(P.LEFT);this._seg.p0.equals(N[U])||(X=k.getDepth(P.RIGHT));var nt=new Ta(this._seg,X);S.add(nt)}}else if(W(arguments[2],Rt)&&arguments[0]instanceof G&&W(arguments[1],Rt))for(var wt=arguments[0],Ft=arguments[2],Vt=arguments[1].iterator();Vt.hasNext();){var Xt=Vt.next();Xt.isForward()&&this.findStabbedSegments(wt,Xt,Ft)}}}},{key:"getDepth",value:function(u){var n=this.findStabbedSegments(u);return n.size()===0?0:hr.min(n)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new In;var u=arguments[0];this._subgraphs=u}}])}(),Ta=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(u){var n=u;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(n._upwardSeg);return i!==0||(i=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?i:this._upwardSeg.compareTo(n._upwardSeg)}},{key:"compareX",value:function(u,n){var i=u.p0.compareTo(n.p0);return i!==0?i:u.p1.compareTo(n.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var u=arguments[0],n=arguments[1];this._upwardSeg=new In(u),this._leftDepth=n}}])}();Pn.DepthSegment=Ta;var Ca=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,null,[{key:"constructor_",value:function(){B.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(B),Sa=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getY",value:function(){var n=this.y/this.w;if(at.isNaN(n)||at.isInfinite(n))throw new Ca;return n}},{key:"getX",value:function(){var n=this.x/this.w;if(at.isNaN(n)||at.isInfinite(n))throw new Ca;return n}},{key:"getCoordinate",value:function(){var n=new G;return n.x=this.getX(),n.y=this.getY(),n}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],l=arguments[1];this.x=i,this.y=l,this.w=1}else if(arguments[0]instanceof u&&arguments[1]instanceof u){var p=arguments[0],v=arguments[1];this.x=p.y*v.w-v.y*p.w,this.y=v.x*p.w-p.x*v.w,this.w=p.x*v.y-v.x*p.y}else if(arguments[0]instanceof G&&arguments[1]instanceof G){var k=arguments[0],S=arguments[1];this.x=k.y-S.y,this.y=S.x-k.x,this.w=k.x*S.y-S.x*k.y}}else if(arguments.length===3){var N=arguments[0],U=arguments[1],X=arguments[2];this.x=N,this.y=U,this.w=X}else if(arguments.length===4){var nt=arguments[0],wt=arguments[1],Ft=arguments[2],Vt=arguments[3],Xt=nt.y-wt.y,he=wt.x-nt.x,ae=nt.x*wt.y-wt.x*nt.y,Te=Ft.y-Vt.y,$e=Vt.x-Ft.x,sn=Ft.x*Vt.y-Vt.x*Ft.y;this.x=he*sn-$e*ae,this.y=Te*ae-Xt*sn,this.w=Xt*$e-Te*he}}}])}(),Ia=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"area",value:function(){return u.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return u.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(n){if(n===null)throw new $("Supplied point is null.");return u.interpolateZ(n,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return u.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return u.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return u.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return u.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return u.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return u.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var n=arguments[0],i=arguments[1],l=arguments[2];this.p0=n,this.p1=i,this.p2=l}},{key:"area",value:function(n,i,l){return Math.abs(((l.x-n.x)*(i.y-n.y)-(i.x-n.x)*(l.y-n.y))/2)}},{key:"signedArea",value:function(n,i,l){return((l.x-n.x)*(i.y-n.y)-(i.x-n.x)*(l.y-n.y))/2}},{key:"det",value:function(n,i,l,p){return n*p-i*l}},{key:"interpolateZ",value:function(n,i,l,p){var v=i.x,k=i.y,S=l.x-v,N=p.x-v,U=l.y-k,X=p.y-k,nt=S*X-N*U,wt=n.x-v,Ft=n.y-k,Vt=(X*wt-N*Ft)/nt,Xt=(-U*wt+S*Ft)/nt;return i.getZ()+Vt*(l.getZ()-i.getZ())+Xt*(p.getZ()-i.getZ())}},{key:"longestSideLength",value:function(n,i,l){var p=n.distance(i),v=i.distance(l),k=l.distance(n),S=p;return v>S&&(S=v),k>S&&(S=k),S}},{key:"circumcentreDD",value:function(n,i,l){var p=Nt.valueOf(n.x).subtract(l.x),v=Nt.valueOf(n.y).subtract(l.y),k=Nt.valueOf(i.x).subtract(l.x),S=Nt.valueOf(i.y).subtract(l.y),N=Nt.determinant(p,v,k,S).multiply(2),U=p.sqr().add(v.sqr()),X=k.sqr().add(S.sqr()),nt=Nt.determinant(v,U,S,X),wt=Nt.determinant(p,U,k,X),Ft=Nt.valueOf(l.x).subtract(nt.divide(N)).doubleValue(),Vt=Nt.valueOf(l.y).add(wt.divide(N)).doubleValue();return new G(Ft,Vt)}},{key:"isAcute",value:function(n,i,l){return!!Ke.isAcute(n,i,l)&&!!Ke.isAcute(i,l,n)&&!!Ke.isAcute(l,n,i)}},{key:"circumcentre",value:function(n,i,l){var p=l.x,v=l.y,k=n.x-p,S=n.y-v,N=i.x-p,U=i.y-v,X=2*u.det(k,S,N,U),nt=u.det(S,k*k+S*S,U,N*N+U*U),wt=u.det(k,k*k+S*S,N,N*N+U*U);return new G(p-nt/X,v+wt/X)}},{key:"perpendicularBisector",value:function(n,i){var l=i.x-n.x,p=i.y-n.y,v=new Sa(n.x+l/2,n.y+p/2,1),k=new Sa(n.x-p+l/2,n.y+l+p/2,1);return new Sa(v,k)}},{key:"angleBisector",value:function(n,i,l){var p=i.distance(n),v=p/(p+i.distance(l)),k=l.x-n.x,S=l.y-n.y;return new G(n.x+v*k,n.y+v*S)}},{key:"area3D",value:function(n,i,l){var p=i.x-n.x,v=i.y-n.y,k=i.getZ()-n.getZ(),S=l.x-n.x,N=l.y-n.y,U=l.getZ()-n.getZ(),X=v*U-k*N,nt=k*S-p*U,wt=p*N-v*S,Ft=X*X+nt*nt+wt*wt,Vt=Math.sqrt(Ft)/2;return Vt}},{key:"centroid",value:function(n,i,l){var p=(n.x+i.x+l.x)/3,v=(n.y+i.y+l.y)/3;return new G(p,v)}},{key:"inCentre",value:function(n,i,l){var p=i.distance(l),v=n.distance(l),k=n.distance(i),S=p+v+k,N=(p*n.x+v*i.x+k*l.x)/S,U=(p*n.y+v*i.y+k*l.y)/S;return new G(N,U)}}])}(),Pa=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(u,n,i,l,p){if(n===0&&u.length<oi.MINIMUM_VALID_SIZE)return null;var v=l,k=p;u.length>=oi.MINIMUM_VALID_SIZE&&Zt.isCCW(u)&&(v=p,k=l,i=P.opposite(i));var S=this._curveBuilder.getRingCurve(u,i,n);this.addCurve(S,v,k)}},{key:"addRingBothSides",value:function(u,n){this.addRingSide(u,n,P.LEFT,C.EXTERIOR,C.INTERIOR),this.addRingSide(u,n,P.RIGHT,C.INTERIOR,C.EXTERIOR)}},{key:"addPoint",value:function(u){if(this._distance<=0)return null;var n=u.getCoordinates(),i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,C.EXTERIOR,C.INTERIOR)}},{key:"addPolygon",value:function(u){var n=this._distance,i=P.LEFT;this._distance<0&&(n=-this._distance,i=P.RIGHT);var l=u.getExteriorRing(),p=We.removeRepeatedPoints(l.getCoordinates());if(this._distance<0&&this.isErodedCompletely(l,this._distance)||this._distance<=0&&p.length<3)return null;this.addRingSide(p,n,i,C.EXTERIOR,C.INTERIOR);for(var v=0;v<u.getNumInteriorRing();v++){var k=u.getInteriorRingN(v),S=We.removeRepeatedPoints(k.getCoordinates());this._distance>0&&this.isErodedCompletely(k,-this._distance)||this.addRingSide(S,n,P.opposite(i),C.INTERIOR,C.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(u,n){var i=new Ia(u[0],u[1],u[2]),l=i.inCentre();return Kn.pointToSegment(l,i.p0,i.p1)<Math.abs(n)}},{key:"addLineString",value:function(u){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var n=We.removeRepeatedPoints(u.getCoordinates());if(We.isRing(n)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(n,this._distance);else{var i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,C.EXTERIOR,C.INTERIOR)}}},{key:"addCurve",value:function(u,n,i){if(u===null||u.length<2)return null;var l=new xi(u,new kn(0,C.BOUNDARY,n,i));this._curveList.add(l)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(u){if(u.isEmpty())return null;if(u instanceof bs)this.addPolygon(u);else if(u instanceof ys)this.addLineString(u);else if(u instanceof la)this.addPoint(u);else if(u instanceof so)this.addCollection(u);else if(u instanceof uo)this.addCollection(u);else if(u instanceof fa)this.addCollection(u);else{if(!(u instanceof vn))throw new dt(u.getGeometryType());this.addCollection(u)}}},{key:"isErodedCompletely",value:function(u,n){var i=u.getCoordinates();if(i.length<4)return n<0;if(i.length===4)return this.isTriangleErodedCompletely(i,n);var l=u.getEnvelopeInternal(),p=Math.min(l.getHeight(),l.getWidth());return n<0&&2*Math.abs(n)>p}},{key:"addCollection",value:function(u){for(var n=0;n<u.getNumGeometries();n++){var i=u.getGeometryN(n);this.add(i)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Ht;var u=arguments[0],n=arguments[1],i=arguments[2];this._inputGeom=u,this._distance=n,this._curveBuilder=i}}])}(),Zc=function(){return d(function u(){r(this,u)},[{key:"locate",value:function(u){}}])}(),Wc=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,u.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new J;var n=this._parent.getGeometryN(this._index++);return n instanceof vn?(this._subcollectionIterator=new u(n),this._subcollectionIterator.next()):n}},{key:"remove",value:function(){throw new dt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Vc]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var n=arguments[0];this._parent=n,this._atStart=!0,this._index=0,this._max=n.getNumGeometries()}},{key:"isAtomic",value:function(n){return!(n instanceof vn)}}])}(),Hl=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"locate",value:function(n){return u.locate(n,this._geom)}},{key:"interfaces_",get:function(){return[Zc]}}],[{key:"constructor_",value:function(){this._geom=null;var n=arguments[0];this._geom=n}},{key:"locatePointInPolygon",value:function(n,i){if(i.isEmpty())return C.EXTERIOR;var l=i.getExteriorRing(),p=u.locatePointInRing(n,l);if(p!==C.INTERIOR)return p;for(var v=0;v<i.getNumInteriorRing();v++){var k=i.getInteriorRingN(v),S=u.locatePointInRing(n,k);if(S===C.BOUNDARY)return C.BOUNDARY;if(S===C.INTERIOR)return C.EXTERIOR}return C.INTERIOR}},{key:"locatePointInRing",value:function(n,i){return i.getEnvelopeInternal().intersects(n)?Br.locateInRing(n,i.getCoordinates()):C.EXTERIOR}},{key:"containsPointInPolygon",value:function(n,i){return C.EXTERIOR!==u.locatePointInPolygon(n,i)}},{key:"locateInGeometry",value:function(n,i){if(i instanceof bs)return u.locatePointInPolygon(n,i);if(i instanceof vn)for(var l=new Wc(i);l.hasNext();){var p=l.next();if(p!==i){var v=u.locateInGeometry(n,p);if(v!==C.EXTERIOR)return v}}return C.EXTERIOR}},{key:"isContained",value:function(n,i){return C.EXTERIOR!==u.locate(n,i)}},{key:"locate",value:function(n,i){return i.isEmpty()?C.EXTERIOR:i.getEnvelopeInternal().intersects(n)?u.locateInGeometry(n,i):C.EXTERIOR}}])}(),Yc=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(u){this.getEdges();var n=this._edgeList.indexOf(u),i=n-1;return n===0&&(i=this._edgeList.size()-1),this._edgeList.get(i)}},{key:"propagateSideLabels",value:function(u){for(var n=C.NONE,i=this.iterator();i.hasNext();){var l=i.next().getLabel();l.isArea(u)&&l.getLocation(u,P.LEFT)!==C.NONE&&(n=l.getLocation(u,P.LEFT))}if(n===C.NONE)return null;for(var p=n,v=this.iterator();v.hasNext();){var k=v.next(),S=k.getLabel();if(S.getLocation(u,P.ON)===C.NONE&&S.setLocation(u,P.ON,p),S.isArea(u)){var N=S.getLocation(u,P.LEFT),U=S.getLocation(u,P.RIGHT);if(U!==C.NONE){if(U!==p)throw new un("side location conflict",k.getCoordinate());N===C.NONE&&It.shouldNeverReachHere("found single null side (at "+k.getCoordinate()+")"),p=N}else It.isTrue(S.getLocation(u,P.LEFT)===C.NONE,"found single null side"),S.setLocation(u,P.RIGHT,p),S.setLocation(u,P.LEFT,p)}}}},{key:"getCoordinate",value:function(){var u=this.iterator();return u.hasNext()?u.next().getCoordinate():null}},{key:"print",value:function(u){Gn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(u)}},{key:"isAreaLabelsConsistent",value:function(u){return this.computeEdgeEndLabels(u.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(u){var n=this.getEdges();if(n.size()<=0)return!0;var i=n.size()-1,l=n.get(i).getLabel().getLocation(u,P.LEFT);It.isTrue(l!==C.NONE,"Found unlabelled area edge");for(var p=l,v=this.iterator();v.hasNext();){var k=v.next().getLabel();It.isTrue(k.isArea(u),"Found non-area edge");var S=k.getLocation(u,P.LEFT),N=k.getLocation(u,P.RIGHT);if(S===N||N!==p)return!1;p=S}return!0}},{key:"findIndex",value:function(u){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===u)return n;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Ht(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(u,n,i){return this._ptInAreaLocation[u]===C.NONE&&(this._ptInAreaLocation[u]=Hl.locate(n,i[u].getGeometry())),this._ptInAreaLocation[u]}},{key:"toString",value:function(){var u=new ct;u.append("EdgeEndStar:   "+this.getCoordinate()),u.append(`
`);for(var n=this.iterator();n.hasNext();){var i=n.next();u.append(i),u.append(`
`)}return u.toString()}},{key:"computeEdgeEndLabels",value:function(u){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(u)}},{key:"computeLabelling",value:function(u){this.computeEdgeEndLabels(u[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],i=this.iterator();i.hasNext();)for(var l=i.next().getLabel(),p=0;p<2;p++)l.isLine(p)&&l.getLocation(p)===C.BOUNDARY&&(n[p]=!0);for(var v=this.iterator();v.hasNext();)for(var k=v.next(),S=k.getLabel(),N=0;N<2;N++)if(S.isAnyNull(N)){var U=C.NONE;if(n[N])U=C.EXTERIOR;else{var X=k.getCoordinate();U=this.getLocation(N,X,u)}S.setAllLocationsIfNull(N,U)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(u,n){this._edgeMap.put(u,n),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Ve,this._edgeList=null,this._ptInAreaLocation=[C.NONE,C.NONE]}}])}(),Qn=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var i=null,l=null,p=this._SCANNING_FOR_INCOMING,v=0;v<this._resultAreaEdgeList.size();v++){var k=this._resultAreaEdgeList.get(v),S=k.getSym();if(k.getLabel().isArea())switch(i===null&&k.isInResult()&&(i=k),p){case this._SCANNING_FOR_INCOMING:if(!S.isInResult())continue;l=S,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!k.isInResult())continue;l.setNext(k),p=this._SCANNING_FOR_INCOMING}}if(p===this._LINKING_TO_OUTGOING){if(i===null)throw new un("no outgoing dirEdge found",this.getCoordinate());It.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),l.setNext(i)}}},{key:"insert",value:function(i){var l=i;this.insertEdgeEnd(l,l)}},{key:"getRightmostEdge",value:function(){var i=this.getEdges(),l=i.size();if(l<1)return null;var p=i.get(0);if(l===1)return p;var v=i.get(l-1),k=p.getQuadrant(),S=v.getQuadrant();return fn.isNorthern(k)&&fn.isNorthern(S)?p:fn.isNorthern(k)||fn.isNorthern(S)?p.getDy()!==0?p:v.getDy()!==0?v:(It.shouldNeverReachHere("found two horizontal edges incident on node"),null):v}},{key:"print",value:function(i){Gn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var l=this.iterator();l.hasNext();){var p=l.next();i.print("out "),p.print(i),i.println(),i.print("in "),p.getSym().print(i),i.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Ht;for(var i=this.iterator();i.hasNext();){var l=i.next();(l.isInResult()||l.getSym().isInResult())&&this._resultAreaEdgeList.add(l)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(i){for(var l=this.iterator();l.hasNext();){var p=l.next().getLabel();p.setAllLocationsIfNull(0,i.getLocation(0)),p.setAllLocationsIfNull(1,i.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var i=null,l=null,p=this._edgeList.size()-1;p>=0;p--){var v=this._edgeList.get(p),k=v.getSym();l===null&&(l=k),i!==null&&k.setNext(i),i=v}l.setNext(i)}},{key:"computeDepths",value:function(){if(arguments.length===1){var i=arguments[0],l=this.findIndex(i),p=i.getDepth(P.LEFT),v=i.getDepth(P.RIGHT),k=this.computeDepths(l+1,this._edgeList.size(),p);if(this.computeDepths(0,l,k)!==v)throw new un("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var S=arguments[1],N=arguments[2],U=arguments[0];U<S;U++){var X=this._edgeList.get(U);X.setEdgeDepths(P.RIGHT,N),N=X.getDepth(P.LEFT)}return N}}},{key:"mergeSymLabels",value:function(){for(var i=this.iterator();i.hasNext();){var l=i.next();l.getLabel().merge(l.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(i){for(var l=null,p=null,v=this._SCANNING_FOR_INCOMING,k=this._resultAreaEdgeList.size()-1;k>=0;k--){var S=this._resultAreaEdgeList.get(k),N=S.getSym();switch(l===null&&S.getEdgeRing()===i&&(l=S),v){case this._SCANNING_FOR_INCOMING:if(N.getEdgeRing()!==i)continue;p=N,v=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(S.getEdgeRing()!==i)continue;p.setNextMin(S),v=this._SCANNING_FOR_INCOMING}}v===this._LINKING_TO_OUTGOING&&(It.isTrue(l!==null,"found null for first outgoing dirEdge"),It.isTrue(l.getEdgeRing()===i,"unable to link last incoming dirEdge"),p.setNextMin(l))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var i=0,l=this.iterator();l.hasNext();)l.next().isInResult()&&i++;return i}if(arguments.length===1){for(var p=arguments[0],v=0,k=this.iterator();k.hasNext();)k.next().getEdgeRing()===p&&v++;return v}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var i=C.NONE,l=this.iterator();l.hasNext();){var p=l.next(),v=p.getSym();if(!p.isLineEdge()){if(p.isInResult()){i=C.INTERIOR;break}if(v.isInResult()){i=C.EXTERIOR;break}}}if(i===C.NONE)return null;for(var k=i,S=this.iterator();S.hasNext();){var N=S.next(),U=N.getSym();N.isLineEdge()?N.getEdge().setCovered(k===C.INTERIOR):(N.isInResult()&&(k=C.EXTERIOR),U.isInResult()&&(k=C.INTERIOR))}}},{key:"computeLabelling",value:function(i){I(n,"computeLabelling",this,1).call(this,i),this._label=new kn(C.NONE);for(var l=this.iterator();l.hasNext();)for(var p=l.next().getEdge().getLabel(),v=0;v<2;v++){var k=p.getLocation(v);k!==C.INTERIOR&&k!==C.BOUNDARY||this._label.setLocation(v,C.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Yc),zr=function(u){function n(){return r(this,n),a(this,n)}return b(n,u),d(n,[{key:"createNode",value:function(i){return new xs(i,new Qn)}}])}(ba),Vl=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"compareTo",value:function(n){var i=n;return u.compareOriented(this._pts,this._orientation,i._pts,i._orientation)}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=u.orientation(n)}},{key:"orientation",value:function(n){return We.increasingDirection(n)===1}},{key:"compareOriented",value:function(n,i,l,p){for(var v=i?1:-1,k=p?1:-1,S=i?n.length:-1,N=p?l.length:-1,U=i?0:n.length-1,X=p?0:l.length-1;;){var nt=n[U].compareTo(l[X]);if(nt!==0)return nt;var wt=(U+=v)===S,Ft=(X+=k)===N;if(wt&&!Ft)return-1;if(!wt&&Ft)return 1;if(wt&&Ft)return 0}}}])}(),Ti=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"print",value:function(u){u.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n);n>0&&u.print(","),u.print("(");for(var l=i.getCoordinates(),p=0;p<l.length;p++)p>0&&u.print(","),u.print(l[p].x+" "+l[p].y);u.println(")")}u.print(")  ")}},{key:"addAll",value:function(u){for(var n=u.iterator();n.hasNext();)this.add(n.next())}},{key:"findEdgeIndex",value:function(u){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(u))return n;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(u){return this._edges.get(u)}},{key:"findEqualEdge",value:function(u){var n=new Vl(u.getCoordinates());return this._ocaMap.get(n)}},{key:"add",value:function(u){this._edges.add(u);var n=new Vl(u.getCoordinates());this._ocaMap.put(n,u)}}],[{key:"constructor_",value:function(){this._edges=new Ht,this._ocaMap=new Ve}}])}(),ql=function(){return d(function u(){r(this,u)},[{key:"processIntersections",value:function(u,n,i,l){}},{key:"isDone",value:function(){}}])}(),Ur=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"isTrivialIntersection",value:function(n,i,l,p){if(n===l&&this._li.getIntersectionNum()===1){if(u.isAdjacentSegments(i,p))return!0;if(n.isClosed()){var v=n.size()-1;if(i===0&&p===v||p===0&&i===v)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(n,i,l,p){if(n===l&&i===p)return null;this.numTests++;var v=n.getCoordinates()[i],k=n.getCoordinates()[i+1],S=l.getCoordinates()[p],N=l.getCoordinates()[p+1];this._li.computeIntersection(v,k,S,N),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(n,i,l,p)||(this._hasIntersection=!0,n.addIntersections(this._li,i,0),l.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[ql]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var n=arguments[0];this._li=n}},{key:"isAdjacentSegments",value:function(n,i){return Math.abs(n-i)===1}}])}(),jc=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex),u.println(" dist = "+this.dist)}},{key:"compareTo",value:function(u){var n=u;return this.compare(n.segmentIndex,n.dist)}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===u}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(u,n){return this.segmentIndex<u?-1:this.segmentIndex>u?1:this.dist<n?-1:this.dist>n?1:0}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var u=arguments[0],n=arguments[1],i=arguments[2];this.coord=new G(u),this.segmentIndex=n,this.dist=i}}])}(),Ps=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"print",value:function(u){u.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(u)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var l=n.next(),p=this.createSplitEdge(i,l);u.add(p),i=l}}},{key:"addEndpoints",value:function(){var u=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[u],u,0)}},{key:"createSplitEdge",value:function(u,n){var i=n.segmentIndex-u.segmentIndex+2,l=this.edge.pts[n.segmentIndex],p=n.dist>0||!n.coord.equals2D(l);p||i--;var v=new Array(i).fill(null),k=0;v[k++]=new G(u.coord);for(var S=u.segmentIndex+1;S<=n.segmentIndex;S++)v[k++]=this.edge.pts[S];return p&&(v[k]=n.coord),new Wl(v,new kn(this.edge._label))}},{key:"add",value:function(u,n,i){var l=new jc(u,n,i),p=this._nodeMap.get(l);return p!==null?p:(this._nodeMap.put(l,l),l)}},{key:"isIntersection",value:function(u){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(u))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Ve,this.edge=null;var u=arguments[0];this.edge=u}}])}(),Zl=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])||u.isTrue(this._matrix[C.INTERIOR][C.BOUNDARY])||u.isTrue(this._matrix[C.BOUNDARY][C.INTERIOR])||u.isTrue(this._matrix[C.BOUNDARY][C.BOUNDARY]))&&this._matrix[C.EXTERIOR][C.INTERIOR]===Ot.FALSE&&this._matrix[C.EXTERIOR][C.BOUNDARY]===Ot.FALSE}},{key:"isCoveredBy",value:function(){return(u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])||u.isTrue(this._matrix[C.INTERIOR][C.BOUNDARY])||u.isTrue(this._matrix[C.BOUNDARY][C.INTERIOR])||u.isTrue(this._matrix[C.BOUNDARY][C.BOUNDARY]))&&this._matrix[C.INTERIOR][C.EXTERIOR]===Ot.FALSE&&this._matrix[C.BOUNDARY][C.EXTERIOR]===Ot.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<n.length;i++){var l=Math.trunc(i/3),p=i%3;this._matrix[l][p]=Ot.toDimensionValue(n.charAt(i))}else if(arguments.length===3){var v=arguments[0],k=arguments[1],S=arguments[2];this._matrix[v][k]=S}}},{key:"isContains",value:function(){return u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&this._matrix[C.EXTERIOR][C.INTERIOR]===Ot.FALSE&&this._matrix[C.EXTERIOR][C.BOUNDARY]===Ot.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<n.length;i++){var l=Math.trunc(i/3),p=i%3;this.setAtLeast(l,p,Ot.toDimensionValue(n.charAt(i)))}else if(arguments.length===3){var v=arguments[0],k=arguments[1],S=arguments[2];this._matrix[v][k]<S&&(this._matrix[v][k]=S)}}},{key:"setAtLeastIfValid",value:function(n,i,l){n>=0&&i>=0&&this.setAtLeast(n,i,l)}},{key:"isWithin",value:function(){return u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&this._matrix[C.INTERIOR][C.EXTERIOR]===Ot.FALSE&&this._matrix[C.BOUNDARY][C.EXTERIOR]===Ot.FALSE}},{key:"isTouches",value:function(n,i){return n>i?this.isTouches(i,n):(n===Ot.A&&i===Ot.A||n===Ot.L&&i===Ot.L||n===Ot.L&&i===Ot.A||n===Ot.P&&i===Ot.A||n===Ot.P&&i===Ot.L)&&this._matrix[C.INTERIOR][C.INTERIOR]===Ot.FALSE&&(u.isTrue(this._matrix[C.INTERIOR][C.BOUNDARY])||u.isTrue(this._matrix[C.BOUNDARY][C.INTERIOR])||u.isTrue(this._matrix[C.BOUNDARY][C.BOUNDARY]))}},{key:"isOverlaps",value:function(n,i){return n===Ot.P&&i===Ot.P||n===Ot.A&&i===Ot.A?u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&u.isTrue(this._matrix[C.INTERIOR][C.EXTERIOR])&&u.isTrue(this._matrix[C.EXTERIOR][C.INTERIOR]):n===Ot.L&&i===Ot.L&&this._matrix[C.INTERIOR][C.INTERIOR]===1&&u.isTrue(this._matrix[C.INTERIOR][C.EXTERIOR])&&u.isTrue(this._matrix[C.EXTERIOR][C.INTERIOR])}},{key:"isEquals",value:function(n,i){return n===i&&u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&this._matrix[C.INTERIOR][C.EXTERIOR]===Ot.FALSE&&this._matrix[C.BOUNDARY][C.EXTERIOR]===Ot.FALSE&&this._matrix[C.EXTERIOR][C.INTERIOR]===Ot.FALSE&&this._matrix[C.EXTERIOR][C.BOUNDARY]===Ot.FALSE}},{key:"toString",value:function(){for(var n=new lo("123456789"),i=0;i<3;i++)for(var l=0;l<3;l++)n.setCharAt(3*i+l,Ot.toDimensionSymbol(this._matrix[i][l]));return n.toString()}},{key:"setAll",value:function(n){for(var i=0;i<3;i++)for(var l=0;l<3;l++)this._matrix[i][l]=n}},{key:"get",value:function(n,i){return this._matrix[n][i]}},{key:"transpose",value:function(){var n=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=n,n=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=n,n=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=n,this}},{key:"matches",value:function(n){if(n.length!==9)throw new $("Should be length 9: "+n);for(var i=0;i<3;i++)for(var l=0;l<3;l++)if(!u.matches(this._matrix[i][l],n.charAt(3*i+l)))return!1;return!0}},{key:"add",value:function(n){for(var i=0;i<3;i++)for(var l=0;l<3;l++)this.setAtLeast(i,l,n.get(i,l))}},{key:"isDisjoint",value:function(){return this._matrix[C.INTERIOR][C.INTERIOR]===Ot.FALSE&&this._matrix[C.INTERIOR][C.BOUNDARY]===Ot.FALSE&&this._matrix[C.BOUNDARY][C.INTERIOR]===Ot.FALSE&&this._matrix[C.BOUNDARY][C.BOUNDARY]===Ot.FALSE}},{key:"isCrosses",value:function(n,i){return n===Ot.P&&i===Ot.L||n===Ot.P&&i===Ot.A||n===Ot.L&&i===Ot.A?u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&u.isTrue(this._matrix[C.INTERIOR][C.EXTERIOR]):n===Ot.L&&i===Ot.P||n===Ot.A&&i===Ot.P||n===Ot.A&&i===Ot.L?u.isTrue(this._matrix[C.INTERIOR][C.INTERIOR])&&u.isTrue(this._matrix[C.EXTERIOR][C.INTERIOR]):n===Ot.L&&i===Ot.L&&this._matrix[C.INTERIOR][C.INTERIOR]===0}},{key:"interfaces_",get:function(){return[ot]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Ot.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var n=arguments[0];u.constructor_.call(this),this.set(n)}else if(arguments[0]instanceof u){var i=arguments[0];u.constructor_.call(this),this._matrix[C.INTERIOR][C.INTERIOR]=i._matrix[C.INTERIOR][C.INTERIOR],this._matrix[C.INTERIOR][C.BOUNDARY]=i._matrix[C.INTERIOR][C.BOUNDARY],this._matrix[C.INTERIOR][C.EXTERIOR]=i._matrix[C.INTERIOR][C.EXTERIOR],this._matrix[C.BOUNDARY][C.INTERIOR]=i._matrix[C.BOUNDARY][C.INTERIOR],this._matrix[C.BOUNDARY][C.BOUNDARY]=i._matrix[C.BOUNDARY][C.BOUNDARY],this._matrix[C.BOUNDARY][C.EXTERIOR]=i._matrix[C.BOUNDARY][C.EXTERIOR],this._matrix[C.EXTERIOR][C.INTERIOR]=i._matrix[C.EXTERIOR][C.INTERIOR],this._matrix[C.EXTERIOR][C.BOUNDARY]=i._matrix[C.EXTERIOR][C.BOUNDARY],this._matrix[C.EXTERIOR][C.EXTERIOR]=i._matrix[C.EXTERIOR][C.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var n=arguments[0],i=arguments[1];return i===Ot.SYM_DONTCARE||i===Ot.SYM_TRUE&&(n>=0||n===Ot.TRUE)||i===Ot.SYM_FALSE&&n===Ot.FALSE||i===Ot.SYM_P&&n===Ot.P||i===Ot.SYM_L&&n===Ot.L||i===Ot.SYM_A&&n===Ot.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var l=arguments[1];return new u(arguments[0]).matches(l)}}},{key:"isTrue",value:function(n){return n>=0||n===Ot.TRUE}}])}(),bo=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(n){return n===null||n.length===0?null:(this.ensureCapacity(this._size+n.length),Gn.arraycopy(n,0,this._data,this._size,n.length),void(this._size+=n.length))}},{key:"ensureCapacity",value:function(n){if(n<=this._data.length)return null;var i=Math.max(n,2*this._data.length);this._data=cn.copyOf(this._data,i)}},{key:"toArray",value:function(){var n=new Array(this._size).fill(null);return Gn.arraycopy(this._data,0,n,0,this._size),n}},{key:"add",value:function(n){this.ensureCapacity(this._size+1),this._data[this._size]=n,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)u.constructor_.call(this,10);else if(arguments.length===1){var n=arguments[0];this._data=new Array(n).fill(null)}}}])}(),Xc=function(){function u(){r(this,u)}return d(u,[{key:"getChainStartIndices",value:function(n){var i=0,l=new bo(Math.trunc(n.length/2));l.add(i);do{var p=this.findChainEnd(n,i);l.add(p),i=p}while(i<n.length-1);return l.toArray()}},{key:"findChainEnd",value:function(n,i){for(var l=fn.quadrant(n[i],n[i+1]),p=i+1;p<n.length&&fn.quadrant(n[p-1],n[p])===l;)p++;return p-1}},{key:"OLDgetChainStartIndices",value:function(n){var i=0,l=new Ht;l.add(i);do{var p=this.findChainEnd(n,i);l.add(p),i=p}while(i<n.length-1);return u.toIntArray(l)}}],[{key:"toIntArray",value:function(n){for(var i=new Array(n.size()).fill(null),l=0;l<i.length;l++)i[l]=n.get(l).intValue();return i}}])}(),Vi=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(u){var n=this.pts[this.startIndex[u]].x,i=this.pts[this.startIndex[u+1]].x;return n>i?n:i}},{key:"getMinX",value:function(u){var n=this.pts[this.startIndex[u]].x,i=this.pts[this.startIndex[u+1]].x;return n<i?n:i}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var u=arguments[0],n=arguments[1],i=arguments[2],l=arguments[3];this.computeIntersectsForChain(this.startIndex[u],this.startIndex[u+1],n,n.startIndex[i],n.startIndex[i+1],l)}else if(arguments.length===6){var p=arguments[0],v=arguments[1],k=arguments[2],S=arguments[3],N=arguments[4],U=arguments[5];if(v-p==1&&N-S==1)return U.addIntersections(this.e,p,k.e,S),null;if(!this.overlaps(p,v,k,S,N))return null;var X=Math.trunc((p+v)/2),nt=Math.trunc((S+N)/2);p<X&&(S<nt&&this.computeIntersectsForChain(p,X,k,S,nt,U),nt<N&&this.computeIntersectsForChain(p,X,k,nt,N,U)),X<v&&(S<nt&&this.computeIntersectsForChain(X,v,k,S,nt,U),nt<N&&this.computeIntersectsForChain(X,v,k,nt,N,U))}}},{key:"overlaps",value:function(u,n,i,l,p){return Ct.intersects(this.pts[u],this.pts[n],i.pts[l],i.pts[p])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(u,n){for(var i=0;i<this.startIndex.length-1;i++)for(var l=0;l<u.startIndex.length-1;l++)this.computeIntersectsForChain(i,u,l,n)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var u=arguments[0];this.e=u,this.pts=u.getCoordinates();var n=new Xc;this.startIndex=n.getChainStartIndices(this.pts)}}])}(),Ns=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"getDepth",value:function(n,i){return this._depth[n][i]}},{key:"setDepth",value:function(n,i,l){this._depth[n][i]=l}},{key:"isNull",value:function(){if(arguments.length===0){for(var n=0;n<2;n++)for(var i=0;i<3;i++)if(this._depth[n][i]!==u.NULL_VALUE)return!1;return!0}if(arguments.length===1){var l=arguments[0];return this._depth[l][1]===u.NULL_VALUE}if(arguments.length===2){var p=arguments[0],v=arguments[1];return this._depth[p][v]===u.NULL_VALUE}}},{key:"normalize",value:function(){for(var n=0;n<2;n++)if(!this.isNull(n)){var i=this._depth[n][1];this._depth[n][2]<i&&(i=this._depth[n][2]),i<0&&(i=0);for(var l=1;l<3;l++){var p=0;this._depth[n][l]>i&&(p=1),this._depth[n][l]=p}}}},{key:"getDelta",value:function(n){return this._depth[n][P.RIGHT]-this._depth[n][P.LEFT]}},{key:"getLocation",value:function(n,i){return this._depth[n][i]<=0?C.EXTERIOR:C.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<2;i++)for(var l=1;l<3;l++){var p=n.getLocation(i,l);p!==C.EXTERIOR&&p!==C.INTERIOR||(this.isNull(i,l)?this._depth[i][l]=u.depthAtLocation(p):this._depth[i][l]+=u.depthAtLocation(p))}else if(arguments.length===3){var v=arguments[0],k=arguments[1];arguments[2]===C.INTERIOR&&this._depth[v][k]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var i=0;i<3;i++)this._depth[n][i]=u.NULL_VALUE}},{key:"depthAtLocation",value:function(n){return n===C.EXTERIOR?0:n===C.INTERIOR?1:u.NULL_VALUE}}])}();Ns.NULL_VALUE=-1;var Wl=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var i=new Array(2).fill(null);return i[0]=this.pts[0],i[1]=this.pts[1],new n(i,kn.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(i){this._isIsolated=i}},{key:"setName",value:function(i){this._name=i}},{key:"equals",value:function(i){if(!(i instanceof n))return!1;var l=i;if(this.pts.length!==l.pts.length)return!1;for(var p=!0,v=!0,k=this.pts.length,S=0;S<this.pts.length;S++)if(this.pts[S].equals2D(l.pts[S])||(p=!1),this.pts[S].equals2D(l.pts[--k])||(v=!1),!p&&!v)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var i=arguments[0];return this.pts[i]}}},{key:"print",value:function(i){i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&i.print(","),i.print(this.pts[l].x+" "+this.pts[l].y);i.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(i){n.updateIM(this._label,i)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(i){i.print("edge "+this._name+": ");for(var l=this.pts.length-1;l>=0;l--)i.print(this.pts[l]+" ");i.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Vi(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Ct;for(var i=0;i<this.pts.length;i++)this._env.expandToInclude(this.pts[i])}return this._env}},{key:"addIntersection",value:function(i,l,p,v){var k=new G(i.getIntersection(v)),S=l,N=i.getEdgeDistance(p,v),U=S+1;if(U<this.pts.length){var X=this.pts[U];k.equals2D(X)&&(S=U,N=0)}this.eiList.add(k,S,N)}},{key:"toString",value:function(){var i=new lo;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var l=0;l<this.pts.length;l++)l>0&&i.append(","),i.append(this.pts[l].x+" "+this.pts[l].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()}},{key:"isPointwiseEqual",value:function(i){if(this.pts.length!==i.pts.length)return!1;for(var l=0;l<this.pts.length;l++)if(!this.pts[l].equals2D(i.pts[l]))return!1;return!0}},{key:"setDepthDelta",value:function(i){this._depthDelta=i}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(i,l,p){for(var v=0;v<i.getIntersectionNum();v++)this.addIntersection(i,l,p,v)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Ps(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ns,this._depthDelta=0,arguments.length===1){var i=arguments[0];n.constructor_.call(this,i,null)}else if(arguments.length===2){var l=arguments[0],p=arguments[1];this.pts=l,this._label=p}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Zl&&arguments[0]instanceof kn))return I(n,"updateIM",this).apply(this,arguments);var i=arguments[0],l=arguments[1];l.setAtLeastIfValid(i.getLocation(0,P.ON),i.getLocation(1,P.ON),1),i.isArea()&&(l.setAtLeastIfValid(i.getLocation(0,P.LEFT),i.getLocation(1,P.LEFT),2),l.setAtLeastIfValid(i.getLocation(0,P.RIGHT),i.getLocation(1,P.RIGHT),2))}}])}(xe),wo=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"setWorkingPrecisionModel",value:function(n){this._workingPrecisionModel=n}},{key:"insertUniqueEdge",value:function(n){var i=this._edgeList.findEqualEdge(n);if(i!==null){var l=i.getLabel(),p=n.getLabel();i.isPointwiseEqual(n)||(p=new kn(n.getLabel())).flip(),l.merge(p);var v=u.depthDelta(p),k=i.getDepthDelta()+v;i.setDepthDelta(k)}else this._edgeList.add(n),n.setDepthDelta(u.depthDelta(n.getLabel()))}},{key:"buildSubgraphs",value:function(n,i){for(var l=new Ht,p=n.iterator();p.hasNext();){var v=p.next(),k=v.getRightmostCoordinate(),S=new Pn(l).getDepth(k);v.computeDepth(S),v.findResultEdges(),l.add(v),i.add(v.getDirectedEdges(),v.getNodes())}}},{key:"createSubgraphs",value:function(n){for(var i=new Ht,l=n.getNodes().iterator();l.hasNext();){var p=l.next();if(!p.isVisited()){var v=new Fi;v.create(p),i.add(v)}}return hr.sort(i,hr.reverseOrder()),i}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(n){if(this._workingNoder!==null)return this._workingNoder;var i=new ka,l=new ki;return l.setPrecisionModel(n),i.setSegmentIntersector(new Ur(l)),i}},{key:"buffer",value:function(n,i){var l=this._workingPrecisionModel;l===null&&(l=n.getPrecisionModel()),this._geomFact=n.getFactory();var p=new Is(l,this._bufParams),v=new Pa(n,i,p).getCurves();if(v.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(v,l),this._graph=new go(new zr),this._graph.addEdges(this._edgeList.getEdges());var k=this.createSubgraphs(this._graph),S=new Uc(this._geomFact);this.buildSubgraphs(k,S);var N=S.getPolygons();return N.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(N)}},{key:"computeNodedEdges",value:function(n,i){var l=this.getNoder(i);l.computeNodes(n);for(var p=l.getNodedSubstrings().iterator();p.hasNext();){var v=p.next(),k=v.getCoordinates();if(k.length!==2||!k[0].equals2D(k[1])){var S=v.getData(),N=new Wl(v.getCoordinates(),new kn(S));this.insertUniqueEdge(N)}}}},{key:"setNoder",value:function(n){this._workingNoder=n}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ti;var n=arguments[0];this._bufParams=n}},{key:"depthDelta",value:function(n){var i=n.getLocation(0,P.LEFT),l=n.getLocation(0,P.RIGHT);return i===C.INTERIOR&&l===C.EXTERIOR?1:i===C.EXTERIOR&&l===C.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(n){for(var i=new ai,l=new Ht;n.hasNext();){var p=n.next(),v=i.createLineString(p.getCoordinates());l.add(v)}return i.buildGeometry(l)}}])}(),Kc=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"rescale",value:function(){if(W(arguments[0],H))for(var n=arguments[0].iterator();n.hasNext();){var i=n.next();this.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var l=arguments[0],p=0;p<l.length;p++)l[p].x=l[p].x/this._scaleFactor+this._offsetX,l[p].y=l[p].y/this._scaleFactor+this._offsetY;l.length===2&&l[0].equals2D(l[1])&&Gn.out.println(l)}}},{key:"scale",value:function(){if(W(arguments[0],H)){for(var n=arguments[0],i=new Ht(n.size()),l=n.iterator();l.hasNext();){var p=l.next();i.add(new xi(this.scale(p.getCoordinates()),p.getData()))}return i}if(arguments[0]instanceof Array){for(var v=arguments[0],k=new Array(v.length).fill(null),S=0;S<v.length;S++)k[S]=new G(Math.round((v[S].x-this._offsetX)*this._scaleFactor),Math.round((v[S].y-this._offsetY)*this._scaleFactor),v[S].getZ());return We.removeRepeatedPoints(k)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var n=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(n),n}},{key:"computeNodes",value:function(n){var i=n;this._isScaled&&(i=this.scale(n)),this._noder.computeNodes(i)}},{key:"interfaces_",get:function(){return[Ea]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var n=arguments[0],i=arguments[1];u.constructor_.call(this,n,i,0,0)}else if(arguments.length===4){var l=arguments[0],p=arguments[1];this._noder=l,this._scaleFactor=p,this._isScaled=!this.isIntegerPrecision()}}}])}(),fi=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next().getCoordinates();this.checkEndPtVertexIntersections(i[0],this._segStrings),this.checkEndPtVertexIntersections(i[i.length-1],this._segStrings)}else if(arguments.length===2){for(var l=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var v=p.next().getCoordinates(),k=1;k<v.length-1;k++)if(v[k].equals(l))throw new Gt("found endpt/interior pt intersection at index "+k+" :pt "+l)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var i=n.next(),l=this._segStrings.iterator();l.hasNext();){var p=l.next();this.checkInteriorIntersections(i,p)}else if(arguments.length===2)for(var v=arguments[0],k=arguments[1],S=v.getCoordinates(),N=k.getCoordinates(),U=0;U<S.length-1;U++)for(var X=0;X<N.length-1;X++)this.checkInteriorIntersections(v,U,k,X);else if(arguments.length===4){var nt=arguments[0],wt=arguments[1],Ft=arguments[2],Vt=arguments[3];if(nt===Ft&&wt===Vt)return null;var Xt=nt.getCoordinates()[wt],he=nt.getCoordinates()[wt+1],ae=Ft.getCoordinates()[Vt],Te=Ft.getCoordinates()[Vt+1];if(this._li.computeIntersection(Xt,he,ae,Te),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Xt,he)||this.hasInteriorIntersection(this._li,ae,Te)))throw new Gt("found non-noded intersection at "+Xt+"-"+he+" and "+ae+"-"+Te)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkCollapses(i)}else if(arguments.length===1)for(var l=arguments[0].getCoordinates(),p=0;p<l.length-2;p++)this.checkCollapse(l[p],l[p+1],l[p+2])}},{key:"hasInteriorIntersection",value:function(n,i,l){for(var p=0;p<n.getIntersectionNum();p++){var v=n.getIntersection(p);if(!v.equals(i)&&!v.equals(l))return!0}return!1}},{key:"checkCollapse",value:function(n,i,l){if(n.equals(l))throw new Gt("found non-noded collapse at "+u.fact.createLineString([n,i,l]))}}],[{key:"constructor_",value:function(){this._li=new ki,this._segStrings=null;var n=arguments[0];this._segStrings=n}}])}();fi.fact=new ai;var Na=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"intersectsScaled",value:function(n,i){var l=Math.min(n.x,i.x),p=Math.max(n.x,i.x),v=Math.min(n.y,i.y),k=Math.max(n.y,i.y),S=this._maxx<l||this._minx>p||this._maxy<v||this._miny>k;if(S)return!1;var N=this.intersectsToleranceSquare(n,i);return It.isTrue(!(S&&N),"Found bad envelope test"),N}},{key:"initCorners",value:function(n){var i=.5;this._minx=n.x-i,this._maxx=n.x+i,this._miny=n.y-i,this._maxy=n.y+i,this._corner[0]=new G(this._maxx,this._maxy),this._corner[1]=new G(this._minx,this._maxy),this._corner[2]=new G(this._minx,this._miny),this._corner[3]=new G(this._maxx,this._miny)}},{key:"intersects",value:function(n,i){return this._scaleFactor===1?this.intersectsScaled(n,i):(this.copyScaled(n,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(n){return Math.round(n*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(n,i){i.x=this.scale(n.x),i.y=this.scale(n.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var n=u.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ct(this._originalPt.x-n,this._originalPt.x+n,this._originalPt.y-n,this._originalPt.y+n)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(n,i){return this._li.computeIntersection(n,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(n,i){var l=!1,p=!1;return this._li.computeIntersection(n,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(n,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(l=!0),this._li.computeIntersection(n,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(n,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!l||!p)||!!n.equals(this._pt)||!!i.equals(this._pt))))}},{key:"addSnappedNode",value:function(n,i){var l=n.getCoordinate(i),p=n.getCoordinate(i+1);return!!this.intersects(l,p)&&(n.addIntersection(this.getCoordinate(),i),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var n=arguments[0],i=arguments[1],l=arguments[2];if(this._originalPt=n,this._pt=n,this._scaleFactor=i,this._li=l,i<=0)throw new $("Scale factor must be non-zero");i!==1&&(this._pt=new G(this.scale(n.x),this.scale(n.y)),this._p0Scaled=new G,this._p1Scaled=new G),this.initCorners(this._pt)}}])}();Na.SAFE_ENV_EXPANSION_FACTOR=.75;var $r=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var u=arguments[1];arguments[0].getLineSegment(u,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new In}}])}(),Yl=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var u=arguments[0];return this.snap(u,null,-1)}if(arguments.length===3){var n=arguments[0],i=arguments[1],l=arguments[2],p=n.getSafeEnvelope(),v=new di(n,i,l);return this._index.query(p,new(function(){return d(function k(){r(this,k)},[{key:"interfaces_",get:function(){return[Fl]}},{key:"visitItem",value:function(k){k.select(p,v)}}])}())),v.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var u=arguments[0];this._index=u}}])}(),di=function(u){function n(){var i;return r(this,n),i=a(this,n),n.constructor_.apply(i,arguments),i}return b(n,u),d(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof La))return I(n,"select",this,1).apply(this,arguments);var i=arguments[1],l=arguments[0].getContext();if(this._parentEdge===l&&(i===this._hotPixelVertexIndex||i+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(l,i)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var i=arguments[0],l=arguments[1],p=arguments[2];this._hotPixel=i,this._parentEdge=l,this._hotPixelVertexIndex=p}}])}($r);Yl.HotPixelSnapAction=di;var Lo=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(u,n,i,l){if(u===i&&n===l)return null;var p=u.getCoordinates()[n],v=u.getCoordinates()[n+1],k=i.getCoordinates()[l],S=i.getCoordinates()[l+1];if(this._li.computeIntersection(p,v,k,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var N=0;N<this._li.getIntersectionNum();N++)this._interiorIntersections.add(this._li.getIntersection(N));u.addIntersections(this._li,n,0),i.addIntersections(this._li,l,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[ql]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var u=arguments[0];this._li=u,this._interiorIntersections=new Ht}}])}(),jl=function(){return d(function u(){r(this,u),u.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(u){var n=xi.getNodedSubstrings(u),i=new fi(n);try{i.checkValid()}catch(l){if(!(l instanceof B))throw l;l.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return xi.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(u,n){var i=this.findInteriorIntersections(u,n);this.computeIntersectionSnaps(i),this.computeVertexSnaps(u)}},{key:"findInteriorIntersections",value:function(u,n){var i=new Lo(n);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(u),i.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(W(arguments[0],H))for(var u=arguments[0].iterator();u.hasNext();){var n=u.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof xi)for(var i=arguments[0],l=i.getCoordinates(),p=0;p<l.length;p++){var v=new Na(l[p],this._scaleFactor,this._li);this._pointSnapper.snap(v,i,p)&&i.addIntersection(l[p],p)}}},{key:"computeNodes",value:function(u){this._nodedSegStrings=u,this._noder=new ka,this._pointSnapper=new Yl(this._noder.getIndex()),this.snapRound(u,this._li)}},{key:"computeIntersectionSnaps",value:function(u){for(var n=u.iterator();n.hasNext();){var i=n.next(),l=new Na(i,this._scaleFactor,this._li);this._pointSnapper.snap(l)}}},{key:"interfaces_",get:function(){return[Ea]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var u=arguments[0];this._pm=u,this._li=new ki,this._li.setPrecisionModel(u),this._scaleFactor=u.getScale()}}])}(),qi=function(){function u(){r(this,u),u.constructor_.apply(this,arguments)}return d(u,[{key:"bufferFixedPrecision",value:function(n){var i=new Kc(new jl(new yn(1)),n.getScale()),l=new wo(this._bufParams);l.setWorkingPrecisionModel(n),l.setNoder(i),this._resultGeometry=l.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var n=u.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision(n)}catch(v){if(!(v instanceof un))throw v;this._saveException=v}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var i=arguments[0],l=u.precisionScaleFactor(this._argGeom,this._distance,i),p=new yn(l);this.bufferFixedPrecision(p)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var n=this._argGeom.getFactory().getPrecisionModel();n.getType()===yn.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(n){this._bufParams.setQuadrantSegments(n)}},{key:"bufferOriginalPrecision",value:function(){try{var n=new wo(this._bufParams);this._resultGeometry=n.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof Gt))throw i;this._saveException=i}}},{key:"getResultGeometry",value:function(n){return this._distance=n,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(n){this._bufParams.setEndCapStyle(n)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new D,this._resultGeometry=null,this._saveException=null,arguments.length===1){var n=arguments[0];this._argGeom=n}else if(arguments.length===2){var i=arguments[0],l=arguments[1];this._argGeom=i,this._bufParams=l}}},{key:"bufferOp",value:function(){if(arguments.length===2){var n=arguments[1];return new u(arguments[0]).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof St&&typeof arguments[1]=="number"){var i=arguments[1],l=arguments[2],p=new u(arguments[0]);return p.setQuadrantSegments(l),p.getResultGeometry(i)}if(arguments[2]instanceof D&&arguments[0]instanceof St&&typeof arguments[1]=="number"){var v=arguments[1];return new u(arguments[0],arguments[2]).getResultGeometry(v)}}else if(arguments.length===4){var k=arguments[1],S=arguments[2],N=arguments[3],U=new u(arguments[0]);return U.setQuadrantSegments(S),U.setEndCapStyle(N),U.getResultGeometry(k)}}},{key:"precisionScaleFactor",value:function(n,i,l){var p=n.getEnvelopeInternal(),v=Or.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(i>0?i:0),k=l-Math.trunc(Math.log(v)/Math.log(10)+1);return Math.pow(10,k)}}])}();qi.CAP_ROUND=D.CAP_ROUND,qi.CAP_BUTT=D.CAP_FLAT,qi.CAP_FLAT=D.CAP_FLAT,qi.CAP_SQUARE=D.CAP_SQUARE,qi.MAX_PRECISION_DIGITS=12;var Eo=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ko=function(){return d(function u(n){r(this,u),this.geometryFactory=n||new ai},[{key:"read",value:function(u){var n,i=(n=typeof u=="string"?JSON.parse(u):u).type;if(!bn[i])throw new Error("Unknown GeoJSON type: "+n.type);return Eo.indexOf(i)!==-1?bn[i].call(this,n.coordinates):i==="GeometryCollection"?bn[i].call(this,n.geometries):bn[i].call(this,n)}},{key:"write",value:function(u){var n=u.getGeometryType();if(!wn[n])throw new Error("Geometry is not supported");return wn[n].call(this,u)}}])}(),bn={Feature:function(u){var n={};for(var i in u)n[i]=u[i];if(u.geometry){var l=u.geometry.type;if(!bn[l])throw new Error("Unknown GeoJSON type: "+u.type);n.geometry=this.read(u.geometry)}return u.bbox&&(n.bbox=bn.bbox.call(this,u.bbox)),n},FeatureCollection:function(u){var n={};if(u.features){n.features=[];for(var i=0;i<u.features.length;++i)n.features.push(this.read(u.features[i]))}return u.bbox&&(n.bbox=this.parse.bbox.call(this,u.bbox)),n},coordinates:function(u){for(var n=[],i=0;i<u.length;++i){var l=u[i];n.push(c(G,A(l)))}return n},bbox:function(u){return this.geometryFactory.createLinearRing([new G(u[0],u[1]),new G(u[2],u[1]),new G(u[2],u[3]),new G(u[0],u[3]),new G(u[0],u[1])])},Point:function(u){var n=c(G,A(u));return this.geometryFactory.createPoint(n)},MultiPoint:function(u){for(var n=[],i=0;i<u.length;++i)n.push(bn.Point.call(this,u[i]));return this.geometryFactory.createMultiPoint(n)},LineString:function(u){var n=bn.coordinates.call(this,u);return this.geometryFactory.createLineString(n)},MultiLineString:function(u){for(var n=[],i=0;i<u.length;++i)n.push(bn.LineString.call(this,u[i]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(u){for(var n=bn.coordinates.call(this,u[0]),i=this.geometryFactory.createLinearRing(n),l=[],p=1;p<u.length;++p){var v=u[p],k=bn.coordinates.call(this,v),S=this.geometryFactory.createLinearRing(k);l.push(S)}return this.geometryFactory.createPolygon(i,l)},MultiPolygon:function(u){for(var n=[],i=0;i<u.length;++i){var l=u[i];n.push(bn.Polygon.call(this,l))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(u){for(var n=[],i=0;i<u.length;++i){var l=u[i];n.push(this.read(l))}return this.geometryFactory.createGeometryCollection(n)}},wn={coordinate:function(u){var n=[u.x,u.y];return u.z&&n.push(u.z),u.m&&n.push(u.m),n},Point:function(u){return{type:"Point",coordinates:wn.coordinate.call(this,u.getCoordinate())}},MultiPoint:function(u){for(var n=[],i=0;i<u._geometries.length;++i){var l=u._geometries[i],p=wn.Point.call(this,l);n.push(p.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(u){for(var n=[],i=u.getCoordinates(),l=0;l<i.length;++l){var p=i[l];n.push(wn.coordinate.call(this,p))}return{type:"LineString",coordinates:n}},MultiLineString:function(u){for(var n=[],i=0;i<u._geometries.length;++i){var l=u._geometries[i],p=wn.LineString.call(this,l);n.push(p.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(u){var n=[],i=wn.LineString.call(this,u._shell);n.push(i.coordinates);for(var l=0;l<u._holes.length;++l){var p=u._holes[l],v=wn.LineString.call(this,p);n.push(v.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(u){for(var n=[],i=0;i<u._geometries.length;++i){var l=u._geometries[i],p=wn.Polygon.call(this,l);n.push(p.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(u){for(var n=[],i=0;i<u._geometries.length;++i){var l=u._geometries[i],p=l.getGeometryType();n.push(wn[p].call(this,l))}return{type:"GeometryCollection",geometries:n}}};return{BufferOp:qi,GeoJSONReader:function(){return d(function u(n){r(this,u),this.parser=new ko(n||new ai)},[{key:"read",value:function(u){return this.parser.read(u)}}])}(),GeoJSONWriter:function(){return d(function u(){r(this,u),this.parser=new ko(this.geometryFactory)},[{key:"write",value:function(u){return this.parser.write(u)}}])}()}})}(Su)),Su.exports}var fS=hS();const dS=Zv(fS);function vs(){return new rc}function rc(){this.reset()}rc.prototype={constructor:rc,reset:function(){this.s=this.t=0},add:function(t){Cm(du,t,this.t),Cm(this,du.s,this.s),this.s?this.t+=du.t:this.s=du.t},valueOf:function(){return this.s}};var du=new rc;function Cm(t,e,s){var a=t.s=e+s,r=a-e,c=a-r;t.t=e-c+(s-r)}var Ae=1e-6,de=Math.PI,Qi=de/2,Sm=de/4,rr=de*2,Zr=180/de,_i=de/180,_n=Math.abs,pS=Math.atan,ta=Math.atan2,qe=Math.cos,Ze=Math.sin,sa=Math.sqrt;function Xv(t){return t>1?0:t<-1?de:Math.acos(t)}function Qs(t){return t>1?Qi:t<-1?-Qi:Math.asin(t)}function Va(){}function sc(t,e){t&&Pm.hasOwnProperty(t.type)&&Pm[t.type](t,e)}var Im={Feature:function(t,e){sc(t.geometry,e)},FeatureCollection:function(t,e){for(var s=t.features,a=-1,r=s.length;++a<r;)sc(s[a].geometry,e)}},Pm={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var s=t.coordinates,a=-1,r=s.length;++a<r;)t=s[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){uf(t.coordinates,e,0)},MultiLineString:function(t,e){for(var s=t.coordinates,a=-1,r=s.length;++a<r;)uf(s[a],e,0)},Polygon:function(t,e){Nm(t.coordinates,e)},MultiPolygon:function(t,e){for(var s=t.coordinates,a=-1,r=s.length;++a<r;)Nm(s[a],e)},GeometryCollection:function(t,e){for(var s=t.geometries,a=-1,r=s.length;++a<r;)sc(s[a],e)}};function uf(t,e,s){var a=-1,r=t.length-s,c;for(e.lineStart();++a<r;)c=t[a],e.point(c[0],c[1],c[2]);e.lineEnd()}function Nm(t,e){var s=-1,a=t.length;for(e.polygonStart();++s<a;)uf(t[s],e,1);e.polygonEnd()}function mS(t,e){t&&Im.hasOwnProperty(t.type)?Im[t.type](t,e):sc(t,e)}vs();vs();function cf(t){return[ta(t[1],t[0]),Qs(t[2])]}function ea(t){var e=t[0],s=t[1],a=qe(s);return[a*qe(e),a*Ze(e),Ze(s)]}function pu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function oc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function kh(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function mu(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function hf(t){var e=sa(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}vs();function Kv(t,e){function s(a,r){return a=t(a,r),e(a[0],a[1])}return t.invert&&e.invert&&(s.invert=function(a,r){return a=e.invert(a,r),a&&t.invert(a[0],a[1])}),s}function ff(t,e){return[t>de?t-rr:t<-de?t+rr:t,e]}ff.invert=ff;function gS(t,e,s){return(t%=rr)?e||s?Kv(Mm(t),Am(e,s)):Mm(t):e||s?Am(e,s):ff}function Om(t){return function(e,s){return e+=t,[e>de?e-rr:e<-de?e+rr:e,s]}}function Mm(t){var e=Om(t);return e.invert=Om(-t),e}function Am(t,e){var s=qe(t),a=Ze(t),r=qe(e),c=Ze(e);function f(d,g){var _=qe(g),y=qe(d)*_,b=Ze(d)*_,E=Ze(g),T=E*s+y*a;return[ta(b*r-T*c,y*s-E*a),Qs(T*r+b*c)]}return f.invert=function(d,g){var _=qe(g),y=qe(d)*_,b=Ze(d)*_,E=Ze(g),T=E*r-b*c;return[ta(b*r+E*c,y*s+T*a),Qs(T*s-y*a)]},f}function _S(t,e,s,a,r,c){if(s){var f=qe(e),d=Ze(e),g=a*s;r==null?(r=e+a*rr,c=e-g/2):(r=Rm(f,r),c=Rm(f,c),(a>0?r<c:r>c)&&(r+=a*rr));for(var _,y=r;a>0?y>c:y<c;y-=g)_=cf([f,-d*qe(y),-d*Ze(y)]),t.point(_[0],_[1])}}function Rm(t,e){e=ea(e),e[0]-=t,hf(e);var s=Xv(-e[1]);return((-e[2]<0?-s:s)+rr-Ae)%rr}function Jv(){var t=[],e;return{point:function(s,a){e.push([s,a])},lineStart:function(){t.push(e=[])},lineEnd:Va,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var s=t;return t=[],e=null,s}}}function vS(t,e,s,a,r,c){var f=t[0],d=t[1],g=e[0],_=e[1],y=0,b=1,E=g-f,T=_-d,I;if(I=s-f,!(!E&&I>0)){if(I/=E,E<0){if(I<y)return;I<b&&(b=I)}else if(E>0){if(I>b)return;I>y&&(y=I)}if(I=r-f,!(!E&&I<0)){if(I/=E,E<0){if(I>b)return;I>y&&(y=I)}else if(E>0){if(I<y)return;I<b&&(b=I)}if(I=a-d,!(!T&&I>0)){if(I/=T,T<0){if(I<y)return;I<b&&(b=I)}else if(T>0){if(I>b)return;I>y&&(y=I)}if(I=c-d,!(!T&&I<0)){if(I/=T,T<0){if(I>b)return;I>y&&(y=I)}else if(T>0){if(I<y)return;I<b&&(b=I)}return y>0&&(t[0]=f+y*E,t[1]=d+y*T),b<1&&(e[0]=f+b*E,e[1]=d+b*T),!0}}}}}function Iu(t,e){return _n(t[0]-e[0])<Ae&&_n(t[1]-e[1])<Ae}function gu(t,e,s,a){this.x=t,this.z=e,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Qv(t,e,s,a,r){var c=[],f=[],d,g;if(t.forEach(function(I){if(!((A=I.length-1)<=0)){var A,F=I[0],M=I[A],R;if(Iu(F,M)){for(r.lineStart(),d=0;d<A;++d)r.point((F=I[d])[0],F[1]);r.lineEnd();return}c.push(R=new gu(F,I,null,!0)),f.push(R.o=new gu(F,null,R,!1)),c.push(R=new gu(M,I,null,!1)),f.push(R.o=new gu(M,null,R,!0))}}),!!c.length){for(f.sort(e),Dm(c),Dm(f),d=0,g=f.length;d<g;++d)f[d].e=s=!s;for(var _=c[0],y,b;;){for(var E=_,T=!0;E.v;)if((E=E.n)===_)return;y=E.z,r.lineStart();do{if(E.v=E.o.v=!0,E.e){if(T)for(d=0,g=y.length;d<g;++d)r.point((b=y[d])[0],b[1]);else a(E.x,E.n.x,1,r);E=E.n}else{if(T)for(y=E.p.z,d=y.length-1;d>=0;--d)r.point((b=y[d])[0],b[1]);else a(E.x,E.p.x,-1,r);E=E.p}E=E.o,y=E.z,T=!T}while(!E.v);r.lineEnd()}}}function Dm(t){if(e=t.length){for(var e,s=0,a=t[0],r;++s<e;)a.n=r=t[s],r.p=a,a=r;a.n=r=t[0],r.p=a}}function ty(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yS(t){return t.length===1&&(t=bS(t)),{left:function(e,s,a,r){for(a==null&&(a=0),r==null&&(r=e.length);a<r;){var c=a+r>>>1;t(e[c],s)<0?a=c+1:r=c}return a},right:function(e,s,a,r){for(a==null&&(a=0),r==null&&(r=e.length);a<r;){var c=a+r>>>1;t(e[c],s)>0?r=c:a=c+1}return a}}}function bS(t){return function(e,s){return ty(t(e),s)}}yS(ty);function ey(t){for(var e=t.length,s,a=-1,r=0,c,f;++a<e;)r+=t[a].length;for(c=new Array(r);--e>=0;)for(f=t[e],s=f.length;--s>=0;)c[--r]=f[s];return c}var qa=1e9,_u=-qa;function wS(t,e,s,a){function r(_,y){return t<=_&&_<=s&&e<=y&&y<=a}function c(_,y,b,E){var T=0,I=0;if(_==null||(T=f(_,b))!==(I=f(y,b))||g(_,y)<0^b>0)do E.point(T===0||T===3?t:s,T>1?a:e);while((T=(T+b+4)%4)!==I);else E.point(y[0],y[1])}function f(_,y){return _n(_[0]-t)<Ae?y>0?0:3:_n(_[0]-s)<Ae?y>0?2:1:_n(_[1]-e)<Ae?y>0?1:0:y>0?3:2}function d(_,y){return g(_.x,y.x)}function g(_,y){var b=f(_,1),E=f(y,1);return b!==E?b-E:b===0?y[1]-_[1]:b===1?_[0]-y[0]:b===2?_[1]-y[1]:y[0]-_[0]}return function(_){var y=_,b=Jv(),E,T,I,A,F,M,R,D,B,$,q,V={point:ot,lineStart:et,lineEnd:Q,polygonStart:lt,polygonEnd:Lt};function ot(gt,vt){r(gt,vt)&&y.point(gt,vt)}function K(){for(var gt=0,vt=0,Et=T.length;vt<Et;++vt)for(var ft=T[vt],Pt=1,at=ft.length,Dt=ft[0],Gt,Bt,It=Dt[0],bt=Dt[1];Pt<at;++Pt)Gt=It,Bt=bt,Dt=ft[Pt],It=Dt[0],bt=Dt[1],Bt<=a?bt>a&&(It-Gt)*(a-Bt)>(bt-Bt)*(t-Gt)&&++gt:bt<=a&&(It-Gt)*(a-Bt)<(bt-Bt)*(t-Gt)&&--gt;return gt}function lt(){y=b,E=[],T=[],q=!0}function Lt(){var gt=K(),vt=q&&gt,Et=(E=ey(E)).length;(vt||Et)&&(_.polygonStart(),vt&&(_.lineStart(),c(null,null,1,_),_.lineEnd()),Et&&Qv(E,d,gt,c,_),_.polygonEnd()),y=_,E=T=I=null}function et(){V.point=Y,T&&T.push(I=[]),$=!0,B=!1,R=D=NaN}function Q(){E&&(Y(A,F),M&&B&&b.rejoin(),E.push(b.result())),V.point=ot,B&&y.lineEnd()}function Y(gt,vt){var Et=r(gt,vt);if(T&&I.push([gt,vt]),$)A=gt,F=vt,M=Et,$=!1,Et&&(y.lineStart(),y.point(gt,vt));else if(Et&&B)y.point(gt,vt);else{var ft=[R=Math.max(_u,Math.min(qa,R)),D=Math.max(_u,Math.min(qa,D))],Pt=[gt=Math.max(_u,Math.min(qa,gt)),vt=Math.max(_u,Math.min(qa,vt))];vS(ft,Pt,t,e,s,a)?(B||(y.lineStart(),y.point(ft[0],ft[1])),y.point(Pt[0],Pt[1]),Et||y.lineEnd(),q=!1):Et&&(y.lineStart(),y.point(gt,vt),q=!1)}R=gt,D=vt,B=Et}return V}}var xh=vs();function LS(t,e){var s=e[0],a=e[1],r=[Ze(s),-qe(s),0],c=0,f=0;xh.reset();for(var d=0,g=t.length;d<g;++d)if(y=(_=t[d]).length)for(var _,y,b=_[y-1],E=b[0],T=b[1]/2+Sm,I=Ze(T),A=qe(T),F=0;F<y;++F,E=R,I=B,A=$,b=M){var M=_[F],R=M[0],D=M[1]/2+Sm,B=Ze(D),$=qe(D),q=R-E,V=q>=0?1:-1,ot=V*q,K=ot>de,lt=I*B;if(xh.add(ta(lt*V*Ze(ot),A*$+lt*qe(ot))),c+=K?q+V*rr:q,K^E>=s^R>=s){var Lt=oc(ea(b),ea(M));hf(Lt);var et=oc(r,Lt);hf(et);var Q=(K^q>=0?-1:1)*Qs(et[2]);(a>Q||a===Q&&(Lt[0]||Lt[1]))&&(f+=K^q>=0?1:-1)}}return(c<-Ae||c<Ae&&xh<-Ae)^f&1}vs();function Bm(t){return t}vs();vs();var na=1/0,ac=na,bl=-na,lc=bl,Fm={point:ES,lineStart:Va,lineEnd:Va,polygonStart:Va,polygonEnd:Va,result:function(){var t=[[na,ac],[bl,lc]];return bl=lc=-(ac=na=1/0),t}};function ES(t,e){t<na&&(na=t),t>bl&&(bl=t),e<ac&&(ac=e),e>lc&&(lc=e)}vs();function ny(t,e,s,a){return function(r,c){var f=e(c),d=r.invert(a[0],a[1]),g=Jv(),_=e(g),y=!1,b,E,T,I={point:A,lineStart:M,lineEnd:R,polygonStart:function(){I.point=D,I.lineStart=B,I.lineEnd=$,E=[],b=[]},polygonEnd:function(){I.point=A,I.lineStart=M,I.lineEnd=R,E=ey(E);var q=LS(b,d);E.length?(y||(c.polygonStart(),y=!0),Qv(E,xS,q,s,c)):q&&(y||(c.polygonStart(),y=!0),c.lineStart(),s(null,null,1,c),c.lineEnd()),y&&(c.polygonEnd(),y=!1),E=b=null},sphere:function(){c.polygonStart(),c.lineStart(),s(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function A(q,V){var ot=r(q,V);t(q=ot[0],V=ot[1])&&c.point(q,V)}function F(q,V){var ot=r(q,V);f.point(ot[0],ot[1])}function M(){I.point=F,f.lineStart()}function R(){I.point=A,f.lineEnd()}function D(q,V){T.push([q,V]);var ot=r(q,V);_.point(ot[0],ot[1])}function B(){_.lineStart(),T=[]}function $(){D(T[0][0],T[0][1]),_.lineEnd();var q=_.clean(),V=g.result(),ot,K=V.length,lt,Lt,et;if(T.pop(),b.push(T),T=null,!!K){if(q&1){if(Lt=V[0],(lt=Lt.length-1)>0){for(y||(c.polygonStart(),y=!0),c.lineStart(),ot=0;ot<lt;++ot)c.point((et=Lt[ot])[0],et[1]);c.lineEnd()}return}K>1&&q&2&&V.push(V.pop().concat(V.shift())),E.push(V.filter(kS))}}return I}}function kS(t){return t.length>1}function xS(t,e){return((t=t.x)[0]<0?t[1]-Qi-Ae:Qi-t[1])-((e=e.x)[0]<0?e[1]-Qi-Ae:Qi-e[1])}const zm=ny(function(){return!0},TS,SS,[-de,-Qi]);function TS(t){var e=NaN,s=NaN,a=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(c,f){var d=c>0?de:-de,g=_n(c-e);_n(g-de)<Ae?(t.point(e,s=(s+f)/2>0?Qi:-Qi),t.point(a,s),t.lineEnd(),t.lineStart(),t.point(d,s),t.point(c,s),r=0):a!==d&&g>=de&&(_n(e-a)<Ae&&(e-=a*Ae),_n(c-d)<Ae&&(c-=d*Ae),s=CS(e,s,c,f),t.point(a,s),t.lineEnd(),t.lineStart(),t.point(d,s),r=0),t.point(e=c,s=f),a=d},lineEnd:function(){t.lineEnd(),e=s=NaN},clean:function(){return 2-r}}}function CS(t,e,s,a){var r,c,f=Ze(t-s);return _n(f)>Ae?pS((Ze(e)*(c=qe(a))*Ze(s)-Ze(a)*(r=qe(e))*Ze(t))/(r*c*f)):(e+a)/2}function SS(t,e,s,a){var r;if(t==null)r=s*Qi,a.point(-de,r),a.point(0,r),a.point(de,r),a.point(de,0),a.point(de,-r),a.point(0,-r),a.point(-de,-r),a.point(-de,0),a.point(-de,r);else if(_n(t[0]-e[0])>Ae){var c=t[0]<e[0]?de:-de;r=s*c/2,a.point(-c,r),a.point(0,r),a.point(c,r)}else a.point(e[0],e[1])}function IS(t,e){var s=qe(t),a=s>0,r=_n(s)>Ae;function c(y,b,E,T){_S(T,t,e,E,y,b)}function f(y,b){return qe(y)*qe(b)>s}function d(y){var b,E,T,I,A;return{lineStart:function(){I=T=!1,A=1},point:function(F,M){var R=[F,M],D,B=f(F,M),$=a?B?0:_(F,M):B?_(F+(F<0?de:-de),M):0;if(!b&&(I=T=B)&&y.lineStart(),B!==T&&(D=g(b,R),(!D||Iu(b,D)||Iu(R,D))&&(R[0]+=Ae,R[1]+=Ae,B=f(R[0],R[1]))),B!==T)A=0,B?(y.lineStart(),D=g(R,b),y.point(D[0],D[1])):(D=g(b,R),y.point(D[0],D[1]),y.lineEnd()),b=D;else if(r&&b&&a^B){var q;!($&E)&&(q=g(R,b,!0))&&(A=0,a?(y.lineStart(),y.point(q[0][0],q[0][1]),y.point(q[1][0],q[1][1]),y.lineEnd()):(y.point(q[1][0],q[1][1]),y.lineEnd(),y.lineStart(),y.point(q[0][0],q[0][1])))}B&&(!b||!Iu(b,R))&&y.point(R[0],R[1]),b=R,T=B,E=$},lineEnd:function(){T&&y.lineEnd(),b=null},clean:function(){return A|(I&&T)<<1}}}function g(y,b,E){var T=ea(y),I=ea(b),A=[1,0,0],F=oc(T,I),M=pu(F,F),R=F[0],D=M-R*R;if(!D)return!E&&y;var B=s*M/D,$=-s*R/D,q=oc(A,F),V=mu(A,B),ot=mu(F,$);kh(V,ot);var K=q,lt=pu(V,K),Lt=pu(K,K),et=lt*lt-Lt*(pu(V,V)-1);if(!(et<0)){var Q=sa(et),Y=mu(K,(-lt-Q)/Lt);if(kh(Y,V),Y=cf(Y),!E)return Y;var gt=y[0],vt=b[0],Et=y[1],ft=b[1],Pt;vt<gt&&(Pt=gt,gt=vt,vt=Pt);var at=vt-gt,Dt=_n(at-de)<Ae,Gt=Dt||at<Ae;if(!Dt&&ft<Et&&(Pt=Et,Et=ft,ft=Pt),Gt?Dt?Et+ft>0^Y[1]<(_n(Y[0]-gt)<Ae?Et:ft):Et<=Y[1]&&Y[1]<=ft:at>de^(gt<=Y[0]&&Y[0]<=vt)){var Bt=mu(K,(-lt+Q)/Lt);return kh(Bt,V),[Y,cf(Bt)]}}}function _(y,b){var E=a?t:de-t,T=0;return y<-E?T|=1:y>E&&(T|=2),b<-E?T|=4:b>E&&(T|=8),T}return ny(f,d,c,a?[0,-t]:[-de,t-de])}function iy(t){return function(e){var s=new df;for(var a in t)s[a]=t[a];return s.stream=e,s}}function df(){}df.prototype={constructor:df,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ry(t,e,s){var a=e[1][0]-e[0][0],r=e[1][1]-e[0][1],c=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),c!=null&&t.clipExtent(null),mS(s,t.stream(Fm));var f=Fm.result(),d=Math.min(a/(f[1][0]-f[0][0]),r/(f[1][1]-f[0][1])),g=+e[0][0]+(a-d*(f[1][0]+f[0][0]))/2,_=+e[0][1]+(r-d*(f[1][1]+f[0][1]))/2;return c!=null&&t.clipExtent(c),t.scale(d*150).translate([g,_])}function PS(t,e,s){return ry(t,[[0,0],e],s)}var Um=16,NS=qe(30*_i);function $m(t,e){return+e?MS(t,e):OS(t)}function OS(t){return iy({point:function(e,s){e=t(e,s),this.stream.point(e[0],e[1])}})}function MS(t,e){function s(a,r,c,f,d,g,_,y,b,E,T,I,A,F){var M=_-a,R=y-r,D=M*M+R*R;if(D>4*e&&A--){var B=f+E,$=d+T,q=g+I,V=sa(B*B+$*$+q*q),ot=Qs(q/=V),K=_n(_n(q)-1)<Ae||_n(c-b)<Ae?(c+b)/2:ta($,B),lt=t(K,ot),Lt=lt[0],et=lt[1],Q=Lt-a,Y=et-r,gt=R*Q-M*Y;(gt*gt/D>e||_n((M*Q+R*Y)/D-.5)>.3||f*E+d*T+g*I<NS)&&(s(a,r,c,f,d,g,Lt,et,K,B/=V,$/=V,q,A,F),F.point(Lt,et),s(Lt,et,K,B,$,q,_,y,b,E,T,I,A,F))}}return function(a){var r,c,f,d,g,_,y,b,E,T,I,A,F={point:M,lineStart:R,lineEnd:B,polygonStart:function(){a.polygonStart(),F.lineStart=$},polygonEnd:function(){a.polygonEnd(),F.lineStart=R}};function M(ot,K){ot=t(ot,K),a.point(ot[0],ot[1])}function R(){b=NaN,F.point=D,a.lineStart()}function D(ot,K){var lt=ea([ot,K]),Lt=t(ot,K);s(b,E,y,T,I,A,b=Lt[0],E=Lt[1],y=ot,T=lt[0],I=lt[1],A=lt[2],Um,a),a.point(b,E)}function B(){F.point=M,a.lineEnd()}function $(){R(),F.point=q,F.lineEnd=V}function q(ot,K){D(r=ot,K),c=b,f=E,d=T,g=I,_=A,F.point=D}function V(){s(b,E,y,T,I,A,c,f,r,d,g,_,Um,a),F.lineEnd=B,B()}return F}}var AS=iy({point:function(t,e){this.stream.point(t*_i,e*_i)}});function RS(t){return DS(function(){return t})()}function DS(t){var e,s=150,a=480,r=250,c,f,d=0,g=0,_=0,y=0,b=0,E,T,I=null,A=zm,F=null,M,R,D,B=Bm,$=.5,q=$m(Lt,$),V,ot;function K(Y){return Y=T(Y[0]*_i,Y[1]*_i),[Y[0]*s+c,f-Y[1]*s]}function lt(Y){return Y=T.invert((Y[0]-c)/s,(f-Y[1])/s),Y&&[Y[0]*Zr,Y[1]*Zr]}function Lt(Y,gt){return Y=e(Y,gt),[Y[0]*s+c,f-Y[1]*s]}K.stream=function(Y){return V&&ot===Y?V:V=AS(A(E,q(B(ot=Y))))},K.clipAngle=function(Y){return arguments.length?(A=+Y?IS(I=Y*_i,6*_i):(I=null,zm),Q()):I*Zr},K.clipExtent=function(Y){return arguments.length?(B=Y==null?(F=M=R=D=null,Bm):wS(F=+Y[0][0],M=+Y[0][1],R=+Y[1][0],D=+Y[1][1]),Q()):F==null?null:[[F,M],[R,D]]},K.scale=function(Y){return arguments.length?(s=+Y,et()):s},K.translate=function(Y){return arguments.length?(a=+Y[0],r=+Y[1],et()):[a,r]},K.center=function(Y){return arguments.length?(d=Y[0]%360*_i,g=Y[1]%360*_i,et()):[d*Zr,g*Zr]},K.rotate=function(Y){return arguments.length?(_=Y[0]%360*_i,y=Y[1]%360*_i,b=Y.length>2?Y[2]%360*_i:0,et()):[_*Zr,y*Zr,b*Zr]},K.precision=function(Y){return arguments.length?(q=$m(Lt,$=Y*Y),Q()):sa($)},K.fitExtent=function(Y,gt){return ry(K,Y,gt)},K.fitSize=function(Y,gt){return PS(K,Y,gt)};function et(){T=Kv(E=gS(_,y,b),e);var Y=e(d,g);return c=a-Y[0]*s,f=r+Y[1]*s,Q()}function Q(){return V=ot=null,K}return function(){return e=t.apply(this,arguments),K.invert=e.invert&&lt,et()}}function sy(t){return function(e,s){var a=qe(e),r=qe(s),c=t(a*r);return[c*r*Ze(e),c*Ze(s)]}}function oy(t){return function(e,s){var a=sa(e*e+s*s),r=t(a),c=Ze(r),f=qe(r);return[ta(e*c,a*f),Qs(a&&s*c/a)]}}var BS=sy(function(t){return sa(2/(1+t))});BS.invert=oy(function(t){return 2*Qs(t/2)});var ay=sy(function(t){return(t=Xv(t))&&t/Ze(t)});ay.invert=oy(function(t){return t});function FS(){return RS(ay).scale(79.4188).clipAngle(180-.001)}function Gm(t,e){return[t,e]}Gm.invert=Gm;var{BufferOp:zS,GeoJSONReader:US,GeoJSONWriter:$S}=dS;function pf(t,e,s){s=s||{};var a=s.units||"kilometers",r=s.steps||8;if(!t)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var c=[];switch(t.type){case"GeometryCollection":return Dc(t,function(f){var d=Pu(f,e,a,r);d&&c.push(d)}),ec(c);case"FeatureCollection":return nc(t,function(f){var d=Pu(f,e,a,r);d&&nc(d,function(g){g&&c.push(g)})}),ec(c)}return Pu(t,e,a,r)}function Pu(t,e,s,a){var r=t.properties||{},c=t.type==="Feature"?t.geometry:t;if(c.type==="GeometryCollection"){var f=[];return Dc(t,function(A){var F=Pu(A,e,s,a);F&&f.push(F)}),ec(f)}var d=GS(c),g={type:c.type,coordinates:uy(c.coordinates,d)},_=new US,y=_.read(g),b=sS(oS(e,s),"meters"),E=zS.bufferOp(y,b,a),T=new $S;if(E=T.write(E),!ly(E.coordinates)){var I={type:E.type,coordinates:cy(E.coordinates,d)};return Yv(I,r)}}function ly(t){return Array.isArray(t[0])?ly(t[0]):isNaN(t[0])}function uy(t,e){return typeof t[0]!="object"?e(t):t.map(function(s){return uy(s,e)})}function cy(t,e){return typeof t[0]!="object"?e.invert(t):t.map(function(s){return cy(s,e)})}function GS(t){var e=uS(t).geometry.coordinates,s=[-e[0],-e[1]];return FS().rotate(s).scale(qn)}function HS(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return hy(t);case"FeatureCollection":return VS(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Jf(t);default:throw new Error("unknown GeoJSON type")}}function hy(t){const e={type:"Feature"};return Object.keys(t).forEach(s=>{switch(s){case"type":case"properties":case"geometry":return;default:e[s]=t[s]}}),e.properties=fy(t.properties),t.geometry==null?e.geometry=null:e.geometry=Jf(t.geometry),e}function fy(t){const e={};return t&&Object.keys(t).forEach(s=>{const a=t[s];typeof a=="object"?a===null?e[s]=null:Array.isArray(a)?e[s]=a.map(r=>r):e[s]=fy(a):e[s]=a}),e}function VS(t){const e={type:"FeatureCollection"};return Object.keys(t).forEach(s=>{switch(s){case"type":case"features":return;default:e[s]=t[s]}}),e.features=t.features.map(s=>hy(s)),e}function Jf(t){const e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(s=>Jf(s)),e):(e.coordinates=dy(t.coordinates),e)}function dy(t){const e=t;return typeof e[0]!="object"?e.slice():e.map(s=>dy(s))}function qS(t,e={}){var s,a;if(e=e||{},!aS(e))throw new Error("options is invalid");const r=(s=e.mutate)!=null?s:!1,c=(a=e.reverse)!=null?a:!1;if(!t)throw new Error("<geojson> is required");if(typeof c!="boolean")throw new Error("<reverse> must be a boolean");if(typeof r!="boolean")throw new Error("<mutate> must be a boolean");!r&&t.type!=="Point"&&t.type!=="MultiPoint"&&(t=HS(t));const f=[];switch(t.type){case"GeometryCollection":return Dc(t,function(d){Nu(d,c)}),t;case"FeatureCollection":return nc(t,function(d){const g=Nu(d,c);nc(g,function(_){f.push(_)})}),ec(f)}return Nu(t,c)}function Nu(t,e){switch(t.type==="Feature"?t.geometry.type:t.type){case"GeometryCollection":return Dc(t,function(a){Nu(a,e)}),t;case"LineString":return Hm(Ha(t),e),t;case"Polygon":return Vm(Ha(t),e),t;case"MultiLineString":return Ha(t).forEach(function(a){Hm(a,e)}),t;case"MultiPolygon":return Ha(t).forEach(function(a){Vm(a,e)}),t;case"Point":case"MultiPoint":return t}}function Hm(t,e){ic(t)===e&&t.reverse()}function Vm(t,e){ic(t[0])!==e&&t[0].reverse();for(let s=1;s<t.length;s++)ic(t[s])===e&&t[s].reverse()}const Xi=class Xi{constructor(){var s;if(Xi.instance)return;Xi.instance=this,this.radius=Mt(1),this.wkt=Mt(""),this.dateMin=Mt(null),this.dateMax=Mt(null),this.connector=Mt(sf(null,{})),this.itemsPerPage=Mt(10),this.nbTaxonPerLine=Mt(null),this.showFilters=Mt(!0);const e=(s=nS())==null?void 0:s.query;e&&("radius"in e&&(this.radius.value=parseInt(e.radius)),"wkt"in e&&(this.wkt.value=qm(e.wkt,this.radius.value)),"sourceGeometry"in e&&fetch(e.sourceGeometry).then(a=>a.json()).then(a=>{this.wkt.value=qm(Sr.stringify(a),this.radius.value)}).catch(a=>console.error(a)),"dateMin"in e&&(this.dateMin.value=e.dateMin),"dateMax"in e&&(this.dateMax.value=e.dateMax),"connector"in e&&(this.connector.value=sf(e.connector,{...e})),"itemsPerPage"in e&&(this.itemsPerPage.value=parseInt(e.itemsPerPage)),"nbTaxonPerLine"in e&&(this.nbTaxonPerLine.value=parseInt(e.nbTaxonPerLine)),"showFilters"in e&&(this.showFilters.value=e.showFilters=="true"),Xi.instance=this)}getParams(){const e={};return Object.entries(this).filter(([s,a])=>a!=null).forEach(([s,a])=>e[s]=a.value),e}static getInstance(){return Xi.instance||new Xi,Xi.instance}};Co(Xi,"instance",null),Co(Xi,"instance");let as=Xi;const qm=(t,e)=>{if(t&&(t.includes("POINT")||t.includes("LINESTRING"))){const s=pf(Sr.parse(t),e);return Sr.stringify(s)}return t},ZS={id:"taxon-list",class:"card"},WS={key:0,class:"card-header"},YS={class:"card-body"},jS={key:0,id:"no-observation-message",class:"col-6"},XS={key:1,id:"loading-error",class:"col-6 bg-danger"},KS={key:1,class:"card-footer"},JS={__name:"TaxonList",props:{itemsPerPage:{type:Number},nbTaxonPerLine:{type:Number,default:1},showFilters:{type:Boolean,default:!0},sortBy:{type:String,default:"nbObservations",validator(t){return["vernacularName","acceptedScientificName","nbObservations","lastSeenDate"].includes(t)}},order:{type:String,default:"desc",validator(t){return["asc","desc"].includes(t)}}},setup(t){const{t:e}=Il(),s=as.getInstance(),a=[{field_name:"vernacularName",label:e("taxon.vernacularName")},{field_name:"acceptedScientificName",label:e("taxon.scientificName")},{field_name:"nbObservations",label:e("taxon.nbObservations")},{field_name:"lastSeenDate",label:e("taxon.lastSeenDate")}],r=Mt([]),c=Mt(!1),f=Mt(!1),d=Mt(0),g=Mt(s.itemsPerPage),_=Mt("nbObservations"),y=Mt("desc"),b=Mt(""),E=t,T=s.nbTaxonPerLine.value!=null?s.nbTaxonPerLine.value:E.nbTaxonPerLine;E.sortBy&&(_.value=E.sortBy),E.order&&(y.value=E.order);const I=s.showFilters.value!=null?s.showFilters.value:E.showFilters,A=ht(()=>{const R=T===1?1:T/2;return`row row-cols-1 row-cols-lg-${T} row-cols-md-${R} g-4`});se(d,()=>{document.getElementById("taxon-list-content").scrollTo({top:0,left:0})}),se(b,()=>{d.value=0});const F=ht(()=>{let R=r.value;return b.value!==""&&(R=r.value.filter(function(D){return((D==null?void 0:D.vernacularName)!=null?D.vernacularName+" "+D.acceptedScientificName:D.acceptedScientificName).toLowerCase().includes(b.value.toLowerCase())})),iT(R,{by:_.value,order:y.value}).slice(d.value*g.value,(d.value+1)*g.value)});function M(R){R.length!==0&&(c.value=!0,f.value=!1,r.value=[],s.connector.value.fetchOccurrence({geometry:R,dateMin:s.dateMin.value,dateMax:s.dateMax.value}).then(D=>{r.value=[],Object.values(D).forEach(B=>{r.value.push(B)}),c.value=!1,d.value=0}).catch(D=>{c.value=!1,f.value=!0}))}return se([s.wkt,s.dateMin,s.dateMax],()=>{s.wkt.value&&M(s.wkt.value)}),s.wkt.value&&M(s.wkt.value),(R,D)=>{const B=ux;return At(),jt("div",ZS,[tt(I)==!0?(At(),jt("div",WS,[qt(B,{"onUpdate:searchString":D[0]||(D[0]=$=>b.value=$)}),qt($x,{"sort-by-available":a,"onUpdate:sortBy":D[1]||(D[1]=$=>_.value=$),"onUpdate:orderBy":D[2]||(D[2]=$=>y.value=$),sortBy:_.value,orderBy:y.value},null,8,["sortBy","orderBy"])])):Je("",!0),_t("div",YS,[qt(mx,{id:"loadingObs",loadingStatus:c.value},null,8,["loadingStatus"]),F.value.length==0&&!c.value&&!f.value?(At(),jt("div",jS,[_t("h5",null,te(R.$t("drawGeometry")),1),D[4]||(D[4]=_t("h5",null,[_t("i",{class:"bi bi-square-fill"}),tn(),_t("i",{class:"bi bi-hexagon-fill"}),_t("i",{class:"bi bi-circle-fill"}),tn(),_t("i",{class:"bi bi-geo-fill"})],-1))])):Je("",!0),f.value==!0?(At(),jt("div",XS,D[5]||(D[5]=[_t("h5",null,[_t("i",{class:"bi bi-bug"}),tn(" Erreur de chargement des donnes")],-1)]))):Je("",!0),_t("div",{id:"taxon-list-content",class:Be(A.value)},[(At(!0),jt(ge,null,Zs(F.value,$=>(At(),Fe(Sx,{taxonId:$.taxonId,"scientific-name":$.acceptedScientificName,"vernacular-name":$.vernacularName,description:$.acceptedScientificName,observationDate:$.lastSeenDate,count:$.nbObservations,rank:$.taxonRank,connector:tt(s).connector.value,key:$.taxonId},null,8,["taxonId","scientific-name","vernacular-name","description","observationDate","count","rank","connector"]))),128))],2)]),F.value.length>0?(At(),jt("div",KS,[qt(Dx,{pageIndex:d.value,"total-items":r.value.length,itemPerPage:tt(s).itemsPerPage.value,"onUpdate:page":D[3]||(D[3]=$=>d.value=$)},null,8,["pageIndex","total-items","itemPerPage"])])):Je("",!0)])}}},Qf=gs(JS,[["__scopeId","data-v-385886fb"]]);var Za={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var QS=Za.exports,Zm;function tI(){return Zm||(Zm=1,function(t,e){(function(s,a){a(e)})(QS,function(s){var a="1.9.4";function r(o){var h,m,w,x;for(m=1,w=arguments.length;m<w;m++){x=arguments[m];for(h in x)o[h]=x[h]}return o}var c=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function f(o,h){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var w=m.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(m.call(arguments)):arguments)}}var d=0;function g(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function _(o,h,m){var w,x,O,Z;return Z=function(){w=!1,x&&(O.apply(m,x),x=!1)},O=function(){w?x=arguments:(o.apply(m,arguments),setTimeout(Z,h),w=!0)},O}function y(o,h,m){var w=h[1],x=h[0],O=w-x;return o===w&&m?o:((o-x)%O+O)%O+x}function b(){return!1}function E(o,h){if(h===!1)return o;var m=Math.pow(10,h===void 0?6:h);return Math.round(o*m)/m}function T(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function I(o){return T(o).split(/\s+/)}function A(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?c(o.options):{});for(var m in h)o.options[m]=h[m];return o.options}function F(o,h,m){var w=[];for(var x in o)w.push(encodeURIComponent(m?x.toUpperCase():x)+"="+encodeURIComponent(o[x]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function R(o,h){return o.replace(M,function(m,w){var x=h[w];if(x===void 0)throw new Error("No value provided for variable "+m);return typeof x=="function"&&(x=x(h)),x})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function B(o,h){for(var m=0;m<o.length;m++)if(o[m]===h)return m;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var V=0;function ot(o){var h=+new Date,m=Math.max(0,16-(h-V));return V=h+m,window.setTimeout(o,m)}var K=window.requestAnimationFrame||q("RequestAnimationFrame")||ot,lt=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Lt(o,h,m){if(m&&K===ot)o.call(h);else return K.call(window,f(o,h))}function et(o){o&&lt.call(window,o)}var Q={__proto__:null,extend:r,create:c,bind:f,get lastId(){return d},stamp:g,throttle:_,wrapNum:y,falseFn:b,formatNum:E,trim:T,splitWords:I,setOptions:A,getParamString:F,template:R,isArray:D,indexOf:B,emptyImageUrl:$,requestFn:K,cancelFn:lt,requestAnimFrame:Lt,cancelAnimFrame:et};function Y(){}Y.extend=function(o){var h=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=h.__super__=this.prototype,w=c(m);w.constructor=h,h.prototype=w;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(h[x]=this[x]);return o.statics&&r(h,o.statics),o.includes&&(gt(o.includes),r.apply(null,[w].concat(o.includes))),r(w,o),delete w.statics,delete w.includes,w.options&&(w.options=m.options?c(m.options):{},r(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,Z=w._initHooks.length;O<Z;O++)w._initHooks[O].call(this)}},h},Y.include=function(o){var h=this.prototype.options;return r(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},Y.mergeOptions=function(o){return r(this.prototype.options,o),this},Y.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function gt(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var vt={on:function(o,h,m){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=I(o);for(var x=0,O=o.length;x<O;x++)this._on(o[x],h,m)}return this},off:function(o,h,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=I(o);for(var x=arguments.length===1,O=0,Z=o.length;O<Z;O++)x?this._off(o[O]):this._off(o[O],h,m)}return this},_on:function(o,h,m,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,m)===!1){m===this&&(m=void 0);var x={fn:h,ctx:m};w&&(x.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(x)}},_off:function(o,h,m){var w,x,O;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(x=0,O=w.length;x<O;x++)w[x].fn=b;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Z=this._listens(o,h,m);if(Z!==!1){var rt=w[Z];this._firingCount&&(rt.fn=b,this._events[o]=w=w.slice()),w.splice(Z,1)}}},fire:function(o,h,m){if(!this.listens(o,m))return this;var w=r({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var x=this._events[o];if(x){this._firingCount=this._firingCount+1||1;for(var O=0,Z=x.length;O<Z;O++){var rt=x[O],ut=rt.fn;rt.once&&this.off(o,ut,rt.ctx),ut.call(rt.ctx||this,w)}this._firingCount--}}return m&&this._propagateEvent(w),this},listens:function(o,h,m,w){typeof o!="string"&&console.warn('"string" type argument expected');var x=h;typeof h!="function"&&(w=!!h,x=void 0,m=void 0);var O=this._events&&this._events[o];if(O&&O.length&&this._listens(o,x,m)!==!1)return!0;if(w){for(var Z in this._eventParents)if(this._eventParents[Z].listens(o,h,m,w))return!0}return!1},_listens:function(o,h,m){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;m===this&&(m=void 0);for(var x=0,O=w.length;x<O;x++)if(w[x].fn===h&&w[x].ctx===m)return x;return!1},once:function(o,h,m){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=I(o);for(var x=0,O=o.length;x<O;x++)this._on(o[x],h,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[g(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[g(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,r({layer:o.target,propagatedFrom:o.target},o),!0)}};vt.addEventListener=vt.on,vt.removeEventListener=vt.clearAllEventListeners=vt.off,vt.addOneTimeEventListener=vt.once,vt.fireEvent=vt.fire,vt.hasEventListeners=vt.listens;var Et=Y.extend(vt);function ft(o,h,m){this.x=m?Math.round(o):o,this.y=m?Math.round(h):h}var Pt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(o){return this.clone()._add(at(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(at(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ft(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ft(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pt(this.x),this.y=Pt(this.y),this},distanceTo:function(o){o=at(o);var h=o.x-this.x,m=o.y-this.y;return Math.sqrt(h*h+m*m)},equals:function(o){return o=at(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=at(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function at(o,h,m){return o instanceof ft?o:D(o)?new ft(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ft(o.x,o.y):new ft(o,h,m)}function Dt(o,h){if(o)for(var m=h?[o,h]:o,w=0,x=m.length;w<x;w++)this.extend(m[w])}Dt.prototype={extend:function(o){var h,m;if(!o)return this;if(o instanceof ft||typeof o[0]=="number"||"x"in o)h=m=at(o);else if(o=Gt(o),h=o.min,m=o.max,!h||!m)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=m.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return at((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return at(this.min.x,this.max.y)},getTopRight:function(){return at(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,m;return typeof o[0]=="number"||o instanceof ft?o=at(o):o=Gt(o),o instanceof Dt?(h=o.min,m=o.max):h=m=o,h.x>=this.min.x&&m.x<=this.max.x&&h.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=Gt(o);var h=this.min,m=this.max,w=o.min,x=o.max,O=x.x>=h.x&&w.x<=m.x,Z=x.y>=h.y&&w.y<=m.y;return O&&Z},overlaps:function(o){o=Gt(o);var h=this.min,m=this.max,w=o.min,x=o.max,O=x.x>h.x&&w.x<m.x,Z=x.y>h.y&&w.y<m.y;return O&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,m=this.max,w=Math.abs(h.x-m.x)*o,x=Math.abs(h.y-m.y)*o;return Gt(at(h.x-w,h.y-x),at(m.x+w,m.y+x))},equals:function(o){return o?(o=Gt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Gt(o,h){return!o||o instanceof Dt?o:new Dt(o,h)}function Bt(o,h){if(o)for(var m=h?[o,h]:o,w=0,x=m.length;w<x;w++)this.extend(m[w])}Bt.prototype={extend:function(o){var h=this._southWest,m=this._northEast,w,x;if(o instanceof bt)w=o,x=o;else if(o instanceof Bt){if(w=o._southWest,x=o._northEast,!w||!x)return this}else return o?this.extend(Tt(o)||It(o)):this;return!h&&!m?(this._southWest=new bt(w.lat,w.lng),this._northEast=new bt(x.lat,x.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),m.lat=Math.max(x.lat,m.lat),m.lng=Math.max(x.lng,m.lng)),this},pad:function(o){var h=this._southWest,m=this._northEast,w=Math.abs(h.lat-m.lat)*o,x=Math.abs(h.lng-m.lng)*o;return new Bt(new bt(h.lat-w,h.lng-x),new bt(m.lat+w,m.lng+x))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof bt||"lat"in o?o=Tt(o):o=It(o);var h=this._southWest,m=this._northEast,w,x;return o instanceof Bt?(w=o.getSouthWest(),x=o.getNorthEast()):w=x=o,w.lat>=h.lat&&x.lat<=m.lat&&w.lng>=h.lng&&x.lng<=m.lng},intersects:function(o){o=It(o);var h=this._southWest,m=this._northEast,w=o.getSouthWest(),x=o.getNorthEast(),O=x.lat>=h.lat&&w.lat<=m.lat,Z=x.lng>=h.lng&&w.lng<=m.lng;return O&&Z},overlaps:function(o){o=It(o);var h=this._southWest,m=this._northEast,w=o.getSouthWest(),x=o.getNorthEast(),O=x.lat>h.lat&&w.lat<m.lat,Z=x.lng>h.lng&&w.lng<m.lng;return O&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=It(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function It(o,h){return o instanceof Bt?o:new Bt(o,h)}function bt(o,h,m){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,m!==void 0&&(this.alt=+m)}bt.prototype={equals:function(o,h){if(!o)return!1;o=Tt(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+E(this.lat,o)+", "+E(this.lng,o)+")"},distanceTo:function(o){return G.distance(this,Tt(o))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,m=h/Math.cos(Math.PI/180*this.lat);return It([this.lat-h,this.lng-m],[this.lat+h,this.lng+m])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Tt(o,h,m){return o instanceof bt?o:D(o)&&typeof o[0]!="object"?o.length===3?new bt(o[0],o[1],o[2]):o.length===2?new bt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new bt(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new bt(o,h,m)}var it={latLngToPoint:function(o,h){var m=this.projection.project(o),w=this.scale(h);return this.transformation._transform(m,w)},pointToLatLng:function(o,h){var m=this.scale(h),w=this.transformation.untransform(o,m);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,m=this.scale(o),w=this.transformation.transform(h.min,m),x=this.transformation.transform(h.max,m);return new Dt(w,x)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?y(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?y(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new bt(m,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),m=this.wrapLatLng(h),w=h.lat-m.lat,x=h.lng-m.lng;if(w===0&&x===0)return o;var O=o.getSouthWest(),Z=o.getNorthEast(),rt=new bt(O.lat-w,O.lng-x),ut=new bt(Z.lat-w,Z.lng-x);return new Bt(rt,ut)}},G=r({},it,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var m=Math.PI/180,w=o.lat*m,x=h.lat*m,O=Math.sin((h.lat-o.lat)*m/2),Z=Math.sin((h.lng-o.lng)*m/2),rt=O*O+Math.cos(w)*Math.cos(x)*Z*Z,ut=2*Math.atan2(Math.sqrt(rt),Math.sqrt(1-rt));return this.R*ut}}),kt=6378137,Ct={R:kt,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,m=this.MAX_LATITUDE,w=Math.max(Math.min(m,o.lat),-m),x=Math.sin(w*h);return new ft(this.R*o.lng*h,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(o){var h=180/Math.PI;return new bt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=kt*Math.PI;return new Dt([-o,-o],[o,o])}()};function St(o,h,m,w){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=m,this._d=w}St.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new ft((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function C(o,h,m,w){return new St(o,h,m,w)}var H=r({},G,{code:"EPSG:3857",projection:Ct,transformation:function(){var o=.5/(Math.PI*Ct.R);return C(o,.5,-o,.5)}()}),J=r({},H,{code:"EPSG:900913"});function dt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function mt(o,h){var m="",w,x,O,Z,rt,ut;for(w=0,O=o.length;w<O;w++){for(rt=o[w],x=0,Z=rt.length;x<Z;x++)ut=rt[x],m+=(x?"L":"M")+ut.x+" "+ut.y;m+=h?Yt.svg?"z":"x":""}return m||"M0 0"}var pt=document.documentElement.style,z="ActiveXObject"in window,P=z&&!document.addEventListener,j="msLaunchUri"in navigator&&!("documentMode"in document),st=cn("webkit"),Rt=cn("android"),yt=cn("android 2")||cn("android 3"),W=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ct=Rt&&cn("Google")&&W<537&&!("AudioNode"in window),zt=!!window.opera,Kt=!j&&cn("chrome"),Nt=cn("gecko")&&!st&&!zt&&!z,Ue=!Kt&&cn("safari"),Wt=cn("phantom"),Zt="OTransition"in pt,Cn=navigator.platform.indexOf("Win")===0,un=z&&"transition"in pt,Nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yt,Ht="MozPerspective"in pt,$n=!window.L_DISABLE_3D&&(un||Nr||Ht)&&!Zt&&!Wt,Fi=typeof orientation<"u"||cn("mobile"),oa=Fi&&st,Gn=Fi&&Nr,Or=!window.PointerEvent&&window.MSPointerEvent,Kn=!!(window.PointerEvent||Or),aa="ontouchstart"in window||!!window.TouchEvent,io=!window.L_NO_TOUCH&&(aa||Kn),Bc=Fi&&zt,Ol=Fi&&Nt,or=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ot=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",b,h),window.removeEventListener("testPassiveEventSupport",b,h)}catch{}return o}(),ro=function(){return!!document.createElement("canvas").getContext}(),Mr=!!(document.createElementNS&&dt("svg").createSVGRect),ys=!!Mr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ml=!Mr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),la=navigator.platform.indexOf("Mac")===0,Al=navigator.platform.indexOf("Linux")===0;function cn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Yt={ie:z,ielt9:P,edge:j,webkit:st,android:Rt,android23:yt,androidStock:ct,opera:zt,chrome:Kt,gecko:Nt,safari:Ue,phantom:Wt,opera12:Zt,win:Cn,ie3d:un,webkit3d:Nr,gecko3d:Ht,any3d:$n,mobile:Fi,mobileWebkit:oa,mobileWebkit3d:Gn,msPointer:Or,pointer:Kn,touch:io,touchNative:aa,mobileOpera:Bc,mobileGecko:Ol,retina:or,passiveEvents:Ot,canvas:ro,svg:Mr,vml:Ml,inlineSvg:ys,mac:la,linux:Al},bs=Yt.msPointer?"MSPointerDown":"pointerdown",Rl=Yt.msPointer?"MSPointerMove":"pointermove",ua=Yt.msPointer?"MSPointerUp":"pointerup",Dl=Yt.msPointer?"MSPointerCancel":"pointercancel",vn={touchstart:bs,touchmove:Rl,touchend:ua,touchcancel:Dl},so={touchstart:lo,touchmove:ao,touchend:ao,touchcancel:ao},oi={},zi=!1;function ar(o,h,m){return h==="touchstart"&&Fc(),so[h]?(m=so[h].bind(this,m),o.addEventListener(vn[h],m,!1),m):(console.warn("wrong event specified:",h),b)}function ca(o,h,m){if(!vn[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(vn[h],m,!1)}function oo(o){oi[o.pointerId]=o}function ws(o){oi[o.pointerId]&&(oi[o.pointerId]=o)}function We(o){delete oi[o.pointerId]}function Fc(){zi||(document.addEventListener(bs,oo,!0),document.addEventListener(Rl,ws,!0),document.addEventListener(ua,We,!0),document.addEventListener(Dl,We,!0),zi=!0)}function ao(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var m in oi)h.touches.push(oi[m]);h.changedTouches=[h],o(h)}}function lo(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ve(h),ao(o,h)}function Ls(o){var h={},m,w;for(w in o)m=o[w],h[w]=m&&m.bind?m.bind(o):m;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ha=200;function fa(o,h){o.addEventListener("dblclick",h);var m=0,w;function x(O){if(O.detail!==1){w=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var Z=fn(O);if(!(Z.some(function(ut){return ut instanceof HTMLLabelElement&&ut.attributes.for})&&!Z.some(function(ut){return ut instanceof HTMLInputElement||ut instanceof HTMLSelectElement}))){var rt=Date.now();rt-m<=ha?(w++,w===2&&h(Ls(O))):w=1,m=rt}}}return o.addEventListener("click",x),{dblclick:h,simDblclick:x}}function Bl(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var da=fo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yn=fo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lr=yn==="webkitTransition"||yn==="OTransition"?yn+"End":"transitionend";function uo(o){return typeof o=="string"?document.getElementById(o):o}function ai(o,h){var m=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!m||m==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);m=w?w[h]:null}return m==="auto"?null:m}function ce(o,h,m){var w=document.createElement(o);return w.className=h||"",m&&m.appendChild(w),w}function Re(o){var h=o.parentNode;h&&h.removeChild(o)}function co(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ar(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function ur(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function ho(o,h){if(o.classList!==void 0)return o.classList.contains(h);var m=Es(o);return m.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(m)}function ne(o,h){if(o.classList!==void 0)for(var m=I(h),w=0,x=m.length;w<x;w++)o.classList.add(m[w]);else if(!ho(o,h)){var O=Es(o);li(o,(O?O+" ":"")+h)}}function _e(o,h){o.classList!==void 0?o.classList.remove(h):li(o,T((" "+Es(o)+" ").replace(" "+h+" "," ")))}function li(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Es(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function rn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&zc(o,h)}function zc(o,h){var m=!1,w="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),m?(m.Enabled=h!==100,m.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function fo(o){for(var h=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in h)return o[m];return!1}function cr(o,h,m){var w=h||new ft(0,0);o.style[da]=(Yt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(m?" scale("+m+")":"")}function Ye(o,h){o._leaflet_pos=h,Yt.any3d?cr(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Ui(o){return o._leaflet_pos||new ft(0,0)}var Ei,Rr,pa;if("onselectstart"in document)Ei=function(){ie(window,"selectstart",Ve)},Rr=function(){xe(window,"selectstart",Ve)};else{var Dr=fo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ei=function(){if(Dr){var o=document.documentElement.style;pa=o[Dr],o[Dr]="none"}},Rr=function(){Dr&&(document.documentElement.style[Dr]=pa,pa=void 0)}}function ma(){ie(window,"dragstart",Ve)}function ks(){xe(window,"dragstart",Ve)}var ke,ki;function ga(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Br(),ke=o,ki=o.style.outlineStyle,o.style.outlineStyle="none",ie(window,"keydown",Br))}function Br(){ke&&(ke.style.outlineStyle=ki,ke=void 0,ki=void 0,xe(window,"keydown",Br))}function Sn(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function kn(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var po={__proto__:null,TRANSFORM:da,TRANSITION:yn,TRANSITION_END:lr,get:uo,getStyle:ai,create:ce,remove:Re,empty:co,toFront:Ar,toBack:ur,hasClass:ho,addClass:ne,removeClass:_e,setClass:li,getClass:Es,setOpacity:rn,testProp:fo,setTransform:cr,setPosition:Ye,getPosition:Ui,get disableTextSelection(){return Ei},get enableTextSelection(){return Rr},disableImageDrag:ma,enableImageDrag:ks,preventOutline:ga,restoreOutline:Br,getSizedParentNode:Sn,getScale:kn};function ie(o,h,m,w){if(h&&typeof h=="object")for(var x in h)mo(o,x,h[x],m);else{h=I(h);for(var O=0,Z=h.length;O<Z;O++)mo(o,h[O],m,w)}return this}var ui="_leaflet_events";function xe(o,h,m,w){if(arguments.length===1)xs(o),delete o[ui];else if(h&&typeof h=="object")for(var x in h)fe(o,x,h[x],m);else if(h=I(h),arguments.length===2)xs(o,function(rt){return B(h,rt)!==-1});else for(var O=0,Z=h.length;O<Z;O++)fe(o,h[O],m,w);return this}function xs(o,h){for(var m in o[ui]){var w=m.split(/\d/)[0];(!h||h(w))&&fe(o,w,null,null,m)}}var _a={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mo(o,h,m,w){var x=h+g(m)+(w?"_"+g(w):"");if(o[ui]&&o[ui][x])return this;var O=function(rt){return m.call(w||o,rt||window.event)},Z=O;!Yt.touchNative&&Yt.pointer&&h.indexOf("touch")===0?O=ar(o,h,O):Yt.touch&&h==="dblclick"?O=fa(o,O):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(_a[h]||h,O,Yt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(O=function(rt){rt=rt||window.event,go(o,rt)&&Z(rt)},o.addEventListener(_a[h],O,!1)):o.addEventListener(h,Z,!1):o.attachEvent("on"+h,O),o[ui]=o[ui]||{},o[ui][x]=O}function fe(o,h,m,w,x){x=x||h+g(m)+(w?"_"+g(w):"");var O=o[ui]&&o[ui][x];if(!O)return this;!Yt.touchNative&&Yt.pointer&&h.indexOf("touch")===0?ca(o,h,O):Yt.touch&&h==="dblclick"?Bl(o,O):"removeEventListener"in o?o.removeEventListener(_a[h]||h,O,!1):o.detachEvent("on"+h,O),o[ui][x]=null}function hn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ts(o){return mo(o,"wheel",hn),this}function Fr(o){return ie(o,"mousedown touchstart dblclick contextmenu",hn),o._leaflet_disable_click=!0,this}function Ve(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function $i(o){return Ve(o),hn(o),this}function fn(o){if(o.composedPath)return o.composedPath();for(var h=[],m=o.target;m;)h.push(m),m=m.parentNode;return h}function va(o,h){if(!h)return new ft(o.clientX,o.clientY);var m=kn(h),w=m.boundingClientRect;return new ft((o.clientX-w.left)/m.x-h.clientLeft,(o.clientY-w.top)/m.y-h.clientTop)}var ya=Yt.linux&&Yt.chrome?window.devicePixelRatio:Yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ba(o){return Yt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ya:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function go(o,h){var m=h.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var Uc={__proto__:null,on:ie,off:xe,stopPropagation:hn,disableScrollPropagation:Ts,disableClickPropagation:Fr,preventDefault:Ve,stop:$i,getPropagationPath:fn,getMousePosition:va,getWheelDelta:ba,isExternalTarget:go,addListener:ie,removeListener:xe},wa=Et.extend({run:function(o,h,m,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Ui(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Lt(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,m=this._duration*1e3;h<m?this._runFrame(this._easeOut(h/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var m=this._startPos.add(this._offset.multiplyBy(o));h&&m._round(),Ye(this._el,m),this.fire("step")},_complete:function(){et(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),re=Et.extend({options:{crs:H,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=A(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Tt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yn&&Yt.any3d&&!Yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ie(this._proxy,lr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,m){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Tt(o),h,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=r({animate:m.animate},m.zoom),m.pan=r({animate:m.animate,duration:m.duration},m.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,m.zoom):this._tryAnimatedPan(o,m.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,m){var w=this.getZoomScale(h),x=this.getSize().divideBy(2),O=o instanceof ft?o:this.latLngToContainerPoint(o),Z=O.subtract(x).multiplyBy(1-1/w),rt=this.containerPointToLatLng(x.add(Z));return this.setView(rt,h,{zoom:m})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():It(o);var m=at(h.paddingTopLeft||h.padding||[0,0]),w=at(h.paddingBottomRight||h.padding||[0,0]),x=this.getBoundsZoom(o,!1,m.add(w));if(x=typeof h.maxZoom=="number"?Math.min(h.maxZoom,x):x,x===1/0)return{center:o.getCenter(),zoom:x};var O=w.subtract(m).divideBy(2),Z=this.project(o.getSouthWest(),x),rt=this.project(o.getNorthEast(),x),ut=this.unproject(Z.add(rt).divideBy(2).add(O),x);return{center:ut,zoom:x}},fitBounds:function(o,h){if(o=It(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,h);return this.setView(m.center,m.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=at(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,m){if(m=m||{},m.animate===!1||!Yt.any3d)return this.setView(o,h,m);this._stop();var w=this.project(this.getCenter()),x=this.project(o),O=this.getSize(),Z=this._zoom;o=Tt(o),h=h===void 0?Z:h;var rt=Math.max(O.x,O.y),ut=rt*this.getZoomScale(Z,h),xt=x.distanceTo(w)||1,Ut=1.42,Qt=Ut*Ut;function ue(en){var Kl=en?-1:1,Ey=en?ut:rt,ky=ut*ut-rt*rt+Kl*Qt*Qt*xt*xt,xy=2*Ey*Qt*xt,Jc=ky/xy,cd=Math.sqrt(Jc*Jc+1)-Jc,Ty=cd<1e-9?-18:Math.log(cd);return Ty}function Nn(en){return(Math.exp(en)-Math.exp(-en))/2}function pn(en){return(Math.exp(en)+Math.exp(-en))/2}function mi(en){return Nn(en)/pn(en)}var Vn=ue(0);function To(en){return rt*(pn(Vn)/pn(Vn+Ut*en))}function yy(en){return rt*(pn(Vn)*mi(Vn+Ut*en)-Nn(Vn))/Qt}function by(en){return 1-Math.pow(1-en,1.5)}var wy=Date.now(),ld=(ue(1)-Vn)/Ut,Ly=m.duration?1e3*m.duration:1e3*ld*.8;function ud(){var en=(Date.now()-wy)/Ly,Kl=by(en)*ld;en<=1?(this._flyToFrame=Lt(ud,this),this._move(this.unproject(w.add(x.subtract(w).multiplyBy(yy(Kl)/xt)),Z),this.getScaleZoom(rt/To(Kl),Z),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),ud.call(this),this},flyToBounds:function(o,h){var m=this._getBoundsCenterZoom(o,h);return this.flyTo(m.center,m.zoom,h)},setMaxBounds:function(o){return o=It(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var m=this.getCenter(),w=this._limitCenter(m,this._zoom,It(o));return m.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var m=at(h.paddingTopLeft||h.padding||[0,0]),w=at(h.paddingBottomRight||h.padding||[0,0]),x=this.project(this.getCenter()),O=this.project(o),Z=this.getPixelBounds(),rt=Gt([Z.min.add(m),Z.max.subtract(w)]),ut=rt.getSize();if(!rt.contains(O)){this._enforcingBounds=!0;var xt=O.subtract(rt.getCenter()),Ut=rt.extend(O).getSize().subtract(ut);x.x+=xt.x<0?-Ut.x:Ut.x,x.y+=xt.y<0?-Ut.y:Ut.y,this.panTo(this.unproject(x),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=r({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),w=h.divideBy(2).round(),x=m.divideBy(2).round(),O=w.subtract(x);return!O.x&&!O.y?this:(o.animate&&o.pan?this.panBy(O):(o.pan&&this._rawPanBy(O),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=r({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,m,o):navigator.geolocation.getCurrentPosition(h,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,m=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,m=o.coords.longitude,w=new bt(h,m),x=w.toBounds(o.coords.accuracy*2),O=this._locateOptions;if(O.setView){var Z=this.getBoundsZoom(x);this.setView(w,O.maxZoom?Math.min(Z,O.maxZoom):Z)}var rt={latlng:w,bounds:x,timestamp:o.timestamp};for(var ut in o.coords)typeof o.coords[ut]=="number"&&(rt[ut]=o.coords[ut]);this.fire("locationfound",rt)}},addHandler:function(o,h){if(!h)return this;var m=this[o]=new h(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(et(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Re(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=ce("div",m,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new Bt(h,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,m){o=It(o),m=at(m||[0,0]);var w=this.getZoom()||0,x=this.getMinZoom(),O=this.getMaxZoom(),Z=o.getNorthWest(),rt=o.getSouthEast(),ut=this.getSize().subtract(m),xt=Gt(this.project(rt,w),this.project(Z,w)).getSize(),Ut=Yt.any3d?this.options.zoomSnap:1,Qt=ut.x/xt.x,ue=ut.y/xt.y,Nn=h?Math.max(Qt,ue):Math.min(Qt,ue);return w=this.getScaleZoom(Nn,w),Ut&&(w=Math.round(w/(Ut/100))*(Ut/100),w=h?Math.ceil(w/Ut)*Ut:Math.floor(w/Ut)*Ut),Math.max(x,Math.min(O,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var m=this._getTopLeftPoint(o,h);return new Dt(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var m=this.options.crs;return h=h===void 0?this._zoom:h,m.scale(o)/m.scale(h)},getScaleZoom:function(o,h){var m=this.options.crs;h=h===void 0?this._zoom:h;var w=m.zoom(o*m.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Tt(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(at(o),h)},layerPointToLatLng:function(o){var h=at(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Tt(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Tt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(It(o))},distance:function(o,h){return this.options.crs.distance(Tt(o),Tt(h))},containerPointToLayerPoint:function(o){return at(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return at(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(at(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(o)))},mouseEventToContainerPoint:function(o){return va(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=uo(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ie(h,"scroll",this._onScroll,this),this._containerId=g(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Yt.any3d,ne(o,"leaflet-container"+(Yt.touch?" leaflet-touch":"")+(Yt.retina?" leaflet-retina":"")+(Yt.ielt9?" leaflet-oldie":"")+(Yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=ai(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ye(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(o.markerPane,"leaflet-zoom-hide"),ne(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,m){Ye(this._mapPane,new ft(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var x=this._zoom!==h;this._moveStart(x,m)._move(o,h)._moveEnd(x),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,m,w){h===void 0&&(h=this._zoom);var x=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?m&&m.pinch&&this.fire("zoom",m):((x||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return et(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ye(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[g(this._container)]=this;var h=o?xe:ie;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Yt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){et(this._resizeRequest),this._resizeRequest=Lt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var m=[],w,x=h==="mouseout"||h==="mouseover",O=o.target||o.srcElement,Z=!1;O;){if(w=this._targets[g(O)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){Z=!0;break}if(w&&w.listens(h,!0)&&(x&&!go(O,o)||(m.push(w),x))||O===this._container)break;O=O.parentNode}return!m.length&&!Z&&!x&&this.listens(h,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var m=o.type;m==="mousedown"&&ga(h),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,m){if(o.type==="click"){var w=r({},o);w.type="preclick",this._fireDOMEvent(w,w.type,m)}var x=this._findEventTargets(o,h);if(m){for(var O=[],Z=0;Z<m.length;Z++)m[Z].listens(h,!0)&&O.push(m[Z]);x=O.concat(x)}if(x.length){h==="contextmenu"&&Ve(o);var rt=x[0],ut={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var xt=rt.getLatLng&&(!rt._radius||rt._radius<=10);ut.containerPoint=xt?this.latLngToContainerPoint(rt.getLatLng()):this.mouseEventToContainerPoint(o),ut.layerPoint=this.containerPointToLayerPoint(ut.containerPoint),ut.latlng=xt?rt.getLatLng():this.layerPointToLatLng(ut.layerPoint)}for(Z=0;Z<x.length;Z++)if(x[Z].fire(h,ut,!0),ut.originalEvent._stopped||x[Z].options.bubblingMouseEvents===!1&&B(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Ui(this._mapPane)||new ft(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var m=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var m=this.getSize()._divideBy(2);return this.project(o,h)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,m){var w=this._getNewPixelOrigin(m,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,m){var w=this._getNewPixelOrigin(m,h);return Gt([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,m){if(!m)return o;var w=this.project(o,h),x=this.getSize().divideBy(2),O=new Dt(w.subtract(x),w.add(x)),Z=this._getBoundsOffset(O,m,h);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?o:this.unproject(w.add(Z),h)},_limitOffset:function(o,h){if(!h)return o;var m=this.getPixelBounds(),w=new Dt(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,m){var w=Gt(this.project(h.getNorthEast(),m),this.project(h.getSouthWest(),m)),x=w.min.subtract(o.min),O=w.max.subtract(o.max),Z=this._rebound(x.x,-O.x),rt=this._rebound(x.y,-O.y);return new ft(Z,rt)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),m=this.getMaxZoom(),w=Yt.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var m=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,h),!0)},_createAnimProxy:function(){var o=this._proxy=ce("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var m=da,w=this._proxy.style[m];cr(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();cr(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),x=this._getCenterOffset(o)._divideBy(1-1/w);return m.animate!==!0&&!this.getSize().contains(x)?!1:(Lt(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,m,w){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _o(o,h){return new re(o,h)}var Jn=Y.extend({options:{position:"topright"},initialize:function(o){A(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),m=this.getPosition(),w=o._controlCorners[m];return ne(h,"leaflet-control"),m.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),dn=function(o){return new Jn(o)};re.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",m=this._controlContainer=ce("div",h+"control-container",this._container);function w(x,O){var Z=h+x+" "+h+O;o[x+O]=ce("div",Z,m)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Re(this._controlCorners[o]);Re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hr=Jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,m,w){return m<w?-1:w<m?1:0}},initialize:function(o,h,m){A(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Jn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(g(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):_e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=ce("div",o),m=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Fr(h),Ts(h);var w=this._section=ce("section",o+"-list");m&&(this._map.on("click",this.collapse,this),ie(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=ce("a",o+"-toggle",h);x.href="#",x.title="Layers",x.setAttribute("role","button"),ie(x,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){Ve(O),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ce("div",o+"-base",w),this._separator=ce("div",o+"-separator",w),this._overlaysList=ce("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&g(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(w,x){return this.options.sortFunction(w.layer,x.layer,w.name,x.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;co(this._baseLayersList),co(this._overlaysList),this._layerControlInputs=[];var o,h,m,w,x=0;for(m=0;m<this._layers.length;m++)w=this._layers[m],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,x+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&x>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(g(o.target)),m=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,h)},_createRadioElement:function(o,h){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=m,w.firstChild},_addItem:function(o){var h=document.createElement("label"),m=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=m):w=this._createRadioElement("leaflet-base-layers_"+g(this),m),this._layerControlInputs.push(w),w.layerId=g(o.layer),ie(w,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+o.name;var O=document.createElement("span");h.appendChild(O),O.appendChild(w),O.appendChild(x);var Z=o.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,m,w=[],x=[];this._handlingClick=!0;for(var O=o.length-1;O>=0;O--)h=o[O],m=this._getLayer(h.layerId).layer,h.checked?w.push(m):h.checked||x.push(m);for(O=0;O<x.length;O++)this._map.hasLayer(x[O])&&this._map.removeLayer(x[O]);for(O=0;O<w.length;O++)this._map.hasLayer(w[O])||this._map.addLayer(w[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,m,w=this._map.getZoom(),x=o.length-1;x>=0;x--)h=o[x],m=this._getLayer(h.layerId).layer,h.disabled=m.options.minZoom!==void 0&&w<m.options.minZoom||m.options.maxZoom!==void 0&&w>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ie(o,"click",Ve),this.expand();var h=this;setTimeout(function(){xe(o,"click",Ve),h._preventClick=!1})}}),$c=function(o,h,m){return new hr(o,h,m)},Gi=Jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",m=ce("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,m,w,x){var O=ce("a",m,w);return O.innerHTML=o,O.href="#",O.title=h,O.setAttribute("role","button"),O.setAttribute("aria-label",h),Fr(O),ie(O,"click",$i),ie(O,"click",x,this),ie(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";_e(this._zoomInButton,h),_e(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ne(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ne(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gi,this.addControl(this.zoomControl))});var Fl=function(o){return new Gi(o)},fr=Jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",m=ce("div",h),w=this.options;return this._addScales(w,h+"-line",m),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,m){o.metric&&(this._mScale=ce("div",h,m)),o.imperial&&(this._iScale=ce("div",h,m))},_update:function(){var o=this._map,h=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),m=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,m,h/o)},_updateImperial:function(o){var h=o*3.2808399,m,w,x;h>5280?(m=h/5280,w=this._getRoundNum(m),this._updateScale(this._iScale,w+" mi",w/m)):(x=this._getRoundNum(h),this._updateScale(this._iScale,x+" ft",x/h))},_updateScale:function(o,h,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),m=o/h;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,h*m}}),Gc=function(o){return new fr(o)},ci='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vo=Jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Yt.inlineSvg?ci+" ":"")+"Leaflet</a>"},initialize:function(o){A(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ce("div","leaflet-control-attribution"),Fr(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new vo().addTo(this)});var Hc=function(o){return new vo(o)};Jn.Layers=hr,Jn.Zoom=Gi,Jn.Scale=fr,Jn.Attribution=vo,dn.layers=$c,dn.zoom=Fl,dn.scale=Gc,dn.attribution=Hc;var hi=Y.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(o,h){return o.addHandler(h,this),this};var Vc={Events:vt},zl=Yt.touch?"touchstart mousedown":"mousedown",Hi=Et.extend({options:{clickTolerance:3},initialize:function(o,h,m,w){A(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=m},enable:function(){this._enabled||(ie(this._dragStartTarget,zl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hi._dragging===this&&this.finishDrag(!0),xe(this._dragStartTarget,zl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ho(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Hi._dragging===this&&this.finishDrag();return}if(!(Hi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Hi._dragging=this,this._preventOutline&&ga(this._element),ma(),Ei(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,m=Sn(this._element);this._startPoint=new ft(h.clientX,h.clientY),this._startPos=Ui(this._element),this._parentScale=kn(m);var w=o.type==="mousedown";ie(document,w?"mousemove":"touchmove",this._onMove,this),ie(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,m=new ft(h.clientX,h.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ve(o),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ye(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){_e(document.body,"leaflet-dragging"),this._lastTarget&&(_e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xe(document,"mousemove touchmove",this._onMove,this),xe(document,"mouseup touchend touchcancel",this._onUp,this),ks(),Rr();var h=this._moved&&this._moving;this._moving=!1,Hi._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ul(o,h,m){var w,x=[1,4,2,8],O,Z,rt,ut,xt,Ut,Qt,ue;for(O=0,Ut=o.length;O<Ut;O++)o[O]._code=Ke(o[O],h);for(rt=0;rt<4;rt++){for(Qt=x[rt],w=[],O=0,Ut=o.length,Z=Ut-1;O<Ut;Z=O++)ut=o[O],xt=o[Z],ut._code&Qt?xt._code&Qt||(ue=Cs(xt,ut,Qt,h,m),ue._code=Ke(ue,h),w.push(ue)):(xt._code&Qt&&(ue=Cs(xt,ut,Qt,h,m),ue._code=Ke(ue,h),w.push(ue)),w.push(ut));o=w}return o}function $l(o,h){var m,w,x,O,Z,rt,ut,xt,Ut;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Qt=Tt([0,0]),ue=It(o),Nn=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());Nn<1700&&(Qt=xi(o));var pn=o.length,mi=[];for(m=0;m<pn;m++){var Vn=Tt(o[m]);mi.push(h.project(Tt([Vn.lat-Qt.lat,Vn.lng-Qt.lng])))}for(rt=ut=xt=0,m=0,w=pn-1;m<pn;w=m++)x=mi[m],O=mi[w],Z=x.y*O.x-O.y*x.x,ut+=(x.x+O.x)*Z,xt+=(x.y+O.y)*Z,rt+=Z*3;rt===0?Ut=mi[0]:Ut=[ut/rt,xt/rt];var To=h.unproject(at(Ut));return Tt([To.lat+Qt.lat,To.lng+Qt.lng])}function xi(o){for(var h=0,m=0,w=0,x=0;x<o.length;x++){var O=Tt(o[x]);h+=O.lat,m+=O.lng,w++}return Tt([h/w,m/w])}var In={__proto__:null,clipPolygon:Ul,polygonCenter:$l,centroid:xi};function Gl(o,h){if(!h||!o.length)return o.slice();var m=h*h;return o=ka(o,m),o=Ea(o,m),o}function La(o,h,m){return Math.sqrt(Is(o,h,m,!0))}function qc(o,h,m){return Is(o,h,m)}function Ea(o,h){var m=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,x=new w(m);x[0]=x[m-1]=1,yo(o,x,h,0,m-1);var O,Z=[];for(O=0;O<m;O++)x[O]&&Z.push(o[O]);return Z}function yo(o,h,m,w,x){var O=0,Z,rt,ut;for(rt=w+1;rt<=x-1;rt++)ut=Is(o[rt],o[w],o[x],!0),ut>O&&(Z=rt,O=ut);O>m&&(h[Z]=1,yo(o,h,m,w,Z),yo(o,h,m,Z,x))}function ka(o,h){for(var m=[o[0]],w=1,x=0,O=o.length;w<O;w++)Ss(o[w],o[x])>h&&(m.push(o[w]),x=w);return x<O-1&&m.push(o[O-1]),m}var xa;function Hn(o,h,m,w,x){var O=w?xa:Ke(o,m),Z=Ke(h,m),rt,ut,xt;for(xa=Z;;){if(!(O|Z))return[o,h];if(O&Z)return!1;rt=O||Z,ut=Cs(o,h,rt,m,x),xt=Ke(ut,m),rt===O?(o=ut,O=xt):(h=ut,Z=xt)}}function Cs(o,h,m,w,x){var O=h.x-o.x,Z=h.y-o.y,rt=w.min,ut=w.max,xt,Ut;return m&8?(xt=o.x+O*(ut.y-o.y)/Z,Ut=ut.y):m&4?(xt=o.x+O*(rt.y-o.y)/Z,Ut=rt.y):m&2?(xt=ut.x,Ut=o.y+Z*(ut.x-o.x)/O):m&1&&(xt=rt.x,Ut=o.y+Z*(rt.x-o.x)/O),new ft(xt,Ut,x)}function Ke(o,h){var m=0;return o.x<h.min.x?m|=1:o.x>h.max.x&&(m|=2),o.y<h.min.y?m|=4:o.y>h.max.y&&(m|=8),m}function Ss(o,h){var m=h.x-o.x,w=h.y-o.y;return m*m+w*w}function Is(o,h,m,w){var x=h.x,O=h.y,Z=m.x-x,rt=m.y-O,ut=Z*Z+rt*rt,xt;return ut>0&&(xt=((o.x-x)*Z+(o.y-O)*rt)/ut,xt>1?(x=m.x,O=m.y):xt>0&&(x+=Z*xt,O+=rt*xt)),Z=o.x-x,rt=o.y-O,w?Z*Z+rt*rt:new ft(x,O)}function Pn(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Ta(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(o)}function Ca(o,h){var m,w,x,O,Z,rt,ut,xt;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ut=Tt([0,0]),Qt=It(o),ue=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());ue<1700&&(Ut=xi(o));var Nn=o.length,pn=[];for(m=0;m<Nn;m++){var mi=Tt(o[m]);pn.push(h.project(Tt([mi.lat-Ut.lat,mi.lng-Ut.lng])))}for(m=0,w=0;m<Nn-1;m++)w+=pn[m].distanceTo(pn[m+1])/2;if(w===0)xt=pn[0];else for(m=0,O=0;m<Nn-1;m++)if(Z=pn[m],rt=pn[m+1],x=Z.distanceTo(rt),O+=x,O>w){ut=(O-w)/x,xt=[rt.x-ut*(rt.x-Z.x),rt.y-ut*(rt.y-Z.y)];break}var Vn=h.unproject(at(xt));return Tt([Vn.lat+Ut.lat,Vn.lng+Ut.lng])}var Sa={__proto__:null,simplify:Gl,pointToSegmentDistance:La,closestPointOnSegment:qc,clipSegment:Hn,_getEdgeIntersection:Cs,_getBitCode:Ke,_sqClosestPointOnSegment:Is,isFlat:Pn,_flat:Ta,polylineCenter:Ca},Ia={project:function(o){return new ft(o.lng,o.lat)},unproject:function(o){return new bt(o.y,o.x)},bounds:new Dt([-180,-90],[180,90])},Pa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Dt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,m=this.R,w=o.lat*h,x=this.R_MINOR/m,O=Math.sqrt(1-x*x),Z=O*Math.sin(w),rt=Math.tan(Math.PI/4-w/2)/Math.pow((1-Z)/(1+Z),O/2);return w=-m*Math.log(Math.max(rt,1e-10)),new ft(o.lng*h*m,w)},unproject:function(o){for(var h=180/Math.PI,m=this.R,w=this.R_MINOR/m,x=Math.sqrt(1-w*w),O=Math.exp(-o.y/m),Z=Math.PI/2-2*Math.atan(O),rt=0,ut=.1,xt;rt<15&&Math.abs(ut)>1e-7;rt++)xt=x*Math.sin(Z),xt=Math.pow((1-xt)/(1+xt),x/2),ut=Math.PI/2-2*Math.atan(O*xt)-Z,Z+=ut;return new bt(Z*h,o.x*h/m)}},Zc={__proto__:null,LonLat:Ia,Mercator:Pa,SphericalMercator:Ct},Wc=r({},G,{code:"EPSG:3395",projection:Pa,transformation:function(){var o=.5/(Math.PI*Pa.R);return C(o,.5,-o,.5)}()}),Hl=r({},G,{code:"EPSG:4326",projection:Ia,transformation:C(1/180,1,-1/180,.5)}),Yc=r({},it,{projection:Ia,transformation:C(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var m=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(m*m+w*w)},infinite:!0});it.Earth=G,it.EPSG3395=Wc,it.EPSG3857=H,it.EPSG900913=J,it.EPSG4326=Hl,it.Simple=Yc;var Qn=Et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[g(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[g(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var m=this.getEvents();h.on(m,this),this.once("remove",function(){h.off(m,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});re.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=g(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=g(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return g(o)in this._layers},eachLayer:function(o,h){for(var m in this._layers)o.call(h,this._layers[m]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var h=0,m=o.length;h<m;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[g(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=g(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,m=this._getZoomSpan();for(var w in this._zoomBoundLayers){var x=this._zoomBoundLayers[w].options;o=x.minZoom===void 0?o:Math.min(o,x.minZoom),h=x.maxZoom===void 0?h:Math.max(h,x.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zr=Qn.extend({initialize:function(o,h){A(this,h),this._layers={};var m,w;if(o)for(m=0,w=o.length;m<w;m++)this.addLayer(o[m])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),m,w;for(m in this._layers)w=this._layers[m],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var m in this._layers)o.call(h,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return g(o)}}),Vl=function(o,h){return new zr(o,h)},Ti=zr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),zr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),zr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Bt;for(var h in this._layers){var m=this._layers[h];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),ql=function(o,h){return new Ti(o,h)},Ur=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){A(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(m,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var m=this.options,w=m[h+"Size"];typeof w=="number"&&(w=[w,w]);var x=at(w),O=at(h==="shadow"&&m.shadowAnchor||m.iconAnchor||x&&x.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(m.className||""),O&&(o.style.marginLeft=-O.x+"px",o.style.marginTop=-O.y+"px"),x&&(o.style.width=x.x+"px",o.style.height=x.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Yt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function jc(o){return new Ur(o)}var Ps=Ur.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ps.imagePath!="string"&&(Ps.imagePath=this._detectIconPath()),(this.options.imagePath||Ps.imagePath)+Ur.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(m,w,x){var O=w.exec(m);return O&&O[x]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ce("div","leaflet-default-icon-path",document.body),h=ai(o,"background-image")||ai(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Zl=hi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Hi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,m=h._map,w=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,O=Ui(h._icon),Z=m.getPixelBounds(),rt=m.getPixelOrigin(),ut=Gt(Z.min._subtract(rt).add(x),Z.max._subtract(rt).subtract(x));if(!ut.contains(O)){var xt=at((Math.max(ut.max.x,O.x)-ut.max.x)/(Z.max.x-ut.max.x)-(Math.min(ut.min.x,O.x)-ut.min.x)/(Z.min.x-ut.min.x),(Math.max(ut.max.y,O.y)-ut.max.y)/(Z.max.y-ut.max.y)-(Math.min(ut.min.y,O.y)-ut.min.y)/(Z.min.y-ut.min.y)).multiplyBy(w);m.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),Ye(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Lt(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(et(this._panRequest),this._panRequest=Lt(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,m=h._shadow,w=Ui(h._icon),x=h._map.layerPointToLatLng(w);m&&Ye(m,w),h._latlng=x,o.latlng=x,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){et(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),bo=Qn.extend({options:{icon:new Ps,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){A(this,h),this._latlng=Tt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Tt(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),w=!1;m!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),ne(m,h),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ie(m,"focus",this._panOnFocus,this);var x=o.icon.createShadow(this._shadow),O=!1;x!==this._shadow&&(this._removeShadow(),O=!0),x&&(ne(x,h),x.alt=""),this._shadow=x,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&O&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(this._icon,"focus",this._panOnFocus,this),Re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Re(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ye(this._icon,o),this._shadow&&Ye(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&rn(this._icon,o),this._shadow&&rn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,m=h.iconSize?at(h.iconSize):at(0,0),w=h.iconAnchor?at(h.iconAnchor):at(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:m.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xc(o,h){return new bo(o,h)}var Vi=Qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return A(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ns=Vi.extend({options:{fill:!0,radius:10},initialize:function(o,h){A(this,h),this._latlng=Tt(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Tt(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Vi.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,m=this._clickTolerance(),w=[o+m,h+m];this._pxBounds=new Dt(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Wl(o,h){return new Ns(o,h)}var wo=Ns.extend({initialize:function(o,h,m){if(typeof h=="number"&&(h=r({},m,{radius:h})),A(this,h),this._latlng=Tt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Bt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Vi.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,m=this._map,w=m.options.crs;if(w.distance===G.distance){var x=Math.PI/180,O=this._mRadius/G.R/x,Z=m.project([h+O,o]),rt=m.project([h-O,o]),ut=Z.add(rt).divideBy(2),xt=m.unproject(ut).lat,Ut=Math.acos((Math.cos(O*x)-Math.sin(h*x)*Math.sin(xt*x))/(Math.cos(h*x)*Math.cos(xt*x)))/x;(isNaN(Ut)||Ut===0)&&(Ut=O/Math.cos(Math.PI/180*h)),this._point=ut.subtract(m.getPixelOrigin()),this._radius=isNaN(Ut)?0:ut.x-m.project([xt,o-Ut]).x,this._radiusY=ut.y-Z.y}else{var Qt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Qt).x}this._updateBounds()}});function Kc(o,h,m){return new wo(o,h,m)}var fi=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){A(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,m=null,w=Is,x,O,Z=0,rt=this._parts.length;Z<rt;Z++)for(var ut=this._parts[Z],xt=1,Ut=ut.length;xt<Ut;xt++){x=ut[xt-1],O=ut[xt];var Qt=w(o,x,O,!0);Qt<h&&(h=Qt,m=w(o,x,O))}return m&&(m.distance=Math.sqrt(h)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ca(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Tt(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Bt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],m=Pn(o),w=0,x=o.length;w<x;w++)m?(h[w]=Tt(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new Dt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new ft(o,o);this._rawPxBounds&&(this._pxBounds=new Dt([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,m){var w=o[0]instanceof bt,x=o.length,O,Z;if(w){for(Z=[],O=0;O<x;O++)Z[O]=this._map.latLngToLayerPoint(o[O]),m.extend(Z[O]);h.push(Z)}else for(O=0;O<x;O++)this._projectLatlngs(o[O],h,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,m,w,x,O,Z,rt,ut;for(m=0,x=0,O=this._rings.length;m<O;m++)for(ut=this._rings[m],w=0,Z=ut.length;w<Z-1;w++)rt=Hn(ut[w],ut[w+1],o,w,!0),rt&&(h[x]=h[x]||[],h[x].push(rt[0]),(rt[1]!==ut[w+1]||w===Z-2)&&(h[x].push(rt[1]),x++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,m=0,w=o.length;m<w;m++)o[m]=Gl(o[m],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var m,w,x,O,Z,rt,ut=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,O=this._parts.length;m<O;m++)for(rt=this._parts[m],w=0,Z=rt.length,x=Z-1;w<Z;x=w++)if(!(!h&&w===0)&&La(o,rt[x],rt[w])<=ut)return!0;return!1}});function Na(o,h){return new fi(o,h)}fi._flat=Ta;var $r=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $l(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=fi.prototype._convertLatLngs.call(this,o),m=h.length;return m>=2&&h[0]instanceof bt&&h[0].equals(h[m-1])&&h.pop(),h},_setLatLngs:function(o){fi.prototype._setLatLngs.call(this,o),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,m=new ft(h,h);if(o=new Dt(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,x=this._rings.length,O;w<x;w++)O=Ul(this._rings[w],o,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,m,w,x,O,Z,rt,ut,xt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(O=0,ut=this._parts.length;O<ut;O++)for(m=this._parts[O],Z=0,xt=m.length,rt=xt-1;Z<xt;rt=Z++)w=m[Z],x=m[rt],w.y>o.y!=x.y>o.y&&o.x<(x.x-w.x)*(o.y-w.y)/(x.y-w.y)+w.x&&(h=!h);return h||fi.prototype._containsPoint.call(this,o,!0)}});function Yl(o,h){return new $r(o,h)}var di=Ti.extend({initialize:function(o,h){A(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=D(o)?o:o.features,m,w,x;if(h){for(m=0,w=h.length;m<w;m++)x=h[m],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var O=this.options;if(O.filter&&!O.filter(o))return this;var Z=Lo(o,O);return Z?(Z.feature=u(o),Z.defaultOptions=Z.options,this.resetStyle(Z),O.onEachFeature&&O.onEachFeature(o,Z),this.addLayer(Z)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=r({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Lo(o,h){var m=o.type==="Feature"?o.geometry:o,w=m?m.coordinates:null,x=[],O=h&&h.pointToLayer,Z=h&&h.coordsToLatLng||qi,rt,ut,xt,Ut;if(!w&&!m)return null;switch(m.type){case"Point":return rt=Z(w),jl(O,o,rt,h);case"MultiPoint":for(xt=0,Ut=w.length;xt<Ut;xt++)rt=Z(w[xt]),x.push(jl(O,o,rt,h));return new Ti(x);case"LineString":case"MultiLineString":return ut=Eo(w,m.type==="LineString"?0:1,Z),new fi(ut,h);case"Polygon":case"MultiPolygon":return ut=Eo(w,m.type==="Polygon"?1:2,Z),new $r(ut,h);case"GeometryCollection":for(xt=0,Ut=m.geometries.length;xt<Ut;xt++){var Qt=Lo({geometry:m.geometries[xt],type:"Feature",properties:o.properties},h);Qt&&x.push(Qt)}return new Ti(x);case"FeatureCollection":for(xt=0,Ut=m.features.length;xt<Ut;xt++){var ue=Lo(m.features[xt],h);ue&&x.push(ue)}return new Ti(x);default:throw new Error("Invalid GeoJSON object.")}}function jl(o,h,m,w){return o?o(h,m):new bo(m,w&&w.markersInheritOptions&&w)}function qi(o){return new bt(o[1],o[0],o[2])}function Eo(o,h,m){for(var w=[],x=0,O=o.length,Z;x<O;x++)Z=h?Eo(o[x],h-1,m):(m||qi)(o[x]),w.push(Z);return w}function ko(o,h){return o=Tt(o),o.alt!==void 0?[E(o.lng,h),E(o.lat,h),E(o.alt,h)]:[E(o.lng,h),E(o.lat,h)]}function bn(o,h,m,w){for(var x=[],O=0,Z=o.length;O<Z;O++)x.push(h?bn(o[O],Pn(o[O])?0:h-1,m,w):ko(o[O],w));return!h&&m&&x.length>0&&x.push(x[0].slice()),x}function wn(o,h){return o.feature?r({},o.feature,{geometry:h}):u(h)}function u(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var n={toGeoJSON:function(o){return wn(this,{type:"Point",coordinates:ko(this.getLatLng(),o)})}};bo.include(n),wo.include(n),Ns.include(n),fi.include({toGeoJSON:function(o){var h=!Pn(this._latlngs),m=bn(this._latlngs,h?1:0,!1,o);return wn(this,{type:(h?"Multi":"")+"LineString",coordinates:m})}}),$r.include({toGeoJSON:function(o){var h=!Pn(this._latlngs),m=h&&!Pn(this._latlngs[0]),w=bn(this._latlngs,m?2:h?1:0,!0,o);return h||(w=[w]),wn(this,{type:(m?"Multi":"")+"Polygon",coordinates:w})}}),zr.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(m){h.push(m.toGeoJSON(o).geometry.coordinates)}),wn(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var m=h==="GeometryCollection",w=[];return this.eachLayer(function(x){if(x.toGeoJSON){var O=x.toGeoJSON(o);if(m)w.push(O.geometry);else{var Z=u(O);Z.type==="FeatureCollection"?w.push.apply(w,Z.features):w.push(Z)}}}),m?wn(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function i(o,h){return new di(o,h)}var l=i,p=Qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,m){this._url=o,this._bounds=It(h),A(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ar(this._image),this},bringToBack:function(){return this._map&&ur(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=It(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:ce("img");if(ne(h,"leaflet-image-layer"),this._zoomAnimated&&ne(h,"leaflet-zoom-animated"),this.options.className&&ne(h,this.options.className),h.onselectstart=b,h.onmousemove=b,h.onload=f(this.fire,this,"load"),h.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;cr(this._image,m,h)},_reset:function(){var o=this._image,h=new Dt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=h.getSize();Ye(o,h.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),v=function(o,h,m){return new p(o,h,m)},k=p.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:ce("video");if(ne(h,"leaflet-image-layer"),this._zoomAnimated&&ne(h,"leaflet-zoom-animated"),this.options.className&&ne(h,this.options.className),h.onselectstart=b,h.onmousemove=b,h.onloadeddata=f(this.fire,this,"load"),o){for(var m=h.getElementsByTagName("source"),w=[],x=0;x<m.length;x++)w.push(m[x].src);this._url=m.length>0?w:[h.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var Z=ce("source");Z.src=this._url[O],h.appendChild(Z)}}});function S(o,h,m){return new k(o,h,m)}var N=p.extend({_initImage:function(){var o=this._image=this._url;ne(o,"leaflet-image-layer"),this._zoomAnimated&&ne(o,"leaflet-zoom-animated"),this.options.className&&ne(o,this.options.className),o.onselectstart=b,o.onmousemove=b}});function U(o,h,m){return new N(o,h,m)}var X=Qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof bt||D(o))?(this._latlng=Tt(o),A(this,h)):(A(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&rn(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(rn(this._container,0),this._removeTimeout=setTimeout(f(Re,void 0,this._container),200)):Re(this._container),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Tt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ar(this._container),this},bringToBack:function(){return this._map&&ur(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Ti){h=null;var m=this._source._layers;for(var w in m)if(m[w]._map){h=m[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=at(this.options.offset),m=this._getAnchor();this._zoomAnimated?Ye(this._container,o.add(m)):h=h.add(o).add(m);var w=this._containerBottom=-h.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(o,h,m,w){var x=h;return x instanceof o||(x=new o(w).setContent(h)),m&&x.setLatLng(m),x}}),Qn.include({_initOverlay:function(o,h,m,w){var x=m;return x instanceof o?(A(x,w),x._source=this):(x=h&&!w?h:new o(w,this),x.setContent(m)),x}});var nt=X.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,X.prototype.openOn.call(this,o)},onAdd:function(o){X.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",hn))},onRemove:function(o){X.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",hn))},getEvents:function(){var o=X.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=ce("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ce("div",o+"-content-wrapper",h);if(this._contentNode=ce("div",o+"-content",m),Fr(h),Ts(this._contentNode),ie(h,"contextmenu",hn),this._tipContainer=ce("div",o+"-tip-container",h),this._tip=ce("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ce("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ie(w,"click",function(x){Ve(x),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),h.width=m+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,x=this.options.maxHeight,O="leaflet-popup-scrolled";x&&w>x?(h.height=x+"px",ne(o,O)):_e(o,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();Ye(this._container,h.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(ai(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+h,w=this._containerWidth,x=new ft(this._containerLeft,-m-this._containerBottom);x._add(Ui(this._container));var O=o.layerPointToContainerPoint(x),Z=at(this.options.autoPanPadding),rt=at(this.options.autoPanPaddingTopLeft||Z),ut=at(this.options.autoPanPaddingBottomRight||Z),xt=o.getSize(),Ut=0,Qt=0;O.x+w+ut.x>xt.x&&(Ut=O.x+w-xt.x+ut.x),O.x-Ut-rt.x<0&&(Ut=O.x-rt.x),O.y+m+ut.y>xt.y&&(Qt=O.y+m-xt.y+ut.y),O.y-Qt-rt.y<0&&(Qt=O.y-rt.y),(Ut||Qt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ut,Qt]))}},_getAnchor:function(){return at(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wt=function(o,h){return new nt(o,h)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(o,h,m){return this._initOverlay(nt,o,h,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Qn.include({bindPopup:function(o,h){return this._popup=this._initOverlay(nt,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ti||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){$i(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ft=X.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){X.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){X.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=X.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ce("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,m,w=this._map,x=this._container,O=w.latLngToContainerPoint(w.getCenter()),Z=w.layerPointToContainerPoint(o),rt=this.options.direction,ut=x.offsetWidth,xt=x.offsetHeight,Ut=at(this.options.offset),Qt=this._getAnchor();rt==="top"?(h=ut/2,m=xt):rt==="bottom"?(h=ut/2,m=0):rt==="center"?(h=ut/2,m=xt/2):rt==="right"?(h=0,m=xt/2):rt==="left"?(h=ut,m=xt/2):Z.x<O.x?(rt="right",h=0,m=xt/2):(rt="left",h=ut+(Ut.x+Qt.x)*2,m=xt/2),o=o.subtract(at(h,m,!0)).add(Ut).add(Qt),_e(x,"leaflet-tooltip-right"),_e(x,"leaflet-tooltip-left"),_e(x,"leaflet-tooltip-top"),_e(x,"leaflet-tooltip-bottom"),ne(x,"leaflet-tooltip-"+rt),Ye(x,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&rn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return at(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vt=function(o,h){return new Ft(o,h)};re.include({openTooltip:function(o,h,m){return this._initOverlay(Ft,o,h,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Qn.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ft,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[h](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ti||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(ie(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ie(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,m,w;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(m),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Xt=Ur.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(co(h),h.appendChild(m.html)):h.innerHTML=m.html!==!1?m.html:"",m.bgPos){var w=at(m.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function he(o){return new Xt(o)}Ur.Default=Ps;var ae=Qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){A(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Re(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ur(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ft?o:new ft(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,m=-o(-1/0,1/0),w=0,x=h.length,O;w<x;w++)O=h[w].style.zIndex,h[w]!==this._container&&O&&(m=o(m,+O));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Yt.ielt9){rn(this._container,this.options.opacity);var o=+new Date,h=!1,m=!1;for(var w in this._tiles){var x=this._tiles[w];if(!(!x.current||!x.loaded)){var O=Math.min(1,(o-x.loaded)/200);rn(x.el,O),O<1?h=!0:(x.active?m=!0:this._onOpaqueTile(x),x.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),h&&(et(this._fadeFrame),this._fadeFrame=Lt(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=ce("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=h-Math.abs(o-m),this._onUpdateLevel(m)):(Re(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var w=this._levels[o],x=this._map;return w||(w=this._levels[o]={},w.el=ce("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=x.project(x.unproject(x.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,x.getCenter(),x.getZoom()),b(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var o,h,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Re(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,m,w){var x=Math.floor(o/2),O=Math.floor(h/2),Z=m-1,rt=new ft(+x,+O);rt.z=+Z;var ut=this._tileCoordsToKey(rt),xt=this._tiles[ut];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),Z>w?this._retainParent(x,O,Z,w):!1)},_retainChildren:function(o,h,m,w){for(var x=2*o;x<2*o+2;x++)for(var O=2*h;O<2*h+2;O++){var Z=new ft(x,O);Z.z=m+1;var rt=this._tileCoordsToKey(Z),ut=this._tiles[rt];if(ut&&ut.active){ut.retain=!0;continue}else ut&&ut.loaded&&(ut.retain=!0);m+1<w&&this._retainChildren(x,O,m+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,m,w){var x=Math.round(h);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var O=this.options.updateWhenZooming&&x!==this._tileZoom;(!w||O)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,h)},_setZoomTransform:function(o,h,m){var w=this._map.getZoomScale(m,o.zoom),x=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,m)).round();Yt.any3d?cr(o.el,x,w):Ye(o.el,x)},_resetGrid:function(){var o=this._map,h=o.options.crs,m=this._tileSize=this.getTileSize(),w=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/m.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/m.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/m.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,m=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(m,this._tileZoom),x=h.project(o,this._tileZoom).floor(),O=h.getSize().divideBy(w*2);return new Dt(x.subtract(O),x.add(O))},_update:function(o){var h=this._map;if(h){var m=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),x=this._pxBoundsToTileRange(w),O=x.getCenter(),Z=[],rt=this.options.keepBuffer,ut=new Dt(x.getBottomLeft().subtract([rt,-rt]),x.getTopRight().add([rt,-rt]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var Ut=this._tiles[xt].coords;(Ut.z!==this._tileZoom||!ut.contains(new ft(Ut.x,Ut.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var Qt=x.min.y;Qt<=x.max.y;Qt++)for(var ue=x.min.x;ue<=x.max.x;ue++){var Nn=new ft(ue,Qt);if(Nn.z=this._tileZoom,!!this._isValidTile(Nn)){var pn=this._tiles[this._tileCoordsToKey(Nn)];pn?pn.current=!0:Z.push(Nn)}}if(Z.sort(function(Vn,To){return Vn.distanceTo(O)-To.distanceTo(O)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mi=document.createDocumentFragment();for(ue=0;ue<Z.length;ue++)this._addTile(Z[ue],mi);this._level.el.appendChild(mi)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var m=this._globalTileRange;if(!h.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!h.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return It(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,m=this.getTileSize(),w=o.scaleBy(m),x=w.add(m),O=h.unproject(w,o.z),Z=h.unproject(x,o.z);return[O,Z]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),m=new Bt(h[0],h[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),m=new ft(+h[0],+h[1]);return m.z=+h[2],m},_removeTile:function(o){var h=this._tiles[o];h&&(Re(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ne(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=b,o.onmousemove=b,Yt.ielt9&&this.options.opacity<1&&rn(o,this.options.opacity)},_addTile:function(o,h){var m=this._getTilePos(o),w=this._tileCoordsToKey(o),x=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(x),this.createTile.length<2&&Lt(f(this._tileReady,this,o,null,x)),Ye(x,m),this._tiles[w]={el:x,coords:o,current:!0},h.appendChild(x),this.fire("tileloadstart",{tile:x,coords:o})},_tileReady:function(o,h,m){h&&this.fire("tileerror",{error:h,tile:m,coords:o});var w=this._tileCoordsToKey(o);m=this._tiles[w],m&&(m.loaded=+new Date,this._map._fadeAnimated?(rn(m.el,0),et(this._fadeFrame),this._fadeFrame=Lt(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),h||(ne(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Yt.ielt9||!this._map._fadeAnimated?Lt(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new ft(this._wrapX?y(o.x,this._wrapX):o.x,this._wrapY?y(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new Dt(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Te(o){return new ae(o)}var $e=ae.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=A(this,h),h.detectRetina&&Yt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var m=document.createElement("img");return ie(m,"load",f(this._tileOnLoad,this,h,m)),ie(m,"error",f(this._tileOnError,this,h,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var h={r:Yt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=m),h["-y"]=m}return R(this._url,r(h,this.options))},_tileOnLoad:function(o,h){Yt.ielt9?setTimeout(f(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,m){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(m,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,m=this.options.zoomReverse,w=this.options.zoomOffset;return m&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=b,h.onerror=b,!h.complete)){h.src=$;var m=this._tiles[o].coords;Re(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:m})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",$),ae.prototype._removeTile.call(this,o)},_tileReady:function(o,h,m){if(!(!this._map||m&&m.getAttribute("src")===$))return ae.prototype._tileReady.call(this,o,h,m)}});function sn(o,h){return new $e(o,h)}var Zi=$e.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var m=r({},this.defaultWmsParams);for(var w in h)w in this.options||(m[w]=h[w]);h=A(this,h);var x=h.detectRetina&&Yt.retina?2:1,O=this.getTileSize();m.width=O.x*x,m.height=O.y*x,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,$e.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),m=this._crs,w=Gt(m.project(h[0]),m.project(h[1])),x=w.min,O=w.max,Z=(this._wmsVersion>=1.3&&this._crs===Hl?[x.y,x.x,O.y,O.x]:[x.x,x.y,O.x,O.y]).join(","),rt=$e.prototype.getTileUrl.call(this,o);return rt+F(this.wmsParams,rt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(o,h){return r(this.wmsParams,o),h||this.redraw(),this}});function Os(o,h){return new Zi(o,h)}$e.WMS=Zi,sn.wms=Os;var pi=Qn.extend({options:{padding:.1},initialize:function(o){A(this,o),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var m=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,h),O=w.multiplyBy(-m).add(x).subtract(this._map._getNewPixelOrigin(o,h));Yt.any3d?cr(this._container,O,m):Ye(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),m=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new Dt(m,m.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Oa=pi.extend({options:{tolerance:0},getEvents:function(){var o=pi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ie(o,"mousemove",this._onMouseMove,this),ie(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ie(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){et(this._redrawRequest),delete this._ctx,Re(this._container),xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pi.prototype._update.call(this);var o=this._bounds,h=this._container,m=o.getSize(),w=Yt.retina?2:1;Ye(h,o.min),h.width=w*m.x,h.height=w*m.y,h.style.width=m.x+"px",h.style.height=m.y+"px",Yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){pi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[g(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,m=h.next,w=h.prev;m?m.prev=w:this._drawLast=w,w?w.next=m:this._drawFirst=m,delete o._order,delete this._layers[g(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),m=[],w,x;for(x=0;x<h.length;x++){if(w=Number(h[x]),isNaN(w))return;m.push(w)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Lt(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Dt,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var m=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var m,w,x,O,Z=o._parts,rt=Z.length,ut=this._ctx;if(rt){for(ut.beginPath(),m=0;m<rt;m++){for(w=0,x=Z[m].length;w<x;w++)O=Z[m][w],ut[w?"lineTo":"moveTo"](O.x,O.y);h&&ut.closePath()}this._fillStroke(ut,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,m=this._ctx,w=Math.max(Math.round(o._radius),1),x=(Math.max(Math.round(o._radiusY),1)||w)/w;x!==1&&(m.save(),m.scale(1,x)),m.beginPath(),m.arc(h.x,h.y/x,w,0,Math.PI*2,!1),x!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,h){var m=h.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),m,w,x=this._drawFirst;x;x=x.next)m=x.layer,m.options.interactive&&m._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(w=m);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(_e(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var m,w,x=this._drawFirst;x;x=x.next)m=x.layer,m.options.interactive&&m._containsPoint(h)&&(w=m);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(ne(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,m){this._map._fireDOMEvent(h,m||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var m=h.next,w=h.prev;if(m)m.prev=w;else return;w?w.next=m:m&&(this._drawFirst=m),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var m=h.next,w=h.prev;if(w)w.next=m;else return;m?m.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Ma(o){return Yt.canvas?new Oa(o):null}var Gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xl={_initContainer:function(){this._container=ce("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Gr("shape");ne(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Gr("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Re(h),o.removeInteractiveTarget(h),delete this._layers[g(o)]},_updateStyle:function(o){var h=o._stroke,m=o._fill,w=o.options,x=o._container;x.stroked=!!w.stroke,x.filled=!!w.fill,w.stroke?(h||(h=o._stroke=Gr("stroke")),x.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=D(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(x.removeChild(h),o._stroke=null),w.fill?(m||(m=o._fill=Gr("fill")),x.appendChild(m),m.color=w.fillColor||w.color,m.opacity=w.fillOpacity):m&&(x.removeChild(m),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),m=Math.round(o._radius),w=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+m+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Ar(o._container)},_bringToBack:function(o){ur(o._container)}},Ms=Yt.vml?Gr:dt,dr=pi.extend({_initContainer:function(){this._container=Ms("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ms("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Re(this._container),xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,m.setAttribute("width",h.x),m.setAttribute("height",h.y)),Ye(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Ms("path");o.options.className&&ne(h,o.options.className),o.options.interactive&&ne(h,"leaflet-interactive"),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Re(o._path),o.removeInteractiveTarget(o._path),delete this._layers[g(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,m=o.options;h&&(m.stroke?(h.setAttribute("stroke",m.color),h.setAttribute("stroke-opacity",m.opacity),h.setAttribute("stroke-width",m.weight),h.setAttribute("stroke-linecap",m.lineCap),h.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?h.setAttribute("stroke-dasharray",m.dashArray):h.removeAttribute("stroke-dasharray"),m.dashOffset?h.setAttribute("stroke-dashoffset",m.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),m.fill?(h.setAttribute("fill",m.fillColor||m.color),h.setAttribute("fill-opacity",m.fillOpacity),h.setAttribute("fill-rule",m.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,mt(o._parts,h))},_updateCircle:function(o){var h=o._point,m=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||m,x="a"+m+","+w+" 0 1,0 ",O=o._empty()?"M0 0":"M"+(h.x-m)+","+h.y+x+m*2+",0 "+x+-m*2+",0 ";this._setPath(o,O)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Ar(o._path)},_bringToBack:function(o){ur(o._path)}});Yt.vml&&dr.include(Xl);function xo(o){return Yt.svg||Yt.vml?new dr(o):null}re.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Ma(o)||xo(o)}});var td=$r.extend({initialize:function(o,h){$r.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=It(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function gy(o,h){return new td(o,h)}dr.create=Ms,dr.pointsToPath=mt,di.geometryToLayer=Lo,di.coordsToLatLng=qi,di.coordsToLatLngs=Eo,di.latLngToCoords=ko,di.latLngsToCoords=bn,di.getFeature=wn,di.asFeature=u,re.mergeOptions({boxZoom:!0});var ed=hi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ie(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ei(),ma(),this._startPoint=this._map.mouseEventToContainerPoint(o),ie(document,{contextmenu:$i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ce("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new Dt(this._point,this._startPoint),m=h.getSize();Ye(this._box,h.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Re(this._box),_e(this._container,"leaflet-crosshair")),Rr(),ks(),xe(document,{contextmenu:$i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var h=new Bt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",ed),re.mergeOptions({doubleClickZoom:!0});var nd=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,m=h.getZoom(),w=h.options.zoomDelta,x=o.originalEvent.shiftKey?m-w:m+w;h.options.doubleClickZoom==="center"?h.setZoom(x):h.setZoomAround(o.containerPoint,x)}});re.addInitHook("addHandler","doubleClickZoom",nd),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var id=hi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Hi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_e(this._map._container,"leaflet-grab"),_e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=It(this._map.options.maxBounds);this._offsetLimit=Gt(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),m=this._initialWorldOffset,w=this._draggable._newPos.x,x=(w-h+m)%o+h-m,O=(w+h+m)%o-h-m,Z=Math.abs(x+m)<Math.abs(O+m)?x:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(o){var h=this._map,m=h.options,w=!m.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,Z=m.easeLinearity,rt=x.multiplyBy(Z/O),ut=rt.distanceTo([0,0]),xt=Math.min(m.inertiaMaxSpeed,ut),Ut=rt.multiplyBy(xt/ut),Qt=xt/(m.inertiaDeceleration*Z),ue=Ut.multiplyBy(-Qt/2).round();!ue.x&&!ue.y?h.fire("moveend"):(ue=h._limitOffset(ue,h.options.maxBounds),Lt(function(){h.panBy(ue,{duration:Qt,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",id),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rd=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ie(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,m=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},m=this.keyCodes,w,x;for(w=0,x=m.left.length;w<x;w++)h[m.left[w]]=[-1*o,0];for(w=0,x=m.right.length;w<x;w++)h[m.right[w]]=[o,0];for(w=0,x=m.down.length;w<x;w++)h[m.down[w]]=[0,o];for(w=0,x=m.up.length;w<x;w++)h[m.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},m=this.keyCodes,w,x;for(w=0,x=m.zoomIn.length;w<x;w++)h[m.zoomIn[w]]=o;for(w=0,x=m.zoomOut.length;w<x;w++)h[m.zoomOut[w]]=-o},_addHooks:function(){ie(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,m=this._map,w;if(h in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=at(w).multiplyBy(3)),m.options.maxBounds&&(w=m._limitOffset(at(w),m.options.maxBounds)),m.options.worldCopyJump){var x=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(w)));m.panTo(x)}else m.panBy(w)}else if(h in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;$i(o)}}});re.addInitHook("addHandler","keyboard",rd),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sd=hi.extend({addHooks:function(){ie(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=ba(o),m=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),w),$i(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,O=m?Math.ceil(x/m)*m:x,Z=o._limitZoom(h+(this._delta>0?O:-O))-h;this._delta=0,this._startTime=null,Z&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+Z):o.setZoomAround(this._lastMousePos,h+Z))}});re.addInitHook("addHandler","scrollWheelZoom",sd);var _y=600;re.mergeOptions({tapHold:Yt.touchNative&&Yt.safari&&Yt.mobile,tapTolerance:15});var od=hi.extend({addHooks:function(){ie(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new ft(h.clientX,h.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ie(document,"touchend",Ve),ie(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),_y),ie(document,"touchend touchcancel contextmenu",this._cancel,this),ie(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){xe(document,"touchend",Ve),xe(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new ft(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});m._simulated=!0,h.target.dispatchEvent(m)}});re.addInitHook("addHandler","tapHold",od),re.mergeOptions({touchZoom:Yt.touch,bounceAtZoomLimits:!0});var ad=hi.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),ie(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var m=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(m.add(w)._divideBy(2))),this._startDist=m.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),ie(document,"touchmove",this._onTouchMove,this),ie(document,"touchend touchcancel",this._onTouchEnd,this),Ve(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,m=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),x=m.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(x,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&x<1||this._zoom>h.getMaxZoom()&&x>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var O=m._add(w)._divideBy(2)._subtract(this._centerPoint);if(x===1&&O.x===0&&O.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),et(this._animRequest);var Z=f(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Lt(Z,this,!0),Ve(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,et(this._animRequest),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",ad),re.BoxZoom=ed,re.DoubleClickZoom=nd,re.Drag=id,re.Keyboard=rd,re.ScrollWheelZoom=sd,re.TapHold=od,re.TouchZoom=ad,s.Bounds=Dt,s.Browser=Yt,s.CRS=it,s.Canvas=Oa,s.Circle=wo,s.CircleMarker=Ns,s.Class=Y,s.Control=Jn,s.DivIcon=Xt,s.DivOverlay=X,s.DomEvent=Uc,s.DomUtil=po,s.Draggable=Hi,s.Evented=Et,s.FeatureGroup=Ti,s.GeoJSON=di,s.GridLayer=ae,s.Handler=hi,s.Icon=Ur,s.ImageOverlay=p,s.LatLng=bt,s.LatLngBounds=Bt,s.Layer=Qn,s.LayerGroup=zr,s.LineUtil=Sa,s.Map=re,s.Marker=bo,s.Mixin=Vc,s.Path=Vi,s.Point=ft,s.PolyUtil=In,s.Polygon=$r,s.Polyline=fi,s.Popup=nt,s.PosAnimation=wa,s.Projection=Zc,s.Rectangle=td,s.Renderer=pi,s.SVG=dr,s.SVGOverlay=N,s.TileLayer=$e,s.Tooltip=Ft,s.Transformation=St,s.Util=Q,s.VideoOverlay=k,s.bind=f,s.bounds=Gt,s.canvas=Ma,s.circle=Kc,s.circleMarker=Wl,s.control=dn,s.divIcon=he,s.extend=r,s.featureGroup=ql,s.geoJSON=i,s.geoJson=l,s.gridLayer=Te,s.icon=jc,s.imageOverlay=v,s.latLng=Tt,s.latLngBounds=It,s.layerGroup=Vl,s.map=_o,s.marker=Xc,s.point=at,s.polygon=Yl,s.polyline=Na,s.popup=wt,s.rectangle=gy,s.setOptions=A,s.stamp=g,s.svg=xo,s.svgOverlay=U,s.tileLayer=sn,s.tooltip=Vt,s.transformation=C,s.version=a,s.videoOverlay=S;var vy=window.L;s.noConflict=function(){return window.L=vy,this},window.L=s})}(Za,Za.exports)),Za.exports}var ye=tI();const Wr=Zv(ye);(function(t,e,s){function a(r,c){for(;(r=r.parentElement)&&!r.classList.contains(c););return r}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(r,c){this._map=r,this._container=r._container,this._overlayPane=r._panes.overlayPane,this._popupPane=r._panes.popupPane,c&&c.shapeOptions&&(c.shapeOptions=L.Util.extend({},this.options.shapeOptions,c.shapeOptions)),L.setOptions(this,c);var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(L.DomUtil.disableTextSelection(),r.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(r){L.setOptions(this,r)},_fireCreatedEvent:function(r){this._map.fire(L.Draw.Event.CREATED,{layer:r,layerType:this.type})},_cancelDrawing:function(r){r.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(r,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var r=this._markers.pop(),c=this._poly,f=c.getLatLngs(),d=f.splice(-1,1)[0];this._poly.setLatLngs(f),this._markerGroup.removeLayer(r),c.getLatLngs().length<2&&this._map.removeLayer(c),this._vertexChanged(d,!1)}},addVertex:function(r){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(r))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(r)),this._poly.addLatLng(r),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(r,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var r=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),c=this._poly.newLatLngIntersects(r[r.length-1]);if(!this.options.allowIntersection&&c||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent),f=this._map.layerPointToLatLng(c);this._currentLatLng=f,this._updateTooltip(f),this._updateGuide(c),this._mouseMarker.setLatLng(f),L.DomEvent.preventDefault(r.originalEvent)},_vertexChanged:function(r,c){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(r,c),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(r){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(r),this._clickHandled=!0,this._disableNewMarkers();var c=r.originalEvent,f=c.clientX,d=c.clientY;this._startPoint.call(this,f,d)}},_startPoint:function(r,c){this._mouseDownOrigin=L.point(r,c)},_onMouseUp:function(r){var c=r.originalEvent,f=c.clientX,d=c.clientY;this._endPoint.call(this,f,d,r),this._clickHandled=null},_endPoint:function(r,c,f){if(this._mouseDownOrigin){var d=L.point(r,c).distanceTo(this._mouseDownOrigin),g=this._calculateFinishDistance(f.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(f.latlng),this._finishShape()):g<10&&L.Browser.touch?this._finishShape():Math.abs(d)<9*(t.devicePixelRatio||1)&&this.addVertex(f.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(r){var c,f,d=r.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(c=d.touches[0].clientX,f=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,c,f),this._endPoint.call(this,c,f,r),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(r){var c;if(this._markers.length>0){var f;if(this.type===L.Draw.Polyline.TYPE)f=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;f=this._markers[0]}var d=this._map.latLngToContainerPoint(f.getLatLng()),g=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),_=this._map.latLngToContainerPoint(g.getLatLng());c=d.distanceTo(_)}else c=1/0;return c},_updateFinishHandler:function(){var r=this._markers.length;r>1&&this._markers[r-1].on("click",this._finishShape,this),r>2&&this._markers[r-2].off("click",this._finishShape,this)},_createMarker:function(r){var c=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(c),c},_updateGuide:function(r){var c=this._markers?this._markers.length:0;c>0&&(r=r||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[c-1].getLatLng()),r))},_updateTooltip:function(r){var c=this._getTooltipText();r&&this._tooltip.updatePosition(r),this._errorShown||this._tooltip.updateContent(c)},_drawGuide:function(r,c){var f,d,g,_=Math.floor(Math.sqrt(Math.pow(c.x-r.x,2)+Math.pow(c.y-r.y,2))),y=this.options.guidelineDistance,b=this.options.maxGuideLineLength,E=_>b?_-b:y;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));E<_;E+=this.options.guidelineDistance)f=E/_,d={x:Math.floor(r.x*(1-f)+f*c.x),y:Math.floor(r.y*(1-f)+f*c.y)},g=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),g.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(g,d)},_updateGuideColor:function(r){if(this._guidesContainer)for(var c=0,f=this._guidesContainer.childNodes.length;c<f;c++)this._guidesContainer.childNodes[c].style.backgroundColor=r},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var r,c,f=this.options.showLength;return this._markers.length===0?r={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(c=f?this._getMeasurementString():"",r=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:c}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:c}),r},_updateRunningMeasure:function(r,c){var f,d,g=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(f=g-(c?2:1),d=L.GeometryUtil.isVersion07x()?r.distanceTo(this._markers[f].getLatLng())*(this.options.factor||1):this._map.distance(r,this._markers[f].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(c?1:-1))},_getMeasurementString:function(){var r,c=this._currentLatLng,f=this._markers[this._markers.length-1].getLatLng();return r=L.GeometryUtil.isVersion07x()?f&&c&&c.distanceTo?this._measurementRunningTotal+c.distanceTo(f)*(this.options.factor||1):this._measurementRunningTotal||0:f&&c?this._measurementRunningTotal+this._map.distance(c,f)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(r,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var r=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(r,c){L.Draw.Polyline.prototype.initialize.call(this,r,c),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var r=this._markers.length;r===1&&this._markers[0].on("click",this._finishShape,this),r>2&&(this._markers[r-1].on("dblclick",this._finishShape,this),r>3&&this._markers[r-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var r,c;return this._markers.length===0?r=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(r=L.drawLocal.draw.handlers.polygon.tooltip.cont,c=this._getMeasurementString()):(r=L.drawLocal.draw.handlers.polygon.tooltip.end,c=this._getMeasurementString()),{text:r,subtext:c}},_getMeasurementString:function(){var r=this._area,c="";return r||this.options.showLength?(this.options.showLength&&(c=L.Draw.Polyline.prototype._getMeasurementString.call(this)),r&&(c+="<br>"+L.GeometryUtil.readableArea(r,this.options.metric,this.options.precision)),c):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(r,c){var f;!this.options.allowIntersection&&this.options.showArea&&(f=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(f)),L.Draw.Polyline.prototype._vertexChanged.call(this,r,c)},_cleanUpShape:function(){var r=this._markers.length;r>0&&(this._markers[0].off("click",this._finishShape,this),r>2&&this._markers[r-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(r,c){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(r){this._isDrawing=!0,this._startLatLng=r.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(r.originalEvent)},_onMouseMove:function(r){var c=r.latlng;this._tooltip.updatePosition(c),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(c))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(r,c){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,c)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(r){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!a(r.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(r){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,r)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,r),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_getTooltipText:function(){var r,c,f,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),g=this._shape,_=this.options.showArea;return g&&(r=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),c=L.GeometryUtil.geodesicArea(r),f=_?L.GeometryUtil.readableArea(c,this.options.metric):""),{text:d.text,subtext:f}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(r,c){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(r){var c=r.latlng;this._tooltip.updatePosition(c),this._mouseMarker.setLatLng(c),this._marker?(c=this._mouseMarker.getLatLng(),this._marker.setLatLng(c)):(this._marker=this._createMarker(c),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(r){return new L.Marker(r,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(r){this._onMouseMove(r),this._onClick()},_fireCreatedEvent:function(){var r=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(r,c){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,c)},_fireCreatedEvent:function(){var r=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)},_createMarker:function(r){return new L.CircleMarker(r,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(r,c){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,c)},_drawShape:function(r){if(L.GeometryUtil.isVersion07x())var c=this._startLatLng.distanceTo(r);else var c=this._map.distance(this._startLatLng,r);this._shape?this._shape.setRadius(c):(this._shape=new L.Circle(this._startLatLng,c,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_onMouseMove:function(r){var c,f=r.latlng,d=this.options.showRadius,g=this.options.metric;if(this._tooltip.updatePosition(f),this._isDrawing){this._drawShape(f),c=this._shape.getRadius().toFixed(1);var _="";d&&(_=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(c,g,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:_})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(r,c){this._marker=r,L.setOptions(this,c)},addHooks:function(){var r=this._marker;r.dragging.enable(),r.on("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},removeHooks:function(){var r=this._marker;r.dragging.disable(),r.off("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},_onDragEnd:function(r){var c=r.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_toggleMarkerHighlight:function(){var r=this._marker._icon;r&&(r.style.display="none",L.DomUtil.hasClass(r,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,-4)):(L.DomUtil.addClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,4)),r.style.display="")},_offsetMarker:function(r,c){var f=parseInt(r.style.marginTop,10)-c,d=parseInt(r.style.marginLeft,10)-c;r.style.marginTop=f+"px",r.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(r){this.latlngs=[r._latlngs],r._holes&&(this.latlngs=this.latlngs.concat(r._holes)),this._poly=r,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(r){for(var c=0;c<this._verticesHandlers.length;c++)r(this._verticesHandlers[c])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(r){r.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(r){r.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(r){r.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var r=0;r<this.latlngs.length;r++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[r],this._poly.options.poly))},_updateLatLngs:function(r){this.latlngs=[r.layer._latlngs],r.layer._holes&&(this.latlngs=this.latlngs.concat(r.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(r,c,f){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=r,f&&f.drawError&&(f.drawError=L.Util.extend({},this.options.drawError,f.drawError)),this._latlngs=c,L.setOptions(this,f)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var r=this._poly,c=r._path;r instanceof L.Polygon||(r.options.fill=!1,r.options.editing&&(r.options.editing.fill=!1)),c&&r.options.editing&&r.options.editing.className&&(r.options.original.className&&r.options.original.className.split(" ").forEach(function(f){L.DomUtil.removeClass(c,f)}),r.options.editing.className.split(" ").forEach(function(f){L.DomUtil.addClass(c,f)})),r.setStyle(r.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var r=this._poly,c=r._path;c&&r.options.editing&&r.options.editing.className&&(r.options.editing.className.split(" ").forEach(function(f){L.DomUtil.removeClass(c,f)}),r.options.original.className&&r.options.original.className.split(" ").forEach(function(f){L.DomUtil.addClass(c,f)})),r.setStyle(r.options.original),r._map&&(r._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var r,c,f,d,g=this._defaultShape();for(r=0,f=g.length;r<f;r++)d=this._createMarker(g[r],r),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var _,y;for(r=0,c=f-1;r<f;c=r++)(r!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(_=this._markers[c],y=this._markers[r],this._createMiddleMarker(_,y),this._updatePrevNext(_,y))},_createMarker:function(r,c){var f=new L.Marker.Touch(r,{draggable:!0,icon:this.options.icon});return f._origLatLng=r,f._index=c,f.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(f),f},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var r=this._defaultShape(),c=[].splice.apply(r,arguments);return this._poly._convertLatLngs(r,!0),this._poly.redraw(),c},_removeMarker:function(r){var c=r._index;this._markerGroup.removeLayer(r),this._markers.splice(c,1),this._spliceLatLngs(c,1),this._updateIndexes(c,-1),r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(r){var c=r.target,f=this._poly,d=L.LatLngUtil.cloneLatLng(c._origLatLng);if(L.extend(c._origLatLng,c._latlng),f.options.poly){var g=f._map._editTooltip;if(!f.options.poly.allowIntersection&&f.intersects()){L.extend(c._origLatLng,d),c.setLatLng(d);var _=f.options.color;f.setStyle({color:this.options.drawError.color}),g&&g.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){f.setStyle({color:_}),g&&g.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}c._middleLeft&&c._middleLeft.setLatLng(this._getMiddleLatLng(c._prev,c)),c._middleRight&&c._middleRight.setLatLng(this._getMiddleLatLng(c,c._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var y=this._poly.getLatLngs();this._poly._convertLatLngs(y,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(r){var c=L.Polygon&&this._poly instanceof L.Polygon?4:3,f=r.target;this._defaultShape().length<c||(this._removeMarker(f),this._updatePrevNext(f._prev,f._next),f._middleLeft&&this._markerGroup.removeLayer(f._middleLeft),f._middleRight&&this._markerGroup.removeLayer(f._middleRight),f._prev&&f._next?this._createMiddleMarker(f._prev,f._next):f._prev?f._next||(f._prev._middleRight=null):f._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(r){var c=r.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:c,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),f=this._map.layerPointToLatLng(c),d=r.target;L.extend(d._origLatLng,f),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(r,c){this._markerGroup.eachLayer(function(f){f._index>r&&(f._index+=c)})},_createMiddleMarker:function(r,c){var f,d,g,_=this._getMiddleLatLng(r,c),y=this._createMarker(_);y.setOpacity(.6),r._middleRight=c._middleLeft=y,d=function(){y.off("touchmove",d,this);var b=c._index;y._index=b,y.off("click",f,this).on("click",this._onMarkerClick,this),_.lat=y.getLatLng().lat,_.lng=y.getLatLng().lng,this._spliceLatLngs(b,0,_),this._markers.splice(b,0,y),y.setOpacity(1),this._updateIndexes(b,1),c._index++,this._updatePrevNext(r,y),this._updatePrevNext(y,c),this._poly.fire("editstart")},g=function(){y.off("dragstart",d,this),y.off("dragend",g,this),y.off("touchmove",d,this),this._createMiddleMarker(r,y),this._createMiddleMarker(y,c)},f=function(){d.call(this),g.call(this),this._fireEdit()},y.on("click",f,this).on("dragstart",d,this).on("dragend",g,this).on("touchmove",d,this),this._markerGroup.addLayer(y)},_updatePrevNext:function(r,c){r&&(r._next=c),c&&(c._prev=r)},_getMiddleLatLng:function(r,c){var f=this._poly._map,d=f.project(r.getLatLng()),g=f.project(c.getLatLng());return f.unproject(d._add(g)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(r,c){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=r,L.Util.setOptions(this,c)},addHooks:function(){var r=this._shape;this._shape._map&&(this._map=this._shape._map,r.setStyle(r.options.editing),r._map&&(this._map=r._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var r=this._shape;if(r.setStyle(r.options.original),r._map){this._unbindMarker(this._moveMarker);for(var c=0,f=this._resizeMarkers.length;c<f;c++)this._unbindMarker(this._resizeMarkers[c]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(r,c){var f=new L.Marker.Touch(r,{draggable:!0,icon:c,zIndexOffset:10});return this._bindMarker(f),this._markerGroup.addLayer(f),f},_bindMarker:function(r){r.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(r){r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(r){r.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(r){var c=r.target,f=c.getLatLng();c===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(r){r.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(r){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r),typeof this._getCorners=="function"){var c=this._getCorners(),f=r.target,d=f._cornerIndex;f.setOpacity(0),this._oppositeCorner=c[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),f=this._map.layerPointToLatLng(c);return r.target===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),!1},_onTouchEnd:function(r){r.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getBounds(),c=r.getCenter();this._moveMarker=this._createMarker(c,this.options.moveIcon)},_createResizeMarker:function(){var r=this._getCorners();this._resizeMarkers=[];for(var c=0,f=r.length;c<f;c++)this._resizeMarkers.push(this._createMarker(r[c],this.options.resizeIcon)),this._resizeMarkers[c]._cornerIndex=c},_onMarkerDragStart:function(r){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r);var c=this._getCorners(),f=r.target,d=f._cornerIndex;this._oppositeCorner=c[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(r){var c,f,d=r.target;d===this._moveMarker&&(c=this._shape.getBounds(),f=c.getCenter(),d.setLatLng(f)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,r)},_move:function(r){for(var c,f=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),g=d.getCenter(),_=[],y=0,b=f.length;y<b;y++)c=[f[y].lat-g.lat,f[y].lng-g.lng],_.push([r.lat+c[0],r.lng+c[1]]);this._shape.setLatLngs(_),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(r){var c;this._shape.setBounds(L.latLngBounds(r,this._oppositeCorner)),c=this._shape.getBounds(),this._moveMarker.setLatLng(c.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var r=this._shape.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_toggleCornerMarkers:function(r){for(var c=0,f=this._resizeMarkers.length;c<f;c++)this._resizeMarkers[c].setOpacity(r)},_repositionCornerMarkers:function(){for(var r=this._getCorners(),c=0,f=this._resizeMarkers.length;c<f;c++)this._resizeMarkers[c].setLatLng(r[c])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getLatLng();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(r){if(this._resizeMarkers.length){var c=this._getResizeMarkerPoint(r);this._resizeMarkers[0].setLatLng(c)}this._shape.setLatLng(r),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var r=this._shape.getLatLng(),c=this._getResizeMarkerPoint(r);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(c,this.options.resizeIcon))},_getResizeMarkerPoint:function(r){var c=this._shape._radius*Math.cos(Math.PI/4),f=this._map.project(r);return this._map.unproject([f.x+c,f.y-c])},_resize:function(r){var c=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=c.distanceTo(r):radius=this._map.distance(c,r),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(r,c){var f={};if(r.touches!==void 0){if(!r.touches.length)return;f=r.touches[0]}else if(r.pointerType!=="touch"||(f=r,!this._filterClick(r)))return;var d=this._map.mouseEventToContainerPoint(f),g=this._map.mouseEventToLayerPoint(f),_=this._map.layerPointToLatLng(g);this._map.fire(c,{latlng:_,layerPoint:g,containerPoint:d,pageX:f.pageX,pageY:f.pageY,originalEvent:r})},_filterClick:function(r){var c=r.timeStamp||r.originalEvent.timeStamp,f=L.DomEvent._lastClick&&c-L.DomEvent._lastClick;return f&&f>100&&f<500||r.target._simulatedClick&&!r._simulated?(L.DomEvent.stop(r),!1):(L.DomEvent._lastClick=c,!0)},_onTouchStart:function(r){this._map._loaded&&this._touchEvent(r,"touchstart")},_onTouchEnd:function(r){this._map._loaded&&this._touchEvent(r,"touchend")},_onTouchCancel:function(r){if(this._map._loaded){var c="touchcancel";this._detectIE()&&(c="pointercancel"),this._touchEvent(r,c)}},_onTouchLeave:function(r){this._map._loaded&&this._touchEvent(r,"touchleave")},_onTouchMove:function(r){this._map._loaded&&this._touchEvent(r,"touchmove")},_detectIE:function(){var r=t.navigator.userAgent,c=r.indexOf("MSIE ");if(c>0)return parseInt(r.substring(c+5,r.indexOf(".",c)),10);if(r.indexOf("Trident/")>0){var f=r.indexOf("rv:");return parseInt(r.substring(f+3,r.indexOf(".",f)),10)}var d=r.indexOf("Edge/");return d>0&&parseInt(r.substring(d+5,r.indexOf(".",d)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var r=this._icon,c=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?c.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):c.concat(["touchcancel"]),L.DomUtil.addClass(r,"leaflet-clickable"),L.DomEvent.on(r,"click",this._onMouseClick,this),L.DomEvent.on(r,"keypress",this._onKeyPress,this);for(var f=0;f<c.length;f++)L.DomEvent.on(r,c[f],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var r=t.navigator.userAgent,c=r.indexOf("MSIE ");if(c>0)return parseInt(r.substring(c+5,r.indexOf(".",c)),10);if(r.indexOf("Trident/")>0){var f=r.indexOf("rv:");return parseInt(r.substring(f+3,r.indexOf(".",f)),10)}var d=r.indexOf("Edge/");return d>0&&parseInt(r.substring(d+5,r.indexOf(".",d)),10)}}),L.LatLngUtil={cloneLatLngs:function(r){for(var c=[],f=0,d=r.length;f<d;f++)Array.isArray(r[f])?c.push(L.LatLngUtil.cloneLatLngs(r[f])):c.push(this.cloneLatLng(r[f]));return c},cloneLatLng:function(r){return L.latLng(r.lat,r.lng)}},function(){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(c){var f,d,g=c.length,_=0,y=Math.PI/180;if(g>2){for(var b=0;b<g;b++)f=c[b],d=c[(b+1)%g],_+=(d.lng-f.lng)*y*(2+Math.sin(f.lat*y)+Math.sin(d.lat*y));_=6378137*_*6378137/2}return Math.abs(_)},formattedNumber:function(c,f){var d=parseFloat(c).toFixed(f),g=L.drawLocal.format&&L.drawLocal.format.numeric,_=g&&g.delimiters,y=_&&_.thousands,b=_&&_.decimal;if(y||b){var E=d.split(".");d=y?E[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+y):E[0],b=b||".",E.length>1&&(d=d+b+E[1])}return d},readableArea:function(c,f,y){var g,_,y=L.Util.extend({},r,y);return f?(_=["ha","m"],type=typeof f,type==="string"?_=[f]:type!=="boolean"&&(_=f),g=c>=1e6&&_.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*c,y.km)+" km":c>=1e4&&_.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*c,y.ha)+" ha":L.GeometryUtil.formattedNumber(c,y.m)+" m"):(c/=.836127,g=c>=3097600?L.GeometryUtil.formattedNumber(c/3097600,y.mi)+" mi":c>=4840?L.GeometryUtil.formattedNumber(c/4840,y.ac)+" acres":L.GeometryUtil.formattedNumber(c,y.yd)+" yd"),g},readableDistance:function(c,f,d,g,b){var y,b=L.Util.extend({},r,b);switch(f?typeof f=="string"?f:"metric":d?"feet":g?"nauticalMile":"yards"){case"metric":y=c>1e3?L.GeometryUtil.formattedNumber(c/1e3,b.km)+" km":L.GeometryUtil.formattedNumber(c,b.m)+" m";break;case"feet":c*=3.28083,y=L.GeometryUtil.formattedNumber(c,b.ft)+" ft";break;case"nauticalMile":c*=.53996,y=L.GeometryUtil.formattedNumber(c/1e3,b.nm)+" nm";break;case"yards":default:c*=1.09361,y=c>1760?L.GeometryUtil.formattedNumber(c/1760,b.mi)+" miles":L.GeometryUtil.formattedNumber(c,b.yd)+" yd"}return y},isVersion07x:function(){var c=L.version.split(".");return parseInt(c[0],10)===0&&parseInt(c[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(r,c,f,d){return this._checkCounterclockwise(r,f,d)!==this._checkCounterclockwise(c,f,d)&&this._checkCounterclockwise(r,c,f)!==this._checkCounterclockwise(r,c,d)},_checkCounterclockwise:function(r,c,f){return(f.y-r.y)*(c.x-r.x)>(c.y-r.y)*(f.x-r.x)}}),L.Polyline.include({intersects:function(){var r,c,f,d=this._getProjectedPoints(),g=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(r=g-1;r>=3;r--)if(c=d[r-1],f=d[r],this._lineSegmentsIntersectsRange(c,f,r-2))return!0;return!1},newLatLngIntersects:function(r,c){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(r),c)},newPointIntersects:function(r,c){var f=this._getProjectedPoints(),d=f?f.length:0,g=f?f[d-1]:null,_=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(g,r,_,c?1:0)},_tooFewPointsForIntersection:function(r){var c=this._getProjectedPoints(),f=c?c.length:0;return f+=r||0,!c||f<=3},_lineSegmentsIntersectsRange:function(r,c,f,d){var g,_,y=this._getProjectedPoints();d=d||0;for(var b=f;b>d;b--)if(g=y[b-1],_=y[b],L.LineUtil.segmentsIntersect(r,c,g,_))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var r=[],c=this._defaultShape(),f=0;f<c.length;f++)r.push(this._map.latLngToLayerPoint(c[f]));return r}}),L.Polygon.include({intersects:function(){var r,c,f,d,g=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(r=g.length,c=g[0],f=g[r-1],d=r-2,this._lineSegmentsIntersectsRange(f,c,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(r){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,r);var c;this._toolbars={},L.DrawToolbar&&this.options.draw&&(c=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=c,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(c=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=c,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(r){var c,f=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var g in this._toolbars)this._toolbars.hasOwnProperty(g)&&(c=this._toolbars[g].addToolbar(r))&&(d||(L.DomUtil.hasClass(c,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(c.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),f.appendChild(c));return f},onRemove:function(){for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&this._toolbars[r].removeToolbar()},setDrawingOptions:function(r){for(var c in this._toolbars)this._toolbars[c]instanceof L.DrawToolbar&&this._toolbars[c].setOptions(r)},_toolbarEnabled:function(r){var c=r.target;for(var f in this._toolbars)this._toolbars[f]!==c&&this._toolbars[f].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(r){L.setOptions(this,r),this._modes={},this._actionButtons=[],this._activeMode=null;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(r){var c,f=L.DomUtil.create("div","leaflet-draw-section"),d=0,g=this._toolbarClass||"",_=this.getModeHandlers(r);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=r,c=0;c<_.length;c++)_[c].enabled&&this._initModeHandler(_[c].handler,this._toolbarContainer,d++,g,_[c].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),f.appendChild(this._toolbarContainer),f.appendChild(this._actionsContainer),f},removeToolbar:function(){for(var r in this._modes)this._modes.hasOwnProperty(r)&&(this._disposeButton(this._modes[r].button,this._modes[r].handler.enable,this._modes[r].handler),this._modes[r].handler.disable(),this._modes[r].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var c=0,f=this._actionButtons.length;c<f;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(r,c,f,d,g){var _=r.type;this._modes[_]={},this._modes[_].handler=r,this._modes[_].button=this._createButton({type:_,title:g,className:d+"-"+_,container:c,callback:this._modes[_].handler.enable,context:this._modes[_].handler}),this._modes[_].buttonIndex=f,this._modes[_].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(r){var c=L.DomUtil.create("a",r.className||"",r.container),f=L.DomUtil.create("span","sr-only",r.container);c.href="#",c.appendChild(f),r.title&&(c.title=r.title,f.innerHTML=r.title),r.text&&(c.innerHTML=r.text,f.innerHTML=r.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(c,"click",L.DomEvent.stopPropagation).on(c,"mousedown",L.DomEvent.stopPropagation).on(c,"dblclick",L.DomEvent.stopPropagation).on(c,"touchstart",L.DomEvent.stopPropagation).on(c,"click",L.DomEvent.preventDefault).on(c,d,r.callback,r.context),c},_disposeButton:function(r,c){var f=this._detectIOS()?"touchstart":"click";L.DomEvent.off(r,"click",L.DomEvent.stopPropagation).off(r,"mousedown",L.DomEvent.stopPropagation).off(r,"dblclick",L.DomEvent.stopPropagation).off(r,"touchstart",L.DomEvent.stopPropagation).off(r,"click",L.DomEvent.preventDefault).off(r,f,c)},_handlerActivated:function(r){this.disable(),this._activeMode=this._modes[r.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(r){var c,f,d,g,_=this._actionsContainer,y=this.getActions(r),b=y.length;for(f=0,d=this._actionButtons.length;f<d;f++)this._disposeButton(this._actionButtons[f].button,this._actionButtons[f].callback);for(this._actionButtons=[];_.firstChild;)_.removeChild(_.firstChild);for(var E=0;E<b;E++)"enabled"in y[E]&&!y[E].enabled||(c=L.DomUtil.create("li","",_),g=this._createButton({title:y[E].title,text:y[E].text,container:c,callback:y[E].callback,context:y[E].context}),this._actionButtons.push({button:g,callback:y[E].callback}))},_showActionsToolbar:function(){var r=this._activeMode.buttonIndex,c=this._lastButtonIndex,f=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=f+"px",r===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),r===c&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(r){this._map=r,this._popupPane=r._panes.popupPane,this._visible=!1,this._container=r.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(r){return this._container?(r.subtext=r.subtext||"",r.subtext.length!==0||this._singleLineLabel?r.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(r.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+r.subtext+"</span><br />":"")+"<span>"+r.text+"</span>",r.text||r.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(r){var c=this._map.latLngToLayerPoint(r),f=this._container;return this._container&&(this._visible&&(f.style.visibility="inherit"),L.DomUtil.setPosition(f,c)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(r){for(var c in this.options)this.options.hasOwnProperty(c)&&r[c]&&(r[c]=L.extend({},this.options[c],r[c]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,r)},getModeHandlers:function(r){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(r,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(r,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(r,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(r,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(r,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(r,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(r){return[{enabled:r.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:r.completeShape,context:r},{enabled:r.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:r.deleteLastVertex,context:r},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(r){L.setOptions(this,r);for(var c in this._modes)this._modes.hasOwnProperty(c)&&r.hasOwnProperty(c)&&this._modes[c].handler.setOptions(r[c])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(r){r.edit&&(r.edit.selectedPathOptions===void 0&&(r.edit.selectedPathOptions=this.options.edit.selectedPathOptions),r.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,r.edit.selectedPathOptions)),r.remove&&(r.remove=L.extend({},this.options.remove,r.remove)),r.poly&&(r.poly=L.extend({},this.options.poly,r.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,r),this._selectedFeatureCount=0},getModeHandlers:function(r){var c=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(r,{featureGroup:c,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(r,{featureGroup:c}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(r){var c=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return r.removeAllLayers&&c.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),c},addToolbar:function(r){var c=L.Toolbar.prototype.addToolbar.call(this,r);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),c},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var r,c=this.options.featureGroup,f=c.getLayers().length!==0;this.options.edit&&(r=this._modes[L.EditToolbar.Edit.TYPE].button,f?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(r=this._modes[L.EditToolbar.Delete.TYPE].button,f?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(r,c){if(L.Handler.prototype.initialize.call(this,r),L.setOptions(this,c),this._featureGroup=c.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),r._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(r){this._revertLayer(r)},this)},save:function(){var r=new L.LayerGroup;this._featureGroup.eachLayer(function(c){c.edited&&(r.addLayer(c),c.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:r})},_backupLayer:function(r){var c=L.Util.stamp(r);this._uneditedLayerProps[c]||(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?this._uneditedLayerProps[c]={latlngs:L.LatLngUtil.cloneLatLngs(r.getLatLngs())}:r instanceof L.Circle?this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng()),radius:r.getRadius()}:(r instanceof L.Marker||r instanceof L.CircleMarker)&&(this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(r){var c=L.Util.stamp(r);r.edited=!1,this._uneditedLayerProps.hasOwnProperty(c)&&(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?r.setLatLngs(this._uneditedLayerProps[c].latlngs):r instanceof L.Circle?(r.setLatLng(this._uneditedLayerProps[c].latlng),r.setRadius(this._uneditedLayerProps[c].radius)):(r instanceof L.Marker||r instanceof L.CircleMarker)&&r.setLatLng(this._uneditedLayerProps[c].latlng),r.fire("revert-edited",{layer:r}))},_enableLayerEdit:function(r){var c,f,d=r.layer||r.target||r;this._backupLayer(d),this.options.poly&&(f=L.Util.extend({},this.options.poly),d.options.poly=f),this.options.selectedPathOptions&&(c=L.Util.extend({},this.options.selectedPathOptions),c.maintainColor&&(c.color=d.options.color,c.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=c),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(r){var c=r.layer||r.target||r;c.edited=!1,c.editing&&c.editing.disable(),delete c.options.editing,delete c.options.original,this._selectedPathOptions&&(c instanceof L.Marker?this._toggleMarkerHighlight(c):(c.setStyle(c.options.previousOptions),delete c.options.previousOptions)),c instanceof L.Marker?(c.dragging.disable(),c.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):c.editing.disable()},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_onMarkerDragEnd:function(r){var c=r.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_onTouchMove:function(r){var c=r.originalEvent.changedTouches[0],f=this._map.mouseEventToLayerPoint(c),d=this._map.layerPointToLatLng(f);r.target.setLatLng(d)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(r,c){if(L.Handler.prototype.initialize.call(this,r),L.Util.setOptions(this,c),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(r){this._deletableLayers.addLayer(r),r.fire("revert-deleted",{layer:r})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(r){this._removeLayer({layer:r})},this),this.save()},_enableLayerDelete:function(r){(r.layer||r.target||r).on("click",this._removeLayer,this)},_disableLayerDelete:function(r){var c=r.layer||r.target||r;c.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(c)},_removeLayer:function(r){var c=r.layer||r.target||r;this._deletableLayers.removeLayer(c),this._deletedLayers.addLayer(c),c.fire("deleted")},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function eI(t,e,s,a){let r=Sr.stringify(t);if(s=="marker"||s=="polyline"){var c=pf(t,a);r=Sr.stringify(c)}if(s=="circle"){var c=pf(t,e/1e3);r=Sr.stringify(c)}return r}function nI(t){const e=localStorage.getItem("mapState");if(e){const s=JSON.parse(e);t.setView([s.center.lat,s.center.lng],s.zoom)}else t.setView([48.8566,2.3522],13)}L.GeometryUtil=L.extend(L.GeometryUtil||{},{readableArea:function(t,e,d){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},r,c,f,d=L.Util.extend({},a,d);return e?(c=["ha","m"],f=typeof e,f==="string"?c=[e]:f!=="boolean"&&(c=e),t>=1e6&&c.indexOf("km")!==-1?r=L.GeometryUtil.formattedNumber(t*1e-6,d.km)+" km":t>=1e4&&c.indexOf("ha")!==-1?r=L.GeometryUtil.formattedNumber(t*1e-4,d.ha)+" ha":r=L.GeometryUtil.formattedNumber(t,d.m)+" m"):(t/=.836127,t>=3097600?r=L.GeometryUtil.formattedNumber(t/3097600,d.mi)+" mi":t>=4840?r=L.GeometryUtil.formattedNumber(t/4840,d.ac)+" acres":r=L.GeometryUtil.formattedNumber(t,d.yd)+" yd"),r}});/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const zs=(t,e)=>{e.split(" ").forEach(s=>{t.classList.add(s)})},Us=(t,e)=>{e.split(" ").forEach(s=>{t.classList.remove(s)})},py=ye.Marker.extend({initialize(t,e){ye.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon(){const t=this.options;let e="";t.color!==void 0&&(e+=`stroke:${t.color};`),t.weight!==void 0&&(e+=`stroke-width:${t.weight};`),t.fillColor!==void 0&&(e+=`fill:${t.fillColor};`),t.fillOpacity!==void 0&&(e+=`fill-opacity:${t.fillOpacity};`),t.opacity!==void 0&&(e+=`opacity:${t.opacity};`);const s=this._getIconSVG(t,e);this._locationIcon=ye.divIcon({className:s.className,html:s.svg,iconSize:[s.w,s.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const s=t.radius,a=t.weight,r=s+a,c=r*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${c}" height="${c}" version="1.1" viewBox="-${r} -${r} ${c} ${c}"><circle r="`+s+'" style="'+e+'" /></svg>',w:c,h:c}},setStyle(t){ye.setOptions(this,t),this.createIcon()}}),iI=py.extend({initialize(t,e,s){ye.setOptions(this,s),this._latlng=t,this._heading=e,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const s=t.radius,a=t.width+t.weight,r=(s+t.depth+t.weight)*2,c=`M0,0 l${t.width/2},${t.depth} l-${a},0 z`,f=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${r}" version="1.1" viewBox="-${a/2} 0 ${a} ${r}" style="${f}"><path d="`+c+'" style="'+e+'" /></svg>',w:a,h:r}}}),rI=ye.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:py,compassClass:iI,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(t,e){const s=ye.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);s.title=e.strings.title,s.href="#",s.setAttribute("role","button");const a=ye.DomUtil.create(e.iconElementTag,e.icon,s);if(e.strings.text!==void 0){const r=ye.DomUtil.create(e.textElementTag,"leaflet-locate-text",s);r.textContent=e.strings.text,s.classList.add("leaflet-locate-text-active"),s.parentNode.style.display="flex",e.icon.length>0&&a.classList.add("leaflet-locate-icon")}return{link:s,icon:a}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(t){for(const e in t)typeof this.options[e]=="object"?ye.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=ye.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=ye.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=ye.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(t){const e=ye.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new ye.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const s=this.options.createButtonCallback(e,this.options);return this._link=s.link,this._icon=s.icon,ye.DomEvent.on(this._link,"click",function(a){ye.DomEvent.stopPropagation(a),ye.DomEvent.preventDefault(a),this._onClick()},this).on(this._link,"dblclick",ye.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let s=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(s=t?e.inView:e.inViewNotFollowing),e[s]&&(s=e[s]),s){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){const e=this,s=function(){ye.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(a){a==="granted"&&s()}):s()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?ye.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&ye.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),ye.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&this._compassHeading!==null){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){const f=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(f):this._circle=ye.circle(e,t,f).addTo(this._layer)}let s,a;if(this.options.metric?(s=t.toFixed(0),a=this.options.strings.metersUnit):(s=(t*3.2808399).toFixed(0),a=this.options.strings.feetUnit),this.options.drawMarker){const f=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(f)):this._marker=new this.options.markerClass(e,f).addTo(this._layer)}this._drawCompass();const r=this.options.strings.popup;function c(){return typeof r=="string"?ye.Util.template(r,{distance:s,unit:a}):typeof r=="function"?r({distance:s,unit:a}):r}this.options.showPopup&&r&&this._marker&&this._marker.bindPopup(c())._popup.setLatLng(e),this.options.showPopup&&r&&this._compass&&this._compass.bindPopup(c())._popup.setLatLng(e)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,ye.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){t=="requesting"?(Us(this._container,"active following"),zs(this._container,"requesting"),Us(this._icon,this.options.icon),zs(this._icon,this.options.iconLoading)):t=="active"?(Us(this._container,"requesting following"),zs(this._container,"active"),Us(this._icon,this.options.iconLoading),zs(this._icon,this.options.icon)):t=="following"&&(Us(this._container,"requesting"),zs(this._container,"active following"),Us(this._icon,this.options.iconLoading),zs(this._icon,this.options.icon))},_cleanClasses(){ye.DomUtil.removeClass(this._container,"requesting"),ye.DomUtil.removeClass(this._container,"active"),ye.DomUtil.removeClass(this._container,"following"),Us(this._icon,this.options.iconLoading),zs(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function sI(t){return{_onZoomEnd:function(){this._markers!=null&&this._updateGuide()},position:"topleft",draw:{polygon:{drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{}},circlemarker:!1,circle:!0,rectangle:!0},edit:{featureGroup:t,remove:!1}}}const oI={__name:"Map",props:{radius:{type:Number,default:1},wkt:String,height:{type:String,default:"100vh"},editable:{type:Boolean,default:!0}},emits:["wkt","geojson"],setup(t,{emit:e}){const s=t,a=Li(),r=Li(new Wr.FeatureGroup),c=Mt(1),f=Mt(null),d=Mt(s.editable),g=ht(()=>!!s.wkt),_=ht(()=>"height: "+s.height+";");s.wkt&&(f.value=s.wkt,Wr.geoJSON().addTo(r.value).addData(Sr.parse(f.value))),c.value=s.radius,es(()=>{c.value=s.radius,f.value=s.wkt,g.value&&Wr.geoJSON().addTo(r.value).addData(Sr.parse(f.value))});const y=e;return Bi(()=>{a.value=Wr.map("map"),nI(a.value),Wr.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(a.value),a.value.addLayer(r.value),g.value&&a.value.fitBounds(r.value.getBounds()),d.value&&(a.value.addControl(new Wr.Control.Draw(sI(r.value))),new rI().addTo(a.value)),a.value.on(Wr.Draw.Event.CREATED,b=>{let E=b.layer;r.value.clearLayers(),r.value.addLayer(E);let T=E.toGeoJSON();ic(T)||(T=qS(T));const I=eI(T,b.layerType=="circle"?E.getRadius():null,b.layerType,c.value);(b.layerType=="marker"||b.layerType=="polyline")&&Wr.geoJSON().addTo(r.value).addData(Sr.parse(I)),y("wkt",I)}),window.addEventListener("beforeunload",function(b){const E={center:a.value.getCenter(),zoom:a.value.getZoom()};localStorage.setItem("mapState",JSON.stringify(E))})}),(b,E)=>(At(),jt("div",{id:"map",style:to(_.value)},null,4))}},my=gs(oI,[["__scopeId","data-v-ab266a7c"]]),aI={class:"container-fluid"},lI={class:"row"},uI={class:"col-12 col-lg-6 col-md-6"},cI={class:"col-12 col-lg-6 col-md-6"},hI={__name:"MapListWidget",setup(t){const e=as.getInstance();return(s,a)=>(At(),jt("div",aI,[_t("div",lI,[_t("div",uI,[qt(my,{radius:tt(e).radius.value,height:"100vh",wkt:tt(e).wkt.value,editable:!0,onWkt:a[0]||(a[0]=r=>tt(e).wkt.value=r)},null,8,["radius","wkt"])]),_t("div",cI,[qt(Qf,{nbTaxonPerLine:2})])])]))}},fI={key:0},dI={key:1},pI={__name:"ListWidget",setup(t){const e=as.getInstance();return(s,a)=>(At(),jt("div",null,[tt(e).wkt.value.length>0?(At(),jt("div",fI,[qt(Qf,{nbTaxonPerLine:4})])):(At(),jt("div",dI,a[0]||(a[0]=[_t("h2",{class:"col-12 text-center m-3"},"Aucune gomtrie fournie !",-1)])))]))}},mI=["for"],gI=["id"],Wm={__name:"DateFilter",props:{label:{type:String,required:!0},id:String,currentDate:Date},emits:["update:date"],setup(t,{emit:e}){const s=t,a=Mt(null),r=e;return se(a,()=>{r("update:date",a.value)}),(c,f)=>(At(),jt(ge,null,[_t("label",{for:s.id},te(s.label),9,mI),mn(_t("input",{id:s.id,class:"form-control",type:"date","onUpdate:modelValue":f[0]||(f[0]=d=>a.value=d)},null,8,gI),[[rs,a.value]])],64))}},_I={class:"row"},vI={for:"radius",class:"form-label col-8"},yI={__name:"BufferSizeFilter",props:{radius:{type:Number,required:!0}},emits:["update:radius"],setup(t,{emit:e}){const a=Mt(t.radius),r=e;return se(a,()=>{r("update:radius",a.value)}),(c,f)=>(At(),jt("div",_I,[_t("label",vI,te(c.$t("bufferSize"))+" "+te(a.value)+" km",1),mn(_t("input",{type:"range",class:"form-range",min:"1",max:"100","onUpdate:modelValue":f[0]||(f[0]=d=>a.value=d),id:"radius"},null,512),[[rs,a.value]])]))}},bI=gs(yI,[["__scopeId","data-v-c7a7272b"]]),wI={class:"text-center col-12"},LI={class:"sourceParam"},EI={for:"sourceName"},kI=["value"],xI={class:"parameters"},TI=["for"],CI=["placeholder","onUpdate:modelValue"],SI=["type","placeholder","onUpdate:modelValue"],II=["onUpdate:modelValue"],PI=["value"],NI={key:3,class:"text-danger"},OI={__name:"SourceFilter",props:{sourceName:{type:String,required:!0}},emits:["sourceName","params"],setup(t,{emit:e}){const s={GBIF:[{name:"API_ENPOINT",label:"Adresse de l'API du GBIF",type:String,default:"https://api.gbif.org/v1"}],GeoNature:[{name:"EXPORT_API_ENDPOINT",label:"Adresse de l'API d'un export GeoNature",type:String,default:"http://localhost:8000/exports/api/20"}]},r=Mt(t.sourceName);let c=Yn(Object.fromEntries(s[r.value].map(g=>[g.name,g.default])));se([r],()=>{c=Yn(Object.fromEntries(s[r.value].map(g=>[g.name,g.default])))});const f=e;function d(g){f("sourceName",r.value),f("params",c)}return Bi(()=>{f("sourceName",r.value),f("params",c)}),(g,_)=>{const y=$o,b=ME,E=Bw;return At(),jt(ge,null,[_t("div",wI,[mn((At(),Fe(y,{variant:"primary",size:"lg",class:"col-12 mb-3"},{default:Ee(()=>[_[1]||(_[1]=_t("i",{class:"fa fa-leaf"},null,-1)),_[2]||(_[2]=tn()),_[3]||(_[3]=_t("br",null,null,-1)),tn(" "+te(g.$t("source.modify")),1)]),_:1})),[[E,void 0,void 0,{"modal-center":!0}]])]),qt(b,{id:"modal-center",centered:"",title:g.$t("source.title"),onOk:d},{default:Ee(()=>[_t("div",LI,[_t("label",EI,te(g.$t("source.select")),1),mn(_t("select",{"onUpdate:modelValue":_[0]||(_[0]=T=>r.value=T),class:"form-select"},[(At(),jt(ge,null,Zs(s,(T,I)=>_t("option",{value:I},te(I),9,kI)),64))],512),[[Ho,r.value]]),(At(!0),jt(ge,null,Zs(s[r.value],T=>(At(),jt("div",xI,[_t("label",{for:T.name},te(T.label),9,TI),T.type===String?mn((At(),jt("input",{key:0,class:"form-control",placeholder:T.default,"onUpdate:modelValue":I=>tt(c)[T.name]=I},null,8,CI)),[[rs,tt(c)[T.name]]]):T.type===Number?mn((At(),jt("input",{key:1,type:T.type,class:"form-control",placeholder:T.default,"onUpdate:modelValue":I=>tt(c)[T.name]=I},null,8,SI)),[[Wb,tt(c)[T.name]]]):Array.isArray(T.type)?mn((At(),jt("select",{key:2,class:"form-select","onUpdate:modelValue":I=>tt(c)[T.name]=I},[(At(!0),jt(ge,null,Zs(T.type,I=>(At(),jt("option",{key:I,value:I},te(I),9,PI))),128))],8,II)),[[Ho,tt(c)[T.name]]]):(At(),jt("div",NI,"Unsupported input type"))]))),256))])]),_:1},8,["title"])],64)}}},MI={class:"card"},AI={class:"card-header"},RI={class:"card-body"},DI={id:"filters"},BI={class:"col-lg-12"},FI={class:"row mt-3"},zI={class:"col-6"},UI={class:"col-6"},$I={class:"col mt-3"},GI={__name:"Filters",setup(t){const e=as.getInstance(),s=Mt(e.radius.value),a=Mt(e.dateMin.value),r=Mt(e.dateMax.value),c=Mt(e.connector.value.name),f=Mt(e.connector.value.params);return se([s,a,r,c,f],()=>{e.radius.value=s.value,e.dateMin.value=a.value,e.dateMax.value=r.value,e.connector.value=sf(c.value,f.value)}),(d,g)=>(At(),jt(ge,null,[_t("div",MI,[_t("h4",AI,te(d.$t("parameters")),1),_t("div",RI,[_t("div",DI,[_t("div",BI,[qt(bI,{radius:s.value,"onUpdate:radius":g[0]||(g[0]=_=>s.value=_)},null,8,["radius"])]),_t("div",FI,[_t("div",zI,[qt(Wm,{id:"startDate",label:"Date min.",currentDate:a.value,"onUpdate:date":g[1]||(g[1]=_=>a.value=_)},null,8,["currentDate"])]),_t("div",UI,[qt(Wm,{id:"endDate",label:"Date max.",currentDate:r.value,"onUpdate:date":g[2]||(g[2]=_=>r.value=_)},null,8,["currentDate"])])])])])]),_t("div",$I,[qt(OI,{sourceName:c.value,onParams:g[3]||(g[3]=_=>f.value=_),onSourceName:g[4]||(g[4]=_=>c.value=_)},null,8,["sourceName"])])],64))}},HI={class:"input-group-text"},VI=["value"],qI={class:"input-group mb-3"},ZI={class:"input-group-text"},WI={class:"input-group-text"},YI={class:"input-group"},jI={class:"input-group-text"},XI={value:""},KI={value:"list"},JI={value:"config"},QI={__name:"HTMLBuilder",props:{link:String,required:!0},emits:["update:width","update:height","update:typeWidget"],setup(t,{emit:e}){const s=Mt("100wv"),a=Mt("100vh"),r=Mt(""),c=t,f=e;se([r,s,a],()=>{f("update:width",s.value),f("update:height",a.value),f("update:typeWidget",r.value)});const d=ht(()=>`<embed src="${c.link}" type="" style="width: ${s.value}; height: ${a.value}" />`);return(g,_)=>(At(),jt(ge,null,[_t("span",HI,[_[3]||(_[3]=_t("i",{class:"bi bi-code-slash"},null,-1)),tn(" "+te(g.$t("browserIntegration")),1)]),_t("textarea",{class:"form-control",placeholder:"Embed URL","aria-label":".form-control-lg example",value:d.value},null,8,VI),_t("div",qI,[_t("span",ZI,te(g.$t("size.width")),1),mn(_t("input",{class:"form-control form-control-lg",type:"text",placeholder:"Width","aria-label":".form-control-lg example","onUpdate:modelValue":_[0]||(_[0]=y=>s.value=y)},null,512),[[rs,s.value]]),_t("span",WI,te(g.$t("size.height")),1),mn(_t("input",{class:"form-control form-control-lg",type:"text",placeholder:"Height","aria-label":".form-control-lg example","onUpdate:modelValue":_[1]||(_[1]=y=>a.value=y)},null,512),[[rs,a.value]])]),_t("div",YI,[_t("span",jI,te(g.$t("typeWidget.title")),1),mn(_t("select",{class:"form-select","onUpdate:modelValue":_[2]||(_[2]=y=>r.value=y)},[_t("option",XI,te(g.$t("typeWidget.default")),1),_t("option",KI,te(g.$t("typeWidget.list")),1),_t("option",JI,te(g.$t("typeWidget.config")),1)],512),[[Ho,r.value]])])],64))}},tP={class:"row justify-content-center",style:{padding:"1em"}},eP={class:"col-12 col-lg-12 col-md-6 text-center"},nP={for:"shareButton"},iP={key:0},rP={key:1},sP={__name:"Share",setup(t){const e=as.getInstance(),s=Mt("100wv"),a=Mt("100vh"),r=Mt(""),c=window.location.origin,f=window.location.pathname,d=ht(()=>{switch(r.value){case"list":return"/list";case"config":return"/config";default:return"/"}}),g=ht(()=>{const b=Object.entries(e.getParams()).filter(([T,I])=>I!=null&&T!=="connector").map(([T,I])=>`${T}=${I}`);e.connector.value.params&&(Object.entries(e.connector.value.params).forEach(([T,I])=>{I!=null&&b.push(`${T}=${I}`)}),b.push(`connector=${e.connector.value.name}`));const E=b.length?`?${b.join("&")}`:"";return`${c}${f}#${d.value}${E}`}),_=Mt(!1);function y(){navigator.clipboard.writeText(g.value),_.value=!0,setTimeout(()=>{_.value=!1},3e3)}return(b,E)=>{const T=ZL;return At(),Fe(T,{text:b.$t("share"),variant:"primary",class:"me-2","auto-close":"outside","menu-class":"share_modal"},{"button-content":Ee(()=>[E[4]||(E[4]=_t("i",{class:"bi bi-share"},null,-1)),tn(" "+te(b.$t("share")),1)]),default:Ee(()=>[_t("div",tP,[_t("div",eP,[_t("label",nP,te(b.$t("shareLink")),1),_t("button",{class:"btn btn-outline-secondary mb-3",id:"shareButton",onClick:E[0]||(E[0]=I=>y())},[_.value?(At(),jt("div",iP,[E[5]||(E[5]=_t("i",{class:"bi bi-check2-circle"},null,-1)),tn(" "+te(b.$t("copied"))+" ! ",1)])):(At(),jt("div",rP,[E[6]||(E[6]=_t("i",{class:"bi bi-link-45deg"},null,-1)),tn(" "+te(b.$t("copy")),1)]))]),qt(QI,{link:g.value,"onUpdate:typeWidget":E[1]||(E[1]=I=>r.value=I),"onUpdate:width":E[2]||(E[2]=I=>s.value=I),"onUpdate:height":E[3]||(E[3]=I=>a.value=I)},null,8,["link"])])])]),_:1},8,["text"])}}},oP={},aP={class:"locale-changer input-group"},lP=["value"];function uP(t,e){return At(),jt("div",aP,[e[1]||(e[1]=_t("label",{for:"languageSelect",class:"input-group-text"},[_t("i",{class:"bi bi-translate"})],-1)),mn(_t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.$i18n.locale=s),class:"form-select",id:"languageSelect"},[(At(!0),jt(ge,null,Zs(t.$i18n.availableLocales,s=>(At(),jt("option",{key:`locale-${s}`,value:s},te(s),9,lP))),128))],512),[[Ho,t.$i18n.locale]])])}const cP=gs(oP,[["render",uP]]),hP={},fP={class:"card small"},dP={class:"card-header"},pP=["innerHTML"];function mP(t,e){return At(),jt("div",fP,[_t("div",dP,[_t("h4",null,te(t.$t("howto")),1)]),_t("div",{class:"card-body",style:{"overflow-y":"scroll",height:"30vh"},innerHTML:t.$t("intro")},null,8,pP)])}const gP=gs(hP,[["render",mP]]),_P={class:"container-fluid"},vP={class:"row"},yP={class:"col-12 col-lg-3 col-md-2"},bP={class:"col-12 col-lg-6 col-md-6"},wP={class:"col-12 col-lg-3 col-md-4"},LP={__name:"ConfiguratorWidget",setup(t){const e=as.getInstance();return(s,a)=>{const r=BE,c=UE,f=AE,d=FE,g=ML,_=DE,y=Pw;return At(),jt(ge,null,[_t("header",null,[mn((At(),Fe(_,{toggleable:"lg",variant:"light",class:"mb-3"},{default:Ee(()=>[qt(r,{href:"#/config"},{default:Ee(()=>[tn("   "+te(s.$t("title")),1)]),_:1}),qt(c,{target:"nav-collapse"}),qt(g,{id:"nav-collapse","is-nav":""},{default:Ee(()=>[qt(d,{class:"ms-auto mb-2 mb-lg-0"},{default:Ee(()=>[qt(f,{class:"d-flex",right:""},{default:Ee(()=>[qt(sP),qt(cP)]),_:1})]),_:1})]),_:1})]),_:1})),[[y,"light"]])]),_t("main",_P,[_t("div",vP,[_t("div",yP,[qt(gP,{class:"mb-2"}),qt(GI,{sourceName:tt(e).connector.value.name,radius:tt(e).radius.value},null,8,["sourceName","radius"])]),_t("div",bP,[qt(my,{radius:tt(e).radius.value,height:"100vh",wkt:tt(e).wkt.value,onWkt:a[0]||(a[0]=b=>tt(e).wkt.value=b)},null,8,["radius","wkt"])]),_t("div",wP,[qt(Qf,{"nb-taxon-per-line":1})])])])],64)}}},EP=gs(LP,[["__scopeId","data-v-153bd8d5"]]),kP={},xP={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},TP={class:"text-center"},CP={class:"lead"};function SP(t,e){return At(),jt("div",xP,[_t("div",TP,[e[0]||(e[0]=_t("h1",{class:"display-1"},"404",-1)),_t("p",CP,te(t.$t("error404.title")),1),_t("p",null,te(t.$t("error404.subtitle")),1)])])}const IP=gs(kP,[["render",SP]]),PP={fr:{title:"Biodiversit autour de moi",subtitle:"Rechercher des espces autour de moi",howto:"Comment a marche ?",intro:`<p>
        <em>Biodiversit autour de moi</em> est un widget ddi 
        <strong>l'exploration des espces <i class="bi bi-search"></i></strong>
        ! Cette interface vous permet de
        <strong
          >rechercher les espces observes dans une zone
          gographique spcifique <i class="bi bi-geo-alt"></i></strong
        >.
      </p>
      <p>
        <strong>Utilisez la carte interactive <i class="bi bi-map"></i></strong>
        pour slectionner la zone o vous souhaitez effectuer votre recherche.
        La
        <strong
          ><i class="fa fa-kiwi-bird"></i> liste des espces
          <i class="fa fa-leaf"></i
        ></strong>
        trouves dans la zone slectionne s'affichera  ct de la carte
        <i class="bi bi-list-ul"></i>.
      </p>
      <p>
        Vous pouvez galement
        <strong>partager vos rsultats <i class="bi bi-share"></i></strong>
        pour collaborer avec d'autres utilisateurs.
      </p>`,parameters:"Paramtres",filters:"Filtres",filtersTitle:"Filtres",radius:"Rayon",bufferSize:"Taille du buffer :",dateMin:"Date Min",dateMax:"Date Max",search:"Rechercher",reset:"Rinitialiser",searchResults:"Rsultats de la recherche",noResults:"Aucun rsultat",previousPage:"Prcedent",nextPage:"Suivant",loading:"Chargement en cours ...",noObservations:"Aucune observation trouve",noGeometry:"Aucune gometrie trouve",error404:{title:"Page introuvable",subtitle:"La page que vous recherchez n'existe pas"},browserIntegration:"Intgrer le widget dans votre site",drawGeometry:"Dessiner une zone pour afficher les espces",size:{width:"Largeur",height:"Hauteur"},embed:"Code HTML",typeWidget:{title:"Type de widget",default:"Par dfaut",list:"Liste d'espces",config:"Configurateur"},copy:"Copier",copied:"Copi",share:"Partager",shareLink:"Partager un lien",source:{title:"Source de donnes",select:"Slectionner une source :",modify:"Modifier la source de donnes"},desc:"Dcroissant",asc:"Croissant",taxon:{scientificName:"Nom scientifique",vernacularName:"Nom vernaculaire",nbObservations:"Nombre d'observations",lastSeenDate:"Date de la dernire observation",taxonFilter:"Filtre par taxon",seeMore:"En savoir plus"}}},NP={en:{title:"Biodiversity around me",subtitle:"Search for species around me",howto:"How does it work?",intro:`<p><em>Biodiversity around me</em> is a widget dedicated to
      <strong>exploring species <i class="bi bi-search"></i></strong>
      ! This interface allows you to
      <strong
        >search species observed in a specific geographic area <i class="bi bi-geo-alt"></i></strong
      >.
    </p>
    <p>
      <strong>Use the interactive map <i class="bi bi-map"></i></strong>
      to select the area where you want to perform your search. The
      <strong
        ><i class="fa fa-kiwi-bird"></i> list of species
        <i class="fa fa-leaf"></i
      ></strong>
      found in the selected area will be displayed next to the map
      <i class="bi bi-list-ul"></i>.
    </p>
    <p>
      You can also
      <strong>share your results <i class="bi bi-share"></i></strong>
      to collaborate with other users.
    </p>
    `,parameters:"Parameters",filters:"Filters",filtersTitle:"Filters",radius:"Radius",bufferSize:"Buffer Size:",dateMin:"Date Min",dateMax:"Date Max",search:"Search",reset:"Reset",searchResults:"Search results",noResults:"No results",previousPage:"Previous",nextPage:"Next",loading:"Loading...",noObservations:"No observation found",noGeometry:"No geometry found",error404:{title:"Page not found",subtitle:"The page you are looking for does not exist"},browserIntegration:"Integrate the widget into your site",drawGeometry:"Draw an area to display species",size:{width:"Width",height:"Height"},embed:"Embed",typeWidget:{title:"Type of widget",default:"Default",list:"List of species",config:"Configuration"},copy:"Copy",copied:"Copied",share:"Share",shareLink:"Share a link",source:{title:"Data Source",select:"Select a data source:",modify:"Change the data source"},desc:"Dcroissant",asc:"Croissant",taxon:{scientificName:"Scientific Name",vernacularName:"Vernacular name",nbObservations:"Number of observations",lastSeenDate:"Last observation date",taxonFilter:"Filter by taxon",seeMore:"See more"}}},OP=K1({locale:"fr",fallbackLocale:"en",messages:{...PP,...NP}}),MP=[{path:"/",component:hI},{path:"/list",component:pI},{path:"/config",component:EP},{path:"/:pathMatch(.*)*",name:"NotFound",component:IP}],AP=tS({history:IC(),routes:MP});b_(ax).use(AP).use(OP).use(QE()).mount("#app");
